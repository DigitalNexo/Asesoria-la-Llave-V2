function oue(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MC={exports:{}},Ux={},RC={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X6;function lue(){if(X6)return fr;X6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(Q){return Q===null||typeof Q!="object"?null:(Q=f&&Q[f]||Q["@@iterator"],typeof Q=="function"?Q:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function x(Q,I,V){this.props=Q,this.context=I,this.refs=v,this.updater=V||h}x.prototype.isReactComponent={},x.prototype.setState=function(Q,I){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,I,"setState")},x.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function b(){}b.prototype=x.prototype;function S(Q,I,V){this.props=Q,this.context=I,this.refs=v,this.updater=V||h}var E=S.prototype=new b;E.constructor=S,y(E,x.prototype),E.isPureReactComponent=!0;var _=Array.isArray,C=Object.prototype.hasOwnProperty,O={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function A(Q,I,V){var J,re={},fe=null,pe=null;if(I!=null)for(J in I.ref!==void 0&&(pe=I.ref),I.key!==void 0&&(fe=""+I.key),I)C.call(I,J)&&!M.hasOwnProperty(J)&&(re[J]=I[J]);var xe=arguments.length-2;if(xe===1)re.children=V;else if(1<xe){for(var de=Array(xe),we=0;we<xe;we++)de[we]=arguments[we+2];re.children=de}if(Q&&Q.defaultProps)for(J in xe=Q.defaultProps,xe)re[J]===void 0&&(re[J]=xe[J]);return{$$typeof:t,type:Q,key:fe,ref:pe,props:re,_owner:O.current}}function P(Q,I){return{$$typeof:t,type:Q.type,key:I,ref:Q.ref,props:Q.props,_owner:Q._owner}}function F(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function R(Q){var I={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(V){return I[V]})}var $=/\/+/g;function q(Q,I){return typeof Q=="object"&&Q!==null&&Q.key!=null?R(""+Q.key):I.toString(36)}function z(Q,I,V,J,re){var fe=typeof Q;(fe==="undefined"||fe==="boolean")&&(Q=null);var pe=!1;if(Q===null)pe=!0;else switch(fe){case"string":case"number":pe=!0;break;case"object":switch(Q.$$typeof){case t:case e:pe=!0}}if(pe)return pe=Q,re=re(pe),Q=J===""?"."+q(pe,0):J,_(re)?(V="",Q!=null&&(V=Q.replace($,"$&/")+"/"),z(re,I,V,"",function(we){return we})):re!=null&&(F(re)&&(re=P(re,V+(!re.key||pe&&pe.key===re.key?"":(""+re.key).replace($,"$&/")+"/")+Q)),I.push(re)),1;if(pe=0,J=J===""?".":J+":",_(Q))for(var xe=0;xe<Q.length;xe++){fe=Q[xe];var de=J+q(fe,xe);pe+=z(fe,I,V,de,re)}else if(de=m(Q),typeof de=="function")for(Q=de.call(Q),xe=0;!(fe=Q.next()).done;)fe=fe.value,de=J+q(fe,xe++),pe+=z(fe,I,V,de,re);else if(fe==="object")throw I=String(Q),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return pe}function G(Q,I,V){if(Q==null)return Q;var J=[],re=0;return z(Q,J,"","",function(fe){return I.call(V,fe,re++)}),J}function X(Q){if(Q._status===-1){var I=Q._result;I=I(),I.then(function(V){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=V)},function(V){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=V)}),Q._status===-1&&(Q._status=0,Q._result=I)}if(Q._status===1)return Q._result.default;throw Q._result}var U={current:null},W={transition:null},Y={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:W,ReactCurrentOwner:O};function ie(){throw Error("act(...) is not supported in production builds of React.")}return fr.Children={map:G,forEach:function(Q,I,V){G(Q,function(){I.apply(this,arguments)},V)},count:function(Q){var I=0;return G(Q,function(){I++}),I},toArray:function(Q){return G(Q,function(I){return I})||[]},only:function(Q){if(!F(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},fr.Component=x,fr.Fragment=n,fr.Profiler=i,fr.PureComponent=S,fr.StrictMode=r,fr.Suspense=c,fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,fr.act=ie,fr.cloneElement=function(Q,I,V){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var J=y({},Q.props),re=Q.key,fe=Q.ref,pe=Q._owner;if(I!=null){if(I.ref!==void 0&&(fe=I.ref,pe=O.current),I.key!==void 0&&(re=""+I.key),Q.type&&Q.type.defaultProps)var xe=Q.type.defaultProps;for(de in I)C.call(I,de)&&!M.hasOwnProperty(de)&&(J[de]=I[de]===void 0&&xe!==void 0?xe[de]:I[de])}var de=arguments.length-2;if(de===1)J.children=V;else if(1<de){xe=Array(de);for(var we=0;we<de;we++)xe[we]=arguments[we+2];J.children=xe}return{$$typeof:t,type:Q.type,key:re,ref:fe,props:J,_owner:pe}},fr.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:s,_context:Q},Q.Consumer=Q},fr.createElement=A,fr.createFactory=function(Q){var I=A.bind(null,Q);return I.type=Q,I},fr.createRef=function(){return{current:null}},fr.forwardRef=function(Q){return{$$typeof:l,render:Q}},fr.isValidElement=F,fr.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:X}},fr.memo=function(Q,I){return{$$typeof:u,type:Q,compare:I===void 0?null:I}},fr.startTransition=function(Q){var I=W.transition;W.transition={};try{Q()}finally{W.transition=I}},fr.unstable_act=ie,fr.useCallback=function(Q,I){return U.current.useCallback(Q,I)},fr.useContext=function(Q){return U.current.useContext(Q)},fr.useDebugValue=function(){},fr.useDeferredValue=function(Q){return U.current.useDeferredValue(Q)},fr.useEffect=function(Q,I){return U.current.useEffect(Q,I)},fr.useId=function(){return U.current.useId()},fr.useImperativeHandle=function(Q,I,V){return U.current.useImperativeHandle(Q,I,V)},fr.useInsertionEffect=function(Q,I){return U.current.useInsertionEffect(Q,I)},fr.useLayoutEffect=function(Q,I){return U.current.useLayoutEffect(Q,I)},fr.useMemo=function(Q,I){return U.current.useMemo(Q,I)},fr.useReducer=function(Q,I,V){return U.current.useReducer(Q,I,V)},fr.useRef=function(Q){return U.current.useRef(Q)},fr.useState=function(Q){return U.current.useState(Q)},fr.useSyncExternalStore=function(Q,I,V){return U.current.useSyncExternalStore(Q,I,V)},fr.useTransition=function(){return U.current.useTransition()},fr.version="18.3.1",fr}var Q6;function g1(){return Q6||(Q6=1,RC.exports=lue()),RC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J6;function cue(){if(J6)return Ux;J6=1;var t=g1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,h=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(h=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:m,ref:h,props:f,_owner:i.current}}return Ux.Fragment=n,Ux.jsx=o,Ux.jsxs=o,Ux}var Z6;function uue(){return Z6||(Z6=1,MC.exports=cue()),MC.exports}var a=uue(),Dw={},IC={exports:{}},Xo={},DC={exports:{}},LC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eF;function due(){return eF||(eF=1,(function(t){function e(W,Y){var ie=W.length;W.push(Y);e:for(;0<ie;){var Q=ie-1>>>1,I=W[Q];if(0<i(I,Y))W[Q]=Y,W[ie]=I,ie=Q;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],ie=W.pop();if(ie!==Y){W[0]=ie;e:for(var Q=0,I=W.length,V=I>>>1;Q<V;){var J=2*(Q+1)-1,re=W[J],fe=J+1,pe=W[fe];if(0>i(re,ie))fe<I&&0>i(pe,re)?(W[Q]=pe,W[fe]=ie,Q=fe):(W[Q]=re,W[J]=ie,Q=J);else if(fe<I&&0>i(pe,ie))W[Q]=pe,W[fe]=ie,Q=fe;else break e}}return Y}function i(W,Y){var ie=W.sortIndex-Y.sortIndex;return ie!==0?ie:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=W)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function _(W){if(v=!1,E(W),!y)if(n(c)!==null)y=!0,X(C);else{var Y=n(u);Y!==null&&U(_,Y.startTime-W)}}function C(W,Y){y=!1,v&&(v=!1,b(A),A=-1),h=!0;var ie=m;try{for(E(Y),f=n(c);f!==null&&(!(f.expirationTime>Y)||W&&!R());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var I=Q(f.expirationTime<=Y);Y=t.unstable_now(),typeof I=="function"?f.callback=I:f===n(c)&&r(c),E(Y)}else r(c);f=n(c)}if(f!==null)var V=!0;else{var J=n(u);J!==null&&U(_,J.startTime-Y),V=!1}return V}finally{f=null,m=ie,h=!1}}var O=!1,M=null,A=-1,P=5,F=-1;function R(){return!(t.unstable_now()-F<P)}function $(){if(M!==null){var W=t.unstable_now();F=W;var Y=!0;try{Y=M(!0,W)}finally{Y?q():(O=!1,M=null)}}else O=!1}var q;if(typeof S=="function")q=function(){S($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=$,q=function(){G.postMessage(null)}}else q=function(){x($,0)};function X(W){M=W,O||(O=!0,q())}function U(W,Y){A=x(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,X(C))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var ie=m;m=Y;try{return W()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=m;m=W;try{return Y()}finally{m=ie}},t.unstable_scheduleCallback=function(W,Y,ie){var Q=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Q+ie:Q):ie=Q,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ie+I,W={id:d++,callback:Y,priorityLevel:W,startTime:ie,expirationTime:I,sortIndex:-1},ie>Q?(W.sortIndex=ie,e(u,W),n(c)===null&&W===n(u)&&(v?(b(A),A=-1):v=!0,U(_,ie-Q))):(W.sortIndex=I,e(c,W),y||h||(y=!0,X(C))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var Y=m;return function(){var ie=m;m=Y;try{return W.apply(this,arguments)}finally{m=ie}}}})(LC)),LC}var tF;function fue(){return tF||(tF=1,DC.exports=due()),DC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nF;function hue(){if(nF)return Xo;nF=1;var t=g1(),e=fue();function n(p){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+p,N=1;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(p,g){o(p,g),o(p+"Capture",g)}function o(p,g){for(i[p]=g,p=0;p<g.length;p++)r.add(g[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(p){return c.call(f,p)?!0:c.call(d,p)?!1:u.test(p)?f[p]=!0:(d[p]=!0,!1)}function h(p,g,N,k){if(N!==null&&N.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return k?!1:N!==null?!N.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function y(p,g,N,k){if(g===null||typeof g>"u"||h(p,g,N,k))return!0;if(k)return!1;if(N!==null)switch(N.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v(p,g,N,k,L,H,se){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=k,this.attributeNamespace=L,this.mustUseProperty=N,this.propertyName=p,this.type=g,this.sanitizeURL=H,this.removeEmptyString=se}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){x[p]=new v(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var g=p[0];x[g]=new v(g,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){x[p]=new v(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){x[p]=new v(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){x[p]=new v(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){x[p]=new v(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){x[p]=new v(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){x[p]=new v(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){x[p]=new v(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function S(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var g=p.replace(b,S);x[g]=new v(g,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var g=p.replace(b,S);x[g]=new v(g,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var g=p.replace(b,S);x[g]=new v(g,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){x[p]=new v(p,1,!1,p.toLowerCase(),null,!1,!1)}),x.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){x[p]=new v(p,1,!1,p.toLowerCase(),null,!0,!0)});function E(p,g,N,k){var L=x.hasOwnProperty(g)?x[g]:null;(L!==null?L.type!==0:k||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(y(g,N,L,k)&&(N=null),k||L===null?m(g)&&(N===null?p.removeAttribute(g):p.setAttribute(g,""+N)):L.mustUseProperty?p[L.propertyName]=N===null?L.type===3?!1:"":N:(g=L.attributeName,k=L.attributeNamespace,N===null?p.removeAttribute(g):(L=L.type,N=L===3||L===4&&N===!0?"":""+N,k?p.setAttributeNS(k,g,N):p.setAttribute(g,N))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),W=Symbol.iterator;function Y(p){return p===null||typeof p!="object"?null:(p=W&&p[W]||p["@@iterator"],typeof p=="function"?p:null)}var ie=Object.assign,Q;function I(p){if(Q===void 0)try{throw Error()}catch(N){var g=N.stack.trim().match(/\n( *(at )?)/);Q=g&&g[1]||""}return`
`+Q+p}var V=!1;function J(p,g){if(!p||V)return"";V=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Xe){var k=Xe}Reflect.construct(p,[],g)}else{try{g.call()}catch(Xe){k=Xe}p.call(g.prototype)}else{try{throw Error()}catch(Xe){k=Xe}p()}}catch(Xe){if(Xe&&k&&typeof Xe.stack=="string"){for(var L=Xe.stack.split(`
`),H=k.stack.split(`
`),se=L.length-1,je=H.length-1;1<=se&&0<=je&&L[se]!==H[je];)je--;for(;1<=se&&0<=je;se--,je--)if(L[se]!==H[je]){if(se!==1||je!==1)do if(se--,je--,0>je||L[se]!==H[je]){var Oe=`
`+L[se].replace(" at new "," at ");return p.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",p.displayName)),Oe}while(1<=se&&0<=je);break}}}finally{V=!1,Error.prepareStackTrace=N}return(p=p?p.displayName||p.name:"")?I(p):""}function re(p){switch(p.tag){case 5:return I(p.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return p=J(p.type,!1),p;case 11:return p=J(p.type.render,!1),p;case 1:return p=J(p.type,!0),p;default:return""}}function fe(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case M:return"Fragment";case O:return"Portal";case P:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case z:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case R:return(p.displayName||"Context")+".Consumer";case F:return(p._context.displayName||"Context")+".Provider";case $:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case G:return g=p.displayName||null,g!==null?g:fe(p.type)||"Memo";case X:g=p._payload,p=p._init;try{return fe(p(g))}catch{}}return null}function pe(p){var g=p.type;switch(p.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=g.render,p=p.displayName||p.name||"",g.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(g);case 8:return g===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function xe(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function de(p){var g=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function we(p){var g=de(p)?"checked":"value",N=Object.getOwnPropertyDescriptor(p.constructor.prototype,g),k=""+p[g];if(!p.hasOwnProperty(g)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var L=N.get,H=N.set;return Object.defineProperty(p,g,{configurable:!0,get:function(){return L.call(this)},set:function(se){k=""+se,H.call(this,se)}}),Object.defineProperty(p,g,{enumerable:N.enumerable}),{getValue:function(){return k},setValue:function(se){k=""+se},stopTracking:function(){p._valueTracker=null,delete p[g]}}}}function Ce(p){p._valueTracker||(p._valueTracker=we(p))}function ae(p){if(!p)return!1;var g=p._valueTracker;if(!g)return!0;var N=g.getValue(),k="";return p&&(k=de(p)?p.checked?"true":"false":p.value),p=k,p!==N?(g.setValue(p),!0):!1}function Pe(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function ee(p,g){var N=g.checked;return ie({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??p._wrapperState.initialChecked})}function ne(p,g){var N=g.defaultValue==null?"":g.defaultValue,k=g.checked!=null?g.checked:g.defaultChecked;N=xe(g.value!=null?g.value:N),p._wrapperState={initialChecked:k,initialValue:N,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Re(p,g){g=g.checked,g!=null&&E(p,"checked",g,!1)}function ft(p,g){Re(p,g);var N=xe(g.value),k=g.type;if(N!=null)k==="number"?(N===0&&p.value===""||p.value!=N)&&(p.value=""+N):p.value!==""+N&&(p.value=""+N);else if(k==="submit"||k==="reset"){p.removeAttribute("value");return}g.hasOwnProperty("value")?Ke(p,g.type,N):g.hasOwnProperty("defaultValue")&&Ke(p,g.type,xe(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(p.defaultChecked=!!g.defaultChecked)}function et(p,g,N){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var k=g.type;if(!(k!=="submit"&&k!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+p._wrapperState.initialValue,N||g===p.value||(p.value=g),p.defaultValue=g}N=p.name,N!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,N!==""&&(p.name=N)}function Ke(p,g,N){(g!=="number"||Pe(p.ownerDocument)!==p)&&(N==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+N&&(p.defaultValue=""+N))}var me=Array.isArray;function Se(p,g,N,k){if(p=p.options,g){g={};for(var L=0;L<N.length;L++)g["$"+N[L]]=!0;for(N=0;N<p.length;N++)L=g.hasOwnProperty("$"+p[N].value),p[N].selected!==L&&(p[N].selected=L),L&&k&&(p[N].defaultSelected=!0)}else{for(N=""+xe(N),g=null,L=0;L<p.length;L++){if(p[L].value===N){p[L].selected=!0,k&&(p[L].defaultSelected=!0);return}g!==null||p[L].disabled||(g=p[L])}g!==null&&(g.selected=!0)}}function ke(p,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},g,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Ge(p,g){var N=g.value;if(N==null){if(N=g.children,g=g.defaultValue,N!=null){if(g!=null)throw Error(n(92));if(me(N)){if(1<N.length)throw Error(n(93));N=N[0]}g=N}g==null&&(g=""),N=g}p._wrapperState={initialValue:xe(N)}}function Ye(p,g){var N=xe(g.value),k=xe(g.defaultValue);N!=null&&(N=""+N,N!==p.value&&(p.value=N),g.defaultValue==null&&p.defaultValue!==N&&(p.defaultValue=N)),k!=null&&(p.defaultValue=""+k)}function We(p){var g=p.textContent;g===p._wrapperState.initialValue&&g!==""&&g!==null&&(p.value=g)}function nt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(p,g){return p==null||p==="http://www.w3.org/1999/xhtml"?nt(g):p==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var wt,Ot=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,N,k,L){MSApp.execUnsafeLocalFunction(function(){return p(g,N,k,L)})}:p})(function(p,g){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=g;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=wt.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;g.firstChild;)p.appendChild(g.firstChild)}});function Kt(p,g){if(g){var N=p.firstChild;if(N&&N===p.lastChild&&N.nodeType===3){N.nodeValue=g;return}}p.textContent=g}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},On=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(p){On.forEach(function(g){g=g+p.charAt(0).toUpperCase()+p.substring(1),At[g]=At[p]})});function An(p,g,N){return g==null||typeof g=="boolean"||g===""?"":N||typeof g!="number"||g===0||At.hasOwnProperty(p)&&At[p]?(""+g).trim():g+"px"}function zt(p,g){p=p.style;for(var N in g)if(g.hasOwnProperty(N)){var k=N.indexOf("--")===0,L=An(N,g[N],k);N==="float"&&(N="cssFloat"),k?p.setProperty(N,L):p[N]=L}}var yn=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(p,g){if(g){if(yn[p]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,p));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function on(p,g){if(p.indexOf("-")===-1)return typeof g.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pn=null;function wn(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var kr=null,Tr=null,mn=null;function Ut(p){if(p=ah(p)){if(typeof kr!="function")throw Error(n(280));var g=p.stateNode;g&&(g=Gp(g),kr(p.stateNode,p.type,g))}}function Ee(p){Tr?mn?mn.push(p):mn=[p]:Tr=p}function Je(){if(Tr){var p=Tr,g=mn;if(mn=Tr=null,Ut(p),g)for(p=0;p<g.length;p++)Ut(g[p])}}function pt(p,g){return p(g)}function It(){}var In=!1;function ce(p,g,N){if(In)return p(g,N);In=!0;try{return pt(p,g,N)}finally{In=!1,(Tr!==null||mn!==null)&&(It(),Je())}}function $e(p,g){var N=p.stateNode;if(N===null)return null;var k=Gp(N);if(k===null)return null;N=k[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(p=p.type,k=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!k;break e;default:p=!1}if(p)return null;if(N&&typeof N!="function")throw Error(n(231,g,typeof N));return N}var ht=!1;if(l)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){ht=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{ht=!1}function Hn(p,g,N,k,L,H,se,je,Oe){var Xe=Array.prototype.slice.call(arguments,3);try{g.apply(N,Xe)}catch(bt){this.onError(bt)}}var gn=!1,mr=null,or=!1,Yr=null,vi={onError:function(p){gn=!0,mr=p}};function Vi(p,g,N,k,L,H,se,je,Oe){gn=!1,mr=null,Hn.apply(vi,arguments)}function mo(p,g,N,k,L,H,se,je,Oe){if(Vi.apply(this,arguments),gn){if(gn){var Xe=mr;gn=!1,mr=null}else throw Error(n(198));or||(or=!0,Yr=Xe)}}function Di(p){var g=p,N=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,(g.flags&4098)!==0&&(N=g.return),p=g.return;while(p)}return g.tag===3?N:null}function Us(p){if(p.tag===13){var g=p.memoizedState;if(g===null&&(p=p.alternate,p!==null&&(g=p.memoizedState)),g!==null)return g.dehydrated}return null}function aa(p){if(Di(p)!==p)throw Error(n(188))}function Do(p){var g=p.alternate;if(!g){if(g=Di(p),g===null)throw Error(n(188));return g!==p?null:p}for(var N=p,k=g;;){var L=N.return;if(L===null)break;var H=L.alternate;if(H===null){if(k=L.return,k!==null){N=k;continue}break}if(L.child===H.child){for(H=L.child;H;){if(H===N)return aa(L),p;if(H===k)return aa(L),g;H=H.sibling}throw Error(n(188))}if(N.return!==k.return)N=L,k=H;else{for(var se=!1,je=L.child;je;){if(je===N){se=!0,N=L,k=H;break}if(je===k){se=!0,k=L,N=H;break}je=je.sibling}if(!se){for(je=H.child;je;){if(je===N){se=!0,N=H,k=L;break}if(je===k){se=!0,k=H,N=L;break}je=je.sibling}if(!se)throw Error(n(189))}}if(N.alternate!==k)throw Error(n(190))}if(N.tag!==3)throw Error(n(188));return N.stateNode.current===N?p:g}function go(p){return p=Do(p),p!==null?Hl(p):null}function Hl(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var g=Hl(p);if(g!==null)return g;p=p.sibling}return null}var Ic=e.unstable_scheduleCallback,oa=e.unstable_cancelCallback,Dc=e.unstable_shouldYield,Uf=e.unstable_requestPaint,Xr=e.unstable_now,Hf=e.unstable_getCurrentPriorityLevel,Ou=e.unstable_ImmediatePriority,Cs=e.unstable_UserBlockingPriority,Vl=e.unstable_NormalPriority,jt=e.unstable_LowPriority,an=e.unstable_IdlePriority,Vn=null,nr=null;function yi(p){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Vn,p,void 0,(p.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:As,Lo=Math.log,ci=Math.LN2;function As(p){return p>>>=0,p===0?32:31-(Lo(p)/ci|0)|0}var ks=64,Aa=4194304;function qa(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Hs(p,g){var N=p.pendingLanes;if(N===0)return 0;var k=0,L=p.suspendedLanes,H=p.pingedLanes,se=N&268435455;if(se!==0){var je=se&~L;je!==0?k=qa(je):(H&=se,H!==0&&(k=qa(H)))}else se=N&~L,se!==0?k=qa(se):H!==0&&(k=qa(H));if(k===0)return 0;if(g!==0&&g!==k&&(g&L)===0&&(L=k&-k,H=g&-g,L>=H||L===16&&(H&4194240)!==0))return g;if((k&4)!==0&&(k|=N&16),g=p.entangledLanes,g!==0)for(p=p.entanglements,g&=k;0<g;)N=31-qr(g),L=1<<N,k|=p[N],g&=~L;return k}function Lc(p,g){switch(p){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(p,g){for(var N=p.suspendedLanes,k=p.pingedLanes,L=p.expirationTimes,H=p.pendingLanes;0<H;){var se=31-qr(H),je=1<<se,Oe=L[se];Oe===-1?((je&N)===0||(je&k)!==0)&&(L[se]=Lc(je,g)):Oe<=g&&(p.expiredLanes|=je),H&=~je}}function Fc(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Vf(){var p=ks;return ks<<=1,(ks&4194240)===0&&(ks=64),p}function Wl(p){for(var g=[],N=0;31>N;N++)g.push(p);return g}function Kl(p,g,N){p.pendingLanes|=g,g!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,g=31-qr(g),p[g]=N}function Wi(p,g){var N=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g,g=p.entanglements;var k=p.eventTimes;for(p=p.expirationTimes;0<N;){var L=31-qr(N),H=1<<L;g[L]=0,k[L]=-1,p[L]=-1,N&=~H}}function Pu(p,g){var N=p.entangledLanes|=g;for(p=p.entanglements;N;){var k=31-qr(N),L=1<<k;L&g|p[k]&g&&(p[k]|=g),N&=~L}}var ur=0;function xn(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var $c,Ci,wr,Bc,Ua,vo=!1,ka=[],Mt=null,qt=null,Nn=null,Dt=new Map,xi=new Map,es=[],Op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wf(p,g){switch(p){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Dt.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(g.pointerId)}}function yo(p,g,N,k,L,H){return p===null||p.nativeEvent!==H?(p={blockedOn:g,domEventName:N,eventSystemFlags:k,nativeEvent:H,targetContainers:[L]},g!==null&&(g=ah(g),g!==null&&Ci(g)),p):(p.eventSystemFlags|=k,g=p.targetContainers,L!==null&&g.indexOf(L)===-1&&g.push(L),p)}function zc(p,g,N,k,L){switch(g){case"focusin":return Mt=yo(Mt,p,g,N,k,L),!0;case"dragenter":return qt=yo(qt,p,g,N,k,L),!0;case"mouseover":return Nn=yo(Nn,p,g,N,k,L),!0;case"pointerover":var H=L.pointerId;return Dt.set(H,yo(Dt.get(H)||null,p,g,N,k,L)),!0;case"gotpointercapture":return H=L.pointerId,xi.set(H,yo(xi.get(H)||null,p,g,N,k,L)),!0}return!1}function Eg(p){var g=qu(p.target);if(g!==null){var N=Di(g);if(N!==null){if(g=N.tag,g===13){if(g=Us(N),g!==null){p.blockedOn=g,Ua(p.priority,function(){wr(N)});return}}else if(g===3&&N.stateNode.current.memoizedState.isDehydrated){p.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Kf(p){if(p.blockedOn!==null)return!1;for(var g=p.targetContainers;0<g.length;){var N=Td(p.domEventName,p.eventSystemFlags,g[0],p.nativeEvent);if(N===null){N=p.nativeEvent;var k=new N.constructor(N.type,N);Pn=k,N.target.dispatchEvent(k),Pn=null}else return g=ah(N),g!==null&&Ci(g),p.blockedOn=N,!1;g.shift()}return!0}function kd(p,g,N){Kf(p)&&N.delete(g)}function Pp(){vo=!1,Mt!==null&&Kf(Mt)&&(Mt=null),qt!==null&&Kf(qt)&&(qt=null),Nn!==null&&Kf(Nn)&&(Nn=null),Dt.forEach(kd),xi.forEach(kd)}function gl(p,g){p.blockedOn===g&&(p.blockedOn=null,vo||(vo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pp)))}function Gl(p){function g(L){return gl(L,p)}if(0<ka.length){gl(ka[0],p);for(var N=1;N<ka.length;N++){var k=ka[N];k.blockedOn===p&&(k.blockedOn=null)}}for(Mt!==null&&gl(Mt,p),qt!==null&&gl(qt,p),Nn!==null&&gl(Nn,p),Dt.forEach(g),xi.forEach(g),N=0;N<es.length;N++)k=es[N],k.blockedOn===p&&(k.blockedOn=null);for(;0<es.length&&(N=es[0],N.blockedOn===null);)Eg(N),N.blockedOn===null&&es.shift()}var vl=_.ReactCurrentBatchConfig,Gf=!0;function Mp(p,g,N,k){var L=ur,H=vl.transition;vl.transition=null;try{ur=1,qc(p,g,N,k)}finally{ur=L,vl.transition=H}}function Rp(p,g,N,k){var L=ur,H=vl.transition;vl.transition=null;try{ur=4,qc(p,g,N,k)}finally{ur=L,vl.transition=H}}function qc(p,g,N,k){if(Gf){var L=Td(p,g,N,k);if(L===null)Vp(p,g,k,Yl,N),Wf(p,k);else if(zc(L,p,g,N,k))k.stopPropagation();else if(Wf(p,k),g&4&&-1<Op.indexOf(p)){for(;L!==null;){var H=ah(L);if(H!==null&&$c(H),H=Td(p,g,N,k),H===null&&Vp(p,g,k,Yl,N),H===L)break;L=H}L!==null&&k.stopPropagation()}else Vp(p,g,k,null,N)}}var Yl=null;function Td(p,g,N,k){if(Yl=null,p=wn(k),p=qu(p),p!==null)if(g=Di(p),g===null)p=null;else if(N=g.tag,N===13){if(p=Us(g),p!==null)return p;p=null}else if(N===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;p=null}else g!==p&&(p=null);return Yl=p,null}function Od(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hf()){case Ou:return 1;case Cs:return 4;case Vl:case jt:return 16;case an:return 536870912;default:return 16}default:return 16}}var Fo=null,Uc=null,Pd=null;function Ip(){if(Pd)return Pd;var p,g=Uc,N=g.length,k,L="value"in Fo?Fo.value:Fo.textContent,H=L.length;for(p=0;p<N&&g[p]===L[p];p++);var se=N-p;for(k=1;k<=se&&g[N-k]===L[H-k];k++);return Pd=L.slice(p,1<k?1-k:void 0)}function $o(p){var g=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&g===13&&(p=13)):p=g,p===10&&(p=13),32<=p||p===13?p:0}function Bo(){return!0}function Dp(){return!1}function la(p){function g(N,k,L,H,se){this._reactName=N,this._targetInst=L,this.type=k,this.nativeEvent=H,this.target=se,this.currentTarget=null;for(var je in p)p.hasOwnProperty(je)&&(N=p[je],this[je]=N?N(H):H[je]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Bo:Dp,this.isPropagationStopped=Dp,this}return ie(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),g}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=la(zo),D=ie({},zo,{view:0,detail:0}),te=la(D),Ne,Ae,De,st=ie({},D,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==De&&(De&&p.type==="mousemove"?(Ne=p.screenX-De.screenX,Ae=p.screenY-De.screenY):Ae=Ne=0,De=p),Ne)},movementY:function(p){return"movementY"in p?p.movementY:Ae}}),vt=la(st),Zt=ie({},st,{dataTransfer:0}),un=la(Zt),$n=ie({},D,{relatedTarget:0}),Bn=la($n),Nr=ie({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=la(Nr),ts=ie({},zo,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),ii=la(ts),vs=ie({},zo,{data:0}),Ki=la(vs),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(p){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(p):(p=Ha[p])?!!g[p]:!1}function Mu(){return jg}var Md=ie({},D,{key:function(p){if(p.key){var g=Vs[p.key]||p.key;if(g!=="Unidentified")return g}return p.type==="keypress"?(p=$o(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?qo[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(p){return p.type==="keypress"?$o(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?$o(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Ru=la(Md),Rd=ie({},st,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=la(Rd),Id=ie({},D,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),ca=la(Id),Dd=ie({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ld=la(Dd),Lp=ie({},st,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),Fp=la(Lp),Li=[9,13,27,32],yl=l&&"CompositionEvent"in window,Xl=null;l&&"documentMode"in document&&(Xl=document.documentMode);var _g=l&&"TextEvent"in window&&!Xl,xo=l&&(!yl||Xl&&8<Xl&&11>=Xl),Du=" ",Xf=!1;function Qf(p,g){switch(p){case"keyup":return Li.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Uo=!1;function bo(p,g){switch(p){case"compositionend":return Hc(g);case"keypress":return g.which!==32?null:(Xf=!0,Du);case"textInput":return p=g.data,p===Du&&Xf?null:p;default:return null}}function wo(p,g){if(Uo)return p==="compositionend"||!yl&&Qf(p,g)?(p=Ip(),Pd=Uc=Fo=null,Uo=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return xo&&g.locale!=="ko"?null:g.data;default:return null}}var Lu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ql(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g==="input"?!!Lu[p.type]:g==="textarea"}function Vc(p,g,N,k){Ee(k),g=Og(g,"onChange"),0<g.length&&(N=new Yf("onChange","change",null,N,k),p.push({event:N,listeners:g}))}var Wc=null,Jl=null;function Gi(p){Up(p,0)}function Fd(p){var g=Gd(p);if(ae(g))return p}function Zl(p,g){if(p==="change")return g}var xl=!1;if(l){var $d;if(l){var Bd="oninput"in document;if(!Bd){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),Bd=typeof Jf.oninput=="function"}$d=Bd}else $d=!1;xl=$d&&(!document.documentMode||9<document.documentMode)}function Zf(){Wc&&(Wc.detachEvent("onpropertychange",Kc),Jl=Wc=null)}function Kc(p){if(p.propertyName==="value"&&Fd(Jl)){var g=[];Vc(g,Jl,p,wn(p)),ce(Gi,g)}}function Fu(p,g,N){p==="focusin"?(Zf(),Wc=g,Jl=N,Wc.attachEvent("onpropertychange",Kc)):p==="focusout"&&Zf()}function $u(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Fd(Jl)}function zd(p,g){if(p==="click")return Fd(g)}function Bu(p,g){if(p==="input"||p==="change")return Fd(g)}function qd(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var Fi=typeof Object.is=="function"?Object.is:qd;function Va(p,g){if(Fi(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var N=Object.keys(p),k=Object.keys(g);if(N.length!==k.length)return!1;for(k=0;k<N.length;k++){var L=N[k];if(!c.call(g,L)||!Fi(p[L],g[L]))return!1}return!0}function Sr(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Ur(p,g){var N=Sr(p);p=0;for(var k;N;){if(N.nodeType===3){if(k=p+N.textContent.length,p<=g&&k>=g)return{node:N,offset:g-p};p=k}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=Sr(N)}}function $i(p,g){return p&&g?p===g?!0:p&&p.nodeType===3?!1:g&&g.nodeType===3?$i(p,g.parentNode):"contains"in p?p.contains(g):p.compareDocumentPosition?!!(p.compareDocumentPosition(g)&16):!1:!1}function ns(){for(var p=window,g=Pe();g instanceof p.HTMLIFrameElement;){try{var N=typeof g.contentWindow.location.href=="string"}catch{N=!1}if(N)p=g.contentWindow;else break;g=Pe(p.document)}return g}function bl(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g&&(g==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||g==="textarea"||p.contentEditable==="true")}function $p(p){var g=ns(),N=p.focusedElem,k=p.selectionRange;if(g!==N&&N&&N.ownerDocument&&$i(N.ownerDocument.documentElement,N)){if(k!==null&&bl(N)){if(g=k.start,p=k.end,p===void 0&&(p=g),"selectionStart"in N)N.selectionStart=g,N.selectionEnd=Math.min(p,N.value.length);else if(p=(g=N.ownerDocument||document)&&g.defaultView||window,p.getSelection){p=p.getSelection();var L=N.textContent.length,H=Math.min(k.start,L);k=k.end===void 0?H:Math.min(k.end,L),!p.extend&&H>k&&(L=k,k=H,H=L),L=Ur(N,H);var se=Ur(N,k);L&&se&&(p.rangeCount!==1||p.anchorNode!==L.node||p.anchorOffset!==L.offset||p.focusNode!==se.node||p.focusOffset!==se.offset)&&(g=g.createRange(),g.setStart(L.node,L.offset),p.removeAllRanges(),H>k?(p.addRange(g),p.extend(se.node,se.offset)):(g.setEnd(se.node,se.offset),p.addRange(g)))}}for(g=[],p=N;p=p.parentNode;)p.nodeType===1&&g.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<g.length;N++)p=g[N],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var eh=l&&"documentMode"in document&&11>=document.documentMode,Gc=null,Cg=null,th=null,Ag=!1;function xx(p,g,N){var k=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;Ag||Gc==null||Gc!==Pe(k)||(k=Gc,"selectionStart"in k&&bl(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),th&&Va(th,k)||(th=k,k=Og(Cg,"onSelect"),0<k.length&&(g=new Yf("onSelect","select",null,g,N),p.push({event:g,listeners:k}),g.target=Gc)))}function Bp(p,g){var N={};return N[p.toLowerCase()]=g.toLowerCase(),N["Webkit"+p]="webkit"+g,N["Moz"+p]="moz"+g,N}var Ud={animationend:Bp("Animation","AnimationEnd"),animationiteration:Bp("Animation","AnimationIteration"),animationstart:Bp("Animation","AnimationStart"),transitionend:Bp("Transition","TransitionEnd")},Hd={},bx={};l&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete Ud.animationend.animation,delete Ud.animationiteration.animation,delete Ud.animationstart.animation),"TransitionEvent"in window||delete Ud.transitionend.transition);function zp(p){if(Hd[p])return Hd[p];if(!Ud[p])return p;var g=Ud[p],N;for(N in g)if(g.hasOwnProperty(N)&&N in bx)return Hd[p]=g[N];return p}var wx=zp("animationend"),Nx=zp("animationiteration"),Sx=zp("animationstart"),Ex=zp("transitionend"),jx=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ec(p,g){jx.set(p,g),s(g,[p])}for(var nh=0;nh<_x.length;nh++){var Ta=_x[nh],Ho=Ta.toLowerCase(),kg=Ta[0].toUpperCase()+Ta.slice(1);ec(Ho,"on"+kg)}ec(wx,"onAnimationEnd"),ec(Nx,"onAnimationIteration"),ec(Sx,"onAnimationStart"),ec("dblclick","onDoubleClick"),ec("focusin","onFocus"),ec("focusout","onBlur"),ec(Ex,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tw=new Set("cancel close invalid load scroll toggle".split(" ").concat(zu));function qp(p,g,N){var k=p.type||"unknown-event";p.currentTarget=N,mo(k,g,void 0,p),p.currentTarget=null}function Up(p,g){g=(g&4)!==0;for(var N=0;N<p.length;N++){var k=p[N],L=k.event;k=k.listeners;e:{var H=void 0;if(g)for(var se=k.length-1;0<=se;se--){var je=k[se],Oe=je.instance,Xe=je.currentTarget;if(je=je.listener,Oe!==H&&L.isPropagationStopped())break e;qp(L,je,Xe),H=Oe}else for(se=0;se<k.length;se++){if(je=k[se],Oe=je.instance,Xe=je.currentTarget,je=je.listener,Oe!==H&&L.isPropagationStopped())break e;qp(L,je,Xe),H=Oe}}}if(or)throw p=Yr,or=!1,Yr=null,p}function Qr(p,g){var N=g[Ka];N===void 0&&(N=g[Ka]=new Set);var k=p+"__bubble";N.has(k)||(Hp(g,p,2,!1),N.add(k))}function Tg(p,g,N){var k=0;g&&(k|=4),Hp(N,p,k,g)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Vd(p){if(!p[rh]){p[rh]=!0,r.forEach(function(N){N!=="selectionchange"&&(tw.has(N)||Tg(N,!1,p),Tg(N,!0,p))});var g=p.nodeType===9?p:p.ownerDocument;g===null||g[rh]||(g[rh]=!0,Tg("selectionchange",!1,g))}}function Hp(p,g,N,k){switch(Od(g)){case 1:var L=Mp;break;case 4:L=Rp;break;default:L=qc}N=L.bind(null,g,N,p),L=void 0,!ht||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(L=!0),k?L!==void 0?p.addEventListener(g,N,{capture:!0,passive:L}):p.addEventListener(g,N,!0):L!==void 0?p.addEventListener(g,N,{passive:L}):p.addEventListener(g,N,!1)}function Vp(p,g,N,k,L){var H=k;if((g&1)===0&&(g&2)===0&&k!==null)e:for(;;){if(k===null)return;var se=k.tag;if(se===3||se===4){var je=k.stateNode.containerInfo;if(je===L||je.nodeType===8&&je.parentNode===L)break;if(se===4)for(se=k.return;se!==null;){var Oe=se.tag;if((Oe===3||Oe===4)&&(Oe=se.stateNode.containerInfo,Oe===L||Oe.nodeType===8&&Oe.parentNode===L))return;se=se.return}for(;je!==null;){if(se=qu(je),se===null)return;if(Oe=se.tag,Oe===5||Oe===6){k=H=se;continue e}je=je.parentNode}}k=k.return}ce(function(){var Xe=H,bt=wn(N),St=[];e:{var xt=jx.get(p);if(xt!==void 0){var Ht=Yf,nn=p;switch(p){case"keypress":if($o(N)===0)break e;case"keydown":case"keyup":Ht=Ru;break;case"focusin":nn="focus",Ht=Bn;break;case"focusout":nn="blur",Ht=Bn;break;case"beforeblur":case"afterblur":Ht=Bn;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=vt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=ca;break;case wx:case Nx:case Sx:Ht=Ai;break;case Ex:Ht=Ld;break;case"scroll":Ht=te;break;case"wheel":Ht=Fp;break;case"copy":case"cut":case"paste":Ht=ii;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=Iu}var ln=(g&4)!==0,bs=!ln&&p==="scroll",ze=ln?xt!==null?xt+"Capture":null:xt;ln=[];for(var Ie=Xe,Ve;Ie!==null;){Ve=Ie;var kt=Ve.stateNode;if(Ve.tag===5&&kt!==null&&(Ve=kt,ze!==null&&(kt=$e(Ie,ze),kt!=null&&ln.push(Wp(Ie,kt,Ve)))),bs)break;Ie=Ie.return}0<ln.length&&(xt=new Ht(xt,nn,null,N,bt),St.push({event:xt,listeners:ln}))}}if((g&7)===0){e:{if(xt=p==="mouseover"||p==="pointerover",Ht=p==="mouseout"||p==="pointerout",xt&&N!==Pn&&(nn=N.relatedTarget||N.fromElement)&&(qu(nn)||nn[ua]))break e;if((Ht||xt)&&(xt=bt.window===bt?bt:(xt=bt.ownerDocument)?xt.defaultView||xt.parentWindow:window,Ht?(nn=N.relatedTarget||N.toElement,Ht=Xe,nn=nn?qu(nn):null,nn!==null&&(bs=Di(nn),nn!==bs||nn.tag!==5&&nn.tag!==6)&&(nn=null)):(Ht=null,nn=Xe),Ht!==nn)){if(ln=vt,kt="onMouseLeave",ze="onMouseEnter",Ie="mouse",(p==="pointerout"||p==="pointerover")&&(ln=Iu,kt="onPointerLeave",ze="onPointerEnter",Ie="pointer"),bs=Ht==null?xt:Gd(Ht),Ve=nn==null?xt:Gd(nn),xt=new ln(kt,Ie+"leave",Ht,N,bt),xt.target=bs,xt.relatedTarget=Ve,kt=null,qu(bt)===Xe&&(ln=new ln(ze,Ie+"enter",nn,N,bt),ln.target=Ve,ln.relatedTarget=bs,kt=ln),bs=kt,Ht&&nn)t:{for(ln=Ht,ze=nn,Ie=0,Ve=ln;Ve;Ve=Wd(Ve))Ie++;for(Ve=0,kt=ze;kt;kt=Wd(kt))Ve++;for(;0<Ie-Ve;)ln=Wd(ln),Ie--;for(;0<Ve-Ie;)ze=Wd(ze),Ve--;for(;Ie--;){if(ln===ze||ze!==null&&ln===ze.alternate)break t;ln=Wd(ln),ze=Wd(ze)}ln=null}else ln=null;Ht!==null&&nw(St,xt,Ht,ln,!1),nn!==null&&bs!==null&&nw(St,bs,nn,ln,!0)}}e:{if(xt=Xe?Gd(Xe):window,Ht=xt.nodeName&&xt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&xt.type==="file")var fn=Zl;else if(Ql(xt))if(xl)fn=Bu;else{fn=$u;var kn=Fu}else(Ht=xt.nodeName)&&Ht.toLowerCase()==="input"&&(xt.type==="checkbox"||xt.type==="radio")&&(fn=zd);if(fn&&(fn=fn(p,Xe))){Vc(St,fn,N,bt);break e}kn&&kn(p,xt,Xe),p==="focusout"&&(kn=xt._wrapperState)&&kn.controlled&&xt.type==="number"&&Ke(xt,"number",xt.value)}switch(kn=Xe?Gd(Xe):window,p){case"focusin":(Ql(kn)||kn.contentEditable==="true")&&(Gc=kn,Cg=Xe,th=null);break;case"focusout":th=Cg=Gc=null;break;case"mousedown":Ag=!0;break;case"contextmenu":case"mouseup":case"dragend":Ag=!1,xx(St,N,bt);break;case"selectionchange":if(eh)break;case"keydown":case"keyup":xx(St,N,bt)}var Tn;if(yl)e:{switch(p){case"compositionstart":var qn="onCompositionStart";break e;case"compositionend":qn="onCompositionEnd";break e;case"compositionupdate":qn="onCompositionUpdate";break e}qn=void 0}else Uo?Qf(p,N)&&(qn="onCompositionEnd"):p==="keydown"&&N.keyCode===229&&(qn="onCompositionStart");qn&&(xo&&N.locale!=="ko"&&(Uo||qn!=="onCompositionStart"?qn==="onCompositionEnd"&&Uo&&(Tn=Ip()):(Fo=bt,Uc="value"in Fo?Fo.value:Fo.textContent,Uo=!0)),kn=Og(Xe,qn),0<kn.length&&(qn=new Ki(qn,p,null,N,bt),St.push({event:qn,listeners:kn}),Tn?qn.data=Tn:(Tn=Hc(N),Tn!==null&&(qn.data=Tn)))),(Tn=_g?bo(p,N):wo(p,N))&&(Xe=Og(Xe,"onBeforeInput"),0<Xe.length&&(bt=new Ki("onBeforeInput","beforeinput",null,N,bt),St.push({event:bt,listeners:Xe}),bt.data=Tn))}Up(St,g)})}function Wp(p,g,N){return{instance:p,listener:g,currentTarget:N}}function Og(p,g){for(var N=g+"Capture",k=[];p!==null;){var L=p,H=L.stateNode;L.tag===5&&H!==null&&(L=H,H=$e(p,N),H!=null&&k.unshift(Wp(p,H,L)),H=$e(p,g),H!=null&&k.push(Wp(p,H,L))),p=p.return}return k}function Wd(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function nw(p,g,N,k,L){for(var H=g._reactName,se=[];N!==null&&N!==k;){var je=N,Oe=je.alternate,Xe=je.stateNode;if(Oe!==null&&Oe===k)break;je.tag===5&&Xe!==null&&(je=Xe,L?(Oe=$e(N,H),Oe!=null&&se.unshift(Wp(N,Oe,je))):L||(Oe=$e(N,H),Oe!=null&&se.push(Wp(N,Oe,je)))),N=N.return}se.length!==0&&p.push({event:g,listeners:se})}var K_=/\r\n?/g,G_=/\u0000|\uFFFD/g;function rw(p){return(typeof p=="string"?p:""+p).replace(K_,`
`).replace(G_,"")}function Pg(p,g,N){if(g=rw(g),rw(p)!==g&&N)throw Error(n(425))}function ih(){}var Kp=null,Kd=null;function Cx(p,g){return p==="textarea"||p==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ax=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,Y_=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(p){return sw.resolve(null).then(p).catch(X_)}:Ax;function X_(p){setTimeout(function(){throw p})}function kx(p,g){var N=g,k=0;do{var L=N.nextSibling;if(p.removeChild(N),L&&L.nodeType===8)if(N=L.data,N==="/$"){if(k===0){p.removeChild(L),Gl(g);return}k--}else N!=="$"&&N!=="$?"&&N!=="$!"||k++;N=L}while(N);Gl(g)}function Oa(p){for(;p!=null;p=p.nextSibling){var g=p.nodeType;if(g===1||g===3)break;if(g===8){if(g=p.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return p}function Vo(p){p=p.previousSibling;for(var g=0;p;){if(p.nodeType===8){var N=p.data;if(N==="$"||N==="$!"||N==="$?"){if(g===0)return p;g--}else N==="/$"&&g++}p=p.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),tc="__reactFiber$"+Wa,sh="__reactProps$"+Wa,ua="__reactContainer$"+Wa,Ka="__reactEvents$"+Wa,Q_="__reactListeners$"+Wa,J_="__reactHandles$"+Wa;function qu(p){var g=p[tc];if(g)return g;for(var N=p.parentNode;N;){if(g=N[ua]||N[tc]){if(N=g.alternate,g.child!==null||N!==null&&N.child!==null)for(p=Vo(p);p!==null;){if(N=p[tc])return N;p=Vo(p)}return g}p=N,N=p.parentNode}return null}function ah(p){return p=p[tc]||p[ua],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Gd(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(n(33))}function Gp(p){return p[sh]||null}var Tx=[],Yc=-1;function wl(p){return{current:p}}function Dr(p){0>Yc||(p.current=Tx[Yc],Tx[Yc]=null,Yc--)}function Hr(p,g){Yc++,Tx[Yc]=p.current,p.current=g}var Uu={},Ws=wl(Uu),Ga=wl(!1),Yd=Uu;function oh(p,g){var N=p.type.contextTypes;if(!N)return Uu;var k=p.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===g)return k.__reactInternalMemoizedMaskedChildContext;var L={},H;for(H in N)L[H]=g[H];return k&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=g,p.__reactInternalMemoizedMaskedChildContext=L),L}function Ya(p){return p=p.childContextTypes,p!=null}function Mg(){Dr(Ga),Dr(Ws)}function aw(p,g,N){if(Ws.current!==Uu)throw Error(n(168));Hr(Ws,g),Hr(Ga,N)}function Ox(p,g,N){var k=p.stateNode;if(g=g.childContextTypes,typeof k.getChildContext!="function")return N;k=k.getChildContext();for(var L in k)if(!(L in g))throw Error(n(108,pe(p)||"Unknown",L));return ie({},N,k)}function Xd(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Uu,Yd=Ws.current,Hr(Ws,p),Hr(Ga,Ga.current),!0}function ow(p,g,N){var k=p.stateNode;if(!k)throw Error(n(169));N?(p=Ox(p,g,Yd),k.__reactInternalMemoizedMergedChildContext=p,Dr(Ga),Dr(Ws),Hr(Ws,p)):Dr(Ga),Hr(Ga,N)}var Xc=null,Yp=!1,j=!1;function T(p){Xc===null?Xc=[p]:Xc.push(p)}function B(p){Yp=!0,T(p)}function K(){if(!j&&Xc!==null){j=!0;var p=0,g=ur;try{var N=Xc;for(ur=1;p<N.length;p++){var k=N[p];do k=k(!0);while(k!==null)}Xc=null,Yp=!1}catch(L){throw Xc!==null&&(Xc=Xc.slice(p+1)),Ic(Ou,K),L}finally{ur=g,j=!1}}return null}var Z=[],oe=0,le=null,ue=0,he=[],ve=0,Te=null,Be=1,be="";function Me(p,g){Z[oe++]=ue,Z[oe++]=le,le=p,ue=g}function Le(p,g,N){he[ve++]=Be,he[ve++]=be,he[ve++]=Te,Te=p;var k=Be;p=be;var L=32-qr(k)-1;k&=~(1<<L),N+=1;var H=32-qr(g)+L;if(30<H){var se=L-L%5;H=(k&(1<<se)-1).toString(32),k>>=se,L-=se,Be=1<<32-qr(g)+L|N<<L|k,be=H+p}else Be=1<<H|N<<L|k,be=p}function rt(p){p.return!==null&&(Me(p,1),Le(p,1,0))}function qe(p){for(;p===le;)le=Z[--oe],Z[oe]=null,ue=Z[--oe],Z[oe]=null;for(;p===Te;)Te=he[--ve],he[ve]=null,be=he[--ve],he[ve]=null,Be=he[--ve],he[ve]=null}var Ze=null,tt=null,ot=!1,dt=null;function dn(p,g){var N=ac(5,null,null,0);N.elementType="DELETED",N.stateNode=g,N.return=p,g=p.deletions,g===null?(p.deletions=[N],p.flags|=16):g.push(N)}function Gt(p,g){switch(p.tag){case 5:var N=p.type;return g=g.nodeType!==1||N.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(p.stateNode=g,Ze=p,tt=Oa(g.firstChild),!0):!1;case 6:return g=p.pendingProps===""||g.nodeType!==3?null:g,g!==null?(p.stateNode=g,Ze=p,tt=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(N=Te!==null?{id:Be,overflow:be}:null,p.memoizedState={dehydrated:g,treeContext:N,retryLane:1073741824},N=ac(18,null,null,0),N.stateNode=g,N.return=p,p.child=N,Ze=p,tt=null,!0):!1;default:return!1}}function Wn(p){return(p.mode&1)!==0&&(p.flags&128)===0}function en(p){if(ot){var g=tt;if(g){var N=g;if(!Gt(p,g)){if(Wn(p))throw Error(n(418));g=Oa(N.nextSibling);var k=Ze;g&&Gt(p,g)?dn(k,N):(p.flags=p.flags&-4097|2,ot=!1,Ze=p)}}else{if(Wn(p))throw Error(n(418));p.flags=p.flags&-4097|2,ot=!1,Ze=p}}}function dr(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ze=p}function Bi(p){if(p!==Ze)return!1;if(!ot)return dr(p),ot=!0,!1;var g;if((g=p.tag!==3)&&!(g=p.tag!==5)&&(g=p.type,g=g!=="head"&&g!=="body"&&!Cx(p.type,p.memoizedProps)),g&&(g=tt)){if(Wn(p))throw Yn(),Error(n(418));for(;g;)dn(p,g),g=Oa(g.nextSibling)}if(dr(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,g=0;p;){if(p.nodeType===8){var N=p.data;if(N==="/$"){if(g===0){tt=Oa(p.nextSibling);break e}g--}else N!=="$"&&N!=="$!"&&N!=="$?"||g++}p=p.nextSibling}tt=null}}else tt=Ze?Oa(p.stateNode.nextSibling):null;return!0}function Yn(){for(var p=tt;p;)p=Oa(p.nextSibling)}function Yt(){tt=Ze=null,ot=!1}function Rt(p){dt===null?dt=[p]:dt.push(p)}var Yi=_.ReactCurrentBatchConfig;function Dn(p,g,N){if(p=N.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(n(309));var k=N.stateNode}if(!k)throw Error(n(147,p));var L=k,H=""+p;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===H?g.ref:(g=function(se){var je=L.refs;se===null?delete je[H]:je[H]=se},g._stringRef=H,g)}if(typeof p!="string")throw Error(n(284));if(!N._owner)throw Error(n(290,p))}return p}function lr(p,g){throw p=Object.prototype.toString.call(g),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p))}function si(p){var g=p._init;return g(p._payload)}function Ts(p){function g(ze,Ie){if(p){var Ve=ze.deletions;Ve===null?(ze.deletions=[Ie],ze.flags|=16):Ve.push(Ie)}}function N(ze,Ie){if(!p)return null;for(;Ie!==null;)g(ze,Ie),Ie=Ie.sibling;return null}function k(ze,Ie){for(ze=new Map;Ie!==null;)Ie.key!==null?ze.set(Ie.key,Ie):ze.set(Ie.index,Ie),Ie=Ie.sibling;return ze}function L(ze,Ie){return ze=vh(ze,Ie),ze.index=0,ze.sibling=null,ze}function H(ze,Ie,Ve){return ze.index=Ve,p?(Ve=ze.alternate,Ve!==null?(Ve=Ve.index,Ve<Ie?(ze.flags|=2,Ie):Ve):(ze.flags|=2,Ie)):(ze.flags|=1048576,Ie)}function se(ze){return p&&ze.alternate===null&&(ze.flags|=2),ze}function je(ze,Ie,Ve,kt){return Ie===null||Ie.tag!==6?(Ie=CC(Ve,ze.mode,kt),Ie.return=ze,Ie):(Ie=L(Ie,Ve),Ie.return=ze,Ie)}function Oe(ze,Ie,Ve,kt){var fn=Ve.type;return fn===M?bt(ze,Ie,Ve.props.children,kt,Ve.key):Ie!==null&&(Ie.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===X&&si(fn)===Ie.type)?(kt=L(Ie,Ve.props),kt.ref=Dn(ze,Ie,Ve),kt.return=ze,kt):(kt=Cw(Ve.type,Ve.key,Ve.props,null,ze.mode,kt),kt.ref=Dn(ze,Ie,Ve),kt.return=ze,kt)}function Xe(ze,Ie,Ve,kt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Ve.containerInfo||Ie.stateNode.implementation!==Ve.implementation?(Ie=AC(Ve,ze.mode,kt),Ie.return=ze,Ie):(Ie=L(Ie,Ve.children||[]),Ie.return=ze,Ie)}function bt(ze,Ie,Ve,kt,fn){return Ie===null||Ie.tag!==7?(Ie=rm(Ve,ze.mode,kt,fn),Ie.return=ze,Ie):(Ie=L(Ie,Ve),Ie.return=ze,Ie)}function St(ze,Ie,Ve){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=CC(""+Ie,ze.mode,Ve),Ie.return=ze,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return Ve=Cw(Ie.type,Ie.key,Ie.props,null,ze.mode,Ve),Ve.ref=Dn(ze,null,Ie),Ve.return=ze,Ve;case O:return Ie=AC(Ie,ze.mode,Ve),Ie.return=ze,Ie;case X:var kt=Ie._init;return St(ze,kt(Ie._payload),Ve)}if(me(Ie)||Y(Ie))return Ie=rm(Ie,ze.mode,Ve,null),Ie.return=ze,Ie;lr(ze,Ie)}return null}function xt(ze,Ie,Ve,kt){var fn=Ie!==null?Ie.key:null;if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return fn!==null?null:je(ze,Ie,""+Ve,kt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case C:return Ve.key===fn?Oe(ze,Ie,Ve,kt):null;case O:return Ve.key===fn?Xe(ze,Ie,Ve,kt):null;case X:return fn=Ve._init,xt(ze,Ie,fn(Ve._payload),kt)}if(me(Ve)||Y(Ve))return fn!==null?null:bt(ze,Ie,Ve,kt,null);lr(ze,Ve)}return null}function Ht(ze,Ie,Ve,kt,fn){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return ze=ze.get(Ve)||null,je(Ie,ze,""+kt,fn);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case C:return ze=ze.get(kt.key===null?Ve:kt.key)||null,Oe(Ie,ze,kt,fn);case O:return ze=ze.get(kt.key===null?Ve:kt.key)||null,Xe(Ie,ze,kt,fn);case X:var kn=kt._init;return Ht(ze,Ie,Ve,kn(kt._payload),fn)}if(me(kt)||Y(kt))return ze=ze.get(Ve)||null,bt(Ie,ze,kt,fn,null);lr(Ie,kt)}return null}function nn(ze,Ie,Ve,kt){for(var fn=null,kn=null,Tn=Ie,qn=Ie=0,ma=null;Tn!==null&&qn<Ve.length;qn++){Tn.index>qn?(ma=Tn,Tn=null):ma=Tn.sibling;var Or=xt(ze,Tn,Ve[qn],kt);if(Or===null){Tn===null&&(Tn=ma);break}p&&Tn&&Or.alternate===null&&g(ze,Tn),Ie=H(Or,Ie,qn),kn===null?fn=Or:kn.sibling=Or,kn=Or,Tn=ma}if(qn===Ve.length)return N(ze,Tn),ot&&Me(ze,qn),fn;if(Tn===null){for(;qn<Ve.length;qn++)Tn=St(ze,Ve[qn],kt),Tn!==null&&(Ie=H(Tn,Ie,qn),kn===null?fn=Tn:kn.sibling=Tn,kn=Tn);return ot&&Me(ze,qn),fn}for(Tn=k(ze,Tn);qn<Ve.length;qn++)ma=Ht(Tn,ze,qn,Ve[qn],kt),ma!==null&&(p&&ma.alternate!==null&&Tn.delete(ma.key===null?qn:ma.key),Ie=H(ma,Ie,qn),kn===null?fn=ma:kn.sibling=ma,kn=ma);return p&&Tn.forEach(function(yh){return g(ze,yh)}),ot&&Me(ze,qn),fn}function ln(ze,Ie,Ve,kt){var fn=Y(Ve);if(typeof fn!="function")throw Error(n(150));if(Ve=fn.call(Ve),Ve==null)throw Error(n(151));for(var kn=fn=null,Tn=Ie,qn=Ie=0,ma=null,Or=Ve.next();Tn!==null&&!Or.done;qn++,Or=Ve.next()){Tn.index>qn?(ma=Tn,Tn=null):ma=Tn.sibling;var yh=xt(ze,Tn,Or.value,kt);if(yh===null){Tn===null&&(Tn=ma);break}p&&Tn&&yh.alternate===null&&g(ze,Tn),Ie=H(yh,Ie,qn),kn===null?fn=yh:kn.sibling=yh,kn=yh,Tn=ma}if(Or.done)return N(ze,Tn),ot&&Me(ze,qn),fn;if(Tn===null){for(;!Or.done;qn++,Or=Ve.next())Or=St(ze,Or.value,kt),Or!==null&&(Ie=H(Or,Ie,qn),kn===null?fn=Or:kn.sibling=Or,kn=Or);return ot&&Me(ze,qn),fn}for(Tn=k(ze,Tn);!Or.done;qn++,Or=Ve.next())Or=Ht(Tn,ze,qn,Or.value,kt),Or!==null&&(p&&Or.alternate!==null&&Tn.delete(Or.key===null?qn:Or.key),Ie=H(Or,Ie,qn),kn===null?fn=Or:kn.sibling=Or,kn=Or);return p&&Tn.forEach(function(aue){return g(ze,aue)}),ot&&Me(ze,qn),fn}function bs(ze,Ie,Ve,kt){if(typeof Ve=="object"&&Ve!==null&&Ve.type===M&&Ve.key===null&&(Ve=Ve.props.children),typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case C:e:{for(var fn=Ve.key,kn=Ie;kn!==null;){if(kn.key===fn){if(fn=Ve.type,fn===M){if(kn.tag===7){N(ze,kn.sibling),Ie=L(kn,Ve.props.children),Ie.return=ze,ze=Ie;break e}}else if(kn.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===X&&si(fn)===kn.type){N(ze,kn.sibling),Ie=L(kn,Ve.props),Ie.ref=Dn(ze,kn,Ve),Ie.return=ze,ze=Ie;break e}N(ze,kn);break}else g(ze,kn);kn=kn.sibling}Ve.type===M?(Ie=rm(Ve.props.children,ze.mode,kt,Ve.key),Ie.return=ze,ze=Ie):(kt=Cw(Ve.type,Ve.key,Ve.props,null,ze.mode,kt),kt.ref=Dn(ze,Ie,Ve),kt.return=ze,ze=kt)}return se(ze);case O:e:{for(kn=Ve.key;Ie!==null;){if(Ie.key===kn)if(Ie.tag===4&&Ie.stateNode.containerInfo===Ve.containerInfo&&Ie.stateNode.implementation===Ve.implementation){N(ze,Ie.sibling),Ie=L(Ie,Ve.children||[]),Ie.return=ze,ze=Ie;break e}else{N(ze,Ie);break}else g(ze,Ie);Ie=Ie.sibling}Ie=AC(Ve,ze.mode,kt),Ie.return=ze,ze=Ie}return se(ze);case X:return kn=Ve._init,bs(ze,Ie,kn(Ve._payload),kt)}if(me(Ve))return nn(ze,Ie,Ve,kt);if(Y(Ve))return ln(ze,Ie,Ve,kt);lr(ze,Ve)}return typeof Ve=="string"&&Ve!==""||typeof Ve=="number"?(Ve=""+Ve,Ie!==null&&Ie.tag===6?(N(ze,Ie.sibling),Ie=L(Ie,Ve),Ie.return=ze,ze=Ie):(N(ze,Ie),Ie=CC(Ve,ze.mode,kt),Ie.return=ze,ze=Ie),se(ze)):N(ze,Ie)}return bs}var rs=Ts(!0),ki=Ts(!1),ys=wl(null),Os=null,bi=null,gr=null;function Er(){gr=bi=Os=null}function wi(p){var g=ys.current;Dr(ys),p._currentValue=g}function jr(p,g,N){for(;p!==null;){var k=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,k!==null&&(k.childLanes|=g)):k!==null&&(k.childLanes&g)!==g&&(k.childLanes|=g),p===N)break;p=p.return}}function zi(p,g){Os=p,gr=bi=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&g)!==0&&(Ko=!0),p.firstContext=null)}function qi(p){var g=p._currentValue;if(gr!==p)if(p={context:p,memoizedValue:g,next:null},bi===null){if(Os===null)throw Error(n(308));bi=p,Os.dependencies={lanes:0,firstContext:p}}else bi=bi.next=p;return g}var Jr=null;function da(p){Jr===null?Jr=[p]:Jr.push(p)}function Vr(p,g,N,k){var L=g.interleaved;return L===null?(N.next=N,da(g)):(N.next=L.next,L.next=N),g.interleaved=N,Zr(p,k)}function Zr(p,g){p.lanes|=g;var N=p.alternate;for(N!==null&&(N.lanes|=g),N=p,p=p.return;p!==null;)p.childLanes|=g,N=p.alternate,N!==null&&(N.childLanes|=g),N=p,p=p.return;return N.tag===3?N.stateNode:null}var is=!1;function Ks(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xa(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Xi(p,g){return{eventTime:p,lane:g,tag:0,payload:null,callback:null,next:null}}function Qi(p,g,N){var k=p.updateQueue;if(k===null)return null;if(k=k.shared,(_r&2)!==0){var L=k.pending;return L===null?g.next=g:(g.next=L.next,L.next=g),k.pending=g,Zr(p,N)}return L=k.interleaved,L===null?(g.next=g,da(k)):(g.next=L.next,L.next=g),k.interleaved=g,Zr(p,N)}function fa(p,g,N){if(g=g.updateQueue,g!==null&&(g=g.shared,(N&4194240)!==0)){var k=g.lanes;k&=p.pendingLanes,N|=k,g.lanes=N,Pu(p,N)}}function ei(p,g){var N=p.updateQueue,k=p.alternate;if(k!==null&&(k=k.updateQueue,N===k)){var L=null,H=null;if(N=N.firstBaseUpdate,N!==null){do{var se={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};H===null?L=H=se:H=H.next=se,N=N.next}while(N!==null);H===null?L=H=g:H=H.next=g}else L=H=g;N={baseState:k.baseState,firstBaseUpdate:L,lastBaseUpdate:H,shared:k.shared,effects:k.effects},p.updateQueue=N;return}p=N.lastBaseUpdate,p===null?N.firstBaseUpdate=g:p.next=g,N.lastBaseUpdate=g}function ha(p,g,N,k){var L=p.updateQueue;is=!1;var H=L.firstBaseUpdate,se=L.lastBaseUpdate,je=L.shared.pending;if(je!==null){L.shared.pending=null;var Oe=je,Xe=Oe.next;Oe.next=null,se===null?H=Xe:se.next=Xe,se=Oe;var bt=p.alternate;bt!==null&&(bt=bt.updateQueue,je=bt.lastBaseUpdate,je!==se&&(je===null?bt.firstBaseUpdate=Xe:je.next=Xe,bt.lastBaseUpdate=Oe))}if(H!==null){var St=L.baseState;se=0,bt=Xe=Oe=null,je=H;do{var xt=je.lane,Ht=je.eventTime;if((k&xt)===xt){bt!==null&&(bt=bt.next={eventTime:Ht,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var nn=p,ln=je;switch(xt=g,Ht=N,ln.tag){case 1:if(nn=ln.payload,typeof nn=="function"){St=nn.call(Ht,St,xt);break e}St=nn;break e;case 3:nn.flags=nn.flags&-65537|128;case 0:if(nn=ln.payload,xt=typeof nn=="function"?nn.call(Ht,St,xt):nn,xt==null)break e;St=ie({},St,xt);break e;case 2:is=!0}}je.callback!==null&&je.lane!==0&&(p.flags|=64,xt=L.effects,xt===null?L.effects=[je]:xt.push(je))}else Ht={eventTime:Ht,lane:xt,tag:je.tag,payload:je.payload,callback:je.callback,next:null},bt===null?(Xe=bt=Ht,Oe=St):bt=bt.next=Ht,se|=xt;if(je=je.next,je===null){if(je=L.shared.pending,je===null)break;xt=je,je=xt.next,xt.next=null,L.lastBaseUpdate=xt,L.shared.pending=null}}while(!0);if(bt===null&&(Oe=St),L.baseState=Oe,L.firstBaseUpdate=Xe,L.lastBaseUpdate=bt,g=L.shared.interleaved,g!==null){L=g;do se|=L.lane,L=L.next;while(L!==g)}else H===null&&(L.shared.lanes=0);Zp|=se,p.lanes=se,p.memoizedState=St}}function Wo(p,g,N){if(p=g.effects,g.effects=null,p!==null)for(g=0;g<p.length;g++){var k=p[g],L=k.callback;if(L!==null){if(k.callback=null,k=N,typeof L!="function")throw Error(n(191,L));L.call(k)}}}var Nl={},Ps=wl(Nl),Ji=wl(Nl),Hu=wl(Nl);function Qc(p){if(p===Nl)throw Error(n(174));return p}function lh(p,g){switch(Hr(Hu,g),Hr(Ji,p),Hr(Ps,Nl),p=g.nodeType,p){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:_t(null,"");break;default:p=p===8?g.parentNode:g,g=p.namespaceURI||null,p=p.tagName,g=_t(g,p)}Dr(Ps),Hr(Ps,g)}function nc(){Dr(Ps),Dr(Ji),Dr(Hu)}function lw(p){Qc(Hu.current);var g=Qc(Ps.current),N=_t(g,p.type);g!==N&&(Hr(Ji,p),Hr(Ps,N))}function Px(p){Ji.current===p&&(Dr(Ps),Dr(Ji))}var ui=wl(0);function Sl(p){for(var g=p;g!==null;){if(g.tag===13){var N=g.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Mx=[];function Rx(){for(var p=0;p<Mx.length;p++)Mx[p]._workInProgressVersionPrimary=null;Mx.length=0}var Rg=_.ReactCurrentDispatcher,Ig=_.ReactCurrentBatchConfig,rc=0,Ni=null,ss=null,Zi=null,ch=!1,Jc=!1,uh=0,Z_=0;function xs(){throw Error(n(321))}function Dg(p,g){if(g===null)return!1;for(var N=0;N<g.length&&N<p.length;N++)if(!Fi(p[N],g[N]))return!1;return!0}function Xp(p,g,N,k,L,H){if(rc=H,Ni=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Rg.current=p===null||p.memoizedState===null?Pce:Mce,p=N(k,L),Jc){H=0;do{if(Jc=!1,uh=0,25<=H)throw Error(n(301));H+=1,Zi=ss=null,g.updateQueue=null,Rg.current=Rce,p=N(k,L)}while(Jc)}if(Rg.current=hw,g=ss!==null&&ss.next!==null,rc=0,Zi=ss=Ni=null,ch=!1,g)throw Error(n(300));return p}function ic(){var p=uh!==0;return uh=0,p}function El(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?Ni.memoizedState=Zi=p:Zi=Zi.next=p,Zi}function No(){if(ss===null){var p=Ni.alternate;p=p!==null?p.memoizedState:null}else p=ss.next;var g=Zi===null?Ni.memoizedState:Zi.next;if(g!==null)Zi=g,ss=p;else{if(p===null)throw Error(n(310));ss=p,p={memoizedState:ss.memoizedState,baseState:ss.baseState,baseQueue:ss.baseQueue,queue:ss.queue,next:null},Zi===null?Ni.memoizedState=Zi=p:Zi=Zi.next=p}return Zi}function Qp(p,g){return typeof g=="function"?g(p):g}function Lg(p){var g=No(),N=g.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=p;var k=ss,L=k.baseQueue,H=N.pending;if(H!==null){if(L!==null){var se=L.next;L.next=H.next,H.next=se}k.baseQueue=L=H,N.pending=null}if(L!==null){H=L.next,k=k.baseState;var je=se=null,Oe=null,Xe=H;do{var bt=Xe.lane;if((rc&bt)===bt)Oe!==null&&(Oe=Oe.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),k=Xe.hasEagerState?Xe.eagerState:p(k,Xe.action);else{var St={lane:bt,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};Oe===null?(je=Oe=St,se=k):Oe=Oe.next=St,Ni.lanes|=bt,Zp|=bt}Xe=Xe.next}while(Xe!==null&&Xe!==H);Oe===null?se=k:Oe.next=je,Fi(k,g.memoizedState)||(Ko=!0),g.memoizedState=k,g.baseState=se,g.baseQueue=Oe,N.lastRenderedState=k}if(p=N.interleaved,p!==null){L=p;do H=L.lane,Ni.lanes|=H,Zp|=H,L=L.next;while(L!==p)}else L===null&&(N.lanes=0);return[g.memoizedState,N.dispatch]}function Vu(p){var g=No(),N=g.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=p;var k=N.dispatch,L=N.pending,H=g.memoizedState;if(L!==null){N.pending=null;var se=L=L.next;do H=p(H,se.action),se=se.next;while(se!==L);Fi(H,g.memoizedState)||(Ko=!0),g.memoizedState=H,g.baseQueue===null&&(g.baseState=H),N.lastRenderedState=H}return[H,k]}function cw(){}function Ix(p,g){var N=Ni,k=No(),L=g(),H=!Fi(k.memoizedState,L);if(H&&(k.memoizedState=L,Ko=!0),k=k.queue,Bg(dw.bind(null,N,k,p),[p]),k.getSnapshot!==g||H||Zi!==null&&Zi.memoizedState.tag&1){if(N.flags|=2048,So(9,Dx.bind(null,N,k,L,g),void 0,null),pa===null)throw Error(n(349));(rc&30)!==0||uw(N,g,L)}return L}function uw(p,g,N){p.flags|=16384,p={getSnapshot:g,value:N},g=Ni.updateQueue,g===null?(g={lastEffect:null,stores:null},Ni.updateQueue=g,g.stores=[p]):(N=g.stores,N===null?g.stores=[p]:N.push(p))}function Dx(p,g,N,k){g.value=N,g.getSnapshot=k,dh(g)&&Fg(p)}function dw(p,g,N){return N(function(){dh(g)&&Fg(p)})}function dh(p){var g=p.getSnapshot;p=p.value;try{var N=g();return!Fi(p,N)}catch{return!0}}function Fg(p){var g=Zr(p,1);g!==null&&ru(g,p,1,-1)}function Jp(p){var g=El();return typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:p},g.queue=p,p=p.dispatch=Oce.bind(null,Ni,p),[g.memoizedState,p]}function So(p,g,N,k){return p={tag:p,create:g,destroy:N,deps:k,next:null},g=Ni.updateQueue,g===null?(g={lastEffect:null,stores:null},Ni.updateQueue=g,g.lastEffect=p.next=p):(N=g.lastEffect,N===null?g.lastEffect=p.next=p:(k=N.next,N.next=p,p.next=k,g.lastEffect=p)),p}function Zc(){return No().memoizedState}function jl(p,g,N,k){var L=El();Ni.flags|=p,L.memoizedState=So(1|g,N,void 0,k===void 0?null:k)}function Qd(p,g,N,k){var L=No();k=k===void 0?null:k;var H=void 0;if(ss!==null){var se=ss.memoizedState;if(H=se.destroy,k!==null&&Dg(k,se.deps)){L.memoizedState=So(g,N,H,k);return}}Ni.flags|=p,L.memoizedState=So(1|g,N,H,k)}function $g(p,g){return jl(8390656,8,p,g)}function Bg(p,g){return Qd(2048,8,p,g)}function fw(p,g){return Qd(4,2,p,g)}function zg(p,g){return Qd(4,4,p,g)}function qg(p,g){if(typeof g=="function")return p=p(),g(p),function(){g(null)};if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function G3(p,g,N){return N=N!=null?N.concat([p]):null,Qd(4,4,qg.bind(null,g,p),N)}function eC(){}function Y3(p,g){var N=No();g=g===void 0?null:g;var k=N.memoizedState;return k!==null&&g!==null&&Dg(g,k[1])?k[0]:(N.memoizedState=[p,g],p)}function X3(p,g){var N=No();g=g===void 0?null:g;var k=N.memoizedState;return k!==null&&g!==null&&Dg(g,k[1])?k[0]:(p=p(),N.memoizedState=[p,g],p)}function Q3(p,g,N){return(rc&21)===0?(p.baseState&&(p.baseState=!1,Ko=!0),p.memoizedState=N):(Fi(N,g)||(N=Vf(),Ni.lanes|=N,Zp|=N,p.baseState=!0),g)}function kce(p,g){var N=ur;ur=N!==0&&4>N?N:4,p(!0);var k=Ig.transition;Ig.transition={};try{p(!1),g()}finally{ur=N,Ig.transition=k}}function J3(){return No().memoizedState}function Tce(p,g,N){var k=mh(p);if(N={lane:k,action:N,hasEagerState:!1,eagerState:null,next:null},Z3(p))e6(g,N);else if(N=Vr(p,g,N,k),N!==null){var L=jo();ru(N,p,k,L),t6(N,g,k)}}function Oce(p,g,N){var k=mh(p),L={lane:k,action:N,hasEagerState:!1,eagerState:null,next:null};if(Z3(p))e6(g,L);else{var H=p.alternate;if(p.lanes===0&&(H===null||H.lanes===0)&&(H=g.lastRenderedReducer,H!==null))try{var se=g.lastRenderedState,je=H(se,N);if(L.hasEagerState=!0,L.eagerState=je,Fi(je,se)){var Oe=g.interleaved;Oe===null?(L.next=L,da(g)):(L.next=Oe.next,Oe.next=L),g.interleaved=L;return}}catch{}finally{}N=Vr(p,g,L,k),N!==null&&(L=jo(),ru(N,p,k,L),t6(N,g,k))}}function Z3(p){var g=p.alternate;return p===Ni||g!==null&&g===Ni}function e6(p,g){Jc=ch=!0;var N=p.pending;N===null?g.next=g:(g.next=N.next,N.next=g),p.pending=g}function t6(p,g,N){if((N&4194240)!==0){var k=g.lanes;k&=p.pendingLanes,N|=k,g.lanes=N,Pu(p,N)}}var hw={readContext:qi,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},Pce={readContext:qi,useCallback:function(p,g){return El().memoizedState=[p,g===void 0?null:g],p},useContext:qi,useEffect:$g,useImperativeHandle:function(p,g,N){return N=N!=null?N.concat([p]):null,jl(4194308,4,qg.bind(null,g,p),N)},useLayoutEffect:function(p,g){return jl(4194308,4,p,g)},useInsertionEffect:function(p,g){return jl(4,2,p,g)},useMemo:function(p,g){var N=El();return g=g===void 0?null:g,p=p(),N.memoizedState=[p,g],p},useReducer:function(p,g,N){var k=El();return g=N!==void 0?N(g):g,k.memoizedState=k.baseState=g,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:g},k.queue=p,p=p.dispatch=Tce.bind(null,Ni,p),[k.memoizedState,p]},useRef:function(p){var g=El();return p={current:p},g.memoizedState=p},useState:Jp,useDebugValue:eC,useDeferredValue:function(p){return El().memoizedState=p},useTransition:function(){var p=Jp(!1),g=p[0];return p=kce.bind(null,p[1]),El().memoizedState=p,[g,p]},useMutableSource:function(){},useSyncExternalStore:function(p,g,N){var k=Ni,L=El();if(ot){if(N===void 0)throw Error(n(407));N=N()}else{if(N=g(),pa===null)throw Error(n(349));(rc&30)!==0||uw(k,g,N)}L.memoizedState=N;var H={value:N,getSnapshot:g};return L.queue=H,$g(dw.bind(null,k,H,p),[p]),k.flags|=2048,So(9,Dx.bind(null,k,H,N,g),void 0,null),N},useId:function(){var p=El(),g=pa.identifierPrefix;if(ot){var N=be,k=Be;N=(k&~(1<<32-qr(k)-1)).toString(32)+N,g=":"+g+"R"+N,N=uh++,0<N&&(g+="H"+N.toString(32)),g+=":"}else N=Z_++,g=":"+g+"r"+N.toString(32)+":";return p.memoizedState=g},unstable_isNewReconciler:!1},Mce={readContext:qi,useCallback:Y3,useContext:qi,useEffect:Bg,useImperativeHandle:G3,useInsertionEffect:fw,useLayoutEffect:zg,useMemo:X3,useReducer:Lg,useRef:Zc,useState:function(){return Lg(Qp)},useDebugValue:eC,useDeferredValue:function(p){var g=No();return Q3(g,ss.memoizedState,p)},useTransition:function(){var p=Lg(Qp)[0],g=No().memoizedState;return[p,g]},useMutableSource:cw,useSyncExternalStore:Ix,useId:J3,unstable_isNewReconciler:!1},Rce={readContext:qi,useCallback:Y3,useContext:qi,useEffect:Bg,useImperativeHandle:G3,useInsertionEffect:fw,useLayoutEffect:zg,useMemo:X3,useReducer:Vu,useRef:Zc,useState:function(){return Vu(Qp)},useDebugValue:eC,useDeferredValue:function(p){var g=No();return ss===null?g.memoizedState=p:Q3(g,ss.memoizedState,p)},useTransition:function(){var p=Vu(Qp)[0],g=No().memoizedState;return[p,g]},useMutableSource:cw,useSyncExternalStore:Ix,useId:J3,unstable_isNewReconciler:!1};function eu(p,g){if(p&&p.defaultProps){g=ie({},g),p=p.defaultProps;for(var N in p)g[N]===void 0&&(g[N]=p[N]);return g}return g}function tC(p,g,N,k){g=p.memoizedState,N=N(k,g),N=N==null?g:ie({},g,N),p.memoizedState=N,p.lanes===0&&(p.updateQueue.baseState=N)}var pw={isMounted:function(p){return(p=p._reactInternals)?Di(p)===p:!1},enqueueSetState:function(p,g,N){p=p._reactInternals;var k=jo(),L=mh(p),H=Xi(k,L);H.payload=g,N!=null&&(H.callback=N),g=Qi(p,H,L),g!==null&&(ru(g,p,L,k),fa(g,p,L))},enqueueReplaceState:function(p,g,N){p=p._reactInternals;var k=jo(),L=mh(p),H=Xi(k,L);H.tag=1,H.payload=g,N!=null&&(H.callback=N),g=Qi(p,H,L),g!==null&&(ru(g,p,L,k),fa(g,p,L))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var N=jo(),k=mh(p),L=Xi(N,k);L.tag=2,g!=null&&(L.callback=g),g=Qi(p,L,k),g!==null&&(ru(g,p,k,N),fa(g,p,k))}};function n6(p,g,N,k,L,H,se){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(k,H,se):g.prototype&&g.prototype.isPureReactComponent?!Va(N,k)||!Va(L,H):!0}function r6(p,g,N){var k=!1,L=Uu,H=g.contextType;return typeof H=="object"&&H!==null?H=qi(H):(L=Ya(g)?Yd:Ws.current,k=g.contextTypes,H=(k=k!=null)?oh(p,L):Uu),g=new g(N,H),p.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=pw,p.stateNode=g,g._reactInternals=p,k&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=L,p.__reactInternalMemoizedMaskedChildContext=H),g}function i6(p,g,N,k){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(N,k),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(N,k),g.state!==p&&pw.enqueueReplaceState(g,g.state,null)}function nC(p,g,N,k){var L=p.stateNode;L.props=N,L.state=p.memoizedState,L.refs={},Ks(p);var H=g.contextType;typeof H=="object"&&H!==null?L.context=qi(H):(H=Ya(g)?Yd:Ws.current,L.context=oh(p,H)),L.state=p.memoizedState,H=g.getDerivedStateFromProps,typeof H=="function"&&(tC(p,g,H,N),L.state=p.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(g=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),g!==L.state&&pw.enqueueReplaceState(L,L.state,null),ha(p,N,L,k),L.state=p.memoizedState),typeof L.componentDidMount=="function"&&(p.flags|=4194308)}function Ug(p,g){try{var N="",k=g;do N+=re(k),k=k.return;while(k);var L=N}catch(H){L=`
Error generating stack: `+H.message+`
`+H.stack}return{value:p,source:g,stack:L,digest:null}}function rC(p,g,N){return{value:p,source:null,stack:N??null,digest:g??null}}function iC(p,g){try{console.error(g.value)}catch(N){setTimeout(function(){throw N})}}var Ice=typeof WeakMap=="function"?WeakMap:Map;function s6(p,g,N){N=Xi(-1,N),N.tag=3,N.payload={element:null};var k=g.value;return N.callback=function(){ww||(ww=!0,xC=k),iC(p,g)},N}function a6(p,g,N){N=Xi(-1,N),N.tag=3;var k=p.type.getDerivedStateFromError;if(typeof k=="function"){var L=g.value;N.payload=function(){return k(L)},N.callback=function(){iC(p,g)}}var H=p.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(N.callback=function(){iC(p,g),typeof k!="function"&&(hh===null?hh=new Set([this]):hh.add(this));var se=g.stack;this.componentDidCatch(g.value,{componentStack:se!==null?se:""})}),N}function o6(p,g,N){var k=p.pingCache;if(k===null){k=p.pingCache=new Ice;var L=new Set;k.set(g,L)}else L=k.get(g),L===void 0&&(L=new Set,k.set(g,L));L.has(N)||(L.add(N),p=Yce.bind(null,p,g,N),g.then(p,p))}function l6(p){do{var g;if((g=p.tag===13)&&(g=p.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return p;p=p.return}while(p!==null);return null}function c6(p,g,N,k,L){return(p.mode&1)===0?(p===g?p.flags|=65536:(p.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(g=Xi(-1,1),g.tag=2,Qi(N,g,1))),N.lanes|=1),p):(p.flags|=65536,p.lanes=L,p)}var Dce=_.ReactCurrentOwner,Ko=!1;function Eo(p,g,N,k){g.child=p===null?ki(g,null,N,k):rs(g,p.child,N,k)}function u6(p,g,N,k,L){N=N.render;var H=g.ref;return zi(g,L),k=Xp(p,g,N,k,H,L),N=ic(),p!==null&&!Ko?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~L,Jd(p,g,L)):(ot&&N&&rt(g),g.flags|=1,Eo(p,g,k,L),g.child)}function d6(p,g,N,k,L){if(p===null){var H=N.type;return typeof H=="function"&&!_C(H)&&H.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(g.tag=15,g.type=H,f6(p,g,H,k,L)):(p=Cw(N.type,null,k,g,g.mode,L),p.ref=g.ref,p.return=g,g.child=p)}if(H=p.child,(p.lanes&L)===0){var se=H.memoizedProps;if(N=N.compare,N=N!==null?N:Va,N(se,k)&&p.ref===g.ref)return Jd(p,g,L)}return g.flags|=1,p=vh(H,k),p.ref=g.ref,p.return=g,g.child=p}function f6(p,g,N,k,L){if(p!==null){var H=p.memoizedProps;if(Va(H,k)&&p.ref===g.ref)if(Ko=!1,g.pendingProps=k=H,(p.lanes&L)!==0)(p.flags&131072)!==0&&(Ko=!0);else return g.lanes=p.lanes,Jd(p,g,L)}return sC(p,g,N,k,L)}function h6(p,g,N){var k=g.pendingProps,L=k.children,H=p!==null?p.memoizedState:null;if(k.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(Vg,_l),_l|=N;else{if((N&1073741824)===0)return p=H!==null?H.baseLanes|N:N,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:p,cachePool:null,transitions:null},g.updateQueue=null,Hr(Vg,_l),_l|=p,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=H!==null?H.baseLanes:N,Hr(Vg,_l),_l|=k}else H!==null?(k=H.baseLanes|N,g.memoizedState=null):k=N,Hr(Vg,_l),_l|=k;return Eo(p,g,L,N),g.child}function p6(p,g){var N=g.ref;(p===null&&N!==null||p!==null&&p.ref!==N)&&(g.flags|=512,g.flags|=2097152)}function sC(p,g,N,k,L){var H=Ya(N)?Yd:Ws.current;return H=oh(g,H),zi(g,L),N=Xp(p,g,N,k,H,L),k=ic(),p!==null&&!Ko?(g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~L,Jd(p,g,L)):(ot&&k&&rt(g),g.flags|=1,Eo(p,g,N,L),g.child)}function m6(p,g,N,k,L){if(Ya(N)){var H=!0;Xd(g)}else H=!1;if(zi(g,L),g.stateNode===null)gw(p,g),r6(g,N,k),nC(g,N,k,L),k=!0;else if(p===null){var se=g.stateNode,je=g.memoizedProps;se.props=je;var Oe=se.context,Xe=N.contextType;typeof Xe=="object"&&Xe!==null?Xe=qi(Xe):(Xe=Ya(N)?Yd:Ws.current,Xe=oh(g,Xe));var bt=N.getDerivedStateFromProps,St=typeof bt=="function"||typeof se.getSnapshotBeforeUpdate=="function";St||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(je!==k||Oe!==Xe)&&i6(g,se,k,Xe),is=!1;var xt=g.memoizedState;se.state=xt,ha(g,k,se,L),Oe=g.memoizedState,je!==k||xt!==Oe||Ga.current||is?(typeof bt=="function"&&(tC(g,N,bt,k),Oe=g.memoizedState),(je=is||n6(g,N,je,k,xt,Oe,Xe))?(St||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(g.flags|=4194308)):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=k,g.memoizedState=Oe),se.props=k,se.state=Oe,se.context=Xe,k=je):(typeof se.componentDidMount=="function"&&(g.flags|=4194308),k=!1)}else{se=g.stateNode,Xa(p,g),je=g.memoizedProps,Xe=g.type===g.elementType?je:eu(g.type,je),se.props=Xe,St=g.pendingProps,xt=se.context,Oe=N.contextType,typeof Oe=="object"&&Oe!==null?Oe=qi(Oe):(Oe=Ya(N)?Yd:Ws.current,Oe=oh(g,Oe));var Ht=N.getDerivedStateFromProps;(bt=typeof Ht=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(je!==St||xt!==Oe)&&i6(g,se,k,Oe),is=!1,xt=g.memoizedState,se.state=xt,ha(g,k,se,L);var nn=g.memoizedState;je!==St||xt!==nn||Ga.current||is?(typeof Ht=="function"&&(tC(g,N,Ht,k),nn=g.memoizedState),(Xe=is||n6(g,N,Xe,k,xt,nn,Oe)||!1)?(bt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(k,nn,Oe),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(k,nn,Oe)),typeof se.componentDidUpdate=="function"&&(g.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof se.componentDidUpdate!="function"||je===p.memoizedProps&&xt===p.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||je===p.memoizedProps&&xt===p.memoizedState||(g.flags|=1024),g.memoizedProps=k,g.memoizedState=nn),se.props=k,se.state=nn,se.context=Oe,k=Xe):(typeof se.componentDidUpdate!="function"||je===p.memoizedProps&&xt===p.memoizedState||(g.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||je===p.memoizedProps&&xt===p.memoizedState||(g.flags|=1024),k=!1)}return aC(p,g,N,k,H,L)}function aC(p,g,N,k,L,H){p6(p,g);var se=(g.flags&128)!==0;if(!k&&!se)return L&&ow(g,N,!1),Jd(p,g,H);k=g.stateNode,Dce.current=g;var je=se&&typeof N.getDerivedStateFromError!="function"?null:k.render();return g.flags|=1,p!==null&&se?(g.child=rs(g,p.child,null,H),g.child=rs(g,null,je,H)):Eo(p,g,je,H),g.memoizedState=k.state,L&&ow(g,N,!0),g.child}function g6(p){var g=p.stateNode;g.pendingContext?aw(p,g.pendingContext,g.pendingContext!==g.context):g.context&&aw(p,g.context,!1),lh(p,g.containerInfo)}function v6(p,g,N,k,L){return Yt(),Rt(L),g.flags|=256,Eo(p,g,N,k),g.child}var oC={dehydrated:null,treeContext:null,retryLane:0};function lC(p){return{baseLanes:p,cachePool:null,transitions:null}}function y6(p,g,N){var k=g.pendingProps,L=ui.current,H=!1,se=(g.flags&128)!==0,je;if((je=se)||(je=p!==null&&p.memoizedState===null?!1:(L&2)!==0),je?(H=!0,g.flags&=-129):(p===null||p.memoizedState!==null)&&(L|=1),Hr(ui,L&1),p===null)return en(g),p=g.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((g.mode&1)===0?g.lanes=1:p.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(se=k.children,p=k.fallback,H?(k=g.mode,H=g.child,se={mode:"hidden",children:se},(k&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=se):H=Aw(se,k,0,null),p=rm(p,k,N,null),H.return=g,p.return=g,H.sibling=p,g.child=H,g.child.memoizedState=lC(N),g.memoizedState=oC,p):cC(g,se));if(L=p.memoizedState,L!==null&&(je=L.dehydrated,je!==null))return Lce(p,g,se,k,je,L,N);if(H){H=k.fallback,se=g.mode,L=p.child,je=L.sibling;var Oe={mode:"hidden",children:k.children};return(se&1)===0&&g.child!==L?(k=g.child,k.childLanes=0,k.pendingProps=Oe,g.deletions=null):(k=vh(L,Oe),k.subtreeFlags=L.subtreeFlags&14680064),je!==null?H=vh(je,H):(H=rm(H,se,N,null),H.flags|=2),H.return=g,k.return=g,k.sibling=H,g.child=k,k=H,H=g.child,se=p.child.memoizedState,se=se===null?lC(N):{baseLanes:se.baseLanes|N,cachePool:null,transitions:se.transitions},H.memoizedState=se,H.childLanes=p.childLanes&~N,g.memoizedState=oC,k}return H=p.child,p=H.sibling,k=vh(H,{mode:"visible",children:k.children}),(g.mode&1)===0&&(k.lanes=N),k.return=g,k.sibling=null,p!==null&&(N=g.deletions,N===null?(g.deletions=[p],g.flags|=16):N.push(p)),g.child=k,g.memoizedState=null,k}function cC(p,g){return g=Aw({mode:"visible",children:g},p.mode,0,null),g.return=p,p.child=g}function mw(p,g,N,k){return k!==null&&Rt(k),rs(g,p.child,null,N),p=cC(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function Lce(p,g,N,k,L,H,se){if(N)return g.flags&256?(g.flags&=-257,k=rC(Error(n(422))),mw(p,g,se,k)):g.memoizedState!==null?(g.child=p.child,g.flags|=128,null):(H=k.fallback,L=g.mode,k=Aw({mode:"visible",children:k.children},L,0,null),H=rm(H,L,se,null),H.flags|=2,k.return=g,H.return=g,k.sibling=H,g.child=k,(g.mode&1)!==0&&rs(g,p.child,null,se),g.child.memoizedState=lC(se),g.memoizedState=oC,H);if((g.mode&1)===0)return mw(p,g,se,null);if(L.data==="$!"){if(k=L.nextSibling&&L.nextSibling.dataset,k)var je=k.dgst;return k=je,H=Error(n(419)),k=rC(H,k,void 0),mw(p,g,se,k)}if(je=(se&p.childLanes)!==0,Ko||je){if(k=pa,k!==null){switch(se&-se){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(k.suspendedLanes|se))!==0?0:L,L!==0&&L!==H.retryLane&&(H.retryLane=L,Zr(p,L),ru(k,p,L,-1))}return jC(),k=rC(Error(n(421))),mw(p,g,se,k)}return L.data==="$?"?(g.flags|=128,g.child=p.child,g=Xce.bind(null,p),L._reactRetry=g,null):(p=H.treeContext,tt=Oa(L.nextSibling),Ze=g,ot=!0,dt=null,p!==null&&(he[ve++]=Be,he[ve++]=be,he[ve++]=Te,Be=p.id,be=p.overflow,Te=g),g=cC(g,k.children),g.flags|=4096,g)}function x6(p,g,N){p.lanes|=g;var k=p.alternate;k!==null&&(k.lanes|=g),jr(p.return,g,N)}function uC(p,g,N,k,L){var H=p.memoizedState;H===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:k,tail:N,tailMode:L}:(H.isBackwards=g,H.rendering=null,H.renderingStartTime=0,H.last=k,H.tail=N,H.tailMode=L)}function b6(p,g,N){var k=g.pendingProps,L=k.revealOrder,H=k.tail;if(Eo(p,g,k.children,N),k=ui.current,(k&2)!==0)k=k&1|2,g.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&x6(p,N,g);else if(p.tag===19)x6(p,N,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}k&=1}if(Hr(ui,k),(g.mode&1)===0)g.memoizedState=null;else switch(L){case"forwards":for(N=g.child,L=null;N!==null;)p=N.alternate,p!==null&&Sl(p)===null&&(L=N),N=N.sibling;N=L,N===null?(L=g.child,g.child=null):(L=N.sibling,N.sibling=null),uC(g,!1,L,N,H);break;case"backwards":for(N=null,L=g.child,g.child=null;L!==null;){if(p=L.alternate,p!==null&&Sl(p)===null){g.child=L;break}p=L.sibling,L.sibling=N,N=L,L=p}uC(g,!0,N,null,H);break;case"together":uC(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function gw(p,g){(g.mode&1)===0&&p!==null&&(p.alternate=null,g.alternate=null,g.flags|=2)}function Jd(p,g,N){if(p!==null&&(g.dependencies=p.dependencies),Zp|=g.lanes,(N&g.childLanes)===0)return null;if(p!==null&&g.child!==p.child)throw Error(n(153));if(g.child!==null){for(p=g.child,N=vh(p,p.pendingProps),g.child=N,N.return=g;p.sibling!==null;)p=p.sibling,N=N.sibling=vh(p,p.pendingProps),N.return=g;N.sibling=null}return g.child}function Fce(p,g,N){switch(g.tag){case 3:g6(g),Yt();break;case 5:lw(g);break;case 1:Ya(g.type)&&Xd(g);break;case 4:lh(g,g.stateNode.containerInfo);break;case 10:var k=g.type._context,L=g.memoizedProps.value;Hr(ys,k._currentValue),k._currentValue=L;break;case 13:if(k=g.memoizedState,k!==null)return k.dehydrated!==null?(Hr(ui,ui.current&1),g.flags|=128,null):(N&g.child.childLanes)!==0?y6(p,g,N):(Hr(ui,ui.current&1),p=Jd(p,g,N),p!==null?p.sibling:null);Hr(ui,ui.current&1);break;case 19:if(k=(N&g.childLanes)!==0,(p.flags&128)!==0){if(k)return b6(p,g,N);g.flags|=128}if(L=g.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Hr(ui,ui.current),k)break;return null;case 22:case 23:return g.lanes=0,h6(p,g,N)}return Jd(p,g,N)}var w6,dC,N6,S6;w6=function(p,g){for(var N=g.child;N!==null;){if(N.tag===5||N.tag===6)p.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},dC=function(){},N6=function(p,g,N,k){var L=p.memoizedProps;if(L!==k){p=g.stateNode,Qc(Ps.current);var H=null;switch(N){case"input":L=ee(p,L),k=ee(p,k),H=[];break;case"select":L=ie({},L,{value:void 0}),k=ie({},k,{value:void 0}),H=[];break;case"textarea":L=ke(p,L),k=ke(p,k),H=[];break;default:typeof L.onClick!="function"&&typeof k.onClick=="function"&&(p.onclick=ih)}ir(N,k);var se;N=null;for(Xe in L)if(!k.hasOwnProperty(Xe)&&L.hasOwnProperty(Xe)&&L[Xe]!=null)if(Xe==="style"){var je=L[Xe];for(se in je)je.hasOwnProperty(se)&&(N||(N={}),N[se]="")}else Xe!=="dangerouslySetInnerHTML"&&Xe!=="children"&&Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&Xe!=="autoFocus"&&(i.hasOwnProperty(Xe)?H||(H=[]):(H=H||[]).push(Xe,null));for(Xe in k){var Oe=k[Xe];if(je=L?.[Xe],k.hasOwnProperty(Xe)&&Oe!==je&&(Oe!=null||je!=null))if(Xe==="style")if(je){for(se in je)!je.hasOwnProperty(se)||Oe&&Oe.hasOwnProperty(se)||(N||(N={}),N[se]="");for(se in Oe)Oe.hasOwnProperty(se)&&je[se]!==Oe[se]&&(N||(N={}),N[se]=Oe[se])}else N||(H||(H=[]),H.push(Xe,N)),N=Oe;else Xe==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,je=je?je.__html:void 0,Oe!=null&&je!==Oe&&(H=H||[]).push(Xe,Oe)):Xe==="children"?typeof Oe!="string"&&typeof Oe!="number"||(H=H||[]).push(Xe,""+Oe):Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Xe)?(Oe!=null&&Xe==="onScroll"&&Qr("scroll",p),H||je===Oe||(H=[])):(H=H||[]).push(Xe,Oe))}N&&(H=H||[]).push("style",N);var Xe=H;(g.updateQueue=Xe)&&(g.flags|=4)}},S6=function(p,g,N,k){N!==k&&(g.flags|=4)};function Lx(p,g){if(!ot)switch(p.tailMode){case"hidden":g=p.tail;for(var N=null;g!==null;)g.alternate!==null&&(N=g),g=g.sibling;N===null?p.tail=null:N.sibling=null;break;case"collapsed":N=p.tail;for(var k=null;N!==null;)N.alternate!==null&&(k=N),N=N.sibling;k===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:k.sibling=null}}function Qa(p){var g=p.alternate!==null&&p.alternate.child===p.child,N=0,k=0;if(g)for(var L=p.child;L!==null;)N|=L.lanes|L.childLanes,k|=L.subtreeFlags&14680064,k|=L.flags&14680064,L.return=p,L=L.sibling;else for(L=p.child;L!==null;)N|=L.lanes|L.childLanes,k|=L.subtreeFlags,k|=L.flags,L.return=p,L=L.sibling;return p.subtreeFlags|=k,p.childLanes=N,g}function $ce(p,g,N){var k=g.pendingProps;switch(qe(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(g),null;case 1:return Ya(g.type)&&Mg(),Qa(g),null;case 3:return k=g.stateNode,nc(),Dr(Ga),Dr(Ws),Rx(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(p===null||p.child===null)&&(Bi(g)?g.flags|=4:p===null||p.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,dt!==null&&(NC(dt),dt=null))),dC(p,g),Qa(g),null;case 5:Px(g);var L=Qc(Hu.current);if(N=g.type,p!==null&&g.stateNode!=null)N6(p,g,N,k,L),p.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!k){if(g.stateNode===null)throw Error(n(166));return Qa(g),null}if(p=Qc(Ps.current),Bi(g)){k=g.stateNode,N=g.type;var H=g.memoizedProps;switch(k[tc]=g,k[sh]=H,p=(g.mode&1)!==0,N){case"dialog":Qr("cancel",k),Qr("close",k);break;case"iframe":case"object":case"embed":Qr("load",k);break;case"video":case"audio":for(L=0;L<zu.length;L++)Qr(zu[L],k);break;case"source":Qr("error",k);break;case"img":case"image":case"link":Qr("error",k),Qr("load",k);break;case"details":Qr("toggle",k);break;case"input":ne(k,H),Qr("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!H.multiple},Qr("invalid",k);break;case"textarea":Ge(k,H),Qr("invalid",k)}ir(N,H),L=null;for(var se in H)if(H.hasOwnProperty(se)){var je=H[se];se==="children"?typeof je=="string"?k.textContent!==je&&(H.suppressHydrationWarning!==!0&&Pg(k.textContent,je,p),L=["children",je]):typeof je=="number"&&k.textContent!==""+je&&(H.suppressHydrationWarning!==!0&&Pg(k.textContent,je,p),L=["children",""+je]):i.hasOwnProperty(se)&&je!=null&&se==="onScroll"&&Qr("scroll",k)}switch(N){case"input":Ce(k),et(k,H,!0);break;case"textarea":Ce(k),We(k);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(k.onclick=ih)}k=L,g.updateQueue=k,k!==null&&(g.flags|=4)}else{se=L.nodeType===9?L:L.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=nt(N)),p==="http://www.w3.org/1999/xhtml"?N==="script"?(p=se.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof k.is=="string"?p=se.createElement(N,{is:k.is}):(p=se.createElement(N),N==="select"&&(se=p,k.multiple?se.multiple=!0:k.size&&(se.size=k.size))):p=se.createElementNS(p,N),p[tc]=g,p[sh]=k,w6(p,g,!1,!1),g.stateNode=p;e:{switch(se=on(N,k),N){case"dialog":Qr("cancel",p),Qr("close",p),L=k;break;case"iframe":case"object":case"embed":Qr("load",p),L=k;break;case"video":case"audio":for(L=0;L<zu.length;L++)Qr(zu[L],p);L=k;break;case"source":Qr("error",p),L=k;break;case"img":case"image":case"link":Qr("error",p),Qr("load",p),L=k;break;case"details":Qr("toggle",p),L=k;break;case"input":ne(p,k),L=ee(p,k),Qr("invalid",p);break;case"option":L=k;break;case"select":p._wrapperState={wasMultiple:!!k.multiple},L=ie({},k,{value:void 0}),Qr("invalid",p);break;case"textarea":Ge(p,k),L=ke(p,k),Qr("invalid",p);break;default:L=k}ir(N,L),je=L;for(H in je)if(je.hasOwnProperty(H)){var Oe=je[H];H==="style"?zt(p,Oe):H==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,Oe!=null&&Ot(p,Oe)):H==="children"?typeof Oe=="string"?(N!=="textarea"||Oe!=="")&&Kt(p,Oe):typeof Oe=="number"&&Kt(p,""+Oe):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Oe!=null&&H==="onScroll"&&Qr("scroll",p):Oe!=null&&E(p,H,Oe,se))}switch(N){case"input":Ce(p),et(p,k,!1);break;case"textarea":Ce(p),We(p);break;case"option":k.value!=null&&p.setAttribute("value",""+xe(k.value));break;case"select":p.multiple=!!k.multiple,H=k.value,H!=null?Se(p,!!k.multiple,H,!1):k.defaultValue!=null&&Se(p,!!k.multiple,k.defaultValue,!0);break;default:typeof L.onClick=="function"&&(p.onclick=ih)}switch(N){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Qa(g),null;case 6:if(p&&g.stateNode!=null)S6(p,g,p.memoizedProps,k);else{if(typeof k!="string"&&g.stateNode===null)throw Error(n(166));if(N=Qc(Hu.current),Qc(Ps.current),Bi(g)){if(k=g.stateNode,N=g.memoizedProps,k[tc]=g,(H=k.nodeValue!==N)&&(p=Ze,p!==null))switch(p.tag){case 3:Pg(k.nodeValue,N,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Pg(k.nodeValue,N,(p.mode&1)!==0)}H&&(g.flags|=4)}else k=(N.nodeType===9?N:N.ownerDocument).createTextNode(k),k[tc]=g,g.stateNode=k}return Qa(g),null;case 13:if(Dr(ui),k=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ot&&tt!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Yn(),Yt(),g.flags|=98560,H=!1;else if(H=Bi(g),k!==null&&k.dehydrated!==null){if(p===null){if(!H)throw Error(n(318));if(H=g.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[tc]=g}else Yt(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Qa(g),H=!1}else dt!==null&&(NC(dt),dt=null),H=!0;if(!H)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=N,g):(k=k!==null,k!==(p!==null&&p.memoizedState!==null)&&k&&(g.child.flags|=8192,(g.mode&1)!==0&&(p===null||(ui.current&1)!==0?Gs===0&&(Gs=3):jC())),g.updateQueue!==null&&(g.flags|=4),Qa(g),null);case 4:return nc(),dC(p,g),p===null&&Vd(g.stateNode.containerInfo),Qa(g),null;case 10:return wi(g.type._context),Qa(g),null;case 17:return Ya(g.type)&&Mg(),Qa(g),null;case 19:if(Dr(ui),H=g.memoizedState,H===null)return Qa(g),null;if(k=(g.flags&128)!==0,se=H.rendering,se===null)if(k)Lx(H,!1);else{if(Gs!==0||p!==null&&(p.flags&128)!==0)for(p=g.child;p!==null;){if(se=Sl(p),se!==null){for(g.flags|=128,Lx(H,!1),k=se.updateQueue,k!==null&&(g.updateQueue=k,g.flags|=4),g.subtreeFlags=0,k=N,N=g.child;N!==null;)H=N,p=k,H.flags&=14680066,se=H.alternate,se===null?(H.childLanes=0,H.lanes=p,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=se.childLanes,H.lanes=se.lanes,H.child=se.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=se.memoizedProps,H.memoizedState=se.memoizedState,H.updateQueue=se.updateQueue,H.type=se.type,p=se.dependencies,H.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),N=N.sibling;return Hr(ui,ui.current&1|2),g.child}p=p.sibling}H.tail!==null&&Xr()>Wg&&(g.flags|=128,k=!0,Lx(H,!1),g.lanes=4194304)}else{if(!k)if(p=Sl(se),p!==null){if(g.flags|=128,k=!0,N=p.updateQueue,N!==null&&(g.updateQueue=N,g.flags|=4),Lx(H,!0),H.tail===null&&H.tailMode==="hidden"&&!se.alternate&&!ot)return Qa(g),null}else 2*Xr()-H.renderingStartTime>Wg&&N!==1073741824&&(g.flags|=128,k=!0,Lx(H,!1),g.lanes=4194304);H.isBackwards?(se.sibling=g.child,g.child=se):(N=H.last,N!==null?N.sibling=se:g.child=se,H.last=se)}return H.tail!==null?(g=H.tail,H.rendering=g,H.tail=g.sibling,H.renderingStartTime=Xr(),g.sibling=null,N=ui.current,Hr(ui,k?N&1|2:N&1),g):(Qa(g),null);case 22:case 23:return EC(),k=g.memoizedState!==null,p!==null&&p.memoizedState!==null!==k&&(g.flags|=8192),k&&(g.mode&1)!==0?(_l&1073741824)!==0&&(Qa(g),g.subtreeFlags&6&&(g.flags|=8192)):Qa(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function Bce(p,g){switch(qe(g),g.tag){case 1:return Ya(g.type)&&Mg(),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return nc(),Dr(Ga),Dr(Ws),Rx(),p=g.flags,(p&65536)!==0&&(p&128)===0?(g.flags=p&-65537|128,g):null;case 5:return Px(g),null;case 13:if(Dr(ui),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(n(340));Yt()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return Dr(ui),null;case 4:return nc(),null;case 10:return wi(g.type._context),null;case 22:case 23:return EC(),null;case 24:return null;default:return null}}var vw=!1,Ja=!1,zce=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Hg(p,g){var N=p.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(k){as(p,g,k)}else N.current=null}function fC(p,g,N){try{N()}catch(k){as(p,g,k)}}var E6=!1;function qce(p,g){if(Kp=Gf,p=ns(),bl(p)){if("selectionStart"in p)var N={start:p.selectionStart,end:p.selectionEnd};else e:{N=(N=p.ownerDocument)&&N.defaultView||window;var k=N.getSelection&&N.getSelection();if(k&&k.rangeCount!==0){N=k.anchorNode;var L=k.anchorOffset,H=k.focusNode;k=k.focusOffset;try{N.nodeType,H.nodeType}catch{N=null;break e}var se=0,je=-1,Oe=-1,Xe=0,bt=0,St=p,xt=null;t:for(;;){for(var Ht;St!==N||L!==0&&St.nodeType!==3||(je=se+L),St!==H||k!==0&&St.nodeType!==3||(Oe=se+k),St.nodeType===3&&(se+=St.nodeValue.length),(Ht=St.firstChild)!==null;)xt=St,St=Ht;for(;;){if(St===p)break t;if(xt===N&&++Xe===L&&(je=se),xt===H&&++bt===k&&(Oe=se),(Ht=St.nextSibling)!==null)break;St=xt,xt=St.parentNode}St=Ht}N=je===-1||Oe===-1?null:{start:je,end:Oe}}else N=null}N=N||{start:0,end:0}}else N=null;for(Kd={focusedElem:p,selectionRange:N},Gf=!1,Qt=g;Qt!==null;)if(g=Qt,p=g.child,(g.subtreeFlags&1028)!==0&&p!==null)p.return=g,Qt=p;else for(;Qt!==null;){g=Qt;try{var nn=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(nn!==null){var ln=nn.memoizedProps,bs=nn.memoizedState,ze=g.stateNode,Ie=ze.getSnapshotBeforeUpdate(g.elementType===g.type?ln:eu(g.type,ln),bs);ze.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var Ve=g.stateNode.containerInfo;Ve.nodeType===1?Ve.textContent="":Ve.nodeType===9&&Ve.documentElement&&Ve.removeChild(Ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(kt){as(g,g.return,kt)}if(p=g.sibling,p!==null){p.return=g.return,Qt=p;break}Qt=g.return}return nn=E6,E6=!1,nn}function Fx(p,g,N){var k=g.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var L=k=k.next;do{if((L.tag&p)===p){var H=L.destroy;L.destroy=void 0,H!==void 0&&fC(g,N,H)}L=L.next}while(L!==k)}}function yw(p,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&p)===p){var k=N.create;N.destroy=k()}N=N.next}while(N!==g)}}function hC(p){var g=p.ref;if(g!==null){var N=p.stateNode;switch(p.tag){case 5:p=N;break;default:p=N}typeof g=="function"?g(p):g.current=p}}function j6(p){var g=p.alternate;g!==null&&(p.alternate=null,j6(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&(delete g[tc],delete g[sh],delete g[Ka],delete g[Q_],delete g[J_])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function _6(p){return p.tag===5||p.tag===3||p.tag===4}function C6(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||_6(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function pC(p,g,N){var k=p.tag;if(k===5||k===6)p=p.stateNode,g?N.nodeType===8?N.parentNode.insertBefore(p,g):N.insertBefore(p,g):(N.nodeType===8?(g=N.parentNode,g.insertBefore(p,N)):(g=N,g.appendChild(p)),N=N._reactRootContainer,N!=null||g.onclick!==null||(g.onclick=ih));else if(k!==4&&(p=p.child,p!==null))for(pC(p,g,N),p=p.sibling;p!==null;)pC(p,g,N),p=p.sibling}function mC(p,g,N){var k=p.tag;if(k===5||k===6)p=p.stateNode,g?N.insertBefore(p,g):N.appendChild(p);else if(k!==4&&(p=p.child,p!==null))for(mC(p,g,N),p=p.sibling;p!==null;)mC(p,g,N),p=p.sibling}var Pa=null,tu=!1;function fh(p,g,N){for(N=N.child;N!==null;)A6(p,g,N),N=N.sibling}function A6(p,g,N){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Vn,N)}catch{}switch(N.tag){case 5:Ja||Hg(N,g);case 6:var k=Pa,L=tu;Pa=null,fh(p,g,N),Pa=k,tu=L,Pa!==null&&(tu?(p=Pa,N=N.stateNode,p.nodeType===8?p.parentNode.removeChild(N):p.removeChild(N)):Pa.removeChild(N.stateNode));break;case 18:Pa!==null&&(tu?(p=Pa,N=N.stateNode,p.nodeType===8?kx(p.parentNode,N):p.nodeType===1&&kx(p,N),Gl(p)):kx(Pa,N.stateNode));break;case 4:k=Pa,L=tu,Pa=N.stateNode.containerInfo,tu=!0,fh(p,g,N),Pa=k,tu=L;break;case 0:case 11:case 14:case 15:if(!Ja&&(k=N.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){L=k=k.next;do{var H=L,se=H.destroy;H=H.tag,se!==void 0&&((H&2)!==0||(H&4)!==0)&&fC(N,g,se),L=L.next}while(L!==k)}fh(p,g,N);break;case 1:if(!Ja&&(Hg(N,g),k=N.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=N.memoizedProps,k.state=N.memoizedState,k.componentWillUnmount()}catch(je){as(N,g,je)}fh(p,g,N);break;case 21:fh(p,g,N);break;case 22:N.mode&1?(Ja=(k=Ja)||N.memoizedState!==null,fh(p,g,N),Ja=k):fh(p,g,N);break;default:fh(p,g,N)}}function k6(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var N=p.stateNode;N===null&&(N=p.stateNode=new zce),g.forEach(function(k){var L=Qce.bind(null,p,k);N.has(k)||(N.add(k),k.then(L,L))})}}function nu(p,g){var N=g.deletions;if(N!==null)for(var k=0;k<N.length;k++){var L=N[k];try{var H=p,se=g,je=se;e:for(;je!==null;){switch(je.tag){case 5:Pa=je.stateNode,tu=!1;break e;case 3:Pa=je.stateNode.containerInfo,tu=!0;break e;case 4:Pa=je.stateNode.containerInfo,tu=!0;break e}je=je.return}if(Pa===null)throw Error(n(160));A6(H,se,L),Pa=null,tu=!1;var Oe=L.alternate;Oe!==null&&(Oe.return=null),L.return=null}catch(Xe){as(L,g,Xe)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)T6(g,p),g=g.sibling}function T6(p,g){var N=p.alternate,k=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(nu(g,p),Wu(p),k&4){try{Fx(3,p,p.return),yw(3,p)}catch(ln){as(p,p.return,ln)}try{Fx(5,p,p.return)}catch(ln){as(p,p.return,ln)}}break;case 1:nu(g,p),Wu(p),k&512&&N!==null&&Hg(N,N.return);break;case 5:if(nu(g,p),Wu(p),k&512&&N!==null&&Hg(N,N.return),p.flags&32){var L=p.stateNode;try{Kt(L,"")}catch(ln){as(p,p.return,ln)}}if(k&4&&(L=p.stateNode,L!=null)){var H=p.memoizedProps,se=N!==null?N.memoizedProps:H,je=p.type,Oe=p.updateQueue;if(p.updateQueue=null,Oe!==null)try{je==="input"&&H.type==="radio"&&H.name!=null&&Re(L,H),on(je,se);var Xe=on(je,H);for(se=0;se<Oe.length;se+=2){var bt=Oe[se],St=Oe[se+1];bt==="style"?zt(L,St):bt==="dangerouslySetInnerHTML"?Ot(L,St):bt==="children"?Kt(L,St):E(L,bt,St,Xe)}switch(je){case"input":ft(L,H);break;case"textarea":Ye(L,H);break;case"select":var xt=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!H.multiple;var Ht=H.value;Ht!=null?Se(L,!!H.multiple,Ht,!1):xt!==!!H.multiple&&(H.defaultValue!=null?Se(L,!!H.multiple,H.defaultValue,!0):Se(L,!!H.multiple,H.multiple?[]:"",!1))}L[sh]=H}catch(ln){as(p,p.return,ln)}}break;case 6:if(nu(g,p),Wu(p),k&4){if(p.stateNode===null)throw Error(n(162));L=p.stateNode,H=p.memoizedProps;try{L.nodeValue=H}catch(ln){as(p,p.return,ln)}}break;case 3:if(nu(g,p),Wu(p),k&4&&N!==null&&N.memoizedState.isDehydrated)try{Gl(g.containerInfo)}catch(ln){as(p,p.return,ln)}break;case 4:nu(g,p),Wu(p);break;case 13:nu(g,p),Wu(p),L=p.child,L.flags&8192&&(H=L.memoizedState!==null,L.stateNode.isHidden=H,!H||L.alternate!==null&&L.alternate.memoizedState!==null||(yC=Xr())),k&4&&k6(p);break;case 22:if(bt=N!==null&&N.memoizedState!==null,p.mode&1?(Ja=(Xe=Ja)||bt,nu(g,p),Ja=Xe):nu(g,p),Wu(p),k&8192){if(Xe=p.memoizedState!==null,(p.stateNode.isHidden=Xe)&&!bt&&(p.mode&1)!==0)for(Qt=p,bt=p.child;bt!==null;){for(St=Qt=bt;Qt!==null;){switch(xt=Qt,Ht=xt.child,xt.tag){case 0:case 11:case 14:case 15:Fx(4,xt,xt.return);break;case 1:Hg(xt,xt.return);var nn=xt.stateNode;if(typeof nn.componentWillUnmount=="function"){k=xt,N=xt.return;try{g=k,nn.props=g.memoizedProps,nn.state=g.memoizedState,nn.componentWillUnmount()}catch(ln){as(k,N,ln)}}break;case 5:Hg(xt,xt.return);break;case 22:if(xt.memoizedState!==null){M6(St);continue}}Ht!==null?(Ht.return=xt,Qt=Ht):M6(St)}bt=bt.sibling}e:for(bt=null,St=p;;){if(St.tag===5){if(bt===null){bt=St;try{L=St.stateNode,Xe?(H=L.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(je=St.stateNode,Oe=St.memoizedProps.style,se=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null,je.style.display=An("display",se))}catch(ln){as(p,p.return,ln)}}}else if(St.tag===6){if(bt===null)try{St.stateNode.nodeValue=Xe?"":St.memoizedProps}catch(ln){as(p,p.return,ln)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===p)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===p)break e;for(;St.sibling===null;){if(St.return===null||St.return===p)break e;bt===St&&(bt=null),St=St.return}bt===St&&(bt=null),St.sibling.return=St.return,St=St.sibling}}break;case 19:nu(g,p),Wu(p),k&4&&k6(p);break;case 21:break;default:nu(g,p),Wu(p)}}function Wu(p){var g=p.flags;if(g&2){try{e:{for(var N=p.return;N!==null;){if(_6(N)){var k=N;break e}N=N.return}throw Error(n(160))}switch(k.tag){case 5:var L=k.stateNode;k.flags&32&&(Kt(L,""),k.flags&=-33);var H=C6(p);mC(p,H,L);break;case 3:case 4:var se=k.stateNode.containerInfo,je=C6(p);pC(p,je,se);break;default:throw Error(n(161))}}catch(Oe){as(p,p.return,Oe)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function Uce(p,g,N){Qt=p,O6(p)}function O6(p,g,N){for(var k=(p.mode&1)!==0;Qt!==null;){var L=Qt,H=L.child;if(L.tag===22&&k){var se=L.memoizedState!==null||vw;if(!se){var je=L.alternate,Oe=je!==null&&je.memoizedState!==null||Ja;je=vw;var Xe=Ja;if(vw=se,(Ja=Oe)&&!Xe)for(Qt=L;Qt!==null;)se=Qt,Oe=se.child,se.tag===22&&se.memoizedState!==null?R6(L):Oe!==null?(Oe.return=se,Qt=Oe):R6(L);for(;H!==null;)Qt=H,O6(H),H=H.sibling;Qt=L,vw=je,Ja=Xe}P6(p)}else(L.subtreeFlags&8772)!==0&&H!==null?(H.return=L,Qt=H):P6(p)}}function P6(p){for(;Qt!==null;){var g=Qt;if((g.flags&8772)!==0){var N=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Ja||yw(5,g);break;case 1:var k=g.stateNode;if(g.flags&4&&!Ja)if(N===null)k.componentDidMount();else{var L=g.elementType===g.type?N.memoizedProps:eu(g.type,N.memoizedProps);k.componentDidUpdate(L,N.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var H=g.updateQueue;H!==null&&Wo(g,H,k);break;case 3:var se=g.updateQueue;if(se!==null){if(N=null,g.child!==null)switch(g.child.tag){case 5:N=g.child.stateNode;break;case 1:N=g.child.stateNode}Wo(g,se,N)}break;case 5:var je=g.stateNode;if(N===null&&g.flags&4){N=je;var Oe=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Oe.autoFocus&&N.focus();break;case"img":Oe.src&&(N.src=Oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Xe=g.alternate;if(Xe!==null){var bt=Xe.memoizedState;if(bt!==null){var St=bt.dehydrated;St!==null&&Gl(St)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ja||g.flags&512&&hC(g)}catch(xt){as(g,g.return,xt)}}if(g===p){Qt=null;break}if(N=g.sibling,N!==null){N.return=g.return,Qt=N;break}Qt=g.return}}function M6(p){for(;Qt!==null;){var g=Qt;if(g===p){Qt=null;break}var N=g.sibling;if(N!==null){N.return=g.return,Qt=N;break}Qt=g.return}}function R6(p){for(;Qt!==null;){var g=Qt;try{switch(g.tag){case 0:case 11:case 15:var N=g.return;try{yw(4,g)}catch(Oe){as(g,N,Oe)}break;case 1:var k=g.stateNode;if(typeof k.componentDidMount=="function"){var L=g.return;try{k.componentDidMount()}catch(Oe){as(g,L,Oe)}}var H=g.return;try{hC(g)}catch(Oe){as(g,H,Oe)}break;case 5:var se=g.return;try{hC(g)}catch(Oe){as(g,se,Oe)}}}catch(Oe){as(g,g.return,Oe)}if(g===p){Qt=null;break}var je=g.sibling;if(je!==null){je.return=g.return,Qt=je;break}Qt=g.return}}var Hce=Math.ceil,xw=_.ReactCurrentDispatcher,gC=_.ReactCurrentOwner,sc=_.ReactCurrentBatchConfig,_r=0,pa=null,Ms=null,Ma=0,_l=0,Vg=wl(0),Gs=0,$x=null,Zp=0,bw=0,vC=0,Bx=null,Go=null,yC=0,Wg=1/0,Zd=null,ww=!1,xC=null,hh=null,Nw=!1,ph=null,Sw=0,zx=0,bC=null,Ew=-1,jw=0;function jo(){return(_r&6)!==0?Xr():Ew!==-1?Ew:Ew=Xr()}function mh(p){return(p.mode&1)===0?1:(_r&2)!==0&&Ma!==0?Ma&-Ma:Yi.transition!==null?(jw===0&&(jw=Vf()),jw):(p=ur,p!==0||(p=window.event,p=p===void 0?16:Od(p.type)),p)}function ru(p,g,N,k){if(50<zx)throw zx=0,bC=null,Error(n(185));Kl(p,N,k),((_r&2)===0||p!==pa)&&(p===pa&&((_r&2)===0&&(bw|=N),Gs===4&&gh(p,Ma)),Yo(p,k),N===1&&_r===0&&(g.mode&1)===0&&(Wg=Xr()+500,Yp&&K()))}function Yo(p,g){var N=p.callbackNode;_i(p,g);var k=Hs(p,p===pa?Ma:0);if(k===0)N!==null&&oa(N),p.callbackNode=null,p.callbackPriority=0;else if(g=k&-k,p.callbackPriority!==g){if(N!=null&&oa(N),g===1)p.tag===0?B(D6.bind(null,p)):T(D6.bind(null,p)),Y_(function(){(_r&6)===0&&K()}),N=null;else{switch(xn(k)){case 1:N=Ou;break;case 4:N=Cs;break;case 16:N=Vl;break;case 536870912:N=an;break;default:N=Vl}N=H6(N,I6.bind(null,p))}p.callbackPriority=g,p.callbackNode=N}}function I6(p,g){if(Ew=-1,jw=0,(_r&6)!==0)throw Error(n(327));var N=p.callbackNode;if(Kg()&&p.callbackNode!==N)return null;var k=Hs(p,p===pa?Ma:0);if(k===0)return null;if((k&30)!==0||(k&p.expiredLanes)!==0||g)g=_w(p,k);else{g=k;var L=_r;_r|=2;var H=F6();(pa!==p||Ma!==g)&&(Zd=null,Wg=Xr()+500,tm(p,g));do try{Kce();break}catch(je){L6(p,je)}while(!0);Er(),xw.current=H,_r=L,Ms!==null?g=0:(pa=null,Ma=0,g=Gs)}if(g!==0){if(g===2&&(L=Fc(p),L!==0&&(k=L,g=wC(p,L))),g===1)throw N=$x,tm(p,0),gh(p,k),Yo(p,Xr()),N;if(g===6)gh(p,k);else{if(L=p.current.alternate,(k&30)===0&&!Vce(L)&&(g=_w(p,k),g===2&&(H=Fc(p),H!==0&&(k=H,g=wC(p,H))),g===1))throw N=$x,tm(p,0),gh(p,k),Yo(p,Xr()),N;switch(p.finishedWork=L,p.finishedLanes=k,g){case 0:case 1:throw Error(n(345));case 2:nm(p,Go,Zd);break;case 3:if(gh(p,k),(k&130023424)===k&&(g=yC+500-Xr(),10<g)){if(Hs(p,0)!==0)break;if(L=p.suspendedLanes,(L&k)!==k){jo(),p.pingedLanes|=p.suspendedLanes&L;break}p.timeoutHandle=Ax(nm.bind(null,p,Go,Zd),g);break}nm(p,Go,Zd);break;case 4:if(gh(p,k),(k&4194240)===k)break;for(g=p.eventTimes,L=-1;0<k;){var se=31-qr(k);H=1<<se,se=g[se],se>L&&(L=se),k&=~H}if(k=L,k=Xr()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*Hce(k/1960))-k,10<k){p.timeoutHandle=Ax(nm.bind(null,p,Go,Zd),k);break}nm(p,Go,Zd);break;case 5:nm(p,Go,Zd);break;default:throw Error(n(329))}}}return Yo(p,Xr()),p.callbackNode===N?I6.bind(null,p):null}function wC(p,g){var N=Bx;return p.current.memoizedState.isDehydrated&&(tm(p,g).flags|=256),p=_w(p,g),p!==2&&(g=Go,Go=N,g!==null&&NC(g)),p}function NC(p){Go===null?Go=p:Go.push.apply(Go,p)}function Vce(p){for(var g=p;;){if(g.flags&16384){var N=g.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var k=0;k<N.length;k++){var L=N[k],H=L.getSnapshot;L=L.value;try{if(!Fi(H(),L))return!1}catch{return!1}}}if(N=g.child,g.subtreeFlags&16384&&N!==null)N.return=g,g=N;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function gh(p,g){for(g&=~vC,g&=~bw,p.suspendedLanes|=g,p.pingedLanes&=~g,p=p.expirationTimes;0<g;){var N=31-qr(g),k=1<<N;p[N]=-1,g&=~k}}function D6(p){if((_r&6)!==0)throw Error(n(327));Kg();var g=Hs(p,0);if((g&1)===0)return Yo(p,Xr()),null;var N=_w(p,g);if(p.tag!==0&&N===2){var k=Fc(p);k!==0&&(g=k,N=wC(p,k))}if(N===1)throw N=$x,tm(p,0),gh(p,g),Yo(p,Xr()),N;if(N===6)throw Error(n(345));return p.finishedWork=p.current.alternate,p.finishedLanes=g,nm(p,Go,Zd),Yo(p,Xr()),null}function SC(p,g){var N=_r;_r|=1;try{return p(g)}finally{_r=N,_r===0&&(Wg=Xr()+500,Yp&&K())}}function em(p){ph!==null&&ph.tag===0&&(_r&6)===0&&Kg();var g=_r;_r|=1;var N=sc.transition,k=ur;try{if(sc.transition=null,ur=1,p)return p()}finally{ur=k,sc.transition=N,_r=g,(_r&6)===0&&K()}}function EC(){_l=Vg.current,Dr(Vg)}function tm(p,g){p.finishedWork=null,p.finishedLanes=0;var N=p.timeoutHandle;if(N!==-1&&(p.timeoutHandle=-1,iw(N)),Ms!==null)for(N=Ms.return;N!==null;){var k=N;switch(qe(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&Mg();break;case 3:nc(),Dr(Ga),Dr(Ws),Rx();break;case 5:Px(k);break;case 4:nc();break;case 13:Dr(ui);break;case 19:Dr(ui);break;case 10:wi(k.type._context);break;case 22:case 23:EC()}N=N.return}if(pa=p,Ms=p=vh(p.current,null),Ma=_l=g,Gs=0,$x=null,vC=bw=Zp=0,Go=Bx=null,Jr!==null){for(g=0;g<Jr.length;g++)if(N=Jr[g],k=N.interleaved,k!==null){N.interleaved=null;var L=k.next,H=N.pending;if(H!==null){var se=H.next;H.next=L,k.next=se}N.pending=k}Jr=null}return p}function L6(p,g){do{var N=Ms;try{if(Er(),Rg.current=hw,ch){for(var k=Ni.memoizedState;k!==null;){var L=k.queue;L!==null&&(L.pending=null),k=k.next}ch=!1}if(rc=0,Zi=ss=Ni=null,Jc=!1,uh=0,gC.current=null,N===null||N.return===null){Gs=1,$x=g,Ms=null;break}e:{var H=p,se=N.return,je=N,Oe=g;if(g=Ma,je.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var Xe=Oe,bt=je,St=bt.tag;if((bt.mode&1)===0&&(St===0||St===11||St===15)){var xt=bt.alternate;xt?(bt.updateQueue=xt.updateQueue,bt.memoizedState=xt.memoizedState,bt.lanes=xt.lanes):(bt.updateQueue=null,bt.memoizedState=null)}var Ht=l6(se);if(Ht!==null){Ht.flags&=-257,c6(Ht,se,je,H,g),Ht.mode&1&&o6(H,Xe,g),g=Ht,Oe=Xe;var nn=g.updateQueue;if(nn===null){var ln=new Set;ln.add(Oe),g.updateQueue=ln}else nn.add(Oe);break e}else{if((g&1)===0){o6(H,Xe,g),jC();break e}Oe=Error(n(426))}}else if(ot&&je.mode&1){var bs=l6(se);if(bs!==null){(bs.flags&65536)===0&&(bs.flags|=256),c6(bs,se,je,H,g),Rt(Ug(Oe,je));break e}}H=Oe=Ug(Oe,je),Gs!==4&&(Gs=2),Bx===null?Bx=[H]:Bx.push(H),H=se;do{switch(H.tag){case 3:H.flags|=65536,g&=-g,H.lanes|=g;var ze=s6(H,Oe,g);ei(H,ze);break e;case 1:je=Oe;var Ie=H.type,Ve=H.stateNode;if((H.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||Ve!==null&&typeof Ve.componentDidCatch=="function"&&(hh===null||!hh.has(Ve)))){H.flags|=65536,g&=-g,H.lanes|=g;var kt=a6(H,je,g);ei(H,kt);break e}}H=H.return}while(H!==null)}B6(N)}catch(fn){g=fn,Ms===N&&N!==null&&(Ms=N=N.return);continue}break}while(!0)}function F6(){var p=xw.current;return xw.current=hw,p===null?hw:p}function jC(){(Gs===0||Gs===3||Gs===2)&&(Gs=4),pa===null||(Zp&268435455)===0&&(bw&268435455)===0||gh(pa,Ma)}function _w(p,g){var N=_r;_r|=2;var k=F6();(pa!==p||Ma!==g)&&(Zd=null,tm(p,g));do try{Wce();break}catch(L){L6(p,L)}while(!0);if(Er(),_r=N,xw.current=k,Ms!==null)throw Error(n(261));return pa=null,Ma=0,Gs}function Wce(){for(;Ms!==null;)$6(Ms)}function Kce(){for(;Ms!==null&&!Dc();)$6(Ms)}function $6(p){var g=U6(p.alternate,p,_l);p.memoizedProps=p.pendingProps,g===null?B6(p):Ms=g,gC.current=null}function B6(p){var g=p;do{var N=g.alternate;if(p=g.return,(g.flags&32768)===0){if(N=$ce(N,g,_l),N!==null){Ms=N;return}}else{if(N=Bce(N,g),N!==null){N.flags&=32767,Ms=N;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Gs=6,Ms=null;return}}if(g=g.sibling,g!==null){Ms=g;return}Ms=g=p}while(g!==null);Gs===0&&(Gs=5)}function nm(p,g,N){var k=ur,L=sc.transition;try{sc.transition=null,ur=1,Gce(p,g,N,k)}finally{sc.transition=L,ur=k}return null}function Gce(p,g,N,k){do Kg();while(ph!==null);if((_r&6)!==0)throw Error(n(327));N=p.finishedWork;var L=p.finishedLanes;if(N===null)return null;if(p.finishedWork=null,p.finishedLanes=0,N===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0;var H=N.lanes|N.childLanes;if(Wi(p,H),p===pa&&(Ms=pa=null,Ma=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||Nw||(Nw=!0,H6(Vl,function(){return Kg(),null})),H=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||H){H=sc.transition,sc.transition=null;var se=ur;ur=1;var je=_r;_r|=4,gC.current=null,qce(p,N),T6(N,p),$p(Kd),Gf=!!Kp,Kd=Kp=null,p.current=N,Uce(N),Uf(),_r=je,ur=se,sc.transition=H}else p.current=N;if(Nw&&(Nw=!1,ph=p,Sw=L),H=p.pendingLanes,H===0&&(hh=null),yi(N.stateNode),Yo(p,Xr()),g!==null)for(k=p.onRecoverableError,N=0;N<g.length;N++)L=g[N],k(L.value,{componentStack:L.stack,digest:L.digest});if(ww)throw ww=!1,p=xC,xC=null,p;return(Sw&1)!==0&&p.tag!==0&&Kg(),H=p.pendingLanes,(H&1)!==0?p===bC?zx++:(zx=0,bC=p):zx=0,K(),null}function Kg(){if(ph!==null){var p=xn(Sw),g=sc.transition,N=ur;try{if(sc.transition=null,ur=16>p?16:p,ph===null)var k=!1;else{if(p=ph,ph=null,Sw=0,(_r&6)!==0)throw Error(n(331));var L=_r;for(_r|=4,Qt=p.current;Qt!==null;){var H=Qt,se=H.child;if((Qt.flags&16)!==0){var je=H.deletions;if(je!==null){for(var Oe=0;Oe<je.length;Oe++){var Xe=je[Oe];for(Qt=Xe;Qt!==null;){var bt=Qt;switch(bt.tag){case 0:case 11:case 15:Fx(8,bt,H)}var St=bt.child;if(St!==null)St.return=bt,Qt=St;else for(;Qt!==null;){bt=Qt;var xt=bt.sibling,Ht=bt.return;if(j6(bt),bt===Xe){Qt=null;break}if(xt!==null){xt.return=Ht,Qt=xt;break}Qt=Ht}}}var nn=H.alternate;if(nn!==null){var ln=nn.child;if(ln!==null){nn.child=null;do{var bs=ln.sibling;ln.sibling=null,ln=bs}while(ln!==null)}}Qt=H}}if((H.subtreeFlags&2064)!==0&&se!==null)se.return=H,Qt=se;else e:for(;Qt!==null;){if(H=Qt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Fx(9,H,H.return)}var ze=H.sibling;if(ze!==null){ze.return=H.return,Qt=ze;break e}Qt=H.return}}var Ie=p.current;for(Qt=Ie;Qt!==null;){se=Qt;var Ve=se.child;if((se.subtreeFlags&2064)!==0&&Ve!==null)Ve.return=se,Qt=Ve;else e:for(se=Ie;Qt!==null;){if(je=Qt,(je.flags&2048)!==0)try{switch(je.tag){case 0:case 11:case 15:yw(9,je)}}catch(fn){as(je,je.return,fn)}if(je===se){Qt=null;break e}var kt=je.sibling;if(kt!==null){kt.return=je.return,Qt=kt;break e}Qt=je.return}}if(_r=L,K(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Vn,p)}catch{}k=!0}return k}finally{ur=N,sc.transition=g}}return!1}function z6(p,g,N){g=Ug(N,g),g=s6(p,g,1),p=Qi(p,g,1),g=jo(),p!==null&&(Kl(p,1,g),Yo(p,g))}function as(p,g,N){if(p.tag===3)z6(p,p,N);else for(;g!==null;){if(g.tag===3){z6(g,p,N);break}else if(g.tag===1){var k=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(hh===null||!hh.has(k))){p=Ug(N,p),p=a6(g,p,1),g=Qi(g,p,1),p=jo(),g!==null&&(Kl(g,1,p),Yo(g,p));break}}g=g.return}}function Yce(p,g,N){var k=p.pingCache;k!==null&&k.delete(g),g=jo(),p.pingedLanes|=p.suspendedLanes&N,pa===p&&(Ma&N)===N&&(Gs===4||Gs===3&&(Ma&130023424)===Ma&&500>Xr()-yC?tm(p,0):vC|=N),Yo(p,g)}function q6(p,g){g===0&&((p.mode&1)===0?g=1:(g=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var N=jo();p=Zr(p,g),p!==null&&(Kl(p,g,N),Yo(p,N))}function Xce(p){var g=p.memoizedState,N=0;g!==null&&(N=g.retryLane),q6(p,N)}function Qce(p,g){var N=0;switch(p.tag){case 13:var k=p.stateNode,L=p.memoizedState;L!==null&&(N=L.retryLane);break;case 19:k=p.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(g),q6(p,N)}var U6;U6=function(p,g,N){if(p!==null)if(p.memoizedProps!==g.pendingProps||Ga.current)Ko=!0;else{if((p.lanes&N)===0&&(g.flags&128)===0)return Ko=!1,Fce(p,g,N);Ko=(p.flags&131072)!==0}else Ko=!1,ot&&(g.flags&1048576)!==0&&Le(g,ue,g.index);switch(g.lanes=0,g.tag){case 2:var k=g.type;gw(p,g),p=g.pendingProps;var L=oh(g,Ws.current);zi(g,N),L=Xp(null,g,k,p,L,N);var H=ic();return g.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Ya(k)?(H=!0,Xd(g)):H=!1,g.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Ks(g),L.updater=pw,g.stateNode=L,L._reactInternals=g,nC(g,k,p,N),g=aC(null,g,k,!0,H,N)):(g.tag=0,ot&&H&&rt(g),Eo(null,g,L,N),g=g.child),g;case 16:k=g.elementType;e:{switch(gw(p,g),p=g.pendingProps,L=k._init,k=L(k._payload),g.type=k,L=g.tag=Zce(k),p=eu(k,p),L){case 0:g=sC(null,g,k,p,N);break e;case 1:g=m6(null,g,k,p,N);break e;case 11:g=u6(null,g,k,p,N);break e;case 14:g=d6(null,g,k,eu(k.type,p),N);break e}throw Error(n(306,k,""))}return g;case 0:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:eu(k,L),sC(p,g,k,L,N);case 1:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:eu(k,L),m6(p,g,k,L,N);case 3:e:{if(g6(g),p===null)throw Error(n(387));k=g.pendingProps,H=g.memoizedState,L=H.element,Xa(p,g),ha(g,k,null,N);var se=g.memoizedState;if(k=se.element,H.isDehydrated)if(H={element:k,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},g.updateQueue.baseState=H,g.memoizedState=H,g.flags&256){L=Ug(Error(n(423)),g),g=v6(p,g,k,N,L);break e}else if(k!==L){L=Ug(Error(n(424)),g),g=v6(p,g,k,N,L);break e}else for(tt=Oa(g.stateNode.containerInfo.firstChild),Ze=g,ot=!0,dt=null,N=ki(g,null,k,N),g.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Yt(),k===L){g=Jd(p,g,N);break e}Eo(p,g,k,N)}g=g.child}return g;case 5:return lw(g),p===null&&en(g),k=g.type,L=g.pendingProps,H=p!==null?p.memoizedProps:null,se=L.children,Cx(k,L)?se=null:H!==null&&Cx(k,H)&&(g.flags|=32),p6(p,g),Eo(p,g,se,N),g.child;case 6:return p===null&&en(g),null;case 13:return y6(p,g,N);case 4:return lh(g,g.stateNode.containerInfo),k=g.pendingProps,p===null?g.child=rs(g,null,k,N):Eo(p,g,k,N),g.child;case 11:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:eu(k,L),u6(p,g,k,L,N);case 7:return Eo(p,g,g.pendingProps,N),g.child;case 8:return Eo(p,g,g.pendingProps.children,N),g.child;case 12:return Eo(p,g,g.pendingProps.children,N),g.child;case 10:e:{if(k=g.type._context,L=g.pendingProps,H=g.memoizedProps,se=L.value,Hr(ys,k._currentValue),k._currentValue=se,H!==null)if(Fi(H.value,se)){if(H.children===L.children&&!Ga.current){g=Jd(p,g,N);break e}}else for(H=g.child,H!==null&&(H.return=g);H!==null;){var je=H.dependencies;if(je!==null){se=H.child;for(var Oe=je.firstContext;Oe!==null;){if(Oe.context===k){if(H.tag===1){Oe=Xi(-1,N&-N),Oe.tag=2;var Xe=H.updateQueue;if(Xe!==null){Xe=Xe.shared;var bt=Xe.pending;bt===null?Oe.next=Oe:(Oe.next=bt.next,bt.next=Oe),Xe.pending=Oe}}H.lanes|=N,Oe=H.alternate,Oe!==null&&(Oe.lanes|=N),jr(H.return,N,g),je.lanes|=N;break}Oe=Oe.next}}else if(H.tag===10)se=H.type===g.type?null:H.child;else if(H.tag===18){if(se=H.return,se===null)throw Error(n(341));se.lanes|=N,je=se.alternate,je!==null&&(je.lanes|=N),jr(se,N,g),se=H.sibling}else se=H.child;if(se!==null)se.return=H;else for(se=H;se!==null;){if(se===g){se=null;break}if(H=se.sibling,H!==null){H.return=se.return,se=H;break}se=se.return}H=se}Eo(p,g,L.children,N),g=g.child}return g;case 9:return L=g.type,k=g.pendingProps.children,zi(g,N),L=qi(L),k=k(L),g.flags|=1,Eo(p,g,k,N),g.child;case 14:return k=g.type,L=eu(k,g.pendingProps),L=eu(k.type,L),d6(p,g,k,L,N);case 15:return f6(p,g,g.type,g.pendingProps,N);case 17:return k=g.type,L=g.pendingProps,L=g.elementType===k?L:eu(k,L),gw(p,g),g.tag=1,Ya(k)?(p=!0,Xd(g)):p=!1,zi(g,N),r6(g,k,L),nC(g,k,L,N),aC(null,g,k,!0,p,N);case 19:return b6(p,g,N);case 22:return h6(p,g,N)}throw Error(n(156,g.tag))};function H6(p,g){return Ic(p,g)}function Jce(p,g,N,k){this.tag=p,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ac(p,g,N,k){return new Jce(p,g,N,k)}function _C(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Zce(p){if(typeof p=="function")return _C(p)?1:0;if(p!=null){if(p=p.$$typeof,p===$)return 11;if(p===G)return 14}return 2}function vh(p,g){var N=p.alternate;return N===null?(N=ac(p.tag,g,p.key,p.mode),N.elementType=p.elementType,N.type=p.type,N.stateNode=p.stateNode,N.alternate=p,p.alternate=N):(N.pendingProps=g,N.type=p.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=p.flags&14680064,N.childLanes=p.childLanes,N.lanes=p.lanes,N.child=p.child,N.memoizedProps=p.memoizedProps,N.memoizedState=p.memoizedState,N.updateQueue=p.updateQueue,g=p.dependencies,N.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},N.sibling=p.sibling,N.index=p.index,N.ref=p.ref,N}function Cw(p,g,N,k,L,H){var se=2;if(k=p,typeof p=="function")_C(p)&&(se=1);else if(typeof p=="string")se=5;else e:switch(p){case M:return rm(N.children,L,H,g);case A:se=8,L|=8;break;case P:return p=ac(12,N,g,L|2),p.elementType=P,p.lanes=H,p;case q:return p=ac(13,N,g,L),p.elementType=q,p.lanes=H,p;case z:return p=ac(19,N,g,L),p.elementType=z,p.lanes=H,p;case U:return Aw(N,L,H,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case F:se=10;break e;case R:se=9;break e;case $:se=11;break e;case G:se=14;break e;case X:se=16,k=null;break e}throw Error(n(130,p==null?p:typeof p,""))}return g=ac(se,N,g,L),g.elementType=p,g.type=k,g.lanes=H,g}function rm(p,g,N,k){return p=ac(7,p,k,g),p.lanes=N,p}function Aw(p,g,N,k){return p=ac(22,p,k,g),p.elementType=U,p.lanes=N,p.stateNode={isHidden:!1},p}function CC(p,g,N){return p=ac(6,p,null,g),p.lanes=N,p}function AC(p,g,N){return g=ac(4,p.children!==null?p.children:[],p.key,g),g.lanes=N,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function eue(p,g,N,k,L){this.tag=g,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wl(0),this.expirationTimes=Wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.identifierPrefix=k,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function kC(p,g,N,k,L,H,se,je,Oe){return p=new eue(p,g,N,je,Oe),g===1?(g=1,H===!0&&(g|=8)):g=0,H=ac(3,null,null,g),p.current=H,H.stateNode=p,H.memoizedState={element:k,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ks(H),p}function tue(p,g,N){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:k==null?null:""+k,children:p,containerInfo:g,implementation:N}}function V6(p){if(!p)return Uu;p=p._reactInternals;e:{if(Di(p)!==p||p.tag!==1)throw Error(n(170));var g=p;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Ya(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(p.tag===1){var N=p.type;if(Ya(N))return Ox(p,N,g)}return g}function W6(p,g,N,k,L,H,se,je,Oe){return p=kC(N,k,!0,p,L,H,se,je,Oe),p.context=V6(null),N=p.current,k=jo(),L=mh(N),H=Xi(k,L),H.callback=g??null,Qi(N,H,L),p.current.lanes=L,Kl(p,L,k),Yo(p,k),p}function kw(p,g,N,k){var L=g.current,H=jo(),se=mh(L);return N=V6(N),g.context===null?g.context=N:g.pendingContext=N,g=Xi(H,se),g.payload={element:p},k=k===void 0?null:k,k!==null&&(g.callback=k),p=Qi(L,g,se),p!==null&&(ru(p,L,se,H),fa(p,L,se)),se}function Tw(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function K6(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var N=p.retryLane;p.retryLane=N!==0&&N<g?N:g}}function TC(p,g){K6(p,g),(p=p.alternate)&&K6(p,g)}function nue(){return null}var G6=typeof reportError=="function"?reportError:function(p){console.error(p)};function OC(p){this._internalRoot=p}Ow.prototype.render=OC.prototype.render=function(p){var g=this._internalRoot;if(g===null)throw Error(n(409));kw(p,g,null,null)},Ow.prototype.unmount=OC.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var g=p.containerInfo;em(function(){kw(null,p,null,null)}),g[ua]=null}};function Ow(p){this._internalRoot=p}Ow.prototype.unstable_scheduleHydration=function(p){if(p){var g=Bc();p={blockedOn:null,target:p,priority:g};for(var N=0;N<es.length&&g!==0&&g<es[N].priority;N++);es.splice(N,0,p),N===0&&Eg(p)}};function PC(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Pw(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Y6(){}function rue(p,g,N,k,L){if(L){if(typeof k=="function"){var H=k;k=function(){var Xe=Tw(se);H.call(Xe)}}var se=W6(g,k,p,0,null,!1,!1,"",Y6);return p._reactRootContainer=se,p[ua]=se.current,Vd(p.nodeType===8?p.parentNode:p),em(),se}for(;L=p.lastChild;)p.removeChild(L);if(typeof k=="function"){var je=k;k=function(){var Xe=Tw(Oe);je.call(Xe)}}var Oe=kC(p,0,!1,null,null,!1,!1,"",Y6);return p._reactRootContainer=Oe,p[ua]=Oe.current,Vd(p.nodeType===8?p.parentNode:p),em(function(){kw(g,Oe,N,k)}),Oe}function Mw(p,g,N,k,L){var H=N._reactRootContainer;if(H){var se=H;if(typeof L=="function"){var je=L;L=function(){var Oe=Tw(se);je.call(Oe)}}kw(g,se,p,L)}else se=rue(N,g,p,L,k);return Tw(se)}$c=function(p){switch(p.tag){case 3:var g=p.stateNode;if(g.current.memoizedState.isDehydrated){var N=qa(g.pendingLanes);N!==0&&(Pu(g,N|1),Yo(g,Xr()),(_r&6)===0&&(Wg=Xr()+500,K()))}break;case 13:em(function(){var k=Zr(p,1);if(k!==null){var L=jo();ru(k,p,1,L)}}),TC(p,1)}},Ci=function(p){if(p.tag===13){var g=Zr(p,134217728);if(g!==null){var N=jo();ru(g,p,134217728,N)}TC(p,134217728)}},wr=function(p){if(p.tag===13){var g=mh(p),N=Zr(p,g);if(N!==null){var k=jo();ru(N,p,g,k)}TC(p,g)}},Bc=function(){return ur},Ua=function(p,g){var N=ur;try{return ur=p,g()}finally{ur=N}},kr=function(p,g,N){switch(g){case"input":if(ft(p,N),g=N.name,N.type==="radio"&&g!=null){for(N=p;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<N.length;g++){var k=N[g];if(k!==p&&k.form===p.form){var L=Gp(k);if(!L)throw Error(n(90));ae(k),ft(k,L)}}}break;case"textarea":Ye(p,N);break;case"select":g=N.value,g!=null&&Se(p,!!N.multiple,g,!1)}},pt=SC,It=em;var iue={usingClientEntryPoint:!1,Events:[ah,Gd,Gp,Ee,Je,SC]},qx={findFiberByHostInstance:qu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sue={bundleType:qx.bundleType,version:qx.version,rendererPackageName:qx.rendererPackageName,rendererConfig:qx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=go(p),p===null?null:p.stateNode},findFiberByHostInstance:qx.findFiberByHostInstance||nue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rw.isDisabled&&Rw.supportsFiber)try{Vn=Rw.inject(sue),nr=Rw}catch{}}return Xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iue,Xo.createPortal=function(p,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PC(g))throw Error(n(200));return tue(p,g,null,N)},Xo.createRoot=function(p,g){if(!PC(p))throw Error(n(299));var N=!1,k="",L=G6;return g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(k=g.identifierPrefix),g.onRecoverableError!==void 0&&(L=g.onRecoverableError)),g=kC(p,1,!1,null,null,N,!1,k,L),p[ua]=g.current,Vd(p.nodeType===8?p.parentNode:p),new OC(g)},Xo.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=go(g),p=p===null?null:p.stateNode,p},Xo.flushSync=function(p){return em(p)},Xo.hydrate=function(p,g,N){if(!Pw(g))throw Error(n(200));return Mw(null,p,g,!0,N)},Xo.hydrateRoot=function(p,g,N){if(!PC(p))throw Error(n(405));var k=N!=null&&N.hydratedSources||null,L=!1,H="",se=G6;if(N!=null&&(N.unstable_strictMode===!0&&(L=!0),N.identifierPrefix!==void 0&&(H=N.identifierPrefix),N.onRecoverableError!==void 0&&(se=N.onRecoverableError)),g=W6(g,null,p,1,N??null,L,!1,H,se),p[ua]=g.current,Vd(p),k)for(p=0;p<k.length;p++)N=k[p],L=N._getVersion,L=L(N._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[N,L]:g.mutableSourceEagerHydrationData.push(N,L);return new Ow(g)},Xo.render=function(p,g,N){if(!Pw(g))throw Error(n(200));return Mw(null,p,g,!1,N)},Xo.unmountComponentAtNode=function(p){if(!Pw(p))throw Error(n(40));return p._reactRootContainer?(em(function(){Mw(null,null,p,!1,function(){p._reactRootContainer=null,p[ua]=null})}),!0):!1},Xo.unstable_batchedUpdates=SC,Xo.unstable_renderSubtreeIntoContainer=function(p,g,N,k){if(!Pw(N))throw Error(n(200));if(p==null||p._reactInternals===void 0)throw Error(n(38));return Mw(p,g,N,!1,k)},Xo.version="18.3.1-next-f1338f8080-20240426",Xo}var rF;function PK(){if(rF)return IC.exports;rF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),IC.exports=hue(),IC.exports}var iF;function pue(){if(iF)return Dw;iF=1;var t=PK();return Dw.createRoot=t.createRoot,Dw.hydrateRoot=t.hydrateRoot,Dw}var mue=pue();function gue(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var w=g1();const ye=zr(w),Y4=oue({__proto__:null,default:ye},[w]);var FC={exports:{}},$C={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sF;function vue(){if(sF)return $C;sF=1;var t=g1();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(f,m){var h=m(),y=r({inst:{value:h,getSnapshot:m}}),v=y[0].inst,x=y[1];return s(function(){v.value=h,v.getSnapshot=m,c(v)&&x({inst:v})},[f,h,m]),i(function(){return c(v)&&x({inst:v}),f(function(){c(v)&&x({inst:v})})},[f]),o(h),h}function c(f){var m=f.getSnapshot;f=f.value;try{var h=m();return!n(f,h)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return $C.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,$C}var aF;function MK(){return aF||(aF=1,FC.exports=vue()),FC.exports}var KE=MK();const yue=Y4.useInsertionEffect,xue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RK=xue?w.useLayoutEffect:w.useEffect,bue=yue||RK,X4=t=>{const e=w.useRef([t,(...n)=>e[0](...n)]).current;return bue(()=>{e[0]=t}),e[1]},wue="popstate",Q4="pushState",J4="replaceState",Nue="hashchange",oF=[wue,Q4,J4,Nue],Sue=t=>{for(const e of oF)addEventListener(e,t);return()=>{for(const e of oF)removeEventListener(e,t)}},IK=(t,e)=>KE.useSyncExternalStore(Sue,t,e),Eue=()=>location.search,jue=({ssrSearch:t=""}={})=>IK(Eue,()=>t),lF=()=>location.pathname,_ue=({ssrPath:t}={})=>IK(lF,t?()=>t:lF),Cue=(t,{replace:e=!1,state:n=null}={})=>history[e?J4:Q4](n,"",t),Aue=(t={})=>[_ue(t),Cue],cF=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cF]>"u"){for(const t of[Q4,J4]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,cF,{value:!0})}const kue=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",DK=(t="")=>t==="/"?"":t,Tue=(t,e)=>t[0]==="~"?t.slice(1):DK(e)+t,Oue=(t="",e)=>kue(uF(DK(t)),uF(e)),uF=t=>{try{return decodeURI(t)}catch{return t}},LK={hook:Aue,searchHook:jue,parser:gue,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},FK=w.createContext(LK),ag=()=>w.useContext(FK),$K={},BK=w.createContext($K),Z4=()=>w.useContext(BK),v1=t=>{const[e,n]=t.hook(t);return[Oue(t.base,e),X4((r,i)=>n(Tue(r,t.base),i))]},ll=()=>v1(ag()),eI=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,m)=>[f,c[m]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},GE=t=>eI(ag().parser,t,ll()[0]),Pue=({children:t,...e})=>{const n=ag(),r=e.hook?LK:n;let i=r;const[s,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let l=w.useRef({}),c=l.current,u=c;for(let d in r){const f=d==="base"?r[d]+(e[d]||""):e[d]||r[d];c===u&&f!==u[d]&&(l.current=u={...u}),u[d]=f,(f!==r[d]||f!==i[d])&&(i=u)}return w.createElement(FK.Provider,{value:i,children:t})},dF=({children:t,component:e},n)=>e?w.createElement(e,{params:n}):typeof t=="function"?t(n):t,Mue=t=>{let e=w.useRef($K);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},br=({path:t,nest:e,match:n,...r})=>{const i=ag(),[s]=v1(i),[o,l,c]=n??eI(i.parser,t,s,e),u=Mue({...Z4(),...l});if(!o)return null;const d=c?w.createElement(Pue,{base:c},dF(r,u)):dF(r,u);return w.createElement(BK.Provider,{value:u,children:d})},pu=w.forwardRef((t,e)=>{const n=ag(),[r,i]=v1(n),{to:s="",href:o=s,onClick:l,asChild:c,children:u,className:d,replace:f,state:m,...h}=t,y=X4(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l?.(x),x.defaultPrevented||(x.preventDefault(),i(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&w.isValidElement(u)?w.cloneElement(u,{onClick:y,href:v}):w.createElement("a",{...h,onClick:y,href:v,className:d?.call?d(r===o):d,children:u,ref:e})}),zK=t=>Array.isArray(t)?t.flatMap(e=>zK(e&&e.type===w.Fragment?e.props.children:e)):[t],fF=({children:t,location:e})=>{const n=ag(),[r]=v1(n);for(const i of zK(t)){let s=0;if(w.isValidElement(i)&&(s=eI(n.parser,i.props.path,e||r,i.props.nest))[0])return w.cloneElement(i,{match:s})}return null},Lw=t=>{const{to:e,href:n=e}=t,r=ag(),[,i]=v1(r),s=X4(()=>i(e||n,t)),{ssrContext:o}=r;return RK(()=>{s()},[]),o&&(o.redirectTo=e),null};var Fy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rue={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Iue=class{#e=Rue;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},pm=new Iue;function Due(t){setTimeout(t,0)}var Dm=typeof window>"u"||"Deno"in globalThis;function Co(){}function Lue(t,e){return typeof t=="function"?t(e):t}function _P(t){return typeof t=="number"&&t>=0&&t!==1/0}function qK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Kh(t,e){return typeof t=="function"?t(e):t}function pc(t,e){return typeof t=="function"?t(e):t}function hF(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==tI(o,e.options))return!1}else if(!e0(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function pF(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Lm(e.options.mutationKey)!==Lm(s))return!1}else if(!e0(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function tI(t,e){return(e?.queryKeyHashFn||Lm)(t)}function Lm(t){return JSON.stringify(t,(e,n)=>CP(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function e0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>e0(t[n],e[n])):!1}var Fue=Object.prototype.hasOwnProperty;function UK(t,e){if(t===e)return t;const n=mF(t)&&mF(e);if(!n&&!(CP(t)&&CP(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u],f=t[d],m=e[d];if(f===m){l[d]=f,(n?u<i:Fue.call(t,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const h=UK(f,m);l[d]=h,h===f&&c++}return i===o&&c===i?t:l}function vN(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function mF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function CP(t){if(!gF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gF(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gF(t){return Object.prototype.toString.call(t)==="[object Object]"}function $ue(t){return new Promise(e=>{pm.setTimeout(e,t)})}function AP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?UK(t,e):e}function Bue(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function zue(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var nI=Symbol();function HK(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===nI?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function VK(t,e){return typeof t=="function"?t(...e):!!t}var que=class extends Fy{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Dm&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},rI=new que;function kP(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Uue=Due;function Hue(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=Uue;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Zs=Hue(),Vue=class extends Fy{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Dm&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},yN=new Vue;function Wue(t){return Math.min(1e3*2**t,3e4)}function WK(t){return(t??"online")==="online"?yN.isOnline():!0}var TP=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function KK(t){let e=!1,n=0,r;const i=kP(),s=()=>i.status!=="pending",o=v=>{if(!s()){const x=new TP(v);m(x),t.onCancel?.(x)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>rI.isFocused()&&(t.networkMode==="always"||yN.isOnline())&&t.canRun(),d=()=>WK(t.networkMode)&&t.canRun(),f=v=>{s()||(r?.(),i.resolve(v))},m=v=>{s()||(r?.(),i.reject(v))},h=()=>new Promise(v=>{r=x=>{(s()||u())&&v(x)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),y=()=>{if(s())return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{if(s())return;const S=t.retry??(Dm?0:3),E=t.retryDelay??Wue,_=typeof E=="function"?E(n,b):E,C=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,b);if(e||!C){m(b);return}n++,t.onFail?.(n,b),$ue(_).then(()=>u()?void 0:h()).then(()=>{e?m(b):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():h().then(y),i)}}var GK=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_P(this.gcTime)&&(this.#e=pm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dm?1/0:300*1e3))}clearGcTimeout(){this.#e&&(pm.clearTimeout(this.#e),this.#e=void 0)}},Kue=class extends GK{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=vF(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=vF(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=AP(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Co).catch(Co):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>pc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nI||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Kh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qK(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=HK(this.options,e),u=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=KK({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof TP&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof TP){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...YK(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Zs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function YK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:WK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gue=class extends Fy{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=kP(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yF(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return OP(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return OP(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pc(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),e._defaulted&&!vN(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&xF(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||pc(this.options.enabled,this.#t)!==pc(e.enabled,this.#t)||Kh(this.options.staleTime,this.#t)!==Kh(e.staleTime,this.#t))&&this.#g();const i=this.#v();r&&(this.#t!==n||pc(this.options.enabled,this.#t)!==pc(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Xue(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#N();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Co)),e}#g(){this.#b();const t=Kh(this.options.staleTime,this.#t);if(Dm||this.#i.isStale||!_P(t))return;const n=qK(this.#i.dataUpdatedAt,t)+1;this.#c=pm.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Dm||pc(this.options.enabled,this.#t)===!1||!_P(this.#l)||this.#l===0)&&(this.#u=pm.setInterval(()=>{(this.options.refetchIntervalInBackground||rI.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(pm.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(pm.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,s=this.#r,o=this.#a,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,m;if(e._optimisticResults){const A=this.hasListeners(),P=!A&&yF(t,e),F=A&&xF(t,n,e,r);(P||F)&&(d={...d,...YK(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:y,status:v}=d;m=d.data;let x=!1;if(e.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(A=i.data,x=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,A!==void 0&&(v="success",m=AP(i?.data,A,e),f=!0)}if(e.select&&m!==void 0&&!x)if(i&&m===s?.data&&e.select===this.#m)m=this.#f;else try{this.#m=e.select,m=e.select(m),m=AP(i?.data,m,e),this.#f=m,this.#s=null}catch(A){this.#s=A}this.#s&&(h=this.#s,m=this.#f,y=Date.now(),v="error");const b=d.fetchStatus==="fetching",S=v==="pending",E=v==="error",_=S&&b,C=m!==void 0,M={status:v,fetchStatus:d.fetchStatus,isPending:S,isSuccess:v==="success",isError:E,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:E&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:E&&C,isStale:iI(t,e),refetch:this.refetch,promise:this.#o,isEnabled:pc(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=R=>{M.status==="error"?R.reject(M.error):M.data!==void 0&&R.resolve(M.data)},P=()=>{const R=this.#o=M.promise=kP();A(R)},F=this.#o;switch(F.status){case"pending":t.queryHash===n.queryHash&&A(F);break;case"fulfilled":(M.status==="error"||M.data!==F.value)&&P();break;case"rejected":(M.status!=="error"||M.error!==F.reason)&&P();break}}return M}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),vN(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const l=o;return this.#i[l]!==t[l]&&s.has(l)})};this.#S({listeners:n()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Zs.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Yue(t,e){return pc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function yF(t,e){return Yue(t,e)||t.state.data!==void 0&&OP(t,e,e.refetchOnMount)}function OP(t,e,n){if(pc(e.enabled,t)!==!1&&Kh(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&iI(t,e)}return!1}function xF(t,e,n,r){return(t!==e||pc(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&iI(t,n)}function iI(t,e){return pc(e.enabled,t)!==!1&&t.isStaleByTime(Kh(e.staleTime,t))}function Xue(t,e){return!vN(t.getCurrentResult(),e)}function bF(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=HK(e.options,e.fetchOptions),h=async(y,v,x)=>{if(d)return Promise.reject();if(v==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:v,direction:x?"backward":"forward",meta:e.options.meta};return f(O),O})(),E=await m(S),{maxPages:_}=e.options,C=x?zue:Bue;return{pages:C(y.pages,E,_),pageParams:C(y.pageParams,v,_)}};if(i&&s.length){const y=i==="backward",v=y?Que:wF,x={pages:s,pageParams:o},b=v(r,x);l=await h(x,b,y)}else{const y=t??s.length;do{const v=c===0?o[0]??r.initialPageParam:wF(r,l);if(c>0&&v==null)break;l=await h(l,v),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function wF(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Que(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Jue=class extends GK{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||XK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=KK({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Zs.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function XK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zue=class extends Fy{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Jue({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Fw(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Fw(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Fw(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Fw(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zs.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>pF(e,n))}findAll(t={}){return this.getAll().filter(e=>pF(t,e))}notify(t){Zs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Zs.batch(()=>Promise.all(t.map(e=>e.continue().catch(Co))))}};function Fw(t){return t.options.scope?.id}var ede=class extends Fy{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),vN(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Lm(n.mutationKey)!==Lm(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??XK();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Zs.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},tde=class extends Fy{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??tI(r,e);let s=this.get(i);return s||(s=new Kue({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>hF(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>hF(t,n)):e}notify(t){Zs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Zs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nde=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new tde,this.#t=t.mutationCache||new Zue,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=rI.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=yN.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Kh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=Lue(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zs.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Zs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Zs.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zs.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Co).catch(Co)}invalidateQueries(t,e={}){return Zs.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zs.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Co)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Co)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Kh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Co).catch(Co)}fetchInfiniteQuery(t){return t.behavior=bF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Co).catch(Co)}ensureInfiniteQueryData(t){return t.behavior=bF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yN.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Lm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{e0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Lm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{e0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=tI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===nI&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},QK=w.createContext(void 0),cl=t=>{const e=w.useContext(QK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rde=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(QK.Provider,{value:t,children:e})),JK=w.createContext(!1),ide=()=>w.useContext(JK);JK.Provider;function sde(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ade=w.createContext(sde()),ode=()=>w.useContext(ade),lde=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},cde=t=>{w.useEffect(()=>{t.clearReset()},[t])},ude=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||VK(n,[t.error,r])),dde=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},fde=(t,e)=>t.isLoading&&t.isFetching&&!e,hde=(t,e)=>t?.suspense&&e.isPending,NF=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function pde(t,e,n){const r=ide(),i=ode(),s=cl(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",dde(o),lde(o,i),cde(i);const l=!s.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(f=>{const m=d?c.subscribe(Zs.batchCalls(f)):Co;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),hde(o,u))throw NF(o,c,i);if(ude({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Dm&&fde(u,r)&&(l?NF(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Co).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Wt(t,e){return pde(t,Gue)}function Xt(t,e){const n=cl(),[r]=w.useState(()=>new ede(n,t));w.useEffect(()=>{r.setOptions(t)},[r,t]);const i=w.useSyncExternalStore(w.useCallback(o=>r.subscribe(Zs.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=w.useCallback((o,l)=>{r.mutate(o,l).catch(Co)},[r]);if(i.error&&VK(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function ZK(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function tn(t,e,n,r){const i=localStorage.getItem("token"),s={};n&&(s["Content-Type"]="application/json"),i&&(s.Authorization=`Bearer ${i}`);const o=new AbortController;try{const l=await fetch(e,{method:t,headers:s,body:n?JSON.stringify(n):void 0,credentials:"include",signal:o.signal});await ZK(l);const c=l.headers.get("content-type")||"";return l.status===204||!c.includes("application/json")?{}:l.json()}catch(l){throw l.name==="AbortError"?new Error(`La peticin tard ms de ${0/1e3}s y fue cancelada`):l}finally{}}const eG=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("token"),r={};n&&(r.Authorization=`Bearer ${n}`);const i=await fetch(e.join("/"),{headers:r,credentials:"include"});return t==="returnNull"&&i.status===401?null:(await ZK(i),await i.json())},sn=new nde({defaultOptions:{queries:{queryFn:eG({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),mde=1,gde=1e6;let BC=0;function vde(){return BC=(BC+1)%Number.MAX_SAFE_INTEGER,BC.toString()}const zC=new Map,SF=t=>{if(zC.has(t))return;const e=setTimeout(()=>{zC.delete(t),jb({type:"REMOVE_TOAST",toastId:t})},gde);zC.set(t,e)},yde=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,mde)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?SF(n):t.toasts.forEach(r=>{SF(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},q2=[];let U2={toasts:[]};function jb(t){U2=yde(U2,t),q2.forEach(e=>{e(U2)})}function xde({...t}){const e=vde(),n=i=>jb({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>jb({type:"DISMISS_TOAST",toastId:e});return jb({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ir(){const[t,e]=w.useState(U2);return w.useEffect(()=>(q2.push(e),()=>{const n=q2.indexOf(e);n>-1&&q2.splice(n,1)}),[t]),{...t,toast:xde,dismiss:n=>jb({type:"DISMISS_TOAST",toastId:n})}}var mu=PK();const tG=zr(mu);function Nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function EF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cf(...t){return e=>{let n=!1;const r=t.map(i=>{const s=EF(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():EF(t[i],null)}}}}function Mn(...t){return w.useCallback(Cf(...t),t)}function bde(t,e){const n=w.createContext(e),r=s=>{const{children:o,...l}=s,c=w.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ea(t,e=[]){let n=[];function r(s,o){const l=w.createContext(o),c=n.length;n=[...n,o];const u=f=>{const{scope:m,children:h,...y}=f,v=m?.[t]?.[c]||l,x=w.useMemo(()=>y,Object.values(y));return a.jsx(v.Provider,{value:x,children:h})};u.displayName=s+"Provider";function d(f,m){const h=m?.[t]?.[c]||l,y=w.useContext(h);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(l){const c=l?.[t]||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,wde(i,...e)]}function wde(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ap(t){const e=Nde(t),n=w.forwardRef((r,i)=>{const{children:s,...o}=r,l=w.Children.toArray(s),c=l.find(Sde);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var YE=ap("Slot");function Nde(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const o=jde(i),l=Ede(s,i.props);return i.type!==w.Fragment&&(l.ref=r?Cf(r,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nG=Symbol("radix.slottable");function rG(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=nG,e}function Sde(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nG}function Ede(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function jde(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function y1(t){const e=t+"CollectionProvider",[n,r]=Ea(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:b}=v,S=ye.useRef(null),E=ye.useRef(new Map).current;return a.jsx(i,{scope:x,itemMap:E,collectionRef:S,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=ap(l),u=ye.forwardRef((v,x)=>{const{scope:b,children:S}=v,E=s(l,b),_=Mn(x,E.collectionRef);return a.jsx(c,{ref:_,children:S})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=ap(d),h=ye.forwardRef((v,x)=>{const{scope:b,children:S,...E}=v,_=ye.useRef(null),C=Mn(x,_),O=s(d,b);return ye.useEffect(()=>(O.itemMap.set(_,{ref:_,...E}),()=>void O.itemMap.delete(_))),a.jsx(m,{[f]:"",ref:C,children:S})});h.displayName=d;function y(v){const x=s(t+"CollectionConsumer",v);return ye.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((O,M)=>E.indexOf(O.ref.current)-E.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},y,r]}var _de=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=_de.reduce((t,e)=>{const n=ap(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sI(t,e){t&&mu.flushSync(()=>t.dispatchEvent(e))}function ps(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function Cde(t,e=globalThis?.document){const n=ps(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Ade="DismissableLayer",PP="dismissableLayer.update",kde="dismissableLayer.pointerDownOutside",Tde="dismissableLayer.focusOutside",jF,iG=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),og=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=w.useContext(iG),[d,f]=w.useState(null),m=d?.ownerDocument??globalThis?.document,[,h]=w.useState({}),y=Mn(e,M=>f(M)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(x),S=d?v.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,_=S>=b,C=Pde(M=>{const A=M.target,P=[...u.branches].some(F=>F.contains(A));!_||P||(i?.(M),o?.(M),M.defaultPrevented||l?.())},m),O=Mde(M=>{const A=M.target;[...u.branches].some(F=>F.contains(A))||(s?.(M),o?.(M),M.defaultPrevented||l?.())},m);return Cde(M=>{S===u.layers.size-1&&(r?.(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jF=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_F(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=jF)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_F())},[d,u]),w.useEffect(()=>{const M=()=>h({});return document.addEventListener(PP,M),()=>document.removeEventListener(PP,M)},[]),a.jsx($t.div,{...c,ref:y,style:{pointerEvents:E?_?"auto":"none":void 0,...t.style},onFocusCapture:Nt(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Nt(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Nt(t.onPointerDownCapture,C.onPointerDownCapture)})});og.displayName=Ade;var Ode="DismissableLayerBranch",sG=w.forwardRef((t,e)=>{const n=w.useContext(iG),r=w.useRef(null),i=Mn(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx($t.div,{...t,ref:i})});sG.displayName=Ode;function Pde(t,e=globalThis?.document){const n=ps(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){aG(kde,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Mde(t,e=globalThis?.document){const n=ps(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&aG(Tde,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _F(){const t=new CustomEvent(PP);document.dispatchEvent(t)}function aG(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sI(i,s):i.dispatchEvent(s)}var Rde=og,Ide=sG,_s=globalThis?.document?w.useLayoutEffect:()=>{},Dde="Portal",$y=w.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=w.useState(!1);_s(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?tG.createPortal(a.jsx($t.div,{...r,ref:e}),o):null});$y.displayName=Dde;function Lde(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var ja=t=>{const{present:e,children:n}=t,r=Fde(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Mn(r.ref,$de(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};ja.displayName="Presence";function Fde(t){const[e,n]=w.useState(),r=w.useRef(null),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Lde(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=$w(r.current);s.current=l==="mounted"?u:"none"},[l]),_s(()=>{const u=r.current,d=i.current;if(d!==t){const m=s.current,h=$w(u);t?c("MOUNT"):h==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),_s(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const v=$w(r.current).includes(CSS.escape(h.animationName));if(h.target===e&&v&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=h=>{h.target===e&&(s.current=$w(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function $w(t){return t?.animationName||"none"}function $de(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bde=Y4[" useInsertionEffect ".trim().toString()]||_s;function Ac({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=zde({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=w.useRef(t!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=w.useCallback(d=>{if(l){const f=qde(d)?d(t):d;f!==t&&o.current?.(f)}else s(d)},[l,t,s,o]);return[c,u]}function zde({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),i=w.useRef(n),s=w.useRef(e);return Bde(()=>{s.current=e},[e]),w.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function qde(t){return typeof t=="function"}var oG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ude="VisuallyHidden",XE=w.forwardRef((t,e)=>a.jsx($t.span,{...t,ref:e,style:{...oG,...t.style}}));XE.displayName=Ude;var Hde=XE,aI="ToastProvider",[oI,Vde,Wde]=y1("Toast"),[lG]=Ea("Toast",[Wde]),[Kde,QE]=lG(aI),cG=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${aI}\`. Expected non-empty \`string\`.`),a.jsx(oI.Provider,{scope:e,children:a.jsx(Kde,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(h=>h+1),[]),onToastRemove:w.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};cG.displayName=aI;var uG="ToastViewport",Gde=["F8"],MP="toast.viewportPause",RP="toast.viewportResume",dG=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Gde,label:i="Notifications ({hotkey})",...s}=t,o=QE(uG,n),l=Vde(n),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Mn(e,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const x=b=>{r.length!==0&&r.every(E=>b[E]||b.code===E)&&f.current?.focus()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),w.useEffect(()=>{const x=c.current,b=f.current;if(y&&x&&b){const S=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(MP);b.dispatchEvent(O),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(RP);b.dispatchEvent(O),o.isClosePausedRef.current=!1}},_=O=>{!x.contains(O.relatedTarget)&&E()},C=()=>{x.contains(document.activeElement)||E()};return x.addEventListener("focusin",S),x.addEventListener("focusout",_),x.addEventListener("pointermove",S),x.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",E),()=>{x.removeEventListener("focusin",S),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",S),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",E)}}},[y,o.isClosePausedRef]);const v=w.useCallback(({tabbingDirection:x})=>{const S=l().map(E=>{const _=E.ref.current,C=[_,...ofe(_)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?S.reverse():S).flat()},[l]);return w.useEffect(()=>{const x=f.current;if(x){const b=S=>{const E=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!E){const C=document.activeElement,O=S.shiftKey;if(S.target===x&&O){u.current?.focus();return}const P=v({tabbingDirection:O?"backwards":"forwards"}),F=P.findIndex(R=>R===C);qC(P.slice(F+1))?S.preventDefault():O?u.current?.focus():d.current?.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,v]),a.jsxs(Ide,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(IP,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});qC(x)}}),a.jsx(oI.Slot,{scope:n,children:a.jsx($t.ol,{tabIndex:-1,...s,ref:m})}),y&&a.jsx(IP,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});qC(x)}})]})});dG.displayName=uG;var fG="ToastFocusProxy",IP=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=QE(fG,n);return a.jsx(XE,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&r()}})});IP.displayName=fG;var x1="Toast",Yde="toast.swipeStart",Xde="toast.swipeMove",Qde="toast.swipeCancel",Jde="toast.swipeEnd",hG=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l,c]=Ac({prop:r,defaultProp:i??!0,onChange:s,caller:x1});return a.jsx(ja,{present:n||l,children:a.jsx(tfe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:ps(t.onPause),onResume:ps(t.onResume),onSwipeStart:Nt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Nt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Nt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Nt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});hG.displayName=x1;var[Zde,efe]=lG(x1,{onClose(){}}),tfe=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...y}=t,v=QE(x1,n),[x,b]=w.useState(null),S=Mn(e,z=>b(z)),E=w.useRef(null),_=w.useRef(null),C=i||v.duration,O=w.useRef(0),M=w.useRef(C),A=w.useRef(0),{onToastAdd:P,onToastRemove:F}=v,R=ps(()=>{x?.contains(document.activeElement)&&v.viewport?.focus(),o()}),$=w.useCallback(z=>{!z||z===1/0||(window.clearTimeout(A.current),O.current=new Date().getTime(),A.current=window.setTimeout(R,z))},[R]);w.useEffect(()=>{const z=v.viewport;if(z){const G=()=>{$(M.current),u?.()},X=()=>{const U=new Date().getTime()-O.current;M.current=M.current-U,window.clearTimeout(A.current),c?.()};return z.addEventListener(MP,X),z.addEventListener(RP,G),()=>{z.removeEventListener(MP,X),z.removeEventListener(RP,G)}}},[v.viewport,C,c,u,$]),w.useEffect(()=>{s&&!v.isClosePausedRef.current&&$(C)},[s,C,v.isClosePausedRef,$]),w.useEffect(()=>(P(),()=>F()),[P,F]);const q=w.useMemo(()=>x?bG(x):null,[x]);return v.viewport?a.jsxs(a.Fragment,{children:[q&&a.jsx(nfe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:q}),a.jsx(Zde,{scope:n,onClose:R,children:mu.createPortal(a.jsx(oI.ItemSlot,{scope:n,children:a.jsx(Rde,{asChild:!0,onEscapeKeyDown:Nt(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx($t.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Nt(t.onKeyDown,z=>{z.key==="Escape"&&(l?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Nt(t.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:Nt(t.onPointerMove,z=>{if(!E.current)return;const G=z.clientX-E.current.x,X=z.clientY-E.current.y,U=!!_.current,W=["left","right"].includes(v.swipeDirection),Y=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ie=W?Y(0,G):0,Q=W?0:Y(0,X),I=z.pointerType==="touch"?10:2,V={x:ie,y:Q},J={originalEvent:z,delta:V};U?(_.current=V,Bw(Xde,f,J,{discrete:!1})):CF(V,v.swipeDirection,I)?(_.current=V,Bw(Yde,d,J,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(G)>I||Math.abs(X)>I)&&(E.current=null)}),onPointerUp:Nt(t.onPointerUp,z=>{const G=_.current,X=z.target;if(X.hasPointerCapture(z.pointerId)&&X.releasePointerCapture(z.pointerId),_.current=null,E.current=null,G){const U=z.currentTarget,W={originalEvent:z,delta:G};CF(G,v.swipeDirection,v.swipeThreshold)?Bw(Jde,h,W,{discrete:!0}):Bw(Qde,m,W,{discrete:!0}),U.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),nfe=t=>{const{__scopeToast:e,children:n,...r}=t,i=QE(x1,e),[s,o]=w.useState(!1),[l,c]=w.useState(!1);return sfe(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx($y,{asChild:!0,children:a.jsx(XE,{...r,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",n]})})})},rfe="ToastTitle",pG=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx($t.div,{...r,ref:e})});pG.displayName=rfe;var ife="ToastDescription",mG=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx($t.div,{...r,ref:e})});mG.displayName=ife;var gG="ToastAction",vG=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(xG,{altText:n,asChild:!0,children:a.jsx(lI,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gG}\`. Expected non-empty \`string\`.`),null)});vG.displayName=gG;var yG="ToastClose",lI=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=efe(yG,n);return a.jsx(xG,{asChild:!0,children:a.jsx($t.button,{type:"button",...r,ref:e,onClick:Nt(t.onClick,i.onClose)})})});lI.displayName=yG;var xG=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return a.jsx($t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function bG(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),afe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...bG(r))}}),e}function Bw(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?sI(i,s):i.dispatchEvent(s)}var CF=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function sfe(t=()=>{}){const e=ps(t);_s(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function afe(t){return t.nodeType===t.ELEMENT_NODE}function ofe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qC(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lfe=cG,wG=dG,NG=hG,SG=pG,EG=mG,jG=vG,_G=lI;function CG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CG(t))&&(r&&(r+=" "),r+=e);return r}const AF=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kF=hr,lg=(t,e)=>n=>{var r;if(e?.variants==null)return kF(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n?.[u],f=s?.[u];if(d===null)return null;const m=AF(d)||AF(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(y=>{let[v,x]=y;return Array.isArray(x)?x.includes({...s,...l}[v]):{...s,...l}[v]===x})?[...u,f,m]:u},[]);return kF(t,o,c,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AG=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ufe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...ufe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AG("lucide",i),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(dfe,{ref:s,iconNode:e,className:AG(`lucide-${cfe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=ct("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ct("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=ct("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=ct("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=ct("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=ct("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=ct("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=ct("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=ct("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=ct("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ct("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=ct("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ct("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=ct("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=ct("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=ct("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ct("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=ct("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ct("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=ct("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=ct("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=ct("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=ct("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=ct("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ct("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=ct("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ct("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=ct("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ct("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=ct("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=ct("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=ct("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=ct("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=ct("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=ct("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ct("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=ct("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=ct("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=ct("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=ct("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=ct("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=ct("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=ct("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ct("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ct("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=ct("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=ct("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=ct("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ct("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=ct("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=ct("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ct("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=ct("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ct("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=ct("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=ct("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ct("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=ct("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=ct("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=ct("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=ct("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ct("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=ct("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ct("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=ct("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ct("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=ct("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ct("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=ct("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=ct("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=ct("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ct("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=ct("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=ct("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=ct("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=ct("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=ct("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=ct("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=ct("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=ct("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=ct("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=ct("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yI="-",nhe=t=>{const e=ihe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(yI);return l[0]===""&&l.length!==1&&l.shift(),JG(l,e)||rhe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},JG=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?JG(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(yI);return e.validators.find(({validator:o})=>o(s))?.classGroupId},RF=/^\[(.+)\]$/,rhe=t=>{if(RF.test(t)){const e=RF.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ihe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ahe(Object.entries(t.classGroups),n).forEach(([s,o])=>{zP(o,r,s,e)}),r},zP=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:IF(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(she(i)){zP(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{zP(o,IF(e,s),n,r)})})},IF=(t,e)=>{let n=t;return e.split(yI).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},she=t=>t.isThemeGetter,ahe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,ohe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},ZG="!",lhe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===i&&(r||l.slice(x,x+s)===e)){c.push(l.slice(d,x)),d=x+s;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(ZG),y=h?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},che=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},uhe=t=>({cache:ohe(t.cacheSize),parseClassName:lhe(t),...nhe(t)}),dhe=/\s+/,fhe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(dhe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=n(u);let y=!!h,v=r(y?m.substring(0,h):m);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=che(d).join(":"),b=f?x+ZG:x,S=b+v;if(s.includes(S))continue;s.push(S);const E=i(v,y);for(let _=0;_<E.length;++_){const C=E[_];s.push(b+C)}l=u+(l.length>0?" "+l:l)}return l};function hhe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eY(e))&&(r&&(r+=" "),r+=n);return r}const eY=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eY(t[r]))&&(n&&(n+=" "),n+=e);return n};function phe(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=uhe(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=fhe(c,n);return i(c,d),d}return function(){return s(hhe.apply(null,arguments))}}const Ti=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tY=/^\[(?:([a-z-]+):)?(.+)\]$/i,mhe=/^\d+\/\d+$/,ghe=new Set(["px","full","screen"]),vhe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yhe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xhe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bhe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,whe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ef=t=>Pv(t)||ghe.has(t)||mhe.test(t),xh=t=>qy(t,"length",khe),Pv=t=>!!t&&!Number.isNaN(Number(t)),HC=t=>qy(t,"number",Pv),Hx=t=>!!t&&Number.isInteger(Number(t)),Nhe=t=>t.endsWith("%")&&Pv(t.slice(0,-1)),sr=t=>tY.test(t),bh=t=>vhe.test(t),She=new Set(["length","size","percentage"]),Ehe=t=>qy(t,She,nY),jhe=t=>qy(t,"position",nY),_he=new Set(["image","url"]),Che=t=>qy(t,_he,Ohe),Ahe=t=>qy(t,"",The),Vx=()=>!0,qy=(t,e,n)=>{const r=tY.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},khe=t=>yhe.test(t)&&!xhe.test(t),nY=()=>!1,The=t=>bhe.test(t),Ohe=t=>whe.test(t),Phe=()=>{const t=Ti("colors"),e=Ti("spacing"),n=Ti("blur"),r=Ti("brightness"),i=Ti("borderColor"),s=Ti("borderRadius"),o=Ti("borderSpacing"),l=Ti("borderWidth"),c=Ti("contrast"),u=Ti("grayscale"),d=Ti("hueRotate"),f=Ti("invert"),m=Ti("gap"),h=Ti("gradientColorStops"),y=Ti("gradientColorStopPositions"),v=Ti("inset"),x=Ti("margin"),b=Ti("opacity"),S=Ti("padding"),E=Ti("saturate"),_=Ti("scale"),C=Ti("sepia"),O=Ti("skew"),M=Ti("space"),A=Ti("translate"),P=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",sr,e],$=()=>[sr,e],q=()=>["",ef,xh],z=()=>["auto",Pv,sr],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",sr],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Pv,sr];return{cacheSize:500,separator:":",theme:{colors:[Vx],spacing:[ef,xh],blur:["none","",bh,sr],brightness:Q(),borderColor:[t],borderRadius:["none","","full",bh,sr],borderSpacing:$(),borderWidth:q(),contrast:Q(),grayscale:Y(),hueRotate:Q(),invert:Y(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[Nhe,xh],inset:R(),margin:R(),opacity:Q(),padding:$(),saturate:Q(),scale:Q(),sepia:Y(),skew:Q(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",sr]}],container:["container"],columns:[{columns:[bh]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),sr]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hx,sr]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",sr]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Hx,sr]}],"grid-cols":[{"grid-cols":[Vx]}],"col-start-end":[{col:["auto",{span:["full",Hx,sr]},sr]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Vx]}],"row-start-end":[{row:["auto",{span:[Hx,sr]},sr]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",sr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",sr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",sr,e]}],"min-w":[{"min-w":[sr,e,"min","max","fit"]}],"max-w":[{"max-w":[sr,e,"none","full","min","max","fit","prose",{screen:[bh]},bh]}],h:[{h:[sr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[sr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[sr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[sr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bh,xh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",HC]}],"font-family":[{font:[Vx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",sr]}],"line-clamp":[{"line-clamp":["none",Pv,HC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ef,sr]}],"list-image":[{"list-image":["none",sr]}],"list-style-type":[{list:["none","disc","decimal",sr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ef,xh]}],"underline-offset":[{"underline-offset":["auto",ef,sr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),jhe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ehe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Che]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[ef,sr]}],"outline-w":[{outline:[ef,xh]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ef,xh]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bh,Ahe]}],"shadow-color":[{shadow:[Vx]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bh,sr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",sr]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",sr]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",sr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Hx,sr]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",sr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",sr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",sr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ef,xh,HC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mhe=phe(Phe);function gt(...t){return Mhe(hr(t))}const Rhe=lfe,rY=w.forwardRef(({className:t,...e},n)=>a.jsx(wG,{ref:n,className:gt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rY.displayName=wG.displayName;const Ihe=lg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iY=w.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(NG,{ref:r,className:gt(Ihe({variant:e}),t),...n}));iY.displayName=NG.displayName;const Dhe=w.forwardRef(({className:t,...e},n)=>a.jsx(jG,{ref:n,className:gt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Dhe.displayName=jG.displayName;const sY=w.forwardRef(({className:t,...e},n)=>a.jsx(_G,{ref:n,className:gt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(kc,{className:"h-4 w-4"})}));sY.displayName=_G.displayName;const aY=w.forwardRef(({className:t,...e},n)=>a.jsx(SG,{ref:n,className:gt("text-sm font-semibold",t),...e}));aY.displayName=SG.displayName;const oY=w.forwardRef(({className:t,...e},n)=>a.jsx(EG,{ref:n,className:gt("text-sm opacity-90",t),...e}));oY.displayName=EG.displayName;function Lhe(){const{toasts:t}=Ir();return a.jsxs(Rhe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return a.jsxs(iY,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(aY,{children:n}),r&&a.jsx(oY,{children:r})]}),i,a.jsx(sY,{})]},e)}),a.jsx(rY,{})]})}var Fhe=Y4[" useId ".trim().toString()]||(()=>{}),$he=0;function wa(t){const[e,n]=w.useState(Fhe());return _s(()=>{n(r=>r??String($he++))},[t]),e?`radix-${e}`:""}const Bhe=["top","right","bottom","left"],cp=Math.min,Pl=Math.max,EN=Math.round,zw=Math.floor,od=t=>({x:t,y:t}),zhe={left:"right",right:"left",bottom:"top",top:"bottom"},qhe={start:"end",end:"start"};function qP(t,e,n){return Pl(t,cp(e,n))}function Af(t,e){return typeof t=="function"?t(e):t}function kf(t){return t.split("-")[0]}function Uy(t){return t.split("-")[1]}function xI(t){return t==="x"?"y":"x"}function bI(t){return t==="y"?"height":"width"}const Uhe=new Set(["top","bottom"]);function nd(t){return Uhe.has(kf(t))?"y":"x"}function wI(t){return xI(nd(t))}function Hhe(t,e,n){n===void 0&&(n=!1);const r=Uy(t),i=wI(t),s=bI(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=jN(o)),[o,jN(o)]}function Vhe(t){const e=jN(t);return[UP(t),e,UP(e)]}function UP(t){return t.replace(/start|end/g,e=>qhe[e])}const DF=["left","right"],LF=["right","left"],Whe=["top","bottom"],Khe=["bottom","top"];function Ghe(t,e,n){switch(t){case"top":case"bottom":return n?e?LF:DF:e?DF:LF;case"left":case"right":return e?Whe:Khe;default:return[]}}function Yhe(t,e,n,r){const i=Uy(t);let s=Ghe(kf(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(UP)))),s}function jN(t){return t.replace(/left|right|bottom|top/g,e=>zhe[e])}function Xhe(t){return{top:0,right:0,bottom:0,left:0,...t}}function lY(t){return typeof t!="number"?Xhe(t):{top:t,right:t,bottom:t,left:t}}function _N(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function FF(t,e,n){let{reference:r,floating:i}=t;const s=nd(e),o=wI(e),l=bI(o),c=kf(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-i.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Uy(e)){case"start":h[o]-=m*(n&&u?-1:1);break;case"end":h[o]+=m*(n&&u?-1:1);break}return h}const Qhe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=FF(u,r,c),m=r,h={},y=0;for(let v=0;v<l.length;v++){const{name:x,fn:b}=l[v],{x:S,y:E,data:_,reset:C}=await b({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:e}});d=S??d,f=E??f,h={...h,[x]:{...h[x],..._}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:f}=FF(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:h}};async function r0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Af(e,t),y=lY(h),x=l[m?f==="floating"?"reference":"floating":f],b=_N(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),S=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},C=_N(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:E,strategy:c}):S);return{top:(b.top-C.top+y.top)/_.y,bottom:(C.bottom-b.bottom+y.bottom)/_.y,left:(b.left-C.left+y.left)/_.x,right:(C.right-b.right+y.right)/_.x}}const Jhe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Af(t,e)||{};if(u==null)return{};const f=lY(d),m={x:n,y:r},h=wI(i),y=bI(h),v=await o.getDimensions(u),x=h==="y",b=x?"top":"left",S=x?"bottom":"right",E=x?"clientHeight":"clientWidth",_=s.reference[y]+s.reference[h]-m[h]-s.floating[y],C=m[h]-s.reference[h],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let M=O?O[E]:0;(!M||!await(o.isElement==null?void 0:o.isElement(O)))&&(M=l.floating[E]||s.floating[y]);const A=_/2-C/2,P=M/2-v[y]/2-1,F=cp(f[b],P),R=cp(f[S],P),$=F,q=M-v[y]-R,z=M/2-v[y]/2+A,G=qP($,z,q),X=!c.arrow&&Uy(i)!=null&&z!==G&&s.reference[y]/2-(z<$?F:R)-v[y]/2<0,U=X?z<$?z-$:z-q:0;return{[h]:m[h]+U,data:{[h]:G,centerOffset:z-G-U,...X&&{alignmentOffset:U}},reset:X}}}),Zhe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=Af(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=kf(i),S=nd(l),E=kf(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(E||!v?[jN(l)]:Vhe(l)),O=y!=="none";!m&&O&&C.push(...Yhe(l,v,y,_));const M=[l,...C],A=await r0(e,x),P=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(A[b]),f){const z=Hhe(i,o,_);P.push(A[z[0]],A[z[1]])}if(F=[...F,{placement:i,overflows:P}],!P.every(z=>z<=0)){var R,$;const z=(((R=s.flip)==null?void 0:R.index)||0)+1,G=M[z];if(G&&(!(f==="alignment"?S!==nd(G):!1)||F.every(W=>nd(W.placement)===S?W.overflows[0]>0:!0)))return{data:{index:z,overflows:F},reset:{placement:G}};let X=($=F.filter(U=>U.overflows[0]<=0).sort((U,W)=>U.overflows[1]-W.overflows[1])[0])==null?void 0:$.placement;if(!X)switch(h){case"bestFit":{var q;const U=(q=F.filter(W=>{if(O){const Y=nd(W.placement);return Y===S||Y==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Y=>Y>0).reduce((Y,ie)=>Y+ie,0)]).sort((W,Y)=>W[1]-Y[1])[0])==null?void 0:q[0];U&&(X=U);break}case"initialPlacement":X=l;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function $F(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function BF(t){return Bhe.some(e=>t[e]>=0)}const epe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Af(t,e);switch(r){case"referenceHidden":{const s=await r0(e,{...i,elementContext:"reference"}),o=$F(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:BF(o)}}}case"escaped":{const s=await r0(e,{...i,altBoundary:!0}),o=$F(s,n.floating);return{data:{escapedOffsets:o,escaped:BF(o)}}}default:return{}}}}},cY=new Set(["left","top"]);async function tpe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=kf(n),l=Uy(n),c=nd(n)==="y",u=cY.has(o)?-1:1,d=s&&c?-1:1,f=Af(e,t);let{mainAxis:m,crossAxis:h,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(h=l==="end"?y*-1:y),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const npe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await tpe(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},rpe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:b,y:S}=x;return{x:b,y:S}}},...c}=Af(t,e),u={x:n,y:r},d=await r0(e,c),f=nd(kf(i)),m=xI(f);let h=u[m],y=u[f];if(s){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",S=h+d[x],E=h-d[b];h=qP(S,h,E)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",S=y+d[x],E=y-d[b];y=qP(S,y,E)}const v=l.fn({...e,[m]:h,[f]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:s,[f]:o}}}}}},ipe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Af(t,e),d={x:n,y:r},f=nd(i),m=xI(f);let h=d[m],y=d[f];const v=Af(l,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const E=m==="y"?"height":"width",_=s.reference[m]-s.floating[E]+x.mainAxis,C=s.reference[m]+s.reference[E]-x.mainAxis;h<_?h=_:h>C&&(h=C)}if(u){var b,S;const E=m==="y"?"width":"height",_=cY.has(kf(i)),C=s.reference[f]-s.floating[E]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:x.crossAxis),O=s.reference[f]+s.reference[E]+(_?0:((S=o.offset)==null?void 0:S[f])||0)-(_?x.crossAxis:0);y<C?y=C:y>O&&(y=O)}return{[m]:h,[f]:y}}}},spe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Af(t,e),d=await r0(e,u),f=kf(i),m=Uy(i),h=nd(i)==="y",{width:y,height:v}=s.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=m==="end"?"top":"bottom");const S=v-d.top-d.bottom,E=y-d.left-d.right,_=cp(v-d[x],S),C=cp(y-d[b],E),O=!e.middlewareData.shift;let M=_,A=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=S),O&&!m){const F=Pl(d.left,0),R=Pl(d.right,0),$=Pl(d.top,0),q=Pl(d.bottom,0);h?A=y-2*(F!==0||R!==0?F+R:Pl(d.left,d.right)):M=v-2*($!==0||q!==0?$+q:Pl(d.top,d.bottom))}await c({...e,availableWidth:A,availableHeight:M});const P=await o.getDimensions(l.floating);return y!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function JE(){return typeof window<"u"}function Hy(t){return uY(t)?(t.nodeName||"").toLowerCase():"#document"}function $l(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Nd(t){var e;return(e=(uY(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uY(t){return JE()?t instanceof Node||t instanceof $l(t).Node:!1}function yu(t){return JE()?t instanceof Element||t instanceof $l(t).Element:!1}function pd(t){return JE()?t instanceof HTMLElement||t instanceof $l(t).HTMLElement:!1}function zF(t){return!JE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $l(t).ShadowRoot}const ape=new Set(["inline","contents"]);function S1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xu(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ape.has(i)}const ope=new Set(["table","td","th"]);function lpe(t){return ope.has(Hy(t))}const cpe=[":popover-open",":modal"];function ZE(t){return cpe.some(e=>{try{return t.matches(e)}catch{return!1}})}const upe=["transform","translate","scale","rotate","perspective"],dpe=["transform","translate","scale","rotate","perspective","filter"],fpe=["paint","layout","strict","content"];function NI(t){const e=SI(),n=yu(t)?xu(t):t;return upe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dpe.some(r=>(n.willChange||"").includes(r))||fpe.some(r=>(n.contain||"").includes(r))}function hpe(t){let e=up(t);for(;pd(e)&&!Qv(e);){if(NI(e))return e;if(ZE(e))return null;e=up(e)}return null}function SI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ppe=new Set(["html","body","#document"]);function Qv(t){return ppe.has(Hy(t))}function xu(t){return $l(t).getComputedStyle(t)}function ej(t){return yu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function up(t){if(Hy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zF(t)&&t.host||Nd(t);return zF(e)?e.host:e}function dY(t){const e=up(t);return Qv(e)?t.ownerDocument?t.ownerDocument.body:t.body:pd(e)&&S1(e)?e:dY(e)}function i0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=dY(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=$l(i);if(s){const l=HP(o);return e.concat(o,o.visualViewport||[],S1(i)?i:[],l&&n?i0(l):[])}return e.concat(i,i0(i,[],n))}function HP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fY(t){const e=xu(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pd(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=EN(n)!==s||EN(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function EI(t){return yu(t)?t:t.contextElement}function Mv(t){const e=EI(t);if(!pd(e))return od(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=fY(e);let o=(s?EN(n.width):n.width)/r,l=(s?EN(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const mpe=od(0);function hY(t){const e=$l(t);return!SI()||!e.visualViewport?mpe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gpe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$l(t)?!1:e}function $m(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=EI(t);let o=od(1);e&&(r?yu(r)&&(o=Mv(r)):o=Mv(t));const l=gpe(s,n,r)?hY(s):od(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const m=$l(s),h=r&&yu(r)?$l(r):r;let y=m,v=HP(y);for(;v&&r&&h!==y;){const x=Mv(v),b=v.getBoundingClientRect(),S=xu(v),E=b.left+(v.clientLeft+parseFloat(S.paddingLeft))*x.x,_=b.top+(v.clientTop+parseFloat(S.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=E,u+=_,y=$l(v),v=HP(y)}}return _N({width:d,height:f,x:c,y:u})}function tj(t,e){const n=ej(t).scrollLeft;return e?e.left+n:$m(Nd(t)).left+n}function pY(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-tj(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function vpe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Nd(r),l=e?ZE(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=od(1);const d=od(0),f=pd(r);if((f||!f&&!s)&&((Hy(r)!=="body"||S1(o))&&(c=ej(r)),pd(r))){const h=$m(r);u=Mv(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const m=o&&!f&&!s?pY(o,c):od(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function ype(t){return Array.from(t.getClientRects())}function xpe(t){const e=Nd(t),n=ej(t),r=t.ownerDocument.body,i=Pl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Pl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tj(t);const l=-n.scrollTop;return xu(r).direction==="rtl"&&(o+=Pl(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}const qF=25;function bpe(t,e){const n=$l(t),r=Nd(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=SI();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=tj(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-h);y<=qF&&(s-=y)}else u<=qF&&(s+=u);return{width:s,height:o,x:l,y:c}}const wpe=new Set(["absolute","fixed"]);function Npe(t,e){const n=$m(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=pd(t)?Mv(t):od(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function UF(t,e,n){let r;if(e==="viewport")r=bpe(t,n);else if(e==="document")r=xpe(Nd(t));else if(yu(e))r=Npe(e,n);else{const i=hY(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _N(r)}function mY(t,e){const n=up(t);return n===e||!yu(n)||Qv(n)?!1:xu(n).position==="fixed"||mY(n,e)}function Spe(t,e){const n=e.get(t);if(n)return n;let r=i0(t,[],!1).filter(l=>yu(l)&&Hy(l)!=="body"),i=null;const s=xu(t).position==="fixed";let o=s?up(t):t;for(;yu(o)&&!Qv(o);){const l=xu(o),c=NI(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&wpe.has(i.position)||S1(o)&&!c&&mY(t,o))?r=r.filter(d=>d!==o):i=l,o=up(o)}return e.set(t,r),r}function Epe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?ZE(e)?[]:Spe(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=UF(e,d,i);return u.top=Pl(f.top,u.top),u.right=cp(f.right,u.right),u.bottom=cp(f.bottom,u.bottom),u.left=Pl(f.left,u.left),u},UF(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jpe(t){const{width:e,height:n}=fY(t);return{width:e,height:n}}function _pe(t,e,n){const r=pd(e),i=Nd(e),s=n==="fixed",o=$m(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=od(0);function u(){c.x=tj(i)}if(r||!r&&!s)if((Hy(e)!=="body"||S1(i))&&(l=ej(e)),r){const h=$m(e,!0,s,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?pY(i,l):od(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function VC(t){return xu(t).position==="static"}function HF(t,e){if(!pd(t)||xu(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Nd(t)===n&&(n=n.ownerDocument.body),n}function gY(t,e){const n=$l(t);if(ZE(t))return n;if(!pd(t)){let i=up(t);for(;i&&!Qv(i);){if(yu(i)&&!VC(i))return i;i=up(i)}return n}let r=HF(t,e);for(;r&&lpe(r)&&VC(r);)r=HF(r,e);return r&&Qv(r)&&VC(r)&&!NI(r)?n:r||hpe(t)||n}const Cpe=async function(t){const e=this.getOffsetParent||gY,n=this.getDimensions,r=await n(t.floating);return{reference:_pe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ape(t){return xu(t).direction==="rtl"}const kpe={convertOffsetParentRelativeRectToViewportRelativeRect:vpe,getDocumentElement:Nd,getClippingRect:Epe,getOffsetParent:gY,getElementRects:Cpe,getClientRects:ype,getDimensions:jpe,getScale:Mv,isElement:yu,isRTL:Ape};function vY(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Tpe(t,e){let n=null,r;const i=Nd(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const y=zw(f),v=zw(i.clientWidth-(d+m)),x=zw(i.clientHeight-(f+h)),b=zw(d),E={rootMargin:-y+"px "+-v+"px "+-x+"px "+-b+"px",threshold:Pl(0,cp(1,c))||1};let _=!0;function C(O){const M=O[0].intersectionRatio;if(M!==c){if(!_)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!vY(u,t.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(C,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,E)}n.observe(t)}return o(!0),s}function Ope(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=EI(t),d=i||s?[...u?i0(u):[],...i0(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&l?Tpe(u,n):null;let m=-1,h=null;o&&(h=new ResizeObserver(b=>{let[S]=b;S&&S.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=h)==null||E.observe(e)})),n()}),u&&!c&&h.observe(u),h.observe(e));let y,v=c?$m(t):null;c&&x();function x(){const b=$m(t);v&&!vY(v,b)&&n(),v=b,y=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),f?.(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(y)}}const Ppe=npe,Mpe=rpe,Rpe=Zhe,Ipe=spe,Dpe=epe,VF=Jhe,Lpe=ipe,Fpe=(t,e,n)=>{const r=new Map,i={platform:kpe,...n},s={...i.platform,_c:r};return Qhe(t,e,{...i,platform:s})};var $pe=typeof document<"u",Bpe=function(){},H2=$pe?w.useLayoutEffect:Bpe;function CN(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!CN(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!CN(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function yY(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WF(t,e){const n=yY(t);return Math.round(e*n)/n}function WC(t){const e=w.useRef(t);return H2(()=>{e.current=t}),e}function zpe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,h]=w.useState(r);CN(m,r)||h(r);const[y,v]=w.useState(null),[x,b]=w.useState(null),S=w.useCallback(W=>{W!==O.current&&(O.current=W,v(W))},[]),E=w.useCallback(W=>{W!==M.current&&(M.current=W,b(W))},[]),_=s||y,C=o||x,O=w.useRef(null),M=w.useRef(null),A=w.useRef(d),P=c!=null,F=WC(c),R=WC(i),$=WC(u),q=w.useCallback(()=>{if(!O.current||!M.current)return;const W={placement:e,strategy:n,middleware:m};R.current&&(W.platform=R.current),Fpe(O.current,M.current,W).then(Y=>{const ie={...Y,isPositioned:$.current!==!1};z.current&&!CN(A.current,ie)&&(A.current=ie,mu.flushSync(()=>{f(ie)}))})},[m,e,n,R,$]);H2(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const z=w.useRef(!1);H2(()=>(z.current=!0,()=>{z.current=!1}),[]),H2(()=>{if(_&&(O.current=_),C&&(M.current=C),_&&C){if(F.current)return F.current(_,C,q);q()}},[_,C,q,F,P]);const G=w.useMemo(()=>({reference:O,floating:M,setReference:S,setFloating:E}),[S,E]),X=w.useMemo(()=>({reference:_,floating:C}),[_,C]),U=w.useMemo(()=>{const W={position:n,left:0,top:0};if(!X.floating)return W;const Y=WF(X.floating,d.x),ie=WF(X.floating,d.y);return l?{...W,transform:"translate("+Y+"px, "+ie+"px)",...yY(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:ie}},[n,l,X.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:q,refs:G,elements:X,floatingStyles:U}),[d,q,G,X,U])}const qpe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VF({element:r.current,padding:i}).fn(n):{}:r?VF({element:r,padding:i}).fn(n):{}}}},Upe=(t,e)=>({...Ppe(t),options:[t,e]}),Hpe=(t,e)=>({...Mpe(t),options:[t,e]}),Vpe=(t,e)=>({...Lpe(t),options:[t,e]}),Wpe=(t,e)=>({...Rpe(t),options:[t,e]}),Kpe=(t,e)=>({...Ipe(t),options:[t,e]}),Gpe=(t,e)=>({...Dpe(t),options:[t,e]}),Ype=(t,e)=>({...qpe(t),options:[t,e]});var Xpe="Arrow",xY=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return a.jsx($t.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});xY.displayName=Xpe;var Qpe=xY;function nj(t){const[e,n]=w.useState(void 0);return _s(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jI="Popper",[bY,xp]=Ea(jI),[Jpe,wY]=bY(jI),NY=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return a.jsx(Jpe,{scope:e,anchor:r,onAnchorChange:i,children:n})};NY.displayName=jI;var SY="PopperAnchor",EY=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=wY(SY,n),o=w.useRef(null),l=Mn(e,o),c=w.useRef(null);return w.useEffect(()=>{const u=c.current;c.current=r?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:a.jsx($t.div,{...i,ref:l})});EY.displayName=SY;var _I="PopperContent",[Zpe,eme]=bY(_I),jY=w.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:y,...v}=t,x=wY(_I,n),[b,S]=w.useState(null),E=Mn(e,pe=>S(pe)),[_,C]=w.useState(null),O=nj(_),M=O?.width??0,A=O?.height??0,P=r+(s!=="center"?"-"+s:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],$=R.length>0,q={padding:F,boundary:R.filter(nme),altBoundary:$},{refs:z,floatingStyles:G,placement:X,isPositioned:U,middlewareData:W}=zpe({strategy:"fixed",placement:P,whileElementsMounted:(...pe)=>Ope(...pe,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[Upe({mainAxis:i+A,alignmentAxis:o}),c&&Hpe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Vpe():void 0,...q}),c&&Wpe({...q}),Kpe({...q,apply:({elements:pe,rects:xe,availableWidth:de,availableHeight:we})=>{const{width:Ce,height:ae}=xe.reference,Pe=pe.floating.style;Pe.setProperty("--radix-popper-available-width",`${de}px`),Pe.setProperty("--radix-popper-available-height",`${we}px`),Pe.setProperty("--radix-popper-anchor-width",`${Ce}px`),Pe.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),_&&Ype({element:_,padding:l}),rme({arrowWidth:M,arrowHeight:A}),m&&Gpe({strategy:"referenceHidden",...q})]}),[Y,ie]=AY(X),Q=ps(y);_s(()=>{U&&Q?.()},[U,Q]);const I=W.arrow?.x,V=W.arrow?.y,J=W.arrow?.centerOffset!==0,[re,fe]=w.useState();return _s(()=>{b&&fe(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:U?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Zpe,{scope:n,placedSide:Y,onArrowChange:C,arrowX:I,arrowY:V,shouldHideArrow:J,children:a.jsx($t.div,{"data-side":Y,"data-align":ie,...v,ref:E,style:{...v.style,animation:U?void 0:"none"}})})})});jY.displayName=_I;var _Y="PopperArrow",tme={top:"bottom",right:"left",bottom:"top",left:"right"},CY=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=eme(_Y,r),o=tme[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Qpe,{...i,ref:n,style:{...i.style,display:"block"}})})});CY.displayName=_Y;function nme(t){return t!==null}var rme=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=AY(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(i.arrow?.x??0)+l/2,h=(i.arrow?.y??0)+c/2;let y="",v="";return u==="bottom"?(y=o?f:`${m}px`,v=`${-c}px`):u==="top"?(y=o?f:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=o?f:`${h}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=o?f:`${h}px`),{data:{x:y,y:v}}}});function AY(t){const[e,n="center"]=t.split("-");return[e,n]}var rj=NY,E1=EY,ij=jY,sj=CY,[aj]=Ea("Tooltip",[xp]),oj=xp(),kY="TooltipProvider",ime=700,VP="tooltip.open",[sme,CI]=aj(kY),TY=t=>{const{__scopeTooltip:e,delayDuration:n=ime,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(sme,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};TY.displayName=kY;var s0="Tooltip",[ame,lj]=aj(s0),OY=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=CI(s0,t.__scopeTooltip),u=oj(e),[d,f]=w.useState(null),m=wa(),h=w.useRef(0),y=o??c.disableHoverableContent,v=l??c.delayDuration,x=w.useRef(!1),[b,S]=Ac({prop:r,defaultProp:i??!1,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(VP))):c.onClose(),s?.(M)},caller:s0}),E=w.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),_=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x.current=!1,S(!0)},[S]),C=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,S(!1)},[S]),O=w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{x.current=!0,S(!0),h.current=0},v)},[v,S]);return w.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),a.jsx(rj,{...u,children:a.jsx(ame,{scope:e,contentId:m,open:b,stateAttribute:E,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?O():_()},[c.isOpenDelayedRef,O,_]),onTriggerLeave:w.useCallback(()=>{y?C():(window.clearTimeout(h.current),h.current=0)},[C,y]),onOpen:_,onClose:C,disableHoverableContent:y,children:n})})};OY.displayName=s0;var WP="TooltipTrigger",PY=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=lj(WP,n),s=CI(WP,n),o=oj(n),l=w.useRef(null),c=Mn(e,l,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(E1,{asChild:!0,...o,children:a.jsx($t.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Nt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Nt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Nt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Nt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Nt(t.onBlur,i.onClose),onClick:Nt(t.onClick,i.onClose)})})});PY.displayName=WP;var ome="TooltipPortal",[mJe,lme]=aj(ome,{forceMount:void 0}),Jv="TooltipContent",MY=w.forwardRef((t,e)=>{const n=lme(Jv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=lj(Jv,t.__scopeTooltip);return a.jsx(ja,{present:r||o.open,children:o.disableHoverableContent?a.jsx(RY,{side:i,...s,ref:e}):a.jsx(cme,{side:i,...s,ref:e})})}),cme=w.forwardRef((t,e)=>{const n=lj(Jv,t.__scopeTooltip),r=CI(Jv,t.__scopeTooltip),i=w.useRef(null),s=Mn(e,i),[o,l]=w.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,m=w.useCallback(()=>{l(null),f(!1)},[f]),h=w.useCallback((y,v)=>{const x=y.currentTarget,b={x:y.clientX,y:y.clientY},S=pme(b,x.getBoundingClientRect()),E=mme(b,S),_=gme(v.getBoundingClientRect()),C=yme([...E,..._]);l(C),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const y=x=>h(x,d),v=x=>h(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[c,d,h,m]),w.useEffect(()=>{if(o){const y=v=>{const x=v.target,b={x:v.clientX,y:v.clientY},S=c?.contains(x)||d?.contains(x),E=!vme(b,o);S?m():E&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,m]),a.jsx(RY,{...t,ref:s})}),[ume,dme]=aj(s0,{isInside:!1}),fme=rG("TooltipContent"),RY=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=lj(Jv,n),u=oj(n),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(VP,d),()=>document.removeEventListener(VP,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(og,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(ij,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(fme,{children:r}),a.jsx(ume,{scope:n,isInside:!0,children:a.jsx(Hde,{id:c.contentId,role:"tooltip",children:i||r})})]})})});MY.displayName=Jv;var IY="TooltipArrow",hme=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=oj(n);return dme(IY,n).isInside?null:a.jsx(sj,{...i,...r,ref:e})});hme.displayName=IY;function pme(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mme(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function gme(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function vme(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function yme(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),xme(e)}function xme(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bme=TY,wme=OY,Nme=PY,DY=MY;const LY=bme,FY=wme,$Y=Nme,AI=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(DY,{ref:r,sideOffset:e,className:gt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));AI.displayName=DY.displayName;const Sme={theme:"light",setTheme:()=>null,toggleTheme:()=>null},BY=w.createContext(Sme);function Eme({children:t,defaultTheme:e="light",...n}){const[r,i]=w.useState(()=>localStorage.getItem("theme")||e);w.useEffect(()=>{const l=document.documentElement;l.classList.remove("light","dark"),l.classList.add(r),localStorage.setItem("theme",r)},[r]);const o={theme:r,setTheme:i,toggleTheme:()=>{i(r==="light"?"dark":"light")}};return a.jsx(BY.Provider,{...n,value:o,children:t})}const jme=()=>{const t=w.useContext(BY);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},zY=w.createContext(void 0);function _me({children:t}){const e=cl(),{data:n,isLoading:r}=Wt({queryKey:["/api/auth/profile"],queryFn:eG({on401:"returnNull"}),retry:!1,enabled:!0}),i=Xt({mutationFn:async({username:d,password:f})=>await tn("POST","/api/auth/login",{username:d,password:f}),onSuccess:d=>{localStorage.setItem("token",d.token),e.setQueryData(["/api/auth/profile"],d.user)}}),s=Xt({mutationFn:async({username:d,email:f,password:m,role:h})=>await tn("POST","/api/auth/register",{username:d,email:f,password:m,role:h}),onSuccess:d=>{localStorage.setItem("token",d.token),e.setQueryData(["/api/auth/profile"],d.user)}}),o=Xt({mutationFn:async()=>{await tn("POST","/api/auth/logout",{})},onSuccess:()=>{localStorage.removeItem("token"),e.setQueryData(["/api/auth/profile"],null),e.clear()}}),l=async(d,f)=>{await i.mutateAsync({username:d,password:f})},c=async(d,f,m,h)=>{await s.mutateAsync({username:d,email:f,password:m,role:h})},u=async()=>{await o.mutateAsync()};return a.jsx(zY.Provider,{value:{user:n??null,isLoading:r,login:l,register:c,logout:u},children:t})}function dg(){const t=w.useContext(zY);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const md=Object.create(null);md.open="0";md.close="1";md.ping="2";md.pong="3";md.message="4";md.upgrade="5";md.noop="6";const V2=Object.create(null);Object.keys(md).forEach(t=>{V2[md[t]]=t});const KP={type:"error",data:"parser error"},qY=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",UY=typeof ArrayBuffer=="function",HY=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,kI=({type:t,data:e},n,r)=>qY&&e instanceof Blob?n?r(e):KF(e,r):UY&&(e instanceof ArrayBuffer||HY(e))?n?r(e):KF(new Blob([e]),r):r(md[t]+(e||"")),KF=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function GF(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let KC;function Cme(t,e){if(qY&&t.data instanceof Blob)return t.data.arrayBuffer().then(GF).then(e);if(UY&&(t.data instanceof ArrayBuffer||HY(t.data)))return e(GF(t.data));kI(t,!1,n=>{KC||(KC=new TextEncoder),e(KC.encode(n))})}const YF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<YF.length;t++)fb[YF.charCodeAt(t)]=t;const Ame=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)s=fb[t.charCodeAt(r)],o=fb[t.charCodeAt(r+1)],l=fb[t.charCodeAt(r+2)],c=fb[t.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},kme=typeof ArrayBuffer=="function",TI=(t,e)=>{if(typeof t!="string")return{type:"message",data:VY(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Tme(t.substring(1),e)}:V2[n]?t.length>1?{type:V2[n],data:t.substring(1)}:{type:V2[n]}:KP},Tme=(t,e)=>{if(kme){const n=Ame(t);return VY(n,e)}else return{base64:!0,data:t}},VY=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},WY="",Ome=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{kI(s,!1,l=>{r[o]=l,++i===n&&e(r.join(WY))})})},Pme=(t,e)=>{const n=t.split(WY),r=[];for(let i=0;i<n.length;i++){const s=TI(n[i],e);if(r.push(s),s.type==="error")break}return r};function Mme(){return new TransformStream({transform(t,e){Cme(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let GC;function qw(t){return t.reduce((e,n)=>e+n.length,0)}function Uw(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Rme(t,e){GC||(GC=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(qw(n)<1)break;const c=Uw(n,1);s=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(qw(n)<2)break;const c=Uw(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(qw(n)<8)break;const c=Uw(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(KP);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(qw(n)<i)break;const c=Uw(n,i);l.enqueue(TI(s?c:GC.decode(c),e)),r=0}if(i===0||i>t){l.enqueue(KP);break}}}})}const KY=4;function Fs(t){if(t)return Ime(t)}function Ime(t){for(var e in Fs.prototype)t[e]=Fs.prototype[e];return t}Fs.prototype.on=Fs.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Fs.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Fs.prototype.off=Fs.prototype.removeListener=Fs.prototype.removeAllListeners=Fs.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Fs.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Fs.prototype.emitReserved=Fs.prototype.emit;Fs.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Fs.prototype.hasListeners=function(t){return!!this.listeners(t).length};const cj=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),vc=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Dme="arraybuffer";function GY(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Lme=vc.setTimeout,Fme=vc.clearTimeout;function uj(t,e){e.useNativeTimers?(t.setTimeoutFn=Lme.bind(vc),t.clearTimeoutFn=Fme.bind(vc)):(t.setTimeoutFn=vc.setTimeout.bind(vc),t.clearTimeoutFn=vc.clearTimeout.bind(vc))}const $me=1.33;function Bme(t){return typeof t=="string"?zme(t):Math.ceil((t.byteLength||t.size)*$me)}function zme(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function YY(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qme(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Ume(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Hme extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class OI extends Fs{constructor(e){super(),this.writable=!1,uj(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Hme(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=TI(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=qme(e);return n.length?"?"+n:""}}class Vme extends OI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Pme(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ome(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=YY()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let XY=!1;try{XY=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wme=XY;function Kme(){}class Gme extends Vme{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class ld extends Fs{constructor(e,n,r){super(),this.createRequest=e,uj(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=GY(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ld.requestsCount++,ld.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Kme,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ld.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ld.requestsCount=0;ld.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",XF);else if(typeof addEventListener=="function"){const t="onpagehide"in vc?"pagehide":"unload";addEventListener(t,XF,!1)}}function XF(){for(let t in ld.requests)ld.requests.hasOwnProperty(t)&&ld.requests[t].abort()}const Yme=(function(){const t=QY({xdomain:!1});return t&&t.responseType!==null})();class Xme extends Gme{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Yme&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ld(QY,this.uri(),e)}}function QY(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Wme))return new XMLHttpRequest}catch{}if(!e)try{return new vc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const JY=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Qme extends OI{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=JY?{}:GY(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;kI(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&cj(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=YY()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const YC=vc.WebSocket||vc.MozWebSocket;let Jme=class extends Qme{createSocket(e,n,r){return JY?new YC(e,n,r):n?new YC(e,n):new YC(e)}doWrite(e,n){this.ws.send(n)}};class Zme extends OI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Rme(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Mme();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&cj(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const ege={websocket:Jme,webtransport:Zme,polling:Xme},tge=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nge=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function GP(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=tge.exec(t||""),s={},o=14;for(;o--;)s[nge[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=rge(s,s.path),s.queryKey=ige(s,s.query),s}function rge(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function ige(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const YP=typeof addEventListener=="function"&&typeof removeEventListener=="function",W2=[];YP&&addEventListener("offline",()=>{W2.forEach(t=>t())},!1);class Xh extends Fs{constructor(e,n){if(super(),this.binaryType=Dme,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=GP(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=GP(n.host).host);uj(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ume(this.opts.query)),YP&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},W2.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=KY,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Xh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Xh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Bme(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,cj(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Xh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),YP&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=W2.indexOf(this._offlineEventListener);r!==-1&&W2.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Xh.protocol=KY;class sge extends Xh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Xh.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Xh.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const o=f=>{const m=new Error("probe error: "+f);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function u(f){n&&f.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let age=class extends sge{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>ege[i]).filter(i=>!!i)),super(e,r)}};function oge(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=GP(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const lge=typeof ArrayBuffer=="function",cge=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ZY=Object.prototype.toString,uge=typeof Blob=="function"||typeof Blob<"u"&&ZY.call(Blob)==="[object BlobConstructor]",dge=typeof File=="function"||typeof File<"u"&&ZY.call(File)==="[object FileConstructor]";function PI(t){return lge&&(t instanceof ArrayBuffer||cge(t))||uge&&t instanceof Blob||dge&&t instanceof File}function K2(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(K2(t[n]))return!0;return!1}if(PI(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return K2(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&K2(t[n]))return!0;return!1}function fge(t){const e=[],n=t.data,r=t;return r.data=XP(n,e),r.attachments=e.length,{packet:r,buffers:e}}function XP(t,e){if(!t)return t;if(PI(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=XP(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=XP(t[r],e));return n}return t}function hge(t,e){return t.data=QP(t.data,e),delete t.attachments,t}function QP(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=QP(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=QP(t[n],e));return t}const pge=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mge=5;var yr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(yr||(yr={}));class gge{constructor(e){this.replacer=e}encode(e){return(e.type===yr.EVENT||e.type===yr.ACK)&&K2(e)?this.encodeAsBinary({type:e.type===yr.EVENT?yr.BINARY_EVENT:yr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===yr.BINARY_EVENT||e.type===yr.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=fge(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function QF(t){return Object.prototype.toString.call(t)==="[object Object]"}class MI extends Fs{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===yr.BINARY_EVENT;r||n.type===yr.BINARY_ACK?(n.type=r?yr.EVENT:yr.ACK,this.reconstructor=new vge(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(PI(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(yr[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===yr.BINARY_EVENT||r.type===yr.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(MI.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case yr.CONNECT:return QF(n);case yr.DISCONNECT:return n===void 0;case yr.CONNECT_ERROR:return typeof n=="string"||QF(n);case yr.EVENT:case yr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&pge.indexOf(n[0])===-1);case yr.ACK:case yr.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class vge{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=hge(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const yge=Object.freeze(Object.defineProperty({__proto__:null,Decoder:MI,Encoder:gge,get PacketType(){return yr},protocol:mge},Symbol.toStringTag,{value:"Module"}));function ou(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const xge=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class eX extends Fs{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ou(e,"open",this.onopen.bind(this)),ou(e,"packet",this.onpacket.bind(this)),ou(e,"error",this.onerror.bind(this)),ou(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(xge.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:yr.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),o.id=d}const l=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,l)=>o?i(o):r(l);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:yr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case yr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yr.EVENT:case yr.BINARY_EVENT:this.onevent(e);break;case yr.ACK:case yr.BINARY_ACK:this.onack(e);break;case yr.DISCONNECT:this.ondisconnect();break;case yr.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:yr.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:yr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Vy(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Vy.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Vy.prototype.reset=function(){this.attempts=0};Vy.prototype.setMin=function(t){this.ms=t};Vy.prototype.setMax=function(t){this.max=t};Vy.prototype.setJitter=function(t){this.jitter=t};class JP extends Fs{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,uj(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Vy({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||yge;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new age(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ou(n,"open",function(){r.onopen(),e&&e()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=ou(n,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ou(e,"ping",this.onping.bind(this)),ou(e,"data",this.ondata.bind(this)),ou(e,"error",this.onerror.bind(this)),ou(e,"close",this.onclose.bind(this)),ou(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){cj(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new eX(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Wx={};function G2(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=oge(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Wx[i]&&s in Wx[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new JP(r,e):(Wx[i]||(Wx[i]=new JP(r,e)),c=Wx[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(G2,{Manager:JP,Socket:eX,io:G2,connect:G2});const tX=w.createContext({socket:null,connected:!1,onlineUsers:0}),nX=()=>w.useContext(tX);function bge({children:t}){const[e,n]=w.useState(null),[r,i]=w.useState(!1),[s,o]=w.useState(0),{toast:l}=Ir(),[c,u]=w.useState(localStorage.getItem("token"));return w.useEffect(()=>{const d=()=>{const m=localStorage.getItem("token");u(m)};window.addEventListener("storage",d);const f=setInterval(d,1e3);return()=>{window.removeEventListener("storage",d),clearInterval(f)}},[]),w.useEffect(()=>{if(!c){e&&(e.close(),n(null),i(!1),o(0));return}const d=G2(window.location.origin,{auth:{token:c}});return d.on("connect",()=>{console.log("WebSocket conectado"),i(!0),d.emit("get:online-count")}),d.on("disconnect",f=>{console.log(`WebSocket desconectado - Razn: ${f}`),i(!1),f==="io client disconnect"||f==="io server disconnect"||f==="ping timeout"||o(0)}),d.on("heartbeat",f=>{console.log(" Heartbeat recibido:",f),d.emit("heartbeat-response",{timestamp:Date.now()})}),d.on("online-count",f=>{console.log(`Usuarios conectados: ${f}`),o(f)}),d.on("notification",f=>{console.log("Notificacin recibida:",f),l({title:f.title,description:f.message,variant:f.action==="deleted"?"destructive":"default"})}),d.on("user:connected",()=>{console.log("Usuario conectado")}),d.on("user:disconnected",()=>{console.log("Usuario desconectado")}),d.on("session:new",f=>{console.log("Nueva sesin detectada:",f),l({title:"Nueva Sesin",description:`Usuario ${f.username} se conect desde ${f.ip}`,variant:"default"})}),d.on("session:update",f=>{console.log("Sesin actualizada:",f)}),d.on("sessions:terminated",f=>{console.log("Sesiones terminadas:",f),l({title:"Sesiones Terminadas",description:`Se terminaron ${f.count} sesiones del usuario`,variant:"default"})}),d.on("session:terminated",f=>{console.log("Sesin terminada por administrador:",f),l({title:"Sesin Terminada",description:f.message||"Tu sesin ha sido terminada por un administrador",variant:"destructive"}),localStorage.removeItem("token"),window.location.href="/"}),d.on("connect_error",f=>{console.error("Error de conexin WebSocket:",f),i(!1),o(0)}),n(d),()=>{d.close()}},[c,l]),a.jsx(tX.Provider,{value:{socket:e,connected:r,onlineUsers:s},children:t})}const XC=768;function wge(){const[t,e]=w.useState(void 0);return w.useEffect(()=>{const n=window.matchMedia(`(max-width: ${XC-1}px)`),r=()=>{e(window.innerWidth<XC)};return n.addEventListener("change",r),e(window.innerWidth<XC),()=>n.removeEventListener("change",r)},[]),!!t}const a0=lg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ge=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?YE:"button";return a.jsx(o,{className:gt(a0({variant:e,size:n,className:t})),ref:s,...i})});ge.displayName="Button";const Fe=w.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:gt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Fe.displayName="Input";var Nge="Separator",JF="horizontal",Sge=["horizontal","vertical"],rX=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=JF,...i}=t,s=Ege(r)?r:JF,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx($t.div,{"data-orientation":s,...l,...i,ref:e})});rX.displayName=Nge;function Ege(t){return Sge.includes(t)}var iX=rX;const Ls=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>a.jsx(iX,{ref:i,decorative:n,orientation:e,className:gt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ls.displayName=iX.displayName;var QC="focusScope.autoFocusOnMount",JC="focusScope.autoFocusOnUnmount",ZF={bubbles:!1,cancelable:!0},jge="FocusScope",j1=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=w.useState(null),u=ps(i),d=ps(s),f=w.useRef(null),m=Mn(e,v=>c(v)),h=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let v=function(E){if(h.paused||!l)return;const _=E.target;l.contains(_)?f.current=_:jh(f.current,{select:!0})},x=function(E){if(h.paused||!l)return;const _=E.relatedTarget;_!==null&&(l.contains(_)||jh(f.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&jh(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const S=new MutationObserver(b);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),S.disconnect()}}},[r,l,h.paused]),w.useEffect(()=>{if(l){t8.add(h);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(QC,ZF);l.addEventListener(QC,u),l.dispatchEvent(b),b.defaultPrevented||(_ge(Oge(sX(l)),{select:!0}),document.activeElement===v&&jh(l))}return()=>{l.removeEventListener(QC,u),setTimeout(()=>{const b=new CustomEvent(JC,ZF);l.addEventListener(JC,d),l.dispatchEvent(b),b.defaultPrevented||jh(v??document.body,{select:!0}),l.removeEventListener(JC,d),t8.remove(h)},0)}}},[l,u,d,h]);const y=w.useCallback(v=>{if(!n&&!r||h.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(x&&b){const S=v.currentTarget,[E,_]=Cge(S);E&&_?!v.shiftKey&&b===_?(v.preventDefault(),n&&jh(E,{select:!0})):v.shiftKey&&b===E&&(v.preventDefault(),n&&jh(_,{select:!0})):b===S&&v.preventDefault()}},[n,r,h.paused]);return a.jsx($t.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});j1.displayName=jge;function _ge(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(jh(r,{select:e}),document.activeElement!==n)return}function Cge(t){const e=sX(t),n=e8(e,t),r=e8(e.reverse(),t);return[n,r]}function sX(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function e8(t,e){for(const n of t)if(!Age(n,{upTo:e}))return n}function Age(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kge(t){return t instanceof HTMLInputElement&&"select"in t}function jh(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kge(t)&&e&&t.select()}}var t8=Tge();function Tge(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=n8(t,e),t.unshift(e)},remove(e){t=n8(t,e),t[0]?.resume()}}}function n8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Oge(t){return t.filter(e=>e.tagName!=="A")}var ZC=0;function dj(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r8()),document.body.insertAdjacentElement("beforeend",t[1]??r8()),ZC++,()=>{ZC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ZC--}},[])}function r8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zu=function(){return Zu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zu.apply(this,arguments)};function aX(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Pge(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Y2="right-scroll-bar-position",X2="width-before-scroll-bar",Mge="with-scroll-bars-hidden",Rge="--removed-body-scroll-bar-size";function eA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ige(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Dge=typeof window<"u"?w.useLayoutEffect:w.useEffect,i8=new WeakMap;function Lge(t,e){var n=Ige(null,function(r){return t.forEach(function(i){return eA(i,r)})});return Dge(function(){var r=i8.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||eA(l,null)}),s.forEach(function(l){i.has(l)||eA(l,o)})}i8.set(n,t)},[t]),n}function Fge(t){return t}function $ge(t,e){e===void 0&&(e=Fge);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function Bge(t){t===void 0&&(t={});var e=$ge(null);return e.options=Zu({async:!0,ssr:!1},t),e}var oX=function(t){var e=t.sideCar,n=aX(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Zu({},n))};oX.isSideCarExport=!0;function zge(t,e){return t.useMedium(e),oX}var lX=Bge(),tA=function(){},fj=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:tA,onWheelCapture:tA,onTouchMoveCapture:tA}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,h=t.noRelative,y=t.noIsolation,v=t.inert,x=t.allowPinchZoom,b=t.as,S=b===void 0?"div":b,E=t.gapMode,_=aX(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,O=Lge([n,e]),M=Zu(Zu({},_),i);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:lX,removeScrollBar:u,shards:f,noRelative:h,noIsolation:y,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:E}),o?w.cloneElement(w.Children.only(l),Zu(Zu({},M),{ref:O})):w.createElement(S,Zu({},M,{className:c,ref:O}),l))});fj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fj.classNames={fullWidth:X2,zeroRight:Y2};var qge=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uge(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qge();return e&&t.setAttribute("nonce",e),t}function Hge(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Vge(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Wge=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Uge())&&(Hge(e,n),Vge(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Kge=function(){var t=Wge();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cX=function(){var t=Kge(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Gge={left:0,top:0,right:0,gap:0},nA=function(t){return parseInt(t||"",10)||0},Yge=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[nA(n),nA(r),nA(i)]},Xge=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Gge;var e=Yge(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Qge=cX(),Rv="data-scroll-locked",Jge=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Mge,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Rv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Y2,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(X2,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Y2," .").concat(Y2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(X2," .").concat(X2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rv,`] {
    `).concat(Rge,": ").concat(l,`px;
  }
`)},s8=function(){var t=parseInt(document.body.getAttribute(Rv)||"0",10);return isFinite(t)?t:0},Zge=function(){w.useEffect(function(){return document.body.setAttribute(Rv,(s8()+1).toString()),function(){var t=s8()-1;t<=0?document.body.removeAttribute(Rv):document.body.setAttribute(Rv,t.toString())}},[])},eve=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Zge();var s=w.useMemo(function(){return Xge(i)},[i]);return w.createElement(Qge,{styles:Jge(s,!e,i,n?"":"!important")})},ZP=!1;if(typeof window<"u")try{var Hw=Object.defineProperty({},"passive",{get:function(){return ZP=!0,!0}});window.addEventListener("test",Hw,Hw),window.removeEventListener("test",Hw,Hw)}catch{ZP=!1}var Gg=ZP?{passive:!1}:!1,tve=function(t){return t.tagName==="TEXTAREA"},uX=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!tve(t)&&n[e]==="visible")},nve=function(t){return uX(t,"overflowY")},rve=function(t){return uX(t,"overflowX")},a8=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dX(t,r);if(i){var s=fX(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ive=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},sve=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dX=function(t,e){return t==="v"?nve(e):rve(e)},fX=function(t,e){return t==="v"?ive(e):sve(e)},ave=function(t,e){return t==="h"&&e==="rtl"?-1:1},ove=function(t,e,n,r,i){var s=ave(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=fX(t,l),y=h[0],v=h[1],x=h[2],b=v-x-s*y;(y||b)&&dX(t,l)&&(f+=b,m+=y);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Vw=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},o8=function(t){return[t.deltaX,t.deltaY]},l8=function(t){return t&&"current"in t?t.current:t},lve=function(t,e){return t[0]===e[0]&&t[1]===e[1]},cve=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},uve=0,Yg=[];function dve(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(uve++)[0],s=w.useState(cX)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Pge([t.lockRef.current],(t.shards||[]).map(l8),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=Vw(v),S=n.current,E="deltaX"in v?v.deltaX:S[0]-b[0],_="deltaY"in v?v.deltaY:S[1]-b[1],C,O=v.target,M=Math.abs(E)>Math.abs(_)?"h":"v";if("touches"in v&&M==="h"&&O.type==="range")return!1;var A=a8(M,O);if(!A)return!0;if(A?C=M:(C=M==="v"?"h":"v",A=a8(M,O)),!A)return!1;if(!r.current&&"changedTouches"in v&&(E||_)&&(r.current=C),!C)return!0;var P=r.current||C;return ove(P,x,v,P==="h"?E:_)},[]),c=w.useCallback(function(v){var x=v;if(!(!Yg.length||Yg[Yg.length-1]!==s)){var b="deltaY"in x?o8(x):Vw(x),S=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&lve(C.delta,b)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var E=(o.current.shards||[]).map(l8).filter(Boolean).filter(function(C){return C.contains(x.target)}),_=E.length>0?l(x,E[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(v,x,b,S){var E={name:v,delta:x,target:b,should:S,shadowParent:fve(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(_){return _!==E})},1)},[]),d=w.useCallback(function(v){n.current=Vw(v),r.current=void 0},[]),f=w.useCallback(function(v){u(v.type,o8(v),v.target,l(v,t.lockRef.current))},[]),m=w.useCallback(function(v){u(v.type,Vw(v),v.target,l(v,t.lockRef.current))},[]);w.useEffect(function(){return Yg.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Gg),document.addEventListener("touchmove",c,Gg),document.addEventListener("touchstart",d,Gg),function(){Yg=Yg.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,Gg),document.removeEventListener("touchmove",c,Gg),document.removeEventListener("touchstart",d,Gg)}},[]);var h=t.removeScrollBar,y=t.inert;return w.createElement(w.Fragment,null,y?w.createElement(s,{styles:cve(i)}):null,h?w.createElement(eve,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const hve=zge(lX,dve);var _1=w.forwardRef(function(t,e){return w.createElement(fj,Zu({},t,{ref:e,sideCar:hve}))});_1.classNames=fj.classNames;var pve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xg=new WeakMap,Ww=new WeakMap,Kw={},rA=0,hX=function(t){return t&&(t.host||hX(t.parentNode))},mve=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hX(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gve=function(t,e,n,r){var i=mve(e,Array.isArray(t)?t:[t]);Kw[n]||(Kw[n]=new WeakMap);var s=Kw[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(r),y=h!==null&&h!=="false",v=(Xg.get(m)||0)+1,x=(s.get(m)||0)+1;Xg.set(m,v),s.set(m,x),o.push(m),v===1&&y&&Ww.set(m,!0),x===1&&m.setAttribute(n,"true"),y||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(e),l.clear(),rA++,function(){o.forEach(function(f){var m=Xg.get(f)-1,h=s.get(f)-1;Xg.set(f,m),s.set(f,h),m||(Ww.has(f)||f.removeAttribute(r),Ww.delete(f)),h||f.removeAttribute(n)}),rA--,rA||(Xg=new WeakMap,Xg=new WeakMap,Ww=new WeakMap,Kw={})}},hj=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=pve(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),gve(r,i,n,"aria-hidden")):function(){return null}},pj="Dialog",[pX,mX]=Ea(pj),[vve,_u]=pX(pj),gX=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=w.useRef(null),c=w.useRef(null),[u,d]=Ac({prop:r,defaultProp:i??!1,onChange:s,caller:pj});return a.jsx(vve,{scope:e,triggerRef:l,contentRef:c,contentId:wa(),titleId:wa(),descriptionId:wa(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};gX.displayName=pj;var vX="DialogTrigger",yX=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=_u(vX,n),s=Mn(e,i.triggerRef);return a.jsx($t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":DI(i.open),...r,ref:s,onClick:Nt(t.onClick,i.onOpenToggle)})});yX.displayName=vX;var RI="DialogPortal",[yve,xX]=pX(RI,{forceMount:void 0}),bX=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=_u(RI,e);return a.jsx(yve,{scope:e,forceMount:n,children:w.Children.map(r,o=>a.jsx(ja,{present:n||s.open,children:a.jsx($y,{asChild:!0,container:i,children:o})}))})};bX.displayName=RI;var AN="DialogOverlay",wX=w.forwardRef((t,e)=>{const n=xX(AN,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=_u(AN,t.__scopeDialog);return s.modal?a.jsx(ja,{present:r||s.open,children:a.jsx(bve,{...i,ref:e})}):null});wX.displayName=AN;var xve=ap("DialogOverlay.RemoveScroll"),bve=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=_u(AN,n);return a.jsx(_1,{as:xve,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx($t.div,{"data-state":DI(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bm="DialogContent",NX=w.forwardRef((t,e)=>{const n=xX(Bm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=_u(Bm,t.__scopeDialog);return a.jsx(ja,{present:r||s.open,children:s.modal?a.jsx(wve,{...i,ref:e}):a.jsx(Nve,{...i,ref:e})})});NX.displayName=Bm;var wve=w.forwardRef((t,e)=>{const n=_u(Bm,t.__scopeDialog),r=w.useRef(null),i=Mn(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return hj(s)},[]),a.jsx(SX,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Nt(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Nt(t.onFocusOutside,s=>s.preventDefault())})}),Nve=w.forwardRef((t,e)=>{const n=_u(Bm,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return a.jsx(SX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),SX=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=_u(Bm,n),c=w.useRef(null),u=Mn(e,c);return dj(),a.jsxs(a.Fragment,{children:[a.jsx(j1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(og,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DI(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Eve,{titleId:l.titleId}),a.jsx(_ve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),II="DialogTitle",EX=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=_u(II,n);return a.jsx($t.h2,{id:i.titleId,...r,ref:e})});EX.displayName=II;var jX="DialogDescription",_X=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=_u(jX,n);return a.jsx($t.p,{id:i.descriptionId,...r,ref:e})});_X.displayName=jX;var CX="DialogClose",AX=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=_u(CX,n);return a.jsx($t.button,{type:"button",...r,ref:e,onClick:Nt(t.onClick,()=>i.onOpenChange(!1))})});AX.displayName=CX;function DI(t){return t?"open":"closed"}var kX="DialogTitleWarning",[Sve,TX]=bde(kX,{contentName:Bm,titleName:II,docsSlug:"dialog"}),Eve=({titleId:t})=>{const e=TX(kX),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jve="DialogDescriptionWarning",_ve=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TX(jve).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},mj=gX,OX=yX,gj=bX,Wy=wX,Ky=NX,C1=EX,A1=_X,vj=AX;const Cve=mj,Ave=gj,PX=w.forwardRef(({className:t,...e},n)=>a.jsx(Wy,{className:gt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));PX.displayName=Wy.displayName;const kve=lg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),MX=w.forwardRef(({side:t="right",className:e,children:n,...r},i)=>a.jsxs(Ave,{children:[a.jsx(PX,{}),a.jsxs(Ky,{ref:i,className:gt(kve({side:t}),e),...r,children:[n,a.jsxs(vj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(kc,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));MX.displayName=Ky.displayName;const RX=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col space-y-2 text-center sm:text-left",t),...e});RX.displayName="SheetHeader";const IX=w.forwardRef(({className:t,...e},n)=>a.jsx(C1,{ref:n,className:gt("text-lg font-semibold text-foreground",t),...e}));IX.displayName=C1.displayName;const DX=w.forwardRef(({className:t,...e},n)=>a.jsx(A1,{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));DX.displayName=A1.displayName;function Kn({className:t,...e}){return a.jsx("div",{className:gt("animate-pulse rounded-md bg-muted",t),...e})}const Tve="sidebar_state",Ove=3600*24*7,Pve="16rem",Mve="18rem",Rve="3rem",Ive="b",LX=w.createContext(null);function LI(){const t=w.useContext(LX);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function Dve({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...o}){const l=wge(),[c,u]=w.useState(!1),[d,f]=w.useState(t),m=e??d,h=w.useCallback(b=>{const S=typeof b=="function"?b(m):b;n?n(S):f(S),document.cookie=`${Tve}=${S}; path=/; max-age=${Ove}`},[n,m]),y=w.useCallback(()=>l?u(b=>!b):h(b=>!b),[l,h,u]);w.useEffect(()=>{const b=S=>{S.key===Ive&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),y())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[y]);const v=m?"expanded":"collapsed",x=w.useMemo(()=>({state:v,open:m,setOpen:h,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:y}),[v,m,h,l,c,u,y]);return a.jsx(LX.Provider,{value:x,children:a.jsx(LY,{delayDuration:0,children:a.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Pve,"--sidebar-width-icon":Rve,...i},className:gt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:s})})})}function Lve({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:u}=LI();return n==="none"?a.jsx("div",{"data-slot":"sidebar",className:gt("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):o?a.jsx(Cve,{open:c,onOpenChange:u,...s,children:a.jsxs(MX,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":Mve},side:t,children:[a.jsxs(RX,{className:"sr-only",children:[a.jsx(IX,{children:"Sidebar"}),a.jsx(DX,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):a.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[a.jsx("div",{"data-slot":"sidebar-gap",className:gt("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),a.jsx("div",{"data-slot":"sidebar-container",className:gt("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:a.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function Fve({className:t,onClick:e,...n}){const{toggleSidebar:r}=LI();return a.jsxs(ge,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:gt("h-7 w-7",t),onClick:i=>{e?.(i),r()},...n,children:[a.jsx(Ffe,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function $ve({className:t,...e}){return a.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:gt("flex flex-col gap-2 p-2",t),...e})}function Bve({className:t,...e}){return a.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:gt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function zve({className:t,...e}){return a.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:gt("relative flex w-full min-w-0 flex-col p-2",t),...e})}function qve({className:t,asChild:e=!1,...n}){const r=e?YE:"div";return a.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:gt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function Uve({className:t,...e}){return a.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:gt("w-full text-sm",t),...e})}function Hve({className:t,...e}){return a.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:gt("flex w-full min-w-0 flex-col gap-1",t),...e})}function Vve({className:t,...e}){return a.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:gt("group/menu-item relative",t),...e})}const Wve=lg("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Kve({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...o}){const l=t?YE:"button",{isMobile:c,state:u}=LI(),d=a.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:gt(Wve({variant:n,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),a.jsxs(FY,{children:[a.jsx($Y,{asChild:!0,children:d}),a.jsx(AI,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):d}function Gve(){return KE.useSyncExternalStore(Yve,()=>!0,()=>!1)}function Yve(){return()=>{}}var FI="Avatar",[Xve]=Ea(FI),[Qve,FX]=Xve(FI),$X=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=w.useState("idle");return a.jsx(Qve,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx($t.span,{...r,ref:e})})});$X.displayName=FI;var BX="AvatarImage",zX=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=FX(BX,n),l=Jve(r,s),c=ps(u=>{i(u),o.onImageLoadingStatusChange(u)});return _s(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx($t.img,{...s,ref:e,src:r}):null});zX.displayName=BX;var qX="AvatarFallback",UX=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=FX(qX,n),[o,l]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx($t.span,{...i,ref:e}):null});UX.displayName=qX;function c8(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Jve(t,{referrerPolicy:e,crossOrigin:n}){const r=Gve(),i=w.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>c8(s,t));return _s(()=>{l(c8(s,t))},[s,t]),_s(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),o}var HX=$X,VX=zX,WX=UX;const kN=w.forwardRef(({className:t,...e},n)=>a.jsx(HX,{ref:n,className:gt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));kN.displayName=HX.displayName;const Zve=w.forwardRef(({className:t,...e},n)=>a.jsx(VX,{ref:n,className:gt("aspect-square h-full w-full",t),...e}));Zve.displayName=VX.displayName;const TN=w.forwardRef(({className:t,...e},n)=>a.jsx(WX,{ref:n,className:gt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));TN.displayName=WX.displayName;const eye=[{title:"Dashboard",url:"/",icon:_fe,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Clientes",url:"/clientes",icon:_b,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Impuestos",url:"/impuestos/control",icon:mi,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Documentacin",url:"/documentacion",icon:xN,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Tareas",url:"/tareas",icon:Ov,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Manuales",url:"/manuales",icon:xN,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Notificaciones",url:"/notificaciones",icon:hfe,roles:["Administrador","Gestor"]},{title:"Auditora",url:"/auditoria",icon:mm,roles:["Administrador","Gestor"]},{title:"Administracin",url:"/admin",icon:w1,roles:["Administrador"]}];function tye(){const[t]=ll(),{user:e,logout:n}=dg(),r=eye.filter(s=>e&&e.roleName&&Array.isArray(s.roles)&&s.roles.includes(e.roleName)),i=s=>s.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2);return a.jsxs(Lve,{children:[a.jsxs(Bve,{children:[a.jsx("div",{className:"p-6",children:a.jsx("h1",{className:"text-xl font-display font-bold text-primary",children:"Asesora La Llave"})}),a.jsxs(zve,{children:[a.jsx(qve,{children:"Navegacin"}),a.jsx(Uve,{children:a.jsx(Hve,{children:r.map(s=>a.jsx(Vve,{children:a.jsx(Kve,{asChild:!0,isActive:t.startsWith(s.url)||t===s.url,children:a.jsxs(pu,{href:s.url,"data-testid":`link-${s.title.toLowerCase()}`,children:[a.jsx(s.icon,{className:"h-4 w-4"}),a.jsx("span",{children:s.title})]})})},s.title))})})]})]}),a.jsxs($ve,{className:"p-4",children:[e&&a.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[a.jsx(kN,{className:"h-9 w-9",children:a.jsx(TN,{className:"bg-primary text-primary-foreground text-sm",children:i(e.username)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:e.username}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.roleName||"Sin rol"})]})]}),a.jsxs(ge,{variant:"ghost",className:"w-full justify-start",onClick:n,"data-testid":"button-logout",children:[a.jsx(Mfe,{className:"h-4 w-4 mr-2"}),"Cerrar Sesin"]})]})]})}function nye(){const{theme:t,toggleTheme:e}=jme();return a.jsxs(ge,{variant:"ghost",size:"icon",onClick:e,"data-testid":"button-theme-toggle",children:[t==="light"?a.jsx(Dfe,{className:"h-5 w-5"}):a.jsx(Wfe,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var u8=1,rye=.9,iye=.8,sye=.17,iA=.1,sA=.999,aye=.9999,oye=.99,lye=/[\\\/_+.#"@\[\(\{&]/,cye=/[\\\/_+.#"@\[\(\{&]/g,uye=/[\s-]/,KX=/[\s-]/g;function eM(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?u8:oye;var l=`${i},${s}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(s),u=n.indexOf(c,i),d=0,f,m,h,y;u>=0;)f=eM(t,e,n,r,u+1,s+1,o),f>d&&(u===i?f*=u8:lye.test(t.charAt(u-1))?(f*=iye,h=t.slice(i,u-1).match(cye),h&&i>0&&(f*=Math.pow(sA,h.length))):uye.test(t.charAt(u-1))?(f*=rye,y=t.slice(i,u-1).match(KX),y&&i>0&&(f*=Math.pow(sA,y.length))):(f*=sye,i>0&&(f*=Math.pow(sA,u-i))),t.charAt(u)!==e.charAt(s)&&(f*=aye)),(f<iA&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(m=eM(t,e,n,r,u+1,s+2,o),m*iA>f&&(f=m*iA)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function d8(t){return t.toLowerCase().replace(KX," ")}function dye(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,eM(t,e,d8(t),d8(e),0,0,{})}var Kx='[cmdk-group=""]',aA='[cmdk-group-items=""]',fye='[cmdk-group-heading=""]',GX='[cmdk-item=""]',f8=`${GX}:not([aria-disabled="true"])`,tM="cmdk-item-select",uv="data-value",hye=(t,e,n)=>dye(t,e,n),YX=w.createContext(void 0),k1=()=>w.useContext(YX),XX=w.createContext(void 0),$I=()=>w.useContext(XX),QX=w.createContext(void 0),JX=w.forwardRef((t,e)=>{let n=dv(()=>{var I,V;return{search:"",value:(V=(I=t.value)!=null?I:t.defaultValue)!=null?V:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=dv(()=>new Set),i=dv(()=>new Map),s=dv(()=>new Map),o=dv(()=>new Set),l=ZX(t),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:h,loop:y,disablePointerSelection:v=!1,vimBindings:x=!0,...b}=t,S=wa(),E=wa(),_=wa(),C=w.useRef(null),O=Eye();zm(()=>{if(d!==void 0){let I=d.trim();n.current.value=I,M.emit()}},[d]),zm(()=>{O(6,q)},[]);let M=w.useMemo(()=>({subscribe:I=>(o.current.add(I),()=>o.current.delete(I)),snapshot:()=>n.current,setState:(I,V,J)=>{var re,fe,pe,xe;if(!Object.is(n.current[I],V)){if(n.current[I]=V,I==="search")$(),F(),O(1,R);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(_);de?de.focus():(re=document.getElementById(S))==null||re.focus()}if(O(7,()=>{var de;n.current.selectedItemId=(de=z())==null?void 0:de.id,M.emit()}),J||O(5,q),((fe=l.current)==null?void 0:fe.value)!==void 0){let de=V??"";(xe=(pe=l.current).onValueChange)==null||xe.call(pe,de);return}}M.emit()}},emit:()=>{o.current.forEach(I=>I())}}),[]),A=w.useMemo(()=>({value:(I,V,J)=>{var re;V!==((re=s.current.get(I))==null?void 0:re.value)&&(s.current.set(I,{value:V,keywords:J}),n.current.filtered.items.set(I,P(V,J)),O(2,()=>{F(),M.emit()}))},item:(I,V)=>(r.current.add(I),V&&(i.current.has(V)?i.current.get(V).add(I):i.current.set(V,new Set([I]))),O(3,()=>{$(),F(),n.current.value||R(),M.emit()}),()=>{s.current.delete(I),r.current.delete(I),n.current.filtered.items.delete(I);let J=z();O(4,()=>{$(),J?.getAttribute("id")===I&&R(),M.emit()})}),group:I=>(i.current.has(I)||i.current.set(I,new Set),()=>{s.current.delete(I),i.current.delete(I)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:S,inputId:_,labelId:E,listInnerRef:C}),[]);function P(I,V){var J,re;let fe=(re=(J=l.current)==null?void 0:J.filter)!=null?re:hye;return I?fe(I,n.current.search,V):0}function F(){if(!n.current.search||l.current.shouldFilter===!1)return;let I=n.current.filtered.items,V=[];n.current.filtered.groups.forEach(re=>{let fe=i.current.get(re),pe=0;fe.forEach(xe=>{let de=I.get(xe);pe=Math.max(de,pe)}),V.push([re,pe])});let J=C.current;G().sort((re,fe)=>{var pe,xe;let de=re.getAttribute("id"),we=fe.getAttribute("id");return((pe=I.get(we))!=null?pe:0)-((xe=I.get(de))!=null?xe:0)}).forEach(re=>{let fe=re.closest(aA);fe?fe.appendChild(re.parentElement===fe?re:re.closest(`${aA} > *`)):J.appendChild(re.parentElement===J?re:re.closest(`${aA} > *`))}),V.sort((re,fe)=>fe[1]-re[1]).forEach(re=>{var fe;let pe=(fe=C.current)==null?void 0:fe.querySelector(`${Kx}[${uv}="${encodeURIComponent(re[0])}"]`);pe?.parentElement.appendChild(pe)})}function R(){let I=G().find(J=>J.getAttribute("aria-disabled")!=="true"),V=I?.getAttribute(uv);M.setState("value",V||void 0)}function $(){var I,V,J,re;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let fe=0;for(let pe of r.current){let xe=(V=(I=s.current.get(pe))==null?void 0:I.value)!=null?V:"",de=(re=(J=s.current.get(pe))==null?void 0:J.keywords)!=null?re:[],we=P(xe,de);n.current.filtered.items.set(pe,we),we>0&&fe++}for(let[pe,xe]of i.current)for(let de of xe)if(n.current.filtered.items.get(de)>0){n.current.filtered.groups.add(pe);break}n.current.filtered.count=fe}function q(){var I,V,J;let re=z();re&&(((I=re.parentElement)==null?void 0:I.firstChild)===re&&((J=(V=re.closest(Kx))==null?void 0:V.querySelector(fye))==null||J.scrollIntoView({block:"nearest"})),re.scrollIntoView({block:"nearest"}))}function z(){var I;return(I=C.current)==null?void 0:I.querySelector(`${GX}[aria-selected="true"]`)}function G(){var I;return Array.from(((I=C.current)==null?void 0:I.querySelectorAll(f8))||[])}function X(I){let V=G()[I];V&&M.setState("value",V.getAttribute(uv))}function U(I){var V;let J=z(),re=G(),fe=re.findIndex(xe=>xe===J),pe=re[fe+I];(V=l.current)!=null&&V.loop&&(pe=fe+I<0?re[re.length-1]:fe+I===re.length?re[0]:re[fe+I]),pe&&M.setState("value",pe.getAttribute(uv))}function W(I){let V=z(),J=V?.closest(Kx),re;for(;J&&!re;)J=I>0?Nye(J,Kx):Sye(J,Kx),re=J?.querySelector(f8);re?M.setState("value",re.getAttribute(uv)):U(I)}let Y=()=>X(G().length-1),ie=I=>{I.preventDefault(),I.metaKey?Y():I.altKey?W(1):U(1)},Q=I=>{I.preventDefault(),I.metaKey?X(0):I.altKey?W(-1):U(-1)};return w.createElement($t.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:I=>{var V;(V=b.onKeyDown)==null||V.call(b,I);let J=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||J))switch(I.key){case"n":case"j":{x&&I.ctrlKey&&ie(I);break}case"ArrowDown":{ie(I);break}case"p":case"k":{x&&I.ctrlKey&&Q(I);break}case"ArrowUp":{Q(I);break}case"Home":{I.preventDefault(),X(0);break}case"End":{I.preventDefault(),Y();break}case"Enter":{I.preventDefault();let re=z();if(re){let fe=new Event(tM);re.dispatchEvent(fe)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:_ye},c),yj(t,I=>w.createElement(XX.Provider,{value:M},w.createElement(YX.Provider,{value:A},I))))}),pye=w.forwardRef((t,e)=>{var n,r;let i=wa(),s=w.useRef(null),o=w.useContext(QX),l=k1(),c=ZX(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o?.forceMount;zm(()=>{if(!u)return l.item(i,o?.id)},[u]);let d=eQ(i,s,[t.value,t.children,s],t.keywords),f=$I(),m=dp(O=>O.value&&O.value===d.current),h=dp(O=>u||l.filter()===!1?!0:O.search?O.filtered.items.get(i)>0:!0);w.useEffect(()=>{let O=s.current;if(!(!O||t.disabled))return O.addEventListener(tM,y),()=>O.removeEventListener(tM,y)},[h,t.onSelect,t.disabled]);function y(){var O,M;v(),(M=(O=c.current).onSelect)==null||M.call(O,d.current)}function v(){f.setState("value",d.current,!0)}if(!h)return null;let{disabled:x,value:b,onSelect:S,forceMount:E,keywords:_,...C}=t;return w.createElement($t.div,{ref:Cf(s,e),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||l.getDisablePointerSelection()?void 0:v,onClick:x?void 0:y},t.children)}),mye=w.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=wa(),l=w.useRef(null),c=w.useRef(null),u=wa(),d=k1(),f=dp(h=>i||d.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);zm(()=>d.group(o),[]),eQ(o,l,[t.value,t.heading,c]);let m=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement($t.div,{ref:Cf(l,e),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),yj(t,h=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},w.createElement(QX.Provider,{value:m},h))))}),gye=w.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=w.useRef(null),s=dp(o=>!o.search);return!n&&!s?null:w.createElement($t.div,{ref:Cf(i,e),...r,"cmdk-separator":"",role:"separator"})}),vye=w.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=$I(),o=dp(u=>u.search),l=dp(u=>u.selectedItemId),c=k1();return w.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),w.createElement($t.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?t.value:o,onChange:u=>{i||s.setState("search",u.target.value),n?.(u.target.value)}})}),yye=w.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=w.useRef(null),o=w.useRef(null),l=dp(u=>u.selectedItemId),c=k1();return w.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let h=u.offsetHeight;d.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),w.createElement($t.div,{ref:Cf(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},yj(t,u=>w.createElement("div",{ref:Cf(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),xye=w.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...l}=t;return w.createElement(mj,{open:n,onOpenChange:r},w.createElement(gj,{container:o},w.createElement(Wy,{"cmdk-overlay":"",className:i}),w.createElement(Ky,{"aria-label":t.label,"cmdk-dialog":"",className:s},w.createElement(JX,{ref:e,...l}))))}),bye=w.forwardRef((t,e)=>dp(n=>n.filtered.count===0)?w.createElement($t.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),wye=w.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return w.createElement($t.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},yj(t,o=>w.createElement("div",{"aria-hidden":!0},o)))}),ul=Object.assign(JX,{List:yye,Item:pye,Input:vye,Group:mye,Separator:gye,Dialog:xye,Empty:bye,Loading:wye});function Nye(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Sye(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function ZX(t){let e=w.useRef(t);return zm(()=>{e.current=t}),e}var zm=typeof window>"u"?w.useEffect:w.useLayoutEffect;function dv(t){let e=w.useRef();return e.current===void 0&&(e.current=t()),e}function dp(t){let e=$I(),n=()=>t(e.snapshot());return w.useSyncExternalStore(e.subscribe,n,n)}function eQ(t,e,n,r=[]){let i=w.useRef(),s=k1();return zm(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());s.value(t,l,c),(o=e.current)==null||o.setAttribute(uv,l),i.current=l}),i}var Eye=()=>{let[t,e]=w.useState(),n=dv(()=>new Map);return zm(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function jye(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function yj({asChild:t,children:e},n){return t&&w.isValidElement(e)?w.cloneElement(jye(e),{ref:e.ref},n(e.props.children)):n(e)}var _ye={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Lr=mj,Ml=OX,Cye=gj,tQ=w.forwardRef(({className:t,...e},n)=>a.jsx(Wy,{ref:n,className:gt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tQ.displayName=Wy.displayName;const Mr=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Cye,{children:[a.jsx(tQ,{}),a.jsxs(Ky,{ref:r,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 max-h-[85vh] overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(vj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(kc,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mr.displayName=Ky.displayName;const Fr=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fr.displayName="DialogHeader";const ms=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ms.displayName="DialogFooter";const $r=w.forwardRef(({className:t,...e},n)=>a.jsx(C1,{ref:n,className:gt("text-lg font-semibold leading-none tracking-tight",t),...e}));$r.displayName=C1.displayName;const Mi=w.forwardRef(({className:t,...e},n)=>a.jsx(A1,{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));Mi.displayName=A1.displayName;const nQ=w.forwardRef(({className:t,...e},n)=>a.jsx(ul,{ref:n,className:gt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));nQ.displayName=ul.displayName;const Aye=({children:t,...e})=>a.jsx(Lr,{...e,children:a.jsx(Mr,{className:"overflow-hidden p-0 shadow-lg",children:a.jsx(nQ,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),rQ=w.forwardRef(({className:t,...e},n)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(ug,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(ul.Input,{ref:n,className:gt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));rQ.displayName=ul.Input.displayName;const iQ=w.forwardRef(({className:t,...e},n)=>a.jsx(ul.List,{ref:n,className:gt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));iQ.displayName=ul.List.displayName;const sQ=w.forwardRef((t,e)=>a.jsx(ul.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));sQ.displayName=ul.Empty.displayName;const Q2=w.forwardRef(({className:t,...e},n)=>a.jsx(ul.Group,{ref:n,className:gt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Q2.displayName=ul.Group.displayName;const kye=w.forwardRef(({className:t,...e},n)=>a.jsx(ul.Separator,{ref:n,className:gt("-mx-1 h-px bg-border",t),...e}));kye.displayName=ul.Separator.displayName;const J2=w.forwardRef(({className:t,...e},n)=>a.jsx(ul.Item,{ref:n,className:gt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));J2.displayName=ul.Item.displayName;function Tye(){const[t,e]=w.useState(!1),[n,r]=w.useState(""),[,i]=ll();w.useEffect(()=>{const l=c=>{c.key==="k"&&(c.metaKey||c.ctrlKey)&&(c.preventDefault(),e(u=>!u))};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[]);const{data:s}=Wt({queryKey:["/api/search",n],enabled:n.length>=2,queryFn:async()=>{const l=await fetch(`/api/search?q=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!l.ok)throw new Error("Error en bsqueda");return l.json()}}),o=(l,c)=>{e(!1),r(""),l==="cliente"?i("/clientes"):l==="tarea"?i("/tareas"):l==="manual"&&i(`/manuales/${c}`)};return a.jsxs(a.Fragment,{children:[a.jsxs(ge,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64",onClick:()=>e(!0),"data-testid":"button-global-search",children:[a.jsx(ug,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden lg:inline-flex",children:"Buscar..."}),a.jsx("span",{className:"inline-flex lg:hidden",children:"Buscar"}),a.jsxs("kbd",{className:"pointer-events-none absolute right-1.5 top-2 hidden h-6 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[a.jsx("span",{className:"text-xs",children:""}),"K"]})]}),a.jsxs(Aye,{open:t,onOpenChange:e,children:[a.jsx(rQ,{placeholder:"Buscar clientes, tareas, impuestos, manuales...",value:n,onValueChange:r,"data-testid":"input-global-search"}),a.jsxs(iQ,{children:[a.jsx(sQ,{children:n.length<2?"Escribe al menos 2 caracteres para buscar":"No se encontraron resultados"}),s&&s.clientes.length>0&&a.jsx(Q2,{heading:"Clientes",children:s.clientes.map(l=>a.jsxs(J2,{onSelect:()=>o("cliente",l.id),"data-testid":`search-result-client-${l.id}`,children:[a.jsx(N1,{className:"mr-2 h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:l.razonSocial}),a.jsx("span",{className:"text-xs text-muted-foreground",children:l.nifCif})]})]},l.id))}),s&&s.tareas.length>0&&a.jsx(Q2,{heading:"Tareas",children:s.tareas.map(l=>a.jsxs(J2,{onSelect:()=>o("tarea",l.id),"data-testid":`search-result-task-${l.id}`,children:[a.jsx(Ov,{className:"mr-2 h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:l.titulo}),a.jsx("span",{className:"text-xs text-muted-foreground",children:l.estado})]})]},l.id))}),null,s&&s.manuales.length>0&&a.jsx(Q2,{heading:"Manuales",children:s.manuales.map(l=>a.jsxs(J2,{onSelect:()=>o("manual",l.id),"data-testid":`search-result-manual-${l.id}`,children:[a.jsx(xN,{className:"mr-2 h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:l.titulo}),a.jsx("span",{className:"text-xs text-muted-foreground",children:l.categoria})]})]},l.id))})]})]})]})}function Oye(){const{data:t,isLoading:e}=Wt({queryKey:["/api/health"],refetchInterval:3e4,retry:2}),n=t?.status==="healthy"&&t?.database==="connected";return e?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(LP,{className:"h-4 w-4 animate-pulse"}),a.jsx("span",{className:"hidden sm:inline",children:"Verificando..."})]}):a.jsxs(FY,{children:[a.jsx($Y,{asChild:!0,children:a.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-help",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Efe,{className:"h-4 w-4 text-green-500","data-testid":"icon-db-connected"}),a.jsx("span",{className:"hidden sm:inline",children:"DB Activa"})]}):a.jsxs(a.Fragment,{children:[a.jsx(LP,{className:"h-4 w-4 text-red-500","data-testid":"icon-db-disconnected"}),a.jsx("span",{className:"hidden sm:inline",children:"DB Desconectada"})]})})}),a.jsx(AI,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-semibold",children:["Estado: ",n?"Conectada":"Desconectada"]}),t?.timestamp&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima verificacin: ",new Date(t.timestamp).toLocaleTimeString()]})]})})]})}const Ue=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ue.displayName="Card";const lt=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("flex flex-col space-y-1.5 p-6",t),...e}));lt.displayName="CardHeader";const ut=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("text-2xl font-semibold leading-none tracking-tight",t),...e}));ut.displayName="CardTitle";const vr=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));vr.displayName="CardDescription";const He=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("p-6 pt-0",t),...e}));He.displayName="CardContent";const Pye=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("flex items-center p-6 pt-0",t),...e}));Pye.displayName="CardFooter";function Mye(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(Ue,{className:"w-full max-w-md mx-4",children:a.jsxs(He,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(fo,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Rye="Label",aQ=w.forwardRef((t,e)=>a.jsx($t.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aQ.displayName=Rye;var oQ=aQ;const Iye=lg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=w.forwardRef(({className:t,...e},n)=>a.jsx(oQ,{ref:n,className:gt(Iye(),t),...e}));_e.displayName=oQ.displayName;var Dye=w.createContext(void 0);function Gy(t){const e=w.useContext(Dye);return t||e||"ltr"}var oA="rovingFocusGroup.onEntryFocus",Lye={bubbles:!1,cancelable:!0},T1="RovingFocusGroup",[nM,lQ,Fye]=y1(T1),[$ye,xj]=Ea(T1,[Fye]),[Bye,zye]=$ye(T1),cQ=w.forwardRef((t,e)=>a.jsx(nM.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(nM.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(qye,{...t,ref:e})})}));cQ.displayName=T1;var qye=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=w.useRef(null),h=Mn(e,m),y=Gy(s),[v,x]=Ac({prop:o,defaultProp:l??null,onChange:c,caller:T1}),[b,S]=w.useState(!1),E=ps(u),_=lQ(n),C=w.useRef(!1),[O,M]=w.useState(0);return w.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(oA,E),()=>A.removeEventListener(oA,E)},[E]),a.jsx(Bye,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:v,onItemFocus:w.useCallback(A=>x(A),[x]),onItemShiftTab:w.useCallback(()=>S(!0),[]),onFocusableItemAdd:w.useCallback(()=>M(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>M(A=>A-1),[]),children:a.jsx($t.div,{tabIndex:b||O===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:Nt(t.onMouseDown,()=>{C.current=!0}),onFocus:Nt(t.onFocus,A=>{const P=!C.current;if(A.target===A.currentTarget&&P&&!b){const F=new CustomEvent(oA,Lye);if(A.currentTarget.dispatchEvent(F),!F.defaultPrevented){const R=_().filter(X=>X.focusable),$=R.find(X=>X.active),q=R.find(X=>X.id===v),G=[$,q,...R].filter(Boolean).map(X=>X.ref.current);fQ(G,d)}}C.current=!1}),onBlur:Nt(t.onBlur,()=>S(!1))})})}),uQ="RovingFocusGroupItem",dQ=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=wa(),u=s||c,d=zye(uQ,n),f=d.currentTabStopId===u,m=lQ(n),{onFocusableItemAdd:h,onFocusableItemRemove:y,currentTabStopId:v}=d;return w.useEffect(()=>{if(r)return h(),()=>y()},[r,h,y]),a.jsx(nM.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:a.jsx($t.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Nt(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:Nt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Nt(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=Vye(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=m().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")E.reverse();else if(b==="prev"||b==="next"){b==="prev"&&E.reverse();const _=E.indexOf(x.currentTarget);E=d.loop?Wye(E,_+1):E.slice(_+1)}setTimeout(()=>fQ(E))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});dQ.displayName=uQ;var Uye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hye(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Vye(t,e,n){const r=Hye(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Uye[r]}function fQ(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Wye(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var hQ=cQ,pQ=dQ,bj="Tabs",[Kye]=Ea(bj,[xj]),mQ=xj(),[Gye,BI]=Kye(bj),gQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Gy(l),[f,m]=Ac({prop:r,onChange:i,defaultProp:s??"",caller:bj});return a.jsx(Gye,{scope:n,baseId:wa(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx($t.div,{dir:d,"data-orientation":o,...u,ref:e})})});gQ.displayName=bj;var vQ="TabsList",yQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=BI(vQ,n),o=mQ(n);return a.jsx(hQ,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx($t.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});yQ.displayName=vQ;var xQ="TabsTrigger",bQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=BI(xQ,n),l=mQ(n),c=SQ(o.baseId,r),u=EQ(o.baseId,r),d=r===o.value;return a.jsx(pQ,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx($t.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Nt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Nt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Nt(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});bQ.displayName=xQ;var wQ="TabsContent",NQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=BI(wQ,n),c=SQ(l.baseId,r),u=EQ(l.baseId,r),d=r===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(ja,{present:i||d,children:({present:m})=>a.jsx($t.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});NQ.displayName=wQ;function SQ(t,e){return`${t}-trigger-${e}`}function EQ(t,e){return`${t}-content-${e}`}var Yye=gQ,jQ=yQ,_Q=bQ,CQ=NQ;const Ul=Yye,dl=w.forwardRef(({className:t,...e},n)=>a.jsx(jQ,{ref:n,className:gt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));dl.displayName=jQ.displayName;const Ln=w.forwardRef(({className:t,...e},n)=>a.jsx(_Q,{ref:n,className:gt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ln.displayName=_Q.displayName;const rr=w.forwardRef(({className:t,...e},n)=>a.jsx(CQ,{ref:n,className:gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));rr.displayName=CQ.displayName;function h8(){const[,t]=ll(),{login:e,register:n,logout:r,user:i}=dg(),{toast:s}=Ir(),[o,l]=w.useState({username:"",password:""}),[c,u]=w.useState({username:"",email:"",password:"",confirmPassword:""}),{data:d}=Wt({queryKey:["/api/admin/system-settings"]});w.useEffect(()=>{i&&r()},[i,r]);const f=async h=>{h.preventDefault();try{await e(o.username,o.password),s({title:"Inicio de sesin exitoso",description:"Bienvenido de nuevo"}),t("/")}catch(y){s({title:"Error",description:y.message||"Credenciales incorrectas",variant:"destructive"})}},m=async h=>{if(h.preventDefault(),c.password!==c.confirmPassword){s({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}try{await n(c.username,c.email,c.password),s({title:"Registro exitoso",description:"Tu cuenta ha sido creada"}),t("/")}catch(y){s({title:"Error",description:y.message||"Error al crear la cuenta",variant:"destructive"})}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-ring/5 p-4",children:a.jsxs(Ue,{className:"w-full max-w-md",children:[a.jsxs(lt,{className:"space-y-1",children:[a.jsx(ut,{className:"text-3xl font-display font-bold text-center text-primary",children:"Asesora La Llave"}),a.jsx(vr,{className:"text-center",children:"Sistema de gestin profesional"})]}),a.jsx(He,{children:a.jsxs(Ul,{defaultValue:"login",className:"w-full",children:[a.jsxs(dl,{className:`grid w-full ${d?.registrationEnabled??!0?"grid-cols-2":"grid-cols-1"} mb-6`,children:[a.jsx(Ln,{value:"login",children:"Iniciar Sesin"}),(d?.registrationEnabled??!0)&&a.jsx(Ln,{value:"register",children:"Registrarse"})]}),a.jsx(rr,{value:"login",children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"login-username",children:"Usuario"}),a.jsx(Fe,{id:"login-username",type:"text",placeholder:"tu_usuario",value:o.username,onChange:h=>l({...o,username:h.target.value}),required:!0,"data-testid":"input-login-username"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"login-password",children:"Contrasea"}),a.jsx(Fe,{id:"login-password",type:"password",placeholder:"",value:o.password,onChange:h=>l({...o,password:h.target.value}),required:!0,"data-testid":"input-login-password"})]}),a.jsx(ge,{type:"submit",className:"w-full","data-testid":"button-login-submit",children:"Iniciar Sesin"})]})}),(d?.registrationEnabled??!0)&&a.jsx(rr,{value:"register",children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"register-username",children:"Usuario"}),a.jsx(Fe,{id:"register-username",type:"text",placeholder:"tu_usuario",value:c.username,onChange:h=>u({...c,username:h.target.value}),required:!0,"data-testid":"input-register-username"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"register-email",children:"Email"}),a.jsx(Fe,{id:"register-email",type:"email",placeholder:"tu@email.com",value:c.email,onChange:h=>u({...c,email:h.target.value}),required:!0,"data-testid":"input-register-email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"register-password",children:"Contrasea"}),a.jsx(Fe,{id:"register-password",type:"password",placeholder:"",value:c.password,onChange:h=>u({...c,password:h.target.value}),required:!0,"data-testid":"input-register-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"register-confirm-password",children:"Confirmar Contrasea"}),a.jsx(Fe,{id:"register-confirm-password",type:"password",placeholder:"",value:c.confirmPassword,onChange:h=>u({...c,confirmPassword:h.target.value}),required:!0,"data-testid":"input-register-confirm-password"})]}),a.jsx(ge,{type:"submit",className:"w-full","data-testid":"button-register-submit",children:"Crear Cuenta"})]})})]})})]})})}var lA,p8;function fl(){if(p8)return lA;p8=1;var t=Array.isArray;return lA=t,lA}var cA,m8;function AQ(){if(m8)return cA;m8=1;var t=typeof Iw=="object"&&Iw&&Iw.Object===Object&&Iw;return cA=t,cA}var uA,g8;function Sd(){if(g8)return uA;g8=1;var t=AQ(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return uA=n,uA}var dA,v8;function O1(){if(v8)return dA;v8=1;var t=Sd(),e=t.Symbol;return dA=e,dA}var fA,y8;function Xye(){if(y8)return fA;y8=1;var t=O1(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(l?o[i]=c:delete o[i]),d}return fA=s,fA}var hA,x8;function Qye(){if(x8)return hA;x8=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return hA=n,hA}var pA,b8;function Df(){if(b8)return pA;b8=1;var t=O1(),e=Xye(),n=Qye(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:s&&s in Object(l)?e(l):n(l)}return pA=o,pA}var mA,w8;function Lf(){if(w8)return mA;w8=1;function t(e){return e!=null&&typeof e=="object"}return mA=t,mA}var gA,N8;function Yy(){if(N8)return gA;N8=1;var t=Df(),e=Lf(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return gA=r,gA}var vA,S8;function zI(){if(S8)return vA;S8=1;var t=fl(),e=Yy(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return vA=i,vA}var yA,E8;function bp(){if(E8)return yA;E8=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return yA=t,yA}var xA,j8;function qI(){if(j8)return xA;j8=1;var t=Df(),e=bp(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==s}return xA=o,xA}var bA,_8;function Jye(){if(_8)return bA;_8=1;var t=Sd(),e=t["__core-js_shared__"];return bA=e,bA}var wA,C8;function Zye(){if(C8)return wA;C8=1;var t=Jye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return wA=n,wA}var NA,A8;function kQ(){if(A8)return NA;A8=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return NA=n,NA}var SA,k8;function exe(){if(k8)return SA;k8=1;var t=qI(),e=Zye(),n=bp(),r=kQ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!n(m)||e(m))return!1;var h=t(m)?d:s;return h.test(r(m))}return SA=f,SA}var EA,T8;function txe(){if(T8)return EA;T8=1;function t(e,n){return e?.[n]}return EA=t,EA}var jA,O8;function fg(){if(O8)return jA;O8=1;var t=exe(),e=txe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return jA=n,jA}var _A,P8;function wj(){if(P8)return _A;P8=1;var t=fg(),e=t(Object,"create");return _A=e,_A}var CA,M8;function nxe(){if(M8)return CA;M8=1;var t=wj();function e(){this.__data__=t?t(null):{},this.size=0}return CA=e,CA}var AA,R8;function rxe(){if(R8)return AA;R8=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return AA=t,AA}var kA,I8;function ixe(){if(I8)return kA;I8=1;var t=wj(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return r.call(o,s)?o[s]:void 0}return kA=i,kA}var TA,D8;function sxe(){if(D8)return TA;D8=1;var t=wj(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return TA=r,TA}var OA,L8;function axe(){if(L8)return OA;L8=1;var t=wj(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return OA=n,OA}var PA,F8;function oxe(){if(F8)return PA;F8=1;var t=nxe(),e=rxe(),n=ixe(),r=sxe(),i=axe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,PA=s,PA}var MA,$8;function lxe(){if($8)return MA;$8=1;function t(){this.__data__=[],this.size=0}return MA=t,MA}var RA,B8;function UI(){if(B8)return RA;B8=1;function t(e,n){return e===n||e!==e&&n!==n}return RA=t,RA}var IA,z8;function Nj(){if(z8)return IA;z8=1;var t=UI();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return IA=e,IA}var DA,q8;function cxe(){if(q8)return DA;q8=1;var t=Nj(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():n.call(s,o,1),--this.size,!0}return DA=r,DA}var LA,U8;function uxe(){if(U8)return LA;U8=1;var t=Nj();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return LA=e,LA}var FA,H8;function dxe(){if(H8)return FA;H8=1;var t=Nj();function e(n){return t(this.__data__,n)>-1}return FA=e,FA}var $A,V8;function fxe(){if(V8)return $A;V8=1;var t=Nj();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return $A=e,$A}var BA,W8;function Sj(){if(W8)return BA;W8=1;var t=lxe(),e=cxe(),n=uxe(),r=dxe(),i=fxe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,BA=s,BA}var zA,K8;function HI(){if(K8)return zA;K8=1;var t=fg(),e=Sd(),n=t(e,"Map");return zA=n,zA}var qA,G8;function hxe(){if(G8)return qA;G8=1;var t=oxe(),e=Sj(),n=HI();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return qA=r,qA}var UA,Y8;function pxe(){if(Y8)return UA;Y8=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return UA=t,UA}var HA,X8;function Ej(){if(X8)return HA;X8=1;var t=pxe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return HA=e,HA}var VA,Q8;function mxe(){if(Q8)return VA;Q8=1;var t=Ej();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return VA=e,VA}var WA,J8;function gxe(){if(J8)return WA;J8=1;var t=Ej();function e(n){return t(this,n).get(n)}return WA=e,WA}var KA,Z8;function vxe(){if(Z8)return KA;Z8=1;var t=Ej();function e(n){return t(this,n).has(n)}return KA=e,KA}var GA,e$;function yxe(){if(e$)return GA;e$=1;var t=Ej();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return GA=e,GA}var YA,t$;function VI(){if(t$)return YA;t$=1;var t=hxe(),e=mxe(),n=gxe(),r=vxe(),i=yxe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,YA=s,YA}var XA,n$;function TQ(){if(n$)return XA;n$=1;var t=VI(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=r.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,XA=n,XA}var QA,r$;function xxe(){if(r$)return QA;r$=1;var t=TQ(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return QA=n,QA}var JA,i$;function bxe(){if(i$)return JA;i$=1;var t=xxe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,u){s.push(c?u.replace(n,"$1"):l||o)}),s});return JA=r,JA}var ZA,s$;function WI(){if(s$)return ZA;s$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return ZA=t,ZA}var ek,a$;function wxe(){if(a$)return ek;a$=1;var t=O1(),e=WI(),n=fl(),r=Yy(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return ek=o,ek}var tk,o$;function OQ(){if(o$)return tk;o$=1;var t=wxe();function e(n){return n==null?"":t(n)}return tk=e,tk}var nk,l$;function PQ(){if(l$)return nk;l$=1;var t=fl(),e=zI(),n=bxe(),r=OQ();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return nk=i,nk}var rk,c$;function jj(){if(c$)return rk;c$=1;var t=Yy();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return rk=e,rk}var ik,u$;function KI(){if(u$)return ik;u$=1;var t=PQ(),e=jj();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return ik=n,ik}var sk,d$;function MQ(){if(d$)return sk;d$=1;var t=KI();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return sk=e,sk}var Nxe=MQ();const Ec=zr(Nxe);var ak,f$;function Sxe(){if(f$)return ak;f$=1;function t(e){return e==null}return ak=t,ak}var Exe=Sxe();const Gn=zr(Exe);var ok,h$;function jxe(){if(h$)return ok;h$=1;var t=Df(),e=fl(),n=Lf(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return ok=i,ok}var _xe=jxe();const qm=zr(_xe);var Cxe=qI();const tr=zr(Cxe);var Axe=bp();const Xy=zr(Axe);var lk={exports:{}},Wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p$;function kxe(){if(p$)return Wr;p$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function v(x){if(typeof x=="object"&&x!==null){var b=x.$$typeof;switch(b){case t:switch(x=x.type,x){case n:case i:case r:case u:case d:return x;default:switch(x=x&&x.$$typeof,x){case l:case o:case c:case m:case f:case s:return x;default:return b}}case e:return b}}}return Wr.ContextConsumer=o,Wr.ContextProvider=s,Wr.Element=t,Wr.ForwardRef=c,Wr.Fragment=n,Wr.Lazy=m,Wr.Memo=f,Wr.Portal=e,Wr.Profiler=i,Wr.StrictMode=r,Wr.Suspense=u,Wr.SuspenseList=d,Wr.isAsyncMode=function(){return!1},Wr.isConcurrentMode=function(){return!1},Wr.isContextConsumer=function(x){return v(x)===o},Wr.isContextProvider=function(x){return v(x)===s},Wr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Wr.isForwardRef=function(x){return v(x)===c},Wr.isFragment=function(x){return v(x)===n},Wr.isLazy=function(x){return v(x)===m},Wr.isMemo=function(x){return v(x)===f},Wr.isPortal=function(x){return v(x)===e},Wr.isProfiler=function(x){return v(x)===i},Wr.isStrictMode=function(x){return v(x)===r},Wr.isSuspense=function(x){return v(x)===u},Wr.isSuspenseList=function(x){return v(x)===d},Wr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===u||x===d||x===h||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===f||x.$$typeof===s||x.$$typeof===o||x.$$typeof===c||x.$$typeof===y||x.getModuleId!==void 0)},Wr.typeOf=v,Wr}var m$;function Txe(){return m$||(m$=1,lk.exports=kxe()),lk.exports}var Oxe=Txe(),ck,g$;function RQ(){if(g$)return ck;g$=1;var t=Df(),e=Lf(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return ck=r,ck}var uk,v$;function Pxe(){if(v$)return uk;v$=1;var t=RQ();function e(n){return t(n)&&n!=+n}return uk=e,uk}var Mxe=Pxe();const Qy=zr(Mxe);var Rxe=RQ();const Ixe=zr(Rxe);var gu=function(e){return e===0?0:e>0?1:-1},gm=function(e){return qm(e)&&e.indexOf("%")===e.length-1},Pt=function(e){return Ixe(e)&&!Qy(e)},Dxe=function(e){return Gn(e)},ea=function(e){return Pt(e)||qm(e)},Lxe=0,hg=function(e){var n=++Lxe;return"".concat(e||"").concat(n)},Um=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pt(e)&&!qm(e))return r;var s;if(gm(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Qy(s)&&(s=r),i&&s>n&&(s=n),s},Rh=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Fxe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ws=function(e,n){return Pt(e)&&Pt(n)?function(r){return e+r*(n-e)}:function(){return n}};function ON(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ec(r,e))===n})}var $xe=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,s=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<n;f++)u=e[f].cx||0,d=e[f].cy||0,r+=u,i+=d,s+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var m=n*o!==r*r?(n*s-r*i)/(n*o-r*r):0;return{xmin:l,xmax:c,a:m,b:(i-m*r)/n}},Bxe=function(e,n){return Pt(e)&&Pt(n)?e-n:qm(e)&&qm(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Iv(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function rM(t){"@babel/helpers - typeof";return rM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rM(t)}var zxe=["viewBox","children"],qxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],y$=["points","pathLength"],dk={svg:zxe,polygon:y$,polyline:y$},GI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],PN=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),!Xy(r))return null;var i={};return Object.keys(r).forEach(function(s){GI.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},Uxe=function(e,n,r){return function(i){return e(n,r,i),null}},o0=function(e,n,r){if(!Xy(e)||rM(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];GI.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Uxe(o,n,r))}),i},Hxe=["children"],Vxe=["children"];function x$(t,e){if(t==null)return{};var n=Wxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iM(t){"@babel/helpers - typeof";return iM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iM(t)}var b$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},w$=null,fk=null,YI=function t(e){if(e===w$&&Array.isArray(fk))return fk;var n=[];return w.Children.forEach(e,function(r){Gn(r)||(Oxe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),fk=n,w$=e,n};function sl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return bf(i)}):r=[bf(e)],YI(t).forEach(function(i){var s=Ec(i,"type.displayName")||Ec(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Tl(t,e){var n=sl(t,e);return n&&n[0]}var N$=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Pt(r)||r<=0||!Pt(i)||i<=0)},Kxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gxe=function(e){return e&&e.type&&qm(e.type)&&Kxe.indexOf(e.type)>=0},IQ=function(e){return e&&iM(e)==="object"&&"clipDot"in e},Yxe=function(e,n,r,i){var s,o=(s=dk?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!tr(e)&&(i&&o.includes(n)||qxe.includes(n))||r&&GI.includes(n)},Jn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(w.isValidElement(e)&&(i=e.props),!Xy(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;Yxe((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},sM=function t(e,n){if(e===n)return!0;var r=w.Children.count(e);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return S$(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!S$(s,o))return!1}return!0},S$=function(e,n){if(Gn(e)&&Gn(n))return!0;if(!Gn(e)&&!Gn(n)){var r=e.props||{},i=r.children,s=x$(r,Hxe),o=n.props||{},l=o.children,c=x$(o,Vxe);return i&&l?Iv(s,c)&&sM(i,l):!i&&!l?Iv(s,c):!1}return!1},E$=function(e,n){var r=[],i={};return YI(e).forEach(function(s,o){if(Gxe(s))r.push(s);else if(s){var l=bf(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);r.push(f),i[l]=!0}}}),r},Xxe=function(e){var n=e&&e.type;return n&&b$[n]?b$[n]:null},Qxe=function(e,n){return YI(n).indexOf(e)},Jxe=["children","width","height","viewBox","className","style","title","desc"];function aM(){return aM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aM.apply(this,arguments)}function Zxe(t,e){if(t==null)return{};var n=ebe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ebe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oM(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=Zxe(t,Jxe),d=i||{width:n,height:r,x:0,y:0},f=hr("recharts-surface",s);return ye.createElement("svg",aM({},Jn(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ye.createElement("title",null,l),ye.createElement("desc",null,c),e)}var tbe=["children","className"];function lM(){return lM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lM.apply(this,arguments)}function nbe(t,e){if(t==null)return{};var n=rbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Br=ye.forwardRef(function(t,e){var n=t.children,r=t.className,i=nbe(t,tbe),s=hr("recharts-layer",r);return ye.createElement("g",lM({className:s},Jn(i,!0),{ref:e}),n)}),wf=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},hk,j$;function ibe(){if(j$)return hk;j$=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return hk=t,hk}var pk,_$;function sbe(){if(_$)return pk;_$=1;var t=ibe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return pk=e,pk}var mk,C$;function DQ(){if(C$)return mk;C$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(u){return l.test(u)}return mk=c,mk}var gk,A$;function abe(){if(A$)return gk;A$=1;function t(e){return e.split("")}return gk=t,gk}var vk,k$;function obe(){if(k$)return vk;k$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",y=u+"?",v="["+s+"]?",x="(?:"+h+"(?:"+[d,f,m].join("|")+")"+v+y+")*",b=v+y+x,S="(?:"+[d+l+"?",l,f,m,o].join("|")+")",E=RegExp(c+"(?="+c+")|"+S+b,"g");function _(C){return C.match(E)||[]}return vk=_,vk}var yk,T$;function lbe(){if(T$)return yk;T$=1;var t=abe(),e=DQ(),n=obe();function r(i){return e(i)?n(i):t(i)}return yk=r,yk}var xk,O$;function cbe(){if(O$)return xk;O$=1;var t=sbe(),e=DQ(),n=lbe(),r=OQ();function i(s){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return xk=i,xk}var bk,P$;function ube(){if(P$)return bk;P$=1;var t=cbe(),e=t("toUpperCase");return bk=e,bk}var dbe=ube();const _j=zr(dbe);function Si(t){return function(){return t}}const LQ=Math.cos,MN=Math.sin,Cu=Math.sqrt,RN=Math.PI,Cj=2*RN,cM=Math.PI,uM=2*cM,am=1e-6,fbe=uM-am;function FQ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hbe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FQ;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class pbe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FQ:hbe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,d=o-e,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>am)if(!(Math.abs(f*c-u*d)>am)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,y=i-l,v=c*c+u*u,x=h*h+y*y,b=Math.sqrt(v),S=Math.sqrt(m),E=s*Math.tan((cM-Math.acos((v+m-x)/(2*b*S)))/2),_=E/S,C=E/b;Math.abs(_-1)>am&&this._append`L${e+_*d},${n+_*f}`,this._append`A${s},${s},0,0,${+(f*h>d*y)},${this._x1=e+C*c},${this._y1=n+C*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>am||Math.abs(this._y1-d)>am)&&this._append`L${u},${d}`,r&&(m<0&&(m=m%uM+uM),m>fbe?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:m>am&&this._append`A${r},${r},0,${+(m>=cM)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function XI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new pbe(e)}function QI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $Q(t){this._context=t}$Q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Aj(t){return new $Q(t)}function BQ(t){return t[0]}function zQ(t){return t[1]}function qQ(t,e){var n=Si(!0),r=null,i=Aj,s=null,o=XI(l);t=typeof t=="function"?t:t===void 0?BQ:Si(t),e=typeof e=="function"?e:e===void 0?zQ:Si(e);function l(c){var u,d=(c=QI(c)).length,f,m=!1,h;for(r==null&&(s=i(h=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Si(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Si(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Si(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Gw(t,e,n){var r=null,i=Si(!0),s=null,o=Aj,l=null,c=XI(u);t=typeof t=="function"?t:t===void 0?BQ:Si(+t),e=typeof e=="function"?e:Si(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zQ:Si(+n);function u(f){var m,h,y,v=(f=QI(f)).length,x,b=!1,S,E=new Array(v),_=new Array(v);for(s==null&&(l=o(S=c())),m=0;m<=v;++m){if(!(m<v&&i(x=f[m],m,f))===b)if(b=!b)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=h;--y)l.point(E[y],_[y]);l.lineEnd(),l.areaEnd()}b&&(E[m]=+t(x,m,f),_[m]=+e(x,m,f),l.point(r?+r(x,m,f):E[m],n?+n(x,m,f):_[m]))}if(S)return l=null,S+""||null}function d(){return qQ().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Si(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Si(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Si(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Si(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Si(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Si(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Si(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class UQ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function mbe(t){return new UQ(t,!0)}function gbe(t){return new UQ(t,!1)}const JI={draw(t,e){const n=Cu(e/RN);t.moveTo(n,0),t.arc(0,0,n,0,Cj)}},vbe={draw(t,e){const n=Cu(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},HQ=Cu(1/3),ybe=HQ*2,xbe={draw(t,e){const n=Cu(e/ybe),r=n*HQ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bbe={draw(t,e){const n=Cu(e),r=-n/2;t.rect(r,r,n,n)}},wbe=.8908130915292852,VQ=MN(RN/10)/MN(7*RN/10),Nbe=MN(Cj/10)*VQ,Sbe=-LQ(Cj/10)*VQ,Ebe={draw(t,e){const n=Cu(e*wbe),r=Nbe*n,i=Sbe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=Cj*s/5,l=LQ(o),c=MN(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},wk=Cu(3),jbe={draw(t,e){const n=-Cu(e/(wk*3));t.moveTo(0,n*2),t.lineTo(-wk*n,-n),t.lineTo(wk*n,-n),t.closePath()}},oc=-.5,lc=Cu(3)/2,dM=1/Cu(12),_be=(dM/2+1)*3,Cbe={draw(t,e){const n=Cu(e/_be),r=n/2,i=n*dM,s=r,o=n*dM+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(oc*r-lc*i,lc*r+oc*i),t.lineTo(oc*s-lc*o,lc*s+oc*o),t.lineTo(oc*l-lc*c,lc*l+oc*c),t.lineTo(oc*r+lc*i,oc*i-lc*r),t.lineTo(oc*s+lc*o,oc*o-lc*s),t.lineTo(oc*l+lc*c,oc*c-lc*l),t.closePath()}};function Abe(t,e){let n=null,r=XI(i);t=typeof t=="function"?t:Si(t||JI),e=typeof e=="function"?e:Si(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Si(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Si(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function IN(){}function DN(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function WQ(t){this._context=t}WQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kbe(t){return new WQ(t)}function KQ(t){this._context=t}KQ.prototype={areaStart:IN,areaEnd:IN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:DN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tbe(t){return new KQ(t)}function GQ(t){this._context=t}GQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:DN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Obe(t){return new GQ(t)}function YQ(t){this._context=t}YQ.prototype={areaStart:IN,areaEnd:IN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Pbe(t){return new YQ(t)}function M$(t){return t<0?-1:1}function R$(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(M$(s)+M$(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function I$(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Nk(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function LN(t){this._context=t}LN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nk(this,this._t0,I$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Nk(this,I$(this,n=R$(this,t,e)),n);break;default:Nk(this,this._t0,n=R$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function XQ(t){this._context=new QQ(t)}(XQ.prototype=Object.create(LN.prototype)).point=function(t,e){LN.prototype.point.call(this,e,t)};function QQ(t){this._context=t}QQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Mbe(t){return new LN(t)}function Rbe(t){return new XQ(t)}function JQ(t){this._context=t}JQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=D$(t),i=D$(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function D$(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Ibe(t){return new JQ(t)}function kj(t,e){this._context=t,this._t=e}kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Dbe(t){return new kj(t,.5)}function Lbe(t){return new kj(t,0)}function Fbe(t){return new kj(t,1)}function Zv(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fM(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $be(t,e){return t[e]}function Bbe(t){const e=[];return e.key=t,e}function zbe(){var t=Si([]),e=fM,n=Zv,r=$be;function i(s){var o=Array.from(t.apply(this,arguments),Bbe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=QI(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Si(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Si(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?fM:typeof s=="function"?s:Si(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Zv,i):n},i}function qbe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Zv(t,e)}}function Ube(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Zv(t,e)}}function Hbe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,m=d[r-1][1]||0,h=(f-m)/2,y=0;y<l;++y){var v=t[e[y]],x=v[r][1]||0,b=v[r-1][1]||0;h+=x-b}c+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Zv(t,e)}}function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}var Vbe=["type","size","sizeType"];function hM(){return hM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hM.apply(this,arguments)}function L$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(n),!0).forEach(function(r){Wbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wbe(t,e,n){return e=Kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kbe(t){var e=Gbe(t,"string");return l0(e)=="symbol"?e:e+""}function Gbe(t,e){if(l0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ybe(t,e){if(t==null)return{};var n=Xbe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZQ={symbolCircle:JI,symbolCross:vbe,symbolDiamond:xbe,symbolSquare:bbe,symbolStar:Ebe,symbolTriangle:jbe,symbolWye:Cbe},Qbe=Math.PI/180,Jbe=function(e){var n="symbol".concat(_j(e));return ZQ[n]||JI},Zbe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Qbe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},e0e=function(e,n){ZQ["symbol".concat(_j(e))]=n},Tj=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=Ybe(e,Vbe),u=F$(F$({},c),{},{type:r,size:s,sizeType:l}),d=function(){var x=Jbe(r),b=Abe().type(x).size(Zbe(s,l,r));return b()},f=u.className,m=u.cx,h=u.cy,y=Jn(u,!0);return m===+m&&h===+h&&s===+s?ye.createElement("path",hM({},y,{className:hr("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};Tj.registerSymbol=e0e;function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function pM(){return pM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pM.apply(this,arguments)}function $$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(n),!0).forEach(function(r){c0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tJ(r.key),r)}}function i0e(t,e,n){return e&&r0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0e(t,e,n){return e=FN(e),a0e(t,eJ()?Reflect.construct(e,n||[],FN(t).constructor):e.apply(t,n))}function a0e(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(t)}function o0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eJ=function(){return!!t})()}function FN(t){return FN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FN(t)}function l0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mM(t,e)}function mM(t,e){return mM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mM(t,e)}function c0(t,e,n){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tJ(t){var e=c0e(t,"string");return ey(e)=="symbol"?e:e+""}function c0e(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cc=32,ZI=(function(t){function e(){return n0e(this,e),s0e(this,e,arguments)}return l0e(e,t),i0e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=cc/2,o=cc/6,l=cc/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ye.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:cc,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ye.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(cc,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ye.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(cc/8,"h").concat(cc,"v").concat(cc*3/4,"h").concat(-cc,"z"),className:"recharts-legend-icon"});if(ye.isValidElement(r.legendIcon)){var u=t0e({},r);return delete u.legendIcon,ye.cloneElement(r.legendIcon,u)}return ye.createElement(Tj,{fill:c,cx:s,cy:s,size:cc,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:cc,height:cc},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,y){var v=h.formatter||c,x=hr(c0(c0({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=tr(h.value)?null:h.value;wf(!tr(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=h.inactive?u:h.color;return ye.createElement("li",pM({className:x,style:f,key:"legend-item-".concat(y)},o0(r.props,h,y)),ye.createElement(oM,{width:o,height:o,viewBox:d,style:m},r.renderIcon(h)),ye.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},v?v(b,h,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ye.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(w.PureComponent);c0(ZI,"displayName","Legend");c0(ZI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Sk,B$;function u0e(){if(B$)return Sk;B$=1;var t=Sj();function e(){this.__data__=new t,this.size=0}return Sk=e,Sk}var Ek,z$;function d0e(){if(z$)return Ek;z$=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Ek=t,Ek}var jk,q$;function f0e(){if(q$)return jk;q$=1;function t(e){return this.__data__.get(e)}return jk=t,jk}var _k,U$;function h0e(){if(U$)return _k;U$=1;function t(e){return this.__data__.has(e)}return _k=t,_k}var Ck,H$;function p0e(){if(H$)return Ck;H$=1;var t=Sj(),e=HI(),n=VI(),r=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(s,o),this.size=l.size,this}return Ck=i,Ck}var Ak,V$;function nJ(){if(V$)return Ak;V$=1;var t=Sj(),e=u0e(),n=d0e(),r=f0e(),i=h0e(),s=p0e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,Ak=o,Ak}var kk,W$;function m0e(){if(W$)return kk;W$=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return kk=e,kk}var Tk,K$;function g0e(){if(K$)return Tk;K$=1;function t(e){return this.__data__.has(e)}return Tk=t,Tk}var Ok,G$;function rJ(){if(G$)return Ok;G$=1;var t=VI(),e=m0e(),n=g0e();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Ok=r,Ok}var Pk,Y$;function iJ(){if(Y$)return Pk;Y$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Pk=t,Pk}var Mk,X$;function sJ(){if(X$)return Mk;X$=1;function t(e,n){return e.has(n)}return Mk=t,Mk}var Rk,Q$;function aJ(){if(Q$)return Rk;Q$=1;var t=rJ(),e=iJ(),n=sJ(),r=1,i=2;function s(o,l,c,u,d,f){var m=c&r,h=o.length,y=l.length;if(h!=y&&!(m&&y>h))return!1;var v=f.get(o),x=f.get(l);if(v&&x)return v==l&&x==o;var b=-1,S=!0,E=c&i?new t:void 0;for(f.set(o,l),f.set(l,o);++b<h;){var _=o[b],C=l[b];if(u)var O=m?u(C,_,b,l,o,f):u(_,C,b,o,l,f);if(O!==void 0){if(O)continue;S=!1;break}if(E){if(!e(l,function(M,A){if(!n(E,A)&&(_===M||d(_,M,c,u,f)))return E.push(A)})){S=!1;break}}else if(!(_===C||d(_,C,c,u,f))){S=!1;break}}return f.delete(o),f.delete(l),S}return Rk=s,Rk}var Ik,J$;function v0e(){if(J$)return Ik;J$=1;var t=Sd(),e=t.Uint8Array;return Ik=e,Ik}var Dk,Z$;function y0e(){if(Z$)return Dk;Z$=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return Dk=t,Dk}var Lk,eB;function eD(){if(eB)return Lk;eB=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Lk=t,Lk}var Fk,tB;function x0e(){if(tB)return Fk;tB=1;var t=O1(),e=v0e(),n=UI(),r=aJ(),i=y0e(),s=eD(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",h="[object RegExp]",y="[object Set]",v="[object String]",x="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",E=t?t.prototype:void 0,_=E?E.valueOf:void 0;function C(O,M,A,P,F,R,$){switch(A){case S:if(O.byteLength!=M.byteLength||O.byteOffset!=M.byteOffset)return!1;O=O.buffer,M=M.buffer;case b:return!(O.byteLength!=M.byteLength||!R(new e(O),new e(M)));case c:case u:case m:return n(+O,+M);case d:return O.name==M.name&&O.message==M.message;case h:case v:return O==M+"";case f:var q=i;case y:var z=P&o;if(q||(q=s),O.size!=M.size&&!z)return!1;var G=$.get(O);if(G)return G==M;P|=l,$.set(O,M);var X=r(q(O),q(M),P,F,R,$);return $.delete(O),X;case x:if(_)return _.call(O)==_.call(M)}return!1}return Fk=C,Fk}var $k,nB;function oJ(){if(nB)return $k;nB=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return $k=t,$k}var Bk,rB;function b0e(){if(rB)return Bk;rB=1;var t=oJ(),e=fl();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return Bk=n,Bk}var zk,iB;function w0e(){if(iB)return zk;iB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[s++]=l)}return o}return zk=t,zk}var qk,sB;function N0e(){if(sB)return qk;sB=1;function t(){return[]}return qk=t,qk}var Uk,aB;function S0e(){if(aB)return Uk;aB=1;var t=w0e(),e=N0e(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return Uk=s,Uk}var Hk,oB;function E0e(){if(oB)return Hk;oB=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Hk=t,Hk}var Vk,lB;function j0e(){if(lB)return Vk;lB=1;var t=Df(),e=Lf(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Vk=r,Vk}var Wk,cB;function tD(){if(cB)return Wk;cB=1;var t=j0e(),e=Lf(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Wk=s,Wk}var hb={exports:{}},Kk,uB;function _0e(){if(uB)return Kk;uB=1;function t(){return!1}return Kk=t,Kk}hb.exports;var dB;function lJ(){return dB||(dB=1,(function(t,e){var n=Sd(),r=_0e(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(hb,hb.exports)),hb.exports}var Gk,fB;function nD(){if(fB)return Gk;fB=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Gk=n,Gk}var Yk,hB;function rD(){if(hB)return Yk;hB=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Yk=e,Yk}var Xk,pB;function C0e(){if(pB)return Xk;pB=1;var t=Df(),e=rD(),n=Lf(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",h="[object Set]",y="[object String]",v="[object WeakMap]",x="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",F="[object Uint32Array]",R={};R[S]=R[E]=R[_]=R[C]=R[O]=R[M]=R[A]=R[P]=R[F]=!0,R[r]=R[i]=R[x]=R[s]=R[b]=R[o]=R[l]=R[c]=R[u]=R[d]=R[f]=R[m]=R[h]=R[y]=R[v]=!1;function $(q){return n(q)&&e(q.length)&&!!R[t(q)]}return Xk=$,Xk}var Qk,mB;function cJ(){if(mB)return Qk;mB=1;function t(e){return function(n){return e(n)}}return Qk=t,Qk}var pb={exports:{}};pb.exports;var gB;function A0e(){return gB||(gB=1,(function(t,e){var n=AQ(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(pb,pb.exports)),pb.exports}var Jk,vB;function uJ(){if(vB)return Jk;vB=1;var t=C0e(),e=cJ(),n=A0e(),r=n&&n.isTypedArray,i=r?e(r):t;return Jk=i,Jk}var Zk,yB;function k0e(){if(yB)return Zk;yB=1;var t=E0e(),e=tD(),n=fl(),r=lJ(),i=nD(),s=uJ(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=n(u),m=!f&&e(u),h=!f&&!m&&r(u),y=!f&&!m&&!h&&s(u),v=f||m||h||y,x=v?t(u.length,String):[],b=x.length;for(var S in u)(d||l.call(u,S))&&!(v&&(S=="length"||h&&(S=="offset"||S=="parent")||y&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,b)))&&x.push(S);return x}return Zk=c,Zk}var e5,xB;function T0e(){if(xB)return e5;xB=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return e5=e,e5}var t5,bB;function dJ(){if(bB)return t5;bB=1;function t(e,n){return function(r){return e(n(r))}}return t5=t,t5}var n5,wB;function O0e(){if(wB)return n5;wB=1;var t=dJ(),e=t(Object.keys,Object);return n5=e,n5}var r5,NB;function P0e(){if(NB)return r5;NB=1;var t=T0e(),e=O0e(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&o.push(l);return o}return r5=i,r5}var i5,SB;function P1(){if(SB)return i5;SB=1;var t=qI(),e=rD();function n(r){return r!=null&&e(r.length)&&!t(r)}return i5=n,i5}var s5,EB;function Oj(){if(EB)return s5;EB=1;var t=k0e(),e=P0e(),n=P1();function r(i){return n(i)?t(i):e(i)}return s5=r,s5}var a5,jB;function M0e(){if(jB)return a5;jB=1;var t=b0e(),e=S0e(),n=Oj();function r(i){return t(i,n,e)}return a5=r,a5}var o5,_B;function R0e(){if(_B)return o5;_B=1;var t=M0e(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,l,c,u,d){var f=l&e,m=t(s),h=m.length,y=t(o),v=y.length;if(h!=v&&!f)return!1;for(var x=h;x--;){var b=m[x];if(!(f?b in o:r.call(o,b)))return!1}var S=d.get(s),E=d.get(o);if(S&&E)return S==o&&E==s;var _=!0;d.set(s,o),d.set(o,s);for(var C=f;++x<h;){b=m[x];var O=s[b],M=o[b];if(c)var A=f?c(M,O,b,o,s,d):c(O,M,b,s,o,d);if(!(A===void 0?O===M||u(O,M,l,c,d):A)){_=!1;break}C||(C=b=="constructor")}if(_&&!C){var P=s.constructor,F=o.constructor;P!=F&&"constructor"in s&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof F=="function"&&F instanceof F)&&(_=!1)}return d.delete(s),d.delete(o),_}return o5=i,o5}var l5,CB;function I0e(){if(CB)return l5;CB=1;var t=fg(),e=Sd(),n=t(e,"DataView");return l5=n,l5}var c5,AB;function D0e(){if(AB)return c5;AB=1;var t=fg(),e=Sd(),n=t(e,"Promise");return c5=n,c5}var u5,kB;function fJ(){if(kB)return u5;kB=1;var t=fg(),e=Sd(),n=t(e,"Set");return u5=n,u5}var d5,TB;function L0e(){if(TB)return d5;TB=1;var t=fg(),e=Sd(),n=t(e,"WeakMap");return d5=n,d5}var f5,OB;function F0e(){if(OB)return f5;OB=1;var t=I0e(),e=HI(),n=D0e(),r=fJ(),i=L0e(),s=Df(),o=kQ(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",h=o(t),y=o(e),v=o(n),x=o(r),b=o(i),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=m||e&&S(new e)!=l||n&&S(n.resolve())!=u||r&&S(new r)!=d||i&&S(new i)!=f)&&(S=function(E){var _=s(E),C=_==c?E.constructor:void 0,O=C?o(C):"";if(O)switch(O){case h:return m;case y:return l;case v:return u;case x:return d;case b:return f}return _}),f5=S,f5}var h5,PB;function $0e(){if(PB)return h5;PB=1;var t=nJ(),e=aJ(),n=x0e(),r=R0e(),i=F0e(),s=fl(),o=lJ(),l=uJ(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,h=m.hasOwnProperty;function y(v,x,b,S,E,_){var C=s(v),O=s(x),M=C?d:i(v),A=O?d:i(x);M=M==u?f:M,A=A==u?f:A;var P=M==f,F=A==f,R=M==A;if(R&&o(v)){if(!o(x))return!1;C=!0,P=!1}if(R&&!P)return _||(_=new t),C||l(v)?e(v,x,b,S,E,_):n(v,x,M,b,S,E,_);if(!(b&c)){var $=P&&h.call(v,"__wrapped__"),q=F&&h.call(x,"__wrapped__");if($||q){var z=$?v.value():v,G=q?x.value():x;return _||(_=new t),E(z,G,b,S,_)}}return R?(_||(_=new t),r(v,x,b,S,E,_)):!1}return h5=y,h5}var p5,MB;function iD(){if(MB)return p5;MB=1;var t=$0e(),e=Lf();function n(r,i,s,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,l)}return p5=n,p5}var m5,RB;function B0e(){if(RB)return m5;RB=1;var t=nJ(),e=iD(),n=1,r=2;function i(s,o,l,c){var u=l.length,d=u,f=!c;if(s==null)return!d;for(s=Object(s);u--;){var m=l[u];if(f&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<d;){m=l[u];var h=m[0],y=s[h],v=m[1];if(f&&m[2]){if(y===void 0&&!(h in s))return!1}else{var x=new t;if(c)var b=c(y,v,h,s,o,x);if(!(b===void 0?e(v,y,n|r,c,x):b))return!1}}return!0}return m5=i,m5}var g5,IB;function hJ(){if(IB)return g5;IB=1;var t=bp();function e(n){return n===n&&!t(n)}return g5=e,g5}var v5,DB;function z0e(){if(DB)return v5;DB=1;var t=hJ(),e=Oj();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],l=r[o];i[s]=[o,l,t(l)]}return i}return v5=n,v5}var y5,LB;function pJ(){if(LB)return y5;LB=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return y5=t,y5}var x5,FB;function q0e(){if(FB)return x5;FB=1;var t=B0e(),e=z0e(),n=pJ();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return x5=r,x5}var b5,$B;function U0e(){if($B)return b5;$B=1;function t(e,n){return e!=null&&n in Object(e)}return b5=t,b5}var w5,BB;function H0e(){if(BB)return w5;BB=1;var t=PQ(),e=tD(),n=fl(),r=nD(),i=rD(),s=jj();function o(l,c,u){c=t(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var h=s(c[d]);if(!(m=l!=null&&u(l,h)))break;l=l[h]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&i(f)&&r(h,f)&&(n(l)||e(l)))}return w5=o,w5}var N5,zB;function V0e(){if(zB)return N5;zB=1;var t=U0e(),e=H0e();function n(r,i){return r!=null&&e(r,i,t)}return N5=n,N5}var S5,qB;function W0e(){if(qB)return S5;qB=1;var t=iD(),e=MQ(),n=V0e(),r=zI(),i=hJ(),s=pJ(),o=jj(),l=1,c=2;function u(d,f){return r(d)&&i(f)?s(o(d),f):function(m){var h=e(m,d);return h===void 0&&h===f?n(m,d):t(f,h,l|c)}}return S5=u,S5}var E5,UB;function Jy(){if(UB)return E5;UB=1;function t(e){return e}return E5=t,E5}var j5,HB;function K0e(){if(HB)return j5;HB=1;function t(e){return function(n){return n?.[e]}}return j5=t,j5}var _5,VB;function G0e(){if(VB)return _5;VB=1;var t=KI();function e(n){return function(r){return t(r,n)}}return _5=e,_5}var C5,WB;function Y0e(){if(WB)return C5;WB=1;var t=K0e(),e=G0e(),n=zI(),r=jj();function i(s){return n(s)?t(r(s)):e(s)}return C5=i,C5}var A5,KB;function wp(){if(KB)return A5;KB=1;var t=q0e(),e=W0e(),n=Jy(),r=fl(),i=Y0e();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return A5=s,A5}var k5,GB;function mJ(){if(GB)return k5;GB=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return k5=t,k5}var T5,YB;function X0e(){if(YB)return T5;YB=1;function t(e){return e!==e}return T5=t,T5}var O5,XB;function Q0e(){if(XB)return O5;XB=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return O5=t,O5}var P5,QB;function J0e(){if(QB)return P5;QB=1;var t=mJ(),e=X0e(),n=Q0e();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return P5=r,P5}var M5,JB;function Z0e(){if(JB)return M5;JB=1;var t=J0e();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return M5=e,M5}var R5,ZB;function e1e(){if(ZB)return R5;ZB=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return R5=t,R5}var I5,e7;function t1e(){if(e7)return I5;e7=1;function t(){}return I5=t,I5}var D5,t7;function n1e(){if(t7)return D5;t7=1;var t=fJ(),e=t1e(),n=eD(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return D5=i,D5}var L5,n7;function r1e(){if(n7)return L5;n7=1;var t=rJ(),e=Z0e(),n=e1e(),r=sJ(),i=n1e(),s=eD(),o=200;function l(c,u,d){var f=-1,m=e,h=c.length,y=!0,v=[],x=v;if(d)y=!1,m=n;else if(h>=o){var b=u?null:i(c);if(b)return s(b);y=!1,m=r,x=new t}else x=u?[]:v;e:for(;++f<h;){var S=c[f],E=u?u(S):S;if(S=d||S!==0?S:0,y&&E===E){for(var _=x.length;_--;)if(x[_]===E)continue e;u&&x.push(E),v.push(S)}else m(x,E,d)||(x!==v&&x.push(E),v.push(S))}return v}return L5=l,L5}var F5,r7;function i1e(){if(r7)return F5;r7=1;var t=wp(),e=r1e();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return F5=n,F5}var s1e=i1e();const i7=zr(s1e);function gJ(t,e,n){return e===!0?i7(t,n):tr(e)?i7(t,e):t}function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}var a1e=["ref"];function s7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s7(Object(n),!0).forEach(function(r){Pj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yJ(r.key),r)}}function l1e(t,e,n){return e&&a7(t.prototype,e),n&&a7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c1e(t,e,n){return e=$N(e),u1e(t,vJ()?Reflect.construct(e,n||[],$N(t).constructor):e.apply(t,n))}function u1e(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1e(t)}function d1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vJ=function(){return!!t})()}function $N(t){return $N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$N(t)}function f1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gM(t,e)}function gM(t,e){return gM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gM(t,e)}function Pj(t,e,n){return e=yJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=h1e(t,"string");return ty(e)=="symbol"?e:e+""}function h1e(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function p1e(t,e){if(t==null)return{};var n=m1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g1e(t){return t.value}function v1e(t,e){if(ye.isValidElement(t))return ye.cloneElement(t,e);if(typeof t=="function")return ye.createElement(t,e);e.ref;var n=p1e(e,a1e);return ye.createElement(ZI,n)}var o7=1,Nf=(function(t){function e(){var n;o1e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=c1e(this,e,[].concat(i)),Pj(n,"lastBoundingBox",{width:-1,height:-1}),n}return f1e(e,t),l1e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>o7||Math.abs(i.height-this.lastBoundingBox.height)>o7)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return tf(tf({},f),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=tf(tf({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ye.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},v1e(s,tf(tf({},this.props),{},{payload:gJ(d,u,g1e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=tf(tf({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Pt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(w.PureComponent);Pj(Nf,"displayName","Legend");Pj(Nf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $5,l7;function y1e(){if(l7)return $5;l7=1;var t=O1(),e=tD(),n=fl(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return $5=i,$5}var B5,c7;function xJ(){if(c7)return B5;c7=1;var t=oJ(),e=y1e();function n(r,i,s,o,l){var c=-1,u=r.length;for(s||(s=e),l||(l=[]);++c<u;){var d=r[c];i>0&&s(d)?i>1?n(d,i-1,s,o,l):t(l,d):o||(l[l.length]=d)}return l}return B5=n,B5}var z5,u7;function x1e(){if(u7)return z5;u7=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),l=i(n),c=l.length;c--;){var u=l[e?c:++s];if(r(o[u],u,o)===!1)break}return n}}return z5=t,z5}var q5,d7;function b1e(){if(d7)return q5;d7=1;var t=x1e(),e=t();return q5=e,q5}var U5,f7;function bJ(){if(f7)return U5;f7=1;var t=b1e(),e=Oj();function n(r,i){return r&&t(r,i,e)}return U5=n,U5}var H5,h7;function w1e(){if(h7)return H5;h7=1;var t=P1();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return H5=e,H5}var V5,p7;function sD(){if(p7)return V5;p7=1;var t=bJ(),e=w1e(),n=e(t);return V5=n,V5}var W5,m7;function wJ(){if(m7)return W5;m7=1;var t=sD(),e=P1();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,u){o[++s]=i(l,c,u)}),o}return W5=n,W5}var K5,g7;function N1e(){if(g7)return K5;g7=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return K5=t,K5}var G5,v7;function S1e(){if(v7)return G5;v7=1;var t=Yy();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,l=t(n),c=r!==void 0,u=r===null,d=r===r,f=t(r);if(!u&&!f&&!l&&n>r||l&&c&&d&&!u&&!f||s&&c&&d||!i&&d||!o)return 1;if(!s&&!l&&!f&&n<r||f&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!d)return-1}return 0}return G5=e,G5}var Y5,y7;function E1e(){if(y7)return Y5;y7=1;var t=S1e();function e(n,r,i){for(var s=-1,o=n.criteria,l=r.criteria,c=o.length,u=i.length;++s<c;){var d=t(o[s],l[s]);if(d){if(s>=u)return d;var f=i[s];return d*(f=="desc"?-1:1)}}return n.index-r.index}return Y5=e,Y5}var X5,x7;function j1e(){if(x7)return X5;x7=1;var t=WI(),e=KI(),n=wp(),r=wJ(),i=N1e(),s=cJ(),o=E1e(),l=Jy(),c=fl();function u(d,f,m){f.length?f=t(f,function(v){return c(v)?function(x){return e(x,v.length===1?v[0]:v)}:v}):f=[l];var h=-1;f=t(f,s(n));var y=r(d,function(v,x,b){var S=t(f,function(E){return E(v)});return{criteria:S,index:++h,value:v}});return i(y,function(v,x){return o(v,x,m)})}return X5=u,X5}var Q5,b7;function _1e(){if(b7)return Q5;b7=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Q5=t,Q5}var J5,w7;function C1e(){if(w7)return J5;w7=1;var t=_1e(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=o[l];return d[i]=s(u),t(r,this,d)}}return J5=n,J5}var Z5,N7;function A1e(){if(N7)return Z5;N7=1;function t(e){return function(){return e}}return Z5=t,Z5}var eT,S7;function NJ(){if(S7)return eT;S7=1;var t=fg(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return eT=e,eT}var tT,E7;function k1e(){if(E7)return tT;E7=1;var t=A1e(),e=NJ(),n=Jy(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return tT=r,tT}var nT,j7;function T1e(){if(j7)return nT;j7=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return nT=r,nT}var rT,_7;function O1e(){if(_7)return rT;_7=1;var t=k1e(),e=T1e(),n=e(t);return rT=n,rT}var iT,C7;function P1e(){if(C7)return iT;C7=1;var t=Jy(),e=C1e(),n=O1e();function r(i,s){return n(e(i,s,t),i+"")}return iT=r,iT}var sT,A7;function Mj(){if(A7)return sT;A7=1;var t=UI(),e=P1(),n=nD(),r=bp();function i(s,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return sT=i,sT}var aT,k7;function M1e(){if(k7)return aT;k7=1;var t=xJ(),e=j1e(),n=P1e(),r=Mj(),i=n(function(s,o){if(s==null)return[];var l=o.length;return l>1&&r(s,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return aT=i,aT}var R1e=M1e();const aD=zr(R1e);function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function vM(){return vM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vM.apply(this,arguments)}function I1e(t,e){return $1e(t)||F1e(t,e)||L1e(t,e)||D1e()}function D1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L1e(t,e){if(t){if(typeof t=="string")return T7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T7(t,e)}}function T7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $1e(t){if(Array.isArray(t))return t}function O7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O7(Object(n),!0).forEach(function(r){B1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1e(t,e,n){return e=z1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z1e(t){var e=q1e(t,"string");return u0(e)=="symbol"?e:e+""}function q1e(t,e){if(u0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U1e(t){return Array.isArray(t)&&ea(t[0])&&ea(t[1])?t.join(" ~ "):t}var H1e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,y=e.labelClassName,v=e.label,x=e.labelFormatter,b=e.accessibilityLayer,S=b===void 0?!1:b,E=function(){if(d&&d.length){var $={padding:0,margin:0},q=(m?aD(d,m):d).map(function(z,G){if(z.type==="none")return null;var X=oT({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),U=z.formatter||f||U1e,W=z.value,Y=z.name,ie=W,Q=Y;if(U&&ie!=null&&Q!=null){var I=U(W,Y,z,G,d);if(Array.isArray(I)){var V=I1e(I,2);ie=V[0],Q=V[1]}else ie=I}return ye.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:X},ea(Q)?ye.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,ea(Q)?ye.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ye.createElement("span",{className:"recharts-tooltip-item-value"},ie),ye.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return ye.createElement("ul",{className:"recharts-tooltip-item-list",style:$},q)}return null},_=oT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=oT({margin:0},u),O=!Gn(v),M=O?v:"",A=hr("recharts-default-tooltip",h),P=hr("recharts-tooltip-label",y);O&&x&&d!==void 0&&d!==null&&(M=x(v,d));var F=S?{role:"status","aria-live":"assertive"}:{};return ye.createElement("div",vM({className:A,style:_},F),ye.createElement("p",{className:P,style:C},ye.isValidElement(M)?M:"".concat(M)),E())};function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function Yw(t,e,n){return e=V1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V1e(t){var e=W1e(t,"string");return d0(e)=="symbol"?e:e+""}function W1e(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gx="recharts-tooltip-wrapper",K1e={visibility:"hidden"};function G1e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return hr(Gx,Yw(Yw(Yw(Yw({},"".concat(Gx,"-right"),Pt(n)&&e&&Pt(e.x)&&n>=e.x),"".concat(Gx,"-left"),Pt(n)&&e&&Pt(e.x)&&n<e.x),"".concat(Gx,"-bottom"),Pt(r)&&e&&Pt(e.y)&&r>=e.y),"".concat(Gx,"-top"),Pt(r)&&e&&Pt(e.y)&&r<e.y))}function P7(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Pt(s[r]))return s[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var m=d,h=c[r];return m<h?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,v=c[r]+u;return y>v?Math.max(d,c[r]):Math.max(f,c[r])}function Y1e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function X1e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=P7({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=P7({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Y1e({translateX:d,translateY:f,useTranslate3d:l})):u=K1e,{cssProperties:u,cssClasses:G1e({translateX:d,translateY:f,coordinate:n})}}function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function M7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M7(Object(n),!0).forEach(function(r){xM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EJ(r.key),r)}}function Z1e(t,e,n){return e&&J1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ewe(t,e,n){return e=BN(e),twe(t,SJ()?Reflect.construct(e,n||[],BN(t).constructor):e.apply(t,n))}function twe(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nwe(t)}function nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SJ=function(){return!!t})()}function BN(t){return BN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BN(t)}function rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yM(t,e)}function yM(t,e){return yM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yM(t,e)}function xM(t,e,n){return e=EJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EJ(t){var e=iwe(t,"string");return ny(e)=="symbol"?e:e+""}function iwe(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var I7=1,swe=(function(t){function e(){var n;Q1e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ewe(this,e,[].concat(i)),xM(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xM(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return rwe(e,t),Z1e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>I7||Math.abs(r.height-this.state.lastBoundingBox.height)>I7)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,h=i.offset,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,E=X1e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=E.cssClasses,C=E.cssProperties,O=R7(R7({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return ye.createElement("div",{tabIndex:-1,className:_,style:O,ref:function(A){r.wrapperNode=A}},u)}}])})(w.PureComponent),awe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Np={isSsr:awe()};function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function D7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(n),!0).forEach(function(r){oD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_J(r.key),r)}}function cwe(t,e,n){return e&&lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uwe(t,e,n){return e=zN(e),dwe(t,jJ()?Reflect.construct(e,n||[],zN(t).constructor):e.apply(t,n))}function dwe(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fwe(t)}function fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jJ=function(){return!!t})()}function zN(t){return zN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zN(t)}function hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bM(t,e)}function bM(t,e){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bM(t,e)}function oD(t,e,n){return e=_J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=pwe(t,"string");return ry(e)=="symbol"?e:e+""}function pwe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mwe(t){return t.dataKey}function gwe(t,e){return ye.isValidElement(t)?ye.cloneElement(t,e):typeof t=="function"?ye.createElement(t,e):ye.createElement(H1e,e)}var Zo=(function(t){function e(){return owe(this,e),uwe(this,e,arguments)}return hwe(e,t),cwe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,h=i.offset,y=i.payload,v=i.payloadUniqBy,x=i.position,b=i.reverseDirection,S=i.useTranslate3d,E=i.viewBox,_=i.wrapperStyle,C=y??[];f&&C.length&&(C=gJ(y.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),v,mwe));var O=C.length>0;return ye.createElement(swe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:O,offset:h,position:x,reverseDirection:b,useTranslate3d:S,viewBox:E,wrapperStyle:_},gwe(u,L7(L7({},this.props),{},{payload:C})))}}])})(w.PureComponent);oD(Zo,"displayName","Tooltip");oD(Zo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Np.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lT,F7;function vwe(){if(F7)return lT;F7=1;var t=Sd(),e=function(){return t.Date.now()};return lT=e,lT}var cT,$7;function ywe(){if($7)return cT;$7=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return cT=e,cT}var uT,B7;function xwe(){if(B7)return uT;B7=1;var t=ywe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return uT=n,uT}var dT,z7;function CJ(){if(z7)return dT;z7=1;var t=xwe(),e=bp(),n=Yy(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=s.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):i.test(u)?r:+u}return dT=c,dT}var fT,q7;function bwe(){if(q7)return fT;q7=1;var t=bp(),e=vwe(),n=CJ(),r="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var d,f,m,h,y,v,x=0,b=!1,S=!1,E=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(b=!!u.leading,S="maxWait"in u,m=S?i(n(u.maxWait)||0,c):m,E="trailing"in u?!!u.trailing:E);function _(q){var z=d,G=f;return d=f=void 0,x=q,h=l.apply(G,z),h}function C(q){return x=q,y=setTimeout(A,c),b?_(q):h}function O(q){var z=q-v,G=q-x,X=c-z;return S?s(X,m-G):X}function M(q){var z=q-v,G=q-x;return v===void 0||z>=c||z<0||S&&G>=m}function A(){var q=e();if(M(q))return P(q);y=setTimeout(A,O(q))}function P(q){return y=void 0,E&&d?_(q):(d=f=void 0,h)}function F(){y!==void 0&&clearTimeout(y),x=0,d=v=f=y=void 0}function R(){return y===void 0?h:P(e())}function $(){var q=e(),z=M(q);if(d=arguments,f=this,v=q,z){if(y===void 0)return C(v);if(S)return clearTimeout(y),y=setTimeout(A,c),_(v)}return y===void 0&&(y=setTimeout(A,c)),h}return $.cancel=F,$.flush=R,$}return fT=o,fT}var hT,U7;function wwe(){if(U7)return hT;U7=1;var t=bwe(),e=bp(),n="Expected a function";function r(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return hT=r,hT}var Nwe=wwe();const AJ=zr(Nwe);function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function H7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H7(Object(n),!0).forEach(function(r){Swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Swe(t,e,n){return e=Ewe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ewe(t){var e=jwe(t,"string");return f0(e)=="symbol"?e:e+""}function jwe(t,e){if(f0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _we(t,e){return Twe(t)||kwe(t,e)||Awe(t,e)||Cwe()}function Cwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Awe(t,e){if(t){if(typeof t=="string")return V7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V7(t,e)}}function V7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Twe(t){if(Array.isArray(t))return t}var Cb=w.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,y=t.debounce,v=y===void 0?0:y,x=t.id,b=t.className,S=t.onResize,E=t.style,_=E===void 0?{}:E,C=w.useRef(null),O=w.useRef();O.current=S,w.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var M=w.useState({containerWidth:i.width,containerHeight:i.height}),A=_we(M,2),P=A[0],F=A[1],R=w.useCallback(function(q,z){F(function(G){var X=Math.round(q),U=Math.round(z);return G.containerWidth===X&&G.containerHeight===U?G:{containerWidth:X,containerHeight:U}})},[]);w.useEffect(function(){var q=function(Y){var ie,Q=Y[0].contentRect,I=Q.width,V=Q.height;R(I,V),(ie=O.current)===null||ie===void 0||ie.call(O,I,V)};v>0&&(q=AJ(q,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(q),G=C.current.getBoundingClientRect(),X=G.width,U=G.height;return R(X,U),z.observe(C.current),function(){z.disconnect()}},[R,v]);var $=w.useMemo(function(){var q=P.containerWidth,z=P.containerHeight;if(q<0||z<0)return null;wf(gm(o)||gm(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),wf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=gm(o)?q:o,X=gm(c)?z:c;n&&n>0&&(G?X=G/n:X&&(G=X*n),m&&X>m&&(X=m)),wf(G>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,X,o,c,d,f,n);var U=!Array.isArray(h)&&bf(h.type).endsWith("Chart");return ye.Children.map(h,function(W){return ye.isValidElement(W)?w.cloneElement(W,Xw({width:G,height:X},U?{style:Xw({height:"100%",width:"100%",maxHeight:X,maxWidth:G},W.props.style)}:{})):W})},[n,h,c,m,f,d,P,o]);return ye.createElement("div",{id:x?"".concat(x):void 0,className:hr("recharts-responsive-container",b),style:Xw(Xw({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},$)}),Fh=function(e){return null};Fh.displayName="Cell";function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function W7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W7(Object(n),!0).forEach(function(r){Owe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Owe(t,e,n){return e=Pwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pwe(t){var e=Mwe(t,"string");return h0(e)=="symbol"?e:e+""}function Mwe(t,e){if(h0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qg={widthCache:{},cacheCount:0},Rwe=2e3,Iwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K7="recharts_measurement_span";function Dwe(t){var e=wM({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ab=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Np.isSsr)return{width:0,height:0};var r=Dwe(n),i=JSON.stringify({text:e,copyStyle:r});if(Qg.widthCache[i])return Qg.widthCache[i];try{var s=document.getElementById(K7);s||(s=document.createElement("span"),s.setAttribute("id",K7),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=wM(wM({},Iwe),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Qg.widthCache[i]=c,++Qg.cacheCount>Rwe&&(Qg.cacheCount=0,Qg.widthCache={}),c}catch{return{width:0,height:0}}},Lwe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function qN(t,e){return zwe(t)||Bwe(t,e)||$we(t,e)||Fwe()}function Fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $we(t,e){if(t){if(typeof t=="string")return G7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G7(t,e)}}function G7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function zwe(t){if(Array.isArray(t))return t}function qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hwe(r.key),r)}}function Uwe(t,e,n){return e&&Y7(t.prototype,e),n&&Y7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hwe(t){var e=Vwe(t,"string");return p0(e)=="symbol"?e:e+""}function Vwe(t,e){if(p0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gwe=Object.keys(kJ),Sv="NaN";function Ywe(t,e){return t*kJ[e]}var Qw=(function(){function t(e,n){qwe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Wwe.test(n)&&(this.num=NaN,this.unit=""),Gwe.includes(n)&&(this.num=Ywe(e,n),this.unit="px")}return Uwe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Kwe.exec(n))!==null&&r!==void 0?r:[],s=qN(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])})();function TJ(t){if(t.includes(Sv))return Sv;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=X7.exec(e))!==null&&n!==void 0?n:[],i=qN(r,4),s=i[1],o=i[2],l=i[3],c=Qw.parse(s??""),u=Qw.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Sv;e=e.replace(X7,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=Q7.exec(e))!==null&&f!==void 0?f:[],h=qN(m,4),y=h[1],v=h[2],x=h[3],b=Qw.parse(y??""),S=Qw.parse(x??""),E=v==="+"?b.add(S):b.subtract(S);if(E.isNaN())return Sv;e=e.replace(Q7,E.toString())}return e}var J7=/\(([^()]*)\)/;function Xwe(t){for(var e=t;e.includes("(");){var n=J7.exec(e),r=qN(n,2),i=r[1];e=e.replace(J7,TJ(i))}return e}function Qwe(t){var e=t.replace(/\s+/g,"");return e=Xwe(e),e=TJ(e),e}function Jwe(t){try{return Qwe(t)}catch{return Sv}}function pT(t){var e=Jwe(t.slice(5,-1));return e===Sv?"":e}var Zwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],e2e=["dx","dy","angle","className","breakAll"];function NM(){return NM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NM.apply(this,arguments)}function Z7(t,e){if(t==null)return{};var n=t2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ez(t,e){return s2e(t)||i2e(t,e)||r2e(t,e)||n2e()}function n2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2e(t,e){if(t){if(typeof t=="string")return tz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tz(t,e)}}function tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function s2e(t){if(Array.isArray(t))return t}var OJ=/[ \f\n\r\t\v\u2028\u2029]+/,PJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Gn(n)||(r?s=n.toString().split(""):s=n.toString().split(OJ));var o=s.map(function(c){return{word:c,width:Ab(c,i).width}}),l=r?0:Ab("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},a2e=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Pt(o),f=l,m=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(X,U){var W=U.word,Y=U.width,ie=X[X.length-1];if(ie&&(i==null||s||ie.width+Y+r<Number(i)))ie.words.push(W),ie.width+=Y+r;else{var Q={words:[W],width:Y};X.push(Q)}return X},[])},h=m(n),y=function(G){return G.reduce(function(X,U){return X.width>U.width?X:U})};if(!d)return h;for(var v="",x=function(G){var X=f.slice(0,G),U=PJ({breakAll:u,style:c,children:X+v}).wordsWithComputedWidth,W=m(U),Y=W.length>o||y(W).width>Number(i);return[Y,W]},b=0,S=f.length-1,E=0,_;b<=S&&E<=f.length-1;){var C=Math.floor((b+S)/2),O=C-1,M=x(O),A=ez(M,2),P=A[0],F=A[1],R=x(C),$=ez(R,1),q=$[0];if(!P&&!q&&(b=C+1),P&&q&&(S=C-1),!P&&q){_=F;break}E++}return _||h},nz=function(e){var n=Gn(e)?[]:e.toString().split(OJ);return[{words:n}]},o2e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!Np.isSsr){var c,u,d=PJ({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return nz(i);return a2e({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return nz(i)},rz="#808080",UN=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,y=e.verticalAnchor,v=y===void 0?"end":y,x=e.fill,b=x===void 0?rz:x,S=Z7(e,Zwe),E=w.useMemo(function(){return o2e({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),_=S.dx,C=S.dy,O=S.angle,M=S.className,A=S.breakAll,P=Z7(S,e2e);if(!ea(r)||!ea(s))return null;var F=r+(Pt(_)?_:0),R=s+(Pt(C)?C:0),$;switch(v){case"start":$=pT("calc(".concat(u,")"));break;case"middle":$=pT("calc(".concat((E.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:$=pT("calc(".concat(E.length-1," * -").concat(l,")"));break}var q=[];if(f){var z=E[0].width,G=S.width;q.push("scale(".concat((Pt(G)?G/z:1)/z,")"))}return O&&q.push("rotate(".concat(O,", ").concat(F,", ").concat(R,")")),q.length&&(P.transform=q.join(" ")),ye.createElement("text",NM({},Jn(P,!0),{x:F,y:R,className:hr("recharts-text",M),textAnchor:h,fill:b.includes("url")?rz:b}),E.map(function(X,U){var W=X.words.join(A?"":" ");return ye.createElement("tspan",{x:F,dy:U===0?$:l,key:"".concat(W,"-").concat(U)},W)}))};function Qh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function l2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lD(t){let e,n,r;t.length!==2?(e=Qh,n=(l,c)=>Qh(t(l),c),r=(l,c)=>t(l)-c):(e=t===Qh||t===l2e?t:c2e,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function c2e(){return 0}function MJ(t){return t===null?NaN:+t}function*u2e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const d2e=lD(Qh),M1=d2e.right;lD(MJ).center;class iz extends Map{constructor(e,n=p2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sz(this,e))}has(e){return super.has(sz(this,e))}set(e,n){return super.set(f2e(this,e),n)}delete(e){return super.delete(h2e(this,e))}}function sz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function f2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function h2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function p2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function m2e(t=Qh){if(t===Qh)return RJ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function RJ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const g2e=Math.sqrt(50),v2e=Math.sqrt(10),y2e=Math.sqrt(2);function HN(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=g2e?10:s>=v2e?5:s>=y2e?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?HN(t,e,n*2):[l,c,u]}function SM(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?HN(e,t,n):HN(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function EM(t,e,n){return e=+e,t=+t,n=+n,HN(t,e,n)[2]}function jM(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?EM(e,t,n):EM(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function az(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function IJ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?RJ:m2e(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(e-u*f/c+m)),y=Math.min(r,Math.floor(e+(c-u)*f/c+m));IJ(t,e,h,y,i)}const s=t[e];let o=n,l=r;for(Yx(t,n,e),i(t[r],s)>0&&Yx(t,n,r);o<l;){for(Yx(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Yx(t,n,l):(++l,Yx(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Yx(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function x2e(t,e,n){if(t=Float64Array.from(u2e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return oz(t);if(e>=1)return az(t);var r,i=(r-1)*e,s=Math.floor(i),o=az(IJ(t,s).subarray(0,s+1)),l=oz(t.subarray(s+1));return o+(l-o)*(i-s)}}function b2e(t,e,n=MJ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function w2e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Pc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ff(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _M=Symbol("implicit");function cD(){var t=new iz,e=[],n=[],r=_M;function i(s){let o=t.get(s);if(o===void 0){if(r!==_M)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new iz;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cD(e,n).unknown(r)},Pc.apply(i,arguments),i}function m0(){var t=cD().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=i<r,y=h?i:r,v=h?r:i;s=(v-y)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),y+=(v-y-s*(m-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var x=w2e(m).map(function(b){return y+s*b});return n(h?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return m0(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Pc.apply(f(),arguments)}function DJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DJ(e())},t}function kb(){return DJ(m0.apply(null,arguments).paddingInner(1))}function uD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function LJ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function R1(){}var g0=.7,VN=1/g0,Dv="\\s*([+-]?\\d+)\\s*",v0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N2e=/^#([0-9a-f]{3,8})$/,S2e=new RegExp(`^rgb\\(${Dv},${Dv},${Dv}\\)$`),E2e=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),j2e=new RegExp(`^rgba\\(${Dv},${Dv},${Dv},${v0}\\)$`),_2e=new RegExp(`^rgba\\(${cd},${cd},${cd},${v0}\\)$`),C2e=new RegExp(`^hsl\\(${v0},${cd},${cd}\\)$`),A2e=new RegExp(`^hsla\\(${v0},${cd},${cd},${v0}\\)$`),lz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uD(R1,y0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cz,formatHex:cz,formatHex8:k2e,formatHsl:T2e,formatRgb:uz,toString:uz});function cz(){return this.rgb().formatHex()}function k2e(){return this.rgb().formatHex8()}function T2e(){return FJ(this).formatHsl()}function uz(){return this.rgb().formatRgb()}function y0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=N2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dz(e):n===3?new rl(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=S2e.exec(t))?new rl(e[1],e[2],e[3],1):(e=E2e.exec(t))?new rl(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=j2e.exec(t))?Jw(e[1],e[2],e[3],e[4]):(e=_2e.exec(t))?Jw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=C2e.exec(t))?pz(e[1],e[2]/100,e[3]/100,1):(e=A2e.exec(t))?pz(e[1],e[2]/100,e[3]/100,e[4]):lz.hasOwnProperty(t)?dz(lz[t]):t==="transparent"?new rl(NaN,NaN,NaN,0):null}function dz(t){return new rl(t>>16&255,t>>8&255,t&255,1)}function Jw(t,e,n,r){return r<=0&&(t=e=n=NaN),new rl(t,e,n,r)}function O2e(t){return t instanceof R1||(t=y0(t)),t?(t=t.rgb(),new rl(t.r,t.g,t.b,t.opacity)):new rl}function CM(t,e,n,r){return arguments.length===1?O2e(t):new rl(t,e,n,r??1)}function rl(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uD(rl,CM,LJ(R1,{brighter(t){return t=t==null?VN:Math.pow(VN,t),new rl(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?g0:Math.pow(g0,t),new rl(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rl(Cm(this.r),Cm(this.g),Cm(this.b),WN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fz,formatHex:fz,formatHex8:P2e,formatRgb:hz,toString:hz}));function fz(){return`#${vm(this.r)}${vm(this.g)}${vm(this.b)}`}function P2e(){return`#${vm(this.r)}${vm(this.g)}${vm(this.b)}${vm((isNaN(this.opacity)?1:this.opacity)*255)}`}function hz(){const t=WN(this.opacity);return`${t===1?"rgb(":"rgba("}${Cm(this.r)}, ${Cm(this.g)}, ${Cm(this.b)}${t===1?")":`, ${t})`}`}function WN(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vm(t){return t=Cm(t),(t<16?"0":"")+t.toString(16)}function pz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new uu(t,e,n,r)}function FJ(t){if(t instanceof uu)return new uu(t.h,t.s,t.l,t.opacity);if(t instanceof R1||(t=y0(t)),!t)return new uu;if(t instanceof uu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new uu(o,l,c,t.opacity)}function M2e(t,e,n,r){return arguments.length===1?FJ(t):new uu(t,e,n,r??1)}function uu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uD(uu,M2e,LJ(R1,{brighter(t){return t=t==null?VN:Math.pow(VN,t),new uu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?g0:Math.pow(g0,t),new uu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new rl(mT(t>=240?t-240:t+120,i,r),mT(t,i,r),mT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new uu(mz(this.h),Zw(this.s),Zw(this.l),WN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=WN(this.opacity);return`${t===1?"hsl(":"hsla("}${mz(this.h)}, ${Zw(this.s)*100}%, ${Zw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mz(t){return t=(t||0)%360,t<0?t+360:t}function Zw(t){return Math.max(0,Math.min(1,t||0))}function mT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dD=t=>()=>t;function R2e(t,e){return function(n){return t+n*e}}function I2e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function D2e(t){return(t=+t)==1?$J:function(e,n){return n-e?I2e(e,n,t):dD(isNaN(e)?n:e)}}function $J(t,e){var n=e-t;return n?R2e(t,n):dD(isNaN(t)?e:t)}const gz=(function t(e){var n=D2e(e);function r(i,s){var o=n((i=CM(i)).r,(s=CM(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=$J(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r})(1);function L2e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function F2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $2e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Zy(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function B2e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function KN(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function z2e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zy(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var AM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gT=new RegExp(AM.source,"g");function q2e(t){return function(){return t}}function U2e(t){return function(e){return t(e)+""}}function H2e(t,e){var n=AM.lastIndex=gT.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=AM.exec(t))&&(i=gT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:KN(r,i)})),n=gT.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?U2e(c[0].x):q2e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Zy(t,e){var n=typeof e,r;return e==null||n==="boolean"?dD(e):(n==="number"?KN:n==="string"?(r=y0(e))?(e=r,gz):H2e:e instanceof y0?gz:e instanceof Date?B2e:F2e(e)?L2e:Array.isArray(e)?$2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?z2e:KN)(t,e)}function fD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function V2e(t,e){e===void 0&&(e=t,t=Zy);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function W2e(t){return function(){return t}}function GN(t){return+t}var vz=[0,1];function ko(t){return t}function kM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:W2e(isNaN(e)?NaN:.5)}function K2e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function G2e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=kM(i,r),s=n(o,s)):(r=kM(r,i),s=n(s,o)),function(l){return s(r(l))}}function Y2e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=kM(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=M1(t,l,1,r)-1;return s[c](i[c](l))}}function I1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rj(){var t=vz,e=vz,n=Zy,r,i,s,o=ko,l,c,u;function d(){var m=Math.min(t.length,e.length);return o!==ko&&(o=K2e(t[0],t[m-1])),l=m>2?Y2e:G2e,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(r),e,n)))(r(o(m)))}return f.invert=function(m){return o(i((u||(u=l(e,t.map(r),KN)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,GN),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=fD,d()},f.clamp=function(m){return arguments.length?(o=m?!0:ko,d()):o!==ko},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return r=m,i=h,d()}}function hD(){return Rj()(ko,ko)}function X2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function YN(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function iy(t){return t=YN(Math.abs(t)),t?t[1]:NaN}function Q2e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function J2e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Z2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x0(t){if(!(e=Z2e.exec(t)))throw new Error("invalid format: "+t);var e;return new pD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}x0.prototype=pD.prototype;function pD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eNe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var BJ;function tNe(t,e){var n=YN(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(BJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+YN(t,Math.max(0,e+s-1))[0]}function yz(t,e){var n=YN(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:X2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yz(t*100,e),r:yz,s:tNe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bz(t){return t}var wz=Array.prototype.map,Nz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nNe(t){var e=t.grouping===void 0||t.thousands===void 0?bz:Q2e(wz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?bz:J2e(wz.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=x0(f);var m=f.fill,h=f.align,y=f.sign,v=f.symbol,x=f.zero,b=f.width,S=f.comma,E=f.precision,_=f.trim,C=f.type;C==="n"?(S=!0,C="g"):xz[C]||(E===void 0&&(E=12),_=!0,C="g"),(x||m==="0"&&h==="=")&&(x=!0,m="0",h="=");var O=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",M=v==="$"?r:/[%p]/.test(C)?o:"",A=xz[C],P=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function F(R){var $=O,q=M,z,G,X;if(C==="c")q=A(R)+q,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?c:A(Math.abs(R),E),_&&(R=eNe(R)),U&&+R==0&&y!=="+"&&(U=!1),$=(U?y==="("?y:l:y==="-"||y==="("?"":y)+$,q=(C==="s"?Nz[8+BJ/3]:"")+q+(U&&y==="("?")":""),P){for(z=-1,G=R.length;++z<G;)if(X=R.charCodeAt(z),48>X||X>57){q=(X===46?i+R.slice(z+1):R.slice(z))+q,R=R.slice(0,z);break}}}S&&!x&&(R=e(R,1/0));var W=$.length+R.length+q.length,Y=W<b?new Array(b-W+1).join(m):"";switch(S&&x&&(R=e(Y+R,Y.length?b-q.length:1/0),Y=""),h){case"<":R=$+R+q+Y;break;case"=":R=$+Y+R+q;break;case"^":R=Y.slice(0,W=Y.length>>1)+$+R+q+Y.slice(W);break;default:R=Y+$+R+q;break}return s(R)}return F.toString=function(){return f+""},F}function d(f,m){var h=u((f=x0(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(iy(m)/3)))*3,v=Math.pow(10,-y),x=Nz[8+y/3];return function(b){return h(v*b)+x}}return{format:u,formatPrefix:d}}var e2,mD,zJ;rNe({thousands:",",grouping:[3],currency:["$",""]});function rNe(t){return e2=nNe(t),mD=e2.format,zJ=e2.formatPrefix,e2}function iNe(t){return Math.max(0,-iy(Math.abs(t)))}function sNe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(iy(e)/3)))*3-iy(Math.abs(t)))}function aNe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,iy(e)-iy(t))+1}function qJ(t,e,n,r){var i=jM(t,e,n),s;switch(r=x0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=sNe(i,o))&&(r.precision=s),zJ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=aNe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=iNe(i))&&(r.precision=s-(r.type==="%")*2);break}}return mD(r)}function Sp(t){var e=t.domain;return t.ticks=function(n){var r=e();return SM(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return qJ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=EM(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function XN(){var t=hD();return t.copy=function(){return I1(t,XN())},Pc.apply(t,arguments),Sp(t)}function UJ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,GN),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return UJ(t).unknown(e)},t=arguments.length?Array.from(t,GN):[0,1],Sp(n)}function HJ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Sz(t){return Math.log(t)}function Ez(t){return Math.exp(t)}function oNe(t){return-Math.log(-t)}function lNe(t){return-Math.exp(-t)}function cNe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uNe(t){return t===10?cNe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dNe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jz(t){return(e,n)=>-t(-e,n)}function gD(t){const e=t(Sz,Ez),n=e.domain;let r=10,i,s;function o(){return i=dNe(r),s=uNe(r),n()[0]<0?(i=jz(i),s=jz(s),t(oNe,lNe)):t(Sz,Ez),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),h=i(d),y,v;const x=l==null?10:+l;let b=[];if(!(r%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(y=1;y<r;++y)if(v=m<0?y/s(-m):y*s(m),!(v<u)){if(v>d)break;b.push(v)}}else for(;m<=h;++m)for(y=r-1;y>=1;--y)if(v=m>0?y/s(-m):y*s(m),!(v<u)){if(v>d)break;b.push(v)}b.length*2<x&&(b=SM(u,d,x))}else b=SM(m,h,Math.min(h-m,x)).map(s);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=x0(c)).precision==null&&(c.trim=!0),c=mD(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(HJ(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function VJ(){const t=gD(Rj()).domain([1,10]);return t.copy=()=>I1(t,VJ()).base(t.base()),Pc.apply(t,arguments),t}function _z(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Cz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vD(t){var e=1,n=t(_z(e),Cz(e));return n.constant=function(r){return arguments.length?t(_z(e=+r),Cz(e)):e},Sp(n)}function WJ(){var t=vD(Rj());return t.copy=function(){return I1(t,WJ()).constant(t.constant())},Pc.apply(t,arguments)}function Az(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fNe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hNe(t){return t<0?-t*t:t*t}function yD(t){var e=t(ko,ko),n=1;function r(){return n===1?t(ko,ko):n===.5?t(fNe,hNe):t(Az(n),Az(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sp(e)}function xD(){var t=yD(Rj());return t.copy=function(){return I1(t,xD()).exponent(t.exponent())},Pc.apply(t,arguments),t}function pNe(){return xD.apply(null,arguments).exponent(.5)}function kz(t){return Math.sign(t)*t*t}function mNe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KJ(){var t=hD(),e=[0,1],n=!1,r;function i(s){var o=mNe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(kz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,GN)).map(kz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KJ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pc.apply(i,arguments),Sp(i)}function GJ(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=b2e(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[M1(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Qh),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return GJ().domain(t).range(e).unknown(r)},Pc.apply(s,arguments)}function YJ(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[M1(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return YJ().domain([t,e]).range(i).unknown(s)},Pc.apply(Sp(o),arguments)}function XJ(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[M1(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return XJ().domain(t).range(e).unknown(n)},Pc.apply(i,arguments)}const vT=new Date,yT=new Date;function sa(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>sa(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(vT.setTime(+s),yT.setTime(+o),t(vT),t(yT),Math.floor(n(vT,yT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const QN=sa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);QN.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sa(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):QN);QN.range;const gf=1e3,bc=gf*60,vf=bc*60,Tf=vf*24,bD=Tf*7,Tz=Tf*30,xT=Tf*365,ym=sa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gf)},(t,e)=>(e-t)/gf,t=>t.getUTCSeconds());ym.range;const wD=sa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gf)},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getMinutes());wD.range;const ND=sa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getUTCMinutes());ND.range;const SD=sa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gf-t.getMinutes()*bc)},(t,e)=>{t.setTime(+t+e*vf)},(t,e)=>(e-t)/vf,t=>t.getHours());SD.range;const ED=sa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vf)},(t,e)=>(e-t)/vf,t=>t.getUTCHours());ED.range;const D1=sa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bc)/Tf,t=>t.getDate()-1);D1.range;const Ij=sa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tf,t=>t.getUTCDate()-1);Ij.range;const QJ=sa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tf,t=>Math.floor(t/Tf));QJ.range;function pg(t){return sa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bc)/bD)}const Dj=pg(0),JN=pg(1),gNe=pg(2),vNe=pg(3),sy=pg(4),yNe=pg(5),xNe=pg(6);Dj.range;JN.range;gNe.range;vNe.range;sy.range;yNe.range;xNe.range;function mg(t){return sa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bD)}const Lj=mg(0),ZN=mg(1),bNe=mg(2),wNe=mg(3),ay=mg(4),NNe=mg(5),SNe=mg(6);Lj.range;ZN.range;bNe.range;wNe.range;ay.range;NNe.range;SNe.range;const jD=sa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jD.range;const _D=sa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_D.range;const Of=sa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Of.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Of.range;const Pf=sa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Pf.range;function JJ(t,e,n,r,i,s){const o=[[ym,1,gf],[ym,5,5*gf],[ym,15,15*gf],[ym,30,30*gf],[s,1,bc],[s,5,5*bc],[s,15,15*bc],[s,30,30*bc],[i,1,vf],[i,3,3*vf],[i,6,6*vf],[i,12,12*vf],[r,1,Tf],[r,2,2*Tf],[n,1,bD],[e,1,Tz],[e,3,3*Tz],[t,1,xT]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),y=h?h.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,h=lD(([,,x])=>x).right(o,m);if(h===o.length)return t.every(jM(u/xT,d/xT,f));if(h===0)return QN.every(Math.max(jM(u,d,f),1));const[y,v]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return y.every(v)}return[l,c]}const[ENe,jNe]=JJ(Pf,_D,Lj,QJ,ED,ND),[_Ne,CNe]=JJ(Of,jD,Dj,D1,SD,wD);function bT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function wT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xx(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ANe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Qx(i),d=Jx(i),f=Qx(s),m=Jx(s),h=Qx(o),y=Jx(o),v=Qx(l),x=Jx(l),b=Qx(c),S=Jx(c),E={a:U,A:W,b:Y,B:ie,c:null,d:Dz,e:Dz,f:QNe,g:oSe,G:cSe,H:GNe,I:YNe,j:XNe,L:ZJ,m:JNe,M:ZNe,p:Q,q:I,Q:$z,s:Bz,S:eSe,u:tSe,U:nSe,V:rSe,w:iSe,W:sSe,x:null,X:null,y:aSe,Y:lSe,Z:uSe,"%":Fz},_={a:V,A:J,b:re,B:fe,c:null,d:Lz,e:Lz,f:pSe,g:ESe,G:_Se,H:dSe,I:fSe,j:hSe,L:tZ,m:mSe,M:gSe,p:pe,q:xe,Q:$z,s:Bz,S:vSe,u:ySe,U:xSe,V:bSe,w:wSe,W:NSe,x:null,X:null,y:SSe,Y:jSe,Z:CSe,"%":Fz},C={a:F,A:R,b:$,B:q,c:z,d:Rz,e:Rz,f:HNe,g:Mz,G:Pz,H:Iz,I:Iz,j:BNe,L:UNe,m:$Ne,M:zNe,p:P,q:FNe,Q:WNe,s:KNe,S:qNe,u:MNe,U:RNe,V:INe,w:PNe,W:DNe,x:G,X,y:Mz,Y:Pz,Z:LNe,"%":VNe};E.x=O(n,E),E.X=O(r,E),E.c=O(e,E),_.x=O(n,_),_.X=O(r,_),_.c=O(e,_);function O(de,we){return function(Ce){var ae=[],Pe=-1,ee=0,ne=de.length,Re,ft,et;for(Ce instanceof Date||(Ce=new Date(+Ce));++Pe<ne;)de.charCodeAt(Pe)===37&&(ae.push(de.slice(ee,Pe)),(ft=Oz[Re=de.charAt(++Pe)])!=null?Re=de.charAt(++Pe):ft=Re==="e"?" ":"0",(et=we[Re])&&(Re=et(Ce,ft)),ae.push(Re),ee=Pe+1);return ae.push(de.slice(ee,Pe)),ae.join("")}}function M(de,we){return function(Ce){var ae=Xx(1900,void 0,1),Pe=A(ae,de,Ce+="",0),ee,ne;if(Pe!=Ce.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(we&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(ee=wT(Xx(ae.y,0,1)),ne=ee.getUTCDay(),ee=ne>4||ne===0?ZN.ceil(ee):ZN(ee),ee=Ij.offset(ee,(ae.V-1)*7),ae.y=ee.getUTCFullYear(),ae.m=ee.getUTCMonth(),ae.d=ee.getUTCDate()+(ae.w+6)%7):(ee=bT(Xx(ae.y,0,1)),ne=ee.getDay(),ee=ne>4||ne===0?JN.ceil(ee):JN(ee),ee=D1.offset(ee,(ae.V-1)*7),ae.y=ee.getFullYear(),ae.m=ee.getMonth(),ae.d=ee.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),ne="Z"in ae?wT(Xx(ae.y,0,1)).getUTCDay():bT(Xx(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(ne+5)%7:ae.w+ae.U*7-(ne+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,wT(ae)):bT(ae)}}function A(de,we,Ce,ae){for(var Pe=0,ee=we.length,ne=Ce.length,Re,ft;Pe<ee;){if(ae>=ne)return-1;if(Re=we.charCodeAt(Pe++),Re===37){if(Re=we.charAt(Pe++),ft=C[Re in Oz?we.charAt(Pe++):Re],!ft||(ae=ft(de,Ce,ae))<0)return-1}else if(Re!=Ce.charCodeAt(ae++))return-1}return ae}function P(de,we,Ce){var ae=u.exec(we.slice(Ce));return ae?(de.p=d.get(ae[0].toLowerCase()),Ce+ae[0].length):-1}function F(de,we,Ce){var ae=h.exec(we.slice(Ce));return ae?(de.w=y.get(ae[0].toLowerCase()),Ce+ae[0].length):-1}function R(de,we,Ce){var ae=f.exec(we.slice(Ce));return ae?(de.w=m.get(ae[0].toLowerCase()),Ce+ae[0].length):-1}function $(de,we,Ce){var ae=b.exec(we.slice(Ce));return ae?(de.m=S.get(ae[0].toLowerCase()),Ce+ae[0].length):-1}function q(de,we,Ce){var ae=v.exec(we.slice(Ce));return ae?(de.m=x.get(ae[0].toLowerCase()),Ce+ae[0].length):-1}function z(de,we,Ce){return A(de,e,we,Ce)}function G(de,we,Ce){return A(de,n,we,Ce)}function X(de,we,Ce){return A(de,r,we,Ce)}function U(de){return o[de.getDay()]}function W(de){return s[de.getDay()]}function Y(de){return c[de.getMonth()]}function ie(de){return l[de.getMonth()]}function Q(de){return i[+(de.getHours()>=12)]}function I(de){return 1+~~(de.getMonth()/3)}function V(de){return o[de.getUTCDay()]}function J(de){return s[de.getUTCDay()]}function re(de){return c[de.getUTCMonth()]}function fe(de){return l[de.getUTCMonth()]}function pe(de){return i[+(de.getUTCHours()>=12)]}function xe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var we=O(de+="",E);return we.toString=function(){return de},we},parse:function(de){var we=M(de+="",!1);return we.toString=function(){return de},we},utcFormat:function(de){var we=O(de+="",_);return we.toString=function(){return de},we},utcParse:function(de){var we=M(de+="",!0);return we.toString=function(){return de},we}}}var Oz={"-":"",_:" ",0:"0"},_a=/^\s*\d+/,kNe=/^%/,TNe=/[\\^$*+?|[\]().{}]/g;function Rr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ONe(t){return t.replace(TNe,"\\$&")}function Qx(t){return new RegExp("^(?:"+t.map(ONe).join("|")+")","i")}function Jx(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function PNe(t,e,n){var r=_a.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function MNe(t,e,n){var r=_a.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function RNe(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function INe(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function DNe(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Pz(t,e,n){var r=_a.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Mz(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function LNe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FNe(t,e,n){var r=_a.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $Ne(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Rz(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function BNe(t,e,n){var r=_a.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Iz(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zNe(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qNe(t,e,n){var r=_a.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function UNe(t,e,n){var r=_a.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function HNe(t,e,n){var r=_a.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VNe(t,e,n){var r=kNe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function WNe(t,e,n){var r=_a.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function KNe(t,e,n){var r=_a.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Dz(t,e){return Rr(t.getDate(),e,2)}function GNe(t,e){return Rr(t.getHours(),e,2)}function YNe(t,e){return Rr(t.getHours()%12||12,e,2)}function XNe(t,e){return Rr(1+D1.count(Of(t),t),e,3)}function ZJ(t,e){return Rr(t.getMilliseconds(),e,3)}function QNe(t,e){return ZJ(t,e)+"000"}function JNe(t,e){return Rr(t.getMonth()+1,e,2)}function ZNe(t,e){return Rr(t.getMinutes(),e,2)}function eSe(t,e){return Rr(t.getSeconds(),e,2)}function tSe(t){var e=t.getDay();return e===0?7:e}function nSe(t,e){return Rr(Dj.count(Of(t)-1,t),e,2)}function eZ(t){var e=t.getDay();return e>=4||e===0?sy(t):sy.ceil(t)}function rSe(t,e){return t=eZ(t),Rr(sy.count(Of(t),t)+(Of(t).getDay()===4),e,2)}function iSe(t){return t.getDay()}function sSe(t,e){return Rr(JN.count(Of(t)-1,t),e,2)}function aSe(t,e){return Rr(t.getFullYear()%100,e,2)}function oSe(t,e){return t=eZ(t),Rr(t.getFullYear()%100,e,2)}function lSe(t,e){return Rr(t.getFullYear()%1e4,e,4)}function cSe(t,e){var n=t.getDay();return t=n>=4||n===0?sy(t):sy.ceil(t),Rr(t.getFullYear()%1e4,e,4)}function uSe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rr(e/60|0,"0",2)+Rr(e%60,"0",2)}function Lz(t,e){return Rr(t.getUTCDate(),e,2)}function dSe(t,e){return Rr(t.getUTCHours(),e,2)}function fSe(t,e){return Rr(t.getUTCHours()%12||12,e,2)}function hSe(t,e){return Rr(1+Ij.count(Pf(t),t),e,3)}function tZ(t,e){return Rr(t.getUTCMilliseconds(),e,3)}function pSe(t,e){return tZ(t,e)+"000"}function mSe(t,e){return Rr(t.getUTCMonth()+1,e,2)}function gSe(t,e){return Rr(t.getUTCMinutes(),e,2)}function vSe(t,e){return Rr(t.getUTCSeconds(),e,2)}function ySe(t){var e=t.getUTCDay();return e===0?7:e}function xSe(t,e){return Rr(Lj.count(Pf(t)-1,t),e,2)}function nZ(t){var e=t.getUTCDay();return e>=4||e===0?ay(t):ay.ceil(t)}function bSe(t,e){return t=nZ(t),Rr(ay.count(Pf(t),t)+(Pf(t).getUTCDay()===4),e,2)}function wSe(t){return t.getUTCDay()}function NSe(t,e){return Rr(ZN.count(Pf(t)-1,t),e,2)}function SSe(t,e){return Rr(t.getUTCFullYear()%100,e,2)}function ESe(t,e){return t=nZ(t),Rr(t.getUTCFullYear()%100,e,2)}function jSe(t,e){return Rr(t.getUTCFullYear()%1e4,e,4)}function _Se(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ay(t):ay.ceil(t),Rr(t.getUTCFullYear()%1e4,e,4)}function CSe(){return"+0000"}function Fz(){return"%"}function $z(t){return+t}function Bz(t){return Math.floor(+t/1e3)}var Jg,rZ,iZ;ASe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ASe(t){return Jg=ANe(t),rZ=Jg.format,Jg.parse,iZ=Jg.utcFormat,Jg.utcParse,Jg}function kSe(t){return new Date(t)}function TSe(t){return t instanceof Date?+t:+new Date(+t)}function CD(t,e,n,r,i,s,o,l,c,u){var d=hD(),f=d.invert,m=d.domain,h=u(".%L"),y=u(":%S"),v=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),S=u("%b %d"),E=u("%B"),_=u("%Y");function C(O){return(c(O)<O?h:l(O)<O?y:o(O)<O?v:s(O)<O?x:r(O)<O?i(O)<O?b:S:n(O)<O?E:_)(O)}return d.invert=function(O){return new Date(f(O))},d.domain=function(O){return arguments.length?m(Array.from(O,TSe)):m().map(kSe)},d.ticks=function(O){var M=m();return t(M[0],M[M.length-1],O??10)},d.tickFormat=function(O,M){return M==null?C:u(M)},d.nice=function(O){var M=m();return(!O||typeof O.range!="function")&&(O=e(M[0],M[M.length-1],O??10)),O?m(HJ(M,O)):d},d.copy=function(){return I1(d,CD(t,e,n,r,i,s,o,l,c,u))},d}function OSe(){return Pc.apply(CD(_Ne,CNe,Of,jD,Dj,D1,SD,wD,ym,rZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PSe(){return Pc.apply(CD(ENe,jNe,Pf,_D,Lj,Ij,ED,ND,ym,iZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fj(){var t=0,e=1,n,r,i,s,o=ko,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,y;return arguments.length?([h,y]=m,o=f(h,y),u):[o(0),o(1)]}}return u.range=d(Zy),u.rangeRound=d(fD),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ep(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sZ(){var t=Sp(Fj()(ko));return t.copy=function(){return Ep(t,sZ())},Ff.apply(t,arguments)}function aZ(){var t=gD(Fj()).domain([1,10]);return t.copy=function(){return Ep(t,aZ()).base(t.base())},Ff.apply(t,arguments)}function oZ(){var t=vD(Fj());return t.copy=function(){return Ep(t,oZ()).constant(t.constant())},Ff.apply(t,arguments)}function AD(){var t=yD(Fj());return t.copy=function(){return Ep(t,AD()).exponent(t.exponent())},Ff.apply(t,arguments)}function MSe(){return AD.apply(null,arguments).exponent(.5)}function lZ(){var t=[],e=ko;function n(r){if(r!=null&&!isNaN(r=+r))return e((M1(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qh),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>x2e(t,s/r))},n.copy=function(){return lZ(e).domain(t)},Ff.apply(n,arguments)}function $j(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=ko,d,f=!1,m;function h(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-s)*(r*v<r*s?l:c),u(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),s=d(e=+e),o=d(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,h):[t,e,n]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(u=v,h):u};function y(v){return function(x){var b,S,E;return arguments.length?([b,S,E]=x,u=V2e(v,[b,S,E]),h):[u(0),u(.5),u(1)]}}return h.range=y(Zy),h.rangeRound=y(fD),h.unknown=function(v){return arguments.length?(m=v,h):m},function(v){return d=v,i=v(t),s=v(e),o=v(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function cZ(){var t=Sp($j()(ko));return t.copy=function(){return Ep(t,cZ())},Ff.apply(t,arguments)}function uZ(){var t=gD($j()).domain([.1,1,10]);return t.copy=function(){return Ep(t,uZ()).base(t.base())},Ff.apply(t,arguments)}function dZ(){var t=vD($j());return t.copy=function(){return Ep(t,dZ()).constant(t.constant())},Ff.apply(t,arguments)}function kD(){var t=yD($j());return t.copy=function(){return Ep(t,kD()).exponent(t.exponent())},Ff.apply(t,arguments)}function RSe(){return kD.apply(null,arguments).exponent(.5)}const zz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:m0,scaleDiverging:cZ,scaleDivergingLog:uZ,scaleDivergingPow:kD,scaleDivergingSqrt:RSe,scaleDivergingSymlog:dZ,scaleIdentity:UJ,scaleImplicit:_M,scaleLinear:XN,scaleLog:VJ,scaleOrdinal:cD,scalePoint:kb,scalePow:xD,scaleQuantile:GJ,scaleQuantize:YJ,scaleRadial:KJ,scaleSequential:sZ,scaleSequentialLog:aZ,scaleSequentialPow:AD,scaleSequentialQuantile:lZ,scaleSequentialSqrt:MSe,scaleSequentialSymlog:oZ,scaleSqrt:pNe,scaleSymlog:WJ,scaleThreshold:XJ,scaleTime:OSe,scaleUtc:PSe,tickFormat:qJ},Symbol.toStringTag,{value:"Module"}));var NT,qz;function fZ(){if(qz)return NT;qz=1;var t=Yy();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var l=n[s],c=r(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=l}return d}return NT=e,NT}var ST,Uz;function ISe(){if(Uz)return ST;Uz=1;function t(e,n){return e>n}return ST=t,ST}var ET,Hz;function DSe(){if(Hz)return ET;Hz=1;var t=fZ(),e=ISe(),n=Jy();function r(i){return i&&i.length?t(i,n,e):void 0}return ET=r,ET}var LSe=DSe();const $h=zr(LSe);var jT,Vz;function FSe(){if(Vz)return jT;Vz=1;function t(e,n){return e<n}return jT=t,jT}var _T,Wz;function $Se(){if(Wz)return _T;Wz=1;var t=fZ(),e=FSe(),n=Jy();function r(i){return i&&i.length?t(i,n,e):void 0}return _T=r,_T}var BSe=$Se();const Bj=zr(BSe);var CT,Kz;function zSe(){if(Kz)return CT;Kz=1;var t=WI(),e=wp(),n=wJ(),r=fl();function i(s,o){var l=r(s)?t:n;return l(s,e(o,3))}return CT=i,CT}var AT,Gz;function qSe(){if(Gz)return AT;Gz=1;var t=xJ(),e=zSe();function n(r,i){return t(e(r,i),1)}return AT=n,AT}var USe=qSe();const HSe=zr(USe);var kT,Yz;function VSe(){if(Yz)return kT;Yz=1;var t=iD();function e(n,r){return t(n,r)}return kT=e,kT}var WSe=VSe();const Hm=zr(WSe);var ex=1e9,KSe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OD,Hi=!0,Tc="[DecimalError] ",Am=Tc+"Invalid argument: ",TD=Tc+"Exponent out of range: ",tx=Math.floor,om=Math.pow,GSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rl,ga=1e7,Pi=7,hZ=9007199254740991,eS=tx(hZ/Pi),Jt={};Jt.absoluteValue=Jt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Jt.comparedTo=Jt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Jt.decimalPlaces=Jt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Pi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Jt.dividedBy=Jt.div=function(t){return Sf(this,new this.constructor(t))};Jt.dividedToIntegerBy=Jt.idiv=function(t){var e=this,n=e.constructor;return pi(Sf(e,new n(t),0,1),n.precision)};Jt.equals=Jt.eq=function(t){return!this.cmp(t)};Jt.exponent=function(){return Bs(this)};Jt.greaterThan=Jt.gt=function(t){return this.cmp(t)>0};Jt.greaterThanOrEqualTo=Jt.gte=function(t){return this.cmp(t)>=0};Jt.isInteger=Jt.isint=function(){return this.e>this.d.length-2};Jt.isNegative=Jt.isneg=function(){return this.s<0};Jt.isPositive=Jt.ispos=function(){return this.s>0};Jt.isZero=function(){return this.s===0};Jt.lessThan=Jt.lt=function(t){return this.cmp(t)<0};Jt.lessThanOrEqualTo=Jt.lte=function(t){return this.cmp(t)<1};Jt.logarithm=Jt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rl))throw Error(Tc+"NaN");if(n.s<1)throw Error(Tc+(n.s?"NaN":"-Infinity"));return n.eq(Rl)?new r(0):(Hi=!1,e=Sf(b0(n,s),b0(t,s),s),Hi=!0,pi(e,i))};Jt.minus=Jt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gZ(e,t):pZ(e,(t.s=-t.s,t))};Jt.modulo=Jt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Tc+"NaN");return n.s?(Hi=!1,e=Sf(n,t,0,1).times(t),Hi=!0,n.minus(e)):pi(new r(n),i)};Jt.naturalExponential=Jt.exp=function(){return mZ(this)};Jt.naturalLogarithm=Jt.ln=function(){return b0(this)};Jt.negated=Jt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Jt.plus=Jt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pZ(e,t):gZ(e,(t.s=-t.s,t))};Jt.precision=Jt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Am+t);if(e=Bs(i)+1,r=i.d.length-1,n=r*Pi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Jt.squareRoot=Jt.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tc+"NaN")}for(t=Bs(l),Hi=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=rd(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tx((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(Sf(l,s,o+2)).times(.5),rd(s.d).slice(0,o)===(e=rd(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(pi(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return Hi=!0,pi(r,n)};Jt.times=Jt.mul=function(t){var e,n,r,i,s,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+h[r]*m[i-r-1]+e,s[i--]=l%ga|0,e=l/ga|0;s[i]=(s[i]+e)%ga|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Hi?pi(t,f.precision):t};Jt.toDecimalPlaces=Jt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(gd(t,0,ex),e===void 0?e=r.rounding:gd(e,0,8),pi(n,t+Bs(n)+1,e))};Jt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vm(r,!0):(gd(t,0,ex),e===void 0?e=i.rounding:gd(e,0,8),r=pi(new i(r),t+1,e),n=Vm(r,!0,t+1)),n};Jt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Vm(i):(gd(t,0,ex),e===void 0?e=s.rounding:gd(e,0,8),r=pi(new s(i),t+Bs(i)+1,e),n=Vm(r.abs(),!1,t+Bs(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Jt.toInteger=Jt.toint=function(){var t=this,e=t.constructor;return pi(new e(t),Bs(t)+1,e.rounding)};Jt.toNumber=function(){return+this};Jt.toPower=Jt.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Rl);if(l=new c(l),!l.s){if(t.s<1)throw Error(Tc+"Infinity");return l}if(l.eq(Rl))return l;if(r=c.precision,t.eq(Rl))return pi(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=d<0?-d:d)<=hZ){for(i=new c(Rl),e=Math.ceil(r/Pi+4),Hi=!1;n%2&&(i=i.times(l),Qz(i.d,e)),n=tx(n/2),n!==0;)l=l.times(l),Qz(l.d,e);return Hi=!0,t.s<0?new c(Rl).div(i):pi(i,r)}}else if(s<0)throw Error(Tc+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Hi=!1,i=t.times(b0(l,r+u)),Hi=!0,i=mZ(i),i.s=s,i};Jt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Bs(i),r=Vm(i,n<=s.toExpNeg||n>=s.toExpPos)):(gd(t,1,ex),e===void 0?e=s.rounding:gd(e,0,8),i=pi(new s(i),t,e),n=Bs(i),r=Vm(i,t<=n||n<=s.toExpNeg,t)),r};Jt.toSignificantDigits=Jt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(gd(t,1,ex),e===void 0?e=r.rounding:gd(e,0,8)),pi(new r(n),t,e)};Jt.toString=Jt.valueOf=Jt.val=Jt.toJSON=Jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bs(t),n=t.constructor;return Vm(t,e<=n.toExpNeg||e>=n.toExpPos)};function pZ(t,e){var n,r,i,s,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Hi?pi(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/Pi),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/ga|0,c[s]%=ga;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Hi?pi(e,f):e}function gd(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Am+t)}function rd(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Pi-r.length,n&&(s+=Ah(n)),s+=r;o=t[e],r=o+"",n=Pi-r.length,n&&(s+=Ah(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Sf=(function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%ga|0,o=s/ga|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*ga+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,d,f,m,h,y,v,x,b,S,E,_,C,O,M,A,P=r.constructor,F=r.s==i.s?1:-1,R=r.d,$=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Tc+"Division by zero");for(c=r.e-i.e,M=$.length,C=R.length,h=new P(F),y=h.d=[],u=0;$[u]==(R[u]||0);)++u;if($[u]>(R[u]||0)&&--c,s==null?S=s=P.precision:o?S=s+(Bs(r)-Bs(i))+1:S=s,S<0)return new P(0);if(S=S/Pi+2|0,u=0,M==1)for(d=0,$=$[0],S++;(u<C||d)&&S--;u++)E=d*ga+(R[u]||0),y[u]=E/$|0,d=E%$|0;else{for(d=ga/($[0]+1)|0,d>1&&($=t($,d),R=t(R,d),M=$.length,C=R.length),_=M,v=R.slice(0,M),x=v.length;x<M;)v[x++]=0;A=$.slice(),A.unshift(0),O=$[0],$[1]>=ga/2&&++O;do d=0,l=e($,v,M,x),l<0?(b=v[0],M!=x&&(b=b*ga+(v[1]||0)),d=b/O|0,d>1?(d>=ga&&(d=ga-1),f=t($,d),m=f.length,x=v.length,l=e(f,v,m,x),l==1&&(d--,n(f,M<m?A:$,m))):(d==0&&(l=d=1),f=$.slice()),m=f.length,m<x&&f.unshift(0),n(v,f,x),l==-1&&(x=v.length,l=e($,v,M,x),l<1&&(d++,n(v,M<x?A:$,x))),x=v.length):l===0&&(d++,v=[0]),y[u++]=d,l&&v[0]?v[x++]=R[_]||0:(v=[R[_]],x=1);while((_++<C||v[0]!==void 0)&&S--)}return y[0]||y.shift(),h.e=c,pi(h,o?s+Bs(h)+1:s)}})();function mZ(t,e){var n,r,i,s,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Bs(t)>16)throw Error(TD+Bs(t));if(!t.s)return new d(Rl);for(Hi=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(om(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(Rl),d.precision=l;;){if(i=pi(i.times(t),l),n=n.times(++c),o=s.plus(Sf(i,n,l)),rd(o.d).slice(0,l)===rd(s.d).slice(0,l)){for(;u--;)s=pi(s.times(s),l);return d.precision=f,e==null?(Hi=!0,pi(s,f)):s}s=o}}function Bs(t){for(var e=t.e*Pi,n=t.d[0];n>=10;n/=10)e++;return e}function TT(t,e,n){if(e>t.LN10.sd())throw Hi=!0,n&&(t.precision=n),Error(Tc+"LN10 precision limit exceeded");return pi(new t(t.LN10),e)}function Ah(t){for(var e="";t--;)e+="0";return e}function b0(t,e){var n,r,i,s,o,l,c,u,d,f=1,m=10,h=t,y=h.d,v=h.constructor,x=v.precision;if(h.s<1)throw Error(Tc+(h.s?"NaN":"-Infinity"));if(h.eq(Rl))return new v(0);if(e==null?(Hi=!1,u=x):u=e,h.eq(10))return e==null&&(Hi=!0),TT(v,u);if(u+=m,v.precision=u,n=rd(y),r=n.charAt(0),s=Bs(h),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=rd(h.d),r=n.charAt(0),f++;s=Bs(h),r>1?(h=new v("0."+n),s++):h=new v(r+"."+n.slice(1))}else return c=TT(v,u+2,x).times(s+""),h=b0(new v(r+"."+n.slice(1)),u-m).plus(c),v.precision=x,e==null?(Hi=!0,pi(h,x)):h;for(l=o=h=Sf(h.minus(Rl),h.plus(Rl),u),d=pi(h.times(h),u),i=3;;){if(o=pi(o.times(d),u),c=l.plus(Sf(o,new v(i),u)),rd(c.d).slice(0,u)===rd(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(TT(v,u+2,x).times(s+""))),l=Sf(l,new v(f),u),v.precision=x,e==null?(Hi=!0,pi(l,x)):l;l=c,i+=2}}function Xz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tx(n/Pi),t.d=[],r=(n+1)%Pi,n<0&&(r+=Pi),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Pi;r<i;)t.d.push(+e.slice(r,r+=Pi));e=e.slice(r),r=Pi-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Hi&&(t.e>eS||t.e<-eS))throw Error(TD+n)}else t.s=0,t.e=0,t.d=[0];return t}function pi(t,e,n){var r,i,s,o,l,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Pi,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Pi),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=Pi,i=r-Pi+o}if(n!==void 0&&(s=om(10,o-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/om(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=Bs(t),f.length=1,e=e-s-1,f[0]=om(10,(Pi-e%Pi)%Pi),t.e=tx(-e/Pi)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=om(10,Pi-r),f[d]=i>0?(u/om(10,o-i)%om(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ga&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ga)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Hi&&(t.e>eS||t.e<-eS))throw Error(TD+Bs(t));return t}function gZ(t,e){var n,r,i,s,o,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Hi?pi(e,h):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(h/Pi),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=ga-1;--c[s],c[i]+=ga}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Hi?pi(e,h):e):new m(0)}function Vm(t,e,n){var r,i=Bs(t),s=rd(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ah(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ah(-i-1)+s,n&&(r=n-o)>0&&(s+=Ah(r))):i>=o?(s+=Ah(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Ah(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Ah(r))),t.s<0?"-"+s:s}function Qz(t,e){if(t.length>e)return t.length=e,!0}function vZ(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Am+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Xz(o,s.toString())}else if(typeof s!="string")throw Error(Am+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,GSe.test(s))Xz(o,s);else throw Error(Am+s)}if(i.prototype=Jt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vZ,i.config=i.set=YSe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function YSe(t){if(!t||typeof t!="object")throw Error(Tc+"Object expected");var e,n,r,i=["precision",1,ex,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tx(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Am+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Am+n+": "+r);return this}var OD=vZ(KSe);Rl=new OD(1);const oi=OD;function XSe(t){return eEe(t)||ZSe(t)||JSe(t)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JSe(t,e){if(t){if(typeof t=="string")return TM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(t,e)}}function ZSe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eEe(t){if(Array.isArray(t))return TM(t)}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tEe=function(e){return e},yZ={},xZ=function(e){return e===yZ},Jz=function(e){return function n(){return arguments.length===0||arguments.length===1&&xZ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nEe=function t(e,n){return e===1?n:Jz(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==yZ}).length;return o>=e?n.apply(void 0,i):t(e-o,Jz(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return xZ(f)?c.shift():f});return n.apply(void 0,XSe(d).concat(c))}))})},zj=function(e){return nEe(e.length,e)},OM=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},rEe=zj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),iEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tEe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},PM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},bZ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function sEe(t){var e;return t===0?e=1:e=Math.floor(new oi(t).abs().log(10).toNumber())+1,e}function aEe(t,e,n){for(var r=new oi(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var oEe=zj(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),lEe=zj(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),cEe=zj(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const qj={rangeStep:aEe,getDigitCount:sEe,interpolateNumber:oEe,uninterpolateNumber:lEe,uninterpolateTruncation:cEe};function MM(t){return fEe(t)||dEe(t)||wZ(t)||uEe()}function uEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fEe(t){if(Array.isArray(t))return RM(t)}function w0(t,e){return mEe(t)||pEe(t,e)||wZ(t,e)||hEe()}function hEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wZ(t,e){if(t){if(typeof t=="string")return RM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RM(t,e)}}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pEe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function mEe(t){if(Array.isArray(t))return t}function NZ(t){var e=w0(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function SZ(t,e,n){if(t.lte(0))return new oi(0);var r=qj.getDigitCount(t.toNumber()),i=new oi(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new oi(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new oi(Math.ceil(c))}function gEe(t,e,n){var r=1,i=new oi(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new oi(10).pow(qj.getDigitCount(t)-1),i=new oi(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new oi(Math.floor(t)))}else t===0?i=new oi(Math.floor((e-1)/2)):n||(i=new oi(Math.floor(t)));var o=Math.floor((e-1)/2),l=iEe(rEe(function(c){return i.add(new oi(c-o).mul(r)).toNumber()}),OM);return l(0,e)}function EZ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new oi(0),tickMin:new oi(0),tickMax:new oi(0)};var s=SZ(new oi(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new oi(0):(o=new oi(t).add(e).div(2),o=o.sub(new oi(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new oi(e).sub(o).div(s).toNumber()),u=l+c+1;return u>n?EZ(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:o.sub(new oi(l).mul(s)),tickMax:o.add(new oi(c).mul(s))})}function vEe(t){var e=w0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=NZ([n,r]),c=w0(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(MM(OM(0,i-1).map(function(){return 1/0}))):[].concat(MM(OM(0,i-1).map(function(){return-1/0})),[d]);return n>r?PM(f):f}if(u===d)return gEe(u,i,s);var m=EZ(u,d,o,s),h=m.step,y=m.tickMin,v=m.tickMax,x=qj.rangeStep(y,v.add(new oi(.1).mul(h)),h);return n>r?PM(x):x}function yEe(t,e){var n=w0(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=NZ([r,i]),l=w0(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=SZ(new oi(u).sub(c).div(d-1),s,0),m=[].concat(MM(qj.rangeStep(new oi(c),new oi(u).sub(new oi(.99).mul(f)),f)),[u]);return r>i?PM(m):m}var xEe=bZ(vEe),bEe=bZ(yEe),wEe="Invariant failed";function Wm(t,e){throw new Error(wEe)}var NEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tS.apply(this,arguments)}function SEe(t,e){return CEe(t)||_Ee(t,e)||jEe(t,e)||EEe()}function EEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jEe(t,e){if(t){if(typeof t=="string")return Zz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zz(t,e)}}function Zz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function CEe(t){if(Array.isArray(t))return t}function AEe(t,e){if(t==null)return{};var n=kEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CZ(r.key),r)}}function PEe(t,e,n){return e&&OEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MEe(t,e,n){return e=nS(e),REe(t,jZ()?Reflect.construct(e,n||[],nS(t).constructor):e.apply(t,n))}function REe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IEe(t)}function IEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jZ=function(){return!!t})()}function nS(t){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nS(t)}function DEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}function IM(t,e){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IM(t,e)}function _Z(t,e,n){return e=CZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CZ(t){var e=LEe(t,"string");return oy(e)=="symbol"?e:e+""}function LEe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nx=(function(t){function e(){return TEe(this,e),MEe(this,e,arguments)}return DEe(e,t),PEe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,m=AEe(r,NEe),h=Jn(m,!1);this.props.direction==="x"&&d.type!=="number"&&Wm();var y=c.map(function(v){var x=u(v,l),b=x.x,S=x.y,E=x.value,_=x.errorVal;if(!_)return null;var C=[],O,M;if(Array.isArray(_)){var A=SEe(_,2);O=A[0],M=A[1]}else O=M=_;if(s==="vertical"){var P=d.scale,F=S+i,R=F+o,$=F-o,q=P(E-O),z=P(E+M);C.push({x1:z,y1:R,x2:z,y2:$}),C.push({x1:q,y1:F,x2:z,y2:F}),C.push({x1:q,y1:R,x2:q,y2:$})}else if(s==="horizontal"){var G=f.scale,X=b+i,U=X-o,W=X+o,Y=G(E-O),ie=G(E+M);C.push({x1:U,y1:ie,x2:W,y2:ie}),C.push({x1:X,y1:Y,x2:X,y2:ie}),C.push({x1:U,y1:Y,x2:W,y2:Y})}return ye.createElement(Br,tS({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},h),C.map(function(Q){return ye.createElement("line",tS({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return ye.createElement(Br,{className:"recharts-errorBars"},y)}}])})(ye.Component);_Z(nx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_Z(nx,"displayName","ErrorBar");function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function e9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(n),!0).forEach(function(r){FEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FEe(t,e,n){return e=$Ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ee(t){var e=BEe(t,"string");return N0(e)=="symbol"?e:e+""}function BEe(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AZ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Tl(n,Nf);if(!o)return null;var l=Nf.defaultProps,c=l!==void 0?im(im({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var m=f.item,h=f.props,y=h.sectors||h.data||[];return d.concat(y.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?im(im({},m),f.props):{},y=h.dataKey,v=h.name,x=h.legendType,b=h.hide;return{inactive:b,dataKey:y,type:c.iconType||x||"square",color:PD(f),value:v||y,payload:h}}),im(im(im({},c),Nf.getWithHeight(o,i)),{},{payload:u,item:o})};function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function t9(t){return HEe(t)||UEe(t)||qEe(t)||zEe()}function zEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(t,e){if(t){if(typeof t=="string")return DM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DM(t,e)}}function UEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HEe(t){if(Array.isArray(t))return DM(t)}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(n),!0).forEach(function(r){Lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lv(t,e,n){return e=VEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VEe(t){var e=WEe(t,"string");return S0(e)=="symbol"?e:e+""}function WEe(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ra(t,e,n){return Gn(t)||Gn(e)?n:ea(e)?Ec(t,e,n):tr(e)?e(t):n}function Tb(t,e,n,r){var i=HSe(t,function(l){return ra(l,e)});if(n==="number"){var s=i.filter(function(l){return Pt(l)||parseFloat(l)});return s.length?[Bj(s),$h(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!Gn(l)}):i;return o.map(function(l){return ea(l)||l instanceof Date?l:""})}var KEe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(gu(f-d)!==gu(m-f)){var y=[];if(gu(m-f)===gu(c[1]-c[0])){h=m;var v=f+c[1]-c[0];y[0]=Math.min(v,(v+d)/2),y[1]=Math.max(v,(v+d)/2)}else{h=d;var x=m+c[1]-c[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var S=Math.min(d,m),E=Math.max(d,m);if(e>(S+f)/2&&e<=(E+f)/2){o=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<l-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===l-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},PD=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?us(us({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},GEe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var y=d[f[m]],v=y.items,x=y.cateAxisId,b=v.filter(function(M){return bf(M.type).indexOf("Bar")>=0});if(b&&b.length){var S=b[0].type.defaultProps,E=S!==void 0?us(us({},S),b[0].props):b[0].props,_=E.barSize,C=E[x];o[C]||(o[C]=[]);var O=Gn(_)?n:_;o[C].push({item:b[0],stackList:b.slice(1),barSize:Gn(O)?void 0:Um(O,r,0)})}}return o},YEe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Um(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=i/c,y=o.reduce(function(_,C){return _+C.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&h>0&&(m=!0,h*=.9,y=c*h);var v=(i-y)/2>>0,x={offset:v-u,size:0};d=o.reduce(function(_,C){var O={item:C.item,position:{offset:x.offset+x.size+u,size:m?h:C.barSize}},M=[].concat(t9(_),[O]);return x=M[M.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){M.push({item:A,position:x})}),M},f)}else{var b=Um(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var S=(i-2*b-(c-1)*u)/c;S>1&&(S>>=0);var E=l===+l?Math.min(S,l):S;d=o.reduce(function(_,C,O){var M=[].concat(t9(_),[{item:C.item,position:{offset:b+(S+u)*O+(S-E)/2,size:E}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){M.push({item:A,position:M[M.length-1].position})}),M},f)}return d},XEe=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=AZ({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,h=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&h!=="center"&&Pt(e[h]))return us(us({},e),{},Lv({},h,e[h]+(f||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&y!=="middle"&&Pt(e[y]))return us(us({},e),{},Lv({},y,e[y]+(m||0)))}return e},QEe=function(e,n,r){return Gn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},kZ=function(e,n,r,i,s){var o=n.props.children,l=sl(o,nx).filter(function(u){return QEe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ra(d,r);if(Gn(f))return u;var m=Array.isArray(f)?[Bj(f),$h(f)]:[f,f],h=c.reduce(function(y,v){var x=ra(d,v,0),b=m[0]-Math.abs(Array.isArray(x)?x[0]:x),S=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},JEe=function(e,n,r,i,s){var o=n.map(function(l){return kZ(e,l,r,s,i)}).filter(function(l){return!Gn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},TZ=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&kZ(e,c,u,i)||Tb(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},OZ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},PZ=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},yf=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&l?.length>=2?gu(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!Qy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:s?s[f]:f,index:m,offset:u}})},OT=new WeakMap,t2=function(e,n){if(typeof n!="function")return e;OT.has(e)||OT.set(e,new WeakMap);var r=OT.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ZEe=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:m0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:XN(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:kb(),realScaleType:"point"}:s==="category"?{scale:m0(),realScaleType:"band"}:{scale:XN(),realScaleType:"linear"};if(qm(i)){var c="scale".concat(_j(i));return{scale:(zz[c]||kb)(),realScaleType:zz[c]?c:"point"}}return tr(i)?{scale:i}:{scale:kb(),realScaleType:"point"}},r9=1e-4,eje=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-r9,o=Math.max(i[0],i[1])+r9,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},tje=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},nje=function(e,n){if(!n||n.length!==2||!Pt(n[0])||!Pt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Pt(e[0])||e[0]<r)&&(s[0]=r),(!Pt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},rje=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=Qy(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},ije=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=Qy(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},sje={sign:rje,expand:qbe,none:Zv,silhouette:Ube,wiggle:Hbe,positive:ije},aje=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=sje[r],o=zbe().keys(i).value(function(l,c){return+ra(l,c,0)}).order(fM).offset(s);return o(e)},oje=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var h,y=(h=m.type)!==null&&h!==void 0&&h.defaultProps?us(us({},m.type.defaultProps),m.props):m.props,v=y.stackId,x=y.hide;if(x)return f;var b=y[r],S=f[b]||{hasStack:!1,stackGroups:{}};if(ea(v)){var E=S.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(m),S.hasStack=!0,S.stackGroups[v]=E}else S.stackGroups[hg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return us(us({},f),{},Lv({},b,S))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,x){var b=h.stackGroups[x];return us(us({},v),{},Lv({},x,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:aje(e,b.items,s)}))},y)}return us(us({},f),{},Lv({},m,h))},d)},lje=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=xEe(u,s,l);return e.domain([Bj(d),$h(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),m=bEe(f,s,l);return{niceTicks:m}}return null};function ly(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gn(i[e.dataKey])){var l=ON(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=ra(i,Gn(o)?e.dataKey:o);return Gn(c)?null:e.scale(c)}var i9=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=ra(o,n.dataKey,n.domain[l]);return Gn(c)?null:n.scale(c)-s/2+i},cje=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},uje=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?us(us({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(ea(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},dje=function(e){return e.reduce(function(n,r){return[Bj(r.concat([n[0]]).filter(Pt)),$h(r.concat([n[1]]).filter(Pt))]},[1/0,-1/0])},MZ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var f=dje(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},s9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LM=function(e,n,r){if(tr(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Pt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(s9.test(e[0])){var s=+s9.exec(e[0])[1];i[0]=n[0]-s}else tr(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Pt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(a9.test(e[1])){var o=+a9.exec(e[1])[1];i[1]=n[1]+o}else tr(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},rS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=aD(n,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},o9=function(e,n,r){return!e||!e.length||Hm(e,Ec(r,"type.defaultProps.domain"))?n:e},RZ=function(e,n){var r=e.type.defaultProps?us(us({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return us(us({},Jn(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:PD(e),value:ra(n,i),type:c,payload:n,chartType:u,hide:d})};function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){fje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fje(t,e,n){return e=hje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hje(t){var e=pje(t,"string");return E0(e)=="symbol"?e:e+""}function pje(t,e){if(E0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(E0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iS=Math.PI/180,mje=function(e){return e*180/Math.PI},$a=function(e,n,r,i){return{x:e+Math.cos(-iS*i)*r,y:n+Math.sin(-iS*i)*r}},gje=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},vje=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=gje({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:mje(u),angleInRadian:u}},yje=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},xje=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},u9=function(e,n){var r=e.x,i=e.y,s=vje({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=yje(n),f=d.startAngle,m=d.endAngle,h=l,y;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;y=h>=m&&h<=f}return y?c9(c9({},n),{},{radius:o,angle:xje(h,n)}):null};function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}var bje=["offset"];function wje(t){return jje(t)||Eje(t)||Sje(t)||Nje()}function Nje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sje(t,e){if(t){if(typeof t=="string")return FM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(t,e)}}function Eje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jje(t){if(Array.isArray(t))return FM(t)}function FM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _je(t,e){if(t==null)return{};var n=Cje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d9(Object(n),!0).forEach(function(r){Aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aje(t,e,n){return e=kje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kje(t){var e=Tje(t,"string");return j0(e)=="symbol"?e:e+""}function Tje(t,e){if(j0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}var Oje=function(e){var n=e.value,r=e.formatter,i=Gn(e.children)?n:e.children;return tr(r)?r(i):i},Pje=function(e,n){var r=gu(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Mje=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,y=c.endAngle,v=c.clockWise,x=(f+m)/2,b=Pje(h,y),S=b>=0?1:-1,E,_;i==="insideStart"?(E=h+S*o,_=v):i==="insideEnd"?(E=y-S*o,_=!v):i==="end"&&(E=y+S*o,_=v),_=b<=0?_:!_;var C=$a(u,d,x,E),O=$a(u,d,x,E+(_?1:-1)*359),M="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(O.x,",").concat(O.y),A=Gn(e.id)?hg("recharts-radial-line-"):e.id;return ye.createElement("text",_0({},r,{dominantBaseline:"central",className:hr("recharts-radial-bar-label",l)}),ye.createElement("defs",null,ye.createElement("path",{id:A,d:M})),ye.createElement("textPath",{xlinkHref:"#".concat(A)},n))},Rje=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(i==="outside"){var h=$a(o,l,u+r,m),y=h.x,v=h.y;return{x:y,y:v,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=$a(o,l,x,m),S=b.x,E=b.y;return{x:S,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Ije=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,h=f>0?"end":"start",y=f>0?"start":"end",v=u>=0?1:-1,x=v*i,b=v>0?"end":"start",S=v>0?"start":"end";if(s==="top"){var E={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:h};return Xs(Xs({},E),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return Xs(Xs({},_),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Xs(Xs({},C),r?{width:Math.max(C.x-r.x,0),height:d}:{})}if(s==="right"){var O={x:l+u+x,y:c+d/2,textAnchor:S,verticalAnchor:"middle"};return Xs(Xs({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:d}:{})}var M=r?{width:u,height:d}:{};return s==="insideLeft"?Xs({x:l+x,y:c+d/2,textAnchor:S,verticalAnchor:"middle"},M):s==="insideRight"?Xs({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},M):s==="insideTop"?Xs({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},M):s==="insideBottom"?Xs({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},M):s==="insideTopLeft"?Xs({x:l+x,y:c+m,textAnchor:S,verticalAnchor:y},M):s==="insideTopRight"?Xs({x:l+u-x,y:c+m,textAnchor:b,verticalAnchor:y},M):s==="insideBottomLeft"?Xs({x:l+x,y:c+d-m,textAnchor:S,verticalAnchor:h},M):s==="insideBottomRight"?Xs({x:l+u-x,y:c+d-m,textAnchor:b,verticalAnchor:h},M):Xy(s)&&(Pt(s.x)||gm(s.x))&&(Pt(s.y)||gm(s.y))?Xs({x:l+Um(s.x,u),y:c+Um(s.y,d),textAnchor:"end",verticalAnchor:"end"},M):Xs({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Dje=function(e){return"cx"in e&&Pt(e.cx)};function so(t){var e=t.offset,n=e===void 0?5:e,r=_je(t,bje),i=Xs({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!s||Gn(l)&&Gn(c)&&!w.isValidElement(u)&&!tr(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var h;if(tr(u)){if(h=w.createElement(u,i),w.isValidElement(h))return h}else h=Oje(i);var y=Dje(s),v=Jn(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Mje(i,h,v);var x=y?Rje(i):Ije(i);return ye.createElement(UN,_0({className:hr("recharts-label",f)},v,x,{breakAll:m}),h)}so.displayName="Label";var IZ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,y=e.left,v=e.width,x=e.height,b=e.clockWise,S=e.labelViewBox;if(S)return S;if(Pt(v)&&Pt(x)){if(Pt(f)&&Pt(m))return{x:f,y:m,width:v,height:x};if(Pt(h)&&Pt(y))return{x:h,y,width:v,height:x}}return Pt(f)&&Pt(m)?{x:f,y:m,width:0,height:0}:Pt(n)&&Pt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},Lje=function(e,n){return e?e===!0?ye.createElement(so,{key:"label-implicit",viewBox:n}):ea(e)?ye.createElement(so,{key:"label-implicit",viewBox:n,value:e}):w.isValidElement(e)?e.type===so?w.cloneElement(e,{key:"label-implicit",viewBox:n}):ye.createElement(so,{key:"label-implicit",content:e,viewBox:n}):tr(e)?ye.createElement(so,{key:"label-implicit",content:e,viewBox:n}):Xy(e)?ye.createElement(so,_0({viewBox:n},e,{key:"label-implicit"})):null:null},Fje=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=IZ(e),o=sl(i,so).map(function(c,u){return w.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=Lje(e.label,n||s);return[l].concat(wje(o))};so.parseViewBox=IZ;so.renderCallByParent=Fje;var PT,f9;function $je(){if(f9)return PT;f9=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return PT=t,PT}var Bje=$je();const zje=zr(Bje);function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var qje=["valueAccessor"],Uje=["data","dataKey","clockWise","id","textBreakAll"];function Hje(t){return Gje(t)||Kje(t)||Wje(t)||Vje()}function Vje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wje(t,e){if(t){if(typeof t=="string")return $M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(t,e)}}function Kje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gje(t){if(Array.isArray(t))return $M(t)}function $M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function h9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(n),!0).forEach(function(r){Yje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yje(t,e,n){return e=Xje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xje(t){var e=Qje(t,"string");return C0(e)=="symbol"?e:e+""}function Qje(t,e){if(C0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m9(t,e){if(t==null)return{};var n=Jje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zje=function(e){return Array.isArray(e.value)?zje(e.value):e.value};function ud(t){var e=t.valueAccessor,n=e===void 0?Zje:e,r=m9(t,qje),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=m9(r,Uje);return!i||!i.length?null:ye.createElement(Br,{className:"recharts-label-list"},i.map(function(d,f){var m=Gn(s)?n(d,f):ra(d&&d.payload,s),h=Gn(l)?{}:{id:"".concat(l,"-").concat(f)};return ye.createElement(so,sS({},Jn(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:so.parseViewBox(Gn(o)?d:p9(p9({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ud.displayName="LabelList";function e_e(t,e){return t?t===!0?ye.createElement(ud,{key:"labelList-implicit",data:e}):ye.isValidElement(t)||tr(t)?ye.createElement(ud,{key:"labelList-implicit",data:e,content:t}):Xy(t)?ye.createElement(ud,sS({data:e},t,{key:"labelList-implicit"})):null:null}function t_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=sl(r,ud).map(function(o,l){return w.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=e_e(t.label,e);return[s].concat(Hje(i))}ud.renderCallByParent=t_e;function A0(t){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}function BM(){return BM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BM.apply(this,arguments)}function g9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(n),!0).forEach(function(r){n_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e,n){return e=r_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r_e(t){var e=i_e(t,"string");return A0(e)=="symbol"?e:e+""}function i_e(t,e){if(A0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(A0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s_e=function(e,n){var r=gu(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},n2=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/iS,m=u?s:s+o*f,h=$a(n,r,d,m),y=$a(n,r,i,m),v=u?s-o*f:s,x=$a(n,r,d*Math.cos(f*iS),v);return{center:h,circleTangency:y,lineTangency:x,theta:f}},DZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=s_e(o,l),u=o+c,d=$a(n,r,s,o),f=$a(n,r,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=$a(n,r,i,o),y=$a(n,r,i,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},a_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=gu(d-u),m=n2({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,y=m.lineTangency,v=m.theta,x=n2({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,S=x.lineTangency,E=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-v-E;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):DZ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var O=n2({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=O.circleTangency,A=O.lineTangency,P=O.theta,F=n2({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=F.circleTangency,$=F.lineTangency,q=F.theta,z=c?Math.abs(u-d):Math.abs(u-d)-P-q;if(z<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},o_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LZ=function(e){var n=v9(v9({},o_e),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<s||d===f)return null;var h=hr("recharts-sector",m),y=o-s,v=Um(l,y,0,!0),x;return v>0&&Math.abs(d-f)<360?x=a_e({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(v,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=DZ({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ye.createElement("path",BM({},Jn(n,!0),{className:h,d:x,role:"img"}))};function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function zM(){return zM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zM.apply(this,arguments)}function y9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(n),!0).forEach(function(r){l_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l_e(t,e,n){return e=c_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c_e(t){var e=u_e(t,"string");return k0(e)=="symbol"?e:e+""}function u_e(t,e){if(k0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b9={curveBasisClosed:Tbe,curveBasisOpen:Obe,curveBasis:kbe,curveBumpX:mbe,curveBumpY:gbe,curveLinearClosed:Pbe,curveLinear:Aj,curveMonotoneX:Mbe,curveMonotoneY:Rbe,curveNatural:Ibe,curveStep:Dbe,curveStepAfter:Fbe,curveStepBefore:Lbe},r2=function(e){return e.x===+e.x&&e.y===+e.y},Zx=function(e){return e.x},eb=function(e){return e.y},d_e=function(e,n){if(tr(e))return e;var r="curve".concat(_j(e));return(r==="curveMonotone"||r==="curveBump")&&n?b9["".concat(r).concat(n==="vertical"?"Y":"X")]:b9[r]||Aj},f_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=d_e(r,l),f=u?s.filter(function(v){return r2(v)}):s,m;if(Array.isArray(o)){var h=u?o.filter(function(v){return r2(v)}):o,y=f.map(function(v,x){return x9(x9({},v),{},{base:h[x]})});return l==="vertical"?m=Gw().y(eb).x1(Zx).x0(function(v){return v.base.x}):m=Gw().x(Zx).y1(eb).y0(function(v){return v.base.y}),m.defined(r2).curve(d),m(y)}return l==="vertical"&&Pt(o)?m=Gw().y(eb).x1(Zx).x0(o):Pt(o)?m=Gw().x(Zx).y1(eb).y0(o):m=qQ().x(Zx).y(eb),m.defined(r2).curve(d),m(f)},km=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?f_e(e):i;return w.createElement("path",zM({},Jn(e,!1),PN(e),{className:hr("recharts-curve",n),d:o,ref:s}))},MT={exports:{}},RT,w9;function h_e(){if(w9)return RT;w9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return RT=t,RT}var IT,N9;function p_e(){if(N9)return IT;N9=1;var t=h_e();function e(){}function n(){}return n.resetWarningCache=e,IT=function(){function r(o,l,c,u,d,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},IT}var S9;function m_e(){return S9||(S9=1,MT.exports=p_e()()),MT.exports}var g_e=m_e();const Kr=zr(g_e);var v_e=Object.getOwnPropertyNames,y_e=Object.getOwnPropertySymbols,x_e=Object.prototype.hasOwnProperty;function E9(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function i2(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function b_e(t){return t?.[Symbol.toStringTag]}function j9(t){return v_e(t).concat(y_e(t))}var w_e=Object.hasOwn||(function(t,e){return x_e.call(t,e)});function gg(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var N_e="__v",S_e="__o",E_e="_owner",_9=Object.getOwnPropertyDescriptor,C9=Object.keys;function j_e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function __e(t,e){return gg(t.getTime(),e.getTime())}function C_e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function A_e(t,e){return t===e}function A9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var m=o.value,h=l.value;if(n.equals(m[0],h[0],c,f,t,e,n)&&n.equals(m[1],h[1],m[0],h[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var k_e=gg;function T_e(t,e,n){var r=C9(t),i=r.length;if(C9(e).length!==i)return!1;for(;i-- >0;)if(!FZ(t,e,n,r[i]))return!1;return!0}function tb(t,e,n){var r=j9(t),i=r.length;if(j9(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=r[i],!FZ(t,e,n,s)||(o=_9(t,s),l=_9(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function O_e(t,e){return gg(t.valueOf(),e.valueOf())}function P_e(t,e){return t.source===e.source&&t.flags===e.flags}function k9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function M_e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function R_e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function FZ(t,e,n,r){return(r===E_e||r===S_e||r===N_e)&&(t.$$typeof||e.$$typeof)?!0:w_e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var I_e="[object Arguments]",D_e="[object Boolean]",L_e="[object Date]",F_e="[object Error]",$_e="[object Map]",B_e="[object Number]",z_e="[object Object]",q_e="[object RegExp]",U_e="[object Set]",H_e="[object String]",V_e="[object URL]",W_e=Array.isArray,T9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,O9=Object.assign,K_e=Object.prototype.toString.call.bind(Object.prototype.toString);function G_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual,h=t.unknownTagComparators;return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;var S=typeof v;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?o(v,x,b):S==="function"?i(v,x,b):!1;var E=v.constructor;if(E!==x.constructor)return!1;if(E===Object)return l(v,x,b);if(W_e(v))return e(v,x,b);if(T9!=null&&T9(v))return f(v,x,b);if(E===Date)return n(v,x,b);if(E===RegExp)return u(v,x,b);if(E===Map)return s(v,x,b);if(E===Set)return d(v,x,b);var _=K_e(v);if(_===L_e)return n(v,x,b);if(_===q_e)return u(v,x,b);if(_===$_e)return s(v,x,b);if(_===U_e)return d(v,x,b);if(_===z_e)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b);if(_===V_e)return m(v,x,b);if(_===F_e)return r(v,x,b);if(_===I_e)return l(v,x,b);if(_===D_e||_===B_e||_===H_e)return c(v,x,b);if(h){var C=h[_];if(!C){var O=b_e(v);O&&(C=h[O])}if(C)return C(v,x,b)}return!1}}function Y_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?tb:j_e,areDatesEqual:__e,areErrorsEqual:C_e,areFunctionsEqual:A_e,areMapsEqual:r?E9(A9,tb):A9,areNumbersEqual:k_e,areObjectsEqual:r?tb:T_e,arePrimitiveWrappersEqual:O_e,areRegExpsEqual:P_e,areSetsEqual:r?E9(k9,tb):k9,areTypedArraysEqual:r?tb:M_e,areUrlsEqual:R_e,unknownTagComparators:void 0};if(n&&(i=O9({},i,n(i))),e){var s=i2(i.areArraysEqual),o=i2(i.areMapsEqual),l=i2(i.areObjectsEqual),c=i2(i.areSetsEqual);i=O9({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function X_e(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function Q_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return n(c,u,{cache:m,equals:i,meta:h,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var J_e=jp();jp({strict:!0});jp({circular:!0});jp({circular:!0,strict:!0});jp({createInternalComparator:function(){return gg}});jp({strict:!0,createInternalComparator:function(){return gg}});jp({circular:!0,createInternalComparator:function(){return gg}});jp({circular:!0,createInternalComparator:function(){return gg},strict:!0});function jp(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=Y_e(t),c=G_e(l),u=r?r(c):X_e(c);return Q_e({circular:n,comparator:c,createState:i,equals:u,strict:o})}function Z_e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function P9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Z_e(i)};requestAnimationFrame(r)}function qM(t){"@babel/helpers - typeof";return qM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qM(t)}function eCe(t){return iCe(t)||rCe(t)||nCe(t)||tCe()}function tCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(t,e){if(t){if(typeof t=="string")return M9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M9(t,e)}}function M9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iCe(t){if(Array.isArray(t))return t}function sCe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=eCe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){P9(i.bind(null,u),c);return}i(c),P9(i.bind(null,u));return}qM(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function R9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(n),!0).forEach(function(r){$Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Z(t,e,n){return e=aCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aCe(t){var e=oCe(t,"string");return T0(e)==="symbol"?e:String(e)}function oCe(t,e){if(T0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lCe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},cCe=function(e){return e},uCe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ob=function(e,n){return Object.keys(n).reduce(function(r,i){return I9(I9({},r),{},$Z({},i,e(i,n[i])))},{})},D9=function(e,n,r){return e.map(function(i){return"".concat(uCe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function dCe(t,e){return pCe(t)||hCe(t,e)||BZ(t,e)||fCe()}function fCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pCe(t){if(Array.isArray(t))return t}function mCe(t){return yCe(t)||vCe(t)||BZ(t)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(t,e){if(t){if(typeof t=="string")return UM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UM(t,e)}}function vCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yCe(t){if(Array.isArray(t))return UM(t)}function UM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aS=1e-4,zZ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},qZ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},L9=function(e,n){return function(r){var i=zZ(e,n);return qZ(i,r)}},xCe=function(e,n){return function(r){var i=zZ(e,n),s=[].concat(mCe(i.map(function(o,l){return o*l}).slice(1)),[0]);return qZ(s,r)}},F9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=dCe(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=L9(i,o),m=L9(s,l),h=xCe(i,o),y=function(b){return b>1?1:b<0?0:b},v=function(b){for(var S=b>1?1:b,E=S,_=0;_<8;++_){var C=f(E)-S,O=h(E);if(Math.abs(C-S)<aS||O<aS)return m(E);E=y(E-C/O)}return m(E)};return v.isStepper=!1,v},bCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,m){var h=-(d-f)*r,y=m*s,v=m+(h-y)*l/1e3,x=m*l/1e3+d;return Math.abs(x-f)<aS&&Math.abs(v)<aS?[f,0]:[x,v]};return c.isStepper=!0,c.dt=l,c},wCe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return F9(i);case"spring":return bCe();default:if(i.split("(")[0]==="cubic-bezier")return F9(i)}return typeof i=="function"?i:null};function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function $9(t){return ECe(t)||SCe(t)||UZ(t)||NCe()}function NCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ECe(t){if(Array.isArray(t))return VM(t)}function B9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(n),!0).forEach(function(r){HM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HM(t,e,n){return e=jCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jCe(t){var e=_Ce(t,"string");return O0(e)==="symbol"?e:String(e)}function _Ce(t,e){if(O0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(O0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CCe(t,e){return TCe(t)||kCe(t,e)||UZ(t,e)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UZ(t,e){if(t){if(typeof t=="string")return VM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VM(t,e)}}function VM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function TCe(t){if(Array.isArray(t))return t}var oS=function(e,n,r){return e+(n-e)*r},WM=function(e){var n=e.from,r=e.to;return n!==r},OCe=function t(e,n,r){var i=Ob(function(s,o){if(WM(o)){var l=e(o.from,o.to,o.velocity),c=CCe(l,2),u=c[0],d=c[1];return Ra(Ra({},o),{},{from:u,velocity:d})}return o},n);return r<1?Ob(function(s,o){return WM(o)?Ra(Ra({},o),{},{velocity:oS(o.velocity,i[s].velocity,r),from:oS(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const PCe=(function(t,e,n,r,i){var s=lCe(t,e),o=s.reduce(function(x,b){return Ra(Ra({},x),{},HM({},b,[t[b],e[b]]))},{}),l=s.reduce(function(x,b){return Ra(Ra({},x),{},HM({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Ob(function(b,S){return S.from},l)},h=function(){return!Object.values(l).filter(WM).length},y=function(b){u||(u=b);var S=b-u,E=S/n.dt;l=OCe(n,l,E),i(Ra(Ra(Ra({},t),e),m())),u=b,h()||(c=requestAnimationFrame(f))},v=function(b){d||(d=b);var S=(b-d)/r,E=Ob(function(C,O){return oS.apply(void 0,$9(O).concat([n(S)]))},o);if(i(Ra(Ra(Ra({},t),e),E)),S<1)c=requestAnimationFrame(f);else{var _=Ob(function(C,O){return oS.apply(void 0,$9(O).concat([n(1)]))},o);i(Ra(Ra(Ra({},t),e),_))}};return f=n.isStepper?y:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var MCe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function RCe(t,e){if(t==null)return{};var n=ICe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ICe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DT(t){return $Ce(t)||FCe(t)||LCe(t)||DCe()}function DCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(t,e){if(t){if(typeof t=="string")return KM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KM(t,e)}}function FCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Ce(t){if(Array.isArray(t))return KM(t)}function KM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z9(Object(n),!0).forEach(function(r){mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e,n){return e=HZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HZ(r.key),r)}}function qCe(t,e,n){return e&&zCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HZ(t){var e=UCe(t,"string");return cy(e)==="symbol"?e:String(e)}function UCe(t,e){if(cy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GM(t,e)}function GM(t,e){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GM(t,e)}function VCe(t){var e=WCe();return function(){var r=lS(t),i;if(e){var s=lS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return YM(this,i)}}function YM(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XM(t)}function XM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lS(t){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lS(t)}var bu=(function(t){HCe(n,t);var e=VCe(n);function n(r,i){var s;BCe(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,h=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(XM(s)),s.changeStyle=s.changeStyle.bind(XM(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),YM(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},YM(s);s.state={style:c?mb({},c,u):u}}else s.state={style:{}};return s}return qCe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!o){var h={style:c?mb({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(J_e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?f:i.to;if(this.state&&m){var x={style:c?mb({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(x)}this.runAnimation(iu(iu({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,h=PCe(o,l,wCe(u),c,this.changeStyle),y=function(){s.stopJSAnimation=h()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(v,x,b){if(b===0)return v;var S=x.duration,E=x.easing,_=E===void 0?"ease":E,C=x.style,O=x.properties,M=x.onAnimationEnd,A=b>0?o[b-1]:x,P=O||Object.keys(C);if(typeof _=="function"||_==="spring")return[].concat(DT(v),[s.runJSAnimation.bind(s,{from:A.style,to:C,duration:S,easing:_}),S]);var F=D9(P,S,_),R=iu(iu(iu({},A.style),C),{},{transition:F});return[].concat(DT(v),[R,S,M]).filter(cCe)};return this.manager.start([c].concat(DT(o.reduce(h,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=sCe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=l?mb({},l,c):c,x=D9(Object.keys(v),o,u);y.start([d,s,iu(iu({},v),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=RCe(i,MCe),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(h){var y=h.props,v=y.style,x=v===void 0?{}:v,b=y.className,S=w.cloneElement(h,iu(iu({},c),{},{style:iu(iu({},x),d),className:b}));return S};return u===1?f(w.Children.only(s)):ye.createElement("div",null,w.Children.map(s,function(m){return f(m)}))}}]),n})(w.PureComponent);bu.displayName="Animate";bu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bu.propTypes={from:Kr.oneOfType([Kr.object,Kr.string]),to:Kr.oneOfType([Kr.object,Kr.string]),attributeName:Kr.string,duration:Kr.number,begin:Kr.number,easing:Kr.oneOfType([Kr.string,Kr.func]),steps:Kr.arrayOf(Kr.shape({duration:Kr.number.isRequired,style:Kr.object.isRequired,easing:Kr.oneOfType([Kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Kr.func]),properties:Kr.arrayOf("string"),onAnimationEnd:Kr.func})),children:Kr.oneOfType([Kr.node,Kr.func]),isActive:Kr.bool,canBegin:Kr.bool,onAnimationEnd:Kr.func,shouldReAnimate:Kr.bool,onAnimationStart:Kr.func,onAnimationReStart:Kr.func};function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function KCe(t,e){return QCe(t)||XCe(t,e)||YCe(t,e)||GCe()}function GCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YCe(t,e){if(t){if(typeof t=="string")return q9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q9(t,e)}}function q9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QCe(t){if(Array.isArray(t))return t}function U9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(n),!0).forEach(function(r){JCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JCe(t,e,n){return e=ZCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZCe(t){var e=eAe(t,"string");return P0(e)=="symbol"?e:e+""}function eAe(t,e){if(P0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V9=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>o?o:s[m];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},tAe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=m}return!1},nAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MD=function(e){var n=H9(H9({},nAe),e),r=w.useRef(),i=w.useState(-1),s=KCe(i,2),o=s[0],l=s[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,h=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,S=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var E=hr("recharts-rectangle",h);return S?ye.createElement(bu,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:y,isActive:S},function(_){var C=_.width,O=_.height,M=_.x,A=_.y;return ye.createElement(bu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:b,easing:y},ye.createElement("path",cS({},Jn(n,!0),{className:E,d:V9(M,A,C,O,m),ref:r})))}):ye.createElement("path",cS({},Jn(n,!0),{className:E,d:V9(c,u,d,f,m)}))};function QM(){return QM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QM.apply(this,arguments)}var Uj=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=hr("recharts-dot",s);return n===+n&&r===+r&&i===+i?w.createElement("circle",QM({},Jn(e,!1),PN(e),{className:o,cx:n,cy:r,r:i})):null};function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}var rAe=["x","y","top","left","width","height","className"];function JM(){return JM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JM.apply(this,arguments)}function W9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(n),!0).forEach(function(r){sAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sAe(t,e,n){return e=aAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aAe(t){var e=oAe(t,"string");return M0(e)=="symbol"?e:e+""}function oAe(t,e){if(M0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lAe(t,e){if(t==null)return{};var n=cAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uAe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},dAe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,y=e.className,v=lAe(e,rAe),x=iAe({x:r,y:s,top:l,left:u,width:f,height:h},v);return!Pt(r)||!Pt(s)||!Pt(f)||!Pt(h)||!Pt(l)||!Pt(u)?null:ye.createElement("path",JM({},Jn(x,!0),{className:hr("recharts-cross",y),d:uAe(r,s,f,h,l,u)}))},LT,K9;function fAe(){if(K9)return LT;K9=1;var t=dJ(),e=t(Object.getPrototypeOf,Object);return LT=e,LT}var FT,G9;function hAe(){if(G9)return FT;G9=1;var t=Df(),e=fAe(),n=Lf(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var f=e(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return FT=u,FT}var pAe=hAe();const mAe=zr(pAe);var $T,Y9;function gAe(){if(Y9)return $T;Y9=1;var t=Df(),e=Lf(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return $T=r,$T}var vAe=gAe();const yAe=zr(vAe);function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}function xAe(t,e){return SAe(t)||NAe(t,e)||wAe(t,e)||bAe()}function bAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wAe(t,e){if(t){if(typeof t=="string")return X9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X9(t,e)}}function X9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function SAe(t){if(Array.isArray(t))return t}function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){EAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EAe(t,e,n){return e=jAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jAe(t){var e=_Ae(t,"string");return R0(e)=="symbol"?e:e+""}function _Ae(t,e){if(R0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z9=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},CAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AAe=function(e){var n=J9(J9({},CAe),e),r=w.useRef(),i=w.useState(-1),s=xAe(i,2),o=s[0],l=s[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&l(E)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,h=n.className,y=n.animationEasing,v=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var S=hr("recharts-trapezoid",h);return b?ye.createElement(bu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:y,isActive:b},function(E){var _=E.upperWidth,C=E.lowerWidth,O=E.height,M=E.x,A=E.y;return ye.createElement(bu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:y},ye.createElement("path",uS({},Jn(n,!0),{className:S,d:Z9(M,A,_,C,O),ref:r})))}):ye.createElement("g",null,ye.createElement("path",uS({},Jn(n,!0),{className:S,d:Z9(c,u,d,f,m)})))},kAe=["option","shapeType","propTransformer","activeClassName","isActive"];function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function TAe(t,e){if(t==null)return{};var n=OAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(n),!0).forEach(function(r){PAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PAe(t,e,n){return e=MAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MAe(t){var e=RAe(t,"string");return I0(e)=="symbol"?e:e+""}function RAe(t,e){if(I0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IAe(t,e){return dS(dS({},e),t)}function DAe(t,e){return t==="symbols"}function tq(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ye.createElement(MD,n);case"trapezoid":return ye.createElement(AAe,n);case"sector":return ye.createElement(LZ,n);case"symbols":if(DAe(e))return ye.createElement(Tj,n);break;default:return null}}function LAe(t){return w.isValidElement(t)?t.props:t}function ZM(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?IAe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=TAe(t,kAe),u;if(w.isValidElement(e))u=w.cloneElement(e,dS(dS({},c),LAe(e)));else if(tr(e))u=e(c);else if(mAe(e)&&!yAe(e)){var d=i(e,c);u=ye.createElement(tq,{shapeType:n,elementProps:d})}else{var f=c;u=ye.createElement(tq,{shapeType:n,elementProps:f})}return l?ye.createElement(Br,{className:o},u):u}function Hj(t,e){return e!=null&&"trapezoids"in t.props}function Vj(t,e){return e!=null&&"sectors"in t.props}function D0(t,e){return e!=null&&"points"in t.props}function FAe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function $Ae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function BAe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function zAe(t,e){var n;return Hj(t,e)?n=FAe:Vj(t,e)?n=$Ae:D0(t,e)&&(n=BAe),n}function qAe(t,e){var n;return Hj(t,e)?n="trapezoids":Vj(t,e)?n="sectors":D0(t,e)&&(n="points"),n}function UAe(t,e){if(Hj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Vj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return D0(t,e)?e.payload:{}}function HAe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=qAe(n,e),s=UAe(n,e),o=r.filter(function(c,u){var d=Hm(s,c),f=n.props[i].filter(function(y){var v=zAe(n,e);return v(y,e)}),m=n.props[i].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=r.indexOf(o[o.length-1]);return l}var BT,nq;function VAe(){if(nq)return BT;nq=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var l=-1,c=e(t((i-r)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=r,r+=s;return u}return BT=n,BT}var zT,rq;function VZ(){if(rq)return zT;rq=1;var t=CJ(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return zT=r,zT}var qT,iq;function WAe(){if(iq)return qT;iq=1;var t=VAe(),e=Mj(),n=VZ();function r(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),l=l===void 0?s<o?1:-1:n(l),t(s,o,l,i)}}return qT=r,qT}var UT,sq;function KAe(){if(sq)return UT;sq=1;var t=WAe(),e=t();return UT=e,UT}var GAe=KAe();const fS=zr(GAe);function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aq(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return e=YAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=XAe(t,"string");return L0(e)=="symbol"?e:e+""}function XAe(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QAe=["Webkit","Moz","O","ms"],JAe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=QAe.reduce(function(s,o){return oq(oq({},s),{},WZ({},o+r,n))},{});return i[e]=n,i};function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(this,arguments)}function lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lq(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GZ(r.key),r)}}function eke(t,e,n){return e&&cq(t.prototype,e),n&&cq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tke(t,e,n){return e=pS(e),nke(t,KZ()?Reflect.construct(e,n||[],pS(t).constructor):e.apply(t,n))}function nke(t,e){if(e&&(uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rke(t)}function rke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KZ=function(){return!!t})()}function pS(t){return pS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pS(t)}function ike(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eR(t,e)}function eR(t,e){return eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eR(t,e)}function kl(t,e,n){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=ske(t,"string");return uy(e)=="symbol"?e:e+""}function ske(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ake=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=kb().domain(fS(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},uq=function(e){return e.changedTouches&&!!e.changedTouches.length},dy=(function(t){function e(n){var r;return ZAe(this,e),r=tke(this,e,[n]),kl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),kl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),kl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),kl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),kl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),kl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),kl(r,"handleSlideDragStart",function(i){var s=uq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ike(e,t),eke(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),m=Math.max(i,s),h=e.getIndexInRange(o,f),y=e.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=ra(s[r],l,r);return tr(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,y=c.onChange,v=r.pageX-s;v>0?v=Math.min(v,u+d-f-l,u+d-f-o):v<0&&(v=Math.max(v,u-o,u-l));var x=this.getIndex({startX:o+v,endX:l+v});(x.startIndex!==m||x.endIndex!==h)&&y&&y(x),this.setState({startX:o+v,endX:l+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=uq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,y=d.onChange,v=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},S=r.pageX-s;S>0?S=Math.min(S,f+m-h-u):S<0&&(S=Math.max(S,f-u)),b[o]=u+S;var E=this.getIndex(b),_=E.startIndex,C=E.endIndex,O=function(){var A=x.length-1;return o==="startX"&&(l>c?_%v===0:C%v===0)||l<c&&C===A||o==="endX"&&(l>c?C%v===0:_%v===0)||l>c&&C===A};this.setState(kl(kl({},o,u+S),"brushMoveStartX",r.pageX),function(){y&&O()&&y(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+r;if(!(m===-1||m>=l.length)){var h=l[m];i==="startX"&&h>=u||i==="endX"&&h<=c||this.setState(kl({},i,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return ye.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=w.Children.only(u);return f?ye.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,y=c.data,v=c.startIndex,x=c.endIndex,b=Math.max(r,this.props.x),S=HT(HT({},Jn(this.props,!1)),{},{x:b,y:u,width:d,height:f}),E=h||"Min value: ".concat((s=y[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[x])===null||o===void 0?void 0:o.name);return ye.createElement(Br,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,S))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return ye.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,m=d.endX,h=5,y={pointerEvents:"none",fill:u};return ye.createElement(Br,{className:"recharts-brush-texts"},ye.createElement(UN,hS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},y),this.getTextOfTick(i)),ye.createElement(UN,hS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,m=this.state,h=m.startX,y=m.endX,v=m.isTextActive,x=m.isSlideMoving,b=m.isTravellerMoving,S=m.isTravellerFocused;if(!i||!i.length||!Pt(l)||!Pt(c)||!Pt(u)||!Pt(d)||u<=0||d<=0)return null;var E=hr("recharts-brush",s),_=ye.Children.count(o)===1,C=JAe("userSelect","none");return ye.createElement(Br,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(v||x||b||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return ye.createElement(ye.Fragment,null,ye.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),ye.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ye.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ye.isValidElement(r)?s=ye.cloneElement(r,i):tr(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return HT({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?ake({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])})(w.PureComponent);kl(dy,"displayName","Brush");kl(dy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VT,dq;function oke(){if(dq)return VT;dq=1;var t=sD();function e(n,r){var i;return t(n,function(s,o,l){return i=r(s,o,l),!i}),!!i}return VT=e,VT}var WT,fq;function lke(){if(fq)return WT;fq=1;var t=iJ(),e=wp(),n=oke(),r=fl(),i=Mj();function s(o,l,c){var u=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),u(o,e(l,3))}return WT=s,WT}var cke=lke();const uke=zr(cke);var dd=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},KT,hq;function dke(){if(hq)return KT;hq=1;var t=NJ();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return KT=e,KT}var GT,pq;function fke(){if(pq)return GT;pq=1;var t=dke(),e=bJ(),n=wp();function r(i,s){var o={};return s=n(s,3),e(i,function(l,c,u){t(o,c,s(l,c,u))}),o}return GT=r,GT}var hke=fke();const pke=zr(hke);var YT,mq;function mke(){if(mq)return YT;mq=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return YT=t,YT}var XT,gq;function gke(){if(gq)return XT;gq=1;var t=sD();function e(n,r){var i=!0;return t(n,function(s,o,l){return i=!!r(s,o,l),i}),i}return XT=e,XT}var QT,vq;function vke(){if(vq)return QT;vq=1;var t=mke(),e=gke(),n=wp(),r=fl(),i=Mj();function s(o,l,c){var u=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),u(o,n(l,3))}return QT=s,QT}var yke=vke();const YZ=zr(yke);var xke=["x","y"];function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function tR(){return tR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tR.apply(this,arguments)}function yq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yq(Object(n),!0).forEach(function(r){bke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bke(t,e,n){return e=wke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wke(t){var e=Nke(t,"string");return F0(e)=="symbol"?e:e+""}function Nke(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ske(t,e){if(t==null)return{};var n=Eke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jke(t,e){var n=t.x,r=t.y,i=Ske(t,xke),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),m=parseInt(f,10);return nb(nb(nb(nb(nb({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function xq(t){return ye.createElement(ZM,tR({shapeType:"rectangle",propTransformer:jke,activeClassName:"recharts-active-bar"},t))}var _ke=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Pt(r)||Dxe(r);return s?e(r,i):(s||Wm(),n)}},Cke=["value","background"],XZ;function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function Ake(t,e){if(t==null)return{};var n=kke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(this,arguments)}function bq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(n),!0).forEach(function(r){Bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JZ(r.key),r)}}function Oke(t,e,n){return e&&wq(t.prototype,e),n&&wq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pke(t,e,n){return e=gS(e),Mke(t,QZ()?Reflect.construct(e,n||[],gS(t).constructor):e.apply(t,n))}function Mke(t,e){if(e&&(fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rke(t)}function Rke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QZ=function(){return!!t})()}function gS(t){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gS(t)}function Ike(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nR(t,e)}function nR(t,e){return nR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nR(t,e)}function Bh(t,e,n){return e=JZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZ(t){var e=Dke(t,"string");return fy(e)=="symbol"?e:e+""}function Dke(t,e){if(fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var To=(function(t){function e(){var n;Tke(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Pke(this,e,[].concat(i)),Bh(n,"state",{isAnimationFinished:!1}),Bh(n,"id",hg("recharts-bar-")),Bh(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Bh(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Ike(e,t),Oke(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Jn(this.props,!1);return r&&r.map(function(f,m){var h=m===c,y=h?u:o,v=Is(Is(Is({},d),f),{},{isActive:h,option:y,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ye.createElement(Br,mS({className:"recharts-bar-rectangle"},o0(i.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),ye.createElement(xq,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return ye.createElement(bu,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=s.map(function(x,b){var S=m&&m[b];if(S){var E=ws(S.x,x.x),_=ws(S.y,x.y),C=ws(S.width,x.width),O=ws(S.height,x.height);return Is(Is({},x),{},{x:E(y),y:_(y),width:C(y),height:O(y)})}if(o==="horizontal"){var M=ws(0,x.height),A=M(y);return Is(Is({},x),{},{y:x.y+x.height-A,height:A})}var P=ws(0,x.width),F=P(y);return Is(Is({},x),{},{width:F})});return ye.createElement(Br,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Hm(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Jn(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,m=Ake(u,Cke);if(!f)return null;var h=Is(Is(Is(Is(Is({},m),{},{fill:"#eee"},f),c),o0(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ye.createElement(xq,mS({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=sl(d,nx);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,h=function(x,b){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:ra(x,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ye.createElement(Br,y,f.map(function(v){return ye.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,m=r.height,h=r.isAnimationActive,y=r.background,v=r.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=hr("recharts-bar",o),S=l&&l.allowDataOverflow,E=c&&c.allowDataOverflow,_=S||E,C=Gn(v)?this.id:v;return ye.createElement(Br,{className:b},S||E?ye.createElement("defs",null,ye.createElement("clipPath",{id:"clipPath-".concat(C)},ye.createElement("rect",{x:S?u:u-f/2,y:E?d:d-m/2,width:S?f:f*2,height:E?m:m*2}))):null,ye.createElement(Br,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(C,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,C),(!h||x)&&ud.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(w.PureComponent);XZ=To;Bh(To,"displayName","Bar");Bh(To,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Np.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bh(To,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,h=tje(r,n);if(!h)return null;var y=e.layout,v=n.type.defaultProps,x=v!==void 0?Is(Is({},v),n.props):n.props,b=x.dataKey,S=x.children,E=x.minPointSize,_=y==="horizontal"?o:s,C=u?_.scale.domain():null,O=cje({numericAxis:_}),M=sl(S,Fh),A=f.map(function(P,F){var R,$,q,z,G,X;u?R=nje(u[d+F],C):(R=ra(P,b),Array.isArray(R)||(R=[O,R]));var U=_ke(E,XZ.defaultProps.minPointSize)(R[1],F);if(y==="horizontal"){var W,Y=[o.scale(R[0]),o.scale(R[1])],ie=Y[0],Q=Y[1];$=i9({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:P,index:F}),q=(W=Q??ie)!==null&&W!==void 0?W:void 0,z=h.size;var I=ie-Q;if(G=Number.isNaN(I)?0:I,X={x:$,y:o.y,width:z,height:o.height},Math.abs(U)>0&&Math.abs(G)<Math.abs(U)){var V=gu(G||U)*(Math.abs(U)-Math.abs(G));q-=V,G+=V}}else{var J=[s.scale(R[0]),s.scale(R[1])],re=J[0],fe=J[1];if($=re,q=i9({axis:o,ticks:c,bandSize:i,offset:h.offset,entry:P,index:F}),z=fe-re,G=h.size,X={x:s.x,y:q,width:s.width,height:G},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var pe=gu(z||U)*(Math.abs(U)-Math.abs(z));z+=pe}}return Is(Is(Is({},P),{},{x:$,y:q,width:z,height:G,value:u?R:R[1],payload:P,background:X},M&&M[F]&&M[F].props),{},{tooltipPayload:[RZ(n,P)],tooltipPosition:{x:$+z/2,y:q+G/2}})});return Is({data:A,layout:y},m)});function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function Lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZZ(r.key),r)}}function Fke(t,e,n){return e&&Nq(t.prototype,e),n&&Nq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(n),!0).forEach(function(r){Wj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wj(t,e,n){return e=ZZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZZ(t){var e=$ke(t,"string");return $0(e)=="symbol"?e:e+""}function $ke(t,e){if($0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RD=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},m=!!Tl(u,To);return d.reduce(function(h,y){var v=n[y],x=v.orientation,b=v.domain,S=v.padding,E=S===void 0?{}:S,_=v.mirror,C=v.reversed,O="".concat(x).concat(_?"Mirror":""),M,A,P,F,R;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var $=b[1]-b[0],q=1/0,z=v.categoricalDomain.sort(Bxe);if(z.forEach(function(J,re){re>0&&(q=Math.min((J||0)-(z[re-1]||0),q))}),Number.isFinite(q)){var G=q/$,X=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(M=G*X/2),v.padding==="no-gap"){var U=Um(e.barCategoryGap,G*X),W=G*X/2;M=W-U-(W-U)/X*U}}}i==="xAxis"?A=[r.left+(E.left||0)+(M||0),r.left+r.width-(E.right||0)-(M||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(M||0),r.top+r.height-(E.bottom||0)-(M||0)]:A=v.range,C&&(A=[A[1],A[0]]);var Y=ZEe(v,s,m),ie=Y.scale,Q=Y.realScaleType;ie.domain(b).range(A),eje(ie);var I=lje(ie,lu(lu({},v),{},{realScaleType:Q}));i==="xAxis"?(R=x==="top"&&!_||x==="bottom"&&_,P=r.left,F=f[O]-R*v.height):i==="yAxis"&&(R=x==="left"&&!_||x==="right"&&_,P=f[O]-R*v.width,F=r.top);var V=lu(lu(lu({},v),I),{},{realScaleType:Q,x:P,y:F,scale:ie,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return V.bandSize=rS(V,I),!v.hide&&i==="xAxis"?f[O]+=(R?-1:1)*V.height:v.hide||(f[O]+=(R?-1:1)*V.width),lu(lu({},h),{},Wj({},y,V))},{})},eee=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},Bke=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return eee({x:n,y:r},{x:i,y:s})},tee=(function(){function t(e){Lke(this,t),this.scale=e}return Fke(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Wj(tee,"EPS",1e-4);var ID=function(e){var n=Object.keys(e).reduce(function(r,i){return lu(lu({},r),{},Wj({},i,tee.create(e[i])))},{});return lu(lu({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return pke(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return YZ(i,function(s,o){return n[o].isInRange(s)})}})};function zke(t){return(t%180+180)%180}var qke=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=zke(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},JT,Eq;function Uke(){if(Eq)return JT;Eq=1;var t=wp(),e=P1(),n=Oj();function r(i){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=n(s),o=function(f){return u(c[f],f,c)}}var d=i(s,o,l);return d>-1?c[u?s[d]:d]:void 0}}return JT=r,JT}var ZT,jq;function Hke(){if(jq)return ZT;jq=1;var t=VZ();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return ZT=e,ZT}var eO,_q;function Vke(){if(_q)return eO;_q=1;var t=mJ(),e=wp(),n=Hke(),r=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),t(s,e(o,3),u)}return eO=i,eO}var tO,Cq;function Wke(){if(Cq)return tO;Cq=1;var t=Uke(),e=Vke(),n=t(e);return tO=n,tO}var Kke=Wke();const Gke=zr(Kke);var Yke=TQ();const Xke=zr(Yke);var Qke=Xke(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),DD=w.createContext(void 0),LD=w.createContext(void 0),nee=w.createContext(void 0),ree=w.createContext({}),iee=w.createContext(void 0),see=w.createContext(0),aee=w.createContext(0),Aq=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Qke(s);return ye.createElement(DD.Provider,{value:r},ye.createElement(LD.Provider,{value:i},ye.createElement(ree.Provider,{value:s},ye.createElement(nee.Provider,{value:d},ye.createElement(iee.Provider,{value:o},ye.createElement(see.Provider,{value:u},ye.createElement(aee.Provider,{value:c},l)))))))},Jke=function(){return w.useContext(iee)},oee=function(e){var n=w.useContext(DD);n==null&&Wm();var r=n[e];return r==null&&Wm(),r},Zke=function(){var e=w.useContext(DD);return Rh(e)},e5e=function(){var e=w.useContext(LD),n=Gke(e,function(r){return YZ(r.domain,Number.isFinite)});return n||Rh(e)},lee=function(e){var n=w.useContext(LD);n==null&&Wm();var r=n[e];return r==null&&Wm(),r},t5e=function(){var e=w.useContext(nee);return e},n5e=function(){return w.useContext(ree)},FD=function(){return w.useContext(aee)},$D=function(){return w.useContext(see)};function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function r5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uee(r.key),r)}}function s5e(t,e,n){return e&&i5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a5e(t,e,n){return e=vS(e),o5e(t,cee()?Reflect.construct(e,n||[],vS(t).constructor):e.apply(t,n))}function o5e(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l5e(t)}function l5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cee=function(){return!!t})()}function vS(t){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vS(t)}function c5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rR(t,e)}function rR(t,e){return rR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rR(t,e)}function kq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kq(Object(n),!0).forEach(function(r){BD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BD(t,e,n){return e=uee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uee(t){var e=u5e(t,"string");return hy(e)=="symbol"?e:e+""}function u5e(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d5e(t,e){return m5e(t)||p5e(t,e)||h5e(t,e)||f5e()}function f5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5e(t,e){if(t){if(typeof t=="string")return Oq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oq(t,e)}}function Oq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function m5e(t){if(Array.isArray(t))return t}function iR(){return iR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iR.apply(this,arguments)}var g5e=function(e,n){var r;return ye.isValidElement(e)?r=ye.cloneElement(e,n):tr(e)?r=e(n):r=ye.createElement("line",iR({},n,{className:"recharts-reference-line-line"})),r},v5e=function(e,n,r,i,s,o,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(r){var y=u.y,v=e.y.apply(y,{position:o});if(dd(u,"discard")&&!e.y.isInRange(v))return null;var x=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?x.reverse():x}if(n){var b=u.x,S=e.x.apply(b,{position:o});if(dd(u,"discard")&&!e.x.isInRange(S))return null;var E=[{x:S,y:f+h},{x:S,y:f}];return l==="top"?E.reverse():E}if(i){var _=u.segment,C=_.map(function(O){return e.apply(O,{position:o})});return dd(u,"discard")&&uke(C,function(O){return!e.isInRange(O)})?null:C}return null};function y5e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Jke(),d=oee(i),f=lee(s),m=t5e();if(!u||!m)return null;wf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ID({x:d.scale,y:f.scale}),y=ea(e),v=ea(n),x=r&&r.length===2,b=v5e(h,y,v,x,m,t.position,d.orientation,f.orientation,t);if(!b)return null;var S=d5e(b,2),E=S[0],_=E.x,C=E.y,O=S[1],M=O.x,A=O.y,P=dd(t,"hidden")?"url(#".concat(u,")"):void 0,F=Tq(Tq({clipPath:P},Jn(t,!0)),{},{x1:_,y1:C,x2:M,y2:A});return ye.createElement(Br,{className:hr("recharts-reference-line",l)},g5e(o,F),so.renderCallByParent(t,Bke({x1:_,y1:C,x2:M,y2:A})))}var zD=(function(t){function e(){return r5e(this,e),a5e(this,e,arguments)}return c5e(e,t),s5e(e,[{key:"render",value:function(){return ye.createElement(y5e,this.props)}}])})(ye.Component);BD(zD,"displayName","ReferenceLine");BD(zD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sR(){return sR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sR.apply(this,arguments)}function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function Pq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(n),!0).forEach(function(r){Kj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fee(r.key),r)}}function w5e(t,e,n){return e&&b5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N5e(t,e,n){return e=yS(e),S5e(t,dee()?Reflect.construct(e,n||[],yS(t).constructor):e.apply(t,n))}function S5e(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E5e(t)}function E5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dee=function(){return!!t})()}function yS(t){return yS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yS(t)}function j5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aR(t,e)}function aR(t,e){return aR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aR(t,e)}function Kj(t,e,n){return e=fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=_5e(t,"string");return py(e)=="symbol"?e:e+""}function _5e(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C5e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=ID({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return dd(e,"discard")&&!o.isInRange(l)?null:l},Gj=(function(t){function e(){return x5e(this,e),N5e(this,e,arguments)}return j5e(e,t),w5e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=ea(i),d=ea(s);if(wf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=C5e(this.props);if(!f)return null;var m=f.x,h=f.y,y=this.props,v=y.shape,x=y.className,b=dd(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=Mq(Mq({clipPath:b},Jn(this.props,!0)),{},{cx:m,cy:h});return ye.createElement(Br,{className:hr("recharts-reference-dot",x)},e.renderDot(v,S),so.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])})(ye.Component);Kj(Gj,"displayName","ReferenceDot");Kj(Gj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Kj(Gj,"renderDot",function(t,e){var n;return ye.isValidElement(t)?n=ye.cloneElement(t,e):tr(t)?n=t(e):n=ye.createElement(Uj,sR({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function oR(){return oR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oR.apply(this,arguments)}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function Rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(n),!0).forEach(function(r){Yj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pee(r.key),r)}}function T5e(t,e,n){return e&&k5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O5e(t,e,n){return e=xS(e),P5e(t,hee()?Reflect.construct(e,n||[],xS(t).constructor):e.apply(t,n))}function P5e(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M5e(t)}function M5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hee=function(){return!!t})()}function xS(t){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xS(t)}function R5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lR(t,e)}function lR(t,e){return lR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lR(t,e)}function Yj(t,e,n){return e=pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pee(t){var e=I5e(t,"string");return my(e)=="symbol"?e:e+""}function I5e(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D5e=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=ID({x:d.scale,y:f.scale}),h={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return dd(s,"discard")&&(!m.isInRange(h)||!m.isInRange(y))?null:eee(h,y)},Xj=(function(t){function e(){return A5e(this,e),O5e(this,e,arguments)}return R5e(e,t),T5e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;wf(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ea(i),m=ea(s),h=ea(o),y=ea(l),v=this.props.shape;if(!f&&!m&&!h&&!y&&!v)return null;var x=D5e(f,m,h,y,this.props);if(!x&&!v)return null;var b=dd(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ye.createElement(Br,{className:hr("recharts-reference-area",c)},e.renderRect(v,Iq(Iq({clipPath:b},Jn(this.props,!0)),x)),so.renderCallByParent(this.props,x))}}])})(ye.Component);Yj(Xj,"displayName","ReferenceArea");Yj(Xj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yj(Xj,"renderRect",function(t,e){var n;return ye.isValidElement(t)?n=ye.cloneElement(t,e):tr(t)?n=t(e):n=ye.createElement(MD,oR({},e,{className:"recharts-reference-area-rect"})),n});function mee(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function L5e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qke(r,n)}function F5e(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function bS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function $5e(t,e){return mee(t,e+1)}function B5e(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var y=r?.[c];if(y===void 0)return{v:mee(r,u)};var v=c,x,b=function(){return x===void 0&&(x=n(y,v)),x},S=y.coordinate,E=c===0||bS(t,S,b,d,l);E||(c=0,d=o,u+=1),E&&(d=S+t*(b()/2+i),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function Dq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(n),!0).forEach(function(r){z5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z5e(t,e,n){return e=q5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q5e(t){var e=U5e(t,"string");return B0(e)=="symbol"?e:e+""}function U5e(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H5e(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(m){var h=s[m],y,v=function(){return y===void 0&&(y=n(h,m)),y};if(m===o-1){var x=t*(h.coordinate+t*v()/2-c);s[m]=h=ro(ro({},h),{},{tickCoord:x>0?h.coordinate-x*t:h.coordinate})}else s[m]=h=ro(ro({},h),{},{tickCoord:h.coordinate});var b=bS(t,h.tickCoord,v,l,c);b&&(c=h.tickCoord-t*(v()/2+i),s[m]=ro(ro({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function V5e(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=r[l-1],f=n(d,l-1),m=t*(d.coordinate+t*f/2-u);o[l-1]=d=ro(ro({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var h=bS(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+i),o[l-1]=ro(ro({},d),{},{isShow:!0}))}for(var y=s?l-1:l,v=function(S){var E=o[S],_,C=function(){return _===void 0&&(_=n(E,S)),_};if(S===0){var O=t*(E.coordinate-t*C()/2-c);o[S]=E=ro(ro({},E),{},{tickCoord:O<0?E.coordinate-O*t:E.coordinate})}else o[S]=E=ro(ro({},E),{},{tickCoord:E.coordinate});var M=bS(t,E.tickCoord,C,c,u);M&&(c=E.tickCoord+t*(C()/2+i),o[S]=ro(ro({},E),{},{isShow:!0}))},x=0;x<y;x++)v(x);return o}function qD(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Pt(c)||Np.isSsr)return $5e(i,typeof c=="number"&&Pt(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",y=d&&h==="width"?Ab(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(E,_){var C=tr(u)?u(E.value,_):E.value;return h==="width"?L5e(Ab(C,{fontSize:e,letterSpacing:n}),y,f):Ab(C,{fontSize:e,letterSpacing:n})[h]},x=i.length>=2?gu(i[1].coordinate-i[0].coordinate):1,b=F5e(s,x,h);return c==="equidistantPreserveStart"?B5e(x,b,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=V5e(x,b,v,i,o,c==="preserveStartEnd"):m=H5e(x,b,v,i,o),m.filter(function(S){return S.isShow}))}var W5e=["viewBox"],K5e=["viewBox"],G5e=["ticks"];function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function Lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(n),!0).forEach(function(r){UD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nO(t,e){if(t==null)return{};var n=Y5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vee(r.key),r)}}function Q5e(t,e,n){return e&&Fq(t.prototype,e),n&&Fq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function J5e(t,e,n){return e=wS(e),Z5e(t,gee()?Reflect.construct(e,n||[],wS(t).constructor):e.apply(t,n))}function Z5e(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eTe(t)}function eTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gee=function(){return!!t})()}function wS(t){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wS(t)}function tTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cR(t,e)}function cR(t,e){return cR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cR(t,e)}function UD(t,e,n){return e=vee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vee(t){var e=nTe(t,"string");return gy(e)=="symbol"?e:e+""}function nTe(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rx=(function(t){function e(n){var r;return X5e(this,e),r=J5e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return tTe(e,t),Q5e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=nO(r,W5e),l=this.props,c=l.viewBox,u=nO(l,K5e);return!Iv(s,c)||!Iv(o,u)||!Iv(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,h,y,v,x,b,S,E=f?-1:1,_=r.tickSize||d,C=Pt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=y=r.coordinate,x=o+ +!f*c,v=x-E*_,S=v-E*m,b=C;break;case"left":v=x=r.coordinate,y=s+ +!f*l,h=y-E*_,b=h-E*m,S=C;break;case"right":v=x=r.coordinate,y=s+ +f*l,h=y+E*_,b=h+E*m,S=C;break;default:h=y=r.coordinate,x=o+ +f*c,v=x+E*_,S=v+E*m,b=C;break}return{line:{x1:h,y1:v,x2:y,y2:x},tick:{x:b,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Ys(Ys(Ys({},Jn(this.props,!1)),Jn(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Ys(Ys({},f),{},{x1:i,y1:s+m*l,x2:i+o,y2:s+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=Ys(Ys({},f),{},{x1:i+h*o,y1:s,x2:i+h*o,y2:s+l})}return ye.createElement("line",Ev({},f,{className:hr("recharts-cartesian-axis-line",Ec(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=qD(Ys(Ys({},this.props),{},{ticks:r}),i,s),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Jn(this.props,!1),b=Jn(d,!1),S=Ys(Ys({},x),{},{fill:"none"},Jn(c,!1)),E=h.map(function(_,C){var O=o.getTickLineCoord(_),M=O.line,A=O.tick,P=Ys(Ys(Ys(Ys({textAnchor:y,verticalAnchor:v},x),{},{stroke:"none",fill:u},b),A),{},{index:C,payload:_,visibleTicksCount:h.length,tickFormatter:f});return ye.createElement(Br,Ev({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},o0(o.props,_,C)),c&&ye.createElement("line",Ev({},S,M,{className:hr("recharts-cartesian-axis-tick-line",Ec(c,"className"))})),d&&e.renderTickItem(d,P,"".concat(tr(f)?f(_.value,C):_.value).concat(m||"")))});return ye.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,h=nO(f,G5e),y=m;return tr(c)&&(y=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!y||!y.length?null:ye.createElement(Br,{className:hr("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),so.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=hr(i.className,"recharts-cartesian-axis-tick-value");return ye.isValidElement(r)?o=ye.cloneElement(r,Ys(Ys({},i),{},{className:l})):tr(r)?o=r(Ys(Ys({},i),{},{className:l})):o=ye.createElement(UN,Ev({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(w.Component);UD(rx,"displayName","CartesianAxis");UD(rx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rTe=["x1","y1","x2","y2","key"],iTe=["offset"];function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function $q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(n),!0).forEach(function(r){sTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sTe(t,e,n){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=oTe(t,"string");return Km(e)=="symbol"?e:e+""}function oTe(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function Bq(t,e){if(t==null)return{};var n=lTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cTe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return ye.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function yee(t,e){var n;if(ye.isValidElement(t))n=ye.cloneElement(t,e);else if(tr(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=Bq(e,rTe),u=Jn(c,!1);u.offset;var d=Bq(u,iTe);n=ye.createElement("line",xm({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function uTe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ao(ao({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return yee(i,u)});return ye.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dTe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ao(ao({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return yee(i,u)});return ye.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fTe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var y=!d[h+1],v=y?i+o-m:d[h+1]-m;if(v<=0)return null;var x=h%e.length;return ye.createElement("rect",{key:"react-".concat(h),y:m,x:r,height:v,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ye.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function hTe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,h){return m-h});s!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var y=!d[h+1],v=y?s+l-m:d[h+1]-m;if(v<=0)return null;var x=h%r.length;return ye.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:v,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ye.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var pTe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return PZ(qD(ao(ao(ao({},rx.defaultProps),r),{},{ticks:yf(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},mTe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return PZ(qD(ao(ao(ao({},rx.defaultProps),r),{},{ticks:yf(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Zg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Fv(t){var e,n,r,i,s,o,l=FD(),c=$D(),u=n5e(),d=ao(ao({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Zg.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Zg.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Zg.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Zg.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Zg.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Zg.verticalFill,x:Pt(t.x)?t.x:u.left,y:Pt(t.y)?t.y:u.top,width:Pt(t.width)?t.width:u.width,height:Pt(t.height)?t.height:u.height}),f=d.x,m=d.y,h=d.width,y=d.height,v=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,S=Zke(),E=e5e();if(!Pt(h)||h<=0||!Pt(y)||y<=0||!Pt(f)||f!==+f||!Pt(m)||m!==+m)return null;var _=d.verticalCoordinatesGenerator||pTe,C=d.horizontalCoordinatesGenerator||mTe,O=d.horizontalPoints,M=d.verticalPoints;if((!O||!O.length)&&tr(C)){var A=x&&x.length,P=C({yAxis:E?ao(ao({},E),{},{ticks:A?x:E.ticks}):void 0,width:l,height:c,offset:u},A?!0:v);wf(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Km(P),"]")),Array.isArray(P)&&(O=P)}if((!M||!M.length)&&tr(_)){var F=b&&b.length,R=_({xAxis:S?ao(ao({},S),{},{ticks:F?b:S.ticks}):void 0,width:l,height:c,offset:u},F?!0:v);wf(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Km(R),"]")),Array.isArray(R)&&(M=R)}return ye.createElement("g",{className:"recharts-cartesian-grid"},ye.createElement(cTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ye.createElement(uTe,xm({},d,{offset:u,horizontalPoints:O,xAxis:S,yAxis:E})),ye.createElement(dTe,xm({},d,{offset:u,verticalPoints:M,xAxis:S,yAxis:E})),ye.createElement(fTe,xm({},d,{horizontalPoints:O})),ye.createElement(hTe,xm({},d,{verticalPoints:M})))}Fv.displayName="CartesianGrid";var gTe=["type","layout","connectNulls","ref"],vTe=["key"];function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function zq(t,e){if(t==null)return{};var n=yTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(n),!0).forEach(function(r){cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ev(t){return NTe(t)||wTe(t)||bTe(t)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bTe(t,e){if(t){if(typeof t=="string")return uR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uR(t,e)}}function wTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NTe(t){if(Array.isArray(t))return uR(t)}function uR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function STe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bee(r.key),r)}}function ETe(t,e,n){return e&&Uq(t.prototype,e),n&&Uq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jTe(t,e,n){return e=NS(e),_Te(t,xee()?Reflect.construct(e,n||[],NS(t).constructor):e.apply(t,n))}function _Te(t,e){if(e&&(vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CTe(t)}function CTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xee=function(){return!!t})()}function NS(t){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NS(t)}function ATe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dR(t,e)}function dR(t,e){return dR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dR(t,e)}function cu(t,e,n){return e=bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bee(t){var e=kTe(t,"string");return vy(e)=="symbol"?e:e+""}function kTe(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mf=(function(t){function e(){var n;STe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=jTe(this,e,[].concat(i)),cu(n,"state",{isAnimationFinished:!0,totalLength:0}),cu(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),cu(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,S){return b+S});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,h=[],y=0,v=0;y<c.length;v+=c[y],++y)if(v+c[y]>f){h=[].concat(ev(c.slice(0,y)),[f-v]);break}var x=h.length%2===0?[0,m]:[m];return[].concat(ev(e.repeat(c,d)),ev(h),x).map(function(b){return"".concat(b,"px")}).join(", ")}),cu(n,"id",hg("recharts-line-")),cu(n,"pathRef",function(o){n.mainCurve=o}),cu(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),cu(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ATe(e,t),ETe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=sl(d,nx);if(!f)return null;var m=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:ra(v.payload,x)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ye.createElement(Br,h,f.map(function(y){return ye.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Jn(this.props,!1),m=Jn(c,!0),h=u.map(function(v,x){var b=Al(Al(Al({key:"dot-".concat(x),r:3},f),m),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ye.createElement(Br,Pb({className:"recharts-line-dots",key:"dots"},y),h)}},{key:"renderCurveStatically",value:function(r,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=zq(l,gTe),m=Al(Al(Al({},Jn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return ye.createElement(km,Pb({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,y=o.animateNewValues,v=o.width,x=o.height,b=this.state,S=b.prevPoints,E=b.totalLength;return ye.createElement(bu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var C=_.t;if(S){var O=S.length/l.length,M=l.map(function($,q){var z=Math.floor(q*O);if(S[z]){var G=S[z],X=ws(G.x,$.x),U=ws(G.y,$.y);return Al(Al({},$),{},{x:X(C),y:U(C)})}if(y){var W=ws(v*2,$.x),Y=ws(x/2,$.y);return Al(Al({},$),{},{x:W(C),y:Y(C)})}return Al(Al({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(M,r,i)}var A=ws(0,E),P=A(C),F;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});F=s.getStrokeDasharray(P,E,R)}else F=s.generateSimpleStrokeDasharray(E,P);return s.renderCurveStatically(l,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Hm(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,h=i.width,y=i.height,v=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,S=l.length===1,E=hr("recharts-line",c),_=u&&u.allowDataOverflow,C=d&&d.allowDataOverflow,O=_||C,M=Gn(x)?this.id:x,A=(r=Jn(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=A.r,F=P===void 0?3:P,R=A.strokeWidth,$=R===void 0?2:R,q=IQ(o)?o:{},z=q.clipDot,G=z===void 0?!0:z,X=F*2+$;return ye.createElement(Br,{className:E},_||C?ye.createElement("defs",null,ye.createElement("clipPath",{id:"clipPath-".concat(M)},ye.createElement("rect",{x:_?m:m-h/2,y:C?f:f-y/2,width:_?h:h*2,height:C?y:y*2})),!G&&ye.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ye.createElement("rect",{x:m-X/2,y:f-X/2,width:h+X,height:y+X}))):null,!S&&this.renderCurve(O,M),this.renderErrorBar(O,M),(S||o)&&this.renderDots(O,G,M),(!v||b)&&ud.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(ev(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(ev(o),ev(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(ye.isValidElement(r))s=ye.cloneElement(r,i);else if(tr(r))s=r(i);else{var o=i.key,l=zq(i,vTe),c=hr("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ye.createElement(Uj,Pb({key:o},l,{className:c}))}return s}}])})(w.PureComponent);cu(Mf,"displayName","Line");cu(Mf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Np.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cu(Mf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(m,h){var y=ra(m,o);return d==="horizontal"?{x:ly({axis:n,ticks:i,bandSize:l,entry:m,index:h}),y:Gn(y)?null:r.scale(y),value:y,payload:m}:{x:Gn(y)?null:n.scale(y),y:ly({axis:r,ticks:s,bandSize:l,entry:m,index:h}),value:y,payload:m}});return Al({points:f,layout:d},u)});var TTe=["layout","type","stroke","connectNulls","isRange","ref"],OTe=["key"],wee;function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function Nee(t,e){if(t==null)return{};var n=PTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function Hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(n),!0).forEach(function(r){id(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Eee(r.key),r)}}function RTe(t,e,n){return e&&Vq(t.prototype,e),n&&Vq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ITe(t,e,n){return e=SS(e),DTe(t,See()?Reflect.construct(e,n||[],SS(t).constructor):e.apply(t,n))}function DTe(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LTe(t)}function LTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function See(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(See=function(){return!!t})()}function SS(t){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(t)}function FTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fR(t,e)}function fR(t,e){return fR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fR(t,e)}function id(t,e,n){return e=Eee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eee(t){var e=$Te(t,"string");return yy(e)=="symbol"?e:e+""}function $Te(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vg=(function(t){function e(){var n;MTe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ITe(this,e,[].concat(i)),id(n,"state",{isAnimationFinished:!0}),id(n,"id",hg("recharts-area-")),id(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tr(o)&&o()}),id(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tr(o)&&o()}),n}return FTe(e,t),RTe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=Jn(this.props,!1),h=Jn(u,!0),y=d.map(function(x,b){var S=_h(_h(_h({key:"dot-".concat(b),r:3},m),h),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(u,S)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ye.createElement(Br,bm({className:"recharts-area-dots"},v),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=$h(o.map(function(m){return m.y||0}));return Pt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max($h(s.map(function(m){return m.y||0})),f)),Pt(f)?ye.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=$h(o.map(function(m){return m.x||0}));return Pt(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max($h(s.map(function(m){return m.x||0})),f)),Pt(f)?ye.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=Nee(l,TTe);return ye.createElement(Br,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ye.createElement(km,bm({},Jn(h,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ye.createElement(km,bm({},Jn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&m&&ye.createElement(km,bm({},Jn(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,y=this.state,v=y.prevPoints,x=y.prevBaseLine;return ye.createElement(bu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(v){var E=v.length/l.length,_=l.map(function(A,P){var F=Math.floor(P*E);if(v[F]){var R=v[F],$=ws(R.x,A.x),q=ws(R.y,A.y);return _h(_h({},A),{},{x:$(S),y:q(S)})}return A}),C;if(Pt(c)&&typeof c=="number"){var O=ws(x,c);C=O(S)}else if(Gn(c)||Qy(c)){var M=ws(x,0);C=M(S)}else C=c.map(function(A,P){var F=Math.floor(P*E);if(x[F]){var R=x[F],$=ws(R.x,A.x),q=ws(R.y,A.y);return _h(_h({},A),{},{x:$(S),y:q(S)})}return A});return s.renderAreaStatically(_,C,r,i)}return ye.createElement(Br,null,ye.createElement("defs",null,ye.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(S))),ye.createElement(Br,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!Hm(d,o)||!Hm(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,h=i.width,y=i.height,v=i.isAnimationActive,x=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,S=l.length===1,E=hr("recharts-area",c),_=f&&f.allowDataOverflow,C=m&&m.allowDataOverflow,O=_||C,M=Gn(x)?this.id:x,A=(r=Jn(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=A.r,F=P===void 0?3:P,R=A.strokeWidth,$=R===void 0?2:R,q=IQ(o)?o:{},z=q.clipDot,G=z===void 0?!0:z,X=F*2+$;return ye.createElement(Br,{className:E},_||C?ye.createElement("defs",null,ye.createElement("clipPath",{id:"clipPath-".concat(M)},ye.createElement("rect",{x:_?d:d-h/2,y:C?u:u-y/2,width:_?h:h*2,height:C?y:y*2})),!G&&ye.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ye.createElement("rect",{x:d-X/2,y:u-X/2,width:h+X,height:y+X}))):null,S?null:this.renderArea(O,M),(o||S)&&this.renderDots(O,G,M),(!v||b)&&ud.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(w.PureComponent);wee=vg;id(vg,"displayName","Area");id(vg,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Np.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});id(vg,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(Pt(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});id(vg,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,h=e.layout,y=u&&u.length,v=wee.getBaseValue(e,n,r,i),x=h==="horizontal",b=!1,S=f.map(function(_,C){var O;y?O=u[d+C]:(O=ra(_,c),Array.isArray(O)?b=!0:O=[v,O]);var M=O[1]==null||y&&ra(_,c)==null;return x?{x:ly({axis:r,ticks:s,bandSize:l,entry:_,index:C}),y:M?null:i.scale(O[1]),value:O,payload:_}:{x:M?null:r.scale(O[1]),y:ly({axis:i,ticks:o,bandSize:l,entry:_,index:C}),value:O,payload:_}}),E;return y||b?E=S.map(function(_){var C=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:C!=null&&_.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:_.y}}):E=x?i.scale(v):r.scale(v),_h({points:S,baseLine:E,layout:h,isRange:b},m)});id(vg,"renderDotItem",function(t,e){var n;if(ye.isValidElement(t))n=ye.cloneElement(t,e);else if(tr(t))n=t(e);else{var r=hr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Nee(e,OTe);n=ye.createElement(Uj,bm({},s,{key:i,className:r}))}return n});function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function BTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cee(r.key),r)}}function qTe(t,e,n){return e&&zTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UTe(t,e,n){return e=ES(e),HTe(t,jee()?Reflect.construct(e,n||[],ES(t).constructor):e.apply(t,n))}function HTe(t,e){if(e&&(xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VTe(t)}function VTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jee=function(){return!!t})()}function ES(t){return ES=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ES(t)}function WTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hR(t,e)}function hR(t,e){return hR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hR(t,e)}function _ee(t,e,n){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cee(t){var e=KTe(t,"string");return xy(e)=="symbol"?e:e+""}function KTe(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qj=(function(t){function e(){return BTe(this,e),UTe(this,e,arguments)}return WTe(e,t),qTe(e,[{key:"render",value:function(){return null}}])})(w.Component);_ee(Qj,"displayName","ZAxis");_ee(Qj,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var GTe=["option","isActive"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(this,arguments)}function YTe(t,e){if(t==null)return{};var n=XTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QTe(t){var e=t.option,n=t.isActive,r=YTe(t,GTe);return typeof e=="string"?w.createElement(ZM,Mb({option:w.createElement(Tj,Mb({type:e},r)),isActive:n,shapeType:"symbols"},r)):w.createElement(ZM,Mb({option:e,isActive:n,shapeType:"symbols"},r))}function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(this,arguments)}function Wq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wq(Object(n),!0).forEach(function(r){zh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kee(r.key),r)}}function ZTe(t,e,n){return e&&Kq(t.prototype,e),n&&Kq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eOe(t,e,n){return e=jS(e),tOe(t,Aee()?Reflect.construct(e,n||[],jS(t).constructor):e.apply(t,n))}function tOe(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nOe(t)}function nOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aee=function(){return!!t})()}function jS(t){return jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jS(t)}function rOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pR(t,e)}function pR(t,e){return pR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pR(t,e)}function zh(t,e,n){return e=kee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=iOe(t,"string");return by(e)=="symbol"?e:e+""}function iOe(t,e){if(by(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jj=(function(t){function e(){var n;JTe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=eOe(this,e,[].concat(i)),zh(n,"state",{isAnimationFinished:!1}),zh(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),zh(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),zh(n,"id",hg("recharts-scatter-")),n}return rOe(e,t),ZTe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.activeShape,c=s.activeIndex,u=Jn(this.props,!1);return r.map(function(d,f){var m=c===f,h=m?l:o,y=fc(fc({},u),d);return ye.createElement(Br,Rb({className:"recharts-scatter-symbol",key:"symbol-".concat(d?.cx,"-").concat(d?.cy,"-").concat(d?.size,"-").concat(f)},o0(i.props,d,f),{role:"img"}),ye.createElement(QTe,Rb({option:h,isActive:m,key:"symbol-".concat(f)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,s=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return ye.createElement(bu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var h=m.t,y=s.map(function(v,x){var b=f&&f[x];if(b){var S=ws(b.cx,v.cx),E=ws(b.cy,v.cy),_=ws(b.size,v.size);return fc(fc({},v),{},{cx:S(h),cy:E(h),size:_(h)})}var C=ws(0,v.size);return fc(fc({},v),{},{size:C(h)})});return ye.createElement(Br,null,r.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,o=this.state.prevPoints;return s&&i&&i.length&&(!o||!Hm(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.children,u=sl(c,nx);return u?u.map(function(d,f){var m=d.props,h=m.direction,y=m.dataKey;return ye.cloneElement(d,{key:"".concat(h,"-").concat(y,"-").concat(s[f]),data:s,xAxis:o,yAxis:l,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(x,b){return{x:x.cx,y:x.cy,value:h==="x"?+x.node.x:+x.node.y,errorVal:ra(x,b)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,s=r.line,o=r.lineType,l=r.lineJointType,c=Jn(this.props,!1),u=Jn(s,!1),d,f;if(o==="joint")d=i.map(function(E){return{x:E.cx,y:E.cy}});else if(o==="fitting"){var m=$xe(i),h=m.xmin,y=m.xmax,v=m.a,x=m.b,b=function(_){return v*_+x};d=[{x:h,y:b(h)},{x:y,y:b(y)}]}var S=fc(fc(fc({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return ye.isValidElement(s)?f=ye.cloneElement(s,S):tr(s)?f=s(S):f=ye.createElement(km,Rb({},S,{type:l})),ye.createElement(Br,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.points,o=r.line,l=r.className,c=r.xAxis,u=r.yAxis,d=r.left,f=r.top,m=r.width,h=r.height,y=r.id,v=r.isAnimationActive;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,b=hr("recharts-scatter",l),S=c&&c.allowDataOverflow,E=u&&u.allowDataOverflow,_=S||E,C=Gn(y)?this.id:y;return ye.createElement(Br,{className:b,clipPath:_?"url(#clipPath-".concat(C,")"):null},S||E?ye.createElement("defs",null,ye.createElement("clipPath",{id:"clipPath-".concat(C)},ye.createElement("rect",{x:S?d:d-m/2,y:E?f:f-h/2,width:S?m:m*2,height:E?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),ye.createElement(Br,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&ud.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(w.PureComponent);zh(Jj,"displayName","Scatter");zh(Jj,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Np.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});zh(Jj,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,s=t.displayedData,o=t.xAxisTicks,l=t.yAxisTicks,c=t.offset,u=i.props.tooltipType,d=sl(i.props.children,Fh),f=Gn(e.dataKey)?i.props.dataKey:e.dataKey,m=Gn(n.dataKey)?i.props.dataKey:n.dataKey,h=r&&r.dataKey,y=r?r.range:Qj.defaultProps.range,v=y&&y[0],x=e.scale.bandwidth?e.scale.bandwidth():0,b=n.scale.bandwidth?n.scale.bandwidth():0,S=s.map(function(E,_){var C=ra(E,f),O=ra(E,m),M=!Gn(h)&&ra(E,h)||"-",A=[{name:Gn(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:C,payload:E,dataKey:f,type:u},{name:Gn(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:O,payload:E,dataKey:m,type:u}];M!=="-"&&A.push({name:r.name||r.dataKey,unit:r.unit||"",value:M,payload:E,dataKey:h,type:u});var P=ly({axis:e,ticks:o,bandSize:x,entry:E,index:_,dataKey:f}),F=ly({axis:n,ticks:l,bandSize:b,entry:E,index:_,dataKey:m}),R=M!=="-"?r.scale(M):v,$=Math.sqrt(Math.max(R,0)/Math.PI);return fc(fc({},E),{},{cx:P,cy:F,x:P-$,y:F-$,xAxis:e,yAxis:n,zAxis:r,width:2*$,height:2*$,size:R,node:{x:C,y:O,z:M},tooltipPayload:A,tooltipPosition:{x:P,y:F},payload:E},d&&d[_]&&d[_].props)});return fc({points:S},c)});function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function sOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pee(r.key),r)}}function oOe(t,e,n){return e&&aOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lOe(t,e,n){return e=_S(e),cOe(t,Tee()?Reflect.construct(e,n||[],_S(t).constructor):e.apply(t,n))}function cOe(t,e){if(e&&(wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uOe(t)}function uOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tee=function(){return!!t})()}function _S(t){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_S(t)}function dOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mR(t,e)}function mR(t,e){return mR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mR(t,e)}function Oee(t,e,n){return e=Pee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pee(t){var e=fOe(t,"string");return wy(e)=="symbol"?e:e+""}function fOe(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gR(){return gR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gR.apply(this,arguments)}function hOe(t){var e=t.xAxisId,n=FD(),r=$D(),i=oee(e);return i==null?null:w.createElement(rx,gR({},i,{className:hr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return yf(o,!0)}}))}var fd=(function(t){function e(){return sOe(this,e),lOe(this,e,arguments)}return dOe(e,t),oOe(e,[{key:"render",value:function(){return w.createElement(hOe,this.props)}}])})(w.Component);Oee(fd,"displayName","XAxis");Oee(fd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function pOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iee(r.key),r)}}function gOe(t,e,n){return e&&mOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vOe(t,e,n){return e=CS(e),yOe(t,Mee()?Reflect.construct(e,n||[],CS(t).constructor):e.apply(t,n))}function yOe(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xOe(t)}function xOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mee=function(){return!!t})()}function CS(t){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CS(t)}function bOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vR(t,e)}function vR(t,e){return vR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vR(t,e)}function Ree(t,e,n){return e=Iee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=wOe(t,"string");return Ny(e)=="symbol"?e:e+""}function wOe(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yR(){return yR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yR.apply(this,arguments)}var NOe=function(e){var n=e.yAxisId,r=FD(),i=$D(),s=lee(n);return s==null?null:w.createElement(rx,yR({},s,{className:hr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return yf(l,!0)}}))},wc=(function(t){function e(){return pOe(this,e),vOe(this,e,arguments)}return bOe(e,t),gOe(e,[{key:"render",value:function(){return w.createElement(NOe,this.props)}}])})(w.Component);Ree(wc,"displayName","YAxis");Ree(wc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Gq(t){return _Oe(t)||jOe(t)||EOe(t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EOe(t,e){if(t){if(typeof t=="string")return xR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(t,e)}}function jOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Oe(t){if(Array.isArray(t))return xR(t)}function xR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bR=function(e,n,r,i,s){var o=sl(e,zD),l=sl(e,Gj),c=[].concat(Gq(o),Gq(l)),u=sl(e,Xj),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,x){if(x.props[d]===r&&dd(x.props,"extendDomain")&&Pt(x.props[f])){var b=x.props[f];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},m)),u.length){var h="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(v,x){if(x.props[d]===r&&dd(x.props,"extendDomain")&&Pt(x.props[h])&&Pt(x.props[y])){var b=x.props[h],S=x.props[y];return[Math.min(v[0],b,S),Math.max(v[1],b,S)]}return v},m)}return s&&s.length&&(m=s.reduce(function(v,x){return Pt(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},m)),m},rO={exports:{}},Yq;function COe(){return Yq||(Yq=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||c,m),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],h]:c._events[y].push(h):(c._events[y]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,y=new Array(h);m<h;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,y){var v=n?n+u:u;if(!this._events[v])return!1;var x=this._events[v],b=arguments.length,S,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,m),!0;case 5:return x.fn.call(x.context,d,f,m,h),!0;case 6:return x.fn.call(x.context,d,f,m,h,y),!0}for(E=1,S=new Array(b-1);E<b;E++)S[E-1]=arguments[E];x.fn.apply(x.context,S)}else{var _=x.length,C;for(E=0;E<_;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),b){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,d);break;case 3:x[E].fn.call(x[E].context,d,f);break;case 4:x[E].fn.call(x[E].context,d,f,m);break;default:if(!S)for(C=1,S=new Array(b-1);C<b;C++)S[C-1]=arguments[C];x[E].fn.apply(x[E].context,S)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var y=this._events[h];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,h);else{for(var v=0,x=[],b=y.length;v<b;v++)(y[v].fn!==d||m&&!y[v].once||f&&y[v].context!==f)&&x.push(y[v]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(rO)),rO.exports}var AOe=COe();const kOe=zr(AOe);var iO=new kOe,sO="recharts.syncMouseEvents";function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function TOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dee(r.key),r)}}function POe(t,e,n){return e&&OOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aO(t,e,n){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=MOe(t,"string");return z0(e)=="symbol"?e:e+""}function MOe(t,e){if(z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ROe=(function(){function t(){TOe(this,t),aO(this,"activeIndex",0),aO(this,"coordinateList",[]),aO(this,"layout","horizontal")}return POe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function IOe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Pt(r)&&Pt(i))return!0}return!1}function DOe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Lee(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=$a(e,n,r,i),l=$a(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function LOe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=$a(l,c,u,f),h=$a(l,c,d,f);r=m.x,i=m.y,s=h.x,o=h.y}else return Lee(e);return[{x:r,y:i},{x:s,y:o}]}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(n),!0).forEach(function(r){FOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FOe(t,e,n){return e=$Oe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Oe(t){var e=BOe(t,"string");return q0(e)=="symbol"?e:e+""}function BOe(t,e){if(q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zOe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!s||!o||m!=="ScatterChart"&&i!=="axis")return null;var y,v=km;if(m==="ScatterChart")y=o,v=dAe;else if(m==="BarChart")y=DOe(f,o,c,d),v=MD;else if(f==="radial"){var x=Lee(o),b=x.cx,S=x.cy,E=x.radius,_=x.startAngle,C=x.endAngle;y={cx:b,cy:S,startAngle:_,endAngle:C,innerRadius:E,outerRadius:E},v=LZ}else y={points:LOe(f,o,c)},v=km;var O=s2(s2(s2(s2({stroke:"#ccc",pointerEvents:"none"},c),y),Jn(h,!1)),{},{payload:l,payloadIndex:u,className:hr("recharts-tooltip-cursor",h.className)});return w.isValidElement(h)?w.cloneElement(h,O):w.createElement(v,O)}var qOe=["item"],UOe=["children","className","width","height","style","compact","title","desc"];function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function Qq(t,e){return WOe(t)||VOe(t,e)||$ee(t,e)||HOe()}function HOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function WOe(t){if(Array.isArray(t))return t}function Jq(t,e){if(t==null)return{};var n=KOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bee(r.key),r)}}function XOe(t,e,n){return e&&YOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QOe(t,e,n){return e=AS(e),JOe(t,Fee()?Reflect.construct(e,n||[],AS(t).constructor):e.apply(t,n))}function JOe(t,e){if(e&&(Sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZOe(t)}function ZOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fee=function(){return!!t})()}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(t)}function ePe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wR(t,e)}function wR(t,e){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wR(t,e)}function Ey(t){return rPe(t)||nPe(t)||$ee(t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ee(t,e){if(t){if(typeof t=="string")return NR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NR(t,e)}}function nPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rPe(t){if(Array.isArray(t))return NR(t)}function NR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(n),!0).forEach(function(r){Rn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rn(t,e,n){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=iPe(t,"string");return Sy(e)=="symbol"?e:e+""}function iPe(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sPe={xAxis:["bottom","top"],yAxis:["left","right"]},aPe={width:"100%",height:"100%"},zee={x:0,y:0};function a2(t){return t}var oPe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},lPe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return at(at(at({},i),$a(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return at(at(at({},i),$a(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return zee},Zj=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ey(l),Ey(u)):l},[]);return o.length>0?o:e&&e.length&&Pt(i)&&Pt(s)?e.slice(i,s+1):[]};function qee(t){return t==="number"?[0,"auto"]:void 0}var SR=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=Zj(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=ON(h,o.dataKey,i)}else m=f&&f[r]||l[r];return m?[].concat(Ey(c),[RZ(u,m)]):c},[])},eU=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=oPe(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=KEe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=SR(e,n,d,f),h=lPe(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},cPe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=OZ(d,s);return r.reduce(function(y,v){var x,b=v.type.defaultProps!==void 0?at(at({},v.type.defaultProps),v.props):v.props,S=b.type,E=b.dataKey,_=b.allowDataOverflow,C=b.allowDuplicatedCategory,O=b.scale,M=b.ticks,A=b.includeHidden,P=b[o];if(y[P])return y;var F=Zj(e.data,{graphicalItems:i.filter(function(I){var V,J=o in I.props?I.props[o]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[o];return J===P}),dataStartIndex:c,dataEndIndex:u}),R=F.length,$,q,z;IOe(b.domain,_,S)&&($=LM(b.domain,null,_),h&&(S==="number"||O!=="auto")&&(z=Tb(F,E,"category")));var G=qee(S);if(!$||$.length===0){var X,U=(X=b.domain)!==null&&X!==void 0?X:G;if(E){if($=Tb(F,E,S),S==="category"&&h){var W=Fxe($);C&&W?(q=$,$=fS(0,R)):C||($=o9(U,$,v).reduce(function(I,V){return I.indexOf(V)>=0?I:[].concat(Ey(I),[V])},[]))}else if(S==="category")C?$=$.filter(function(I){return I!==""&&!Gn(I)}):$=o9(U,$,v).reduce(function(I,V){return I.indexOf(V)>=0||V===""||Gn(V)?I:[].concat(Ey(I),[V])},[]);else if(S==="number"){var Y=JEe(F,i.filter(function(I){var V,J,re=o in I.props?I.props[o]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[o],fe="hide"in I.props?I.props.hide:(J=I.type.defaultProps)===null||J===void 0?void 0:J.hide;return re===P&&(A||!fe)}),E,s,d);Y&&($=Y)}h&&(S==="number"||O!=="auto")&&(z=Tb(F,E,"category"))}else h?$=fS(0,R):l&&l[P]&&l[P].hasStack&&S==="number"?$=m==="expand"?[0,1]:MZ(l[P].stackGroups,c,u):$=TZ(F,i.filter(function(I){var V=o in I.props?I.props[o]:I.type.defaultProps[o],J="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return V===P&&(A||!J)}),S,d,!0);if(S==="number")$=bR(f,$,P,s,M),U&&($=LM(U,$,_));else if(S==="category"&&U){var ie=U,Q=$.every(function(I){return ie.indexOf(I)>=0});Q&&($=ie)}}return at(at({},y),{},Rn({},P,at(at({},b),{},{axisType:s,domain:$,categoricalDomain:z,duplicateDomain:q,originalDomain:(x=b.domain)!==null&&x!==void 0?x:G,isCategorical:h,layout:d})))},{})},uPe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,m=Zj(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),h=m.length,y=OZ(d,s),v=-1;return r.reduce(function(x,b){var S=b.type.defaultProps!==void 0?at(at({},b.type.defaultProps),b.props):b.props,E=S[o],_=qee("number");if(!x[E]){v++;var C;return y?C=fS(0,h):l&&l[E]&&l[E].hasStack?(C=MZ(l[E].stackGroups,c,u),C=bR(f,C,E,s)):(C=LM(_,TZ(m,r.filter(function(O){var M,A,P=o in O.props?O.props[o]:(M=O.type.defaultProps)===null||M===void 0?void 0:M[o],F="hide"in O.props?O.props.hide:(A=O.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===E&&!F}),"number",d),i.defaultProps.allowDataOverflow),C=bR(f,C,E,s)),at(at({},x),{},Rn({},E,at(at({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ec(sPe,"".concat(s,".").concat(v%2),null),domain:C,originalDomain:_,isCategorical:y,layout:d})))}return x},{})},dPe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),m=sl(d,s),h={};return m&&m.length?h=cPe(e,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=uPe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},fPe=function(e){var n=Rh(e),r=yf(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aD(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:rS(n,r)}},tU=function(e){var n=e.children,r=e.defaultShowTooltip,i=Tl(n,dy),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},hPe=function(e){return!e||!e.length?!1:e.some(function(n){var r=bf(n&&n.type);return r&&r.indexOf("Bar")>=0})},nU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pPe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,m=r.margin||{},h=Tl(f,dy),y=Tl(f,Nf),v=Object.keys(c).reduce(function(C,O){var M=c[O],A=M.orientation;return!M.mirror&&!M.hide?at(at({},C),{},Rn({},A,C[A]+M.width)):C},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(C,O){var M=o[O],A=M.orientation;return!M.mirror&&!M.hide?at(at({},C),{},Rn({},A,Ec(C,"".concat(A))+M.height)):C},{top:m.top||0,bottom:m.bottom||0}),b=at(at({},x),v),S=b.bottom;h&&(b.bottom+=h.props.height||dy.defaultProps.height),y&&n&&(b=XEe(b,i,r,n));var E=u-b.left-b.right,_=d-b.top-b.bottom;return at(at({brushBottom:S},b),{},{width:Math.max(E,0),height:Math.max(_,0)})},mPe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},HD=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(b,S){var E=S.graphicalItems,_=S.stackGroups,C=S.offset,O=S.updateId,M=S.dataStartIndex,A=S.dataEndIndex,P=b.barSize,F=b.layout,R=b.barGap,$=b.barCategoryGap,q=b.maxBarSize,z=nU(F),G=z.numericAxisName,X=z.cateAxisName,U=hPe(E),W=[];return E.forEach(function(Y,ie){var Q=Zj(b.data,{graphicalItems:[Y],dataStartIndex:M,dataEndIndex:A}),I=Y.type.defaultProps!==void 0?at(at({},Y.type.defaultProps),Y.props):Y.props,V=I.dataKey,J=I.maxBarSize,re=I["".concat(G,"Id")],fe=I["".concat(X,"Id")],pe={},xe=c.reduce(function(Se,ke){var Ge=S["".concat(ke.axisType,"Map")],Ye=I["".concat(ke.axisType,"Id")];Ge&&Ge[Ye]||ke.axisType==="zAxis"||Wm();var We=Ge[Ye];return at(at({},Se),{},Rn(Rn({},ke.axisType,We),"".concat(ke.axisType,"Ticks"),yf(We)))},pe),de=xe[X],we=xe["".concat(X,"Ticks")],Ce=_&&_[re]&&_[re].hasStack&&uje(Y,_[re].stackGroups),ae=bf(Y.type).indexOf("Bar")>=0,Pe=rS(de,we),ee=[],ne=U&&GEe({barSize:P,stackGroups:_,totalSize:mPe(xe,X)});if(ae){var Re,ft,et=Gn(J)?q:J,Ke=(Re=(ft=rS(de,we,!0))!==null&&ft!==void 0?ft:et)!==null&&Re!==void 0?Re:0;ee=YEe({barGap:R,barCategoryGap:$,bandSize:Ke!==Pe?Ke:Pe,sizeList:ne[fe],maxBarSize:et}),Ke!==Pe&&(ee=ee.map(function(Se){return at(at({},Se),{},{position:at(at({},Se.position),{},{offset:Se.position.offset-Ke/2})})}))}var me=Y&&Y.type&&Y.type.getComposedData;me&&W.push({props:at(at({},me(at(at({},xe),{},{displayedData:Q,props:b,dataKey:V,item:Y,bandSize:Pe,barPosition:ee,offset:C,stackedData:Ce,layout:F,dataStartIndex:M,dataEndIndex:A}))),{},Rn(Rn(Rn({key:Y.key||"item-".concat(ie)},G,xe[G]),X,xe[X]),"animationId",O)),childIndex:Qxe(Y,b.children),item:Y})}),W},h=function(b,S){var E=b.props,_=b.dataStartIndex,C=b.dataEndIndex,O=b.updateId;if(!N$({props:E}))return null;var M=E.children,A=E.layout,P=E.stackOffset,F=E.data,R=E.reverseStackOrder,$=nU(A),q=$.numericAxisName,z=$.cateAxisName,G=sl(M,r),X=oje(F,G,"".concat(q,"Id"),"".concat(z,"Id"),P,R),U=c.reduce(function(I,V){var J="".concat(V.axisType,"Map");return at(at({},I),{},Rn({},J,dPe(E,at(at({},V),{},{graphicalItems:G,stackGroups:V.axisType===q&&X,dataStartIndex:_,dataEndIndex:C}))))},{}),W=pPe(at(at({},U),{},{props:E,graphicalItems:G}),S?.legendBBox);Object.keys(U).forEach(function(I){U[I]=d(E,U[I],W,I.replace("Map",""),n)});var Y=U["".concat(z,"Map")],ie=fPe(Y),Q=m(E,at(at({},U),{},{dataStartIndex:_,dataEndIndex:C,updateId:O,graphicalItems:G,stackGroups:X,offset:W}));return at(at({formattedGraphicalItems:Q,graphicalItems:G,offset:W,stackGroups:X},ie),U)},y=(function(x){function b(S){var E,_,C;return GOe(this,b),C=QOe(this,b,[S]),Rn(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Rn(C,"accessibilityManager",new ROe),Rn(C,"handleLegendBBoxUpdate",function(O){if(O){var M=C.state,A=M.dataStartIndex,P=M.dataEndIndex,F=M.updateId;C.setState(at({legendBBox:O},h({props:C.props,dataStartIndex:A,dataEndIndex:P,updateId:F},at(at({},C.state),{},{legendBBox:O}))))}}),Rn(C,"handleReceiveSyncEvent",function(O,M,A){if(C.props.syncId===O){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(M)}}),Rn(C,"handleBrushChange",function(O){var M=O.startIndex,A=O.endIndex;if(M!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var P=C.state.updateId;C.setState(function(){return at({dataStartIndex:M,dataEndIndex:A},h({props:C.props,dataStartIndex:M,dataEndIndex:A,updateId:P},C.state))}),C.triggerSyncEvent({dataStartIndex:M,dataEndIndex:A})}}),Rn(C,"handleMouseEnter",function(O){var M=C.getMouseInfo(O);if(M){var A=at(at({},M),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseEnter;tr(P)&&P(A,O)}}),Rn(C,"triggeredAfterMouseMove",function(O){var M=C.getMouseInfo(O),A=M?at(at({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseMove;tr(P)&&P(A,O)}),Rn(C,"handleItemMouseEnter",function(O){C.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Rn(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Rn(C,"handleMouseMove",function(O){O.persist(),C.throttleTriggeredAfterMouseMove(O)}),Rn(C,"handleMouseLeave",function(O){C.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var A=C.props.onMouseLeave;tr(A)&&A(M,O)}),Rn(C,"handleOuterEvent",function(O){var M=Xxe(O),A=Ec(C.props,"".concat(M));if(M&&tr(A)){var P,F;/.*touch.*/i.test(M)?F=C.getMouseInfo(O.changedTouches[0]):F=C.getMouseInfo(O),A((P=F)!==null&&P!==void 0?P:{},O)}}),Rn(C,"handleClick",function(O){var M=C.getMouseInfo(O);if(M){var A=at(at({},M),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var P=C.props.onClick;tr(P)&&P(A,O)}}),Rn(C,"handleMouseDown",function(O){var M=C.props.onMouseDown;if(tr(M)){var A=C.getMouseInfo(O);M(A,O)}}),Rn(C,"handleMouseUp",function(O){var M=C.props.onMouseUp;if(tr(M)){var A=C.getMouseInfo(O);M(A,O)}}),Rn(C,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Rn(C,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseDown(O.changedTouches[0])}),Rn(C,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&C.handleMouseUp(O.changedTouches[0])}),Rn(C,"handleDoubleClick",function(O){var M=C.props.onDoubleClick;if(tr(M)){var A=C.getMouseInfo(O);M(A,O)}}),Rn(C,"handleContextMenu",function(O){var M=C.props.onContextMenu;if(tr(M)){var A=C.getMouseInfo(O);M(A,O)}}),Rn(C,"triggerSyncEvent",function(O){C.props.syncId!==void 0&&iO.emit(sO,C.props.syncId,O,C.eventEmitterSymbol)}),Rn(C,"applySyncEvent",function(O){var M=C.props,A=M.layout,P=M.syncMethod,F=C.state.updateId,R=O.dataStartIndex,$=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)C.setState(at({dataStartIndex:R,dataEndIndex:$},h({props:C.props,dataStartIndex:R,dataEndIndex:$,updateId:F},C.state)));else if(O.activeTooltipIndex!==void 0){var q=O.chartX,z=O.chartY,G=O.activeTooltipIndex,X=C.state,U=X.offset,W=X.tooltipTicks;if(!U)return;if(typeof P=="function")G=P(W,O);else if(P==="value"){G=-1;for(var Y=0;Y<W.length;Y++)if(W[Y].value===O.activeLabel){G=Y;break}}var ie=at(at({},U),{},{x:U.left,y:U.top}),Q=Math.min(q,ie.x+ie.width),I=Math.min(z,ie.y+ie.height),V=W[G]&&W[G].value,J=SR(C.state,C.props.data,G),re=W[G]?{x:A==="horizontal"?W[G].coordinate:Q,y:A==="horizontal"?I:W[G].coordinate}:zee;C.setState(at(at({},O),{},{activeLabel:V,activeCoordinate:re,activePayload:J,activeTooltipIndex:G}))}else C.setState(O)}),Rn(C,"renderCursor",function(O){var M,A=C.state,P=A.isTooltipActive,F=A.activeCoordinate,R=A.activePayload,$=A.offset,q=A.activeTooltipIndex,z=A.tooltipAxisBandSize,G=C.getTooltipEventType(),X=(M=O.props.active)!==null&&M!==void 0?M:P,U=C.props.layout,W=O.key||"_recharts-cursor";return ye.createElement(zOe,{key:W,activeCoordinate:F,activePayload:R,activeTooltipIndex:q,chartName:n,element:O,isActive:X,layout:U,offset:$,tooltipAxisBandSize:z,tooltipEventType:G})}),Rn(C,"renderPolarAxis",function(O,M,A){var P=Ec(O,"type.axisType"),F=Ec(C.state,"".concat(P,"Map")),R=O.type.defaultProps,$=R!==void 0?at(at({},R),O.props):O.props,q=F&&F[$["".concat(P,"Id")]];return w.cloneElement(O,at(at({},q),{},{className:hr(P,q.className),key:O.key||"".concat(M,"-").concat(A),ticks:yf(q,!0)}))}),Rn(C,"renderPolarGrid",function(O){var M=O.props,A=M.radialLines,P=M.polarAngles,F=M.polarRadius,R=C.state,$=R.radiusAxisMap,q=R.angleAxisMap,z=Rh($),G=Rh(q),X=G.cx,U=G.cy,W=G.innerRadius,Y=G.outerRadius;return w.cloneElement(O,{polarAngles:Array.isArray(P)?P:yf(G,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(F)?F:yf(z,!0).map(function(ie){return ie.coordinate}),cx:X,cy:U,innerRadius:W,outerRadius:Y,key:O.key||"polar-grid",radialLines:A})}),Rn(C,"renderLegend",function(){var O=C.state.formattedGraphicalItems,M=C.props,A=M.children,P=M.width,F=M.height,R=C.props.margin||{},$=P-(R.left||0)-(R.right||0),q=AZ({children:A,formattedGraphicalItems:O,legendWidth:$,legendContent:u});if(!q)return null;var z=q.item,G=Jq(q,qOe);return w.cloneElement(z,at(at({},G),{},{chartWidth:P,chartHeight:F,margin:R,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Rn(C,"renderTooltip",function(){var O,M=C.props,A=M.children,P=M.accessibilityLayer,F=Tl(A,Zo);if(!F)return null;var R=C.state,$=R.isTooltipActive,q=R.activeCoordinate,z=R.activePayload,G=R.activeLabel,X=R.offset,U=(O=F.props.active)!==null&&O!==void 0?O:$;return w.cloneElement(F,{viewBox:at(at({},X),{},{x:X.left,y:X.top}),active:U,label:G,payload:U?z:[],coordinate:q,accessibilityLayer:P})}),Rn(C,"renderBrush",function(O){var M=C.props,A=M.margin,P=M.data,F=C.state,R=F.offset,$=F.dataStartIndex,q=F.dataEndIndex,z=F.updateId;return w.cloneElement(O,{key:O.key||"_recharts-brush",onChange:t2(C.handleBrushChange,O.props.onChange),data:P,x:Pt(O.props.x)?O.props.x:R.left,y:Pt(O.props.y)?O.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:Pt(O.props.width)?O.props.width:R.width,startIndex:$,endIndex:q,updateId:"brush-".concat(z)})}),Rn(C,"renderReferenceElement",function(O,M,A){if(!O)return null;var P=C,F=P.clipPathId,R=C.state,$=R.xAxisMap,q=R.yAxisMap,z=R.offset,G=O.type.defaultProps||{},X=O.props,U=X.xAxisId,W=U===void 0?G.xAxisId:U,Y=X.yAxisId,ie=Y===void 0?G.yAxisId:Y;return w.cloneElement(O,{key:O.key||"".concat(M,"-").concat(A),xAxis:$[W],yAxis:q[ie],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:F})}),Rn(C,"renderActivePoints",function(O){var M=O.item,A=O.activePoint,P=O.basePoint,F=O.childIndex,R=O.isRange,$=[],q=M.props.key,z=M.item.type.defaultProps!==void 0?at(at({},M.item.type.defaultProps),M.item.props):M.item.props,G=z.activeDot,X=z.dataKey,U=at(at({index:F,dataKey:X,cx:A.x,cy:A.y,r:4,fill:PD(M.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Jn(G,!1)),PN(G));return $.push(b.renderActiveDot(G,U,"".concat(q,"-activePoint-").concat(F))),P?$.push(b.renderActiveDot(G,at(at({},U),{},{cx:P.x,cy:P.y}),"".concat(q,"-basePoint-").concat(F))):R&&$.push(null),$}),Rn(C,"renderGraphicChild",function(O,M,A){var P=C.filterFormatItem(O,M,A);if(!P)return null;var F=C.getTooltipEventType(),R=C.state,$=R.isTooltipActive,q=R.tooltipAxis,z=R.activeTooltipIndex,G=R.activeLabel,X=C.props.children,U=Tl(X,Zo),W=P.props,Y=W.points,ie=W.isRange,Q=W.baseLine,I=P.item.type.defaultProps!==void 0?at(at({},P.item.type.defaultProps),P.item.props):P.item.props,V=I.activeDot,J=I.hide,re=I.activeBar,fe=I.activeShape,pe=!!(!J&&$&&U&&(V||re||fe)),xe={};F!=="axis"&&U&&U.props.trigger==="click"?xe={onClick:t2(C.handleItemMouseEnter,O.props.onClick)}:F!=="axis"&&(xe={onMouseLeave:t2(C.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:t2(C.handleItemMouseEnter,O.props.onMouseEnter)});var de=w.cloneElement(O,at(at({},P.props),xe));function we(ke){return typeof q.dataKey=="function"?q.dataKey(ke.payload):null}if(pe)if(z>=0){var Ce,ae;if(q.dataKey&&!q.allowDuplicatedCategory){var Pe=typeof q.dataKey=="function"?we:"payload.".concat(q.dataKey.toString());Ce=ON(Y,Pe,G),ae=ie&&Q&&ON(Q,Pe,G)}else Ce=Y?.[z],ae=ie&&Q&&Q[z];if(fe||re){var ee=O.props.activeIndex!==void 0?O.props.activeIndex:z;return[w.cloneElement(O,at(at(at({},P.props),xe),{},{activeIndex:ee})),null,null]}if(!Gn(Ce))return[de].concat(Ey(C.renderActivePoints({item:P,activePoint:Ce,basePoint:ae,childIndex:z,isRange:ie})))}else{var ne,Re=(ne=C.getItemByXY(C.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:de},ft=Re.graphicalItem,et=ft.item,Ke=et===void 0?O:et,me=ft.childIndex,Se=at(at(at({},P.props),xe),{},{activeIndex:me});return[w.cloneElement(Ke,Se),null,null]}return ie?[de,null,null]:[de,null]}),Rn(C,"renderCustomized",function(O,M,A){return w.cloneElement(O,at(at({key:"recharts-customized-".concat(A)},C.props),C.state))}),Rn(C,"renderMap",{CartesianGrid:{handler:a2,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:a2},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:a2},YAxis:{handler:a2},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((E=S.id)!==null&&E!==void 0?E:hg("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=AJ(C.triggeredAfterMouseMove,(_=S.throttleDelay)!==null&&_!==void 0?_:1e3/60),C.state={},C}return ePe(b,x),XOe(b,[{key:"componentDidMount",value:function(){var E,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,_=E.children,C=E.data,O=E.height,M=E.layout,A=Tl(_,Zo);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,R=SR(this.state,C,P,F),$=this.state.tooltipTicks[P].coordinate,q=(this.state.offset.top+O)/2,z=M==="horizontal",G=z?{x:$,y:q}:{y:$,x:q},X=this.state.formattedGraphicalItems.find(function(W){var Y=W.item;return Y.type.name==="Scatter"});X&&(G=at(at({},G),X.props.points[P].tooltipPosition),R=X.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:F,activePayload:R,activeCoordinate:G};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var C,O;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(E){sM([Tl(E.children,Zo)],[Tl(this.props.children,Zo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Tl(this.props.children,Zo);if(E&&typeof E.props.shared=="boolean"){var _=E.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var _=this.container,C=_.getBoundingClientRect(),O=Lwe(C),M={chartX:Math.round(E.pageX-O.left),chartY:Math.round(E.pageY-O.top)},A=C.width/_.offsetWidth||1,P=this.inRange(M.chartX,M.chartY,A);if(!P)return null;var F=this.state,R=F.xAxisMap,$=F.yAxisMap,q=this.getTooltipEventType(),z=eU(this.state,this.props.data,this.props.layout,P);if(q!=="axis"&&R&&$){var G=Rh(R).scale,X=Rh($).scale,U=G&&G.invert?G.invert(M.chartX):null,W=X&&X.invert?X.invert(M.chartY):null;return at(at({},M),{},{xValue:U,yValue:W},z)}return z?at(at({},M),z):null}},{key:"inRange",value:function(E,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,M=E/C,A=_/C;if(O==="horizontal"||O==="vertical"){var P=this.state.offset,F=M>=P.left&&M<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return F?{x:M,y:A}:null}var R=this.state,$=R.angleAxisMap,q=R.radiusAxisMap;if($&&q){var z=Rh($);return u9({x:M,y:A},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,_=this.getTooltipEventType(),C=Tl(E,Zo),O={};C&&_==="axis"&&(C.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=PN(this.props,this.handleOuterEvent);return at(at({},M),O)}},{key:"addListener",value:function(){iO.on(sO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iO.removeListener(sO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,_,C){for(var O=this.state.formattedGraphicalItems,M=0,A=O.length;M<A;M++){var P=O[M];if(P.item===E||P.props.key===E.key||_===bf(P.item.type)&&C===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,_=this.state.offset,C=_.left,O=_.top,M=_.height,A=_.width;return ye.createElement("defs",null,ye.createElement("clipPath",{id:E},ye.createElement("rect",{x:C,y:O,height:M,width:A})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(_,C){var O=Qq(C,2),M=O[0],A=O[1];return at(at({},_),{},Rn({},M,A.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(_,C){var O=Qq(C,2),M=O[0],A=O[1];return at(at({},_),{},Rn({},M,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[E])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(E){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[E])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(E){var _=this.state,C=_.formattedGraphicalItems,O=_.activeItem;if(C&&C.length)for(var M=0,A=C.length;M<A;M++){var P=C[M],F=P.props,R=P.item,$=R.type.defaultProps!==void 0?at(at({},R.type.defaultProps),R.props):R.props,q=bf(R.type);if(q==="Bar"){var z=(F.data||[]).find(function(W){return tAe(E,W)});if(z)return{graphicalItem:P,payload:z}}else if(q==="RadialBar"){var G=(F.data||[]).find(function(W){return u9(E,W)});if(G)return{graphicalItem:P,payload:G}}else if(Hj(P,O)||Vj(P,O)||D0(P,O)){var X=HAe({graphicalItem:P,activeTooltipItem:O,itemData:$.data}),U=$.activeIndex===void 0?X:$.activeIndex;return{graphicalItem:at(at({},P),{},{childIndex:U}),payload:D0(P,O)?$.data[X]:P.props.data[X]}}}return null}},{key:"render",value:function(){var E=this;if(!N$(this))return null;var _=this.props,C=_.children,O=_.className,M=_.width,A=_.height,P=_.style,F=_.compact,R=_.title,$=_.desc,q=Jq(_,UOe),z=Jn(q,!1);if(F)return ye.createElement(Aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ye.createElement(oM,jv({},z,{width:M,height:A,title:R,desc:$}),this.renderClipPath(),E$(C,this.renderMap)));if(this.props.accessibilityLayer){var G,X;z.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,z.role=(X=this.props.role)!==null&&X!==void 0?X:"application",z.onKeyDown=function(W){E.accessibilityManager.keyboardEvent(W)},z.onFocus=function(){E.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return ye.createElement(Aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ye.createElement("div",jv({className:hr("recharts-wrapper",O),style:at({position:"relative",cursor:"default",width:M,height:A},P)},U,{ref:function(Y){E.container=Y}}),ye.createElement(oM,jv({},z,{width:M,height:A,title:R,desc:$,style:aPe}),this.renderClipPath(),E$(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);Rn(y,"displayName",n),Rn(y,"defaultProps",at({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Rn(y,"getDerivedStateFromProps",function(x,b){var S=x.dataKey,E=x.data,_=x.children,C=x.width,O=x.height,M=x.layout,A=x.stackOffset,P=x.margin,F=b.dataStartIndex,R=b.dataEndIndex;if(b.updateId===void 0){var $=tU(x);return at(at(at({},$),{},{updateId:0},h(at(at({props:x},$),{},{updateId:0}),b)),{},{prevDataKey:S,prevData:E,prevWidth:C,prevHeight:O,prevLayout:M,prevStackOffset:A,prevMargin:P,prevChildren:_})}if(S!==b.prevDataKey||E!==b.prevData||C!==b.prevWidth||O!==b.prevHeight||M!==b.prevLayout||A!==b.prevStackOffset||!Iv(P,b.prevMargin)){var q=tU(x),z={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},G=at(at({},eU(b,E,M)),{},{updateId:b.updateId+1}),X=at(at(at({},q),z),G);return at(at(at({},X),h(at({props:x},X),b)),{},{prevDataKey:S,prevData:E,prevWidth:C,prevHeight:O,prevLayout:M,prevStackOffset:A,prevMargin:P,prevChildren:_})}if(!sM(_,b.prevChildren)){var U,W,Y,ie,Q=Tl(_,dy),I=Q&&(U=(W=Q.props)===null||W===void 0?void 0:W.startIndex)!==null&&U!==void 0?U:F,V=Q&&(Y=(ie=Q.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&Y!==void 0?Y:R,J=I!==F||V!==R,re=!Gn(E),fe=re&&!J?b.updateId:b.updateId+1;return at(at({updateId:fe},h(at(at({props:x},b),{},{updateId:fe,dataStartIndex:I,dataEndIndex:V}),b)),{},{prevChildren:_,dataStartIndex:I,dataEndIndex:V})}return null}),Rn(y,"renderActiveDot",function(x,b,S){var E;return w.isValidElement(x)?E=w.cloneElement(x,b):tr(x)?E=x(b):E=ye.createElement(Uj,b),ye.createElement(Br,{className:"recharts-active-dot",key:S},E)});var v=w.forwardRef(function(b,S){return ye.createElement(y,jv({},b,{ref:S}))});return v.displayName=y.displayName,v},gPe=HD({chartName:"LineChart",GraphicalChild:Mf,axisComponents:[{axisType:"xAxis",AxisComp:fd},{axisType:"yAxis",AxisComp:wc}],formatAxisMap:RD}),ER=HD({chartName:"BarChart",GraphicalChild:To,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fd},{axisType:"yAxis",AxisComp:wc}],formatAxisMap:RD}),vPe=HD({chartName:"ComposedChart",GraphicalChild:[Mf,vg,To,Jj],axisComponents:[{axisType:"xAxis",AxisComp:fd},{axisType:"yAxis",AxisComp:wc},{axisType:"zAxis",AxisComp:Qj}],formatAxisMap:RD});function yPe(){const{data:t,isLoading:e}=Wt({queryKey:["/api/dashboard/stats"]}),n=t?[{name:"Pendientes",value:t.tareasPendientes,fill:"hsl(var(--chart-4))"},{name:"En Progreso",value:t.tareasEnProgreso,fill:"hsl(var(--chart-2))"},{name:"Completadas",value:t.tareasCompletadas,fill:"hsl(var(--chart-3))"}]:[];return e?a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx(Kn,{className:"h-9 w-48 mb-2"}),a.jsx(Kn,{className:"h-5 w-96"})]}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((r,i)=>a.jsxs(Ue,{children:[a.jsxs(lt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[a.jsx(Kn,{className:"h-4 w-32"}),a.jsx(Kn,{className:"h-4 w-4"})]}),a.jsxs(He,{children:[a.jsx(Kn,{className:"h-8 w-16 mb-2"}),a.jsx(Kn,{className:"h-3 w-24"})]})]},i))})]}):a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen general de la actividad"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Ue,{className:"hover-elevate",children:[a.jsxs(lt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[a.jsx(ut,{className:"text-sm font-medium",children:"Clientes Activos"}),a.jsx(_b,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(He,{children:[a.jsx("div",{className:"text-3xl font-bold",children:t?.clientesActivos||0}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.totalClientes||0," totales"]})]})]}),a.jsxs(Ue,{className:"hover-elevate",children:[a.jsxs(lt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[a.jsx(ut,{className:"text-sm font-medium",children:"Impuestos Pendientes"}),a.jsx(fo,{className:"h-4 w-4 text-chart-4"})]}),a.jsxs(He,{children:[a.jsx("div",{className:"text-3xl font-bold text-chart-4",children:t?.impuestosPendientes||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"requieren atencin"})]})]}),a.jsxs(Ue,{className:"hover-elevate",children:[a.jsxs(lt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[a.jsx(ut,{className:"text-sm font-medium",children:"Tareas Activas"}),a.jsx(Ov,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(He,{children:[a.jsx("div",{className:"text-3xl font-bold",children:(t?.tareasPendientes||0)+(t?.tareasEnProgreso||0)}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t?.tareasGenerales||0," generales, ",t?.tareasPersonales||0," personales"]})]})]}),a.jsxs(Ue,{className:"hover-elevate",children:[a.jsxs(lt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[a.jsx(ut,{className:"text-sm font-medium",children:"Manuales"}),a.jsx(xN,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(He,{children:[a.jsx("div",{className:"text-3xl font-bold",children:t?.manualesPublicados||0}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.manualesTotal||0," publicados"]})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[null,a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(zy,{className:"h-5 w-5"}),"Distribucin de Tareas"]})}),a.jsx(He,{children:a.jsx(Cb,{width:"100%",height:300,children:a.jsxs(ER,{data:n,children:[a.jsx(Fv,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(fd,{dataKey:"name",className:"text-xs"}),a.jsx(wc,{className:"text-xs"}),a.jsx(Zo,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),a.jsx(To,{dataKey:"value",radius:[8,8,0,0],children:n.map((r,i)=>a.jsx(Fh,{fill:r.fill},`cell-${i}`))})]})})})]})]})]})}var Z2={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var xPe=Z2.exports,rU;function bPe(){return rU||(rU=1,(function(t,e){((n,r)=>{t.exports=r()})(xPe,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},c=0,u={};function d(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var F=C(P);F.chunkSize=parseInt(F.chunkSize),P.step||P.chunk||(F.chunkSize=null),this._handle=new v(F),(this._handle.streamer=this)._config=F}).call(this,A),this.parseChunk=function(P,F){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let q=this._config.newline;q||($=this._config.quoteChar||'"',q=this._handle.guessLineEndings(P,$)),P=[...P.split(q).slice(R)].join(q)}this.isFirstChunk&&M(this._config.beforeFirstChunk)&&($=this._config.beforeFirstChunk(P))!==void 0&&(P=$),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+P,$=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=$.meta.cursor,R=(this._finished||(this._partialLine=R.substring(P-this._baseIndex),this._baseIndex=P),$&&$.data&&(this._rowCount+=$.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:$,workerId:u.WORKER_ID,finished:R});else if(M(this._config.chunk)&&!F){if(this._config.chunk($,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=$=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat($.data),this._completeResults.errors=this._completeResults.errors.concat($.errors),this._completeResults.meta=$.meta),this._completed||!R||!M(this._config.complete)||$&&$.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||$&&$.meta.paused||this._nextChunk(),$}this._halted=!0},this._sendError=function(P){M(this._config.error)?this._config.error(P):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:P,finished:!1})}}function f(A){var P;(A=A||{}).chunkSize||(A.chunkSize=u.RemoteChunkSize),d.call(this,A),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),s||(P.onload=O(this._chunkLoaded,this),P.onerror=O(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var F,R=this._config.downloadRequestHeaders;for(F in R)P.setRequestHeader(F,R[F])}var $;this._config.chunkSize&&($=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+$));try{P.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(F=>(F=F.getResponseHeader("Content-Range"))!==null?parseInt(F.substring(F.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(F){F=P.statusText||F,this._sendError(new Error(F))}}function m(A){(A=A||{}).chunkSize||(A.chunkSize=u.LocalChunkSize),d.call(this,A);var P,F,R=typeof FileReader<"u";this.stream=function($){this._input=$,F=$.slice||$.webkitSlice||$.mozSlice,R?((P=new FileReader).onload=O(this._chunkLoaded,this),P.onerror=O(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var $=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),$=F.call($,this._start,q)),P.readAsText($,this._config.encoding));R||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function($){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk($.target.result)},this._chunkError=function(){this._sendError(P.error)}}function h(A){var P;d.call(this,A=A||{}),this.stream=function(F){return P=F,this._nextChunk()},this._nextChunk=function(){var F,R;if(!this._finished)return F=this._config.chunkSize,P=F?(R=P.substring(0,F),P.substring(F)):(R=P,""),this._finished=!P,this.parseChunk(R)}}function y(A){d.call(this,A=A||{});var P=[],F=!0,R=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function($){this._input=$,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):F=!0},this._streamData=O(function($){try{P.push(typeof $=="string"?$:$.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(q){this._streamError(q)}},this),this._streamError=O(function($){this._streamCleanUp(),this._sendError($)},this),this._streamEnd=O(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(A){var P,F,R,$,q=Math.pow(2,53),z=-q,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,W=0,Y=0,ie=!1,Q=!1,I=[],V={data:[],errors:[],meta:{}};function J(xe){return A.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function re(){if(V&&R&&(pe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),R=!1),A.skipEmptyLines&&(V.data=V.data.filter(function(Ce){return!J(Ce)})),fe()){let Ce=function(ae,Pe){M(A.transformHeader)&&(ae=A.transformHeader(ae,Pe)),I.push(ae)};if(V)if(Array.isArray(V.data[0])){for(var xe=0;fe()&&xe<V.data.length;xe++)V.data[xe].forEach(Ce);V.data.splice(0,1)}else V.data.forEach(Ce)}function de(Ce,ae){for(var Pe=A.header?{}:[],ee=0;ee<Ce.length;ee++){var ne=ee,Re=Ce[ee],Re=((ft,et)=>(Ke=>(A.dynamicTypingFunction&&A.dynamicTyping[Ke]===void 0&&(A.dynamicTyping[Ke]=A.dynamicTypingFunction(Ke)),(A.dynamicTyping[Ke]||A.dynamicTyping)===!0))(ft)?et==="true"||et==="TRUE"||et!=="false"&&et!=="FALSE"&&((Ke=>{if(G.test(Ke)&&(Ke=parseFloat(Ke),z<Ke&&Ke<q))return 1})(et)?parseFloat(et):X.test(et)?new Date(et):et===""?null:et):et)(ne=A.header?ee>=I.length?"__parsed_extra":I[ee]:ne,Re=A.transform?A.transform(Re,ne):Re);ne==="__parsed_extra"?(Pe[ne]=Pe[ne]||[],Pe[ne].push(Re)):Pe[ne]=Re}return A.header&&(ee>I.length?pe("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+ee,Y+ae):ee<I.length&&pe("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+ee,Y+ae)),Pe}var we;V&&(A.header||A.dynamicTyping||A.transform)&&(we=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(de),we=V.data.length):V.data=de(V.data,0),A.header&&V.meta&&(V.meta.fields=I),Y+=we)}function fe(){return A.header&&I.length===0}function pe(xe,de,we,Ce){xe={type:xe,code:de,message:we},Ce!==void 0&&(xe.row=Ce),V.errors.push(xe)}M(A.step)&&($=A.step,A.step=function(xe){V=xe,fe()?re():(re(),V.data.length!==0&&(W+=xe.data.length,A.preview&&W>A.preview?F.abort():(V.data=V.data[0],$(V,U))))}),this.parse=function(xe,de,we){var Ce=A.quoteChar||'"',Ce=(A.newline||(A.newline=this.guessLineEndings(xe,Ce)),R=!1,A.delimiter?M(A.delimiter)&&(A.delimiter=A.delimiter(xe),V.meta.delimiter=A.delimiter):((Ce=((ae,Pe,ee,ne,Re)=>{var ft,et,Ke,me;Re=Re||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Se=0;Se<Re.length;Se++){for(var ke,Ge=Re[Se],Ye=0,We=0,nt=0,_t=(Ke=void 0,new b({comments:ne,delimiter:Ge,newline:Pe,preview:10}).parse(ae)),wt=0;wt<_t.data.length;wt++)ee&&J(_t.data[wt])?nt++:(ke=_t.data[wt].length,We+=ke,Ke===void 0?Ke=ke:0<ke&&(Ye+=Math.abs(ke-Ke),Ke=ke));0<_t.data.length&&(We/=_t.data.length-nt),(et===void 0||Ye<=et)&&(me===void 0||me<We)&&1.99<We&&(et=Ye,ft=Ge,me=We)}return{successful:!!(A.delimiter=ft),bestDelimiter:ft}})(xe,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=Ce.bestDelimiter:(R=!0,A.delimiter=u.DefaultDelimiter),V.meta.delimiter=A.delimiter),C(A));return A.preview&&A.header&&Ce.preview++,P=xe,F=new b(Ce),V=F.parse(P,de,we),re(),ie?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,F.abort(),P=M(A.chunk)?"":P.substring(F.getCharIndex())},this.resume=function(){U.streamer._halted?(ie=!1,U.streamer.parseChunk(P,!0)):setTimeout(U.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,F.abort(),V.meta.aborted=!0,M(A.complete)&&A.complete(V),P=""},this.guessLineEndings=function(ae,Ce){ae=ae.substring(0,1048576);var Ce=new RegExp(x(Ce)+"([^]*?)"+x(Ce),"gm"),we=(ae=ae.replace(Ce,"")).split("\r"),Ce=ae.split(`
`),ae=1<Ce.length&&Ce[0].length<we[0].length;if(we.length===1||ae)return`
`;for(var Pe=0,ee=0;ee<we.length;ee++)we[ee][0]===`
`&&Pe++;return Pe>=we.length/2?`\r
`:"\r"}}function x(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(A){var P=(A=A||{}).delimiter,F=A.newline,R=A.comments,$=A.step,q=A.preview,z=A.fastMode,G=null,X=!1,U=A.quoteChar==null?'"':A.quoteChar,W=U;if(A.escapeChar!==void 0&&(W=A.escapeChar),(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=","),R===P)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<u.BAD_DELIMITERS.indexOf(R))&&(R=!1),F!==`
`&&F!=="\r"&&F!==`\r
`&&(F=`
`);var Y=0,ie=!1;this.parse=function(Q,I,V){if(typeof Q!="string")throw new Error("Input must be a string");var J=Q.length,re=P.length,fe=F.length,pe=R.length,xe=M($),de=[],we=[],Ce=[],ae=Y=0;if(!Q)return Ye();if(z||z!==!1&&Q.indexOf(U)===-1){for(var Pe=Q.split(F),ee=0;ee<Pe.length;ee++){if(Ce=Pe[ee],Y+=Ce.length,ee!==Pe.length-1)Y+=F.length;else if(V)return Ye();if(!R||Ce.substring(0,pe)!==R){if(xe){if(de=[],me(Ce.split(P)),We(),ie)return Ye()}else me(Ce.split(P));if(q&&q<=ee)return de=de.slice(0,q),Ye(!0)}}return Ye()}for(var ne=Q.indexOf(P,Y),Re=Q.indexOf(F,Y),ft=new RegExp(x(W)+x(U),"g"),et=Q.indexOf(U,Y);;)if(Q[Y]===U)for(et=Y,Y++;;){if((et=Q.indexOf(U,et+1))===-1)return V||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:Y}),ke();if(et===J-1)return ke(Q.substring(Y,et).replace(ft,U));if(U===W&&Q[et+1]===W)et++;else if(U===W||et===0||Q[et-1]!==W){ne!==-1&&ne<et+1&&(ne=Q.indexOf(P,et+1));var Ke=Se((Re=Re!==-1&&Re<et+1?Q.indexOf(F,et+1):Re)===-1?ne:Math.min(ne,Re));if(Q.substr(et+1+Ke,re)===P){Ce.push(Q.substring(Y,et).replace(ft,U)),Q[Y=et+1+Ke+re]!==U&&(et=Q.indexOf(U,Y)),ne=Q.indexOf(P,Y),Re=Q.indexOf(F,Y);break}if(Ke=Se(Re),Q.substring(et+1+Ke,et+1+Ke+fe)===F){if(Ce.push(Q.substring(Y,et).replace(ft,U)),Ge(et+1+Ke+fe),ne=Q.indexOf(P,Y),et=Q.indexOf(U,Y),xe&&(We(),ie))return Ye();if(q&&de.length>=q)return Ye(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:Y}),et++}}else if(R&&Ce.length===0&&Q.substring(Y,Y+pe)===R){if(Re===-1)return Ye();Y=Re+fe,Re=Q.indexOf(F,Y),ne=Q.indexOf(P,Y)}else if(ne!==-1&&(ne<Re||Re===-1))Ce.push(Q.substring(Y,ne)),Y=ne+re,ne=Q.indexOf(P,Y);else{if(Re===-1)break;if(Ce.push(Q.substring(Y,Re)),Ge(Re+fe),xe&&(We(),ie))return Ye();if(q&&de.length>=q)return Ye(!0)}return ke();function me(nt){de.push(nt),ae=Y}function Se(nt){var _t=0;return _t=nt!==-1&&(nt=Q.substring(et+1,nt))&&nt.trim()===""?nt.length:_t}function ke(nt){return V||(nt===void 0&&(nt=Q.substring(Y)),Ce.push(nt),Y=J,me(Ce),xe&&We()),Ye()}function Ge(nt){Y=nt,me(Ce),Ce=[],Re=Q.indexOf(F,Y)}function Ye(nt){if(A.header&&!I&&de.length&&!X){var _t=de[0],wt=Object.create(null),Ot=new Set(_t);let Kt=!1;for(let At=0;At<_t.length;At++){let On=_t[At];if(wt[On=M(A.transformHeader)?A.transformHeader(On,At):On]){let An,zt=wt[On];for(;An=On+"_"+zt,zt++,Ot.has(An););Ot.add(An),_t[At]=An,wt[On]++,Kt=!0,(G=G===null?{}:G)[An]=On}else wt[On]=1,_t[At]=On;Ot.add(On)}Kt&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:de,errors:we,meta:{delimiter:P,linebreak:F,aborted:ie,truncated:!!nt,cursor:ae+(I||0),renamedHeaders:G}}}function We(){$(Ye()),de=[],we=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return Y}}function S(A){var P=A.data,F=l[P.workerId],R=!1;if(P.error)F.userError(P.error,P.file);else if(P.results&&P.results.data){var $={abort:function(){R=!0,E(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(M(F.userStep)){for(var q=0;q<P.results.data.length&&(F.userStep({data:P.results.data[q],errors:P.results.errors,meta:P.results.meta},$),!R);q++);delete P.results}else M(F.userChunk)&&(F.userChunk(P.results,$,P.file),delete P.results)}P.finished&&!R&&E(P.workerId,P.results)}function E(A,P){var F=l[A];M(F.userComplete)&&F.userComplete(P),F.terminate(),delete l[A]}function _(){throw new Error("Not implemented.")}function C(A){if(typeof A!="object"||A===null)return A;var P,F=Array.isArray(A)?[]:{};for(P in A)F[P]=C(A[P]);return F}function O(A,P){return function(){A.apply(P,arguments)}}function M(A){return typeof A=="function"}return u.parse=function(A,P){var F=(P=P||{}).dynamicTyping||!1;if(M(F)&&(P.dynamicTypingFunction=F,F={}),P.dynamicTyping=F,P.transform=!!M(P.transform)&&P.transform,!P.worker||!u.WORKERS_SUPPORTED)return F=null,u.NODE_STREAM_INPUT,typeof A=="string"?(A=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(A),F=new(P.download?f:h)(P)):A.readable===!0&&M(A.read)&&M(A.on)?F=new y(P):(r.File&&A instanceof File||A instanceof Object)&&(F=new m(P)),F.stream(A);(F=(()=>{var R;return!!u.WORKERS_SUPPORTED&&(R=(()=>{var $=r.URL||r.webkitURL||null,q=n.toString();return u.BLOB_URL||(u.BLOB_URL=$.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(R=new r.Worker(R)).onmessage=S,R.id=c++,l[R.id]=R)})()).userStep=P.step,F.userChunk=P.chunk,F.userComplete=P.complete,F.userError=P.error,P.step=M(P.step),P.chunk=M(P.chunk),P.complete=M(P.complete),P.error=M(P.error),delete P.worker,F.postMessage({input:A,config:P,workerId:F.id})},u.unparse=function(A,P){var F=!1,R=!0,$=",",q=`\r
`,z='"',G=z+z,X=!1,U=null,W=!1,Y=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||u.BAD_DELIMITERS.filter(function(I){return P.delimiter.indexOf(I)!==-1}).length||($=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(F=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(X=P.skipEmptyLines),typeof P.newline=="string"&&(q=P.newline),typeof P.quoteChar=="string"&&(z=P.quoteChar),typeof P.header=="boolean"&&(R=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");U=P.columns}P.escapeChar!==void 0&&(G=P.escapeChar+z),P.escapeFormulae instanceof RegExp?W=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(z),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ie(null,A,X);if(typeof A[0]=="object")return ie(U||Object.keys(A[0]),A,X)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||U),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ie(A.fields||[],A.data||[],X);throw new Error("Unable to serialize unrecognized input");function ie(I,V,J){var re="",fe=(typeof I=="string"&&(I=JSON.parse(I)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(I)&&0<I.length),pe=!Array.isArray(V[0]);if(fe&&R){for(var xe=0;xe<I.length;xe++)0<xe&&(re+=$),re+=Q(I[xe],xe);0<V.length&&(re+=q)}for(var de=0;de<V.length;de++){var we=(fe?I:V[de]).length,Ce=!1,ae=fe?Object.keys(V[de]).length===0:V[de].length===0;if(J&&!fe&&(Ce=J==="greedy"?V[de].join("").trim()==="":V[de].length===1&&V[de][0].length===0),J==="greedy"&&fe){for(var Pe=[],ee=0;ee<we;ee++){var ne=pe?I[ee]:ee;Pe.push(V[de][ne])}Ce=Pe.join("").trim()===""}if(!Ce){for(var Re=0;Re<we;Re++){0<Re&&!ae&&(re+=$);var ft=fe&&pe?I[Re]:Re;re+=Q(V[de][ft],Re)}de<V.length-1&&(!J||0<we&&!ae)&&(re+=q)}}return re}function Q(I,V){var J,re;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(re=!1,W&&typeof I=="string"&&W.test(I)&&(I="'"+I,re=!0),J=I.toString().replace(Y,G),(re=re||F===!0||typeof F=="function"&&F(I,V)||Array.isArray(F)&&F[V]||((fe,pe)=>{for(var xe=0;xe<pe.length;xe++)if(-1<fe.indexOf(pe[xe]))return!0;return!1})(J,u.BAD_DELIMITERS)||-1<J.indexOf($)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?z+J+z:J)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=b,u.ParserHandle=v,u.NetworkStreamer=f,u.FileStreamer=m,u.StringStreamer=h,u.ReadableStreamStreamer=y,r.jQuery&&((i=r.jQuery).fn.parse=function(A){var P=A.config||{},F=[];return this.each(function(q){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)F.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},P)})}),R(),this;function R(){if(F.length===0)M(A.complete)&&A.complete();else{var q,z,G,X,U=F[0];if(M(A.before)){var W=A.before(U.file,U.inputElem);if(typeof W=="object"){if(W.action==="abort")return q="AbortError",z=U.file,G=U.inputElem,X=W.reason,void(M(A.error)&&A.error({name:q},z,G,X));if(W.action==="skip")return void $();typeof W.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,W.config))}else if(W==="skip")return void $()}var Y=U.instanceConfig.complete;U.instanceConfig.complete=function(ie){M(Y)&&Y(ie,U.file,U.inputElem),$()},u.parse(U.file,U.instanceConfig)}}function $(){F.splice(0,1),R()}}),o&&(r.onmessage=function(A){A=A.data,u.WORKER_ID===void 0&&A&&(u.WORKER_ID=A.workerId),typeof A.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(A.input,A.config),finished:!0}):(r.File&&A.input instanceof File||A.input instanceof Object)&&(A=u.parse(A.input,A.config))&&r.postMessage({workerId:u.WORKER_ID,results:A,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(m.prototype=Object.create(d.prototype)).constructor=m,(h.prototype=Object.create(h.prototype)).constructor=h,(y.prototype=Object.create(d.prototype)).constructor=y,u})})(Z2)),Z2.exports}var wPe=bPe();const NPe=zr(wPe),vd=w.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:gt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));vd.displayName="Textarea";const oo=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:gt("w-full caption-bottom text-sm",t),...e})}));oo.displayName="Table";const lo=w.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:gt("[&_tr]:border-b",t),...e}));lo.displayName="TableHeader";const co=w.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:gt("[&_tr:last-child]:border-0",t),...e}));co.displayName="TableBody";const SPe=w.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:gt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));SPe.displayName="TableFooter";const er=w.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:gt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));er.displayName="TableRow";const Et=w.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:gt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Et.displayName="TableHead";const yt=w.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:gt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));yt.displayName="TableCell";const EPe=w.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:gt("mt-4 text-sm text-muted-foreground",t),...e}));EPe.displayName="TableCaption";const jPe=lg("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function it({className:t,variant:e,...n}){return a.jsx("div",{className:gt(jPe({variant:e}),t),...n})}function U0(t,[e,n]){return Math.min(n,Math.max(e,t))}function e_(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _Pe=[" ","Enter","ArrowUp","ArrowDown"],CPe=[" ","Enter"],Gm="Select",[t_,n_,APe]=y1(Gm),[ix]=Ea(Gm,[APe,xp]),r_=xp(),[kPe,_p]=ix(Gm),[TPe,OPe]=ix(Gm),Uee=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:y}=t,v=r_(e),[x,b]=w.useState(null),[S,E]=w.useState(null),[_,C]=w.useState(!1),O=Gy(u),[M,A]=Ac({prop:r,defaultProp:i??!1,onChange:s,caller:Gm}),[P,F]=Ac({prop:o,defaultProp:l,onChange:c,caller:Gm}),R=w.useRef(null),$=x?y||!!x.closest("form"):!0,[q,z]=w.useState(new Set),G=Array.from(q).map(X=>X.props.value).join(";");return a.jsx(rj,{...v,children:a.jsxs(kPe,{required:h,scope:e,trigger:x,onTriggerChange:b,valueNode:S,onValueNodeChange:E,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:wa(),value:P,onValueChange:F,open:M,onOpenChange:A,dir:O,triggerPointerDownPosRef:R,disabled:m,children:[a.jsx(t_.Provider,{scope:e,children:a.jsx(TPe,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(X=>{z(U=>new Set(U).add(X))},[]),onNativeOptionRemove:w.useCallback(X=>{z(U=>{const W=new Set(U);return W.delete(X),W})},[]),children:n})}),$?a.jsxs(hte,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:X=>F(X.target.value),disabled:m,form:y,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},G):null]})})};Uee.displayName=Gm;var Hee="SelectTrigger",Vee=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=r_(n),o=_p(Hee,n),l=o.disabled||r,c=Mn(e,o.onTriggerChange),u=n_(n),d=w.useRef("touch"),[f,m,h]=mte(v=>{const x=u().filter(E=>!E.disabled),b=x.find(E=>E.value===o.value),S=gte(x,v,b);S!==void 0&&o.onValueChange(S.value)}),y=v=>{l||(o.onOpenChange(!0),h()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(E1,{asChild:!0,...s,children:a.jsx($t.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pte(o.value)?"":void 0,...i,ref:c,onClick:Nt(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&y(v)}),onPointerDown:Nt(i.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:Nt(i.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(x&&v.key===" ")&&_Pe.includes(v.key)&&(y(),v.preventDefault())})})})});Vee.displayName=Hee;var Wee="SelectValue",Kee=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=_p(Wee,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Mn(e,c.onValueNodeChange);return _s(()=>{u(d)},[u,d]),a.jsx($t.span,{...l,ref:f,style:{pointerEvents:"none"},children:pte(c.value)?a.jsx(a.Fragment,{children:o}):s})});Kee.displayName=Wee;var PPe="SelectIcon",Gee=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return a.jsx($t.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Gee.displayName=PPe;var MPe="SelectPortal",Yee=t=>a.jsx($y,{asChild:!0,...t});Yee.displayName=MPe;var Ym="SelectContent",Xee=w.forwardRef((t,e)=>{const n=_p(Ym,t.__scopeSelect),[r,i]=w.useState();if(_s(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?mu.createPortal(a.jsx(Qee,{scope:t.__scopeSelect,children:a.jsx(t_.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(Jee,{...t,ref:e})});Xee.displayName=Ym;var au=10,[Qee,Cp]=ix(Ym),RPe="SelectContentImpl",IPe=ap("SelectContent.RemoveScroll"),Jee=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:y,hideWhenDetached:v,avoidCollisions:x,...b}=t,S=_p(Ym,n),[E,_]=w.useState(null),[C,O]=w.useState(null),M=Mn(e,pe=>_(pe)),[A,P]=w.useState(null),[F,R]=w.useState(null),$=n_(n),[q,z]=w.useState(!1),G=w.useRef(!1);w.useEffect(()=>{if(E)return hj(E)},[E]),dj();const X=w.useCallback(pe=>{const[xe,...de]=$().map(ae=>ae.ref.current),[we]=de.slice(-1),Ce=document.activeElement;for(const ae of pe)if(ae===Ce||(ae?.scrollIntoView({block:"nearest"}),ae===xe&&C&&(C.scrollTop=0),ae===we&&C&&(C.scrollTop=C.scrollHeight),ae?.focus(),document.activeElement!==Ce))return},[$,C]),U=w.useCallback(()=>X([A,E]),[X,A,E]);w.useEffect(()=>{q&&U()},[q,U]);const{onOpenChange:W,triggerPointerDownPosRef:Y}=S;w.useEffect(()=>{if(E){let pe={x:0,y:0};const xe=we=>{pe={x:Math.abs(Math.round(we.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(Y.current?.y??0))}},de=we=>{pe.x<=10&&pe.y<=10?we.preventDefault():E.contains(we.target)||W(!1),document.removeEventListener("pointermove",xe),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",de,{capture:!0})}}},[E,W,Y]),w.useEffect(()=>{const pe=()=>W(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[W]);const[ie,Q]=mte(pe=>{const xe=$().filter(Ce=>!Ce.disabled),de=xe.find(Ce=>Ce.ref.current===document.activeElement),we=gte(xe,pe,de);we&&setTimeout(()=>we.ref.current.focus())}),I=w.useCallback((pe,xe,de)=>{const we=!G.current&&!de;(S.value!==void 0&&S.value===xe||we)&&(P(pe),we&&(G.current=!0))},[S.value]),V=w.useCallback(()=>E?.focus(),[E]),J=w.useCallback((pe,xe,de)=>{const we=!G.current&&!de;(S.value!==void 0&&S.value===xe||we)&&R(pe)},[S.value]),re=r==="popper"?jR:Zee,fe=re===jR?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:y,hideWhenDetached:v,avoidCollisions:x}:{};return a.jsx(Qee,{scope:n,content:E,viewport:C,onViewportChange:O,itemRefCallback:I,selectedItem:A,onItemLeave:V,itemTextRefCallback:J,focusSelectedItem:U,selectedItemText:F,position:r,isPositioned:q,searchRef:ie,children:a.jsx(_1,{as:IPe,allowPinchZoom:!0,children:a.jsx(j1,{asChild:!0,trapped:S.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Nt(i,pe=>{S.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(og,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:a.jsx(re,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:pe=>pe.preventDefault(),...b,...fe,onPlaced:()=>z(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Nt(b.onKeyDown,pe=>{const xe=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!xe&&pe.key.length===1&&Q(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let we=$().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Ce=pe.target,ae=we.indexOf(Ce);we=we.slice(ae+1)}setTimeout(()=>X(we)),pe.preventDefault()}})})})})})})});Jee.displayName=RPe;var DPe="SelectItemAlignedPosition",Zee=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=_p(Ym,n),o=Cp(Ym,n),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Mn(e,M=>d(M)),m=n_(n),h=w.useRef(!1),y=w.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:b,focusSelectedItem:S}=o,E=w.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&v&&x&&b){const M=s.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),F=b.getBoundingClientRect();if(s.dir!=="rtl"){const Ce=F.left-A.left,ae=P.left-Ce,Pe=M.left-ae,ee=M.width+Pe,ne=Math.max(ee,A.width),Re=window.innerWidth-au,ft=U0(ae,[au,Math.max(au,Re-ne)]);l.style.minWidth=ee+"px",l.style.left=ft+"px"}else{const Ce=A.right-F.right,ae=window.innerWidth-P.right-Ce,Pe=window.innerWidth-M.right-ae,ee=M.width+Pe,ne=Math.max(ee,A.width),Re=window.innerWidth-au,ft=U0(ae,[au,Math.max(au,Re-ne)]);l.style.minWidth=ee+"px",l.style.right=ft+"px"}const R=m(),$=window.innerHeight-au*2,q=v.scrollHeight,z=window.getComputedStyle(u),G=parseInt(z.borderTopWidth,10),X=parseInt(z.paddingTop,10),U=parseInt(z.borderBottomWidth,10),W=parseInt(z.paddingBottom,10),Y=G+X+q+W+U,ie=Math.min(x.offsetHeight*5,Y),Q=window.getComputedStyle(v),I=parseInt(Q.paddingTop,10),V=parseInt(Q.paddingBottom,10),J=M.top+M.height/2-au,re=$-J,fe=x.offsetHeight/2,pe=x.offsetTop+fe,xe=G+X+pe,de=Y-xe;if(xe<=J){const Ce=R.length>0&&x===R[R.length-1].ref.current;l.style.bottom="0px";const ae=u.clientHeight-v.offsetTop-v.offsetHeight,Pe=Math.max(re,fe+(Ce?V:0)+ae+U),ee=xe+Pe;l.style.height=ee+"px"}else{const Ce=R.length>0&&x===R[0].ref.current;l.style.top="0px";const Pe=Math.max(J,G+v.offsetTop+(Ce?I:0)+fe)+de;l.style.height=Pe+"px",v.scrollTop=xe-J+v.offsetTop}l.style.margin=`${au}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=$+"px",r?.(),requestAnimationFrame(()=>h.current=!0)}},[m,s.trigger,s.valueNode,l,u,v,x,b,s.dir,r]);_s(()=>E(),[E]);const[_,C]=w.useState();_s(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const O=w.useCallback(M=>{M&&y.current===!0&&(E(),S?.(),y.current=!1)},[E,S]);return a.jsx(FPe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:O,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx($t.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Zee.displayName=DPe;var LPe="SelectPopperPosition",jR=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=au,...s}=t,o=r_(n);return a.jsx(ij,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jR.displayName=LPe;var[FPe,VD]=ix(Ym,{}),_R="SelectViewport",ete=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Cp(_R,n),o=VD(_R,n),l=Mn(e,s.onViewportChange),c=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(t_.Slot,{scope:n,children:a.jsx($t.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Nt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m?.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const y=window.innerHeight-au*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(v,x);if(b<y){const S=b+h,E=Math.min(y,S),_=S-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ete.displayName=_R;var tte="SelectGroup",[$Pe,BPe]=ix(tte),zPe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wa();return a.jsx($Pe,{scope:n,id:i,children:a.jsx($t.div,{role:"group","aria-labelledby":i,...r,ref:e})})});zPe.displayName=tte;var nte="SelectLabel",rte=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=BPe(nte,n);return a.jsx($t.div,{id:i.id,...r,ref:e})});rte.displayName=nte;var kS="SelectItem",[qPe,ite]=ix(kS),ste=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=_p(kS,n),c=Cp(kS,n),u=l.value===r,[d,f]=w.useState(s??""),[m,h]=w.useState(!1),y=Mn(e,S=>c.itemRefCallback?.(S,r,i)),v=wa(),x=w.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(qPe,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:w.useCallback(S=>{f(E=>E||(S?.textContent??"").trim())},[]),children:a.jsx(t_.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:a.jsx($t.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Nt(o.onFocus,()=>h(!0)),onBlur:Nt(o.onBlur,()=>h(!1)),onClick:Nt(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Nt(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Nt(o.onPointerDown,S=>{x.current=S.pointerType}),onPointerMove:Nt(o.onPointerMove,S=>{x.current=S.pointerType,i?c.onItemLeave?.():x.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(o.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Nt(o.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(CPe.includes(S.key)&&b(),S.key===" "&&S.preventDefault())})})})})});ste.displayName=kS;var gb="SelectItemText",ate=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=_p(gb,n),l=Cp(gb,n),c=ite(gb,n),u=OPe(gb,n),[d,f]=w.useState(null),m=Mn(e,b=>f(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),h=d?.textContent,y=w.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return _s(()=>(v(y),()=>x(y)),[v,x,y]),a.jsxs(a.Fragment,{children:[a.jsx($t.span,{id:c.textId,...s,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mu.createPortal(s.children,o.valueNode):null]})});ate.displayName=gb;var ote="SelectItemIndicator",lte=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ite(ote,n).isSelected?a.jsx($t.span,{"aria-hidden":!0,...r,ref:e}):null});lte.displayName=ote;var CR="SelectScrollUpButton",cte=w.forwardRef((t,e)=>{const n=Cp(CR,t.__scopeSelect),r=VD(CR,t.__scopeSelect),[i,s]=w.useState(!1),o=Mn(e,r.onScrollButtonChange);return _s(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(dte,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cte.displayName=CR;var AR="SelectScrollDownButton",ute=w.forwardRef((t,e)=>{const n=Cp(AR,t.__scopeSelect),r=VD(AR,t.__scopeSelect),[i,s]=w.useState(!1),o=Mn(e,r.onScrollButtonChange);return _s(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(dte,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ute.displayName=AR;var dte=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Cp("SelectScrollButton",n),o=w.useRef(null),l=n_(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),_s(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx($t.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Nt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Nt(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Nt(i.onPointerLeave,()=>{c()})})}),UPe="SelectSeparator",fte=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx($t.div,{"aria-hidden":!0,...r,ref:e})});fte.displayName=UPe;var kR="SelectArrow",HPe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=r_(n),s=_p(kR,n),o=Cp(kR,n);return s.open&&o.position==="popper"?a.jsx(sj,{...i,...r,ref:e}):null});HPe.displayName=kR;var VPe="SelectBubbleInput",hte=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=w.useRef(null),s=Mn(r,i),o=e_(e);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx($t.select,{...n,style:{...oG,...n.style},ref:s,defaultValue:e})});hte.displayName=VPe;function pte(t){return t===""||t===void 0}function mte(t){const e=ps(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(o=>{const l=n.current+o;e(l),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function gte(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=WPe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function WPe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KPe=Uee,vte=Vee,GPe=Kee,YPe=Gee,XPe=Yee,yte=Xee,QPe=ete,xte=rte,bte=ste,JPe=ate,ZPe=lte,wte=cte,Nte=ute,Ste=fte;const _n=KPe,Cn=GPe,Sn=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(vte,{ref:r,className:gt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(YPe,{asChild:!0,children:a.jsx(uI,{className:"h-4 w-4 opacity-50"})})]}));Sn.displayName=vte.displayName;const Ete=w.forwardRef(({className:t,...e},n)=>a.jsx(wte,{ref:n,className:gt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(xfe,{className:"h-4 w-4"})}));Ete.displayName=wte.displayName;const jte=w.forwardRef(({className:t,...e},n)=>a.jsx(Nte,{ref:n,className:gt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(uI,{className:"h-4 w-4"})}));jte.displayName=Nte.displayName;const En=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>a.jsx(XPe,{children:a.jsxs(yte,{ref:i,className:gt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(Ete,{}),a.jsx(QPe,{className:gt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(jte,{})]})}));En.displayName=yte.displayName;const eMe=w.forwardRef(({className:t,...e},n)=>a.jsx(xte,{ref:n,className:gt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));eMe.displayName=xte.displayName;const Qe=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(bte,{ref:r,className:gt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZPe,{children:a.jsx(cI,{className:"h-4 w-4"})})}),a.jsx(JPe,{children:e})]}));Qe.displayName=bte.displayName;const tMe=w.forwardRef(({className:t,...e},n)=>a.jsx(Ste,{ref:n,className:gt("-mx-1 my-1 h-px bg-muted",t),...e}));tMe.displayName=Ste.displayName;var i_="Checkbox",[nMe]=Ea(i_),[rMe,WD]=nMe(i_);function iMe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[m,h]=Ac({prop:n,defaultProp:i??!1,onChange:c,caller:i_}),[y,v]=w.useState(null),[x,b]=w.useState(null),S=w.useRef(!1),E=y?!!o||!!y.closest("form"):!0,_={checked:m,disabled:s,setChecked:h,control:y,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:S,required:u,defaultChecked:Jh(i)?!1:i,isFormControl:E,bubbleInput:x,setBubbleInput:b};return a.jsx(rMe,{scope:e,..._,children:sMe(f)?f(_):r})}var _te="CheckboxTrigger",Cte=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:y}=WD(_te,t),v=Mn(i,d),x=w.useRef(c);return w.useEffect(()=>{const b=s?.form;if(b){const S=()=>f(x.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[s,f]),a.jsx($t.button,{type:"button",role:"checkbox","aria-checked":Jh(c)?"mixed":c,"aria-required":u,"data-state":Pte(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:Nt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Nt(n,b=>{f(S=>Jh(S)?!0:!S),y&&h&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});Cte.displayName=_te;var KD=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return a.jsx(iMe,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(Cte,{...f,ref:e,__scopeCheckbox:n}),m&&a.jsx(Ote,{__scopeCheckbox:n})]})})});KD.displayName=i_;var Ate="CheckboxIndicator",kte=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=WD(Ate,n);return a.jsx(ja,{present:r||Jh(s.checked)||s.checked===!0,children:a.jsx($t.span,{"data-state":Pte(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});kte.displayName=Ate;var Tte="CheckboxBubbleInput",Ote=w.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:h}=WD(Tte,t),y=Mn(n,h),v=e_(s),x=nj(r);w.useEffect(()=>{const S=m;if(!S)return;const E=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(E,"checked").set,O=!i.current;if(v!==s&&C){const M=new Event("click",{bubbles:O});S.indeterminate=Jh(s),C.call(S,Jh(s)?!1:s),S.dispatchEvent(M)}},[m,v,s,i]);const b=w.useRef(Jh(s)?!1:s);return a.jsx($t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ote.displayName=Tte;function sMe(t){return typeof t=="function"}function Jh(t){return t==="indeterminate"}function Pte(t){return Jh(t)?"indeterminate":t?"checked":"unchecked"}const cr=w.forwardRef(({className:t,...e},n)=>a.jsx(KD,{ref:n,className:gt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(kte,{className:gt("flex items-center justify-center text-current"),children:a.jsx(cI,{className:"h-4 w-4"})})}));cr.displayName=KD.displayName;var s_="Switch",[aMe]=Ea(s_),[oMe,lMe]=aMe(s_),Mte=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,h]=w.useState(null),y=Mn(e,E=>h(E)),v=w.useRef(!1),x=m?d||!!m.closest("form"):!0,[b,S]=Ac({prop:i,defaultProp:s??!1,onChange:u,caller:s_});return a.jsxs(oMe,{scope:n,checked:b,disabled:l,children:[a.jsx($t.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Lte(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Nt(t.onClick,E=>{S(_=>!_),x&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),x&&a.jsx(Dte,{control:m,bubbles:!v.current,name:r,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Mte.displayName=s_;var Rte="SwitchThumb",Ite=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=lMe(Rte,n);return a.jsx($t.span,{"data-state":Lte(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Ite.displayName=Rte;var cMe="SwitchBubbleInput",Dte=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=w.useRef(null),l=Mn(o,s),c=e_(n),u=nj(e);return w.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const y=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(y)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dte.displayName=cMe;function Lte(t){return t?"checked":"unchecked"}var Fte=Mte,uMe=Ite;const wu=w.forwardRef(({className:t,...e},n)=>a.jsx(Fte,{className:gt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(uMe,{className:gt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wu.displayName=Fte.displayName;var $te="AlertDialog",[dMe]=Ea($te,[mX]),$f=mX(),Bte=t=>{const{__scopeAlertDialog:e,...n}=t,r=$f(e);return a.jsx(mj,{...r,...n,modal:!0})};Bte.displayName=$te;var fMe="AlertDialogTrigger",hMe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$f(n);return a.jsx(OX,{...i,...r,ref:e})});hMe.displayName=fMe;var pMe="AlertDialogPortal",zte=t=>{const{__scopeAlertDialog:e,...n}=t,r=$f(e);return a.jsx(gj,{...r,...n})};zte.displayName=pMe;var mMe="AlertDialogOverlay",qte=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$f(n);return a.jsx(Wy,{...i,...r,ref:e})});qte.displayName=mMe;var $v="AlertDialogContent",[gMe,vMe]=dMe($v),yMe=rG("AlertDialogContent"),Ute=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=$f(n),o=w.useRef(null),l=Mn(e,o),c=w.useRef(null);return a.jsx(Sve,{contentName:$v,titleName:Hte,docsSlug:"alert-dialog",children:a.jsx(gMe,{scope:n,cancelRef:c,children:a.jsxs(Ky,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Nt(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(yMe,{children:r}),a.jsx(bMe,{contentRef:o})]})})})});Ute.displayName=$v;var Hte="AlertDialogTitle",Vte=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$f(n);return a.jsx(C1,{...i,...r,ref:e})});Vte.displayName=Hte;var Wte="AlertDialogDescription",Kte=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$f(n);return a.jsx(A1,{...i,...r,ref:e})});Kte.displayName=Wte;var xMe="AlertDialogAction",Gte=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=$f(n);return a.jsx(vj,{...i,...r,ref:e})});Gte.displayName=xMe;var Yte="AlertDialogCancel",Xte=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=vMe(Yte,n),s=$f(n),o=Mn(e,i);return a.jsx(vj,{...s,...r,ref:o})});Xte.displayName=Yte;var bMe=({contentRef:t})=>{const e=`\`${$v}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$v}\` by passing a \`${Wte}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$v}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},wMe=Bte,NMe=zte,Qte=qte,Jte=Ute,Zte=Gte,ene=Xte,tne=Vte,nne=Kte;const L1=wMe,SMe=NMe,rne=w.forwardRef(({className:t,...e},n)=>a.jsx(Qte,{className:gt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));rne.displayName=Qte.displayName;const sx=w.forwardRef(({className:t,...e},n)=>a.jsxs(SMe,{children:[a.jsx(rne,{}),a.jsx(Jte,{ref:n,className:gt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));sx.displayName=Jte.displayName;const ax=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col space-y-2 text-center sm:text-left",t),...e});ax.displayName="AlertDialogHeader";const GD=({className:t,...e})=>a.jsx("div",{className:gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});GD.displayName="AlertDialogFooter";const ox=w.forwardRef(({className:t,...e},n)=>a.jsx(tne,{ref:n,className:gt("text-lg font-semibold",t),...e}));ox.displayName=tne.displayName;const lx=w.forwardRef(({className:t,...e},n)=>a.jsx(nne,{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));lx.displayName=nne.displayName;const cx=w.forwardRef(({className:t,...e},n)=>a.jsx(Zte,{ref:n,className:gt(a0(),t),...e}));cx.displayName=Zte.displayName;const ux=w.forwardRef(({className:t,...e},n)=>a.jsx(ene,{ref:n,className:gt(a0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ux.displayName=ene.displayName;var F1=t=>t.type==="checkbox",wm=t=>t instanceof Date,Jo=t=>t==null;const ine=t=>typeof t=="object";var zs=t=>!Jo(t)&&!Array.isArray(t)&&ine(t)&&!wm(t),sne=t=>zs(t)&&t.target?F1(t.target)?t.target.checked:t.target.value:t,EMe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ane=(t,e)=>t.has(EMe(e)),jMe=t=>{const e=t.constructor&&t.constructor.prototype;return zs(e)&&e.hasOwnProperty("isPrototypeOf")},YD=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qs(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(YD&&(t instanceof Blob||r))&&(n||zs(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!jMe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Qs(t[i]));else return t;return e}var a_=t=>/^\w*$/.test(t),ds=t=>t===void 0,XD=t=>Array.isArray(t)?t.filter(Boolean):[],QD=t=>XD(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Bt=(t,e,n)=>{if(!e||!zs(t))return n;const r=(a_(e)?[e]:QD(e)).reduce((i,s)=>Jo(i)?i:i[s],t);return ds(r)||r===t?ds(t[e])?n:t[e]:r},Ol=t=>typeof t=="boolean",ti=(t,e,n)=>{let r=-1;const i=a_(e)?[e]:QD(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const u=t[l];c=zs(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const TS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},du={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},nf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},JD=ye.createContext(null);JD.displayName="HookFormContext";const o_=()=>ye.useContext(JD),_Me=t=>{const{children:e,...n}=t;return ye.createElement(JD.Provider,{value:n},e)};var one=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==du.all&&(e._proxyFormState[o]=!r||du.all),n&&(n[o]=!0),t[o]}});return i};const ZD=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function CMe(t){const e=o_(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,l]=ye.useState(n._formState),c=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ZD(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!r&&l({...n._formState,...u})}}),[i,r,s]),ye.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ye.useMemo(()=>one(o,n,c.current,!1),[o,n])}var Il=t=>typeof t=="string",lne=(t,e,n,r,i)=>Il(t)?(r&&e.watch.add(t),Bt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Bt(n,s))):(r&&(e.watchAll=!0),n),TR=t=>Jo(t)||!ine(t);function mf(t,e,n=new WeakSet){if(TR(t)||TR(e))return t===e;if(wm(t)&&wm(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(wm(o)&&wm(l)||zs(o)&&zs(l)||Array.isArray(o)&&Array.isArray(l)?!mf(o,l,n):o!==l)return!1}}return!0}function AMe(t){const e=o_(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o,compute:l}=t||{},c=ye.useRef(i),u=ye.useRef(l),d=ye.useRef(void 0);u.current=l;const f=ye.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,h]=ye.useState(u.current?u.current(f):f);return ZD(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{if(!s){const v=lne(r,n._names,y.values||n._formValues,!1,c.current);if(u.current){const x=u.current(v);mf(x,d.current)||(h(x),d.current=x)}else h(v)}}}),[n,s,r,o]),ye.useEffect(()=>n._removeUnmounted()),m}function kMe(t){const e=o_(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s,defaultValue:o}=t,l=ane(i._names.array,n),c=ye.useMemo(()=>Bt(i._formValues,n,Bt(i._defaultValues,n,o)),[i,n,o]),u=AMe({control:i,name:n,defaultValue:c,exact:!0}),d=CMe({control:i,name:n,exact:!0}),f=ye.useRef(t),m=ye.useRef(void 0),h=ye.useRef(i.register(n,{...t.rules,value:u,...Ol(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Bt(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Bt(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Bt(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Bt(d.validatingFields,n)},error:{enumerable:!0,get:()=>Bt(d.errors,n)}}),[d,n]),v=ye.useCallback(E=>h.current.onChange({target:{value:sne(E),name:n},type:TS.CHANGE}),[n]),x=ye.useCallback(()=>h.current.onBlur({target:{value:Bt(i._formValues,n),name:n},type:TS.BLUR}),[n,i._formValues]),b=ye.useCallback(E=>{const _=Bt(i._fields,n);_&&E&&(_._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:C=>E.setCustomValidity(C),reportValidity:()=>E.reportValidity()})},[i._fields,n]),S=ye.useMemo(()=>({name:n,value:u,...Ol(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:x,ref:b}),[n,r,d.disabled,v,x,b,u]);return ye.useEffect(()=>{const E=i._options.shouldUnregister||s,_=m.current;_&&_!==n&&!l&&i.unregister(_),i.register(n,{...f.current.rules,...Ol(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(O,M)=>{const A=Bt(i._fields,O);A&&A._f&&(A._f.mount=M)};if(C(n,!0),E){const O=Qs(Bt(i._options.defaultValues,n,f.current.defaultValue));ti(i._defaultValues,n,O),ds(Bt(i._formValues,n))&&ti(i._formValues,n,O)}return!l&&i.register(n),m.current=n,()=>{(l?E&&!i._state.action:E)?i.unregister(n):C(n,!1)}},[n,i,l,s]),ye.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),ye.useMemo(()=>({field:S,formState:d,fieldState:y}),[S,d,y])}const TMe=t=>t.render(kMe(t));var cne=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ib=t=>Array.isArray(t)?t:[t],iU=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function une(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&zs(i)&&s){const o=une(i,s);zs(o)&&(n[r]=o)}else t[r]&&(n[r]=s)}return n}var Qo=t=>zs(t)&&!Object.keys(t).length,eL=t=>t.type==="file",fu=t=>typeof t=="function",OS=t=>{if(!YD)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dne=t=>t.type==="select-multiple",tL=t=>t.type==="radio",OMe=t=>tL(t)||F1(t),oO=t=>OS(t)&&t.isConnected;function PMe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ds(t)?r++:t[e[r++]];return t}function MMe(t){for(const e in t)if(t.hasOwnProperty(e)&&!ds(t[e]))return!1;return!0}function Rs(t,e){const n=Array.isArray(e)?e:a_(e)?[e]:QD(e),r=n.length===1?t:PMe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(zs(r)&&Qo(r)||Array.isArray(r)&&MMe(r))&&Rs(t,n.slice(0,-1)),t}var RMe=t=>{for(const e in t)if(fu(t[e]))return!0;return!1};function fne(t){return Array.isArray(t)||zs(t)&&!RMe(t)}function OR(t,e={}){for(const n in t)fne(t[n])?(e[n]=Array.isArray(t[n])?[]:{},OR(t[n],e[n])):ds(t[n])||(e[n]=!0);return e}function fv(t,e,n){n||(n=OR(e));for(const r in t)fne(t[r])?ds(e)||TR(n[r])?n[r]=OR(t[r],Array.isArray(t[r])?[]:{}):fv(t[r],Jo(e)?{}:e[r],n[r]):n[r]=!mf(t[r],e[r]);return n}const sU={value:!1,isValid:!1},aU={value:!0,isValid:!0};var hne=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ds(t[0].attributes.value)?ds(t[0].value)||t[0].value===""?aU:{value:t[0].value,isValid:!0}:aU:sU}return sU},pne=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ds(t)?t:e?t===""?NaN:t&&+t:n&&Il(t)?new Date(t):r?r(t):t;const oU={isValid:!1,value:null};var mne=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,oU):oU;function lU(t){const e=t.ref;return eL(e)?e.files:tL(e)?mne(t.refs).value:dne(e)?[...e.selectedOptions].map(({value:n})=>n):F1(e)?hne(t.refs).value:pne(ds(e.value)?t.ref.value:e.value,t)}var IMe=(t,e,n,r)=>{const i={};for(const s of t){const o=Bt(e,s);o&&ti(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},PS=t=>t instanceof RegExp,rb=t=>ds(t)?t:PS(t)?t.source:zs(t)?PS(t.value)?t.value.source:t.value:t,cU=t=>({isOnSubmit:!t||t===du.onSubmit,isOnBlur:t===du.onBlur,isOnChange:t===du.onChange,isOnAll:t===du.all,isOnTouch:t===du.onTouched});const uU="AsyncFunction";var DMe=t=>!!t&&!!t.validate&&!!(fu(t.validate)&&t.validate.constructor.name===uU||zs(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===uU)),LMe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),dU=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Db=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Bt(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Db(l,e))break}else if(zs(l)&&Db(l,e))break}}};function fU(t,e,n){const r=Bt(t,n);if(r||a_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Bt(e,s),l=Bt(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var FMe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Qo(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||du.all))},$Me=(t,e,n)=>!t||!e||t===e||Ib(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),BMe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,zMe=(t,e)=>!XD(Bt(t,e)).length&&Rs(t,e),qMe=(t,e,n)=>{const r=Ib(Bt(t,n));return ti(r,"root",e[n]),ti(t,n,r),t};function hU(t,e,n="validate"){if(Il(t)||Array.isArray(t)&&t.every(Il)||Ol(t)&&!t)return{type:n,message:Il(t)?t:"",ref:e}}var tv=t=>zs(t)&&!PS(t)?t:{value:t,message:""},pU=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:h,validate:y,name:v,valueAsNumber:x,mount:b}=t._f,S=Bt(n,v);if(!b||e.has(v))return{};const E=l?l[0]:o,_=$=>{i&&E.reportValidity&&(E.setCustomValidity(Ol($)?"":$||""),E.reportValidity())},C={},O=tL(o),M=F1(o),A=O||M,P=(x||eL(o))&&ds(o.value)&&ds(S)||OS(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,F=cne.bind(null,v,r,C),R=($,q,z,G=nf.maxLength,X=nf.minLength)=>{const U=$?q:z;C[v]={type:$?G:X,message:U,ref:o,...F($?G:X,U)}};if(s?!Array.isArray(S)||!S.length:c&&(!A&&(P||Jo(S))||Ol(S)&&!S||M&&!hne(l).isValid||O&&!mne(l).isValid)){const{value:$,message:q}=Il(c)?{value:!!c,message:c}:tv(c);if($&&(C[v]={type:nf.required,message:q,ref:E,...F(nf.required,q)},!r))return _(q),C}if(!P&&(!Jo(f)||!Jo(m))){let $,q;const z=tv(m),G=tv(f);if(!Jo(S)&&!isNaN(S)){const X=o.valueAsNumber||S&&+S;Jo(z.value)||($=X>z.value),Jo(G.value)||(q=X<G.value)}else{const X=o.valueAsDate||new Date(S),U=ie=>new Date(new Date().toDateString()+" "+ie),W=o.type=="time",Y=o.type=="week";Il(z.value)&&S&&($=W?U(S)>U(z.value):Y?S>z.value:X>new Date(z.value)),Il(G.value)&&S&&(q=W?U(S)<U(G.value):Y?S<G.value:X<new Date(G.value))}if(($||q)&&(R(!!$,z.message,G.message,nf.max,nf.min),!r))return _(C[v].message),C}if((u||d)&&!P&&(Il(S)||s&&Array.isArray(S))){const $=tv(u),q=tv(d),z=!Jo($.value)&&S.length>+$.value,G=!Jo(q.value)&&S.length<+q.value;if((z||G)&&(R(z,$.message,q.message),!r))return _(C[v].message),C}if(h&&!P&&Il(S)){const{value:$,message:q}=tv(h);if(PS($)&&!S.match($)&&(C[v]={type:nf.pattern,message:q,ref:o,...F(nf.pattern,q)},!r))return _(q),C}if(y){if(fu(y)){const $=await y(S,n),q=hU($,E);if(q&&(C[v]={...q,...F(nf.validate,q.message)},!r))return _(q.message),C}else if(zs(y)){let $={};for(const q in y){if(!Qo($)&&!r)break;const z=hU(await y[q](S,n),E,q);z&&($={...z,...F(q,z.message)},_(z.message),r&&(C[v]=$))}if(!Qo($)&&(C[v]={ref:E,...$},!r))return C}}return _(!0),C};const UMe={mode:du.onSubmit,reValidateMode:du.onChange,shouldFocusError:!0};function HMe(t={}){let e={...UMe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:fu(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=zs(e.defaultValues)||zs(e.values)?Qs(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Qs(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:iU(),state:iU()},h=e.criteriaMode===du.all,y=me=>Se=>{clearTimeout(u),u=setTimeout(me,Se)},v=async me=>{if(!e.disabled&&(d.isValid||f.isValid||me)){const Se=e.resolver?Qo((await M()).errors):await P(r,!0);Se!==n.isValid&&m.state.next({isValid:Se})}},x=(me,Se)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((me||Array.from(l.mount)).forEach(ke=>{ke&&(Se?ti(n.validatingFields,ke,Se):Rs(n.validatingFields,ke))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Qo(n.validatingFields)}))},b=(me,Se=[],ke,Ge,Ye=!0,We=!0)=>{if(Ge&&ke&&!e.disabled){if(o.action=!0,We&&Array.isArray(Bt(r,me))){const nt=ke(Bt(r,me),Ge.argA,Ge.argB);Ye&&ti(r,me,nt)}if(We&&Array.isArray(Bt(n.errors,me))){const nt=ke(Bt(n.errors,me),Ge.argA,Ge.argB);Ye&&ti(n.errors,me,nt),zMe(n.errors,me)}if((d.touchedFields||f.touchedFields)&&We&&Array.isArray(Bt(n.touchedFields,me))){const nt=ke(Bt(n.touchedFields,me),Ge.argA,Ge.argB);Ye&&ti(n.touchedFields,me,nt)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=fv(i,s)),m.state.next({name:me,isDirty:R(me,Se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ti(s,me,Se)},S=(me,Se)=>{ti(n.errors,me,Se),m.state.next({errors:n.errors})},E=me=>{n.errors=me,m.state.next({errors:n.errors,isValid:!1})},_=(me,Se,ke,Ge)=>{const Ye=Bt(r,me);if(Ye){const We=Bt(s,me,ds(ke)?Bt(i,me):ke);ds(We)||Ge&&Ge.defaultChecked||Se?ti(s,me,Se?We:lU(Ye._f)):z(me,We),o.mount&&v()}},C=(me,Se,ke,Ge,Ye)=>{let We=!1,nt=!1;const _t={name:me};if(!e.disabled){if(!ke||Ge){(d.isDirty||f.isDirty)&&(nt=n.isDirty,n.isDirty=_t.isDirty=R(),We=nt!==_t.isDirty);const wt=mf(Bt(i,me),Se);nt=!!Bt(n.dirtyFields,me),wt?Rs(n.dirtyFields,me):ti(n.dirtyFields,me,!0),_t.dirtyFields=n.dirtyFields,We=We||(d.dirtyFields||f.dirtyFields)&&nt!==!wt}if(ke){const wt=Bt(n.touchedFields,me);wt||(ti(n.touchedFields,me,ke),_t.touchedFields=n.touchedFields,We=We||(d.touchedFields||f.touchedFields)&&wt!==ke)}We&&Ye&&m.state.next(_t)}return We?_t:{}},O=(me,Se,ke,Ge)=>{const Ye=Bt(n.errors,me),We=(d.isValid||f.isValid)&&Ol(Se)&&n.isValid!==Se;if(e.delayError&&ke?(c=y(()=>S(me,ke)),c(e.delayError)):(clearTimeout(u),c=null,ke?ti(n.errors,me,ke):Rs(n.errors,me)),(ke?!mf(Ye,ke):Ye)||!Qo(Ge)||We){const nt={...Ge,...We&&Ol(Se)?{isValid:Se}:{},errors:n.errors,name:me};n={...n,...nt},m.state.next(nt)}},M=async me=>{x(me,!0);const Se=await e.resolver(s,e.context,IMe(me||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(me),Se},A=async me=>{const{errors:Se}=await M(me);if(me)for(const ke of me){const Ge=Bt(Se,ke);Ge?ti(n.errors,ke,Ge):Rs(n.errors,ke)}else n.errors=Se;return Se},P=async(me,Se,ke={valid:!0})=>{for(const Ge in me){const Ye=me[Ge];if(Ye){const{_f:We,...nt}=Ye;if(We){const _t=l.array.has(We.name),wt=Ye._f&&DMe(Ye._f);wt&&d.validatingFields&&x([We.name],!0);const Ot=await pU(Ye,l.disabled,s,h,e.shouldUseNativeValidation&&!Se,_t);if(wt&&d.validatingFields&&x([We.name]),Ot[We.name]&&(ke.valid=!1,Se))break;!Se&&(Bt(Ot,We.name)?_t?qMe(n.errors,Ot,We.name):ti(n.errors,We.name,Ot[We.name]):Rs(n.errors,We.name))}!Qo(nt)&&await P(nt,Se,ke)}}return ke.valid},F=()=>{for(const me of l.unMount){const Se=Bt(r,me);Se&&(Se._f.refs?Se._f.refs.every(ke=>!oO(ke)):!oO(Se._f.ref))&&pe(me)}l.unMount=new Set},R=(me,Se)=>!e.disabled&&(me&&Se&&ti(s,me,Se),!mf(ie(),i)),$=(me,Se,ke)=>lne(me,l,{...o.mount?s:ds(Se)?i:Il(me)?{[me]:Se}:Se},ke,Se),q=me=>XD(Bt(o.mount?s:i,me,e.shouldUnregister?Bt(i,me,[]):[])),z=(me,Se,ke={})=>{const Ge=Bt(r,me);let Ye=Se;if(Ge){const We=Ge._f;We&&(!We.disabled&&ti(s,me,pne(Se,We)),Ye=OS(We.ref)&&Jo(Se)?"":Se,dne(We.ref)?[...We.ref.options].forEach(nt=>nt.selected=Ye.includes(nt.value)):We.refs?F1(We.ref)?We.refs.forEach(nt=>{(!nt.defaultChecked||!nt.disabled)&&(Array.isArray(Ye)?nt.checked=!!Ye.find(_t=>_t===nt.value):nt.checked=Ye===nt.value||!!Ye)}):We.refs.forEach(nt=>nt.checked=nt.value===Ye):eL(We.ref)?We.ref.value="":(We.ref.value=Ye,We.ref.type||m.state.next({name:me,values:Qs(s)})))}(ke.shouldDirty||ke.shouldTouch)&&C(me,Ye,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&Y(me)},G=(me,Se,ke)=>{for(const Ge in Se){if(!Se.hasOwnProperty(Ge))return;const Ye=Se[Ge],We=me+"."+Ge,nt=Bt(r,We);(l.array.has(me)||zs(Ye)||nt&&!nt._f)&&!wm(Ye)?G(We,Ye,ke):z(We,Ye,ke)}},X=(me,Se,ke={})=>{const Ge=Bt(r,me),Ye=l.array.has(me),We=Qs(Se);ti(s,me,We),Ye?(m.array.next({name:me,values:Qs(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ke.shouldDirty&&m.state.next({name:me,dirtyFields:fv(i,s),isDirty:R(me,We)})):Ge&&!Ge._f&&!Jo(We)?G(me,We,ke):z(me,We,ke),dU(me,l)&&m.state.next({...n,name:me}),m.state.next({name:o.mount?me:void 0,values:Qs(s)})},U=async me=>{o.mount=!0;const Se=me.target;let ke=Se.name,Ge=!0;const Ye=Bt(r,ke),We=wt=>{Ge=Number.isNaN(wt)||wm(wt)&&isNaN(wt.getTime())||mf(wt,Bt(s,ke,wt))},nt=cU(e.mode),_t=cU(e.reValidateMode);if(Ye){let wt,Ot;const Kt=Se.type?lU(Ye._f):sne(me),At=me.type===TS.BLUR||me.type===TS.FOCUS_OUT,On=!LMe(Ye._f)&&!e.resolver&&!Bt(n.errors,ke)&&!Ye._f.deps||BMe(At,Bt(n.touchedFields,ke),n.isSubmitted,_t,nt),An=dU(ke,l,At);ti(s,ke,Kt),At?(!Se||!Se.readOnly)&&(Ye._f.onBlur&&Ye._f.onBlur(me),c&&c(0)):Ye._f.onChange&&Ye._f.onChange(me);const zt=C(ke,Kt,At),yn=!Qo(zt)||An;if(!At&&m.state.next({name:ke,type:me.type,values:Qs(s)}),On)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?At&&v():At||v()),yn&&m.state.next({name:ke,...An?{}:zt});if(!At&&An&&m.state.next({...n}),e.resolver){const{errors:ir}=await M([ke]);if(We(Kt),Ge){const on=fU(n.errors,r,ke),Pn=fU(ir,r,on.name||ke);wt=Pn.error,ke=Pn.name,Ot=Qo(ir)}}else x([ke],!0),wt=(await pU(Ye,l.disabled,s,h,e.shouldUseNativeValidation))[ke],x([ke]),We(Kt),Ge&&(wt?Ot=!1:(d.isValid||f.isValid)&&(Ot=await P(r,!0)));Ge&&(Ye._f.deps&&(!Array.isArray(Ye._f.deps)||Ye._f.deps.length>0)&&Y(Ye._f.deps),O(ke,Ot,wt,zt))}},W=(me,Se)=>{if(Bt(n.errors,Se)&&me.focus)return me.focus(),1},Y=async(me,Se={})=>{let ke,Ge;const Ye=Ib(me);if(e.resolver){const We=await A(ds(me)?me:Ye);ke=Qo(We),Ge=me?!Ye.some(nt=>Bt(We,nt)):ke}else me?(Ge=(await Promise.all(Ye.map(async We=>{const nt=Bt(r,We);return await P(nt&&nt._f?{[We]:nt}:nt)}))).every(Boolean),!(!Ge&&!n.isValid)&&v()):Ge=ke=await P(r);return m.state.next({...!Il(me)||(d.isValid||f.isValid)&&ke!==n.isValid?{}:{name:me},...e.resolver||!me?{isValid:ke}:{},errors:n.errors}),Se.shouldFocus&&!Ge&&Db(r,W,me?Ye:l.mount),Ge},ie=(me,Se)=>{let ke={...o.mount?s:i};return Se&&(ke=une(Se.dirtyFields?n.dirtyFields:n.touchedFields,ke)),ds(me)?ke:Il(me)?Bt(ke,me):me.map(Ge=>Bt(ke,Ge))},Q=(me,Se)=>({invalid:!!Bt((Se||n).errors,me),isDirty:!!Bt((Se||n).dirtyFields,me),error:Bt((Se||n).errors,me),isValidating:!!Bt(n.validatingFields,me),isTouched:!!Bt((Se||n).touchedFields,me)}),I=me=>{me&&Ib(me).forEach(Se=>Rs(n.errors,Se)),m.state.next({errors:me?n.errors:{}})},V=(me,Se,ke)=>{const Ge=(Bt(r,me,{_f:{}})._f||{}).ref,Ye=Bt(n.errors,me)||{},{ref:We,message:nt,type:_t,...wt}=Ye;ti(n.errors,me,{...wt,...Se,ref:Ge}),m.state.next({name:me,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Ge&&Ge.focus&&Ge.focus()},J=(me,Se)=>fu(me)?m.state.subscribe({next:ke=>"values"in ke&&me($(void 0,Se),ke)}):$(me,Se,!0),re=me=>m.state.subscribe({next:Se=>{$Me(me.name,Se.name,me.exact)&&FMe(Se,me.formState||d,ft,me.reRenderRoot)&&me.callback({values:{...s},...n,...Se,defaultValues:i})}}).unsubscribe,fe=me=>(o.mount=!0,f={...f,...me.formState},re({...me,formState:f})),pe=(me,Se={})=>{for(const ke of me?Ib(me):l.mount)l.mount.delete(ke),l.array.delete(ke),Se.keepValue||(Rs(r,ke),Rs(s,ke)),!Se.keepError&&Rs(n.errors,ke),!Se.keepDirty&&Rs(n.dirtyFields,ke),!Se.keepTouched&&Rs(n.touchedFields,ke),!Se.keepIsValidating&&Rs(n.validatingFields,ke),!e.shouldUnregister&&!Se.keepDefaultValue&&Rs(i,ke);m.state.next({values:Qs(s)}),m.state.next({...n,...Se.keepDirty?{isDirty:R()}:{}}),!Se.keepIsValid&&v()},xe=({disabled:me,name:Se})=>{(Ol(me)&&o.mount||me||l.disabled.has(Se))&&(me?l.disabled.add(Se):l.disabled.delete(Se))},de=(me,Se={})=>{let ke=Bt(r,me);const Ge=Ol(Se.disabled)||Ol(e.disabled);return ti(r,me,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:me}},name:me,mount:!0,...Se}}),l.mount.add(me),ke?xe({disabled:Ol(Se.disabled)?Se.disabled:e.disabled,name:me}):_(me,!0,Se.value),{...Ge?{disabled:Se.disabled||e.disabled}:{},...e.progressive?{required:!!Se.required,min:rb(Se.min),max:rb(Se.max),minLength:rb(Se.minLength),maxLength:rb(Se.maxLength),pattern:rb(Se.pattern)}:{},name:me,onChange:U,onBlur:U,ref:Ye=>{if(Ye){de(me,Se),ke=Bt(r,me);const We=ds(Ye.value)&&Ye.querySelectorAll&&Ye.querySelectorAll("input,select,textarea")[0]||Ye,nt=OMe(We),_t=ke._f.refs||[];if(nt?_t.find(wt=>wt===We):We===ke._f.ref)return;ti(r,me,{_f:{...ke._f,...nt?{refs:[..._t.filter(oO),We,...Array.isArray(Bt(i,me))?[{}]:[]],ref:{type:We.type,name:me}}:{ref:We}}}),_(me,!1,void 0,We)}else ke=Bt(r,me,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||Se.shouldUnregister)&&!(ane(l.array,me)&&o.action)&&l.unMount.add(me)}}},we=()=>e.shouldFocusError&&Db(r,W,l.mount),Ce=me=>{Ol(me)&&(m.state.next({disabled:me}),Db(r,(Se,ke)=>{const Ge=Bt(r,ke);Ge&&(Se.disabled=Ge._f.disabled||me,Array.isArray(Ge._f.refs)&&Ge._f.refs.forEach(Ye=>{Ye.disabled=Ge._f.disabled||me}))},0,!1))},ae=(me,Se)=>async ke=>{let Ge;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ye=Qs(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:We,values:nt}=await M();n.errors=We,Ye=Qs(nt)}else await P(r);if(l.disabled.size)for(const We of l.disabled)Rs(Ye,We);if(Rs(n.errors,"root"),Qo(n.errors)){m.state.next({errors:{}});try{await me(Ye,ke)}catch(We){Ge=We}}else Se&&await Se({...n.errors},ke),we(),setTimeout(we);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qo(n.errors)&&!Ge,submitCount:n.submitCount+1,errors:n.errors}),Ge)throw Ge},Pe=(me,Se={})=>{Bt(r,me)&&(ds(Se.defaultValue)?X(me,Qs(Bt(i,me))):(X(me,Se.defaultValue),ti(i,me,Qs(Se.defaultValue))),Se.keepTouched||Rs(n.touchedFields,me),Se.keepDirty||(Rs(n.dirtyFields,me),n.isDirty=Se.defaultValue?R(me,Qs(Bt(i,me))):R()),Se.keepError||(Rs(n.errors,me),d.isValid&&v()),m.state.next({...n}))},ee=(me,Se={})=>{const ke=me?Qs(me):i,Ge=Qs(ke),Ye=Qo(me),We=Ye?i:Ge;if(Se.keepDefaultValues||(i=ke),!Se.keepValues){if(Se.keepDirtyValues){const nt=new Set([...l.mount,...Object.keys(fv(i,s))]);for(const _t of Array.from(nt))Bt(n.dirtyFields,_t)?ti(We,_t,Bt(s,_t)):X(_t,Bt(We,_t))}else{if(YD&&ds(me))for(const nt of l.mount){const _t=Bt(r,nt);if(_t&&_t._f){const wt=Array.isArray(_t._f.refs)?_t._f.refs[0]:_t._f.ref;if(OS(wt)){const Ot=wt.closest("form");if(Ot){Ot.reset();break}}}}if(Se.keepFieldsRef)for(const nt of l.mount)X(nt,Bt(We,nt));else r={}}s=e.shouldUnregister?Se.keepDefaultValues?Qs(i):{}:Qs(We),m.array.next({values:{...We}}),m.state.next({values:{...We}})}l={mount:Se.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Se.keepIsValid||!!Se.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:Se.keepSubmitCount?n.submitCount:0,isDirty:Ye?!1:Se.keepDirty?n.isDirty:!!(Se.keepDefaultValues&&!mf(me,i)),isSubmitted:Se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ye?{}:Se.keepDirtyValues?Se.keepDefaultValues&&s?fv(i,s):n.dirtyFields:Se.keepDefaultValues&&me?fv(i,me):Se.keepDirty?n.dirtyFields:{},touchedFields:Se.keepTouched?n.touchedFields:{},errors:Se.keepErrors?n.errors:{},isSubmitSuccessful:Se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ne=(me,Se)=>ee(fu(me)?me(s):me,Se),Re=(me,Se={})=>{const ke=Bt(r,me),Ge=ke&&ke._f;if(Ge){const Ye=Ge.refs?Ge.refs[0]:Ge.ref;Ye.focus&&(Ye.focus(),Se.shouldSelect&&fu(Ye.select)&&Ye.select())}},ft=me=>{n={...n,...me}},Ke={control:{register:de,unregister:pe,getFieldState:Q,handleSubmit:ae,setError:V,_subscribe:re,_runSchema:M,_focusError:we,_getWatch:$,_getDirty:R,_setValid:v,_setFieldArray:b,_setDisabledField:xe,_setErrors:E,_getFieldArray:q,_reset:ee,_resetDefaultValues:()=>fu(e.defaultValues)&&e.defaultValues().then(me=>{ne(me,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:Ce,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(me){o=me},get _defaultValues(){return i},get _names(){return l},set _names(me){l=me},get _formState(){return n},get _options(){return e},set _options(me){e={...e,...me}}},subscribe:fe,trigger:Y,register:de,handleSubmit:ae,watch:J,setValue:X,getValues:ie,reset:ne,resetField:Pe,clearErrors:I,unregister:pe,setError:V,setFocus:Re,getFieldState:Q};return{...Ke,formControl:Ke}}function gne(t={}){const e=ye.useRef(void 0),n=ye.useRef(void 0),[r,i]=ye.useState({isDirty:!1,isValidating:!1,isLoading:fu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:fu(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!fu(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=HMe(t);e.current={...l,formState:r}}const s=e.current.control;return s._options=t,ZD(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ye.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ye.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ye.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ye.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ye.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ye.useEffect(()=>{t.values&&!mf(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),ye.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=one(r,s),e.current}const mU=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Bt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},vne=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?mU(r.ref,n,t):r.refs&&r.refs.forEach(i=>mU(i,n,t))}},VMe=(t,e)=>{e.shouldUseNativeValidation&&vne(t,e);const n={};for(const r in t){const i=Bt(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(WMe(e.names||Object.keys(t),r)){const o=Object.assign({},Bt(n,r));ti(o,"root",s),ti(n,r,o)}else ti(n,r,s)}return n},WMe=(t,e)=>t.some(n=>n.startsWith(e+"."));var KMe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=cne(o,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},GMe=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&vne({},s),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:VMe(KMe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Pr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Pr||(Pr={}));var gU;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(gU||(gU={}));const cn=Pr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),kh=t=>{switch(typeof t){case"undefined":return cn.undefined;case"string":return cn.string;case"number":return Number.isNaN(t)?cn.nan:cn.number;case"boolean":return cn.boolean;case"function":return cn.function;case"bigint":return cn.bigint;case"symbol":return cn.symbol;case"object":return Array.isArray(t)?cn.array:t===null?cn.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?cn.promise:typeof Map<"u"&&t instanceof Map?cn.map:typeof Set<"u"&&t instanceof Set?cn.set:typeof Date<"u"&&t instanceof Date?cn.date:cn.object;default:return cn.unknown}},Tt=Pr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rf extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof Rf))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rf.create=t=>new Rf(t);const PR=(t,e)=>{let n;switch(t.code){case Tt.invalid_type:t.received===cn.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Tt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pr.jsonStringifyReplacer)}`;break;case Tt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pr.joinValues(t.keys,", ")}`;break;case Tt.invalid_union:n="Invalid input";break;case Tt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pr.joinValues(t.options)}`;break;case Tt.invalid_enum_value:n=`Invalid enum value. Expected ${Pr.joinValues(t.options)}, received '${t.received}'`;break;case Tt.invalid_arguments:n="Invalid function arguments";break;case Tt.invalid_return_type:n="Invalid function return type";break;case Tt.invalid_date:n="Invalid date";break;case Tt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pr.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Tt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Tt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Tt.custom:n="Invalid input";break;case Tt.invalid_intersection_types:n="Intersection results could not be merged";break;case Tt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Tt.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pr.assertNever(t)}return{message:n}};let YMe=PR;function XMe(){return YMe}const QMe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Vt(t,e){const n=XMe(),r=QMe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===PR?void 0:PR].filter(i=>!!i)});t.common.issues.push(r)}class zl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Qn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return zl.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Qn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Qn=Object.freeze({status:"aborted"}),vb=t=>({status:"dirty",value:t}),Mc=t=>({status:"valid",value:t}),vU=t=>t.status==="aborted",yU=t=>t.status==="dirty",jy=t=>t.status==="valid",MS=t=>typeof Promise<"u"&&t instanceof Promise;var hn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(hn||(hn={}));class fp{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xU=(t,e)=>{if(jy(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rf(t.common.issues);return this._error=n,this._error}}};function pr(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class Ar{get description(){return this._def.description}_getType(e){return kh(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:kh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zl,ctx:{common:e.parent.common,data:e.data,parsedType:kh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(MS(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kh(e)},i=this._parseSync({data:e,path:r.path,parent:r});return xU(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kh(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return jy(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>jy(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kh(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(MS(i)?i:Promise.resolve(i));return xU(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:Tt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Cy({schema:this,typeName:Zn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Zh.create(this,this._def)}nullable(){return Ay.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hd.create(this)}promise(){return LS.create(this,this._def)}or(e){return IS.create([this,e],this._def)}and(e){return DS.create(this,e,this._def)}transform(e){return new Cy({...pr(this._def),schema:this,typeName:Zn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new IR({...pr(this._def),innerType:this,defaultValue:n,typeName:Zn.ZodDefault})}brand(){return new bRe({typeName:Zn.ZodBranded,type:this,...pr(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new DR({...pr(this._def),innerType:this,catchValue:n,typeName:Zn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return nL.create(this,e)}readonly(){return LR.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const JMe=/^c[^\s-]{8,}$/i,ZMe=/^[0-9a-z]+$/,eRe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tRe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nRe=/^[a-z0-9_-]{21}$/i,rRe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iRe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sRe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aRe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lO;const oRe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lRe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cRe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uRe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dRe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fRe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yne="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hRe=new RegExp(`^${yne}$`);function xne(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function pRe(t){return new RegExp(`^${xne(t)}$`)}function mRe(t){let e=`${yne}T${xne(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function gRe(t,e){return!!((e==="v4"||!e)&&oRe.test(t)||(e==="v6"||!e)&&cRe.test(t))}function vRe(t,e){if(!rRe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function yRe(t,e){return!!((e==="v4"||!e)&&lRe.test(t)||(e==="v6"||!e)&&uRe.test(t))}class qh extends Ar{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==cn.string){const s=this._getOrReturnCtx(e);return Vt(s,{code:Tt.invalid_type,expected:cn.string,received:s.parsedType}),Qn}const r=new zl;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Vt(i,{code:Tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Vt(i,{code:Tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")sRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"email",code:Tt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")lO||(lO=new RegExp(aRe,"u")),lO.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"emoji",code:Tt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")tRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"uuid",code:Tt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")nRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"nanoid",code:Tt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")JMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"cuid",code:Tt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")ZMe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"cuid2",code:Tt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")eRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"ulid",code:Tt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Vt(i,{validation:"url",code:Tt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"regex",code:Tt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?mRe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?hRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?pRe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?iRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"duration",code:Tt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?gRe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"ip",code:Tt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?vRe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"jwt",code:Tt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?yRe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"cidr",code:Tt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?dRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"base64",code:Tt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?fRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Vt(i,{validation:"base64url",code:Tt.invalid_string,message:s.message}),r.dirty()):Pr.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Tt.invalid_string,...hn.errToObj(r)})}_addCheck(e){return new qh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...hn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...hn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...hn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...hn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...hn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...hn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...hn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...hn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...hn.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...hn.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...hn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...hn.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...hn.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...hn.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...hn.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...hn.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...hn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...hn.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...hn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...hn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...hn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...hn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...hn.errToObj(n)})}nonempty(e){return this.min(1,hn.errToObj(e))}trim(){return new qh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}qh.create=t=>new qh({checks:[],typeName:Zn.ZodString,coerce:t?.coerce??!1,...pr(t)});function xRe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class H0 extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==cn.number){const s=this._getOrReturnCtx(e);return Vt(s,{code:Tt.invalid_type,expected:cn.number,received:s.parsedType}),Qn}let r;const i=new zl;for(const s of this._def.checks)s.kind==="int"?Pr.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?xRe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.not_finite,message:s.message}),i.dirty()):Pr.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,hn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,hn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,hn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,hn.toString(n))}setLimit(e,n,r,i){return new H0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:hn.toString(i)}]})}_addCheck(e){return new H0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:hn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:hn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:hn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:hn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:hn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:hn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:hn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:hn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:hn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pr.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}H0.create=t=>new H0({checks:[],typeName:Zn.ZodNumber,coerce:t?.coerce||!1,...pr(t)});class V0 extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==cn.bigint)return this._getInvalidInput(e);let r;const i=new zl;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Vt(r,{code:Tt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Pr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Vt(n,{code:Tt.invalid_type,expected:cn.bigint,received:n.parsedType}),Qn}gte(e,n){return this.setLimit("min",e,!0,hn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,hn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,hn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,hn.toString(n))}setLimit(e,n,r,i){return new V0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:hn.toString(i)}]})}_addCheck(e){return new V0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:hn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:hn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:hn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:hn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:hn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}V0.create=t=>new V0({checks:[],typeName:Zn.ZodBigInt,coerce:t?.coerce??!1,...pr(t)});class MR extends Ar{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==cn.boolean){const r=this._getOrReturnCtx(e);return Vt(r,{code:Tt.invalid_type,expected:cn.boolean,received:r.parsedType}),Qn}return Mc(e.data)}}MR.create=t=>new MR({typeName:Zn.ZodBoolean,coerce:t?.coerce||!1,...pr(t)});class RS extends Ar{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==cn.date){const s=this._getOrReturnCtx(e);return Vt(s,{code:Tt.invalid_type,expected:cn.date,received:s.parsedType}),Qn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Vt(s,{code:Tt.invalid_date}),Qn}const r=new zl;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Vt(i,{code:Tt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Pr.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new RS({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:hn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:hn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}RS.create=t=>new RS({checks:[],coerce:t?.coerce||!1,typeName:Zn.ZodDate,...pr(t)});class bU extends Ar{_parse(e){if(this._getType(e)!==cn.symbol){const r=this._getOrReturnCtx(e);return Vt(r,{code:Tt.invalid_type,expected:cn.symbol,received:r.parsedType}),Qn}return Mc(e.data)}}bU.create=t=>new bU({typeName:Zn.ZodSymbol,...pr(t)});class wU extends Ar{_parse(e){if(this._getType(e)!==cn.undefined){const r=this._getOrReturnCtx(e);return Vt(r,{code:Tt.invalid_type,expected:cn.undefined,received:r.parsedType}),Qn}return Mc(e.data)}}wU.create=t=>new wU({typeName:Zn.ZodUndefined,...pr(t)});class NU extends Ar{_parse(e){if(this._getType(e)!==cn.null){const r=this._getOrReturnCtx(e);return Vt(r,{code:Tt.invalid_type,expected:cn.null,received:r.parsedType}),Qn}return Mc(e.data)}}NU.create=t=>new NU({typeName:Zn.ZodNull,...pr(t)});class SU extends Ar{constructor(){super(...arguments),this._any=!0}_parse(e){return Mc(e.data)}}SU.create=t=>new SU({typeName:Zn.ZodAny,...pr(t)});class EU extends Ar{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mc(e.data)}}EU.create=t=>new EU({typeName:Zn.ZodUnknown,...pr(t)});class hp extends Ar{_parse(e){const n=this._getOrReturnCtx(e);return Vt(n,{code:Tt.invalid_type,expected:cn.never,received:n.parsedType}),Qn}}hp.create=t=>new hp({typeName:Zn.ZodNever,...pr(t)});class jU extends Ar{_parse(e){if(this._getType(e)!==cn.undefined){const r=this._getOrReturnCtx(e);return Vt(r,{code:Tt.invalid_type,expected:cn.void,received:r.parsedType}),Qn}return Mc(e.data)}}jU.create=t=>new jU({typeName:Zn.ZodVoid,...pr(t)});class hd extends Ar{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==cn.array)return Vt(n,{code:Tt.invalid_type,expected:cn.array,received:n.parsedType}),Qn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Vt(n,{code:o?Tt.too_big:Tt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Vt(n,{code:Tt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Vt(n,{code:Tt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new fp(n,o,n.path,l)))).then(o=>zl.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new fp(n,o,n.path,l)));return zl.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new hd({...this._def,minLength:{value:e,message:hn.toString(n)}})}max(e,n){return new hd({...this._def,maxLength:{value:e,message:hn.toString(n)}})}length(e,n){return new hd({...this._def,exactLength:{value:e,message:hn.toString(n)}})}nonempty(e){return this.min(1,e)}}hd.create=(t,e)=>new hd({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Zn.ZodArray,...pr(e)});function hv(t){if(t instanceof Ds){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Zh.create(hv(r))}return new Ds({...t._def,shape:()=>e})}else return t instanceof hd?new hd({...t._def,type:hv(t.element)}):t instanceof Zh?Zh.create(hv(t.unwrap())):t instanceof Ay?Ay.create(hv(t.unwrap())):t instanceof Xm?Xm.create(t.items.map(e=>hv(e))):t}class Ds extends Ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pr.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==cn.object){const u=this._getOrReturnCtx(e);return Vt(u,{code:Tt.invalid_type,expected:cn.object,received:u.parsedType}),Qn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof hp&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new fp(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof hp){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Vt(i,{code:Tt.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new fp(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>zl.mergeObjectSync(r,u)):zl.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return hn.errToObj,new Ds({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:hn.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ds({...this._def,unknownKeys:"strip"})}passthrough(){return new Ds({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ds({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ds({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Zn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ds({...this._def,catchall:e})}pick(e){const n={};for(const r of Pr.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ds({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Pr.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ds({...this._def,shape:()=>n})}deepPartial(){return hv(this)}partial(e){const n={};for(const r of Pr.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Ds({...this._def,shape:()=>n})}required(e){const n={};for(const r of Pr.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Zh;)s=s._def.innerType;n[r]=s}return new Ds({...this._def,shape:()=>n})}keyof(){return bne(Pr.objectKeys(this.shape))}}Ds.create=(t,e)=>new Ds({shape:()=>t,unknownKeys:"strip",catchall:hp.create(),typeName:Zn.ZodObject,...pr(e)});Ds.strictCreate=(t,e)=>new Ds({shape:()=>t,unknownKeys:"strict",catchall:hp.create(),typeName:Zn.ZodObject,...pr(e)});Ds.lazycreate=(t,e)=>new Ds({shape:t,unknownKeys:"strip",catchall:hp.create(),typeName:Zn.ZodObject,...pr(e)});class IS extends Ar{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Rf(l.ctx.common.issues));return Vt(n,{code:Tt.invalid_union,unionErrors:o}),Qn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Rf(c));return Vt(n,{code:Tt.invalid_union,unionErrors:l}),Qn}}get options(){return this._def.options}}IS.create=(t,e)=>new IS({options:t,typeName:Zn.ZodUnion,...pr(e)});function RR(t,e){const n=kh(t),r=kh(e);if(t===e)return{valid:!0,data:t};if(n===cn.object&&r===cn.object){const i=Pr.objectKeys(e),s=Pr.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=RR(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===cn.array&&r===cn.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=RR(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===cn.date&&r===cn.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class DS extends Ar{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(vU(s)||vU(o))return Qn;const l=RR(s.value,o.value);return l.valid?((yU(s)||yU(o))&&n.dirty(),{status:n.value,value:l.data}):(Vt(r,{code:Tt.invalid_intersection_types}),Qn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}DS.create=(t,e,n)=>new DS({left:t,right:e,typeName:Zn.ZodIntersection,...pr(n)});class Xm extends Ar{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==cn.array)return Vt(r,{code:Tt.invalid_type,expected:cn.array,received:r.parsedType}),Qn;if(r.data.length<this._def.items.length)return Vt(r,{code:Tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qn;!this._def.rest&&r.data.length>this._def.items.length&&(Vt(r,{code:Tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new fp(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>zl.mergeArray(n,o)):zl.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Xm({...this._def,rest:e})}}Xm.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xm({items:t,typeName:Zn.ZodTuple,rest:null,...pr(e)})};class _U extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==cn.map)return Vt(r,{code:Tt.invalid_type,expected:cn.map,received:r.parsedType}),Qn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new fp(r,l,r.path,[u,"key"])),value:s._parse(new fp(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Qn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Qn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}_U.create=(t,e,n)=>new _U({valueType:e,keyType:t,typeName:Zn.ZodMap,...pr(n)});class W0 extends Ar{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==cn.set)return Vt(r,{code:Tt.invalid_type,expected:cn.set,received:r.parsedType}),Qn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Vt(r,{code:Tt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Vt(r,{code:Tt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Qn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>s._parse(new fp(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new W0({...this._def,minSize:{value:e,message:hn.toString(n)}})}max(e,n){return new W0({...this._def,maxSize:{value:e,message:hn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}W0.create=(t,e)=>new W0({valueType:t,minSize:null,maxSize:null,typeName:Zn.ZodSet,...pr(e)});class CU extends Ar{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}CU.create=(t,e)=>new CU({getter:t,typeName:Zn.ZodLazy,...pr(e)});class AU extends Ar{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Vt(n,{received:n.data,code:Tt.invalid_literal,expected:this._def.value}),Qn}return{status:"valid",value:e.data}}get value(){return this._def.value}}AU.create=(t,e)=>new AU({value:t,typeName:Zn.ZodLiteral,...pr(e)});function bne(t,e){return new _y({values:t,typeName:Zn.ZodEnum,...pr(e)})}class _y extends Ar{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Vt(n,{expected:Pr.joinValues(r),received:n.parsedType,code:Tt.invalid_type}),Qn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Vt(n,{received:n.data,code:Tt.invalid_enum_value,options:r}),Qn}return Mc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return _y.create(e,{...this._def,...n})}exclude(e,n=this._def){return _y.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}_y.create=bne;class kU extends Ar{_parse(e){const n=Pr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==cn.string&&r.parsedType!==cn.number){const i=Pr.objectValues(n);return Vt(r,{expected:Pr.joinValues(i),received:r.parsedType,code:Tt.invalid_type}),Qn}if(this._cache||(this._cache=new Set(Pr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Pr.objectValues(n);return Vt(r,{received:r.data,code:Tt.invalid_enum_value,options:i}),Qn}return Mc(e.data)}get enum(){return this._def.values}}kU.create=(t,e)=>new kU({values:t,typeName:Zn.ZodNativeEnum,...pr(e)});class LS extends Ar{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==cn.promise&&n.common.async===!1)return Vt(n,{code:Tt.invalid_type,expected:cn.promise,received:n.parsedType}),Qn;const r=n.parsedType===cn.promise?n.data:Promise.resolve(n.data);return Mc(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}LS.create=(t,e)=>new LS({type:t,typeName:Zn.ZodPromise,...pr(e)});class Cy extends Ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Vt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Qn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Qn:c.status==="dirty"||n.value==="dirty"?vb(c.value):c});{if(n.value==="aborted")return Qn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Qn:l.status==="dirty"||n.value==="dirty"?vb(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Qn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Qn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!jy(o))return Qn;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>jy(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):Qn);Pr.assertNever(i)}}Cy.create=(t,e,n)=>new Cy({schema:t,typeName:Zn.ZodEffects,effect:e,...pr(n)});Cy.createWithPreprocess=(t,e,n)=>new Cy({schema:e,effect:{type:"preprocess",transform:t},typeName:Zn.ZodEffects,...pr(n)});class Zh extends Ar{_parse(e){return this._getType(e)===cn.undefined?Mc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zh.create=(t,e)=>new Zh({innerType:t,typeName:Zn.ZodOptional,...pr(e)});class Ay extends Ar{_parse(e){return this._getType(e)===cn.null?Mc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ay.create=(t,e)=>new Ay({innerType:t,typeName:Zn.ZodNullable,...pr(e)});class IR extends Ar{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===cn.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}IR.create=(t,e)=>new IR({innerType:t,typeName:Zn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pr(e)});class DR extends Ar{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return MS(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rf(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rf(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}DR.create=(t,e)=>new DR({innerType:t,typeName:Zn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pr(e)});class TU extends Ar{_parse(e){if(this._getType(e)!==cn.nan){const r=this._getOrReturnCtx(e);return Vt(r,{code:Tt.invalid_type,expected:cn.nan,received:r.parsedType}),Qn}return{status:"valid",value:e.data}}}TU.create=t=>new TU({typeName:Zn.ZodNaN,...pr(t)});class bRe extends Ar{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class nL extends Ar{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Qn:s.status==="dirty"?(n.dirty(),vb(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Qn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new nL({in:e,out:n,typeName:Zn.ZodPipeline})}}class LR extends Ar{_parse(e){const n=this._def.innerType._parse(e),r=i=>(jy(i)&&(i.value=Object.freeze(i.value)),i);return MS(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}LR.create=(t,e)=>new LR({innerType:t,typeName:Zn.ZodReadonly,...pr(e)});var Zn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Zn||(Zn={}));const ib=qh.create,wRe=MR.create;hp.create;hd.create;const NRe=Ds.create;IS.create;DS.create;Xm.create;_y.create;LS.create;Zh.create;Ay.create;const SRe=_Me,wne=w.createContext({}),nv=({...t})=>a.jsx(wne.Provider,{value:{name:t.name},children:a.jsx(TMe,{...t})}),l_=()=>{const t=w.useContext(wne),e=w.useContext(Nne),{getFieldState:n,formState:r}=o_(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Nne=w.createContext({}),lm=w.forwardRef(({className:t,...e},n)=>{const r=w.useId();return a.jsx(Nne.Provider,{value:{id:r},children:a.jsx("div",{ref:n,className:gt("space-y-2",t),...e})})});lm.displayName="FormItem";const cm=w.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=l_();return a.jsx(_e,{ref:n,className:gt(r&&"text-destructive",t),htmlFor:i,...e})});cm.displayName="FormLabel";const yb=w.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=l_();return a.jsx(YE,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});yb.displayName="FormControl";const ERe=w.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=l_();return a.jsx("p",{ref:n,id:r,className:gt("text-sm text-muted-foreground",t),...e})});ERe.displayName="FormDescription";const pv=w.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=l_(),o=i?String(i?.message??""):e;return o?a.jsx("p",{ref:r,id:s,className:gt("text-sm font-medium text-destructive",t),...n,children:o}):null});pv.displayName="FormMessage";const Sne={100:{allowedTypes:["AUTONOMO","PARTICULAR"],allowedPeriods:["ANUAL"]},200:{allowedTypes:["EMPRESA"],allowedPeriods:["ANUAL"]},202:{allowedTypes:["EMPRESA"],allowedPeriods:["ESPECIAL_FRACCIONADO"],labels:["Abril","Octubre","Diciembre"]},130:{allowedTypes:["AUTONOMO"],allowedPeriods:["TRIMESTRAL"]},131:{allowedTypes:["AUTONOMO"],allowedPeriods:["TRIMESTRAL"]},303:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]},390:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},347:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},349:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]},720:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},190:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},180:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},111:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]}},c_={100:{name:"IRPF - Declaracin de la Renta"},111:{name:"Retenciones - Modelo 111"},130:{name:"IRPF - Pago fraccionado (actividades econmicas)"},131:{name:"IRPF - Pago fraccionado (estimacin directa)"},180:{name:"Retenciones - Alquileres"},190:{name:"Retenciones - Resumen anual"},200:{name:"Impuesto sobre Sociedades"},202:{name:"Pagos fraccionados IS"},303:{name:"IVA - Autoliquidacin"},347:{name:"Operaciones con terceras personas"},349:{name:"Operaciones intracomunitarias"},390:{name:"IVA - Resumen anual"},720:{name:"Bienes en el extranjero"}};function jRe(t){return Sne[t]?.allowedPeriods??[]}function _Re(t){return t.endDate?!1:!!t.activeFlag}function CRe(t,e){return e.length===0?Object.entries(Sne).filter(([,n])=>n.allowedTypes.includes(t)).map(([n,r])=>({code:n,name:`Modelo ${n}`,allowedTypes:r.allowedTypes,allowedPeriods:r.allowedPeriods,labels:r.labels??null,isActive:!0,createdAt:"",updatedAt:""})):e.filter(n=>n.allowedTypes.some(r=>r===t))}function ARe(t,e){const n=e.find(r=>r.code===t);return n?n.name:`Modelo ${t}`}function o2(t,e){const n=e.find(r=>r.code===t);return n?n.allowedPeriods:jRe(t)}function kRe(t){return _Re({endDate:t.endDate,activeFlag:t.activeFlag})}const TRe=NRe({taxModelCode:ib().min(1,"Selecciona un modelo"),periodicity:ib().min(1,"Selecciona la periodicidad"),startDate:ib().min(1,"La fecha de alta es obligatoria").refine(t=>!Number.isNaN(Date.parse(t)),"Fecha de alta invlida"),endDate:ib().optional().refine(t=>!t||!Number.isNaN(Date.parse(t)),"Fecha de baja invlida"),activeFlag:wRe(),notes:ib().max(1e3,"Mximo 1000 caracteres").optional()}).superRefine((t,e)=>{if(t.endDate){const n=Date.parse(t.startDate);Date.parse(t.endDate)<n&&e.addIssue({path:["endDate"],code:Tt.custom,message:"La fecha de baja debe ser posterior a la fecha de alta"})}});function sb(t){if(!t)return"";const e=typeof t=="string"?new Date(t):t;if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}const ORe={ANUAL:"Anual",TRIMESTRAL:"Trimestral",MENSUAL:"Mensual",ESPECIAL_FRACCIONADO:"Pagos fraccionados (Abr/Oct/Dic)"};function PRe({open:t,mode:e,clientType:n,assignedCodes:r,taxModelsConfig:i,assignment:s,onClose:o,onSubmit:l,isSubmitting:c}){const u=gne({resolver:GMe(TRe),defaultValues:{taxModelCode:s?.taxModelCode??"",periodicity:s?.periodicity??"",startDate:sb(s?.startDate)||"",endDate:sb(s?.endDate)||"",activeFlag:s?s.activeFlag&&!s.endDate:!0,notes:s?.notes??""}}),d=w.useMemo(()=>e==="edit"&&s?r.filter(_=>_!==s.taxModelCode):r,[r,s,e]),f=w.useMemo(()=>CRe(n,i).filter(_=>!d.includes(_.code)),[n,i,d]),m=u.watch("taxModelCode"),h=o2(m,i),y=u.watch("periodicity"),v=u.watch("endDate"),x=u.watch("activeFlag");w.useEffect(()=>{if(!t){u.reset({taxModelCode:s?.taxModelCode??"",periodicity:s?.periodicity??"",startDate:sb(s?.startDate)||"",endDate:sb(s?.endDate)||"",activeFlag:s?s.activeFlag&&!s.endDate:!0,notes:s?.notes??""});return}if(!s&&f.length>0){u.setValue("taxModelCode",f[0].code);const _=o2(f[0].code,i);_.length>0&&u.setValue("periodicity",_[0]),u.getValues("startDate")||u.setValue("startDate",sb(new Date))}},[t,s,f,i,u]),w.useEffect(()=>{if(m){const _=o2(m,i);_.length>0&&!_.includes(y)&&u.setValue("periodicity",_[0])}},[m,y,u,i]),w.useEffect(()=>{v&&x&&u.setValue("activeFlag",!1)},[v,x,u]);const b=w.useMemo(()=>{const _=o2(m,i),C=i.find(O=>O.code===m)?.labels;return{periods:_,labels:C}},[m,i]),S=u.handleSubmit(async _=>{const C={taxModelCode:_.taxModelCode,periodicity:_.periodicity,startDate:_.startDate,endDate:_.endDate?_.endDate:null,activeFlag:_.endDate?!1:_.activeFlag,notes:_.notes?.trim()?_.notes.trim():null};await l(C,s?.id),o()}),E=m?ARe(m,i):null;return a.jsx(Lr,{open:t,onOpenChange:_=>!c&&!_?o():void 0,children:a.jsxs(Mr,{className:"sm:max-w-lg",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:e==="create"?"Aadir impuesto":`Editar modelo ${m||""}`}),a.jsx(Mi,{children:"Gestiona los modelos fiscales asignados a este cliente."})]}),a.jsx(SRe,{...u,children:a.jsxs("form",{className:"space-y-4",onSubmit:S,children:[a.jsx(nv,{control:u.control,name:"taxModelCode",render:({field:_})=>a.jsxs(lm,{children:[a.jsx(cm,{children:"Modelo"}),a.jsxs(_n,{disabled:c||f.length===0,value:_.value,onValueChange:C=>_.onChange(C.toUpperCase()),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Selecciona un modelo"})}),a.jsx(En,{children:f.map(C=>a.jsxs(Qe,{value:C.code,children:[C.code,"  ",C.name]},C.code))})]}),a.jsx(pv,{})]})}),a.jsx(nv,{control:u.control,name:"periodicity",render:({field:_})=>a.jsxs(lm,{children:[a.jsx(cm,{children:"Periodicidad"}),a.jsxs(_n,{disabled:c||h.length===0,value:_.value,onValueChange:C=>_.onChange(C.toUpperCase()),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Selecciona periodicidad"})}),a.jsx(En,{children:h.map(C=>a.jsx(Qe,{value:C,children:ORe[C]},C))})]}),b.labels&&b.labels.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Presentaciones en: ",b.labels.join(", ")]}),y&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[y==="MENSUAL"&&"Se generarn periodos M01..M12 cada ao.",y==="TRIMESTRAL"&&"Se generarn 1T, 2T, 3T y 4T cada ao.",y==="ANUAL"&&"Una presentacin anual por ejercicio."]}),a.jsx(pv,{})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(nv,{control:u.control,name:"startDate",render:({field:_})=>a.jsxs(lm,{children:[a.jsx(cm,{children:"Fecha de alta"}),a.jsx(yb,{children:a.jsx(Fe,{type:"date",..._,disabled:c})}),a.jsx(pv,{})]})}),a.jsx(nv,{control:u.control,name:"endDate",render:({field:_})=>a.jsxs(lm,{children:[a.jsx(cm,{children:"Fecha de baja"}),a.jsx(yb,{children:a.jsx(Fe,{type:"date",value:_.value??"",onChange:C=>_.onChange(C.target.value||""),disabled:c})}),a.jsx(pv,{})]})})]}),a.jsx(nv,{control:u.control,name:"activeFlag",render:({field:_})=>a.jsxs(lm,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(cm,{className:"text-base",children:"Activo"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"El impuesto permanecer activo mientras no tenga fecha de baja."})]}),a.jsx(yb,{children:a.jsx(wu,{checked:_.value,onCheckedChange:_.onChange,disabled:!!v||c})})]})}),a.jsx(nv,{control:u.control,name:"notes",render:({field:_})=>a.jsxs(lm,{children:[a.jsx(cm,{children:"Notas"}),a.jsx(yb,{children:a.jsx(vd,{placeholder:E?`Notas internas sobre el modelo ${E}`:"Notas internas",..._,disabled:c})}),a.jsx(pv,{})]})}),a.jsxs(ms,{children:[a.jsx(ge,{type:"button",variant:"outline",onClick:o,disabled:c,children:"Cancelar"}),a.jsx(ge,{type:"submit",disabled:c||f.length===0,children:c?"Guardando...":"Guardar"})]})]})})]})})}const MRe={ANUAL:"default",TRIMESTRAL:"secondary",MENSUAL:"outline",ESPECIAL_FRACCIONADO:"destructive"},RRe={ANUAL:"Anual",TRIMESTRAL:"Trimestral",MENSUAL:"Mensual",ESPECIAL_FRACCIONADO:"Especial fraccionado"};function OU(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})}function IRe({assignment:t,onEdit:e,onDelete:n,onToggleActive:r,disabled:i,selectable:s,selected:o,onSelectChange:l}){const c=kRe(t),u=t.periodicity,d=MRe[u]??"default",f=RRe[u]??u,m=!!t.endDate;return a.jsxs(er,{children:[a.jsx(yt,{className:"w-10",children:s?a.jsx(cr,{checked:o,onCheckedChange:h=>l?.(!!h,t)}):null}),a.jsx(yt,{className:"font-medium",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:`${t.taxModelCode}`}),t.taxModel?.name&&a.jsx("span",{className:"text-xs text-muted-foreground",children:t.taxModel.name})]})}),a.jsx(yt,{children:a.jsx(it,{variant:d,children:f})}),a.jsx(yt,{children:OU(t.startDate)}),a.jsx(yt,{children:OU(t.endDate)}),a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wu,{checked:c,disabled:i||m,onCheckedChange:h=>r(t,h)}),a.jsx("span",{className:"text-sm text-muted-foreground",children:c?"Activo":m?"Baja":"Inactivo"})]})}),a.jsx(yt,{className:"max-w-sm truncate text-sm text-muted-foreground",children:t.notes||""}),a.jsxs(yt,{className:"flex items-center gap-2",children:[a.jsx(ge,{variant:"secondary",size:"icon",onClick:()=>e(t),disabled:i,children:a.jsx(vI,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"destructive",size:"icon",onClick:()=>n(t),disabled:i,children:a.jsx(na,{className:"h-4 w-4"})})]})]})}function DRe(t){return tn("GET",`/api/clients/${t}`)}function LRe(){return tn("GET","/api/tax-models-config")}function FRe(t){return tn("POST","/api/clients",t)}function $Re(t,e){return tn("PATCH",`/api/clients/${t}`,e)}function BRe(t,e){return tn("POST",`/api/clients/${t}/tax-assignments`,e)}function zRe(t,e){return tn("PATCH",`/api/tax-assignments/${t}`,e)}function qRe(t,e){return tn("DELETE",`/api/tax-assignments/${t}${e?"?hard=1":""}`)}function PU(t,e){const n={codes:e?.codes,assignmentIds:e?.assignmentIds,hard:e?.hard??!0};return tn("POST",`/api/clients/${t}/tax-assignments/delete`,n)}function cO(t){return[...t].sort((e,n)=>{const r=new Date(n.startDate).getTime()-new Date(e.startDate).getTime();return r!==0?r:e.taxModelCode.localeCompare(n.taxModelCode)})}function URe({clientId:t,clientType:e,assignments:n,taxModelsConfig:r,onAssignmentsChange:i,disabled:s}){const{toast:o}=Ir(),[l,c]=w.useState(!1),[u,d]=w.useState("create"),[f,m]=w.useState(null),[h,y]=w.useState(null),[v,x]=w.useState(new Set),[b,S]=w.useState(!0),E=w.useMemo(()=>n.map(q=>q.taxModelCode),[n]),_=Xt({mutationFn:async q=>{if(!t)throw new Error("El cliente debe guardarse antes de aadir impuestos");return await BRe(t,q)},onSuccess:q=>{i(z=>cO([...z,q])),t&&sn.invalidateQueries({queryKey:["client-detail",t]}),o({title:"Impuesto asignado",description:`El modelo ${q.taxModelCode} se asign correctamente.`})},onError:q=>{o({title:"No se pudo asignar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),C=Xt({mutationFn:async({assignmentId:q,payload:z})=>await zRe(q,z),onSuccess:q=>{i(z=>cO(z.map(G=>G.id===q.id?q:G))),t&&sn.invalidateQueries({queryKey:["client-detail",t]}),o({title:"Asignacin actualizada",description:`Modelo ${q.taxModelCode} actualizado correctamente.`})},onError:q=>{o({title:"No se pudo actualizar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),O=Xt({mutationFn:async q=>await qRe(q,b),onSuccess:q=>{q.softDeleted?(i(z=>cO(z.map(G=>G.id===q.assignment.id?q.assignment:G))),t&&sn.invalidateQueries({queryKey:["client-detail",t]}),o({title:"Asignacin desactivada",description:q.message})):(i(z=>z.filter(G=>G.id!==q.assignment.id)),o({title:"Asignacin eliminada",description:q.message}))},onError:q=>{o({title:"No se pudo eliminar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),M=()=>{d("create"),m(null),c(!0)},A=q=>{d("edit"),m(q),c(!0)},P=q=>{y(q)},F=(q,z)=>{C.mutate({assignmentId:q.id,payload:{activeFlag:z}})},R=_.isPending||C.isPending,$=(q,z)=>{x(G=>{const X=new Set(G);return q?X.add(z.id):X.delete(z.id),X})};return a.jsxs(Ue,{children:[a.jsxs(lt,{className:"flex flex-row items-center justify-between",children:[a.jsx(ut,{children:"Asignaciones fiscales"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ge,{onClick:M,disabled:!t||s,children:"Aadir impuesto"}),a.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l",children:[a.jsx(wu,{id:"hard-delete",checked:b,onCheckedChange:S}),a.jsx(_e,{htmlFor:"hard-delete",className:"text-xs text-muted-foreground",children:"Borrado definitivo"})]}),a.jsx(ge,{variant:"outline",disabled:!t||s||n.length===0,onClick:async()=>{if(!(!t||!window.confirm("Eliminar todas las asignaciones fiscales de este cliente? Los modelos con histrico se desactivarn.")))try{const z=await PU(t,{hard:b});Array.isArray(z.assignments)?i(()=>z.assignments):i(()=>[]),sn.invalidateQueries({queryKey:["client-detail",t]}),o({title:"Limpieza completada",description:`${z.deleted} eliminadas, ${z.deactivated} desactivadas`})}catch(z){o({title:"Error",description:z?.message??"No se pudo limpiar",variant:"destructive"})}},children:"Borrar modelos"}),a.jsx(ge,{variant:"destructive",disabled:!t||s||v.size===0,onClick:async()=>{if(!t)return;const q=Array.from(v);if(window.confirm(`Eliminar/desactivar modelos seleccionados? (${q.length} registros)`))try{const G=await PU(t,{assignmentIds:q,hard:b});x(new Set),Array.isArray(G.assignments)?i(()=>G.assignments):sn.invalidateQueries({queryKey:["client-detail",t]}),o({title:"Seleccin procesada",description:`${G.deleted} eliminadas, ${G.deactivated} desactivadas`})}catch(G){o({title:"Error",description:G?.message??"No se pudo procesar la seleccin",variant:"destructive"})}},children:"Borrar seleccionados"})]})]}),a.jsx(He,{children:t?n.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay impuestos asignados. Aade un modelo fiscal para empezar a controlar sus obligaciones."}):a.jsx("div",{className:"overflow-x-auto rounded-md border",children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{className:"w-10"}),a.jsx(Et,{children:"Modelo"}),a.jsx(Et,{children:"Periodicidad"}),a.jsx(Et,{children:"Alta"}),a.jsx(Et,{children:"Baja"}),a.jsx(Et,{children:"Activo"}),a.jsx(Et,{children:"Notas"}),a.jsx(Et,{className:"w-[120px] text-right",children:"Acciones"})]})}),a.jsx(co,{children:n.map(q=>a.jsx(IRe,{assignment:q,onEdit:A,onDelete:P,onToggleActive:F,selectable:!0,selected:v.has(q.id),onSelectChange:$,disabled:s||C.isPending||O.isPending},q.id))})]})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Guarda los datos del cliente para gestionar sus modelos fiscales."})}),a.jsx(PRe,{open:l,mode:u,clientType:e,assignedCodes:E,taxModelsConfig:r,assignment:f,onClose:()=>c(!1),onSubmit:async(q,z)=>{u==="create"?await _.mutateAsync(q):z&&await C.mutateAsync({assignmentId:z,payload:q})},isSubmitting:R}),a.jsx(L1,{open:!!h,onOpenChange:q=>!q&&y(null),children:a.jsxs(sx,{children:[a.jsxs(ax,{children:[a.jsx(ox,{children:"Eliminar asignacin fiscal?"}),a.jsxs(lx,{children:["Esta accin eliminar la asignacin del modelo"," ",a.jsx("strong",{children:h?.taxModelCode}),". Si existen histricos, se dar de baja automticamente."]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Borrado definitivo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Si est activado, se eliminar tambin el histrico asociado a este modelo."})]}),a.jsx(wu,{checked:b,onCheckedChange:S})]}),a.jsxs(GD,{children:[a.jsx(ux,{disabled:O.isPending,onClick:()=>y(null),children:"Cancelar"}),a.jsx(cx,{onClick:()=>h&&O.mutate(h.id),disabled:O.isPending,children:O.isPending?"Eliminando...":"Eliminar"})]})]})})]})}const HRe=lg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ep=w.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:gt(HRe({variant:e}),t),...n}));ep.displayName="Alert";const VRe=w.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:gt("mb-1 font-medium leading-none tracking-tight",t),...e}));VRe.displayName="AlertTitle";const tp=w.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:gt("text-sm [&_p]:leading-relaxed",t),...e}));tp.displayName="AlertDescription";var rL="Progress",iL=100,[WRe]=Ea(rL),[KRe,GRe]=WRe(rL),Ene=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=YRe,...o}=t;(i||i===0)&&!MU(i)&&console.error(XRe(`${i}`,"Progress"));const l=MU(i)?i:iL;r!==null&&!RU(r,l)&&console.error(QRe(`${r}`,"Progress"));const c=RU(r,l)?r:null,u=FS(c)?s(c,l):void 0;return a.jsx(KRe,{scope:n,value:c,max:l,children:a.jsx($t.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":FS(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Cne(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Ene.displayName=rL;var jne="ProgressIndicator",_ne=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=GRe(jne,n);return a.jsx($t.div,{"data-state":Cne(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});_ne.displayName=jne;function YRe(t,e){return`${Math.round(t/e*100)}%`}function Cne(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function FS(t){return typeof t=="number"}function MU(t){return FS(t)&&!isNaN(t)&&t>0}function RU(t,e){return FS(t)&&!isNaN(t)&&t<=e&&t>=0}function XRe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${iL}\`.`}function QRe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${iL} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ane=Ene,JRe=_ne;const ky=w.forwardRef(({className:t,value:e,...n},r)=>a.jsx(Ane,{ref:r,className:gt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(JRe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));ky.displayName=Ane.displayName;function ZRe({open:t,onOpenChange:e}){const{toast:n}=Ir(),r=cl(),[i,s]=w.useState(null),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),m=async()=>{try{const S=localStorage.getItem("token");if(console.log(" Token disponible:",S?"S":"No"),!S)throw new Error("No hay sesin activa. Por favor, inicia sesin nuevamente.");const E=await fetch("/api/clients/import-template",{headers:{Authorization:`Bearer ${S}`},credentials:"include"});if(console.log(" Respuesta del servidor:",E.status,E.statusText),!E.ok){const M=await E.json().catch(()=>({error:"Error desconocido"}));throw console.error(" Error del servidor:",M),new Error(M.error||"Error al descargar la plantilla")}const _=await E.blob(),C=window.URL.createObjectURL(_),O=document.createElement("a");O.href=C,O.download="plantilla-importacion-clientes.xlsx",document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(C),document.body.removeChild(O),n({title:"Plantilla descargada",description:"El archivo Excel se ha descargado correctamente"})}catch(S){n({title:"Error al descargar",description:S?.message||"No se pudo descargar la plantilla",variant:"destructive"})}},h=S=>{S.target.files&&S.target.files[0]&&(s(S.target.files[0]),u(null))},y=w.useCallback(S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?f(!0):S.type==="dragleave"&&f(!1)},[]),v=w.useCallback(S=>{if(S.preventDefault(),S.stopPropagation(),f(!1),S.dataTransfer.files&&S.dataTransfer.files[0]){const E=S.dataTransfer.files[0];E.name.endsWith(".xlsx")||E.name.endsWith(".xls")?(s(E),u(null)):n({title:"Archivo no vlido",description:"Por favor selecciona un archivo Excel (.xlsx o .xls)",variant:"destructive"})}},[n]),x=async()=>{if(!i){n({title:"Sin archivo",description:"Por favor selecciona un archivo Excel",variant:"destructive"});return}l(!0),u(null);try{const S=new FormData;S.append("file",i);const E=await fetch("/api/clients/import-excel",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:S}),_=await E.json();if(!E.ok)throw _.result&&u(_.result),new Error(_.error||"Error en la importacin");u(_.result),r.invalidateQueries({queryKey:["/api/clients"]}),n({title:"Importacin exitosa",description:`${_.result.imported} clientes nuevos, ${_.result.updated} actualizados`})}catch(S){n({title:"Error en la importacin",description:S?.message||"No se pudo importar el archivo",variant:"destructive"})}finally{l(!1)}},b=()=>{s(null),u(null),l(!1),e(!1)};return a.jsx(Lr,{open:t,onOpenChange:b,children:a.jsxs(Mr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Fr,{children:[a.jsxs($r,{className:"flex items-center gap-2",children:[a.jsx(t0,{className:"h-5 w-5"}),"Importar Clientes desde Excel"]}),a.jsx(Mi,{children:"Descarga la plantilla, compltala con los datos de tus clientes y sube el archivo para importarlos."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"1. Descargar plantilla Excel"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Plantilla con instrucciones y ejemplos incluidos"})]}),a.jsxs(ge,{onClick:m,variant:"outline",className:"gap-2",children:[a.jsx(ia,{className:"h-4 w-4"}),"Descargar"]})]}),a.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 transition-colors ${d?"border-primary bg-primary/5":"border-muted-foreground/25"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:v,children:[a.jsx("input",{type:"file",id:"file-upload",accept:".xlsx,.xls",onChange:h,className:"hidden"}),a.jsxs("div",{className:"text-center",children:[a.jsx(tl,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"2. Subir archivo completado"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Arrastra el archivo aqu o haz clic para seleccionarlo"}),a.jsx("label",{htmlFor:"file-upload",children:a.jsx(ge,{variant:"outline",type:"button",className:"cursor-pointer",asChild:!0,children:a.jsx("span",{children:"Seleccionar archivo"})})})]}),i&&a.jsxs("div",{className:"mt-4 p-3 bg-primary/10 rounded-md flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(t0,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium",children:i.name}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(i.size/1024).toFixed(1)," KB)"]})]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>s(null),className:"h-8 w-8 p-0",children:a.jsx(kc,{className:"h-4 w-4"})})]})]}),o&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Importando clientes..."}),a.jsx("span",{children:"Por favor espera"})]}),a.jsx(ky,{value:void 0,className:"h-2"})]}),c&&a.jsxs("div",{className:"space-y-3",children:[c.success?a.jsxs(ep,{className:"border-green-200 bg-green-50",children:[a.jsx(Oo,{className:"h-4 w-4 text-green-600"}),a.jsxs(tp,{className:"text-green-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"Importacin completada exitosamente"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[a.jsxs("li",{children:[" ",c.imported," clientes nuevos importados"]}),a.jsxs("li",{children:[" ",c.updated," clientes actualizados"]})]})]})]}):a.jsxs(ep,{variant:"destructive",children:[a.jsx(fo,{className:"h-4 w-4"}),a.jsxs(tp,{children:[a.jsx("p",{className:"font-medium mb-1",children:"Importacin con errores"}),a.jsxs("p",{className:"text-sm",children:["Registros importados: ",c.imported+c.updated]})]})]}),c.errors&&c.errors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm font-medium text-destructive",children:["Errores encontrados (",c.errors.length,"):"]}),a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md p-3 bg-destructive/5",children:a.jsx("ul",{className:"space-y-1 text-sm",children:c.errors.map((S,E)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-destructive",children:""}),a.jsx("span",{className:"flex-1",children:S})]},E))})})]})]}),a.jsx(ep,{children:a.jsxs(tp,{className:"text-sm",children:[a.jsx("p",{className:"font-medium mb-2",children:" Informacin importante:"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsx("li",{children:" Los clientes existentes (mismo NIF/CIF) sern actualizados"}),a.jsx("li",{children:" Los modelos fiscales se asignarn automticamente"}),a.jsx("li",{children:" Los campos obligatorios deben estar completos"}),a.jsx("li",{children:' Revisa la hoja "Instrucciones" en la plantilla para ms detalles'})]})]})})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:b,children:"Cerrar"}),a.jsx(ge,{onClick:x,disabled:!i||o,className:"gap-2",children:o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Importando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"h-4 w-4"}),"Importar Clientes"]})})]})]})})}const IU=[{value:"AUTONOMO",label:"Autnomo"},{value:"EMPRESA",label:"Empresa"},{value:"PARTICULAR",label:"Particular"}],_v="__none__";function uf(t){if(!t)return"";const e=new Date(t);if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}function xb(){return uf(new Date().toISOString())}const DU={razonSocial:"",nifCif:"",tipo:"AUTONOMO",email:"",telefono:"",direccion:"",responsableAsignado:_v,fechaAlta:xb(),fechaBaja:"",isActive:!0,notes:""};function e4e(t){return{razonSocial:t.razonSocial.trim(),nifCif:t.nifCif.trim(),tipo:t.tipo,email:t.email.trim()?t.email.trim():null,telefono:t.telefono.trim()?t.telefono.trim():null,direccion:t.direccion.trim()?t.direccion.trim():null,responsableAsignado:t.responsableAsignado===_v?null:t.responsableAsignado,isActive:t.isActive,fechaAlta:t.fechaAlta||null,fechaBaja:t.fechaBaja||null,notes:t.notes.trim()?t.notes.trim():null}}function t4e(){const{toast:t}=Ir(),[e,n]=w.useState(""),[r,i]=w.useState("todos"),[s,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState("general"),[f,m]=w.useState(null),[h,y]=w.useState(null),[v,x]=w.useState(null),[b,S]=w.useState([]),[E,_]=w.useState([]),[C,O]=w.useState(""),[M,A]=w.useState(DU),{data:P=[],isLoading:F}=Wt({queryKey:["/api/clients",{view:"list"}],queryFn:()=>tn("GET","/api/clients?full=0"),staleTime:6e4}),{data:R=[]}=Wt({queryKey:["/api/users"],staleTime:5*6e4}),$=w.useMemo(()=>{const ee=new Map;return(R||[]).forEach(ne=>ee.set(ne.id,ne.username)),ee},[R]),{data:q=[],isLoading:z,error:G}=Wt({queryKey:["tax-models-config"],queryFn:()=>LRe()});console.log(" Tax Models Config:",q?.length,"modelos",q),console.log(" Loading:",z,"Error:",G);const{data:X,isFetching:U}=Wt({queryKey:["client-detail",v],queryFn:()=>DRe(v),enabled:!!(v&&s)});w.useEffect(()=>{if(!X)return;y(X),S(X.taxAssignments??[]),A({razonSocial:X.razonSocial??"",nifCif:X.nifCif??"",tipo:X.tipo||"AUTONOMO",email:X.email??"",telefono:X.telefono??"",direccion:X.direccion??"",responsableAsignado:X.responsableAsignado??_v,fechaAlta:uf(X.fechaAlta)||xb(),fechaBaja:uf(X.fechaBaja),isActive:X.isActive??!0,notes:X.notes??""});const ee=X.employees?.map(Re=>Re.userId)??[],ne=X.employees?.find(Re=>Re.isPrimary)?.userId??"";_(ee),O(ne)},[X]);const W=Xt({mutationFn:async ee=>await FRe(ee),onSuccess:ee=>{sn.invalidateQueries({queryKey:["/api/clients"]}),m({...ee,tipo:ee.tipo,fechaAlta:ee.fechaAlta,fechaBaja:ee.fechaBaja}),y(ee),A({razonSocial:ee.razonSocial??"",nifCif:ee.nifCif??"",tipo:ee.tipo||"AUTONOMO",email:ee.email??"",telefono:ee.telefono??"",direccion:ee.direccion??"",responsableAsignado:ee.responsableAsignado??_v,fechaAlta:uf(ee.fechaAlta)||xb(),fechaBaja:uf(ee.fechaBaja),isActive:ee.isActive??!0,notes:ee.notes??""}),x(ee.id),S(ee.taxAssignments??[]),d("fiscal"),t({title:"Cliente creado exitosamente"})},onError:ee=>{t({title:"No se pudo crear el cliente",description:ee?.message??"Intenta de nuevo",variant:"destructive"})}}),Y=Xt({mutationFn:async({id:ee,payload:ne})=>await $Re(ee,ne),onSuccess:ee=>{sn.invalidateQueries({queryKey:["/api/clients"]}),y(ee),A({razonSocial:ee.razonSocial??"",nifCif:ee.nifCif??"",tipo:ee.tipo||"AUTONOMO",email:ee.email??"",telefono:ee.telefono??"",direccion:ee.direccion??"",responsableAsignado:ee.responsableAsignado??_v,fechaAlta:uf(ee.fechaAlta)||xb(),fechaBaja:uf(ee.fechaBaja),isActive:ee.isActive??!0,notes:ee.notes??""}),S(ee.taxAssignments??[]),m(ne=>ne?{...ne,...ee}:null),t({title:"Cliente actualizado exitosamente"})},onError:ee=>{t({title:"No se pudo actualizar el cliente",description:ee?.message??"Intenta de nuevo",variant:"destructive"})}}),ie=Xt({mutationFn:async ee=>await tn("DELETE",`/api/clients/${ee}`,{}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Cliente eliminado exitosamente"}),s&&J()}}),Q=Xt({mutationFn:async ee=>await tn("PATCH",`/api/clients/${ee}/toggle-active`,{}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Estado del cliente actualizado"})},onError:()=>{t({title:"Error al cambiar el estado del cliente",variant:"destructive"})}}),I=Xt({mutationFn:async({clientId:ee,employeeIds:ne,primaryId:Re})=>await tn("PUT",`/api/clients/${ee}/employees`,{employeeIds:ne,primaryEmployeeId:Re}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/clients"]})}}),V=w.useMemo(()=>P.filter(ee=>{const ne=ee.razonSocial.toLowerCase().includes(e.toLowerCase())||ee.nifCif.toLowerCase().includes(e.toLowerCase()),Re=r==="todos"||ee.tipo.toUpperCase()===r.toUpperCase();return ne&&Re}),[P,e,r]),J=()=>{o(!1),setTimeout(()=>{re()},200)},re=()=>{A(DU),_([]),O(""),m(null),y(null),x(null),S([]),d("general")},fe=()=>{re(),o(!0)},pe=ee=>{m(ee),A({razonSocial:ee.razonSocial,nifCif:ee.nifCif,tipo:(ee.tipo||"AUTONOMO").toUpperCase(),email:ee.email??"",telefono:ee.telefono??"",direccion:ee.direccion??"",responsableAsignado:ee.responsableAsignado??_v,fechaAlta:uf(ee.fechaAlta)||xb(),fechaBaja:uf(ee.fechaBaja),isActive:ee.isActive??!0,notes:ee.notes??""});const ne=ee.employees?.map(ft=>ft.userId)??[],Re=ee.employees?.find(ft=>ft.isPrimary)?.userId??"";_(ne),O(Re),S(ee.taxAssignments??[]),x(ee.id),d("general"),o(!0)},xe=async ee=>{ee.preventDefault();const ne=e4e(M);try{let Re=f?.id||h?.id||v;Re?Re=(await Y.mutateAsync({id:Re,payload:ne})).id:Re=(await W.mutateAsync(ne)).id,Re&&await I.mutateAsync({clientId:Re,employeeIds:E,primaryId:E.length>0?C||E[0]:""})}catch(Re){t({title:"Error al guardar el cliente",description:Re?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}},de=()=>{if(!P||P.length===0)return;const ee=NPe.unparse(P),ne=new Blob([ee],{type:"text/csv"}),Re=window.URL.createObjectURL(ne),ft=document.createElement("a");ft.href=Re,ft.download=`clientes_${new Date().toISOString().split("T")[0]}.csv`,ft.click(),t({title:"Exportacin completada"})},we=ee=>ee&&$.get(ee)||"Sin asignar",Ce=async ee=>{await ie.mutateAsync(ee)},ae=W.isPending||Y.isPending||I.isPending,Pe=h?.id??f?.id??null;return F?a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx(Kn,{className:"h-9 w-48"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Kn,{className:"h-10 flex-1"}),a.jsx(Kn,{className:"h-10 w-32"}),a.jsx(Kn,{className:"h-10 w-32"})]}),a.jsx(Ue,{children:a.jsx(He,{className:"p-6",children:[...Array(5)].map((ee,ne)=>a.jsx(Kn,{className:"h-12 w-full mb-2"},ne))})})]}):a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Clientes"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de clientes y contactos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",onClick:()=>c(!0),className:"gap-2",children:[a.jsx(t0,{className:"h-4 w-4"}),"Importar desde Excel"]}),a.jsxs(Lr,{open:s,onOpenChange:ee=>{ee?o(!0):J()},children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{onClick:fe,"data-testid":"button-add-client",children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Nuevo Cliente"]})}),a.jsxs(Mr,{className:"max-w-4xl",children:[a.jsxs(Fr,{className:"space-y-1",children:[a.jsx($r,{children:f?"Editar Cliente":"Nuevo Cliente"}),a.jsx(Mi,{children:f?"Actualiza la informacin del cliente":"Completa la informacin para crear un nuevo cliente"})]}),a.jsxs("form",{id:"client-editor-form",onSubmit:xe,className:"space-y-6 mt-6",children:[a.jsxs(Ul,{value:u,onValueChange:ee=>d(ee),children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs(dl,{children:[a.jsx(Ln,{value:"general",children:" Datos del cliente"}),a.jsxs(Ln,{value:"fiscal",disabled:!Pe,children:[" Datos fiscales y contables",!Pe&&a.jsx("span",{className:"ml-2 text-xs opacity-60",children:"(guarda primero)"})]})]}),a.jsx(ge,{type:"submit",disabled:ae,className:"shrink-0",children:ae?"Guardando...":"Guardar cambios"})]}),a.jsx(rr,{value:"general",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"razonSocial",children:"Razn Social *"}),a.jsx(Fe,{id:"razonSocial",value:M.razonSocial,onChange:ee=>A(ne=>({...ne,razonSocial:ee.target.value})),required:!0,"data-testid":"input-razon-social"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"nifCif",children:"NIF/CIF *"}),a.jsx(Fe,{id:"nifCif",value:M.nifCif,onChange:ee=>A(ne=>({...ne,nifCif:ee.target.value})),required:!0,"data-testid":"input-nif-cif"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"tipo",children:"Tipo *"}),a.jsxs(_n,{value:M.tipo,onValueChange:ee=>A(ne=>({...ne,tipo:ee})),children:[a.jsx(Sn,{"data-testid":"select-tipo",children:a.jsx(Cn,{})}),a.jsx(En,{children:IU.map(ee=>a.jsx(Qe,{value:ee.value,children:ee.label},ee.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"fechaAlta",children:"Fecha de alta"}),a.jsx(Fe,{id:"fechaAlta",type:"date",value:M.fechaAlta,onChange:ee=>A(ne=>({...ne,fechaAlta:ee.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"fechaBaja",children:"Fecha de baja"}),a.jsx(Fe,{id:"fechaBaja",type:"date",value:M.fechaBaja,onChange:ee=>A(ne=>({...ne,fechaBaja:ee.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"email",children:"Email"}),a.jsx(Fe,{id:"email",type:"email",value:M.email,onChange:ee=>A(ne=>({...ne,email:ee.target.value})),"data-testid":"input-email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"telefono",children:"Telfono"}),a.jsx(Fe,{id:"telefono",value:M.telefono,onChange:ee=>A(ne=>({...ne,telefono:ee.target.value})),"data-testid":"input-telefono"})]}),a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsx(_e,{htmlFor:"direccion",children:"Direccin"}),a.jsx(Fe,{id:"direccion",value:M.direccion,onChange:ee=>A(ne=>({...ne,direccion:ee.target.value}))})]}),a.jsxs("div",{className:"md:col-span-2 space-y-2",children:[a.jsx(_e,{htmlFor:"notes",children:"Notas internas"}),a.jsx(vd,{id:"notes",value:M.notes,onChange:ee=>A(ne=>({...ne,notes:ee.target.value})),rows:3})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4",children:[a.jsxs("div",{children:[a.jsxs(_e,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(DP,{className:"h-4 w-4"}),"Cliente activo"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Desactiva el cliente cuando ya no se gestione para mantener el histrico."})]}),a.jsx(wu,{checked:M.isActive,onCheckedChange:ee=>A(ne=>({...ne,isActive:ee}))})]})}),a.jsxs("div",{className:"md:col-span-2 space-y-3",children:[a.jsxs("div",{children:[a.jsxs(_e,{className:"flex items-center gap-2 text-base font-semibold",children:[a.jsx(bfe,{className:"h-5 w-5"}),"Responsables del cliente"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Selecciona uno o varios empleados. El marcado como "Principal" ser el responsable principal del cliente.'})]}),a.jsx("div",{className:"border rounded-md p-4 space-y-3 max-h-64 overflow-y-auto",children:R.map(ee=>{const ne=E.includes(ee.id),Re=C===ee.id;return a.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 rounded-md hover:bg-muted/40",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(cr,{id:`employee-${ee.id}`,checked:ne,onCheckedChange:ft=>{if(ft){const et=[...E,ee.id];_(et),et.length===1&&O(ee.id)}else _(et=>et.filter(Ke=>Ke!==ee.id)),Re&&O(et=>E.filter(me=>me!==ee.id)[0]||"")}}),a.jsxs(_e,{htmlFor:`employee-${ee.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[ee.username,Re&&a.jsx(it,{variant:"default",className:"text-xs bg-primary",children:" Principal"})]})]}),ne&&!Re&&a.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>O(ee.id),className:"text-xs",children:"Marcar como principal"})]},ee.id)})}),E.length===0&&a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:a.jsx("p",{className:"text-xs text-amber-800",children:" Selecciona al menos un responsable para asignar al cliente. El primero seleccionado ser el principal por defecto."})}),E.length>0&&!C&&a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:a.jsx("p",{className:"text-xs text-amber-800",children:" Marca un empleado como principal para establecer el responsable principal del cliente."})})]})]})}),a.jsxs(rr,{value:"fiscal",children:[U&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Kn,{className:"h-8 w-48"}),a.jsx(Kn,{className:"h-64 w-full"})]}),!U&&a.jsx(URe,{clientId:Pe??void 0,clientType:M.tipo,assignments:b,taxModelsConfig:q,disabled:!Pe,onAssignmentsChange:ee=>S(ne=>ee(ne))})]})]}),a.jsx(ms,{className:"flex items-center justify-between",children:a.jsx(ge,{type:"button",variant:"outline",onClick:J,disabled:ae,children:"Cancelar"})})]})]})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ug,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Buscar por razn social o NIF/CIF",value:e,onChange:ee=>n(ee.target.value),className:"pl-8"})]}),a.jsxs(_n,{value:r,onValueChange:i,children:[a.jsx(Sn,{className:"w-40",children:a.jsx(Cn,{placeholder:"Filtrar por tipo"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"todos",children:"Todos"}),IU.map(ee=>a.jsx(Qe,{value:ee.value,children:ee.label},ee.value))]})]})]}),a.jsxs(ge,{variant:"outline",onClick:de,children:[a.jsx(ia,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Listado de clientes"})}),a.jsx(He,{className:"p-0",children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Cliente"}),a.jsx(Et,{children:"Tipo"}),a.jsx(Et,{children:"Responsable"}),a.jsx(Et,{children:"Telfono"}),a.jsx(Et,{children:"Email"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{className:"text-right w-[150px]",children:"Acciones"})]})}),a.jsxs(co,{children:[V.map(ee=>a.jsxs(er,{children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:ee.razonSocial}),a.jsx("span",{className:"text-xs text-muted-foreground",children:ee.nifCif})]})}),a.jsx(yt,{children:ee.tipo?.toUpperCase()}),a.jsx(yt,{children:we(ee.responsableAsignado)}),a.jsx(yt,{children:ee.telefono||""}),a.jsx(yt,{children:ee.email||""}),a.jsx(yt,{children:a.jsx(it,{variant:ee.isActive?"default":"outline",children:ee.isActive?"Activo":"Inactivo"})}),a.jsx(yt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>pe(ee),children:a.jsx(Sc,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>Q.mutate(ee.id),title:ee.isActive?"Desactivar":"Activar",children:ee.isActive?a.jsx(DP,{className:"h-4 w-4"}):a.jsx(N1,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"destructive",size:"icon",onClick:()=>Ce(ee.id),children:a.jsx(na,{className:"h-4 w-4"})})]})})]},ee.id)),V.length===0&&a.jsx(er,{children:a.jsx(yt,{colSpan:7,className:"text-center text-muted-foreground py-6",children:"No se encontraron clientes con los filtros seleccionados."})})]})]})})]}),a.jsx(ZRe,{open:l,onOpenChange:c})]})}var kne=["PageUp","PageDown"],Tne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],One={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},dx="Slider",[FR,n4e,r4e]=y1(dx),[Pne]=Ea(dx,[r4e]),[i4e,u_]=Pne(dx),Mne=w.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:h=!1,form:y,...v}=t,x=w.useRef(new Set),b=w.useRef(0),E=o==="horizontal"?s4e:a4e,[_=[],C]=Ac({prop:d,defaultProp:u,onChange:R=>{[...x.current][b.current]?.focus(),f(R)}}),O=w.useRef(_);function M(R){const $=d4e(_,R);F(R,$)}function A(R){F(R,b.current)}function P(){const R=O.current[b.current];_[b.current]!==R&&m(_)}function F(R,$,{commit:q}={commit:!1}){const z=m4e(s),G=g4e(Math.round((R-r)/s)*s+r,z),X=U0(G,[r,i]);C((U=[])=>{const W=c4e(U,X,$);if(p4e(W,c*s)){b.current=W.indexOf(X);const Y=String(W)!==String(U);return Y&&q&&m(W),Y?W:U}else return U})}return a.jsx(i4e,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:b,thumbs:x.current,values:_,orientation:o,form:y,children:a.jsx(FR.Provider,{scope:t.__scopeSlider,children:a.jsx(FR.Slot,{scope:t.__scopeSlider,children:a.jsx(E,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:e,onPointerDown:Nt(v.onPointerDown,()=>{l||(O.current=_)}),min:r,max:i,inverted:h,onSlideStart:l?void 0:M,onSlideMove:l?void 0:A,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&F(r,0,{commit:!0}),onEndKeyDown:()=>!l&&F(i,_.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:$})=>{if(!l){const G=kne.includes(R.key)||R.shiftKey&&Tne.includes(R.key)?10:1,X=b.current,U=_[X],W=s*G*$;F(U+W,X,{commit:!0})}}})})})})});Mne.displayName=dx;var[Rne,Ine]=Pne(dx,{startEdge:"left",endEdge:"right",size:"width",direction:1}),s4e=w.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,m]=w.useState(null),h=Mn(e,E=>m(E)),y=w.useRef(void 0),v=Gy(i),x=v==="ltr",b=x&&!s||!x&&s;function S(E){const _=y.current||f.getBoundingClientRect(),C=[0,_.width],M=sL(C,b?[n,r]:[r,n]);return y.current=_,M(E-_.left)}return a.jsx(Rne,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:a.jsx(Dne,{dir:v,"data-orientation":"horizontal",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const _=S(E.clientX);o?.(_)},onSlideMove:E=>{const _=S(E.clientX);l?.(_)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:E=>{const C=One[b?"from-left":"from-right"].includes(E.key);u?.({event:E,direction:C?-1:1})}})})}),a4e=w.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=w.useRef(null),f=Mn(e,d),m=w.useRef(void 0),h=!i;function y(v){const x=m.current||d.current.getBoundingClientRect(),b=[0,x.height],E=sL(b,h?[r,n]:[n,r]);return m.current=x,E(v-x.top)}return a.jsx(Rne,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:a.jsx(Dne,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=y(v.clientY);s?.(x)},onSlideMove:v=>{const x=y(v.clientY);o?.(x)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:v=>{const b=One[h?"from-bottom":"from-top"].includes(v.key);c?.({event:v,direction:b?-1:1})}})})}),Dne=w.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=u_(dx,n);return a.jsx($t.span,{...u,ref:e,onKeyDown:Nt(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):kne.concat(Tne).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Nt(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():r(f)}),onPointerMove:Nt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Nt(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),s(f))})})}),Lne="SliderTrack",Fne=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=u_(Lne,n);return a.jsx($t.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Fne.displayName=Lne;var $R="SliderRange",$ne=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=u_($R,n),s=Ine($R,n),o=w.useRef(null),l=Mn(e,o),c=i.values.length,u=i.values.map(m=>qne(m,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx($t.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});$ne.displayName=$R;var BR="SliderThumb",Bne=w.forwardRef((t,e)=>{const n=n4e(t.__scopeSlider),[r,i]=w.useState(null),s=Mn(e,l=>i(l)),o=w.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(o4e,{...t,ref:s,index:o})}),o4e=w.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=u_(BR,n),l=Ine(BR,n),[c,u]=w.useState(null),d=Mn(e,S=>u(S)),f=c?o.form||!!c.closest("form"):!0,m=nj(c),h=o.values[r],y=h===void 0?0:qne(h,o.min,o.max),v=u4e(r,o.values.length),x=m?.[l.size],b=x?f4e(x,y,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${b}px)`},children:[a.jsx(FR.ItemSlot,{scope:t.__scopeSlider,children:a.jsx($t.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:h===void 0?{display:"none"}:t.style,onFocus:Nt(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&a.jsx(zne,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},r)]})});Bne.displayName=BR;var l4e="RadioBubbleInput",zne=w.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=w.useRef(null),s=Mn(i,r),o=e_(e);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx($t.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});zne.displayName=l4e;function c4e(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function qne(t,e,n){const s=100/(n-e)*(t-e);return U0(s,[0,100])}function u4e(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function d4e(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function f4e(t,e,n){const r=t/2,s=sL([0,50],[0,r]);return(r-s(e)*n)*n}function h4e(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function p4e(t,e){if(e>0){const n=h4e(t);return Math.min(...n)>=e}return!0}function sL(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function m4e(t){return(String(t).split(".")[1]||"").length}function g4e(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Une=Mne,v4e=Fne,y4e=$ne,x4e=Bne;const Hne=w.forwardRef(({className:t,...e},n)=>a.jsxs(Une,{ref:n,className:gt("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(v4e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(y4e,{className:"absolute h-full bg-primary"})}),a.jsx(x4e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Hne.displayName=Une.displayName;function Cr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ql(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ao(t,e){const n=Cr(t);return isNaN(e)?ql(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Nu(t,e){const n=Cr(t);if(isNaN(e))return ql(t,NaN);if(!e)return n;const r=n.getDate(),i=ql(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const aL=6048e5,b4e=864e5;let w4e={};function $1(){return w4e}function yd(t,e){const n=$1(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Cr(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Qm(t){return yd(t,{weekStartsOn:1})}function Vne(t){const e=Cr(t),n=e.getFullYear(),r=ql(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Qm(r),s=ql(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Qm(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ty(t){const e=Cr(t);return e.setHours(0,0,0,0),e}function $S(t){const e=Cr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function sd(t,e){const n=Ty(t),r=Ty(e),i=+n-$S(n),s=+r-$S(r);return Math.round((i-s)/b4e)}function N4e(t){const e=Vne(t),n=ql(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Qm(n)}function zR(t,e){const n=e*7;return Ao(t,n)}function S4e(t,e){return Nu(t,e*12)}function E4e(t){let e;return t.forEach(function(n){const r=Cr(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function j4e(t){let e;return t.forEach(n=>{const r=Cr(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function il(t,e){const n=Ty(t),r=Ty(e);return+n==+r}function oL(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _4e(t){if(!oL(t)&&typeof t!="number")return!1;const e=Cr(t);return!isNaN(Number(e))}function K0(t,e){const n=Cr(t),r=Cr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function C4e(t,e,n){const r=yd(t,n),i=yd(e,n),s=+r-$S(r),o=+i-$S(i);return Math.round((s-o)/aL)}function lL(t){const e=Cr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function al(t){const e=Cr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Wne(t){const e=Cr(t),n=ql(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function cL(t,e){const n=$1(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Cr(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function Kne(t){return cL(t,{weekStartsOn:1})}const A4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k4e=(t,e,n)=>{let r;const i=A4e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const T4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},P4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M4e={date:Bv({formats:T4e,defaultWidth:"full"}),time:Bv({formats:O4e,defaultWidth:"full"}),dateTime:Bv({formats:P4e,defaultWidth:"full"})},R4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I4e=(t,e,n,r)=>R4e[t];function ed(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const D4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},z4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q4e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},U4e={ordinalNumber:q4e,era:ed({values:D4e,defaultWidth:"wide"}),quarter:ed({values:L4e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ed({values:F4e,defaultWidth:"wide"}),day:ed({values:$4e,defaultWidth:"wide"}),dayPeriod:ed({values:B4e,defaultWidth:"wide",formattingValues:z4e,defaultFormattingWidth:"wide"})};function td(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?V4e(l,f=>f.test(o)):H4e(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function H4e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function V4e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Gne(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const W4e=/^(\d+)(th|st|nd|rd)?/i,K4e=/\d+/i,G4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y4e={any:[/^b/i,/^(a|c)/i]},X4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q4e={any:[/1/i,/2/i,/3/i,/4/i]},J4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eIe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tIe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nIe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rIe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iIe={ordinalNumber:Gne({matchPattern:W4e,parsePattern:K4e,valueCallback:t=>parseInt(t,10)}),era:td({matchPatterns:G4e,defaultMatchWidth:"wide",parsePatterns:Y4e,defaultParseWidth:"any"}),quarter:td({matchPatterns:X4e,defaultMatchWidth:"wide",parsePatterns:Q4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:td({matchPatterns:J4e,defaultMatchWidth:"wide",parsePatterns:Z4e,defaultParseWidth:"any"}),day:td({matchPatterns:eIe,defaultMatchWidth:"wide",parsePatterns:tIe,defaultParseWidth:"any"}),dayPeriod:td({matchPatterns:nIe,defaultMatchWidth:"any",parsePatterns:rIe,defaultParseWidth:"any"})},Yne={code:"en-US",formatDistance:k4e,formatLong:M4e,formatRelative:I4e,localize:U4e,match:iIe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sIe(t){const e=Cr(t);return sd(e,Wne(e))+1}function Xne(t){const e=Cr(t),n=+Qm(e)-+N4e(e);return Math.round(n/aL)+1}function Qne(t,e){const n=Cr(t),r=n.getFullYear(),i=$1(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=ql(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=yd(o,e),c=ql(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=yd(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function aIe(t,e){const n=$1(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Qne(t,e),s=ql(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),yd(s,e)}function Jne(t,e){const n=Cr(t),r=+yd(n,e)-+aIe(n,e);return Math.round(r/aL)+1}function ni(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const wh={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ni(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ni(n+1,2)},d(t,e){return ni(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ni(t.getHours()%12||12,e.length)},H(t,e){return ni(t.getHours(),e.length)},m(t,e){return ni(t.getMinutes(),e.length)},s(t,e){return ni(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ni(i,e.length)}},rv={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LU={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return wh.y(t,e)},Y:function(t,e,n,r){const i=Qne(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ni(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ni(s,e.length)},R:function(t,e){const n=Vne(t);return ni(n,e.length)},u:function(t,e){const n=t.getFullYear();return ni(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ni(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ni(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return wh.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ni(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Jne(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ni(i,e.length)},I:function(t,e,n){const r=Xne(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ni(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):wh.d(t,e)},D:function(t,e,n){const r=sIe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ni(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ni(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ni(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ni(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=rv.noon:r===0?i=rv.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=rv.evening:r>=12?i=rv.afternoon:r>=4?i=rv.morning:i=rv.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return wh.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):wh.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ni(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ni(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):wh.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):wh.s(t,e)},S:function(t,e){return wh.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $U(r);case"XXXX":case"XX":return um(r);case"XXXXX":case"XXX":default:return um(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $U(r);case"xxxx":case"xx":return um(r);case"xxxxx":case"xxx":default:return um(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FU(r,":");case"OOOO":default:return"GMT"+um(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FU(r,":");case"zzzz":default:return"GMT"+um(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ni(r,e.length)},T:function(t,e,n){const r=t.getTime();return ni(r,e.length)}};function FU(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ni(s,2)}function $U(t,e){return t%60===0?(t>0?"-":"+")+ni(Math.abs(t)/60,2):um(t,e)}function um(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ni(Math.trunc(r/60),2),s=ni(r%60,2);return n+i+e+s}const BU=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Zne=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oIe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BU(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BU(r,e)).replace("{{time}}",Zne(i,e))},lIe={p:Zne,P:oIe},cIe=/^D+$/,uIe=/^Y+$/,dIe=["D","DD","YY","YYYY"];function fIe(t){return cIe.test(t)}function hIe(t){return uIe.test(t)}function pIe(t,e,n){const r=mIe(t,e,n);if(console.warn(r),dIe.includes(t))throw new RangeError(r)}function mIe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gIe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vIe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yIe=/^'([^]*?)'?$/,xIe=/''/g,bIe=/[a-zA-Z]/;function Ba(t,e,n){const r=$1(),i=n?.locale??r.locale??Yne,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=Cr(t);if(!_4e(l))throw new RangeError("Invalid time value");let c=e.match(vIe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=lIe[f];return m(d,i.formatLong)}return d}).join("").match(gIe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:wIe(d)};if(LU[f])return{isToken:!0,value:d};if(f.match(bIe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&hIe(f)||!n?.useAdditionalDayOfYearTokens&&fIe(f))&&pIe(f,e,String(t));const m=LU[f[0]];return m(l,f,i.localize,u)}).join("")}function wIe(t){const e=t.match(yIe);return e?e[1].replace(xIe,"'"):t}function NIe(t){const e=Cr(t),n=e.getFullYear(),r=e.getMonth(),i=ql(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function SIe(t){return Math.trunc(+Cr(t)/1e3)}function EIe(t){const e=Cr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function jIe(t,e){return C4e(EIe(t),al(t),e)+1}function qR(t,e){const n=Cr(t),r=Cr(e);return n.getTime()>r.getTime()}function ere(t,e){const n=Cr(t),r=Cr(e);return+n<+r}function uL(t,e){const n=Cr(t),r=Cr(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _Ie(t,e){const n=Cr(t),r=Cr(e);return n.getFullYear()===r.getFullYear()}function uO(t,e){return Ao(t,-e)}function dO(t,e){const n=Cr(t),r=n.getFullYear(),i=n.getDate(),s=ql(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=NIe(s);return n.setMonth(e,Math.min(i,o)),n}function zU(t,e){const n=Cr(t);return isNaN(+n)?ql(t,NaN):(n.setFullYear(e),n)}const CIe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},AIe=(t,e,n)=>{let r;const i=CIe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},kIe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},TIe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},OIe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PIe={date:Bv({formats:kIe,defaultWidth:"full"}),time:Bv({formats:TIe,defaultWidth:"full"}),dateTime:Bv({formats:OIe,defaultWidth:"full"})},MIe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},RIe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},IIe=(t,e,n,r)=>e.getHours()!==1?RIe[t]:MIe[t],DIe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},LIe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},FIe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},$Ie={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},BIe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},zIe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},qIe=(t,e)=>Number(t)+"",UIe={ordinalNumber:qIe,era:ed({values:DIe,defaultWidth:"wide"}),quarter:ed({values:LIe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:ed({values:FIe,defaultWidth:"wide"}),day:ed({values:$Ie,defaultWidth:"wide"}),dayPeriod:ed({values:BIe,defaultWidth:"wide",formattingValues:zIe,defaultFormattingWidth:"wide"})},HIe=/^(\d+)()?/i,VIe=/\d+/i,WIe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},KIe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},GIe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},YIe={any:[/1/i,/2/i,/3/i,/4/i]},XIe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},QIe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},JIe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},ZIe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},eDe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},tDe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},nDe={ordinalNumber:Gne({matchPattern:HIe,parsePattern:VIe,valueCallback:function(t){return parseInt(t,10)}}),era:td({matchPatterns:WIe,defaultMatchWidth:"wide",parsePatterns:KIe,defaultParseWidth:"any"}),quarter:td({matchPatterns:GIe,defaultMatchWidth:"wide",parsePatterns:YIe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:td({matchPatterns:XIe,defaultMatchWidth:"wide",parsePatterns:QIe,defaultParseWidth:"any"}),day:td({matchPatterns:JIe,defaultMatchWidth:"wide",parsePatterns:ZIe,defaultParseWidth:"any"}),dayPeriod:td({matchPatterns:eDe,defaultMatchWidth:"any",parsePatterns:tDe,defaultParseWidth:"any"})},yc={code:"es",formatDistance:AIe,formatLong:PIe,formatRelative:IIe,localize:UIe,match:nDe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var zn=function(){return zn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zn.apply(this,arguments)};function rDe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tre(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function B1(t){return t.mode==="multiple"}function z1(t){return t.mode==="range"}function d_(t){return t.mode==="single"}var iDe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function sDe(t,e){return Ba(t,"LLLL y",e)}function aDe(t,e){return Ba(t,"d",e)}function oDe(t,e){return Ba(t,"LLLL",e)}function lDe(t){return"".concat(t)}function cDe(t,e){return Ba(t,"cccccc",e)}function uDe(t,e){return Ba(t,"yyyy",e)}var dDe=Object.freeze({__proto__:null,formatCaption:sDe,formatDay:aDe,formatMonthCaption:oDe,formatWeekNumber:lDe,formatWeekdayName:cDe,formatYearCaption:uDe}),fDe=function(t,e,n){return Ba(t,"do MMMM (EEEE)",n)},hDe=function(){return"Month: "},pDe=function(){return"Go to next month"},mDe=function(){return"Go to previous month"},gDe=function(t,e){return Ba(t,"cccc",e)},vDe=function(t){return"Week n. ".concat(t)},yDe=function(){return"Year: "},xDe=Object.freeze({__proto__:null,labelDay:fDe,labelMonthDropdown:hDe,labelNext:pDe,labelPrevious:mDe,labelWeekNumber:vDe,labelWeekday:gDe,labelYearDropdown:yDe});function bDe(){var t="buttons",e=iDe,n=Yne,r={},i={},s=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:dDe,labels:xDe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:o,today:l,mode:"default"}}function wDe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return r?s=al(r):e&&(s=new Date(e,0,1)),i?o=lL(i):n&&(o=new Date(n,11,31)),{fromDate:s?Ty(s):void 0,toDate:o?Ty(o):void 0}}var nre=w.createContext(void 0);function NDe(t){var e,n=t.initialProps,r=bDe(),i=wDe(n),s=i.fromDate,o=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(d_(n)||B1(n)||z1(n))&&(c=n.onSelect);var u=zn(zn(zn({},r),n),{captionLayout:l,classNames:zn(zn({},r.classNames),n.classNames),components:zn({},n.components),formatters:zn(zn({},r.formatters),n.formatters),fromDate:s,labels:zn(zn({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:zn(zn({},r.modifiers),n.modifiers),modifiersClassNames:zn(zn({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:zn(zn({},r.styles),n.styles),toDate:o});return a.jsx(nre.Provider,{value:u,children:t.children})}function ji(){var t=w.useContext(nre);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function rre(t){var e=ji(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function SDe(t){return a.jsx("svg",zn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ire(t){var e,n,r=t.onChange,i=t.value,s=t.children,o=t.caption,l=t.className,c=t.style,u=ji(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:SDe;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:s}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function EDe(t){var e,n=ji(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});var f=[];if(_Ie(r,i))for(var m=al(r),h=r.getMonth();h<=i.getMonth();h++)f.push(dO(m,h));else for(var m=al(new Date),h=0;h<=11;h++)f.push(dO(m,h));var y=function(x){var b=Number(x.target.value),S=dO(al(t.displayMonth),b);t.onChange(S)},v=(e=u?.Dropdown)!==null&&e!==void 0?e:ire;return a.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:f.map(function(x){return a.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function jDe(t){var e,n=t.displayMonth,r=ji(),i=r.fromDate,s=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!i)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});for(var h=i.getFullYear(),y=s.getFullYear(),v=h;v<=y;v++)m.push(zU(Wne(new Date),v));var x=function(S){var E=zU(al(n),Number(S.target.value));t.onChange(E)},b=(e=u?.Dropdown)!==null&&e!==void 0?e:ire;return a.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:m.map(function(S){return a.jsx("option",{value:S.getFullYear(),children:d(S,{locale:o})},S.getFullYear())})})}function _De(t,e){var n=w.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function CDe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(s&&K0(s,i)<0){var u=-1*(c-1);i=Nu(s,u)}return o&&K0(i,o)<0&&(i=o),al(i)}function ADe(){var t=ji(),e=CDe(t),n=_De(e,t.month),r=n[0],i=n[1],s=function(o){var l;if(!t.disableNavigation){var c=al(o);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,s]}function kDe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=al(t),s=al(Nu(i,r)),o=K0(s,i),l=[],c=0;c<o;c++){var u=Nu(i,c);l.push(u)}return n&&(l=l.reverse()),l}function TDe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,l=al(t);if(!n)return Nu(l,o);var c=K0(n,t);if(!(c<s))return Nu(l,o)}}function ODe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,l=al(t);if(!n)return Nu(l,-o);var c=K0(l,n);if(!(c<=0))return Nu(l,-o)}}var sre=w.createContext(void 0);function PDe(t){var e=ji(),n=ADe(),r=n[0],i=n[1],s=kDe(r,e),o=TDe(r,e),l=ODe(r,e),c=function(f){return s.some(function(m){return uL(f,m)})},u=function(f,m){c(f)||(m&&ere(f,m)?i(Nu(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(sre.Provider,{value:d,children:t.children})}function q1(){var t=w.useContext(sre);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function qU(t){var e,n=ji(),r=n.classNames,i=n.styles,s=n.components,o=q1().goToMonth,l=function(d){o(Nu(d,t.displayIndex?-t.displayIndex:0))},c=(e=s?.CaptionLabel)!==null&&e!==void 0?e:rre,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(EDe,{onChange:l,displayMonth:t.displayMonth}),a.jsx(jDe,{onChange:l,displayMonth:t.displayMonth})]})}function MDe(t){return a.jsx("svg",zn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function RDe(t){return a.jsx("svg",zn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var BS=w.forwardRef(function(t,e){var n=ji(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var o=s.join(" "),l=zn(zn({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),a.jsx("button",zn({},t,{ref:e,type:"button",className:o,style:l}))});function IDe(t){var e,n,r=ji(),i=r.dir,s=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var m=u(t.previousMonth,{locale:s}),h=[o.nav_button,o.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:s}),v=[o.nav_button,o.nav_button_next].join(" "),x=(e=f?.IconRight)!==null&&e!==void 0?e:RDe,b=(n=f?.IconLeft)!==null&&n!==void 0?n:MDe;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(BS,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?a.jsx(x,{className:o.nav_icon,style:l.nav_icon}):a.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(BS,{name:"next-month","aria-label":y,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?a.jsx(b,{className:o.nav_icon,style:l.nav_icon}):a.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function UU(t){var e=ji().numberOfMonths,n=q1(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(y){return uL(t.displayMonth,y)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){r&&s(r)},h=function(){i&&s(i)};return a.jsx(IDe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:h})}function DDe(t){var e,n=ji(),r=n.classNames,i=n.disableNavigation,s=n.styles,o=n.captionLayout,l=n.components,c=(e=l?.CaptionLabel)!==null&&e!==void 0?e:rre,u;return i?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=a.jsx(qU,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(qU,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(UU,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(UU,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:s.caption,children:u})}function LDe(t){var e=ji(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?a.jsx("tfoot",{className:i,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function FDe(t,e,n){for(var r=n?Qm(new Date):yd(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=Ao(r,s);i.push(o)}return i}function $De(){var t=ji(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=FDe(i,s,o);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function BDe(){var t,e=ji(),n=e.classNames,r=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:$De;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(s,{})})}function zDe(t){var e=ji(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var dL=w.createContext(void 0);function qDe(t){if(!B1(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(dL.Provider,{value:e,children:t.children})}return a.jsx(UDe,{initialProps:t.initialProps,children:t.children})}function UDe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,o=function(u,d,f){var m,h;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var y=!!(d.selected&&i&&r?.length===i);if(!y){var v=!!(!d.selected&&s&&r?.length===s);if(!v){var x=r?tre([],r):[];if(d.selected){var b=x.findIndex(function(S){return il(u,S)});x.splice(b,1)}else x.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,x,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=s&&r.length>s-1,f=r.some(function(m){return il(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:o,modifiers:l};return a.jsx(dL.Provider,{value:c,children:n})}function fL(){var t=w.useContext(dL);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function HDe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?il(i,t)&&il(r,t)?void 0:il(i,t)?{from:i,to:void 0}:il(r,t)?void 0:qR(r,t)?{from:t,to:i}:{from:r,to:t}:i?qR(t,i)?{from:i,to:t}:{from:t,to:i}:r?ere(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var hL=w.createContext(void 0);function VDe(t){if(!z1(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(hL.Provider,{value:e,children:t.children})}return a.jsx(WDe,{initialProps:t.initialProps,children:t.children})}function WDe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,o=i.to,l=e.min,c=e.max,u=function(h,y,v){var x,b;(x=e.onDayClick)===null||x===void 0||x.call(e,h,y,v);var S=HDe(h,r);(b=e.onSelect)===null||b===void 0||b.call(e,S,h,y,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],il(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:uO(s,l-1),before:Ao(s,l-1)}),s&&o&&d.disabled.push({after:s,before:Ao(s,l-1)}),!s&&o&&d.disabled.push({after:uO(o,l-1),before:Ao(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:Ao(s,-c+1)}),d.disabled.push({after:Ao(s,c-1)})),s&&o){var f=sd(o,s)+1,m=c-f;d.disabled.push({before:uO(s,m)}),d.disabled.push({after:Ao(o,m)})}!s&&o&&(d.disabled.push({before:Ao(o,-c+1)}),d.disabled.push({after:Ao(o,c-1)}))}return a.jsx(hL.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function pL(){var t=w.useContext(hL);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function eN(t){return Array.isArray(t)?tre([],t):t!==void 0?[t]:[]}function KDe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=eN(i)}),e}var Su;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Su||(Su={}));var GDe=Su.Selected,rf=Su.Disabled,YDe=Su.Hidden,XDe=Su.Today,fO=Su.RangeEnd,hO=Su.RangeMiddle,pO=Su.RangeStart,QDe=Su.Outside;function JDe(t,e,n){var r,i=(r={},r[GDe]=eN(t.selected),r[rf]=eN(t.disabled),r[YDe]=eN(t.hidden),r[XDe]=[t.today],r[fO]=[],r[hO]=[],r[pO]=[],r[QDe]=[],r);return t.fromDate&&i[rf].push({before:t.fromDate}),t.toDate&&i[rf].push({after:t.toDate}),B1(t)?i[rf]=i[rf].concat(e.modifiers[rf]):z1(t)&&(i[rf]=i[rf].concat(n.modifiers[rf]),i[pO]=n.modifiers[pO],i[hO]=n.modifiers[hO],i[fO]=n.modifiers[fO]),i}var are=w.createContext(void 0);function ZDe(t){var e=ji(),n=fL(),r=pL(),i=JDe(e,n,r),s=KDe(e.modifiers),o=zn(zn({},i),s);return a.jsx(are.Provider,{value:o,children:t.children})}function ore(){var t=w.useContext(are);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function eLe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function tLe(t){return!!(t&&typeof t=="object"&&"from"in t)}function nLe(t){return!!(t&&typeof t=="object"&&"after"in t)}function rLe(t){return!!(t&&typeof t=="object"&&"before"in t)}function iLe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function sLe(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=sd(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var o=sd(t,r)>=0&&sd(i,t)>=0;return o}return i?il(i,t):r?il(r,t):!1}function aLe(t){return oL(t)}function oLe(t){return Array.isArray(t)&&t.every(oL)}function lLe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(aLe(n))return il(t,n);if(oLe(n))return n.includes(t);if(tLe(n))return sLe(t,n);if(iLe(n))return n.dayOfWeek.includes(t.getDay());if(eLe(n)){var r=sd(n.before,t),i=sd(n.after,t),s=r>0,o=i<0,l=qR(n.before,n.after);return l?o&&s:s||o}return nLe(n)?sd(t,n.after)>0:rLe(n)?sd(n.before,t)>0:typeof n=="function"?n(t):!1})}function mL(t,e,n){var r=Object.keys(e).reduce(function(s,o){var l=e[o];return lLe(t,l)&&s.push(o),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!uL(t,n)&&(i.outside=!0),i}function cLe(t,e){for(var n=al(t[0]),r=lL(t[t.length-1]),i,s,o=n;o<=r;){var l=mL(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Ao(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),i||(i=o),o=Ao(o,1)}return s||i}var uLe=365;function lre(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,m={day:Ao,week:zR,month:Nu,year:S4e,startOfWeek:function(x){return i.ISOWeek?Qm(x):yd(x,{locale:f,weekStartsOn:c})},endOfWeek:function(x){return i.ISOWeek?Kne(x):cL(x,{locale:f,weekStartsOn:c})}},h=m[n](t,r==="after"?1:-1);r==="before"&&u?h=E4e([u,h]):r==="after"&&d&&(h=j4e([d,h]));var y=!0;if(s){var v=mL(h,s);y=!v.disabled&&!v.hidden}return y?h:l.count>uLe?l.lastFocused:lre(h,{moveBy:n,direction:r,context:i,modifiers:s,retry:zn(zn({},l),{count:l.count+1})})}var cre=w.createContext(void 0);function dLe(t){var e=q1(),n=ore(),r=w.useState(),i=r[0],s=r[1],o=w.useState(),l=o[0],c=o[1],u=cLe(e.displayMonths,n),d=i??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(i),s(void 0)},m=function(x){s(x)},h=ji(),y=function(x,b){if(i){var S=lre(i,{moveBy:x,direction:b,context:h,modifiers:n});il(i,S)||(e.goToDate(S,i),m(S))}},v={focusedDay:i,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(cre.Provider,{value:v,children:t.children})}function gL(){var t=w.useContext(cre);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function fLe(t,e){var n=ore(),r=mL(t,n,e);return r}var vL=w.createContext(void 0);function hLe(t){if(!d_(t.initialProps)){var e={selected:void 0};return a.jsx(vL.Provider,{value:e,children:t.children})}return a.jsx(pLe,{initialProps:t.initialProps,children:t.children})}function pLe(t){var e=t.initialProps,n=t.children,r=function(s,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,s,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,o,l)},i={selected:e.selected,onDayClick:r};return a.jsx(vL.Provider,{value:i,children:n})}function ure(){var t=w.useContext(vL);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function mLe(t,e){var n=ji(),r=ure(),i=fL(),s=pL(),o=gL(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,m=o.focus,h=o.focusMonthBefore,y=o.focusMonthAfter,v=o.focusYearBefore,x=o.focusYearAfter,b=o.focusStartOfWeek,S=o.focusEndOfWeek,E=function(U){var W,Y,ie,Q;d_(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,t,e,U):B1(n)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,t,e,U):z1(n)?(ie=s.onDayClick)===null||ie===void 0||ie.call(s,t,e,U):(Q=n.onDayClick)===null||Q===void 0||Q.call(n,t,e,U)},_=function(U){var W;m(t),(W=n.onDayFocus)===null||W===void 0||W.call(n,t,e,U)},C=function(U){var W;f(),(W=n.onDayBlur)===null||W===void 0||W.call(n,t,e,U)},O=function(U){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,t,e,U)},M=function(U){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,t,e,U)},A=function(U){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,t,e,U)},P=function(U){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,t,e,U)},F=function(U){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,t,e,U)},R=function(U){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,t,e,U)},$=function(U){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,t,e,U)},q=function(U){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,t,e,U)},z=function(U){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,t,e,U)},G=function(U){var W;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),u();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?v():h();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?x():y();break;case"Home":U.preventDefault(),U.stopPropagation(),b();break;case"End":U.preventDefault(),U.stopPropagation(),S();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,t,e,U)},X={onClick:E,onFocus:_,onBlur:C,onKeyDown:G,onKeyUp:z,onMouseEnter:O,onMouseLeave:M,onPointerEnter:A,onPointerLeave:P,onTouchCancel:F,onTouchEnd:R,onTouchMove:$,onTouchStart:q};return X}function gLe(){var t=ji(),e=ure(),n=fL(),r=pL(),i=d_(t)?e.selected:B1(t)?n.selected:z1(t)?r.selected:void 0;return i}function vLe(t){return Object.values(Su).includes(t)}function yLe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(vLe(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function xLe(t,e){var n=zn({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=zn(zn({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function bLe(t,e,n){var r,i,s,o=ji(),l=gL(),c=fLe(t,e),u=mLe(t,c),d=gLe(),f=!!(o.onDayClick||o.mode!=="default");w.useEffect(function(){var O;c.outside||l.focusedDay&&f&&il(l.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,t,n,f,c.outside]);var m=yLe(o,c).join(" "),h=xLe(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:zDe,x=a.jsx(v,{date:t,displayMonth:e,activeModifiers:c}),b={style:h,className:m,children:x,role:"gridcell"},S=l.focusTarget&&il(l.focusTarget,t)&&!c.outside,E=l.focusedDay&&il(l.focusedDay,t),_=zn(zn(zn({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=E||S?0:-1,r)),u),C={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return C}function wLe(t){var e=w.useRef(null),n=bLe(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(BS,zn({name:"day",ref:e},n.buttonProps)):a.jsx("div",zn({},n.divProps))}function NLe(t){var e=t.number,n=t.dates,r=ji(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!i)return a.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(e),{locale:l}),m=function(h){i(e,n,h)};return a.jsx(BS,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:m,children:d})}function SLe(t){var e,n,r=ji(),i=r.styles,s=r.classNames,o=r.showWeekNumber,l=r.components,c=(e=l?.Day)!==null&&e!==void 0?e:wLe,u=(n=l?.WeekNumber)!==null&&n!==void 0?n:NLe,d;return o&&(d=a.jsx("td",{className:s.cell,style:i.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return a.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:f})},SIe(f))})]})}function HU(t,e,n){for(var r=n?.ISOWeek?Kne(e):cL(e,n),i=n?.ISOWeek?Qm(t):yd(t,n),s=sd(r,i),o=[],l=0;l<=s;l++)o.push(Ao(i,l));var c=o.reduce(function(u,d){var f=n?.ISOWeek?Xne(d):Jne(d,n),m=u.find(function(h){return h.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function ELe(t,e){var n=HU(al(t),lL(t),e);if(e?.useFixedWeeks){var r=jIe(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=zR(s,6-r),l=HU(zR(s,1),o,e);n.push.apply(n,l)}}return n}function jLe(t){var e,n,r,i=ji(),s=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,m=i.firstWeekContainsDate,h=i.ISOWeek,y=ELe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:s,weekStartsOn:f,firstWeekContainsDate:m}),v=(e=d?.Head)!==null&&e!==void 0?e:BDe,x=(n=d?.Row)!==null&&n!==void 0?n:SLe,b=(r=d?.Footer)!==null&&r!==void 0?r:LDe;return a.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(v,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(S){return a.jsx(x,{displayMonth:t.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),a.jsx(b,{displayMonth:t.displayMonth})]})}function _Le(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var CLe=_Le()?w.useLayoutEffect:w.useEffect,mO=!1,ALe=0;function VU(){return"react-day-picker-".concat(++ALe)}function kLe(t){var e,n=t??(mO?VU():null),r=w.useState(n),i=r[0],s=r[1];return CLe(function(){i===null&&s(VU())},[]),w.useEffect(function(){mO===!1&&(mO=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function TLe(t){var e,n,r=ji(),i=r.dir,s=r.classNames,o=r.styles,l=r.components,c=q1().displayMonths,u=kLe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],m=o.month,h=t.displayIndex===0,y=t.displayIndex===c.length-1,v=!h&&!y;i==="rtl"&&(e=[h,y],y=e[0],h=e[1]),h&&(f.push(s.caption_start),m=zn(zn({},m),o.caption_start)),y&&(f.push(s.caption_end),m=zn(zn({},m),o.caption_end)),v&&(f.push(s.caption_between),m=zn(zn({},m),o.caption_between));var x=(n=l?.Caption)!==null&&n!==void 0?n:DDe;return a.jsxs("div",{className:f.join(" "),style:m,children:[a.jsx(x,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(jLe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function OLe(t){var e=ji(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function PLe(t){var e,n,r=t.initialProps,i=ji(),s=gL(),o=q1(),l=w.useState(!1),c=l[0],u=l[1];w.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=zn(zn({},i.styles.root),i.style),m=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,v){var x;return zn(zn({},y),(x={},x[v]=r[v],x))},{}),h=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:OLe;return a.jsx("div",zn({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:a.jsx(h,{children:o.displayMonths.map(function(y,v){return a.jsx(TLe,{displayIndex:v,displayMonth:y},v)})})}))}function MLe(t){var e=t.children,n=rDe(t,["children"]);return a.jsx(NDe,{initialProps:n,children:a.jsx(PDe,{children:a.jsx(hLe,{initialProps:n,children:a.jsx(qDe,{initialProps:n,children:a.jsx(VDe,{initialProps:n,children:a.jsx(ZDe,{children:a.jsx(dLe,{children:e})})})})})})})}function RLe(t){return a.jsx(MLe,zn({},t,{children:a.jsx(PLe,{initialProps:t})}))}function UR({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(RLe,{showOutsideDays:n,className:gt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:gt(a0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:gt(a0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>a.jsx(yfe,{className:gt("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>a.jsx(RG,{className:gt("h-4 w-4",i),...s})},...r})}UR.displayName="Calendar";var f_="Popover",[dre]=Ea(f_,[xp]),U1=xp(),[ILe,Ap]=dre(f_),fre=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,l=U1(e),c=w.useRef(null),[u,d]=w.useState(!1),[f,m]=Ac({prop:r,defaultProp:i??!1,onChange:s,caller:f_});return a.jsx(rj,{...l,children:a.jsx(ILe,{scope:e,contentId:wa(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:n})})};fre.displayName=f_;var hre="PopoverAnchor",DLe=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ap(hre,n),s=U1(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(E1,{...s,...r,ref:e})});DLe.displayName=hre;var pre="PopoverTrigger",mre=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ap(pre,n),s=U1(n),o=Mn(e,i.triggerRef),l=a.jsx($t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bre(i.open),...r,ref:o,onClick:Nt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(E1,{asChild:!0,...s,children:l})});mre.displayName=pre;var yL="PopoverPortal",[LLe,FLe]=dre(yL,{forceMount:void 0}),gre=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Ap(yL,e);return a.jsx(LLe,{scope:e,forceMount:n,children:a.jsx(ja,{present:n||s.open,children:a.jsx($y,{asChild:!0,container:i,children:r})})})};gre.displayName=yL;var Oy="PopoverContent",vre=w.forwardRef((t,e)=>{const n=FLe(Oy,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Ap(Oy,t.__scopePopover);return a.jsx(ja,{present:r||s.open,children:s.modal?a.jsx(BLe,{...i,ref:e}):a.jsx(zLe,{...i,ref:e})})});vre.displayName=Oy;var $Le=ap("PopoverContent.RemoveScroll"),BLe=w.forwardRef((t,e)=>{const n=Ap(Oy,t.__scopePopover),r=w.useRef(null),i=Mn(e,r),s=w.useRef(!1);return w.useEffect(()=>{const o=r.current;if(o)return hj(o)},[]),a.jsx(_1,{as:$Le,allowPinchZoom:!0,children:a.jsx(yre,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(t.onCloseAutoFocus,o=>{o.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Nt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Nt(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),zLe=w.forwardRef((t,e)=>{const n=Ap(Oy,t.__scopePopover),r=w.useRef(!1),i=w.useRef(!1);return a.jsx(yre,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),yre=w.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=Ap(Oy,n),h=U1(n);return dj(),a.jsx(j1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(og,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:a.jsx(ij,{"data-state":bre(m.open),role:"dialog",id:m.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xre="PopoverClose",qLe=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ap(xre,n);return a.jsx($t.button,{type:"button",...r,ref:e,onClick:Nt(t.onClick,()=>i.onOpenChange(!1))})});qLe.displayName=xre;var ULe="PopoverArrow",HLe=w.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=U1(n);return a.jsx(sj,{...i,...r,ref:e})});HLe.displayName=ULe;function bre(t){return t?"open":"closed"}var VLe=fre,WLe=mre,KLe=gre,wre=vre;const Cv=VLe,Av=WLe,Nm=w.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>a.jsx(KLe,{children:a.jsx(wre,{ref:i,align:e,sideOffset:n,className:gt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));Nm.displayName=wre.displayName;function GLe({taskId:t,currentUser:e}){const{toast:n}=Ir(),[r,i]=w.useState(""),[s,o]=w.useState(null),[l,c]=w.useState(""),[u,d]=w.useState(null),[f,m]=w.useState(!1),{data:h,isLoading:y}=Wt({queryKey:[`/api/tasks/${t}/comments`],enabled:!!t}),v=Xt({mutationFn:async M=>await tn("POST",`/api/tasks/${t}/comments`,{contenido:M}),onSuccess:()=>{sn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario agregado exitosamente"}),i(""),m(!1)},onError:()=>{n({title:"Error al agregar comentario",variant:"destructive"}),m(!1)}}),x=Xt({mutationFn:async({id:M,content:A})=>await tn("PATCH",`/api/tasks/${t}/comments/${M}`,{contenido:A}),onSuccess:()=>{sn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario actualizado exitosamente"}),o(null),c("")},onError:()=>{n({title:"Error al actualizar comentario",variant:"destructive"})}}),b=Xt({mutationFn:async M=>await tn("DELETE",`/api/tasks/${t}/comments/${M}`),onSuccess:()=>{sn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario eliminado exitosamente"}),d(null)},onError:()=>{n({title:"Error al eliminar comentario",variant:"destructive"})}}),S=()=>{if(!r.trim()){n({title:"El comentario no puede estar vaco",variant:"destructive"});return}m(!0),v.mutate(r)},E=M=>{if(!l.trim()){n({title:"El comentario no puede estar vaco",variant:"destructive"});return}x.mutate({id:M,content:l})},_=M=>{b.mutate(M)},C=(M,A)=>{o(M),c(A)},O=()=>{o(null),c("")};return y?a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((M,A)=>a.jsxs("div",{className:"flex gap-3 animate-pulse",children:[a.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-secondary rounded w-1/4"}),a.jsx("div",{className:"h-12 bg-secondary rounded"})]})]},A))}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[a.jsxs("div",{className:"flex gap-3 mb-3",children:[a.jsx(kN,{className:"h-10 w-10",children:a.jsx(TN,{children:e?.username?.[0]?.toUpperCase()||"U"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:e?.username||"Annimo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Ahora"})]})]}),a.jsx(vd,{value:r,onChange:M=>i(M.target.value),placeholder:"Escribe un comentario...",rows:3,className:"resize-none"}),a.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[a.jsx(ge,{onClick:()=>i(""),variant:"outline",size:"sm",children:"Cancelar"}),a.jsxs(ge,{onClick:S,size:"sm",disabled:!r.trim()||f,children:[f&&a.jsx(Gh,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(SN,{className:"w-4 h-4 mr-2"}),"Comentar"]})]})]}),a.jsx("div",{className:"space-y-4",children:h&&h.length>0?h.map(M=>a.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(kN,{className:"h-10 w-10",children:a.jsx(TN,{children:M.usuario?.username?.[0]?.toUpperCase()||"U"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-medium",children:M.usuario?.username||"Annimo"}),e?.id===M.usuarioId&&a.jsx(it,{variant:"secondary",className:"text-xs",children:"T"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ba(new Date(M.createdAt),"PPpp",{locale:yc}),new Date(M.updatedAt).getTime()>new Date(M.createdAt).getTime()&&a.jsx("span",{className:"ml-2",children:"(editado)"})]})]}),e?.id===M.usuarioId&&a.jsx("div",{className:"flex gap-1",children:s===M.id?a.jsxs(a.Fragment,{children:[a.jsxs(ge,{onClick:()=>E(M.id),size:"sm",variant:"ghost",disabled:x.isPending,children:[x.isPending&&a.jsx(Gh,{className:"w-4 h-4 animate-spin"}),!x.isPending&&"Guardar"]}),a.jsx(ge,{onClick:O,size:"sm",variant:"ghost",children:"Cancelar"})]}):a.jsxs(a.Fragment,{children:[a.jsx(ge,{onClick:()=>C(M.id,M.contenido),size:"sm",variant:"ghost",children:a.jsx(WG,{className:"w-4 h-4"})}),a.jsx(ge,{onClick:()=>d(M.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",children:a.jsx(na,{className:"w-4 h-4"})})]})})]}),s===M.id?a.jsx(vd,{value:l,onChange:A=>c(A.target.value),rows:3,className:"resize-none"}):a.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:M.contenido})]},M.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"No hay comentarios an"}),a.jsx("p",{className:"text-xs",children:"S el primero en comentar"})]})}),a.jsx(L1,{open:!!u,onOpenChange:()=>d(null),children:a.jsxs(sx,{children:[a.jsxs(ax,{children:[a.jsx(ox,{children:"Eliminar comentario"}),a.jsx(lx,{children:"Ests seguro de que deseas eliminar este comentario? Esta accin no se puede deshacer."})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(ux,{children:"Cancelar"}),a.jsxs(cx,{onClick:()=>u&&_(u),className:"bg-destructive hover:bg-destructive/90",disabled:b.isPending,children:[b.isPending&&a.jsx(Gh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const YLe=t=>t.startsWith("image/")?a.jsx(hI,{className:"w-4 h-4"}):t.startsWith("audio/")?a.jsx(Lfe,{className:"w-4 h-4"}):t.startsWith("video/")?a.jsx(Zfe,{className:"w-4 h-4"}):t.includes("pdf")||t.includes("word")||t.includes("spreadsheet")?a.jsx(mi,{className:"w-4 h-4"}):t.includes("zip")||t.includes("compressed")||t.includes("archive")?a.jsx(ffe,{className:"w-4 h-4"}):a.jsx(fI,{className:"w-4 h-4"}),XLe=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,r)*100)/100+" "+n[r]};function QLe({taskId:t}){const{toast:e}=Ir(),n=w.useRef(null),[r,i]=w.useState(null),[s,o]=w.useState(!1),{data:l,isLoading:c}=Wt({queryKey:[`/api/tasks/${t}/attachments`],enabled:!!t}),u=Xt({mutationFn:async x=>{const b=new FormData;b.append("file",x);const S=await fetch(`/api/tasks/${t}/attachments`,{method:"POST",body:b,headers:{}});if(!S.ok)throw new Error("Upload failed");return S.json()},onSuccess:()=>{sn.invalidateQueries({queryKey:[`/api/tasks/${t}/attachments`]}),e({title:"Archivo cargado exitosamente"}),n.current&&(n.current.value="")},onError:()=>{e({title:"Error al cargar archivo",variant:"destructive"})}}),d=Xt({mutationFn:async x=>await tn("DELETE",`/api/tasks/${t}/attachments/${x}`),onSuccess:()=>{sn.invalidateQueries({queryKey:[`/api/tasks/${t}/attachments`]}),e({title:"Archivo eliminado exitosamente"}),i(null)},onError:()=>{e({title:"Error al eliminar archivo",variant:"destructive"})}}),f=x=>{if(x.size>10485760){e({title:"Archivo demasiado grande",description:"El archivo no puede superar 10MB",variant:"destructive"});return}u.mutate(x)},m=x=>{const b=x.target.files?.[0];b&&f(b)},h=x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?o(!0):x.type==="dragleave"&&o(!1)},y=x=>{x.preventDefault(),x.stopPropagation(),o(!1);const b=x.dataTransfer.files?.[0];b&&f(b)},v=x=>{const b=document.createElement("a");b.href=x.filePath,b.download=x.originalName,document.body.appendChild(b),b.click(),document.body.removeChild(b)};return c?a.jsx("div",{className:"space-y-4",children:[...Array(2)].map((x,b)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg animate-pulse",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-primary rounded w-1/3"}),a.jsx("div",{className:"h-3 bg-primary rounded w-1/4"})]})]},b))}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:y,className:`border-2 border-dashed rounded-lg p-6 text-center transition-all ${s?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[a.jsx("input",{ref:n,type:"file",onChange:m,className:"hidden",disabled:u.isPending}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(tl,{className:"w-8 h-8 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Arrastra archivos aqu o haz clic para seleccionar"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Mximo 10MB por archivo"})]}),a.jsxs(ge,{onClick:()=>n.current?.click(),size:"sm",className:"mt-2",disabled:u.isPending,children:[u.isPending&&a.jsx(Gh,{className:"w-4 h-4 mr-2 animate-spin"}),u.isPending?"Cargando...":"Seleccionar archivo"]})]})]}),a.jsx("div",{className:"space-y-2",children:l&&l.length>0?l.map(x=>a.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0 text-muted-foreground",children:YLe(x.fileType)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:x.originalName}),a.jsx("p",{className:"text-xs text-muted-foreground",children:XLe(x.fileSize)})]}),a.jsx(it,{variant:"secondary",className:"text-xs flex-shrink-0",children:x.fileType.split("/")[1]?.toUpperCase()||"FILE"}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx(ge,{onClick:()=>v(x),size:"sm",variant:"ghost",title:"Descargar",children:a.jsx(ia,{className:"w-4 h-4"})}),a.jsx(ge,{onClick:()=>i(x.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",title:"Eliminar",children:a.jsx(na,{className:"w-4 h-4"})})]})]},x.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(fI,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay archivos adjuntos"}),a.jsx("p",{className:"text-xs",children:"Carga tu primer archivo"})]})}),a.jsx(L1,{open:!!r,onOpenChange:()=>i(null),children:a.jsxs(sx,{children:[a.jsxs(ax,{children:[a.jsx(ox,{children:"Eliminar archivo"}),a.jsx(lx,{children:"Ests seguro de que deseas eliminar este archivo? Esta accin no se puede deshacer."})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(ux,{children:"Cancelar"}),a.jsxs(cx,{onClick:()=>r&&d.mutate(r),className:"bg-destructive hover:bg-destructive/90",disabled:d.isPending,children:[d.isPending&&a.jsx(Gh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const l2=t=>{const e=Math.floor(t/60),n=t%60;return`${e}h ${n}m`};function JLe({taskId:t,estimatedMinutes:e=null}){const{toast:n}=Ir(),[r,i]=w.useState(!1),[s,o]=w.useState(0),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,m]=w.useState(""),[h,y]=w.useState(null),{data:v,isLoading:x}=Wt({queryKey:[`/api/tasks/${t}/time-entries`],enabled:!!t});w.useEffect(()=>{let F;return r&&(F=setInterval(()=>{o(R=>R+1)},1e3)),()=>clearInterval(F)},[r]);const b=Xt({mutationFn:async F=>await tn("POST",`/api/tasks/${t}/time-entries`,F),onSuccess:()=>{sn.invalidateQueries({queryKey:[`/api/tasks/${t}/time-entries`]}),n({title:"Tiempo registrado exitosamente"}),O()},onError:()=>{n({title:"Error al registrar tiempo",variant:"destructive"})}}),S=Xt({mutationFn:async F=>await tn("DELETE",`/api/tasks/${t}/time-entries/${F}`),onSuccess:()=>{sn.invalidateQueries({queryKey:[`/api/tasks/${t}/time-entries`]}),n({title:"Tiempo eliminado exitosamente"}),y(null)},onError:()=>{n({title:"Error al eliminar tiempo",variant:"destructive"})}}),E=()=>{i(!r)},_=()=>{if(s===0){n({title:"El temporizador est en cero",variant:"destructive"});return}const F=Math.round(s/60);b.mutate({duration:F,description:"Tiempo registrado desde el temporizador"}),i(!1),o(0)},C=()=>{if(!u||parseInt(u)<=0){n({title:"Ingresa una cantidad vlida de minutos",variant:"destructive"});return}b.mutate({duration:parseInt(u),description:f||"Tiempo registrado manualmente"})},O=()=>{d(""),m(""),c(!1)},M=(v||[]).reduce((F,R)=>F+R.duration,0),A=e&&e>0?Math.round(M/e*100):0,P=e&&M>e;return x?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-32 bg-secondary rounded-lg animate-pulse"}),a.jsx("div",{className:"h-48 bg-secondary rounded-lg animate-pulse"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Temporizador"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-6xl font-mono font-bold",children:[String(Math.floor(s/3600)).padStart(2,"0"),":",String(Math.floor(s%3600/60)).padStart(2,"0"),":",String(s%60).padStart(2,"0")]})}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx(ge,{onClick:E,size:"sm",variant:r?"destructive":"default",children:r?a.jsxs(a.Fragment,{children:[a.jsx($fe,{className:"w-4 h-4 mr-2"}),"Pausar"]}):a.jsxs(a.Fragment,{children:[a.jsx(zfe,{className:"w-4 h-4 mr-2"}),"Iniciar"]})}),a.jsxs(ge,{onClick:_,size:"sm",variant:"outline",disabled:s===0||b.isPending,children:[b.isPending&&a.jsx(Gh,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Vfe,{className:"w-4 h-4 mr-2"}),"Registrar"]})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{className:"text-lg",children:"Resumen"})}),a.jsxs(He,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Tiempo Total:"}),a.jsx("span",{className:"text-2xl font-bold",children:l2(M)})]}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Tiempo Estimado:"}),a.jsx("span",{className:"text-lg font-semibold",children:l2(e)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Progreso:"}),a.jsxs(it,{variant:P?"destructive":"default",className:"text-xs",children:[A,"%",P&&" (+exceso)"]})]}),a.jsx("div",{className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ${P?"bg-destructive":"bg-primary"}`,style:{width:`${Math.min(A,100)}%`}})}),P&&a.jsxs("p",{className:"text-xs text-destructive",children:["Has excedido el tiempo estimado por"," ",l2(M-e)]})]})]})]}),a.jsxs(Lr,{open:l,onOpenChange:c,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{variant:"outline",className:"w-full",children:[a.jsx(js,{className:"w-4 h-4 mr-2"}),"Agregar Tiempo Manualmente"]})}),a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Agregar Tiempo Manualmente"}),a.jsx(Mi,{children:"Registra tiempo que hayas trabajado fuera del temporizador"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"minutes",children:"Minutos"}),a.jsx(Fe,{id:"minutes",type:"number",value:u,onChange:F=>d(F.target.value),placeholder:"0",min:"1"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"description",children:"Descripcin (opcional)"}),a.jsx(Fe,{id:"description",value:f,onChange:F=>m(F.target.value),placeholder:"Describe qu hiciste..."})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:()=>O(),children:"Cancelar"}),a.jsxs(ge,{onClick:C,disabled:b.isPending,children:[b.isPending&&a.jsx(Gh,{className:"w-4 h-4 mr-2 animate-spin"}),"Agregar"]})]})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{className:"text-lg flex items-center gap-2",children:[a.jsx(nl,{className:"w-4 h-4"}),"Historial de Tiempo"]})}),a.jsx(He,{children:v&&v.length>0?a.jsx("div",{className:"space-y-2",children:v.map(F=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:l2(F.duration)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:F.description}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Ba(new Date(F.createdAt),"PPp",{locale:yc})})]}),a.jsx(ge,{onClick:()=>y(F.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",children:a.jsx(na,{className:"w-4 h-4"})})]},F.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(nl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay registros de tiempo"})]})})]}),a.jsx(L1,{open:!!h,onOpenChange:()=>y(null),children:a.jsxs(sx,{children:[a.jsxs(ax,{children:[a.jsx(ox,{children:"Eliminar registro de tiempo"}),a.jsx(lx,{children:"Ests seguro de que deseas eliminar este registro? Esta accin no se puede deshacer."})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(ux,{children:"Cancelar"}),a.jsxs(cx,{onClick:()=>h&&S.mutate(h),className:"bg-destructive hover:bg-destructive/90",disabled:S.isPending,children:[S.isPending&&a.jsx(Gh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const WU={BAJA:"#94a3b8",MEDIA:"#f59e0b",ALTA:"#ef4444"},KU={PENDIENTE:"#64748b",EN_PROGRESO:"#3b82f6",COMPLETADA:"#10b981",CANCELADA:"#ef4444"},ZLe=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#06b6d4","#64748b"];function e3e({task:t,isOpen:e,onClose:n,clients:r=[],users:i=[]}){const{toast:s}=Ir(),[o,l]=w.useState("details"),[c,u]=w.useState(!1),[d,f]=w.useState({titulo:t?.titulo||"",descripcion:t?.descripcion||"",clienteId:t?.clienteId||"",asignadoA:t?.asignadoA||"",prioridad:t?.prioridad||"MEDIA",estado:t?.estado||"PENDIENTE",visibilidad:t?.visibilidad||"GENERAL",fechaVencimiento:t?.fechaVencimiento||"",progreso:t?.progreso||0,color:t?.color||null,etiquetas:t?.etiquetas||[],estimatedMinutes:t?.estimatedMinutes||null}),[m,h]=w.useState(t?.fechaInicio?new Date(t.fechaInicio):void 0),[y,v]=w.useState(t?.fechaVencimiento?new Date(t.fechaVencimiento):void 0),x=Xt({mutationFn:async E=>{if(!t?.id)throw new Error("No task ID");return await tn("PATCH",`/api/tasks/${t.id}`,E)},onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/tasks"]}),s({title:"Tarea actualizada exitosamente"}),u(!1)},onError:()=>{s({title:"Error al actualizar tarea",variant:"destructive"})}}),b=()=>{const E={...d,fechaInicio:m?.toISOString(),fechaVencimiento:y?.toISOString()};x.mutate(E)},S=()=>{t&&(f({titulo:t.titulo,descripcion:t.descripcion||"",clienteId:t.clienteId||"",asignadoA:t.asignadoA||"",prioridad:t.prioridad,estado:t.estado,visibilidad:t.visibilidad,fechaVencimiento:t.fechaVencimiento||"",progreso:t.progreso||0,color:t.color||null,etiquetas:t.etiquetas||[],estimatedMinutes:t.estimatedMinutes||null}),h(t.fechaInicio?new Date(t.fechaInicio):void 0),v(t.fechaVencimiento?new Date(t.fechaVencimiento):void 0)),u(!1)};return t?a.jsx(Lr,{open:e,onOpenChange:n,children:a.jsxs(Mr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Fr,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[c?a.jsx(Fe,{value:d.titulo,onChange:E=>f({...d,titulo:E.target.value}),className:"text-xl font-semibold",placeholder:"Ttulo de la tarea"}):a.jsx($r,{className:"text-2xl",children:t.titulo}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsxs(it,{variant:"outline",children:["#",t.id.slice(0,8)]}),a.jsx(it,{style:{backgroundColor:KU[t.estado]+"20",color:KU[t.estado]},children:t.estado.replace("_"," ")}),a.jsx(it,{style:{backgroundColor:WU[t.prioridad]+"20",color:WU[t.prioridad]},children:t.prioridad})]})]}),a.jsx("div",{className:"flex gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsxs(ge,{onClick:b,size:"sm",children:[a.jsx(cg,{className:"w-4 h-4 mr-2"}),"Guardar"]}),a.jsxs(ge,{onClick:S,variant:"outline",size:"sm",children:[a.jsx(kc,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):a.jsx(ge,{onClick:()=>u(!0),size:"sm",children:"Editar"})})]})}),a.jsxs(Ul,{value:o,onValueChange:l,className:"mt-4",children:[a.jsxs(dl,{className:"grid w-full grid-cols-6",children:[a.jsxs(Ln,{value:"details",children:[a.jsx(Ov,{className:"w-4 h-4 mr-2"}),"Detalles"]}),a.jsxs(Ln,{value:"subtasks",children:[a.jsx(Ov,{className:"w-4 h-4 mr-2"}),"Subtareas"]}),a.jsxs(Ln,{value:"comments",children:[a.jsx(OF,{className:"w-4 h-4 mr-2"}),"Comentarios"]}),a.jsxs(Ln,{value:"attachments",children:[a.jsx(lp,{className:"w-4 h-4 mr-2"}),"Adjuntos"]}),a.jsxs(Ln,{value:"time",children:[a.jsx(nl,{className:"w-4 h-4 mr-2"}),"Tiempo"]}),a.jsxs(Ln,{value:"activity",children:[a.jsx(Fm,{className:"w-4 h-4 mr-2"}),"Historial"]})]}),a.jsx(rr,{value:"details",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(_e,{children:"Descripcin"}),c?a.jsx(vd,{value:d.descripcion,onChange:E=>f({...d,descripcion:E.target.value}),rows:4,placeholder:"Descripcin de la tarea..."}):a.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:t.descripcion||"Sin descripcin"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Cliente"}),c?a.jsxs(_n,{value:d.clienteId,onValueChange:E=>f({...d,clienteId:E}),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Seleccionar cliente"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"",children:"Sin cliente"}),r.map(E=>a.jsx(Qe,{value:E.id,children:E.razonSocial},E.id))]})]}):a.jsx("p",{className:"text-sm mt-1",children:r.find(E=>E.id===t.clienteId)?.razonSocial||"Sin cliente"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Asignado a"}),c?a.jsxs(_n,{value:d.asignadoA,onValueChange:E=>f({...d,asignadoA:E}),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Seleccionar usuario"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"",children:"Sin asignar"}),i.map(E=>a.jsx(Qe,{value:E.id,children:E.username},E.id))]})]}):a.jsx("p",{className:"text-sm mt-1",children:i.find(E=>E.id===t.asignadoA)?.username||"Sin asignar"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Prioridad"}),c?a.jsxs(_n,{value:d.prioridad,onValueChange:E=>f({...d,prioridad:E}),children:[a.jsx(Sn,{children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"BAJA",children:"Baja"}),a.jsx(Qe,{value:"MEDIA",children:"Media"}),a.jsx(Qe,{value:"ALTA",children:"Alta"})]})]}):a.jsx("p",{className:"text-sm mt-1",children:t.prioridad})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Estado"}),c?a.jsxs(_n,{value:d.estado,onValueChange:E=>f({...d,estado:E}),children:[a.jsx(Sn,{children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"PENDIENTE",children:"Pendiente"}),a.jsx(Qe,{value:"EN_PROGRESO",children:"En Progreso"}),a.jsx(Qe,{value:"COMPLETADA",children:"Completada"}),a.jsx(Qe,{value:"CANCELADA",children:"Cancelada"})]})]}):a.jsx("p",{className:"text-sm mt-1",children:t.estado.replace("_"," ")})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Fecha de Inicio"}),c?a.jsxs(Cv,{children:[a.jsx(Av,{asChild:!0,children:a.jsxs(ge,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[a.jsx(bN,{className:"mr-2 h-4 w-4"}),m?Ba(m,"PPP",{locale:yc}):a.jsx("span",{children:"Seleccionar fecha"})]})}),a.jsx(Nm,{className:"w-auto p-0",children:a.jsx(UR,{mode:"single",selected:m,onSelect:h,locale:yc,initialFocus:!0})})]}):a.jsx("p",{className:"text-sm mt-1",children:t.fechaInicio?Ba(new Date(t.fechaInicio),"PPP",{locale:yc}):"Sin fecha"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Fecha de Vencimiento"}),c?a.jsxs(Cv,{children:[a.jsx(Av,{asChild:!0,children:a.jsxs(ge,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[a.jsx(bN,{className:"mr-2 h-4 w-4"}),y?Ba(y,"PPP",{locale:yc}):a.jsx("span",{children:"Seleccionar fecha"})]})}),a.jsx(Nm,{className:"w-auto p-0",children:a.jsx(UR,{mode:"single",selected:y,onSelect:v,locale:yc,initialFocus:!0})})]}):a.jsx("p",{className:"text-sm mt-1",children:t.fechaVencimiento?Ba(new Date(t.fechaVencimiento),"PPP",{locale:yc}):"Sin fecha"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsxs(_e,{children:["Progreso: ",d.progreso,"%"]}),c?a.jsx(Hne,{value:[d.progreso],onValueChange:E=>f({...d,progreso:E[0]}),max:100,step:5,className:"mt-2"}):a.jsx("div",{className:"w-full bg-secondary h-2 rounded-full mt-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${t.progreso||0}%`}})})]}),c&&a.jsxs("div",{className:"col-span-2",children:[a.jsxs(_e,{className:"flex items-center gap-2",children:[a.jsx(gI,{className:"w-4 h-4"}),"Color de la Tarea"]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[ZLe.map(E=>a.jsx("button",{onClick:()=>f({...d,color:E}),className:"w-8 h-8 rounded-full border-2 transition-all hover:scale-110",style:{backgroundColor:E,borderColor:d.color===E?"#000":"transparent"}},E)),a.jsx("button",{onClick:()=>f({...d,color:null}),className:"w-8 h-8 rounded-full border-2 bg-white transition-all hover:scale-110",style:{borderColor:d.color?"#e5e7eb":"#000"},children:a.jsx(kc,{className:"w-4 h-4 mx-auto text-gray-400"})})]})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Tiempo Estimado (minutos)"}),c?a.jsx(Fe,{type:"number",value:d.estimatedMinutes||"",onChange:E=>f({...d,estimatedMinutes:E.target.value?parseInt(E.target.value):null}),placeholder:"0"}):a.jsx("p",{className:"text-sm mt-1",children:t.estimatedMinutes?`${t.estimatedMinutes} min`:"No estimado"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Visibilidad"}),c?a.jsxs(_n,{value:d.visibilidad,onValueChange:E=>f({...d,visibilidad:E}),children:[a.jsx(Sn,{children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"GENERAL",children:"General"}),a.jsx(Qe,{value:"PERSONAL",children:"Personal"})]})]}):a.jsx("p",{className:"text-sm mt-1",children:t.visibilidad})]})]})}),a.jsx(rr,{value:"subtasks",children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ov,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Funcin de subtareas prximamente"})]})}),a.jsx(rr,{value:"comments",children:t?.id?a.jsx(GLe,{taskId:t.id,currentUser:i?.[0]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(OF,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No se puede cargar la tarea"})]})}),a.jsx(rr,{value:"attachments",children:t?.id?a.jsx(QLe,{taskId:t.id}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(lp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No se puede cargar la tarea"})]})}),a.jsx(rr,{value:"time",children:t?.id?a.jsx(JLe,{taskId:t.id,estimatedMinutes:t.estimatedMinutes}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(nl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No se puede cargar la tarea"})]})}),a.jsx(rr,{value:"activity",children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Fm,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Funcin de historial prximamente"})]})})]})]})}):null}function t3e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fx(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function xL(t){return"nodeType"in t}function hl(t){var e,n;return t?fx(t)?t:xL(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function bL(t){const{Document:e}=hl(t);return t instanceof e}function H1(t){return fx(t)?!1:t instanceof hl(t).HTMLElement}function Nre(t){return t instanceof hl(t).SVGElement}function hx(t){return t?fx(t)?t.document:xL(t)?bL(t)?t:H1(t)||Nre(t)?t.ownerDocument:document:document:document}const xd=h_?w.useLayoutEffect:w.useEffect;function wL(t){const e=w.useRef(t);return xd(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function n3e(){const t=w.useRef(null),e=w.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=w.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function G0(t,e){e===void 0&&(e=[t]);const n=w.useRef(t);return xd(()=>{n.current!==t&&(n.current=t)},e),n}function V1(t,e){const n=w.useRef();return w.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function zS(t){const e=wL(t),n=w.useRef(null),r=w.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function HR(t){const e=w.useRef();return w.useEffect(()=>{e.current=t},[t]),e.current}let gO={};function W1(t,e){return w.useMemo(()=>{if(e)return e;const n=gO[t]==null?0:gO[t]+1;return gO[t]=n,t+"-"+n},[t,e])}function Sre(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=s[c];d!=null&&(s[c]=d+t*u)}return s},{...e})}}const zv=Sre(1),Y0=Sre(-1);function r3e(t){return"clientX"in t&&"clientY"in t}function NL(t){if(!t)return!1;const{KeyboardEvent:e}=hl(t.target);return e&&t instanceof e}function i3e(t){if(!t)return!1;const{TouchEvent:e}=hl(t.target);return e&&t instanceof e}function VR(t){if(i3e(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return r3e(t)?{x:t.clientX,y:t.clientY}:null}const X0=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[X0.Translate.toString(t),X0.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),GU="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function s3e(t){return t.matches(GU)?t:t.querySelector(GU)}const a3e={display:"none"};function o3e(t){let{id:e,value:n}=t;return ye.createElement("div",{id:e,style:a3e},n)}function l3e(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ye.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function c3e(){const[t,e]=w.useState("");return{announce:w.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const Ere=w.createContext(null);function u3e(t){const e=w.useContext(Ere);w.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function d3e(){const[t]=w.useState(()=>new Set),e=w.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[w.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,s)})},[t]),e]}const f3e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},h3e={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function p3e(t){let{announcements:e=h3e,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=f3e}=t;const{announce:s,announcement:o}=c3e(),l=W1("DndLiveRegion"),[c,u]=w.useState(!1);if(w.useEffect(()=>{u(!0)},[]),u3e(w.useMemo(()=>({onDragStart(f){let{active:m}=f;s(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:h}=f;e.onDragMove&&s(e.onDragMove({active:m,over:h}))},onDragOver(f){let{active:m,over:h}=f;s(e.onDragOver({active:m,over:h}))},onDragEnd(f){let{active:m,over:h}=f;s(e.onDragEnd({active:m,over:h}))},onDragCancel(f){let{active:m,over:h}=f;s(e.onDragCancel({active:m,over:h}))}}),[s,e])),!c)return null;const d=ye.createElement(ye.Fragment,null,ye.createElement(o3e,{id:r,value:i.draggable}),ye.createElement(l3e,{id:l,announcement:o}));return n?mu.createPortal(d,n):d}var Js;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Js||(Js={}));function qS(){}function US(t,e){return w.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function jre(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return w.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Eu=Object.freeze({x:0,y:0});function _re(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Cre(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function m3e(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function YU(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Are(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function XU(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const g3e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=XU(e,e.left,e.top),s=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=_re(XU(c),i);s.push({id:l,data:{droppableContainer:o,value:u}})}}return s.sort(Cre)},kre=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=YU(e),s=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=YU(c),d=i.reduce((m,h,y)=>m+_re(u[y],h),0),f=Number((d/4).toFixed(4));s.push({id:l,data:{droppableContainer:o,value:f}})}}return s.sort(Cre)};function v3e(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,l=s-n;if(r<i&&n<s){const c=e.width*e.height,u=t.width*t.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const y3e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const c=v3e(l,e);c>0&&i.push({id:o,data:{droppableContainer:s,value:c}})}}return i.sort(m3e)};function x3e(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Tre(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Eu}function b3e(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}const w3e=b3e(1);function N3e(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function S3e(t,e,n){const r=N3e(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:l}=r,c=t.left-o-(1-i)*parseFloat(n),u=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const E3e={ignoreTransform:!1};function px(t,e){e===void 0&&(e=E3e);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=hl(t).getComputedStyle(t);u&&(n=S3e(n,u,d))}const{top:r,left:i,width:s,height:o,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:o,bottom:l,right:c}}function QU(t){return px(t,{ignoreTransform:!0})}function j3e(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function _3e(t,e){return e===void 0&&(e=hl(t).getComputedStyle(t)),e.position==="fixed"}function C3e(t,e){e===void 0&&(e=hl(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function p_(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(bL(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!H1(i)||Nre(i)||n.includes(i))return n;const s=hl(t).getComputedStyle(i);return i!==t&&C3e(i,s)&&n.push(i),_3e(i,s)?n:r(i.parentNode)}return t?r(t):n}function Ore(t){const[e]=p_(t,1);return e??null}function vO(t){return!h_||!t?null:fx(t)?t:xL(t)?bL(t)||t===hx(t).scrollingElement?window:H1(t)?t:null:null}function Pre(t){return fx(t)?t.scrollX:t.scrollLeft}function Mre(t){return fx(t)?t.scrollY:t.scrollTop}function WR(t){return{x:Pre(t),y:Mre(t)}}var va;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(va||(va={}));function Rre(t){return!h_||!t?!1:t===document.scrollingElement}function Ire(t){const e={x:0,y:0},n=Rre(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:l,maxScroll:r,minScroll:e}}const A3e={x:.2,y:.2};function k3e(t,e,n,r,i){let{top:s,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=A3e);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=Ire(t),h={x:0,y:0},y={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+v.height?(h.y=va.Backward,y.y=r*Math.abs((e.top+v.height-s)/v.height)):!d&&c>=e.bottom-v.height&&(h.y=va.Forward,y.y=r*Math.abs((e.bottom-v.height-c)/v.height)),!m&&l>=e.right-v.width?(h.x=va.Forward,y.x=r*Math.abs((e.right-v.width-l)/v.width)):!f&&o<=e.left+v.width&&(h.x=va.Backward,y.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:h,speed:y}}function T3e(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Dre(t){return t.reduce((e,n)=>zv(e,WR(n)),Eu)}function O3e(t){return t.reduce((e,n)=>e+Pre(n),0)}function P3e(t){return t.reduce((e,n)=>e+Mre(n),0)}function M3e(t,e){if(e===void 0&&(e=px),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);Ore(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const R3e=[["x",["left","right"],O3e],["y",["top","bottom"],P3e]];class SL{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=p_(n),i=Dre(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,l]of R3e)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Lb{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function I3e(t){const{EventTarget:e}=hl(t);return t instanceof e?t:hx(t)}function yO(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var mc;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(mc||(mc={}));function JU(t){t.preventDefault()}function D3e(t){t.stopPropagation()}var xr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(xr||(xr={}));const Lre={start:[xr.Space,xr.Enter],cancel:[xr.Esc],end:[xr.Space,xr.Enter,xr.Tab]},L3e=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case xr.Right:return{...n,x:n.x+25};case xr.Left:return{...n,x:n.x-25};case xr.Down:return{...n,y:n.y+25};case xr.Up:return{...n,y:n.y-25}}};class EL{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Lb(hx(n)),this.windowListeners=new Lb(hl(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mc.Resize,this.handleCancel),this.windowListeners.add(mc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&M3e(r),n(Eu)}handleKeyDown(e){if(NL(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=Lre,coordinateGetter:o=L3e,scrollBehavior:l="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Eu;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(e,{active:n,context:r.current,currentCoordinates:d});if(f){const m=Y0(f,d),h={x:0,y:0},{scrollableAncestors:y}=r.current;for(const v of y){const x=e.code,{isTop:b,isRight:S,isLeft:E,isBottom:_,maxScroll:C,minScroll:O}=Ire(v),M=T3e(v),A={x:Math.min(x===xr.Right?M.right-M.width/2:M.right,Math.max(x===xr.Right?M.left:M.left+M.width/2,f.x)),y:Math.min(x===xr.Down?M.bottom-M.height/2:M.bottom,Math.max(x===xr.Down?M.top:M.top+M.height/2,f.y))},P=x===xr.Right&&!S||x===xr.Left&&!E,F=x===xr.Down&&!_||x===xr.Up&&!b;if(P&&A.x!==f.x){const R=v.scrollLeft+m.x,$=x===xr.Right&&R<=C.x||x===xr.Left&&R>=O.x;if($&&!m.y){v.scrollTo({left:R,behavior:l});return}$?h.x=v.scrollLeft-R:h.x=x===xr.Right?v.scrollLeft-C.x:v.scrollLeft-O.x,h.x&&v.scrollBy({left:-h.x,behavior:l});break}else if(F&&A.y!==f.y){const R=v.scrollTop+m.y,$=x===xr.Down&&R<=C.y||x===xr.Up&&R>=O.y;if($&&!m.x){v.scrollTo({top:R,behavior:l});return}$?h.y=v.scrollTop-R:h.y=x===xr.Down?v.scrollTop-C.y:v.scrollTop-O.y,h.y&&v.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(e,zv(Y0(f,this.referenceCoordinates),h))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}EL.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Lre,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function ZU(t){return!!(t&&"distance"in t)}function eH(t){return!!(t&&"delay"in t)}class jL{constructor(e,n,r){var i;r===void 0&&(r=I3e(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=hx(o),this.documentListeners=new Lb(this.document),this.listeners=new Lb(r),this.windowListeners=new Lb(hl(o)),this.initialCoordinates=(i=VR(s))!=null?i:Eu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(mc.Resize,this.handleCancel),this.windowListeners.add(mc.DragStart,JU),this.windowListeners.add(mc.VisibilityChange,this.handleCancel),this.windowListeners.add(mc.ContextMenu,JU),this.documentListeners.add(mc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eH(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ZU(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(mc.Click,D3e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mc.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=VR(e))!=null?n:Eu,u=Y0(i,c);if(!r&&l){if(ZU(l)){if(l.tolerance!=null&&yO(u,l.tolerance))return this.handleCancel();if(yO(u,l.distance))return this.handleStart()}if(eH(l)&&yO(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===xr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const F3e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _L extends jL{constructor(e){const{event:n}=e,r=hx(n.target);super(e,F3e,r)}}_L.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const $3e={move:{name:"mousemove"},end:{name:"mouseup"}};var KR;(function(t){t[t.RightClick=2]="RightClick"})(KR||(KR={}));class Fre extends jL{constructor(e){super(e,$3e,hx(e.event.target))}}Fre.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===KR.RightClick?!1:(r?.({event:n}),!0)}}];const xO={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $re extends jL{constructor(e){super(e,xO)}static setup(){return window.addEventListener(xO.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(xO.move.name,e)};function e(){}}}$re.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Fb;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Fb||(Fb={}));var HS;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(HS||(HS={}));function B3e(t){let{acceleration:e,activator:n=Fb.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:l=HS.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=t;const h=q3e({delta:f,disabled:!s}),[y,v]=n3e(),x=w.useRef({x:0,y:0}),b=w.useRef({x:0,y:0}),S=w.useMemo(()=>{switch(n){case Fb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Fb.DraggableRect:return i}},[n,i,c]),E=w.useRef(null),_=w.useCallback(()=>{const O=E.current;if(!O)return;const M=x.current.x*b.current.x,A=x.current.y*b.current.y;O.scrollBy(M,A)},[]),C=w.useMemo(()=>l===HS.TreeOrder?[...u].reverse():u,[l,u]);w.useEffect(()=>{if(!s||!u.length||!S){v();return}for(const O of C){if(r?.(O)===!1)continue;const M=u.indexOf(O),A=d[M];if(!A)continue;const{direction:P,speed:F}=k3e(O,A,S,e,m);for(const R of["x","y"])h[R][P[R]]||(F[R]=0,P[R]=0);if(F.x>0||F.y>0){v(),E.current=O,y(_,o),x.current=F,b.current=P;return}}x.current={x:0,y:0},b.current={x:0,y:0},v()},[e,_,r,v,s,o,JSON.stringify(S),JSON.stringify(h),y,u,C,d,JSON.stringify(m)])}const z3e={x:{[va.Backward]:!1,[va.Forward]:!1},y:{[va.Backward]:!1,[va.Forward]:!1}};function q3e(t){let{delta:e,disabled:n}=t;const r=HR(e);return V1(i=>{if(n||!r||!i)return z3e;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[va.Backward]:i.x[va.Backward]||s.x===-1,[va.Forward]:i.x[va.Forward]||s.x===1},y:{[va.Backward]:i.y[va.Backward]||s.y===-1,[va.Forward]:i.y[va.Forward]||s.y===1}}},[n,e,r])}function U3e(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return V1(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function H3e(t,e){return w.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var Q0;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Q0||(Q0={}));var GR;(function(t){t.Optimized="optimized"})(GR||(GR={}));const tH=new Map;function V3e(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=w.useState(null),{frequency:l,measure:c,strategy:u}=i,d=w.useRef(t),f=x(),m=G0(f),h=w.useCallback(function(b){b===void 0&&(b=[]),!m.current&&o(S=>S===null?b:S.concat(b.filter(E=>!S.includes(E))))},[m]),y=w.useRef(null),v=V1(b=>{if(f&&!n)return tH;if(!b||b===tH||d.current!==t||s!=null){const S=new Map;for(let E of t){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){S.set(E.id,E.rect.current);continue}const _=E.node.current,C=_?new SL(c(_),_):null;E.rect.current=C,C&&S.set(E.id,C)}return S}return b},[t,s,n,f,c]);return w.useEffect(()=>{d.current=t},[t]),w.useEffect(()=>{f||h()},[n,f]),w.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),w.useEffect(()=>{f||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{h(),y.current=null},l))},[l,f,h,...r]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:s!=null};function x(){switch(u){case Q0.Always:return!1;case Q0.BeforeDragging:return n;default:return!n}}}function Bre(t,e){return V1(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function W3e(t,e){return Bre(t,e)}function K3e(t){let{callback:e,disabled:n}=t;const r=wL(e),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return w.useEffect(()=>()=>i?.disconnect(),[i]),i}function m_(t){let{callback:e,disabled:n}=t;const r=wL(e),i=w.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return w.useEffect(()=>()=>i?.disconnect(),[i]),i}function G3e(t){return new SL(px(t),t)}function nH(t,e,n){e===void 0&&(e=G3e);const[r,i]=w.useState(null);function s(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=K3e({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),l=m_({callback:s});return xd(()=>{s(),t?(l?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[t]),r}function Y3e(t){const e=Bre(t);return Tre(t,e)}const rH=[];function X3e(t){const e=w.useRef(t),n=V1(r=>t?r&&r!==rH&&t&&e.current&&t.parentNode===e.current.parentNode?r:p_(t):rH,[t]);return w.useEffect(()=>{e.current=t},[t]),n}function Q3e(t){const[e,n]=w.useState(null),r=w.useRef(t),i=w.useCallback(s=>{const o=vO(s.target);o&&n(l=>l?(l.set(o,WR(o)),new Map(l)):null)},[]);return w.useEffect(()=>{const s=r.current;if(t!==s){o(s);const l=t.map(c=>{const u=vO(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,WR(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{o(t),o(s)};function o(l){l.forEach(c=>{const u=vO(c);u?.removeEventListener("scroll",i)})}},[i,t]),w.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>zv(s,o),Eu):Dre(t):Eu,[t,e])}function iH(t,e){e===void 0&&(e=[]);const n=w.useRef(null);return w.useEffect(()=>{n.current=null},e),w.useEffect(()=>{const r=t!==Eu;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Y0(t,n.current):Eu}function J3e(t){w.useEffect(()=>{if(!h_)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Z3e(t,e){return w.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function zre(t){return w.useMemo(()=>t?j3e(t):null,[t])}const sH=[];function e6e(t,e){e===void 0&&(e=px);const[n]=t,r=zre(n?hl(n):null),[i,s]=w.useState(sH);function o(){s(()=>t.length?t.map(c=>Rre(c)?r:new SL(e(c),c)):sH)}const l=m_({callback:o});return xd(()=>{l?.disconnect(),o(),t.forEach(c=>l?.observe(c))},[t]),i}function t6e(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return H1(e)?e:t}function n6e(t){let{measure:e}=t;const[n,r]=w.useState(null),i=w.useCallback(u=>{for(const{target:d}of u)if(H1(d)){r(f=>{const m=e(d);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),s=m_({callback:i}),o=w.useCallback(u=>{const d=t6e(u);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[l,c]=zS(o);return w.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const r6e=[{sensor:_L,options:{}},{sensor:EL,options:{}}],i6e={current:{}},tN={draggable:{measure:QU},droppable:{measure:QU,strategy:Q0.WhileDragging,frequency:GR.Optimized},dragOverlay:{measure:px}};class $b extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const s6e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $b,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tN,measureDroppableContainers:qS,windowRect:null,measuringScheduled:!1},a6e={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qS,draggableNodes:new Map,over:null,measureDroppableContainers:qS},g_=w.createContext(a6e),qre=w.createContext(s6e);function o6e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $b}}}function l6e(t,e){switch(e.type){case Js.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Js.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Js.DragEnd:case Js.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Js.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new $b(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Js.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new $b(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Js.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new $b(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function c6e(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=w.useContext(g_),s=HR(r),o=HR(n?.id);return w.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!NL(s)||document.activeElement===s.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=s3e(d);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function u6e(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function d6e(t){return w.useMemo(()=>({draggable:{...tN.draggable,...t?.draggable},droppable:{...tN.droppable,...t?.droppable},dragOverlay:{...tN.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function f6e(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=w.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;xd(()=>{if(!o&&!l||!e){s.current=!1;return}if(s.current||!r)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Tre(d,r);if(o||(f.x=0),l||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=Ore(u);m&&m.scrollBy({top:f.y,left:f.x})}},[e,o,l,r,n])}const Ure=w.createContext({...Eu,scaleX:1,scaleY:1});var Th;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Th||(Th={}));const Hre=w.memo(function(e){var n,r,i,s;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=r6e,collisionDetection:f=y3e,measuring:m,modifiers:h,...y}=e;const v=w.useReducer(l6e,void 0,o6e),[x,b]=v,[S,E]=d3e(),[_,C]=w.useState(Th.Uninitialized),O=_===Th.Initialized,{draggable:{active:M,nodes:A,translate:P},droppable:{containers:F}}=x,R=M!=null?A.get(M):null,$=w.useRef({initial:null,translated:null}),q=w.useMemo(()=>{var mn;return M!=null?{id:M,data:(mn=R?.data)!=null?mn:i6e,rect:$}:null},[M,R]),z=w.useRef(null),[G,X]=w.useState(null),[U,W]=w.useState(null),Y=G0(y,Object.values(y)),ie=W1("DndDescribedBy",o),Q=w.useMemo(()=>F.getEnabled(),[F]),I=d6e(m),{droppableRects:V,measureDroppableContainers:J,measuringScheduled:re}=V3e(Q,{dragging:O,dependencies:[P.x,P.y],config:I.droppable}),fe=U3e(A,M),pe=w.useMemo(()=>U?VR(U):null,[U]),xe=Tr(),de=W3e(fe,I.draggable.measure);f6e({activeNode:M!=null?A.get(M):null,config:xe.layoutShiftCompensation,initialRect:de,measure:I.draggable.measure});const we=nH(fe,I.draggable.measure,de),Ce=nH(fe?fe.parentElement:null),ae=w.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pe=F.getNodeFor((n=ae.current.over)==null?void 0:n.id),ee=n6e({measure:I.dragOverlay.measure}),ne=(r=ee.nodeRef.current)!=null?r:fe,Re=O?(i=ee.rect)!=null?i:we:null,ft=!!(ee.nodeRef.current&&ee.rect),et=Y3e(ft?null:we),Ke=zre(ne?hl(ne):null),me=X3e(O?Pe??fe:null),Se=e6e(me),ke=u6e(h,{transform:{x:P.x-et.x,y:P.y-et.y,scaleX:1,scaleY:1},activatorEvent:U,active:q,activeNodeRect:we,containerNodeRect:Ce,draggingNodeRect:Re,over:ae.current.over,overlayNodeRect:ee.rect,scrollableAncestors:me,scrollableAncestorRects:Se,windowRect:Ke}),Ge=pe?zv(pe,P):null,Ye=Q3e(me),We=iH(Ye),nt=iH(Ye,[we]),_t=zv(ke,We),wt=Re?w3e(Re,ke):null,Ot=q&&wt?f({active:q,collisionRect:wt,droppableRects:V,droppableContainers:Q,pointerCoordinates:Ge}):null,Kt=Are(Ot,"id"),[At,On]=w.useState(null),An=ft?ke:zv(ke,nt),zt=x3e(An,(s=At?.rect)!=null?s:null,we),yn=w.useRef(null),ir=w.useCallback((mn,Ut)=>{let{sensor:Ee,options:Je}=Ut;if(z.current==null)return;const pt=A.get(z.current);if(!pt)return;const It=mn.nativeEvent,In=new Ee({active:z.current,activeNode:pt,event:It,options:Je,context:ae,onAbort($e){if(!A.get($e))return;const{onDragAbort:Lt}=Y.current,Hn={id:$e};Lt?.(Hn),S({type:"onDragAbort",event:Hn})},onPending($e,ht,Lt,Hn){if(!A.get($e))return;const{onDragPending:mr}=Y.current,or={id:$e,constraint:ht,initialCoordinates:Lt,offset:Hn};mr?.(or),S({type:"onDragPending",event:or})},onStart($e){const ht=z.current;if(ht==null)return;const Lt=A.get(ht);if(!Lt)return;const{onDragStart:Hn}=Y.current,gn={activatorEvent:It,active:{id:ht,data:Lt.data,rect:$}};mu.unstable_batchedUpdates(()=>{Hn?.(gn),C(Th.Initializing),b({type:Js.DragStart,initialCoordinates:$e,active:ht}),S({type:"onDragStart",event:gn}),X(yn.current),W(It)})},onMove($e){b({type:Js.DragMove,coordinates:$e})},onEnd:ce(Js.DragEnd),onCancel:ce(Js.DragCancel)});yn.current=In;function ce($e){return async function(){const{active:Lt,collisions:Hn,over:gn,scrollAdjustedTranslate:mr}=ae.current;let or=null;if(Lt&&mr){const{cancelDrop:Yr}=Y.current;or={activatorEvent:It,active:Lt,collisions:Hn,delta:mr,over:gn},$e===Js.DragEnd&&typeof Yr=="function"&&await Promise.resolve(Yr(or))&&($e=Js.DragCancel)}z.current=null,mu.unstable_batchedUpdates(()=>{b({type:$e}),C(Th.Uninitialized),On(null),X(null),W(null),yn.current=null;const Yr=$e===Js.DragEnd?"onDragEnd":"onDragCancel";if(or){const vi=Y.current[Yr];vi?.(or),S({type:Yr,event:or})}})}}},[A]),on=w.useCallback((mn,Ut)=>(Ee,Je)=>{const pt=Ee.nativeEvent,It=A.get(Je);if(z.current!==null||!It||pt.dndKit||pt.defaultPrevented)return;const In={active:It};mn(Ee,Ut.options,In)===!0&&(pt.dndKit={capturedBy:Ut.sensor},z.current=Je,ir(Ee,Ut))},[A,ir]),Pn=H3e(d,on);J3e(d),xd(()=>{we&&_===Th.Initializing&&C(Th.Initialized)},[we,_]),w.useEffect(()=>{const{onDragMove:mn}=Y.current,{active:Ut,activatorEvent:Ee,collisions:Je,over:pt}=ae.current;if(!Ut||!Ee)return;const It={active:Ut,activatorEvent:Ee,collisions:Je,delta:{x:_t.x,y:_t.y},over:pt};mu.unstable_batchedUpdates(()=>{mn?.(It),S({type:"onDragMove",event:It})})},[_t.x,_t.y]),w.useEffect(()=>{const{active:mn,activatorEvent:Ut,collisions:Ee,droppableContainers:Je,scrollAdjustedTranslate:pt}=ae.current;if(!mn||z.current==null||!Ut||!pt)return;const{onDragOver:It}=Y.current,In=Je.get(Kt),ce=In&&In.rect.current?{id:In.id,rect:In.rect.current,data:In.data,disabled:In.disabled}:null,$e={active:mn,activatorEvent:Ut,collisions:Ee,delta:{x:pt.x,y:pt.y},over:ce};mu.unstable_batchedUpdates(()=>{On(ce),It?.($e),S({type:"onDragOver",event:$e})})},[Kt]),xd(()=>{ae.current={activatorEvent:U,active:q,activeNode:fe,collisionRect:wt,collisions:Ot,droppableRects:V,draggableNodes:A,draggingNode:ne,draggingNodeRect:Re,droppableContainers:F,over:At,scrollableAncestors:me,scrollAdjustedTranslate:_t},$.current={initial:Re,translated:wt}},[q,fe,Ot,wt,A,ne,Re,V,F,At,me,_t]),B3e({...xe,delta:P,draggingRect:wt,pointerCoordinates:Ge,scrollableAncestors:me,scrollableAncestorRects:Se});const wn=w.useMemo(()=>({active:q,activeNode:fe,activeNodeRect:we,activatorEvent:U,collisions:Ot,containerNodeRect:Ce,dragOverlay:ee,draggableNodes:A,droppableContainers:F,droppableRects:V,over:At,measureDroppableContainers:J,scrollableAncestors:me,scrollableAncestorRects:Se,measuringConfiguration:I,measuringScheduled:re,windowRect:Ke}),[q,fe,we,U,Ot,Ce,ee,A,F,V,At,J,me,Se,I,re,Ke]),kr=w.useMemo(()=>({activatorEvent:U,activators:Pn,active:q,activeNodeRect:we,ariaDescribedById:{draggable:ie},dispatch:b,draggableNodes:A,over:At,measureDroppableContainers:J}),[U,Pn,q,we,b,ie,A,At,J]);return ye.createElement(Ere.Provider,{value:E},ye.createElement(g_.Provider,{value:kr},ye.createElement(qre.Provider,{value:wn},ye.createElement(Ure.Provider,{value:zt},u)),ye.createElement(c6e,{disabled:l?.restoreFocus===!1})),ye.createElement(p3e,{...l,hiddenTextDescribedById:ie}));function Tr(){const mn=G?.autoScrollEnabled===!1,Ut=typeof c=="object"?c.enabled===!1:c===!1,Ee=O&&!mn&&!Ut;return typeof c=="object"?{...c,enabled:Ee}:{enabled:Ee}}}),h6e=w.createContext(null),aH="button",p6e="Draggable";function Vre(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=W1(p6e),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=w.useContext(g_),{role:h=aH,roleDescription:y="draggable",tabIndex:v=0}=i??{},x=c?.id===e,b=w.useContext(x?Ure:h6e),[S,E]=zS(),[_,C]=zS(),O=Z3e(o,e),M=G0(n);xd(()=>(f.set(e,{id:e,key:s,node:S,activatorNode:_,data:M}),()=>{const P=f.get(e);P&&P.key===s&&f.delete(e)}),[f,e]);const A=w.useMemo(()=>({role:h,tabIndex:v,"aria-disabled":r,"aria-pressed":x&&h===aH?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,h,v,x,y,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:A,isDragging:x,listeners:r?void 0:O,node:S,over:m,setNodeRef:E,setActivatorNodeRef:C,transform:b}}function m6e(){return w.useContext(qre)}const g6e="Droppable",v6e={timeout:25};function Wre(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=W1(g6e),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=w.useContext(g_),d=w.useRef({disabled:n}),f=w.useRef(!1),m=w.useRef(null),h=w.useRef(null),{disabled:y,updateMeasurementsFor:v,timeout:x}={...v6e,...i},b=G0(v??r),S=w.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),h.current=null},x)},[x]),E=m_({callback:S,disabled:y||!o}),_=w.useCallback((A,P)=>{E&&(P&&(E.unobserve(P),f.current=!1),A&&E.observe(A))},[E]),[C,O]=zS(_),M=G0(e);return w.useEffect(()=>{!E||!C.current||(E.disconnect(),f.current=!1,E.observe(C.current))},[C,E]),w.useEffect(()=>(l({type:Js.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:m,data:M}}),()=>l({type:Js.UnregisterDroppable,key:s,id:r})),[r]),w.useEffect(()=>{n!==d.current.disabled&&(l({type:Js.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,l]),{active:o,rect:m,isOver:c?.id===r,node:C,over:c,setNodeRef:O}}function Kre(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function y6e(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function c2(t){return t!==null&&t>=0}function x6e(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function b6e(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Gre=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=Kre(e,r,n),o=e[i],l=s[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},u2={scaleX:1,scaleY:1},w6e=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...u2}:null}const c=N6e(s,i,n);return i>n&&i<=o?{x:0,y:-l.height-c,...u2}:i<n&&i>=o?{x:0,y:l.height+c,...u2}:{x:0,y:0,...u2}};function N6e(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Yre="Sortable",Xre=ye.createContext({activeIndex:-1,containerId:Yre,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Gre,disabled:{draggable:!1,droppable:!1}});function S6e(t){let{children:e,id:n,items:r,strategy:i=Gre,disabled:s=!1}=t;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=m6e(),f=W1(Yre,n),m=l.rect!==null,h=w.useMemo(()=>r.map(O=>typeof O=="object"&&"id"in O?O.id:O),[r]),y=o!=null,v=o?h.indexOf(o.id):-1,x=u?h.indexOf(u.id):-1,b=w.useRef(h),S=!x6e(h,b.current),E=x!==-1&&v===-1||S,_=b6e(s);xd(()=>{S&&y&&d(h)},[S,h,y,d]),w.useEffect(()=>{b.current=h},[h]);const C=w.useMemo(()=>({activeIndex:v,containerId:f,disabled:_,disableTransforms:E,items:h,overIndex:x,useDragOverlay:m,sortedRects:y6e(h,c),strategy:i}),[v,f,_.draggable,_.droppable,E,h,x,c,m,i]);return ye.createElement(Xre.Provider,{value:C},e)}const E6e=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Kre(n,r,i).indexOf(e)},j6e=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!r||l!==s&&i===o?!1:n?!0:o!==i&&e===c},_6e={duration:200,easing:"ease"},Qre="transform",C6e=X0.Transition.toString({property:Qre,duration:0,easing:"linear"}),A6e={roleDescription:"sortable"};function k6e(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=w.useState(null),l=w.useRef(n);return xd(()=>{if(!e&&n!==l.current&&r.current){const c=i.current;if(c){const u=px(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[e,n,r,i]),w.useEffect(()=>{s&&o(null)},[s]),s}function T6e(t){let{animateLayoutChanges:e=j6e,attributes:n,disabled:r,data:i,getNewIndex:s=E6e,id:o,strategy:l,resizeObserverConfig:c,transition:u=_6e}=t;const{items:d,containerId:f,activeIndex:m,disabled:h,disableTransforms:y,sortedRects:v,overIndex:x,useDragOverlay:b,strategy:S}=w.useContext(Xre),E=O6e(r,h),_=d.indexOf(o),C=w.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...i}),[f,i,_,d]),O=w.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:M,node:A,isOver:P,setNodeRef:F}=Wre({id:o,data:C,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...c}}),{active:R,activatorEvent:$,activeNodeRect:q,attributes:z,setNodeRef:G,listeners:X,isDragging:U,over:W,setActivatorNodeRef:Y,transform:ie}=Vre({id:o,data:C,attributes:{...A6e,...n},disabled:E.draggable}),Q=t3e(F,G),I=!!R,V=I&&!y&&c2(m)&&c2(x),J=!b&&U,re=J&&V?ie:null,pe=V?re??(l??S)({rects:v,activeNodeRect:q,activeIndex:m,overIndex:x,index:_}):null,xe=c2(m)&&c2(x)?s({id:o,items:d,activeIndex:m,overIndex:x}):_,de=R?.id,we=w.useRef({activeId:de,items:d,newIndex:xe,containerId:f}),Ce=d!==we.current.items,ae=e({active:R,containerId:f,isDragging:U,isSorting:I,id:o,index:_,items:d,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:u,wasDragging:we.current.activeId!=null}),Pe=k6e({disabled:!ae,index:_,node:A,rect:M});return w.useEffect(()=>{I&&we.current.newIndex!==xe&&(we.current.newIndex=xe),f!==we.current.containerId&&(we.current.containerId=f),d!==we.current.items&&(we.current.items=d)},[I,xe,f,d]),w.useEffect(()=>{if(de===we.current.activeId)return;if(de!=null&&we.current.activeId==null){we.current.activeId=de;return}const ne=setTimeout(()=>{we.current.activeId=de},50);return()=>clearTimeout(ne)},[de]),{active:R,activeIndex:m,attributes:z,data:C,rect:M,index:_,newIndex:xe,items:d,isOver:P,isSorting:I,isDragging:U,listeners:X,node:A,overIndex:x,over:W,setNodeRef:Q,setActivatorNodeRef:Y,setDroppableNodeRef:F,setDraggableNodeRef:G,transform:Pe??pe,transition:ee()};function ee(){if(Pe||Ce&&we.current.newIndex===_)return C6e;if(!(J&&!NL($)||!u)&&(I||ae))return X0.Transition.toString({...u,property:Qre})}}function O6e(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function VS(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const P6e=[xr.Down,xr.Right,xr.Up,xr.Left],M6e=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:l}}=e;if(P6e.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=i.get(f.id);if(m)switch(t.code){case xr.Down:r.top<m.top&&c.push(f);break;case xr.Up:r.top>m.top&&c.push(f);break;case xr.Left:r.left>m.left&&c.push(f);break;case xr.Right:r.left<m.left&&c.push(f);break}});const u=kre({collisionRect:r,droppableRects:i,droppableContainers:c});let d=Are(u,"id");if(d===o?.id&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(n.id),m=s.get(d),h=m?i.get(m.id):null,y=m?.node.current;if(y&&h&&f&&m){const x=p_(y).some((O,M)=>l[M]!==O),b=Jre(f,m),S=R6e(f,m),E=x||!b?{x:0,y:0}:{x:S?r.width-h.width:0,y:S?r.height-h.height:0},_={x:h.left,y:h.top};return E.x&&E.y?_:Y0(_,E)}}}};function Jre(t,e){return!VS(t)||!VS(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function R6e(t,e){return!VS(t)||!VS(e)||!Jre(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const oH={PENDIENTE:{label:"Pendiente",color:"bg-slate-100",icon:fo},EN_PROGRESO:{label:"En Progreso",color:"bg-blue-100",icon:nl},COMPLETADA:{label:"Completada",color:"bg-green-100",icon:Oo},CANCELADA:{label:"Cancelada",color:"bg-red-100",icon:fo}};function I6e({task:t,onTaskClick:e,users:n}){const{attributes:r,listeners:i,setNodeRef:s,transform:o,transition:l,isDragging:c}=T6e({id:t.id}),u={transform:X0.Transform.toString(o),transition:l,opacity:c?.5:1},d={BAJA:"text-slate-500",MEDIA:"text-amber-500",ALTA:"text-red-500"},f=n?.find(h=>h.id===t.asignadoA),m=t.fechaVencimiento&&new Date(t.fechaVencimiento)<new Date;return a.jsx("div",{ref:s,style:u,...r,...i,className:"mb-3 cursor-grab active:cursor-grabbing",children:a.jsx(Ue,{className:`border-l-4 hover:shadow-md transition-all ${c?"shadow-lg":""}`,style:{borderLeftColor:t.color||"#cbd5e1",backgroundColor:t.color?`${t.color}15`:void 0},onClick:()=>e?.(t),children:a.jsxs(He,{className:"p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h3",{className:"font-medium text-sm flex-1 break-words",children:t.titulo}),t.progreso!==void 0&&t.progreso>0&&a.jsxs(it,{variant:"outline",className:"text-xs flex-shrink-0",children:[t.progreso,"%"]})]}),t.descripcion&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:t.descripcion}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[a.jsx(it,{variant:"secondary",className:`text-xs ${d[t.prioridad]}`,children:t.prioridad}),m&&a.jsx(it,{variant:"destructive",className:"text-xs",children:"Vencida"})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[t.fechaVencimiento&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bN,{className:"w-3 h-3"}),a.jsx("span",{children:Ba(new Date(t.fechaVencimiento),"dd MMM",{locale:yc})})]}),f&&a.jsx("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:f.username[0]})]}),t.progreso!==void 0&&a.jsx("div",{className:"w-full bg-secondary h-1 rounded-full overflow-hidden",children:a.jsx("div",{className:"bg-primary h-full transition-all",style:{width:`${t.progreso}%`}})})]})})})}function D6e({onTaskClick:t,clients:e=[],users:n=[]}){const{toast:r}=Ir(),[i,s]=w.useState([]),{isLoading:o,data:l}=Wt({queryKey:["/api/tasks"]});w.useEffect(()=>{l&&s(l)},[l]);const c=Xt({mutationFn:async({taskId:m,estado:h})=>await tn("PATCH",`/api/tasks/${m}`,{estado:h}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/tasks"]})},onError:()=>{r({title:"Error al actualizar tarea",variant:"destructive"}),sn.invalidateQueries({queryKey:["/api/tasks"]})}}),u=jre(US(_L),US(EL,{coordinateGetter:M6e})),d=w.useMemo(()=>({PENDIENTE:i.filter(m=>m.estado==="PENDIENTE"),EN_PROGRESO:i.filter(m=>m.estado==="EN_PROGRESO"),COMPLETADA:i.filter(m=>m.estado==="COMPLETADA")}),[i]),f=m=>{const{active:h,over:y}=m;if(!y)return;const v=i.find(b=>b.id===h.id),x=y.id;!v||!Object.keys(oH).includes(x)||v.estado!==x&&(s(b=>b.map(S=>S.id===v.id?{...S,estado:x}:S)),c.mutate({taskId:v.id,estado:x}))};return o?a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(m=>a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-8 bg-secondary rounded-lg animate-pulse"}),[1,2,3].map(h=>a.jsx("div",{className:"h-24 bg-secondary rounded-lg animate-pulse"},h))]},m))}):a.jsx(Hre,{sensors:u,collisionDetection:g3e,onDragEnd:f,children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(oH).map(([m,h])=>{const y=d[m]||[],v=h.icon;return a.jsxs(Ue,{className:`${h.color} min-h-96`,children:[a.jsx(lt,{className:"pb-3",children:a.jsxs(ut,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(v,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:h.label})]}),a.jsx(it,{variant:"secondary",className:"text-xs",children:y.length})]})}),a.jsx(He,{children:a.jsx(S6e,{items:y.map(x=>x.id),strategy:w6e,children:a.jsx("div",{className:"space-y-2",children:y.length>0?y.map(x=>a.jsx(I6e,{task:x,onTaskClick:t,users:n},x.id)):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{className:"text-xs",children:"Sin tareas"})})})})})]},m)})})})}function L6e(){const{toast:t}=Ir(),{user:e}=dg(),[n,r]=w.useState("table"),[i,s]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""}),{data:m,isLoading:h}=Wt({queryKey:["/api/tasks"]}),{data:y}=Wt({queryKey:["/api/clients"]}),{data:v}=Wt({queryKey:["/api/users"]}),x=Xt({mutationFn:async A=>await tn("POST","/api/tasks",A),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/tasks"]}),t({title:"Tarea creada exitosamente"}),s(!1),E()}}),b=Xt({mutationFn:async({id:A,estado:P})=>await tn("PATCH",`/api/tasks/${A}`,{estado:P}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/tasks"]})}}),S=m?.filter(A=>A.visibilidad==="GENERAL"?!0:A.visibilidad==="PERSONAL"?e?.role==="ADMIN"||A.asignadoA===e?.id:!1)||[],E=()=>{f({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""})},_=A=>{A.preventDefault(),x.mutate(d)},C=A=>{l(A),u(!0)},O=A=>{const P={BAJA:"text-muted-foreground bg-muted",MEDIA:"text-chart-2 bg-chart-2/10",ALTA:"text-destructive bg-destructive/10"};return a.jsx(it,{variant:"outline",className:P[A],children:A})},M=A=>{const P={PENDIENTE:{color:"text-muted-foreground bg-muted",icon:nl},EN_PROGRESO:{color:"text-chart-2 bg-chart-2/10",icon:zy},COMPLETADA:{color:"text-chart-3 bg-chart-3/10",icon:Oo}},F=P[A]||P.PENDIENTE,R=F.icon;return a.jsxs(it,{variant:"outline",className:F.color,children:[a.jsx(R,{className:"h-3 w-3 mr-1"}),A.replace("_"," ")]})};return h?a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx(Kn,{className:"h-9 w-48"}),a.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((A,P)=>a.jsx(Kn,{className:"h-64"},P))})]}):a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Tareas"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de tareas generales y personales"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ul,{value:n,onValueChange:A=>r(A),children:a.jsxs(dl,{children:[a.jsxs(Ln,{value:"table","data-testid":"button-view-table",children:[a.jsx(Afe,{className:"h-4 w-4 mr-2"}),"Tabla"]}),a.jsxs(Ln,{value:"kanban","data-testid":"button-view-kanban",children:[a.jsx(Cfe,{className:"h-4 w-4 mr-2"}),"Tablero"]})]})}),a.jsxs(Lr,{open:i,onOpenChange:s,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{onClick:E,"data-testid":"button-add-task",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nueva Tarea"]})}),a.jsxs(Mr,{className:"max-w-2xl",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Nueva Tarea"}),a.jsx(Mi,{children:"Crea una nueva tarea general o personal"})]}),a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2 col-span-2",children:[a.jsx(_e,{htmlFor:"titulo",children:"Ttulo *"}),a.jsx(Fe,{id:"titulo",value:d.titulo,onChange:A=>f({...d,titulo:A.target.value}),required:!0,"data-testid":"input-titulo"})]}),a.jsxs("div",{className:"space-y-2 col-span-2",children:[a.jsx(_e,{htmlFor:"descripcion",children:"Descripcin"}),a.jsx(vd,{id:"descripcion",value:d.descripcion,onChange:A=>f({...d,descripcion:A.target.value}),"data-testid":"textarea-descripcion"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"cliente",children:"Cliente"}),a.jsxs(_n,{value:d.clienteId||"none",onValueChange:A=>f({...d,clienteId:A==="none"?"":A}),children:[a.jsx(Sn,{"data-testid":"select-cliente",children:a.jsx(Cn,{placeholder:"Sin cliente"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"none",children:"Sin cliente"}),y?.map(A=>a.jsx(Qe,{value:A.id,children:A.razonSocial},A.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"asignado",children:"Asignado a"}),a.jsxs(_n,{value:d.asignadoA||"none",onValueChange:A=>f({...d,asignadoA:A==="none"?"":A}),children:[a.jsx(Sn,{"data-testid":"select-asignado",children:a.jsx(Cn,{placeholder:"Sin asignar"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"none",children:"Sin asignar"}),v?.map(A=>a.jsx(Qe,{value:A.id,children:A.username},A.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"prioridad",children:"Prioridad"}),a.jsxs(_n,{value:d.prioridad,onValueChange:A=>f({...d,prioridad:A}),children:[a.jsx(Sn,{"data-testid":"select-prioridad",children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"BAJA",children:"Baja"}),a.jsx(Qe,{value:"MEDIA",children:"Media"}),a.jsx(Qe,{value:"ALTA",children:"Alta"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"visibilidad",children:"Visibilidad"}),a.jsxs(_n,{value:d.visibilidad,onValueChange:A=>f({...d,visibilidad:A}),children:[a.jsx(Sn,{"data-testid":"select-visibilidad",children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"GENERAL",children:"General"}),a.jsx(Qe,{value:"PERSONAL",children:"Personal"})]})]})]}),a.jsxs("div",{className:"space-y-2 col-span-2",children:[a.jsx(_e,{htmlFor:"fechaVencimiento",children:"Fecha de Vencimiento"}),a.jsx(Fe,{id:"fechaVencimiento",type:"date",value:d.fechaVencimiento,onChange:A=>f({...d,fechaVencimiento:A.target.value}),"data-testid":"input-fecha-vencimiento"})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{type:"button",variant:"outline",onClick:()=>{s(!1),E()},children:"Cancelar"}),a.jsx(ge,{type:"submit","data-testid":"button-submit-task",children:"Crear Tarea"})]})]})]})]})]})]}),n==="table"?a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{children:["Lista de Tareas (",S.length,")"]})}),a.jsx(He,{children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Ttulo"}),a.jsx(Et,{children:"Cliente"}),a.jsx(Et,{children:"Asignado"}),a.jsx(Et,{children:"Prioridad"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Vencimiento"}),a.jsx(Et,{className:"text-right",children:"Acciones"})]})}),a.jsx(co,{children:S.length===0?a.jsx(er,{children:a.jsx(yt,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay tareas registradas"})}):S.map(A=>a.jsxs(er,{"data-testid":`row-task-${A.id}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>C(A),children:[a.jsx(yt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[A.visibilidad==="PERSONAL"&&a.jsx(mI,{className:"h-3 w-3 text-muted-foreground"}),A.titulo]})}),a.jsx(yt,{children:A.client?.razonSocial||"-"}),a.jsx(yt,{children:A.assignedUser?.username||"-"}),a.jsx(yt,{children:O(A.prioridad)}),a.jsx(yt,{children:M(A.estado)}),a.jsx(yt,{children:A.fechaVencimiento?new Date(A.fechaVencimiento).toLocaleDateString():"-"}),a.jsx(yt,{className:"text-right",onClick:P=>P.stopPropagation(),children:a.jsxs(_n,{value:A.estado,onValueChange:P=>b.mutate({id:A.id,estado:P}),children:[a.jsx(Sn,{className:"w-[140px]","data-testid":`select-estado-${A.id}`,children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"PENDIENTE",children:"Pendiente"}),a.jsx(Qe,{value:"EN_PROGRESO",children:"En Progreso"}),a.jsx(Qe,{value:"COMPLETADA",children:"Completada"})]})]})})]},A.id))})]})})]}):a.jsx(D6e,{onTaskClick:C,clients:y,users:v}),a.jsx(e3e,{task:o,isOpen:c,onClose:()=>{u(!1),l(null)},clients:y,users:v})]})}function F6e(){Ir();const{user:t}=dg(),[,e]=ll(),[n,r]=w.useState(""),[i,s]=w.useState(null),{data:o,isLoading:l}=Wt({queryKey:["/api/manuals"]}),c=t?.permissions||[],u=Array.isArray(c)&&c.includes("manuals:create"),d=Array.isArray(c)&&c.includes("manuals:update"),f=u||d,m=o?.filter(h=>h.titulo.toLowerCase().includes(n.toLowerCase())||h.categoria?.toLowerCase().includes(n.toLowerCase()))||[];return l?a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx(Kn,{className:"h-9 w-48"}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((h,y)=>a.jsx(Kn,{className:"h-48"},y))})]}):a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Manuales"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Base de conocimientos y documentacin interna"})]}),f&&a.jsxs(ge,{onClick:()=>e("/manuales/nuevo"),"data-testid":"button-nuevo-manual",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nuevo Manual"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Buscar manuales...",value:n,onChange:h=>r(h.target.value),className:"pl-10","data-testid":"input-search-manuals"})]}),m.length===0?a.jsx(Ue,{children:a.jsxs(He,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(mi,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay manuales disponibles"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:f?"Comienza creando tu primer manual":"An no se han publicado manuales"})]})}):a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m.map(h=>a.jsxs(Ue,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/manuales/${h.id}`),"data-testid":`card-manual-${h.id}`,children:[a.jsxs(lt,{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(mi,{className:"h-8 w-8 text-primary"}),h.publicado?a.jsx(it,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):a.jsx(it,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),a.jsx(ut,{className:"mt-4",children:h.titulo}),a.jsx(vr,{children:h.categoria||"Sin categora"})]}),a.jsxs(He,{children:[h.etiquetas&&h.etiquetas.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:h.etiquetas.slice(0,3).map(y=>a.jsx(it,{variant:"secondary",className:"text-xs",children:y},y))}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsx("span",{children:new Date(h.fechaCreacion).toLocaleDateString()}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:y=>{y.stopPropagation(),e(`/manuales/${h.id}`)},"data-testid":`button-view-${h.id}`,children:a.jsx(op,{className:"h-4 w-4"})}),f&&a.jsxs(a.Fragment,{children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:y=>{y.stopPropagation(),e(`/manuales/${h.id}/editar`)},"data-testid":`button-edit-${h.id}`,children:a.jsx(Sc,{className:"h-4 w-4"})}),d&&a.jsx(ge,{variant:"ghost",size:"icon",onClick:async y=>{if(y.stopPropagation(),!!window.confirm(`Eliminar el manual "${h.titulo}"?`))try{s(h.id),await tn("DELETE",`/api/manuals/${encodeURIComponent(h.id)}`),sn.setQueryData(["/api/manuals"],x=>Array.isArray(x)?x.filter(b=>b.id!==h.id):x),await sn.invalidateQueries({queryKey:["/api/manuals"],exact:!0})}catch(x){sn.invalidateQueries({queryKey:["/api/manuals"],exact:!0});const b=x?.message||"No se pudo eliminar";alert(b)}finally{s(null)}},disabled:i===h.id,"data-testid":`button-delete-${h.id}`,title:"Eliminar",children:a.jsx(na,{className:"h-4 w-4"})})]})]})]})]})]},h.id))})]})}var YR=["Enter"," "],$6e=["ArrowDown","PageUp","Home"],Zre=["ArrowUp","PageDown","End"],B6e=[...$6e,...Zre],z6e={ltr:[...YR,"ArrowRight"],rtl:[...YR,"ArrowLeft"]},q6e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},K1="Menu",[J0,U6e,H6e]=y1(K1),[yg,eie]=Ea(K1,[H6e,xp,xj]),v_=xp(),tie=xj(),[V6e,xg]=yg(K1),[W6e,G1]=yg(K1),nie=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=v_(e),[c,u]=w.useState(null),d=w.useRef(!1),f=ps(s),m=Gy(i);return w.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(rj,{...l,children:a.jsx(V6e,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(W6e,{scope:e,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};nie.displayName=K1;var K6e="MenuAnchor",CL=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=v_(n);return a.jsx(E1,{...i,...r,ref:e})});CL.displayName=K6e;var AL="MenuPortal",[G6e,rie]=yg(AL,{forceMount:void 0}),iie=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=xg(AL,e);return a.jsx(G6e,{scope:e,forceMount:n,children:a.jsx(ja,{present:n||s.open,children:a.jsx($y,{asChild:!0,container:i,children:r})})})};iie.displayName=AL;var jc="MenuContent",[Y6e,kL]=yg(jc),sie=w.forwardRef((t,e)=>{const n=rie(jc,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=xg(jc,t.__scopeMenu),o=G1(jc,t.__scopeMenu);return a.jsx(J0.Provider,{scope:t.__scopeMenu,children:a.jsx(ja,{present:r||s.open,children:a.jsx(J0.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(X6e,{...i,ref:e}):a.jsx(Q6e,{...i,ref:e})})})})}),X6e=w.forwardRef((t,e)=>{const n=xg(jc,t.__scopeMenu),r=w.useRef(null),i=Mn(e,r);return w.useEffect(()=>{const s=r.current;if(s)return hj(s)},[]),a.jsx(TL,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Nt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Q6e=w.forwardRef((t,e)=>{const n=xg(jc,t.__scopeMenu);return a.jsx(TL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),J6e=ap("MenuContent.ScrollLock"),TL=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:y,...v}=t,x=xg(jc,n),b=G1(jc,n),S=v_(n),E=tie(n),_=U6e(n),[C,O]=w.useState(null),M=w.useRef(null),A=Mn(e,M,x.onContentChange),P=w.useRef(0),F=w.useRef(""),R=w.useRef(0),$=w.useRef(null),q=w.useRef("right"),z=w.useRef(0),G=y?_1:w.Fragment,X=y?{as:J6e,allowPinchZoom:!0}:void 0,U=Y=>{const ie=F.current+Y,Q=_().filter(pe=>!pe.disabled),I=document.activeElement,V=Q.find(pe=>pe.ref.current===I)?.textValue,J=Q.map(pe=>pe.textValue),re=uFe(J,ie,V),fe=Q.find(pe=>pe.textValue===re)?.ref.current;(function pe(xe){F.current=xe,window.clearTimeout(P.current),xe!==""&&(P.current=window.setTimeout(()=>pe(""),1e3))})(ie),fe&&setTimeout(()=>fe.focus())};w.useEffect(()=>()=>window.clearTimeout(P.current),[]),dj();const W=w.useCallback(Y=>q.current===$.current?.side&&fFe(Y,$.current?.area),[]);return a.jsx(Y6e,{scope:n,searchRef:F,onItemEnter:w.useCallback(Y=>{W(Y)&&Y.preventDefault()},[W]),onItemLeave:w.useCallback(Y=>{W(Y)||(M.current?.focus(),O(null))},[W]),onTriggerLeave:w.useCallback(Y=>{W(Y)&&Y.preventDefault()},[W]),pointerGraceTimerRef:R,onPointerGraceIntentChange:w.useCallback(Y=>{$.current=Y},[]),children:a.jsx(G,{...X,children:a.jsx(j1,{asChild:!0,trapped:i,onMountAutoFocus:Nt(s,Y=>{Y.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(og,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:a.jsx(hQ,{asChild:!0,...E,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:O,onEntryFocus:Nt(c,Y=>{b.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(ij,{role:"menu","aria-orientation":"vertical","data-state":wie(x.open),"data-radix-menu-content":"",dir:b.dir,...S,...v,ref:A,style:{outline:"none",...v.style},onKeyDown:Nt(v.onKeyDown,Y=>{const Q=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,I=Y.ctrlKey||Y.altKey||Y.metaKey,V=Y.key.length===1;Q&&(Y.key==="Tab"&&Y.preventDefault(),!I&&V&&U(Y.key));const J=M.current;if(Y.target!==J||!B6e.includes(Y.key))return;Y.preventDefault();const fe=_().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);Zre.includes(Y.key)&&fe.reverse(),lFe(fe)}),onBlur:Nt(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(P.current),F.current="")}),onPointerMove:Nt(t.onPointerMove,Z0(Y=>{const ie=Y.target,Q=z.current!==Y.clientX;if(Y.currentTarget.contains(ie)&&Q){const I=Y.clientX>z.current?"right":"left";q.current=I,z.current=Y.clientX}}))})})})})})})});sie.displayName=jc;var Z6e="MenuGroup",OL=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx($t.div,{role:"group",...r,ref:e})});OL.displayName=Z6e;var eFe="MenuLabel",aie=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx($t.div,{...r,ref:e})});aie.displayName=eFe;var WS="MenuItem",lH="menu.itemSelect",y_=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=w.useRef(null),o=G1(WS,t.__scopeMenu),l=kL(WS,t.__scopeMenu),c=Mn(e,s),u=w.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const m=new CustomEvent(lH,{bubbles:!0,cancelable:!0});f.addEventListener(lH,h=>r?.(h),{once:!0}),sI(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(oie,{...i,ref:c,disabled:n,onClick:Nt(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),u.current=!0},onPointerUp:Nt(t.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:Nt(t.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||YR.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});y_.displayName=WS;var oie=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=kL(WS,n),l=tie(n),c=w.useRef(null),u=Mn(e,c),[d,f]=w.useState(!1),[m,h]=w.useState("");return w.useEffect(()=>{const y=c.current;y&&h((y.textContent??"").trim())},[s.children]),a.jsx(J0.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:a.jsx(pQ,{asChild:!0,...l,focusable:!r,children:a.jsx($t.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Nt(t.onPointerMove,Z0(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Nt(t.onPointerLeave,Z0(y=>o.onItemLeave(y))),onFocus:Nt(t.onFocus,()=>f(!0)),onBlur:Nt(t.onBlur,()=>f(!1))})})})}),tFe="MenuCheckboxItem",lie=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return a.jsx(hie,{scope:t.__scopeMenu,checked:n,children:a.jsx(y_,{role:"menuitemcheckbox","aria-checked":KS(n)?"mixed":n,...i,ref:e,"data-state":ML(n),onSelect:Nt(i.onSelect,()=>r?.(KS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});lie.displayName=tFe;var cie="MenuRadioGroup",[nFe,rFe]=yg(cie,{value:void 0,onValueChange:()=>{}}),uie=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=ps(r);return a.jsx(nFe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:a.jsx(OL,{...i,ref:e})})});uie.displayName=cie;var die="MenuRadioItem",fie=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=rFe(die,t.__scopeMenu),s=n===i.value;return a.jsx(hie,{scope:t.__scopeMenu,checked:s,children:a.jsx(y_,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":ML(s),onSelect:Nt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});fie.displayName=die;var PL="MenuItemIndicator",[hie,iFe]=yg(PL,{checked:!1}),pie=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=iFe(PL,n);return a.jsx(ja,{present:r||KS(s.checked)||s.checked===!0,children:a.jsx($t.span,{...i,ref:e,"data-state":ML(s.checked)})})});pie.displayName=PL;var sFe="MenuSeparator",mie=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx($t.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});mie.displayName=sFe;var aFe="MenuArrow",gie=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=v_(n);return a.jsx(sj,{...i,...r,ref:e})});gie.displayName=aFe;var oFe="MenuSub",[yJe,vie]=yg(oFe),bb="MenuSubTrigger",yie=w.forwardRef((t,e)=>{const n=xg(bb,t.__scopeMenu),r=G1(bb,t.__scopeMenu),i=vie(bb,t.__scopeMenu),s=kL(bb,t.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(CL,{asChild:!0,...u,children:a.jsx(oie,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":wie(n.open),...t,ref:Cf(e,i.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Nt(t.onPointerMove,Z0(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Nt(t.onPointerLeave,Z0(f=>{d();const m=n.content?.getBoundingClientRect();if(m){const h=n.content?.dataset.side,y=h==="right",v=y?-5:5,x=m[y?"left":"right"],b=m[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:h}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Nt(t.onKeyDown,f=>{const m=s.searchRef.current!=="";t.disabled||m&&f.key===" "||z6e[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});yie.displayName=bb;var xie="MenuSubContent",bie=w.forwardRef((t,e)=>{const n=rie(jc,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=xg(jc,t.__scopeMenu),o=G1(jc,t.__scopeMenu),l=vie(xie,t.__scopeMenu),c=w.useRef(null),u=Mn(e,c);return a.jsx(J0.Provider,{scope:t.__scopeMenu,children:a.jsx(ja,{present:r||s.open,children:a.jsx(J0.Slot,{scope:t.__scopeMenu,children:a.jsx(TL,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Nt(t.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Nt(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Nt(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),m=q6e[o.dir].includes(d.key);f&&m&&(s.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});bie.displayName=xie;function wie(t){return t?"open":"closed"}function KS(t){return t==="indeterminate"}function ML(t){return KS(t)?"indeterminate":t?"checked":"unchecked"}function lFe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function cFe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function uFe(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=cFe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function dFe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function fFe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return dFe(n,e)}function Z0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var hFe=nie,pFe=CL,mFe=iie,gFe=sie,vFe=OL,yFe=aie,xFe=y_,bFe=lie,wFe=uie,NFe=fie,SFe=pie,EFe=mie,jFe=gie,_Fe=yie,CFe=bie,x_="DropdownMenu",[AFe]=Ea(x_,[eie]),Io=eie(),[kFe,Nie]=AFe(x_),Sie=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=Io(e),u=w.useRef(null),[d,f]=Ac({prop:i,defaultProp:s??!1,onChange:o,caller:x_});return a.jsx(kFe,{scope:e,triggerId:wa(),triggerRef:u,contentId:wa(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(hFe,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Sie.displayName=x_;var Eie="DropdownMenuTrigger",jie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Nie(Eie,n),o=Io(n);return a.jsx(pFe,{asChild:!0,...o,children:a.jsx($t.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Cf(e,s.triggerRef),onPointerDown:Nt(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Nt(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jie.displayName=Eie;var TFe="DropdownMenuPortal",_ie=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Io(e);return a.jsx(mFe,{...r,...n})};_ie.displayName=TFe;var Cie="DropdownMenuContent",Aie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Nie(Cie,n),s=Io(n),o=w.useRef(!1);return a.jsx(gFe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Nt(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Nt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Aie.displayName=Cie;var OFe="DropdownMenuGroup",PFe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(vFe,{...i,...r,ref:e})});PFe.displayName=OFe;var MFe="DropdownMenuLabel",kie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(yFe,{...i,...r,ref:e})});kie.displayName=MFe;var RFe="DropdownMenuItem",Tie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(xFe,{...i,...r,ref:e})});Tie.displayName=RFe;var IFe="DropdownMenuCheckboxItem",Oie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(bFe,{...i,...r,ref:e})});Oie.displayName=IFe;var DFe="DropdownMenuRadioGroup",LFe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(wFe,{...i,...r,ref:e})});LFe.displayName=DFe;var FFe="DropdownMenuRadioItem",Pie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(NFe,{...i,...r,ref:e})});Pie.displayName=FFe;var $Fe="DropdownMenuItemIndicator",Mie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(SFe,{...i,...r,ref:e})});Mie.displayName=$Fe;var BFe="DropdownMenuSeparator",Rie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(EFe,{...i,...r,ref:e})});Rie.displayName=BFe;var zFe="DropdownMenuArrow",qFe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(jFe,{...i,...r,ref:e})});qFe.displayName=zFe;var UFe="DropdownMenuSubTrigger",Iie=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(_Fe,{...i,...r,ref:e})});Iie.displayName=UFe;var HFe="DropdownMenuSubContent",Die=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Io(n);return a.jsx(CFe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Die.displayName=HFe;var VFe=Sie,WFe=jie,KFe=_ie,Lie=Aie,Fie=kie,$ie=Tie,Bie=Oie,zie=Pie,qie=Mie,Uie=Rie,Hie=Iie,Vie=Die;const GS=VFe,YS=WFe,GFe=w.forwardRef(({className:t,inset:e,children:n,...r},i)=>a.jsxs(Hie,{ref:i,className:gt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,a.jsx(RG,{className:"ml-auto"})]}));GFe.displayName=Hie.displayName;const YFe=w.forwardRef(({className:t,...e},n)=>a.jsx(Vie,{ref:n,className:gt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));YFe.displayName=Vie.displayName;const e1=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(KFe,{children:a.jsx(Lie,{ref:r,sideOffset:e,className:gt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));e1.displayName=Lie.displayName;const xa=w.forwardRef(({className:t,inset:e,...n},r)=>a.jsx($ie,{ref:r,className:gt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));xa.displayName=$ie.displayName;const XFe=w.forwardRef(({className:t,children:e,checked:n,...r},i)=>a.jsxs(Bie,{ref:i,className:gt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(qie,{children:a.jsx(cI,{className:"h-4 w-4"})})}),e]}));XFe.displayName=Bie.displayName;const QFe=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(zie,{ref:r,className:gt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(qie,{children:a.jsx(wfe,{className:"h-2 w-2 fill-current"})})}),e]}));QFe.displayName=zie.displayName;const JFe=w.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(Fie,{ref:r,className:gt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));JFe.displayName=Fie.displayName;const t1=w.forwardRef(({className:t,...e},n)=>a.jsx(Uie,{ref:n,className:gt("-mx-1 my-1 h-px bg-muted",t),...e}));t1.displayName=Uie.displayName;function ZFe({open:t,filingData:e,onConfirm:n,onCancel:r}){const{toast:i}=Ir(),[s,o]=w.useState(new Date().toISOString().split("T")[0]),[l,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState({}),h=S=>{const E=Array.from(S.target.files||[]);if(E.filter(O=>O.type!=="application/pdf").length>0){i({title:"Archivos invlidos",description:"Solo se permiten archivos PDF",variant:"destructive"});return}if(E.filter(O=>O.size>10*1024*1024).length>0){i({title:"Archivos muy grandes",description:"El tamao mximo por archivo es 10MB",variant:"destructive"});return}c(O=>[...O,...E]),m(O=>({...O,files:void 0}))},y=S=>{c(E=>E.filter((_,C)=>C!==S))},v=()=>{const S={};if(!s)S.date="La fecha de presentacin es obligatoria";else{const E=new Date(s),_=new Date;_.setHours(23,59,59,999),E>_&&(S.date="La fecha de presentacin no puede ser futura")}return m(S),Object.keys(S).length===0},x=async()=>{if(v()){d(!0);try{await n(s,l),o(new Date().toISOString().split("T")[0]),c([]),m({})}catch(S){i({title:"Error al presentar",description:S?.message||"No se pudo completar la presentacin",variant:"destructive"})}finally{d(!1)}}},b=()=>{o(new Date().toISOString().split("T")[0]),c([]),m({}),r()};return e?a.jsx(Lr,{open:t,onOpenChange:S=>!S&&!u&&b(),children:a.jsxs(Mr,{className:"max-w-2xl",onInteractOutside:S=>S.preventDefault(),children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Marcar como Presentado"}),a.jsx(Mi,{children:"Complete la informacin de presentacin del modelo fiscal. Todos los campos son obligatorios."})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),a.jsx("p",{className:"font-medium",children:e.clientName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Modelo:"}),a.jsx("p",{className:"font-medium",children:e.taxModelCode})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Periodo:"}),a.jsx("p",{className:"font-medium",children:e.periodLabel})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Ao:"}),a.jsx("p",{className:"font-medium",children:e.year})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"presented-date",className:"text-sm font-medium",children:"Fecha de presentacin *"}),a.jsx(Fe,{id:"presented-date",type:"date",value:s,onChange:S=>{o(S.target.value),m(E=>({...E,date:void 0}))},max:new Date().toISOString().split("T")[0],className:f.date?"border-destructive":""}),f.date&&a.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[a.jsx(fo,{className:"h-3 w-3"}),f.date]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Documentos de presentacin (opcional)"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Adjunte los justificantes de presentacin si ya los tiene disponibles (solo archivos PDF, mximo 10MB cada uno). Podr aadirlos ms tarde si an no los tiene."}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("input",{type:"file",id:"file-upload",accept:".pdf,application/pdf",multiple:!0,onChange:h,className:"hidden"}),a.jsxs(ge,{type:"button",variant:"outline",onClick:()=>document.getElementById("file-upload")?.click(),className:"w-full",disabled:u,children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),"Seleccionar archivos PDF"]})]}),l.length>0&&a.jsx("div",{className:"space-y-2",children:l.map((S,E)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx(mi,{className:"h-4 w-4 text-red-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:S.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(S.size/1024).toFixed(1)," KB"]})]})]}),a.jsx(ge,{type:"button",variant:"ghost",size:"icon",onClick:()=>y(E),disabled:u,className:"h-8 w-8 flex-shrink-0",children:a.jsx(kc,{className:"h-4 w-4"})})]},E))}),l.length===0&&a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(fo,{className:"h-3 w-3"}),"Sin documentos adjuntos. Podr aadirlos ms tarde desde la tarjeta."]})]})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:b,disabled:u,children:"Cancelar"}),a.jsx(ge,{onClick:x,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx(Yv,{className:"mr-2 h-4 w-4 animate-spin"}),"Procesando..."]}):l.length===0?"Presentar sin documentos":`Presentar con ${l.length} documento(s)`})]})]})}):null}function e8e({open:t,filingData:e,onClose:n}){const{toast:r}=Ir(),[i,s]=w.useState([]),[o,l]=w.useState([]),[c,u]=w.useState(!1);w.useEffect(()=>{t&&e&&d()},[t,e]);const d=async()=>{if(e){u(!0);try{const E=await fetch(`/api/documents?clientId=${e.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(E.ok){const C=(await E.json()).filter(O=>{try{return JSON.parse(O.description||"{}").filingId===e.id}catch{return!1}});s(C.map(O=>({id:O.id,name:O.name,fileName:O.file_name||"documento.pdf",fileSize:O.file_size||0,createdAt:O.created_at})))}if(e.notes)try{const _=JSON.parse(e.notes);_.history&&Array.isArray(_.history)&&l(_.history)}catch{l([])}}catch{r({title:"Error",description:"No se pudieron cargar los detalles",variant:"destructive"})}finally{u(!1)}}},f=async(E,_)=>{try{const C=await fetch(`/api/documents/${E}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!C.ok)throw new Error("Error al descargar");const O=await C.blob(),M=window.URL.createObjectURL(O),A=document.createElement("a");A.href=M,A.download=_,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(M),document.body.removeChild(A),r({title:"Descarga iniciada",description:`Descargando ${_}`})}catch{r({title:"Error",description:"No se pudo descargar el documento",variant:"destructive"})}},m=async()=>{for(const E of i)await f(E.id,E.fileName),await new Promise(_=>setTimeout(_,500))},h=async E=>{if(confirm("Ests seguro de que quieres eliminar este documento?"))try{if(!(await fetch(`/api/documents/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"})).ok)throw new Error("Error al eliminar");r({title:"Documento eliminado",description:"El documento ha sido eliminado correctamente"}),await d()}catch{r({title:"Error",description:"No se pudo eliminar el documento",variant:"destructive"})}},y=async()=>{const E=document.createElement("input");E.type="file",E.multiple=!0,E.accept=".pdf,.jpg,.jpeg,.png,.doc,.docx",E.onchange=async _=>{const C=Array.from(_.target.files||[]);if(C.length!==0){u(!0);try{const O={filingId:e.id,clientId:e.clientId,taxModelCode:e.taxModelCode,periodLabel:e.periodLabel||"",year:new Date().getFullYear(),filingStatus:e.status,linkedAt:new Date().toISOString()};for(const M of C){const A=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({name:M.name,file_name:M.name,type:"tax_filing_document",description:JSON.stringify(O),clientId:e.clientId,category:"TAX_FILING"})});if(!A.ok)throw new Error(`Error al crear documento: ${M.name}`);const P=await A.json(),F=new FormData;if(F.append("file",M),!(await fetch(`/api/documents/${P.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:F})).ok)throw new Error(`Error al subir archivo: ${M.name}`)}r({title:"Documentos subidos",description:`${C.length} documento(s) subido(s) correctamente`}),await d()}catch(O){r({title:"Error",description:O.message||"No se pudieron subir los documentos",variant:"destructive"})}finally{u(!1)}}},E.click()},v=E=>({NOT_STARTED:"PENDIENTE",IN_PROGRESS:"CALCULADO",PRESENTED:"PRESENTADO"})[E]||E,x=E=>{const _={NOT_STARTED:"bg-red-100 text-red-700",IN_PROGRESS:"bg-amber-100 text-amber-700",PRESENTED:"bg-green-100 text-green-700"};return a.jsx(it,{className:_[E]||"bg-gray-100 text-gray-700",children:v(E)})},b=E=>new Date(E).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),S=E=>E<1024?`${E} B`:E<1024*1024?`${(E/1024).toFixed(1)} KB`:`${(E/(1024*1024)).toFixed(1)} MB`;return e?a.jsx(Lr,{open:t,onOpenChange:n,children:a.jsxs(Mr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[a.jsx(Fr,{children:a.jsx($r,{children:"Detalles de Presentacin Fiscal"})}),c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Yv,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs(Ul,{defaultValue:"info",className:"space-y-4",children:[a.jsxs(dl,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ln,{value:"info",children:[a.jsx(NN,{className:"h-4 w-4 mr-2"}),"Informacin"]}),a.jsxs(Ln,{value:"documents",children:[a.jsx(mi,{className:"h-4 w-4 mr-2"}),"Documentos (",i.length,")"]}),a.jsxs(Ln,{value:"history",children:[a.jsx(Fm,{className:"h-4 w-4 mr-2"}),"Historial"]})]}),a.jsxs(rr,{value:"info",className:"space-y-4",children:[a.jsx("div",{className:"rounded-lg border p-4 space-y-3",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),a.jsx("p",{className:"font-medium",children:e.clientName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Modelo"}),a.jsx("p",{className:"font-medium",children:e.taxModelCode})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Periodo"}),a.jsx("p",{className:"font-medium",children:e.periodLabel})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ao"}),a.jsx("p",{className:"font-medium",children:e.year})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Estado actual"}),a.jsx("div",{className:"mt-1",children:x(e.status)})]}),e.presentedAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha de presentacin"}),a.jsx("p",{className:"font-medium",children:new Date(e.presentedAt).toLocaleDateString("es-ES")})]})]})}),a.jsxs("div",{className:"rounded-lg border p-4",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Resumen"}),a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("p",{children:[" ",i.length," documento(s) adjunto(s)"]}),a.jsxs("p",{children:[" ",o.length," cambio(s) de estado registrado(s)"]}),e.presentedAt&&a.jsxs("p",{children:[" Presentado hace ",Math.floor((Date.now()-new Date(e.presentedAt).getTime())/(1e3*60*60*24))," da(s)"]})]})]})]}),a.jsxs(rr,{value:"documents",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(ge,{variant:"default",size:"sm",onClick:y,disabled:c,children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),"Subir documentos"]}),i.length>0&&a.jsxs(ge,{variant:"outline",size:"sm",onClick:m,children:[a.jsx(ia,{className:"h-4 w-4 mr-2"}),"Descargar todos"]})]}),i.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(mi,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay documentos adjuntos"})]}):a.jsx("div",{className:"space-y-2",children:i.map(E=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx(mi,{className:"h-10 w-10 text-red-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:E.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.fileName,"  ",S(E.fileSize)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Subido el ",b(E.createdAt)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>f(E.id,E.fileName),title:"Descargar documento",children:a.jsx(ia,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>h(E.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",title:"Eliminar documento",children:a.jsx(na,{className:"h-4 w-4"})})]})]},E.id))})]}),a.jsx(rr,{value:"history",className:"space-y-4",children:o.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Fm,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No hay historial de cambios disponible"})]}):a.jsx("div",{className:"space-y-3",children:o.map((E,_)=>a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border bg-card",children:[a.jsx("div",{className:"mt-1",children:x(E.status)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Cambio a ",v(E.status)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:b(E.timestamp)}),E.userName&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["por ",E.userName]})]})]},_))})})]})]})}):null}function b_(){const[t,e]=ll(),n=t?.startsWith("/impuestos/calendario")?"calendar":t?.startsWith("/impuestos/modelos")?"models":t?.startsWith("/impuestos/reportes")?"reports":"control",r=i=>{if(i==="control")return e("/impuestos/control");if(i==="calendar")return e("/impuestos/calendario");if(i==="models")return e("/impuestos/modelos");if(i==="reports")return e("/impuestos/reportes")};return a.jsx(Ul,{value:n,onValueChange:r,className:"space-y-6",children:a.jsxs(dl,{className:"h-auto grid grid-cols-2 md:grid-cols-4 gap-1 p-1",children:[a.jsxs(Ln,{value:"control",children:[a.jsx(Ofe,{className:"h-4 w-4 mr-2"}),"Control de impuestos"]}),a.jsxs(Ln,{value:"calendar",children:[a.jsx(bN,{className:"h-4 w-4 mr-2"}),"Calendario fiscal"]}),a.jsxs(Ln,{value:"models",children:[a.jsx(LG,{className:"h-4 w-4 mr-2"}),"Modelos"]}),a.jsxs(Ln,{value:"reports",children:[a.jsx(vfe,{className:"h-4 w-4 mr-2"}),"Reportes"]})]})})}async function w_(){const t=localStorage.getItem("token"),e=await fetch("/api/tax-models",{method:"GET",headers:{Authorization:`Bearer ${t}`},credentials:"include"});if(!e.ok){const n=await e.json().catch(()=>({error:"Error al obtener modelos"}));throw new Error(n.error||"No se pudieron obtener los modelos")}return e.json()}async function t8e(t){const e=localStorage.getItem("token"),n=await fetch("/api/tax-models",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({error:"Error al crear modelo"}));throw new Error(r.error||"No se pudo crear el modelo")}return n.json()}async function n8e(t,e){const n=localStorage.getItem("token"),r=await fetch(`/api/tax-models/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const i=await r.json().catch(()=>({error:"Error al actualizar modelo"}));throw new Error(i.error||"No se pudo actualizar el modelo")}return r.json()}async function r8e(t){const e=localStorage.getItem("token"),n=await fetch(`/api/tax-models/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(!n.ok){const r=await n.json().catch(()=>({error:"Error al eliminar modelo"}));throw new Error(r.error||"No se pudo eliminar el modelo")}}const i8e=[{value:"ALL",label:"Todas"},{value:"MONTHLY",label:"Mensual"},{value:"QUARTERLY",label:"Trimestral"},{value:"ANNUAL",label:"Anual"},{value:"SPECIAL",label:"Especial 202"}];function s8e(){const{toast:t}=Ir(),[e,n]=w.useState(new Date().getFullYear()),[r,i]=w.useState("all"),[s,o]=w.useState("all"),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,m]=w.useState(""),[h,y]=w.useState(""),[v,x]=w.useState("ALL"),[b,S]=w.useState(!1),[E,_]=w.useState(null),[C,O]=w.useState(null),M=jre(US(Fre,{activationConstraint:{distance:6}}),US($re,{activationConstraint:{delay:120,tolerance:8}}));w.useEffect(()=>(window.openFilingDetails=ie=>{O({id:ie.id,clientId:ie.clientId,clientName:ie.clientName,taxModelCode:ie.taxModelCode,periodLabel:ie.periodLabel||"",year:e,status:ie.status,presentedAt:void 0,notes:void 0})},window.replaceFilingDocuments=ie=>{_({filingId:ie.id,clientId:ie.clientId,clientName:ie.clientName,taxModelCode:ie.taxModelCode,periodId:ie.periodId,periodLabel:ie.periodLabel||"",year:e,previousStatus:ie.status})},()=>{delete window.openFilingDetails,delete window.replaceFilingDocuments}),[e]);const A=Wt({queryKey:["/api/clients"],staleTime:6e4}),P=Wt({queryKey:["/api/tax/filings",e,r,s,u,f,h,l,b],queryFn:async()=>{const ie=new URLSearchParams;ie.set("year",String(e)),r&&r!=="all"&&ie.set("clientId",r),s!=="all"&&ie.set("status",s),u&&u!=="ALL"&&ie.set("model",u),f&&ie.set("gestorId",f),h&&ie.set("periodId",h),l&&ie.set("q",l.trim()),b&&ie.set("includeClosedPeriods","true");const Q=`/api/tax/filings${ie.toString()?`?${ie.toString()}`:""}`,I=await fetch(Q,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!I.ok)throw new Error("No se pudieron cargar los datos");return I.json()},staleTime:3e4,refetchOnWindowFocus:!1,retry:1}),F=Wt({queryKey:["/api/tax/periods",e],queryFn:async()=>{const ie=await fetch(`/api/tax/periods?year=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!ie.ok)throw new Error("No se pudieron cargar periodos");return ie.json()},staleTime:6e4});w.useEffect(()=>{if(!h)return;(F.data??[]).some(I=>I.id===h&&(v==="ALL"||I.kind===v))||y("")},[v,h,F.data]);const R=Xt({mutationFn:async({id:ie,status:Q,presentedAt:I})=>tn("PATCH",`/api/tax/filings/${ie}`,{status:Q,presentedAt:I??null}),onError:ie=>{t({title:"Error",description:ie?.message??"No se pudo actualizar el estado",variant:"destructive"}),P.refetch()},onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1})}}),$=P.data??[],q=ie=>{const Q=(ie||"").toUpperCase();return Q==="PRESENTADO"?"PRESENTADO":Q==="CALCULADO"||Q==="IN_PROGRESS"||Q==="COMPLETADO"||Q==="COMPLETED"?"CALCULADO":"PENDIENTE"},{data:z=[]}=Wt({queryKey:["/api/tax-models"],queryFn:w_}),G=w.useMemo(()=>{const ie=z.map(V=>({code:V.code,name:V.name})),Q=Object.entries(c_).map(([V,J])=>({code:V,name:J.name})),I=new Map;return Q.forEach(V=>I.set(V.code,V)),ie.forEach(V=>I.set(V.code,V)),Array.from(I.values()).sort((V,J)=>V.code.localeCompare(J.code))},[z]),X=w.useMemo(()=>{const ie={PENDIENTE:[],CALCULADO:[],PRESENTADO:[]};return $.forEach(Q=>{const I=String(Q.periodKind??"").toUpperCase();if(v!=="ALL"&&I!==v)return;const V=q(Q.status);if(s==="all"||V===s){const J=V in ie?V:"PENDIENTE";ie[J].push({...Q,status:J})}}),ie},[$,s,v]),U=ie=>{const Q=String(ie.active.id),I=ie.over?.id;if(!I)return;const V=$.find(J=>J.id===Q);if(!(!V||V.status===I)){if(I==="PRESENTADO"){_({filingId:V.id,clientId:V.clientId,clientName:V.clientName,taxModelCode:V.taxModelCode,periodId:V.periodId,periodLabel:V.periodLabel||"",year:e,previousStatus:V.status});return}if(sn.setQueriesData({queryKey:["/api/tax/filings"],exact:!1},J=>Array.isArray(J)?J.map(re=>re.id===V.id?{...re,status:I}:re):J),V.status==="PRESENTADO"){window.prompt("Motivo del cambio de estado (salir de Presentado)"),R.mutate({id:V.id,status:I,presentedAt:null});return}R.mutate({id:V.id,status:I})}},W=async(ie,Q)=>{if(!E)return;const I=E.previousStatus==="PRESENTADO";try{if(I){const fe=await fetch(`/api/documents?clientId=${E.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(fe.ok){const xe=(await fe.json()).filter(de=>{try{return JSON.parse(de.description||"{}").filingId===E.filingId}catch{return!1}});for(const de of xe)await fetch(`/api/documents/${de.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({status:"archived"})})}}const V=[];for(const fe of Q){const pe={filingId:E.filingId,clientId:E.clientId,taxModelCode:E.taxModelCode,periodId:E.periodId,periodLabel:E.periodLabel,year:E.year,filingStatus:"PRESENTED",linkedAt:new Date().toISOString()},xe=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({type:"tax_filing_document",name:`${E.taxModelCode} - ${E.periodLabel} - ${fe.name}`,description:JSON.stringify(pe),clientId:E.clientId})});if(!xe.ok)throw new Error("Error al crear documento");const de=await xe.json();V.push(de.id);const we=new FormData;if(we.append("file",fe),!(await fetch(`/api/documents/${de.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:we})).ok)throw new Error("Error al subir archivo")}const re={history:[{status:"PRESENTED",timestamp:new Date().toISOString()}],documentIds:V};await tn("PATCH",`/api/tax/filings/${E.filingId}`,{status:"PRESENTED",presentedAt:ie,notes:JSON.stringify(re)}),sn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1}),t({title:I?"Documentos reemplazados":"Presentacin registrada",description:I?`Documentos del modelo ${E.taxModelCode} reemplazados correctamente (${Q.length} nuevo(s))`:`Modelo ${E.taxModelCode} marcado como presentado con ${Q.length} documento(s)`}),_(null)}catch(V){throw t({title:"Error",description:V?.message||"No se pudo completar la presentacin",variant:"destructive"}),V}},Y=()=>{_(null)};return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),a.jsx(b_,{}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Impuestos 360"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tablero de presentaciones fiscales"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(Fe,{placeholder:"Buscar cliente, NIF o modelo...",value:l,onChange:ie=>c(ie.target.value),className:"w-64"}),a.jsx(ge,{variant:"ghost",onClick:()=>c(""),children:"Limpiar"}),a.jsx(Fe,{type:"number",value:e,onChange:ie=>n(Number(ie.target.value)),className:"w-24"}),a.jsxs(_n,{value:v,onValueChange:ie=>x(ie),children:[a.jsx(Sn,{className:"w-40",children:a.jsx(Cn,{placeholder:"Periodicidad"})}),a.jsx(En,{children:i8e.map(ie=>a.jsx(Qe,{value:ie.value,children:ie.label},ie.value))})]}),a.jsxs(_n,{value:h,onValueChange:y,children:[a.jsx(Sn,{className:"w-64",children:a.jsx(Cn,{placeholder:"Periodo"})}),a.jsx(En,{children:(F.data??[]).filter(ie=>v==="ALL"?!0:ie.kind===v).map(ie=>a.jsxs(Qe,{value:ie.id,children:[ie.label," / ",ie.year]},ie.id))})]}),a.jsxs(_n,{value:s,onValueChange:ie=>o(ie),children:[a.jsx(Sn,{className:"w-40",children:a.jsx(Cn,{placeholder:"Estado"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todos"}),a.jsx(Qe,{value:"PENDIENTE",children:"Pendiente"}),a.jsx(Qe,{value:"CALCULADO",children:"Calculado"}),a.jsx(Qe,{value:"PRESENTADO",children:"Presentado"})]})]}),a.jsxs(_n,{value:r,onValueChange:i,children:[a.jsx(Sn,{className:"w-64",children:a.jsx(Cn,{placeholder:"Cliente"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todos"}),(A.data??[]).map(ie=>a.jsx(Qe,{value:ie.id,children:ie.razonSocial},ie.id))]})]}),a.jsxs(_n,{value:u||"ALL",onValueChange:ie=>d(ie),children:[a.jsx(Sn,{className:"w-56",children:a.jsx(Cn,{placeholder:"Modelo"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"ALL",children:"Todos"}),G.map(ie=>a.jsxs(Qe,{value:ie.code,children:[ie.code,"  ",ie.name]},ie.code))]})]}),a.jsx(Fe,{placeholder:"Gestor (ID)",value:f,onChange:ie=>m(ie.target.value),className:"w-40"}),a.jsx(ge,{variant:"outline",onClick:async()=>{if((F.data??[]).length===0&&window.confirm("No hay periodos para este ao. Crear ao fiscal ahora?")){const I=await fetch("/api/tax/periods/create-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:e})});if(I.ok)await F.refetch(),t({title:"Ao fiscal creado",description:`Se han creado periodos base para ${e}`});else{try{const V=await I.json();t({title:"Error",description:V?.error||"No se pudo crear el ao fiscal",variant:"destructive"})}catch{t({title:"Error",description:"No se pudo crear el ao fiscal",variant:"destructive"})}return}}const ie=await fetch("/api/tax/filings/ensure-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:e})});if(ie.ok){try{const Q=await ie.json();t({title:"Tarjetas generadas",description:`Ao ${e}`})}catch{}P.refetch()}else try{const Q=await ie.json();t({title:"Error",description:Q?.error||"No se pudieron generar las tarjetas",variant:"destructive"})}catch{t({title:"Error",description:"No se pudieron generar las tarjetas",variant:"destructive"})}},children:"Generar tarjetas"}),a.jsxs("div",{className:"flex items-center gap-2 border-l pl-2",children:[a.jsx("input",{type:"checkbox",id:"includeClosedPeriods",checked:b,onChange:ie=>S(ie.target.checked),className:"h-4 w-4 rounded border-gray-300"}),a.jsx("label",{htmlFor:"includeClosedPeriods",className:"text-sm font-medium cursor-pointer",children:"Incluir periodos cerrados"})]})]})]}),P.isLoading?a.jsxs("div",{className:"space-y-4",children:[a.jsx(Kn,{className:"h-12 w-full"}),a.jsx(Kn,{className:"h-[420px] w-full"})]}):$.length===0?a.jsxs("div",{className:"rounded-xl border p-12 text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:"No hay tarjetas para este ao."}),a.jsxs("p",{className:"mt-1",children:["Usa el botn ",a.jsx("span",{className:"font-semibold",children:"Generar tarjetas"})," para crearlas a partir de las asignaciones activas."]})]}):a.jsx(Hre,{sensors:M,collisionDetection:kre,onDragEnd:U,children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(bO,{title:"Pendiente",accent:"bg-red-50 border-red-200",badge:"bg-red-100 text-red-700",items:X.PENDIENTE}),a.jsx(bO,{title:"Calculado",accent:"bg-amber-50 border-amber-200",badge:"bg-amber-100 text-amber-700",items:X.CALCULADO}),a.jsx(bO,{title:"Presentado",accent:"bg-emerald-50 border-emerald-200",badge:"bg-emerald-100 text-emerald-700",items:X.PRESENTADO})]})}),a.jsx(ZFe,{open:!!E,filingData:E,onConfirm:W,onCancel:Y}),a.jsx(e8e,{open:!!C,filingData:C,onClose:()=>O(null)})]})}function bO({title:t,accent:e,badge:n,items:r}){const i=t.toUpperCase(),{setNodeRef:s,isOver:o}=Wre({id:i});return a.jsxs("div",{ref:s,id:i,className:`relative flex h-full min-h-[320px] flex-col gap-3 rounded-xl border p-4 ${e} ${o?"ring-2 ring-primary/40":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:t}),a.jsx(it,{variant:"secondary",className:"bg-background text-muted-foreground",children:r.length})]}),a.jsx(o8e,{items:r,renderItem:l=>a.jsx(a8e,{item:l,badgeClass:n},l.id)})]})}function a8e({item:t,badgeClass:e}){const n=t.calendarStatus==="CERRADO",{attributes:r,listeners:i,setNodeRef:s,transform:o,isDragging:l}=Vre({id:t.id,disabled:n}),c=o?{transform:`translate3d(${o.x}px, ${o.y}px, 0)`}:void 0,[u,d]=w.useState(!1),[f,m]=w.useState(0),[h,y]=w.useState(!1),{toast:v}=Ir();w.useEffect(()=>{t.status==="PRESENTADO"&&x()},[t.id,t.status]);const x=async()=>{try{const O=await fetch(`/api/documents?clientId=${t.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(O.ok){const A=(await O.json()).filter(P=>{try{return JSON.parse(P.description||"{}").filingId===t.id}catch{return!1}});m(A.length)}}catch{}},b=async()=>{y(!0);try{const O=await fetch(`/api/documents?clientId=${t.clientId}&type=tax_filing_document`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(O.ok){const A=(await O.json()).filter(P=>{try{return JSON.parse(P.description||"{}").filingId===t.id}catch{return!1}});if(A.length===0){v({title:"Sin documentos",description:"No hay documentos adjuntos para descargar",variant:"destructive"});return}for(const P of A){const F=await fetch(`/api/documents/${P.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(F.ok){const R=await F.blob(),$=window.URL.createObjectURL(R),q=document.createElement("a");q.href=$,q.download=P.file_name||`documento-${P.id}.pdf`,document.body.appendChild(q),q.click(),window.URL.revokeObjectURL($),document.body.removeChild(q)}await new Promise(R=>setTimeout(R,300))}v({title:"Descarga completada",description:`${A.length} documento(s) descargado(s)`})}}catch{v({title:"Error",description:"No se pudieron descargar los documentos",variant:"destructive"})}finally{y(!1)}},S=()=>{typeof window.openFilingDetails=="function"&&window.openFilingDetails(t)},E=()=>{typeof window.replaceFilingDocuments=="function"&&window.replaceFilingDocuments(t)},_=async O=>{try{if(O==="PRESENTADO"){const M=window.prompt("Fecha de presentacin (YYYY-MM-DD)",new Date().toISOString().slice(0,10));if(!M)return;await tn("PATCH",`/api/tax/filings/${t.id}`,{status:O,presentedAt:M}),v({title:"Actualizado",description:`Marcado como PRESENTADO (${M})`})}else await tn("PATCH",`/api/tax/filings/${t.id}`,{status:O,presentedAt:null}),v({title:"Actualizado",description:`Estado cambiado a ${O}`});sn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1})}catch(M){v({title:"Error",description:M?.message||"No se pudo actualizar",variant:"destructive"})}},C=c_[t.taxModelCode];return a.jsxs("div",{ref:s,id:t.id,...n?{}:i,...n?{}:r,style:c,className:`rounded-lg border transition-all duration-200 ${n?"bg-gray-50 border-gray-300 opacity-60 cursor-not-allowed":l?"bg-white opacity-80 ring-2 ring-primary/50 shadow-lg":"bg-white shadow-sm hover:shadow-md"} ${u?"p-4 shadow-xl":"p-3"}`,children:[a.jsxs("div",{className:"cursor-pointer select-none",onClick:O=>{l||(O.stopPropagation(),d(!u))},children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"truncate text-sm font-semibold text-foreground",children:t.clientName}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(it,{variant:"outline",className:`text-xs font-mono ${e}`,children:t.taxModelCode}),a.jsx("span",{className:"text-xs text-muted-foreground",children:t.periodLabel||"Sin periodo"})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx(it,{variant:t.status==="PRESENTADO"?"default":"secondary",className:"text-xs whitespace-nowrap",children:t.status}),n&&a.jsx(it,{variant:"outline",className:"text-xs bg-gray-200 text-gray-700",children:"CERRADO"}),t.status==="PRESENTADO"&&f>0&&a.jsxs(it,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 flex items-center gap-1",children:[a.jsx(lp,{className:"h-3 w-3"}),f]}),t.status==="PRESENTADO"&&f===0&&a.jsxs(it,{variant:"outline",className:"text-xs bg-amber-50 text-amber-700 border-amber-200 flex items-center gap-1",children:[a.jsx(tl,{className:"h-3 w-3"}),"Sin docs"]}),u&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"Click para cerrar"})]})]}),t.status==="PRESENTADO"&&f===0&&!u&&a.jsxs(ge,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),E()},className:"w-full text-xs bg-amber-50 border-amber-300 hover:bg-amber-100 text-amber-900 flex items-center justify-center gap-2",children:[a.jsx(tl,{className:"h-3 w-3"}),"Subir documentos ahora"]})]}),t.status==="PRESENTADO"&&!u&&a.jsx("div",{className:"absolute top-2 right-2",onClick:O=>O.stopPropagation(),children:a.jsxs(GS,{children:[a.jsx(YS,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-70 hover:opacity-100",disabled:h,children:a.jsx(dI,{className:"h-4 w-4"})})}),a.jsxs(e1,{align:"end",className:"w-56",children:[a.jsxs(xa,{onClick:S,className:"gap-2",children:[a.jsx(op,{className:"h-4 w-4"}),"Ver detalles e historial"]}),f>0&&a.jsxs(a.Fragment,{children:[a.jsxs(xa,{onClick:b,className:"gap-2",disabled:h,children:[a.jsx(ia,{className:"h-4 w-4"}),"Descargar documentos (",f,")"]}),a.jsx(t1,{}),a.jsxs(xa,{onClick:E,className:"gap-2",children:[a.jsx(n0,{className:"h-4 w-4"}),"Reemplazar documentos"]})]}),f===0&&a.jsxs(a.Fragment,{children:[a.jsx(xa,{disabled:!0,className:"text-xs text-muted-foreground italic",children:"Sin documentos adjuntos"}),a.jsx(t1,{}),a.jsxs(xa,{onClick:E,className:"gap-2 text-blue-600",children:[a.jsx(tl,{className:"h-4 w-4"}),"Subir documentos ahora"]})]})]})]})})]}),u&&a.jsxs("div",{className:"mt-4 space-y-3 border-t pt-3 animate-in fade-in slide-in-from-top-2 duration-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Informacin del Modelo"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Modelo:"}),a.jsx("span",{className:"ml-1 font-medium",children:t.taxModelCode})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Nombre:"}),a.jsx("span",{className:"ml-1 font-medium",children:C?.name||"N/A"})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Datos del Cliente"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Razn Social:"}),a.jsx("span",{className:"ml-1 font-medium",children:t.clientName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"NIF/CIF:"}),a.jsx("span",{className:"ml-1 font-mono font-medium",children:t.nifCif})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"ID Cliente:"}),a.jsx("span",{className:"ml-1 font-mono text-muted-foreground",children:t.clientId})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Periodo Fiscal"}),a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Periodo:"}),a.jsx("span",{className:"ml-1 font-medium",children:t.periodLabel||"Sin asignar"})]}),a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"ID Periodo:"}),a.jsx("span",{className:"ml-1 font-mono text-muted-foreground",children:t.periodId})]})]}),t.status==="PRESENTADO"&&a.jsxs("div",{className:"space-y-2 border-t pt-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Documentos Adjuntos"}),f>0&&a.jsxs(it,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:[f," archivo(s)"]})]}),f===0?a.jsxs("div",{className:"text-xs text-muted-foreground italic bg-amber-50 border border-amber-200 rounded p-3",children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(tl,{className:"h-3 w-3"}),"No hay documentos adjuntos todava"]}),a.jsxs(ge,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),E()},className:"mt-2 w-full text-xs bg-white hover:bg-amber-100",children:[a.jsx(tl,{className:"h-3 w-3 mr-1"}),"Subir documentos"]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-green-700 bg-green-50 border border-green-200 rounded p-2 flex items-center gap-2",children:[a.jsx(lp,{className:"h-3 w-3"}),f," documento(s) adjunto(s)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),b()},disabled:h,className:"flex-1 text-xs",children:[a.jsx(ia,{className:"h-3 w-3 mr-1"}),"Descargar"]}),a.jsxs(ge,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),S()},className:"flex-1 text-xs",children:[a.jsx(op,{className:"h-3 w-3 mr-1"}),"Ver detalles"]})]})]})]}),a.jsxs("div",{className:"space-y-2 border-t pt-3",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Cambiar Estado"}),n?a.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Este periodo est cerrado. No se pueden realizar cambios."}):a.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.status!=="PENDIENTE"&&a.jsx(ge,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),_("PENDIENTE")},className:"flex-1 text-xs",children:" Pendiente"}),t.status!=="CALCULADO"&&a.jsx(ge,{size:"sm",variant:"outline",onClick:O=>{O.stopPropagation(),_("CALCULADO")},className:"flex-1 text-xs",children:" Calculado"}),t.status!=="PRESENTADO"&&a.jsx(ge,{size:"sm",onClick:O=>{O.stopPropagation(),_("PRESENTADO")},className:"flex-1 text-xs",children:" Presentado"})]})]}),a.jsx("div",{className:"text-xs text-muted-foreground border-t pt-2",children:a.jsxs("span",{className:"font-mono",children:["ID: ",t.id]})})]})]})}function o8e({items:t,renderItem:e}){const n=w.useRef(null);return t.length===0?a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"mt-6 text-center text-xs text-muted-foreground",children:"Sin asignaciones."})}):a.jsx("div",{ref:n,className:"flex-1 overflow-auto space-y-3",children:t.map(r=>a.jsx("div",{children:e(r)},r.id))})}async function l8e(){const t=localStorage.getItem("token"),e=await fetch("/api/tax/calendar/download-template",{method:"GET",headers:{Authorization:`Bearer ${t}`},credentials:"include"});if(!e.ok){const s=await e.json().catch(()=>({error:"Error al descargar la plantilla"}));throw new Error(s.error||"No se pudo descargar la plantilla")}const n=await e.blob(),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="plantilla-calendario-fiscal.xlsx",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}async function c8e(t){const e=localStorage.getItem("token"),n=new FormData;n.append("file",t);const r=await fetch("/api/tax/calendar/import-excel",{method:"POST",headers:{Authorization:`Bearer ${e}`},credentials:"include",body:n}),i=await r.json();if(!r.ok){if(i.result)return i.result;throw new Error(i.error||"Error al importar el archivo")}return i.result}function u8e({open:t,onClose:e,onImportSuccess:n}){const{toast:r}=Ir(),[i,s]=w.useState(null),[o,l]=w.useState(!1),[c,u]=w.useState(null),d=h=>{const y=h.target.files?.[0];if(y){if(!(y.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||y.name.endsWith(".xlsx"))){r({title:"Archivo invlido",description:"Por favor selecciona un archivo Excel (.xlsx)",variant:"destructive"});return}s(y),u(null)}},f=async()=>{if(!i){r({title:"No hay archivo",description:"Por favor selecciona un archivo Excel para importar",variant:"destructive"});return}l(!0);try{const h=await c8e(i);u(h),h.success?(r({title:"Importacin exitosa",description:`Se importaron ${h.imported} periodos correctamente`}),n()):r({title:"Importacin con errores",description:"Revisa el detalle de errores a continuacin",variant:"destructive"})}catch(h){r({title:"Error en la importacin",description:h?.message||"No se pudo procesar el archivo",variant:"destructive"}),u({imported:0,errors:[h?.message||"Error desconocido"],duplicates:[],success:!1})}finally{l(!1)}},m=()=>{s(null),u(null),e()};return a.jsx(Lr,{open:t,onOpenChange:m,children:a.jsxs(Mr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Importar Calendario Fiscal desde Excel"}),a.jsx(Mi,{children:"Sube un archivo Excel con los periodos fiscales a importar. Descarga primero la plantilla para conocer el formato correcto."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-md border p-4 bg-muted/50",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Formato del archivo Excel:"}),a.jsxs("ul",{className:"text-sm space-y-1 ml-4 list-disc",children:[a.jsxs("li",{children:[a.jsx("strong",{children:'Hoja "Periodos"'})," con las columnas:"]}),a.jsxs("li",{className:"ml-4",children:[a.jsx("code",{className:"bg-background px-1 rounded",children:"modelCode*"})," - Cdigo del modelo (ej: 303, 111, 130)"]}),a.jsxs("li",{className:"ml-4",children:[a.jsx("code",{className:"bg-background px-1 rounded",children:"period*"})," - Periodo (ej: 1T, 2T, M01, ANUAL)"]}),a.jsxs("li",{className:"ml-4",children:[a.jsx("code",{className:"bg-background px-1 rounded",children:"year*"})," - Ao (ej: 2025)"]}),a.jsxs("li",{className:"ml-4",children:[a.jsx("code",{className:"bg-background px-1 rounded",children:"startDate*"})," - Fecha inicio (DD/MM/YYYY o YYYY-MM-DD)"]}),a.jsxs("li",{className:"ml-4",children:[a.jsx("code",{className:"bg-background px-1 rounded",children:"endDate*"})," - Fecha fin (DD/MM/YYYY o YYYY-MM-DD)"]}),a.jsxs("li",{className:"ml-4",children:[a.jsx("code",{className:"bg-background px-1 rounded",children:"active"})," - SI o NO (por defecto: SI)"]}),a.jsxs("li",{className:"ml-4",children:[a.jsx("code",{className:"bg-background px-1 rounded",children:"locked"})," - SI o NO (por defecto: NO)"]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Los campos marcados con ",a.jsx("code",{children:"*"})," son obligatorios."]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"excel-file",className:"block text-sm font-medium text-foreground",children:"Seleccionar archivo Excel"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"excel-file",type:"file",accept:".xlsx",onChange:d,disabled:o,className:"block w-full text-sm text-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90 disabled:opacity-50"}),i&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(t0,{className:"h-4 w-4"}),i.name]})]})]}),c&&a.jsxs("div",{className:"rounded-md border p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[c.success?a.jsx(Oo,{className:"h-5 w-5 text-green-600"}):a.jsx(Nc,{className:"h-5 w-5 text-destructive"}),a.jsx("h4",{className:"font-semibold",children:c.success?"Importacin completada":"Importacin con errores"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Registros importados:"})," ",c.imported]}),c.duplicates.length>0&&a.jsxs("div",{children:[a.jsxs("strong",{className:"text-yellow-600",children:["Duplicados omitidos (",c.duplicates.length,"):"]}),a.jsx("ul",{className:"ml-4 mt-1 space-y-1 max-h-32 overflow-y-auto",children:c.duplicates.map((h,y)=>a.jsx("li",{className:"text-yellow-700",children:h},y))})]}),c.errors.length>0&&a.jsxs("div",{children:[a.jsxs("strong",{className:"text-destructive",children:["Errores (",c.errors.length,"):"]}),a.jsx("ul",{className:"ml-4 mt-1 space-y-1 max-h-32 overflow-y-auto",children:c.errors.map((h,y)=>a.jsx("li",{className:"text-destructive",children:h},y))})]})]})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:m,disabled:o,children:c?.success?"Cerrar":"Cancelar"}),!c?.success&&a.jsx(ge,{onClick:f,disabled:!i||o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Yv,{className:"mr-2 h-4 w-4 animate-spin"}),"Importando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(tl,{className:"mr-2 h-4 w-4"}),"Importar"]})})]})]})})}function d8e(){const{toast:t}=Ir(),e=cl(),n=new Date().getFullYear(),[r,i]=w.useState(n),[s,o]=w.useState("TODAS"),[l,c]=w.useState("ALL"),[u,d]=w.useState("TODOS"),[f,m]=w.useState(""),[h,y]=w.useState(!1),[v,x]=w.useState({modelCode:"",period:"",startDate:"",endDate:""}),[b,S]=w.useState({}),[E,_]=w.useState("end"),[C,O]=w.useState("asc"),[M,A]=w.useState("calendar"),[P,F]=w.useState(!1),{data:R=[],refetch:$}=Wt({queryKey:["/api/tax/calendar",r,s,l,u],queryFn:async()=>{const ae=new URLSearchParams;ae.set("year",String(r)),l&&l!=="ALL"&&ae.set("model",l),s==="MENSUAL"&&ae.set("periodicity","monthly"),s==="TRIMESTRAL"&&ae.set("periodicity","quarterly"),s==="ANUAL"&&ae.set("periodicity","annual"),s==="ESPECIAL"&&ae.set("periodicity","special"),u!=="TODOS"&&ae.set("status",u);const Pe=await fetch(`/api/tax/calendar?${ae.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!Pe.ok)throw new Error("No se pudo cargar el calendario");return Pe.json()},staleTime:3e4}),q=Xt({mutationFn:async ae=>fetch("/api/tax/calendar/create-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:ae})}).then(Pe=>{if(!Pe.ok)throw new Error("No se pudo crear el ao");return Pe.json()}),onSuccess:()=>{$(),t({title:"Ao fiscal creado",description:`Se ha creado el ao ${r}`})}}),z=Xt({mutationFn:async ae=>{const Pe=await fetch("/api/tax/calendar/generate-aeat-calendar",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:ae})});if(!Pe.ok){const ee=await Pe.json();throw new Error(ee.error||"No se pudo generar el calendario")}return Pe.json()},onSuccess:ae=>{$(),t({title:"Calendario AEAT generado",description:ae.message||"Se han generado todos los periodos fiscales"})},onError:ae=>{t({title:"Error",description:ae.message||"No se pudo generar el calendario",variant:"destructive"})}}),G=Xt({mutationFn:async ae=>{if(!(await fetch(`/api/tax/calendar/${ae}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"})).ok)throw new Error("No se pudo eliminar el periodo")},onSuccess:()=>{$(),t({title:"Periodo eliminado",description:"El periodo se ha eliminado correctamente"})},onError:ae=>{t({title:"Error",description:ae.message,variant:"destructive"})}}),X=()=>{window.open(`/api/tax/calendar/${r}.ics`,"_blank")},U=async()=>{try{await l8e(),t({title:"Plantilla descargada",description:"El archivo Excel se ha descargado correctamente"})}catch(ae){t({title:"Error al descargar",description:ae?.message||"No se pudo descargar la plantilla",variant:"destructive"})}},W=ae=>{if(ae.status==="PENDIENTE"||ae.status==="ABIERTO"||ae.status==="CERRADO")return ae.status;const Pe=new Date,ee=new Date(ae.startDate),ne=new Date(ae.endDate);return Pe>ne?"CERRADO":Pe>=ee?"ABIERTO":"PENDIENTE"},Y=w.useMemo(()=>{const ae={PENDIENTE:0,ABIERTO:0,CERRADO:0};for(const Pe of R){const ee=W(Pe);ae[ee]+=1}return ae},[R]),ie=w.useMemo(()=>{let ae=[...R];if(u!=="TODOS"&&(ae=ae.filter(ee=>W(ee)===u)),ae.sort((ee,ne)=>{let Re=0;return E==="end"&&(Re=new Date(ee.endDate).getTime()-new Date(ne.endDate).getTime()),E==="start"&&(Re=new Date(ee.startDate).getTime()-new Date(ne.startDate).getTime()),E==="model"&&(Re=ee.modelCode.localeCompare(ne.modelCode)),E==="period"&&(Re=ee.period.localeCompare(ne.period)),C==="asc"?Re:-Re}),!f)return ae;const Pe=f.toLowerCase();return ae.filter(ee=>`${ee.modelCode}`.toLowerCase().includes(Pe)||`${ee.period}`.toLowerCase().includes(Pe))},[R,f,u]),Q=ae=>{const Pe=W(ae);return Pe==="PENDIENTE"?a.jsx(it,{className:"bg-red-100 text-red-700",children:"PENDIENTE"}):Pe==="ABIERTO"?a.jsx(it,{className:"bg-amber-100 text-amber-700",children:"ABIERTO"}):a.jsx(it,{className:"bg-gray-200 text-gray-700",children:"CERRADO"})},I=ae=>{const Pe=new Date,ee=new Date(ae.startDate),ne=new Date(ae.endDate);if(Pe>=ee&&Pe<=ne)return a.jsxs(it,{className:"bg-emerald-600 text-white inline-flex items-center",children:[a.jsx(Kfe,{className:"h-3 w-3 mr-1"})," En curso"]});const Re=ae.daysToStart;if(Re==null)return"";const ft=Re<=3?"bg-red-600 text-white":Re<=7?"bg-orange-500 text-white":"bg-primary text-primary-foreground",et=Re<=3?Xv:Re<=7?TF:Nfe;return a.jsxs(it,{className:`${ft} inline-flex items-center`,children:[a.jsx(et,{className:"h-3 w-3 mr-1"})," ",re(Re)]})},V=ae=>{const Pe=new Date,ee=new Date(ae.endDate);if(Pe>ee)return a.jsxs(it,{className:"bg-gray-500 text-white inline-flex items-center",children:[a.jsx(Nc,{className:"h-3 w-3 mr-1"})," Vencido"]});const ne=ae.daysToEnd;if(ne==null)return"";const Re=ne<=1?"bg-red-700 text-white":ne<=3?"bg-red-600 text-white":ne<=7?"bg-amber-500 text-white":"bg-emerald-600 text-white",ft=ne<=3?Xv:ne<=7?TF:Oo;return a.jsxs(it,{className:`${Re} inline-flex items-center`,children:[a.jsx(ft,{className:"h-3 w-3 mr-1"})," ",re(ne)]})},J=(ae,Pe)=>a.jsxs("button",{type:"button",onClick:()=>{E===Pe?O(ee=>ee==="asc"?"desc":"asc"):(_(Pe),O("asc"))},className:"text-left hover:underline inline-flex items-center gap-1",children:[a.jsx("span",{children:ae}),E===Pe?a.jsx("span",{className:"text-xs",children:C==="asc"?"":""}):null]}),re=ae=>ae===null?"":`${ae} da${Math.abs(ae)===1?"":"s"}`,{data:fe=[]}=Wt({queryKey:["/api/tax-models"],queryFn:w_}),pe=w.useMemo(()=>{const ae=fe.map(ne=>({code:ne.code,name:ne.name})),Pe=Object.entries(c_).map(([ne,Re])=>({code:ne,name:Re.name})),ee=new Map;return Pe.forEach(ne=>ee.set(ne.code,ne)),ae.forEach(ne=>ee.set(ne.code,ne)),Array.from(ee.values()).sort((ne,Re)=>ne.code.localeCompare(Re.code))},[fe]),xe=ae=>{try{const Pe=new Date(ae),ee=Pe.getFullYear(),ne=String(Pe.getMonth()+1).padStart(2,"0"),Re=String(Pe.getDate()).padStart(2,"0");return`${ee}-${ne}-${Re}`}catch{return""}},de=async ae=>{const Pe=b[ae];if(!Pe)return;const ee={};if(Pe.startDate&&(ee.startDate=Pe.startDate),Pe.endDate&&(ee.endDate=Pe.endDate),!Object.keys(ee).length)return;if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(ae)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(ee)})).ok)throw new Error("No se pudo actualizar");S(Re=>{const ft={...Re};return delete ft[ae],ft}),$()},we=async()=>{try{if(!v.modelCode||!v.period||!v.startDate||!v.endDate)throw new Error("Completa todos los campos");const ae={modelCode:v.modelCode.toUpperCase(),period:v.period.toUpperCase(),year:r,startDate:v.startDate,endDate:v.endDate},Pe=await fetch("/api/tax/calendar",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(ae)});if(!Pe.ok){let Re="";try{Re=(await Pe.json())?.error||""}catch{}throw new Error(Re||(Pe.status===409?"Periodo duplicado (Modelo/Periodo/Ao)":"No se pudo crear el periodo"))}y(!1),x({modelCode:"",period:"",startDate:"",endDate:""});const ee=ae.period,ne=ae.modelCode;ee==="ANUAL"?o("ANUAL"):/^[1234]T$/.test(ee)?o("TRIMESTRAL"):/^M(04|10|12)$/.test(ee)?o("ESPECIAL"):/^M\d{2}$/.test(ee)?o("MENSUAL"):o("TODAS"),c(ne),d("TODOS"),t({title:"Periodo creado",description:`${ne} ${Ce(ee)}/${r}`}),await e.invalidateQueries({queryKey:["/api/tax/calendar"]}),await $()}catch(ae){t({title:"Error",description:ae?.message??"",variant:"destructive"})}},Ce=ae=>{const Pe={M01:"Enero",M02:"Febrero",M03:"Marzo",M04:"Abril",M05:"Mayo",M06:"Junio",M07:"Julio",M08:"Agosto",M09:"Septiembre",M10:"Octubre",M11:"Noviembre",M12:"Diciembre"},ee={"1T":"1. trimestre","2T":"2. trimestre","3T":"3. trimestre","4T":"4. trimestre"};return Pe[ae]?Pe[ae]:ee[ae]?ee[ae]:ae==="ANUAL"?"Anual":ae};return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),a.jsx(b_,{}),a.jsxs(Ue,{className:"shadow-sm",children:[a.jsx(lt,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gfe,{className:"h-5 w-5 text-muted-foreground"}),a.jsx(ut,{className:"text-xl",children:"Calendario fiscal AEAT"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona los modelos oficiales con sus fechas de apertura y cierre."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ge,{onClick:()=>y(!0),className:"gap-2",children:[a.jsx(js,{className:"h-4 w-4"})," Aadir periodo"]}),a.jsxs(GS,{children:[a.jsx(YS,{asChild:!0,children:a.jsxs(ge,{variant:"outline",className:"gap-2",children:["Acciones ",a.jsx(uI,{className:"h-4 w-4"})]})}),a.jsxs(e1,{align:"end",className:"w-56",children:[a.jsxs(xa,{onClick:()=>{window.confirm(`Generar calendario AEAT completo para ${r}?

Esto crear 26 periodos fiscales (trimestres, meses, anuales y especiales) con las fechas oficiales de la Agencia Tributaria.`)&&z.mutate(r)},disabled:z.isPending,className:"gap-2",children:[a.jsx(Hfe,{className:"h-4 w-4"}),z.isPending?"Generando...":"Generar Calendario AEAT"]}),a.jsxs(xa,{onClick:()=>q.mutate(r),className:"gap-2",children:[a.jsx(BP,{className:"h-4 w-4"}),"Nuevo ao fiscal"]}),a.jsx(t1,{}),a.jsxs(xa,{onClick:X,className:"gap-2",children:[a.jsx(ia,{className:"h-4 w-4"}),"Exportar .ICS"]}),a.jsxs(xa,{onClick:U,className:"gap-2",children:[a.jsx(t0,{className:"h-4 w-4"}),"Descargar Plantilla"]}),a.jsxs(xa,{onClick:()=>F(!0),className:"gap-2",children:[a.jsx(tl,{className:"h-4 w-4"}),"Importar Excel"]})]})]})]})]})}),a.jsxs(He,{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ao"}),a.jsx(Fe,{type:"number",value:r,onChange:ae=>i(Number(ae.target.value)),className:"w-24 h-9"})]}),a.jsxs(_n,{value:s,onValueChange:ae=>o(ae),children:[a.jsx(Sn,{className:"w-40 h-9",children:a.jsx(Cn,{placeholder:"Periodicidad"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"TODAS",children:"Todas"}),a.jsx(Qe,{value:"MENSUAL",children:"Mensual"}),a.jsx(Qe,{value:"TRIMESTRAL",children:"Trimestral"}),a.jsx(Qe,{value:"ANUAL",children:"Anual"}),a.jsx(Qe,{value:"ESPECIAL",children:"Especial 202"})]})]}),a.jsxs(_n,{value:u,onValueChange:ae=>d(ae),children:[a.jsx(Sn,{className:"w-40 h-9",children:a.jsx(Cn,{placeholder:"Estado"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"TODOS",children:"Todos"}),a.jsx(Qe,{value:"PENDIENTE",children:"Pendiente"}),a.jsx(Qe,{value:"ABIERTO",children:"Abierto"}),a.jsx(Qe,{value:"CERRADO",children:"Cerrado"})]})]}),a.jsxs(_n,{value:l,onValueChange:c,children:[a.jsx(Sn,{className:"w-60 h-9",children:a.jsx(Cn,{placeholder:"Filtrar por modelo (ej. 303)"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"ALL",children:"Todos los modelos"}),pe.map(ae=>a.jsxs(Qe,{value:ae.code,children:[ae.code,"  ",ae.name]},ae.code))]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ug,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(Fe,{className:"pl-8 w-64 h-9",placeholder:"Buscar modelo o periodo",value:f,onChange:ae=>m(ae.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[a.jsxs(it,{className:"bg-red-100 text-red-700",children:["Pendiente ",Y.PENDIENTE]}),a.jsxs(it,{className:"bg-amber-100 text-amber-700",children:["Abierto ",Y.ABIERTO]}),a.jsxs(it,{className:"bg-gray-200 text-gray-700",children:["Cerrado ",Y.CERRADO]})]})]}),ie.length>0?a.jsxs("div",{className:"grid gap-2",children:[a.jsxs("div",{className:"grid grid-cols-10 text-xs text-muted-foreground px-2",children:[a.jsx("div",{children:J("Modelo","model")}),a.jsx("div",{children:J("Periodo","period")}),a.jsx("div",{children:"Estado"}),a.jsx("div",{children:J("Fecha inicio","start")}),a.jsx("div",{children:"Inicio en"}),a.jsx("div",{children:J("Fecha fin","end")}),a.jsx("div",{children:"Finaliza en"}),a.jsx("div",{children:"Activo"}),a.jsx("div",{children:"Bloqueado"}),a.jsx("div",{className:"text-center"})]}),ie.map(ae=>{const Pe=b[ae.id]||{},ee=Pe.startDate??xe(ae.startDate),ne=Pe.endDate??xe(ae.endDate),Re=W(ae),ft=Re==="PENDIENTE"?"border-l-4 border-l-red-400":Re==="ABIERTO"?"border-l-4 border-l-amber-400":"border-l-4 border-l-gray-400",et=Re==="CERRADO",Ke=!!ae.locked,me=et||Ke;return a.jsxs("div",{className:`grid grid-cols-10 items-center rounded-lg border p-3 bg-card/50 hover:bg-card transition group ${ft}`,children:[a.jsx("div",{className:"font-medium flex items-center gap-2",children:a.jsx(it,{variant:"outline",className:"bg-muted",children:ae.modelCode})}),a.jsxs("div",{children:[Ce(ae.period)," / ",ae.year]}),a.jsx("div",{children:Q(ae)}),a.jsx("div",{children:a.jsx(Fe,{type:"date",value:ee,onChange:Se=>S(ke=>({...ke,[ae.id]:{...ke[ae.id],startDate:Se.target.value}})),onBlur:()=>de(ae.id),className:"h-8",disabled:me})}),a.jsx("div",{children:I(ae)}),a.jsx("div",{children:a.jsx(Fe,{type:"date",value:ne,onChange:Se=>S(ke=>({...ke,[ae.id]:{...ke[ae.id],endDate:Se.target.value}})),onBlur:()=>de(ae.id),className:"h-8",disabled:me})}),a.jsx("div",{children:V(ae)}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(wu,{checked:!!ae.active,onCheckedChange:async Se=>{try{if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(ae.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({active:Se})})).ok)throw new Error("No se pudo actualizar");$()}catch(ke){t({title:"Error",description:ke?.message??"",variant:"destructive"})}}})}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(ge,{variant:me?"default":"ghost",size:"icon",className:`h-8 w-8 ${et?"bg-amber-600 hover:bg-amber-700":""}`,onClick:async()=>{const Se=!Ke;try{if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(ae.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({locked:Se})})).ok)throw new Error("No se pudo actualizar");$(),t({title:et?Se?"Periodo bloqueado manualmente":"Auto-bloqueo desactivado temporalmente":Se?"Periodo bloqueado":"Periodo desbloqueado",description:et?Se?"El periodo CERRADO permanece bloqueado":"Puedes editar el periodo CERRADO temporalmente":Se?"Las fechas ya no se pueden editar":"Ahora puedes editar las fechas"})}catch(ke){t({title:"Error",description:ke?.message??"",variant:"destructive"})}},title:et?Ke?"Auto-bloqueado + Manual - Click para desbloquear":"Auto-bloqueado - Click para bloquear tambin manualmente":Ke?"Bloqueado manualmente - Click para desbloquear":"Desbloqueado - Click para bloquear",children:me?a.jsx(mI,{className:"h-4 w-4"}):a.jsx(Pfe,{className:"h-4 w-4"})})}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs(GS,{children:[a.jsx(YS,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100",children:a.jsx(dI,{className:"h-4 w-4"})})}),a.jsxs(e1,{align:"end",children:[a.jsxs(xa,{onClick:()=>{if(me){t({title:"Periodo bloqueado",description:"Debe desbloquear el periodo primero para editarlo",variant:"destructive"});return}x({modelCode:ae.modelCode,period:ae.period,startDate:xe(ae.startDate),endDate:xe(ae.endDate)}),y(!0)},className:"gap-2",children:[a.jsx(vI,{className:"h-4 w-4"}),"Editar"]}),a.jsxs(xa,{onClick:async()=>{if(me){t({title:"Periodo bloqueado",description:"Debe desbloquear el periodo primero para eliminarlo",variant:"destructive"});return}window.confirm("Eliminar este periodo?")&&G.mutate(ae.id)},className:"gap-2 text-destructive focus:text-destructive",children:[a.jsx(na,{className:"h-4 w-4"}),"Eliminar"]})]})]})})]},ae.id)})]}):a.jsxs("div",{className:"py-16 text-center text-sm text-muted-foreground border rounded-xl",children:[a.jsx("p",{children:"No hay periodos configurados para este ao."}),a.jsxs("p",{className:"mt-1",children:["Utiliza el botn ",a.jsx("span",{className:"font-medium",children:"Aadir periodo"})," para empezar."]})]})]})]}),a.jsx(Lr,{open:h,onOpenChange:y,children:a.jsxs(Mr,{children:[a.jsx(Fr,{children:a.jsx($r,{children:"Crear periodo"})}),a.jsxs("div",{className:"grid gap-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Modelo"}),a.jsxs(_n,{value:v.modelCode||void 0,onValueChange:ae=>x({...v,modelCode:ae}),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Selecciona"})}),a.jsx(En,{children:pe.map(ae=>a.jsxs(Qe,{value:ae.code,children:[ae.code,"  ",ae.name]},ae.code))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Periodo"}),a.jsxs(_n,{value:v.period||void 0,onValueChange:ae=>x({...v,period:ae}),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Selecciona"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"ANUAL",children:"Anual"}),Array.from({length:12},(ae,Pe)=>`M${String(Pe+1).padStart(2,"0")}`).map(ae=>a.jsx(Qe,{value:ae,children:Ce(ae)},ae)),["1T","2T","3T","4T"].map(ae=>a.jsx(Qe,{value:ae,children:ae},ae))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Fecha inicio"}),a.jsx(Fe,{type:"date",value:v.startDate,onChange:ae=>x({...v,startDate:ae.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Fecha fin"}),a.jsx(Fe,{type:"date",value:v.endDate,onChange:ae=>x({...v,endDate:ae.target.value})})]})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),a.jsx(ge,{onClick:we,children:"Guardar"})]})]})}),a.jsx(u8e,{open:P,onClose:()=>F(!1),onImportSuccess:()=>{$(),F(!1)}})]})}const cH=[{value:"AUTONOMO",label:"Autnomo"},{value:"EMPRESA",label:"Empresa"},{value:"PARTICULAR",label:"Particular"}],uH=[{value:"MENSUAL",label:"Mensual"},{value:"TRIMESTRAL",label:"Trimestral"},{value:"ANUAL",label:"Anual"},{value:"ESPECIAL_FRACCIONADO",label:"Especial Fraccionado"}];function f8e(){const{toast:t}=Ir(),[e,n]=w.useState([]),[r,i]=w.useState(!0),[s,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(null),[h,y]=w.useState(!1),[v,x]=w.useState({code:"",name:"",allowedTypes:[],allowedPeriods:[]});w.useEffect(()=>{b()},[]);const b=async()=>{try{i(!0);const A=await w_();n(A)}catch(A){t({title:"Error al cargar modelos",description:A.message,variant:"destructive"})}finally{i(!1)}},S=A=>{A?(d(A),x({code:A.code,name:A.name,allowedTypes:A.allowedTypes,allowedPeriods:A.allowedPeriods})):(d(null),x({code:"",name:"",allowedTypes:[],allowedPeriods:[]})),o(!0)},E=()=>{o(!1),d(null),x({code:"",name:"",allowedTypes:[],allowedPeriods:[]})},_=async()=>{try{if(!v.code||!v.name){t({title:"Campos requeridos",description:"El cdigo y el nombre son obligatorios",variant:"destructive"});return}y(!0),u?(await n8e(u.code,{name:v.name,allowedTypes:v.allowedTypes,allowedPeriods:v.allowedPeriods}),t({title:"Modelo actualizado",description:`El modelo ${v.code} se actualiz correctamente`})):(await t8e(v),t({title:"Modelo creado",description:`El modelo ${v.code} se cre correctamente`})),E(),b()}catch(A){t({title:"Error al guardar",description:A.message,variant:"destructive"})}finally{y(!1)}},C=async()=>{if(f)try{await r8e(f.code),t({title:"Modelo eliminado",description:`El modelo ${f.code} se elimin correctamente`}),c(!1),m(null),b()}catch(A){t({title:"Error al eliminar",description:A.message,variant:"destructive"})}},O=A=>{x(P=>({...P,allowedTypes:P.allowedTypes.includes(A)?P.allowedTypes.filter(F=>F!==A):[...P.allowedTypes,A]}))},M=A=>{x(P=>({...P,allowedPeriods:P.allowedPeriods.includes(A)?P.allowedPeriods.filter(F=>F!==A):[...P.allowedPeriods,A]}))};return r?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx(Yv,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),a.jsx(b_,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modelos Fiscales"}),a.jsx("p",{className:"text-muted-foreground",children:"Gestiona los modelos fiscales disponibles para asignar a clientes"})]}),a.jsxs(ge,{onClick:()=>S(),children:[a.jsx(js,{className:"mr-2 h-4 w-4"}),"Nuevo Modelo"]})]}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{className:"w-[100px]",children:"Cdigo"}),a.jsx(Et,{children:"Nombre"}),a.jsx(Et,{children:"Tipos de Cliente"}),a.jsx(Et,{children:"Periodicidades"}),a.jsx(Et,{className:"w-[100px]",children:"Estado"}),a.jsx(Et,{className:"w-[100px] text-right",children:"Acciones"})]})}),a.jsx(co,{children:e.length===0?a.jsx(er,{children:a.jsxs(yt,{colSpan:6,className:"text-center text-muted-foreground py-8",children:[a.jsx(mi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),"No hay modelos fiscales registrados"]})}):e.map(A=>a.jsxs(er,{children:[a.jsx(yt,{className:"font-mono font-semibold",children:A.code}),a.jsx(yt,{children:A.name}),a.jsx(yt,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:A.allowedTypes.map(P=>a.jsx(it,{variant:"outline",className:"text-xs",children:cH.find(F=>F.value===P)?.label||P},P))})}),a.jsx(yt,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:A.allowedPeriods.map(P=>a.jsx(it,{variant:"secondary",className:"text-xs",children:uH.find(F=>F.value===P)?.label||P},P))})}),a.jsx(yt,{children:A.isActive?a.jsx(it,{variant:"default",className:"bg-green-600",children:"Activo"}):a.jsx(it,{variant:"secondary",children:"Inactivo"})}),a.jsx(yt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>S(A),children:a.jsx(vI,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{m(A),c(!0)},children:a.jsx(na,{className:"h-4 w-4 text-destructive"})})]})})]},A.code))})]})}),a.jsx(Lr,{open:s,onOpenChange:o,children:a.jsxs(Mr,{className:"max-w-2xl",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:u?"Editar Modelo Fiscal":"Nuevo Modelo Fiscal"}),a.jsx(Mi,{children:u?"Modifica los datos del modelo fiscal":"Completa los datos del nuevo modelo fiscal"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"code",children:"Cdigo del Modelo*"}),a.jsx(Fe,{id:"code",placeholder:"Ej: 303, 111, 130",value:v.code,onChange:A=>x({...v,code:A.target.value.toUpperCase()}),disabled:!!u,maxLength:20}),a.jsx("p",{className:"text-xs text-muted-foreground",children:u?"No se puede modificar el cdigo":"Cdigo nico del modelo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"name",children:"Nombre del Modelo*"}),a.jsx(Fe,{id:"name",placeholder:"Ej: IVA - Autoliquidacin",value:v.name,onChange:A=>x({...v,name:A.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Tipos de Cliente Permitidos"}),a.jsx("div",{className:"flex flex-col gap-2",children:cH.map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:A.value,checked:v.allowedTypes.includes(A.value),onCheckedChange:()=>O(A.value)}),a.jsx("label",{htmlFor:A.value,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:A.label})]},A.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Periodicidades Permitidas"}),a.jsx("div",{className:"flex flex-col gap-2",children:uH.map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:A.value,checked:v.allowedPeriods.includes(A.value),onCheckedChange:()=>M(A.value)}),a.jsx("label",{htmlFor:A.value,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:A.label})]},A.value))})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:E,disabled:h,children:"Cancelar"}),a.jsx(ge,{onClick:_,disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Yv,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Guardar"})]})]})}),a.jsx(L1,{open:l,onOpenChange:c,children:a.jsxs(sx,{children:[a.jsxs(ax,{children:[a.jsx(ox,{children:"Ests seguro?"}),a.jsxs(lx,{children:["Esta accin eliminar permanentemente el modelo"," ",a.jsx("strong",{children:f?.code})," - ",f?.name,".",a.jsx("br",{}),a.jsx("br",{}),"No se podr eliminar si tiene asignaciones activas a clientes."]})]}),a.jsxs(GD,{children:[a.jsx(ux,{children:"Cancelar"}),a.jsx(cx,{onClick:C,className:"bg-destructive",children:"Eliminar"})]})]})})]})}const Ed=t=>{const e=new URLSearchParams;return t.year&&e.set("year",String(t.year)),t.periodId&&e.set("periodId",t.periodId),t.model&&e.set("model",t.model),t.assigneeId&&e.set("assigneeId",t.assigneeId),t.clientId&&e.set("clientId",t.clientId),t.status&&e.set("status",t.status),t.page&&e.set("page",String(t.page)),t.size&&e.set("size",String(t.size)),t.granularity&&e.set("granularity",t.granularity),e};function h8e(t){return Wt({queryKey:["/api/tax/reports/kpis",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/kpis?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar KPIs");return n.json()},staleTime:3e4})}function Wie(t){return Wt({queryKey:["/api/tax/reports/summary/model",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/summary/model?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por modelo");return n.json()},staleTime:3e4})}function p8e(t){return Wt({queryKey:["/api/tax/reports/trends",t],queryFn:async()=>{const e=Ed(t);t.granularity&&e.set("granularity",t.granularity);const n=await fetch(`/api/tax/reports/trends?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar tendencias");return n.json()},staleTime:3e4})}function Kie(t){return Wt({queryKey:["/api/tax/reports/summary/assignee",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/summary/assignee?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por gestor");return n.json()},staleTime:3e4})}function m8e(t){return Wt({queryKey:["/api/tax/reports/summary/client",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/summary/client?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por cliente");return n.json()},staleTime:3e4})}function g8e(t){return Wt({queryKey:["/api/tax/reports/exceptions",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/exceptions?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar alertas");return n.json()},staleTime:3e4})}function v8e(t){return Wt({queryKey:["/api/tax/reports/filings",t],queryFn:async()=>{const e=Ed(t);e.set("page",String(t.page??1)),e.set("size",String(t.size??50));const n=await fetch(`/api/tax/reports/filings?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar detalle");return n.json()},staleTime:3e4})}function y8e(t,e,n){return Wt({queryKey:["/api/tax/reports/year-comparison",t,e,n],queryFn:async()=>{const r=new URLSearchParams;r.set("year1",String(t)),r.set("year2",String(e)),n.model&&r.set("model",n.model),n.assigneeId&&r.set("assigneeId",n.assigneeId),n.clientId&&r.set("clientId",n.clientId);const i=await fetch(`/api/tax/reports/year-comparison?${r.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok)throw new Error("No se pudo cargar comparativa");return i.json()},staleTime:3e4})}function x8e(t){return Wt({queryKey:["/api/tax/reports/productivity",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/productivity?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar anlisis de productividad");return n.json()},staleTime:3e4})}function b8e(t){return Wt({queryKey:["/api/tax/reports/predictions",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/predictions?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar predicciones");return n.json()},staleTime:3e4})}function w8e(t){return Wt({queryKey:["/api/tax/reports/temporal-performance",t],queryFn:async()=>{const e=Ed(t),n=await fetch(`/api/tax/reports/temporal-performance?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar rendimiento temporal");return n.json()},staleTime:3e4})}function N8e(t){const e=String(t).toUpperCase();return e==="PENDIENTE"||e==="NOT_STARTED"?"bg-red-100 text-red-700":e==="IN_PROGRESS"||e==="CALCULADO"?"bg-amber-100 text-amber-700":e==="PRESENTED"||e==="PRESENTADO"?"bg-emerald-100 text-emerald-700":"bg-muted"}function Bb(t){if(!t)return"";const e=typeof t=="string"?new Date(t):t;return Number.isNaN(e.getTime())?"":e.toLocaleDateString("es-ES")}function S8e({filters:t}){const[e,n]=w.useState(1),r=50,{data:i,isLoading:s}=v8e({...t,page:e,size:r}),o=i?.total??0,l=i?.items??[],c=Math.max(1,Math.ceil(o/r));return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:[o," resultados"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ge,{variant:"outline",size:"sm",disabled:e<=1,onClick:()=>n(u=>Math.max(1,u-1)),children:"Anterior"}),a.jsxs("div",{className:"text-sm",children:[e,"/",c]}),a.jsx(ge,{variant:"outline",size:"sm",disabled:e>=c,onClick:()=>n(u=>Math.min(c,u+1)),children:"Siguiente"})]})]}),a.jsx("div",{className:"rounded-md border overflow-auto",children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Modelo"}),a.jsx(Et,{children:"Periodo"}),a.jsx(Et,{children:"Gestor"}),a.jsx(Et,{children:"Cliente"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Fecha clculo"}),a.jsx(Et,{children:"Fecha presentacin"}),a.jsx(Et,{children:"Das ciclo"})]})}),a.jsx(co,{children:s?a.jsx(er,{children:a.jsx(yt,{colSpan:8,className:"text-center text-muted-foreground",children:"Cargando"})}):l.length===0?a.jsx(er,{children:a.jsx(yt,{colSpan:8,className:"text-center text-muted-foreground",children:"Sin resultados"})}):l.map(u=>a.jsxs(er,{className:"cursor-pointer hover:bg-muted/40",onClick:()=>window.location.href="/impuestos/calendario",children:[a.jsx(yt,{className:"font-medium",children:u.modelCode}),a.jsx(yt,{children:u.periodLabel}),a.jsx(yt,{children:u.gestor||""}),a.jsx(yt,{children:u.cliente||""}),a.jsx(yt,{children:a.jsx(it,{className:N8e(u.status),children:String(u.status).toUpperCase()})}),a.jsx(yt,{children:Bb(void 0)}),a.jsx(yt,{children:Bb(u.presentedAt)}),a.jsx(yt,{children:u.cycleDays??""})]},u.id))})]})})]})}function E8e({filters:t}){const e=Wie(t),n=p8e({year:t.year,model:t.model,granularity:"month"}),r=Kie(t),[i,s]=w.useState(null),[o,l]=w.useState(null),c=w.useMemo(()=>(e.data??[]).map(h=>({model:h.modelCode,pendiente:h.pending,calculado:h.inProgress,presentado:h.presented,total:h.total})),[e.data]),u=w.useMemo(()=>(n.data?.series??[]).map(h=>({x:h.x,presentados:h.presented,lead:h.leadTimeAvg})),[n.data]),d=w.useMemo(()=>(r.data??[]).map(h=>({name:h.assigneeName,avance:h.advancePct,total:h.assigned,completed:h.presented})).sort((h,y)=>y.avance-h.avance),[r.data]),f=["#10B981","#3B82F6","#F59E0B","#EF4444","#8B5CF6","#EC4899"],m=({active:h,payload:y,label:v})=>h&&y&&y.length?a.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[a.jsx("p",{className:"font-semibold mb-2",children:v}),y.map((x,b)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:x.color}}),a.jsxs("span",{children:[x.name,": ",x.value]})]},b))]}):null;return a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(Ue,{className:"md:col-span-2",children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Progreso por modelo (Interactivo)"}),a.jsx(vr,{children:"Haz clic en una barra para ver detalles"}),i&&a.jsxs(it,{className:"mt-2",onClick:()=>s(null),children:["Filtrando: ",i," "]})]}),a.jsxs(He,{className:"h-80",children:[a.jsx(Cb,{width:"100%",height:"100%",children:a.jsxs(ER,{data:c,onClick:h=>{h&&h.activeLabel&&s(h.activeLabel===i?null:h.activeLabel)},children:[a.jsx(Fv,{strokeDasharray:"3 3"}),a.jsx(fd,{dataKey:"model"}),a.jsx(wc,{}),a.jsx(Zo,{content:a.jsx(m,{})}),a.jsx(Nf,{}),a.jsx(To,{dataKey:"pendiente",stackId:"a",fill:"#EF4444",name:"Pendientes",cursor:"pointer",children:c.map((h,y)=>a.jsx(Fh,{opacity:i===null||i===h.model?1:.3},`cell-${y}`))}),a.jsx(To,{dataKey:"calculado",stackId:"a",fill:"#EAB308",name:"Calculados",cursor:"pointer",children:c.map((h,y)=>a.jsx(Fh,{opacity:i===null||i===h.model?1:.3},`cell-${y}`))}),a.jsx(To,{dataKey:"presentado",stackId:"a",fill:"#22C55E",name:"Presentados",cursor:"pointer",children:c.map((h,y)=>a.jsx(Fh,{opacity:i===null||i===h.model?1:.3},`cell-${y}`))})]})}),i&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-md text-sm",children:[a.jsxs("div",{className:"font-semibold mb-1",children:[" Detalle de ",i]}),c.filter(h=>h.model===i).map(h=>a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[a.jsxs("div",{children:["Total: ",a.jsx("strong",{children:h.total})]}),a.jsxs("div",{children:["Presentados: ",a.jsx("strong",{className:"text-emerald-600",children:h.presentado})]}),a.jsxs("div",{children:["Calculados: ",a.jsx("strong",{className:"text-amber-600",children:h.calculado})]}),a.jsxs("div",{children:["Pendientes: ",a.jsx("strong",{className:"text-rose-600",children:h.pendiente})]})]},h.model))]})]})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Tendencia mensual"}),a.jsx(vr,{children:"Presentaciones y lead time"})]}),a.jsx(He,{className:"h-80",children:a.jsx(Cb,{width:"100%",height:"100%",children:a.jsxs(gPe,{data:u,children:[a.jsx(Fv,{strokeDasharray:"3 3"}),a.jsx(fd,{dataKey:"x",angle:-45,textAnchor:"end",height:60}),a.jsx(wc,{yAxisId:"left"}),a.jsx(wc,{yAxisId:"right",orientation:"right"}),a.jsx(Zo,{content:a.jsx(m,{})}),a.jsx(Nf,{}),a.jsx(Mf,{type:"monotone",dataKey:"presentados",stroke:"#2563EB",yAxisId:"left",strokeWidth:2,dot:{r:4},name:"Presentadas"}),a.jsx(Mf,{type:"monotone",dataKey:"lead",stroke:"#9333EA",yAxisId:"right",strokeWidth:2,dot:{r:4},strokeDasharray:"5 5",name:"Lead Time (das)"})]})})})]}),a.jsxs(Ue,{className:"md:col-span-3",children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Ranking de gestores (Interactivo)"}),a.jsx(vr,{children:"Haz clic en una barra para destacar un gestor"}),o&&a.jsxs(it,{className:"mt-2",onClick:()=>l(null),children:["Filtrando: ",o," "]})]}),a.jsxs(He,{className:"h-80",children:[a.jsx(Cb,{width:"100%",height:"100%",children:a.jsxs(ER,{data:d,layout:"vertical",onClick:h=>{h&&h.activeLabel&&l(h.activeLabel===o?null:h.activeLabel)},children:[a.jsx(Fv,{strokeDasharray:"3 3"}),a.jsx(fd,{type:"number",domain:[0,100]}),a.jsx(wc,{type:"category",dataKey:"name",width:150}),a.jsx(Zo,{content:a.jsx(m,{})}),a.jsx(To,{dataKey:"avance",name:"% Avance",cursor:"pointer",children:d.map((h,y)=>a.jsx(Fh,{fill:f[y%f.length],opacity:o===null||o===h.name?1:.3},`cell-${y}`))})]})}),o&&a.jsxs("div",{className:"mt-3 p-3 bg-purple-50 rounded-md text-sm",children:[a.jsxs("div",{className:"font-semibold mb-1",children:[" Detalle de ",o]}),d.filter(h=>h.name===o).map(h=>a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{children:["Total asignado: ",a.jsx("strong",{children:h.total})]}),a.jsxs("div",{children:["Completadas: ",a.jsx("strong",{className:"text-emerald-600",children:h.completed})]}),a.jsxs("div",{children:["% Avance: ",a.jsxs("strong",{className:"text-blue-600",children:[h.avance.toFixed(1),"%"]})]})]},h.name))]})]})]})]})}function j8e({data:t,isLoading:e}){const n=t?.duplicateFilings??[],r=t?.latePresented??[],i=t?.overdueFilings??[];return a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Alertas y excepciones"})}),a.jsx(He,{className:"space-y-4 text-sm text-muted-foreground",children:e?a.jsx("div",{children:"Cargando alertas"}):a.jsxs(a.Fragment,{children:[a.jsx(wO,{title:"Vencidas sin presentar",emptyLabel:"Sin vencidos",badgeClass:"bg-destructive/10 text-destructive",items:i.map(s=>({id:`${s.clientId}-${s.taxModelCode}-${s.periodId}`,title:`${s.clientName}`,description:`${s.taxModelCode}  Venci ${Bb(s.dueDate)}`}))}),a.jsx(wO,{title:"Presentadas fuera de plazo",emptyLabel:"Sin retrasos",badgeClass:"bg-amber-100 text-amber-700",items:r.map(s=>({id:`${s.clientId}-${s.taxModelCode}-${s.periodId}`,title:`${s.clientName}`,description:`${s.taxModelCode}  entregada ${Bb(s.presentedAt)} (lmite ${Bb(s.dueDate)})`}))}),a.jsx(wO,{title:"Duplicados detectados",emptyLabel:"Sin duplicados",badgeClass:"bg-blue-100 text-blue-700",items:n.map(s=>({id:s.key,title:s.key,description:`${s.count} registros`}))})]})})]})}function wO({title:t,items:e,emptyLabel:n,badgeClass:r}){return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-foreground",children:t}),a.jsx(it,{className:r,children:e.length})]}),e.length===0?a.jsx("div",{className:"rounded-md border border-dashed px-3 py-2 text-xs",children:n}):a.jsxs("div",{className:"space-y-1",children:[e.slice(0,6).map(i=>a.jsxs("div",{className:"rounded-md border px-3 py-2",children:[a.jsx("div",{className:"font-medium text-foreground",children:i.title}),a.jsx("div",{className:"text-xs",children:i.description})]},i.id)),e.length>6&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",e.length-6," registros adicionales"]})]})]})}function _8e({filters:t}){const{data:e,isLoading:n}=x8e(t);if(n)return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Anlisis de Productividad por Gestor"}),a.jsx(vr,{children:"Rendimiento individual y mtricas de eficiencia"})]}),a.jsx(He,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando anlisis..."})})]});const r=e??[];return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Anlisis de Productividad por Gestor"}),a.jsx(vr,{children:"Rendimiento individual y mtricas de eficiencia"})]}),a.jsx(He,{className:"space-y-4",children:r.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground border border-dashed rounded-md",children:"Sin datos para mostrar"}):r.map(i=>a.jsxs("div",{className:"rounded-lg border p-4 space-y-3 bg-white hover:shadow-sm transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-base",children:i.gestorName}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:[i.total," declaraciones asignadas"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`text-2xl font-bold ${i.efficiencyScore>=80?"text-emerald-600":i.efficiencyScore>=60?"text-amber-600":"text-rose-600"}`,children:i.efficiencyScore}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Score eficiencia"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Completadas"}),a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsx("span",{className:"text-lg font-semibold text-emerald-600",children:i.completed}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",i.total]})]}),a.jsx(ky,{value:i.completionRate,className:"h-1"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"A tiempo"}),a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:i.onTime}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",i.onTimeRate,"%)"]})]}),a.jsx(ky,{value:i.onTimeRate,className:"h-1"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"En progreso"}),a.jsx("div",{className:"flex items-baseline gap-1",children:a.jsx("span",{className:"text-lg font-semibold text-amber-600",children:i.inProgress})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Pendientes"}),a.jsx("div",{className:"flex items-baseline gap-1",children:a.jsx("span",{className:"text-lg font-semibold text-slate-600",children:i.pending})})]})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[a.jsxs(it,{variant:"outline",className:"text-xs",children:[" Proc: ",i.avgProcessingTime,"d"]}),a.jsxs(it,{variant:"outline",className:"text-xs",children:[" Lead: ",i.avgLeadTime,"d"]}),i.overdue>0&&a.jsxs(it,{className:"bg-rose-100 text-rose-700 text-xs",children:[" ",i.overdue," atrasadas"]}),i.late>0&&a.jsxs(it,{className:"bg-orange-100 text-orange-700 text-xs",children:[" ",i.late," tarde"]}),i.workloadScore>10&&a.jsxs(it,{className:"bg-purple-100 text-purple-700 text-xs",children:[" Carga: ",i.workloadScore]})]})]},i.gestorId??"none"))})]})}function C8e({filters:t}){const{data:e,isLoading:n}=b8e(t);if(n)return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Alertas Inteligentes y Predicciones"}),a.jsx(vr,{children:"Sistema de deteccin temprana de riesgos"})]}),a.jsx(He,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Analizando riesgos..."})})]});const r=e??{atRiskCount:0,criticalCount:0,alerts:[],riskLevel:"low"},i={high:{color:"bg-rose-50 border-rose-200",textColor:"text-rose-900",icon:Xv,label:"Riesgo Alto",badgeClass:"bg-rose-100 text-rose-700"},medium:{color:"bg-amber-50 border-amber-200",textColor:"text-amber-900",icon:fo,label:"Riesgo Medio",badgeClass:"bg-amber-100 text-amber-700"},low:{color:"bg-emerald-50 border-emerald-200",textColor:"text-emerald-900",icon:NN,label:"Riesgo Bajo",badgeClass:"bg-emerald-100 text-emerald-700"}},s=i[r.riskLevel]||i.low,o=s.icon;return a.jsxs(Ue,{className:s.color,children:[a.jsx(lt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5"}),"Alertas Inteligentes y Predicciones"]}),a.jsx(vr,{children:"Sistema de deteccin temprana de riesgos"})]}),a.jsx(it,{className:s.badgeClass,children:s.label})]})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-lg border bg-white p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Situaciones crticas"}),a.jsx("div",{className:"text-3xl font-bold text-rose-600 mt-1",children:r.criticalCount}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Requieren atencin inmediata"})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"En riesgo"}),a.jsx("div",{className:"text-3xl font-bold text-amber-600 mt-1",children:r.atRiskCount}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Necesitan seguimiento"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium",children:"Alertas detectadas"}),r.alerts.length===0?a.jsx("div",{className:"rounded-md border border-dashed bg-white px-4 py-8 text-center text-sm text-muted-foreground",children:" No se detectaron alertas crticas. Todo en orden."}):a.jsxs("div",{className:"space-y-2",children:[r.alerts.map((l,c)=>a.jsx(ep,{className:`${l.type==="critical"?"bg-rose-50 border-rose-200":"bg-amber-50 border-amber-200"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5",children:l.type==="critical"?"":""}),a.jsxs("div",{className:"flex-1",children:[a.jsx(tp,{className:"text-sm",children:l.message}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx(it,{variant:"outline",className:"text-xs",children:l.status}),l.daysRemaining!==void 0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:l.daysRemaining>=0?`${l.daysRemaining} das restantes`:`${Math.abs(l.daysRemaining)} das de retraso`})]})]})]})},c)),r.alerts.length>=10&&a.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Mostrando las 10 alertas ms crticas"})]})]}),r.riskLevel==="high"&&a.jsxs(ep,{className:"bg-rose-50 border-rose-200",children:[a.jsx(Xv,{className:"h-4 w-4 text-rose-600"}),a.jsxs(tp,{className:"text-sm text-rose-900",children:[a.jsx("strong",{children:"Accin requerida:"})," Se detectaron mltiples situaciones crticas. Recomendamos priorizar las declaraciones con vencimiento inmediato y redistribuir la carga de trabajo si es necesario."]})]}),r.riskLevel==="medium"&&a.jsxs(ep,{className:"bg-amber-50 border-amber-200",children:[a.jsx(fo,{className:"h-4 w-4 text-amber-600"}),a.jsxs(tp,{className:"text-sm text-amber-900",children:[a.jsx("strong",{children:"Seguimiento recomendado:"})," Hay declaraciones que requieren atencin. Mantn un seguimiento cercano para evitar retrasos."]})]})]})]})}function A8e({currentYear:t,filters:e}){const[n,r]=w.useState(t-1),[i,s]=w.useState(t),{data:o,isLoading:l}=y8e(n,i,e),c=Array.from({length:10},(h,y)=>t-y);if(l)return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Comparativa Temporal"}),a.jsx(vr,{children:"Anlisis ao contra ao"})]}),a.jsx(He,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando comparativa..."})})]});const u=o?.comparison??{},d=o?.year1??{},f=o?.year2??{},m=({label:h,value1:y,value2:v,change:x,changePct:b,format:S=""})=>{const E=x>0,_=x<0,C=x===0,M=h.includes("Lead")||h.includes("Atrasados")?_:E;return a.jsxs("div",{className:"rounded-lg border p-4 bg-white",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:h}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:n}),a.jsxs("div",{className:"text-2xl font-bold text-slate-700",children:[y,S]})]}),a.jsx("div",{className:"flex items-center",children:C?a.jsx($P,{className:"h-5 w-5 text-slate-400"}):M?a.jsx(zy,{className:"h-5 w-5 text-emerald-500"}):a.jsx(Yfe,{className:"h-5 w-5 text-rose-500"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:i}),a.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[v,S]})]})]}),a.jsx("div",{className:"mt-2 pt-2 border-t",children:a.jsxs(it,{className:`text-xs ${C?"bg-slate-100 text-slate-700":M?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:[E&&"+",x,S," (",E&&"+",b,"%)"]})})]})};return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Comparativa Temporal"}),a.jsx(vr,{children:"Anlisis ao contra ao de rendimiento"}),a.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[a.jsxs(_n,{value:String(n),onValueChange:h=>r(Number(h)),children:[a.jsx(Sn,{className:"w-32",children:a.jsx(Cn,{})}),a.jsx(En,{children:c.map(h=>a.jsx(Qe,{value:String(h),children:h},h))})]}),a.jsx("span",{className:"text-muted-foreground",children:"vs"}),a.jsxs(_n,{value:String(i),onValueChange:h=>s(Number(h)),children:[a.jsx(Sn,{className:"w-32",children:a.jsx(Cn,{})}),a.jsx(En,{children:c.map(h=>a.jsx(Qe,{value:String(h),children:h},h))})]})]})]}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(m,{label:"Total de declaraciones",value1:d.total,value2:f.total,change:u.totalChange,changePct:u.totalChangePct}),a.jsx(m,{label:"Presentadas",value1:d.presented,value2:f.presented,change:u.presentedChange,changePct:u.presentedChangePct}),a.jsx(m,{label:"Eficiencia",value1:d.efficiencyScore,value2:f.efficiencyScore,change:u.efficiencyChange,changePct:0,format:"%"}),a.jsx(m,{label:"Lead Time promedio",value1:d.leadTimeAvg,value2:f.leadTimeAvg,change:u.leadTimeChange,changePct:0,format:"d"}),a.jsx(m,{label:"Cumplimiento (a tiempo)",value1:d.onTimePct,value2:f.onTimePct,change:u.onTimeChange,changePct:0,format:"%"}),a.jsx(m,{label:"Atrasados",value1:d.overdue,value2:f.overdue,change:f.overdue-d.overdue,changePct:0})]}),a.jsxs("div",{className:"rounded-lg bg-slate-50 p-4 border",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:" Resumen de cambios"}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("div",{children:[u.totalChangePct>0?"":u.totalChangePct<0?"":""," ","Volumen de trabajo: ",u.totalChangePct>0?"increment":u.totalChangePct<0?"disminuy":"se mantuvo"," ",Math.abs(u.totalChangePct),"%"]}),a.jsxs("div",{children:[u.efficiencyChange>0?"":u.efficiencyChange<0?"":""," ","Eficiencia: ",u.efficiencyChange>0?"mejor":u.efficiencyChange<0?"empeor":"se mantuvo"," ",Math.abs(u.efficiencyChange).toFixed(1)," puntos"]}),a.jsxs("div",{children:[u.leadTimeChange<0?"":u.leadTimeChange>0?"":""," ","Lead time: ",u.leadTimeChange<0?"mejor":u.leadTimeChange>0?"empeor":"se mantuvo"," (",Math.abs(u.leadTimeChange).toFixed(1)," das)"]})]})]})]})]})}function k8e({filters:t}){const{data:e,isLoading:n}=w8e(t);if(n)return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Rendimiento Temporal"}),a.jsx(vr,{children:"Evolucin mensual de mtricas clave"})]}),a.jsx(He,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando datos temporales..."})})]});const r=e?.series??[];if(r.length===0)return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Rendimiento Temporal"}),a.jsx(vr,{children:"Evolucin mensual de mtricas clave"})]}),a.jsx(He,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground border border-dashed rounded-md",children:"No hay suficientes datos para mostrar tendencias"})})]});const i=r.reduce((f,m)=>f+m.presented,0)/r.length,s=r.reduce((f,m)=>f+m.onTimeRate,0)/r.length,o=r.reduce((f,m)=>f+m.avgLeadTime,0)/r.length,l=r[r.length-1],c=r[r.length-2],u=c?((l.presented-c.presented)/c.presented*100).toFixed(1):0,d=c?(l.onTimeRate-c.onTimeRate).toFixed(1):0;return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Rendimiento Temporal"}),a.jsx(vr,{children:"Evolucin mensual de mtricas clave"})]}),a.jsxs(He,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"rounded-lg border bg-blue-50 p-4",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Promedio mensual"}),a.jsx("div",{className:"text-2xl font-bold text-blue-700",children:i.toFixed(0)}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"declaraciones"})]}),a.jsxs("div",{className:"rounded-lg border bg-emerald-50 p-4",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Cumplimiento promedio"}),a.jsxs("div",{className:"text-2xl font-bold text-emerald-700",children:[s.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"entregas a tiempo"})]}),a.jsxs("div",{className:"rounded-lg border bg-purple-50 p-4",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Lead time promedio"}),a.jsxs("div",{className:"text-2xl font-bold text-purple-700",children:[o.toFixed(1),"d"]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"das de ciclo"})]})]}),c&&a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-50 border text-sm",children:[a.jsx("div",{className:"flex-1",children:a.jsx("span",{className:"font-medium",children:"ltimo mes vs anterior:"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Presentadas:"}),a.jsxs("span",{className:`font-semibold ${Number(u)>=0?"text-emerald-600":"text-rose-600"}`,children:[Number(u)>=0?"+":"",u,"%"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Cumplimiento:"}),a.jsxs("span",{className:`font-semibold ${Number(d)>=0?"text-emerald-600":"text-rose-600"}`,children:[Number(d)>=0?"+":"",d,"%"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(Cb,{width:"100%",height:"100%",children:a.jsxs(vPe,{data:r,children:[a.jsx(Fv,{strokeDasharray:"3 3"}),a.jsx(fd,{dataKey:"month",angle:-45,textAnchor:"end",height:80}),a.jsx(wc,{yAxisId:"left"}),a.jsx(wc,{yAxisId:"right",orientation:"right"}),a.jsx(Zo,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px"},labelStyle:{fontWeight:"bold"}}),a.jsx(Nf,{}),a.jsx(To,{yAxisId:"left",dataKey:"presented",fill:"#3B82F6",name:"Presentadas"}),a.jsx(To,{yAxisId:"left",dataKey:"onTime",fill:"#10B981",name:"A tiempo",stackId:"status"}),a.jsx(To,{yAxisId:"left",dataKey:"late",fill:"#F59E0B",name:"Tarde",stackId:"status"}),a.jsx(Mf,{yAxisId:"right",type:"monotone",dataKey:"avgLeadTime",stroke:"#9333EA",strokeWidth:2,name:"Lead Time (das)",dot:{r:4}}),a.jsx(Mf,{yAxisId:"right",type:"monotone",dataKey:"onTimeRate",stroke:"#059669",strokeWidth:2,strokeDasharray:"5 5",name:"% Cumplimiento",dot:{r:4}})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:" Mejor mes"}),(()=>{const f=r.reduce((m,h)=>h.onTimeRate>m.onTimeRate?h:m,r[0]);return a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsx("div",{className:"font-medium text-foreground",children:f.month}),a.jsxs("div",{children:[f.presented," declaraciones"]}),a.jsxs("div",{className:"text-emerald-600",children:[f.onTimeRate,"% a tiempo"]})]})})()]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:" Mes con ms desafos"}),(()=>{const f=r.reduce((m,h)=>h.onTimeRate<m.onTimeRate?h:m,r[0]);return a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsx("div",{className:"font-medium text-foreground",children:f.month}),a.jsxs("div",{children:[f.presented," declaraciones"]}),a.jsxs("div",{className:"text-amber-600",children:[f.onTimeRate,"% a tiempo"]})]})})()]})]})]})]})}function T8e(t){return Wt({queryKey:["/api/tax/reports/goals",t],queryFn:async()=>{const e=new URLSearchParams;t.year&&e.set("year",String(t.year)),t.model&&e.set("model",t.model),t.assigneeId&&e.set("assigneeId",t.assigneeId);const n=await fetch(`/api/tax/reports/goals?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar las metas");return n.json()},staleTime:3e4})}function O8e({filters:t}){const{data:e,isLoading:n}=T8e(t);if(n)return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(MF,{className:"h-5 w-5"}),"Metas y Objetivos"]}),a.jsx(vr,{children:"Seguimiento de objetivos del periodo"})]}),a.jsx(He,{children:a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando metas..."})})]});const r=e??[],i=r.filter(d=>d.achieved).length,s=r.length,o=s>0?i/s*100:0,l={achieved:{icon:Oo,color:"text-emerald-600",bg:"bg-emerald-50",badge:"bg-emerald-100 text-emerald-700",label:"Lograda"},"on-track":{icon:zy,color:"text-blue-600",bg:"bg-blue-50",badge:"bg-blue-100 text-blue-700",label:"En camino"},"at-risk":{icon:Xv,color:"text-amber-600",bg:"bg-amber-50",badge:"bg-amber-100 text-amber-700",label:"En riesgo"},"off-track":{icon:Nc,color:"text-rose-600",bg:"bg-rose-50",badge:"bg-rose-100 text-rose-700",label:"Fuera de meta"}},c=d=>({efficiency:"Eficiencia",completion:"Completitud",onTime:"Cumplimiento",leadTime:"Lead Time",volume:"Volumen"})[d]||d,u=d=>({efficiency:"%",completion:"%",onTime:"%",leadTime:"d",volume:""})[d]||"";return a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(MF,{className:"h-5 w-5"}),"Metas y Objetivos"]}),a.jsx(vr,{children:"Seguimiento de objetivos del periodo"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[i,"/",s]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Metas logradas"})]})]})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border p-4 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Logro General"}),a.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[o.toFixed(0),"%"]})]}),a.jsx(ky,{value:o,className:"h-3"})]}),r.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground border border-dashed rounded-md",children:"No hay metas definidas para este periodo"}):a.jsx("div",{className:"space-y-3",children:r.map((d,f)=>{const m=l[d.status]||l["off-track"],h=m.icon,y=d.type==="leadTime";return a.jsxs("div",{className:`rounded-lg border p-4 ${m.bg} transition-all hover:shadow-sm`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(h,{className:`h-5 w-5 mt-0.5 ${m.color}`}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-foreground",children:c(d.type)}),d.description&&a.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:d.description})]})]}),a.jsx(it,{className:m.badge,children:m.label})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Actual"}),a.jsxs("div",{className:"text-lg font-bold",children:[d.currentValue,u(d.type)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Meta"}),a.jsxs("div",{className:"text-lg font-bold",children:[y?"":""," ",d.targetValue,u(d.type)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Progreso"}),a.jsxs("div",{className:"text-lg font-bold",children:[d.progress,"%"]})]})]}),a.jsx(ky,{value:d.progress,className:"h-2"}),a.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:d.achieved?a.jsx("span",{className:"text-emerald-700 font-medium",children:" Meta alcanzada exitosamente"}):d.status==="on-track"?a.jsxs("span",{className:"text-blue-700 font-medium",children:[" Vas bien, faltan ",y?`${(d.currentValue-d.targetValue).toFixed(1)}${u(d.type)} por reducir`:`${(d.targetValue-d.currentValue).toFixed(1)}${u(d.type)} para alcanzar la meta`]}):d.status==="at-risk"?a.jsx("span",{className:"text-amber-700 font-medium",children:" Requiere atencin para alcanzar la meta"}):a.jsx("span",{className:"text-rose-700 font-medium",children:" Lejos de la meta, se requiere accin correctiva"})})]},f)})}),r.length>0&&a.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-4 border-t",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:r.filter(d=>d.status==="achieved").length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Logradas"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.filter(d=>d.status==="on-track").length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"En camino"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-amber-600",children:r.filter(d=>d.status==="at-risk").length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"En riesgo"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-rose-600",children:r.filter(d=>d.status==="off-track").length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Fuera meta"})]})]})]})]})}function P8e(){const t=new Date().getFullYear(),[e,n]=w.useState({year:t});w.useEffect(()=>{const m=localStorage.getItem("reports.filters");if(m)try{const h=JSON.parse(m);h?.year&&n(h)}catch{}},[]),w.useEffect(()=>{localStorage.setItem("reports.filters",JSON.stringify(e))},[e]);const r=h8e(e),i=Wie(e),s=m8e(e),o=Kie(e),l=g8e(e),{data:c=[]}=Wt({queryKey:["/api/tax-models"],queryFn:w_}),u=w.useMemo(()=>{const m=c.map(v=>({code:v.code,name:v.name})),h=Object.entries(c_).map(([v,x])=>({code:v,name:x.name})),y=new Map;return h.forEach(v=>y.set(v.code,v)),m.forEach(v=>y.set(v.code,v)),Array.from(y.values()).sort((v,x)=>v.code.localeCompare(x.code))},[c]),d=w.useMemo(()=>(o.data??[]).filter(h=>h.assigneeId||h.assigneeName).map(h=>({id:h.assigneeId??"none",name:h.assigneeName??"Sin asignar"})),[o.data]),f=w.useMemo(()=>{const m=new URLSearchParams;return m.set("year",String(e.year)),e.model&&m.set("model",e.model),e.status&&m.set("status",e.status),e.assigneeId&&m.set("assigneeId",e.assigneeId),`/api/tax/reports/export?${m.toString()}`},[e]);return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Reportes de Impuestos"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Analiza el avance y los riesgos fiscales"})]}),a.jsx(b_,{}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{className:"text-base",children:"Filtros"}),a.jsx(vr,{children:"Define el alcance del informe"})]}),a.jsxs(He,{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ao"}),a.jsx(Fe,{className:"w-24 h-9",type:"number",min:2e3,value:e.year,onChange:m=>n(h=>({...h,year:Number(m.target.value)}))})]}),a.jsxs(_n,{value:e.model??"ALL",onValueChange:m=>n(h=>({...h,model:m==="ALL"?void 0:m})),children:[a.jsx(Sn,{className:"w-56 h-9",children:a.jsx(Cn,{placeholder:"Modelo"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"ALL",children:"Todos"}),u.map(m=>a.jsxs(Qe,{value:m.code,children:[m.code,"  ",m.name]},m.code))]})]}),a.jsxs(_n,{value:e.status??"ALL",onValueChange:m=>n(h=>({...h,status:m==="ALL"?void 0:m})),children:[a.jsx(Sn,{className:"w-44 h-9",children:a.jsx(Cn,{placeholder:"Estado"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"ALL",children:"Todos"}),a.jsx(Qe,{value:"PENDIENTE",children:"Pendiente"}),a.jsx(Qe,{value:"IN_PROGRESS",children:"Calculado"}),a.jsx(Qe,{value:"PRESENTED",children:"Presentado"})]})]}),a.jsxs(_n,{value:e.assigneeId??"ALL",onValueChange:m=>n(h=>({...h,assigneeId:m==="ALL"?void 0:m})),children:[a.jsx(Sn,{className:"w-56 h-9",children:a.jsx(Cn,{placeholder:"Gestor"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"ALL",children:"Todos los gestores"}),d.map(m=>a.jsx(Qe,{value:m.id,children:m.name},m.id))]})]}),a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx(ge,{variant:"outline",onClick:()=>n({year:t}),children:"Limpiar"}),a.jsx(ge,{variant:"outline",onClick:()=>window.open(f,"_blank"),children:" CSV"}),a.jsx(ge,{variant:"default",onClick:()=>{const m=new URLSearchParams;m.set("year",String(e.year)),e.model&&m.set("model",e.model),e.status&&m.set("status",e.status),e.assigneeId&&m.set("assigneeId",e.assigneeId),window.open(`/api/tax/reports/export-excel?${m.toString()}`,"_blank")},children:" Excel Avanzado"})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Ue,{className:"bg-gradient-to-br from-red-50 to-red-100",children:a.jsx(He,{className:"py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Pendientes"}),a.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.pending??0})]}),a.jsx("div",{className:"text-red-500 text-4xl",children:""})]})})}),a.jsx(Ue,{className:"bg-gradient-to-br from-amber-50 to-amber-100",children:a.jsx(He,{className:"py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Calculados"}),a.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.inProgress??0})]}),a.jsx("div",{className:"text-amber-500 text-4xl",children:""})]})})}),a.jsx(Ue,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100",children:a.jsx(He,{className:"py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Presentados"}),a.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.presented??0})]}),a.jsx("div",{className:"text-emerald-500 text-4xl",children:""})]})})}),a.jsx(Ue,{className:"bg-gradient-to-br from-slate-50 to-slate-100",children:a.jsx(He,{className:"py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"}),a.jsx("div",{className:"text-3xl font-display font-bold",children:r.data?.total??0})]}),a.jsx("div",{className:"text-slate-500 text-4xl",children:""})]})})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3 xl:grid-cols-6",children:[a.jsx(iv,{title:"% Completado",value:`${r.data?.completionRate??0}%`,color:"bg-blue-50",subtitle:`${r.data?.workload??0} en curso`}),a.jsx(iv,{title:"Score de Eficiencia",value:`${r.data?.efficiencyScore??0}%`,color:"bg-purple-50",subtitle:"Calidad global"}),a.jsx(iv,{title:"Cumplimiento",value:`${r.data?.onTimePct??0}%`,color:"bg-green-50",subtitle:`${r.data?.onTimeFilings??0} a tiempo`}),a.jsx(iv,{title:"Lead Time",value:`${r.data?.leadTimeAvg??0}d`,color:"bg-indigo-50",subtitle:"Tiempo medio"}),a.jsx(iv,{title:"Procesamiento",value:`${r.data?.processingTimeAvg??0}d`,color:"bg-cyan-50",subtitle:"Tiempo medio"}),a.jsx(iv,{title:"Atrasadas",value:r.data?.lateFilings??0,color:"bg-orange-50",subtitle:"Fuera de plazo"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(Ue,{className:"bg-rose-50 border-rose-200",children:a.jsx(He,{className:"py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-rose-700",children:" Atrasados"}),a.jsx("div",{className:"text-2xl font-bold text-rose-900",children:r.data?.overdue??0})]})})})}),a.jsx(Ue,{className:"bg-orange-50 border-orange-200",children:a.jsx(He,{className:"py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-orange-700",children:" Vencen en 3 das"}),a.jsx("div",{className:"text-2xl font-bold text-orange-900",children:r.data?.dueIn3??0})]})})})}),a.jsx(Ue,{className:"bg-amber-50 border-amber-200",children:a.jsx(He,{className:"py-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium text-amber-700",children:" Vencen en 7 das"}),a.jsx("div",{className:"text-2xl font-bold text-amber-900",children:r.data?.dueIn7??0})]})})})})]}),a.jsx(E8e,{filters:e}),a.jsx(O8e,{filters:e}),a.jsx(C8e,{filters:e}),a.jsx(_8e,{filters:e}),a.jsx(A8e,{currentYear:t,filters:{model:e.model,assigneeId:e.assigneeId}}),a.jsx(k8e,{filters:e}),a.jsxs("div",{className:"grid gap-4 xl:grid-cols-3",children:[a.jsx(M8e,{data:s.data??[],isLoading:s.isLoading}),a.jsxs(Ue,{className:"xl:col-span-2",children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Desglose por modelo"}),a.jsx(vr,{children:"Seguimiento del estado por modelo AEAT"})]}),a.jsx(He,{className:"space-y-2 text-sm",children:(i.data??[]).length===0?a.jsx("div",{className:"rounded-md border border-dashed px-3 py-6 text-center text-muted-foreground",children:"Sin datos para los filtros seleccionados"}):(i.data??[]).map(m=>a.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:m.modelCode}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total ",m.total]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs(it,{className:"bg-red-100 text-red-700",children:["P ",m.pending]}),a.jsxs(it,{className:"bg-amber-100 text-amber-700",children:["C ",m.inProgress]}),a.jsxs(it,{className:"bg-emerald-100 text-emerald-700",children:["PR ",m.presented]}),a.jsxs(it,{className:"bg-orange-100 text-orange-700",children:["AT ",m.overdue]}),a.jsxs("span",{className:"text-muted-foreground",children:["Avance ",m.advancePct,"%"]})]})]},m.modelCode))})]})]}),a.jsx(j8e,{data:l.data,isLoading:l.isLoading}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Detalle de presentaciones"}),a.jsx(vr,{children:"Listado paginado de declaraciones"})]}),a.jsx(He,{children:a.jsx(S8e,{filters:e})})]})]})}function iv({title:t,value:e,color:n,subtitle:r}){return a.jsx(Ue,{className:`${n}`,children:a.jsxs(He,{className:"py-4",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:t}),a.jsx("div",{className:"text-2xl font-display font-bold",children:e}),r&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function M8e({data:t,isLoading:e}){return a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Clientes prioritarios"}),a.jsx(vr,{children:"Clientes con ms modelos activos"})]}),a.jsx(He,{className:"space-y-2 text-sm",children:e?a.jsx("div",{children:"Cargando"}):t.length===0?a.jsx("div",{className:"rounded-md border border-dashed px-3 py-4 text-center text-muted-foreground",children:"Sin clientes en los filtros actuales"}):t.slice().sort((n,r)=>(r.overdue??0)-(n.overdue??0)||r.modelsActive-n.modelsActive).slice(0,6).map(n=>a.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:n.clientName}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.modelsActive," modelo(s)  avance ",Math.round(n.advancePct??0),"%"]})]}),a.jsxs(it,{className:n.overdue?"bg-destructive/10 text-destructive":"bg-emerald-100 text-emerald-700",children:[n.overdue??0," atrasos"]})]},n.clientId))})]})}function R8e(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var RL="ScrollArea",[Gie]=Ea(RL),[I8e,Rc]=Gie(RL),Yie=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(null),[h,y]=w.useState(null),[v,x]=w.useState(null),[b,S]=w.useState(0),[E,_]=w.useState(0),[C,O]=w.useState(!1),[M,A]=w.useState(!1),P=Mn(e,R=>c(R)),F=Gy(i);return a.jsx(I8e,{scope:n,type:r,dir:F,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:M,onScrollbarYEnabledChange:A,onCornerWidthChange:S,onCornerHeightChange:_,children:a.jsx($t.div,{dir:F,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":E+"px",...t.style}})})});Yie.displayName=RL;var Xie="ScrollAreaViewport",Qie=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=Rc(Xie,n),l=w.useRef(null),c=Mn(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx($t.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Qie.displayName=Xie;var jd="ScrollAreaScrollbar",IL=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Rc(jd,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return w.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?a.jsx(D8e,{...r,ref:e,forceMount:n}):i.type==="scroll"?a.jsx(L8e,{...r,ref:e,forceMount:n}):i.type==="auto"?a.jsx(Jie,{...r,ref:e,forceMount:n}):i.type==="always"?a.jsx(DL,{...r,ref:e}):null});IL.displayName=jd;var D8e=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Rc(jd,t.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(ja,{present:n||s,children:a.jsx(Jie,{"data-state":s?"visible":"hidden",...r,ref:e})})}),L8e=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Rc(jd,t.__scopeScrollArea),s=t.orientation==="horizontal",o=S_(()=>c("SCROLL_END"),100),[l,c]=R8e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),w.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,c,o]),a.jsx(ja,{present:n||l!=="hidden",children:a.jsx(DL,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Nt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Nt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Jie=w.forwardRef((t,e)=>{const n=Rc(jd,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=w.useState(!1),l=t.orientation==="horizontal",c=S_(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Py(n.viewport,c),Py(n.content,c),a.jsx(ja,{present:r||s,children:a.jsx(DL,{"data-state":s?"visible":"hidden",...i,ref:e})})}),DL=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Rc(jd,t.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rse(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return U8e(m,o.current,l,h)}return n==="horizontal"?a.jsx(F8e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,h=dH(m,l,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):n==="vertical"?a.jsx($8e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,h=dH(m,l);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),F8e=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Rc(jd,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=Mn(e,c,s.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(ese,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":N_(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),sse(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:QS(o.paddingLeft),paddingEnd:QS(o.paddingRight)}})}})}),$8e=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Rc(jd,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=Mn(e,c,s.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(ese,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":N_(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),sse(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:QS(o.paddingTop),paddingEnd:QS(o.paddingBottom)}})}})}),[B8e,Zie]=Gie(jd),ese=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=t,h=Rc(jd,n),[y,v]=w.useState(null),x=Mn(e,P=>v(P)),b=w.useRef(null),S=w.useRef(""),E=h.viewport,_=r.content-r.viewport,C=ps(d),O=ps(c),M=S_(f,10);function A(P){if(b.current){const F=P.clientX-b.current.left,R=P.clientY-b.current.top;u({x:F,y:R})}}return w.useEffect(()=>{const P=F=>{const R=F.target;y?.contains(R)&&C(F,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[E,y,_,C]),w.useEffect(O,[r,O]),Py(y,M),Py(h.content,M),a.jsx(B8e,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:ps(s),onThumbPointerUp:ps(o),onThumbPositionChange:O,onThumbPointerDown:ps(l),children:a.jsx($t.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:Nt(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=y.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:Nt(t.onPointerMove,A),onPointerUp:Nt(t.onPointerUp,P=>{const F=P.target;F.hasPointerCapture(P.pointerId)&&F.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=S.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),XS="ScrollAreaThumb",tse=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Zie(XS,t.__scopeScrollArea);return a.jsx(ja,{present:n||i.hasThumb,children:a.jsx(z8e,{ref:e,...r})})}),z8e=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Rc(XS,n),o=Zie(XS,n),{onThumbPositionChange:l}=o,c=Mn(e,f=>o.onThumbChange(f)),u=w.useRef(void 0),d=S_(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(d(),!u.current){const h=H8e(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,d,l]),a.jsx($t.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Nt(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),y=f.clientX-h.left,v=f.clientY-h.top;o.onThumbPointerDown({x:y,y:v})}),onPointerUp:Nt(t.onPointerUp,o.onThumbPointerUp)})});tse.displayName=XS;var LL="ScrollAreaCorner",nse=w.forwardRef((t,e)=>{const n=Rc(LL,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(q8e,{...t,ref:e}):null});nse.displayName=LL;var q8e=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Rc(LL,n),[s,o]=w.useState(0),[l,c]=w.useState(0),u=!!(s&&l);return Py(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),c(d)}),Py(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),o(d)}),u?a.jsx($t.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function QS(t){return t?parseInt(t,10):0}function rse(t,e){const n=t/e;return isNaN(n)?0:n}function N_(t){const e=rse(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function U8e(t,e,n,r="ltr"){const i=N_(n),s=i/2,o=e||s,l=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return ise([c,u],f)(t)}function dH(t,e,n="ltr"){const r=N_(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=U0(t,c);return ise([0,o],[0,l])(u)}function ise(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function sse(t,e){return t>0&&t<e}var H8e=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function S_(t,e){const n=ps(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Py(t,e){const n=ps(e);_s(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var ase=Yie,V8e=Qie,W8e=nse;const E_=w.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(ase,{ref:r,className:gt("relative overflow-hidden",t),...n,children:[a.jsx(V8e,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(ose,{}),a.jsx(W8e,{})]}));E_.displayName=ase.displayName;const ose=w.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(IL,{ref:r,orientation:e,className:gt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(tse,{className:"relative flex-1 rounded-full bg-border"})}));ose.displayName=IL.displayName;function K8e({htmlContent:t}){const[e,n]=w.useState([]),[r,i]=w.useState("");w.useEffect(()=>{const c=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6"),u=[];c.forEach((f,m)=>{const h=parseInt(f.tagName.substring(1)),y=f.textContent||"";let v=f.id;v||(v=`heading-${m}-${y.toLowerCase().replace(/\s+/g,"-").slice(0,30)}`,f.id=v),u.push({id:v,text:y,level:h})}),n(u);const d=new IntersectionObserver(f=>{f.forEach(m=>{m.isIntersecting&&i(m.target.id)})},{rootMargin:"-20% 0px -35% 0px"});return c.forEach(f=>d.observe(f)),()=>d.disconnect()},[t]);const s=o=>{const l=document.getElementById(o);l&&l.scrollIntoView({behavior:"smooth",block:"start"})};return e.length===0?null:a.jsxs(Ue,{className:"sticky top-4",children:[a.jsx(lt,{className:"pb-3",children:a.jsxs(ut,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(pI,{className:"h-4 w-4"}),"Tabla de Contenidos"]})}),a.jsx(He,{children:a.jsx(E_,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-1",children:e.map(o=>a.jsx("button",{onClick:()=>s(o.id),className:`
                  w-full text-left text-sm py-1 px-2 rounded transition-colors
                  ${o.level===1?"font-semibold":""}
                  ${o.level===2?"pl-4":""}
                  ${o.level===3?"pl-8":""}
                  ${o.level>=4?"pl-12":""}
                  ${r===o.id?"bg-primary text-primary-foreground":"hover-elevate text-muted-foreground hover:text-foreground"}
                `,"data-testid":`toc-item-${o.id}`,children:o.text},o.id))})})})]})}const G8e="modulepreload",Y8e=function(t){return"/"+t},fH={},NO=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(n.map(u=>{if(u=Y8e(u),u in fH)return;fH[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":G8e,d||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((h,y)=>{m.addEventListener("load",h),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function ri(t){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(t)}var ju=Uint8Array,Fl=Uint16Array,FL=Int32Array,$L=new ju([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),BL=new ju([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hH=new ju([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lse=function(t,e){for(var n=new Fl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new FL(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},cse=lse($L,2),X8e=cse.b,XR=cse.r;X8e[28]=258,XR[258]=28;var Q8e=lse(BL,0),pH=Q8e.r,QR=new Fl(32768);for(var Ri=0;Ri<32768;++Ri){var Nh=(Ri&43690)>>1|(Ri&21845)<<1;Nh=(Nh&52428)>>2|(Nh&13107)<<2,Nh=(Nh&61680)>>4|(Nh&3855)<<4,QR[Ri]=((Nh&65280)>>8|(Nh&255)<<8)>>1}var zb=(function(t,e,n){for(var r=t.length,i=0,s=new Fl(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Fl(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(n){l=new Fl(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],f=o[t[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[QR[f]>>c]=u}else for(l=new Fl(r),i=0;i<r;++i)t[i]&&(l[i]=QR[o[t[i]-1]++]>>15-t[i]);return l}),Jm=new ju(288);for(var Ri=0;Ri<144;++Ri)Jm[Ri]=8;for(var Ri=144;Ri<256;++Ri)Jm[Ri]=9;for(var Ri=256;Ri<280;++Ri)Jm[Ri]=7;for(var Ri=280;Ri<288;++Ri)Jm[Ri]=8;var JS=new ju(32);for(var Ri=0;Ri<32;++Ri)JS[Ri]=5;var J8e=zb(Jm,9,0),Z8e=zb(JS,5,0),use=function(t){return(t+7)/8|0},e$e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ju(t.subarray(e,n))},sf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ab=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},SO=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:fse,l:0};if(i==1){var o=new ju(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,O){return C.f-O.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var h=new Fl(m+1),y=JR(n[d-1],h,0);if(y>e){var r=0,v=0,x=y-e,b=1<<x;for(s.sort(function(O,M){return h[M.s]-h[O.s]||O.f-M.f});r<i;++r){var S=s[r].s;if(h[S]>e)v+=b-(1<<y-h[S]),h[S]=e;else break}for(v>>=x;v>0;){var E=s[r].s;h[E]<e?v-=1<<e-h[E]++-1:++r}for(;r>=0&&v;--r){var _=s[r].s;h[_]==e&&(--h[_],++v)}y=e}return{t:new ju(h),l:y}},JR=function(t,e,n){return t.s==-1?Math.max(JR(t.l,e,n+1),JR(t.r,e,n+1)):e[t.s]=n},mH=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Fl(++e),r=0,i=t[0],s=1,o=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[l]}return{c:n.subarray(0,r),n:e}},ob=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},dse=function(t,e,n){var r=n.length,i=use(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},gH=function(t,e,n,r,i,s,o,l,c,u,d){sf(e,d++,n),++i[256];for(var f=SO(i,15),m=f.t,h=f.l,y=SO(s,15),v=y.t,x=y.l,b=mH(m),S=b.c,E=b.n,_=mH(v),C=_.c,O=_.n,M=new Fl(19),A=0;A<S.length;++A)++M[S[A]&31];for(var A=0;A<C.length;++A)++M[C[A]&31];for(var P=SO(M,7),F=P.t,R=P.l,$=19;$>4&&!F[hH[$-1]];--$);var q=u+5<<3,z=ob(i,Jm)+ob(s,JS)+o,G=ob(i,m)+ob(s,v)+o+14+3*$+ob(M,F)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&q<=z&&q<=G)return dse(e,d,t.subarray(c,c+u));var X,U,W,Y;if(sf(e,d,1+(G<z)),d+=2,G<z){X=zb(m,h,0),U=m,W=zb(v,x,0),Y=v;var ie=zb(F,R,0);sf(e,d,E-257),sf(e,d+5,O-1),sf(e,d+10,$-4),d+=14;for(var A=0;A<$;++A)sf(e,d+3*A,F[hH[A]]);d+=3*$;for(var Q=[S,C],I=0;I<2;++I)for(var V=Q[I],A=0;A<V.length;++A){var J=V[A]&31;sf(e,d,ie[J]),d+=F[J],J>15&&(sf(e,d,V[A]>>5&127),d+=V[A]>>12)}}else X=J8e,U=Jm,W=Z8e,Y=JS;for(var A=0;A<l;++A){var re=r[A];if(re>255){var J=re>>18&31;ab(e,d,X[J+257]),d+=U[J+257],J>7&&(sf(e,d,re>>23&31),d+=$L[J]);var fe=re&31;ab(e,d,W[fe]),d+=Y[fe],fe>3&&(ab(e,d,re>>5&8191),d+=BL[fe])}else ab(e,d,X[re]),d+=U[re]}return ab(e,d,X[256]),d+U[256]},t$e=new FL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fse=new ju(0),n$e=function(t,e,n,r,i,s){var o=s.z||t.length,l=new ju(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var f=t$e[e-1],m=f>>13,h=f&8191,y=(1<<n)-1,v=s.p||new Fl(32768),x=s.h||new Fl(y+1),b=Math.ceil(n/3),S=2*b,E=function(ee){return(t[ee]^t[ee+1]<<b^t[ee+2]<<S)&y},_=new FL(25e3),C=new Fl(288),O=new Fl(32),M=0,A=0,P=s.i||0,F=0,R=s.w||0,$=0;P+2<o;++P){var q=E(P),z=P&32767,G=x[q];if(v[z]=G,x[q]=z,R<=P){var X=o-P;if((M>7e3||F>24576)&&(X>423||!u)){d=gH(t,c,0,_,C,O,A,F,$,P-$,d),F=M=A=0,$=P;for(var U=0;U<286;++U)C[U]=0;for(var U=0;U<30;++U)O[U]=0}var W=2,Y=0,ie=h,Q=z-G&32767;if(X>2&&q==E(P-Q))for(var I=Math.min(m,X)-1,V=Math.min(32767,P),J=Math.min(258,X);Q<=V&&--ie&&z!=G;){if(t[P+W]==t[P+W-Q]){for(var re=0;re<J&&t[P+re]==t[P+re-Q];++re);if(re>W){if(W=re,Y=Q,re>I)break;for(var fe=Math.min(Q,re-2),pe=0,U=0;U<fe;++U){var xe=P-Q+U&32767,de=v[xe],we=xe-de&32767;we>pe&&(pe=we,G=xe)}}}z=G,G=v[z],Q+=z-G&32767}if(Y){_[F++]=268435456|XR[W]<<18|pH[Y];var Ce=XR[W]&31,ae=pH[Y]&31;A+=$L[Ce]+BL[ae],++C[257+Ce],++O[ae],R=P+W,++M}else _[F++]=t[P],++C[t[P]]}}for(P=Math.max(P,R);P<o;++P)_[F++]=t[P],++C[t[P]];d=gH(t,c,u,_,C,O,A,F,$,P-$,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=x,s.p=v,s.i=P,s.w=R)}else{for(var P=s.w||0;P<o+u;P+=65535){var Pe=P+65535;Pe>=o&&(c[d/8|0]=u,Pe=o),d=dse(c,d+1,t.subarray(P,Pe))}s.i=o}return e$e(l,0,r+use(d)+i)},hse=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},r$e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ju(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return n$e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},pse=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},i$e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=hse();i.p(e.dictionary),pse(t,2,i.d())}};function ZR(t,e){e||(e={});var n=hse();n.p(t);var r=r$e(t,e,e.dictionary?6:2,4);return i$e(r,e),pse(r,r.length-4,n.d()),r}var s$e=typeof TextDecoder<"u"&&new TextDecoder,a$e=0;try{s$e.decode(fse,{stream:!0}),a$e=1}catch{}function o$e(t){if(Array.isArray(t))return t}function l$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c$e(t,e){if(t){if(typeof t=="string")return vH(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vH(t,e):void 0}}function u$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yH(t,e){return o$e(t)||l$e(t,e)||c$e(t,e)||u$e()}function xH(t,e="utf8"){return new TextDecoder(e).decode(t)}const d$e=new TextEncoder;function f$e(t){return d$e.encode(t)}const h$e=1024*8,p$e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),EO={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class zL{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=h$e,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof zL)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=EO[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===p$e&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new EO[n](l.buffer);return this.offset+=r,c.reverse(),c}const o=new EO[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return xH(this.readBytes(e))}decodeText(e=1,n="utf8"){return xH(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(f$e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mx(t){let e=t.length;for(;--e>=0;)t[e]=0}const m$e=3,g$e=258,mse=29,v$e=256,y$e=v$e+1+mse,gse=30,x$e=512,b$e=new Array((y$e+2)*2);mx(b$e);const w$e=new Array(gse*2);mx(w$e);const N$e=new Array(x$e);mx(N$e);const S$e=new Array(g$e-m$e+1);mx(S$e);const E$e=new Array(mse);mx(E$e);const j$e=new Array(gse);mx(j$e);const _$e=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var e4=_$e;const C$e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},A$e=new Uint32Array(C$e()),k$e=(t,e,n,r)=>{const i=A$e,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Ku=k$e,t4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vse={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const T$e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var O$e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)T$e(n,r)&&(t[r]=n[r])}}return t},P$e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},yse={assign:O$e,flattenChunks:P$e};let xse=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{xse=!1}const n1=new Uint8Array(256);for(let t=0;t<256;t++)n1[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;n1[254]=n1[254]=1;var M$e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,l=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),s=0,i=0;s<l;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const R$e=(t,e)=>{if(e<65534&&t.subarray&&xse)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var I$e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let l=n1[o];if(l>4){s[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|t[r++]&63,l--;if(l>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return R$e(s,i)},D$e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+n1[t[n]]>e?n:e},n4={string2buf:M$e,buf2string:I$e,utf8border:D$e};function L$e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var F$e=L$e;const d2=16209,$$e=16191;var B$e=function(e,n){let r,i,s,o,l,c,u,d,f,m,h,y,v,x,b,S,E,_,C,O,M,A,P,F;const R=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,F=e.output,o=s-(n-e.avail_out),l=s+(e.avail_out-257),c=R.dmax,u=R.wsize,d=R.whave,f=R.wnext,m=R.window,h=R.hold,y=R.bits,v=R.lencode,x=R.distcode,b=(1<<R.lenbits)-1,S=(1<<R.distbits)-1;e:do{y<15&&(h+=P[r++]<<y,y+=8,h+=P[r++]<<y,y+=8),E=v[h&b];t:for(;;){if(_=E>>>24,h>>>=_,y-=_,_=E>>>16&255,_===0)F[s++]=E&65535;else if(_&16){C=E&65535,_&=15,_&&(y<_&&(h+=P[r++]<<y,y+=8),C+=h&(1<<_)-1,h>>>=_,y-=_),y<15&&(h+=P[r++]<<y,y+=8,h+=P[r++]<<y,y+=8),E=x[h&S];n:for(;;){if(_=E>>>24,h>>>=_,y-=_,_=E>>>16&255,_&16){if(O=E&65535,_&=15,y<_&&(h+=P[r++]<<y,y+=8,y<_&&(h+=P[r++]<<y,y+=8)),O+=h&(1<<_)-1,O>c){e.msg="invalid distance too far back",R.mode=d2;break e}if(h>>>=_,y-=_,_=s-o,O>_){if(_=O-_,_>d&&R.sane){e.msg="invalid distance too far back",R.mode=d2;break e}if(M=0,A=m,f===0){if(M+=u-_,_<C){C-=_;do F[s++]=m[M++];while(--_);M=s-O,A=F}}else if(f<_){if(M+=u+f-_,_-=f,_<C){C-=_;do F[s++]=m[M++];while(--_);if(M=0,f<C){_=f,C-=_;do F[s++]=m[M++];while(--_);M=s-O,A=F}}}else if(M+=f-_,_<C){C-=_;do F[s++]=m[M++];while(--_);M=s-O,A=F}for(;C>2;)F[s++]=A[M++],F[s++]=A[M++],F[s++]=A[M++],C-=3;C&&(F[s++]=A[M++],C>1&&(F[s++]=A[M++]))}else{M=s-O;do F[s++]=F[M++],F[s++]=F[M++],F[s++]=F[M++],C-=3;while(C>2);C&&(F[s++]=F[M++],C>1&&(F[s++]=F[M++]))}}else if((_&64)===0){E=x[(E&65535)+(h&(1<<_)-1)];continue n}else{e.msg="invalid distance code",R.mode=d2;break e}break}}else if((_&64)===0){E=v[(E&65535)+(h&(1<<_)-1)];continue t}else if(_&32){R.mode=$$e;break e}else{e.msg="invalid literal/length code",R.mode=d2;break e}break}}while(r<i&&s<l);C=y>>3,r-=C,y-=C<<3,h&=(1<<y)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<l?257+(l-s):257-(s-l),R.hold=h,R.bits=y};const sv=15,bH=852,wH=592,NH=0,jO=1,SH=2,z$e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),q$e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),U$e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),H$e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),V$e=(t,e,n,r,i,s,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,y=0,v=0,x=0,b=0,S=0,E,_,C,O,M,A=null,P;const F=new Uint16Array(sv+1),R=new Uint16Array(sv+1);let $=null,q,z,G;for(u=0;u<=sv;u++)F[u]=0;for(d=0;d<r;d++)F[e[n+d]]++;for(h=c,m=sv;m>=1&&F[m]===0;m--);if(h>m&&(h=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&F[f]===0;f++);for(h<f&&(h=f),x=1,u=1;u<=sv;u++)if(x<<=1,x-=F[u],x<0)return-1;if(x>0&&(t===NH||m!==1))return-1;for(R[1]=0,u=1;u<sv;u++)R[u+1]=R[u]+F[u];for(d=0;d<r;d++)e[n+d]!==0&&(o[R[e[n+d]]++]=d);if(t===NH?(A=$=o,P=20):t===jO?(A=z$e,$=q$e,P=257):(A=U$e,$=H$e,P=0),S=0,d=0,u=f,M=s,y=h,v=0,C=-1,b=1<<h,O=b-1,t===jO&&b>bH||t===SH&&b>wH)return 1;for(;;){q=u-v,o[d]+1<P?(z=0,G=o[d]):o[d]>=P?(z=$[o[d]-P],G=A[o[d]-P]):(z=96,G=0),E=1<<u-v,_=1<<y,f=_;do _-=E,i[M+(S>>v)+_]=q<<24|z<<16|G|0;while(_!==0);for(E=1<<u-1;S&E;)E>>=1;if(E!==0?(S&=E-1,S+=E):S=0,d++,--F[u]===0){if(u===m)break;u=e[n+o[d]]}if(u>h&&(S&O)!==C){for(v===0&&(v=h),M+=f,y=u-v,x=1<<y;y+v<m&&(x-=F[y+v],!(x<=0));)y++,x<<=1;if(b+=1<<y,t===jO&&b>bH||t===SH&&b>wH)return 1;C=S&O,i[C]=h<<24|y<<16|M-s|0}}return S!==0&&(i[M+S]=u-v<<24|64<<16|0),l.bits=h,0};var qb=V$e;const W$e=0,bse=1,wse=2,{Z_FINISH:EH,Z_BLOCK:K$e,Z_TREES:f2,Z_OK:Zm,Z_STREAM_END:G$e,Z_NEED_DICT:Y$e,Z_STREAM_ERROR:Oc,Z_DATA_ERROR:Nse,Z_MEM_ERROR:Sse,Z_BUF_ERROR:X$e,Z_DEFLATED:jH}=vse,j_=16180,_H=16181,CH=16182,AH=16183,kH=16184,TH=16185,OH=16186,PH=16187,MH=16188,RH=16189,ZS=16190,af=16191,_O=16192,IH=16193,CO=16194,DH=16195,LH=16196,FH=16197,$H=16198,h2=16199,p2=16200,BH=16201,zH=16202,qH=16203,UH=16204,HH=16205,AO=16206,VH=16207,WH=16208,Ui=16209,Ese=16210,jse=16211,Q$e=852,J$e=592,Z$e=15,eBe=Z$e,KH=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function tBe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<j_||e.mode>jse?1:0},_se=t=>{if(bg(t))return Oc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=j_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Q$e),e.distcode=e.distdyn=new Int32Array(J$e),e.sane=1,e.back=-1,Zm},Cse=t=>{if(bg(t))return Oc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,_se(t)},Ase=(t,e)=>{let n;if(bg(t))return Oc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Oc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Cse(t))},kse=(t,e)=>{if(!t)return Oc;const n=new tBe;t.state=n,n.strm=t,n.window=null,n.mode=j_;const r=Ase(t,e);return r!==Zm&&(t.state=null),r},nBe=t=>kse(t,eBe);let GH=!0,kO,TO;const rBe=t=>{if(GH){kO=new Int32Array(512),TO=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(qb(bse,t.lens,0,288,kO,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;qb(wse,t.lens,0,32,TO,0,t.work,{bits:5}),GH=!1}t.lencode=kO,t.lenbits=9,t.distcode=TO,t.distbits=5},Tse=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},iBe=(t,e)=>{let n,r,i,s,o,l,c,u,d,f,m,h,y,v,x=0,b,S,E,_,C,O,M,A;const P=new Uint8Array(4);let F,R;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bg(t)||!t.output||!t.input&&t.avail_in!==0)return Oc;n=t.state,n.mode===af&&(n.mode=_O),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,u=n.hold,d=n.bits,f=l,m=c,A=Zm;e:for(;;)switch(n.mode){case j_:if(n.wrap===0){n.mode=_O;break}for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=u&255,P[1]=u>>>8&255,n.check=Ku(n.check,P,2,0),u=0,d=0,n.mode=_H;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Ui;break}if((u&15)!==jH){t.msg="unknown compression method",n.mode=Ui;break}if(u>>>=4,d-=4,M=(u&15)+8,n.wbits===0&&(n.wbits=M),M>15||M>n.wbits){t.msg="invalid window size",n.mode=Ui;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?RH:af,u=0,d=0;break;case _H:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==jH){t.msg="unknown compression method",n.mode=Ui;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ui;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=Ku(n.check,P,2,0)),u=0,d=0,n.mode=CH;case CH:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,n.check=Ku(n.check,P,4,0)),u=0,d=0,n.mode=AH;case AH:for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=Ku(n.check,P,2,0)),u=0,d=0,n.mode=kH;case kH:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,n.check=Ku(n.check,P,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=TH;case TH:if(n.flags&1024&&(h=n.length,h>l&&(h=l),h&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+h),M)),n.flags&512&&n.wrap&4&&(n.check=Ku(n.check,r,h,s)),l-=h,s+=h,n.length-=h),n.length))break e;n.length=0,n.mode=OH;case OH:if(n.flags&2048){if(l===0)break e;h=0;do M=r[s+h++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M));while(M&&h<l);if(n.flags&512&&n.wrap&4&&(n.check=Ku(n.check,r,h,s)),l-=h,s+=h,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=PH;case PH:if(n.flags&4096){if(l===0)break e;h=0;do M=r[s+h++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M));while(M&&h<l);if(n.flags&512&&n.wrap&4&&(n.check=Ku(n.check,r,h,s)),l-=h,s+=h,M)break e}else n.head&&(n.head.comment=null);n.mode=MH;case MH:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ui;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=af;break;case RH:for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}t.adler=n.check=KH(u),u=0,d=0,n.mode=ZS;case ZS:if(n.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,n.hold=u,n.bits=d,Y$e;t.adler=n.check=1,n.mode=af;case af:if(e===K$e||e===f2)break e;case _O:if(n.last){u>>>=d&7,d-=d&7,n.mode=AO;break}for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=IH;break;case 1:if(rBe(n),n.mode=h2,e===f2){u>>>=2,d-=2;break e}break;case 2:n.mode=LH;break;case 3:t.msg="invalid block type",n.mode=Ui}u>>>=2,d-=2;break;case IH:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ui;break}if(n.length=u&65535,u=0,d=0,n.mode=CO,e===f2)break e;case CO:n.mode=DH;case DH:if(h=n.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;i.set(r.subarray(s,s+h),o),l-=h,s+=h,c-=h,o+=h,n.length-=h;break}n.mode=af;break;case LH:for(;d<14;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ui;break}n.have=0,n.mode=FH;case FH:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.lens[$[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},A=qb(W$e,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,A){t.msg="invalid code lengths set",n.mode=Ui;break}n.have=0,n.mode=$H;case $H:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,S=x>>>16&255,E=x&65535,!(b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(E<16)u>>>=b,d-=b,n.lens[n.have++]=E;else{if(E===16){for(R=b+2;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(u>>>=b,d-=b,n.have===0){t.msg="invalid bit length repeat",n.mode=Ui;break}M=n.lens[n.have-1],h=3+(u&3),u>>>=2,d-=2}else if(E===17){for(R=b+3;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=b,d-=b,M=0,h=3+(u&7),u>>>=3,d-=3}else{for(R=b+7;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=b,d-=b,M=0,h=11+(u&127),u>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ui;break}for(;h--;)n.lens[n.have++]=M}}if(n.mode===Ui)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ui;break}if(n.lenbits=9,F={bits:n.lenbits},A=qb(bse,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,A){t.msg="invalid literal/lengths set",n.mode=Ui;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},A=qb(wse,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,A){t.msg="invalid distances set",n.mode=Ui;break}if(n.mode=h2,e===f2)break e;case h2:n.mode=p2;case p2:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,n.hold=u,n.bits=d,B$e(t,m),o=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,l=t.avail_in,u=n.hold,d=n.bits,n.mode===af&&(n.back=-1);break}for(n.back=0;x=n.lencode[u&(1<<n.lenbits)-1],b=x>>>24,S=x>>>16&255,E=x&65535,!(b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(S&&(S&240)===0){for(_=b,C=S,O=E;x=n.lencode[O+((u&(1<<_+C)-1)>>_)],b=x>>>24,S=x>>>16&255,E=x&65535,!(_+b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=b,d-=b,n.back+=b,n.length=E,S===0){n.mode=HH;break}if(S&32){n.back=-1,n.mode=af;break}if(S&64){t.msg="invalid literal/length code",n.mode=Ui;break}n.extra=S&15,n.mode=BH;case BH:if(n.extra){for(R=n.extra;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=zH;case zH:for(;x=n.distcode[u&(1<<n.distbits)-1],b=x>>>24,S=x>>>16&255,E=x&65535,!(b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if((S&240)===0){for(_=b,C=S,O=E;x=n.distcode[O+((u&(1<<_+C)-1)>>_)],b=x>>>24,S=x>>>16&255,E=x&65535,!(_+b<=d);){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=b,d-=b,n.back+=b,S&64){t.msg="invalid distance code",n.mode=Ui;break}n.offset=E,n.extra=S&15,n.mode=qH;case qH:if(n.extra){for(R=n.extra;d<R;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ui;break}n.mode=UH;case UH:if(c===0)break e;if(h=m-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ui;break}h>n.wnext?(h-=n.wnext,y=n.wsize-h):y=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=i,y=o-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do i[o++]=v[y++];while(--h);n.length===0&&(n.mode=p2);break;case HH:if(c===0)break e;i[o++]=n.length,c--,n.mode=p2;break;case AO:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=r[s++]<<d,d+=8}if(m-=c,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Ku(n.check,i,m,o-m):e4(n.check,i,m,o-m)),m=c,n.wrap&4&&(n.flags?u:KH(u))!==n.check){t.msg="incorrect data check",n.mode=Ui;break}u=0,d=0}n.mode=VH;case VH:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ui;break}u=0,d=0}n.mode=WH;case WH:A=G$e;break e;case Ui:A=Nse;break e;case Ese:return Sse;case jse:default:return Oc}return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<Ui&&(n.mode<AO||e!==EH))&&Tse(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Ku(n.check,i,m,t.next_out-m):e4(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===af?128:0)+(n.mode===h2||n.mode===CO?256:0),(f===0&&m===0||e===EH)&&A===Zm&&(A=X$e),A},sBe=t=>{if(bg(t))return Oc;let e=t.state;return e.window&&(e.window=null),t.state=null,Zm},aBe=(t,e)=>{if(bg(t))return Oc;const n=t.state;return(n.wrap&2)===0?Oc:(n.head=e,e.done=!1,Zm)},oBe=(t,e)=>{const n=e.length;let r,i,s;return bg(t)||(r=t.state,r.wrap!==0&&r.mode!==ZS)?Oc:r.mode===ZS&&(i=1,i=e4(i,e,n,0),i!==r.check)?Nse:(s=Tse(t,e,n,n),s?(r.mode=Ese,Sse):(r.havedict=1,Zm))};var lBe=Cse,cBe=Ase,uBe=_se,dBe=nBe,fBe=kse,hBe=iBe,pBe=sBe,mBe=aBe,gBe=oBe,vBe="pako inflate (from Nodeca project)",pf={inflateReset:lBe,inflateReset2:cBe,inflateResetKeep:uBe,inflateInit:dBe,inflateInit2:fBe,inflate:hBe,inflateEnd:pBe,inflateGetHeader:mBe,inflateSetDictionary:gBe,inflateInfo:vBe};function yBe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xBe=yBe;const Ose=Object.prototype.toString,{Z_NO_FLUSH:bBe,Z_FINISH:wBe,Z_OK:r1,Z_STREAM_END:OO,Z_NEED_DICT:PO,Z_STREAM_ERROR:NBe,Z_DATA_ERROR:YH,Z_MEM_ERROR:SBe}=vse;function Y1(t){this.options=yse.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F$e,this.strm.avail_out=0;let n=pf.inflateInit2(this.strm,e.windowBits);if(n!==r1)throw new Error(t4[n]);if(this.header=new xBe,pf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=n4.string2buf(e.dictionary):Ose.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=pf.inflateSetDictionary(this.strm,e.dictionary),n!==r1)))throw new Error(t4[n])}Y1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?wBe:bBe,Ose.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=pf.inflate(n,o),s===PO&&i&&(s=pf.inflateSetDictionary(n,i),s===r1?s=pf.inflate(n,o):s===YH&&(s=PO));n.avail_in>0&&s===OO&&n.state.wrap>0&&t[n.next_in]!==0;)pf.inflateReset(n),s=pf.inflate(n,o);switch(s){case NBe:case YH:case PO:case SBe:return this.onEnd(s),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||s===OO))if(this.options.to==="string"){let c=n4.utf8border(n.output,n.next_out),u=n.next_out-c,d=n4.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===r1&&l===0)){if(s===OO)return s=pf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Y1.prototype.onData=function(t){this.chunks.push(t)};Y1.prototype.onEnd=function(t){t===r1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yse.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function EBe(t,e){const n=new Y1(e);if(n.push(t),n.err)throw n.msg||t4[n.err];return n.result}var jBe=Y1,_Be=EBe,CBe={Inflate:jBe,inflate:_Be};const{Inflate:ABe,inflate:kBe}=CBe;var XH=ABe,TBe=kBe;const Pse=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Pse[t]=e}const QH=4294967295;function OBe(t,e,n){let r=t;for(let i=0;i<n;i++)r=Pse[(r^e[i])&255]^r>>>8;return r}function PBe(t,e){return(OBe(QH,t,e)^QH)>>>0}function JH(t,e,n){const r=t.readUint32(),i=PBe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Mse(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Rse(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function Ise(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function Dse(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function Lse(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+MBe(e[s-i],n[s],n[s-i])&255}}function MBe(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function RBe(t,e,n,r,i,s){switch(t){case 0:Mse(e,n,i);break;case 1:Rse(e,n,i,s);break;case 2:Ise(e,n,r,i);break;case 3:Dse(e,n,r,i,s);break;case 4:Lse(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const IBe=new Uint16Array([255]),DBe=new Uint8Array(IBe.buffer),LBe=DBe[0]===255;function FBe(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*i,c=new Uint8Array(r*n*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(m<=0||h<=0)continue;const y=m*l,v=new Uint8Array(y);for(let x=0;x<h;x++){const b=e[u++],S=e.subarray(u,u+y);u+=y;const E=new Uint8Array(y);RBe(b,S,E,v,y,l),v.set(E);for(let _=0;_<m;_++){const C=f.x+_*f.xStep,O=f.y+x*f.yStep;if(!(C>=n||O>=r))for(let M=0;M<l;M++)c[(O*n+C)*l+M]=E[_*l+M]}}}if(s===16){const d=new Uint16Array(c.buffer);if(LBe)for(let f=0;f<d.length;f++)d[f]=$Be(d[f]);return d}else return c}function $Be(t){return(t&255)<<8|t>>8&255}const BBe=new Uint16Array([255]),zBe=new Uint8Array(BBe.buffer),qBe=zBe[0]===255,UBe=new Uint8Array(0);function ZH(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,l=Math.ceil(s/8*i*n),c=new Uint8Array(r*l);let u=UBe,d=0,f,m;for(let h=0;h<r;h++){switch(f=e.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),e[d]){case 0:Mse(f,m,l);break;case 1:Rse(f,m,l,o);break;case 2:Ise(f,m,u,l);break;case 3:Dse(f,m,u,l,o);break;case 4:Lse(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=m,d+=l+1}if(s===16){const h=new Uint16Array(c.buffer);if(qBe)for(let y=0;y<h.length;y++)h[y]=HBe(h[y]);return h}else return c}function HBe(t){return(t&255)<<8|t>>8&255}const nN=Uint8Array.of(137,80,78,71,13,10,26,10);function eV(t){if(!VBe(t.readBytes(nN.length)))throw new Error("wrong PNG signature")}function VBe(t){if(t.length<nN.length)return!1;for(let e=0;e<nN.length;e++)if(t[e]!==nN[e])return!1;return!0}const WBe="tEXt",KBe=0,Fse=new TextDecoder("latin1");function GBe(t){if(XBe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const YBe=/^[\u0000-\u00FF]*$/;function XBe(t){if(!YBe.test(t))throw new Error("invalid latin1 text")}function QBe(t,e,n){const r=$se(e);t[r]=JBe(e,n-r.length-1)}function $se(t){for(t.mark();t.readByte()!==KBe;);const e=t.offset;t.reset();const n=Fse.decode(t.readBytes(e-t.offset-1));return t.skip(1),GBe(n),n}function JBe(t,e){return Fse.decode(t.readBytes(e))}const Cl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},MO={UNKNOWN:-1,DEFLATE:0},tV={UNKNOWN:-1,ADAPTIVE:0},RO={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},m2={NONE:0,BACKGROUND:1,PREVIOUS:2},IO={SOURCE:0,OVER:1};class ZBe extends zL{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new XH,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=MO.UNKNOWN,this._filterMethod=tV.UNKNOWN,this._interlaceMethod=RO.UNKNOWN,this._colorType=Cl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(eV(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(eV(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case WBe:QBe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JH(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JH(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=e7e(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Cl.GREYSCALE:r=1;break;case Cl.TRUECOLOUR:r=3;break;case Cl.INDEXED_COLOUR:r=1;break;case Cl.GREYSCALE_ALPHA:r=2;break;case Cl.TRUECOLOUR_ALPHA:r=4;break;case Cl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==MO.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Cl.GREYSCALE:case Cl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Cl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Cl.UNKNOWN:case Cl.GREYSCALE_ALPHA:case Cl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=$se(this),r=this.readUint8();if(r!==MO.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:TBe(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=ZH({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case m2.NONE:break;case m2.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*e.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case m2.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case IO.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++)e.data[l+u]=n.data[c+u]}break;case IO.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/r,f=u%(this._png.channels-1)===0?1:n.data[c+u],m=Math.floor(d*f+(1-d)*e.data[l+u]);e.data[l+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==tV.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===RO.NO_INTERLACE)this._png.data=ZH({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===RO.ADAM7)this._png.data=FBe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:m2.NONE,blendOp:IO.SOURCE,data:e}),this._inflator=new XH,this._writingDataChunks=!1}}function e7e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var nV;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(nV||(nV={}));function t7e(t,e){return new ZBe(t,e).decode()}var Un=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function DO(){Un.console&&typeof Un.console.log=="function"&&Un.console.log.apply(Un.console,arguments)}var di={log:DO,warn:function(t){Un.console&&(typeof Un.console.warn=="function"?Un.console.warn.apply(Un.console,arguments):DO.call(null,arguments))},error:function(t){Un.console&&(typeof Un.console.error=="function"?Un.console.error.apply(Un.console,arguments):DO(t))}};function LO(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){dm(r.response,e,n)},r.onerror=function(){di.error("could not download file")},r.send()}function rV(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function g2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var dm=Un.saveAs||((typeof window>"u"?"undefined":ri(window))!=="object"||window!==Un?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Un.URL||Un.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?rV(i.href)?LO(t,e,n):g2(i,i.target="_blank"):g2(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){g2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(rV(t))LO(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){g2(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:ri(s)!=="object"&&(di.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return LO(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Un.HTMLElement)||Un.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":ri(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(t)}else{var c=Un.URL||Un.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Bse(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var rN=Un.atob.bind(Un),iV=Un.btoa.bind(Un);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function FO(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Za(n,r,i,s,e[0],7,-680876936),s=Za(s,n,r,i,e[1],12,-389564586),i=Za(i,s,n,r,e[2],17,606105819),r=Za(r,i,s,n,e[3],22,-1044525330),n=Za(n,r,i,s,e[4],7,-176418897),s=Za(s,n,r,i,e[5],12,1200080426),i=Za(i,s,n,r,e[6],17,-1473231341),r=Za(r,i,s,n,e[7],22,-45705983),n=Za(n,r,i,s,e[8],7,1770035416),s=Za(s,n,r,i,e[9],12,-1958414417),i=Za(i,s,n,r,e[10],17,-42063),r=Za(r,i,s,n,e[11],22,-1990404162),n=Za(n,r,i,s,e[12],7,1804603682),s=Za(s,n,r,i,e[13],12,-40341101),i=Za(i,s,n,r,e[14],17,-1502002290),n=eo(n,r=Za(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=eo(s,n,r,i,e[6],9,-1069501632),i=eo(i,s,n,r,e[11],14,643717713),r=eo(r,i,s,n,e[0],20,-373897302),n=eo(n,r,i,s,e[5],5,-701558691),s=eo(s,n,r,i,e[10],9,38016083),i=eo(i,s,n,r,e[15],14,-660478335),r=eo(r,i,s,n,e[4],20,-405537848),n=eo(n,r,i,s,e[9],5,568446438),s=eo(s,n,r,i,e[14],9,-1019803690),i=eo(i,s,n,r,e[3],14,-187363961),r=eo(r,i,s,n,e[8],20,1163531501),n=eo(n,r,i,s,e[13],5,-1444681467),s=eo(s,n,r,i,e[2],9,-51403784),i=eo(i,s,n,r,e[7],14,1735328473),n=to(n,r=eo(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=to(s,n,r,i,e[8],11,-2022574463),i=to(i,s,n,r,e[11],16,1839030562),r=to(r,i,s,n,e[14],23,-35309556),n=to(n,r,i,s,e[1],4,-1530992060),s=to(s,n,r,i,e[4],11,1272893353),i=to(i,s,n,r,e[7],16,-155497632),r=to(r,i,s,n,e[10],23,-1094730640),n=to(n,r,i,s,e[13],4,681279174),s=to(s,n,r,i,e[0],11,-358537222),i=to(i,s,n,r,e[3],16,-722521979),r=to(r,i,s,n,e[6],23,76029189),n=to(n,r,i,s,e[9],4,-640364487),s=to(s,n,r,i,e[12],11,-421815835),i=to(i,s,n,r,e[15],16,530742520),n=no(n,r=to(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=no(s,n,r,i,e[7],10,1126891415),i=no(i,s,n,r,e[14],15,-1416354905),r=no(r,i,s,n,e[5],21,-57434055),n=no(n,r,i,s,e[12],6,1700485571),s=no(s,n,r,i,e[3],10,-1894986606),i=no(i,s,n,r,e[10],15,-1051523),r=no(r,i,s,n,e[1],21,-2054922799),n=no(n,r,i,s,e[8],6,1873313359),s=no(s,n,r,i,e[15],10,-30611744),i=no(i,s,n,r,e[6],15,-1560198380),r=no(r,i,s,n,e[13],21,1309151649),n=no(n,r,i,s,e[4],6,-145523070),s=no(s,n,r,i,e[11],10,-1120210379),i=no(i,s,n,r,e[2],15,718787259),r=no(r,i,s,n,e[9],21,-343485551),t[0]=Uh(n,t[0]),t[1]=Uh(r,t[1]),t[2]=Uh(i,t[2]),t[3]=Uh(s,t[3])}function __(t,e,n,r,i,s){return e=Uh(Uh(e,t),Uh(r,s)),Uh(e<<i|e>>>32-i,n)}function Za(t,e,n,r,i,s,o){return __(e&n|~e&r,t,e,i,s,o)}function eo(t,e,n,r,i,s,o){return __(e&r|n&~r,t,e,i,s,o)}function to(t,e,n,r,i,s,o){return __(e^n^r,t,e,i,s,o)}function no(t,e,n,r,i,s,o){return __(n^(e|~r),t,e,i,s,o)}function zse(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)FO(r,n7e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(FO(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,FO(r,i),r}function n7e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var sV="0123456789abcdef".split("");function r7e(t){for(var e="",n=0;n<4;n++)e+=sV[t>>8*n+4&15]+sV[t>>8*n&15];return e}function i7e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function r4(t){return zse(t).map(i7e).join("")}var s7e=(function(t){for(var e=0;e<t.length;e++)t[e]=r7e(t[e]);return t.join("")})(zse("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uh(t,e){if(s7e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function i4(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=t,r=l}else l=r;var f=e.length,m=0,h=0,y="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],y+=String.fromCharCode(e.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var aV={print:4,modify:8,copy:16,"annot-forms":32};function mv(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(aV.perm!==void 0)throw new Error("Invalid permission: "+l);i+=aV[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=r4(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=i4(this.encryptionKey,this.padding)}function gv(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function oV(t){if(ri(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(l){Un.console&&di.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function eE(t){if(!(this instanceof eE))return new eE(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function qse(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function fm(t,e,n,r,i){if(!(this instanceof fm))return new fm(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,qse.call(this,r,i)}function kv(t,e,n,r,i){if(!(this instanceof kv))return new kv(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,qse.call(this,r,i)}function pn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;ri(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=oV;var y="1.3",v=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(D){y=D};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var b=h.__private__.getPageFormat=function(D){return x[D]};i=i||"a4";var S="compat",E="advanced",_=S;function C(){this.saveGraphicsState(),ne(new ce(Kt,0,0,-Kt,0,zo()*Kt).toString()+" cm"),this.setFontSize(this.getFontSize()/Kt),u="n",_=E}function O(){this.restoreGraphicsState(),u="S",_=S}var M=h.__private__.combineFontStyleAndFontWeight=function(D,te){if(D=="bold"&&te=="normal"||D=="bold"&&te==400||D=="normal"&&te=="italic"||D=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(D=te==400||te==="normal"?D==="italic"?"italic":"normal":te!=700&&te!=="bold"||D!=="normal"?(te==700?"bold":te)+""+D:"bold"),D};h.advancedAPI=function(D){var te=_===S;return te&&C.call(this),typeof D!="function"||(D(this),te&&O.call(this)),this},h.compatAPI=function(D){var te=_===E;return te&&O.call(this),typeof D!="function"||(D(this),te&&C.call(this)),this},h.isAdvancedAPI=function(){return _===E};var A,P=function(D){if(_!==E)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(D,te){var Ne=e||te;if(isNaN(D)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ne).replace(/0+$/,"")};A=h.hpf=h.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return F(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return F(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return F(D,16)};var R=h.f2=h.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return F(D,2)},$=h.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return F(D,3)},q=h.scale=h.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return _===S?D*Kt:_===E?D:void 0},z=function(D){return q((function(te){return _===S?zo()-te:_===E?te:void 0})(D))};h.__private__.setPrecision=h.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var G,X="00000000000000000000000000000000",U=h.__private__.getFileId=function(){return X},W=h.__private__.setFileId=function(D){return X=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(_i=new mv(d.userPermissions,d.userPassword,d.ownerPassword,X)),X};h.setFileId=function(D){return W(D),this},h.getFileId=function(){return U()};var Y=h.__private__.convertDateToPDFDate=function(D){var te=D.getTimezoneOffset(),Ne=te<0?"+":"-",Ae=Math.floor(Math.abs(te/60)),De=Math.abs(te%60),st=[Ne,J(Ae),"'",J(De),"'"].join("");return["D:",D.getFullYear(),J(D.getMonth()+1),J(D.getDate()),J(D.getHours()),J(D.getMinutes()),J(D.getSeconds()),st].join("")},ie=h.__private__.convertPDFDateToDate=function(D){var te=parseInt(D.substr(2,4),10),Ne=parseInt(D.substr(6,2),10)-1,Ae=parseInt(D.substr(8,2),10),De=parseInt(D.substr(10,2),10),st=parseInt(D.substr(12,2),10),vt=parseInt(D.substr(14,2),10);return new Date(te,Ne,Ae,De,st,vt,0)},Q=h.__private__.setCreationDate=function(D){var te;if(D===void 0&&(D=new Date),D instanceof Date)te=Y(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=D}return G=te},I=h.__private__.getCreationDate=function(D){var te=G;return D==="jsDate"&&(te=ie(G)),te};h.setCreationDate=function(D){return Q(D),this},h.getCreationDate=function(D){return I(D)};var V,J=h.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},re=h.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},fe=0,pe=[],xe=[],de=0,we=[],Ce=[],ae=!1,Pe=xe;h.__private__.setCustomOutputDestination=function(D){ae=!0,Pe=D};var ee=function(D){ae||(Pe=D)};h.__private__.resetCustomOutputDestination=function(){ae=!1,Pe=xe};var ne=h.__private__.out=function(D){return D=D.toString(),de+=D.length+1,Pe.push(D),Pe},Re=h.__private__.write=function(D){return ne(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ft=h.__private__.getArrayBuffer=function(D){for(var te=D.length,Ne=new ArrayBuffer(te),Ae=new Uint8Array(Ne);te--;)Ae[te]=D.charCodeAt(te);return Ne},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return et};var Ke=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(D){return Ke=_===E?D/Kt:D,this};var me,Se=h.__private__.getFontSize=h.getFontSize=function(){return _===S?Ke:Ke*Kt},ke=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(D){return ke=D,this},h.__private__.getR2L=h.getR2L=function(){return ke};var Ge,Ye=h.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))me=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');me=D}else me=parseInt(D,10)};h.__private__.getZoomMode=function(){return me};var We,nt=h.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Ge=D};h.__private__.getPageMode=function(){return Ge};var _t=h.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');We=D};h.__private__.getLayoutMode=function(){return We},h.__private__.setDisplayMode=h.setDisplayMode=function(D,te,Ne){return Ye(D),_t(te),nt(Ne),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(D){if(Object.keys(wt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[D]},h.__private__.getDocumentProperties=function(){return wt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(D){for(var te in wt)wt.hasOwnProperty(te)&&D[te]&&(wt[te]=D[te]);return this},h.__private__.setDocumentProperty=function(D,te){if(Object.keys(wt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[D]=te};var Ot,Kt,At,On,An,zt={},yn={},ir=[],on={},Pn={},wn={},kr={},Tr=null,mn=0,Ut=[],Ee=new oV(h),Je=t.hotfixes||[],pt={},It={},In=[],ce=function D(te,Ne,Ae,De,st,vt){if(!(this instanceof D))return new D(te,Ne,Ae,De,st,vt);isNaN(te)&&(te=1),isNaN(Ne)&&(Ne=0),isNaN(Ae)&&(Ae=0),isNaN(De)&&(De=1),isNaN(st)&&(st=0),isNaN(vt)&&(vt=0),this._matrix=[te,Ne,Ae,De,st,vt]};Object.defineProperty(ce.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ce.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ce.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ce.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ce.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ce.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ce.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ce.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ce.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ce.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ce.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ce.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ce.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ce.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ce.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ce.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ce.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(D)},ce.prototype.multiply=function(D){var te=D.sx*this.sx+D.shy*this.shx,Ne=D.sx*this.shy+D.shy*this.sy,Ae=D.shx*this.sx+D.sy*this.shx,De=D.shx*this.shy+D.sy*this.sy,st=D.tx*this.sx+D.ty*this.shx+this.tx,vt=D.tx*this.shy+D.ty*this.sy+this.ty;return new ce(te,Ne,Ae,De,st,vt)},ce.prototype.decompose=function(){var D=this.sx,te=this.shy,Ne=this.shx,Ae=this.sy,De=this.tx,st=this.ty,vt=Math.sqrt(D*D+te*te),Zt=(D/=vt)*Ne+(te/=vt)*Ae;Ne-=D*Zt,Ae-=te*Zt;var un=Math.sqrt(Ne*Ne+Ae*Ae);return Zt/=un,D*(Ae/=un)<te*(Ne/=un)&&(D=-D,te=-te,Zt=-Zt,vt=-vt),{scale:new ce(vt,0,0,un,0,0),translate:new ce(1,0,0,1,De,st),rotate:new ce(D,te,-te,D,0,0),skew:new ce(1,0,Zt,1,0,0)}},ce.prototype.toString=function(D){return this.join(" ")},ce.prototype.inversed=function(){var D=this.sx,te=this.shy,Ne=this.shx,Ae=this.sy,De=this.tx,st=this.ty,vt=1/(D*Ae-te*Ne),Zt=Ae*vt,un=-te*vt,$n=-Ne*vt,Bn=D*vt;return new ce(Zt,un,$n,Bn,-Zt*De-$n*st,-un*De-Bn*st)},ce.prototype.applyToPoint=function(D){var te=D.x*this.sx+D.y*this.shx+this.tx,Ne=D.x*this.shy+D.y*this.sy+this.ty;return new Yl(te,Ne)},ce.prototype.applyToRectangle=function(D){var te=this.applyToPoint(D),Ne=this.applyToPoint(new Yl(D.x+D.w,D.y+D.h));return new Td(te.x,te.y,Ne.x-te.x,Ne.y-te.y)},ce.prototype.clone=function(){var D=this.sx,te=this.shy,Ne=this.shx,Ae=this.sy,De=this.tx,st=this.ty;return new ce(D,te,Ne,Ae,De,st)},h.Matrix=ce;var $e=h.matrixMult=function(D,te){return te.multiply(D)},ht=new ce(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ht;var Lt=function(D,te){if(!Pn[D]){var Ne=(te instanceof fm?"Sh":"P")+(Object.keys(on).length+1).toString(10);te.id=Ne,Pn[D]=Ne,on[Ne]=te,Ee.publish("addPattern",te)}};h.ShadingPattern=fm,h.TilingPattern=kv,h.addShadingPattern=function(D,te){return P("addShadingPattern()"),Lt(D,te),this},h.beginTilingPattern=function(D){P("beginTilingPattern()"),Fo(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},h.endTilingPattern=function(D,te){P("endTilingPattern()"),te.stream=Ce[V].join(`
`),Lt(D,te),Ee.publish("endTilingPattern",te),In.pop().restore()};var Hn,gn=h.__private__.newObject=function(){var D=mr();return or(D,!0),D},mr=h.__private__.newObjectDeferred=function(){return fe++,pe[fe]=function(){return de},fe},or=function(D,te){return te=typeof te=="boolean"&&te,pe[D]=de,te&&ne(D+" 0 obj"),D},Yr=h.__private__.newAdditionalObject=function(){var D={objId:mr(),content:""};return we.push(D),D},vi=mr(),Vi=mr(),mo=h.__private__.decodeColorString=function(D){var te=D.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ne=parseFloat(te[0]);te=[Ne,Ne,Ne,"r"]}for(var Ae="#",De=0;De<3;De++)Ae+=("0"+Math.floor(255*parseFloat(te[De])).toString(16)).slice(-2);return Ae},Di=h.__private__.encodeColorString=function(D){var te;typeof D=="string"&&(D={ch1:D});var Ne=D.ch1,Ae=D.ch2,De=D.ch3,st=D.ch4,vt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Zt=new Bse(Ne);if(Zt.ok)Ne=Zt.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var un=parseInt(Ne.substr(1),16);Ne=un>>16&255,Ae=un>>8&255,De=255&un}if(Ae===void 0||st===void 0&&Ne===Ae&&Ae===De)te=typeof Ne=="string"?Ne+" "+vt[0]:D.precision===2?R(Ne/255)+" "+vt[0]:$(Ne/255)+" "+vt[0];else if(st===void 0||ri(st)==="object"){if(st&&!isNaN(st.a)&&st.a===0)return["1.","1.","1.",vt[1]].join(" ");te=typeof Ne=="string"?[Ne,Ae,De,vt[1]].join(" "):D.precision===2?[R(Ne/255),R(Ae/255),R(De/255),vt[1]].join(" "):[$(Ne/255),$(Ae/255),$(De/255),vt[1]].join(" ")}else te=typeof Ne=="string"?[Ne,Ae,De,st,vt[2]].join(" "):D.precision===2?[R(Ne),R(Ae),R(De),R(st),vt[2]].join(" "):[$(Ne),$(Ae),$(De),$(st),vt[2]].join(" ");return te},Us=h.__private__.getFilters=function(){return o},aa=h.__private__.putStream=function(D){var te=(D=D||{}).data||"",Ne=D.filters||Us(),Ae=D.alreadyAppliedFilters||[],De=D.addLength1||!1,st=te.length,vt=D.objectId,Zt=function(vs){return vs};if(d!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Zt=_i.encryptor(vt,0));var un={};Ne===!0&&(Ne=["FlateEncode"]);var $n=D.additionalKeyValues||[],Bn=(un=pn.API.processDataByFilters!==void 0?pn.API.processDataByFilters(te,Ne):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(un.data.length!==0&&($n.push({key:"Length",value:un.data.length}),De===!0&&$n.push({key:"Length1",value:st})),Bn.length!=0)if(Bn.split("/").length-1==1)$n.push({key:"Filter",value:Bn});else{$n.push({key:"Filter",value:"["+Bn+"]"});for(var Nr=0;Nr<$n.length;Nr+=1)if($n[Nr].key==="DecodeParms"){for(var Ai=[],ts=0;ts<un.reverseChain.split("/").length-1;ts+=1)Ai.push("null");Ai.push($n[Nr].value),$n[Nr].value="["+Ai.join(" ")+"]"}}ne("<<");for(var ii=0;ii<$n.length;ii++)ne("/"+$n[ii].key+" "+$n[ii].value);ne(">>"),un.data.length!==0&&(ne("stream"),ne(Zt(un.data)),ne("endstream"))},Do=h.__private__.putPage=function(D){var te=D.number,Ne=D.data,Ae=D.objId,De=D.contentsObjId;or(Ae,!0),ne("<</Type /Page"),ne("/Parent "+D.rootDictionaryObjId+" 0 R"),ne("/Resources "+D.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(A(D.mediaBox.bottomLeftX))+" "+parseFloat(A(D.mediaBox.bottomLeftY))+" "+A(D.mediaBox.topRightX)+" "+A(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&ne("/CropBox ["+A(D.cropBox.bottomLeftX)+" "+A(D.cropBox.bottomLeftY)+" "+A(D.cropBox.topRightX)+" "+A(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&ne("/BleedBox ["+A(D.bleedBox.bottomLeftX)+" "+A(D.bleedBox.bottomLeftY)+" "+A(D.bleedBox.topRightX)+" "+A(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&ne("/TrimBox ["+A(D.trimBox.bottomLeftX)+" "+A(D.trimBox.bottomLeftY)+" "+A(D.trimBox.topRightX)+" "+A(D.trimBox.topRightY)+"]"),D.artBox!==null&&ne("/ArtBox ["+A(D.artBox.bottomLeftX)+" "+A(D.artBox.bottomLeftY)+" "+A(D.artBox.topRightX)+" "+A(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&ne("/UserUnit "+D.userUnit),Ee.publish("putPage",{objId:Ae,pageContext:Ut[te],pageNumber:te,page:Ne}),ne("/Contents "+De+" 0 R"),ne(">>"),ne("endobj");var st=Ne.join(`
`);return _===E&&(st+=`
Q`),or(De,!0),aa({data:st,filters:Us(),objectId:De}),ne("endobj"),Ae},go=h.__private__.putPages=function(){var D,te,Ne=[];for(D=1;D<=mn;D++)Ut[D].objId=mr(),Ut[D].contentsObjId=mr();for(D=1;D<=mn;D++)Ne.push(Do({number:D,data:Ce[D],objId:Ut[D].objId,contentsObjId:Ut[D].contentsObjId,mediaBox:Ut[D].mediaBox,cropBox:Ut[D].cropBox,bleedBox:Ut[D].bleedBox,trimBox:Ut[D].trimBox,artBox:Ut[D].artBox,userUnit:Ut[D].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:Vi}));or(vi,!0),ne("<</Type /Pages");var Ae="/Kids [";for(te=0;te<mn;te++)Ae+=Ne[te]+" 0 R ";ne(Ae+"]"),ne("/Count "+mn),ne(">>"),ne("endobj"),Ee.publish("postPutPages")},Hl=function(D){Ee.publish("putFont",{font:D,out:ne,newObject:gn,putStream:aa}),D.isAlreadyPutted!==!0&&(D.objectNumber=gn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+gv(D.postScriptName)),ne("/Subtype /Type1"),typeof D.encoding=="string"&&ne("/Encoding /"+D.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Ic=function(D){D.objectNumber=gn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[A(D.x),A(D.y),A(D.x+D.width),A(D.y+D.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ne=D.pages[1].join(`
`);aa({data:Ne,additionalKeyValues:te,objectId:D.objectNumber}),ne("endobj")},oa=function(D,te){te||(te=21);var Ne=gn(),Ae=(function(vt,Zt){var un,$n=[],Bn=1/(Zt-1);for(un=0;un<1;un+=Bn)$n.push(un);if($n.push(1),vt[0].offset!=0){var Nr={offset:0,color:vt[0].color};vt.unshift(Nr)}if(vt[vt.length-1].offset!=1){var Ai={offset:1,color:vt[vt.length-1].color};vt.push(Ai)}for(var ts="",ii=0,vs=0;vs<$n.length;vs++){for(un=$n[vs];un>vt[ii+1].offset;)ii++;var Ki=vt[ii].offset,Vs=(un-Ki)/(vt[ii+1].offset-Ki),qo=vt[ii].color,Ha=vt[ii+1].color;ts+=re(Math.round((1-Vs)*qo[0]+Vs*Ha[0]).toString(16))+re(Math.round((1-Vs)*qo[1]+Vs*Ha[1]).toString(16))+re(Math.round((1-Vs)*qo[2]+Vs*Ha[2]).toString(16))}return ts.trim()})(D.colors,te),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+te+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),aa({data:Ae,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),ne("endobj"),D.objectNumber=gn(),ne("<< /ShadingType "+D.type),ne("/ColorSpace /DeviceRGB");var st="/Coords ["+A(parseFloat(D.coords[0]))+" "+A(parseFloat(D.coords[1]))+" ";D.type===2?st+=A(parseFloat(D.coords[2]))+" "+A(parseFloat(D.coords[3])):st+=A(parseFloat(D.coords[2]))+" "+A(parseFloat(D.coords[3]))+" "+A(parseFloat(D.coords[4]))+" "+A(parseFloat(D.coords[5])),ne(st+="]"),D.matrix&&ne("/Matrix ["+D.matrix.toString()+"]"),ne("/Function "+Ne+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Dc=function(D,te){var Ne=mr(),Ae=gn();te.push({resourcesOid:Ne,objectOid:Ae}),D.objectNumber=Ae;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+D.boundingBox.map(A).join(" ")+"]"}),De.push({key:"XStep",value:A(D.xStep)}),De.push({key:"YStep",value:A(D.yStep)}),De.push({key:"Resources",value:Ne+" 0 R"}),D.matrix&&De.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),aa({data:D.stream,additionalKeyValues:De,objectId:D.objectNumber}),ne("endobj")},Uf=function(D){for(var te in D.objectNumber=gn(),ne("<<"),D)switch(te){case"opacity":ne("/ca "+R(D[te]));break;case"stroke-opacity":ne("/CA "+R(D[te]))}ne(">>"),ne("endobj")},Xr=function(D){or(D.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in ne("/Font <<"),zt)zt.hasOwnProperty(te)&&(f===!1||f===!0&&m.hasOwnProperty(te))&&ne("/"+te+" "+zt[te].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(on).length>0){for(var te in ne("/Shading <<"),on)on.hasOwnProperty(te)&&on[te]instanceof fm&&on[te].objectNumber>=0&&ne("/"+te+" "+on[te].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),ne(">>")}})(),(function(te){if(Object.keys(on).length>0){for(var Ne in ne("/Pattern <<"),on)on.hasOwnProperty(Ne)&&on[Ne]instanceof h.TilingPattern&&on[Ne].objectNumber>=0&&on[Ne].objectNumber<te&&ne("/"+Ne+" "+on[Ne].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),ne(">>")}})(D.objectOid),(function(){if(Object.keys(wn).length>0){var te;for(te in ne("/ExtGState <<"),wn)wn.hasOwnProperty(te)&&wn[te].objectNumber>=0&&ne("/"+te+" "+wn[te].objectNumber+" 0 R");Ee.publish("putGStateDict"),ne(">>")}})(),(function(){for(var te in ne("/XObject <<"),pt)pt.hasOwnProperty(te)&&pt[te].objectNumber>=0&&ne("/"+te+" "+pt[te].objectNumber+" 0 R");Ee.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},Hf=function(D){yn[D.fontName]=yn[D.fontName]||{},yn[D.fontName][D.fontStyle]=D.id},Ou=function(D,te,Ne,Ae,De){var st={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:D,fontName:te,fontStyle:Ne,encoding:Ae,isStandardFont:De||!1,metadata:{}};return Ee.publish("addFont",{font:st,instance:this}),zt[st.id]=st,Hf(st),st.id},Cs=h.__private__.pdfEscape=h.pdfEscape=function(D,te){return(function(Ne,Ae){var De,st,vt,Zt,un,$n,Bn,Nr,Ai;if(vt=(Ae=Ae||{}).sourceEncoding||"Unicode",un=Ae.outputEncoding,(Ae.autoencode||un)&&zt[Ot].metadata&&zt[Ot].metadata[vt]&&zt[Ot].metadata[vt].encoding&&(Zt=zt[Ot].metadata[vt].encoding,!un&&zt[Ot].encoding&&(un=zt[Ot].encoding),!un&&Zt.codePages&&(un=Zt.codePages[0]),typeof un=="string"&&(un=Zt[un]),un)){for(Bn=!1,$n=[],De=0,st=Ne.length;De<st;De++)(Nr=un[Ne.charCodeAt(De)])?$n.push(String.fromCharCode(Nr)):$n.push(Ne[De]),$n[De].charCodeAt(0)>>8&&(Bn=!0);Ne=$n.join("")}for(De=Ne.length;Bn===void 0&&De!==0;)Ne.charCodeAt(De-1)>>8&&(Bn=!0),De--;if(!Bn)return Ne;for($n=Ae.noBOM?[]:[254,255],De=0,st=Ne.length;De<st;De++){if((Ai=(Nr=Ne.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$n.push(Ai),$n.push(Nr-(Ai<<8))}return String.fromCharCode.apply(void 0,$n)})(D,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vl=h.__private__.beginPage=function(D){Ce[++mn]=[],Ut[mn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Vn(mn),ee(Ce[V])},jt=function(D,te){var Ne,Ae,De;switch(n=te||n,typeof D=="string"&&(Ne=b(D.toLowerCase()),Array.isArray(Ne)&&(Ae=Ne[0],De=Ne[1])),Array.isArray(D)&&(Ae=D[0]*Kt,De=D[1]*Kt),isNaN(Ae)&&(Ae=i[0],De=i[1]),(Ae>14400||De>14400)&&(di.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),De=Math.min(14400,De)),i=[Ae,De],n.substr(0,1)){case"l":De>Ae&&(i=[De,Ae]);break;case"p":Ae>De&&(i=[De,Ae])}Vl(i),xi(Nn),ne(kd),Mp!==0&&ne(Mp+" J"),Rp!==0&&ne(Rp+" j"),Ee.publish("addPage",{pageNumber:mn})},an=function(D){D>0&&D<=mn&&(Ce.splice(D,1),Ut.splice(D,1),mn--,V>mn&&(V=mn),this.setPage(V))},Vn=function(D){D>0&&D<=mn&&(V=D)},nr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ce.length-1},yi=function(D,te,Ne){var Ae,De=void 0;return Ne=Ne||{},D=D!==void 0?D:zt[Ot].fontName,te=te!==void 0?te:zt[Ot].fontStyle,Ae=D.toLowerCase(),yn[Ae]!==void 0&&yn[Ae][te]!==void 0?De=yn[Ae][te]:yn[D]!==void 0&&yn[D][te]!==void 0?De=yn[D][te]:Ne.disableWarning===!1&&di.warn("Unable to look up font label for font '"+D+"', '"+te+"'. Refer to getFontList() for available fonts."),De||Ne.noFallback||(De=yn.times[te])==null&&(De=yn.times.normal),De},qr=h.__private__.putInfo=function(){var D=gn(),te=function(Ae){return Ae};for(var Ne in d!==null&&(te=_i.encryptor(D,0)),ne("<<"),ne("/Producer ("+Cs(te("jsPDF "+pn.version))+")"),wt)wt.hasOwnProperty(Ne)&&wt[Ne]&&ne("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+Cs(te(wt[Ne]))+")");ne("/CreationDate ("+Cs(te(G))+")"),ne(">>"),ne("endobj")},Lo=h.__private__.putCatalog=function(D){var te=(D=D||{}).rootDictionaryObjId||vi;switch(gn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+te+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+me;Ne.substr(Ne.length-1)==="%"&&(me=parseInt(me)/100),typeof me=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+R(me)+"]")}switch(We||(We="continuous"),We){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Ge&&ne("/PageMode /"+Ge),Ee.publish("putCatalog"),ne(">>"),ne("endobj")},ci=h.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(fe+1)),ne("/Root "+fe+" 0 R"),ne("/Info "+(fe-1)+" 0 R"),d!==null&&ne("/Encrypt "+_i.oid+" 0 R"),ne("/ID [ <"+X+"> <"+X+"> ]"),ne(">>")},As=h.__private__.putHeader=function(){ne("%PDF-"+y),ne("%")},ks=h.__private__.putXRef=function(){var D="0000000000";ne("xref"),ne("0 "+(fe+1)),ne("0000000000 65535 f ");for(var te=1;te<=fe;te++)typeof pe[te]=="function"?ne((D+pe[te]()).slice(-10)+" 00000 n "):pe[te]!==void 0?ne((D+pe[te]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Aa=h.__private__.buildDocument=function(){var D;fe=0,de=0,xe=[],pe=[],we=[],vi=mr(),Vi=mr(),ee(xe),Ee.publish("buildDocument"),As(),go(),(function(){Ee.publish("putAdditionalObjects");for(var Ne=0;Ne<we.length;Ne++){var Ae=we[Ne];or(Ae.objId,!0),ne(Ae.content),ne("endobj")}Ee.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var Ne in zt)zt.hasOwnProperty(Ne)&&(f===!1||f===!0&&m.hasOwnProperty(Ne))&&Hl(zt[Ne])})(),(function(){var Ne;for(Ne in wn)wn.hasOwnProperty(Ne)&&Uf(wn[Ne])})(),(function(){for(var Ne in pt)pt.hasOwnProperty(Ne)&&Ic(pt[Ne])})(),(function(Ne){var Ae;for(Ae in on)on.hasOwnProperty(Ae)&&(on[Ae]instanceof fm?oa(on[Ae]):on[Ae]instanceof kv&&Dc(on[Ae],Ne))})(D),Ee.publish("putResources"),D.forEach(Xr),Xr({resourcesOid:Vi,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources"),d!==null&&(_i.oid=gn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+_i.v),ne("/R "+_i.r),ne("/U <"+_i.toHexString(_i.U)+">"),ne("/O <"+_i.toHexString(_i.O)+">"),ne("/P "+_i.P),ne(">>"),ne("endobj")),qr(),Lo();var te=de;return ks(),ci(),ne("startxref"),ne(""+te),ne("%%EOF"),ee(Ce[V]),xe.join(`
`)},qa=h.__private__.getBlob=function(D){return new Blob([ft(D)],{type:"application/pdf"})},Hs=h.output=h.__private__.output=(Hn=function(D,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",D){case void 0:return Aa();case"save":h.save(te.filename);break;case"arraybuffer":return ft(Aa());case"blob":return qa(Aa());case"bloburi":case"bloburl":if(Un.URL!==void 0&&typeof Un.URL.createObjectURL=="function")return Un.URL&&Un.URL.createObjectURL(qa(Aa()))||void 0;di.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Ae=Aa();try{Ne=iV(Ae)}catch{Ne=iV(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Un)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",st=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(De=te.pdfObjectUrl,st="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+st+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Zt=Un.open();return Zt!==null&&Zt.document.write(vt),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Un)==="[object Window]"){var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',$n=Un.open();if($n!==null){$n.document.write(un);var Bn=this;$n.document.documentElement.querySelector("#pdfViewer").onload=function(){$n.document.title=te.filename,$n.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bn.output("bloburl"))}}return $n}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Un)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Ai=Un.open();if(Ai!==null&&(Ai.document.write(Nr),Ai.document.title=te.filename),Ai||typeof safari>"u")return Ai;break;case"datauri":case"dataurl":return Un.document.location.href=this.output("datauristring",te);default:return null}},Hn.foo=function(){try{return Hn.apply(this,arguments)}catch(Ne){var D=Ne.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var te="Error in function "+D.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Un.console)throw new Error(te);Un.console.error(te,Ne),Un.alert&&alert(te)}},Hn.foo.bar=Hn,Hn.foo),Lc=function(D){return Array.isArray(Je)===!0&&Je.indexOf(D)>-1};switch(r){case"pt":Kt=1;break;case"mm":Kt=72/25.4;break;case"cm":Kt=72/2.54;break;case"in":Kt=72;break;case"px":Kt=Lc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Kt=12;break;case"ex":Kt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Kt=r}var _i=null;Q(),W();var Fc=h.__private__.getPageInfo=h.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[D].objId,pageNumber:D,pageContext:Ut[D]}},Vf=h.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Ut)if(Ut[te].objId===D)break;return Fc(te)},Wl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ut[V].objId,pageNumber:V,pageContext:Ut[V]}};h.addPage=function(){return jt.apply(this,arguments),this},h.setPage=function(){return Vn.apply(this,arguments),ee.call(this,Ce[V]),this},h.insertPage=function(D){return this.addPage(),this.movePage(V,D),this},h.movePage=function(D,te){var Ne,Ae;if(D>te){Ne=Ce[D],Ae=Ut[D];for(var De=D;De>te;De--)Ce[De]=Ce[De-1],Ut[De]=Ut[De-1];Ce[te]=Ne,Ut[te]=Ae,this.setPage(te)}else if(D<te){Ne=Ce[D],Ae=Ut[D];for(var st=D;st<te;st++)Ce[st]=Ce[st+1],Ut[st]=Ut[st+1];Ce[te]=Ne,Ut[te]=Ae,this.setPage(te)}return this},h.deletePage=function(){return an.apply(this,arguments),this},h.__private__.text=h.text=function(D,te,Ne,Ae,De){var st,vt,Zt,un,$n,Bn,Nr,Ai,ts,ii=(Ae=Ae||{}).scope||this;if(typeof D=="number"&&typeof te=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var vs=Ne;Ne=te,te=D,D=vs}if(arguments[3]instanceof ce==0?(Zt=arguments[4],un=arguments[5],ri(Nr=arguments[3])==="object"&&Nr!==null||(typeof Zt=="string"&&(un=Zt,Zt=null),typeof Nr=="string"&&(un=Nr,Nr=null),typeof Nr=="number"&&(Zt=Nr,Nr=null),Ae={flags:Nr,angle:Zt,align:un})):(P("The transform parameter of text() with a Matrix value"),ts=De),isNaN(te)||isNaN(Ne)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ii;var Ki,Vs="",qo=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:qt,Ha=ii.internal.scaleFactor;function jg(Sr){return Sr=Sr.split("	").join(Array(Ae.TabLen||9).join(" ")),Cs(Sr,Nr)}function Mu(Sr){for(var Ur,$i=Sr.concat(),ns=[],bl=$i.length;bl--;)typeof(Ur=$i.shift())=="string"?ns.push(Ur):Array.isArray(Sr)&&(Ur.length===1||Ur[1]===void 0&&Ur[2]===void 0)?ns.push(Ur[0]):ns.push([Ur[0],Ur[1],Ur[2]]);return ns}function Md(Sr,Ur){var $i;if(typeof Sr=="string")$i=Ur(Sr)[0];else if(Array.isArray(Sr)){for(var ns,bl,$p=Sr.concat(),eh=[],Gc=$p.length;Gc--;)typeof(ns=$p.shift())=="string"?eh.push(Ur(ns)[0]):Array.isArray(ns)&&typeof ns[0]=="string"&&(bl=Ur(ns[0],ns[1],ns[2]),eh.push([bl[0],bl[1],bl[2]]));$i=eh}return $i}var Ru=!1,Rd=!0;if(typeof D=="string")Ru=!0;else if(Array.isArray(D)){var Iu=D.concat();vt=[];for(var Id,ca=Iu.length;ca--;)(typeof(Id=Iu.shift())!="string"||Array.isArray(Id)&&typeof Id[0]!="string")&&(Rd=!1);Ru=Rd}if(Ru===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Dd=Ke/ii.internal.scaleFactor,Ld=Dd*(qo-1);switch(Ae.baseline){case"bottom":Ne-=Ld;break;case"top":Ne+=Dd-Ld;break;case"hanging":Ne+=Dd-2*Ld;break;case"middle":Ne+=Dd/2-Ld}if((Bn=Ae.maxWidth||0)>0&&(typeof D=="string"?D=ii.splitTextToSize(D,Bn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Sr,Ur){return Sr.concat(ii.splitTextToSize(Ur,Bn))},[]))),st={text:D,x:te,y:Ne,options:Ae,mutex:{pdfEscape:Cs,activeFontKey:Ot,fonts:zt,activeFontSize:Ke}},Ee.publish("preProcessText",st),D=st.text,Zt=(Ae=st.options).angle,ts instanceof ce==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Ae.rotationDirection===0&&(Zt=-Zt),_===E&&(Zt=-Zt);var Lp=Math.cos(Zt),Fp=Math.sin(Zt);ts=new ce(Lp,Fp,-Fp,Lp,0,0)}else Zt&&Zt instanceof ce&&(ts=Zt);_!==E||ts||(ts=ht),($n=Ae.charSpace||vl)!==void 0&&(Vs+=A(q($n))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ai=Ae.horizontalScale)!==void 0&&(Vs+=A(100*Ai)+` Tz
`),Ae.lang;var Li=-1,yl=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Xl=ii.internal.getCurrentPageInfo().pageContext;switch(yl){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var _g=Xl.usedRenderingMode!==void 0?Xl.usedRenderingMode:-1;Li!==-1?Vs+=Li+` Tr
`:_g!==-1&&(Vs+=`0 Tr
`),Li!==-1&&(Xl.usedRenderingMode=Li),un=Ae.align||"left";var xo,Du=Ke*qo,Xf=ii.internal.pageSize.getWidth(),Qf=zt[Ot];$n=Ae.charSpace||vl,Bn=Ae.maxWidth||0,Nr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Hc=[],Uo=function(Sr){return ii.getStringUnitWidth(Sr,{font:Qf,charSpace:$n,fontSize:Ke,doKerning:!1})*Ke/Ha};if(Object.prototype.toString.call(D)==="[object Array]"){var bo;vt=Mu(D),un!=="left"&&(xo=vt.map(Uo));var wo,Lu=0;if(un==="right"){te-=xo[0],D=[],ca=vt.length;for(var Ql=0;Ql<ca;Ql++)Ql===0?(wo=yo(te),bo=zc(Ne)):(wo=q(Lu-xo[Ql]),bo=-Du),D.push([vt[Ql],wo,bo]),Lu=xo[Ql]}else if(un==="center"){te-=xo[0]/2,D=[],ca=vt.length;for(var Vc=0;Vc<ca;Vc++)Vc===0?(wo=yo(te),bo=zc(Ne)):(wo=q((Lu-xo[Vc])/2),bo=-Du),D.push([vt[Vc],wo,bo]),Lu=xo[Vc]}else if(un==="left"){D=[],ca=vt.length;for(var Wc=0;Wc<ca;Wc++)D.push(vt[Wc])}else if(un==="justify"&&Qf.encoding==="Identity-H"){D=[],ca=vt.length,Bn=Bn!==0?Bn:Xf;for(var Jl=0,Gi=0;Gi<ca;Gi++)if(bo=Gi===0?zc(Ne):-Du,wo=Gi===0?yo(te):Jl,Gi<ca-1){var Fd=q((Bn-xo[Gi])/(vt[Gi].split(" ").length-1)),Zl=vt[Gi].split(" ");D.push([Zl[0]+" ",wo,bo]),Jl=0;for(var xl=1;xl<Zl.length;xl++){var $d=(Uo(Zl[xl-1]+" "+Zl[xl])-Uo(Zl[xl]))*Ha+Fd;xl==Zl.length-1?D.push([Zl[xl],$d,0]):D.push([Zl[xl]+" ",$d,0]),Jl-=$d}}else D.push([vt[Gi],wo,bo]);D.push(["",Jl,0])}else{if(un!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ca=vt.length,Bn=Bn!==0?Bn:Xf,Gi=0;Gi<ca;Gi++){bo=Gi===0?zc(Ne):-Du,wo=Gi===0?yo(te):0;var Bd=vt[Gi].split(" ").length-1,Jf=Bd>0?(Bn-xo[Gi])/Bd:0;Gi<ca-1?Hc.push(A(q(Jf))):Hc.push(0),D.push([vt[Gi],wo,bo])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:ke)===!0&&(D=Md(D,function(Sr,Ur,$i){return[Sr.split("").reverse().join(""),Ur,$i]})),st={text:D,x:te,y:Ne,options:Ae,mutex:{pdfEscape:Cs,activeFontKey:Ot,fonts:zt,activeFontSize:Ke}},Ee.publish("postProcessText",st),D=st.text,Ki=st.mutex.isHex||!1;var Zf=zt[Ot].encoding;Zf!=="WinAnsiEncoding"&&Zf!=="StandardEncoding"||(D=Md(D,function(Sr,Ur,$i){return[jg(Sr),Ur,$i]})),vt=Mu(D),D=[];for(var Kc,Fu,$u,zd=Array.isArray(vt[0])?1:0,Bu="",qd=function(Sr,Ur,$i){var ns="";return $i instanceof ce?($i=typeof Ae.angle=="number"?$e($i,new ce(1,0,0,1,Sr,Ur)):$e(new ce(1,0,0,1,Sr,Ur),$i),_===E&&($i=$e(new ce(1,0,0,-1,0,0),$i)),ns=$i.join(" ")+` Tm
`):ns=A(Sr)+" "+A(Ur)+` Td
`,ns},Fi=0;Fi<vt.length;Fi++){switch(Bu="",zd){case 1:$u=(Ki?"<":"(")+vt[Fi][0]+(Ki?">":")"),Kc=parseFloat(vt[Fi][1]),Fu=parseFloat(vt[Fi][2]);break;case 0:$u=(Ki?"<":"(")+vt[Fi]+(Ki?">":")"),Kc=yo(te),Fu=zc(Ne)}Hc!==void 0&&Hc[Fi]!==void 0&&(Bu=Hc[Fi]+` Tw
`),Fi===0?D.push(Bu+qd(Kc,Fu,ts)+$u):zd===0?D.push(Bu+$u):zd===1&&D.push(Bu+qd(Kc,Fu,ts)+$u)}D=zd===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Va=`BT
/`;return Va+=Ot+" "+Ke+` Tf
`,Va+=A(Ke*qo)+` TL
`,Va+=gl+`
`,Va+=Vs,Va+=D,ne(Va+="ET"),m[Ot]=!0,ii};var Kl=h.__private__.clip=h.clip=function(D){return ne(D==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Kl("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ne("n"),this};var Wi=h.__private__.isValidStyle=function(D){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(te=!0),te};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(D){return Wi(D)&&(u=D),this};var Pu=h.__private__.getStyle=h.getStyle=function(D){var te=u;switch(D){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=D}return te},ur=h.close=function(){return ne("h"),this};h.stroke=function(){return ne("S"),this},h.fill=function(D){return xn("f",D),this},h.fillEvenOdd=function(D){return xn("f*",D),this},h.fillStroke=function(D){return xn("B",D),this},h.fillStrokeEvenOdd=function(D){return xn("B*",D),this};var xn=function(D,te){ri(te)==="object"?wr(te,D):ne(D)},$c=function(D){D===null||_===E&&D===void 0||(D=Pu(D),ne(D))};function Ci(D,te,Ne,Ae,De){var st=new kv(te||this.boundingBox,Ne||this.xStep,Ae||this.yStep,this.gState,De||this.matrix);st.stream=this.stream;var vt=D+"$$"+this.cloneIndex+++"$$";return Lt(vt,st),st}var wr=function(D,te){var Ne=Pn[D.key],Ae=on[Ne];if(Ae instanceof fm)ne("q"),ne(Bc(te)),Ae.gState&&h.setGState(Ae.gState),ne(D.matrix.toString()+" cm"),ne("/"+Ne+" sh"),ne("Q");else if(Ae instanceof kv){var De=new ce(1,0,0,-1,0,zo());D.matrix&&(De=De.multiply(D.matrix||ht),Ne=Ci.call(Ae,D.key,D.boundingBox,D.xStep,D.yStep,De).id),ne("q"),ne("/Pattern cs"),ne("/"+Ne+" scn"),Ae.gState&&h.setGState(Ae.gState),ne(te),ne("Q")}},Bc=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ua=h.moveTo=function(D,te){return ne(A(q(D))+" "+A(z(te))+" m"),this},vo=h.lineTo=function(D,te){return ne(A(q(D))+" "+A(z(te))+" l"),this},ka=h.curveTo=function(D,te,Ne,Ae,De,st){return ne([A(q(D)),A(z(te)),A(q(Ne)),A(z(Ae)),A(q(De)),A(z(st)),"c"].join(" ")),this};h.__private__.line=h.line=function(D,te,Ne,Ae,De){if(isNaN(D)||isNaN(te)||isNaN(Ne)||isNaN(Ae)||!Wi(De))throw new Error("Invalid arguments passed to jsPDF.line");return _===S?this.lines([[Ne-D,Ae-te]],D,te,[1,1],De||"S"):this.lines([[Ne-D,Ae-te]],D,te,[1,1]).stroke()},h.__private__.lines=h.lines=function(D,te,Ne,Ae,De,st){var vt,Zt,un,$n,Bn,Nr,Ai,ts,ii,vs,Ki,Vs;if(typeof D=="number"&&(Vs=Ne,Ne=te,te=D,D=Vs),Ae=Ae||[1,1],st=st||!1,isNaN(te)||isNaN(Ne)||!Array.isArray(D)||!Array.isArray(Ae)||!Wi(De)||typeof st!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ua(te,Ne),vt=Ae[0],Zt=Ae[1],$n=D.length,vs=te,Ki=Ne,un=0;un<$n;un++)(Bn=D[un]).length===2?(vs=Bn[0]*vt+vs,Ki=Bn[1]*Zt+Ki,vo(vs,Ki)):(Nr=Bn[0]*vt+vs,Ai=Bn[1]*Zt+Ki,ts=Bn[2]*vt+vs,ii=Bn[3]*Zt+Ki,vs=Bn[4]*vt+vs,Ki=Bn[5]*Zt+Ki,ka(Nr,Ai,ts,ii,vs,Ki));return st&&ur(),$c(De),this},h.path=function(D){for(var te=0;te<D.length;te++){var Ne=D[te],Ae=Ne.c;switch(Ne.op){case"m":Ua(Ae[0],Ae[1]);break;case"l":vo(Ae[0],Ae[1]);break;case"c":ka.apply(this,Ae);break;case"h":ur()}}return this},h.__private__.rect=h.rect=function(D,te,Ne,Ae,De){if(isNaN(D)||isNaN(te)||isNaN(Ne)||isNaN(Ae)||!Wi(De))throw new Error("Invalid arguments passed to jsPDF.rect");return _===S&&(Ae=-Ae),ne([A(q(D)),A(z(te)),A(q(Ne)),A(q(Ae)),"re"].join(" ")),$c(De),this},h.__private__.triangle=h.triangle=function(D,te,Ne,Ae,De,st,vt){if(isNaN(D)||isNaN(te)||isNaN(Ne)||isNaN(Ae)||isNaN(De)||isNaN(st)||!Wi(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-D,Ae-te],[De-Ne,st-Ae],[D-De,te-st]],D,te,[1,1],vt,!0),this},h.__private__.roundedRect=h.roundedRect=function(D,te,Ne,Ae,De,st,vt){if(isNaN(D)||isNaN(te)||isNaN(Ne)||isNaN(Ae)||isNaN(De)||isNaN(st)||!Wi(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*Ne),st=Math.min(st,.5*Ae),this.lines([[Ne-2*De,0],[De*Zt,0,De,st-st*Zt,De,st],[0,Ae-2*st],[0,st*Zt,-De*Zt,st,-De,st],[2*De-Ne,0],[-De*Zt,0,-De,-st*Zt,-De,-st],[0,2*st-Ae],[0,-st*Zt,De*Zt,-st,De,-st]],D+De,te,[1,1],vt,!0),this},h.__private__.ellipse=h.ellipse=function(D,te,Ne,Ae,De){if(isNaN(D)||isNaN(te)||isNaN(Ne)||isNaN(Ae)||!Wi(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var st=4/3*(Math.SQRT2-1)*Ne,vt=4/3*(Math.SQRT2-1)*Ae;return Ua(D+Ne,te),ka(D+Ne,te-vt,D+st,te-Ae,D,te-Ae),ka(D-st,te-Ae,D-Ne,te-vt,D-Ne,te),ka(D-Ne,te+vt,D-st,te+Ae,D,te+Ae),ka(D+st,te+Ae,D+Ne,te+vt,D+Ne,te),$c(De),this},h.__private__.circle=h.circle=function(D,te,Ne,Ae){if(isNaN(D)||isNaN(te)||isNaN(Ne)||!Wi(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,te,Ne,Ne,Ae)},h.setFont=function(D,te,Ne){return Ne&&(te=M(te,Ne)),Ot=yi(D,te,{disableWarning:!1}),this};var Mt=h.__private__.getFont=h.getFont=function(){return zt[yi.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var D,te,Ne={};for(D in yn)if(yn.hasOwnProperty(D))for(te in Ne[D]=[],yn[D])yn[D].hasOwnProperty(te)&&Ne[D].push(te);return Ne},h.addFont=function(D,te,Ne,Ae,De){var st=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&st.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&st.indexOf(arguments[3])==-1&&(Ne=M(Ne,Ae)),Ou.call(this,D,te,Ne,De=De||"Identity-H")};var qt,Nn=t.lineWidth||.200025,Dt=h.__private__.getLineWidth=h.getLineWidth=function(){return Nn},xi=h.__private__.setLineWidth=h.setLineWidth=function(D){return Nn=D,ne(A(q(D))+" w"),this};h.__private__.setLineDash=pn.API.setLineDash=pn.API.setLineDashPattern=function(D,te){if(D=D||[],te=te||0,isNaN(te)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ne){return A(q(Ne))}).join(" "),te=A(q(te)),ne("["+D+"] "+te+" d"),this};var es=h.__private__.getLineHeight=h.getLineHeight=function(){return Ke*qt};h.__private__.getLineHeight=h.getLineHeight=function(){return Ke*qt};var Op=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(qt=D),this},Wf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return qt};Op(t.lineHeight);var yo=h.__private__.getHorizontalCoordinate=function(D){return q(D)},zc=h.__private__.getVerticalCoordinate=function(D){return _===E?D:Ut[V].mediaBox.topRightY-Ut[V].mediaBox.bottomLeftY-q(D)},Eg=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(D){return A(yo(D))},Kf=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(D){return A(zc(D))},kd=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return mo(kd)},h.__private__.setStrokeColor=h.setDrawColor=function(D,te,Ne,Ae){return kd=Di({ch1:D,ch2:te,ch3:Ne,ch4:Ae,pdfColorType:"draw",precision:2}),ne(kd),this};var Pp=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return mo(Pp)},h.__private__.setFillColor=h.setFillColor=function(D,te,Ne,Ae){return Pp=Di({ch1:D,ch2:te,ch3:Ne,ch4:Ae,pdfColorType:"fill",precision:2}),ne(Pp),this};var gl=t.textColor||"0 g",Gl=h.__private__.getTextColor=h.getTextColor=function(){return mo(gl)};h.__private__.setTextColor=h.setTextColor=function(D,te,Ne,Ae){return gl=Di({ch1:D,ch2:te,ch3:Ne,ch4:Ae,pdfColorType:"text",precision:3}),this};var vl=t.charSpace,Gf=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(vl||0)};h.__private__.setCharSpace=h.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vl=D,this};var Mp=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(D){var te=h.CapJoinStyles[D];if(te===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mp=te,ne(te+" J"),this};var Rp=0;h.__private__.setLineJoin=h.setLineJoin=function(D){var te=h.CapJoinStyles[D];if(te===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rp=te,ne(te+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(A(q(D))+" M"),this},h.GState=eE,h.setGState=function(D){(D=typeof D=="string"?wn[kr[D]]:qc(null,D)).equals(Tr)||(ne("/"+D.id+" gs"),Tr=D)};var qc=function(D,te){if(!D||!kr[D]){var Ne=!1;for(var Ae in wn)if(wn.hasOwnProperty(Ae)&&wn[Ae].equals(te)){Ne=!0;break}if(Ne)te=wn[Ae];else{var De="GS"+(Object.keys(wn).length+1).toString(10);wn[De]=te,te.id=De}return D&&(kr[D]=te.id),Ee.publish("addGState",te),te}};h.addGState=function(D,te){return qc(D,te),this},h.saveGraphicsState=function(){return ne("q"),ir.push({key:Ot,size:Ke,color:gl}),this},h.restoreGraphicsState=function(){ne("Q");var D=ir.pop();return Ot=D.key,Ke=D.size,gl=D.color,Tr=null,this},h.setCurrentTransformationMatrix=function(D){return ne(D.toString()+" cm"),this},h.comment=function(D){return ne("#"+D),this};var Yl=function(D,te){var Ne=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(st){isNaN(st)||(Ne=parseFloat(st))}});var Ae=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(st){isNaN(st)||(Ae=parseFloat(st))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(st){De=st.toString()}}),this},Td=function(D,te,Ne,Ae){Yl.call(this,D,te),this.type="rect";var De=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(vt){isNaN(vt)||(De=parseFloat(vt))}});var st=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return st},set:function(vt){isNaN(vt)||(st=parseFloat(vt))}}),this},Od=function(){this.page=mn,this.currentPage=V,this.pages=Ce.slice(0),this.pagesContext=Ut.slice(0),this.x=At,this.y=On,this.matrix=An,this.width=Pd(V),this.height=$o(V),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Od.prototype.restore=function(){mn=this.page,V=this.currentPage,Ut=this.pagesContext,Ce=this.pages,At=this.x,On=this.y,An=this.matrix,Ip(V,this.width),Bo(V,this.height),Pe=this.outputDestination};var Fo=function(D,te,Ne,Ae,De){In.push(new Od),mn=V=0,Ce=[],At=D,On=te,An=De,Vl([Ne,Ae])};for(var Uc in h.beginFormObject=function(D,te,Ne,Ae,De){return Fo(D,te,Ne,Ae,De),this},h.endFormObject=function(D){return(function(te){if(It[te])In.pop().restore();else{var Ne=new Od,Ae="Xo"+(Object.keys(pt).length+1).toString(10);Ne.id=Ae,It[te]=Ae,pt[Ae]=Ne,Ee.publish("addFormObject",Ne),In.pop().restore()}})(D),this},h.doFormObject=function(D,te){var Ne=pt[It[D]];return ne("q"),ne(te.toString()+" cm"),ne("/"+Ne.id+" Do"),ne("Q"),this},h.getFormObject=function(D){var te=pt[It[D]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},h.save=function(D,te){return D=D||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(dm(qa(Aa()),D),typeof dm.unload=="function"&&Un.setTimeout&&setTimeout(dm.unload,911),this):new Promise(function(Ne,Ae){try{var De=dm(qa(Aa()),D);typeof dm.unload=="function"&&Un.setTimeout&&setTimeout(dm.unload,911),Ne(De)}catch(st){Ae(st.message)}})},pn.API)pn.API.hasOwnProperty(Uc)&&(Uc==="events"&&pn.API.events.length?(function(D,te){var Ne,Ae,De;for(De=te.length-1;De!==-1;De--)Ne=te[De][0],Ae=te[De][1],D.subscribe.apply(D,[Ne].concat(typeof Ae=="function"?[Ae]:Ae))})(Ee,pn.API.events):h[Uc]=pn.API[Uc]);function Pd(D){return Ut[D].mediaBox.topRightX-Ut[D].mediaBox.bottomLeftX}function Ip(D,te){Ut[D].mediaBox.topRightX=te+Ut[D].mediaBox.bottomLeftX}function $o(D){return Ut[D].mediaBox.topRightY-Ut[D].mediaBox.bottomLeftY}function Bo(D,te){Ut[D].mediaBox.topRightY=te+Ut[D].mediaBox.bottomLeftY}var Dp=h.getPageWidth=function(D){return Pd(D=D||V)/Kt},la=h.setPageWidth=function(D,te){Ip(D,te*Kt)},zo=h.getPageHeight=function(D){return $o(D=D||V)/Kt},Yf=h.setPageHeight=function(D,te){Bo(D,te*Kt)};return h.internal={pdfEscape:Cs,getStyle:Pu,getFont:Mt,getFontSize:Se,getCharSpace:Gf,getTextColor:Gl,getLineHeight:es,getLineHeightFactor:Wf,getLineWidth:Dt,write:Re,getHorizontalCoordinate:yo,getVerticalCoordinate:zc,getCoordinateString:Eg,getVerticalCoordinateString:Kf,collections:{},newObject:gn,newAdditionalObject:Yr,newObjectDeferred:mr,newObjectDeferredBegin:or,getFilters:Us,putStream:aa,events:Ee,scaleFactor:Kt,pageSize:{getWidth:function(){return Dp(V)},setWidth:function(D){la(V,D)},getHeight:function(){return zo(V)},setHeight:function(D){Yf(V,D)}},encryptionOptions:d,encryption:_i,getEncryptor:function(D){return d!==null?_i.encryptor(D,0):function(te){return te}},output:Hs,getNumberOfPages:nr,pages:Ce,out:ne,f2:R,f3:$,getPageInfo:Fc,getPageInfoByObjId:Vf,getCurrentPageInfo:Wl,getPDFVersion:v,Point:Yl,Rectangle:Td,Matrix:ce,hasHotfix:Lc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Dp(V)},set:function(D){la(V,D)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return zo(V)},set:function(D){Yf(V,D)},enumerable:!0,configurable:!0}),(function(D){for(var te=0,Ne=et.length;te<Ne;te++){var Ae=Ou.call(this,D[te][0],D[te][1],D[te][2],et[te][3],!0);f===!1&&(m[Ae]=!0);var De=D[te][0].split("-");Hf({id:Ae,fontName:De[0],fontStyle:De[1]||""})}Ee.publish("addFonts",{fonts:zt,dictionary:yn})}).call(h,et),Ot="F1",jt(i,n),Ee.publish("initialized"),h}mv.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},mv.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mv.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},mv.prototype.processOwnerPassword=function(t,e){return i4(r4(e).substr(0,5),t)},mv.prototype.encryptor=function(t,e){var n=r4(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return i4(n,r)}},eE.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ri(t)!==ri(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},pn.API={events:[]},pn.version="3.0.3";var cs=pn.API,qL=1,wg=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},av=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xn=function(t){return t.toFixed(2)},Sh=function(t){return t.toFixed(5)};cs.__acroform__={};var pl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},lV=function(t){return t*qL},Gu=function(t){var e=new Hse,n=rn.internal.getHeight(t)||0,r=rn.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Xn(r)),Number(Xn(n))],e},a7e=cs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},o7e=cs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},l7e=cs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ns=cs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return l7e(t,e-1)},Ss=cs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return a7e(t,e-1)},Es=cs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return o7e(t,e-1)},c7e=cs.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Xn(c.lowerLeft_X)),Number(Xn(c.lowerLeft_Y)),Number(Xn(c.upperRight_X)),Number(Xn(c.upperRight_Y))]},u7e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=s4(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Xn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Gu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},s4=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=n,o=rn.internal.getHeight(t)||0;o=o<0?-o:o;var l=rn.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(R,$,q){if(R+1<i.length){var z=$+" "+i[R+1][0];return v2(z,t,q).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,f=v2("3",t,s).height,m=t.multiline?o-s:(o-f)/2,h=m+=2,y=0,v=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+v2(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var b="",S=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var _=!1;if(i[E].length!==1&&x!==i[E].length-1){if((f+2)*(S+2)+2>o)continue e;b+=i[E][x],_=!0,v=E,E--}else{b=(b+=i[E][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var C=parseInt(E),O=c(C,b,s),M=E>=i.length-1;if(O&&!M){b+=" ",x=0;continue}if(O||M){if(M)v=C;else if(t.multiline&&(f+2)*(S+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(S+2)+2>o)continue e;v=C}}for(var A="",P=y;P<=v;P++){var F=i[P];if(t.multiline){if(P===v){A+=F[x]+" ",x=(x+1)%F.length;continue}if(P===y){A+=F[F.length-1]+" ";continue}}A+=F[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=v2(A,t,s).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}e+=Xn(u)+" "+Xn(h)+` Td
`,e+="("+wg(A)+`) Tj
`,e+=-Xn(u)+` 0 Td
`,h=-(s+2),d=0,y=_?v:v+1,S++,b=""}break}return r.text=e,r.fontSize=s,r},v2=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},d7e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},f7e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},h7e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Au.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(d7e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");qL=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Vse,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&f7e(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=c7e(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=rn.createDefaultAppearanceStream(l),ri(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=u7e(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var y=h[o];typeof y=="function"&&(y=y.call(i,l)),f+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,l)),f+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&(function(v,x){for(var b in v)if(v.hasOwnProperty(b)){var S=b,E=v[b];x.internal.newObjectDeferredBegin(E.objId,!0),ri(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete v[S]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Use=cs.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ri(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+wg(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$O=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+wg(r(t))+")"},ad=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ad.prototype.toString=function(){return this.objId+" 0 R"},ad.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ad.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Use(i,this.objId,this.scope)}):i instanceof ad?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Hse=function(){ad.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};pl(Hse,ad);var Vse=function(){ad.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wg(n(t))+")"}},set:function(n){t=n}})};pl(Vse,ad);var Au=function t(){ad.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ns(e,3)},set:function(b){b?this.F=Ss(e,3):this.F=Es(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof tE)return;s="FieldObject"+t.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+wg(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/qL:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof tE||this instanceof Tm))return $O(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ya==0?$O(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof ya==0?b.substr(0,1)==="("?av(b.substr(1,b.length-2)):av(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ya==1?av(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof ya==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ya==0?$O(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof ya==0?b.substr(0,1)==="("?av(b.substr(1,b.length-2)):av(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ya==1?av(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof ya==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(b){b=!!b,v=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,1)},set:function(b){b?this.Ff=Ss(this.Ff,1):this.Ff=Es(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,2)},set:function(b){b?this.Ff=Ss(this.Ff,2):this.Ff=Es(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,3)},set:function(b){b?this.Ff=Ss(this.Ff,3):this.Ff=Es(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};pl(Au,ad);var qv=function(){Au.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Use(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,18)},set:function(n){n?this.Ff=Ss(this.Ff,18):this.Ff=Es(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ss(this.Ff,19):this.Ff=Es(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,20)},set:function(n){n?(this.Ff=Ss(this.Ff,20),e.sort()):this.Ff=Es(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,22)},set:function(n){n?this.Ff=Ss(this.Ff,22):this.Ff=Es(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,23)},set:function(n){n?this.Ff=Ss(this.Ff,23):this.Ff=Es(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,27)},set:function(n){n?this.Ff=Ss(this.Ff,27):this.Ff=Es(this.Ff,27)}}),this.hasAppearanceStream=!1};pl(qv,Au);var Uv=function(){qv.call(this),this.fontName="helvetica",this.combo=!1};pl(Uv,qv);var Hv=function(){Uv.call(this),this.combo=!0};pl(Hv,Uv);var iN=function(){Hv.call(this),this.edit=!0};pl(iN,Hv);var ya=function(){Au.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,15)},set:function(n){n?this.Ff=Ss(this.Ff,15):this.Ff=Es(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,16)},set:function(n){n?this.Ff=Ss(this.Ff,16):this.Ff=Es(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,17)},set:function(n){n?this.Ff=Ss(this.Ff,17):this.Ff=Es(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,26)},set:function(n){n?this.Ff=Ss(this.Ff,26):this.Ff=Es(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+wg(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ri(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};pl(ya,Au);var sN=function(){ya.call(this),this.pushButton=!0};pl(sN,ya);var Vv=function(){ya.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pl(Vv,ya);var tE=function(){var t,e;Au.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+wg(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ri(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pl(tE,Au),Vv.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Vv.prototype.createOption=function(t){var e=new tE;return e.Parent=this,e.optionName=t,this.Kids.push(e),p7e.call(this.scope,e),e};var aN=function(){ya.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rn.CheckBox.createAppearanceStream()};pl(aN,ya);var Tm=function(){Au.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,13)},set:function(e){e?this.Ff=Ss(this.Ff,13):this.Ff=Es(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,21)},set:function(e){e?this.Ff=Ss(this.Ff,21):this.Ff=Es(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,23)},set:function(e){e?this.Ff=Ss(this.Ff,23):this.Ff=Es(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,24)},set:function(e){e?this.Ff=Ss(this.Ff,24):this.Ff=Es(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,25)},set:function(e){e?this.Ff=Ss(this.Ff,25):this.Ff=Es(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,26)},set:function(e){e?this.Ff=Ss(this.Ff,26):this.Ff=Es(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pl(Tm,Au);var oN=function(){Tm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ns(this.Ff,14)},set:function(t){t?this.Ff=Ss(this.Ff,14):this.Ff=Es(this.Ff,14)}}),this.password=!0};pl(oN,Tm);var rn={CheckBox:{createAppearanceStream:function(){return{N:{On:rn.CheckBox.YesNormal},D:{On:rn.CheckBox.YesPushDown,Off:rn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Gu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=s4(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Xn(rn.internal.getWidth(t))+" "+Xn(rn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Xn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Gu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=rn.internal.getHeight(t),o=rn.internal.getWidth(t),l=s4(t,t.caption);return i.push("1 g"),i.push("0 0 "+Xn(o)+" "+Xn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xn(o-1)+" "+Xn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Xn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Gu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xn(rn.internal.getWidth(t))+" "+Xn(rn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rn.RadioButton.Circle.YesNormal,e.D[t]=rn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Gu(t);e.scope=t.scope;var n=[],r=rn.internal.getWidth(t)<=rn.internal.getHeight(t)?rn.internal.getWidth(t)/4:rn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=rn.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Sh(rn.internal.getWidth(t)/2)+" "+Sh(rn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Gu(t);e.scope=t.scope;var n=[],r=rn.internal.getWidth(t)<=rn.internal.getHeight(t)?rn.internal.getWidth(t)/4:rn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rn.internal.Bezier_C).toFixed(5)),o=Number((r*rn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sh(rn.internal.getWidth(t)/2)+" "+Sh(rn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Sh(rn.internal.getWidth(t)/2)+" "+Sh(rn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Gu(t);e.scope=t.scope;var n=[],r=rn.internal.getWidth(t)<=rn.internal.getHeight(t)?rn.internal.getWidth(t)/4:rn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sh(rn.internal.getWidth(t)/2)+" "+Sh(rn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rn.RadioButton.Cross.YesNormal,e.D[t]=rn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Gu(t);e.scope=t.scope;var n=[],r=rn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Xn(rn.internal.getWidth(t)-2)+" "+Xn(rn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Xn(r.x1.x)+" "+Xn(r.x1.y)+" m"),n.push(Xn(r.x2.x)+" "+Xn(r.x2.y)+" l"),n.push(Xn(r.x4.x)+" "+Xn(r.x4.y)+" m"),n.push(Xn(r.x3.x)+" "+Xn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Gu(t);e.scope=t.scope;var n=rn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xn(rn.internal.getWidth(t))+" "+Xn(rn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xn(rn.internal.getWidth(t)-2)+" "+Xn(rn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Xn(n.x1.x)+" "+Xn(n.x1.y)+" m"),r.push(Xn(n.x2.x)+" "+Xn(n.x2.y)+" l"),r.push(Xn(n.x4.x)+" "+Xn(n.x4.y)+" m"),r.push(Xn(n.x3.x)+" "+Xn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Gu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Xn(rn.internal.getWidth(t))+" "+Xn(rn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};rn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rn.internal.getWidth(t),n=rn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},rn.internal.getWidth=function(t){var e=0;return ri(t)==="object"&&(e=lV(t.Rect[2])),e},rn.internal.getHeight=function(t){var e=0;return ri(t)==="object"&&(e=lV(t.Rect[3])),e};var p7e=cs.addField=function(t){if(h7e(this,t),!(t instanceof Au))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};cs.AcroFormChoiceField=qv,cs.AcroFormListBox=Uv,cs.AcroFormComboBox=Hv,cs.AcroFormEditBox=iN,cs.AcroFormButton=ya,cs.AcroFormPushButton=sN,cs.AcroFormRadioButton=Vv,cs.AcroFormCheckBox=aN,cs.AcroFormTextField=Tm,cs.AcroFormPasswordField=oN,cs.AcroFormAppearance=rn,cs.AcroForm={ChoiceField:qv,ListBox:Uv,ComboBox:Hv,EditBox:iN,Button:ya,PushButton:sN,RadioButton:Vv,CheckBox:aN,TextField:Tm,PasswordField:oN,Appearance:rn},pn.AcroForm={ChoiceField:qv,ListBox:Uv,ComboBox:Hv,EditBox:iN,Button:ya,PushButton:sN,RadioButton:Vv,CheckBox:aN,TextField:Tm,PasswordField:oN,Appearance:rn};pn.AcroForm;function Wse(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(R,$){var q,z,G,X,U,W=n;if(($=$||n)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(O(R))for(U in r)for(G=r[U],q=0;q<G.length;q+=1){for(X=!0,z=0;z<G[q].length;z+=1)if(G[q][z]!==void 0&&G[q][z]!==R[z]){X=!1;break}if(X===!0){W=U;break}}else for(U in r)for(G=r[U],q=0;q<G.length;q+=1){for(X=!0,z=0;z<G[q].length;z+=1)if(G[q][z]!==void 0&&G[q][z]!==R.charCodeAt(z)){X=!1;break}if(X===!0){W=U;break}}return W===n&&$!==n&&(W=$),W},s=function R($){for(var q=this.internal.write,z=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:$.width}),X.push({key:"Height",value:$.height}),$.colorSpace===b.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===b.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var U="",W=0,Y=$.transparency.length;W<Y;W++)U+=$.transparency[W]+" "+$.transparency[W]+" ";X.push({key:"Mask",value:"["+U+"]"})}$.sMask!==void 0&&X.push({key:"SMask",value:$.objectId+1+" 0 R"});var ie=$.filter!==void 0?["/"+$.filter]:void 0;if(z({data:$.data,additionalKeyValues:X,alreadyAppliedFilters:ie,objectId:$.objectId}),q("endobj"),"sMask"in $&&$.sMask!==void 0){var Q,I=(Q=$.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:$.bitsPerComponent,V={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:$.sMask};"filter"in $&&(V.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat($.width),V.filter=$.filter),R.call(this,V)}if($.colorSpace===b.INDEXED){var J=this.internal.newObject();z({data:A(new Uint8Array($.palette)),objectId:J}),q("endobj")}},o=function(){var R=this.internal.collections[e+"images"];for(var $ in R)s.call(this,R[$])},l=function(){var R,$=this.internal.collections[e+"images"],q=this.internal.write;for(var z in $)q("/I"+(R=$[z]).index,R.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var R=this.internal.collections[e+"images"];return c.call(this),R},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(R){return typeof t["process"+R.toUpperCase()]=="function"},m=function(R){return ri(R)==="object"&&R.nodeType===1},h=function(R,$){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var q=""+R.getAttribute("src");if(q.indexOf("data:image/")===0)return rN(unescape(q).split("base64,").pop());var z=t.loadFile(q,!0);if(z!==void 0)return z}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var G;switch($){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return rN(R.toDataURL(G,1).split("base64,").pop())}},y=function(R){var $=this.internal.collections[e+"images"];if($){for(var q in $)if(R===$[q].alias)return $[q]}},v=function(R,$,q){return R||$||(R=-96,$=-96),R<0&&(R=-1*q.width*72/R/this.internal.scaleFactor),$<0&&($=-1*q.height*72/$/this.internal.scaleFactor),R===0&&(R=$*q.width/q.height),$===0&&($=R*q.height/q.width),[R,$]},x=function(R,$,q,z,G,X){var U=v.call(this,q,z,G),W=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ie=u.call(this);if(q=U[0],z=U[1],ie[G.index]=G,X){X*=Math.PI/180;var Q=Math.cos(X),I=Math.sin(X),V=function(re){return re.toFixed(4)},J=[V(Q),V(I),V(-1*I),V(Q),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,W(R),Y($+z),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([W(q),"0","0",W(z),"0","0","cm"].join(" "))):this.internal.write([W(q),"0","0",W(z),W(R),Y($+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(R){var $,q,z=0;if(typeof R=="string")for(q=R.length,$=0;$<q;$++)z=(z<<5)-z+R.charCodeAt($),z|=0;else if(O(R))for(q=R.byteLength/2,$=0;$<q;$++)z=(z<<5)-z+R[$],z|=0;return z},_=t.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var $=!0;return R.length===0&&($=!1),R.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&($=!1),$},C=t.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var $=R.indexOf(",");return $<0?null:R.substring(0,$).trim().endsWith("base64")?R.substring($+1):null};t.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},M=t.__addimage__.binaryStringToUint8Array=function(R){for(var $=R.length,q=new Uint8Array($),z=0;z<$;z++)q[z]=R.charCodeAt(z);return q},A=t.__addimage__.arrayBufferToBinaryString=function(R){for(var $="",q=O(R)?R:new Uint8Array(R),z=0;z<q.length;z+=8192)$+=String.fromCharCode.apply(null,q.subarray(z,z+8192));return $};t.addImage=function(){var R,$,q,z,G,X,U,W,Y;if(typeof arguments[1]=="number"?($=n,q=arguments[1],z=arguments[2],G=arguments[3],X=arguments[4],U=arguments[5],W=arguments[6],Y=arguments[7]):($=arguments[1],q=arguments[2],z=arguments[3],G=arguments[4],X=arguments[5],U=arguments[6],W=arguments[7],Y=arguments[8]),ri(R=arguments[0])==="object"&&!m(R)&&"imageData"in R){var ie=R;R=ie.imageData,$=ie.format||$||n,q=ie.x||q||0,z=ie.y||z||0,G=ie.w||ie.width||G,X=ie.h||ie.height||X,U=ie.alias||U,W=ie.compression||W,Y=ie.rotation||ie.angle||Y}var Q=this.internal.getFilters();if(W===void 0&&Q.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(q)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=P.call(this,R,$,U,W);return x.call(this,q,z,G,X,I,Y),this};var P=function(R,$,q,z){var G,X,U;if(typeof R=="string"&&i(R)===n){R=unescape(R);var W=F(R,!1);(W!==""||(W=t.loadFile(R,!0))!==void 0)&&(R=W)}if(m(R)&&(R=h(R,$)),$=i(R,$),!f($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((U=q)==null||U.length===0)&&(q=(function(Y){return typeof Y=="string"||O(Y)?E(Y):O(Y.data)?E(Y.data):null})(R)),(G=y.call(this,q))||(R instanceof Uint8Array||$==="RGBA"||(X=R,R=M(R)),G=this["process"+$.toUpperCase()](R,d.call(this),q,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:S.NONE})(z),X)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},F=t.__addimage__.convertBase64ToBinaryString=function(R,$){$=typeof $!="boolean"||$;var q,z="";if(typeof R=="string"){var G;q=(G=C(R))!==null&&G!==void 0?G:R;try{z=rN(q)}catch(X){if($)throw _(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(R){var $,q,z="";if(m(R)&&(R=h(R)),typeof R=="string"&&i(R)===n&&((z=F(R,!1))===""&&(z=t.loadFile(R)||""),R=z),q=i(R),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(R instanceof Uint8Array||(R=M(R)),!($=this["process"+q.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=q,$}})(pn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};pn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(v.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+h(b(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+h(b(S))+") >>",v.content=s;var E=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var O=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(n,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,l,o,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(pn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var x=0,b=n,S="",E=0;for(x=0;x<v.length;x+=1)b[v.charCodeAt(x)]!==void 0?(E++,typeof(b=b[v.charCodeAt(x)])=="number"&&(S+=String.fromCharCode(b),b=n,E=0),x===v.length-1&&(b=n,S+=v.charAt(x-(E-1)),x-=E-1,E=0)):(b=n,S+=v.charAt(x-E),x-=E,E=0);return S};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(v,x,b){return o(v)?s(v)===!1?-1:!u(v)||!o(x)&&!o(b)||!o(b)&&l(x)||l(v)&&!o(x)||l(v)&&c(x)||l(v)&&l(x)?0:d(v)&&o(x)&&!l(x)&&o(b)&&u(b)?3:l(v)||!o(b)?1:2:-1},h=function(v){var x=0,b=0,S=0,E="",_="",C="",O=(v=v||"").split("\\s+"),M=[];for(x=0;x<O.length;x+=1){for(M.push(""),b=0;b<O[x].length;b+=1)E=O[x][b],_=O[x][b-1],C=O[x][b+1],o(E)?(S=m(E,_,C),M[x]+=S!==-1?String.fromCharCode(e[E.charCodeAt(0)][S]):E):M[x]+=E;M[x]=f(M[x])}return M.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var S=0;for(b=[],S=0;S<x.length;S+=1)Array.isArray(x[S])?b.push([h(x[S][0]),x[S][1],x[S][2]]):b.push([h(x[S])]);v=b}else v=h(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",y])})(pn.API),pn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(pn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,y=0,v=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(E,_){return E.concat(x.splitTextToSize(_,b))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)h<(v=this.getStringUnitWidth(c[S],{font:f})*d)&&(h=v);return h!==0&&(y=c.length),{w:h/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var h,y,v,x,b=[],S=[],E=[],_={},C={},O=[],M=[],A=(m=m||{}).autoSize||!1,P=m.printHeaders!==!1,F=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,R=m.margins||Object.assign({width:this.getPageWidth()},e),$=typeof m.padding=="number"?m.padding:3,q=m.headerBackgroundColor||"#c8c8c8",z=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=z,this.setFontSize(F),f==null)S=b=Object.keys(d[0]),E=b.map(function(){return"left"});else if(Array.isArray(f)&&ri(f[0])==="object")for(b=f.map(function(ie){return ie.name}),S=f.map(function(ie){return ie.prompt||ie.name||""}),E=f.map(function(ie){return ie.align||"left"}),h=0;h<f.length;h+=1)C[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=b=f,E=b.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(_[x=b[h]]=d.map(function(ie){return ie[x]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(S[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=_[x],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)O.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,O)+$+$,O=[]}if(P){var G={};for(h=0;h<b.length;h+=1)G[b[h]]={},G[b[h]].text=S[h],G[b[h]].align=E[h];var X=l.call(this,G,C);M=b.map(function(ie){return new s(c,u,C[ie],X,G[ie].text,void 0,G[ie].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var U=f.reduce(function(ie,Q){return ie[Q.name]=Q.align,ie},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var W=l.call(this,d[h],C);for(v=0;v<b.length;v+=1){var Y=d[h][b[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:v,data:Y},this),o.call(this,new s(c,u,C[b[v]],W,Y,h+2,U[b[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var y=c[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,y){return Math.max(h,y)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}})(pn.API);var Kse={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a4=Wse(Gse),Yse=[100,200,300,400,500,600,700,800,900],m7e=Wse(Yse);function BO(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return Kse[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof a4[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function cV(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var g7e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uV={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dV(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fV(t){return t.trimLeft()}function v7e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function y7e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var y2,hV,pV,ov,x2,mV,gV,vV,zO=["times"];function yV(t,e,n,r,i){var s=4,o=bV;switch(i){case pn.API.image_compression.FAST:s=1,o=xV;break;case pn.API.image_compression.MEDIUM:s=6,o=wV;break;case pn.API.image_compression.SLOW:s=9,o=NV}t=(function(c,u,d,f){for(var m,h=c.length/u,y=new Uint8Array(c.length+h),v=[x7e,xV,bV,wV,NV],x=0;x<h;x+=1){var b=x*u,S=c.subarray(b,b+u);if(f)y.set(f(S,d,m),b+x);else{for(var E=v.length,_=[],C=0;C<E;C+=1)_[C]=v[C](S,d,m);var O=w7e(_.concat());y.set(_[O],b+x)}m=S}return y})(t,e,Math.ceil(n*r/8),o);var l=ZR(t,{level:s});return pn.API.__addimage__.arrayBufferToBinaryString(l)}function x7e(t){var e=Array.apply([],t);return e.unshift(0),e}function xV(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function bV(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function wV(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,l=n&&n[s]||0;i[s+1]=t[s]+256-(o+l>>>1)&255}return i}function NV(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=b7e(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function b7e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function w7e(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function qO(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return Xse(t,i)>>s&o}function SV(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),l=(1<<r)-1,c=(e&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(t,s,Xse(t,s)&~(l<<o)&65535|c)}function Xse(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function N7e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var u=!0,d=[],f=0,m=null,h=0,y=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&v||(m=null),h=v>>2&7,e++;break;case 254:for(;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,_=t[e++],C=_>>6&1,O=1<<1+(7&_),M=l,A=c,P=!1;_>>7&&(P=!0,M=e,A=O,e+=3*O);var F=e;for(e++;;){var R;if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}d.push({x,y:b,width:S,height:E,has_local_palette:P,palette_offset:M,palette_size:A,data_offset:F,data_length:e-F,transparent_index:m,interlaced:!!C,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function($){if($<0||$>=d.length)throw new Error("Frame index out of range.");return d[$]},this.decodeAndBlitFrameBGRA=function($,q){var z=this.frameInfo($),G=z.width*z.height,X=new Uint8Array(G);EV(t,z.data_offset,X,G);var U=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,ie=n-Y,Q=Y,I=4*(z.y*n+z.x),V=4*((z.y+z.height)*n+z.x),J=I,re=4*ie;z.interlaced===!0&&(re+=4*n*7);for(var fe=8,pe=0,xe=X.length;pe<xe;++pe){var de=X[pe];if(Q===0&&(Q=Y,(J+=re)>=V&&(re=4*ie+4*n*(fe-1),J=I+(Y+ie)*(fe<<1),fe>>=1)),de===W)J+=4;else{var we=t[U+3*de],Ce=t[U+3*de+1],ae=t[U+3*de+2];q[J++]=ae,q[J++]=Ce,q[J++]=we,q[J++]=255}--Q}},this.decodeAndBlitFrameRGBA=function($,q){var z=this.frameInfo($),G=z.width*z.height,X=new Uint8Array(G);EV(t,z.data_offset,X,G);var U=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,ie=n-Y,Q=Y,I=4*(z.y*n+z.x),V=4*((z.y+z.height)*n+z.x),J=I,re=4*ie;z.interlaced===!0&&(re+=4*n*7);for(var fe=8,pe=0,xe=X.length;pe<xe;++pe){var de=X[pe];if(Q===0&&(Q=Y,(J+=re)>=V&&(re=4*ie+4*n*(fe-1),J=I+(Y+ie)*(fe<<1),fe>>=1)),de===W)J+=4;else{var we=t[U+3*de],Ce=t[U+3*de+1],ae=t[U+3*de+2];q[J++]=we,q[J++]=Ce,q[J++]=ae,q[J++]=255}--Q}}}function EV(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,f=0,m=0,h=t[e++],y=new Int32Array(4096),v=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==s){if(x===o)break;for(var b=x<l?x:v,S=0,E=b;E>s;)E=y[E]>>8,++S;var _=E;if(m+S+(b!==x?1:0)>r)return void di.log("Warning, gif stream longer than expected.");n[m++]=_;var C=m+=S;for(b!==x&&(n[m++]=_),E=b;S--;)E=y[E],n[--C]=255&E,E>>=8;v!==null&&l<4096&&(y[l++]=v<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=x}else l=o+1,u=(1<<(c=i+1))-1,v=null}return m!==r&&di.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function UO(t){var e,n,r,i,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),y=new Array(64),v=[],x=0,b=7,S=new Array(64),E=new Array(64),_=new Array(64),C=new Array(256),O=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(I,V){for(var J=0,re=0,fe=new Array,pe=1;pe<=16;pe++){for(var xe=1;xe<=I[pe];xe++)fe[V[re]]=[],fe[V[re]][0]=J,fe[V[re]][1]=pe,re++,J++;J*=2}return fe}function U(I){for(var V=I[0],J=I[1]-1;J>=0;)V&1<<J&&(x|=1<<b),J--,--b<0&&(x==255?(W(255),W(0)):W(x),b=7,x=0)}function W(I){v.push(I)}function Y(I){W(I>>8&255),W(255&I)}function ie(I,V,J,re,fe){for(var pe,xe=fe[0],de=fe[240],we=(function(Ke,me){var Se,ke,Ge,Ye,We,nt,_t,wt,Ot,Kt,At=0;for(Ot=0;Ot<8;++Ot){Se=Ke[At],ke=Ke[At+1],Ge=Ke[At+2],Ye=Ke[At+3],We=Ke[At+4],nt=Ke[At+5],_t=Ke[At+6];var On=Se+(wt=Ke[At+7]),An=Se-wt,zt=ke+_t,yn=ke-_t,ir=Ge+nt,on=Ge-nt,Pn=Ye+We,wn=Ye-We,kr=On+Pn,Tr=On-Pn,mn=zt+ir,Ut=zt-ir;Ke[At]=kr+mn,Ke[At+4]=kr-mn;var Ee=.707106781*(Ut+Tr);Ke[At+2]=Tr+Ee,Ke[At+6]=Tr-Ee;var Je=.382683433*((kr=wn+on)-(Ut=yn+An)),pt=.5411961*kr+Je,It=1.306562965*Ut+Je,In=.707106781*(mn=on+yn),ce=An+In,$e=An-In;Ke[At+5]=$e+pt,Ke[At+3]=$e-pt,Ke[At+1]=ce+It,Ke[At+7]=ce-It,At+=8}for(At=0,Ot=0;Ot<8;++Ot){Se=Ke[At],ke=Ke[At+8],Ge=Ke[At+16],Ye=Ke[At+24],We=Ke[At+32],nt=Ke[At+40],_t=Ke[At+48];var ht=Se+(wt=Ke[At+56]),Lt=Se-wt,Hn=ke+_t,gn=ke-_t,mr=Ge+nt,or=Ge-nt,Yr=Ye+We,vi=Ye-We,Vi=ht+Yr,mo=ht-Yr,Di=Hn+mr,Us=Hn-mr;Ke[At]=Vi+Di,Ke[At+32]=Vi-Di;var aa=.707106781*(Us+mo);Ke[At+16]=mo+aa,Ke[At+48]=mo-aa;var Do=.382683433*((Vi=vi+or)-(Us=gn+Lt)),go=.5411961*Vi+Do,Hl=1.306562965*Us+Do,Ic=.707106781*(Di=or+gn),oa=Lt+Ic,Dc=Lt-Ic;Ke[At+40]=Dc+go,Ke[At+24]=Dc-go,Ke[At+8]=oa+Hl,Ke[At+56]=oa-Hl,At++}for(Ot=0;Ot<64;++Ot)Kt=Ke[Ot]*me[Ot],h[Ot]=Kt>0?Kt+.5|0:Kt-.5|0;return h})(I,V),Ce=0;Ce<64;++Ce)y[M[Ce]]=we[Ce];var ae=y[0]-J;J=y[0],ae==0?U(re[0]):(U(re[m[pe=32767+ae]]),U(f[pe]));for(var Pe=63;Pe>0&&y[Pe]==0;)Pe--;if(Pe==0)return U(xe),J;for(var ee,ne=1;ne<=Pe;){for(var Re=ne;y[ne]==0&&ne<=Pe;)++ne;var ft=ne-Re;if(ft>=16){ee=ft>>4;for(var et=1;et<=ee;++et)U(de);ft&=15}pe=32767+y[ne],U(fe[(ft<<4)+m[pe]]),U(f[pe]),ne++}return Pe!=63&&U(xe),J}function Q(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(V){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var fe=o((J[re]*V+50)/100);fe=Math.min(Math.max(fe,1),255),l[M[re]]=fe}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var de=o((pe[xe]*V+50)/100);de=Math.min(Math.max(de,1),255),c[M[xe]]=de}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,ae=0;ae<8;ae++)for(var Pe=0;Pe<8;Pe++)u[Ce]=1/(l[M[Ce]]*we[ae]*we[Pe]*8),d[Ce]=1/(c[M[Ce]]*we[ae]*we[Pe]*8),Ce++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,V){V&&Q(V),v=new Array,x=0,b=7,Y(65496),Y(65504),Y(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Y(1),Y(1),W(0),W(0),(function(){Y(65499),Y(132),W(0);for(var ke=0;ke<64;ke++)W(l[ke]);W(1);for(var Ge=0;Ge<64;Ge++)W(c[Ge])})(),(function(ke,Ge){Y(65472),Y(17),W(8),Y(Ge),Y(ke),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(I.width,I.height),(function(){Y(65476),Y(418),W(0);for(var ke=0;ke<16;ke++)W(A[ke+1]);for(var Ge=0;Ge<=11;Ge++)W(P[Ge]);W(16);for(var Ye=0;Ye<16;Ye++)W(F[Ye+1]);for(var We=0;We<=161;We++)W(R[We]);W(1);for(var nt=0;nt<16;nt++)W($[nt+1]);for(var _t=0;_t<=11;_t++)W(q[_t]);W(17);for(var wt=0;wt<16;wt++)W(z[wt+1]);for(var Ot=0;Ot<=161;Ot++)W(G[Ot])})(),Y(65498),Y(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var J=0,re=0,fe=0;x=0,b=7,this.encode.displayName="_encode_";for(var pe,xe,de,we,Ce,ae,Pe,ee,ne,Re=I.data,ft=I.width,et=I.height,Ke=4*ft,me=0;me<et;){for(pe=0;pe<Ke;){for(Ce=Ke*me+pe,Pe=-1,ee=0,ne=0;ne<64;ne++)ae=Ce+(ee=ne>>3)*Ke+(Pe=4*(7&ne)),me+ee>=et&&(ae-=Ke*(me+1+ee-et)),pe+Pe>=Ke&&(ae-=pe+Pe-Ke+4),xe=Re[ae++],de=Re[ae++],we=Re[ae++],S[ne]=(O[xe]+O[de+256|0]+O[we+512|0]>>16)-128,E[ne]=(O[xe+768|0]+O[de+1024|0]+O[we+1280|0]>>16)-128,_[ne]=(O[xe+1280|0]+O[de+1536|0]+O[we+1792|0]>>16)-128;J=ie(S,u,J,e,r),re=ie(E,d,re,n,i),fe=ie(_,d,fe,n,i),pe+=32}me+=8}if(b>=0){var Se=[];Se[1]=b+1,Se[0]=(1<<b+1)-1,U(Se)}return Y(65497),new Uint8Array(v)},t=t||50,(function(){for(var I=String.fromCharCode,V=0;V<256;V++)C[V]=I(V)})(),e=X(A,P),n=X($,q),r=X(F,R),i=X(z,G),(function(){for(var I=1,V=2,J=1;J<=15;J++){for(var re=I;re<V;re++)m[32767+re]=J,f[32767+re]=[],f[32767+re][1]=J,f[32767+re][0]=re;for(var fe=-(V-1);fe<=-I;fe++)m[32767+fe]=J,f[32767+fe]=[],f[32767+fe][1]=J,f[32767+fe][0]=V-1+fe;I<<=1,V<<=1}})(),(function(){for(var I=0;I<256;I++)O[I]=19595*I,O[I+256|0]=38470*I,O[I+512|0]=7471*I+32768,O[I+768|0]=-11059*I,O[I+1024|0]=-21709*I,O[I+1280|0]=32768*I+8421375,O[I+1536|0]=-27439*I,O[I+1792|0]=-5329*I})(),Q(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function su(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jV(t){function e(P){if(!P)throw Error("assert :P")}function n(P,F,R){for(var $=0;4>$;$++)if(P[F+$]!=R.charCodeAt($))return!0;return!1}function r(P,F,R,$,q){for(var z=0;z<q;z++)P[F+z]=R[$+z]}function i(P,F,R,$){for(var q=0;q<$;q++)P[F+q]=R}function s(P){return new Int32Array(P)}function o(P,F){for(var R=[],$=0;$<P;$++)R.push(new F);return R}function l(P,F){var R=[];return(function $(q,z,G){for(var X=G[z],U=0;U<X&&(q.push(G.length>z+1?[]:new F),!(G.length<z+1));U++)$(q[U],z+1,G)})(R,0,P),R}var c=function(){var P=this;function F(j,T){for(var B=1<<T-1>>>0;j&B;)B>>>=1;return B?(j&B-1)+B:j}function R(j,T,B,K,Z){e(!(K%B));do j[T+(K-=B)]=Z;while(0<K)}function $(j,T,B,K,Z){if(e(2328>=Z),512>=Z)var oe=s(512);else if((oe=s(Z))==null)return 0;return(function(le,ue,he,ve,Te,Be){var be,Me,Le=ue,rt=1<<he,qe=s(16),Ze=s(16);for(e(Te!=0),e(ve!=null),e(le!=null),e(0<he),Me=0;Me<Te;++Me){if(15<ve[Me])return 0;++qe[ve[Me]]}if(qe[0]==Te)return 0;for(Ze[1]=0,be=1;15>be;++be){if(qe[be]>1<<be)return 0;Ze[be+1]=Ze[be]+qe[be]}for(Me=0;Me<Te;++Me)be=ve[Me],0<ve[Me]&&(Be[Ze[be]++]=Me);if(Ze[15]==1)return(ve=new q).g=0,ve.value=Be[0],R(le,Le,1,rt,ve),rt;var tt,ot=-1,dt=rt-1,dn=0,Gt=1,Wn=1,en=1<<he;for(Me=0,be=1,Te=2;be<=he;++be,Te<<=1){if(Gt+=Wn<<=1,0>(Wn-=qe[be]))return 0;for(;0<qe[be];--qe[be])(ve=new q).g=be,ve.value=Be[Me++],R(le,Le+dn,Te,en,ve),dn=F(dn,be)}for(be=he+1,Te=2;15>=be;++be,Te<<=1){if(Gt+=Wn<<=1,0>(Wn-=qe[be]))return 0;for(;0<qe[be];--qe[be]){if(ve=new q,(dn&dt)!=ot){for(Le+=en,tt=1<<(ot=be)-he;15>ot&&!(0>=(tt-=qe[ot]));)++ot,tt<<=1;rt+=en=1<<(tt=ot-he),le[ue+(ot=dn&dt)].g=tt+he,le[ue+ot].value=Le-ue-ot}ve.g=be-he,ve.value=Be[Me++],R(le,Le+(dn>>he),Te,en,ve),dn=F(dn,be)}}return Gt!=2*Ze[15]-1?0:rt})(j,T,B,K,Z,oe)}function q(){this.value=this.g=0}function z(){this.value=this.g=0}function G(){this.G=o(5,q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Uo,z)}function X(j,T,B,K){e(j!=null),e(T!=null),e(2147483648>K),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=T,j.pa=B,j.Jd=T,j.Yc=B+K,j.Zc=4<=K?B+K-4+1:B,xe(j)}function U(j,T){for(var B=0;0<T--;)B|=we(j,128)<<T;return B}function W(j,T){var B=U(j,T);return de(j)?-B:B}function Y(j,T,B,K){var Z,oe=0;for(e(j!=null),e(T!=null),e(4294967288>K),j.Sb=K,j.Ra=0,j.u=0,j.h=0,4<K&&(K=4),Z=0;Z<K;++Z)oe+=T[B+Z]<<8*Z;j.Ra=oe,j.bb=K,j.oa=T,j.pa=B}function ie(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<Lu-8>>>0,++j.bb,j.u-=8;re(j)&&(j.h=1,j.u=0)}function Q(j,T){if(e(0<=T),!j.h&&T<=wo){var B=J(j)&bo[T];return j.u+=T,ie(j),B}return j.h=1,j.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(j){return j.Ra>>>(j.u&Lu-1)>>>0}function re(j){return e(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>Lu}function fe(j,T){j.u=T,j.h=re(j)}function pe(j){j.u>=Ql&&(e(j.u>=Ql),ie(j))}function xe(j){e(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(e(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function de(j){return U(j,1)}function we(j,T){var B=j.Ca;0>j.b&&xe(j);var K=j.b,Z=B*T>>>8,oe=(j.I>>>K>Z)+0;for(oe?(B-=Z,j.I-=Z+1<<K>>>0):B=Z+1,K=B,Z=0;256<=K;)Z+=8,K>>=8;return K=7^Z+Vc[K],j.b-=K,j.Ca=(B<<K)-1,oe}function Ce(j,T,B){j[T+0]=B>>24&255,j[T+1]=B>>16&255,j[T+2]=B>>8&255,j[T+3]=255&B}function ae(j,T){return j[T+0]|j[T+1]<<8}function Pe(j,T){return ae(j,T)|j[T+2]<<16}function ee(j,T){return ae(j,T)|ae(j,T+2)<<16}function ne(j,T){var B=1<<T;return e(j!=null),e(0<T),j.X=s(B),j.X==null?0:(j.Mb=32-T,j.Xa=T,1)}function Re(j,T){e(j!=null),e(T!=null),e(j.Xa==T.Xa),r(T.X,0,j.X,0,1<<T.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function et(j,T,B,K){e(B!=null),e(K!=null);var Z=B[0],oe=K[0];return Z==0&&(Z=(j*oe+T/2)/T),oe==0&&(oe=(T*Z+j/2)/j),0>=Z||0>=oe?0:(B[0]=Z,K[0]=oe,1)}function Ke(j,T){return j+(1<<T)-1>>>T}function me(j,T){return((4278255360&j)+(4278255360&T)>>>0&4278255360)+((16711935&j)+(16711935&T)>>>0&16711935)>>>0}function Se(j,T){P[T]=function(B,K,Z,oe,le,ue,he){var ve;for(ve=0;ve<le;++ve){var Te=P[j](ue[he+ve-1],Z,oe+ve);ue[he+ve]=me(B[K+ve],Te)}}}function ke(){this.ud=this.hd=this.jd=0}function Ge(j,T){return((4278124286&(j^T))>>>1)+(j&T)>>>0}function Ye(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function We(j,T){return Ye(j+(j-T+.5>>1))}function nt(j,T,B){return Math.abs(T-B)-Math.abs(j-B)}function _t(j,T,B,K,Z,oe,le){for(K=oe[le-1],B=0;B<Z;++B)oe[le+B]=K=me(j[T+B],K)}function wt(j,T,B,K,Z){var oe;for(oe=0;oe<B;++oe){var le=j[T+oe],ue=le>>8&255,he=16711935&(he=(he=16711935&le)+((ue<<16)+ue));K[Z+oe]=(4278255360&le)+he>>>0}}function Ot(j,T){T.jd=255&j,T.hd=j>>8&255,T.ud=j>>16&255}function Kt(j,T,B,K,Z,oe){var le;for(le=0;le<K;++le){var ue=T[B+le],he=ue>>>8,ve=ue,Te=255&(Te=(Te=ue>>>16)+((j.jd<<24>>24)*(he<<24>>24)>>>5));ve=255&(ve=(ve+=(j.hd<<24>>24)*(he<<24>>24)>>>5)+((j.ud<<24>>24)*(Te<<24>>24)>>>5)),Z[oe+le]=(4278255360&ue)+(Te<<16)+ve}}function At(j,T,B,K,Z){P[T]=function(oe,le,ue,he,ve,Te,Be,be,Me){for(he=Be;he<be;++he)for(Be=0;Be<Me;++Be)ve[Te++]=Z(ue[K(oe[le++])])},P[j]=function(oe,le,ue,he,ve,Te,Be){var be=8>>oe.b,Me=oe.Ea,Le=oe.K[0],rt=oe.w;if(8>be)for(oe=(1<<oe.b)-1,rt=(1<<be)-1;le<ue;++le){var qe,Ze=0;for(qe=0;qe<Me;++qe)qe&oe||(Ze=K(he[ve++])),Te[Be++]=Z(Le[Ze&rt]),Ze>>=be}else P["VP8LMapColor"+B](he,ve,Le,rt,Te,Be,le,ue,Me)}}function On(j,T,B,K,Z){for(B=T+B;T<B;){var oe=j[T++];K[Z++]=oe>>16&255,K[Z++]=oe>>8&255,K[Z++]=255&oe}}function An(j,T,B,K,Z){for(B=T+B;T<B;){var oe=j[T++];K[Z++]=oe>>16&255,K[Z++]=oe>>8&255,K[Z++]=255&oe,K[Z++]=oe>>24&255}}function zt(j,T,B,K,Z){for(B=T+B;T<B;){var oe=(le=j[T++])>>16&240|le>>12&15,le=240&le|le>>28&15;K[Z++]=oe,K[Z++]=le}}function yn(j,T,B,K,Z){for(B=T+B;T<B;){var oe=(le=j[T++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;K[Z++]=oe,K[Z++]=le}}function ir(j,T,B,K,Z){for(B=T+B;T<B;){var oe=j[T++];K[Z++]=255&oe,K[Z++]=oe>>8&255,K[Z++]=oe>>16&255}}function on(j,T,B,K,Z,oe){if(oe==0)for(B=T+B;T<B;)Ce(K,((oe=j[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),Z+=32;else r(K,Z,j,T,B)}function Pn(j,T){P[T][0]=P[j+"0"],P[T][1]=P[j+"1"],P[T][2]=P[j+"2"],P[T][3]=P[j+"3"],P[T][4]=P[j+"4"],P[T][5]=P[j+"5"],P[T][6]=P[j+"6"],P[T][7]=P[j+"7"],P[T][8]=P[j+"8"],P[T][9]=P[j+"9"],P[T][10]=P[j+"10"],P[T][11]=P[j+"11"],P[T][12]=P[j+"12"],P[T][13]=P[j+"13"],P[T][14]=P[j+"0"],P[T][15]=P[j+"0"]}function wn(j){return j==rh||j==Vd||j==Hp||j==Vp}function kr(){this.eb=[],this.size=this.A=this.fb=0}function Tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kr,this.f.kb=new Tr,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ee(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Je(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function pt(j,T){var B=j.T,K=T.ba.f.RGBA,Z=K.eb,oe=K.fb+j.ka*K.A,le=Ka[T.ba.S],ue=j.y,he=j.O,ve=j.f,Te=j.N,Be=j.ea,be=j.W,Me=T.cc,Le=T.dc,rt=T.Mc,qe=T.Nc,Ze=j.ka,tt=j.ka+j.T,ot=j.U,dt=ot+1>>1;for(Ze==0?le(ue,he,null,null,ve,Te,Be,be,ve,Te,Be,be,Z,oe,null,null,ot):(le(T.ec,T.fc,ue,he,Me,Le,rt,qe,ve,Te,Be,be,Z,oe-K.A,Z,oe,ot),++B);Ze+2<tt;Ze+=2)Me=ve,Le=Te,rt=Be,qe=be,Te+=j.Rc,be+=j.Rc,oe+=2*K.A,le(ue,(he+=2*j.fa)-j.fa,ue,he,Me,Le,rt,qe,ve,Te,Be,be,Z,oe-K.A,Z,oe,ot);return he+=j.fa,j.j+tt<j.o?(r(T.ec,T.fc,ue,he,ot),r(T.cc,T.dc,ve,Te,dt),r(T.Mc,T.Nc,Be,be,dt),B--):1&tt||le(ue,he,null,null,ve,Te,Be,be,ve,Te,Be,be,Z,oe+K.A,null,null,ot),B}function It(j,T,B){var K=j.F,Z=[j.J];if(K!=null){var oe=j.U,le=T.ba.S,ue=le==Up||le==Hp;T=T.ba.f.RGBA;var he=[0],ve=j.ka;he[0]=j.T,j.Kb&&(ve==0?--he[0]:(--ve,Z[0]-=j.width),j.j+j.ka+j.T==j.o&&(he[0]=j.o-j.j-ve));var Te=T.eb;ve=T.fb+ve*T.A,j=zp(K,Z[0],j.width,oe,he,Te,ve+(ue?0:3),T.A),e(B==he),j&&wn(le)&&Hd(Te,ve,ue,oe,he,T.A)}return 0}function In(j){var T=j.ma,B=T.ba.S,K=11>B,Z=B==zu||B==qp||B==Up||B==Qr||B==12||wn(B);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Xf(T.Oa,j,Z?11:12))return 0;if(Z&&wn(B)&&jg(),j.da)alert("todo:use_scaling");else{if(K){if(T.Ib=Je,j.Kb){if(B=j.U+1>>1,T.memory=s(j.U+2*B),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+j.U,T.Mc=T.cc,T.Nc=T.dc+B,T.Ib=pt,jg()}}else alert("todo:EmitYUV");Z&&(T.Jb=It,K&&qo())}if(K&&!Ws){for(j=0;256>j;++j)Ga[j]=89858*(j-128)+wl>>Yc,Ya[j]=-22014*(j-128)+wl,oh[j]=-45773*(j-128),Yd[j]=113618*(j-128)+wl>>Yc;for(j=Dr;j<Hr;++j)T=76283*(j-16)+wl>>Yc,Mg[j-Dr]=Li(T,255),aw[j-Dr]=Li(T+8>>4,15);Ws=1}return 1}function ce(j){var T=j.ma,B=j.U,K=j.T;return e(!(1&j.ka)),0>=B||0>=K?0:(B=T.Ib(j,T),T.Jb!=null&&T.Jb(j,T,B),T.Dc+=B,1)}function $e(j){j.ma.memory=null}function ht(j,T,B,K){return Q(j,8)!=47?0:(T[0]=Q(j,14)+1,B[0]=Q(j,14)+1,K[0]=Q(j,1),Q(j,3)!=0?0:!j.h)}function Lt(j,T){if(4>j)return j+1;var B=j-2>>1;return(2+(1&j)<<B)+Q(T,B)+1}function Hn(j,T){return 120<T?T-120:1<=(B=((B=G_[T-1])>>4)*j+(8-(15&B)))?B:1;var B}function gn(j,T,B){var K=J(B),Z=j[T+=255&K].g-8;return 0<Z&&(fe(B,B.u+8),K=J(B),T+=j[T].value,T+=K&(1<<Z)-1),fe(B,B.u+j[T].g),j[T].value}function mr(j,T,B){return B.g+=j.g,B.value+=j.value<<T>>>0,e(8>=B.g),j.g}function or(j,T,B){var K=j.xc;return e((T=K==0?0:j.vc[j.md*(B>>K)+(T>>K)])<j.Wb),j.Ya[T]}function Yr(j,T,B,K){var Z=j.ab,oe=j.c*T,le=j.C;T=le+T;var ue=B,he=K;for(K=j.Ta,B=j.Ua;0<Z--;){var ve=j.gc[Z],Te=le,Be=T,be=ue,Me=he,Le=(he=K,ue=B,ve.Ea);switch(e(Te<Be),e(Be<=ve.nc),ve.hc){case 2:Gi(be,Me,(Be-Te)*Le,he,ue);break;case 0:var rt=Te,qe=Be,Ze=he,tt=ue,ot=(en=ve).Ea;rt==0&&(Wc(be,Me,null,null,1,Ze,tt),_t(be,Me+1,0,0,ot-1,Ze,tt+1),Me+=ot,tt+=ot,++rt);for(var dt=1<<en.b,dn=dt-1,Gt=Ke(ot,en.b),Wn=en.K,en=en.w+(rt>>en.b)*Gt;rt<qe;){var dr=Wn,Bi=en,Yn=1;for(Jl(be,Me,Ze,tt-ot,1,Ze,tt);Yn<ot;){var Yt=(Yn&~dn)+dt;Yt>ot&&(Yt=ot),(0,Bd[dr[Bi++]>>8&15])(be,Me+ +Yn,Ze,tt+Yn-ot,Yt-Yn,Ze,tt+Yn),Yn=Yt}Me+=ot,tt+=ot,++rt&dn||(en+=Gt)}Be!=ve.nc&&r(he,ue-Le,he,ue+(Be-Te-1)*Le,Le);break;case 1:for(Le=be,qe=Me,ot=(be=ve.Ea)-(tt=be&~(Ze=(Me=1<<ve.b)-1)),rt=Ke(be,ve.b),dt=ve.K,ve=ve.w+(Te>>ve.b)*rt;Te<Be;){for(dn=dt,Gt=ve,Wn=new ke,en=qe+tt,dr=qe+be;qe<en;)Ot(dn[Gt++],Wn),Jf(Wn,Le,qe,Me,he,ue),qe+=Me,ue+=Me;qe<dr&&(Ot(dn[Gt++],Wn),Jf(Wn,Le,qe,ot,he,ue),qe+=ot,ue+=ot),++Te&Ze||(ve+=rt)}break;case 3:if(be==he&&Me==ue&&0<ve.b){for(qe=he,be=Le=ue+(Be-Te)*Le-(tt=(Be-Te)*Ke(ve.Ea,ve.b)),Me=he,Ze=ue,rt=[],tt=(ot=tt)-1;0<=tt;--tt)rt[tt]=Me[Ze+tt];for(tt=ot-1;0<=tt;--tt)qe[be+tt]=rt[tt];Fd(ve,Te,Be,he,Le,he,ue)}else Fd(ve,Te,Be,be,Me,he,ue)}ue=K,he=B}he!=B&&r(K,B,ue,he,oe)}function vi(j,T){var B=j.V,K=j.Ba+j.c*j.C,Z=T-j.C;if(e(T<=j.l.o),e(16>=Z),0<Z){var oe=j.l,le=j.Ta,ue=j.Ua,he=oe.width;if(Yr(j,Z,B,K),Z=ue=[ue],e((B=j.C)<(K=T)),e(oe.v<oe.va),K>oe.o&&(K=oe.o),B<oe.j){var ve=oe.j-B;B=oe.j,Z[0]+=ve*he}if(B>=K?B=0:(Z[0]+=4*oe.v,oe.ka=B-oe.j,oe.U=oe.va-oe.v,oe.T=K-B,B=1),B){if(ue=ue[0],11>(B=j.ca).S){var Te=B.f.RGBA,Be=(K=B.S,Z=oe.U,oe=oe.T,ve=Te.eb,Te.A),be=oe;for(Te=Te.fb+j.Ma*Te.A;0<be--;){var Me=le,Le=ue,rt=Z,qe=ve,Ze=Te;switch(K){case kg:Zf(Me,Le,rt,qe,Ze);break;case zu:Kc(Me,Le,rt,qe,Ze);break;case rh:Kc(Me,Le,rt,qe,Ze),Hd(qe,Ze,0,rt,1,0);break;case tw:zd(Me,Le,rt,qe,Ze);break;case qp:on(Me,Le,rt,qe,Ze,1);break;case Vd:on(Me,Le,rt,qe,Ze,1),Hd(qe,Ze,0,rt,1,0);break;case Up:on(Me,Le,rt,qe,Ze,0);break;case Hp:on(Me,Le,rt,qe,Ze,0),Hd(qe,Ze,1,rt,1,0);break;case Qr:Fu(Me,Le,rt,qe,Ze);break;case Vp:Fu(Me,Le,rt,qe,Ze),bx(qe,Ze,rt,1,0);break;case Tg:$u(Me,Le,rt,qe,Ze);break;default:e(0)}ue+=he,Te+=Be}j.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(j.Ma<=B.height)}}j.C=T,e(j.C<=j.i)}function Vi(j){var T;if(0<j.ua)return 0;for(T=0;T<j.Wb;++T){var B=j.Ya[T].G,K=j.Ya[T].H;if(0<B[1][K[1]+0].g||0<B[2][K[2]+0].g||0<B[3][K[3]+0].g)return 0}return 1}function mo(j,T,B,K,Z,oe){if(j.Z!=0){var le=j.qd,ue=j.rd;for(e(ua[j.Z]!=null);T<B;++T)ua[j.Z](le,ue,K,Z,K,Z,oe),le=K,ue=Z,Z+=oe;j.qd=le,j.rd=ue}}function Di(j,T){var B=j.l.ma,K=B.Z==0||B.Z==1?j.l.j:j.C;if(K=j.C<K?K:j.C,e(T<=j.l.o),T>K){var Z=j.l.width,oe=B.ca,le=B.tb+Z*K,ue=j.V,he=j.Ba+j.c*K,ve=j.gc;e(j.ab==1),e(ve[0].hc==3),xl(ve[0],K,T,ue,he,oe,le),mo(B,K,T,oe,le,Z)}j.C=j.Ma=T}function Us(j,T,B,K,Z,oe,le){var ue=j.$/K,he=j.$%K,ve=j.m,Te=j.s,Be=B+j.$,be=Be;Z=B+K*Z;var Me=B+K*oe,Le=280+Te.ua,rt=j.Pb?ue:16777216,qe=0<Te.ua?Te.Wa:null,Ze=Te.wc,tt=Be<Me?or(Te,he,ue):null;e(j.C<oe),e(Me<=Z);var ot=!1;e:for(;;){for(;ot||Be<Me;){var dt=0;if(ue>=rt){var dn=Be-B;e((rt=j).Pb),rt.wd=rt.m,rt.xd=dn,0<rt.s.ua&&Re(rt.s.Wa,rt.s.vb),rt=ue+Pg}if(he&Ze||(tt=or(Te,he,ue)),e(tt!=null),tt.Qb&&(T[Be]=tt.qb,ot=!0),!ot)if(pe(ve),tt.jc){dt=ve,dn=T;var Gt=Be,Wn=tt.pd[J(dt)&Uo-1];e(tt.jc),256>Wn.g?(fe(dt,dt.u+Wn.g),dn[Gt]=Wn.value,dt=0):(fe(dt,dt.u+Wn.g-256),e(256<=Wn.value),dt=Wn.value),dt==0&&(ot=!0)}else dt=gn(tt.G[0],tt.H[0],ve);if(ve.h)break;if(ot||256>dt){if(!ot)if(tt.nd)T[Be]=(tt.qb|dt<<8)>>>0;else{if(pe(ve),ot=gn(tt.G[1],tt.H[1],ve),pe(ve),dn=gn(tt.G[2],tt.H[2],ve),Gt=gn(tt.G[3],tt.H[3],ve),ve.h)break;T[Be]=(Gt<<24|ot<<16|dt<<8|dn)>>>0}if(ot=!1,++Be,++he>=K&&(he=0,++ue,le!=null&&ue<=oe&&!(ue%16)&&le(j,ue),qe!=null))for(;be<Be;)dt=T[be++],qe.X[(506832829*dt&4294967295)>>>qe.Mb]=dt}else if(280>dt){if(dt=Lt(dt-256,ve),dn=gn(tt.G[4],tt.H[4],ve),pe(ve),dn=Hn(K,dn=Lt(dn,ve)),ve.h)break;if(Be-B<dn||Z-Be<dt)break e;for(Gt=0;Gt<dt;++Gt)T[Be+Gt]=T[Be+Gt-dn];for(Be+=dt,he+=dt;he>=K;)he-=K,++ue,le!=null&&ue<=oe&&!(ue%16)&&le(j,ue);if(e(Be<=Z),he&Ze&&(tt=or(Te,he,ue)),qe!=null)for(;be<Be;)dt=T[be++],qe.X[(506832829*dt&4294967295)>>>qe.Mb]=dt}else{if(!(dt<Le))break e;for(ot=dt-280,e(qe!=null);be<Be;)dt=T[be++],qe.X[(506832829*dt&4294967295)>>>qe.Mb]=dt;dt=Be,e(!(ot>>>(dn=qe).Xa)),T[dt]=dn.X[ot],ot=!0}ot||e(ve.h==re(ve))}if(j.Pb&&ve.h&&Be<Z)e(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&Re(j.s.vb,j.s.Wa);else{if(ve.h)break e;le?.(j,ue>oe?oe:ue),j.a=0,j.$=Be-B}return 1}return j.a=3,0}function aa(j){e(j!=null),j.vc=null,j.yc=null,j.Ya=null;var T=j.Wa;T!=null&&(T.X=null),j.vb=null,e(j!=null)}function Do(){var j=new un;return j==null?null:(j.a=0,j.xb=sh,Pn("Predictor","VP8LPredictors"),Pn("Predictor","VP8LPredictors_C"),Pn("PredictorAdd","VP8LPredictorsAdd"),Pn("PredictorAdd","VP8LPredictorsAdd_C"),Gi=wt,Jf=Kt,Zf=On,Kc=An,Fu=zt,$u=yn,zd=ir,P.VP8LMapColor32b=Zl,P.VP8LMapColor8b=$d,j)}function go(j,T,B,K,Z){var oe=1,le=[j],ue=[T],he=K.m,ve=K.s,Te=null,Be=0;e:for(;;){if(B)for(;oe&&Q(he,1);){var be=le,Me=ue,Le=K,rt=1,qe=Le.m,Ze=Le.gc[Le.ab],tt=Q(qe,2);if(Le.Oc&1<<tt)oe=0;else{switch(Le.Oc|=1<<tt,Ze.hc=tt,Ze.Ea=be[0],Ze.nc=Me[0],Ze.K=[null],++Le.ab,e(4>=Le.ab),tt){case 0:case 1:Ze.b=Q(qe,3)+2,rt=go(Ke(Ze.Ea,Ze.b),Ke(Ze.nc,Ze.b),0,Le,Ze.K),Ze.K=Ze.K[0];break;case 3:var ot,dt=Q(qe,8)+1,dn=16<dt?0:4<dt?1:2<dt?2:3;if(be[0]=Ke(Ze.Ea,dn),Ze.b=dn,ot=rt=go(dt,1,0,Le,Ze.K)){var Gt,Wn=dt,en=Ze,dr=1<<(8>>en.b),Bi=s(dr);if(Bi==null)ot=0;else{var Yn=en.K[0],Yt=en.w;for(Bi[0]=en.K[0][0],Gt=1;Gt<1*Wn;++Gt)Bi[Gt]=me(Yn[Yt+Gt],Bi[Gt-1]);for(;Gt<4*dr;++Gt)Bi[Gt]=0;en.K[0]=null,en.K[0]=Bi,ot=1}}rt=ot;break;case 2:break;default:e(0)}oe=rt}}if(le=le[0],ue=ue[0],oe&&Q(he,1)&&!(oe=1<=(Be=Q(he,4))&&11>=Be)){K.a=3;break e}var Rt;if(Rt=oe)t:{var Yi,Dn,lr,si=K,Ts=le,rs=ue,ki=Be,ys=B,Os=si.m,bi=si.s,gr=[null],Er=1,wi=0,jr=rw[ki];n:for(;;){if(ys&&Q(Os,1)){var zi=Q(Os,3)+2,qi=Ke(Ts,zi),Jr=Ke(rs,zi),da=qi*Jr;if(!go(qi,Jr,0,si,gr))break n;for(gr=gr[0],bi.xc=zi,Yi=0;Yi<da;++Yi){var Vr=gr[Yi]>>8&65535;gr[Yi]=Vr,Vr>=Er&&(Er=Vr+1)}}if(Os.h)break n;for(Dn=0;5>Dn;++Dn){var Zr=Wd[Dn];!Dn&&0<ki&&(Zr+=1<<ki),wi<Zr&&(wi=Zr)}var is=o(Er*jr,q),Ks=Er,Xa=o(Ks,G);if(Xa==null)var Xi=null;else e(65536>=Ks),Xi=Xa;var Qi=s(wi);if(Xi==null||Qi==null||is==null){si.a=1;break n}var fa=is;for(Yi=lr=0;Yi<Er;++Yi){var ei=Xi[Yi],ha=ei.G,Wo=ei.H,Nl=0,Ps=1,Ji=0;for(Dn=0;5>Dn;++Dn){Zr=Wd[Dn],ha[Dn]=fa,Wo[Dn]=lr,!Dn&&0<ki&&(Zr+=1<<ki);i:{var Hu,Qc=Zr,lh=si,nc=Qi,lw=fa,Px=lr,ui=0,Sl=lh.m,Mx=Q(Sl,1);if(i(nc,0,0,Qc),Mx){var Rx=Q(Sl,1)+1,Rg=Q(Sl,1),Ig=Q(Sl,Rg==0?1:8);nc[Ig]=1,Rx==2&&(nc[Ig=Q(Sl,8)]=1);var rc=1}else{var Ni=s(19),ss=Q(Sl,4)+4;if(19<ss){lh.a=3;var Zi=0;break i}for(Hu=0;Hu<ss;++Hu)Ni[K_[Hu]]=Q(Sl,3);var ch=void 0,Jc=void 0,uh=lh,Z_=Ni,xs=Qc,Dg=nc,Xp=0,ic=uh.m,El=8,No=o(128,q);r:for(;$(No,0,7,Z_,19);){if(Q(ic,1)){var Qp=2+2*Q(ic,3);if((ch=2+Q(ic,Qp))>xs)break r}else ch=xs;for(Jc=0;Jc<xs&&ch--;){pe(ic);var Lg=No[0+(127&J(ic))];fe(ic,ic.u+Lg.g);var Vu=Lg.value;if(16>Vu)Dg[Jc++]=Vu,Vu!=0&&(El=Vu);else{var cw=Vu==16,Ix=Vu-16,uw=Og[Ix],Dx=Q(ic,Wp[Ix])+uw;if(Jc+Dx>xs)break r;for(var dw=cw?El:0;0<Dx--;)Dg[Jc++]=dw}}Xp=1;break r}Xp||(uh.a=3),rc=Xp}(rc=rc&&!Sl.h)&&(ui=$(lw,Px,8,nc,Qc)),rc&&ui!=0?Zi=ui:(lh.a=3,Zi=0)}if(Zi==0)break n;if(Ps&&nw[Dn]==1&&(Ps=fa[lr].g==0),Nl+=fa[lr].g,lr+=Zi,3>=Dn){var dh,Fg=Qi[0];for(dh=1;dh<Zr;++dh)Qi[dh]>Fg&&(Fg=Qi[dh]);Ji+=Fg}}if(ei.nd=Ps,ei.Qb=0,Ps&&(ei.qb=(ha[3][Wo[3]+0].value<<24|ha[1][Wo[1]+0].value<<16|ha[2][Wo[2]+0].value)>>>0,Nl==0&&256>ha[0][Wo[0]+0].value&&(ei.Qb=1,ei.qb+=ha[0][Wo[0]+0].value<<8)),ei.jc=!ei.Qb&&6>Ji,ei.jc){var Jp,So=ei;for(Jp=0;Jp<Uo;++Jp){var Zc=Jp,jl=So.pd[Zc],Qd=So.G[0][So.H[0]+Zc];256<=Qd.value?(jl.g=Qd.g+256,jl.value=Qd.value):(jl.g=0,jl.value=0,Zc>>=mr(Qd,8,jl),Zc>>=mr(So.G[1][So.H[1]+Zc],16,jl),Zc>>=mr(So.G[2][So.H[2]+Zc],0,jl),mr(So.G[3][So.H[3]+Zc],24,jl))}}}bi.vc=gr,bi.Wb=Er,bi.Ya=Xi,bi.yc=is,Rt=1;break t}Rt=0}if(!(oe=Rt)){K.a=3;break e}if(0<Be){if(ve.ua=1<<Be,!ne(ve.Wa,Be)){K.a=1,oe=0;break e}}else ve.ua=0;var $g=K,Bg=le,fw=ue,zg=$g.s,qg=zg.xc;if($g.c=Bg,$g.i=fw,zg.md=Ke(Bg,qg),zg.wc=qg==0?-1:(1<<qg)-1,B){K.xb=tc;break e}if((Te=s(le*ue))==null){K.a=1,oe=0;break e}oe=(oe=Us(K,Te,0,le,ue,ue,null))&&!he.h;break e}return oe?(Z!=null?Z[0]=Te:(e(Te==null),e(B)),K.$=0,B||aa(ve)):aa(ve),oe}function Hl(j,T){var B=j.c*j.i,K=B+T+16*T;return e(j.c<=T),j.V=s(K),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+B+T,1)}function Ic(j,T){var B=j.C,K=T-B,Z=j.V,oe=j.Ba+j.c*B;for(e(T<=j.l.o);0<K;){var le=16<K?16:K,ue=j.l.ma,he=j.l.width,ve=he*le,Te=ue.ca,Be=ue.tb+he*B,be=j.Ta,Me=j.Ua;Yr(j,le,Z,oe),wx(be,Me,Te,Be,ve),mo(ue,B,B+le,Te,Be,he),K-=le,Z+=le*j.c,B+=le}e(B==T),j.C=j.Ma=T}function oa(){this.ub=this.yd=this.td=this.Rb=0}function Dc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Uf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Xr(){this.Yb=(function(){var j=[];return(function T(B,K,Z){for(var oe=Z[K],le=0;le<oe&&(B.push(Z.length>K+1?[]:0),!(Z.length<K+1));le++)T(B[le],K+1,Z)})(j,0,[3,11]),j})()}function Hf(){this.jb=s(3),this.Wc=l([4,8],Xr),this.Xc=l([4,17],Xr)}function Ou(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Cs(){this.ld=this.La=this.dd=this.tc=0}function Vl(){this.Na=this.la=0}function jt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function an(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cs),this.Y=0,this.ya=Array(new an),this.aa=0,this.l=new qr}function nr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function yi(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new oa,this.Kc=new Dc,this.ed=new Ou,this.Qa=new Uf,this.Ic=this.$c=this.Aa=0,this.D=new Vn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,I),this.ia=0,this.pb=o(4,jt),this.Pa=new Hf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nr),this.Hd=0,this.rb=Array(new Vl),this.sb=0,this.wa=Array(new Cs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new an),this.L=this.aa=0,this.gd=l([4,2],Cs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lo(){var j=new yi;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,Kd||(Kd=Aa)),j}function ci(j,T,B){return j.a==0&&(j.a=T,j.sc=B,j.cb=0),0}function As(j,T,B){return 3<=B&&j[T+0]==157&&j[T+1]==1&&j[T+2]==42}function ks(j,T){if(j==null)return 0;if(j.a=0,j.sc="OK",T==null)return ci(j,2,"null VP8Io passed to VP8GetHeaders()");var B=T.data,K=T.w,Z=T.ha;if(4>Z)return ci(j,7,"Truncated header.");var oe=B[K+0]|B[K+1]<<8|B[K+2]<<16,le=j.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return ci(j,3,"Incorrect keyframe parameters.");if(!le.yd)return ci(j,4,"Frame not displayable.");K+=3,Z-=3;var ue=j.Kc;if(le.Rb){if(7>Z)return ci(j,7,"cannot parse picture header");if(!As(B,K,Z))return ci(j,3,"Bad code word");ue.c=16383&(B[K+4]<<8|B[K+3]),ue.Td=B[K+4]>>6,ue.i=16383&(B[K+6]<<8|B[K+5]),ue.Ud=B[K+6]>>6,K+=7,Z-=7,j.za=ue.c+15>>4,j.Ub=ue.i+15>>4,T.width=ue.c,T.height=ue.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((oe=j.Pa).jb,0,255,oe.jb.length),e((oe=j.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(le.ub>Z)return ci(j,7,"bad partition length");X(oe=j.m,B,K,le.ub),K+=le.ub,Z-=le.ub,le.Rb&&(ue.Ld=de(oe),ue.Kd=de(oe)),ue=j.Qa;var he,ve=j.Pa;if(e(oe!=null),e(ue!=null),ue.Cb=de(oe),ue.Cb){if(ue.Bb=de(oe),de(oe)){for(ue.Fb=de(oe),he=0;4>he;++he)ue.Zb[he]=de(oe)?W(oe,7):0;for(he=0;4>he;++he)ue.Lb[he]=de(oe)?W(oe,6):0}if(ue.Bb)for(he=0;3>he;++he)ve.jb[he]=de(oe)?U(oe,8):255}else ue.Bb=0;if(oe.Ka)return ci(j,3,"cannot parse segment header");if((ue=j.ed).zd=de(oe),ue.Tb=U(oe,6),ue.wb=U(oe,3),ue.Pc=de(oe),ue.Pc&&de(oe)){for(ve=0;4>ve;++ve)de(oe)&&(ue.vd[ve]=W(oe,6));for(ve=0;4>ve;++ve)de(oe)&&(ue.od[ve]=W(oe,6))}if(j.L=ue.Tb==0?0:ue.zd?1:2,oe.Ka)return ci(j,3,"cannot parse filter header");var Te=Z;if(Z=he=K,K=he+Te,ue=Te,j.Xb=(1<<U(j.m,2))-1,Te<3*(ve=j.Xb))B=7;else{for(he+=3*ve,ue-=3*ve,Te=0;Te<ve;++Te){var Be=B[Z+0]|B[Z+1]<<8|B[Z+2]<<16;Be>ue&&(Be=ue),X(j.Jc[+Te],B,he,Be),he+=Be,ue-=Be,Z+=3}X(j.Jc[+ve],B,he,ue),B=he<K?0:5}if(B!=0)return ci(j,B,"cannot parse partitions");for(B=U(he=j.m,7),Z=de(he)?W(he,4):0,K=de(he)?W(he,4):0,ue=de(he)?W(he,4):0,ve=de(he)?W(he,4):0,he=de(he)?W(he,4):0,Te=j.Qa,Be=0;4>Be;++Be){if(Te.Cb){var be=Te.Zb[Be];Te.Fb||(be+=B)}else{if(0<Be){j.pb[Be]=j.pb[0];continue}be=B}var Me=j.pb[Be];Me.Sc[0]=ih[Li(be+Z,127)],Me.Sc[1]=Kp[Li(be+0,127)],Me.Eb[0]=2*ih[Li(be+K,127)],Me.Eb[1]=101581*Kp[Li(be+ue,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=ih[Li(be+ve,117)],Me.Qc[1]=Kp[Li(be+he,127)],Me.lc=be+he}if(!le.Rb)return ci(j,4,"Not a key frame.");for(de(oe),le=j.Pa,B=0;4>B;++B){for(Z=0;8>Z;++Z)for(K=0;3>K;++K)for(ue=0;11>ue;++ue)ve=we(oe,X_[B][Z][K][ue])?U(oe,8):sw[B][Z][K][ue],le.Wc[B][Z].Yb[K][ue]=ve;for(Z=0;17>Z;++Z)le.Xc[B][Z]=le.Wc[B][kx[Z]]}return j.kc=de(oe),j.kc&&(j.Bd=U(oe,8)),j.cb=1}function Aa(j,T,B,K,Z,oe,le){var ue=T[Z].Yb[B];for(B=0;16>Z;++Z){if(!we(j,ue[B+0]))return Z;for(;!we(j,ue[B+1]);)if(ue=T[++Z].Yb[0],B=0,Z==16)return 16;var he=T[Z+1].Yb;if(we(j,ue[B+2])){var ve=j,Te=0;if(we(ve,(be=ue)[(Be=B)+3]))if(we(ve,be[Be+6])){for(ue=0,Be=2*(Te=we(ve,be[Be+8]))+(be=we(ve,be[Be+9+Te])),Te=0,be=Cx[Be];be[ue];++ue)Te+=Te+we(ve,be[ue]);Te+=3+(8<<Be)}else we(ve,be[Be+7])?(Te=7+2*we(ve,165),Te+=we(ve,145)):Te=5+we(ve,159);else Te=we(ve,be[Be+4])?3+we(ve,be[Be+5]):2;ue=he[2]}else Te=1,ue=he[1];he=le+Ax[Z],0>(ve=j).b&&xe(ve);var Be,be=ve.b,Me=(Be=ve.Ca>>1)-(ve.I>>be)>>31;--ve.b,ve.Ca+=Me,ve.Ca|=1,ve.I-=(Be+1&Me)<<be,oe[he]=((Te^Me)-Me)*K[(0<Z)+0]}return 16}function qa(j){var T=j.rb[j.sb-1];T.la=0,T.Na=0,i(j.zc,0,0,j.zc.length),j.ja=0}function Hs(j,T,B,K,Z){Z=j[T+B+32*K]+(Z>>3),j[T+B+32*K]=-256&Z?0>Z?0:255:Z}function Lc(j,T,B,K,Z,oe){Hs(j,T,0,B,K+Z),Hs(j,T,1,B,K+oe),Hs(j,T,2,B,K-oe),Hs(j,T,3,B,K-Z)}function _i(j){return(20091*j>>16)+j}function Fc(j,T,B,K){var Z,oe=0,le=s(16);for(Z=0;4>Z;++Z){var ue=j[T+0]+j[T+8],he=j[T+0]-j[T+8],ve=(35468*j[T+4]>>16)-_i(j[T+12]),Te=_i(j[T+4])+(35468*j[T+12]>>16);le[oe+0]=ue+Te,le[oe+1]=he+ve,le[oe+2]=he-ve,le[oe+3]=ue-Te,oe+=4,T++}for(Z=oe=0;4>Z;++Z)ue=(j=le[oe+0]+4)+le[oe+8],he=j-le[oe+8],ve=(35468*le[oe+4]>>16)-_i(le[oe+12]),Hs(B,K,0,0,ue+(Te=_i(le[oe+4])+(35468*le[oe+12]>>16))),Hs(B,K,1,0,he+ve),Hs(B,K,2,0,he-ve),Hs(B,K,3,0,ue-Te),oe++,K+=32}function Vf(j,T,B,K){var Z=j[T+0]+4,oe=35468*j[T+4]>>16,le=_i(j[T+4]),ue=35468*j[T+1]>>16;Lc(B,K,0,Z+le,j=_i(j[T+1]),ue),Lc(B,K,1,Z+oe,j,ue),Lc(B,K,2,Z-oe,j,ue),Lc(B,K,3,Z-le,j,ue)}function Wl(j,T,B,K,Z){Fc(j,T,B,K),Z&&Fc(j,T+16,B,K+4)}function Kl(j,T,B,K){qd(j,T+0,B,K,1),qd(j,T+32,B,K+128,1)}function Wi(j,T,B,K){var Z;for(j=j[T+0]+4,Z=0;4>Z;++Z)for(T=0;4>T;++T)Hs(B,K,T,Z,j)}function Pu(j,T,B,K){j[T+0]&&Sr(j,T+0,B,K),j[T+16]&&Sr(j,T+16,B,K+4),j[T+32]&&Sr(j,T+32,B,K+128),j[T+48]&&Sr(j,T+48,B,K+128+4)}function ur(j,T,B,K){var Z,oe=s(16);for(Z=0;4>Z;++Z){var le=j[T+0+Z]+j[T+12+Z],ue=j[T+4+Z]+j[T+8+Z],he=j[T+4+Z]-j[T+8+Z],ve=j[T+0+Z]-j[T+12+Z];oe[0+Z]=le+ue,oe[8+Z]=le-ue,oe[4+Z]=ve+he,oe[12+Z]=ve-he}for(Z=0;4>Z;++Z)le=(j=oe[0+4*Z]+3)+oe[3+4*Z],ue=oe[1+4*Z]+oe[2+4*Z],he=oe[1+4*Z]-oe[2+4*Z],ve=j-oe[3+4*Z],B[K+0]=le+ue>>3,B[K+16]=ve+he>>3,B[K+32]=le-ue>>3,B[K+48]=ve-he>>3,K+=64}function xn(j,T,B){var K,Z=T-32,oe=Ta,le=255-j[Z-1];for(K=0;K<B;++K){var ue,he=oe,ve=le+j[T-1];for(ue=0;ue<B;++ue)j[T+ue]=he[ve+j[Z+ue]];T+=32}}function $c(j,T){xn(j,T,4)}function Ci(j,T){xn(j,T,8)}function wr(j,T){xn(j,T,16)}function Bc(j,T){var B;for(B=0;16>B;++B)r(j,T+32*B,j,T-32,16)}function Ua(j,T){var B;for(B=16;0<B;--B)i(j,T,j[T-1],16),T+=32}function vo(j,T,B){var K;for(K=0;16>K;++K)i(T,B+32*K,j,16)}function ka(j,T){var B,K=16;for(B=0;16>B;++B)K+=j[T-1+32*B]+j[T+B-32];vo(K>>5,j,T)}function Mt(j,T){var B,K=8;for(B=0;16>B;++B)K+=j[T-1+32*B];vo(K>>4,j,T)}function qt(j,T){var B,K=8;for(B=0;16>B;++B)K+=j[T+B-32];vo(K>>4,j,T)}function Nn(j,T){vo(128,j,T)}function Dt(j,T,B){return j+2*T+B+2>>2}function xi(j,T){var B,K=T-32;for(K=new Uint8Array([Dt(j[K-1],j[K+0],j[K+1]),Dt(j[K+0],j[K+1],j[K+2]),Dt(j[K+1],j[K+2],j[K+3]),Dt(j[K+2],j[K+3],j[K+4])]),B=0;4>B;++B)r(j,T+32*B,K,0,K.length)}function es(j,T){var B=j[T-1],K=j[T-1+32],Z=j[T-1+64],oe=j[T-1+96];Ce(j,T+0,16843009*Dt(j[T-1-32],B,K)),Ce(j,T+32,16843009*Dt(B,K,Z)),Ce(j,T+64,16843009*Dt(K,Z,oe)),Ce(j,T+96,16843009*Dt(Z,oe,oe))}function Op(j,T){var B,K=4;for(B=0;4>B;++B)K+=j[T+B-32]+j[T-1+32*B];for(K>>=3,B=0;4>B;++B)i(j,T+32*B,K,4)}function Wf(j,T){var B=j[T-1+0],K=j[T-1+32],Z=j[T-1+64],oe=j[T-1-32],le=j[T+0-32],ue=j[T+1-32],he=j[T+2-32],ve=j[T+3-32];j[T+0+96]=Dt(K,Z,j[T-1+96]),j[T+1+96]=j[T+0+64]=Dt(B,K,Z),j[T+2+96]=j[T+1+64]=j[T+0+32]=Dt(oe,B,K),j[T+3+96]=j[T+2+64]=j[T+1+32]=j[T+0+0]=Dt(le,oe,B),j[T+3+64]=j[T+2+32]=j[T+1+0]=Dt(ue,le,oe),j[T+3+32]=j[T+2+0]=Dt(he,ue,le),j[T+3+0]=Dt(ve,he,ue)}function yo(j,T){var B=j[T+1-32],K=j[T+2-32],Z=j[T+3-32],oe=j[T+4-32],le=j[T+5-32],ue=j[T+6-32],he=j[T+7-32];j[T+0+0]=Dt(j[T+0-32],B,K),j[T+1+0]=j[T+0+32]=Dt(B,K,Z),j[T+2+0]=j[T+1+32]=j[T+0+64]=Dt(K,Z,oe),j[T+3+0]=j[T+2+32]=j[T+1+64]=j[T+0+96]=Dt(Z,oe,le),j[T+3+32]=j[T+2+64]=j[T+1+96]=Dt(oe,le,ue),j[T+3+64]=j[T+2+96]=Dt(le,ue,he),j[T+3+96]=Dt(ue,he,he)}function zc(j,T){var B=j[T-1+0],K=j[T-1+32],Z=j[T-1+64],oe=j[T-1-32],le=j[T+0-32],ue=j[T+1-32],he=j[T+2-32],ve=j[T+3-32];j[T+0+0]=j[T+1+64]=oe+le+1>>1,j[T+1+0]=j[T+2+64]=le+ue+1>>1,j[T+2+0]=j[T+3+64]=ue+he+1>>1,j[T+3+0]=he+ve+1>>1,j[T+0+96]=Dt(Z,K,B),j[T+0+64]=Dt(K,B,oe),j[T+0+32]=j[T+1+96]=Dt(B,oe,le),j[T+1+32]=j[T+2+96]=Dt(oe,le,ue),j[T+2+32]=j[T+3+96]=Dt(le,ue,he),j[T+3+32]=Dt(ue,he,ve)}function Eg(j,T){var B=j[T+0-32],K=j[T+1-32],Z=j[T+2-32],oe=j[T+3-32],le=j[T+4-32],ue=j[T+5-32],he=j[T+6-32],ve=j[T+7-32];j[T+0+0]=B+K+1>>1,j[T+1+0]=j[T+0+64]=K+Z+1>>1,j[T+2+0]=j[T+1+64]=Z+oe+1>>1,j[T+3+0]=j[T+2+64]=oe+le+1>>1,j[T+0+32]=Dt(B,K,Z),j[T+1+32]=j[T+0+96]=Dt(K,Z,oe),j[T+2+32]=j[T+1+96]=Dt(Z,oe,le),j[T+3+32]=j[T+2+96]=Dt(oe,le,ue),j[T+3+64]=Dt(le,ue,he),j[T+3+96]=Dt(ue,he,ve)}function Kf(j,T){var B=j[T-1+0],K=j[T-1+32],Z=j[T-1+64],oe=j[T-1+96];j[T+0+0]=B+K+1>>1,j[T+2+0]=j[T+0+32]=K+Z+1>>1,j[T+2+32]=j[T+0+64]=Z+oe+1>>1,j[T+1+0]=Dt(B,K,Z),j[T+3+0]=j[T+1+32]=Dt(K,Z,oe),j[T+3+32]=j[T+1+64]=Dt(Z,oe,oe),j[T+3+64]=j[T+2+64]=j[T+0+96]=j[T+1+96]=j[T+2+96]=j[T+3+96]=oe}function kd(j,T){var B=j[T-1+0],K=j[T-1+32],Z=j[T-1+64],oe=j[T-1+96],le=j[T-1-32],ue=j[T+0-32],he=j[T+1-32],ve=j[T+2-32];j[T+0+0]=j[T+2+32]=B+le+1>>1,j[T+0+32]=j[T+2+64]=K+B+1>>1,j[T+0+64]=j[T+2+96]=Z+K+1>>1,j[T+0+96]=oe+Z+1>>1,j[T+3+0]=Dt(ue,he,ve),j[T+2+0]=Dt(le,ue,he),j[T+1+0]=j[T+3+32]=Dt(B,le,ue),j[T+1+32]=j[T+3+64]=Dt(K,B,le),j[T+1+64]=j[T+3+96]=Dt(Z,K,B),j[T+1+96]=Dt(oe,Z,K)}function Pp(j,T){var B;for(B=0;8>B;++B)r(j,T+32*B,j,T-32,8)}function gl(j,T){var B;for(B=0;8>B;++B)i(j,T,j[T-1],8),T+=32}function Gl(j,T,B){var K;for(K=0;8>K;++K)i(T,B+32*K,j,8)}function vl(j,T){var B,K=8;for(B=0;8>B;++B)K+=j[T+B-32]+j[T-1+32*B];Gl(K>>4,j,T)}function Gf(j,T){var B,K=4;for(B=0;8>B;++B)K+=j[T+B-32];Gl(K>>3,j,T)}function Mp(j,T){var B,K=4;for(B=0;8>B;++B)K+=j[T-1+32*B];Gl(K>>3,j,T)}function Rp(j,T){Gl(128,j,T)}function qc(j,T,B){var K=j[T-B],Z=j[T+0],oe=3*(Z-K)+ec[1020+j[T-2*B]-j[T+B]],le=nh[112+(oe+4>>3)];j[T-B]=Ta[255+K+nh[112+(oe+3>>3)]],j[T+0]=Ta[255+Z-le]}function Yl(j,T,B,K){var Z=j[T+0],oe=j[T+B];return Ho[255+j[T-2*B]-j[T-B]]>K||Ho[255+oe-Z]>K}function Td(j,T,B,K){return 4*Ho[255+j[T-B]-j[T+0]]+Ho[255+j[T-2*B]-j[T+B]]<=K}function Od(j,T,B,K,Z){var oe=j[T-3*B],le=j[T-2*B],ue=j[T-B],he=j[T+0],ve=j[T+B],Te=j[T+2*B],Be=j[T+3*B];return 4*Ho[255+ue-he]+Ho[255+le-ve]>K?0:Ho[255+j[T-4*B]-oe]<=Z&&Ho[255+oe-le]<=Z&&Ho[255+le-ue]<=Z&&Ho[255+Be-Te]<=Z&&Ho[255+Te-ve]<=Z&&Ho[255+ve-he]<=Z}function Fo(j,T,B,K){var Z=2*K+1;for(K=0;16>K;++K)Td(j,T+K,B,Z)&&qc(j,T+K,B)}function Uc(j,T,B,K){var Z=2*K+1;for(K=0;16>K;++K)Td(j,T+K*B,1,Z)&&qc(j,T+K*B,1)}function Pd(j,T,B,K){var Z;for(Z=3;0<Z;--Z)Fo(j,T+=4*B,B,K)}function Ip(j,T,B,K){var Z;for(Z=3;0<Z;--Z)Uc(j,T+=4,B,K)}function $o(j,T,B,K,Z,oe,le,ue){for(oe=2*oe+1;0<Z--;){if(Od(j,T,B,oe,le))if(Yl(j,T,B,ue))qc(j,T,B);else{var he=j,ve=T,Te=B,Be=he[ve-2*Te],be=he[ve-Te],Me=he[ve+0],Le=he[ve+Te],rt=he[ve+2*Te],qe=27*(tt=ec[1020+3*(Me-be)+ec[1020+Be-Le]])+63>>7,Ze=18*tt+63>>7,tt=9*tt+63>>7;he[ve-3*Te]=Ta[255+he[ve-3*Te]+tt],he[ve-2*Te]=Ta[255+Be+Ze],he[ve-Te]=Ta[255+be+qe],he[ve+0]=Ta[255+Me-qe],he[ve+Te]=Ta[255+Le-Ze],he[ve+2*Te]=Ta[255+rt-tt]}T+=K}}function Bo(j,T,B,K,Z,oe,le,ue){for(oe=2*oe+1;0<Z--;){if(Od(j,T,B,oe,le))if(Yl(j,T,B,ue))qc(j,T,B);else{var he=j,ve=T,Te=B,Be=he[ve-Te],be=he[ve+0],Me=he[ve+Te],Le=nh[112+(4+(rt=3*(be-Be))>>3)],rt=nh[112+(rt+3>>3)],qe=Le+1>>1;he[ve-2*Te]=Ta[255+he[ve-2*Te]+qe],he[ve-Te]=Ta[255+Be+rt],he[ve+0]=Ta[255+be-Le],he[ve+Te]=Ta[255+Me-qe]}T+=K}}function Dp(j,T,B,K,Z,oe){$o(j,T,B,1,16,K,Z,oe)}function la(j,T,B,K,Z,oe){$o(j,T,1,B,16,K,Z,oe)}function zo(j,T,B,K,Z,oe){var le;for(le=3;0<le;--le)Bo(j,T+=4*B,B,1,16,K,Z,oe)}function Yf(j,T,B,K,Z,oe){var le;for(le=3;0<le;--le)Bo(j,T+=4,1,B,16,K,Z,oe)}function D(j,T,B,K,Z,oe,le,ue){$o(j,T,Z,1,8,oe,le,ue),$o(B,K,Z,1,8,oe,le,ue)}function te(j,T,B,K,Z,oe,le,ue){$o(j,T,1,Z,8,oe,le,ue),$o(B,K,1,Z,8,oe,le,ue)}function Ne(j,T,B,K,Z,oe,le,ue){Bo(j,T+4*Z,Z,1,8,oe,le,ue),Bo(B,K+4*Z,Z,1,8,oe,le,ue)}function Ae(j,T,B,K,Z,oe,le,ue){Bo(j,T+4,1,Z,8,oe,le,ue),Bo(B,K+4,1,Z,8,oe,le,ue)}function De(){this.ba=new mn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ee,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zt(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new q}function un(){this.xb=this.a=0,this.l=new qr,this.ca=new mn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zt,this.ab=0,this.gc=o(4,vt),this.Oc=0}function $n(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Bn(j,T,B,K,Z,oe,le){for(j=j==null?0:j[T+0],T=0;T<le;++T)Z[oe+T]=j+B[K+T]&255,j=Z[oe+T]}function Nr(j,T,B,K,Z,oe,le){var ue;if(j==null)Bn(null,null,B,K,Z,oe,le);else for(ue=0;ue<le;++ue)Z[oe+ue]=j[T+ue]+B[K+ue]&255}function Ai(j,T,B,K,Z,oe,le){if(j==null)Bn(null,null,B,K,Z,oe,le);else{var ue,he=j[T+0],ve=he,Te=he;for(ue=0;ue<le;++ue)ve=Te+(he=j[T+ue])-ve,Te=B[K+ue]+(-256&ve?0>ve?0:255:ve)&255,ve=he,Z[oe+ue]=Te}}function ts(j,T,B,K){var Z=T.width,oe=T.o;if(e(j!=null&&T!=null),0>B||0>=K||B+K>oe)return null;if(!j.Cc){if(j.ga==null){var le;if(j.ga=new $n,(le=j.ga==null)||(le=T.width*T.o,e(j.Gb.length==0),j.Gb=s(le),j.Uc=0,j.Gb==null?le=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,le=1),le=!le),!le){le=j.ga;var ue=j.Fa,he=j.P,ve=j.qc,Te=j.mb,Be=j.nb,be=he+1,Me=ve-1,Le=le.l;if(e(ue!=null&&Te!=null&&T!=null),ua[0]=null,ua[1]=Bn,ua[2]=Nr,ua[3]=Ai,le.ca=Te,le.tb=Be,le.c=T.width,le.i=T.height,e(0<le.c&&0<le.i),1>=ve)T=0;else if(le.$a=3&ue[he+0],le.Z=ue[he+0]>>2&3,le.Lc=ue[he+0]>>4&3,he=ue[he+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||he)T=0;else if(Le.put=ce,Le.ac=In,Le.bc=$e,Le.ma=le,Le.width=T.width,Le.height=T.height,Le.Da=T.Da,Le.v=T.v,Le.va=T.va,Le.j=T.j,Le.o=T.o,le.$a)e:{e(le.$a==1),T=Do();t:for(;;){if(T==null){T=0;break e}if(e(le!=null),le.mc=T,T.c=le.c,T.i=le.i,T.l=le.l,T.l.ma=le,T.l.width=le.c,T.l.height=le.i,T.a=0,Y(T.m,ue,be,Me),!go(le.c,le.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Vi(T.s)?(le.ic=1,ue=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(ue),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(le.ic=0,T=Hl(T,le.c)),!T))break t;T=1;break e}le.mc=null,T=0}else T=Me>=le.c*le.i;le=!T}if(le)return null;j.ga.Lc!=1?j.Ga=0:K=oe-B}e(j.ga!=null),e(B+K<=oe);e:{if(T=(ue=j.ga).c,oe=ue.l.o,ue.$a==0){if(be=j.rc,Me=j.Vc,Le=j.Fa,he=j.P+1+B*T,ve=j.mb,Te=j.nb+B*T,e(he<=j.P+j.qc),ue.Z!=0)for(e(ua[ue.Z]!=null),le=0;le<K;++le)ua[ue.Z](be,Me,Le,he,ve,Te,T),be=ve,Me=Te,Te+=T,he+=T;else for(le=0;le<K;++le)r(ve,Te,Le,he,T),be=ve,Me=Te,Te+=T,he+=T;j.rc=be,j.Vc=Me}else{if(e(ue.mc!=null),T=B+K,e((le=ue.mc)!=null),e(T<=le.i),le.C>=T)T=1;else if(ue.ic||qo(),ue.ic){ue=le.V,be=le.Ba,Me=le.c;var rt=le.i,qe=(Le=1,he=le.$/Me,ve=le.$%Me,Te=le.m,Be=le.s,le.$),Ze=Me*rt,tt=Me*T,ot=Be.wc,dt=qe<tt?or(Be,ve,he):null;e(qe<=Ze),e(T<=rt),e(Vi(Be));t:for(;;){for(;!Te.h&&qe<tt;){if(ve&ot||(dt=or(Be,ve,he)),e(dt!=null),pe(Te),256>(rt=gn(dt.G[0],dt.H[0],Te)))ue[be+qe]=rt,++qe,++ve>=Me&&(ve=0,++he<=T&&!(he%16)&&Di(le,he));else{if(!(280>rt)){Le=0;break t}rt=Lt(rt-256,Te);var dn,Gt=gn(dt.G[4],dt.H[4],Te);if(pe(Te),!(qe>=(Gt=Hn(Me,Gt=Lt(Gt,Te)))&&Ze-qe>=rt)){Le=0;break t}for(dn=0;dn<rt;++dn)ue[be+qe+dn]=ue[be+qe+dn-Gt];for(qe+=rt,ve+=rt;ve>=Me;)ve-=Me,++he<=T&&!(he%16)&&Di(le,he);qe<tt&&ve&ot&&(dt=or(Be,ve,he))}e(Te.h==re(Te))}Di(le,he>T?T:he);break t}!Le||Te.h&&qe<Ze?(Le=0,le.a=Te.h?5:3):le.$=qe,T=Le}else T=Us(le,le.V,le.Ba,le.c,le.i,T,Ic);if(!T){K=0;break e}}B+K>=oe&&(j.Cc=1),K=1}if(!K)return null;if(j.Cc&&((K=j.ga)!=null&&(K.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+B*Z}function ii(j,T,B,K,Z,oe){for(;0<Z--;){var le,ue=j,he=T+(B?1:0),ve=j,Te=T+(B?0:3);for(le=0;le<K;++le){var Be=ve[Te+4*le];Be!=255&&(Be*=32897,ue[he+4*le+0]=ue[he+4*le+0]*Be>>23,ue[he+4*le+1]=ue[he+4*le+1]*Be>>23,ue[he+4*le+2]=ue[he+4*le+2]*Be>>23)}T+=oe}}function vs(j,T,B,K,Z){for(;0<K--;){var oe;for(oe=0;oe<B;++oe){var le=j[T+2*oe+0],ue=15&(ve=j[T+2*oe+1]),he=4369*ue,ve=(240&ve|ve>>4)*he>>16;j[T+2*oe+0]=(240&le|le>>4)*he>>16&240|(15&le|le<<4)*he>>16>>4&15,j[T+2*oe+1]=240&ve|ue}T+=Z}}function Ki(j,T,B,K,Z,oe,le,ue){var he,ve,Te=255;for(ve=0;ve<Z;++ve){for(he=0;he<K;++he){var Be=j[T+he];oe[le+4*he]=Be,Te&=Be}T+=B,le+=ue}return Te!=255}function Vs(j,T,B,K,Z){var oe;for(oe=0;oe<Z;++oe)B[K+oe]=j[T+oe]>>8}function qo(){Hd=ii,bx=vs,zp=Ki,wx=Vs}function Ha(j,T,B){P[j]=function(K,Z,oe,le,ue,he,ve,Te,Be,be,Me,Le,rt,qe,Ze,tt,ot){var dt,dn=ot-1>>1,Gt=ue[he+0]|ve[Te+0]<<16,Wn=Be[be+0]|Me[Le+0]<<16;e(K!=null);var en=3*Gt+Wn+131074>>2;for(T(K[Z+0],255&en,en>>16,rt,qe),oe!=null&&(en=3*Wn+Gt+131074>>2,T(oe[le+0],255&en,en>>16,Ze,tt)),dt=1;dt<=dn;++dt){var dr=ue[he+dt]|ve[Te+dt]<<16,Bi=Be[be+dt]|Me[Le+dt]<<16,Yn=Gt+dr+Wn+Bi+524296,Yt=Yn+2*(dr+Wn)>>3;en=Yt+Gt>>1,Gt=(Yn=Yn+2*(Gt+Bi)>>3)+dr>>1,T(K[Z+2*dt-1],255&en,en>>16,rt,qe+(2*dt-1)*B),T(K[Z+2*dt-0],255&Gt,Gt>>16,rt,qe+(2*dt-0)*B),oe!=null&&(en=Yn+Wn>>1,Gt=Yt+Bi>>1,T(oe[le+2*dt-1],255&en,en>>16,Ze,tt+(2*dt-1)*B),T(oe[le+2*dt+0],255&Gt,Gt>>16,Ze,tt+(2*dt+0)*B)),Gt=dr,Wn=Bi}1&ot||(en=3*Gt+Wn+131074>>2,T(K[Z+ot-1],255&en,en>>16,rt,qe+(ot-1)*B),oe!=null&&(en=3*Wn+Gt+131074>>2,T(oe[le+ot-1],255&en,en>>16,Ze,tt+(ot-1)*B)))}}function jg(){Ka[kg]=Q_,Ka[zu]=qu,Ka[tw]=J_,Ka[qp]=ah,Ka[Up]=Gd,Ka[Qr]=Gp,Ka[Tg]=Tx,Ka[rh]=qu,Ka[Vd]=ah,Ka[Hp]=Gd,Ka[Vp]=Gp}function Mu(j){return j&-16384?0>j?0:255:j>>Uu}function Md(j,T){return Mu((19077*j>>8)+(26149*T>>8)-14234)}function Ru(j,T,B){return Mu((19077*j>>8)-(6419*T>>8)-(13320*B>>8)+8708)}function Rd(j,T){return Mu((19077*j>>8)+(33050*T>>8)-17685)}function Iu(j,T,B,K,Z){K[Z+0]=Md(j,B),K[Z+1]=Ru(j,T,B),K[Z+2]=Rd(j,T)}function Id(j,T,B,K,Z){K[Z+0]=Rd(j,T),K[Z+1]=Ru(j,T,B),K[Z+2]=Md(j,B)}function ca(j,T,B,K,Z){var oe=Ru(j,T,B);T=oe<<3&224|Rd(j,T)>>3,K[Z+0]=248&Md(j,B)|oe>>5,K[Z+1]=T}function Dd(j,T,B,K,Z){var oe=240&Rd(j,T)|15;K[Z+0]=240&Md(j,B)|Ru(j,T,B)>>4,K[Z+1]=oe}function Ld(j,T,B,K,Z){K[Z+0]=255,Iu(j,T,B,K,Z+1)}function Lp(j,T,B,K,Z){Id(j,T,B,K,Z),K[Z+3]=255}function Fp(j,T,B,K,Z){Iu(j,T,B,K,Z),K[Z+3]=255}function Li(j,T){return 0>j?0:j>T?T:j}function yl(j,T,B){P[j]=function(K,Z,oe,le,ue,he,ve,Te,Be){for(var be=Te+(-2&Be)*B;Te!=be;)T(K[Z+0],oe[le+0],ue[he+0],ve,Te),T(K[Z+1],oe[le+0],ue[he+0],ve,Te+B),Z+=2,++le,++he,Te+=2*B;1&Be&&T(K[Z+0],oe[le+0],ue[he+0],ve,Te)}}function Xl(j,T,B){return B==0?j==0?T==0?6:5:T==0?4:0:B}function _g(j,T,B,K,Z){switch(j>>>30){case 3:qd(T,B,K,Z,0);break;case 2:Fi(T,B,K,Z);break;case 1:Sr(T,B,K,Z)}}function xo(j,T){var B,K,Z=T.M,oe=T.Nb,le=j.oc,ue=j.pc+40,he=j.oc,ve=j.pc+584,Te=j.oc,Be=j.pc+600;for(B=0;16>B;++B)le[ue+32*B-1]=129;for(B=0;8>B;++B)he[ve+32*B-1]=129,Te[Be+32*B-1]=129;for(0<Z?le[ue-1-32]=he[ve-1-32]=Te[Be-1-32]=129:(i(le,ue-32-1,127,21),i(he,ve-32-1,127,9),i(Te,Be-32-1,127,9)),K=0;K<j.za;++K){var be=T.ya[T.aa+K];if(0<K){for(B=-1;16>B;++B)r(le,ue+32*B-4,le,ue+32*B+12,4);for(B=-1;8>B;++B)r(he,ve+32*B-4,he,ve+32*B+4,4),r(Te,Be+32*B-4,Te,Be+32*B+4,4)}var Me=j.Gd,Le=j.Hd+K,rt=be.ad,qe=be.Hc;if(0<Z&&(r(le,ue-32,Me[Le].y,0,16),r(he,ve-32,Me[Le].f,0,8),r(Te,Be-32,Me[Le].ea,0,8)),be.Za){var Ze=le,tt=ue-32+16;for(0<Z&&(K>=j.za-1?i(Ze,tt,Me[Le].y[15],4):r(Ze,tt,Me[Le+1].y,0,4)),B=0;4>B;B++)Ze[tt+128+B]=Ze[tt+256+B]=Ze[tt+384+B]=Ze[tt+0+B];for(B=0;16>B;++B,qe<<=2)Ze=le,tt=ue+Ox[B],Vo[be.Ob[B]](Ze,tt),_g(qe,rt,16*+B,Ze,tt)}else if(Ze=Xl(K,Z,be.Ob[0]),Oa[Ze](le,ue),qe!=0)for(B=0;16>B;++B,qe<<=2)_g(qe,rt,16*+B,le,ue+Ox[B]);for(B=be.Gc,Ze=Xl(K,Z,be.Dd),Wa[Ze](he,ve),Wa[Ze](Te,Be),qe=rt,Ze=he,tt=ve,255&(be=0|B)&&(170&be?Va(qe,256,Ze,tt):Ur(qe,256,Ze,tt)),be=Te,qe=Be,255&(B>>=8)&&(170&B?Va(rt,320,be,qe):Ur(rt,320,be,qe)),Z<j.Ub-1&&(r(Me[Le].y,0,le,ue+480,16),r(Me[Le].f,0,he,ve+224,8),r(Me[Le].ea,0,Te,Be+224,8)),B=8*oe*j.B,Me=j.sa,Le=j.ta+16*K+16*oe*j.R,rt=j.qa,be=j.ra+8*K+B,qe=j.Ha,Ze=j.Ia+8*K+B,B=0;16>B;++B)r(Me,Le+B*j.R,le,ue+32*B,16);for(B=0;8>B;++B)r(rt,be+B*j.B,he,ve+32*B,8),r(qe,Ze+B*j.B,Te,Be+32*B,8)}}function Du(j,T,B,K,Z,oe,le,ue,he){var ve=[0],Te=[0],Be=0,be=he!=null?he.kd:0,Me=he??new st;if(j==null||12>B)return 7;Me.data=j,Me.w=T,Me.ha=B,T=[T],B=[B],Me.gb=[Me.gb];e:{var Le=T,rt=B,qe=Me.gb;if(e(j!=null),e(rt!=null),e(qe!=null),qe[0]=0,12<=rt[0]&&!n(j,Le[0],"RIFF")){if(n(j,Le[0]+8,"WEBP")){qe=3;break e}var Ze=ee(j,Le[0]+4);if(12>Ze||4294967286<Ze){qe=3;break e}if(be&&Ze>rt[0]-8){qe=7;break e}qe[0]=Ze,Le[0]+=12,rt[0]-=12}qe=0}if(qe!=0)return qe;for(Ze=0<Me.gb[0],B=B[0];;){e:{var tt=j;rt=T,qe=B;var ot=ve,dt=Te,dn=Le=[0];if((en=Be=[Be])[0]=0,8>qe[0])qe=7;else{if(!n(tt,rt[0],"VP8X")){if(ee(tt,rt[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var Gt=ee(tt,rt[0]+8),Wn=1+Pe(tt,rt[0]+12);if(2147483648<=Wn*(tt=1+Pe(tt,rt[0]+15))){qe=3;break e}dn!=null&&(dn[0]=Gt),ot!=null&&(ot[0]=Wn),dt!=null&&(dt[0]=tt),rt[0]+=18,qe[0]-=18,en[0]=1}qe=0}}if(Be=Be[0],Le=Le[0],qe!=0)return qe;if(rt=!!(2&Le),!Ze&&Be)return 3;if(oe!=null&&(oe[0]=!!(16&Le)),le!=null&&(le[0]=rt),ue!=null&&(ue[0]=0),le=ve[0],Le=Te[0],Be&&rt&&he==null){qe=0;break}if(4>B){qe=7;break}if(Ze&&Be||!Ze&&!Be&&!n(j,T[0],"ALPH")){B=[B],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{Gt=j,qe=T,Ze=B;var en=Me.gb;ot=Me.na,dt=Me.P,dn=Me.Sa,Wn=22,e(Gt!=null),e(Ze!=null),tt=qe[0];var dr=Ze[0];for(e(ot!=null),e(dn!=null),ot[0]=null,dt[0]=null,dn[0]=0;;){if(qe[0]=tt,Ze[0]=dr,8>dr){qe=7;break e}var Bi=ee(Gt,tt+4);if(4294967286<Bi){qe=3;break e}var Yn=8+Bi+1&-2;if(Wn+=Yn,0<en&&Wn>en){qe=3;break e}if(!n(Gt,tt,"VP8 ")||!n(Gt,tt,"VP8L")){qe=0;break e}if(dr[0]<Yn){qe=7;break e}n(Gt,tt,"ALPH")||(ot[0]=Gt,dt[0]=tt+8,dn[0]=Bi),tt+=Yn,dr-=Yn}}if(B=B[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],qe!=0)break}B=[B],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(en=j,qe=T,Ze=B,ot=Me.gb[0],dt=Me.Ja,dn=Me.xa,Gt=qe[0],tt=!n(en,Gt,"VP8 "),Wn=!n(en,Gt,"VP8L"),e(en!=null),e(Ze!=null),e(dt!=null),e(dn!=null),8>Ze[0])qe=7;else{if(tt||Wn){if(en=ee(en,Gt+4),12<=ot&&en>ot-12){qe=3;break e}if(be&&en>Ze[0]-8){qe=7;break e}dt[0]=en,qe[0]+=8,Ze[0]-=8,dn[0]=Wn}else dn[0]=5<=Ze[0]&&en[Gt+0]==47&&!(en[Gt+4]>>5),dt[0]=Ze[0];qe=0}if(B=B[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],T=T[0],qe!=0)break;if(4294967286<Me.Ja)return 3;if(ue==null||rt||(ue[0]=Me.xa?2:1),le=[le],Le=[Le],Me.xa){if(5>B){qe=7;break}ue=le,be=Le,rt=oe,j==null||5>B?j=0:5<=B&&j[T+0]==47&&!(j[T+4]>>5)?(Ze=[0],en=[0],ot=[0],Y(dt=new V,j,T,B),ht(dt,Ze,en,ot)?(ue!=null&&(ue[0]=Ze[0]),be!=null&&(be[0]=en[0]),rt!=null&&(rt[0]=ot[0]),j=1):j=0):j=0}else{if(10>B){qe=7;break}ue=Le,j==null||10>B||!As(j,T+3,B-3)?j=0:(be=j[T+0]|j[T+1]<<8|j[T+2]<<16,rt=16383&(j[T+7]<<8|j[T+6]),j=16383&(j[T+9]<<8|j[T+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Me.Ja||!rt||!j?j=0:(le&&(le[0]=rt),ue&&(ue[0]=j),j=1))}if(!j||(le=le[0],Le=Le[0],Be&&(ve[0]!=le||Te[0]!=Le)))return 3;he!=null&&(he[0]=Me,he.offset=T-he.w,e(4294967286>T-he.w),e(he.offset==he.ha-B));break}return qe==0||qe==7&&Be&&he==null?(oe!=null&&(oe[0]|=Me.na!=null&&0<Me.na.length),K!=null&&(K[0]=le),Z!=null&&(Z[0]=Le),0):qe}function Xf(j,T,B){var K=T.width,Z=T.height,oe=0,le=0,ue=K,he=Z;if(T.Da=j!=null&&0<j.Da,T.Da&&(ue=j.cd,he=j.bd,oe=j.v,le=j.j,11>B||(oe&=-2,le&=-2),0>oe||0>le||0>=ue||0>=he||oe+ue>K||le+he>Z))return 0;if(T.v=oe,T.j=le,T.va=oe+ue,T.o=le+he,T.U=ue,T.T=he,T.da=j!=null&&0<j.da,T.da){if(!et(ue,he,B=[j.ib],oe=[j.hb]))return 0;T.ib=B[0],T.hb=oe[0]}return T.ob=j!=null&&j.ob,T.Kb=j==null||!j.Sd,T.da&&(T.ob=T.ib<3*K/4&&T.hb<3*Z/4,T.Kb=0),1}function Qf(j){if(j==null)return 2;if(11>j.S){var T=j.f.RGBA;T.fb+=(j.height-1)*T.A,T.A=-T.A}else T=j.f.kb,j=j.height,T.O+=(j-1)*T.fa,T.fa=-T.fa,T.N+=(j-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(j-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(j-1)*T.lb,T.lb=-T.lb);return 0}function Hc(j,T,B,K){if(K==null||0>=j||0>=T)return 2;if(B!=null){if(B.Da){var Z=B.cd,oe=B.bd,le=-2&B.v,ue=-2&B.j;if(0>le||0>ue||0>=Z||0>=oe||le+Z>j||ue+oe>T)return 2;j=Z,T=oe}if(B.da){if(!et(j,T,Z=[B.ib],oe=[B.hb]))return 2;j=Z[0],T=oe[0]}}K.width=j,K.height=T;e:{var he=K.width,ve=K.height;if(j=K.S,0>=he||0>=ve||!(j>=kg&&13>j))j=2;else{if(0>=K.Rd&&K.sd==null){le=oe=Z=T=0;var Te=(ue=he*Yp[j])*ve;if(11>j||(oe=(ve+1)/2*(T=(he+1)/2),j==12&&(le=(Z=he)*ve)),(ve=s(Te+2*oe+le))==null){j=1;break e}K.sd=ve,11>j?((he=K.f.RGBA).eb=ve,he.fb=0,he.A=ue,he.size=Te):((he=K.f.kb).y=ve,he.O=0,he.fa=ue,he.Fd=Te,he.f=ve,he.N=0+Te,he.Ab=T,he.Cd=oe,he.ea=ve,he.W=0+Te+oe,he.Db=T,he.Ed=oe,j==12&&(he.F=ve,he.J=0+Te+2*oe),he.Tc=le,he.lb=Z)}if(T=1,Z=K.S,oe=K.width,le=K.height,Z>=kg&&13>Z)if(11>Z)j=K.f.RGBA,T&=(ue=Math.abs(j.A))*(le-1)+oe<=j.size,T&=ue>=oe*Yp[Z],T&=j.eb!=null;else{j=K.f.kb,ue=(oe+1)/2,Te=(le+1)/2,he=Math.abs(j.fa),ve=Math.abs(j.Ab);var Be=Math.abs(j.Db),be=Math.abs(j.lb),Me=be*(le-1)+oe;T&=he*(le-1)+oe<=j.Fd,T&=ve*(Te-1)+ue<=j.Cd,T=(T&=Be*(Te-1)+ue<=j.Ed)&he>=oe&ve>=ue&Be>=ue,T&=j.y!=null,T&=j.f!=null,T&=j.ea!=null,Z==12&&(T&=be>=oe,T&=Me<=j.Tc,T&=j.F!=null)}else T=0;j=T?0:2}}return j!=0||B!=null&&B.fd&&(j=Qf(K)),j}var Uo=64,bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wo=24,Lu=32,Ql=8,Vc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(j){return j},P.Predictor2=function(j,T,B){return T[B+0]},P.Predictor3=function(j,T,B){return T[B+1]},P.Predictor4=function(j,T,B){return T[B-1]},P.Predictor5=function(j,T,B){return Ge(Ge(j,T[B+1]),T[B+0])},P.Predictor6=function(j,T,B){return Ge(j,T[B-1])},P.Predictor7=function(j,T,B){return Ge(j,T[B+0])},P.Predictor8=function(j,T,B){return Ge(T[B-1],T[B+0])},P.Predictor9=function(j,T,B){return Ge(T[B+0],T[B+1])},P.Predictor10=function(j,T,B){return Ge(Ge(j,T[B-1]),Ge(T[B+0],T[B+1]))},P.Predictor11=function(j,T,B){var K=T[B+0];return 0>=nt(K>>24&255,j>>24&255,(T=T[B-1])>>24&255)+nt(K>>16&255,j>>16&255,T>>16&255)+nt(K>>8&255,j>>8&255,T>>8&255)+nt(255&K,255&j,255&T)?K:j},P.Predictor12=function(j,T,B){var K=T[B+0];return(Ye((j>>24&255)+(K>>24&255)-((T=T[B-1])>>24&255))<<24|Ye((j>>16&255)+(K>>16&255)-(T>>16&255))<<16|Ye((j>>8&255)+(K>>8&255)-(T>>8&255))<<8|Ye((255&j)+(255&K)-(255&T)))>>>0},P.Predictor13=function(j,T,B){var K=T[B-1];return(We((j=Ge(j,T[B+0]))>>24&255,K>>24&255)<<24|We(j>>16&255,K>>16&255)<<16|We(j>>8&255,K>>8&255)<<8|We(255&j,255&K))>>>0};var Wc=P.PredictorAdd0;P.PredictorAdd1=_t,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var Jl=P.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var Gi,Fd=P.ColorIndexInverseTransform,Zl=P.MapARGB,xl=P.VP8LColorIndexInverseTransformAlpha,$d=P.MapAlpha,Bd=P.VP8LPredictorsAdd=[];Bd.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Jf,Zf,Kc,Fu,$u,zd,Bu,qd,Fi,Va,Sr,Ur,$i,ns,bl,$p,eh,Gc,Cg,th,Ag,xx,Bp,Ud,Hd,bx,zp,wx,Nx=s(511),Sx=s(2041),Ex=s(225),jx=s(767),_x=0,ec=Sx,nh=Ex,Ta=jx,Ho=Nx,kg=0,zu=1,tw=2,qp=3,Up=4,Qr=5,Tg=6,rh=7,Vd=8,Hp=9,Vp=10,Wp=[2,3,7],Og=[3,3,11],Wd=[280,256,256,256,40],nw=[0,1,1,1,0],K_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],G_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pg=8,ih=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kd=null,Cx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ax=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Y_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],X_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],Vo=[],Wa=[],tc=1,sh=2,ua=[],Ka=[];Ha("UpsampleRgbLinePair",Iu,3),Ha("UpsampleBgrLinePair",Id,3),Ha("UpsampleRgbaLinePair",Fp,4),Ha("UpsampleBgraLinePair",Lp,4),Ha("UpsampleArgbLinePair",Ld,4),Ha("UpsampleRgba4444LinePair",Dd,2),Ha("UpsampleRgb565LinePair",ca,2);var Q_=P.UpsampleRgbLinePair,J_=P.UpsampleBgrLinePair,qu=P.UpsampleRgbaLinePair,ah=P.UpsampleBgraLinePair,Gd=P.UpsampleArgbLinePair,Gp=P.UpsampleRgba4444LinePair,Tx=P.UpsampleRgb565LinePair,Yc=16,wl=1<<Yc-1,Dr=-227,Hr=482,Uu=6,Ws=0,Ga=s(256),Yd=s(256),oh=s(256),Ya=s(256),Mg=s(Hr-Dr),aw=s(Hr-Dr);yl("YuvToRgbRow",Iu,3),yl("YuvToBgrRow",Id,3),yl("YuvToRgbaRow",Fp,4),yl("YuvToBgraRow",Lp,4),yl("YuvToArgbRow",Ld,4),yl("YuvToRgba4444Row",Dd,2),yl("YuvToRgb565Row",ca,2);var Ox=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xd=[0,2,8],ow=[8,7,6,4,4,2,2,2,1,1,1,1],Xc=1;this.WebPDecodeRGBA=function(j,T,B,K,Z){var oe=zu,le=new De,ue=new mn;le.ba=ue,ue.S=oe,ue.width=[ue.width],ue.height=[ue.height];var he=ue.width,ve=ue.height,Te=new Ut;if(Te==null||j==null)var Be=2;else e(Te!=null),Be=Du(j,T,B,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Be!=0?he=0:(he!=null&&(he[0]=Te.width[0]),ve!=null&&(ve[0]=Te.height[0]),he=1),he){ue.width=ue.width[0],ue.height=ue.height[0],K!=null&&(K[0]=ue.width),Z!=null&&(Z[0]=ue.height);e:{if(K=new qr,(Z=new st).data=j,Z.w=T,Z.ha=B,Z.kd=1,T=[0],e(Z!=null),((j=Du(Z.data,Z.w,Z.ha,null,null,null,T,null,Z))==0||j==7)&&T[0]&&(j=4),(T=j)==0){if(e(le!=null),K.data=Z.data,K.w=Z.w+Z.offset,K.ha=Z.ha-Z.offset,K.put=ce,K.ac=In,K.bc=$e,K.ma=le,Z.xa){if((j=Do())==null){le=1;break e}if((function(be,Me){var Le=[0],rt=[0],qe=[0];t:for(;;){if(be==null)return 0;if(Me==null)return be.a=2,0;if(be.l=Me,be.a=0,Y(be.m,Me.data,Me.w,Me.ha),!ht(be.m,Le,rt,qe)){be.a=3;break t}if(be.xb=sh,Me.width=Le[0],Me.height=rt[0],!go(Le[0],rt[0],1,be,null))break t;return 1}return e(be.a!=0),0})(j,K)){if(K=(T=Hc(K.width,K.height,le.Oa,le.ba))==0){t:{K=j;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((B=K.l)!=null),e((Z=B.ma)!=null),K.xb!=0){if(K.ca=Z.ba,K.tb=Z.tb,e(K.ca!=null),!Xf(Z.Oa,B,qp)){K.a=2;break n}if(!Hl(K,B.width)||B.da)break n;if((B.da||wn(K.ca.S))&&qo(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&qo()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ne(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!Us(K,K.V,K.Ba,K.c,K.i,B.o,vi))break n;Z.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(T=j.a)}else T=j.a}else{if((j=new Lo)==null){le=1;break e}if(j.Fa=Z.na,j.P=Z.P,j.qc=Z.Sa,ks(j,K)){if((T=Hc(K.width,K.height,le.Oa,le.ba))==0){if(j.Aa=0,B=le.Oa,e((Z=j)!=null),B!=null){if(0<(he=0>(he=B.Md)?0:100<he?255:255*he/100)){for(ve=Te=0;4>ve;++ve)12>(Be=Z.pb[ve]).lc&&(Be.ia=he*ow[0>Be.lc?0:Be.lc]>>3),Te|=Be.ia;Te&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=B.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(be,Me){if(be==null)return 0;if(Me==null)return ci(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!ks(be,Me))return 0;if(e(be.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(be.L=0);var Le=Xd[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Me.v-Le>>4,be.zb=Me.j-Le>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Me.o+15+Le>>4,be.Hb=Me.va+15+Le>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var rt=be.ed;for(Le=0;4>Le;++Le){var qe;if(be.Qa.Cb){var Ze=be.Qa.Lb[Le];be.Qa.Fb||(Ze+=rt.Tb)}else Ze=rt.Tb;for(qe=0;1>=qe;++qe){var tt=be.gd[Le][qe],ot=Ze;if(rt.Pc&&(ot+=rt.vd[0],qe&&(ot+=rt.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var dt=ot;0<rt.wb&&(dt=4<rt.wb?dt>>2:dt>>1)>9-rt.wb&&(dt=9-rt.wb),1>dt&&(dt=1),tt.dd=dt,tt.tc=2*ot+dt,tt.ld=40<=ot?2:15<=ot?1:0}else tt.tc=0;tt.La=qe}}}Le=0}else ci(be,6,"Frame setup failed"),Le=be.a;if(Le=Le==0){if(Le){be.$c=0,0<be.Aa||(be.Ic=Xc);t:{Le=be.Ic,rt=4*(dt=be.za);var dn=32*dt,Gt=dt+1,Wn=0<be.L?dt*(0<be.Aa?2:1):0,en=(be.Aa==2?2:1)*dt;if((tt=rt+832+(qe=3*(16*Le+Xd[be.L])/2*dn)+(Ze=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=tt)Le=0;else{if(tt>be.Vb){if(be.Vb=0,be.Ec=s(tt),be.Fc=0,be.Ec==null){Le=ci(be,1,"no memory during frame initialization.");break t}be.Vb=tt}tt=be.Ec,ot=be.Fc,be.Ac=tt,be.Bc=ot,ot+=rt,be.Gd=o(dn,nr),be.Hd=0,be.rb=o(Gt+1,Vl),be.sb=1,be.wa=Wn?o(Wn,Cs):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=dt),e(!0),be.oc=tt,be.pc=ot,ot+=832,be.ya=o(en,an),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=dt),be.R=16*dt,be.B=8*dt,dt=(dn=Xd[be.L])*be.R,dn=dn/2*be.B,be.sa=tt,be.ta=ot+dt,be.qa=be.sa,be.ra=be.ta+16*Le*be.R+dn,be.Ha=be.qa,be.Ia=be.ra+8*Le*be.B+dn,be.$c=0,ot+=qe,be.mb=Ze?tt:null,be.nb=Ze?ot:null,e(ot+Ze<=be.Fc+be.Vb),qa(be),i(be.Ac,be.Bc,0,rt),Le=1}}if(Le){if(Me.ka=0,Me.y=be.sa,Me.O=be.ta,Me.f=be.qa,Me.N=be.ra,Me.ea=be.Ha,Me.Vd=be.Ia,Me.fa=be.R,Me.Rc=be.B,Me.F=null,Me.J=0,!_x){for(Le=-255;255>=Le;++Le)Nx[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Sx[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)Ex[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)jx[255+Le]=0>Le?0:255<Le?255:Le;_x=1}Bu=ur,qd=Wl,Va=Kl,Sr=Wi,Ur=Pu,Fi=Vf,$i=Dp,ns=la,bl=D,$p=te,eh=zo,Gc=Yf,Cg=Ne,th=Ae,Ag=Fo,xx=Uc,Bp=Pd,Ud=Ip,Vo[0]=Op,Vo[1]=$c,Vo[2]=xi,Vo[3]=es,Vo[4]=Wf,Vo[5]=zc,Vo[6]=yo,Vo[7]=Eg,Vo[8]=kd,Vo[9]=Kf,Oa[0]=ka,Oa[1]=wr,Oa[2]=Bc,Oa[3]=Ua,Oa[4]=Mt,Oa[5]=qt,Oa[6]=Nn,Wa[0]=vl,Wa[1]=Ci,Wa[2]=Pp,Wa[3]=gl,Wa[4]=Mp,Wa[5]=Gf,Wa[6]=Rp,Le=1}else Le=0}Le&&(Le=(function(dr,Bi){for(dr.M=0;dr.M<dr.Va;++dr.M){var Yn,Yt=dr.Jc[dr.M&dr.Xb],Rt=dr.m,Yi=dr;for(Yn=0;Yn<Yi.za;++Yn){var Dn=Rt,lr=Yi,si=lr.Ac,Ts=lr.Bc+4*Yn,rs=lr.zc,ki=lr.ya[lr.aa+Yn];if(lr.Qa.Bb?ki.$b=we(Dn,lr.Pa.jb[0])?2+we(Dn,lr.Pa.jb[2]):we(Dn,lr.Pa.jb[1]):ki.$b=0,lr.kc&&(ki.Ad=we(Dn,lr.Bd)),ki.Za=!we(Dn,145)+0,ki.Za){var ys=ki.Ob,Os=0;for(lr=0;4>lr;++lr){var bi,gr=rs[0+lr];for(bi=0;4>bi;++bi){gr=Y_[si[Ts+bi]][gr];for(var Er=iw[we(Dn,gr[0])];0<Er;)Er=iw[2*Er+we(Dn,gr[Er])];gr=-Er,si[Ts+bi]=gr}r(ys,Os,si,Ts,4),Os+=4,rs[0+lr]=gr}}else gr=we(Dn,156)?we(Dn,128)?1:3:we(Dn,163)?2:0,ki.Ob[0]=gr,i(si,Ts,gr,4),i(rs,0,gr,4);ki.Dd=we(Dn,142)?we(Dn,114)?we(Dn,183)?1:3:2:0}if(Yi.m.Ka)return ci(dr,7,"Premature end-of-partition0 encountered.");for(;dr.ja<dr.za;++dr.ja){if(Yi=Yt,Dn=(Rt=dr).rb[Rt.sb-1],si=Rt.rb[Rt.sb+Rt.ja],Yn=Rt.ya[Rt.aa+Rt.ja],Ts=Rt.kc?Yn.Ad:0)Dn.la=si.la=0,Yn.Za||(Dn.Na=si.Na=0),Yn.Hc=0,Yn.Gc=0,Yn.ia=0;else{var wi,jr;if(Dn=si,si=Yi,Ts=Rt.Pa.Xc,rs=Rt.ya[Rt.aa+Rt.ja],ki=Rt.pb[rs.$b],lr=rs.ad,ys=0,Os=Rt.rb[Rt.sb-1],gr=bi=0,i(lr,ys,0,384),rs.Za)var zi=0,qi=Ts[3];else{Er=s(16);var Jr=Dn.Na+Os.Na;if(Jr=Kd(si,Ts[1],Jr,ki.Eb,0,Er,0),Dn.Na=Os.Na=(0<Jr)+0,1<Jr)Bu(Er,0,lr,ys);else{var da=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)lr[ys+Er]=da}zi=1,qi=Ts[0]}var Vr=15&Dn.la,Zr=15&Os.la;for(Er=0;4>Er;++Er){var is=1&Zr;for(da=jr=0;4>da;++da)Vr=Vr>>1|(is=(Jr=Kd(si,qi,Jr=is+(1&Vr),ki.Sc,zi,lr,ys))>zi)<<7,jr=jr<<2|(3<Jr?3:1<Jr?2:lr[ys+0]!=0),ys+=16;Vr>>=4,Zr=Zr>>1|is<<7,bi=(bi<<8|jr)>>>0}for(qi=Vr,zi=Zr>>4,wi=0;4>wi;wi+=2){for(jr=0,Vr=Dn.la>>4+wi,Zr=Os.la>>4+wi,Er=0;2>Er;++Er){for(is=1&Zr,da=0;2>da;++da)Jr=is+(1&Vr),Vr=Vr>>1|(is=0<(Jr=Kd(si,Ts[2],Jr,ki.Qc,0,lr,ys)))<<3,jr=jr<<2|(3<Jr?3:1<Jr?2:lr[ys+0]!=0),ys+=16;Vr>>=2,Zr=Zr>>1|is<<5}gr|=jr<<4*wi,qi|=Vr<<4<<wi,zi|=(240&Zr)<<wi}Dn.la=qi,Os.la=zi,rs.Hc=bi,rs.Gc=gr,rs.ia=43690&gr?0:ki.ia,Ts=!(bi|gr)}if(0<Rt.L&&(Rt.wa[Rt.Y+Rt.ja]=Rt.gd[Yn.$b][Yn.Za],Rt.wa[Rt.Y+Rt.ja].La|=!Ts),Yi.Ka)return ci(dr,7,"Premature end-of-file encountered.")}if(qa(dr),Rt=Bi,Yi=1,Yn=(Yt=dr).D,Dn=0<Yt.L&&Yt.M>=Yt.zb&&Yt.M<=Yt.Va,Yt.Aa==0)t:{if(Yn.M=Yt.M,Yn.uc=Dn,xo(Yt,Yn),Yi=1,Yn=(jr=Yt.D).Nb,Dn=(gr=Xd[Yt.L])*Yt.R,si=gr/2*Yt.B,Er=16*Yn*Yt.R,da=8*Yn*Yt.B,Ts=Yt.sa,rs=Yt.ta-Dn+Er,ki=Yt.qa,lr=Yt.ra-si+da,ys=Yt.Ha,Os=Yt.Ia-si+da,Zr=(Vr=jr.M)==0,bi=Vr>=Yt.Va-1,Yt.Aa==2&&xo(Yt,jr),jr.uc)for(is=(Jr=Yt).D.M,e(Jr.D.uc),jr=Jr.yb;jr<Jr.Hb;++jr){zi=jr,qi=is;var Ks=(Xa=(Ji=Jr).D).Nb;wi=Ji.R;var Xa=Xa.wa[Xa.Y+zi],Xi=Ji.sa,Qi=Ji.ta+16*Ks*wi+16*zi,fa=Xa.dd,ei=Xa.tc;if(ei!=0)if(e(3<=ei),Ji.L==1)0<zi&&xx(Xi,Qi,wi,ei+4),Xa.La&&Ud(Xi,Qi,wi,ei),0<qi&&Ag(Xi,Qi,wi,ei+4),Xa.La&&Bp(Xi,Qi,wi,ei);else{var ha=Ji.B,Wo=Ji.qa,Nl=Ji.ra+8*Ks*ha+8*zi,Ps=Ji.Ha,Ji=Ji.Ia+8*Ks*ha+8*zi;Ks=Xa.ld,0<zi&&(ns(Xi,Qi,wi,ei+4,fa,Ks),$p(Wo,Nl,Ps,Ji,ha,ei+4,fa,Ks)),Xa.La&&(Gc(Xi,Qi,wi,ei,fa,Ks),th(Wo,Nl,Ps,Ji,ha,ei,fa,Ks)),0<qi&&($i(Xi,Qi,wi,ei+4,fa,Ks),bl(Wo,Nl,Ps,Ji,ha,ei+4,fa,Ks)),Xa.La&&(eh(Xi,Qi,wi,ei,fa,Ks),Cg(Wo,Nl,Ps,Ji,ha,ei,fa,Ks))}}if(Yt.ia&&alert("todo:DitherRow"),Rt.put!=null){if(jr=16*Vr,Vr=16*(Vr+1),Zr?(Rt.y=Yt.sa,Rt.O=Yt.ta+Er,Rt.f=Yt.qa,Rt.N=Yt.ra+da,Rt.ea=Yt.Ha,Rt.W=Yt.Ia+da):(jr-=gr,Rt.y=Ts,Rt.O=rs,Rt.f=ki,Rt.N=lr,Rt.ea=ys,Rt.W=Os),bi||(Vr-=gr),Vr>Rt.o&&(Vr=Rt.o),Rt.F=null,Rt.J=null,Yt.Fa!=null&&0<Yt.Fa.length&&jr<Vr&&(Rt.J=ts(Yt,Rt,jr,Vr-jr),Rt.F=Yt.mb,Rt.F==null&&Rt.F.length==0)){Yi=ci(Yt,3,"Could not decode alpha data.");break t}jr<Rt.j&&(gr=Rt.j-jr,jr=Rt.j,e(!(1&gr)),Rt.O+=Yt.R*gr,Rt.N+=Yt.B*(gr>>1),Rt.W+=Yt.B*(gr>>1),Rt.F!=null&&(Rt.J+=Rt.width*gr)),jr<Vr&&(Rt.O+=Rt.v,Rt.N+=Rt.v>>1,Rt.W+=Rt.v>>1,Rt.F!=null&&(Rt.J+=Rt.v),Rt.ka=jr-Rt.j,Rt.U=Rt.va-Rt.v,Rt.T=Vr-jr,Yi=Rt.put(Rt))}Yn+1!=Yt.Ic||bi||(r(Yt.sa,Yt.ta-Dn,Ts,rs+16*Yt.R,Dn),r(Yt.qa,Yt.ra-si,ki,lr+8*Yt.B,si),r(Yt.Ha,Yt.Ia-si,ys,Os+8*Yt.B,si))}if(!Yi)return ci(dr,6,"Output aborted.")}return 1})(be,Me)),Me.bc!=null&&Me.bc(Me),Le&=1}return Le?(be.cb=0,Le):0})(j,K)||(T=j.a)}}else T=j.a}T==0&&le.Oa!=null&&le.Oa.fd&&(T=Qf(le.ba))}le=T}oe=le!=0?null:11>oe?ue.f.RGBA.eb:ue.f.kb.y}else oe=null;return oe};var Yp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,F){for(var R="",$=0;$<4;$++)R+=String.fromCharCode(P[F++]);return R}function d(P,F){return P[F+0]|P[F+1]<<8}function f(P,F){return(P[F+0]|P[F+1]<<8|P[F+2]<<16)>>>0}function m(P,F){return(P[F+0]|P[F+1]<<8|P[F+2]<<16|P[F+3]<<24)>>>0}new c;var h=[0],y=[0],v=[],x=new c,b=t,S=(function(P,F){var R={},$=0,q=!1,z=0,G=0;if(R.frames=[],!(function(I,V){for(var J=0;J<4;J++)if(I[V+J]!="RIFF".charCodeAt(J))return!0;return!1})(P,F)){for(m(P,F+=4),F+=8;F<P.length;){var X=u(P,F),U=m(P,F+=4);F+=4;var W=U+(1&U);switch(X){case"VP8 ":case"VP8L":R.frames[$]===void 0&&(R.frames[$]={}),(Q=R.frames[$]).src_off=q?G:F-8,Q.src_size=z+U+8,$++,q&&(q=!1,z=0,G=0);break;case"VP8X":(Q=R.header={}).feature_flags=P[F];var Y=F+4;Q.canvas_width=1+f(P,Y),Y+=3,Q.canvas_height=1+f(P,Y),Y+=3;break;case"ALPH":q=!0,z=W+8,G=F-8;break;case"ANIM":(Q=R.header).bgcolor=m(P,F),Y=F+4,Q.loop_count=d(P,Y),Y+=2;break;case"ANMF":var ie,Q;(Q=R.frames[$]={}).offset_x=2*f(P,F),F+=3,Q.offset_y=2*f(P,F),F+=3,Q.width=1+f(P,F),F+=3,Q.height=1+f(P,F),F+=3,Q.duration=f(P,F),F+=3,ie=P[F++],Q.dispose=1&ie,Q.blend=ie>>1&1}X!="ANMF"&&(F+=W)}return R}})(b,0);S.response=b,S.rgbaoutput=!0,S.dataurl=!1;var E=S.header?S.header:null,_=S.frames?S.frames:null;if(E){E.loop_counter=E.loop_count,h=[E.canvas_height],y=[E.canvas_width];for(var C=0;C<_.length&&_[C].blend!=0;C++);}var O=_[0],M=x.WebPDecodeRGBA(b,O.src_off,O.src_size,y,h);O.rgba=M,O.imgwidth=y[0],O.imgheight=h[0];for(var A=0;A<y[0]*h[0]*4;A++)v[A]=M[A];return this.width=y,this.height=h,this.data=v,this}(function(t){var e,n,r,i,s,o,l,c,u,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=I;Object.defineProperty(this,"pdf",{get:function(){return V}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ee){J=!!ee}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(ee){re=!!ee}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(ee){isNaN(ee)||(fe=ee)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(ee){isNaN(ee)||(pe=ee)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ee){var ne;typeof ee=="number"?ne=[ee,ee,ee,ee]:((ne=new Array(4))[0]=ee[0],ne[1]=ee.length>=2?ee[1]:ne[0],ne[2]=ee.length>=3?ee[2]:ne[0],ne[3]=ee.length>=4?ee[3]:ne[1]),u.margin=ne}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(ee){xe=ee}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ee){de=ee}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(ee){we=ee}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ee){ee instanceof d&&(u=ee)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ee){u.path=ee}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(ee){Ce=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var ne;ne=m(ee),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var ne=m(ee);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var ae=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(ee){ae=null,Pe=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var ne;if(this.ctx.font=ee,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ee))!==null){var Re=ne[1];ne[2];var ft=ne[3],et=ne[4];ne[5];var Ke=ne[6],me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(me==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var Se=(function(Kt){var At,On,An=[],zt=Kt.trim();if(zt==="")return zO;if(zt in uV)return[uV[zt]];for(;zt!=="";){switch(On=null,At=(zt=fV(zt)).charAt(0)){case'"':case"'":On=v7e(zt.substring(1),At);break;default:On=y7e(zt)}if(On===null||(An.push(On[0]),(zt=fV(On[1]))!==""&&zt.charAt(0)!==","))return zO;zt=zt.replace(/^,/,"")}return An})(Ke);if(this.fontFaces){var ke=(function(Kt,At){if(ae===null){var On=(function(An){var zt=[];return Object.keys(An).forEach(function(yn){An[yn].forEach(function(ir){var on=null;switch(ir){case"bold":on={family:yn,weight:"bold"};break;case"italic":on={family:yn,style:"italic"};break;case"bolditalic":on={family:yn,weight:"bold",style:"italic"};break;case"":case"normal":on={family:yn}}on!==null&&(on.ref={name:yn,style:ir},zt.push(on))})}),zt})(Kt.getFontList());ae=(function(An){for(var zt={},yn=0;yn<An.length;++yn){var ir=BO(An[yn]),on=ir.family,Pn=ir.stretch,wn=ir.style,kr=ir.weight;zt[on]=zt[on]||{},zt[on][Pn]=zt[on][Pn]||{},zt[on][Pn][wn]=zt[on][Pn][wn]||{},zt[on][Pn][wn][kr]=ir}return zt})(On.concat(At))}return ae})(this.pdf,this.fontFaces),Ge=Se.map(function(Kt){return{family:Kt,stretch:"normal",weight:ft,style:Re}}),Ye=(function(Kt,At,On){for(var An=(On=On||{}).defaultFontFamily||"times",zt=Object.assign({},g7e,On.genericFontFamilies||{}),yn=null,ir=null,on=0;on<At.length;++on)if(zt[(yn=BO(At[on])).family]&&(yn.family=zt[yn.family]),Kt.hasOwnProperty(yn.family)){ir=Kt[yn.family];break}if(!(ir=ir||Kt[An]))throw new Error("Could not find a font-family for the rule '"+dV(yn)+"' and default family '"+An+"'.");if(ir=(function(Pn,wn){if(wn[Pn])return wn[Pn];var kr=a4[Pn],Tr=kr<=a4.normal?-1:1,mn=cV(wn,Gse,kr,Tr);if(!mn)throw new Error("Could not find a matching font-stretch value for "+Pn);return mn})(yn.stretch,ir),ir=(function(Pn,wn){if(wn[Pn])return wn[Pn];for(var kr=Kse[Pn],Tr=0;Tr<kr.length;++Tr)if(wn[kr[Tr]])return wn[kr[Tr]];throw new Error("Could not find a matching font-style for "+Pn)})(yn.style,ir),!(ir=(function(Pn,wn){if(wn[Pn])return wn[Pn];if(Pn===400&&wn[500])return wn[500];if(Pn===500&&wn[400])return wn[400];var kr=m7e[Pn],Tr=cV(wn,Yse,kr,Pn<400?-1:1);if(!Tr)throw new Error("Could not find a matching font-weight for value "+Pn);return Tr})(yn.weight,ir)))throw new Error("Failed to resolve a font for the rule '"+dV(yn)+"'.");return ir})(ke,Ge);this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var We="";(ft==="bold"||parseInt(ft,10)>=700||Re==="bold")&&(We="bold"),Re==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var nt="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Se.length;wt++){if(this.pdf.internal.getFont(Se[wt],We,{noFallback:!0,disableWarning:!0})!==void 0){nt=Se[wt];break}if(We==="bolditalic"&&this.pdf.internal.getFont(Se[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Se[wt],We="bold";else if(this.pdf.internal.getFont(Se[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Se[wt],We="normal";break}}if(nt===""){for(var Ot=0;Ot<Se.length;Ot++)if(_t[Se[Ot]]){nt=_t[Se[Ot]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,V){if(isNaN(I)||isNaN(V))throw di.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(I,V));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(I,V)},f.prototype.closePath=function(){var I=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&ri(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){I=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},f.prototype.lineTo=function(I,V){if(isNaN(I)||isNaN(V))throw di.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(I,V));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,V,J,re){if(isNaN(J)||isNaN(re)||isNaN(I)||isNaN(V))throw di.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new o(J,re)),pe=this.ctx.transform.applyToPoint(new o(I,V));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},f.prototype.bezierCurveTo=function(I,V,J,re,fe,pe){if(isNaN(fe)||isNaN(pe)||isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re))throw di.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(fe,pe)),de=this.ctx.transform.applyToPoint(new o(I,V)),we=this.ctx.transform.applyToPoint(new o(J,re));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:we.x,y2:we.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},f.prototype.arc=function(I,V,J,re,fe,pe){if(isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re)||isNaN(fe))throw di.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(I,V));I=xe.x,V=xe.y;var de=this.ctx.transform.applyToPoint(new o(0,J)),we=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(de.x-we.x,2)+Math.pow(de.y-we.y,2))}Math.abs(fe-re)>=2*Math.PI&&(re=0,fe=2*Math.PI),this.path.push({type:"arc",x:I,y:V,radius:J,startAngle:re,endAngle:fe,counterclockwise:pe})},f.prototype.arcTo=function(I,V,J,re,fe){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,V,J,re){if(isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re))throw di.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,V),this.lineTo(I+J,V),this.lineTo(I+J,V+re),this.lineTo(I,V+re),this.lineTo(I,V),this.lineTo(I+J,V),this.lineTo(I,V)},f.prototype.fillRect=function(I,V,J,re){if(isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re))throw di.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,V,J,re),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},f.prototype.strokeRect=function(I,V,J,re){if(isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re))throw di.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,V,J,re),this.stroke())},f.prototype.clearRect=function(I,V,J,re){if(isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re))throw di.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,V,J,re))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(V),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var V,J,re,fe;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))V=0,J=0,re=0,fe=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(pe!==null)V=parseInt(pe[1]),J=parseInt(pe[2]),re=parseInt(pe[3]),fe=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)V=parseInt(pe[1]),J=parseInt(pe[2]),re=parseInt(pe[3]),fe=parseFloat(pe[4]);else{if(fe=1,typeof I=="string"&&I.charAt(0)!=="#"){var xe=new Bse(I);I=xe.ok?xe.toHex():"#000000"}I.length===4?(V=I.substring(1,2),V+=V,J=I.substring(2,3),J+=J,re=I.substring(3,4),re+=re):(V=I.substring(1,3),J=I.substring(3,5),re=I.substring(5,7)),V=parseInt(V,16),J=parseInt(J,16),re=parseInt(re,16)}}return{r:V,g:J,b:re,a:fe,style:I}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,V,J,re){if(isNaN(V)||isNaN(J)||typeof I!="string")throw di.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var fe=W(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;$.call(this,{text:I,x:V,y:J,scale:pe,angle:fe,align:this.textAlign,maxWidth:re})}},f.prototype.strokeText=function(I,V,J,re){if(isNaN(V)||isNaN(J)||typeof I!="string")throw di.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){re=isNaN(re)?void 0:re;var fe=W(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;$.call(this,{text:I,x:V,y:J,scale:pe,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:re})}},f.prototype.measureText=function(I){if(typeof I!="string")throw di.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,J=this.pdf.internal.scaleFactor,re=V.internal.getFontSize(),fe=V.getStringUnitWidth(I)*re/V.internal.scaleFactor;return new function(pe){var xe=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:fe*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function(I,V){if(isNaN(I)||isNaN(V))throw di.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(I,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function(I){if(isNaN(I))throw di.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(I,V){if(isNaN(I)||isNaN(V))throw di.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,I,V);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function(I,V,J,re,fe,pe){if(isNaN(I)||isNaN(V)||isNaN(J)||isNaN(re)||isNaN(fe)||isNaN(pe))throw di.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new c(I,V,J,re,fe,pe);this.ctx.transform=this.ctx.transform.multiply(xe)},f.prototype.setTransform=function(I,V,J,re,fe,pe){I=isNaN(I)?1:I,V=isNaN(V)?0:V,J=isNaN(J)?0:J,re=isNaN(re)?1:re,fe=isNaN(fe)?0:fe,pe=isNaN(pe)?0:pe,this.ctx.transform=new c(I,V,J,re,fe,pe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,V,J,re,fe,pe,xe,de,we){var Ce=this.pdf.getImageProperties(I),ae=1,Pe=1,ee=1,ne=1;re!==void 0&&de!==void 0&&(ee=de/re,ne=we/fe,ae=Ce.width/re*de/re,Pe=Ce.height/fe*we/fe),pe===void 0&&(pe=V,xe=J,V=0,J=0),re!==void 0&&de===void 0&&(de=re,we=fe),re===void 0&&de===void 0&&(de=Ce.width,we=Ce.height);for(var Re,ft=this.ctx.transform.decompose(),et=W(ft.rotate.shx),Ke=new c,me=(Ke=(Ke=(Ke=Ke.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new l(pe-V*ee,xe-J*ne,re*ae,fe*Pe)),Se=x.call(this,me),ke=[],Ge=0;Ge<Se.length;Ge+=1)ke.indexOf(Se[Ge])===-1&&ke.push(Se[Ge]);if(E(ke),this.autoPaging)for(var Ye=ke[0],We=ke[ke.length-1],nt=Ye;nt<We+1;nt++){this.pdf.setPage(nt);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=nt===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=nt===1?0:Ot+(nt-2)*Kt;if(this.ctx.clip_path.length!==0){var On=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Re,this.posX+this.margin[3],-At+wt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=On}var An=JSON.parse(JSON.stringify(me));An=S([An],this.posX+this.margin[3],-At+wt+this.ctx.prevPageLastElemOffset)[0];var zt=(nt>Ye||nt<We)&&v.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Kt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",An.x,An.y,An.w,An.h,null,null,et),zt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",me.x,me.y,me.w,me.h,null,null,et)};var x=function(I,V,J){var re=[];V=V||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":re.push(Math.floor((I.y+fe)/J)+1);break;case"arc":re.push(Math.floor((I.y+fe-I.radius)/J)+1),re.push(Math.floor((I.y+fe+I.radius)/J)+1);break;case"qct":var pe=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);re.push(Math.floor((pe.y+fe)/J)+1),re.push(Math.floor((pe.y+pe.h+fe)/J)+1);break;case"bct":var xe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);re.push(Math.floor((xe.y+fe)/J)+1),re.push(Math.floor((xe.y+xe.h+fe)/J)+1);break;case"rect":re.push(Math.floor((I.y+fe)/J)+1),re.push(Math.floor((I.y+I.h+fe)/J)+1)}for(var de=0;de<re.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<re[de];)b.call(this);return re},b=function(){var I=this.fillStyle,V=this.strokeStyle,J=this.font,re=this.lineCap,fe=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=V,this.font=J,this.lineCap=re,this.lineWidth=fe,this.lineJoin=pe},S=function(I,V,J){for(var re=0;re<I.length;re++)switch(I[re].type){case"bct":I[re].x2+=V,I[re].y2+=J;case"qct":I[re].x1+=V,I[re].y1+=J;default:I[re].x+=V,I[re].y+=J}return I},E=function(I){return I.sort(function(V,J){return V-J})},_=function(I,V){for(var J,re,fe=this.fillStyle,pe=this.strokeStyle,xe=this.lineCap,de=this.lineWidth,we=Math.abs(de*this.ctx.transform.scaleX),Ce=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),ee=[],ne=0;ne<Pe.length;ne++)if(Pe[ne].x!==void 0)for(var Re=x.call(this,Pe[ne]),ft=0;ft<Re.length;ft+=1)ee.indexOf(Re[ft])===-1&&ee.push(Re[ft]);for(var et=0;et<ee.length;et++)for(;this.pdf.internal.getNumberOfPages()<ee[et];)b.call(this);if(E(ee),this.autoPaging)for(var Ke=ee[0],me=ee[ee.length-1],Se=Ke;Se<me+1;Se++){this.pdf.setPage(Se),this.fillStyle=fe,this.strokeStyle=pe,this.lineCap=xe,this.lineWidth=we,this.lineJoin=Ce;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Se===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Se===1?0:Ye+(Se-2)*We;if(this.ctx.clip_path.length!==0){var _t=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(J,this.posX+this.margin[3],-nt+Ge+this.ctx.prevPageLastElemOffset),C.call(this,I,!0),this.path=_t}if(re=JSON.parse(JSON.stringify(ae)),this.path=S(re,this.posX+this.margin[3],-nt+Ge+this.ctx.prevPageLastElemOffset),V===!1||Se===0){var wt=(Se>Ke||Se<me)&&v.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,We,null).clip().discardPath()),C.call(this,I,V),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=we,C.call(this,I,V),this.lineWidth=de;this.path=ae},C=function(I,V){if((I!=="stroke"||V||!y.call(this))&&(I==="stroke"||V||!h.call(this))){for(var J,re,fe=[],pe=this.path,xe=0;xe<pe.length;xe++){var de=pe[xe];switch(de.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:de,deltas:[],abs:[]});break;case"lt":var we=fe.length;if(pe[xe-1]&&!isNaN(pe[xe-1].x)&&(J=[de.x-pe[xe-1].x,de.y-pe[xe-1].y],we>0)){for(;we>=0;we--)if(fe[we-1].close!==!0&&fe[we-1].begin!==!0){fe[we-1].deltas.push(J),fe[we-1].abs.push(de);break}}break;case"bct":J=[de.x1-pe[xe-1].x,de.y1-pe[xe-1].y,de.x2-pe[xe-1].x,de.y2-pe[xe-1].y,de.x-pe[xe-1].x,de.y-pe[xe-1].y],fe[fe.length-1].deltas.push(J);break;case"qct":var Ce=pe[xe-1].x+2/3*(de.x1-pe[xe-1].x),ae=pe[xe-1].y+2/3*(de.y1-pe[xe-1].y),Pe=de.x+2/3*(de.x1-de.x),ee=de.y+2/3*(de.y1-de.y),ne=de.x,Re=de.y;J=[Ce-pe[xe-1].x,ae-pe[xe-1].y,Pe-pe[xe-1].x,ee-pe[xe-1].y,ne-pe[xe-1].x,Re-pe[xe-1].y],fe[fe.length-1].deltas.push(J);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(de)}}re=V?null:I==="stroke"?"stroke":"fill";for(var ft=!1,et=0;et<fe.length;et++)if(fe[et].arc)for(var Ke=fe[et].abs,me=0;me<Ke.length;me++){var Se=Ke[me];Se.type==="arc"?A.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,V,!ft):q.call(this,Se.x,Se.y),ft=!0}else if(fe[et].close===!0)this.pdf.internal.out("h"),ft=!1;else if(fe[et].begin!==!0){var ke=fe[et].start.x,Ge=fe[et].start.y;z.call(this,fe[et].deltas,ke,Ge),ft=!0}re&&P.call(this,re),V&&F.call(this)}},O=function(I){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-J;case"top":return I+V-J;case"hanging":return I+V-2*J;case"middle":return I+V/2-J;default:return I}},M=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(V,J){this.colorStops.push([V,J])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(I,V,J,re,fe,pe,xe,de,we){for(var Ce=X.call(this,J,re,fe,pe),ae=0;ae<Ce.length;ae++){var Pe=Ce[ae];ae===0&&(we?R.call(this,Pe.x1+I,Pe.y1+V):q.call(this,Pe.x1+I,Pe.y1+V)),G.call(this,I,V,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}de?F.call(this):P.call(this,xe)},P=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(I,V){this.pdf.internal.out(n(I)+" "+r(V)+" m")},$=function(I){var V;switch(I.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var J=this.pdf.getTextDimensions(I.text),re=O.call(this,I.y),fe=M.call(this,re)-J.h,pe=this.ctx.transform.applyToPoint(new o(I.x,re)),xe=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var we,Ce,ae,Pe=this.ctx.transform.applyToRectangle(new l(I.x,re,J.w,J.h)),ee=de.applyToRectangle(new l(I.x,fe,J.w,J.h)),ne=x.call(this,ee),Re=[],ft=0;ft<ne.length;ft+=1)Re.indexOf(ne[ft])===-1&&Re.push(ne[ft]);if(E(Re),this.autoPaging)for(var et=Re[0],Ke=Re[Re.length-1],me=et;me<Ke+1;me++){this.pdf.setPage(me);var Se=me===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],Ye=Ge-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],nt=We-this.margin[3],_t=me===1?0:ke+(me-2)*Ye;if(this.ctx.clip_path.length!==0){var wt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(we,this.posX+this.margin[3],-1*_t+Se),C.call(this,"fill",!0),this.path=wt}var Ot=S([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-_t+Se+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale);var Kt=this.autoPaging!=="text";if(Kt||Ot.y+Ot.h<=Ge){if(Kt||Ot.y>=Se&&Ot.x<=We){var At=Kt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||We-Ot.x)[0],On=S([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-_t+Se+this.ctx.prevPageLastElemOffset)[0],An=Kt&&(me>et||me<Ke)&&v.call(this);An&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Ye,null).clip().discardPath()),this.pdf.text(At,On.x,On.y,{angle:I.angle,align:V,renderingMode:I.renderingMode}),An&&this.pdf.restoreGraphicsState()}}else Ot.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-Ot.y);I.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ae)}else I.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale),this.pdf.text(I.text,pe.x+this.posX,pe.y+this.posY,{angle:I.angle,align:V,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ae)},q=function(I,V,J,re){J=J||0,re=re||0,this.pdf.internal.out(n(I+J)+" "+r(V+re)+" l")},z=function(I,V,J){return this.pdf.lines(I,V,J,null,null)},G=function(I,V,J,re,fe,pe,xe,de){this.pdf.internal.out([e(i(J+I)),e(s(re+V)),e(i(fe+I)),e(s(pe+V)),e(i(xe+I)),e(s(de+V)),"c"].join(" "))},X=function(I,V,J,re){for(var fe=2*Math.PI,pe=Math.PI/2;V>J;)V-=fe;var xe=Math.abs(J-V);xe<fe&&re&&(xe=fe-xe);for(var de=[],we=re?-1:1,Ce=V;xe>1e-5;){var ae=Ce+we*Math.min(xe,pe);de.push(U.call(this,I,Ce,ae)),xe-=Math.abs(ae-Ce),Ce=ae}return de},U=function(I,V,J){var re=(J-V)/2,fe=I*Math.cos(re),pe=I*Math.sin(re),xe=fe,de=-pe,we=xe*xe+de*de,Ce=we+xe*fe+de*pe,ae=4/3*(Math.sqrt(2*we*Ce)-Ce)/(xe*pe-de*fe),Pe=xe-ae*de,ee=de+ae*xe,ne=Pe,Re=-ee,ft=re+V,et=Math.cos(ft),Ke=Math.sin(ft);return{x1:I*Math.cos(V),y1:I*Math.sin(V),x2:Pe*et-ee*Ke,y2:Pe*Ke+ee*et,x3:ne*et-Re*Ke,y3:ne*Ke+Re*et,x4:I*Math.cos(J),y4:I*Math.sin(J)}},W=function(I){return 180*I/Math.PI},Y=function(I,V,J,re,fe,pe){var xe=I+.5*(J-I),de=V+.5*(re-V),we=fe+.5*(J-fe),Ce=pe+.5*(re-pe),ae=Math.min(I,fe,xe,we),Pe=Math.max(I,fe,xe,we),ee=Math.min(V,pe,de,Ce),ne=Math.max(V,pe,de,Ce);return new l(ae,ee,Pe-ae,ne-ee)},ie=function(I,V,J,re,fe,pe,xe,de){var we,Ce,ae,Pe,ee,ne,Re,ft,et,Ke,me,Se,ke,Ge,Ye=J-I,We=re-V,nt=fe-J,_t=pe-re,wt=xe-fe,Ot=de-pe;for(Ce=0;Ce<41;Ce++)et=(Re=(ae=I+(we=Ce/40)*Ye)+we*((ee=J+we*nt)-ae))+we*(ee+we*(fe+we*wt-ee)-Re),Ke=(ft=(Pe=V+we*We)+we*((ne=re+we*_t)-Pe))+we*(ne+we*(pe+we*Ot-ne)-ft),Ce==0?(me=et,Se=Ke,ke=et,Ge=Ke):(me=Math.min(me,et),Se=Math.min(Se,Ke),ke=Math.max(ke,et),Ge=Math.max(Ge,Ke));return new l(Math.round(me),Math.round(Se),Math.round(ke-me),Math.round(Ge-Se))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,V,J=(I=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:V}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(pn.API),(function(t){var e=function(o){var l,c,u,d,f,m,h,y,v,x;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(x=f%85))/85)-(v=f%85))/85)-(y=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,y+33,v+33,x+33)):c.push(122);return(function(b,S){for(var E=S;E>0;E--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,u,d,f,m=String,h="length",y=255,v="charCodeAt",x="slice",b="replace";for(o[x](-2),o=o[x](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[x](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[v](d)-33)+614125*(o[v](d+1)-33)+7225*(o[v](d+2)-33)+85*(o[v](d+3)-33)+(o[v](d+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(S,E){for(var _=E;_>0;_--)S.pop()})(u,l[h]),m.fromCharCode.apply(m,u)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=ZR(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(pn.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(y){var v=y.length,x=[],b=String.fromCharCode;for(m=0;m<v;m+=1)x.push(b(255&y.charCodeAt(m)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(i,s,o)}catch{}return l})(e,n,r)},t.loadImageFile=t.loadFile})(pn.API),(function(t){function e(){return(Un.html2canvas?Promise.resolve(Un.html2canvas):NO(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(Un.DOMPurify?Promise.resolve(Un.DOMPurify):NO(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=ri(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var y=d[h],v=y.src.find(function(x){return x.format==="truetype"});v&&u.addFont(v.url,y.ref.name,y.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||pn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,pn.getPageSize=function(l,c,u){if(ri(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var y,v=0,x=0;if(h.hasOwnProperty(m))v=h[m][1]/f,x=h[m][0]/f;else try{v=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",x>v&&(y=x,x=v,v=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>x&&(y=x,x=v,v=y)}return{width:x,height:v,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(BO):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(pn.API),pn.API.addJS=function(t){return pV=t,this.internal.events.subscribe("postPutResources",function(){y2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(y2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hV=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pV+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){y2!==void 0&&hV!==void 0&&this.internal.out("/Names <</JavaScript "+y2+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=n.internal.newObject();d.push(f);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(pn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,v={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){m=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),v={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:m,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return v})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}})(pn.API),pn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=t7e(t,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,d=s.depth;i=u&&c===1?(function(A){for(var P=A.width,F=A.height,R=A.data,$=A.palette,q=A.depth,z=!1,G=[],X=[],U=void 0,W=!1,Y=0,ie=0;ie<$.length;ie++){var Q=yH($[ie],4),I=Q[0],V=Q[1],J=Q[2],re=Q[3];G.push(I,V,J),re!=null&&(re===0?(Y++,X.length<1&&X.push(ie)):re<255&&(W=!0))}if(W||Y>1){z=!0,X=void 0;var fe=P*F;U=new Uint8Array(fe);for(var pe=new DataView(R.buffer),xe=0;xe<fe;xe++){var de=qO(pe,xe,q),we=yH($[de],4)[3];U[xe]=we}}else Y===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:R,alphaBytes:U,needSMask:z,palette:G,mask:X}})(s):c===2||c===4?(function(A){for(var P=A.data,F=A.width,R=A.height,$=A.channels,q=A.depth,z=$===2?"DeviceGray":"DeviceRGB",G=$-1,X=F*R,U=G,W=X*U,Y=1*X,ie=Math.ceil(W*q/8),Q=Math.ceil(Y*q/8),I=new Uint8Array(ie),V=new Uint8Array(Q),J=new DataView(P.buffer),re=new DataView(I.buffer),fe=new DataView(V.buffer),pe=!1,xe=0;xe<X;xe++){for(var de=xe*$,we=0;we<U;we++)SV(re,qO(J,de+we,q),xe*U+we,q);var Ce=qO(J,de+U,q);Ce<(1<<q)-1&&(pe=!0),SV(fe,Ce,1*xe,q)}return{colorSpace:z,colorsPerPixel:G,sMaskBitsPerComponent:pe?q:void 0,colorBytes:I,alphaBytes:V,needSMask:pe}})(s):(function(A){var P=A.data,F=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(R){for(var $=R.length,q=new Uint8Array(2*$),z=new DataView(q.buffer,q.byteOffset,q.byteLength),G=0;G<$;G++)z.setUint16(2*G,R[G],!1);return q})(P):P,needSMask:!1}})(s);var f,m,h,y=i,v=y.colorSpace,x=y.colorsPerPixel,b=y.sMaskBitsPerComponent,S=y.colorBytes,E=y.alphaBytes,_=y.needSMask,C=y.palette,O=y.mask,M=null;return r!==pn.API.image_compression.NONE&&typeof ZR=="function"?(M=(function(A){var P;switch(A){case pn.API.image_compression.FAST:P=11;break;case pn.API.image_compression.MEDIUM:P=13;break;case pn.API.image_compression.SLOW:P=14;break;default:P=12}return P})(r),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(M," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(o),t=yV(S,Math.ceil(o*x*d/8),x,d,r),_&&(h=yV(E,Math.ceil(o*b/8),1,b,r))):(f=void 0,m=void 0,t=S,_&&(h=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:m,transparency:O,palette:C,sMask:h,predictor:M,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:v}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new N7e(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new UO(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A})(pn.API),su.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},su.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){di.log("bit decode error:"+n)}},su.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},su.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},su.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},su.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},su.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},su.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},su.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},su.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new su(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new UO(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(pn.API),jV.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new jV(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new UO(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(pn.API),pn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=r[u],f=r[u+1],m=r[u+2],h=r[u+3];s[l++]=d,s[l++]=f,s[l++]=m,o[c++]=h}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},pn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ov=pn.API,x2=ov.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,h=t.length,y=0,v=l[0]||c,x=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=f&&ri(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/d:0,x.push((l[r]||v)/c+m)),y=r;return x},mV=ov.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ov.processArabic&&(t=ov.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:x2.apply(this,arguments).reduce(function(s,o){return s+o},0)},gV=function(t,e,n,r){for(var i=[],s=0,o=t.length,l=0;s!==o&&l+e[s]<n;)l+=e[s],s++;i.push(t.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>r&&(i.push(t.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},vV=function(t,e,n){n||(n={});var r,i,s,o,l,c,u,d=[],f=[d],m=n.textIndent||0,h=0,y=0,v=t.split(" "),x=x2.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var b=Array(c).join(" "),S=[];v.map(function(_){(_=_.split(/\s*\n/)).length>1?S=S.concat(_.map(function(C,O){return(O&&C.length?`
`:"")+C})):S.push(_[0])}),v=S,c=mV.apply(this,[b,n])}for(s=0,o=v.length;s<o;s++){var E=0;if(r=v[s],c&&r[0]==`
`&&(r=r.substr(1),E=1),m+h+(y=(i=x2.apply(this,[r,n])).reduce(function(_,C){return _+C},0))>e||E){if(y>e){for(l=gV.apply(this,[r,i,e-(m+h),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(_,C){return _+C},0)}else d=[r];f.push(d),m=y+c,h=x}else d.push(r),m+=h+y,h=x}return u=c?function(_,C){return(C?b:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},ov.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(vV.apply(this,[r[l],o,s]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var h,y,v,x,b=["{"];for(var S in m){if(h=m[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=o(S).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof h=="number")h<0?(v=o(h).slice(3),x="-"):(v=o(h).slice(2),x=""),v=x+v.slice(0,-1)+i[v.slice(-1)];else{if(ri(h)!=="object")throw new Error("Don't know what to do with value type "+ri(h)+".");v=l(h)}b.push(y+v)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,y,v,x,b={},S=1,E=b,_=[],C="",O="",M=m.length-1,A=1;A<M;A+=1)(x=m[A])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(_.push([E,v]),E={},v=void 0):x=="}"?((y=_.pop())[0][y[1]]=E,v=void 0,E=y[0]):x=="-"?S=-1:v===void 0?r.hasOwnProperty(x)?(C+=r[x],v=parseInt(C,16)*S,S=1,C=""):C+=x:r.hasOwnProperty(x)?(O+=r[x],E[v]=parseInt(O,16)*S,S=1,v=void 0,O=""):O+=x;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var h=m.font,y=f.Unicode[h.postScriptName];y&&(h.metadata.Unicode={},h.metadata.Unicode.widths=y.widths,h.metadata.Unicode.kerning=y.kerning);var v=d.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])})(pn.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(rN(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(pn),pn.API.addSvgAsImage=function(t,e,n,r,i,s,o,l){if(isNaN(e)||isNaN(n))throw di.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw di.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Un.canvg?Promise.resolve(Un.canvg):NO(()=>import("./index.es-Ckh_R-YA.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,o,l)})},pn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},pn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(y,v){var x,b=!1;for(x=0;x<y.length;x+=1)y[x]===v&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if(ri(t)==="object"){for(i in t)if(s=t[i],m(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?v.push("/"+y+" /"+n[y].value):v.push("/"+y+" "+n[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(pn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(s){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(s).sort(function(h,y){return h-y})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",y=0;y<m.length;y++)h+=String.fromCharCode(m[y]);var v=u();d({data:h,addLength1:!0,objectId:v}),c("endobj");var x=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+gv(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+gv(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+gv(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var y=u();d({data:m,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+gv(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+gv(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,h=f.activeFontKey,y=f.fonts,v=h,x="",b=0,S="",E=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(S=l,v=h,Array.isArray(l)&&(S=l[0]),b=0;b<S.length;b+=1)y[v].metadata.hasOwnProperty("cmap")&&(o=y[v].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),o||S[b].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?x+=S[b]:x+="";var _="";return parseInt(v.slice(1))<14||E==="WinAnsiEncoding"?_=m(x,v).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(_=n(x,y[v])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])})(pn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(pn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,l,c,u,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,E=0;this.__bidiEngine__={};var _=function(R){var $=R.charCodeAt(),q=$>>8,z=v[q];return z!==void 0?f[256*z+(255&$)]:q===252||q===253?"AL":b.test(q)?"L":q===8?"R":"N"},C=function(R){for(var $,q=0;q<R.length;q++){if(($=_(R.charAt(q)))==="L")return!1;if($==="R")return!0}return!1},O=function(R,$,q,z){var G,X,U,W,Y=$[z];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(Y="AN");break;case"AL":S=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":z<1||z+1>=$.length||(G=q[z-1])!=="EN"&&G!=="AN"||(X=$[z+1])!=="EN"&&X!=="AN"?Y="N":S&&(X="AN"),Y=X===G?X:"N";break;case"ES":Y=(G=z>0?q[z-1]:"B")==="EN"&&z+1<$.length&&$[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&q[z-1]==="EN"){Y="EN";break}if(S){Y="N";break}for(U=z+1,W=$.length;U<W&&$[U]==="ET";)U++;Y=U<W&&$[U]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(W=$.length,U=z+1;U<W&&$[U]==="NSM";)U++;if(U<W){var ie=R[z],Q=ie>=1425&&ie<=2303||ie===64286;if(G=$[U],Q&&(G==="R"||G==="AL")){Y="R";break}}}Y=z<1||(G=$[z-1])==="B"?"N":q[z-1];break;case"B":S=!1,i=!0,Y=E;break;case"S":s=!0,Y="N"}return Y},M=function(R,$,q){var z=R.split("");return q&&A(z,q,{hiLevel:E}),z.reverse(),$&&$.reverse(),z.join("")},A=function(R,$,q){var z,G,X,U,W,Y=-1,ie=R.length,Q=0,I=[],V=E?h:m,J=[];for(S=!1,i=!1,s=!1,G=0;G<ie;G++)J[G]=_(R[G]);for(X=0;X<ie;X++){if(W=Q,I[X]=O(R,J,I,X),z=240&(Q=V[W][y[I[X]]]),Q&=15,$[X]=U=V[Q][5],z>0)if(z===16){for(G=Y;G<X;G++)$[G]=1;Y=-1}else Y=-1;if(V[Q][6])Y===-1&&(Y=X);else if(Y>-1){for(G=Y;G<X;G++)$[G]=U;Y=-1}J[X]==="B"&&($[X]=0),q.hiLevel|=U}s&&(function(re,fe,pe){for(var xe=0;xe<pe;xe++)if(re[xe]==="S"){fe[xe]=E;for(var de=xe-1;de>=0&&re[de]==="WS";de--)fe[de]=E}})(J,$,ie)},P=function(R,$,q,z,G){if(!(G.hiLevel<R)){if(R===1&&E===1&&!i)return $.reverse(),void(q&&q.reverse());for(var X,U,W,Y,ie=$.length,Q=0;Q<ie;){if(z[Q]>=R){for(W=Q+1;W<ie&&z[W]>=R;)W++;for(Y=Q,U=W-1;Y<U;Y++,U--)X=$[Y],$[Y]=$[U],$[U]=X,q&&(X=q[Y],q[Y]=q[U],q[U]=X);Q=W}Q++}}},F=function(R,$,q){var z=R.split(""),G={hiLevel:E};return q||(q=[]),A(z,q,G),(function(X,U,W){if(W.hiLevel!==0&&d)for(var Y,ie=0;ie<X.length;ie++)U[ie]===1&&(Y=x.indexOf(X[ie]))>=0&&(X[ie]=x[Y+1])})(z,q,G),P(2,z,$,q,G),P(1,z,$,q,G),z.join("")};return this.__bidiEngine__.doBidiReorder=function(R,$,q){if((function(G,X){if(X)for(var U=0;U<G.length;U++)X[U]=U;l===void 0&&(l=C(G)),u===void 0&&(u=C(G))})(R,$),o||!c||u)if(o&&c&&l^u)E=l?1:0,R=M(R,$,q);else if(!o&&c&&u)E=l?1:0,R=F(R,$,q),R=M(R,$);else if(!o||l||c||u){if(o&&!c&&l^u)R=M(R,$),l?(E=0,R=F(R,$,q)):(E=1,R=F(R,$,q),R=M(R,$));else if(o&&l&&!c&&u)E=1,R=F(R,$,q),R=M(R,$);else if(!o&&!c&&l^u){var z=d;l?(E=1,R=F(R,$,q),E=0,d=!1,R=F(R,$,q),d=z):(E=0,R=F(R,$,q),R=M(R,$),E=1,d=!1,R=F(R,$,q),d=z,R=M(R,$))}}else E=0,R=F(R,$,q);else E=l?1:0,R=F(R,$,q);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,c=R.isOutputVisual,l=R.isInputRtl,u=R.isOutputRtl,d=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(pn),pn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new pp(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new L7e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new S7e(this.contents),this.head=new j7e(this),this.name=new T7e(this),this.cmap=new Qse(this),this.toUnicode={},this.hhea=new _7e(this),this.maxp=new O7e(this),this.hmtx=new P7e(this),this.post=new A7e(this),this.os2=new C7e(this),this.loca=new D7e(this),this.glyf=new M7e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var ku,pp=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),S7e=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,l,c,u,d,f,m,h,y,v;for(v in h=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(i=new pp).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(d),s=16*h,u=i.pos+s,l=null,y=[],n)for(m=n[v],i.writeString(v),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),y=y.concat(m),v==="head"&&(l=u),u+=m.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=Jse.call(n);n.length%4;)n.push(0);for(s=new pp(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),E7e={}.hasOwnProperty,_d=function(t,e){for(var n in e)E7e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ku=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var j7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new pp).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),_V=(function(){function t(e,n){var r,i,s,o,l,c,u,d,f,m,h,y,v,x,b,S,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),m=h/2,e.pos+=6,s=(function(){var _,C;for(C=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)C.push(e.readUInt16());return C})(),e.pos+=2,v=(function(){var _,C;for(C=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)C.push(e.readUInt16());return C})(),u=(function(){var _,C;for(C=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)C.push(e.readUInt16());return C})(),d=(function(){var _,C;for(C=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)C.push(e.readUInt16());return C})(),i=(this.length-e.pos+this.offset)/2,l=(function(){var _,C;for(C=[],c=_=0;0<=i?_<i:_>i;c=0<=i?++_:--_)C.push(e.readUInt16());return C})(),c=b=0,E=s.length;b<E;c=++b)for(x=s[c],r=S=y=v[c];y<=x?S<=x:S>=x;r=y<=x?++S:--S)d[c]===0?o=r+u[c]:(o=l[d[c]/2+(r-y)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,s,o,l,c,u,d,f,m,h,y,v,x,b,S,E,_,C,O,M,A,P,F,R,$,q,z,G,X,U,W,Y,ie,Q,I,V,J,re,fe,pe,xe,de,we,Ce,ae;switch(z=new pp,o=Object.keys(e).sort(function(Pe,ee){return Pe-ee}),n){case"macroman":for(v=0,x=(function(){var Pe=[];for(y=0;y<256;++y)Pe.push(0);return Pe})(),S={0:0},s={},G=0,Y=o.length;G<Y;G++)S[de=e[i=o[G]]]==null&&(S[de]=++v),s[i]={old:e[i],new:S[e[i]]},x[i]=S[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(x),{charMap:s,subtable:z.data,maxGlyphID:v+1};case"unicode":for($=[],f=[],E=0,S={},r={},b=u=null,X=0,ie=o.length;X<ie;X++)S[C=e[i=o[X]]]==null&&(S[C]=++E),r[i]={old:C,new:S[C]},l=S[C]-i,b!=null&&l===u||(b&&f.push(b),$.push(i),u=l),b=i;for(b&&f.push(b),f.push(65535),$.push(65535),F=2*(P=$.length),A=2*Math.pow(Math.log(P)/Math.LN2,2),m=Math.log(A/2)/Math.LN2,M=2*P-A,c=[],O=[],h=[],y=U=0,Q=$.length;U<Q;y=++U){if(R=$[y],d=f[y],R===65535){c.push(0),O.push(0);break}if(R-(q=r[R].new)>=32768)for(c.push(0),O.push(2*(h.length+P-y)),i=W=R;R<=d?W<=d:W>=d;i=R<=d?++W:--W)h.push(r[i].new);else c.push(q-R),O.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*P+2*h.length),z.writeUInt16(0),z.writeUInt16(F),z.writeUInt16(A),z.writeUInt16(m),z.writeUInt16(M),pe=0,I=f.length;pe<I;pe++)i=f[pe],z.writeUInt16(i);for(z.writeUInt16(0),xe=0,V=$.length;xe<V;xe++)i=$[xe],z.writeUInt16(i);for(we=0,J=c.length;we<J;we++)l=c[we],z.writeUInt16(l);for(Ce=0,re=O.length;Ce<re;Ce++)_=O[Ce],z.writeUInt16(_);for(ae=0,fe=h.length;ae<fe;ae++)v=h[ae],z.writeUInt16(v);return{charMap:r,subtable:z.data,maxGlyphID:E+1}}},t})(),Qse=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new _V(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=_V.encode(e,n),(i=new pp).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),_7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),C7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),A7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),k7e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},T7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,l,c,u,d,f,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=d=0,f=r.length;d<f;s=++d)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new k7e(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),O7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),P7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,l,c;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],m.push(s.advance);return m}).call(this),r=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),Jse=[].slice,M7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,l,c,u,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(l=new pp(n.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=o===-1?new I7e(l,u,f,c,d):new R7e(l,o,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=e[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t})(),R7e=(function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),I7e=(function(){function t(e,n,r,i,s){var o,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new pp(Jse.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),D7e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return _d(t,ku),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t})(),L7e=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,l,c,u,d,f,m,h,y,v,x,b;for(i in r=Qse.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},b=r.charMap)h[(c=b[i]).old]=c.new;for(y in m=r.maxGlyphID,o)y in h||(h[y]=m++);return d=(function(S){var E,_;for(E in _={},S)_[S[E]]=E;return _})(h),f=Object.keys(d).sort(function(S,E){return S-E}),v=(function(){var S,E,_;for(_=[],S=0,E=f.length;S<E;S++)l=f[S],_.push(d[l]);return _})(),s=this.font.glyf.encode(o,v,h),u=this.font.loca.encode(s.offsets,v),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t})();pn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+(function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e})();function F7e(){const t=Z4(),[,e]=ll(),{user:n}=dg(),{data:r,isLoading:i}=Wt({queryKey:["/api/manuals",t.id]}),{data:s=[]}=Wt({queryKey:["/api/manuals",t.id,"attachments"],enabled:!!t.id}),o=n?.roleName||n?.role,l=["Administrador","Gestor","ADMIN","GESTOR"].includes(String(o)),[c,u]=w.useState(!1),{toast:d}=Ir(),f=async()=>{if(!(!r||!window.confirm(`Eliminar el manual "${r.titulo}"? Esta accin no se puede deshacer.`)))try{await tn("DELETE",`/api/manuals/${encodeURIComponent(r.id)}`),sn.setQueryData(["/api/manuals"],v=>Array.isArray(v)?v.filter(x=>x.id!==r.id):v),await sn.invalidateQueries({queryKey:["/api/manuals"],exact:!0}),d({title:"Manual eliminado"}),e("/manuales")}catch(v){d({title:"No se pudo eliminar",description:v?.message??"",variant:"destructive"})}},m=y=>y<1024?y+" B":y<1024*1024?(y/1024).toFixed(1)+" KB":(y/(1024*1024)).toFixed(1)+" MB",h=()=>{if(!r)return;const y=new pn;y.setFontSize(20),y.text(r.titulo,20,20),y.setFontSize(12);const v=r.contenidoHtml.replace(/<[^>]*>/g,""),x=y.splitTextToSize(v,170);y.text(x,20,40),y.save(`${r.titulo}.pdf`)};return i?a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx(Kn,{className:"h-9 w-48"}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(Kn,{className:"h-8 w-3/4"})}),a.jsx(He,{children:a.jsx(Kn,{className:"h-64 w-full"})})]})]}):r?a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>e("/manuales"),"data-testid":"button-back",children:a.jsx(By,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1",children:a.jsx("h1",{className:"text-3xl font-display font-bold",children:r.titulo})}),a.jsxs(ge,{variant:"outline",onClick:h,"data-testid":"button-export-pdf",children:[a.jsx(ia,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),l&&a.jsxs(a.Fragment,{children:[a.jsxs(ge,{variant:"outline",onClick:()=>u(y=>!y),"data-testid":"button-expand",children:[c?a.jsx(Ife,{className:"h-4 w-4 mr-2"}):a.jsx(Rfe,{className:"h-4 w-4 mr-2"}),c?"Reducir":"Expandir"]}),a.jsxs(ge,{variant:"destructive",onClick:f,"data-testid":"button-delete",children:[a.jsx(na,{className:"h-4 w-4 mr-2"}),"Eliminar"]}),a.jsxs(ge,{onClick:()=>e(`/manuales/${r.id}/editar`),"data-testid":"button-edit",children:[a.jsx(Sc,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),a.jsxs("div",{className:c?"grid gap-6 grid-cols-1":"grid gap-6 xl:grid-cols-[minmax(0,1fr)_320px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ue,{children:[a.jsxs(lt,{className:"px-6 pt-6 pb-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ut,{className:"text-2xl",children:r.titulo}),r.categoria&&a.jsx("p",{className:"text-muted-foreground",children:r.categoria})]}),r.publicado?a.jsx(it,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):a.jsx(it,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),r.etiquetas&&r.etiquetas.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.etiquetas.map(y=>a.jsx(it,{variant:"secondary",children:y},y))})]}),a.jsxs(He,{className:"p-0",children:[a.jsx("div",{className:"prose lg:prose-base max-w-none px-6 pb-6 md:px-8 md:pb-8 [&_.editor-table]:border-collapse [&_.editor-table]:w-full [&_.editor-table]:my-4 [&_.editor-table_th]:border-2 [&_.editor-table_th]:border-black [&_.editor-table_th]:p-2 [&_.editor-table_th]:bg-muted [&_.editor-table_th]:font-semibold [&_.editor-table_th]:text-left [&_.editor-table_td]:border-2 [&_.editor-table_td]:border-black [&_.editor-table_td]:p-2",dangerouslySetInnerHTML:{__html:r.contenidoHtml}}),a.jsxs("div",{className:"px-6 md:px-8 mt-4 pt-4 border-t text-sm text-muted-foreground",children:["Creado el ",new Date(r.fechaCreacion).toLocaleDateString(),r.fechaActualizacion!==r.fechaCreacion&&a.jsxs(a.Fragment,{children:["  Actualizado el ",new Date(r.fechaActualizacion).toLocaleDateString()]})]})]})]}),s.length>0&&a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{className:"text-lg flex items-center gap-2",children:[a.jsx(lp,{className:"h-4 w-4"}),"Adjuntos (",s.length,")"]})}),a.jsx(He,{children:a.jsx("div",{className:"space-y-2",children:s.map(y=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate cursor-pointer",onClick:()=>window.open(y.filePath,"_blank"),"data-testid":`attachment-${y.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:y.originalName}),a.jsx("p",{className:"text-xs text-muted-foreground",children:m(y.fileSize)})]})]}),a.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]},y.id))})})]})]}),a.jsx("div",{className:"lg:sticky lg:top-8 lg:h-fit",children:a.jsx(K8e,{htmlContent:r.contenidoHtml})})]})]}):a.jsx("div",{className:"p-8",children:a.jsx(Ue,{children:a.jsxs(He,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Manual no encontrado"}),a.jsx(ge,{onClick:()=>e("/manuales"),children:"Volver a Manuales"})]})})})}function Ia(t){this.content=t}Ia.prototype={constructor:Ia,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Ia(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ia(n)},addToStart:function(t,e){return new Ia([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ia(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Ia(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ia.from(t),t.size?new Ia(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ia.from(t),t.size?new Ia(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ia.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ia.from=function(t){if(t instanceof Ia)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ia(e)};function Zse(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=Zse(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function eae(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),l=e.child(--s),c=o.nodeSize;if(o==l){n-=c,r-=c;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,d=Math.min(o.text.length,l.text.length);for(;u<d&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=eae(o.content,l.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class mt{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,l=0;l<n;o++){let c=this.content[o],u=l+c.nodeSize;if(u>e&&r(c,i+l,s||null,o)!==!1&&c.content.size){let d=l+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,i+d)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,n-c):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new mt(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let l=this.content[s],c=o+l.nodeSize;c>e&&((o<e||c>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),i+=l.nodeSize),o=c}return new mt(r,i)}cutByIndex(e,n){return e==n?mt.empty:e==0&&n==this.content.length?this:new mt(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new mt(i,s)}addToStart(e){return new mt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new mt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Zse(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return eae(this,e,n,r)}findIndex(e){if(e==0)return b2(0,e);if(e==this.size)return b2(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?b2(n+1,s):b2(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return mt.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new mt(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return mt.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new mt(n||e,r)}static from(e){if(!e)return mt.empty;if(e instanceof mt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new mt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}mt.empty=new mt([],0);const HO={index:0,offset:0};function b2(t,e){return HO.index=t,HO.offset=e,HO}function nE(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!nE(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!nE(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let hi=class o4{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&nE(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return o4.none;if(e instanceof o4)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};hi.none=[];class rE extends Error{}class Ft{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=nae(this.content,e+this.openStart,n);return r&&new Ft(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ft(tae(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ft.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ft(mt.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ft(e,r,i)}}Ft.empty=new Ft(mt.empty,0,0);function tae(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(tae(s.content,e-i-1,n-i-1)))}function nae(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=nae(o.content,e-s-1,n,o);return l&&t.replaceChild(i,o.copy(l))}function $7e(t,e,n){if(n.openStart>t.depth)throw new rE("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new rE("Inconsistent open depths");return rae(t,e,n,0)}function rae(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=rae(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return Pm(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=B7e(n,t);return Pm(s,sae(t,o,l,e,r))}else return Pm(s,iE(t,e,r))}function iae(t,e){if(!e.type.compatibleContent(t.type))throw new rE("Cannot join "+e.type.name+" onto "+t.type.name)}function l4(t,e,n){let r=t.node(n);return iae(r,e.node(n)),r}function Om(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ub(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Om(t.nodeAfter,r),s++));for(let l=s;l<o;l++)Om(i.child(l),r);e&&e.depth==n&&e.textOffset&&Om(e.nodeBefore,r)}function Pm(t,e){return t.type.checkContent(e),t.copy(e)}function sae(t,e,n,r,i){let s=t.depth>i&&l4(t,e,i+1),o=r.depth>i&&l4(n,r,i+1),l=[];return Ub(null,t,i,l),s&&o&&e.index(i)==n.index(i)?(iae(s,o),Om(Pm(s,sae(t,e,n,r,i+1)),l)):(s&&Om(Pm(s,iE(t,e,i+1)),l),Ub(e,n,i,l),o&&Om(Pm(o,iE(n,r,i+1)),l)),Ub(r,null,i,l),new mt(l)}function iE(t,e,n){let r=[];if(Ub(null,t,n,r),t.depth>n){let i=l4(t,e,n+1);Om(Pm(i,iE(t,e,n+1)),r)}return Ub(e,null,n,r),new mt(r)}function B7e(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(mt.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class i1{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return hi.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new sE(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(s),u=s-c;if(r.push(o,l,i+c),!u||(o=o.child(l),o.isText))break;s=u-1,i+=c+1}return new i1(n,r,s)}static resolveCached(e,n){let r=CV.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else CV.set(e,r=new z7e);let i=r.elts[r.i]=i1.resolve(e,n);return r.i=(r.i+1)%q7e,i}}class z7e{constructor(){this.elts=[],this.i=0}}const q7e=12,CV=new WeakMap;class sE{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const U7e=Object.create(null);let np=class c4{constructor(e,n,r,i=hi.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||mt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&nE(this.attrs,n||e.defaultAttrs||U7e)&&hi.sameSet(this.marks,r||hi.none)}copy(e=null){return e==this.content?this:new c4(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new c4(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ft.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),l=i.start(o),u=i.node(o).content.cut(i.pos-l,s.pos-l);return new Ft(u,i.depth-o,s.depth-o)}replace(e,n,r){return $7e(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return i1.resolveCached(this,e)}resolveNoCache(e){return i1.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),aae(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=mt.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=hi.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!hi.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=mt.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};np.prototype.text=void 0;class aE extends np{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):aae(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new aE(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new aE(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function aae(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class eg{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new H7e(e,n);if(r.next==null)return eg.empty;let i=oae(r);r.next&&r.err("Unexpected trailing text");let s=Q7e(X7e(i));return J7e(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,l){let c=o.matchFragment(e,r);if(c&&(!n||c.validEnd))return mt.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:d,next:f}=o.next[u];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let m=s(f,l.concat(d));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:c}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}eg.empty=new eg(!0);class H7e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function oae(t){let e=[];do e.push(V7e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function V7e(t){let e=[];do e.push(W7e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function W7e(t){let e=Y7e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=K7e(t,e);else break;return e}function AV(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function K7e(t,e){let n=AV(t),r=n;return t.eat(",")&&(t.next!="}"?r=AV(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function G7e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Y7e(t){if(t.eat("(")){let e=oae(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=G7e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function X7e(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,c){let u={term:c,to:l};return e[o].push(u),u}function i(o,l){o.forEach(c=>c.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(s(u,l)),[]);if(o.type=="seq")for(let c=0;;c++){let u=s(o.exprs[c],l);if(c==o.exprs.length-1)return u;i(u,l=n())}else if(o.type=="star"){let c=n();return r(l,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return i(s(o.expr,l),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let c=l;for(let u=0;u<o.min;u++){let d=n();i(s(o.expr,c),d),c=d}if(o.max==-1)i(s(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let d=n();r(c,d),i(s(o.expr,c),d),c=d}return[r(c)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function lae(t,e){return e-t}function kV(t,e){let n=[];return r(e),n.sort(lae);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:l,to:c}=s[o];!l&&n.indexOf(c)==-1&&r(c)}}}function Q7e(t){let e=Object.create(null);return n(kV(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let d=0;d<i.length;d++)i[d][0]==l&&(u=i[d][1]);kV(t,c).forEach(d=>{u||i.push([l,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let s=e[r.join(",")]=new eg(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(lae);s.next.push({type:i[o][0],next:e[l.join(",")]||n(l)})}return s}}function J7e(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:c,next:u}=i.next[l];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function cae(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function uae(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function dae(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function fae(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new eze(t,r,e[r]);return n}let TV=class hae{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=fae(e,r.attrs),this.defaultAttrs=cae(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==eg.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:uae(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new np(this,this.computeAttrs(e),mt.from(n),hi.setFrom(r))}createChecked(e=null,n,r){return n=mt.from(n),this.checkContent(n),new np(this,this.computeAttrs(e),n,hi.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=mt.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(mt.empty,!0);return s?new np(this,e,n.append(s),hi.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){dae(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:hi.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new hae(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Z7e(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class eze{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Z7e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class C_{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=fae(e,i.attrs),this.excluded=null;let s=cae(this.attrs);this.instance=s?new hi(this,s):null}create(e=null){return!e&&this.instance?this.instance:new hi(this,uae(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new C_(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){dae(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class pae{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ia.from(e.nodes),n.marks=Ia.from(e.marks||{}),this.nodes=TV.compile(this.spec.nodes,this),this.marks=C_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=eg.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?OV(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:OV(this,o.split(" "))}this.nodeFromJSON=i=>np.fromJSON(this,i),this.markFromJSON=i=>hi.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof TV){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new aE(r,r.defaultAttrs,e,hi.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function OV(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let l in t.marks){let c=t.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function tze(t){return t.tag!=null}function nze(t){return t.style!=null}let Hb=class u4{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(tze(i))this.tags.push(i);else if(nze(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new MV(this,n,!1);return r.addAll(e,hi.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new MV(this,n,!0);return r.addAll(e,hi.none,n.from,n.to),Ft.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(sze(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=RV(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=RV(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new u4(e,u4.schemaRules(e)))}};const mae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rze={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gae={ol:!0,ul:!0},s1=1,d4=2,Vb=4;function PV(t,e,n){return e!=null?(e?s1:0)|(e==="full"?d4:0):t&&t.whitespace=="pre"?s1|d4:n&~Vb}class w2{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=hi.none,this.match=s||(o&Vb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(mt.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&s1)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=mt.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(mt.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!mae.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class MV{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=PV(null,n.preserveWhitespace,0)|(r?Vb:0);i?s=new w2(i.type,i.attrs,hi.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new w2(null,null,hi.none,!0,null,o):s=new w2(e.schema.topNodeType,null,hi.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&d4?"full":this.localPreserveWS||(i.options&s1)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;gae.hasOwnProperty(o)&&this.parser.normalizeLists&&ize(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(c?c.ignore:rze.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(mae.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(s),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(s,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(o,n.attrs||null,r,n.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(e);if(u&&(!i||i.length>u.length+l)&&(i=u,s=c,!u.length))break;if(c.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=hi.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):IV(l.type,e.type))&&(o=l.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=PV(e,s,o.options);o.options&Vb&&o.content.length==0&&(l|=Vb);let c=hi.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):IV(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new w2(e,n,c,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=s1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,c)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;c>=s;c--)if(o(l-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function ize(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&gae.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function sze(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function RV(t){let e={};for(let n in t)e[n]=t[n];return e}function IV(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:d}=l.edge(c);if(u==e||s.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class Ng{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=VO(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,c=0;for(;l<s.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],d=this.serializeMark(u,o.isInline,n);d&&(s.push([u,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=lN(VO(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&lN(VO(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return lN(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ng(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=DV(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return DV(e.marks)}}function DV(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function VO(t){return t.document||window.document}const LV=new WeakMap;function aze(t){let e=LV.get(t);return e===void 0&&LV.set(t,e=oze(t)),e}function oze(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function lN(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=aze(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let l,c=n?t.createElementNS(n,i):t.createElement(i),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let m=f.indexOf(" ");m>0?c.setAttributeNS(f.slice(0,m),f.slice(m+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let m=e[f];if(m===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:h,contentDOM:y}=lN(t,m,n,r);if(c.appendChild(h),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:c,contentDOM:l}}const vae=65535,yae=Math.pow(2,16);function lze(t,e){return t+e*yae}function FV(t){return t&vae}function cze(t){return(t-(t&vae))/yae}const xae=1,bae=2,cN=4,wae=8;class f4{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&wae)>0}get deletedBefore(){return(this.delInfo&(xae|cN))>0}get deletedAfter(){return(this.delInfo&(bae|cN))>0}get deletedAcross(){return(this.delInfo&cN)>0}}class Dl{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Dl.empty)return Dl.empty}recover(e){let n=0,r=FV(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+cze(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>e)break;let u=this.ranges[l+s],d=this.ranges[l+o],f=c+u;if(e<=f){let m=u?e==c?-1:e==f?1:n:n,h=c+i+(m<0?0:d);if(r)return h;let y=e==(n<0?c:f)?null:lze(l/3,e-c),v=e==c?bae:e==f?xae:cN;return(n<0?e!=c:e!=f)&&(v|=wae),new f4(h,v,y)}i+=d-u}return r?e+i:new f4(e+i,0,null)}touches(e,n){let r=0,i=FV(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[l+s],d=c+u;if(e<=d&&l==i*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),c=o+(this.inverted?0:s),u=this.ranges[i+n],d=this.ranges[i+r];e(l,l+u,c,c+d),s+=d-u}}invert(){return new Dl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Dl.empty:new Dl(e<0?[0,-e,0]:[0,0,e])}}Dl.empty=new Dl([]);class a1{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new a1(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new a1;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],l=o.mapResult(e,n);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new f4(e,i,null)}}const WO=Object.create(null);class po{getMap(){return Dl.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=WO[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in WO)throw new RangeError("Duplicate use of step JSON ID "+e);return WO[e]=n,n.prototype.jsonID=e,n}}class $s{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new $s(e,null)}static fail(e){return new $s(null,e)}static fromReplace(e,n,r,i){try{return $s.ok(e.replace(n,r,i))}catch(s){if(s instanceof rE)return $s.fail(s.message);throw s}}}function UL(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(UL(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return mt.fromArray(r)}class Hh extends po{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ft(UL(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return $s.fromReplace(e,this.from,this.to,s)}invert(){return new vu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hh(n.pos,r.pos,this.mark)}merge(e){return e instanceof Hh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hh(n.from,n.to,e.markFromJSON(n.mark))}}po.jsonID("addMark",Hh);class vu extends po{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ft(UL(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return $s.fromReplace(e,this.from,this.to,r)}invert(){return new Hh(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new vu(n.pos,r.pos,this.mark)}merge(e){return e instanceof vu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new vu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new vu(n.from,n.to,e.markFromJSON(n.mark))}}po.jsonID("removeMark",vu);class Vh extends po{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return $s.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return $s.fromReplace(e,this.pos,this.pos+1,new Ft(mt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Vh(this.pos,n.marks[i]);return new Vh(this.pos,this.mark)}}return new tg(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vh(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Vh(n.pos,e.markFromJSON(n.mark))}}po.jsonID("addNodeMark",Vh);class tg extends po{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return $s.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return $s.fromReplace(e,this.pos,this.pos+1,new Ft(mt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Vh(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new tg(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new tg(n.pos,e.markFromJSON(n.mark))}}po.jsonID("removeNodeMark",tg);class ba extends po{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&h4(e,this.from,this.to)?$s.fail("Structure replace would overwrite content"):$s.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Dl([this.from,this.to-this.from,this.slice.size])}invert(e){return new ba(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ba(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ba)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ft.empty:new Ft(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ba(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ft.empty:new Ft(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ba(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ba(n.from,n.to,Ft.fromJSON(e,n.slice),!!n.structure)}}po.jsonID("replace",ba);class Na extends po{constructor(e,n,r,i,s,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(h4(e,this.from,this.gapFrom)||h4(e,this.gapTo,this.to)))return $s.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return $s.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?$s.fromReplace(e,this.from,this.to,r):$s.fail("Content does not fit in gap")}getMap(){return new Dl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Na(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Na(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Na(n.from,n.to,n.gapFrom,n.gapTo,Ft.fromJSON(e,n.slice),n.insert,!!n.structure)}}po.jsonID("replaceAround",Na);function h4(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function uze(t,e,n,r){let i=[],s=[],o,l;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let m=Math.max(u,e),h=Math.min(u+c.nodeSize,n),y=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(y)||(o&&o.to==m&&o.mark.eq(f[v])?o.to=h:i.push(o=new vu(m,h,f[v])));l&&l.to==m?l.to=h:s.push(l=new Hh(m,h,r))}}),i.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function dze(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof C_){let u=o.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let u=Math.min(l+o.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],m;for(let h=0;h<i.length;h++){let y=i[h];y.step==s-1&&f.eq(i[h].style)&&(m=y)}m?(m.to=u,m.step=s):i.push({style:f,from:Math.max(l,e),to:u,step:s})}}}),i.forEach(o=>t.step(new vu(o.from,o.to,o.style)))}function HL(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<s.childCount;c++){let u=s.child(c),d=l+u.nodeSize,f=r.matchType(u.type);if(!f)o.push(new ba(l,d,Ft.empty));else{r=f;for(let m=0;m<u.marks.length;m++)n.allowsMarkType(u.marks[m].type)||t.step(new vu(l,d,u.marks[m]));if(i&&u.isText&&n.whitespace!="pre"){let m,h=/\r?\n|\r/g,y;for(;m=h.exec(u.text);)y||(y=new Ft(mt.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new ba(l+m.index,l+m.index+m[0].length,y))}}l=d}if(!r.validEnd){let c=r.fillBefore(mt.empty,!0);t.replace(l,l,new Ft(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function fze(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function gx(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!fze(i,s,o))break}return null}function hze(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),c=o,u=l,d=mt.empty,f=0;for(let y=s,v=!1;y>n;y--)v||r.index(y)>0?(v=!0,d=mt.from(r.node(y).copy(d)),f++):c--;let m=mt.empty,h=0;for(let y=s,v=!1;y>n;y--)v||i.after(y+1)<i.end(y)?(v=!0,m=mt.from(i.node(y).copy(m)),h++):u++;t.step(new Na(c,u,o,l,new Ft(d.append(m),f,h),d.size-f,!0))}function VL(t,e,n=null,r=t){let i=pze(t,e),s=i&&mze(r,e);return s?i.map($V).concat({type:e,attrs:n}).concat(s.map($V)):null}function $V(t){return{type:t,attrs:null}}function pze(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function mze(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;c&&u<i;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:o}function gze(t,e,n){let r=mt.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=mt.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Na(i,s,i,s,new Ft(r,0,0),n.length,!0))}function vze(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,c)&&yze(t.doc,t.mapping.slice(s).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!y?u=!1:!h&&y&&(u=!0)}u===!1&&Sae(t,o,l,s),HL(t,t.mapping.slice(s).map(l,1),r,void 0,u===null);let d=t.mapping.slice(s),f=d.map(l,1),m=d.map(l+o.nodeSize,1);return t.step(new Na(f,m,f+1,m-1,new Ft(mt.from(r.create(c,null,o.marks)),0,0),1,!0)),u===!0&&Nae(t,o,l,s),!1}})}function Nae(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let c=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function Sae(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function yze(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function xze(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Na(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ft(mt.from(o),0,0),1,!0))}function Ef(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,d=n-2;u>s;u--,d--){let f=i.node(u),m=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(m,f.childCount),y=r&&r[d+1];y&&(h=h.replaceChild(0,y.type.create(y.attrs)));let v=r&&r[d]||f;if(!f.canReplace(m+1,f.childCount)||!v.type.validContent(h))return!1}let l=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(l,l,c?c.type:i.node(s+1).type)}function bze(t,e,n=1,r){let i=t.doc.resolve(e),s=mt.empty,o=mt.empty;for(let l=i.depth,c=i.depth-n,u=n-1;l>c;l--,u--){s=mt.from(i.node(l).copy(s));let d=r&&r[u];o=mt.from(d?d.type.create(d.attrs,o):i.node(l).copy(o))}t.step(new ba(e,e,new Ft(s.append(o),n,n),!0))}function kp(t,e){let n=t.resolve(e),r=n.index();return Eae(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function wze(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Eae(t,e){return!!(t&&e&&!t.isLeaf&&wze(t,e))}function A_(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&Eae(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Nze(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);d&&!f?r=!1:!d&&f&&(r=!0)}let l=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);Sae(t,d.node(),d.before(),l)}o.inlineContent&&HL(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let c=t.mapping.slice(l),u=c.map(e-n);if(t.step(new ba(u,c.map(e+n,-1),Ft.empty,!0)),r===!0){let d=t.doc.resolve(u);Nae(t,d.node(),d.before(),t.steps.length)}return t}function Sze(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function jae(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(l>0?1:0),u=r.node(o),d=!1;if(s==1)d=u.canReplace(c,c,i);else{let f=u.contentMatchAt(c).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function k_(t,e,n=e,r=Ft.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return _ae(i,s,r)?new ba(e,n,r):new Eze(i,s,r).fit()}function _ae(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Eze{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=mt.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=mt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let c=new Ft(s,o,l);return e>-1?new Na(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new ba(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=KO(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],d,f=null;if(n==1&&(o?u.matchType(o.type)||(f=u.fillBefore(mt.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:f};if(n==2&&o&&(d=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:d};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=KO(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ft(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=KO(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ft(wb(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ft(wb(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,l=r?r.content:o.content,c=o.openStart-e,u=0,d=[],{match:f,type:m}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)d.push(i.child(v));f=f.matchFragment(i)}let h=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let v=l.child(u),x=f.matchType(v.type);if(!x)break;u++,(u>1||c==0||v.content.size)&&(f=x,d.push(Cae(v.mark(m.allowedMarks(v.marks)),u==1?c:0,u==l.childCount?h:-1)))}let y=u==l.childCount;y||(h=-1),this.placed=Nb(this.placed,n,mt.from(d)),this.frontier[n].match=f,y&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,x=l;v<h;v++){let b=x.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),x=b.content}this.unplaced=y?e==0?Ft.empty:new Ft(wb(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new Ft(wb(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!GO(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=GO(e,n,i,r,s);if(o){for(let l=n-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],d=GO(e,l,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Nb(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Nb(this.placed,this.depth,mt.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(mt.empty,!0);n.childCount&&(this.placed=Nb(this.placed,this.frontier.length,n))}}function wb(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(wb(t.firstChild.content,e-1,n)))}function Nb(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Nb(t.lastChild.content,e-1,n)))}function KO(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Cae(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Cae(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(mt.empty,!0)))),t.copy(r)}function GO(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!jze(n,s.content,o)?l:null}function jze(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function _ze(t){return t.spec.defining||t.spec.definingForContent}function Cze(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(_ae(i,s,r))return t.step(new ba(e,n,r));let o=kae(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let m=i.depth,h=i.pos-1;m>0;m--,h--){let y=i.node(m).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(m)>-1?l=m:i.before(m)==h&&o.splice(1,0,-m)}let c=o.indexOf(l),u=[],d=r.openStart;for(let m=r.content,h=0;;h++){let y=m.firstChild;if(u.push(y),h==r.openStart)break;m=y.content}for(let m=d-1;m>=0;m--){let h=u[m],y=_ze(h.type);if(y&&!h.sameMarkup(i.node(Math.abs(l)-1)))d=m;else if(y||!h.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let h=(m+d+1)%(r.openStart+1),y=u[h];if(y)for(let v=0;v<o.length;v++){let x=o[(v+c)%o.length],b=!0;x<0&&(b=!1,x=-x);let S=i.node(x-1),E=i.index(x-1);if(S.canReplaceWith(E,E,y.type,y.marks))return t.replace(i.before(x),b?s.after(x):n,new Ft(Aae(r.content,0,r.openStart,h),h,r.openEnd))}}let f=t.steps.length;for(let m=o.length-1;m>=0&&(t.replace(e,n,r),!(t.steps.length>f));m--){let h=o[m];h<0||(e=i.before(h),n=s.after(h))}}function Aae(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Aae(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(mt.empty,!0))}return t}function Aze(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Sze(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ft(mt.from(r),0,0))}function kze(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=kae(r,i);for(let o=0;o<s.length;o++){let l=s[o],c=o==s.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function kae(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Wv extends po{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return $s.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return $s.fromReplace(e,this.pos,this.pos+1,new Ft(mt.from(i),0,n.isLeaf?0:1))}getMap(){return Dl.empty}invert(e){return new Wv(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wv(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Wv(n.pos,n.attr,n.value)}}po.jsonID("attr",Wv);class o1 extends po{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return $s.ok(r)}getMap(){return Dl.empty}invert(e){return new o1(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new o1(n.attr,n.value)}}po.jsonID("docAttr",o1);let My=class extends Error{};My=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};My.prototype=Object.create(Error.prototype);My.prototype.constructor=My;My.prototype.name="TransformError";class WL{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new a1}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new My(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ft.empty){let i=k_(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ft(mt.from(r),0,0))}delete(e,n){return this.replace(e,n,Ft.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Cze(this,e,n,r),this}replaceRangeWith(e,n,r){return Aze(this,e,n,r),this}deleteRange(e,n){return kze(this,e,n),this}lift(e,n){return hze(this,e,n),this}join(e,n=1){return Nze(this,e,n),this}wrap(e,n){return gze(this,e,n),this}setBlockType(e,n=e,r,i=null){return vze(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return xze(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Wv(e,n,r)),this}setDocAttribute(e,n){return this.step(new o1(e,n)),this}addNodeMark(e,n){return this.step(new Vh(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof hi)n.isInSet(r.marks)&&this.step(new tg(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new tg(e,s)),i=s.removeFromSet(i);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,n=1,r){return bze(this,e,n,r),this}addMark(e,n,r){return uze(this,e,n,r),this}removeMark(e,n,r){return dze(this,e,n,r),this}clearIncompatible(e,n,r){return HL(this,e,n,r),this}}const YO=Object.create(null);class Fn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Tae(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ft.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:u}=o[l],d=e.mapping.slice(s);e.replaceRange(d.map(c.pos),d.map(u.pos),l?Ft.empty:n),l==0&&qV(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],c=e.mapping.slice(r),u=c.map(o.pos),d=c.map(l.pos);s?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),qV(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new jn(e):vv(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?vv(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):vv(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Bl(e.node(0))}static atStart(e){return vv(e,e,0,0,1)||new Bl(e)}static atEnd(e){return vv(e,e,e.content.size,e.childCount,-1)||new Bl(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=YO[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in YO)throw new RangeError("Duplicate use of selection JSON ID "+e);return YO[e]=n,n.prototype.jsonID=e,n}getBookmark(){return jn.between(this.$anchor,this.$head).getBookmark()}}Fn.prototype.visible=!0;class Tae{constructor(e,n){this.$from=e,this.$to=n}}let BV=!1;function zV(t){!BV&&!t.parent.inlineContent&&(BV=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class jn extends Fn{constructor(e,n=e){zV(e),zV(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Fn.near(r);let i=e.resolve(n.map(this.anchor));return new jn(i.parent.inlineContent?i:r,r)}replace(e,n=Ft.empty){if(super.replace(e,n),n==Ft.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof jn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new T_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new jn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Fn.findFrom(n,r,!0)||Fn.findFrom(n,-r,!0);if(s)n=s.$head;else return Fn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Fn.findFrom(e,-r,!0)||Fn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new jn(e,n)}}Fn.jsonID("text",jn);class T_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new T_(e.map(this.anchor),e.map(this.head))}resolve(e){return jn.between(e.resolve(this.anchor),e.resolve(this.head))}}class bn extends Fn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Fn.near(s):new bn(s)}content(){return new Ft(mt.from(this.node),0,0)}eq(e){return e instanceof bn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new KL(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new bn(e.resolve(n.anchor))}static create(e,n){return new bn(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}bn.prototype.visible=!1;Fn.jsonID("node",bn);class KL{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new T_(r,r):new KL(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&bn.isSelectable(r)?new bn(n):Fn.near(n)}}class Bl extends Fn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ft.empty){if(n==Ft.empty){e.delete(0,e.doc.content.size);let r=Fn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Bl(e)}map(e){return new Bl(e)}eq(e){return e instanceof Bl}getBookmark(){return Tze}}Fn.jsonID("all",Bl);const Tze={map(){return this},resolve(t){return new Bl(t)}};function vv(t,e,n,r,i,s=!1){if(e.inlineContent)return jn.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&bn.isSelectable(l))return bn.create(t,n-(i<0?l.nodeSize:0))}else{let c=vv(t,l,n+i,i<0?l.childCount:0,i,s);if(c)return c}n+=l.nodeSize*i}return null}function qV(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ba||i instanceof Na))return;let s=t.mapping.maps[r],o;s.forEach((l,c,u,d)=>{o==null&&(o=d)}),t.setSelection(Fn.near(t.doc.resolve(o),n))}const UV=1,N2=2,HV=4;class Oze extends WL{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UV)&~N2,this.storedMarks=null,this}get selectionSet(){return(this.updated&UV)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=N2,this}ensureMarks(e){return hi.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&N2)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~N2,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||hi.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Fn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=HV,this}get scrolledIntoView(){return(this.updated&HV)>0}}function VV(t,e){return!e||!t?t:t.bind(e)}class Sb{constructor(e,n,r){this.name=e,this.init=VV(n.init,r),this.apply=VV(n.apply,r)}}const Pze=[new Sb("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sb("selection",{init(t,e){return t.selection||Fn.atStart(e.doc)},apply(t){return t.selection}}),new Sb("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sb("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class XO{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Pze.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sb(r.key,r.spec.state,r))})}}class Tv{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=i?i[o].n:0,u=i?i[o].state:this,d=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Tv(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Oze(this)}static create(e){let n=new XO(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Tv(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new XO(this.schema,e.plugins),r=n.fields,i=new Tv(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new XO(e.schema,e.plugins),s=new Tv(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=np.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Fn.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[o.name]=u.fromJSON.call(c,e,n[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function Oae(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Oae(i,e,{})),n[r]=i}return n}class Ii{constructor(e){this.spec=e,this.props={},e.props&&Oae(e.props,this,this.props),this.key=e.key?e.key.key:Pae("plugin")}getState(e){return e[this.key]}}const QO=Object.create(null);function Pae(t){return t in QO?t+"$"+ ++QO[t]:(QO[t]=0,t+"$")}class gs{constructor(e="key"){this.key=Pae(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const GL=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Mae(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Rae=(t,e,n)=>{let r=Mae(t,n);if(!r)return!1;let i=YL(r);if(!i){let o=r.blockRange(),l=o&&gx(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(Uae(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ry(s,"end")||bn.isSelectable(s)))for(let o=r.depth;;o--){let l=k_(t.doc,r.before(o),r.after(o),Ft.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Ry(s,"end")?Fn.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):bn.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Mze=(t,e,n)=>{let r=Mae(t,n);if(!r)return!1;let i=YL(r);return i?Iae(t,i,e):!1},Rze=(t,e,n)=>{let r=Lae(t,n);if(!r)return!1;let i=XL(r);return i?Iae(t,i,e):!1};function Iae(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let u=k_(t.doc,s,c,Ft.empty);if(!u||u.from!=s||u instanceof ba&&u.slice.size>=c-s)return!1;if(n){let d=t.tr.step(u);d.setSelection(jn.create(d.doc,s)),n(d.scrollIntoView())}return!0}function Ry(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Dae=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=YL(r)}let o=s&&s.nodeBefore;return!o||!bn.isSelectable(o)?!1:(e&&e(t.tr.setSelection(bn.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function YL(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Lae(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Fae=(t,e,n)=>{let r=Lae(t,n);if(!r)return!1;let i=XL(r);if(!i)return!1;let s=i.nodeAfter;if(Uae(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ry(s,"start")||bn.isSelectable(s))){let o=k_(t.doc,r.before(),r.after(),Ft.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Ry(s,"start")?Fn.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):bn.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},$ae=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=XL(r)}let o=s&&s.nodeAfter;return!o||!bn.isSelectable(o)?!1:(e&&e(t.tr.setSelection(bn.create(t.doc,s.pos)).scrollIntoView()),!0)};function XL(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Ize=(t,e)=>{let n=t.selection,r=n instanceof bn,i;if(r){if(n.node.isTextblock||!kp(t.doc,n.from))return!1;i=n.from}else if(i=A_(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(bn.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Dze=(t,e)=>{let n=t.selection,r;if(n instanceof bn){if(n.node.isTextblock||!kp(t.doc,n.to))return!1;r=n.to}else if(r=A_(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Lze=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&gx(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},Bae=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function QL(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Fze=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=QL(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=n.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(Fn.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},zae=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Bl||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=QL(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(jn.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},qae=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Ef(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&gx(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function $ze(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof bn&&e.selection.node.isBlock)return!r.parentOffset||!Ef(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,l,c=!1,u=!1;for(let h=r.depth;;h--)if(r.node(h).isBlock){c=r.end(h)==r.pos+(r.depth-h),u=r.start(h)==r.pos-(r.depth-h),l=QL(r.node(h-1).contentMatchAt(r.indexAfter(h-1))),s.unshift(c&&l?{type:l}:null),o=h;break}else{if(h==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof jn||e.selection instanceof Bl)&&d.deleteSelection();let f=d.mapping.map(r.pos),m=Ef(d.doc,f,s.length,s);if(m||(s[0]=l?{type:l}:null,m=Ef(d.doc,f,s.length,s)),!m)return!1;if(d.split(f,s.length,s),!c&&u&&r.node(o).type!=l){let h=d.mapping.map(r.before(o)),y=d.doc.resolve(h);l&&r.node(o-1).canReplaceWith(y.index(),y.index()+1,l)&&d.setNodeMarkup(d.mapping.map(r.before(o)),l)}return n&&n(d.scrollIntoView()),!0}}const Bze=$ze(),zze=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(bn.create(t.doc,i))),!0)};function qze(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||kp(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Uae(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&qze(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(n){let h=e.pos+s.nodeSize,y=mt.empty;for(let b=o.length-1;b>=0;b--)y=mt.from(o[b].create(null,y));y=mt.from(i.copy(y));let v=t.tr.step(new Na(e.pos-1,h,e.pos,h,new Ft(y,1,0),o.length,!0)),x=v.doc.resolve(h+2*o.length);x.nodeAfter&&x.nodeAfter.type==i.type&&kp(v.doc,x.pos)&&v.join(x.pos),n(v.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&c?null:Fn.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),m=f&&gx(f);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(f,m).scrollIntoView()),!0;if(u&&Ry(s,"start",!0)&&Ry(i,"end")){let h=i,y=[];for(;y.push(h),!h.isTextblock;)h=h.lastChild;let v=s,x=1;for(;!v.isTextblock;v=v.firstChild)x++;if(h.canReplace(h.childCount,h.childCount,v.content)){if(n){let b=mt.empty;for(let E=y.length-1;E>=0;E--)b=mt.from(y[E].copy(b));let S=t.tr.step(new Na(e.pos-y.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Ft(b,y.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function Hae(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(jn.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Uze=Hae(-1),Hze=Hae(1);function Vze(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=o&&VL(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function WV(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(o,l,(c,u)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let d=n.doc.resolve(u),f=d.index();i=d.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=n.selection.ranges[o];s.setBlockType(l,c,t,e)}r(s.scrollIntoView())}return!0}}function JL(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}JL(GL,Rae,Dae);JL(GL,Fae,$ae);JL(Bae,zae,qae,Bze);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Wze(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let l=r?n.tr:null;return Kze(l,o,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function Kze(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new sE(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new sE(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=VL(s,n,r,e);return l?(t&&Gze(t,e,l,i,n),!0):!1}function Gze(t,e,n,r,i){let s=mt.empty;for(let d=n.length-1;d>=0;d--)s=mt.from(n[d].type.create(n[d].attrs,s));t.step(new Na(e.start-(r?2:0),e.end,e.start,e.end,new Ft(s,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==i&&(o=d+1);let l=n.length-o,c=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,m=!0;d<f;d++,m=!1)!m&&Ef(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(d).nodeSize;return t}function Yze(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?Xze(e,n,t,s):Qze(e,n,s):!0:!1}}function Xze(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Na(s-1,o,s,o,new Ft(mt.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new sE(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=gx(r);if(l==null)return!1;i.lift(r,l);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return kp(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function Qze(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,y=n.endIndex-1,v=n.startIndex;y>v;y--)h-=i.child(y).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==i.childCount,u=s.node(-1),d=s.index(-1);if(!u.canReplace(d+(l?0:1),d+1,o.content.append(c?mt.empty:mt.from(i))))return!1;let f=s.pos,m=f+o.nodeSize;return r.step(new Na(f-(l?1:0),m+(c?1:0),f+1,m-1,new Ft((l?mt.empty:mt.from(i.copy(mt.empty))).append(c?mt.empty:mt.from(i.copy(mt.empty))),l?0:1,c?0:1),l?0:1)),e(r.scrollIntoView()),!0}function Jze(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,c=l.child(o-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==l.type,d=mt.from(u?t.create():null),f=new Ft(mt.from(t.create(null,mt.from(l.type.create(null,d)))),u?3:1,0),m=s.start,h=s.end;n(e.tr.step(new Na(m-(u?3:1),h,m,h,f,1,!0)).scrollIntoView())}return!0}}const La=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Iy=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let p4=null;const hf=function(t,e,n){let r=p4||(p4=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Zze=function(){p4=null},ng=function(t,e,n,r){return n&&(KV(t,e,n,r,-1)||KV(t,e,n,r,1))},e9e=/^(img|br|input|textarea|hr)$/i;function KV(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:xc(t))){let o=t.parentNode;if(!o||o.nodeType!=1||X1(t)||e9e.test(t.nodeName)||t.contentEditable=="false")return!1;e=La(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?xc(t):0}else return!1}}function xc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function t9e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=xc(t)}else if(t.parentNode&&!X1(t))e=La(t),t=t.parentNode;else return null}}function n9e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!X1(t))e=La(t)+1,t=t.parentNode;else return null}}function r9e(t,e,n){for(let r=e==0,i=e==xc(t);r||i;){if(t==n)return!0;let s=La(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==xc(t)}}function X1(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const O_=function(t){return t.focusNode&&ng(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function hm(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function i9e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function s9e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(xc(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(xc(r.startContainer),r.startOffset)}}}const bd=typeof navigator<"u"?navigator:null,GV=typeof document<"u"?document:null,Tp=bd&&bd.userAgent||"",m4=/Edge\/(\d+)/.exec(Tp),Vae=/MSIE \d/.exec(Tp),g4=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tp),ol=!!(Vae||g4||m4),rp=Vae?document.documentMode:g4?+g4[1]:m4?+m4[1]:0,_c=!ol&&/gecko\/(\d+)/i.test(Tp);_c&&+(/Firefox\/(\d+)/.exec(Tp)||[0,0])[1];const v4=!ol&&/Chrome\/(\d+)/.exec(Tp),uo=!!v4,Wae=v4?+v4[1]:0,Po=!ol&&!!bd&&/Apple Computer/.test(bd.vendor),Dy=Po&&(/Mobile\/\w+/.test(Tp)||!!bd&&bd.maxTouchPoints>2),gc=Dy||(bd?/Mac/.test(bd.platform):!1),a9e=bd?/Win/.test(bd.platform):!1,xf=/Android \d/.test(Tp),Q1=!!GV&&"webkitFontSmoothing"in GV.documentElement.style,o9e=Q1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function l9e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function of(t,e){return typeof t=="number"?t:t[e]}function c9e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function YV(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Iy(o);continue}let l=o,c=l==s.body,u=c?l9e(s):c9e(l),d=0,f=0;if(e.top<u.top+of(r,"top")?f=-(u.top-e.top+of(i,"top")):e.bottom>u.bottom-of(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+of(i,"top")-u.top:e.bottom-u.bottom+of(i,"bottom")),e.left<u.left+of(r,"left")?d=-(u.left-e.left+of(i,"left")):e.right>u.right-of(r,"right")&&(d=e.right-u.right+of(i,"right")),d||f)if(c)s.defaultView.scrollBy(d,f);else{let h=l.scrollLeft,y=l.scrollTop;f&&(l.scrollTop+=f),d&&(l.scrollLeft+=d);let v=l.scrollLeft-h,x=l.scrollTop-y;e={left:e.left-v,top:e.top-x,right:e.right-v,bottom:e.bottom-x}}let m=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(m))break;o=m=="absolute"?o.offsetParent:Iy(o)}}function u9e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,i=c.top;break}}return{refDOM:r,refTop:i,stack:Kae(t.dom)}}function Kae(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Iy(r));return e}function d9e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Gae(n,r==0?0:r-e)}function Gae(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let lv=null;function f9e(t){if(t.setActive)return t.setActive();if(lv)return t.focus(lv);let e=Kae(t);t.focus(lv==null?{get preventScroll(){return lv={preventScroll:!0},!0}}:void 0),lv||(lv=!1,Gae(e,0))}function Yae(t,e){let n,r=2e8,i,s=0,o=e.top,l=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=hf(d).getClientRects();else continue;for(let h=0;h<m.length;h++){let y=m[h];if(y.top<=o&&y.bottom>=l){o=Math.max(y.bottom,o),l=Math.min(y.top,l);let v=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(v<r){n=d,r=v,i=v&&n.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,d.nodeType==1&&v&&(s=f+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!c&&y.left<=e.left&&y.right>=e.left&&(c=d,u={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!n&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(s=f+1)}}return!n&&c&&(n=c,i=u,r=0),n&&n.nodeType==3?h9e(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:Yae(n,i)}function h9e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Ch(r,1);if(s.top!=s.bottom&&ZL(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function ZL(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function p9e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function m9e(t,e,n){let{node:r,offset:i}=Yae(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function g9e(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>r.left||c.top>r.top?i=l.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Xae(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(ZL(e,u))return Xae(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function v9e(t,e){let n=t.dom.ownerDocument,r,i=0,s=s9e(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!ZL(e,u)||(o=Xae(t.dom,e,u),!o))return null}if(Po)for(let u=o;r&&u;u=Iy(u))u.draggable&&(r=void 0);if(o=p9e(o,e),r){if(_c&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Q1&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=g9e(t,r,i,e))}l==null&&(l=m9e(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function XV(t){return t.top<t.bottom||t.left<t.right}function Ch(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(XV(r))return r}return Array.prototype.find.call(n,XV)||t.getBoundingClientRect()}const y9e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Qae(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Q1||_c;if(r.nodeType==3)if(o&&(y9e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=Ch(hf(r,i,i),n);if(_c&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Ch(hf(r,i-1,i-1),-1);if(u.top==c.top){let d=Ch(hf(r,i,i+1),-1);if(d.top!=c.top)return lb(d,d.left<u.left)}}return c}else{let c=i,u=i,d=n<0?1:-1;return n<0&&!i?(u++,d=-1):n>=0&&i==r.nodeValue.length?(c--,d=1):n<0?c--:u++,lb(Ch(hf(r,c,u),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==xc(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return JO(c.getBoundingClientRect(),!1)}if(s==null&&i<xc(r)){let c=r.childNodes[i];if(c.nodeType==1)return JO(c.getBoundingClientRect(),!0)}return JO(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==xc(r))){let c=r.childNodes[i-1],u=c.nodeType==3?hf(c,xc(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return lb(Ch(u,1),!1)}if(s==null&&i<xc(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?hf(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return lb(Ch(u,-1),!0)}return lb(Ch(r.nodeType==3?hf(r):r,-n),n>=0)}function lb(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function JO(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Jae(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function x9e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Jae(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=Qae(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=hf(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const b9e=/[\u0590-\u08ac]/;function w9e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=t.domSelection();return l?!b9e.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:o:Jae(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),m=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:y,focusOffset:v}=t.domSelectionRange(),x=y&&!h.contains(y.nodeType==1?y:y.parentNode)||c==y&&u==v;try{l.collapse(d,f),c&&(c!=d||u!=f)&&l.extend&&l.extend(c,u)}catch{}return m!=null&&(l.caretBidiLevel=m),x}):r.pos==r.start()||r.pos==r.end()}let QV=null,JV=null,ZV=!1;function N9e(t,e,n){return QV==e&&JV==n?ZV:(QV=e,JV=n,ZV=n=="up"||n=="down"?x9e(t,e,n):w9e(t,e,n))}const Cc=0,eW=1,Sm=2,wd=3;class J1{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Cc,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>La(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let l=i.children[o];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof eoe){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Zae&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?La(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?La(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let c=this.children[l],u=o+c.size;if(i==-1&&e<=u){let d=o+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=o;for(let f=l;f>0;f--){let m=this.children[f-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=La(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let d=l+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=La(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let h=0,y=0;h<this.children.length;h++){let v=this.children[h],x=y+v.size;if(s>y&&o<x)return v.setSelection(e-y-v.border,n-y-v.border,r,i);y=x}let l=this.domFromPos(e,e?-1:1),c=n==e?l:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((_c||Po)&&e==n){let{node:h,offset:y}=l;if(h.nodeType==3){if(f=!!(y&&h.nodeValue[y-1]==`
`),f&&y==h.nodeValue.length)for(let v=h,x;v;v=v.parentNode){if(x=v.nextSibling){x.nodeName=="BR"&&(l=c={node:x.parentNode,offset:La(x)+1});break}let b=v.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let v=h.childNodes[y-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(_c&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let h=d.focusNode.childNodes[d.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||f&&Po)&&ng(l.node,l.offset,d.anchorNode,d.anchorOffset)&&ng(c.node,c.offset,d.focusNode,d.focusOffset))return;let m=!1;if((u.extend||e==n)&&!(f&&_c)){u.collapse(l.node,l.offset);try{e!=n&&u.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>n){let y=l;l=c,c=y}let h=document.createRange();h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+s.border,c=o-s.border;if(e>=l&&n<=c){this.dirty=e==r||n==o?Sm:eW,e==l&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=wd:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Sm:wd}r=o}this.dirty=Sm}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Sm:eW;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Zae extends J1{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Cc&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class S9e extends J1{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class rg extends J1{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Ng.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new rg(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&wd||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=wd&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Cc){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Cc}}slice(e,n,r){let i=rg.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=x4(s,n,o,r)),e>0&&(s=x4(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ip extends J1{constructor(e,n,r,i,s,o,l,c,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,o){let l=s.nodeViews[n.type.name],c,u=l&&l(n,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Ng.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=roe(d,r,n),u?c=new E9e(e,n,r,i,d,f||null,m,u,s,o+1):n.isText?new P_(e,n,r,i,d,m,s):new ip(e,n,r,i,d,f||null,m,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>mt.empty)}return e}matchesNode(e,n,r){return this.dirty==Cc&&e.eq(this.node)&&oE(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new _9e(this,o&&o.node,e);k9e(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?hi.none:this.node.child(d).marks,r,e),c.placeWidget(u,e,i)},(u,d,f,m)=>{c.syncToMarks(u.marks,r,e);let h;c.findNodeMatch(u,d,f,m)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(u,d,f,h,e)||c.updateNextNode(u,d,f,e,m,i)||c.addNode(u,d,f,e,i),i+=u.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Sm)&&(o&&this.protectLocalComposition(e,o),toe(this.contentDOM,this.children,e),Dy&&T9e(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof jn)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=O9e(this.node.content,o,r-n,i-n);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new S9e(this,s,n,i);e.input.compositionNodes.push(o),this.children=x4(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==wd||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Cc}updateOuterDeco(e){if(oE(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=noe(this.dom,this.nodeDOM,y4(this.outerDeco,this.node,n),y4(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function tW(t,e,n,r,i){roe(r,e,t);let s=new ip(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class P_ extends ip{constructor(e,n,r,i,s,o,l){super(e,n,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==wd||this.dirty!=Cc&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Cc||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Cc,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new P_(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=wd)}get domAtom(){return!1}isText(e){return this.node.text==e}}class eoe extends J1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Cc&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class E9e extends ip{constructor(e,n,r,i,s,o,l,c,u,d){super(e,n,r,i,s,o,l,u,d),this.spec=c}update(e,n,r,i){if(this.dirty==wd)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function toe(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=nW(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(o instanceof rg){let c=r?r.previousSibling:t.lastChild;toe(o.contentDOM,o.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=nW(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Wb=function(t){t&&(this.nodeName=t)};Wb.prototype=Object.create(null);const Em=[new Wb];function y4(t,e,n){if(t.length==0)return Em;let r=n?Em[0]:new Wb,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Wb(o.nodeName));for(let l in o){let c=o[l];c!=null&&(n&&i.length==1&&i.push(r=new Wb(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return i}function noe(t,e,n,r){if(n==Em&&r==Em)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=n[s];if(s){let c;l&&l.nodeName==o.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=Em[0]),i=c}j9e(i,l||Em[0],o)}return i}function j9e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function roe(t,e,n){return noe(t,t,Em,y4(e,n,t.nodeType!=1))}function oE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function nW(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class _9e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=C9e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Cc,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=rg.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==wd&&o.dom==o.contentDOM&&(o.dirty=Sm),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof ip){let u=this.preMatch.matched.get(c);if(u!=null&&u!=s)return!1;let d=c.dom,f,m=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=wd&&oE(n,c.outerDeco));if(!m&&c.update(e,n,r,i))return this.destroyBetween(this.index,l),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(f=this.recreateWrapper(c,e,n,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Sm,f.updateChildren(i,o+1),f.dirty=Cc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!oE(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=ip.create(this.top,n,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let o=ip.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Zae(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof rg;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof P_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Po||uo)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new eoe(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function C9e(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof rg)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(c){if(c!=t.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function A9e(t,e){return t.type.side-e.type.side}function k9e(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,i,e.forChild(s,d),u),s+=d.nodeSize}return}let o=0,l=[],c=null;for(let u=0;;){let d,f;for(;o<i.length&&i[o].to==s;){let x=i[o++];x.widget&&(d?(f||(f=[d])).push(x):d=x)}if(d)if(f){f.sort(A9e);for(let x=0;x<f.length;x++)n(f[x],u,!!c)}else n(d,u,!!c);let m,h;if(c)h=-1,m=c,c=null;else if(u<t.childCount)h=u,m=t.child(u++);else break;for(let x=0;x<l.length;x++)l[x].to<=s&&l.splice(x--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let y=s+m.nodeSize;if(m.isText){let x=y;o<i.length&&i[o].from<x&&(x=i[o].from);for(let b=0;b<l.length;b++)l[b].to<x&&(x=l[b].to);x<y&&(c=m.cut(x-s),m=m.cut(0,x-s),y=x,h=-1)}else for(;o<i.length&&i[o].to<y;)o++;let v=m.isInline&&!m.isLeaf?l.filter(x=>!x.inline):l.slice();r(m,v,e.forChild(s,m),h),s=y}}function T9e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function O9e(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=n){if(s>=r&&c.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?c.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&c.length>=r+e.length-l&&c.slice(r-l,r-l+e.length)==e)return r}}return-1}function x4(t,e,n,r,i){let s=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],u=l,d=l+=c.size;u>=n||d<=e?s.push(c):(u<e&&s.push(c.slice(0,e-u,r)),i&&(s.push(i),i=void 0),d>n&&s.push(c.slice(n-u,c.size,r)))}return s}function e3(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),c,u;if(O_(n)){for(c=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&bn.isSelectable(f)&&i.parent&&!(f.isInline&&r9e(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;u=new bn(o==m?l:r.resolve(m))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=o,m=o;for(let h=0;h<n.rangeCount;h++){let y=n.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(y.startContainer,y.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(f<0)return null;[c,o]=m==t.state.selection.anchor?[m,f]:[f,m],l=r.resolve(o)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;u=t3(t,d,l,f)}return u}function ioe(t){return t.editable?t.hasFocus():aoe(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function jf(t,e=!1){let n=t.state.selection;if(soe(t,n),!!ioe(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&uo){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ng(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)M9e(t);else{let{anchor:r,head:i}=n,s,o;rW&&!(n instanceof jn)&&(n.$from.parent.inlineContent||(s=iW(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=iW(t,n.to))),t.docView.setSelection(r,i,t,e),rW&&(s&&sW(s),o&&sW(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&P9e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const rW=Po||uo&&Wae<63;function iW(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Po&&i&&i.contentEditable=="false")return ZO(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return ZO(i);if(s)return ZO(s)}}function ZO(t){return t.contentEditable="true",Po&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sW(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function P9e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!ioe(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function M9e(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,La(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&ol&&rp<=11&&(n.disabled=!0,n.disabled=!1)}function soe(t,e){if(e instanceof bn){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(aW(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else aW(t)}function aW(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function t3(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||jn.between(e,n,r)}function oW(t){return t.editable&&!t.hasFocus()?!1:aoe(t)}function aoe(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function R9e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ng(e.node,e.offset,n.anchorNode,n.anchorOffset)}function b4(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Fn.findFrom(s,e)}function Oh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function lW(t,e,n){let r=t.state.selection;if(r instanceof jn)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Oh(t,new jn(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=b4(t.state,e);return i&&i instanceof bn?Oh(t,i):!1}else if(!(gc&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?bn.isSelectable(s)?Oh(t,new bn(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Q1?Oh(t,new jn(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof bn&&r.node.isInline)return Oh(t,new jn(e>0?r.$to:r.$from));{let i=b4(t.state,e);return i?Oh(t,i):!1}}}function lE(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Kb(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function cv(t,e){return e<0?I9e(t):D9e(t)}function I9e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(_c&&n.nodeType==1&&r<lE(n)&&Kb(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Kb(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(ooe(n))break;{let l=n.previousSibling;for(;l&&Kb(l,-1);)i=n.parentNode,s=La(l),l=l.previousSibling;if(l)n=l,r=lE(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?w4(t,n,r):i&&w4(t,i,s)}function D9e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=lE(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Kb(l,1))s=n,o=++r;else break}else{if(ooe(n))break;{let l=n.nextSibling;for(;l&&Kb(l,1);)s=l.parentNode,o=La(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=lE(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&w4(t,s,o)}function ooe(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function L9e(t,e){for(;t&&e==t.childNodes.length&&!X1(t);)e=La(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function F9e(t,e){for(;t&&!e&&!X1(t);)e=La(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function w4(t,e,n){if(e.nodeType!=3){let s,o;(o=L9e(e,n))?(e=o,n=0):(s=F9e(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(O_(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&jf(t)},50)}function cW(t,e){let n=t.state.doc.resolve(e);if(!(uo||a9e)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function uW(t,e,n){let r=t.state.selection;if(r instanceof jn&&!r.empty||n.indexOf("s")>-1||gc&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=b4(t.state,e);if(o&&o instanceof bn)return Oh(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof Bl?Fn.near(o,e):Fn.findFrom(o,e);return l?Oh(t,l):!1}return!1}function dW(t,e){if(!(t.state.selection instanceof jn))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function fW(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function $9e(t){if(!Po||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;fW(t,r,"true"),setTimeout(()=>fW(t,r,"false"),20)}return!1}function B9e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function z9e(t,e){let n=e.keyCode,r=B9e(e);if(n==8||gc&&n==72&&r=="c")return dW(t,-1)||cv(t,-1);if(n==46&&!e.shiftKey||gc&&n==68&&r=="c")return dW(t,1)||cv(t,1);if(n==13||n==27)return!0;if(n==37||gc&&n==66&&r=="c"){let i=n==37?cW(t,t.state.selection.from)=="ltr"?-1:1:-1;return lW(t,i,r)||cv(t,i)}else if(n==39||gc&&n==70&&r=="c"){let i=n==39?cW(t,t.state.selection.from)=="ltr"?1:-1:1;return lW(t,i,r)||cv(t,i)}else{if(n==38||gc&&n==80&&r=="c")return uW(t,-1,r)||cv(t,-1);if(n==40||gc&&n==78&&r=="c")return $9e(t)||uW(t,1,r)||cv(t,1);if(r==(gc?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function n3(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||Ng.fromSchema(t.state.schema),l=hoe(),c=l.createElement("div");c.appendChild(o.serializeFragment(r,{document:l}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=foe[u.nodeName.toLowerCase()]);){for(let h=d.length-1;h>=0;h--){let y=l.createElement(d[h]);for(;c.firstChild;)y.appendChild(c.firstChild);c.appendChild(y),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function loe(t,e,n,r,i){let s=i.parent.type.spec.code,o,l;if(!n&&!e)return null;let c=!!e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",m=>{e=m(e,s||r,t)}),s)return l=new Ft(mt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{l=m(l,t,!0)}),l;let f=t.someProp("clipboardTextParser",m=>m(e,i,r,t));if(f)l=f;else{let m=i.marks(),{schema:h}=t.state,y=Ng.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let x=o.appendChild(document.createElement("p"));v&&x.appendChild(y.serializeNode(h.text(v,m)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),o=V9e(n),Q1&&W9e(o);let u=o&&o.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let m=o.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;o=m}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Hb.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!q9e.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)l=K9e(hW(l,+d[1],+d[2]),d[4]);else if(l=Ft.maxOpen(U9e(l.content,i),!0),l.openStart||l.openEnd){let f=0,m=0;for(let h=l.content.firstChild;f<l.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=l.content.lastChild;m<l.openEnd&&!h.type.spec.isolating;m++,h=h.lastChild);l=hW(l,f,m)}return t.someProp("transformPasted",f=>{l=f(l,t,c)}),l}const q9e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function U9e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(l=>{if(!o)return;let c=i.findWrapping(l.type),u;if(!c)return o=null;if(u=o.length&&s.length&&uoe(c,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=doe(o[o.length-1],s.length));let d=coe(l,c);o.push(d),i=i.matchType(d.type),s=c}}),o)return mt.from(o)}return t}function coe(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,mt.from(t));return t}function uoe(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=uoe(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(mt.from(coe(n,t,i+1))))}}function doe(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,doe(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(mt.empty,!0);return t.copy(n.append(r))}function N4(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),i<r-1&&(l=N4(l,e,n,r,i+1,s)),i>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(mt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function hW(t,e,n){return e<t.openStart&&(t=new Ft(N4(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ft(N4(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const foe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let pW=null;function hoe(){return pW||(pW=document.implementation.createHTMLDocument("title"))}let eP=null;function H9e(t){let e=window.trustedTypes;return e?(eP||(eP=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),eP.createHTML(t)):t}function V9e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=hoe().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&foe[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=H9e(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function W9e(t){let e=t.querySelectorAll(uo?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function K9e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;i=mt.from(c.create(r[l+1],i)),s++,o++}return new Ft(i,s,o)}const Mo={},Ro={},G9e={touchstart:!0,touchmove:!0};class Y9e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function X9e(t){for(let e in Mo){let n=Mo[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{J9e(t,r)&&!r3(t,r)&&(t.editable||!(r.type in Ro))&&n(t,r)},G9e[e]?{passive:!0}:void 0)}Po&&t.dom.addEventListener("input",()=>null),S4(t)}function Wh(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Q9e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function S4(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>r3(t,r))})}function r3(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function J9e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Z9e(t,e){!r3(t,e)&&Mo[e.type]&&(t.editable||!(e.type in Ro))&&Mo[e.type](t,e)}Ro.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!moe(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(xf&&uo&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Dy&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,hm(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||z9e(t,n)?n.preventDefault():Wh(t,"key")};Ro.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ro.keypress=(t,e)=>{let n=e;if(moe(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||gc&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof jn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function M_(t){return{left:t.clientX,top:t.clientY}}function eqe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function i3(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,n,s.nodeAfter,s.before(o),i,!0):l(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Kv(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function tqe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&bn.isSelectable(r)?(Kv(t,new bn(n)),!0):!1}function nqe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof bn&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(bn.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Kv(t,bn.create(t.state.doc,i)),!0):!1}function rqe(t,e,n,r,i){return i3(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?nqe(t,n):tqe(t,n))}function iqe(t,e,n,r){return i3(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function sqe(t,e,n,r){return i3(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||aqe(t,n,r)}function aqe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Kv(t,jn.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)Kv(t,jn.create(r,l+1,l+1+o.content.size));else if(bn.isSelectable(o))Kv(t,bn.create(r,l));else continue;return!0}}function s3(t){return cE(t)}const poe=gc?"metaKey":"ctrlKey";Mo.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=s3(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&eqe(n,t.input.lastClick)&&!n[poe]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(M_(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new oqe(t,o,n,!!r)):(s=="doubleClick"?iqe:sqe)(t,o.pos,o.inside,n)?n.preventDefault():Wh(t,"pointer"))};class oqe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[poe],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,o=d.depth?d.before():0}const l=i?null:r.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof bn&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_c&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>jf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(M_(e))),this.updateAllowDefault(e),this.allowDefault||!n?Wh(this.view,"pointer"):rqe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Po&&this.mightDrag&&!this.mightDrag.node.isAtom||uo&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Kv(this.view,Fn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Wh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Wh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Mo.touchstart=t=>{t.input.lastTouch=Date.now(),s3(t),Wh(t,"pointer")};Mo.touchmove=t=>{t.input.lastTouch=Date.now(),Wh(t,"pointer")};Mo.contextmenu=t=>s3(t);function moe(t,e){return t.composing?!0:Po&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const lqe=xf?5e3:-1;Ro.compositionstart=Ro.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof jn&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),cE(t,!0),t.markCursor=null;else if(cE(t,!e.selection.empty),_c&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}goe(t,lqe)};Ro.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,goe(t,20))};function goe(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>cE(t),e))}function voe(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uqe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function cqe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=t9e(e.focusNode,e.focusOffset),r=n9e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function uqe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function cE(t,e=!1){if(!(xf&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),voe(t),e||t.docView&&t.docView.dirty){let n=e3(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function dqe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const l1=ol&&rp<15||Dy&&o9e<604;Mo.copy=Ro.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=l1?null:n.clipboardData,o=r.content(),{dom:l,text:c}=n3(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):dqe(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fqe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function hqe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?c1(t,r.value,null,i,e):c1(t,r.textContent,r.innerHTML,i,e)},50)}function c1(t,e,n,r,i){let s=loe(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,s||Ft.empty)))return!0;if(!s)return!1;let o=fqe(s),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yoe(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ro.paste=(t,e)=>{let n=e;if(t.composing&&!xf)return;let r=l1?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&c1(t,yoe(r),r.getData("text/html"),i,n)?n.preventDefault():hqe(t,n)};class xoe{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const pqe=gc?"altKey":"ctrlKey";function boe(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[pqe]}Mo.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(M_(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof bn?i.to-1:i.to))){if(r&&r.mightDrag)o=bn.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(o=bn.create(t.state.doc,f.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:u,slice:d}=n3(t,l);(!n.dataTransfer.files.length||!uo||Wae>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(l1?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",l1||n.dataTransfer.setData("text/plain",u),t.dragging=new xoe(d,boe(t,n),o)};Mo.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ro.dragover=Ro.dragenter=(t,e)=>e.preventDefault();Ro.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(M_(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",y=>{o=y(o,t,!1)}):o=loe(t,yoe(n.dataTransfer),l1?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&boe(t,n));if(t.someProp("handleDrop",y=>y(t,n,o||Ft.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?jae(t.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let u=t.state.tr;if(l){let{node:y}=r;y?y.replace(u):u.deleteSelection()}let d=u.mapping.map(c),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=u.doc;if(f?u.replaceRangeWith(d,d,o.content.firstChild):u.replaceRange(d,d,o),u.doc.eq(m))return;let h=u.doc.resolve(d);if(f&&bn.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new bn(h));else{let y=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((v,x,b,S)=>y=S),u.setSelection(t3(t,h,u.doc.resolve(y)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Mo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&jf(t)},20))};Mo.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Mo.beforeinput=(t,e)=>{if(uo&&xf&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,hm(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ro)Mo[t]=Ro[t];function u1(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class uE{constructor(e,n){this.toDOM=e,this.spec=n||Mm,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new ta(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof uE&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&u1(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class sp{constructor(e,n){this.attrs=e,this.spec=n||Mm}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new ta(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof sp&&u1(this.attrs,e.attrs)&&u1(this.spec,e.spec)}static is(e){return e.type instanceof sp}destroy(){}}class a3{constructor(e,n){this.attrs=e,this.spec=n||Mm}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new ta(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof a3&&u1(this.attrs,e.attrs)&&u1(this.spec,e.spec)}destroy(){}}class ta{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ta(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ta(e,e,new uE(n,r))}static inline(e,n,r,i){return new ta(e,n,new sp(r,i))}static node(e,n,r,i){return new ta(e,n,new a3(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof sp}get widget(){return this.type instanceof uE}}const yv=[],Mm={};class fi{constructor(e,n){this.local=e.length?e:yv,this.children=n.length?n:yv}static create(e,n){return n.length?dE(n,e,0,Mm):io}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==io||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Mm)}mapInner(e,n,r,i,s){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,r,i);c&&c.type.valid(n,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?mqe(this.children,o||[],e,n,r,i,s):o?new fi(o.sort(Rm),yv):io}add(e,n){return n.length?this==io?fi.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,c)=>{let u=c+r,d;if(d=Noe(n,l,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(l,d,u+1):i.splice(s,0,c,c+l.nodeSize,dE(d,l,u+1,Mm)),s+=3}});let o=woe(s?Soe(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new fi(o.length?this.local.concat(o).sort(Rm):this.local,i||this.children)}remove(e){return e.length==0||this==io?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+n,c=r[s+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>l&&f.to<c&&(e[d]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,l+1);u!=io?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new fi(i,r):io}forChild(e,n){if(this==io)return this;if(n.isLeaf)return fi.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>s&&c.type instanceof sp){let u=Math.max(s,c.from)-s,d=Math.min(o,c.to)-s;u<d&&(i||(i=[])).push(c.copy(u,d))}}if(i){let l=new fi(i.sort(Rm),yv);return r?new Ih([l,r]):l}return r||io}eq(e){if(this==e)return!0;if(!(e instanceof fi)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return o3(this.localsInner(e))}localsInner(e){if(this==io)return yv;if(e.inlineContent||!this.local.some(sp.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof sp||n.push(this.local[r]);return n}forEachSet(e){e(this)}}fi.empty=new fi([],[]);fi.removeOverlap=o3;const io=fi.empty;class Ih{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Mm));return Ih.from(r)}forChild(e,n){if(n.isLeaf)return fi.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=io&&(s instanceof Ih?r=r.concat(s.members):r.push(s))}return Ih.from(r)}eq(e){if(!(e instanceof Ih)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?o3(r?n:n.sort(Rm)):yv}static from(e){switch(e.length){case 0:return io;case 1:return e[0];default:return new Ih(e.every(n=>n instanceof fi)?e:e.reduce((n,r)=>n.concat(r instanceof fi?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function mqe(t,e,n,r,i,s,o){let l=t.slice();for(let u=0,d=s;u<n.maps.length;u++){let f=0;n.maps[u].forEach((m,h,y,v)=>{let x=v-y-(h-m);for(let b=0;b<l.length;b+=3){let S=l[b+1];if(S<0||m>S+d-f)continue;let E=l[b]+d-f;h>=E?l[b+1]=m<=E?-2:-1:m>=d&&x&&(l[b]+=x,l[b+1]+=x)}f+=x}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let d=n.map(t[u]+s),f=d-i;if(f<0||f>=r.content.size){c=!0;continue}let m=n.map(t[u+1]+s,-1),h=m-i,{index:y,offset:v}=r.content.findIndex(f),x=r.maybeChild(y);if(x&&v==f&&v+x.nodeSize==h){let b=l[u+2].mapInner(n,x,d+1,t[u]+s+1,o);b!=io?(l[u]=f,l[u+1]=h,l[u+2]=b):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=gqe(l,t,e,n,i,s,o),d=dE(u,r,0,o);e=d.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,m=0;f<d.children.length;f+=3){let h=d.children[f];for(;m<l.length&&l[m]<h;)m+=3;l.splice(m,0,d.children[f],d.children[f+1],d.children[f+2])}}return new fi(e.sort(Rm),l)}function woe(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ta(i.from+e,i.to+e,i.type))}return n}function gqe(t,e,n,r,i,s,o){function l(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(r,i,u);f?n.push(f):o.onRemove&&o.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)l(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return n}function Noe(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function Soe(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function dE(t,e,n,r){let i=[],s=!1;e.forEach((l,c)=>{let u=Noe(t,l,c+n);if(u){s=!0;let d=dE(u,l,n+c+1,r);d!=io&&i.push(c,c+l.nodeSize,d)}});let o=woe(s?Soe(t):t,-n).sort(Rm);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new fi(o,i):io}function Rm(t,e){return t.from-e.from||t.to-e.to}function o3(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),mW(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),mW(e,i,r.copy(s.from,r.to)));break}}}return e}function mW(t,e,n){for(;e<t.length&&Rm(n,t[e])>0;)e++;t.splice(e,0,n)}function tP(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=io&&e.push(r)}),t.cursorWrapper&&e.push(fi.create(t.state.doc,[t.cursorWrapper.deco])),Ih.from(e)}const vqe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yqe=ol&&rp<=11;class xqe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class bqe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new xqe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ol&&rp<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),yqe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vqe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(oW(this.view)){if(this.suppressingSelectionUpdates)return jf(this.view);if(ol&&rp<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ng(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Iy(s))n.add(s);for(let s=e.anchorNode;s;s=Iy(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&oW(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(s=s<0?f.from:Math.min(f.from,s),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(l=!0))}if(_c&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,m]=d;f.parentNode&&f.parentNode.parentNode==m.parentNode?m.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let m of d){let h=m.parentNode;h&&h.nodeName=="LI"&&(!f||Sqe(e,f)!=h)&&m.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&O_(r)&&(u=e3(e))&&u.eq(Fn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,jf(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),wqe(e)),this.handleDOMChange(s,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||jf(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(ol&&rp<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:m}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let o=i&&i.parentNode==e.target?La(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?La(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let gW=new WeakMap,vW=!1;function wqe(t){if(!gW.has(t)&&(gW.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=_c,vW)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),vW=!0}}function yW(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return ng(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Nqe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return yW(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?yW(t,n):null}function Sqe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Eqe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],O_(c)||u.push({node:c.focusNode,offset:c.focusOffset})),uo&&t.input.lastKeyCode===8)for(let x=s;x>i;x--){let b=r.childNodes[x-1],S=b.pmViewDesc;if(b.nodeName=="BR"&&!S){s=x;break}if(!S||S.size)break}let f=t.state.doc,m=t.someProp("domParser")||Hb.fromSchema(t.state.schema),h=f.resolve(o),y=null,v=m.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:jqe,context:h});if(u&&u[0].pos!=null){let x=u[0].pos,b=u[1]&&u[1].pos;b==null&&(b=x),y={anchor:x+o,head:b+o}}return{doc:v,sel:y,from:o,to:l}}function jqe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Po&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Po&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const _qe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Cqe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=e3(t,M);if(A&&!t.state.selection.eq(A)){if(uo&&xf&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",F=>F(t,hm(13,"Enter"))))return;let P=t.state.tr.setSelection(A);M=="pointer"?P.setMeta("pointer",!0):M=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),t.dispatch(P)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,u=Eqe(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),m,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,h="end"):(m=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let y=Tqe(f.content,u.doc.content,u.from,m,h);if(y&&t.input.domChangeCount++,(Dy&&t.input.lastIOSEnter>Date.now()-225||xf)&&i.some(M=>M.nodeType==1&&!_qe.test(M.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",M=>M(t,hm(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(r&&c instanceof jn&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))y={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let M=xW(t,t.state.doc,u.sel);if(M&&!M.eq(t.state.selection)){let A=t.state.tr.setSelection(M);s&&A.setMeta("composition",s),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof jn&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),ol&&rp<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>u.from&&u.doc.textBetween(y.start-u.from-1,y.start-u.from+1)==" "&&(y.start--,y.endA--,y.endB--);let v=u.doc.resolveNoCache(y.start-u.from),x=u.doc.resolveNoCache(y.endB-u.from),b=d.resolve(y.start),S=v.sameParent(x)&&v.parent.inlineContent&&b.end()>=y.endA;if((Dy&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!S&&v.pos<u.doc.content.size&&(!v.sameParent(x)||!v.parent.inlineContent)&&v.pos<x.pos&&!/\S/.test(u.doc.textBetween(v.pos,x.pos,"","")))&&t.someProp("handleKeyDown",M=>M(t,hm(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&kqe(d,y.start,y.endA,v,x)&&t.someProp("handleKeyDown",M=>M(t,hm(8,"Backspace")))){xf&&uo&&t.domObserver.suppressSelectionUpdates();return}uo&&y.endB==y.start&&(t.input.lastChromeDelete=Date.now()),xf&&!S&&v.start()!=x.start()&&x.parentOffset==0&&v.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==y.endA&&(y.endB-=2,x=u.doc.resolveNoCache(y.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,hm(13,"Enter"))})},20));let E=y.start,_=y.endA,C=M=>{let A=M||t.state.tr.replace(E,_,u.doc.slice(y.start-u.from,y.endB-u.from));if(u.sel){let P=xW(t,A.doc,u.sel);P&&!(uo&&t.composing&&P.empty&&(y.start!=y.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==E||P.head==A.mapping.map(_)-1)||ol&&P.empty&&P.head==E)&&A.setSelection(P)}return s&&A.setMeta("composition",s),A.scrollIntoView()},O;if(S)if(v.pos==x.pos){ol&&rp<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>jf(t),20));let M=C(t.state.tr.delete(E,_)),A=d.resolve(y.start).marksAcross(d.resolve(y.endA));A&&M.ensureMarks(A),t.dispatch(M)}else if(y.endA==y.endB&&(O=Aqe(v.parent.content.cut(v.parentOffset,x.parentOffset),b.parent.content.cut(b.parentOffset,y.endA-b.start())))){let M=C(t.state.tr);O.type=="add"?M.addMark(E,_,O.mark):M.removeMark(E,_,O.mark),t.dispatch(M)}else if(v.parent.child(v.index()).isText&&v.index()==x.index()-(x.textOffset?0:1)){let M=v.parent.textBetween(v.parentOffset,x.parentOffset),A=()=>C(t.state.tr.insertText(M,E,_));t.someProp("handleTextInput",P=>P(t,E,_,M,A))||t.dispatch(A())}else t.dispatch(C());else t.dispatch(C())}function xW(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:t3(t,e.resolve(n.anchor),e.resolve(n.head))}function Aqe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,l,c;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",c=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",c=d=>d.mark(l.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(mt.from(u).eq(t))return{mark:l,type:o}}function kqe(t,e,n,r,i){if(n-e<=i.pos-r.pos||nP(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(nP(s,!0,!0));return!o.parent.isTextblock||o.pos>n||nP(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function nP(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Tqe(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,l));r-=o+c-s}if(o<s&&t.size<e.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<e.size&&bW(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-o),o=s}else if(l<s){let c=r<=s&&r>=l?s-r:0;s-=c,s&&s<t.size&&bW(t.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function bW(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Eoe{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Y9e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(jW),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=SW(this),NW(this),this.nodeViews=EW(this),this.docView=tW(this.state.doc,wW(this),tP(this),this.dom,this),this.domObserver=new bqe(this,(r,i,s,o)=>Cqe(this,r,i,s,o)),this.domObserver.start(),X9e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&S4(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jW),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(voe(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=EW(this);Pqe(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&S4(this),this.editable=SW(this),NW(this);let c=tP(this),u=wW(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(i.selection))&&(o=!0);let m=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&u9e(this);if(o){this.domObserver.stop();let h=f&&(ol||uo)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Oqe(i.selection,e.selection);if(f){let y=uo?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=cqe(this)),(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=tW(e.doc,u,c,this.dom,this)),y&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&R9e(this))?jf(this,h):(soe(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&d9e(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof bn){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&YV(this,n.getBoundingClientRect(),e)}else YV(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new xoe(e.slice,e.move,i<0?void 0:bn.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(ol){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&f9e(this.dom),jf(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return v9e(this,e)}coordsAtPos(e,n=1){return Qae(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return N9e(this,n||this.state,e)}pasteHTML(e,n){return c1(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return c1(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return n3(this,e)}destroy(){this.docView&&(Q9e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Zze())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Z9e(this,e)}domSelectionRange(){let e=this.domSelection();return e?Po&&this.root.nodeType===11&&i9e(this.dom.ownerDocument)==this.dom&&Nqe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Eoe.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function wW(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ta.node(0,t.state.doc.content.size,e)]}function NW(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ta.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function SW(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Oqe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function EW(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Pqe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function jW(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var mp={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fE={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Mqe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Rqe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Fa=0;Fa<10;Fa++)mp[48+Fa]=mp[96+Fa]=String(Fa);for(var Fa=1;Fa<=24;Fa++)mp[Fa+111]="F"+Fa;for(var Fa=65;Fa<=90;Fa++)mp[Fa]=String.fromCharCode(Fa+32),fE[Fa]=String.fromCharCode(Fa);for(var rP in mp)fE.hasOwnProperty(rP)||(fE[rP]=mp[rP]);function Iqe(t){var e=Mqe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Rqe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?fE:mp)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Dqe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Lqe=typeof navigator<"u"&&/Win/.test(navigator.platform);function Fqe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Dqe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function $qe(t){let e=Object.create(null);for(let n in t)e[Fqe(n)]=t[n];return e}function iP(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Bqe(t){return new Ii({props:{handleKeyDown:l3(t)}})}function l3(t){let e=$qe(t);return function(n,r){let i=Iqe(r),s,o=e[iP(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[iP(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Lqe&&r.ctrlKey&&r.altKey)&&(s=mp[r.keyCode])&&s!=i){let l=e[iP(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var zqe=Object.defineProperty,c3=(t,e)=>{for(var n in e)zqe(t,n,{get:e[n],enumerable:!0})};function R_(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var I_=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...u)=>{const d=l(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],l=!!t,c=t||i.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),o.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,m])=>[f,(...y)=>{const v=this.buildProps(c,e),x=m(...y)(v);return o.push(x),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:R_({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(o)]))}};return o}},joe={};c3(joe,{blur:()=>qqe,clearContent:()=>Uqe,clearNodes:()=>Hqe,command:()=>Vqe,createParagraphNear:()=>Wqe,cut:()=>Kqe,deleteCurrentNode:()=>Gqe,deleteNode:()=>Yqe,deleteRange:()=>Xqe,deleteSelection:()=>Qqe,enter:()=>Jqe,exitCode:()=>Zqe,extendMarkRange:()=>eUe,first:()=>tUe,focus:()=>rUe,forEach:()=>iUe,insertContent:()=>sUe,insertContentAt:()=>lUe,joinBackward:()=>dUe,joinDown:()=>uUe,joinForward:()=>fUe,joinItemBackward:()=>hUe,joinItemForward:()=>pUe,joinTextblockBackward:()=>mUe,joinTextblockForward:()=>gUe,joinUp:()=>cUe,keyboardShortcut:()=>yUe,lift:()=>xUe,liftEmptyBlock:()=>bUe,liftListItem:()=>wUe,newlineInCode:()=>NUe,resetAttributes:()=>SUe,scrollIntoView:()=>EUe,selectAll:()=>jUe,selectNodeBackward:()=>_Ue,selectNodeForward:()=>CUe,selectParentNode:()=>AUe,selectTextblockEnd:()=>kUe,selectTextblockStart:()=>TUe,setContent:()=>OUe,setMark:()=>GUe,setMeta:()=>YUe,setNode:()=>XUe,setNodeSelection:()=>QUe,setTextSelection:()=>JUe,sinkListItem:()=>ZUe,splitBlock:()=>eHe,splitListItem:()=>tHe,toggleList:()=>nHe,toggleMark:()=>rHe,toggleNode:()=>iHe,toggleWrap:()=>sHe,undoInputRule:()=>aHe,unsetAllMarks:()=>oHe,unsetMark:()=>lHe,updateAttributes:()=>cHe,wrapIn:()=>uHe,wrapInList:()=>dHe});var qqe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Uqe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Hqe=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),m=u.resolve(d.map(c+l.nodeSize)),h=f.blockRange(m);if(!h)return;const y=gx(h);if(l.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,v)}(y||y===0)&&e.lift(h,y)})}),!0},Vqe=t=>e=>t(e),Wqe=()=>({state:t,dispatch:e})=>zae(t,e),Kqe=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new jn(r.doc.resolve(Math.max(o-1,0)))),!0},Gqe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),c=i.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1};function qs(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Yqe=t=>({tr:e,state:n,dispatch:r})=>{const i=qs(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const c=s.before(o),u=s.after(o);e.delete(c,u).scrollIntoView()}return!0}return!1},Xqe=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Qqe=()=>({state:t,dispatch:e})=>GL(t,e),Jqe=()=>({commands:t})=>t.keyboardShortcut("Enter"),Zqe=()=>({state:t,dispatch:e})=>Fze(t,e);function u3(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function hE(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:u3(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function _oe(t,e,n={}){return t.find(r=>r.type===e&&hE(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function _W(t,e,n={}){return!!_oe(t,e,n)}function d3(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!_oe([...i.node.marks],e,n)))return;let o=i.index,l=t.start()+i.offset,c=o+1,u=l+i.node.nodeSize;for(;o>0&&_W([...t.parent.child(o-1).marks],e,n);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&_W([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function Bf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var eUe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Bf(t,r.schema),{doc:o,selection:l}=n,{$from:c,from:u,to:d}=l;if(i){const f=d3(c,s,e);if(f&&f.from<=u&&f.to>=d){const m=jn.create(o,f.from,f.to);n.setSelection(m)}}return!0},tUe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Coe(t){return t instanceof jn}function jm(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Aoe(t,e=null){if(!e)return null;const n=Fn.atStart(t),r=Fn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?jn.create(t,jm(0,i,s),jm(t.content.size,i,s)):jn.create(t,jm(e,i,s),jm(e,i,s))}function nUe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function f3(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var rUe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(f3()||nUe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Coe(n.state.selection))return o(),!0;const l=Aoe(i.doc,t)||n.state.selection,c=n.state.selection.eq(l);return s&&(c||i.setSelection(l),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},iUe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),sUe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),koe=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&koe(r)}return t};function S2(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return koe(n)}function d1(t,e,n){if(t instanceof np||t instanceof mt)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return mt.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),d1("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,l="";const c=new pae({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Hb.fromSchema(c).parseSlice(S2(t),n.parseOptions):Hb.fromSchema(c).parse(S2(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Hb.fromSchema(e);return n.slice?s.parseSlice(S2(t),n.parseOptions).content:s.parse(S2(t),n.parseOptions)}return d1("",e,n)}function aUe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ba||i instanceof Na))return;const s=t.mapping.maps[r];let o=0;s.forEach((l,c,u,d)=>{o===0&&(o=d)}),t.setSelection(Fn.near(t.doc.resolve(o),n))}var oUe=t=>!("type"in t),lUe=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const c=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{d1(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(x){c(x)}try{l=d1(e,s.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(x){return c(x),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,h=!0;if((oUe(l)?l:[l]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,h=h?x.isBlock:!1}),d===f&&h){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,f+=1)}let v;if(m){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof mt){let x="";e.forEach(b=>{b.text&&(x+=b.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,f)}else{v=l;const x=r.doc.resolve(d),b=x.node(),S=x.parentOffset===0,E=b.isText||b.isTextblock,_=b.content.size>0;S&&E&&_&&(d=Math.max(0,d-1)),r.replaceWith(d,f,v)}n.updateSelection&&aUe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},cUe=()=>({state:t,dispatch:e})=>Ize(t,e),uUe=()=>({state:t,dispatch:e})=>Dze(t,e),dUe=()=>({state:t,dispatch:e})=>Rae(t,e),fUe=()=>({state:t,dispatch:e})=>Fae(t,e),hUe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=A_(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},pUe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=A_(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},mUe=()=>({state:t,dispatch:e})=>Mze(t,e),gUe=()=>({state:t,dispatch:e})=>Rze(t,e);function Toe(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function vUe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))f3()||Toe()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var yUe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=vUe(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return c?.steps.forEach(u=>{const d=u.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function gp(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?qs(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(f,m)=>{if(f.isText)return;const h=Math.max(r,m),y=Math.min(i,m+f.nodeSize);l.push({node:f,from:h,to:y})});const c=i-r,u=l.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>hE(f.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((f,m)=>f+m.to-m.from,0)>=c}var xUe=(t,e={})=>({state:n,dispatch:r})=>{const i=qs(t,n.schema);return gp(n,i,e)?Lze(n,r):!1},bUe=()=>({state:t,dispatch:e})=>qae(t,e),wUe=t=>({state:e,dispatch:n})=>{const r=qs(t,e.schema);return Yze(r)(e,n)},NUe=()=>({state:t,dispatch:e})=>Bae(t,e);function D_(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function CW(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var SUe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=D_(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=qs(t,r.schema)),l==="mark"&&(o=Bf(t,r.schema)),i&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&n.setNodeMarkup(d,void 0,CW(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(f=>{o===f.type&&n.addMark(d,d+u.nodeSize,o.create(CW(f.attrs,e)))})})}),!0):!1},EUe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),jUe=()=>({tr:t,dispatch:e})=>{if(e){const n=new Bl(t.doc);t.setSelection(n)}return!0},_Ue=()=>({state:t,dispatch:e})=>Dae(t,e),CUe=()=>({state:t,dispatch:e})=>$ae(t,e),AUe=()=>({state:t,dispatch:e})=>zze(t,e),kUe=()=>({state:t,dispatch:e})=>Hze(t,e),TUe=()=>({state:t,dispatch:e})=>Uze(t,e);function E4(t,e,n={},r={}){return d1(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var OUe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:l})=>{const{doc:c}=s;if(r.preserveWhitespace!=="full"){const u=E4(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Ooe(t,e){const n=Bf(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===n.name);return l?{...l.attrs}:{}}function Poe(t,e){const n=new WL(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function PUe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function j4(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function MUe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function Moe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function L_(t){return e=>Moe(e.$from,t)}function vn(t,e,n){return t.config[e]===void 0&&t.parent?vn(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?vn(t.parent,e,n):null}):t.config[e]}function h3(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=vn(e,"addExtensions",n);return r?[e,...h3(r())]:e}).flat(10)}function p3(t,e){const n=Ng.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Roe(t){return typeof t=="function"}function Gr(t,e=void 0,...n){return Roe(t)?e?t.bind(e)(...n):t(...n):t}function RUe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function f1(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Ioe(t){const e=[],{nodeExtensions:n,markExtensions:r}=f1(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:i},c=vn(o,"addGlobalAttributes",l);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([m,h])=>{e.push({type:f,name:m,attribute:{...s,...h}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=vn(o,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const m={...s,...f};typeof m?.default=="function"&&(m.default=m.default()),m?.isRequired&&m?.default===void 0&&delete m.default,e.push({type:o.name,name:d,attribute:m})})}),e}function gi(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],u=l.filter(d=>!c.includes(d));r[i]=[...c,...u].join(" ")}else if(i==="style"){const l=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,m]=d.split(":").map(h=>h.trim());u.set(f,m)}),l.forEach(d=>{const[f,m]=d.split(":").map(h=>h.trim());u.set(f,m)}),r[i]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[i]=s}),r},{})}function pE(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>gi(n,r),{})}function IUe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function AW(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):IUe(n.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function kW(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&RUe(n)?!1:n!=null))}function DUe(t,e){var n;const r=Ioe(t),{nodeExtensions:i,markExtensions:s}=f1(t),o=(n=i.find(u=>vn(u,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(u=>{const d=r.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((b,S)=>{const E=vn(S,"extendNodeSchema",f);return{...b,...E?E(u):{}}},{}),h=kW({...m,content:Gr(vn(u,"content",f)),marks:Gr(vn(u,"marks",f)),group:Gr(vn(u,"group",f)),inline:Gr(vn(u,"inline",f)),atom:Gr(vn(u,"atom",f)),selectable:Gr(vn(u,"selectable",f)),draggable:Gr(vn(u,"draggable",f)),code:Gr(vn(u,"code",f)),whitespace:Gr(vn(u,"whitespace",f)),linebreakReplacement:Gr(vn(u,"linebreakReplacement",f)),defining:Gr(vn(u,"defining",f)),isolating:Gr(vn(u,"isolating",f)),attrs:Object.fromEntries(d.map(b=>{var S,E;return[b.name,{default:(S=b?.attribute)==null?void 0:S.default,validate:(E=b?.attribute)==null?void 0:E.validate}]}))}),y=Gr(vn(u,"parseHTML",f));y&&(h.parseDOM=y.map(b=>AW(b,d)));const v=vn(u,"renderHTML",f);v&&(h.toDOM=b=>v({node:b,HTMLAttributes:pE(b,d)}));const x=vn(u,"renderText",f);return x&&(h.toText=x),[u.name,h]})),c=Object.fromEntries(s.map(u=>{const d=r.filter(x=>x.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((x,b)=>{const S=vn(b,"extendMarkSchema",f);return{...x,...S?S(u):{}}},{}),h=kW({...m,inclusive:Gr(vn(u,"inclusive",f)),excludes:Gr(vn(u,"excludes",f)),group:Gr(vn(u,"group",f)),spanning:Gr(vn(u,"spanning",f)),code:Gr(vn(u,"code",f)),attrs:Object.fromEntries(d.map(x=>{var b,S;return[x.name,{default:(b=x?.attribute)==null?void 0:b.default,validate:(S=x?.attribute)==null?void 0:S.validate}]}))}),y=Gr(vn(u,"parseHTML",f));y&&(h.parseDOM=y.map(x=>AW(x,d)));const v=vn(u,"renderHTML",f);return v&&(h.toDOM=x=>v({mark:x,HTMLAttributes:pE(x,d)})),[u.name,h]}));return new pae({topNode:o,nodes:l,marks:c})}function LUe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function m3(t){return t.sort((n,r)=>{const i=vn(n,"priority")||100,s=vn(r,"priority")||100;return i>s?-1:i<s?1:0})}function Doe(t){const e=m3(h3(t)),n=LUe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Loe(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let l="";return t.nodesBetween(r,i,(c,u,d,f)=>{var m;c.isBlock&&u>r&&(l+=s);const h=o?.[c.type.name];if(h)return d&&(l+=h({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(l+=(m=c?.text)==null?void 0:m.slice(Math.max(r,u)-u,i-u))}),l}function FUe(t,e){const n={from:0,to:t.content.size};return Loe(t,n,e)}function Foe(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function $Ue(t,e){const n=qs(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function $oe(t,e){const n=D_(typeof e=="string"?e:e.name,t.schema);return n==="node"?$Ue(t,e):n==="mark"?Ooe(t,e):{}}function BUe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function zUe(t){const e=BUe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function Boe(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=n[s];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const u=e.slice(s).map(l,-1),d=e.slice(s).map(c),f=e.invert().map(u,-1),m=e.invert().map(d);r.push({oldRange:{from:f,to:m},newRange:{from:u,to:d}})})}),zUe(r)}function g3(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=d3(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var qUe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const l=i.node(s);l?.type.name===e?o=l:s-=1}return[o,s]};function sP(t,e){return e.nodes[t]||e.marks[t]||null}function uN(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var UUe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var c,u;const d=((u=(c=i.type.spec).toText)==null?void 0:u.call(c,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function _4(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Bf(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>hE(f.attrs,n,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:f,$to:m})=>{const h=f.pos,y=m.pos;t.doc.nodesBetween(h,y,(v,x)=>{if(!v.isText&&!v.marks.length)return;const b=Math.max(h,x),S=Math.min(y,x+v.nodeSize),E=S-b;o+=E,l.push(...v.marks.map(_=>({mark:_,from:b,to:S})))})}),o===0)return!1;const c=l.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>hE(f.mark.attrs,n,{strict:!1})).reduce((f,m)=>f+m.to-m.from,0),u=l.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,m)=>f+m.to-m.from,0);return(c>0?c+u:c)>=o}function HUe(t,e,n={}){if(!e)return gp(t,null,n)||_4(t,null,n);const r=D_(e,t.schema);return r==="node"?gp(t,e,n):r==="mark"?_4(t,e,n):!1}var VUe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=L_(l=>l.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},WUe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function TW(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function OW(t,e){const{nodeExtensions:n}=f1(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Gr(vn(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function F_(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(F_(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function zoe(t){return t instanceof bn}function KUe(t,e,n){var r;const{selection:i}=e;let s=null;if(Coe(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(u=>u.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,c.pos,(d,f,m)=>{if(u)return!1;if(d.isInline){const h=!m||m.type.allowsMarkType(n),y=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=h&&y}return!u}),u})}var GUe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:l}=s,c=Bf(t,r.schema);if(i)if(o){const u=Ooe(r,c);n.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(m,h)=>{const y=Math.max(h,d),v=Math.min(h+m.nodeSize,f);m.marks.find(b=>b.type===c)?m.marks.forEach(b=>{c===b.type&&n.addMark(y,v,c.create({...b.attrs,...e}))}):n.addMark(y,v,c.create(e))})});return KUe(r,n,c)},YUe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),XUe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=qs(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>WV(s,{...o,...e})(n)?!0:l.clearNodes()).command(({state:l})=>WV(s,{...o,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},QUe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=jm(t,0,r.content.size),s=bn.create(r,i);e.setSelection(s)}return!0},JUe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=jn.atStart(r).from,l=jn.atEnd(r).to,c=jm(i,o,l),u=jm(s,o,l),d=jn.create(r,c,u);e.setSelection(d)}return!0},ZUe=t=>({state:e,dispatch:n})=>{const r=qs(t,e.schema);return Jze(r)(e,n)};function PW(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var eHe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:c}=s,u=i.extensionManager.attributes,d=uN(u,l.node().type.name,l.node().attrs);if(s instanceof bn&&s.node.isBlock)return!l.parentOffset||!Ef(o,l.pos)?!1:(r&&(t&&PW(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,m=l.depth===0?void 0:PUe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=f&&m?[{type:m,attrs:d}]:void 0,y=Ef(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!y&&Ef(e.doc,e.mapping.map(l.pos),1,m?[{type:m}]:void 0)&&(y=!0,h=m?[{type:m,attrs:d}]:void 0),r){if(y&&(s instanceof jn&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),m&&!f&&!l.parentOffset&&l.parent.type!==m)){const v=e.mapping.map(l.before()),x=e.doc.resolve(v);l.node(-1).canReplaceWith(x.index(),x.index()+1,m)&&e.setNodeMarkup(e.mapping.map(l.before()),m)}t&&PW(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return y},tHe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const l=qs(t,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==l)return!1;const m=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let b=mt.empty;const S=c.index(-1)?1:c.index(-2)?2:3;for(let A=c.depth-S;A>=c.depth-3;A-=1)b=mt.from(c.node(A).copy(b));const E=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,_={...uN(m,c.node().type.name,c.node().attrs),...e},C=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(_))||void 0;b=b.append(mt.from(l.createAndFill(null,C)||void 0));const O=c.before(c.depth-(S-1));n.replace(O,c.after(-E),new Ft(b,4-S,0));let M=-1;n.doc.nodesBetween(O,n.doc.content.size,(A,P)=>{if(M>-1)return!1;A.isTextblock&&A.content.size===0&&(M=P+1)}),M>-1&&n.setSelection(jn.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const h=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,y={...uN(m,f.type.name,f.attrs),...e},v={...uN(m,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const x=h?[{type:l,attrs:y},{type:h,attrs:v}]:[{type:l,attrs:y}];if(!Ef(n.doc,c.pos,2))return!1;if(i){const{selection:b,storedMarks:S}=r,{splittableMarks:E}=s.extensionManager,_=S||b.$to.parentOffset&&b.$from.marks();if(n.split(c.pos,2,x).scrollIntoView(),!_||!i)return!0;const C=_.filter(O=>E.includes(O.type.name));n.ensureMarks(C)}return!0},aP=(t,e)=>{const n=L_(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&kp(t.doc,n.pos)&&t.join(n.pos),!0},oP=(t,e)=>{const n=L_(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&kp(t.doc,r)&&t.join(r),!0},nHe=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:m}=i.extensionManager,h=qs(t,o.schema),y=qs(e,o.schema),{selection:v,storedMarks:x}=o,{$from:b,$to:S}=v,E=b.blockRange(S),_=x||v.$to.parentOffset&&v.$from.marks();if(!E)return!1;const C=L_(O=>OW(O.type.name,f))(v);if(E.depth>=1&&C&&E.depth-C.depth<=1){if(C.node.type===h)return u.liftListItem(y);if(OW(C.node.type.name,f)&&h.validContent(C.node.content)&&l)return c().command(()=>(s.setNodeMarkup(C.pos,h),!0)).command(()=>aP(s,h)).command(()=>oP(s,h)).run()}return!n||!_||!l?c().command(()=>d().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>aP(s,h)).command(()=>oP(s,h)).run():c().command(()=>{const O=d().wrapInList(h,r),M=_.filter(A=>m.includes(A.type.name));return s.ensureMarks(M),O?!0:u.clearNodes()}).wrapInList(h,r).command(()=>aP(s,h)).command(()=>oP(s,h)).run()},rHe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Bf(t,r.schema);return _4(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},iHe=(t,e,n={})=>({state:r,commands:i})=>{const s=qs(t,r.schema),o=qs(e,r.schema),l=gp(r,s,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),l?i.setNode(o,c):i.setNode(s,{...c,...n})},sHe=(t,e={})=>({state:n,commands:r})=>{const i=qs(t,n.schema);return gp(n,i,e)?r.lift(i):r.wrapIn(i,e)},aHe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},oHe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},lHe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,c=Bf(t,r.schema),{$from:u,empty:d,ranges:f}=l;if(!i)return!0;if(d&&o){let{from:m,to:h}=l;const y=(s=u.marks().find(x=>x.type===c))==null?void 0:s.attrs,v=d3(u,c,y);v&&(m=v.from,h=v.to),n.removeMark(m,h,c)}else f.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,c)});return n.removeStoredMark(c),!0},cHe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=D_(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=qs(t,r.schema)),l==="mark"&&(o=Bf(t,r.schema)),i&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,m,h,y;n.selection.empty?r.doc.nodesBetween(u,d,(v,x)=>{s&&s===v.type&&(h=Math.max(x,u),y=Math.min(x+v.nodeSize,d),f=x,m=v)}):r.doc.nodesBetween(u,d,(v,x)=>{x<u&&s&&s===v.type&&(h=Math.max(x,u),y=Math.min(x+v.nodeSize,d),f=x,m=v),x>=u&&x<=d&&(s&&s===v.type&&n.setNodeMarkup(x,void 0,{...v.attrs,...e}),o&&v.marks.length&&v.marks.forEach(b=>{if(o===b.type){const S=Math.max(x,u),E=Math.min(x+v.nodeSize,d);n.addMark(S,E,o.create({...b.attrs,...e}))}}))}),m&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(v=>{o===v.type&&n.addMark(h,y,o.create({...v.attrs,...e}))}))}),!0):!1},uHe=(t,e={})=>({state:n,dispatch:r})=>{const i=qs(t,n.schema);return Vze(i,e)(n,r)},dHe=(t,e={})=>({state:n,dispatch:r})=>{const i=qs(t,n.schema);return Wze(i,e)(n,r)},fHe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},$_=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},hHe=(t,e)=>{if(u3(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function E2(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:l}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let d=!1;const f=UUe(u)+s;return o.forEach(m=>{if(d)return;const h=hHe(f,m.find);if(!h)return;const y=c.state.tr,v=R_({state:c.state,transaction:y}),x={from:r-(h[0].length-s.length),to:i},{commands:b,chain:S,can:E}=new I_({editor:n,state:v});m.handler({state:v,range:x,match:h,commands:b,chain:S,can:E})===null||!y.steps.length||(m.undoable&&y.setMeta(l,{transform:y,from:r,to:i,text:s}),c.dispatch(y),d=!0)}),d}function pHe(t){const{editor:e,rules:n}=t,r=new Ii({state:{init(){return null},apply(i,s,o){const l=i.getMeta(r);if(l)return l;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=p3(mt.from(d),o.schema);const{from:f}=c,m=f+d.length;E2({editor:e,from:f,to:m,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,l){return E2({editor:e,from:s,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&E2({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?E2({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function mHe(t){return Object.prototype.toString.call(t).slice(8,-1)}function j2(t){return mHe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function qoe(t,e){const n={...t};return j2(t)&&j2(e)&&Object.keys(e).forEach(r=>{j2(e[r])&&j2(t[r])?n[r]=qoe(t[r],e[r]):n[r]=e[r]}),n}var v3=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Gr(vn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Gr(vn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>qoe(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},zf=class Uoe extends v3{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Uoe(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>u?.type.name===n.name))return!1;const c=o.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function gHe(t){return typeof t=="number"}var vHe=class{constructor(t){this.find=t.find,this.handler=t.handler}},yHe=(t,e,n)=>{if(u3(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function xHe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:u,can:d}=new I_({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(h,y)=>{var v,x,b,S,E;if((x=(v=h.type)==null?void 0:v.spec)!=null&&x.code||!(h.isText||h.isTextblock||h.isInline))return;const _=(E=(S=(b=h.content)==null?void 0:b.size)!=null?S:h.nodeSize)!=null?E:0,C=Math.max(r,y),O=Math.min(i,y+_);if(C>=O)return;const M=h.isText?h.text||"":h.textBetween(C-y,O-y,void 0,"");yHe(M,s.find,o).forEach(P=>{if(P.index===void 0)return;const F=C+P.index+1,R=F+P[0].length,$={from:n.tr.mapping.map(F),to:n.tr.mapping.map(R)},q=s.handler({state:n,range:$,match:P,commands:c,chain:u,can:d,pasteEvent:o,dropEvent:l});f.push(q)})}),f.every(h=>h!==null)}var _2=null,bHe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function wHe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:d,from:f,to:m,rule:h,pasteEvt:y})=>{const v=d.tr,x=R_({state:d,transaction:v});if(!(!xHe({editor:e,state:x,from:Math.max(f-1,0),to:m.b-1,rule:h,pasteEvent:y,dropEvent:l})||!v.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Ii({view(f){const m=y=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(y.target)?f.dom.parentElement:null,r&&(_2=e)},h=()=>{_2&&(_2=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,m)=>{if(s=r===f.dom.parentElement,l=m,!s){const h=_2;h?.isEditable&&setTimeout(()=>{const y=h.state.selection;y&&h.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(f,m)=>{var h;const y=(h=m.clipboardData)==null?void 0:h.getData("text/html");return o=m,i=!!y?.includes("data-pm-slice"),!1}}},appendTransaction:(f,m,h)=>{const y=f[0],v=y.getMeta("uiEvent")==="paste"&&!i,x=y.getMeta("uiEvent")==="drop"&&!s,b=y.getMeta("applyPasteRules"),S=!!b;if(!v&&!x&&!S)return;if(S){let{text:C}=b;typeof C=="string"?C=C:C=p3(mt.from(C),h.schema);const{from:O}=b,M=O+C.length,A=bHe(C);return c({rule:d,state:h,from:O,to:{b:M},pasteEvt:A})}const E=m.doc.content.findDiffStart(h.doc.content),_=m.doc.content.findDiffEnd(h.doc.content);if(!(!gHe(E)||!_||E===_.b))return c({rule:d,state:h,from:E,to:_,pasteEvt:o})}}))}var B_=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=Doe(t),this.schema=DUe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:sP(e.name,this.schema)},r=vn(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return m3([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:sP(r.name,this.schema)},s=[],o=vn(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&vn(r,"exitable",i)&&(l.ArrowRight=()=>zf.handleExit({editor:t,mark:r})),o){const m=Object.fromEntries(Object.entries(o()).map(([h,y])=>[h,()=>y({editor:t})]));l={...l,...m}}const c=Bqe(l);s.push(c);const u=vn(r,"addInputRules",i);if(TW(r,t.options.enableInputRules)&&u){const m=u();if(m&&m.length){const h=pHe({editor:t,rules:m}),y=Array.isArray(h)?h:[h];s.push(...y)}}const d=vn(r,"addPasteRules",i);if(TW(r,t.options.enablePasteRules)&&d){const m=d();if(m&&m.length){const h=wHe({editor:t,rules:m});s.push(...h)}}const f=vn(r,"addProseMirrorPlugins",i);if(f){const m=f();s.push(...m)}return s})}get attributes(){return Ioe(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=f1(this.extensions);return Object.fromEntries(e.filter(n=>!!vn(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:qs(n.name,this.schema)},s=vn(n,"addNodeView",i);if(!s)return[];const o=(l,c,u,d,f)=>{const m=pE(l,r);return s()({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:t,extension:n,HTMLAttributes:m})};return[n.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=f1(this.extensions);return Object.fromEntries(e.filter(n=>!!vn(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Bf(n.name,this.schema)},s=vn(n,"addMarkView",i);if(!s)return[];const o=(l,c,u)=>{const d=pE(l,r);return s()({mark:l,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{RHe(l,t,f)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:sP(e.name,this.schema)};e.type==="mark"&&((n=Gr(vn(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=vn(e,"onBeforeCreate",r),s=vn(e,"onCreate",r),o=vn(e,"onUpdate",r),l=vn(e,"onSelectionUpdate",r),c=vn(e,"onTransaction",r),u=vn(e,"onFocus",r),d=vn(e,"onBlur",r),f=vn(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};B_.resolve=Doe;B_.sort=m3;B_.flatten=h3;var NHe={};c3(NHe,{ClipboardTextSerializer:()=>Voe,Commands:()=>Woe,Delete:()=>Koe,Drop:()=>Goe,Editable:()=>Yoe,FocusEvents:()=>Qoe,Keymap:()=>Joe,Paste:()=>Zoe,Tabindex:()=>ele,focusEventsPluginKey:()=>Xoe});var li=class Hoe extends v3{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Hoe(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Voe=li.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ii({key:new gs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(d=>d.$from.pos)),l=Math.max(...s.map(d=>d.$to.pos)),c=Foe(n);return Loe(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Woe=li.create({name:"commands",addCommands(){return{...joe}}}),Koe=li.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var o,l,c,u;if((u=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const d=Poe(t.before,[t,...e]);Boe(d).forEach(h=>{d.mapping.mapResult(h.oldRange.from).deletedAfter&&d.mapping.mapResult(h.oldRange.to).deletedBefore&&d.before.nodesBetween(h.oldRange.from,h.oldRange.to,(y,v)=>{const x=v+y.nodeSize-2,b=h.oldRange.from<=v&&x<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:v,to:x,newFrom:d.mapping.map(v),newTo:d.mapping.map(x),deletedRange:h.oldRange,newRange:h.newRange,partial:!b,editor:this.editor,transaction:t,combinedTransform:d})})});const m=d.mapping;d.steps.forEach((h,y)=>{var v,x;if(h instanceof vu){const b=m.slice(y).map(h.from,-1),S=m.slice(y).map(h.to),E=m.invert().map(b,-1),_=m.invert().map(S),C=(v=d.doc.nodeAt(b-1))==null?void 0:v.marks.some(M=>M.eq(h.mark)),O=(x=d.doc.nodeAt(S))==null?void 0:x.marks.some(M=>M.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:E,to:_},newRange:{from:b,to:S},partial:!!(O||C),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),Goe=li.create({name:"drop",addProseMirrorPlugins(){return[new Ii({key:new gs("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Yoe=li.create({name:"editable",addProseMirrorPlugins(){return[new Ii({key:new gs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Xoe=new gs("focusEvents"),Qoe=li.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ii({key:Xoe,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Joe=li.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:d,$anchor:f}=c,{pos:m,parent:h}=f,y=f.parent.isTextblock&&m>0?l.doc.resolve(m-1):f,v=y.parent.type.spec.isolating,x=f.pos-f.parentOffset,b=v&&y.parent.childCount===1?x===f.pos:Fn.atStart(u).from===m;return!d||!h.type.isTextblock||h.textContent.length||!b||b&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return f3()||Toe()?s:i},addProseMirrorPlugins(){return[new Ii({key:new gs("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:l}=e.selection,c=Fn.atStart(e.doc).from,u=Fn.atEnd(e.doc).to;if(s||!(o===c&&l===u)||!F_(n.doc))return;const m=n.tr,h=R_({state:n,transaction:m}),{commands:y}=new I_({editor:this.editor,state:h});if(y.clearNodes(),!!m.steps.length)return m}})]}}),Zoe=li.create({name:"paste",addProseMirrorPlugins(){return[new Ii({key:new gs("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),ele=li.create({name:"tabindex",addProseMirrorPlugins(){return[new Ii({key:new gs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),SHe=class xv{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new xv(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new xv(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new xv(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!i&&l.depth<=this.depth)return;const c=new xv(l,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new xv(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const c=o[l];if(s[c]!==n[c])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(c=>n[c]===o.node.attrs[c])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},EHe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function jHe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var _He=class extends fHe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=Aoe(e,this.options.autofocus);this.editorState=Tv.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=jHe(EHe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=Roe(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(o=>!o.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[Yoe,Voe.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Woe,Qoe,Joe,ele,Goe,Zoe,Koe].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new B_(r,this)}createCommandManager(){this.commandManager=new I_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=E4(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=E4(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new Eoe(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o?.getMeta("focus"),c=o?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return $oe(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return HUe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return p3(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return FUe(this.state.doc,{blockSeparator:e,textSerializers:{...Foe(this.schema),...n}})}get isEmpty(){return F_(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new SHe(e,this)}get $doc(){return this.$pos(0)}};function ig(t){return new $_({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Gr(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];if(o){const c=l.search(/\S/),u=n.from+l.indexOf(o),d=u+o.length;if(g3(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>u).length)return null;d<n.to&&s.delete(d,n.to),u>n.from&&s.delete(n.from+c,u);const m=n.from+c+o.length;s.addMark(n.from+c,m,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function tle(t){return new $_({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Gr(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let l=n.to;const c=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=o+u;d>l?d=l:l=d+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,o+r[0].length-1),s.replaceWith(d,l,c)}else if(r[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function C4(t){return new $_({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Gr(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Ly(t){return new $_({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Gr(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),u=c&&VL(c,t.type,s);if(!u)return null;if(o.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:m}=e,{splittableMarks:h}=t.editor.extensionManager,y=m||f.$to.parentOffset&&f.$from.marks();if(y){const v=y.filter(x=>h.includes(x.type.name));o.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&kp(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&o.join(n.from-1)},undoable:t.undoable})}function CHe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof bn){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var AHe={};c3(AHe,{createAtomBlockMarkdownSpec:()=>kHe,createBlockMarkdownSpec:()=>THe,createInlineMarkdownSpec:()=>MHe,parseAttributes:()=>y3,parseIndentedBlocks:()=>A4,renderNestedMarkdownContent:()=>b3,serializeAttributes:()=>x3});function y3(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const u=i.map(d=>d.trim().slice(1));e.class=u.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,u,d])=>{var f;const m=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),h=n[m];h&&(e[u]=h.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function x3(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function kHe(t){const{nodeName:e,name:n,parseAttributes:r=y3,serializeAttributes:i=x3,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(m=>{m in d&&(f[m]=d[m])}),f};return{parseMarkdown:(d,f)=>{const m={...s,...d.attributes};return f.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const m=new RegExp(`^:::${c}(?:\\s|$)`,"m"),h=(f=d.match(m))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(d,f,m){const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=d.match(h);if(!y)return;const v=y[1]||"",x=r(v);if(!o.find(S=>!(S in x)))return{type:e,raw:y[0],attributes:x}}},renderMarkdown:d=>{const f=u(d.attrs||{}),m=i(f),h=m?` {${m}}`:"";return`:::${c}${h} :::`}}}function THe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=y3,serializeAttributes:s=x3,defaultAttributes:o={},content:l="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const m={};return c.forEach(h=>{h in f&&(m[h]=f[h])}),m};return{parseMarkdown:(f,m)=>{let h;if(r){const v=r(f);h=typeof v=="string"?[{type:"text",text:v}]:v}else l==="block"?h=m.parseChildren(f.tokens||[]):h=m.parseInline(f.tokens||[]);const y={...o,...f.attributes};return m.createNode(e,y,h)},markdownTokenizer:{name:e,level:"block",start(f){var m;const h=new RegExp(`^:::${u}`,"m"),y=(m=f.match(h))==null?void 0:m.index;return y!==void 0?y:-1},tokenize(f,m,h){var y;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=f.match(v);if(!x)return;const[b,S=""]=x,E=i(S);let _=1;const C=b.length;let O="";const M=/^:::([\w-]*)(\s.*)?/gm,A=f.slice(C);for(M.lastIndex=0;;){const P=M.exec(A);if(P===null)break;const F=P.index,R=P[1];if(!((y=P[2])!=null&&y.endsWith(":::"))){if(R)_+=1;else if(_-=1,_===0){const $=A.slice(0,F);O=$.trim();const q=f.slice(0,C+F+P[0].length);let z=[];if(O)if(l==="block")for(z=h.blockTokens($),z.forEach(G=>{G.text&&(!G.tokens||G.tokens.length===0)&&(G.tokens=h.inlineTokens(G.text))});z.length>0;){const G=z[z.length-1];if(G.type==="paragraph"&&(!G.text||G.text.trim()===""))z.pop();else break}else z=h.inlineTokens(O);return{type:e,raw:q,attributes:E,content:O,tokens:z}}}}}},renderMarkdown:(f,m)=>{const h=d(f.attrs||{}),y=s(h),v=y?` {${y}}`:"",x=m.renderChildren(f.content||[],`

`);return`:::${u}${v}

${x}

:::`}}}function OHe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,o]=r;e[i]=s||o,r=n.exec(t)}return e}function PHe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function MHe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=OHe,serializeAttributes:s=PHe,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:c}=t,u=n||e,d=m=>{if(!c)return m;const h={};return c.forEach(y=>{y in m&&(h[y]=m[y])}),h},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,h)=>{const y={...o,...m.attributes};if(l)return h.createNode(e,y);const v=r?r(m):m.content||"";return v?h.createNode(e,y,[h.createTextNode(v)]):h.createNode(e,y,[])},markdownTokenizer:{name:e,level:"inline",start(m){const h=l?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),y=m.match(h),v=y?.index;return v!==void 0?v:-1},tokenize(m,h,y){const v=l?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),x=m.match(v);if(!x)return;let b="",S="";if(l){const[,_]=x;S=_}else{const[,_,C]=x;S=_,b=C||""}const E=i(S.trim());return{type:e,raw:x[0],content:b.trim(),attributes:E}}},renderMarkdown:m=>{let h="";r?h=r(m):m.content&&m.content.length>0&&(h=m.content.filter(b=>b.type==="text").map(b=>b.text).join(""));const y=d(m.attrs||{}),v=s(y),x=v?` ${v}`:"";return l?`[${u}${x}]`:`[${u}${x}]${h}[/${u}]`}}}function A4(t,e,n){var r,i,s,o;const l=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<l.length;){const m=l[d],h=m.match(e.itemPattern);if(!h){if(c.length>0)break;if(m.trim()===""){d+=1;continue}else return}const y=e.extractItemData(h),{indentLevel:v,mainContent:x}=y;u=`${u}${m}
`;const b=[x];for(d+=1;d<l.length;){const C=l[d];if(C.trim()===""){const M=l.slice(d+1).findIndex(F=>F.trim()!=="");if(M===-1)break;if((((i=(r=l[d+1+M].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>v){b.push(C),u=`${u}${C}
`,d+=1;continue}else break}if((((o=(s=C.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>v)b.push(C),u=`${u}${C}
`,d+=1;else break}let S;const E=b.slice(1);if(E.length>0){const C=E.map(O=>O.slice(v+f)).join(`
`);C.trim()&&(e.customNestedParser?S=e.customNestedParser(C):S=n.blockTokens(C))}const _=e.createToken(y,S);c.push(_)}if(c.length!==0)return{items:c,raw:u.trim()}}function b3(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...o]=t.content,l=e.renderChildren([s]),c=[`${i}${l}`];return o&&o.length>0&&o.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(m=>m?e.indent(m):"").join(`
`);c.push(f)}}),c.join(`
`)}function RHe(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,o=t;i.descendants((l,c)=>{const u=s.mapping.map(c),d=s.mapping.map(c)+l.nodeSize;let f=null;if(l.marks.forEach(h=>{if(h!==o)return!1;f=h}),!f)return;let m=!1;if(Object.keys(n).forEach(h=>{n[h]!==f.attrs[h]&&(m=!0)}),m){const h=t.type.create({...t.attrs,...n});s.removeMark(u,d,t.type),s.addMark(u,d,h)}}),s.docChanged&&e.view.dispatch(s)}var Ca=class nle extends v3{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new nle(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function vp(t){return new vHe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Gr(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];let u=n.to;if(l){const d=c.search(/\S/),f=n.from+c.indexOf(l),m=f+l.length;if(g3(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(x=>x===t.type&&x!==y.mark.type)).filter(y=>y.to>f).length)return null;m<n.to&&o.delete(m,n.to),f>n.from&&o.delete(n.from+d,f),u=n.from+d+l.length,o.addMark(n.from+d,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var lP,MW;function IHe(){return MW||(MW=1,lP=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),lP}var DHe=IHe();const LHe=zr(DHe);var cP={exports:{}},uP={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RW;function FHe(){if(RW)return uP;RW=1;var t=g1(),e=MK();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return uP.useSyncExternalStoreWithSelector=function(u,d,f,m,h){var y=s(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=l(function(){function b(O){if(!S){if(S=!0,E=O,O=m(O),h!==void 0&&v.hasValue){var M=v.value;if(h(M,O))return _=M}return _=O}if(M=_,r(E,O))return M;var A=m(O);return h!==void 0&&h(M,A)?(E=O,M):(E=O,_=A)}var S=!1,E,_,C=f===void 0?null:f;return[function(){return b(d())},C===null?void 0:function(){return b(C())}]},[d,f,m,h]);var x=i(u,y[0],y[1]);return o(function(){v.hasValue=!0,v.value=x},[x]),c(x),x},uP}var IW;function $He(){return IW||(IW=1,cP.exports=FHe()),cP.exports}var BHe=$He(),zHe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},qHe=({contentComponent:t})=>{const e=KE.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function UHe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:tG.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var HHe=class extends ye.Component{constructor(t){var e;super(t),this.editorContentRef=ye.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=UHe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:zHe(e,this.editorContentRef),...n}),t?.contentComponent&&a.jsx(qHe,{contentComponent:t.contentComponent})]})}},VHe=w.forwardRef((t,e)=>{const n=ye.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ye.createElement(HHe,{key:n,innerRef:e,...t})}),rle=ye.memo(VHe),WHe=typeof window<"u"?w.useLayoutEffect:w.useEffect,KHe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function GHe(t){var e;const[n]=w.useState(()=>new KHe(t.editor)),r=BHe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:LHe);return WHe(()=>n.watch(t.editor),[t.editor,n]),w.useDebugValue(r),r}var YHe=!1,k4=typeof window>"u",XHe=k4||!!(typeof window<"u"&&window.next),QHe=class ile{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?k4||XHe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new _He(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)==null?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ile.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function sle(t={},e=[]){const n=w.useRef(t);n.current=t;const[r]=w.useState(()=>new QHe(n)),i=KE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return w.useDebugValue(i),w.useEffect(r.onRender(e)),GHe({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var JHe=w.createContext({editor:null});JHe.Consumer;var ZHe=w.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),eVe=()=>w.useContext(ZHe);ye.forwardRef((t,e)=>{const{onDragStart:n}=eVe(),r=t.as||"div";return a.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});ye.createContext({markViewContentRef:()=>{}});var mE=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},tVe=/^\s*>\s$/,nVe=Ca.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return mE("blockquote",{...gi(this.options.HTMLAttributes,t),children:mE("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(i=>{const o=e.renderChildren(i).split(`
`).map(l=>`> ${l}`).join(`
`);n.push(o)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ly({find:tVe,type:this.type})]}}),rVe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,iVe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sVe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,aVe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,oVe=zf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return mE("strong",{...gi(this.options.HTMLAttributes,t),children:mE("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ig({find:rVe,type:this.type}),ig({find:sVe,type:this.type})]},addPasteRules(){return[vp({find:iVe,type:this.type}),vp({find:aVe,type:this.type})]}}),lVe=/(^|[^`])`([^`]+)`(?!`)$/,cVe=/(^|[^`])`([^`]+)`(?!`)/g,uVe=zf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",gi(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ig({find:lVe,type:this.type})]},addPasteRules(){return[vp({find:cVe,type:this.type})]}}),dP=4,dVe=/^```([a-z]+)?[\s\n]$/,fVe=/^~~~([a-z]+)?[\s\n]$/,ale=Ca.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:dP,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",gi(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:dP,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:d}=i,h=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(y=>l+y).join(`
`);return c.replaceWith(u,d,r.schema.text(h)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:dP,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:u}=s,d=s.start(),f=s.end(),h=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let y=0,v=0;const x=u-d;for(let O=0;O<h.length;O+=1){if(v+h[O].length>=x){y=O;break}v+=h[O].length+1}const S=((c=h[y].match(/^ */))==null?void 0:c[0])||"",E=Math.min(S.length,n);if(E===0)return!0;let _=d;for(let O=0;O<y;O+=1)_+=h[O].length+1;return l.delete(_,_+E),u-_<=E&&l.setSelection(jn.create(l.doc,_)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=i,m=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(h=>{var y;const v=((y=h.match(/^ */))==null?void 0:y[0])||"",x=Math.min(v.length,n);return h.slice(x)}).join(`
`);return l.replaceWith(c,u,r.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(Fn.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[C4({find:dVe,type:this.type,getAttributes:t=>({language:t[1]})}),C4({find:fVe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ii({key:new gs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:o,schema:l}=t.state,c=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(jn.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),hVe=ale,pVe=Ca.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),mVe=Ca.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",gi(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&o){const f=c.filter(m=>l.includes(m.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),gVe=Ca.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,gi(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>C4({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),vVe=Ca.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",gi(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!CHe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return zoe(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(jn.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(bn.create(o.doc,c.pos)):o.setSelection(jn.create(o.doc,c.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(o.insert(u,f),o.setSelection(jn.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[tle({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),yVe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,xVe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,bVe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,wVe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,NVe=zf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",gi(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ig({find:yVe,type:this.type}),ig({find:bVe,type:this.type})]},addPasteRules(){return[vp({find:xVe,type:this.type}),vp({find:wVe,type:this.type})]}});const SVe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",EVe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",T4="numeric",O4="ascii",P4="alpha",Gb="asciinumeric",Eb="alphanumeric",M4="domain",ole="emoji",jVe="scheme",_Ve="slashscheme",fP="whitespace";function CVe(t,e){return t in e||(e[t]=[]),e[t]}function _m(t,e,n){e[T4]&&(e[Gb]=!0,e[Eb]=!0),e[O4]&&(e[Gb]=!0,e[P4]=!0),e[Gb]&&(e[Eb]=!0),e[P4]&&(e[Eb]=!0),e[Eb]&&(e[M4]=!0),e[ole]&&(e[M4]=!0);for(const r in e){const i=CVe(r,n);i.indexOf(t)<0&&i.push(t)}}function AVe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function el(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}el.groups={};el.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||el.groups;let i;return e&&e.j?i=e:(i=new el(e),n&&r&&_m(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||el.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,l=i.go(t);if(l?(o=new el,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new el,s){if(r)if(o.t&&typeof o.t=="string"){const c=Object.assign(AVe(o.t,r),n);_m(s,c,r)}else n&&_m(s,n,r);o.t=s}return i.j[t]=o,o}};const ar=(t,e,n,r,i)=>t.ta(e,n,r,i),ls=(t,e,n,r,i)=>t.tr(e,n,r,i),DW=(t,e,n,r,i)=>t.ts(e,n,r,i),Ct=(t,e,n,r,i)=>t.tt(e,n,r,i),df="WORD",R4="UWORD",lle="ASCIINUMERICAL",cle="ALPHANUMERICAL",h1="LOCALHOST",I4="TLD",D4="UTLD",dN="SCHEME",bv="SLASH_SCHEME",w3="NUM",L4="WS",N3="NL",Yb="OPENBRACE",Xb="CLOSEBRACE",gE="OPENBRACKET",vE="CLOSEBRACKET",yE="OPENPAREN",xE="CLOSEPAREN",bE="OPENANGLEBRACKET",wE="CLOSEANGLEBRACKET",NE="FULLWIDTHLEFTPAREN",SE="FULLWIDTHRIGHTPAREN",EE="LEFTCORNERBRACKET",jE="RIGHTCORNERBRACKET",_E="LEFTWHITECORNERBRACKET",CE="RIGHTWHITECORNERBRACKET",AE="FULLWIDTHLESSTHAN",kE="FULLWIDTHGREATERTHAN",TE="AMPERSAND",OE="APOSTROPHE",PE="ASTERISK",Ph="AT",ME="BACKSLASH",RE="BACKTICK",IE="CARET",Dh="COLON",S3="COMMA",DE="DOLLAR",Xu="DOT",LE="EQUALS",E3="EXCLAMATION",dc="HYPHEN",Qb="PERCENT",FE="PIPE",$E="PLUS",BE="POUND",Jb="QUERY",j3="QUOTE",ule="FULLWIDTHMIDDLEDOT",_3="SEMI",Qu="SLASH",Zb="TILDE",zE="UNDERSCORE",dle="EMOJI",qE="SYM";var fle=Object.freeze({__proto__:null,ALPHANUMERICAL:cle,AMPERSAND:TE,APOSTROPHE:OE,ASCIINUMERICAL:lle,ASTERISK:PE,AT:Ph,BACKSLASH:ME,BACKTICK:RE,CARET:IE,CLOSEANGLEBRACKET:wE,CLOSEBRACE:Xb,CLOSEBRACKET:vE,CLOSEPAREN:xE,COLON:Dh,COMMA:S3,DOLLAR:DE,DOT:Xu,EMOJI:dle,EQUALS:LE,EXCLAMATION:E3,FULLWIDTHGREATERTHAN:kE,FULLWIDTHLEFTPAREN:NE,FULLWIDTHLESSTHAN:AE,FULLWIDTHMIDDLEDOT:ule,FULLWIDTHRIGHTPAREN:SE,HYPHEN:dc,LEFTCORNERBRACKET:EE,LEFTWHITECORNERBRACKET:_E,LOCALHOST:h1,NL:N3,NUM:w3,OPENANGLEBRACKET:bE,OPENBRACE:Yb,OPENBRACKET:gE,OPENPAREN:yE,PERCENT:Qb,PIPE:FE,PLUS:$E,POUND:BE,QUERY:Jb,QUOTE:j3,RIGHTCORNERBRACKET:jE,RIGHTWHITECORNERBRACKET:CE,SCHEME:dN,SEMI:_3,SLASH:Qu,SLASH_SCHEME:bv,SYM:qE,TILDE:Zb,TLD:I4,UNDERSCORE:zE,UTLD:D4,UWORD:R4,WORD:df,WS:L4});const lf=/[a-z]/,cb=new RegExp("\\p{L}","u"),hP=new RegExp("\\p{Emoji}","u"),cf=/\d/,pP=/\s/,LW="\r",mP=`
`,kVe="",TVe="",gP="";let C2=null,A2=null;function OVe(t=[]){const e={};el.groups=e;const n=new el;C2==null&&(C2=FW(SVe)),A2==null&&(A2=FW(EVe)),Ct(n,"'",OE),Ct(n,"{",Yb),Ct(n,"}",Xb),Ct(n,"[",gE),Ct(n,"]",vE),Ct(n,"(",yE),Ct(n,")",xE),Ct(n,"<",bE),Ct(n,">",wE),Ct(n,"",NE),Ct(n,"",SE),Ct(n,"",EE),Ct(n,"",jE),Ct(n,"",_E),Ct(n,"",CE),Ct(n,"",AE),Ct(n,"",kE),Ct(n,"&",TE),Ct(n,"*",PE),Ct(n,"@",Ph),Ct(n,"`",RE),Ct(n,"^",IE),Ct(n,":",Dh),Ct(n,",",S3),Ct(n,"$",DE),Ct(n,".",Xu),Ct(n,"=",LE),Ct(n,"!",E3),Ct(n,"-",dc),Ct(n,"%",Qb),Ct(n,"|",FE),Ct(n,"+",$E),Ct(n,"#",BE),Ct(n,"?",Jb),Ct(n,'"',j3),Ct(n,"/",Qu),Ct(n,";",_3),Ct(n,"~",Zb),Ct(n,"_",zE),Ct(n,"\\",ME),Ct(n,"",ule);const r=ls(n,cf,w3,{[T4]:!0});ls(r,cf,r);const i=ls(r,lf,lle,{[Gb]:!0}),s=ls(r,cb,cle,{[Eb]:!0}),o=ls(n,lf,df,{[O4]:!0});ls(o,cf,i),ls(o,lf,o),ls(i,cf,i),ls(i,lf,i);const l=ls(n,cb,R4,{[P4]:!0});ls(l,lf),ls(l,cf,s),ls(l,cb,l),ls(s,cf,s),ls(s,lf),ls(s,cb,s);const c=Ct(n,mP,N3,{[fP]:!0}),u=Ct(n,LW,L4,{[fP]:!0}),d=ls(n,pP,L4,{[fP]:!0});Ct(n,gP,d),Ct(u,mP,c),Ct(u,gP,d),ls(u,pP,d),Ct(d,LW),Ct(d,mP),ls(d,pP,d),Ct(d,gP,d);const f=ls(n,hP,dle,{[ole]:!0});Ct(f,"#"),ls(f,hP,f),Ct(f,kVe,f);const m=Ct(f,TVe);Ct(m,"#"),ls(m,hP,f);const h=[[lf,o],[cf,i]],y=[[lf,null],[cb,l],[cf,s]];for(let v=0;v<C2.length;v++)Eh(n,C2[v],I4,df,h);for(let v=0;v<A2.length;v++)Eh(n,A2[v],D4,R4,y);_m(I4,{tld:!0,ascii:!0},e),_m(D4,{utld:!0,alpha:!0},e),Eh(n,"file",dN,df,h),Eh(n,"mailto",dN,df,h),Eh(n,"http",bv,df,h),Eh(n,"https",bv,df,h),Eh(n,"ftp",bv,df,h),Eh(n,"ftps",bv,df,h),_m(dN,{scheme:!0,ascii:!0},e),_m(bv,{slashscheme:!0,ascii:!0},e),t=t.sort((v,x)=>v[0]>x[0]?1:-1);for(let v=0;v<t.length;v++){const x=t[v][0],S=t[v][1]?{[jVe]:!0}:{[_Ve]:!0};x.indexOf("-")>=0?S[M4]=!0:lf.test(x)?cf.test(x)?S[Gb]=!0:S[O4]=!0:S[T4]=!0,DW(n,x,x,S)}return DW(n,"localhost",h1,{ascii:!0}),n.jd=new el(qE),{start:n,tokens:Object.assign({groups:e},fle)}}function hle(t,e){const n=PVe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let l=t,c=null,u=0,d=null,f=-1,m=-1;for(;o<r&&(c=l.go(n[o]));)l=c,l.accepts()?(f=0,m=0,d=l):f>=0&&(f+=n[o].length,m++),u+=n[o].length,s+=n[o].length,o++;s-=f,o-=m,u-=f,i.push({t:d.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function PVe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Eh(t,e,n,r,i){let s;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new el(r),s.jr=i.slice(),t.j[c]=s),t=s}return s=new el(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function FW(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const p1={defaultProtocol:"http",events:null,format:$W,formatHref:$W,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function C3(t,e=null){let n=Object.assign({},p1);t&&(n=Object.assign(n,t instanceof C3?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}C3.prototype={o:p1,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:p1[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function $W(t){return t}function ple(t,e){this.t="token",this.v=t,this.tk=e}ple.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=p1.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},l=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return o.href=r,l&&(o.class=l),c&&(o.target=c),u&&(o.rel=u),d&&Object.assign(o,d),{tagName:i,attributes:o,content:s,eventListeners:f}}};function z_(t,e){class n extends ple{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const BW=z_("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),zW=z_("text"),MVe=z_("nl"),k2=z_("url",{isLink:!0,toHref(t=p1.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==h1&&t[1].t===Dh}}),uc=t=>new el(t);function RVe({groups:t}){const e=t.domain.concat([TE,PE,Ph,ME,RE,IE,DE,LE,dc,w3,Qb,FE,$E,BE,Qu,qE,Zb,zE]),n=[OE,Dh,S3,Xu,E3,Qb,Jb,j3,_3,bE,wE,Yb,Xb,vE,gE,yE,xE,NE,SE,EE,jE,_E,CE,AE,kE],r=[TE,OE,PE,ME,RE,IE,DE,LE,dc,Yb,Xb,Qb,FE,$E,BE,Jb,Qu,qE,Zb,zE],i=uc(),s=Ct(i,Zb);ar(s,r,s),ar(s,t.domain,s);const o=uc(),l=uc(),c=uc();ar(i,t.domain,o),ar(i,t.scheme,l),ar(i,t.slashscheme,c),ar(o,r,s),ar(o,t.domain,o);const u=Ct(o,Ph);Ct(s,Ph,u),Ct(l,Ph,u),Ct(c,Ph,u);const d=Ct(s,Xu);ar(d,r,s),ar(d,t.domain,s);const f=uc();ar(u,t.domain,f),ar(f,t.domain,f);const m=Ct(f,Xu);ar(m,t.domain,f);const h=uc(BW);ar(m,t.tld,h),ar(m,t.utld,h),Ct(u,h1,h);const y=Ct(f,dc);Ct(y,dc,y),ar(y,t.domain,f),ar(h,t.domain,f),Ct(h,Xu,m),Ct(h,dc,y);const v=Ct(h,Dh);ar(v,t.numeric,BW);const x=Ct(o,dc),b=Ct(o,Xu);Ct(x,dc,x),ar(x,t.domain,o),ar(b,r,s),ar(b,t.domain,o);const S=uc(k2);ar(b,t.tld,S),ar(b,t.utld,S),ar(S,t.domain,o),ar(S,r,s),Ct(S,Xu,b),Ct(S,dc,x),Ct(S,Ph,u);const E=Ct(S,Dh),_=uc(k2);ar(E,t.numeric,_);const C=uc(k2),O=uc();ar(C,e,C),ar(C,n,O),ar(O,e,C),ar(O,n,O),Ct(S,Qu,C),Ct(_,Qu,C);const M=Ct(l,Dh),A=Ct(c,Dh),P=Ct(A,Qu),F=Ct(P,Qu);ar(l,t.domain,o),Ct(l,Xu,b),Ct(l,dc,x),ar(c,t.domain,o),Ct(c,Xu,b),Ct(c,dc,x),ar(M,t.domain,C),Ct(M,Qu,C),Ct(M,Jb,C),ar(F,t.domain,C),ar(F,e,C),Ct(F,Qu,C);const R=[[Yb,Xb],[gE,vE],[yE,xE],[bE,wE],[NE,SE],[EE,jE],[_E,CE],[AE,kE]];for(let $=0;$<R.length;$++){const[q,z]=R[$],G=Ct(C,q);Ct(O,q,G),Ct(G,z,C);const X=uc(k2);ar(G,e,X);const U=uc();ar(G,n),ar(X,e,X),ar(X,n,U),ar(U,e,X),ar(U,n,U),Ct(X,z,C),Ct(U,z,C)}return Ct(i,h1,S),Ct(i,N3,MVe),{start:i,tokens:fle}}function IVe(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let l=t,c=null,u=null,d=0,f=null,m=-1;for(;i<r&&!(c=l.go(n[i].t));)o.push(n[i++]);for(;i<r&&(u=c||l.go(n[i].t));)c=null,l=u,l.accepts()?(m=0,f=l):m>=0&&m++,i++,d++;if(m<0)i-=d,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(vP(zW,e,o)),o=[]),i-=m,d-=m;const h=f.t,y=n.slice(i-d,i);s.push(vP(h,e,y))}}return o.length>0&&s.push(vP(zW,e,o)),s}function vP(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const DVe=typeof console<"u"&&console&&console.warn||(()=>{}),LVe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Oi={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function FVe(){return el.groups={},Oi.scanner=null,Oi.parser=null,Oi.tokenQueue=[],Oi.pluginQueue=[],Oi.customSchemes=[],Oi.initialized=!1,Oi}function qW(t,e=!1){if(Oi.initialized&&DVe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${LVe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Oi.customSchemes.push([t,e])}function $Ve(){Oi.scanner=OVe(Oi.customSchemes);for(let t=0;t<Oi.tokenQueue.length;t++)Oi.tokenQueue[t][1]({scanner:Oi.scanner});Oi.parser=RVe(Oi.scanner.tokens);for(let t=0;t<Oi.pluginQueue.length;t++)Oi.pluginQueue[t][1]({scanner:Oi.scanner,parser:Oi.parser});return Oi.initialized=!0,Oi}function A3(t){return Oi.initialized||$Ve(),IVe(Oi.parser.start,t,hle(Oi.scanner.start,t))}A3.scan=hle;function mle(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new C3(n),i=A3(t),s=[];for(let o=0;o<i.length;o++){const l=i[o];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var k3="[\0- -\u2029]",BVe=new RegExp(k3),zVe=new RegExp(`${k3}$`),qVe=new RegExp(k3,"g");function UVe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function HVe(t){return new Ii({key:new gs("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,l=Poe(n.doc,[...e]);if(Boe(l).forEach(({newRange:u})=>{const d=MUe(r.doc,u,h=>h.isTextblock);let f,m;if(d.length>1)f=d[0],m=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const h=r.doc.textBetween(u.from,u.to," "," ");if(!zVe.test(h))return;f=d[0],m=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&m){const h=m.split(BVe).filter(Boolean);if(h.length<=0)return!1;const y=h[h.length-1],v=f.pos+m.lastIndexOf(y);if(!y)return!1;const x=A3(y).map(b=>b.toObject(t.defaultProtocol));if(!UVe(x))return!1;x.filter(b=>b.isLink).map(b=>({...b,from:v+b.start+1,to:v+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>t.validate(b.value)).filter(b=>t.shouldAutoLink(b.value)).forEach(b=>{g3(b.from,b.to,r.doc).some(S=>S.mark.type===t.type)||o.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!o.steps.length)return o}})}function VVe(t){return new Ii({key:new gs("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let d=r.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;o=f.find(m=>m.nodeName==="A")}if(!o)return!1;const l=$oe(e.state,t.type.name),c=(i=o?.href)!=null?i:l.href,u=(s=o?.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,u),!0):!1}}})}function WVe(t){return new Ii({key:new gs("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:o}=s,{empty:l}=o;if(l)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=mle(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||i!==void 0&&!i(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function sm(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(qVe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var T3=zf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){qW(t);return}qW(t.scheme,t.optionalSlashes)})},onDestroy(){FVe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!sm(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!sm(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!sm(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",gi(this.options.HTMLAttributes,t),0]:["a",gi(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!sm(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!sm(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[vp({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=mle(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!sm(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(HVe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!sm(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(VVe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(WVe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),KVe=T3,GVe=Object.defineProperty,YVe=(t,e)=>{for(var n in e)GVe(t,n,{get:e[n],enumerable:!0})},XVe="listItem",UW="textStyle",HW=/^\s*([-+*])\s$/,gle=Ca.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",gi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(XVe,this.editor.getAttributes(UW)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ly({find:HW,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ly({find:HW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(UW),editor:this.editor})),[t]}}),vle=Ca.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",gi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),l=e.parseChildren(o);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>b3(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),QVe={};YVe(QVe,{findListItemPos:()=>Z1,getNextListDepth:()=>O3,handleBackspace:()=>F4,handleDelete:()=>$4,hasListBefore:()=>yle,hasListItemAfter:()=>JVe,hasListItemBefore:()=>xle,listItemHasSubList:()=>ble,nextListIsDeeper:()=>wle,nextListIsHigher:()=>Nle});var Z1=(t,e)=>{const{$from:n}=e.selection,r=qs(t,e.schema);let i=null,s=n.depth,o=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},O3=(t,e)=>{const n=Z1(t,e);if(!n)return!1;const[,r]=qUe(e,t,n.$pos.pos+4);return r},yle=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},xle=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},ble=(t,e,n)=>{if(!n)return!1;const r=qs(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},F4=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!gp(t.state,e)&&yle(t.state,e,n)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((m,h)=>{m.type.name===e&&u.push({node:m,pos:h})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},f.end()).joinForward().run()}if(!gp(t.state,e)||!WUe(t.state))return!1;const r=Z1(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=ble(e,t.state,s);return xle(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},wle=(t,e)=>{const n=O3(t,e),r=Z1(t,e);return!r||!n?!1:n>r.depth},Nle=(t,e)=>{const n=O3(t,e),r=Z1(t,e);return!r||!n?!1:n<r.depth},$4=(t,e)=>{if(!gp(t.state,e)||!VUe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:wle(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Nle(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},JVe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},Sle=li.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&$4(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&$4(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&F4(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&F4(t,n,r)&&(e=!0)}),e}}}}),VW=/^(\s*)(\d+)\.\s+(.*)$/,ZVe=/^\s/;function eWe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(VW);if(!s)break;const[,o,l,c]=s,u=o.length;let d=c,f=n+1;const m=[i];for(;f<t.length;){const h=t[f];if(h.match(VW))break;if(h.trim()==="")m.push(h),d+=`
`,f+=1;else if(h.match(ZVe))m.push(h),d+=`
${h.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(l,10),content:d.trim(),raw:m.join(`
`)}),r=f,n=f}return[e,r]}function Ele(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const o=t[s];if(o.indent===e){const l=o.content.split(`
`),c=((r=l[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=l.slice(1).join(`
`).trim();if(d){const h=n.blockTokens(d);u.push(...h)}let f=s+1;const m=[];for(;f<t.length&&t[f].indent>e;)m.push(t[f]),f+=1;if(m.length>0){const h=Math.min(...m.map(v=>v.indent)),y=Ele(m,h,n);u.push({type:"list",ordered:!0,start:m[0].number,items:y,raw:m.map(v=>v.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:u}),s=f}else s+=1}return i}function tWe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var nWe="listItem",WW="textStyle",KW=/^(\d+)\.\s$/,jle=Ca.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",gi(this.options.HTMLAttributes,n),0]:["ol",gi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?tWe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,o]=eWe(i);if(s.length===0)return;const l=Ele(s,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:l,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nWe,this.editor.getAttributes(WW)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ly({find:KW,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ly({find:KW,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(WW)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),rWe=/^\s*(\[([( |x])?\])\s$/,iWe=Ca.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",gi(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return b3(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,m;l.ariaLabel=((m=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:m.call(f,d,l.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const h=n();if(typeof h!="number")return!1;const y=m.doc.nodeAt(h);return m.setNodeMarkup(h,void 0,{...y?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,o),i.append(s,c),Object.entries(e).forEach(([d,f])=>{i.setAttribute(d,f)}),{dom:i,contentDOM:c,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[Ly({find:rWe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),sWe=Ca.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",gi(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const o=A4(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(s)},i=A4(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,o)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:o}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});li.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(gle.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(vle.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Sle.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(jle.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(iWe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(sWe.configure(this.options.taskList)),t}});var aWe=Ca.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",gi(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),oWe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,lWe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,cWe=zf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",gi(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ig({find:oWe,type:this.type})]},addPasteRules(){return[vp({find:lWe,type:this.type})]}}),uWe=Ca.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),_le=zf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",gi(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),dWe=_le;function fWe(t={}){return new Ii({view(e){return new hWe(e,t)}})}class hWe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let f=e.nodeBefore,m=e.nodeAfter;if(f||m){let h=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(h){let y=h.getBoundingClientRect(),v=f?y.bottom:y.top;f&&m&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*l;r={left:y.left,right:y.right,top:v-x,bottom:v+x}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*o;r={left:f.left-m,right:f.left+m,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),m=f.width/c.offsetWidth,h=f.height/c.offsetHeight;u=f.left-c.scrollLeft*m,d=f.top-c.scrollTop*h}this.element.style.left=(r.left-u)/o+"px",this.element.style.top=(r.top-d)/l+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=jae(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class fs extends Fn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return fs.valid(r)?new fs(r):Fn.near(r)}content(){return Ft.empty}eq(e){return e instanceof fs&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new fs(e.resolve(n.pos))}getBookmark(){return new P3(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!pWe(e)||!mWe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&fs.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let c=e.doc.resolve(i);if(fs.valid(c))return c}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!bn.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let l=e.doc.resolve(i);if(fs.valid(l))return l}return null}}}fs.prototype.visible=!1;fs.findFrom=fs.findGapCursorFrom;Fn.jsonID("gapcursor",fs);class P3{constructor(e){this.pos=e}map(e){return new P3(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return fs.valid(n)?new fs(n):Fn.near(n)}}function Cle(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function pWe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||Cle(i.type))return!0;if(i.inlineContent)return!1}}return!0}function mWe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||Cle(i.type))return!0;if(i.inlineContent)return!1}}return!0}function gWe(){return new Ii({props:{decorations:bWe,createSelectionBetween(t,e,n){return e.pos==n.pos&&fs.valid(n)?new fs(n):null},handleClick:yWe,handleKeyDown:vWe,handleDOMEvents:{beforeinput:xWe}}})}const vWe=l3({ArrowLeft:T2("horiz",-1),ArrowRight:T2("horiz",1),ArrowUp:T2("vert",-1),ArrowDown:T2("vert",1)});function T2(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof jn){if(!s.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=fs.findGapCursorFrom(l,e,c);return u?(i&&i(r.tr.setSelection(new fs(u))),!0):!1}}function yWe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!fs.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&bn.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new fs(r))),!0)}function xWe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof fs))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=mt.empty;for(let o=r.length-1;o>=0;o--)i=mt.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ft(i,0,0));return s.setSelection(jn.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function bWe(t){if(!(t.selection instanceof fs))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",fi.create(t.doc,[ta.widget(t.selection.head,e,{key:"gapcursor"})])}var UE=200,Sa=function(){};Sa.prototype.append=function(e){return e.length?(e=Sa.from(e),!this.length&&e||e.length<UE&&this.leafAppend(e)||this.length<UE&&e.leafPrepend(this)||this.appendInner(e)):this};Sa.prototype.prepend=function(e){return e.length?Sa.from(e).append(this):this};Sa.prototype.appendInner=function(e){return new wWe(this,e)};Sa.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Sa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Sa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Sa.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Sa.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Sa.from=function(e){return e instanceof Sa?e:e&&e.length?new Ale(e):Sa.empty};var Ale=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var c=s;c<o;c++)if(i(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var c=s-1;c>=o;c--)if(i(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=UE)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=UE)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Sa);Sa.empty=new Ale([]);var wWe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Sa);const NWe=500;class hu{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,c,u=[],d=[];return this.items.forEach((f,m)=>{if(!f.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,d.push(f);return}if(i){d.push(new Ju(f.map));let h=f.step.map(i.slice(s)),y;h&&o.maybeStep(h).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ju(y,void 0,void 0,u.length+d.length))),s--,y&&i.appendMap(y,s)}else o.maybeStep(f.step);if(f.selection)return l=i?f.selection.map(i.slice(s)):f.selection,c=new hu(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,n,r,i){let s=[],o=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),m=new Ju(e.mapping.maps[d],f,n),h;(h=c&&c.merge(m))&&(m=h,d?s.pop():l=l.slice(0,l.length-1)),s.push(m),n&&(o++,n=void 0),i||(c=m)}let u=o-r.depth;return u>EWe&&(l=SWe(l,u),o-=u),new hu(l.append(s),o)}remapping(e,n){let r=new a1;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new hu(this.items.append(e.map(n=>new Ju(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(m=>{m.selection&&l--},i);let c=n;this.items.forEach(m=>{let h=s.getMirror(--c);if(h==null)return;o=Math.min(o,h);let y=s.maps[h];if(m.step){let v=e.steps[h].invert(e.docs[h]),x=m.selection&&m.selection.map(s.slice(c+1,h));x&&l++,r.push(new Ju(y,v,x))}else r.push(new Ju(y))},i);let u=[];for(let m=n;m<o;m++)u.push(new Ju(s.maps[m]));let d=this.items.slice(0,i).append(u).append(r),f=new hu(d,l);return f.emptyItemCount()>NWe&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=o.selection&&o.selection.map(n.slice(r));d&&s++;let f=new Ju(u.invert(),c,d),m,h=i.length-1;(m=i.length&&i[h].merge(f))?i[h]=m:i.push(f)}}else o.map&&r--},this.items.length,0),new hu(Sa.from(i.reverse()),s)}}hu.empty=new hu(Sa.empty,0);function SWe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ju{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ju(n.getMap().invert(),n,this.selection)}}}class Mh{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const EWe=20;function jWe(t,e,n,r){let i=n.getMeta(Im),s;if(i)return i.historyState;n.getMeta(AWe)&&(t=new Mh(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Im))return o.getMeta(Im).redo?new Mh(t.done.addTransform(n,void 0,r,fN(e)),t.undone,GW(n.mapping.maps),t.prevTime,t.prevComposition):new Mh(t.done,t.undone.addTransform(n,void 0,r,fN(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_We(n,t.prevRanges)),u=o?yP(t.prevRanges,n.mapping):GW(n.mapping.maps);return new Mh(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,fN(e)),hu.empty,u,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Mh(t.done.rebased(n,s),t.undone.rebased(n,s),yP(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Mh(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),yP(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function _We(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function GW(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function yP(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function CWe(t,e,n){let r=fN(e),i=Im.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Mh(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(Im,{redo:n,historyState:c})}let xP=!1,YW=null;function fN(t){let e=t.plugins;if(YW!=e){xP=!1,YW=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){xP=!0;break}}return xP}const Im=new gs("history"),AWe=new gs("closeHistory");function kWe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ii({key:Im,state:{init(){return new Mh(hu.empty,hu.empty,null,0,-1)},apply(e,n,r){return jWe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Tle:r=="historyRedo"?Ole:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function kle(t,e){return(n,r)=>{let i=Im.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=CWe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Tle=kle(!1,!0),Ole=kle(!0,!0);li.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ii({key:new gs("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-r,u=l-c,d=l;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var TWe=li.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[fWe(this.options)]}});li.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ii({key:new gs("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return fi.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(i>=u&&i<=u+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(i>=u&&i<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(ta.node(u,u+c.nodeSize,{class:this.options.className}))}),fi.create(t,s)}}})]}});var OWe=li.create({name:"gapCursor",addProseMirrorPlugins(){return[gWe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Gr(vn(t,"allowGapCursor",n)))!=null?e:null}}}),PWe=li.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ii({key:new gs("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,l)=>{const c=r>=l&&r<=l+o.nodeSize,u=!o.isLeaf&&F_(o);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const f=ta.node(l,l+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),fi.create(t,i)}}})]}});li.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ii({key:new gs("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||zoe(n.selection)||t.view.dragging?null:fi.create(n.doc,[ta.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function XW({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var MWe=li.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new gs(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Ii({key:e,appendTransaction:(i,s,o)=>{const{doc:l,tr:c,schema:u}=o,d=e.getState(o),f=l.content.size,m=u.nodes[n];if(d)return c.insert(f,m.create())},state:{init:(i,s)=>{const o=s.tr.doc.lastChild;return!XW({node:o,types:r})},apply:(i,s)=>{if(!i.docChanged)return s;const o=i.doc.lastChild;return!XW({node:o,types:r})}}})]}}),RWe=li.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Tle(t,e),redo:()=>({state:t,dispatch:e})=>Ole(t,e)}},addProseMirrorPlugins(){return[kWe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),IWe=li.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(oVe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(nVe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(gle.configure(this.options.bulletList)),this.options.code!==!1&&i.push(uVe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(ale.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(pVe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(TWe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(OWe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(mVe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(gVe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(RWe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(vVe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(NVe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(vle.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(Sle.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(T3.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(jle.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(aWe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(cWe.configure(this.options.strike)),this.options.text!==!1&&i.push(uWe.configure(this.options.text)),this.options.underline!==!1&&i.push(_le.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(MWe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Ple=IWe,DWe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Mle=Ca.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",gi(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,o;const l=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",c=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",u=(o=(s=t.attrs)==null?void 0:s.title)!=null?o:"";return u?`![${c}](${l} "${u}")`:`![${c}](${l})`},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[tle({find:DWe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),LWe=Mle,Rle=li.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),FWe=Rle,$We=20,Ile=(t,e=0)=>{const n=[];return!t.children.length||e>$We||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...Ile(r,e+1))}),n},BWe=t=>{if(!t.children.length)return;const e=Ile(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),o=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${o};${s}`)})},M3=zf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&BWe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",gi(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),zWe=li.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),R3=li.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),qWe=li.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),UWe=li.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),HWe=li.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});li.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(zWe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(R3.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(qWe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(UWe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(HWe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(M3.configure(this.options.textStyle)),t}});var VWe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,WWe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,KWe=zf.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",gi(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const s=i[2].trim(),o=n.inlineTokens(s);return{type:"highlight",raw:i[0],text:s,tokens:o}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ig({find:VWe,type:this.type})]},addPasteRules(){return[vp({find:WWe,type:this.type})]}}),bP,QW;function GWe(){if(QW)return bP;QW=1;function t(Ee){return Ee instanceof Map?Ee.clear=Ee.delete=Ee.set=function(){throw new Error("map is read-only")}:Ee instanceof Set&&(Ee.add=Ee.clear=Ee.delete=function(){throw new Error("set is read-only")}),Object.freeze(Ee),Object.getOwnPropertyNames(Ee).forEach(Je=>{const pt=Ee[Je],It=typeof pt;(It==="object"||It==="function")&&!Object.isFrozen(pt)&&t(pt)}),Ee}class e{constructor(Je){Je.data===void 0&&(Je.data={}),this.data=Je.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(Ee){return Ee.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(Ee,...Je){const pt=Object.create(null);for(const It in Ee)pt[It]=Ee[It];return Je.forEach(function(It){for(const In in It)pt[In]=It[In]}),pt}const i="</span>",s=Ee=>!!Ee.scope,o=(Ee,{prefix:Je})=>{if(Ee.startsWith("language:"))return Ee.replace("language:","language-");if(Ee.includes(".")){const pt=Ee.split(".");return[`${Je}${pt.shift()}`,...pt.map((It,In)=>`${It}${"_".repeat(In+1)}`)].join(" ")}return`${Je}${Ee}`};class l{constructor(Je,pt){this.buffer="",this.classPrefix=pt.classPrefix,Je.walk(this)}addText(Je){this.buffer+=n(Je)}openNode(Je){if(!s(Je))return;const pt=o(Je.scope,{prefix:this.classPrefix});this.span(pt)}closeNode(Je){s(Je)&&(this.buffer+=i)}value(){return this.buffer}span(Je){this.buffer+=`<span class="${Je}">`}}const c=(Ee={})=>{const Je={children:[]};return Object.assign(Je,Ee),Je};class u{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(Je){this.top.children.push(Je)}openNode(Je){const pt=c({scope:Je});this.add(pt),this.stack.push(pt)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(Je){return this.constructor._walk(Je,this.rootNode)}static _walk(Je,pt){return typeof pt=="string"?Je.addText(pt):pt.children&&(Je.openNode(pt),pt.children.forEach(It=>this._walk(Je,It)),Je.closeNode(pt)),Je}static _collapse(Je){typeof Je!="string"&&Je.children&&(Je.children.every(pt=>typeof pt=="string")?Je.children=[Je.children.join("")]:Je.children.forEach(pt=>{u._collapse(pt)}))}}class d extends u{constructor(Je){super(),this.options=Je}addText(Je){Je!==""&&this.add(Je)}startScope(Je){this.openNode(Je)}endScope(){this.closeNode()}__addSublanguage(Je,pt){const It=Je.root;pt&&(It.scope=`language:${pt}`),this.add(It)}toHTML(){return new l(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function f(Ee){return Ee?typeof Ee=="string"?Ee:Ee.source:null}function m(Ee){return v("(?=",Ee,")")}function h(Ee){return v("(?:",Ee,")*")}function y(Ee){return v("(?:",Ee,")?")}function v(...Ee){return Ee.map(pt=>f(pt)).join("")}function x(Ee){const Je=Ee[Ee.length-1];return typeof Je=="object"&&Je.constructor===Object?(Ee.splice(Ee.length-1,1),Je):{}}function b(...Ee){return"("+(x(Ee).capture?"":"?:")+Ee.map(It=>f(It)).join("|")+")"}function S(Ee){return new RegExp(Ee.toString()+"|").exec("").length-1}function E(Ee,Je){const pt=Ee&&Ee.exec(Je);return pt&&pt.index===0}const _=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function C(Ee,{joinWith:Je}){let pt=0;return Ee.map(It=>{pt+=1;const In=pt;let ce=f(It),$e="";for(;ce.length>0;){const ht=_.exec(ce);if(!ht){$e+=ce;break}$e+=ce.substring(0,ht.index),ce=ce.substring(ht.index+ht[0].length),ht[0][0]==="\\"&&ht[1]?$e+="\\"+String(Number(ht[1])+In):($e+=ht[0],ht[0]==="("&&pt++)}return $e}).map(It=>`(${It})`).join(Je)}const O=/\b\B/,M="[a-zA-Z]\\w*",A="[a-zA-Z_]\\w*",P="\\b\\d+(\\.\\d+)?",F="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",R="\\b(0b[01]+)",$="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",q=(Ee={})=>{const Je=/^#![ ]*\//;return Ee.binary&&(Ee.begin=v(Je,/.*\b/,Ee.binary,/\b.*/)),r({scope:"meta",begin:Je,end:/$/,relevance:0,"on:begin":(pt,It)=>{pt.index!==0&&It.ignoreMatch()}},Ee)},z={begin:"\\\\[\\s\\S]",relevance:0},G={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[z]},X={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[z]},U={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},W=function(Ee,Je,pt={}){const It=r({scope:"comment",begin:Ee,end:Je,contains:[]},pt);It.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const In=b("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return It.contains.push({begin:v(/[ ]+/,"(",In,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),It},Y=W("//","$"),ie=W("/\\*","\\*/"),Q=W("#","$"),I={scope:"number",begin:P,relevance:0},V={scope:"number",begin:F,relevance:0},J={scope:"number",begin:R,relevance:0},re={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[z,{begin:/\[/,end:/\]/,relevance:0,contains:[z]}]},fe={scope:"title",begin:M,relevance:0},pe={scope:"title",begin:A,relevance:0},xe={begin:"\\.\\s*"+A,relevance:0};var we=Object.freeze({__proto__:null,APOS_STRING_MODE:G,BACKSLASH_ESCAPE:z,BINARY_NUMBER_MODE:J,BINARY_NUMBER_RE:R,COMMENT:W,C_BLOCK_COMMENT_MODE:ie,C_LINE_COMMENT_MODE:Y,C_NUMBER_MODE:V,C_NUMBER_RE:F,END_SAME_AS_BEGIN:function(Ee){return Object.assign(Ee,{"on:begin":(Je,pt)=>{pt.data._beginMatch=Je[1]},"on:end":(Je,pt)=>{pt.data._beginMatch!==Je[1]&&pt.ignoreMatch()}})},HASH_COMMENT_MODE:Q,IDENT_RE:M,MATCH_NOTHING_RE:O,METHOD_GUARD:xe,NUMBER_MODE:I,NUMBER_RE:P,PHRASAL_WORDS_MODE:U,QUOTE_STRING_MODE:X,REGEXP_MODE:re,RE_STARTERS_RE:$,SHEBANG:q,TITLE_MODE:fe,UNDERSCORE_IDENT_RE:A,UNDERSCORE_TITLE_MODE:pe});function Ce(Ee,Je){Ee.input[Ee.index-1]==="."&&Je.ignoreMatch()}function ae(Ee,Je){Ee.className!==void 0&&(Ee.scope=Ee.className,delete Ee.className)}function Pe(Ee,Je){Je&&Ee.beginKeywords&&(Ee.begin="\\b("+Ee.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",Ee.__beforeBegin=Ce,Ee.keywords=Ee.keywords||Ee.beginKeywords,delete Ee.beginKeywords,Ee.relevance===void 0&&(Ee.relevance=0))}function ee(Ee,Je){Array.isArray(Ee.illegal)&&(Ee.illegal=b(...Ee.illegal))}function ne(Ee,Je){if(Ee.match){if(Ee.begin||Ee.end)throw new Error("begin & end are not supported with match");Ee.begin=Ee.match,delete Ee.match}}function Re(Ee,Je){Ee.relevance===void 0&&(Ee.relevance=1)}const ft=(Ee,Je)=>{if(!Ee.beforeMatch)return;if(Ee.starts)throw new Error("beforeMatch cannot be used with starts");const pt=Object.assign({},Ee);Object.keys(Ee).forEach(It=>{delete Ee[It]}),Ee.keywords=pt.keywords,Ee.begin=v(pt.beforeMatch,m(pt.begin)),Ee.starts={relevance:0,contains:[Object.assign(pt,{endsParent:!0})]},Ee.relevance=0,delete pt.beforeMatch},et=["of","and","for","in","not","or","if","then","parent","list","value"],Ke="keyword";function me(Ee,Je,pt=Ke){const It=Object.create(null);return typeof Ee=="string"?In(pt,Ee.split(" ")):Array.isArray(Ee)?In(pt,Ee):Object.keys(Ee).forEach(function(ce){Object.assign(It,me(Ee[ce],Je,ce))}),It;function In(ce,$e){Je&&($e=$e.map(ht=>ht.toLowerCase())),$e.forEach(function(ht){const Lt=ht.split("|");It[Lt[0]]=[ce,Se(Lt[0],Lt[1])]})}}function Se(Ee,Je){return Je?Number(Je):ke(Ee)?0:1}function ke(Ee){return et.includes(Ee.toLowerCase())}const Ge={},Ye=Ee=>{console.error(Ee)},We=(Ee,...Je)=>{console.log(`WARN: ${Ee}`,...Je)},nt=(Ee,Je)=>{Ge[`${Ee}/${Je}`]||(console.log(`Deprecated as of ${Ee}. ${Je}`),Ge[`${Ee}/${Je}`]=!0)},_t=new Error;function wt(Ee,Je,{key:pt}){let It=0;const In=Ee[pt],ce={},$e={};for(let ht=1;ht<=Je.length;ht++)$e[ht+It]=In[ht],ce[ht+It]=!0,It+=S(Je[ht-1]);Ee[pt]=$e,Ee[pt]._emit=ce,Ee[pt]._multi=!0}function Ot(Ee){if(Array.isArray(Ee.begin)){if(Ee.skip||Ee.excludeBegin||Ee.returnBegin)throw Ye("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),_t;if(typeof Ee.beginScope!="object"||Ee.beginScope===null)throw Ye("beginScope must be object"),_t;wt(Ee,Ee.begin,{key:"beginScope"}),Ee.begin=C(Ee.begin,{joinWith:""})}}function Kt(Ee){if(Array.isArray(Ee.end)){if(Ee.skip||Ee.excludeEnd||Ee.returnEnd)throw Ye("skip, excludeEnd, returnEnd not compatible with endScope: {}"),_t;if(typeof Ee.endScope!="object"||Ee.endScope===null)throw Ye("endScope must be object"),_t;wt(Ee,Ee.end,{key:"endScope"}),Ee.end=C(Ee.end,{joinWith:""})}}function At(Ee){Ee.scope&&typeof Ee.scope=="object"&&Ee.scope!==null&&(Ee.beginScope=Ee.scope,delete Ee.scope)}function On(Ee){At(Ee),typeof Ee.beginScope=="string"&&(Ee.beginScope={_wrap:Ee.beginScope}),typeof Ee.endScope=="string"&&(Ee.endScope={_wrap:Ee.endScope}),Ot(Ee),Kt(Ee)}function An(Ee){function Je($e,ht){return new RegExp(f($e),"m"+(Ee.case_insensitive?"i":"")+(Ee.unicodeRegex?"u":"")+(ht?"g":""))}class pt{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ht,Lt){Lt.position=this.position++,this.matchIndexes[this.matchAt]=Lt,this.regexes.push([Lt,ht]),this.matchAt+=S(ht)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ht=this.regexes.map(Lt=>Lt[1]);this.matcherRe=Je(C(ht,{joinWith:"|"}),!0),this.lastIndex=0}exec(ht){this.matcherRe.lastIndex=this.lastIndex;const Lt=this.matcherRe.exec(ht);if(!Lt)return null;const Hn=Lt.findIndex((mr,or)=>or>0&&mr!==void 0),gn=this.matchIndexes[Hn];return Lt.splice(0,Hn),Object.assign(Lt,gn)}}class It{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ht){if(this.multiRegexes[ht])return this.multiRegexes[ht];const Lt=new pt;return this.rules.slice(ht).forEach(([Hn,gn])=>Lt.addRule(Hn,gn)),Lt.compile(),this.multiRegexes[ht]=Lt,Lt}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ht,Lt){this.rules.push([ht,Lt]),Lt.type==="begin"&&this.count++}exec(ht){const Lt=this.getMatcher(this.regexIndex);Lt.lastIndex=this.lastIndex;let Hn=Lt.exec(ht);if(this.resumingScanAtSamePosition()&&!(Hn&&Hn.index===this.lastIndex)){const gn=this.getMatcher(0);gn.lastIndex=this.lastIndex+1,Hn=gn.exec(ht)}return Hn&&(this.regexIndex+=Hn.position+1,this.regexIndex===this.count&&this.considerAll()),Hn}}function In($e){const ht=new It;return $e.contains.forEach(Lt=>ht.addRule(Lt.begin,{rule:Lt,type:"begin"})),$e.terminatorEnd&&ht.addRule($e.terminatorEnd,{type:"end"}),$e.illegal&&ht.addRule($e.illegal,{type:"illegal"}),ht}function ce($e,ht){const Lt=$e;if($e.isCompiled)return Lt;[ae,ne,On,ft].forEach(gn=>gn($e,ht)),Ee.compilerExtensions.forEach(gn=>gn($e,ht)),$e.__beforeBegin=null,[Pe,ee,Re].forEach(gn=>gn($e,ht)),$e.isCompiled=!0;let Hn=null;return typeof $e.keywords=="object"&&$e.keywords.$pattern&&($e.keywords=Object.assign({},$e.keywords),Hn=$e.keywords.$pattern,delete $e.keywords.$pattern),Hn=Hn||/\w+/,$e.keywords&&($e.keywords=me($e.keywords,Ee.case_insensitive)),Lt.keywordPatternRe=Je(Hn,!0),ht&&($e.begin||($e.begin=/\B|\b/),Lt.beginRe=Je(Lt.begin),!$e.end&&!$e.endsWithParent&&($e.end=/\B|\b/),$e.end&&(Lt.endRe=Je(Lt.end)),Lt.terminatorEnd=f(Lt.end)||"",$e.endsWithParent&&ht.terminatorEnd&&(Lt.terminatorEnd+=($e.end?"|":"")+ht.terminatorEnd)),$e.illegal&&(Lt.illegalRe=Je($e.illegal)),$e.contains||($e.contains=[]),$e.contains=[].concat(...$e.contains.map(function(gn){return yn(gn==="self"?$e:gn)})),$e.contains.forEach(function(gn){ce(gn,Lt)}),$e.starts&&ce($e.starts,ht),Lt.matcher=In(Lt),Lt}if(Ee.compilerExtensions||(Ee.compilerExtensions=[]),Ee.contains&&Ee.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return Ee.classNameAliases=r(Ee.classNameAliases||{}),ce(Ee)}function zt(Ee){return Ee?Ee.endsWithParent||zt(Ee.starts):!1}function yn(Ee){return Ee.variants&&!Ee.cachedVariants&&(Ee.cachedVariants=Ee.variants.map(function(Je){return r(Ee,{variants:null},Je)})),Ee.cachedVariants?Ee.cachedVariants:zt(Ee)?r(Ee,{starts:Ee.starts?r(Ee.starts):null}):Object.isFrozen(Ee)?r(Ee):Ee}var ir="11.11.1";class on extends Error{constructor(Je,pt){super(Je),this.name="HTMLInjectionError",this.html=pt}}const Pn=n,wn=r,kr=Symbol("nomatch"),Tr=7,mn=function(Ee){const Je=Object.create(null),pt=Object.create(null),It=[];let In=!0;const ce="Could not find the language '{}', did you forget to load/include a language module?",$e={disableAutodetect:!0,name:"Plain text",contains:[]};let ht={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function Lt(jt){return ht.noHighlightRe.test(jt)}function Hn(jt){let an=jt.className+" ";an+=jt.parentNode?jt.parentNode.className:"";const Vn=ht.languageDetectRe.exec(an);if(Vn){const nr=oa(Vn[1]);return nr||(We(ce.replace("{}",Vn[1])),We("Falling back to no-highlight mode for this block.",jt)),nr?Vn[1]:"no-highlight"}return an.split(/\s+/).find(nr=>Lt(nr)||oa(nr))}function gn(jt,an,Vn){let nr="",yi="";typeof an=="object"?(nr=jt,Vn=an.ignoreIllegals,yi=an.language):(nt("10.7.0","highlight(lang, code, ...args) has been deprecated."),nt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),yi=jt,nr=an),Vn===void 0&&(Vn=!0);const qr={code:nr,language:yi};Cs("before:highlight",qr);const Lo=qr.result?qr.result:mr(qr.language,qr.code,Vn);return Lo.code=qr.code,Cs("after:highlight",Lo),Lo}function mr(jt,an,Vn,nr){const yi=Object.create(null);function qr(Mt,qt){return Mt.keywords[qt]}function Lo(){if(!xn.keywords){Ci.addText(wr);return}let Mt=0;xn.keywordPatternRe.lastIndex=0;let qt=xn.keywordPatternRe.exec(wr),Nn="";for(;qt;){Nn+=wr.substring(Mt,qt.index);const Dt=Wi.case_insensitive?qt[0].toLowerCase():qt[0],xi=qr(xn,Dt);if(xi){const[es,Op]=xi;if(Ci.addText(Nn),Nn="",yi[Dt]=(yi[Dt]||0)+1,yi[Dt]<=Tr&&(Bc+=Op),es.startsWith("_"))Nn+=qt[0];else{const Wf=Wi.classNameAliases[es]||es;ks(qt[0],Wf)}}else Nn+=qt[0];Mt=xn.keywordPatternRe.lastIndex,qt=xn.keywordPatternRe.exec(wr)}Nn+=wr.substring(Mt),Ci.addText(Nn)}function ci(){if(wr==="")return;let Mt=null;if(typeof xn.subLanguage=="string"){if(!Je[xn.subLanguage]){Ci.addText(wr);return}Mt=mr(xn.subLanguage,wr,!0,$c[xn.subLanguage]),$c[xn.subLanguage]=Mt._top}else Mt=Yr(wr,xn.subLanguage.length?xn.subLanguage:null);xn.relevance>0&&(Bc+=Mt.relevance),Ci.__addSublanguage(Mt._emitter,Mt.language)}function As(){xn.subLanguage!=null?ci():Lo(),wr=""}function ks(Mt,qt){Mt!==""&&(Ci.startScope(qt),Ci.addText(Mt),Ci.endScope())}function Aa(Mt,qt){let Nn=1;const Dt=qt.length-1;for(;Nn<=Dt;){if(!Mt._emit[Nn]){Nn++;continue}const xi=Wi.classNameAliases[Mt[Nn]]||Mt[Nn],es=qt[Nn];xi?ks(es,xi):(wr=es,Lo(),wr=""),Nn++}}function qa(Mt,qt){return Mt.scope&&typeof Mt.scope=="string"&&Ci.openNode(Wi.classNameAliases[Mt.scope]||Mt.scope),Mt.beginScope&&(Mt.beginScope._wrap?(ks(wr,Wi.classNameAliases[Mt.beginScope._wrap]||Mt.beginScope._wrap),wr=""):Mt.beginScope._multi&&(Aa(Mt.beginScope,qt),wr="")),xn=Object.create(Mt,{parent:{value:xn}}),xn}function Hs(Mt,qt,Nn){let Dt=E(Mt.endRe,Nn);if(Dt){if(Mt["on:end"]){const xi=new e(Mt);Mt["on:end"](qt,xi),xi.isMatchIgnored&&(Dt=!1)}if(Dt){for(;Mt.endsParent&&Mt.parent;)Mt=Mt.parent;return Mt}}if(Mt.endsWithParent)return Hs(Mt.parent,qt,Nn)}function Lc(Mt){return xn.matcher.regexIndex===0?(wr+=Mt[0],1):(ka=!0,0)}function _i(Mt){const qt=Mt[0],Nn=Mt.rule,Dt=new e(Nn),xi=[Nn.__beforeBegin,Nn["on:begin"]];for(const es of xi)if(es&&(es(Mt,Dt),Dt.isMatchIgnored))return Lc(qt);return Nn.skip?wr+=qt:(Nn.excludeBegin&&(wr+=qt),As(),!Nn.returnBegin&&!Nn.excludeBegin&&(wr=qt)),qa(Nn,Mt),Nn.returnBegin?0:qt.length}function Fc(Mt){const qt=Mt[0],Nn=an.substring(Mt.index),Dt=Hs(xn,Mt,Nn);if(!Dt)return kr;const xi=xn;xn.endScope&&xn.endScope._wrap?(As(),ks(qt,xn.endScope._wrap)):xn.endScope&&xn.endScope._multi?(As(),Aa(xn.endScope,Mt)):xi.skip?wr+=qt:(xi.returnEnd||xi.excludeEnd||(wr+=qt),As(),xi.excludeEnd&&(wr=qt));do xn.scope&&Ci.closeNode(),!xn.skip&&!xn.subLanguage&&(Bc+=xn.relevance),xn=xn.parent;while(xn!==Dt.parent);return Dt.starts&&qa(Dt.starts,Mt),xi.returnEnd?0:qt.length}function Vf(){const Mt=[];for(let qt=xn;qt!==Wi;qt=qt.parent)qt.scope&&Mt.unshift(qt.scope);Mt.forEach(qt=>Ci.openNode(qt))}let Wl={};function Kl(Mt,qt){const Nn=qt&&qt[0];if(wr+=Mt,Nn==null)return As(),0;if(Wl.type==="begin"&&qt.type==="end"&&Wl.index===qt.index&&Nn===""){if(wr+=an.slice(qt.index,qt.index+1),!In){const Dt=new Error(`0 width match regex (${jt})`);throw Dt.languageName=jt,Dt.badRule=Wl.rule,Dt}return 1}if(Wl=qt,qt.type==="begin")return _i(qt);if(qt.type==="illegal"&&!Vn){const Dt=new Error('Illegal lexeme "'+Nn+'" for mode "'+(xn.scope||"<unnamed>")+'"');throw Dt.mode=xn,Dt}else if(qt.type==="end"){const Dt=Fc(qt);if(Dt!==kr)return Dt}if(qt.type==="illegal"&&Nn==="")return wr+=`
`,1;if(vo>1e5&&vo>qt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return wr+=Nn,Nn.length}const Wi=oa(jt);if(!Wi)throw Ye(ce.replace("{}",jt)),new Error('Unknown language: "'+jt+'"');const Pu=An(Wi);let ur="",xn=nr||Pu;const $c={},Ci=new ht.__emitter(ht);Vf();let wr="",Bc=0,Ua=0,vo=0,ka=!1;try{if(Wi.__emitTokens)Wi.__emitTokens(an,Ci);else{for(xn.matcher.considerAll();;){vo++,ka?ka=!1:xn.matcher.considerAll(),xn.matcher.lastIndex=Ua;const Mt=xn.matcher.exec(an);if(!Mt)break;const qt=an.substring(Ua,Mt.index),Nn=Kl(qt,Mt);Ua=Mt.index+Nn}Kl(an.substring(Ua))}return Ci.finalize(),ur=Ci.toHTML(),{language:jt,value:ur,relevance:Bc,illegal:!1,_emitter:Ci,_top:xn}}catch(Mt){if(Mt.message&&Mt.message.includes("Illegal"))return{language:jt,value:Pn(an),illegal:!0,relevance:0,_illegalBy:{message:Mt.message,index:Ua,context:an.slice(Ua-100,Ua+100),mode:Mt.mode,resultSoFar:ur},_emitter:Ci};if(In)return{language:jt,value:Pn(an),illegal:!1,relevance:0,errorRaised:Mt,_emitter:Ci,_top:xn};throw Mt}}function or(jt){const an={value:Pn(jt),illegal:!1,relevance:0,_top:$e,_emitter:new ht.__emitter(ht)};return an._emitter.addText(jt),an}function Yr(jt,an){an=an||ht.languages||Object.keys(Je);const Vn=or(jt),nr=an.filter(oa).filter(Uf).map(As=>mr(As,jt,!1));nr.unshift(Vn);const yi=nr.sort((As,ks)=>{if(As.relevance!==ks.relevance)return ks.relevance-As.relevance;if(As.language&&ks.language){if(oa(As.language).supersetOf===ks.language)return 1;if(oa(ks.language).supersetOf===As.language)return-1}return 0}),[qr,Lo]=yi,ci=qr;return ci.secondBest=Lo,ci}function vi(jt,an,Vn){const nr=an&&pt[an]||Vn;jt.classList.add("hljs"),jt.classList.add(`language-${nr}`)}function Vi(jt){let an=null;const Vn=Hn(jt);if(Lt(Vn))return;if(Cs("before:highlightElement",{el:jt,language:Vn}),jt.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",jt);return}if(jt.children.length>0&&(ht.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(jt)),ht.throwUnescapedHTML))throw new on("One of your code blocks includes unescaped HTML.",jt.innerHTML);an=jt;const nr=an.textContent,yi=Vn?gn(nr,{language:Vn,ignoreIllegals:!0}):Yr(nr);jt.innerHTML=yi.value,jt.dataset.highlighted="yes",vi(jt,Vn,yi.language),jt.result={language:yi.language,re:yi.relevance,relevance:yi.relevance},yi.secondBest&&(jt.secondBest={language:yi.secondBest.language,relevance:yi.secondBest.relevance}),Cs("after:highlightElement",{el:jt,result:yi,text:nr})}function mo(jt){ht=wn(ht,jt)}const Di=()=>{Do(),nt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Us(){Do(),nt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let aa=!1;function Do(){function jt(){Do()}if(document.readyState==="loading"){aa||window.addEventListener("DOMContentLoaded",jt,!1),aa=!0;return}document.querySelectorAll(ht.cssSelector).forEach(Vi)}function go(jt,an){let Vn=null;try{Vn=an(Ee)}catch(nr){if(Ye("Language definition for '{}' could not be registered.".replace("{}",jt)),In)Ye(nr);else throw nr;Vn=$e}Vn.name||(Vn.name=jt),Je[jt]=Vn,Vn.rawDefinition=an.bind(null,Ee),Vn.aliases&&Dc(Vn.aliases,{languageName:jt})}function Hl(jt){delete Je[jt];for(const an of Object.keys(pt))pt[an]===jt&&delete pt[an]}function Ic(){return Object.keys(Je)}function oa(jt){return jt=(jt||"").toLowerCase(),Je[jt]||Je[pt[jt]]}function Dc(jt,{languageName:an}){typeof jt=="string"&&(jt=[jt]),jt.forEach(Vn=>{pt[Vn.toLowerCase()]=an})}function Uf(jt){const an=oa(jt);return an&&!an.disableAutodetect}function Xr(jt){jt["before:highlightBlock"]&&!jt["before:highlightElement"]&&(jt["before:highlightElement"]=an=>{jt["before:highlightBlock"](Object.assign({block:an.el},an))}),jt["after:highlightBlock"]&&!jt["after:highlightElement"]&&(jt["after:highlightElement"]=an=>{jt["after:highlightBlock"](Object.assign({block:an.el},an))})}function Hf(jt){Xr(jt),It.push(jt)}function Ou(jt){const an=It.indexOf(jt);an!==-1&&It.splice(an,1)}function Cs(jt,an){const Vn=jt;It.forEach(function(nr){nr[Vn]&&nr[Vn](an)})}function Vl(jt){return nt("10.7.0","highlightBlock will be removed entirely in v12.0"),nt("10.7.0","Please use highlightElement now."),Vi(jt)}Object.assign(Ee,{highlight:gn,highlightAuto:Yr,highlightAll:Do,highlightElement:Vi,highlightBlock:Vl,configure:mo,initHighlighting:Di,initHighlightingOnLoad:Us,registerLanguage:go,unregisterLanguage:Hl,listLanguages:Ic,getLanguage:oa,registerAliases:Dc,autoDetection:Uf,inherit:wn,addPlugin:Hf,removePlugin:Ou}),Ee.debugMode=function(){In=!1},Ee.safeMode=function(){In=!0},Ee.versionString=ir,Ee.regex={concat:v,lookahead:m,either:b,optional:y,anyNumberOfTimes:h};for(const jt in we)typeof we[jt]=="object"&&t(we[jt]);return Object.assign(Ee,we),Ee},Ut=mn({});return Ut.newInstance=()=>mn({}),bP=Ut,Ut.HighlightJS=Ut,Ut.default=Ut,bP}var YWe=GWe();const Dle=zr(YWe);function Lle(t,e=[]){return t.flatMap(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?Lle(n.children,r):{text:n.value,classes:r}})}function JW(t){return t.value||t.children||[]}function XWe(t){return!!Dle.getLanguage(t)}function ZW({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return j4(t,s=>s.type.name===e).forEach(s=>{var o;let l=s.pos+1;const c=s.node.attrs.language||r,u=n.listLanguages(),d=c&&(u.includes(c)||XWe(c)||(o=n.registered)!=null&&o.call(n,c))?JW(n.highlight(c,s.node.textContent)):JW(n.highlightAuto(s.node.textContent));Lle(d).forEach(f=>{const m=l+f.text.length;if(f.classes.length){const h=ta.inline(l,m,{class:f.classes.join(" ")});i.push(h)}l=m})}),fi.create(t,i)}function QWe(t){return typeof t=="function"}function JWe({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>QWe(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Ii({key:new gs("lowlight"),state:{init:(i,{doc:s})=>ZW({doc:s,name:t,lowlight:e,defaultLanguage:n}),apply:(i,s,o,l)=>{const c=o.selection.$head.parent.type.name,u=l.selection.$head.parent.type.name,d=j4(o.doc,m=>m.type.name===t),f=j4(l.doc,m=>m.type.name===t);return i.docChanged&&([c,u].includes(t)||f.length!==d.length||i.steps.some(m=>m.from!==void 0&&m.to!==void 0&&d.some(h=>h.pos>=m.from&&h.pos+h.node.nodeSize<=m.to)))?ZW({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var ZWe=hVe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],JWe({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function eKe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},h=e.optional(i)+t.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],x=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:v,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:x},C={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},O=[C,f,l,n,t.C_BLOCK_COMMENT_MODE,d,u],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:O.concat([{begin:/\(/,end:/\)/,keywords:_,contains:O.concat(["self"]),relevance:0}]),relevance:0},A={className:"function",begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:h,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,A,C,O,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",l]},{begin:t.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function tKe(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=eKe(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function nKe(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},m=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=t.SHEBANG({binary:`(${m.join("|")})`,relevance:10}),y={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],x=["true","false"],b={match:/(\/[a-z._-]+)+/},S=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],E=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],_=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:x,built_in:[...S,...E,"set","shopt",..._,...C]},contains:[h,t.SHEBANG(),y,f,s,o,b,l,c,u,d,n]}}function rKe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},h=e.optional(i)+t.IDENT_RE+"\\s*\\(",x={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[f,l,n,t.C_BLOCK_COMMENT_MODE,d,u],S={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:b.concat([{begin:/\(/,end:/\)/,keywords:x,contains:b.concat(["self"]),relevance:0}]),relevance:0},E={begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:x,relevance:0},{begin:h,returnBegin:!0,contains:[t.inherit(m,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C",aliases:["h"],keywords:x,disableAutodetect:!0,illegal:"</",contains:[].concat(S,E,b,[f,{begin:t.IDENT_RE+"::",keywords:x},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:f,strings:u,keywords:x}}}function iKe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},h=e.optional(i)+t.IDENT_RE+"\\s*\\(",y=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],x=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:v,keyword:y,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:x},C={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},O=[C,f,l,n,t.C_BLOCK_COMMENT_MODE,d,u],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:O.concat([{begin:/\(/,end:/\)/,keywords:_,contains:O.concat(["self"]),relevance:0}]),relevance:0},A={className:"function",begin:"("+o+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:h,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,A,C,O,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",l]},{begin:t.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function sKe(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:r},l=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=t.inherit(d,{illegal:/\n/}),m={className:"subst",begin:/\{/,end:/\}/,keywords:o},h=t.inherit(m,{illegal:/\n/}),y={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,h]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]},x=t.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]});m.contains=[v,y,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,c,t.C_BLOCK_COMMENT_MODE],h.contains=[x,y,f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,c,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const b={variants:[u,v,y,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},S={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},E=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",_={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},b,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,S,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,S,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+E+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,S],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[b,c,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},_]}}const aKe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),oKe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],lKe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],cKe=[...oKe,...lKe],uKe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),dKe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),fKe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),hKe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function pKe(t){const e=t.regex,n=aKe(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",l=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+dKe.join("|")+")"},{begin:":(:)?("+fKe.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+hKe.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:uKe.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+cKe.join("|")+")\\b"}]}}function mKe(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function gKe(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function vKe(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function yKe(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[r,s,i,o,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,f=e.either(c,u,d),m=e.concat(f,"(\\s*\\.\\s*",f,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:m,className:"attr",starts:{end:/$/,contains:[r,l,s,i,o,n]}}]}}var wv="[0-9](_*[0-9])*",O2=`\\.(${wv})`,P2="[0-9a-fA-F](_*[0-9a-fA-F])*",eK={className:"number",variants:[{begin:`(\\b(${wv})((${O2})|\\.)?|(${O2}))[eE][+-]?(${wv})[fFdD]?\\b`},{begin:`\\b(${wv})((${O2})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${O2})[fFdD]?\\b`},{begin:`\\b(${wv})[fFdD]\\b`},{begin:`\\b0[xX]((${P2})\\.?|(${P2})?\\.(${P2}))[pP][+-]?(${wv})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${P2})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Fle(t,e,n){return n===-1?"":t.replace(e,r=>Fle(t,e,n-1))}function xKe(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+Fle("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,eK,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},eK,u]}}const tK="[A-Za-z$_][0-9A-Za-z$_]*",bKe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],wKe=["true","false","null","undefined","NaN","Infinity"],$le=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ble=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],zle=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],NKe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],SKe=[].concat(zle,$le,Ble);function EKe(t){const e=t.regex,n=(W,{after:Y})=>{const ie="</"+W[0].slice(1);return W.input.indexOf(ie,Y)!==-1},r=tK,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Y)=>{const ie=W[0].length+W.index,Q=W.input[ie];if(Q==="<"||Q===","){Y.ignoreMatch();return}Q===">"&&(n(W,{after:ie})||Y.ignoreMatch());let I;const V=W.input.substring(ie);if(I=V.match(/^\s*=/)){Y.ignoreMatch();return}if((I=V.match(/^\s+extends\s+/))&&I.index===0){Y.ignoreMatch();return}}},l={$pattern:tK,keyword:bKe,literal:wKe,built_in:SKe,"variable.language":NKe},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,m]},S={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},E=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,y,v,x,{match:/\$\d+/},f];m.contains=E.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(E)});const _=[].concat(S,m.contains),C=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(_)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...$le,...Ble]}},P={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},F={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function $(W){return e.concat("(?!",W.join("|"),")")}const q={match:e.concat(/\b/,$([...zle,"super","import"].map(W=>`${W}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},G={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},X="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(X)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),P,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,y,v,x,S,{match:/\$\d+/},f,A,{scope:"attr",match:r+e.lookahead(":"),relevance:0},U,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,t.REGEXP_MODE,{className:"function",begin:X,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},F,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},q,R,M,G,{match:/\$[(.]/}]}}function jKe(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Nv="[0-9](_*[0-9])*",M2=`\\.(${Nv})`,R2="[0-9a-fA-F](_*[0-9a-fA-F])*",_Ke={className:"number",variants:[{begin:`(\\b(${Nv})((${M2})|\\.)?|(${M2}))[eE][+-]?(${Nv})[fFdD]?\\b`},{begin:`\\b(${Nv})((${M2})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${M2})[fFdD]?\\b`},{begin:`\\b(${Nv})[fFdD]\\b`},{begin:`\\b0[xX]((${R2})\\.?|(${R2})?\\.(${R2}))[pP][+-]?(${Nv})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${R2})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function CKe(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(o,{className:"string"}),"self"]}]},u=_Ke,d=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),f={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},m=f;return m.variants[1].contains=[f],f.variants[1].contains=[m],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,d,n,r,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[f,t.C_LINE_COMMENT_MODE,d],relevance:0},t.C_LINE_COMMENT_MODE,d,l,c,o,t.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,c]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const AKe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),kKe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],TKe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],OKe=[...kKe,...TKe],PKe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),qle=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Ule=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),MKe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),RKe=qle.concat(Ule).sort().reverse();function IKe(t){const e=AKe(t),n=RKe,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],l=[],c=function(E){return{className:"string",begin:"~?"+E+".*?"+E}},u=function(E,_,C){return{className:E,begin:_,relevance:C}},d={$pattern:/[a-z-]+/,keyword:r,attribute:PKe.join(" ")},f={begin:"\\(",end:"\\)",contains:l,keywords:d,relevance:0};l.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,c("'"),c('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,f,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const m=l.concat({begin:/\{/,end:/\}/,contains:o}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},y={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+MKe.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:l,relevance:0}},x={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:m}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,h,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+OKe.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+qle.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Ule.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:m},{begin:"!important"},e.FUNCTION_DISPATCH]},S={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[b]};return o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,v,x,S,y,b,h,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function DKe(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function LKe(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,o]}}function FKe(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=t.inherit(u,{contains:[]}),m=t.inherit(d,{contains:[]});u.contains.push(m),d.contains.push(f);let h=[n,c];return[u,d,f,m].forEach(b=>{b.contains=b.contains.concat(h)}),h=h.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},i,r,c,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function $Ke(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function BKe(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[t.BACKSLASH_ESCAPE,s,c],f=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],m=(v,x,b="\\1")=>{const S=b==="\\1"?b:e.concat(b,x);return e.concat(e.concat("(?:",v,")"),x,/(?:\\.|[^\\\/])*?/,S,/(?:\\.|[^\\\/])*?/,b,r)},h=(v,x,b)=>e.concat(e.concat("(?:",v,")"),x,/(?:\\.|[^\\\/])*?/,b,r),y=[c,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:m("s|tr|y",e.either(...f,{capture:!0}))},{begin:m("s|tr|y","\\(","\\)")},{begin:m("s|tr|y","\\[","\\]")},{begin:m("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:h("(?:m|qr)?",/\//,/\//)},{begin:h("m|qr",e.either(...f,{capture:!0}),/\1/)},{begin:h("m|qr",/\(/,/\)/)},{begin:h("m|qr",/\[/,/\]/)},{begin:h("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,l,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=y,o.contains=y,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:y}}function zKe(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=t.inherit(t.APOS_STRING_MODE,{illegal:null}),d=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(c)}),f={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(z,G)=>{G.data._beginMatch=z[1]||z[2]},"on:end":(z,G)=>{G.data._beginMatch!==z[1]&&G.ignoreMatch()}},m=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),h=`[ 	
]`,y={scope:"string",variants:[d,u,f,m]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},x=["false","null","true"],b=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],S=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],_={keyword:b,literal:(z=>{const G=[];return z.forEach(X=>{G.push(X),X.toLowerCase()===X?G.push(X.toUpperCase()):G.push(X.toLowerCase())}),G})(x),built_in:S},C=z=>z.map(G=>G.replace(/\|\d+$/,"")),O={variants:[{match:[/new/,e.concat(h,"+"),e.concat("(?!",C(S).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},M=e.concat(r,"\\b(?!\\()"),A={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),M],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),M],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},P={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},F={relevance:0,begin:/\(/,end:/\)/,keywords:_,contains:[P,o,A,t.C_BLOCK_COMMENT_MODE,y,v,O]},R={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",C(b).join("\\b|"),"|",C(S).join("\\b|"),"\\b)"),r,e.concat(h,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[F]};F.contains.push(R);const $=[P,A,t.C_BLOCK_COMMENT_MODE,y,v,O],q={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:x,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:x,keyword:["new","array"]},contains:["self",...$]},...$,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:_,contains:[q,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},o,R,A,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},O,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:_,contains:["self",q,o,A,t.C_BLOCK_COMMENT_MODE,y,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},y,v]}}function qKe(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function UKe(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function HKe(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},f={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,d,u]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},m="[0-9](_?[0-9])*",h=`(\\b(${m}))?\\.(${m})|\\b(${m})\\.`,y=`\\b|${r.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${m})|(${h}))[eE][+-]?(${m})[jJ]?(?=${y})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${y})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${y})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${y})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${y})`},{begin:`\\b(${m})[jJ](?=${y})`}]},x={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,v,f,t.HASH_COMMENT_MODE]}]};return u.contains=[f,v,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,x,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,b,f]}]}}function VKe(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function WKe(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function KKe(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[t.COMMENT("#","$",{contains:[l]}),t.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:o},f={className:"string",contains:[t.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,d]})]}]},m="[1-9](_?[0-9])*|0",h="[0-9](_?[0-9])*",y={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${h}))?([eE][+-]?(${h})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},O=[f,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[f,{begin:n}],relevance:0},y,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=O,v.contains=O;const F=[{begin:/^\s*=>/,starts:{end:"$",contains:O}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:O}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(F).concat(u).concat(O)}}function GKe(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:d,keyword:l,literal:c,built_in:u},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},s]}}const YKe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),XKe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],QKe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],JKe=[...XKe,...QKe],ZKe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),eGe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),tGe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),nGe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function rGe(t){const e=YKe(t),n=tGe,r=eGe,i="@[a-z-]+",s="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+JKe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+nGe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,l,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:ZKe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function iGe(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function sGe(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=d,y=[...u,...c].filter(C=>!d.includes(C)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},x={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:e.concat(/\b/,e.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function S(C){return e.concat(/\b/,e.either(...C.map(O=>O.replace(/\s+/,"\\s+"))),/\b/)}const E={scope:"keyword",match:S(m),relevance:0};function _(C,{exceptions:O,when:M}={}){const A=M;return O=O||[],C.map(P=>P.match(/\|\d+$/)||O.includes(P)?P:A(P)?`${P}|0`:P)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:_(y,{when:C=>C.length<3}),literal:s,type:l,built_in:f},contains:[{scope:"type",match:S(o)},E,b,v,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,x]}}function Hle(t){return t?typeof t=="string"?t:t.source:null}function ub(t){return ai("(?=",t,")")}function ai(...t){return t.map(n=>Hle(n)).join("")}function aGe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function _o(...t){return"("+(aGe(t).capture?"":"?:")+t.map(r=>Hle(r)).join("|")+")"}const I3=t=>ai(/\b/,t,/\w$/.test(t)?/\b/:/\B/),oGe=["Protocol","Type"].map(I3),nK=["init","self"].map(I3),lGe=["Any","Self"],wP=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],rK=["false","nil","true"],cGe=["assignment","associativity","higherThan","left","lowerThan","none","right"],uGe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],iK=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Vle=_o(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Wle=_o(Vle,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),NP=ai(Vle,Wle,"*"),Kle=_o(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),HE=_o(Kle,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Yu=ai(Kle,HE,"*"),I2=ai(/[A-Z]/,HE,"*"),dGe=["attached","autoclosure",ai(/convention\(/,_o("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",ai(/objc\(/,Yu,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],fGe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function hGe(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,_o(...oGe,...nK)],className:{2:"keyword"}},s={match:ai(/\./,_o(...wP)),relevance:0},o=wP.filter(Re=>typeof Re=="string").concat(["_|0"]),l=wP.filter(Re=>typeof Re!="string").concat(lGe).map(I3),c={variants:[{className:"keyword",match:_o(...l,...nK)}]},u={$pattern:_o(/\b\w+/,/#\w+/),keyword:o.concat(uGe),literal:rK},d=[i,s,c],f={match:ai(/\./,_o(...iK)),relevance:0},m={className:"built_in",match:ai(/\b/,_o(...iK),/(?=\()/)},h=[f,m],y={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:NP},{match:`\\.(\\.|${Wle})+`}]},x=[y,v],b="([0-9]_*)+",S="([0-9a-fA-F]_*)+",E={className:"number",relevance:0,variants:[{match:`\\b(${b})(\\.(${b}))?([eE][+-]?(${b}))?\\b`},{match:`\\b0x(${S})(\\.(${S}))?([pP][+-]?(${b}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},_=(Re="")=>({className:"subst",variants:[{match:ai(/\\/,Re,/[0\\tnr"']/)},{match:ai(/\\/,Re,/u\{[0-9a-fA-F]{1,8}\}/)}]}),C=(Re="")=>({className:"subst",match:ai(/\\/,Re,/[\t ]*(?:[\r\n]|\r\n)/)}),O=(Re="")=>({className:"subst",label:"interpol",begin:ai(/\\/,Re,/\(/),end:/\)/}),M=(Re="")=>({begin:ai(Re,/"""/),end:ai(/"""/,Re),contains:[_(Re),C(Re),O(Re)]}),A=(Re="")=>({begin:ai(Re,/"/),end:ai(/"/,Re),contains:[_(Re),O(Re)]}),P={className:"string",variants:[M(),M("#"),M("##"),M("###"),A(),A("#"),A("##"),A("###")]},F=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],R={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:F},$=Re=>{const ft=ai(Re,/\//),et=ai(/\//,Re);return{begin:ft,end:et,contains:[...F,{scope:"comment",begin:`#(?!.*${et})`,end:/$/}]}},q={scope:"regexp",variants:[$("###"),$("##"),$("#"),R]},z={match:ai(/`/,Yu,/`/)},G={className:"variable",match:/\$\d+/},X={className:"variable",match:`\\$${HE}+`},U=[z,G,X],W={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:fGe,contains:[...x,E,P]}]}},Y={scope:"keyword",match:ai(/@/,_o(...dGe),ub(_o(/\(/,/\s+/)))},ie={scope:"meta",match:ai(/@/,Yu)},Q=[W,Y,ie],I={match:ub(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:ai(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,HE,"+")},{className:"type",match:I2,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:ai(/\s+&\s+/,ub(I2)),relevance:0}]},V={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...Q,y,I]};I.contains.push(V);const J={match:ai(Yu,/\s*:/),keywords:"_|0",relevance:0},re={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",J,...r,q,...d,...h,...x,E,P,...U,...Q,I]},fe={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,I]},pe={begin:_o(ub(ai(Yu,/\s*:/)),ub(ai(Yu,/\s+/,Yu,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Yu}]},xe={begin:/\(/,end:/\)/,keywords:u,contains:[pe,...r,...d,...x,E,P,...Q,I,re],endsParent:!0,illegal:/["']/},de={match:[/(func|macro)/,/\s+/,_o(z.match,Yu,NP)],className:{1:"keyword",3:"title.function"},contains:[fe,xe,e],illegal:[/\[/,/%/]},we={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[fe,xe,e],illegal:/\[|%/},Ce={match:[/operator/,/\s+/,NP],className:{1:"keyword",3:"title"}},ae={begin:[/precedencegroup/,/\s+/,I2],className:{1:"keyword",3:"title"},contains:[I],keywords:[...cGe,...rK],end:/}/},Pe={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},ee={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},ne={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Yu,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[fe,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:I2},...d],relevance:0}]};for(const Re of P.variants){const ft=Re.contains.find(Ke=>Ke.label==="interpol");ft.keywords=u;const et=[...d,...h,...x,E,P,...U];ft.contains=[...et,{begin:/\(/,end:/\)/,contains:["self",...et]}]}return{name:"Swift",keywords:u,contains:[...r,de,we,Pe,ee,ne,Ce,ae,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},q,...d,...h,...x,E,P,...U,...Q,I,re]}}const VE="[A-Za-z$_][0-9A-Za-z$_]*",Gle=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Yle=["true","false","null","undefined","NaN","Infinity"],Xle=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Qle=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Jle=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Zle=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ece=[].concat(Jle,Xle,Qle);function pGe(t){const e=t.regex,n=(W,{after:Y})=>{const ie="</"+W[0].slice(1);return W.input.indexOf(ie,Y)!==-1},r=VE,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Y)=>{const ie=W[0].length+W.index,Q=W.input[ie];if(Q==="<"||Q===","){Y.ignoreMatch();return}Q===">"&&(n(W,{after:ie})||Y.ignoreMatch());let I;const V=W.input.substring(ie);if(I=V.match(/^\s*=/)){Y.ignoreMatch();return}if((I=V.match(/^\s+extends\s+/))&&I.index===0){Y.ignoreMatch();return}}},l={$pattern:VE,keyword:Gle,literal:Yle,built_in:ece,"variable.language":Zle},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},x={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,m]},S={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},E=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,y,v,x,{match:/\$\d+/},f];m.contains=E.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(E)});const _=[].concat(S,m.contains),C=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(_)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Xle,...Qle]}},P={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},F={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},R={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function $(W){return e.concat("(?!",W.join("|"),")")}const q={match:e.concat(/\b/,$([...Jle,"super","import"].map(W=>`${W}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},G={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},X="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",U={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(X)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),P,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,y,v,x,S,{match:/\$\d+/},f,A,{scope:"attr",match:r+e.lookahead(":"),relevance:0},U,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,t.REGEXP_MODE,{className:"function",begin:X,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},F,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},q,R,M,G,{match:/\$[(.]/}]}}function mGe(t){const e=t.regex,n=pGe(t),r=VE,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:VE,keyword:Gle.concat(c),literal:Yle,built_in:ece.concat(i),"variable.language":Zle},d={className:"meta",begin:"@"+r},f=(v,x,b)=>{const S=v.contains.findIndex(E=>E.label===x);if(S===-1)throw new Error("can not find mode to replace");v.contains.splice(S,1,b)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const m=n.contains.find(v=>v.scope==="attr"),h=Object.assign({},m,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,m,h]),n.contains=n.contains.concat([d,s,o,h]),f(n,"shebang",t.SHEBANG()),f(n,"use_strict",l);const y=n.contains.find(v=>v.label==="func.def");return y.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function gGe(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,l,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},f=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),m=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,f,m,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[m]}]}}function vGe(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,t.QUOTE_STRING_MODE,c,u,l]}}function yGe(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),l=t.inherit(t.APOS_STRING_MODE,{className:"string"}),c=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,l,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,c,l]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function xGe(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},l=t.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),m={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},h={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},y={begin:/\{/,end:/\}/,contains:[h],illegal:"\\n",relevance:0},v={begin:"\\[",end:"\\]",contains:[h],illegal:"\\n",relevance:0},x=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},m,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},y,v,s,o],b=[...x];return b.pop(),b.push(l),h.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:x}}const bGe={arduino:tKe,bash:nKe,c:rKe,cpp:iKe,csharp:sKe,css:pKe,diff:mKe,go:gKe,graphql:vKe,ini:yKe,java:xKe,javascript:EKe,json:jKe,kotlin:CKe,less:IKe,lua:DKe,makefile:LKe,markdown:FKe,objectivec:$Ke,perl:BKe,php:zKe,"php-template":qKe,plaintext:UKe,python:HKe,"python-repl":VKe,r:WKe,ruby:KKe,rust:GKe,scss:rGe,shell:iGe,sql:sGe,swift:hGe,typescript:mGe,vbnet:gGe,wasm:vGe,xml:yGe,yaml:xGe},sK={},wGe="hljs-";function NGe(t){const e=Dle.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:o,registered:l};function n(c,u,d){const f=d||sK,m=typeof f.prefix=="string"?f.prefix:wGe;if(!e.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");e.configure({__emitter:SGe,classPrefix:m});const h=e.highlight(u,{ignoreIllegals:!0,language:c});if(h.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:h.errorRaised});const y=h._emitter.root,v=y.data;return v.language=h.language,v.relevance=h.relevance,y}function r(c,u){const f=(u||sK).subset||i();let m=-1,h=0,y;for(;++m<f.length;){const v=f[m];if(!e.getLanguage(v))continue;const x=n(v,c,u);x.data&&x.data.relevance!==void 0&&x.data.relevance>h&&(h=x.data.relevance,y=x)}return y||{type:"root",children:[],data:{language:void 0,relevance:h}}}function i(){return e.listLanguages()}function s(c,u){if(typeof c=="string")e.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&e.registerLanguage(d,c[d])}}function o(c,u){if(typeof c=="string")e.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const f=c[d];e.registerAliases(typeof f=="string"?f:[...f],{languageName:d})}}}function l(c){return!!e.getLanguage(c)}}class SGe{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(o,l){return l?o+"_".repeat(l):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}var B4,z4;if(typeof WeakMap<"u"){let t=new WeakMap;B4=e=>t.get(e),z4=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;B4=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},z4=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var hs=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let l=1;s<this.width&&this.map[e+l]==n;l++)s++;for(let l=1;o<this.height&&this.map[e+this.width*l]==n;l++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:o,right:l,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,o),top:Math.min(i,c),right:Math.max(r,l),bottom:Math.max(s,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||r==t.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let o=e+t*this.width;const l=(t+1)*this.width;for(;o<l&&this.map[o]<i;)o++;return o==l?s-1:this.map[o]}i=s}}static get(t){return B4(t)||z4(t,EGe(t))}};function EGe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=jGe(t),n=t.childCount,r=[];let i=0,s=null;const o=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=t.child(u);d++;for(let y=0;;y++){for(;i<r.length&&r[i]!=0;)i++;if(y==f.childCount)break;const v=f.child(y),{colspan:x,rowspan:b,colwidth:S}=v.attrs;for(let E=0;E<b;E++){if(E+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:d,n:b-E});break}const _=i+E*e;for(let C=0;C<x;C++){r[_+C]==0?r[_+C]=d:(s||(s=[])).push({type:"collision",row:u,pos:d,n:x-C});const O=S&&S[C];if(O){const M=(_+C)%e*2,A=o[M];A==null||A!=O&&o[M+1]==1?(o[M]=O,o[M+1]=1):A==O&&o[M+1]++}}}i+=x,d+=v.nodeSize}const m=(u+1)*e;let h=0;for(;i<m;)r[i++]==0&&h++;h&&(s||(s=[])).push({type:"missing",row:u,n:h}),d++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const l=new hs(e,n,r,s);let c=!1;for(let u=0;!c&&u<o.length;u+=2)o[u]!=null&&o[u+1]<n&&(c=!0);return c&&_Ge(l,o,t),l}function jGe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const l=t.child(o);for(let c=0;c<l.childCount;c++){const u=l.child(c);o+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const l=i.child(o);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function _Ge(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let l=null;const c=o.attrs;for(let u=0;u<c.colspan;u++){const d=(i+u)%t.width,f=e[d*2];f!=null&&(!c.colwidth||c.colwidth[u]!=f)&&((l||(l=CGe(c)))[u]=f)}l&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}function CGe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function ho(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var Lh=new gs("selectingCells");function vx(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function AGe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Tu(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function q_(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=vx(e.$head)||kGe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function kGe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function q4(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function TGe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function D3(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function tce(t,e,n){const r=t.node(-1),i=hs.get(r),s=t.start(-1),o=i.nextCell(t.pos-s,e,n);return o==null?null:t.node(0).resolve(s+o)}function sg(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function nce(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function OGe(t,e,n){const r=ho(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var Ei=class ff extends Fn{constructor(e,n=e){const r=e.node(-1),i=hs.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),l=e.node(0),c=i.cellsInRect(o).filter(d=>d!=n.pos-s);c.unshift(n.pos-s);const u=c.map(d=>{const f=r.nodeAt(d);if(!f)throw RangeError(`No cell with offset ${d} found`);const m=s+d+1;return new Tae(l.resolve(m),l.resolve(m+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(q4(r)&&q4(i)&&D3(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?ff.rowSelection(r,i):s&&this.isColSelection()?ff.colSelection(r,i):new ff(r,i)}return jn.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=hs.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let c=i.top;c<i.bottom;c++){const u=[];for(let d=c*n.width+i.left,f=i.left;f<i.right;f++,d++){const m=n.map[d];if(s[m])continue;s[m]=!0;const h=n.findCell(m);let y=e.nodeAt(m);if(!y)throw RangeError(`No cell with offset ${m} found`);const v=i.left-h.left,x=h.right-i.right;if(v>0||x>0){let b=y.attrs;if(v>0&&(b=sg(b,0,v)),x>0&&(b=sg(b,b.colspan-x,x)),h.left<i.left){if(y=y.type.createAndFill(b),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(b)}`)}else y=y.type.create(b,y.content)}if(h.top<i.top||h.bottom>i.bottom){const b={...y.attrs,rowspan:Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top)};h.top<i.top?y=y.type.createAndFill(b):y=y.type.create(b,y.content)}u.push(y)}o.push(e.child(c).copy(mt.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?e:o;return new Ft(mt.from(l),1,1)}replace(e,n=Ft.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:l,$to:c}=i[o],u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),o?Ft.empty:n)}const s=Fn.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new Ft(mt.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=hs.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=hs.get(r),s=e.start(-1),o=i.findCell(e.pos-s),l=i.findCell(n.pos-s),c=e.node(0);return o.top<=l.top?(o.top>0&&(e=c.resolve(s+i.map[o.left])),l.bottom<i.height&&(n=c.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(n=c.resolve(s+i.map[l.left])),o.bottom<i.height&&(e=c.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new ff(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=hs.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,l)==n.width}eq(e){return e instanceof ff&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=hs.get(r),s=e.start(-1),o=i.findCell(e.pos-s),l=i.findCell(n.pos-s),c=e.node(0);return o.left<=l.left?(o.left>0&&(e=c.resolve(s+i.map[o.top*i.width])),l.right<i.width&&(n=c.resolve(s+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(n=c.resolve(s+i.map[l.top*i.width])),o.right<i.width&&(e=c.resolve(s+i.map[i.width*(o.top+1)-1]))),new ff(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new ff(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new ff(e.resolve(n),e.resolve(r))}getBookmark(){return new PGe(this.$anchorCell.pos,this.$headCell.pos)}};Ei.prototype.visible=!1;Fn.jsonID("cell",Ei);var PGe=class rce{constructor(e,n){this.anchor=e,this.head=n}map(e){return new rce(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&D3(n,r)?new Ei(n,r):Fn.near(r,1)}};function MGe(t){if(!(t.selection instanceof Ei))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(ta.node(r,r+n.nodeSize,{class:"selectedCell"}))}),fi.create(t.doc,e)}function RGe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function IGe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function DGe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof bn&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=Ei.create(i,r.from);else if(o=="row"){const l=i.resolve(r.from+1);s=Ei.rowSelection(l,l)}else if(!n){const l=hs.get(r.node),c=r.from+1,u=c+l.map[l.width*l.height-1];s=Ei.create(i,c+1,u)}}else r instanceof jn&&RGe(r)?s=jn.create(i,r.from):r instanceof jn&&IGe(r)&&(s=jn.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var LGe=new gs("fix-tables");function ice(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,l=0;o<s;o++){const c=e.child(o);for(let u=l,d=Math.min(i,o+3);u<d;u++)if(t.child(u)==c){l=u+1,n+=c.nodeSize;continue e}r(c,n),l<i&&t.child(l).sameMarkup(c)?ice(t.child(l),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function sce(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=FGe(t,i,s,n))};return e?e.doc!=t.doc&&ice(e.doc,t.doc,0,r):t.doc.descendants(r),n}function FGe(t,e,n,r){const i=hs.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let c=0;c<i.height;c++)s.push(0);for(let c=0;c<i.problems.length;c++){const u=i.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let m=0;m<f.rowspan;m++)s[u.row+m]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,sg(f,f.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let o,l;for(let c=0;c<s.length;c++)s[c]&&(o==null&&(o=c),l=c);for(let c=0,u=n+1;c<i.height;c++){const d=e.child(c),f=u+d.nodeSize,m=s[c];if(m>0){let h="cell";d.firstChild&&(h=d.firstChild.type.spec.tableRole);const y=[];for(let x=0;x<m;x++){const b=ho(t.schema)[h].createAndFill();b&&y.push(b)}const v=(c==0||o==c-1)&&l==c?u+1:f-1;r.insert(r.mapping.map(v),y)}u=f}return r.setMeta(LGe,{fixTables:!0})}function Cd(t){const e=t.selection,n=q_(t),r=n.node(-1),i=n.start(-1),s=hs.get(r);return{...e instanceof Ei?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function ace(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;OGe(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const l=o*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const c=e.map[l],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,nce(u.attrs,i-e.colCount(c))),o+=u.attrs.rowspan-1}else{const c=s==null?ho(r.type.schema).cell:r.nodeAt(e.map[l+s]).type,u=e.positionAt(o,i,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}function $Ge(t,e){if(!Tu(t))return!1;if(e){const n=Cd(t);e(ace(t.tr,n,n.left))}return!0}function BGe(t,e){if(!Tu(t))return!1;if(e){const n=Cd(t);e(ace(t.tr,n,n.right))}return!0}function zGe(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let o=0;o<e.height;){const l=o*e.width+i,c=e.map[l],u=n.nodeAt(c),d=u.attrs;if(i>0&&e.map[l-1]==c||i<e.width-1&&e.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(r+c),null,sg(d,i-e.colCount(c)));else{const f=t.mapping.slice(s).map(r+c);t.delete(f,f+u.nodeSize)}o+=d.rowspan}}function qGe(t,e){if(!Tu(t))return!1;if(e){const n=Cd(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;zGe(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=hs.get(s)}e(r)}return!0}function UGe(t,e,n){var r;const i=ho(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function oce(t,{map:e,tableStart:n,table:r},i){var s;let o=n;for(let u=0;u<i;u++)o+=r.child(u).nodeSize;const l=[];let c=i>0?-1:0;UGe(e,r,i+c)&&(c=i==0||i==e.height?null:0);for(let u=0,d=e.width*i;u<e.width;u++,d++)if(i>0&&i<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],m=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...m,rowspan:m.rowspan+1}),u+=m.colspan-1}else{const f=c==null?ho(r.type.schema).cell:(s=r.nodeAt(e.map[d+c*e.width]))==null?void 0:s.type,m=f?.createAndFill();m&&l.push(m)}return t.insert(o,ho(r.type.schema).row.create(null,l)),t}function HGe(t,e){if(!Tu(t))return!1;if(e){const n=Cd(t);e(oce(t.tr,n,n.top))}return!0}function VGe(t,e){if(!Tu(t))return!1;if(e){const n=Cd(t);e(oce(t.tr,n,n.bottom))}return!0}function WGe(t,{map:e,table:n,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=n.child(u).nodeSize;const o=s+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(s+r,o+r);const c=new Set;for(let u=0,d=i*e.width;u<e.width;u++,d++){const f=e.map[d];if(!c.has(f)){if(c.add(f),i>0&&f==e.map[d-e.width]){const m=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...m,rowspan:m.rowspan-1}),u+=m.colspan-1}else if(i<e.height&&f==e.map[d+e.width]){const m=n.nodeAt(f),h=m.attrs,y=m.type.create({...h,rowspan:m.attrs.rowspan-1},m.content),v=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(l).map(r+v),y),u+=h.colspan-1}}}}function KGe(t,e){if(!Tu(t))return!1;if(e){const n=Cd(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;WGe(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=hs.get(n.table)}e(r)}return!0}function aK(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function GGe({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,o=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[l]==n[l+1])return!0;s+=t,l+=t}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[o]==n[o+t])return!0;i++,o++}return!1}function oK(t,e){const n=t.selection;if(!(n instanceof Ei)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Cd(t),{map:i}=r;if(GGe(i,r))return!1;if(e){const s=t.tr,o={};let l=mt.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const m=i.map[d*i.width+f],h=r.table.nodeAt(m);if(!(o[m]||!h))if(o[m]=!0,c==null)c=m,u=h;else{aK(h)||(l=l.append(h.content));const y=s.mapping.map(m+r.tableStart);s.delete(y,y+h.nodeSize)}}if(c==null||u==null)return!0;if(s.setNodeMarkup(c+r.tableStart,null,{...nce(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const d=c+1+u.content.size,f=aK(u)?c+1:d;s.replaceWith(f+r.tableStart,d+r.tableStart,l)}s.setSelection(new Ei(s.doc.resolve(c+r.tableStart))),e(s)}return!0}function lK(t,e){const n=ho(t.schema);return YGe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function YGe(t){return(e,n)=>{var r;const i=e.selection;let s,o;if(i instanceof Ei){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=AGe(i.$from),!s)return!1;o=(r=vx(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=Cd(e),f=e.tr;for(let h=0;h<d.right-d.left;h++)c.push(u?{...l,colwidth:u&&u[h]?[u[h]]:null}:l);let m;for(let h=d.top;h<d.bottom;h++){let y=d.map.positionAt(h,d.left,d.table);h==d.top&&(y+=s.nodeSize);for(let v=d.left,x=0;v<d.right;v++,x++)v==d.left&&h==d.top||f.insert(m=f.mapping.map(y+d.tableStart,1),t({node:s,row:h,col:v}).createAndFill(c[x]))}f.setNodeMarkup(o,t({node:s,row:d.top,col:d.left}),c[0]),i instanceof Ei&&f.setSelection(new Ei(f.doc.resolve(i.$anchorCell.pos),m?f.doc.resolve(m):void 0)),n(f)}return!0}}function XGe(t,e){return function(n,r){if(!Tu(n))return!1;const i=q_(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof Ei?n.selection.forEachCell((o,l)=>{o.attrs[t]!==e&&s.setNodeMarkup(l,null,{...o.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function QGe(t){return function(e,n){if(!Tu(e))return!1;if(n){const r=ho(e.schema),i=Cd(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=o.map(c=>i.table.nodeAt(c));for(let c=0;c<o.length;c++)l[c].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[c],r.cell,l[c].attrs);if(s.steps.length==0)for(let c=0;c<o.length;c++)s.setNodeMarkup(i.tableStart+o[c],r.header_cell,l[c].attrs);n(s)}return!0}}function cK(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function m1(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?QGe(t):function(n,r){if(!Tu(n))return!1;if(r){const i=ho(n.schema),s=Cd(n),o=n.tr,l=cK("row",s,i),c=cK("column",s,i),d=(t==="column"?l:t==="row"?c:!1)?1:0,f=t=="column"?{left:0,top:d,right:1,bottom:s.map.height}:t=="row"?{left:d,top:0,right:s.map.width,bottom:1}:s,m=t=="column"?c?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(h=>{const y=h+s.tableStart,v=o.doc.nodeAt(y);v&&o.setNodeMarkup(y,m,v.attrs)}),r(o)}return!0}}m1("row",{useDeprecatedLogic:!0});m1("column",{useDeprecatedLogic:!0});var JGe=m1("cell",{useDeprecatedLogic:!0});function ZGe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function uK(t){return function(e,n){if(!Tu(e))return!1;const r=ZGe(q_(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(jn.between(i,TGe(i))).scrollIntoView())}return!0}}function eYe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function D2(t,e){const n=t.selection;if(!(n instanceof Ei))return!1;if(e){const r=t.tr,i=ho(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new Ft(i,0,0))}),r.docChanged&&e(r)}return!0}function tYe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,l=[];if(s=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=U4(ho(o).row,new Ft(u,d,f)).content),l.push(u)}else if(s=="cell"||s=="header_cell")l.push(n||r?U4(ho(o).row,new Ft(e,n,r)).content:e);else return null;return nYe(o,l)}function nYe(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:l,colspan:c}=s.child(o).attrs;for(let u=i;u<i+l;u++)n[u]=(n[u]||0)+c}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(mt.empty),n[i]<r){const s=ho(t).cell.createAndFill(),o=[];for(let l=n[i];l<r;l++)o.push(s);e[i]=e[i].append(mt.from(o))}return{height:e.length,width:r,rows:e}}function U4(t,e){const n=t.createAndFill();return new WL(n).replace(0,n.content.size,e).doc}function rYe({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let l=0;l<n.length;l++){const c=n[l],u=[];for(let d=s[l]||0,f=0;d<r;f++){let m=c.child(f%c.childCount);d+m.attrs.colspan>r&&(m=m.type.createChecked(sg(m.attrs,m.attrs.colspan,d+m.attrs.colspan-r),m.content)),u.push(m),d+=m.attrs.colspan;for(let h=1;h<m.attrs.rowspan;h++)s[l+h]=(s[l+h]||0)+m.attrs.colspan}o.push(mt.from(u))}n=o,t=r}if(e!=i){const s=[];for(let o=0,l=0;o<i;o++,l++){const c=[],u=n[l%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);o+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),c.push(f)}s.push(mt.from(c))}n=s,e=i}return{width:t,height:e,rows:n}}function iYe(t,e,n,r,i,s,o){const l=t.doc.type.schema,c=ho(l);let u,d;if(i>e.width)for(let f=0,m=0;f<e.height;f++){const h=n.child(f);m+=h.nodeSize;const y=[];let v;h.lastChild==null||h.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=d||(d=c.header_cell.createAndFill());for(let x=e.width;x<i;x++)y.push(v);t.insert(t.mapping.slice(o).map(m-1+r),y)}if(s>e.height){const f=[];for(let y=0,v=(e.height-1)*e.width;y<Math.max(e.width,i);y++){const x=y>=e.width?!1:n.nodeAt(e.map[v+y]).type==c.header_cell;f.push(x?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const m=c.row.create(null,mt.from(f)),h=[];for(let y=e.height;y<s;y++)h.push(m);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),h)}return!!(u||d)}function dK(t,e,n,r,i,s,o,l){if(o==0||o==e.height)return!1;let c=!1;for(let u=i;u<s;u++){const d=o*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){c=!0;const m=n.nodeAt(f),{top:h,left:y}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(l).map(f+r),null,{...m.attrs,rowspan:o-h}),t.insert(t.mapping.slice(l).map(e.positionAt(o,y,n)),m.type.createAndFill({...m.attrs,rowspan:h+m.attrs.rowspan-o})),u+=m.attrs.colspan-1}}return c}function fK(t,e,n,r,i,s,o,l){if(o==0||o==e.width)return!1;let c=!1;for(let u=i;u<s;u++){const d=u*e.width+o,f=e.map[d];if(e.map[d-1]==f){c=!0;const m=n.nodeAt(f),h=e.colCount(f),y=t.mapping.slice(l).map(f+r);t.setNodeMarkup(y,null,sg(m.attrs,o-h,m.attrs.colspan-(o-h))),t.insert(y+m.nodeSize,m.type.createAndFill(sg(m.attrs,0,o-h))),u+=m.attrs.rowspan-1}}return c}function hK(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let o=hs.get(s);const{top:l,left:c}=r,u=c+i.width,d=l+i.height,f=t.tr;let m=0;function h(){if(s=n?f.doc.nodeAt(n-1):f.doc,!s)throw new Error("No table found");o=hs.get(s),m=f.mapping.maps.length}iYe(f,o,s,n,u,d,m)&&h(),dK(f,o,s,n,c,u,l,m)&&h(),dK(f,o,s,n,c,u,d,m)&&h(),fK(f,o,s,n,l,d,c,m)&&h(),fK(f,o,s,n,l,d,u,m)&&h();for(let y=l;y<d;y++){const v=o.positionAt(y,c,s),x=o.positionAt(y,u,s);f.replace(f.mapping.slice(m).map(v+n),f.mapping.slice(m).map(x+n),new Ft(i.rows[y-l],0,0))}h(),f.setSelection(new Ei(f.doc.resolve(n+o.positionAt(l,c,s)),f.doc.resolve(n+o.positionAt(d-1,u-1,s)))),e(f)}var sYe=l3({ArrowLeft:L2("horiz",-1),ArrowRight:L2("horiz",1),ArrowUp:L2("vert",-1),ArrowDown:L2("vert",1),"Shift-ArrowLeft":F2("horiz",-1),"Shift-ArrowRight":F2("horiz",1),"Shift-ArrowUp":F2("vert",-1),"Shift-ArrowDown":F2("vert",1),Backspace:D2,"Mod-Backspace":D2,Delete:D2,"Mod-Delete":D2});function hN(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function L2(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Ei)return hN(n,r,Fn.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=lce(i,t,e);if(o==null)return!1;if(t=="horiz")return hN(n,r,Fn.near(n.doc.resolve(s.head+e),e));{const l=n.doc.resolve(o),c=tce(l,t,e);let u;return c?u=Fn.near(c,1):e<0?u=Fn.near(n.doc.resolve(l.before(-1)),-1):u=Fn.near(n.doc.resolve(l.after(-1)),1),hN(n,r,u)}}}function F2(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof Ei)o=s;else{const c=lce(i,t,e);if(c==null)return!1;o=new Ei(n.doc.resolve(c))}const l=tce(o.$headCell,t,e);return l?hN(n,r,new Ei(o.$anchorCell,l)):!1}}function aYe(t,e){const n=t.state.doc,r=vx(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Ei(r))),!0):!1}function oYe(t,e,n){if(!Tu(t.state))return!1;let r=tYe(n);const i=t.state.selection;if(i instanceof Ei){r||(r={width:1,height:1,rows:[mt.from(U4(ho(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),l=hs.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=rYe(r,l.right-l.left,l.bottom-l.top),hK(t.state,t.dispatch,o,l,r),!0}else if(r){const s=q_(t.state),o=s.start(-1);return hK(t.state,t.dispatch,o,hs.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function lYe(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=pK(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Ei)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=vx(t.state.selection.$anchor))!=null&&((n=SP(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(c,u){let d=SP(t,u);const f=Lh.getState(t.state)==null;if(!d||!D3(c,d))if(f)d=c;else return;const m=new Ei(c,d);if(f||!t.state.selection.eq(m)){const h=t.state.tr.setSelection(m);f&&h.setMeta(Lh,c.pos),t.dispatch(h)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",l),Lh.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Lh,-1))}function l(c){const u=c,d=Lh.getState(t.state);let f;if(d!=null)f=t.state.doc.resolve(d);else if(pK(t,u.target)!=r&&(f=SP(t,e),!f))return o();f&&s(f,u)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",l)}function lce(t,e,n){if(!(t.state.selection instanceof jn))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=r.before(i),c=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null}function pK(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function SP(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?vx(t.state.doc.resolve(n.pos)):null}var cYe=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),H4(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,H4(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function H4(t,e,n,r,i,s){var o;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d){for(let f=0,m=0;f<d.childCount;f++){const{colspan:h,colwidth:y}=d.child(f).attrs;for(let v=0;v<h;v++,m++){const x=i==m?s:y&&y[v],b=x?x+"px":"";if(l+=x||r,x||(c=!1),u)u.style.width!=b&&(u.style.width=b),u=u.nextSibling;else{const S=document.createElement("col");S.style.width=b,e.appendChild(S)}}}for(;u;){const f=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=f}c?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Ll=new gs("tableColumnResizing");function uYe({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=cYe,lastColumnResizable:i=!0}={}){const s=new Ii({key:Ll,state:{init(o,l){var c,u;const d=(u=(c=s.spec)==null?void 0:c.props)==null?void 0:u.nodeViews,f=ho(l.schema).table.name;return r&&d&&(d[f]=(m,h)=>new r(m,n,h)),new dYe(-1,!1)},apply(o,l){return l.apply(o)}},props:{attributes:o=>{const l=Ll.getState(o);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,l)=>{fYe(o,l,t,i)},mouseleave:o=>{hYe(o)},mousedown:(o,l)=>{pYe(o,l,e,n)}},decorations:o=>{const l=Ll.getState(o);if(l&&l.activeHandle>-1)return xYe(o,l.activeHandle)},nodeViews:{}}});return s}var dYe=class pN{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Ll);if(r&&r.setHandle!=null)return new pN(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new pN(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return q4(e.doc.resolve(i))||(i=-1),new pN(i,n.dragging)}return n}};function fYe(t,e,n,r){if(!t.editable)return;const i=Ll.getState(t.state);if(i&&!i.dragging){const s=gYe(e.target);let o=-1;if(s){const{left:l,right:c}=s.getBoundingClientRect();e.clientX-l<=n?o=mK(t,e,"left",n):c-e.clientX<=n&&(o=mK(t,e,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const l=t.state.doc.resolve(o),c=l.node(-1),u=hs.get(c),d=l.start(-1);if(u.colCount(l.pos-d)+l.nodeAfter.attrs.colspan-1==u.width-1)return}cce(t,o)}}}function hYe(t){if(!t.editable)return;const e=Ll.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&cce(t,-1)}function pYe(t,e,n,r){var i;if(!t.editable)return!1;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,o=Ll.getState(t.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const l=t.state.doc.nodeAt(o.activeHandle),c=mYe(t,o.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Ll,{setDragging:{startX:e.clientX,startWidth:c}}));function u(f){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",d);const m=Ll.getState(t.state);m?.dragging&&(vYe(t,m.activeHandle,gK(m.dragging,f,n)),t.dispatch(t.state.tr.setMeta(Ll,{setDragging:null})))}function d(f){if(!f.which)return u(f);const m=Ll.getState(t.state);if(m&&m.dragging){const h=gK(m.dragging,f,n);vK(t,m.activeHandle,h,r)}}return vK(t,o.activeHandle,c,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",d),e.preventDefault(),!0}function mYe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let l=s.node.childNodes[s.offset].offsetWidth,c=n;if(r)for(let u=0;u<n;u++)r[u]&&(l-=r[u],c--);return l/c}function gYe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function mK(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,l=vx(t.state.doc.resolve(o));if(!l)return-1;if(n=="right")return l.pos;const c=hs.get(l.node(-1)),u=l.start(-1),d=c.map.indexOf(l.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function gK(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function cce(t,e){t.dispatch(t.state.tr.setMeta(Ll,{setHandle:e}))}function vYe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=hs.get(i),o=r.start(-1),l=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let u=0;u<s.height;u++){const d=u*s.width+l;if(u&&s.map[d]==s.map[d-s.width])continue;const f=s.map[d],m=i.nodeAt(f).attrs,h=m.colspan==1?0:l-s.colCount(f);if(m.colwidth&&m.colwidth[h]==n)continue;const y=m.colwidth?m.colwidth.slice():yYe(m.colspan);y[h]=n,c.setNodeMarkup(o+f,null,{...m,colwidth:y})}c.docChanged&&t.dispatch(c)}function vK(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),l=hs.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let c=t.domAtPos(i.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&H4(s,c.firstChild,c,r,l,n)}function yYe(t){return Array(t).fill(0)}function xYe(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return fi.empty;const o=hs.get(s),l=i.start(-1),c=o.colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<o.height;u++){const d=c+u*o.width;if((c==o.width-1||o.map[d]!=o.map[d+1])&&(u==0||o.map[d]!=o.map[d-o.width])){const f=o.map[d],m=l+f+s.nodeAt(f).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=Ll.getState(t))!=null&&n.dragging&&r.push(ta.node(l+f,l+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),r.push(ta.widget(m,h))}}return fi.create(t.doc,r)}function bYe({allowTableNodeSelection:t=!1}={}){return new Ii({key:Lh,state:{init(){return null},apply(e,n){const r=e.getMeta(Lh);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:MGe,handleDOMEvents:{mousedown:lYe},createSelectionBetween(e){return Lh.getState(e.state)!=null?e.state.selection:null},handleTripleClick:aYe,handleKeyDown:sYe,handlePaste:oYe},appendTransaction(e,n,r){return DGe(r,sce(r,n),t)}})}var L3=Ca.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),i=r?r.split(",").map(s=>parseInt(s,10)):null;if(!i){const s=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),o=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(o&&o>-1&&s&&s[o]){const l=s[o].getAttribute("width");return l?[parseInt(l,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",gi(this.options.HTMLAttributes,t),0]}}),F3=Ca.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",gi(this.options.HTMLAttributes,t),0]}}),$3=Ca.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",gi(this.options.HTMLAttributes,t),0]}});function V4(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function yK(t,e,n,r,i,s){var o;let l=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let f=0,m=0;f<d.childCount;f+=1){const{colspan:h,colwidth:y}=d.child(f).attrs;for(let v=0;v<h;v+=1,m+=1){const x=i===m?s:y&&y[v],b=x?`${x}px`:"";if(l+=x||r,x||(c=!1),u){if(u.style.width!==b){const[S,E]=V4(r,x);u.style.setProperty(S,E)}u=u.nextSibling}else{const S=document.createElement("col"),[E,_]=V4(r,x);S.style.setProperty(E,_),e.appendChild(S)}}}for(;u;){const f=u.nextSibling;(o=u.parentNode)==null||o.removeChild(u),u=f}c?(n.style.width=`${l}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${l}px`)}var wYe=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),yK(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,yK(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function NYe(t,e,n,r){let i=0,s=!0;const o=[],l=t.firstChild;if(!l)return{};for(let f=0,m=0;f<l.childCount;f+=1){const{colspan:h,colwidth:y}=l.child(f).attrs;for(let v=0;v<h;v+=1,m+=1){const x=n===m?r:y&&y[v];i+=x||e,x||(s=!1);const[b,S]=V4(e,x);o.push(["col",{style:`${b}: ${S}`}])}}const c=s?`${i}px`:"",u=s?"":`${i}px`;return{colgroup:["colgroup",{},...o],tableWidth:c,tableMinWidth:u}}function xK(t,e){return t.createAndFill()}function SYe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function EYe(t,e,n,r,i){const s=SYe(t),o=[],l=[];for(let u=0;u<n;u+=1){const d=xK(s.cell);if(d&&l.push(d),r){const f=xK(s.header_cell);f&&o.push(f)}}const c=[];for(let u=0;u<e;u+=1)c.push(s.row.createChecked(null,r&&u===0?o:l));return s.table.createChecked(null,c)}function jYe(t){return t instanceof Ei}var $2=({editor:t})=>{const{selection:e}=t.state;if(!jYe(e))return!1;let n=0;const r=Moe(e.ranges[0].$from,s=>s.type.name==="table");return r?.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},_Ye="";function CYe(t){return(t||"").replace(/\s+/g," ").trim()}function AYe(t,e,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:_Ye;if(!t||!t.content||t.content.length===0)return"";const s=[];t.content.forEach(y=>{const v=[];y.content&&y.content.forEach(x=>{let b="";x.content&&Array.isArray(x.content)&&x.content.length>1?b=x.content.map(C=>e.renderChildren(C)).join(i):b=x.content?e.renderChildren(x.content):"";const S=CYe(b),E=x.type==="tableHeader";v.push({text:S,isHeader:E})}),s.push(v)});const o=s.reduce((y,v)=>Math.max(y,v.length),0);if(o===0)return"";const l=new Array(o).fill(0);s.forEach(y=>{var v;for(let x=0;x<o;x+=1){const S=(((v=y[x])==null?void 0:v.text)||"").length;S>l[x]&&(l[x]=S),l[x]<3&&(l[x]=3)}});const c=(y,v)=>y+" ".repeat(Math.max(0,v-y.length)),u=s[0],d=u.some(y=>y.isHeader);let f=`
`;const m=new Array(o).fill(0).map((y,v)=>d&&u[v]&&u[v].text||"");return f+=`| ${m.map((y,v)=>c(y,l[v])).join(" | ")} |
`,f+=`| ${l.map(y=>"-".repeat(Math.max(3,y))).join(" | ")} |
`,(d?s.slice(1):s).forEach(y=>{f+=`| ${new Array(o).fill(0).map((v,x)=>c(y[x]&&y[x].text||"",l[x])).join(" | ")} |
`}),f}var kYe=AYe,B3=Ca.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:wYe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=NYe(t,this.options.cellMinWidth);return["table",gi(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(i=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const i=[];r.forEach(s=>{i.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},i))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>kYe(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const o=EYe(s.schema,t,e,n);if(i){const l=r.selection.from+1;r.replaceSelectionWith(o).scrollIntoView().setSelection(jn.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>$Ge(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>BGe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>qGe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>HGe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>VGe(t,e),deleteRow:()=>({state:t,dispatch:e})=>KGe(t,e),deleteTable:()=>({state:t,dispatch:e})=>eYe(t,e),mergeCells:()=>({state:t,dispatch:e})=>oK(t,e),splitCell:()=>({state:t,dispatch:e})=>lK(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>m1("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>m1("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>JGe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>oK(t,e)?!0:lK(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>XGe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>uK(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>uK(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&sce(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Ei.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:$2,"Mod-Backspace":$2,Delete:$2,"Mod-Delete":$2}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[uYe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],bYe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Gr(vn(t,"tableRole",e))}}});li.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(B3.configure(this.options.table)),this.options.tableCell!==!1&&t.push(L3.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(F3.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push($3.configure(this.options.tableRow)),t}});var TYe=$3,OYe=L3,PYe=F3;function MYe({initialData:t,onSave:e,onCancel:n}){const[r,i]=w.useState(t?.length||3),[s,o]=w.useState(t?.[0]?.length||3),[l,c]=w.useState(t||Array(3).fill(null).map(()=>Array(3).fill("")));w.useEffect(()=>{t&&(c(t),i(t.length),o(t[0]?.length||3))},[t]);const u=(v,x,b)=>{const S=[...l];S[v][x]=b,c(S)},d=()=>{const v=[...l,Array(s).fill("")];c(v),i(r+1)},f=()=>{if(r>1){const v=l.slice(0,-1);c(v),i(r-1)}},m=()=>{const v=l.map(x=>[...x,""]);c(v),o(s+1)},h=()=>{if(s>1){const v=l.map(x=>x.slice(0,-1));c(v),o(s-1)}},y=()=>{e(l)};return a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[a.jsxs("div",{className:"flex gap-1 items-center",children:[a.jsx(_e,{className:"text-sm",children:"Filas:"}),a.jsx(ge,{size:"icon",variant:"outline",onClick:f,disabled:r<=1,className:"h-8 w-8","data-testid":"button-remove-row",children:a.jsx($P,{className:"h-4 w-4"})}),a.jsx(Fe,{type:"number",value:r,readOnly:!0,className:"w-16 h-8 text-center"}),a.jsx(ge,{size:"icon",variant:"outline",onClick:d,className:"h-8 w-8","data-testid":"button-add-row",children:a.jsx(js,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-1 items-center",children:[a.jsx(_e,{className:"text-sm",children:"Columnas:"}),a.jsx(ge,{size:"icon",variant:"outline",onClick:h,disabled:s<=1,className:"h-8 w-8","data-testid":"button-remove-column",children:a.jsx($P,{className:"h-4 w-4"})}),a.jsx(Fe,{type:"number",value:s,readOnly:!0,className:"w-16 h-8 text-center"}),a.jsx(ge,{size:"icon",variant:"outline",onClick:m,className:"h-8 w-8","data-testid":"button-add-column",children:a.jsx(js,{className:"h-4 w-4"})})]})]}),a.jsx("div",{className:"border rounded-md overflow-auto max-h-[400px]","data-testid":"excel-table-grid",children:a.jsx("table",{className:"w-full border-collapse",children:a.jsx("tbody",{children:l.map((v,x)=>a.jsx("tr",{children:v.map((b,S)=>a.jsx("td",{className:"border p-0",children:a.jsx(Fe,{value:b,onChange:E=>u(x,S,E.target.value),className:"border-0 rounded-none focus-visible:ring-0 focus-visible:ring-offset-0","data-testid":`cell-${x}-${S}`,placeholder:x===0?`Columna ${S+1}`:""})},S))},x))})})}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(ge,{variant:"outline",onClick:n,"data-testid":"button-cancel-table",children:"Cancelar"}),a.jsx(ge,{onClick:y,"data-testid":"button-save-table",children:"Insertar Tabla"})]})]})}const RYe=NGe(bGe);function uce({content:t,onChange:e,manualId:n}){const{toast:r}=Ir(),[i,s]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(void 0),[m,h]=w.useState(null),[y,v]=w.useState(null),[x,b]=w.useState(""),[S,E]=w.useState(""),[_,C]=w.useState(!1),[O,M]=w.useState(!1),A=sle({extensions:[Ple.configure({codeBlock:!1}),Mle.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"editor-image"}}),T3.configure({openOnClick:!1}),Rle.configure({types:["heading","paragraph"]}),M3,R3,KWe.configure({multicolor:!0}),ZWe.configure({lowlight:RYe}),B3.configure({resizable:!1,HTMLAttributes:{class:"editor-table"}}),$3,F3,L3],content:t,onUpdate:({editor:z})=>{e(z.getHTML())},editorProps:{handleDrop:(z,G,X,U)=>{if(!U&&G.dataTransfer&&G.dataTransfer.files&&G.dataTransfer.files[0]){const W=G.dataTransfer.files[0];if(W.type.startsWith("image/"))return G.preventDefault(),P(W),!0}return!1},handlePaste:(z,G)=>{const X=G.clipboardData?.items;if(X){const U=Array.from(X);for(const W of U)if(W.type.startsWith("image/")){G.preventDefault();const Y=W.getAsFile();return Y&&P(Y),!0}}return!1}}});if(!A)return null;w.useEffect(()=>{try{const z=A.getHTML();(!z||z==="<p></p>"||z===`<p></p>
`)&&t&&typeof t=="string"&&A.commands.setContent(t)}catch{}},[A,t,n]);const P=async z=>{if(!n){r({title:"Error",description:"Debes guardar el manual primero",variant:"destructive"});return}const G=new FormData;G.append("image",z);try{const X=await fetch("/api/manuals/upload-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:G});if(!X.ok)throw new Error("Error al subir imagen");const U=await X.json();A.chain().focus().setImage({src:U.url}).run(),r({title:"Imagen insertada correctamente"})}catch{r({title:"Error al subir imagen",variant:"destructive"})}},F=async()=>{let z=y;if(!z){const G=document.getElementById("image-file");G?.files&&G.files[0]&&(z=G.files[0],v(z))}if(!z){r({title:"Error",description:"Selecciona una imagen primero",variant:"destructive"});return}await P(z),s(!1),v(null)},R=()=>{x&&(S?A.chain().focus().insertContent(`<a href="${x}">${S}</a>`).run():A.chain().focus().setLink({href:x}).run(),l(!1),b(""),E(""))},$=["#000000","#374151","#6B7280","#9CA3AF","#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899"],q=z=>{const G=document.createElement("div");G.innerHTML=z;const X=G.querySelector("table");if(!X)return[];const U=[];return X.querySelectorAll("tr").forEach(W=>{const Y=[];W.querySelectorAll("th, td").forEach(ie=>{Y.push(ie.textContent||"")}),Y.length>0&&U.push(Y)}),U};return a.jsxs("div",{className:"border rounded-lg",children:[a.jsxs("div",{className:"border-b p-2 flex flex-wrap gap-1 items-center bg-muted/30",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>A.chain().focus().undo().run(),disabled:!A.can().undo(),"data-testid":"button-undo",children:a.jsx(QG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>A.chain().focus().redo().run(),disabled:!A.can().redo(),"data-testid":"button-redo",children:a.jsx(GG,{className:"h-4 w-4"})}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsx(ge,{variant:A.isActive("bold")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleBold().run(),"data-testid":"button-bold",children:a.jsx(MG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive("italic")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleItalic().run(),"data-testid":"button-italic",children:a.jsx(HG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive("strike")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleStrike().run(),"data-testid":"button-strike",children:a.jsx(YG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive("code")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleCode().run(),"data-testid":"button-code",children:a.jsx(Sfe,{className:"h-4 w-4"})}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsx(ge,{variant:A.isActive("heading",{level:1})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleHeading({level:1}).run(),"data-testid":"button-h1",children:a.jsx(BG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive("heading",{level:2})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleHeading({level:2}).run(),"data-testid":"button-h2",children:a.jsx(zG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive("heading",{level:3})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleHeading({level:3}).run(),"data-testid":"button-h3",children:a.jsx(qG,{className:"h-4 w-4"})}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsx(ge,{variant:A.isActive("bulletList")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleBulletList().run(),"data-testid":"button-bullet-list",children:a.jsx(pI,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive("orderedList")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleOrderedList().run(),"data-testid":"button-ordered-list",children:a.jsx(VG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive("blockquote")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleBlockquote().run(),"data-testid":"button-blockquote",children:a.jsx(KG,{className:"h-4 w-4"})}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsx(ge,{variant:A.isActive({textAlign:"left"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("left").run(),"data-testid":"button-align-left",children:a.jsx(OG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive({textAlign:"center"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("center").run(),"data-testid":"button-align-center",children:a.jsx(kG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive({textAlign:"right"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("right").run(),"data-testid":"button-align-right",children:a.jsx(PG,{className:"h-4 w-4"})}),a.jsx(ge,{variant:A.isActive({textAlign:"justify"})?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().setTextAlign("justify").run(),"data-testid":"button-align-justify",children:a.jsx(TG,{className:"h-4 w-4"})}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsxs("div",{className:"relative",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>C(!_),"data-testid":"button-text-color",children:a.jsx("div",{className:"h-4 w-4 border-2 border-current",style:{backgroundColor:A.getAttributes("textStyle").color||"#000"}})}),_&&a.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:$.map(z=>a.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:z},onClick:()=>{A.chain().focus().setColor(z).run(),C(!1)}},z))})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ge,{variant:A.isActive("highlight")?"default":"ghost",size:"icon",onClick:()=>M(!O),"data-testid":"button-highlight",children:a.jsx(jfe,{className:"h-4 w-4"})}),O&&a.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:$.slice(4).map(z=>a.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:z},onClick:()=>{A.chain().focus().toggleHighlight({color:z}).run(),M(!1)}},z))})]}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsx(ge,{variant:A.isActive("codeBlock")?"default":"ghost",size:"icon",onClick:()=>A.chain().focus().toggleCodeBlock().run(),"data-testid":"button-code-block",children:a.jsx(DG,{className:"h-4 w-4"})}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>{const G=A.getHTML().match(/<table[\s\S]*?<\/table>/);if(G){const X=q(G[0]);f(X),h(G[0])}else f(void 0),h(null);u(!0)},"data-testid":"button-insert-table",title:"Insertar/Editar tabla",children:a.jsx(XG,{className:"h-4 w-4"})}),a.jsx(Ls,{orientation:"vertical",className:"h-6 mx-1"}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>s(!0),"data-testid":"button-insert-image",title:"Insertar imagen",children:a.jsx(hI,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>l(!0),"data-testid":"button-insert-link",title:"Insertar enlace",children:a.jsx(kfe,{className:"h-4 w-4"})})]}),a.jsx("style",{children:`
        .ProseMirror {
          outline: none;
          padding: 1rem;
          min-height: 400px;
        }

        /* Estilos de tabla profesionales tipo Word */
        .ProseMirror .editor-table {
          border-collapse: collapse;
          table-layout: fixed;
          width: 100%;
          margin: 1rem 0;
          overflow: hidden;
        }

        .ProseMirror .editor-table td,
        .ProseMirror .editor-table th {
          min-width: 1em;
          border: 2px solid #000000;
          padding: 0.5rem;
          vertical-align: top;
          box-sizing: border-box;
          position: relative;
          background-color: hsl(var(--background));
        }

        .ProseMirror .editor-table th {
          font-weight: 600;
          text-align: left;
          background-color: hsl(var(--muted));
          border: 2px solid #000000;
        }

        .ProseMirror .editor-table .selectedCell {
          background-color: hsl(var(--accent) / 0.3);
        }

        /* Handle de redimensionamiento de columna */
        .ProseMirror .editor-table .column-resize-handle {
          position: absolute;
          right: -2px;
          top: 0;
          bottom: 0;
          width: 4px;
          background-color: hsl(var(--primary));
          cursor: col-resize;
          z-index: 20;
        }

        /* Estilos de imagen mejorados */
        .ProseMirror .editor-image {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 1rem 0;
          border-radius: 0.375rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .ProseMirror .editor-image:hover {
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .ProseMirror .editor-image.ProseMirror-selectednode {
          outline: 2px solid hsl(var(--primary));
          outline-offset: 2px;
        }

        /* Indicador de arrastre */
        .ProseMirror.dragging {
          background-color: hsl(var(--accent) / 0.1);
        }

        /* Estilos de prose mejorados */
        .ProseMirror p {
          margin: 0.5rem 0;
        }

        .ProseMirror h1, .ProseMirror h2, .ProseMirror h3 {
          margin-top: 1.5rem;
          margin-bottom: 0.5rem;
        }

        .ProseMirror ul, .ProseMirror ol {
          padding-left: 1.5rem;
        }

        .ProseMirror blockquote {
          border-left: 3px solid hsl(var(--border));
          padding-left: 1rem;
          margin-left: 0;
          font-style: italic;
        }

        .ProseMirror code {
          background-color: hsl(var(--muted));
          padding: 0.125rem 0.25rem;
          border-radius: 0.25rem;
          font-size: 0.875em;
        }

        .ProseMirror pre {
          background-color: hsl(var(--muted));
          border-radius: 0.5rem;
          padding: 1rem;
          overflow-x: auto;
        }

        .ProseMirror pre code {
          background-color: transparent;
          padding: 0;
        }
      `}),a.jsx(rle,{editor:A,className:"focus:outline-none"}),a.jsx(Lr,{open:i,onOpenChange:s,children:a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Insertar Imagen"}),a.jsx(Mi,{children:"Sube una imagen desde tu ordenador o arrastra y suelta directamente en el editor"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"image-file",children:"Seleccionar imagen"}),a.jsx(Fe,{id:"image-file",type:"file",accept:"image/*",onChange:z=>v(z.target.files?.[0]||null),"data-testid":"input-image-file"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:" Tambin puedes arrastrar imgenes directamente al editor o pegarlas con Ctrl+V"})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),a.jsx(ge,{onClick:F,"data-testid":"button-upload-image",children:"Insertar"})]})]})}),a.jsx(Lr,{open:o,onOpenChange:l,children:a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Insertar Enlace"}),a.jsx(Mi,{children:"Aade un enlace al documento"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"link-url",children:"URL"}),a.jsx(Fe,{id:"link-url",type:"url",placeholder:"https://example.com",value:x,onChange:z=>b(z.target.value),"data-testid":"input-link-url"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"link-text",children:"Texto (opcional)"}),a.jsx(Fe,{id:"link-text",type:"text",placeholder:"Texto del enlace",value:S,onChange:z=>E(z.target.value),"data-testid":"input-link-text"})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),a.jsx(ge,{onClick:R,"data-testid":"button-insert-link-confirm",children:"Insertar"})]})]})}),a.jsx(Lr,{open:c,onOpenChange:u,children:a.jsxs(Mr,{className:"max-w-4xl",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:m?"Editar Tabla":"Insertar Tabla"}),a.jsxs(Mi,{children:[m?"Modifica la tabla existente.":"Crea una nueva tabla."," La primera fila ser el encabezado con fondo gris."]})]}),a.jsx(MYe,{initialData:d,onSave:z=>{if(z.length!==0){if(m){const G=IYe(z),U=A.getHTML().replace(m,G);A.commands.setContent(U)}else{const G=z.length,X=z[0]?.length||2;A.chain().focus().insertTable({rows:G,cols:X,withHeaderRow:!0}).run(),z.forEach((U,W)=>{U.forEach((Y,ie)=>{A.commands.goToNextCell(),Y&&A.commands.insertContent(Y)})})}u(!1),f(void 0),h(null)}},onCancel:()=>{u(!1),f(void 0),h(null)}})]})})]})}function IYe(t){if(t.length===0)return"";let e='<table class="editor-table">';return t.forEach((n,r)=>{e+="<tr>",n.forEach(i=>{r===0?e+=`<th>${i||""}</th>`:e+=`<td>${i||""}</td>`}),e+="</tr>"}),e+="</table>",e}const DYe=[{id:"procedimiento-basico",nombre:"Procedimiento Bsico",descripcion:"Plantilla para documentar un procedimiento paso a paso",categoria:"General",etiquetas:["procedimiento"],contenidoHtml:`
      <h1>Ttulo del Procedimiento</h1>
      <p><strong>Objetivo:</strong> Describir el objetivo del procedimiento</p>
      <p><strong>Alcance:</strong> Definir el alcance y limitaciones</p>
      
      <h2>Requisitos Previos</h2>
      <ul>
        <li>Requisito 1</li>
        <li>Requisito 2</li>
        <li>Requisito 3</li>
      </ul>

      <h2>Procedimiento</h2>
      <ol>
        <li><strong>Paso 1:</strong> Descripcin detallada del primer paso</li>
        <li><strong>Paso 2:</strong> Descripcin detallada del segundo paso</li>
        <li><strong>Paso 3:</strong> Descripcin detallada del tercer paso</li>
      </ol>

      <h2>Resultados Esperados</h2>
      <p>Describir los resultados que se deben obtener al completar el procedimiento</p>

      <h2>Solucin de Problemas</h2>
      <table>
        <thead>
          <tr>
            <th>Problema</th>
            <th>Causa</th>
            <th>Solucin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Problema 1</td>
            <td>Causa probable</td>
            <td>Solucin recomendada</td>
          </tr>
        </tbody>
      </table>
    `},{id:"modelo-fiscal",nombre:"Gua Modelo Fiscal",descripcion:"Plantilla para documentar la presentacin de modelos fiscales",categoria:"Fiscal",etiquetas:["fiscal","impuestos"],contenidoHtml:`
      <h1>Modelo [Nmero] - [Nombre del Modelo]</h1>
      
      <h2>Informacin General</h2>
      <p><strong>Descripcin:</strong> Breve descripcin del modelo fiscal</p>
      <p><strong>Periodicidad:</strong> Trimestral / Mensual / Anual</p>
      <p><strong>Plazo de presentacin:</strong> Especificar fechas lmite</p>

      <h2>Quin debe presentarlo?</h2>
      <ul>
        <li>Tipo de contribuyente 1</li>
        <li>Tipo de contribuyente 2</li>
      </ul>

      <h2>Documentacin Necesaria</h2>
      <ol>
        <li>Documento 1</li>
        <li>Documento 2</li>
        <li>Documento 3</li>
      </ol>

      <h2>Procedimiento de Clculo</h2>
      <h3>Paso 1: Clculo de Base Imponible</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 2: Aplicacin de Tipos</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 3: Deducciones</h3>
      <p>Explicacin detallada</p>

      <h2>Presentacin Telemtica</h2>
      <ol>
        <li>Acceder a la sede electrnica</li>
        <li>Seleccionar el modelo correspondiente</li>
        <li>Completar los datos requeridos</li>
        <li>Revisar y confirmar</li>
      </ol>

      <h2>Notas Importantes</h2>
      <blockquote>
        <p> Consideraciones especiales y advertencias</p>
      </blockquote>
    `},{id:"normativa-laboral",nombre:"Normativa Laboral",descripcion:"Plantilla para documentar normativa y procedimientos laborales",categoria:"Laboral",etiquetas:["laboral","normativa"],contenidoHtml:`
      <h1>Normativa Laboral - [Ttulo]</h1>
      
      <h2>Marco Legal</h2>
      <p><strong>Normativa aplicable:</strong></p>
      <ul>
        <li>Ley / Real Decreto 1</li>
        <li>Ley / Real Decreto 2</li>
      </ul>

      <h2>mbito de Aplicacin</h2>
      <p>Definir a quin aplica esta normativa</p>

      <h2>Obligaciones del Empresario</h2>
      <ol>
        <li>Obligacin 1: Descripcin</li>
        <li>Obligacin 2: Descripcin</li>
        <li>Obligacin 3: Descripcin</li>
      </ol>

      <h2>Derechos del Trabajador</h2>
      <ol>
        <li>Derecho 1: Descripcin</li>
        <li>Derecho 2: Descripcin</li>
        <li>Derecho 3: Descripcin</li>
      </ol>

      <h2>Procedimiento</h2>
      <h3>Paso 1: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h3>Paso 2: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h2>Sanciones</h2>
      <table>
        <thead>
          <tr>
            <th>Infraccin</th>
            <th>Tipo</th>
            <th>Sancin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Infraccin leve</td>
            <td>Leve</td>
            <td>Multa de X a Y </td>
          </tr>
          <tr>
            <td>Infraccin grave</td>
            <td>Grave</td>
            <td>Multa de X a Y </td>
          </tr>
        </tbody>
      </table>
    `},{id:"guia-rapida",nombre:"Gua Rpida",descripcion:"Plantilla para crear guas rpidas de referencia",categoria:"General",etiquetas:["gua","referencia"],contenidoHtml:`
      <h1>Gua Rpida - [Ttulo]</h1>
      
      <h2>Resumen</h2>
      <p>Breve descripcin de lo que cubre esta gua</p>

      <h2>Acciones Frecuentes</h2>
      <h3>Accin 1: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h3>Accin 2: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h2>Shortcuts / Atajos</h2>
      <table>
        <thead>
          <tr>
            <th>Accin</th>
            <th>Mtodo Rpido</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Accin 1</td>
            <td>Descripcin del atajo</td>
          </tr>
          <tr>
            <td>Accin 2</td>
            <td>Descripcin del atajo</td>
          </tr>
        </tbody>
      </table>

      <h2>Preguntas Frecuentes</h2>
      <h3>Pregunta 1?</h3>
      <p>Respuesta 1</p>

      <h3>Pregunta 2?</h3>
      <p>Respuesta 2</p>

      <h2>Enlaces tiles</h2>
      <ul>
        <li><a href="#">Recurso 1</a></li>
        <li><a href="#">Recurso 2</a></li>
      </ul>
    `},{id:"politica-empresa",nombre:"Poltica de Empresa",descripcion:"Plantilla para documentar polticas internas",categoria:"Organizacin",etiquetas:["poltica","normativa"],contenidoHtml:`
      <h1>Poltica de [Ttulo]</h1>
      
      <h2>Propsito</h2>
      <p>Descripcin del propsito de esta poltica</p>

      <h2>Alcance</h2>
      <p>Define a quin aplica esta poltica</p>

      <h2>Definiciones</h2>
      <ul>
        <li><strong>Trmino 1:</strong> Definicin</li>
        <li><strong>Trmino 2:</strong> Definicin</li>
      </ul>

      <h2>Poltica</h2>
      <h3>Principios Generales</h3>
      <ol>
        <li>Principio 1</li>
        <li>Principio 2</li>
        <li>Principio 3</li>
      </ol>

      <h3>Normas Especficas</h3>
      <ol>
        <li>Norma 1: Descripcin detallada</li>
        <li>Norma 2: Descripcin detallada</li>
      </ol>

      <h2>Responsabilidades</h2>
      <table>
        <thead>
          <tr>
            <th>Rol</th>
            <th>Responsabilidad</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Direccin</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
          <tr>
            <td>Empleados</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
        </tbody>
      </table>

      <h2>Incumplimiento</h2>
      <p>Consecuencias del incumplimiento de esta poltica</p>

      <h2>Revisin</h2>
      <p>Esta poltica ser revisada [periodicidad]</p>
    `}];function bK(){const t=Z4(),[e,n]=ll(),{toast:r}=Ir(),i=e==="/manuales/nuevo"||t.id==="nuevo",[s,o]=w.useState({titulo:"",categoria:"",etiquetas:[],publicado:!1,contenidoHtml:""}),[l,c]=w.useState(""),[u,d]=w.useState(null),[f,m]=w.useState(!1),{data:h}=Wt({queryKey:["/api/manuals",t.id],enabled:!i}),{data:y=[]}=Wt({queryKey:["/api/manuals",t.id,"attachments"],enabled:!i}),{data:v=[]}=Wt({queryKey:["/api/manuals",t.id,"versions"],enabled:!i});w.useEffect(()=>{h&&!i&&o({titulo:h.titulo,categoria:h.categoria||"",etiquetas:h.etiquetas||[],publicado:h.publicado,contenidoHtml:h.contenidoHtml})},[h,i]);const x=Xt({mutationFn:async F=>i?await tn("POST","/api/manuals",F):await tn("PATCH",`/api/manuals/${t.id}`,F),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/manuals"]}),r({title:i?"Manual creado exitosamente":"Manual actualizado exitosamente"}),n("/manuales")}}),b=Xt({mutationFn:async F=>{const R=new FormData;R.append("file",F);const $=await fetch(`/api/manuals/${t.id}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:R});if(!$.ok)throw new Error("Error al subir adjunto");return $.json()},onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto subido correctamente"}),d(null)}}),S=Xt({mutationFn:async F=>{await tn("DELETE",`/api/manuals/${t.id}/attachments/${F}`)},onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto eliminado"})}}),E=Xt({mutationFn:async F=>await tn("POST",`/api/manuals/${t.id}/versions/restore/${F}`),onSuccess:F=>{sn.invalidateQueries({queryKey:["/api/manuals"]}),o({titulo:F.titulo,categoria:F.categoria||"",etiquetas:F.etiquetas||[],publicado:F.publicado,contenidoHtml:F.contenidoHtml}),r({title:"Versin restaurada correctamente"})}}),_=(F=!1)=>{if(!s.titulo){r({title:"Error",description:"El ttulo es requerido",variant:"destructive"});return}x.mutate({...s,createVersion:F})},C=()=>{l&&!s.etiquetas.includes(l)&&(o({...s,etiquetas:[...s.etiquetas,l]}),c(""))},O=F=>{o({...s,etiquetas:s.etiquetas.filter(R=>R!==F)})},M=()=>{u&&b.mutate(u)},A=F=>F<1024?F+" B":F<1024*1024?(F/1024).toFixed(1)+" KB":(F/(1024*1024)).toFixed(1)+" MB",P=F=>{o({...s,titulo:s.titulo||F.nombre,categoria:F.categoria,etiquetas:Array.from(new Set([...s.etiquetas,...F.etiquetas])),contenidoHtml:F.contenidoHtml}),m(!1),r({title:"Plantilla aplicada correctamente"})};return a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>n("/manuales"),"data-testid":"button-back",children:a.jsx(By,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1",children:a.jsx("h1",{className:"text-3xl font-display font-bold",children:i?"Nuevo Manual":"Editar Manual"})}),i&&a.jsxs(Lr,{open:f,onOpenChange:m,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{variant:"outline","data-testid":"button-use-template",children:[a.jsx(DG,{className:"h-4 w-4 mr-2"}),"Usar Plantilla"]})}),a.jsxs(Mr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Seleccionar Plantilla"}),a.jsx(Mi,{children:"Elige una plantilla predefinida para comenzar tu manual"})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:DYe.map(F=>a.jsx(Ue,{className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>P(F),"data-testid":`template-${F.id}`,children:a.jsxs(He,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-2",children:F.nombre}),a.jsx(vr,{className:"text-sm mb-3",children:F.descripcion}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(it,{variant:"outline",children:F.categoria}),F.etiquetas.slice(0,2).map(R=>a.jsx(it,{variant:"secondary",children:R},R))]})]})},F.id))})]})]}),a.jsx(ge,{variant:"outline",onClick:()=>_(!0),disabled:i,"data-testid":"button-save-version",children:"Guardar Versin"}),a.jsxs(ge,{onClick:()=>_(!1),"data-testid":"button-save",children:[a.jsx(cg,{className:"h-4 w-4 mr-2"}),"Guardar"]})]}),a.jsxs(Ul,{defaultValue:"editor",className:"space-y-4",children:[a.jsxs(dl,{children:[a.jsxs(Ln,{value:"editor","data-testid":"tab-editor",children:[a.jsx(mi,{className:"h-4 w-4 mr-2"}),"Editor"]}),!i&&a.jsxs(a.Fragment,{children:[a.jsxs(Ln,{value:"attachments","data-testid":"tab-attachments",children:[a.jsx(lp,{className:"h-4 w-4 mr-2"}),"Adjuntos (",y.length,")"]}),a.jsxs(Ln,{value:"versions","data-testid":"tab-versions",children:[a.jsx(Fm,{className:"h-4 w-4 mr-2"}),"Versiones (",v.length,")"]})]})]}),a.jsx(rr,{value:"editor",className:"space-y-6",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsx(Ue,{className:"md:col-span-2",children:a.jsxs(He,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"titulo",children:"Ttulo *"}),a.jsx(Fe,{id:"titulo",value:s.titulo,onChange:F=>o({...s,titulo:F.target.value}),placeholder:"Ttulo del manual...","data-testid":"input-titulo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Editor de Contenido"}),a.jsx(uce,{content:s.contenidoHtml,onChange:F=>o({...s,contenidoHtml:F}),manualId:t.id})]})]})}),a.jsx(Ue,{children:a.jsxs(He,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"categoria",children:"Categora"}),a.jsx(Fe,{id:"categoria",value:s.categoria,onChange:F=>o({...s,categoria:F.target.value}),placeholder:"ej: Fiscal, Laboral","data-testid":"input-categoria"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"etiquetas",children:"Etiquetas"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fe,{id:"etiquetas",value:l,onChange:F=>c(F.target.value),onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),C()),placeholder:"Aadir etiqueta","data-testid":"input-tag"}),a.jsx(ge,{type:"button",onClick:C,"data-testid":"button-add-tag",children:"+"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.etiquetas.map(F=>a.jsxs(it,{variant:"secondary",className:"cursor-pointer hover-elevate",onClick:()=>O(F),"data-testid":`badge-tag-${F}`,children:[F," "]},F))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_e,{htmlFor:"publicado",children:"Publicado"}),a.jsx(wu,{id:"publicado",checked:s.publicado,onCheckedChange:F=>o({...s,publicado:F}),"data-testid":"switch-publicado"})]})]})})]})}),a.jsx(rr,{value:"attachments",className:"space-y-4",children:a.jsx(Ue,{children:a.jsxs(He,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-end gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(_e,{htmlFor:"attachment-file",children:"Subir Adjunto"}),a.jsx(Fe,{id:"attachment-file",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.txt",onChange:F=>d(F.target.files?.[0]||null),"data-testid":"input-attachment-file"})]}),a.jsxs(ge,{onClick:M,disabled:!u||b.isPending,"data-testid":"button-upload-attachment",children:[a.jsx(tl,{className:"h-4 w-4 mr-2"}),"Subir"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(_e,{children:["Adjuntos (",y.length,")"]}),a.jsxs("div",{className:"space-y-2",children:[y.map(F=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate","data-testid":`attachment-${F.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:F.originalName}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[A(F.fileSize),"  ",new Date(F.uploadedAt).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>window.open(F.filePath,"_blank"),"data-testid":`button-download-${F.id}`,children:a.jsx(ia,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>S.mutate(F.id),"data-testid":`button-delete-${F.id}`,children:a.jsx(na,{className:"h-4 w-4 text-destructive"})})]})]},F.id)),y.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay adjuntos todava"})]})]})]})})}),a.jsx(rr,{value:"versions",className:"space-y-4",children:a.jsx(Ue,{children:a.jsxs(He,{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs(_e,{children:["Historial de Versiones (",v.length,")"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Restaura una versin anterior del manual"})]}),a.jsxs("div",{className:"space-y-2",children:[v.map((F,R)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`version-${F.id}`,children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium",children:["Versin ",F.versionNumber," - ",F.titulo]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(F.createdAt).toLocaleString()})]}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>E.mutate(F.id),disabled:R===0,"data-testid":`button-restore-${F.id}`,children:[a.jsx(Fm,{className:"h-4 w-4 mr-2"}),R===0?"Versin Actual":"Restaurar"]})]},F.id)),v.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No hay versiones guardadas. Usa "Guardar Versin" para crear una.'})]})]})})})]})]})}function LYe(){const[t,e]=w.useState([]),{socket:n}=nX();w.useEffect(()=>{if(!n)return;const s=o=>{e(l=>[...l,o])};return n.on("system:log",s),()=>{n.off("system:log",s)}},[n]);const r=s=>{switch(s){case"success":return a.jsx(Oo,{className:"h-4 w-4 text-green-500"});case"error":return a.jsx(fo,{className:"h-4 w-4 text-red-500"});case"warning":return a.jsx(Xv,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(NN,{className:"h-4 w-4 text-blue-500"})}},i=s=>{switch(s){case"success":return"default";case"error":return"destructive";case"warning":return"secondary";default:return"outline"}};return t.length===0?null:a.jsxs(Ue,{className:"mt-4",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(NN,{className:"h-5 w-5"}),"Logs del Sistema"]})}),a.jsx(He,{children:a.jsx(E_,{className:"h-[300px] w-full rounded-md border p-4",children:a.jsx("div",{className:"space-y-2",children:t.map((s,o)=>a.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-md hover-elevate","data-testid":`log-item-${o}`,children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:r(s.level)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(it,{variant:i(s.level),className:"text-xs",children:s.type.toUpperCase()}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.timestamp).toLocaleTimeString("es-ES")})]}),a.jsx("p",{className:"text-sm","data-testid":`log-message-${o}`,children:s.message}),s.details&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`log-details-${o}`,children:s.details}),s.progress!==void 0&&a.jsx("div",{className:"mt-2 w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${s.progress}%`},"data-testid":`log-progress-${o}`})})]})]},o))})})})]})}function wK(){const{toast:t}=Ir(),[e]=ll(),[n,r]=w.useState(!1),[i,s]=w.useState(null),[o,l]=w.useState({username:"",email:"",password:"",roleId:""}),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState({name:"",description:""}),[y,v]=w.useState([]),[x,b]=w.useState(!1),[S,E]=w.useState(null),[_,C]=w.useState({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),[O,M]=w.useState(!1),{data:A,isLoading:P}=Wt({queryKey:["/api/users"]}),{data:F,isLoading:R}=Wt({queryKey:["/api/activity-logs"]}),{data:$}=Wt({queryKey:["/api/admin/system-settings"]}),{data:q,isLoading:z}=Wt({queryKey:["/api/roles"]}),{data:G}=Wt({queryKey:["/api/permissions"]}),{data:X,isLoading:U}=Wt({queryKey:["/api/admin/smtp-accounts"]}),{data:W}=Wt({queryKey:["/api/system/config"]}),[Y,ie]=w.useState({backup_db_pattern:"",backup_files_pattern:""});w.useEffect(()=>{if(W){const ce=W.find(ht=>ht.key==="backup_db_pattern"),$e=W.find(ht=>ht.key==="backup_files_pattern");ie({backup_db_pattern:ce?.value||"",backup_files_pattern:$e?.value||""})}},[W]);const[Q,I]=w.useState(!1),[V,J]=w.useState(null),{data:re}=Wt({queryKey:["/api/system/version"]}),{data:fe,isLoading:pe}=Wt({queryKey:["/api/system/backups"]}),xe=Xt({mutationFn:async ce=>await tn("POST","/api/users",ce),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario creado exitosamente"}),r(!1),Ot()}}),de=Xt({mutationFn:async({id:ce,data:$e})=>await tn("PATCH",`/api/users/${ce}`,$e),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario actualizado exitosamente"}),r(!1),Ot()}}),we=Xt({mutationFn:async ce=>await tn("DELETE",`/api/users/${ce}`,{}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario eliminado exitosamente"})},onError:ce=>{t({title:"Error al eliminar usuario",description:ce.message,variant:"destructive"})}}),Ce=Xt({mutationFn:async ce=>await tn("PATCH",`/api/users/${ce}/toggle-active`,{}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Estado del usuario actualizado"})},onError:ce=>{t({title:"Error al cambiar estado",description:ce.message,variant:"destructive"})}}),ae=Xt({mutationFn:async ce=>await tn("PATCH","/api/admin/system-settings",{registrationEnabled:ce}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/admin/system-settings"]}),t({title:"Configuracin actualizada exitosamente"})},onError:ce=>{t({title:"Error al actualizar configuracin",description:ce.message,variant:"destructive"})}}),Pe=Xt({mutationFn:async ce=>{const $e=await tn("POST","/api/roles",ce);return y.length>0&&await tn("POST",`/api/roles/${$e.id}/permissions`,{permissionIds:y}),$e},onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol creado exitosamente"}),u(!1),On()}}),ee=Xt({mutationFn:async({id:ce,data:$e})=>{const ht=await tn("PATCH",`/api/roles/${ce}`,$e);return await tn("POST",`/api/roles/${ce}/permissions`,{permissionIds:y}),ht},onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol actualizado exitosamente"}),u(!1),On()}}),ne=Xt({mutationFn:async ce=>await tn("DELETE",`/api/roles/${ce}`,{}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol eliminado exitosamente"})},onError:ce=>{t({title:"Error al eliminar rol",description:ce.message,variant:"destructive"})}}),Re=Xt({mutationFn:async ce=>await tn("POST","/api/admin/smtp-accounts",ce),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP creada exitosamente"}),b(!1),An()}}),ft=Xt({mutationFn:async({id:ce,data:$e})=>await tn("PATCH",`/api/admin/smtp-accounts/${ce}`,$e),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP actualizada exitosamente"}),b(!1),An()}}),et=Xt({mutationFn:async ce=>await tn("DELETE",`/api/admin/smtp-accounts/${ce}`,{}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP eliminada exitosamente"})}}),Ke=Xt({mutationFn:async ce=>await tn("POST","/api/admin/smtp-accounts/test",ce),onSuccess:()=>{t({title:"Conexin SMTP exitosa",description:"La configuracin es vlida"})},onError:ce=>{t({title:"Error de conexin SMTP",description:ce.message,variant:"destructive"})}}),me=Xt({mutationFn:async({key:ce,value:$e})=>await tn("PUT",`/api/system/config/${ce}`,{value:$e}),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/system/config"]}),t({title:"Patrn de backup actualizado exitosamente"})},onError:ce=>{t({title:"Error al actualizar patrn",description:ce.message,variant:"destructive"})}}),[Se,ke]=w.useState({repoUrl:"",branch:"main"}),{data:Ge}=Wt({queryKey:["/api/admin/github-config"]});w.useEffect(()=>{Ge&&ke({repoUrl:Ge.repoUrl||"",branch:Ge.branch||"main"})},[Ge]);const Ye=Xt({mutationFn:async ce=>await tn("PUT","/api/admin/github-config",ce),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/admin/github-config"]}),sn.invalidateQueries({queryKey:["/api/system/version"]}),t({title:"Configuracin de GitHub guardada exitosamente"})},onError:ce=>{t({title:"Error al guardar configuracin",description:ce.message,variant:"destructive"})}}),We=Xt({mutationFn:async()=>(I(!0),await tn("GET","/api/system/version")),onSuccess:ce=>{I(!1),sn.invalidateQueries({queryKey:["/api/system/version"]}),ce.updateAvailable?(J({version:ce.latestVersion,changelog:ce.changelog}),t({title:"Actualizacin disponible",description:`Versin ${ce.latestVersion} disponible`})):t({title:"Sistema actualizado",description:"Ya tienes la ltima versin instalada"})},onError:ce=>{I(!1),t({title:"Error al comprobar actualizaciones",description:ce.message,variant:"destructive"})}}),nt=Xt({mutationFn:async()=>await tn("POST","/api/system/update",{}),onSuccess:()=>{t({title:"Actualizacin iniciada",description:"El sistema se actualizar y reiniciar automticamente"}),J(null),sn.invalidateQueries({queryKey:["/api/system/version"]})},onError:ce=>{t({title:"Error al actualizar",description:ce.message,variant:"destructive"})}}),_t=Xt({mutationFn:async ce=>await tn("POST",`/api/system/restore/${ce}`,{}),onSuccess:()=>{t({title:"Restauracin iniciada",description:"El sistema se restaurar y reiniciar automticamente"}),sn.invalidateQueries({queryKey:["/api/system/backups"]})},onError:ce=>{t({title:"Error al restaurar",description:ce.message,variant:"destructive"})}}),wt=ce=>{if(!ce)return"";const $e=new Date;function ht(Yr){const vi=new Date(Yr.getTime());vi.setHours(0,0,0,0),vi.setDate(vi.getDate()+4-(vi.getDay()||7));const Vi=new Date(vi.getFullYear(),0,1);return Math.ceil(((vi.getTime()-Vi.getTime())/864e5+1)/7)}function Lt(Yr){const Vi=new Date(Yr.getFullYear(),Yr.getMonth(),1).getDay(),Di=1+(Vi===0?1:Vi===1?0:8-Vi),Us=Yr.getDate();return Us<Di?0:Math.floor((Us-Di)/7)+1}const Hn=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],gn=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],mr={"{fecha}":$e.toISOString().split("T")[0].replace(/-/g,""),"{hora}":$e.toTimeString().split(" ")[0].replace(/:/g,""),"{version}":"1.0.0","{timestamp}":Date.now().toString(),"{YEAR_4}":$e.getFullYear().toString(),"{YEAR_2}":$e.getFullYear().toString().slice(-2),"{MONTH_NUMBER}":($e.getMonth()+1).toString().padStart(2,"0"),"{MONTH_NAME}":Hn[$e.getMonth()],"{MONTH_DAY_NUMBER}":$e.getDate().toString().padStart(2,"0"),"{WEEK_DAY_NUMBER}":($e.getDay()||7).toString(),"{WEEK_DAY_NAME}":gn[$e.getDay()],"{HOURS}":$e.getHours().toString().padStart(2,"0"),"{MINUTES}":$e.getMinutes().toString().padStart(2,"0"),"{SECONDS}":$e.getSeconds().toString().padStart(2,"0"),"{WEEK_NUMBER}":ht($e).toString(),"{WEEK_NUMBER_IN_THE_MONTH}":Lt($e).toString()};let or=ce;return Object.entries(mr).forEach(([Yr,vi])=>{or=or.replaceAll(Yr,vi)}),or},Ot=()=>{l({username:"",email:"",password:"",roleId:q?.[0]?.id||""}),s(null)},Kt=ce=>{s(ce),l({username:ce.username,email:ce.email,password:"",roleId:ce.roleId||""}),r(!0)},At=ce=>{if(ce.preventDefault(),i){const $e={username:o.username,email:o.email,roleId:o.roleId};o.password&&($e.password=o.password),de.mutate({id:i.id,data:$e})}else xe.mutate(o)},On=()=>{h({name:"",description:""}),v([]),f(null)},An=()=>{C({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),E(null)},zt=ce=>{E(ce),C({nombre:ce.nombre,host:ce.host,port:ce.port.toString(),user:ce.user,password:"",isPredeterminada:ce.isPredeterminada,activa:ce.activa}),b(!0)},yn=ce=>{if(ce.preventDefault(),S){const $e={..._};$e.password||delete $e.password,ft.mutate({id:S.id,data:$e})}else Re.mutate(_)},ir=()=>{M(!0),Ke.mutate({host:_.host,port:_.port,user:_.user,password:_.password},{onSettled:()=>M(!1)})},on=ce=>{f(ce),h({name:ce.name,description:ce.description||""});const $e=ce.permissions?.map(ht=>ht.permission.id)||[];v($e),u(!0)},Pn=ce=>{ce.preventDefault(),d?ee.mutate({id:d.id,data:m}):Pe.mutate(m)},wn=ce=>{v($e=>$e.includes(ce)?$e.filter(ht=>ht!==ce):[...$e,ce])},kr=ce=>{if(!ce)return a.jsx(it,{variant:"outline",children:"Sin rol"});const $e=q?.find(Lt=>Lt.id===ce);if(!$e)return a.jsx(it,{variant:"outline",children:"Sin rol"});const ht=$e.isSystem?"text-primary bg-primary/10":"text-chart-2 bg-chart-2/10";return a.jsx(it,{variant:"outline",className:ht,children:$e.name})},Tr=ce=>{const $e={clientes:"text-chart-1 bg-chart-1/10",impuestos:"text-chart-2 bg-chart-2/10",tareas:"text-chart-3 bg-chart-3/10",manuales:"text-chart-4 bg-chart-4/10",usuarios:"text-chart-5 bg-chart-5/10"};return a.jsx(it,{variant:"outline",className:$e[ce]||"text-muted-foreground bg-muted",children:ce})},mn=ce=>ce?ce.startsWith("/admin/sessions")?"sessions":ce.startsWith("/admin/smtp-accounts")?"smtp-accounts":ce.startsWith("/admin/storage-config")?"storage":"users":"users",[Ut,Ee]=w.useState(()=>mn(e));w.useEffect(()=>{Ee(mn(e))},[e]);const[Je,pt]=w.useState(!1),{data:It,isLoading:In}=Wt({queryKey:["/api/admin/sessions",Je?"all":"active"],queryFn:async()=>{const $e=await fetch(Je?"/api/admin/sessions/all":"/api/admin/sessions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!$e.ok)throw new Error("Error al cargar sesiones");return $e.json()},enabled:Ut==="sessions",refetchInterval:5e3});return P||R?a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx(Kn,{className:"h-9 w-48"}),a.jsx("div",{className:"space-y-4",children:[...Array(5)].map((ce,$e)=>a.jsx(Kn,{className:"h-16"},$e))})]}):a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Administracin"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de usuarios y configuracin del sistema"})]}),a.jsxs(Ul,{value:Ut,onValueChange:ce=>Ee(ce),className:"space-y-6",children:[a.jsxs(dl,{className:"h-auto grid grid-cols-2 md:grid-cols-4 gap-1 p-1",children:[a.jsxs(Ln,{value:"users","data-testid":"tab-users",children:[a.jsx(_b,{className:"h-4 w-4 mr-2"}),"Usuarios"]}),a.jsxs(Ln,{value:"roles","data-testid":"tab-roles",children:[a.jsx(mm,{className:"h-4 w-4 mr-2"}),"Roles y Permisos"]}),a.jsxs(Ln,{value:"logs","data-testid":"tab-logs",children:[a.jsx(UC,{className:"h-4 w-4 mr-2"}),"Logs de Actividad"]}),a.jsxs(Ln,{value:"settings","data-testid":"tab-settings",children:[a.jsx(w1,{className:"h-4 w-4 mr-2"}),"Configuracin"]}),a.jsxs(Ln,{value:"smtp-accounts","data-testid":"tab-smtp-accounts",children:[a.jsx(Yh,{className:"h-4 w-4 mr-2"}),"Cuentas SMTP"]}),a.jsx(Ln,{value:"sessions","data-testid":"tab-sessions",children:a.jsxs(pu,{href:"/admin/sessions",className:"flex items-center",children:[a.jsx(_b,{className:"h-4 w-4 mr-2"}),"Usuarios conectados"]})}),a.jsxs(Ln,{value:"system-updates","data-testid":"tab-system-updates",children:[a.jsx(n0,{className:"h-4 w-4 mr-2"}),"Actualizaciones"]}),a.jsxs(Ln,{value:"storage","data-testid":"tab-storage",children:[a.jsx(LP,{className:"h-4 w-4 mr-2"}),"Almacenamiento"]})]}),a.jsxs(rr,{value:"users",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Usuarios"}),a.jsxs(Lr,{open:n,onOpenChange:r,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{onClick:Ot,"data-testid":"button-add-user",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:i?"Editar Usuario":"Nuevo Usuario"}),a.jsx(Mi,{children:i?"Actualiza los datos del usuario":"Crea un nuevo usuario del sistema"})]}),a.jsxs("form",{onSubmit:At,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"username",children:"Usuario *"}),a.jsx(Fe,{id:"username",value:o.username,onChange:ce=>l({...o,username:ce.target.value}),required:!0,"data-testid":"input-username"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"email",children:"Email *"}),a.jsx(Fe,{id:"email",type:"email",value:o.email,onChange:ce=>l({...o,email:ce.target.value}),required:!0,"data-testid":"input-email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"password",children:i?"Nueva Contrasea (dejar en blanco para no cambiar)":"Contrasea *"}),a.jsx(Fe,{id:"password",type:"password",value:o.password,onChange:ce=>l({...o,password:ce.target.value}),required:!i,"data-testid":"input-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"role",children:"Rol *"}),a.jsxs(_n,{value:o.roleId,onValueChange:ce=>l({...o,roleId:ce}),children:[a.jsx(Sn,{"data-testid":"select-role",children:a.jsx(Cn,{placeholder:"Selecciona un rol"})}),a.jsx(En,{children:q?.map(ce=>a.jsx(Qe,{value:ce.id,children:ce.name},ce.id))})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{type:"button",variant:"outline",onClick:()=>{r(!1),Ot()},children:"Cancelar"}),a.jsx(ge,{type:"submit","data-testid":"button-submit-user",children:i?"Actualizar":"Crear"})]})]})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{children:["Usuarios del Sistema (",A?.length||0,")"]})}),a.jsx(He,{children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Usuario"}),a.jsx(Et,{children:"Email"}),a.jsx(Et,{children:"Rol"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Fecha de Creacin"}),a.jsx(Et,{className:"text-right",children:"Acciones"})]})}),a.jsx(co,{children:!A||A.length===0?a.jsx(er,{children:a.jsx(yt,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No hay usuarios registrados"})}):A.map(ce=>a.jsxs(er,{"data-testid":`row-user-${ce.id}`,children:[a.jsx(yt,{className:"font-medium",children:ce.username}),a.jsx(yt,{children:ce.email}),a.jsx(yt,{children:kr(ce.roleId)}),a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{variant:ce.isActive?"default":"secondary","data-testid":`badge-status-${ce.id}`,children:ce.isActive?"Activo":"Inactivo"}),a.jsx(wu,{checked:ce.isActive,onCheckedChange:()=>Ce.mutate(ce.id),disabled:Ce.isPending,"data-testid":`switch-active-${ce.id}`})]})}),a.jsx(yt,{children:new Date(ce.createdAt).toLocaleDateString()}),a.jsx(yt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>Kt(ce),"data-testid":`button-edit-${ce.id}`,children:a.jsx(Sc,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>we.mutate(ce.id),"data-testid":`button-delete-${ce.id}`,children:a.jsx(na,{className:"h-4 w-4"})})]})})]},ce.id))})]})})]})]}),a.jsxs(rr,{value:"roles",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Roles y Permisos"}),a.jsxs(Lr,{open:c,onOpenChange:u,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{onClick:On,"data-testid":"button-add-role",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nuevo Rol"]})}),a.jsxs(Mr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:d?"Editar Rol":"Nuevo Rol"}),a.jsx(Mi,{children:d?"Actualiza el rol y sus permisos":"Crea un nuevo rol personalizado con permisos especficos"})]}),a.jsxs("form",{onSubmit:Pn,className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"role-name",children:"Nombre del Rol *"}),a.jsx(Fe,{id:"role-name",value:m.name,onChange:ce=>h({...m,name:ce.target.value}),required:!0,disabled:d?.isSystem,placeholder:"Ej: Contable Senior","data-testid":"input-role-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"role-description",children:"Descripcin"}),a.jsx(Fe,{id:"role-description",value:m.description,onChange:ce=>h({...m,description:ce.target.value}),placeholder:"Descripcin del rol...","data-testid":"input-role-description"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(_e,{className:"text-base font-semibold",children:"Permisos"}),a.jsx("div",{className:"border rounded-lg p-4 space-y-4 max-h-96 overflow-y-auto",children:Object.entries(G?.reduce((ce,$e)=>(ce[$e.resource]||(ce[$e.resource]=[]),ce[$e.resource].push($e),ce),{})||{}).map(([ce,$e])=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium capitalize text-sm",children:ce}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pl-4",children:$e.map(ht=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:ht.id,checked:y.includes(ht.id),onCheckedChange:()=>wn(ht.id),"data-testid":`checkbox-permission-${ht.resource}-${ht.action}`}),a.jsx(_e,{htmlFor:ht.id,className:"text-sm font-normal cursor-pointer",children:ht.action})]},ht.id))})]},ce))}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length," permiso(s) seleccionado(s)"]})]}),a.jsxs(ms,{children:[a.jsx(ge,{type:"button",variant:"outline",onClick:()=>{u(!1),On()},children:"Cancelar"}),a.jsx(ge,{type:"submit","data-testid":"button-submit-role",children:d?"Actualizar":"Crear"})]})]})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{children:["Roles del Sistema (",q?.length||0,")"]})}),a.jsx(He,{children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Nombre del Rol"}),a.jsx(Et,{children:"Descripcin"}),a.jsx(Et,{children:"Usuarios"}),a.jsx(Et,{children:"Permisos"}),a.jsx(Et,{className:"text-right",children:"Acciones"})]})}),a.jsx(co,{children:!q||q.length===0?a.jsx(er,{children:a.jsx(yt,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No hay roles configurados"})}):q.map(ce=>a.jsxs(er,{"data-testid":`row-role-${ce.id}`,children:[a.jsx(yt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[ce.name,ce.isSystem&&a.jsxs(it,{variant:"outline",className:"text-xs",children:[a.jsx(mI,{className:"h-3 w-3 mr-1"}),"Sistema"]})]})}),a.jsx(yt,{className:"text-muted-foreground",children:ce.description||"-"}),a.jsx(yt,{children:a.jsxs(it,{variant:"outline",children:[ce._count?.users||0," usuarios"]})}),a.jsx(yt,{children:a.jsxs(it,{variant:"outline",children:[ce.permissions?.length||0," permisos"]})}),a.jsx(yt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>on(ce),"data-testid":`button-edit-role-${ce.id}`,children:a.jsx(Sc,{className:"h-4 w-4"})}),!ce.isSystem&&a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>ne.mutate(ce.id),"data-testid":`button-delete-role-${ce.id}`,children:a.jsx(na,{className:"h-4 w-4"})})]})})]},ce.id))})]})})]})]}),a.jsxs(rr,{value:"logs",className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Registro de Actividad"}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Actividad Reciente"})}),a.jsx(He,{className:"p-0",children:!F||F.length===0?a.jsx("div",{className:"text-center text-muted-foreground py-12",children:"No hay actividad registrada"}):a.jsx("div",{className:"divide-y",children:F.slice(0,50).map(ce=>a.jsx("div",{className:"p-4 hover-elevate","data-testid":`row-log-${ce.id}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("p",{className:"font-medium",children:ce.user?.username||"Usuario desconocido"}),Tr(ce.modulo)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:ce.accion}),ce.detalles&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ce.detalles})]}),a.jsx("time",{className:"text-sm text-muted-foreground",children:new Date(ce.fecha).toLocaleString()})]})},ce.id))})})]})]}),a.jsxs(rr,{value:"settings",className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin del Sistema"}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Control de Acceso"})}),a.jsx(He,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(_e,{htmlFor:"registration-enabled",children:"Permitir registro de nuevos usuarios"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cuando est deshabilitado, solo los administradores pueden crear usuarios"})]}),a.jsx(wu,{id:"registration-enabled",checked:$?.registrationEnabled??!0,onCheckedChange:ce=>ae.mutate(ce),"data-testid":"switch-registration"})]})})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Configuracin de Backups"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Personaliza los patrones de nombres para los archivos de respaldo"})]}),a.jsxs(He,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"backup-db-pattern",children:"Patrn para Backup de Base de Datos"}),a.jsx(Fe,{id:"backup-db-pattern",value:Y.backup_db_pattern,onChange:ce=>ie({...Y,backup_db_pattern:ce.target.value}),placeholder:"backup_db_{fecha}_{hora}","data-testid":"input-backup-db-pattern"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",a.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[wt(Y.backup_db_pattern),".sql"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"backup-files-pattern",children:"Patrn para Backup de Archivos"}),a.jsx(Fe,{id:"backup-files-pattern",value:Y.backup_files_pattern,onChange:ce=>ie({...Y,backup_files_pattern:ce.target.value}),placeholder:"backup_files_{fecha}_{hora}","data-testid":"input-backup-files-pattern"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",a.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[wt(Y.backup_files_pattern),".zip"]})]})]})]}),a.jsxs("div",{className:"bg-muted/50 p-4 rounded-md space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Variables disponibles:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{fecha}"})," - Fecha actual (YYYYMMDD)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{hora}"})," - Hora actual (HHMMSS)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{version}"})," - Versin del sistema"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{timestamp}"})," - Timestamp Unix"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_4}"})," - Ao 4 dgitos (2025)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_2}"})," - Ao 2 dgitos (25)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NUMBER}"})," - Mes numrico (01-12)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NAME}"})," - Nombre del mes (Enero-Diciembre)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_DAY_NUMBER}"})," - Da del mes (01-31)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NUMBER}"})," - Da semana numrico (1-7)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NAME}"})," - Da de la semana (Lunes-Domingo)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{HOURS}"})," - Hora en formato 24h (00-23)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MINUTES}"})," - Minutos (00-59)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{SECONDS}"})," - Segundos (00-59)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER}"})," - Semana ISO-8601 del ao (1-53)"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER_IN_THE_MONTH}"})," - Semana del mes (0-5)"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{onClick:()=>{me.mutate({key:"backup_db_pattern",value:Y.backup_db_pattern})},disabled:!Y.backup_db_pattern,"data-testid":"button-save-db-pattern",children:"Guardar Patrn BD"}),a.jsx(ge,{onClick:()=>{me.mutate({key:"backup_files_pattern",value:Y.backup_files_pattern})},disabled:!Y.backup_files_pattern,"data-testid":"button-save-files-pattern",variant:"outline",children:"Guardar Patrn Archivos"})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Personalizacin"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"company-name",children:"Nombre de la Empresa"}),a.jsx(Fe,{id:"company-name",defaultValue:"Asesora La Llave","data-testid":"input-company-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"logo",children:"Logo de la Empresa"}),a.jsx(Fe,{id:"logo",type:"file",accept:"image/*","data-testid":"input-logo"})]}),a.jsx(ge,{"data-testid":"button-save-branding",children:"Guardar Cambios"})]})]})]}),a.jsxs(rr,{value:"smtp-accounts",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Cuentas SMTP"}),a.jsxs(Lr,{open:x,onOpenChange:b,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{onClick:()=>An(),"data-testid":"button-add-smtp-account",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nueva Cuenta SMTP"]})}),a.jsxs(Mr,{className:"sm:max-w-[600px]",children:[a.jsxs(Fr,{children:[a.jsxs($r,{children:[S?"Editar":"Nueva"," Cuenta SMTP"]}),a.jsx(Mi,{children:"Configure una cuenta SMTP para el envo de notificaciones"})]}),a.jsxs("form",{onSubmit:yn,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(_e,{htmlFor:"smtp-nombre",children:"Nombre de la Cuenta *"}),a.jsx(Fe,{id:"smtp-nombre",value:_.nombre,onChange:ce=>C({..._,nombre:ce.target.value}),placeholder:"Ej: Gmail Principal",required:!0,"data-testid":"input-smtp-nombre"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"smtp-form-host",children:"Servidor SMTP *"}),a.jsx(Fe,{id:"smtp-form-host",value:_.host,onChange:ce=>C({..._,host:ce.target.value}),placeholder:"smtp.gmail.com",required:!0,"data-testid":"input-smtp-form-host"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"smtp-form-port",children:"Puerto *"}),a.jsx(Fe,{id:"smtp-form-port",type:"number",value:_.port,onChange:ce=>C({..._,port:ce.target.value}),placeholder:"587",required:!0,"data-testid":"input-smtp-form-port"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"smtp-form-user",children:"Usuario *"}),a.jsx(Fe,{id:"smtp-form-user",value:_.user,onChange:ce=>C({..._,user:ce.target.value}),placeholder:"usuario@gmail.com",required:!0,"data-testid":"input-smtp-form-user"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"smtp-form-password",children:"Contrasea *"}),a.jsx(Fe,{id:"smtp-form-password",type:"password",value:_.password,onChange:ce=>C({..._,password:ce.target.value}),placeholder:S?"(dejar vaco para mantener)":"",required:!S,"data-testid":"input-smtp-form-password"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"smtp-predeterminada",checked:_.isPredeterminada,onCheckedChange:ce=>C({..._,isPredeterminada:!!ce}),"data-testid":"checkbox-smtp-predeterminada"}),a.jsx(_e,{htmlFor:"smtp-predeterminada",className:"text-sm",children:"Cuenta Predeterminada"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"smtp-activa",checked:_.activa,onCheckedChange:ce=>C({..._,activa:!!ce}),"data-testid":"checkbox-smtp-activa"}),a.jsx(_e,{htmlFor:"smtp-activa",className:"text-sm",children:"Activa"})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{type:"button",variant:"outline",onClick:ir,disabled:!_.host||!_.port||!_.user||!_.password||O,"data-testid":"button-test-smtp",children:O?"Probando...":"Probar Conexin"}),a.jsxs(ge,{type:"submit","data-testid":"button-submit-smtp",children:[S?"Actualizar":"Crear"," Cuenta"]})]})]})]})]})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Cuentas SMTP Configuradas"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona mltiples cuentas SMTP para el envo de notificaciones"})]}),a.jsx(He,{children:U?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Kn,{className:"h-12 w-full"}),a.jsx(Kn,{className:"h-12 w-full"})]}):X&&X.length>0?a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Nombre"}),a.jsx(Et,{children:"Servidor"}),a.jsx(Et,{children:"Puerto"}),a.jsx(Et,{children:"Usuario"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Acciones"})]})}),a.jsx(co,{children:X.map(ce=>a.jsxs(er,{children:[a.jsxs(yt,{className:"font-medium",children:[ce.nombre,ce.isPredeterminada&&a.jsx(it,{variant:"secondary",className:"ml-2",children:"Predeterminada"})]}),a.jsx(yt,{children:ce.host}),a.jsx(yt,{children:ce.port}),a.jsx(yt,{children:ce.user}),a.jsx(yt,{children:a.jsx(it,{variant:ce.activa?"default":"secondary",children:ce.activa?"Activa":"Inactiva"})}),a.jsx(yt,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>zt(ce),"data-testid":`button-edit-smtp-${ce.id}`,children:a.jsx(Sc,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>et.mutate(ce.id),"data-testid":`button-delete-smtp-${ce.id}`,children:a.jsx(na,{className:"h-4 w-4"})})]})})]},ce.id))})]}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay cuentas SMTP configuradas. Crea una para empezar."})})]})]}),a.jsxs(rr,{value:"sessions",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Sesiones"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitoreo avanzado de sesiones de usuario"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:Je?"default":"outline",size:"sm",onClick:()=>pt(!Je),children:Je?"Solo Activas":"Ver Todas"}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:async()=>{try{const ce=await tn("POST","/api/admin/sessions/cleanup");sn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Limpieza completada",description:`${ce.totalCleaned} sesiones procesadas (${ce.deletedCount} eliminadas, ${ce.markedInactiveCount} marcadas como inactivas)`})}catch(ce){t({title:"Error",description:ce.message||String(ce),variant:"destructive"})}},children:[a.jsx(BP,{className:"h-4 w-4 mr-2"}),"Limpiar Sesiones"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Ue,{children:a.jsx(He,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sesiones Activas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:It?.items?.filter(ce=>ce.status==="active").length||0})]}),a.jsx(UC,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(Ue,{children:a.jsx(He,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sesiones Inactivas"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:It?.items?.filter(ce=>ce.status==="idle").length||0})]}),a.jsx(UC,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(Ue,{children:a.jsx(He,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sospechosas"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:It?.items?.filter(ce=>ce.suspicious).length||0})]}),a.jsx(mm,{className:"h-8 w-8 text-red-600"})]})})}),a.jsx(Ue,{children:a.jsx(He,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sesiones"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:It?.total||0})]}),a.jsx(_b,{className:"h-8 w-8 text-blue-600"})]})})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{children:[Je?"Todas las Sesiones":"Sesiones Activas"," (",It?.total??0,")",Je&&a.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:"(Incluye sesiones cerradas)"})]})}),a.jsx(He,{children:In?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Kn,{className:"h-12 w-full"}),a.jsx(Kn,{className:"h-12 w-full"})]}):!It||!It.items||It.items.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay sesiones"}):a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Usuario"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"IP / Ubicacin"}),a.jsx(Et,{children:"Dispositivo"}),a.jsx(Et,{children:"ltima Actividad"}),a.jsx(Et,{children:"Duracin"}),a.jsx(Et,{className:"text-right",children:"Acciones"})]})}),a.jsx(co,{children:It.items.map(ce=>a.jsxs(er,{className:ce.suspicious?"bg-red-50 dark:bg-red-950/20":"",children:[a.jsx(yt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ce.user?.username||""}),a.jsx("p",{className:"text-sm text-muted-foreground",children:ce.user?.role?.name||""})]}),ce.suspicious&&a.jsx(mm,{className:"h-4 w-4 text-red-500"})]})}),a.jsx(yt,{children:a.jsx(it,{variant:ce.status==="active"?"default":ce.status==="idle"?"secondary":"outline",className:ce.status==="active"?"bg-green-100 text-green-800":ce.status==="idle"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:ce.status==="active"?"Activo":ce.status==="idle"?"Inactivo":"Cerrado"})}),a.jsx(yt,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-mono text-sm",children:ce.ip}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ce.location?.city,", ",ce.location?.country,ce.location?.isVpn&&a.jsx("span",{className:"text-red-500 ml-1",children:"(VPN)"})]})]})}),a.jsx(yt,{children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",children:ce.deviceInfo?.type||"Unknown"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:ce.deviceInfo?.platform||"Unknown"})]})}),a.jsx(yt,{children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",children:ce.lastSeenAt?new Date(ce.lastSeenAt).toLocaleString():"-"}),ce.minutesSinceLastSeen!==void 0&&a.jsx("p",{className:"text-xs text-muted-foreground",children:ce.minutesSinceLastSeen<60?`Hace ${ce.minutesSinceLastSeen} min`:`Hace ${Math.floor(ce.minutesSinceLastSeen/60)}h ${ce.minutesSinceLastSeen%60}min`})]})}),a.jsx(yt,{children:a.jsxs("p",{className:"text-sm",children:[ce.createdAt?Math.floor((Date.now()-new Date(ce.createdAt).getTime())/(1e3*60*60)):0,"h"]})}),a.jsx(yt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-1",children:[a.jsx(ge,{variant:"destructive",size:"sm",onClick:async()=>{try{await tn("POST",`/api/admin/sessions/${ce.id}/terminate`),sn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Sesin terminada",description:`La sesin de ${ce.user?.username} ha sido terminada y el usuario ser redirigido al login`})}catch($e){t({title:"Error",description:$e.message||String($e),variant:"destructive"})}},children:a.jsx(Nc,{className:"h-4 w-4"})}),a.jsx(ge,{variant:ce.suspicious?"destructive":"outline",size:"sm",onClick:async()=>{try{const $e=ce.suspicious?"unflag":"flag";await tn("POST",`/api/admin/sessions/${ce.id}/${$e}`),sn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:ce.suspicious?"Marcado como seguro":"Marcado como sospechoso",description:ce.suspicious?"La sesin ya no est marcada como sospechosa":"La sesin ha sido marcada como sospechosa"})}catch($e){t({title:"Error",description:$e.message||String($e),variant:"destructive"})}},children:a.jsx(mm,{className:"h-4 w-4"})})]})})]},ce.id))})]})})]})]}),a.jsxs(rr,{value:"system-updates",className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Actualizaciones del Sistema"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gestiona las actualizaciones automticas del sistema"})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Configuracin de Repositorio GitHub"}),a.jsx(vr,{children:"Configura el repositorio de GitHub para comprobar y descargar actualizaciones automticas"})]}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"github-repo",children:"Repositorio (owner/repo)"}),a.jsx(Fe,{id:"github-repo",placeholder:"ejemplo: usuario/repositorio",value:Se.repoUrl,onChange:ce=>ke({...Se,repoUrl:ce.target.value}),"data-testid":"input-github-repo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Formato: owner/repo o URL completa de GitHub"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"github-branch",children:"Rama"}),a.jsx(Fe,{id:"github-branch",placeholder:"main",value:Se.branch,onChange:ce=>ke({...Se,branch:ce.target.value}),"data-testid":"input-github-branch"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Rama a usar para actualizaciones (por defecto: main)"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ge,{onClick:()=>Ye.mutate(Se),disabled:Ye.isPending||!Se.repoUrl,"data-testid":"button-save-github-config",children:[a.jsx(cg,{className:"h-4 w-4 mr-2"}),Ye.isPending?"Guardando...":"Guardar Configuracin"]})})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Versin Actual"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin instalada"}),a.jsx("p",{className:"text-2xl font-bold","data-testid":"text-current-version",children:re?.currentVersion||"Cargando..."})]}),a.jsxs(ge,{onClick:()=>We.mutate(),disabled:Q||We.isPending,className:"w-full","data-testid":"button-check-updates",children:[a.jsx(n0,{className:`h-4 w-4 mr-2 ${Q?"animate-spin":""}`}),Q?"Comprobando...":"Comprobar Actualizaciones"]})]})]}),re?.updateAvailable&&a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Actualizacin Disponible"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva versin"}),a.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-latest-version",children:re.latestVersion})]}),re.changelog&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:"Novedades:"}),a.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-changelog",children:re.changelog})]}),a.jsxs(Lr,{children:[a.jsx(Ml,{asChild:!0,children:a.jsx(ge,{variant:"default",className:"w-full","data-testid":"button-update-now",children:"Actualizar Ahora"})}),a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Confirmar Actualizacin"}),a.jsxs(Mi,{children:["Esta accin actualizar el sistema a la versin ",re.latestVersion,". Se crear un backup automtico antes de la actualizacin. El sistema se reiniciar automticamente cuando termine."]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:ce=>{ce.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":"button-cancel-update",children:"Cancelar"}),a.jsx(ge,{onClick:()=>{nt.mutate(),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:nt.isPending,"data-testid":"button-confirm-update",children:nt.isPending?"Actualizando...":"Confirmar Actualizacin"})]})]})]})]})]}),!re?.updateAvailable&&re?.currentVersion&&a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Sistema Actualizado"})}),a.jsx(He,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu sistema est ejecutando la ltima versin disponible."})})]})]}),a.jsx(LYe,{}),a.jsxs(Ue,{className:"mt-6",children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Backups del Sistema"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Historial de backups automticos y manuales"})]}),a.jsx(He,{children:pe?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((ce,$e)=>a.jsx(Kn,{className:"h-12"},$e))}):fe&&fe.length>0?a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Fecha"}),a.jsx(Et,{children:"Versin"}),a.jsx(Et,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($G,{className:"h-3 w-3"}),a.jsx("span",{children:"BD"})]})}),a.jsx(Et,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(FP,{className:"h-3 w-3"}),a.jsx("span",{children:"Archivos"})]})}),a.jsx(Et,{className:"text-right",children:"Acciones"})]})}),a.jsx(co,{children:fe.map(ce=>a.jsxs(er,{"data-testid":`row-backup-${ce.id}`,children:[a.jsx(yt,{children:new Date(ce.createdAt).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),a.jsx(yt,{children:a.jsxs(it,{variant:"outline","data-testid":`badge-version-${ce.id}`,children:["v",ce.version]})}),a.jsx(yt,{"data-testid":`text-db-size-${ce.id}`,children:ce.dbSize}),a.jsx(yt,{"data-testid":`text-files-size-${ce.id}`,children:ce.filesSize}),a.jsx(yt,{className:"text-right",children:a.jsxs(Lr,{children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{variant:"outline",size:"sm","data-testid":`button-restore-${ce.id}`,children:[a.jsx(BP,{className:"h-4 w-4 mr-2"}),"Restaurar"]})}),a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Confirmar Restauracin"}),a.jsxs(Mi,{children:["Esta accin restaurar el sistema al estado del backup creado el"," ",new Date(ce.createdAt).toLocaleString("es-ES"),".",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Advertencia:"})," Esta operacin sobrescribir todos los datos actuales y el sistema se reiniciar automticamente."]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:$e=>{$e.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":`button-cancel-restore-${ce.id}`,children:"Cancelar"}),a.jsx(ge,{variant:"destructive",onClick:()=>{_t.mutate(ce.id),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:_t.isPending,"data-testid":`button-confirm-restore-${ce.id}`,children:_t.isPending?"Restaurando...":"Confirmar Restauracin"})]})]})]})})]},ce.id))})]}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay backups disponibles. Se crean automticamente durante las actualizaciones."})})]})]}),a.jsx(rr,{value:"storage",className:"space-y-4",children:a.jsx(FYe,{})})]})]})}function FYe(){const{toast:t}=Ir(),[e,n]=w.useState("LOCAL"),[r,i]=w.useState(!1),[s,o]=w.useState(!1),[l,c]=w.useState({host:"",port:"21",username:"",password:"",basePath:"/uploads"}),[u,d]=w.useState({host:"",shareName:"",username:"",password:"",domain:"",basePath:"/uploads"}),{data:f,isLoading:m}=Wt({queryKey:["/api/admin/storage-config"]});w.useEffect(()=>{f&&(n(f.type),i(f.active),f.type==="FTP"&&f.config?c({host:f.config.host||"",port:(f.config.port||21).toString(),username:f.config.username||"",password:"",basePath:f.config.basePath||"/uploads"}):f.type==="SMB"&&f.config&&d({host:f.config.host||"",shareName:f.config.shareName||"",username:f.config.username||"",password:"",domain:f.config.domain||"",basePath:f.config.basePath||"/uploads"}))},[f]);const h=Xt({mutationFn:async x=>tn("POST","/api/admin/storage-config",x),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/admin/storage-config"]}),t({title:"Configuracin guardada",description:"La configuracin de almacenamiento se ha actualizado correctamente"})},onError:x=>{t({title:"Error",description:x.message||"No se pudo guardar la configuracin",variant:"destructive"})}}),y=async()=>{o(!0);try{const b=await tn("POST","/api/admin/storage-config/test",{type:e,config:e==="FTP"?l:e==="SMB"?u:null});t({title:"Conexin exitosa",description:b.message||"La conexin se estableci correctamente"})}catch(x){t({title:"Error de conexin",description:x.message||"No se pudo conectar al servidor",variant:"destructive"})}finally{o(!1)}},v=()=>{const x=e==="LOCAL"?null:e==="FTP"?{...l,port:parseInt(l.port)}:u;h.mutate({type:e,active:r,config:x})};return m?a.jsxs("div",{className:"space-y-4",children:[a.jsx(Kn,{className:"h-8 w-64"}),a.jsx(Kn,{className:"h-32"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin de Almacenamiento"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configura dnde se almacenan los archivos del sistema"})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Proveedor de Almacenamiento"}),f&&a.jsx(it,{variant:f.active?"default":"secondary",children:f.active?"Activo":"Inactivo"})]})}),a.jsxs(He,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Tipo de Almacenamiento"}),a.jsxs(_n,{value:e,onValueChange:x=>n(x),children:[a.jsx(Sn,{"data-testid":"select-storage-type",children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"LOCAL",children:"Local (Servidor)"}),a.jsx(Qe,{value:"FTP",children:"FTP"}),a.jsx(Qe,{value:"SMB",children:"SMB/CIFS (NAS)"})]})]})]}),e==="LOCAL"&&a.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($G,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Almacenamiento Local"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Los archivos se guardan en el servidor en: ",a.jsx("code",{className:"px-1 py-0.5 bg-background rounded text-xs",children:"/uploads"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No requiere configuracin adicional."})]})]})}),e==="FTP"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"ftp-host",children:"Servidor FTP *"}),a.jsx(Fe,{id:"ftp-host",value:l.host,onChange:x=>c({...l,host:x.target.value}),placeholder:"ftp.ejemplo.com","data-testid":"input-ftp-host"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"ftp-port",children:"Puerto *"}),a.jsx(Fe,{id:"ftp-port",type:"number",value:l.port,onChange:x=>c({...l,port:x.target.value}),placeholder:"21","data-testid":"input-ftp-port"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"ftp-username",children:"Usuario *"}),a.jsx(Fe,{id:"ftp-username",value:l.username,onChange:x=>c({...l,username:x.target.value}),"data-testid":"input-ftp-username"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"ftp-password",children:"Contrasea *"}),a.jsx(Fe,{id:"ftp-password",type:"password",value:l.password,onChange:x=>c({...l,password:x.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-ftp-password"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"ftp-basePath",children:"Ruta Base"}),a.jsx(Fe,{id:"ftp-basePath",value:l.basePath,onChange:x=>c({...l,basePath:x.target.value}),placeholder:"/uploads","data-testid":"input-ftp-basepath"})]})]}),e==="SMB"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"smb-host",children:"Servidor SMB *"}),a.jsx(Fe,{id:"smb-host",value:u.host,onChange:x=>d({...u,host:x.target.value}),placeholder:"192.168.1.100","data-testid":"input-smb-host"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"smb-share",children:"Nombre del Recurso Compartido *"}),a.jsx(Fe,{id:"smb-share",value:u.shareName,onChange:x=>d({...u,shareName:x.target.value}),placeholder:"archivos","data-testid":"input-smb-share"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"smb-username",children:"Usuario *"}),a.jsx(Fe,{id:"smb-username",value:u.username,onChange:x=>d({...u,username:x.target.value}),"data-testid":"input-smb-username"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"smb-password",children:"Contrasea *"}),a.jsx(Fe,{id:"smb-password",type:"password",value:u.password,onChange:x=>d({...u,password:x.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-smb-password"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"smb-domain",children:"Dominio (opcional)"}),a.jsx(Fe,{id:"smb-domain",value:u.domain,onChange:x=>d({...u,domain:x.target.value}),placeholder:"WORKGROUP","data-testid":"input-smb-domain"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"smb-basePath",children:"Ruta Base"}),a.jsx(Fe,{id:"smb-basePath",value:u.basePath,onChange:x=>d({...u,basePath:x.target.value}),placeholder:"/uploads","data-testid":"input-smb-basepath"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(_e,{htmlFor:"storage-active",className:"font-medium",children:"Activar Configuracin"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Esta configuracin est activa y se usa para nuevos archivos":"Activa esta configuracin para empezar a usarla"})]}),a.jsx(wu,{id:"storage-active",checked:r,onCheckedChange:i,"data-testid":"switch-storage-active"})]}),a.jsxs("div",{className:"flex gap-2",children:[e!=="LOCAL"&&a.jsx(ge,{variant:"outline",onClick:y,disabled:s,"data-testid":"button-test-connection",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Yv,{className:"h-4 w-4 mr-2 animate-spin"}),"Probando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Probar Conexin"]})}),a.jsx(ge,{onClick:v,disabled:h.isPending,"data-testid":"button-save-storage-config",children:h.isPending?"Guardando...":"Guardar Configuracin"})]})]})]}),f&&f.type!==e&&a.jsxs(Ue,{className:"border-orange-200 dark:border-orange-900",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400",children:[a.jsx(FP,{className:"h-5 w-5"}),"Migracin de Archivos"]})}),a.jsxs(He,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Al cambiar el tipo de almacenamiento, los archivos existentes permanecern en ",f.type,". Puedes migrarlos al nuevo almacenamiento desde la seccin de mantenimiento."]}),a.jsxs(ge,{variant:"outline",disabled:!0,children:[a.jsx(FP,{className:"h-4 w-4 mr-2"}),"Migrar Archivos (Prximamente)"]})]})]})]})}const $Ye={clients:"Clientes",tasks:"Tareas",client_tax:"Impuestos",manuals:"Manuales",users:"Usuarios"},BYe={CREATE:"default",UPDATE:"secondary",DELETE:"destructive"},zYe={CREATE:"Creacin",UPDATE:"Actualizacin",DELETE:"Eliminacin"};function qYe(){const[t,e]=w.useState("all"),{data:n=[],isLoading:r}=Wt({queryKey:["/api/audit",t],queryFn:async()=>{const s=new URLSearchParams;t!=="all"&&s.append("table",t);const o=await fetch(`/api/audit?${s.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!o.ok)throw new Error("Error al cargar auditora");return o.json()}}),i=({anterior:s,nuevo:o})=>{if(!s&&!o)return null;const l=s?JSON.parse(s):{},c=o?JSON.parse(o):{};return a.jsx("div",{className:"mt-2 space-y-1",children:Object.keys({...l,...c}).map(u=>{if(["id","fechaActualizacion","fechaCreacion","created_at","updated_at"].includes(u))return null;const d=l[u],f=c[u];return d===f?null:a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium text-muted-foreground",children:[u,":"]})," ",d!==void 0&&a.jsx("span",{className:"line-through text-destructive",children:String(d)}),d!==void 0&&f!==void 0&&"  ",f!==void 0&&a.jsx("span",{className:"text-primary",children:String(f)})]},u)})})};return a.jsxs("div",{className:"container mx-auto py-6 px-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Auditora del Sistema"}),a.jsx("p",{className:"text-muted-foreground",children:"Registro completo de cambios y modificaciones"})]}),a.jsx("div",{className:"mb-6 flex gap-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(FG,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs(_n,{value:t,onValueChange:e,children:[a.jsx(Sn,{className:"w-[200px]","data-testid":"select-filter-table",children:a.jsx(Cn,{placeholder:"Filtrar por mdulo"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todos los mdulos"}),a.jsx(Qe,{value:"clients",children:"Clientes"}),a.jsx(Qe,{value:"tasks",children:"Tareas"}),a.jsx(Qe,{value:"client_tax",children:"Impuestos"}),a.jsx(Qe,{value:"manuals",children:"Manuales"}),a.jsx(Qe,{value:"users",children:"Usuarios"})]})]})]})}),r?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),a.jsx(He,{children:a.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})})]},s))}):n.length===0?a.jsx(Ue,{children:a.jsxs(He,{className:"py-10 text-center",children:[a.jsx(mi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No se encontraron registros de auditora"})]})}):a.jsx("div",{className:"space-y-4",children:n.map(s=>a.jsxs(Ue,{"data-testid":`audit-entry-${s.id}`,children:[a.jsx(lt,{children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsxs(ut,{className:"text-lg flex items-center gap-2",children:[a.jsx(it,{variant:BYe[s.accion],children:zYe[s.accion]}),a.jsx("span",{children:$Ye[s.tabla]||s.tabla})]}),a.jsx(vr,{className:"mt-2",children:s.cambios||"Sin descripcin de cambios"})]})})}),a.jsx(He,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(N1,{className:"h-4 w-4"}),a.jsx("span",{children:s.usuario?.username||"Usuario desconocido"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(nl,{className:"h-4 w-4"}),a.jsx("span",{children:Ba(new Date(s.fecha),"d 'de' MMMM 'de' yyyy, HH:mm",{locale:yc})})]})]}),(s.valorAnterior||s.valorNuevo)&&a.jsx(i,{anterior:s.valorAnterior,nuevo:s.valorNuevo})]})})]},s.id))})]})}const NK=[{key:"{nombre_cliente}",description:"Nombre del cliente"},{key:"{email_cliente}",description:"Email del cliente"},{key:"{fecha_vencimiento}",description:"Fecha de vencimiento"}];function UYe(){const[t,e]=w.useState("plantillas"),{toast:n}=Ir(),[r,i]=w.useState(!1),[s,o]=w.useState(null),[l,c]=w.useState({nombre:"",asunto:"",contenidoHTML:""}),[u,d]=w.useState(""),[f,m]=w.useState("all"),[h,y]=w.useState(""),[v,x]=w.useState(!1),{data:b,isLoading:S}=Wt({queryKey:["/api/notification-templates"]}),{data:E}=Wt({queryKey:["/api/admin/smtp-accounts"]}),{data:_,isLoading:C}=Wt({queryKey:["/api/notifications/history"],enabled:t==="historial"}),{data:O,isLoading:M}=Wt({queryKey:["/api/notifications/scheduled"],enabled:t==="programadas"}),A=Xt({mutationFn:async U=>await tn("POST","/api/notification-templates",U),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),$(),n({title:"Plantilla creada",description:"La plantilla se ha creado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo crear la plantilla.",variant:"destructive"})}}),P=Xt({mutationFn:async({id:U,data:W})=>await tn("PATCH",`/api/notification-templates/${U}`,W),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),$(),n({title:"Plantilla actualizada",description:"La plantilla se ha actualizado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo actualizar la plantilla.",variant:"destructive"})}}),F=Xt({mutationFn:async U=>await tn("DELETE",`/api/notification-templates/${U}`),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/notification-templates"]}),n({title:"Plantilla eliminada",description:"La plantilla se ha eliminado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo eliminar la plantilla.",variant:"destructive"})}}),R=Xt({mutationFn:async U=>v?await tn("POST","/api/notifications/schedule",U):await tn("POST","/api/notifications/send",U),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/notifications/history"]}),sn.invalidateQueries({queryKey:["/api/notifications/scheduled"]}),d(""),m("all"),y(""),x(!1),n({title:v?"Notificacin programada":"Notificacin enviada",description:v?"La notificacin se ha programado correctamente.":"La notificacin se ha enviado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo enviar la notificacin.",variant:"destructive"})}}),$=()=>{c({nombre:"",asunto:"",contenidoHTML:""}),o(null)},q=()=>{if(!u)return;const U=b?.find(W=>String(W.id)===u);U&&R.mutate({plantillaId:u,smtpAccountId:h||null,destinatarios:f,asunto:U.asunto,contenido:U.contenidoHTML})},z=U=>{o(U),c({nombre:U.nombre,asunto:U.asunto,contenidoHTML:U.contenidoHTML}),i(!0)},G=U=>{U.preventDefault(),s?P.mutate({id:s.id,data:l}):A.mutate(l)},X=U=>{const W=l.contenidoHTML+" "+U+" ";c({...l,contenidoHTML:W})};return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl font-display font-bold",children:"Sistema de Notificaciones"})}),a.jsxs(Ul,{value:t,onValueChange:e,className:"space-y-4",children:[a.jsxs(dl,{children:[a.jsxs(Ln,{value:"plantillas","data-testid":"tab-plantillas",children:[a.jsx(mi,{className:"h-4 w-4 mr-2"}),"Plantillas"]}),a.jsxs(Ln,{value:"enviar","data-testid":"tab-enviar",children:[a.jsx(SN,{className:"h-4 w-4 mr-2"}),"Enviar Notificacin"]}),a.jsxs(Ln,{value:"historial","data-testid":"tab-historial",children:[a.jsx(Fm,{className:"h-4 w-4 mr-2"}),"Historial"]}),a.jsxs(Ln,{value:"programadas","data-testid":"tab-programadas",children:[a.jsx(nl,{className:"h-4 w-4 mr-2"}),"Programadas"]})]}),a.jsxs(rr,{value:"plantillas",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-display font-semibold",children:"Plantillas de Notificacin"}),a.jsxs(Lr,{open:r,onOpenChange:i,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{onClick:()=>$(),"data-testid":"button-add-template",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),a.jsxs(Mr,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(Fr,{children:[a.jsxs($r,{children:[s?"Editar":"Nueva"," Plantilla"]}),a.jsx(Mi,{children:"Crea plantillas de notificacin reutilizables con variables dinmicas"})]}),a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"template-nombre",children:"Nombre de la Plantilla *"}),a.jsx(Fe,{id:"template-nombre",value:l.nombre,onChange:U=>c({...l,nombre:U.target.value}),placeholder:"Ej: Recordatorio de vencimiento",required:!0,"data-testid":"input-template-nombre"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"template-asunto",children:"Asunto del Email *"}),a.jsx(Fe,{id:"template-asunto",value:l.asunto,onChange:U=>c({...l,asunto:U.target.value}),placeholder:"Ej: Recordatorio: Vencimiento prximo",required:!0,"data-testid":"input-template-asunto"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Variables Disponibles"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:NK.map(U=>a.jsxs(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>X(U.key),"data-testid":`button-variable-${U.key}`,children:[a.jsx(IG,{className:"h-3 w-3 mr-1"}),U.key]},U.key))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Haz clic en una variable para insertarla en el contenido"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"template-contenido",children:"Contenido HTML *"}),a.jsx(uce,{content:l.contenidoHTML,onChange:U=>c({...l,contenidoHTML:U})})]}),a.jsx(ms,{children:a.jsxs(ge,{type:"submit","data-testid":"button-submit-template",children:[s?"Actualizar":"Crear"," Plantilla"]})})]})]})]})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Plantillas Creadas"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus plantillas de notificacin reutilizables"})]}),a.jsx(He,{children:S?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Kn,{className:"h-12 w-full"}),a.jsx(Kn,{className:"h-12 w-full"})]}):b&&b.length>0?a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Nombre"}),a.jsx(Et,{children:"Asunto"}),a.jsx(Et,{children:"Tipo"}),a.jsx(Et,{children:"Variables Usadas"}),a.jsx(Et,{children:"Acciones"})]})}),a.jsx(co,{children:b.map(U=>{const W=NK.filter(Y=>U.contenidoHTML.includes(Y.key));return a.jsxs(er,{children:[a.jsx(yt,{className:"font-medium","data-testid":`text-template-nombre-${U.id}`,children:U.nombre}),a.jsx(yt,{"data-testid":`text-template-asunto-${U.id}`,children:U.asunto}),a.jsx(yt,{"data-testid":`text-template-tipo-${U.id}`,children:a.jsx(it,{variant:U.tipo==="RECORDATORIO"?"default":U.tipo==="URGENTE"?"destructive":"secondary",className:"text-xs",children:U.tipo})}),a.jsx(yt,{"data-testid":`text-template-variables-${U.id}`,children:a.jsx("div",{className:"flex flex-wrap gap-1",children:W.length>0?W.map(Y=>a.jsx(it,{variant:"secondary",className:"text-xs","data-testid":`badge-variable-${Y.key.replace(/[{}]/g,"")}-${U.id}`,children:Y.key},Y.key)):a.jsx("span",{className:"text-sm text-muted-foreground",children:"Sin variables"})})}),a.jsx(yt,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>z(U),"data-testid":`button-edit-template-${U.id}`,children:a.jsx(Sc,{className:"h-4 w-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>F.mutate(U.id),"data-testid":`button-delete-template-${U.id}`,children:a.jsx(na,{className:"h-4 w-4"})})]})})]},U.id)})})]}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay plantillas creadas. Crea una para empezar."})})]})]}),a.jsx(rr,{value:"enviar",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Enviar Notificacin"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enva notificaciones inmediatas o programadas a tus clientes."})]}),a.jsx(He,{className:"space-y-6",children:a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"template-select","data-testid":"label-template-select",children:"Plantilla"}),a.jsxs("select",{id:"template-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-template",value:u,onChange:U=>d(U.target.value),children:[a.jsx("option",{value:"",children:"Selecciona una plantilla"}),b?.map(U=>a.jsx("option",{value:U.id,"data-testid":`option-template-${U.id}`,children:U.nombre},U.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{"data-testid":"label-recipients",children:"Destinatarios"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",id:"all-clients",name:"recipients",value:"all",checked:f==="all",onChange:U=>m(U.target.value),"data-testid":"radio-recipients-all"}),a.jsx(_e,{htmlFor:"all-clients",className:"font-normal cursor-pointer",children:"Todos los clientes activos"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",id:"autonomos",name:"recipients",value:"AUTONOMO",checked:f==="AUTONOMO",onChange:U=>m(U.target.value),"data-testid":"radio-recipients-autonomo"}),a.jsx(_e,{htmlFor:"autonomos",className:"font-normal cursor-pointer",children:"Solo autnomos"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",id:"empresas",name:"recipients",value:"EMPRESA",checked:f==="EMPRESA",onChange:U=>m(U.target.value),"data-testid":"radio-recipients-empresa"}),a.jsx(_e,{htmlFor:"empresas",className:"font-normal cursor-pointer",children:"Solo empresas"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"smtp-select","data-testid":"label-smtp-select",children:"Cuenta SMTP"}),a.jsxs("select",{id:"smtp-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-smtp",value:h,onChange:U=>y(U.target.value),children:[a.jsx("option",{value:"",children:"Usar cuenta predeterminada"}),E?.map(U=>a.jsxs("option",{value:U.id,"data-testid":`option-smtp-${U.id}`,children:[U.nombre," ",U.isPredeterminada?"(Predeterminada)":""]},U.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{"data-testid":"label-preview",children:"Vista Previa"}),a.jsx("div",{className:"border rounded-md p-4 bg-muted/50 min-h-[200px]","data-testid":"div-preview",children:u?a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:b?.find(U=>String(U.id)===u)?.contenidoHTML?.replace(/{nombre_cliente}/g,'<strong class="text-primary">Cliente Ejemplo</strong>')?.replace(/{email_cliente}/g,'<strong class="text-primary">ejemplo@email.com</strong>')?.replace(/{fecha_vencimiento}/g,'<strong class="text-primary">31/12/2025</strong>')||'<p class="text-sm text-muted-foreground">No se encontr la plantilla</p>'}})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona una plantilla para ver la vista previa"})})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"schedule-send","data-testid":"checkbox-schedule",checked:v,onChange:U=>x(U.target.checked)}),a.jsx(_e,{htmlFor:"schedule-send",className:"font-normal cursor-pointer",children:"Programar envo"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ge,{variant:"default","data-testid":"button-send-notification",disabled:!u||R.isPending,onClick:q,children:[a.jsx(Yh,{className:"h-4 w-4 mr-2"}),R.isPending?"Enviando...":v?"Programar Envo":"Enviar Ahora"]}),a.jsx(ge,{variant:"outline","data-testid":"button-cancel-send",onClick:()=>{d(""),m("all"),y(""),x(!1)},children:"Cancelar"})]})]})]})})]})}),a.jsx(rr,{value:"historial",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Historial de Notificaciones"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Consulta todas las notificaciones enviadas y su estado."})]}),a.jsxs(He,{children:[a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Fe,{placeholder:"Buscar por destinatario...","data-testid":"input-search-history"})}),a.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2","data-testid":"select-status-filter",children:[a.jsx("option",{value:"",children:"Todos los estados"}),a.jsx("option",{value:"ENVIADO",children:"Enviado"}),a.jsx("option",{value:"ERROR",children:"Error"}),a.jsx("option",{value:"PENDIENTE",children:"Pendiente"})]})]}),a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Fecha"}),a.jsx(Et,{children:"Plantilla"}),a.jsx(Et,{children:"Destinatario"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Cuenta SMTP"})]})}),a.jsx(co,{children:C?a.jsx(er,{children:a.jsx(yt,{colSpan:5,className:"text-center py-8",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):_?.length>0?_.map(U=>a.jsxs(er,{"data-testid":`row-history-${U.id}`,children:[a.jsx(yt,{"data-testid":`text-history-date-${U.id}`,children:new Date(U.fechaEnvio).toLocaleDateString("es-ES")}),a.jsx(yt,{"data-testid":`text-history-template-${U.id}`,children:U.template?.nombre||"N/A"}),a.jsx(yt,{"data-testid":`text-history-recipients-${U.id}`,children:U.destinatarios==="all"?"Todos":U.destinatarios}),a.jsx(yt,{"data-testid":`text-history-status-${U.id}`,children:a.jsx(it,{variant:U.estado==="ENVIADO"?"default":"destructive",children:U.estado})}),a.jsx(yt,{"data-testid":`text-history-smtp-${U.id}`,children:U.smtpAccount?.nombre||"Predeterminada"})]},U.id)):a.jsx(er,{children:a.jsx(yt,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-history",children:"No hay notificaciones en el historial"})})})]})]})]})}),a.jsx(rr,{value:"programadas",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Notificaciones Programadas"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona y consulta las notificaciones que estn programadas para envo futuro."})]}),a.jsx(He,{children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Fecha Programada"}),a.jsx(Et,{children:"Plantilla"}),a.jsx(Et,{children:"Destinatarios"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Acciones"})]})}),a.jsx(co,{children:M?a.jsx(er,{children:a.jsx(yt,{colSpan:5,className:"text-center py-8",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):O?.length>0?O.map(U=>a.jsxs(er,{"data-testid":`row-scheduled-${U.id}`,children:[a.jsx(yt,{"data-testid":`text-scheduled-date-${U.id}`,children:new Date(U.fechaProgramada).toLocaleDateString("es-ES")}),a.jsx(yt,{"data-testid":`text-scheduled-template-${U.id}`,children:U.template?.nombre||"N/A"}),a.jsx(yt,{"data-testid":`text-scheduled-recipients-${U.id}`,children:U.destinatariosSeleccionados==="all"?"Todos":U.destinatariosSeleccionados}),a.jsx(yt,{"data-testid":`text-scheduled-status-${U.id}`,children:a.jsx(it,{variant:"secondary",children:U.estado})}),a.jsx(yt,{"data-testid":`div-scheduled-actions-${U.id}`,children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{size:"sm",variant:"outline","data-testid":`button-edit-scheduled-${U.id}`,children:a.jsx(Sc,{className:"h-3 w-3"})}),a.jsx(ge,{size:"sm",variant:"outline","data-testid":`button-cancel-scheduled-${U.id}`,children:a.jsx(na,{className:"h-3 w-3"})})]})})]},U.id)):a.jsx(er,{children:a.jsx(yt,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-scheduled",children:"No hay notificaciones programadas"})})})]})})]})})]})]})}const HYe=[{type:"PYME",icon:pfe,title:"PYME",description:"Presupuesto para empresas (Contabilidad, nminas, facturacin)",color:"bg-blue-50 hover:bg-blue-100 border-blue-200",iconColor:"text-blue-600"},{type:"AUTONOMO",icon:mi,title:"Autnomo",description:"Presupuesto para trabajadores autnomos (Facturas, tributacin)",color:"bg-green-50 hover:bg-green-100 border-green-200",iconColor:"text-green-600"},{type:"RENTA",icon:qfe,title:"Renta",description:"Declaracin de la Renta (IRPF, inmuebles, ganancias)",color:"bg-amber-50 hover:bg-amber-100 border-amber-200",iconColor:"text-amber-600"},{type:"HERENCIAS",icon:UG,title:"Herencias",description:"Gestin de herencias (Herederos, fincas, vehculos, plusvalas)",color:"bg-purple-50 hover:bg-purple-100 border-purple-200",iconColor:"text-purple-600"}];function VYe({onSelectType:t}){return a.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Nuevo Presupuesto"}),a.jsx("p",{className:"text-muted-foreground",children:"Selecciona el tipo de presupuesto que deseas crear"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:HYe.map(e=>{const n=e.icon;return a.jsxs(Ue,{className:`cursor-pointer transition-all ${e.color} border-2 hover:shadow-lg`,onClick:()=>t(e.type),children:[a.jsx(lt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg bg-white shadow-sm",children:a.jsx(n,{className:`h-8 w-8 ${e.iconColor}`})}),a.jsx("div",{children:a.jsx(ut,{className:"text-xl",children:e.title})})]})}),a.jsx(He,{children:a.jsx(vr,{className:"text-base",children:e.description})})]},e.type)})})]})}function WYe({onSubmit:t,onCancel:e}){const[n,r]=w.useState("LA_LLAVE"),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,h]=w.useState(""),[y,v]=w.useState(0),[x,b]=w.useState(0),[S,E]=w.useState(0),[_,C]=w.useState(!1),[O,M]=w.useState(!1),[A,P]=w.useState(!1),[F,R]=w.useState(!1),[$,q]=w.useState("TRIMESTRAL"),[z,G]=w.useState(!1),X=U=>{U.preventDefault(),t({asientosMes:y,nominasMes:x,facturacion:S,irpfAlquileres:_,ivaIntracomunitario:O,notificaciones:A,estadisticasINE:F,periodo:$,emprendedor:z},{clientName:i,clientNif:o,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return a.jsxs("form",{onSubmit:X,className:"space-y-6",children:[a.jsxs(Ue,{className:"border-2 border-primary/20 bg-primary/5",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),a.jsx(He,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),a.jsxs(_n,{value:n,onValueChange:U=>r(U),children:[a.jsx(Sn,{id:"companyBrand",children:a.jsx(Cn,{placeholder:"Selecciona empresa"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"LA_LLAVE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),a.jsx(Qe,{value:"GESTORIA_ONLINE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Gestora Online"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Datos del Cliente"})}),a.jsx(He,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientName",children:"Nombre / Razn Social *"}),a.jsx(Fe,{id:"clientName",required:!0,value:i,onChange:U=>s(U.target.value),placeholder:"Empresa SL"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientNif",children:"NIF / CIF *"}),a.jsx(Fe,{id:"clientNif",required:!0,value:o,onChange:U=>l(U.target.value),placeholder:"B12345678"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientPhone",children:"Telfono"}),a.jsx(Fe,{id:"clientPhone",value:d,onChange:U=>f(U.target.value),placeholder:"600123456"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientEmail",children:"Email"}),a.jsx(Fe,{id:"clientEmail",type:"email",value:c,onChange:U=>u(U.target.value),placeholder:"cliente@ejemplo.com"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientAddress",children:"Direccin Completa"}),a.jsx(Fe,{id:"clientAddress",value:m,onChange:U=>h(U.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Caractersticas de la PYME"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"asientosMes",children:"Nivel Contable (Asientos/mes) *"}),a.jsxs(_n,{value:y.toString(),onValueChange:U=>v(Number(U)),required:!0,children:[a.jsx(Sn,{id:"asientosMes",children:a.jsx(Cn,{placeholder:"Selecciona nivel"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"0",children:"0 asientos (120 /mes)"}),a.jsx(Qe,{value:"1",children:"1-25 asientos (150 /mes)"}),a.jsx(Qe,{value:"2",children:"26-50 asientos (200 /mes)"}),a.jsx(Qe,{value:"3",children:"51-100 asientos (250 /mes)"}),a.jsx(Qe,{value:"4",children:"101-150 asientos (300 /mes)"}),a.jsx(Qe,{value:"5",children:"151-200 asientos (350 /mes)"}),a.jsx(Qe,{value:"6",children:"201-250 asientos (400 /mes)"}),a.jsx(Qe,{value:"7",children:"251-350 asientos (475 /mes)"}),a.jsx(Qe,{value:"8",children:">350 asientos (525 /mes)"})]})]})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"nominasMes",children:"Nminas al mes"}),a.jsx(Fe,{id:"nominasMes",type:"number",min:"0",value:x,onChange:U=>b(Number(U.target.value)),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"facturacion",children:"Facturacin anual ()"}),a.jsx(Fe,{id:"facturacion",type:"number",min:"0",step:"1000",value:S,onChange:U=>E(Number(U.target.value)),placeholder:"100000"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"periodo",children:"Periodo de Liquidacin"}),a.jsxs(_n,{value:$,onValueChange:U=>q(U),children:[a.jsx(Sn,{id:"periodo",children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"TRIMESTRAL",children:"Trimestral"}),a.jsx(Qe,{value:"MENSUAL",children:"Mensual"})]})]})]})]}),a.jsx(Ls,{className:"my-4"}),a.jsxs("div",{children:[a.jsx(_e,{className:"text-base font-semibold mb-3 block",children:"Servicios Adicionales"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"irpfAlquileres",checked:_,onCheckedChange:U=>C(!!U)}),a.jsx("label",{htmlFor:"irpfAlquileres",className:"text-sm cursor-pointer",children:"IRPF Alquileres (+10 )"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"ivaIntracomunitario",checked:O,onCheckedChange:U=>M(!!U)}),a.jsx("label",{htmlFor:"ivaIntracomunitario",className:"text-sm cursor-pointer",children:"IVA Intracomunitario (+10 )"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"notificaciones",checked:A,onCheckedChange:U=>P(!!U)}),a.jsx("label",{htmlFor:"notificaciones",className:"text-sm cursor-pointer",children:"Notificaciones AEAT (+5 )"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"estadisticasINE",checked:F,onCheckedChange:U=>R(!!U)}),a.jsx("label",{htmlFor:"estadisticasINE",className:"text-sm cursor-pointer",children:"Estadsticas INE (+5 )"})]})]})]}),a.jsx(Ls,{className:"my-4"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"emprendedor",checked:z,onCheckedChange:U=>G(!!U)}),a.jsx("label",{htmlFor:"emprendedor",className:"text-sm font-medium cursor-pointer",children:"Emprendedor (Descuento 20%)"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsxs(ge,{type:"button",variant:"outline",onClick:e,children:[a.jsx(kc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(ge,{type:"submit",children:[a.jsx(b1,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function KYe({onSubmit:t,onCancel:e}){const[n,r]=w.useState("LA_LLAVE"),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,h]=w.useState(""),[y,v]=w.useState(25),[x,b]=w.useState(0),[S,E]=w.useState(0),[_,C]=w.useState(!1),[O,M]=w.useState(!1),[A,P]=w.useState(!1),[F,R]=w.useState(!1),[$,q]=w.useState("TRIMESTRAL"),[z,G]=w.useState("NORMAL"),[X,U]=w.useState(!1),W=Y=>{Y.preventDefault(),t({facturasMes:y,nominasMes:x,facturacion:S,irpfAlquileres:_,ivaIntracomunitario:O,notificaciones:A,estadisticasINE:F,periodo:$,sistemaTributacion:z,emprendedor:X},{clientName:i,clientNif:o,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return a.jsxs("form",{onSubmit:W,className:"space-y-6",children:[a.jsxs(Ue,{className:"border-2 border-primary/20 bg-primary/5",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),a.jsx(He,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),a.jsxs(_n,{value:n,onValueChange:Y=>r(Y),children:[a.jsx(Sn,{id:"companyBrand",children:a.jsx(Cn,{placeholder:"Selecciona empresa"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"LA_LLAVE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),a.jsx(Qe,{value:"GESTORIA_ONLINE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Gestora Online"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Datos del Cliente"})}),a.jsx(He,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientName",children:"Nombre Completo *"}),a.jsx(Fe,{id:"clientName",required:!0,value:i,onChange:Y=>s(Y.target.value),placeholder:"Juan Prez"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientNif",children:"NIF / DNI *"}),a.jsx(Fe,{id:"clientNif",required:!0,value:o,onChange:Y=>l(Y.target.value),placeholder:"12345678A"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientPhone",children:"Telfono"}),a.jsx(Fe,{id:"clientPhone",value:d,onChange:Y=>f(Y.target.value),placeholder:"600123456"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientEmail",children:"Email"}),a.jsx(Fe,{id:"clientEmail",type:"email",value:c,onChange:Y=>u(Y.target.value),placeholder:"cliente@ejemplo.com"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientAddress",children:"Direccin Completa"}),a.jsx(Fe,{id:"clientAddress",value:m,onChange:Y=>h(Y.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Caractersticas del Autnomo"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"facturasMes",children:"Facturas al mes *"}),a.jsxs(_n,{value:y.toString(),onValueChange:Y=>v(Number(Y)),required:!0,children:[a.jsx(Sn,{id:"facturasMes",children:a.jsx(Cn,{placeholder:"Selecciona rango"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"25",children:"Hasta 25 facturas (45 /mes)"}),a.jsx(Qe,{value:"50",children:"26-50 facturas (70 /mes)"}),a.jsx(Qe,{value:"100",children:"51-100 facturas (90 /mes)"}),a.jsx(Qe,{value:"150",children:"101-150 facturas (105 /mes)"}),a.jsx(Qe,{value:"200",children:">150 facturas (125 /mes)"})]})]})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"nominasMes",children:"Nminas al mes"}),a.jsx(Fe,{id:"nominasMes",type:"number",min:"0",value:x,onChange:Y=>b(Number(Y.target.value)),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"facturacion",children:"Facturacin anual ()"}),a.jsx(Fe,{id:"facturacion",type:"number",min:"0",step:"1000",value:S,onChange:Y=>E(Number(Y.target.value)),placeholder:"50000"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"periodo",children:"Periodo de Liquidacin"}),a.jsxs(_n,{value:$,onValueChange:Y=>q(Y),children:[a.jsx(Sn,{id:"periodo",children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"TRIMESTRAL",children:"Trimestral"}),a.jsx(Qe,{value:"MENSUAL",children:"Mensual"})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"sistemaTributacion",children:"Sistema de Tributacin"}),a.jsxs(_n,{value:z,onValueChange:Y=>G(Y),children:[a.jsx(Sn,{id:"sistemaTributacion",children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"NORMAL",children:"Normal"}),a.jsx(Qe,{value:"ESN",children:"Estimacin Simplificada (ESN) +10%"}),a.jsx(Qe,{value:"MODULOS",children:"Mdulos -10%"})]})]})]})]}),a.jsx(Ls,{className:"my-4"}),a.jsxs("div",{children:[a.jsx(_e,{className:"text-base font-semibold mb-3 block",children:"Servicios Adicionales"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"irpfAlquileres",checked:_,onCheckedChange:Y=>C(!!Y)}),a.jsx("label",{htmlFor:"irpfAlquileres",className:"text-sm cursor-pointer",children:"IRPF Alquileres (+10 )"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"ivaIntracomunitario",checked:O,onCheckedChange:Y=>M(!!Y)}),a.jsx("label",{htmlFor:"ivaIntracomunitario",className:"text-sm cursor-pointer",children:"IVA Intracomunitario (+10 )"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"notificaciones",checked:A,onCheckedChange:Y=>P(!!Y)}),a.jsx("label",{htmlFor:"notificaciones",className:"text-sm cursor-pointer",children:"Notificaciones AEAT (+5 )"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"estadisticasINE",checked:F,onCheckedChange:Y=>R(!!Y)}),a.jsx("label",{htmlFor:"estadisticasINE",className:"text-sm cursor-pointer",children:"Estadsticas INE (+5 )"})]})]})]}),a.jsx(Ls,{className:"my-4"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"emprendedor",checked:X,onCheckedChange:Y=>U(!!Y)}),a.jsx("label",{htmlFor:"emprendedor",className:"text-sm font-medium cursor-pointer",children:"Emprendedor (Descuento 20%)"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsxs(ge,{type:"button",variant:"outline",onClick:e,children:[a.jsx(kc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(ge,{type:"submit",children:[a.jsx(b1,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function GYe({onSubmit:t,onCancel:e}){const[n,r]=w.useState("LA_LLAVE"),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,h]=w.useState(""),[y,v]=w.useState("OTROS"),[x,b]=w.useState(!1),[S,E]=w.useState(0),[_,C]=w.useState(0),[O,M]=w.useState(0),[A,P]=w.useState(0),F=R=>{R.preventDefault(),t({unidadFamiliar:y,autonomo:x,inmueblesAlquilados:S,ventaInmuebles:_,ventaFinancieros:O,otrasGanancias:A},{clientName:i,clientNif:o,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs(Ue,{className:"border-2 border-primary/20 bg-primary/5",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),a.jsx(He,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),a.jsxs(_n,{value:n,onValueChange:R=>r(R),children:[a.jsx(Sn,{id:"companyBrand",children:a.jsx(Cn,{placeholder:"Selecciona empresa"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"LA_LLAVE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),a.jsx(Qe,{value:"GESTORIA_ONLINE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Gestora Online"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Datos del Cliente"})}),a.jsx(He,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientName",children:"Nombre Completo *"}),a.jsx(Fe,{id:"clientName",required:!0,value:i,onChange:R=>s(R.target.value),placeholder:"Juan Prez"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientNif",children:"NIF / DNI *"}),a.jsx(Fe,{id:"clientNif",required:!0,value:o,onChange:R=>l(R.target.value),placeholder:"12345678A"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientPhone",children:"Telfono"}),a.jsx(Fe,{id:"clientPhone",value:d,onChange:R=>f(R.target.value),placeholder:"600123456"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientEmail",children:"Email"}),a.jsx(Fe,{id:"clientEmail",type:"email",value:c,onChange:R=>u(R.target.value),placeholder:"cliente@ejemplo.com"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientAddress",children:"Direccin Completa"}),a.jsx(Fe,{id:"clientAddress",value:m,onChange:R=>h(R.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Declaracin de la Renta (IRPF)"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"unidadFamiliar",children:"Unidad Familiar *"}),a.jsxs(_n,{value:y,onValueChange:R=>v(R),required:!0,children:[a.jsx(Sn,{id:"unidadFamiliar",children:a.jsx(Cn,{placeholder:"Selecciona tipo"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"OTROS",children:"Individual u otros (40 )"}),a.jsx(Qe,{value:"MATRIMONIO",children:"Matrimonio (50 )"}),a.jsx(Qe,{value:"MATRIMONIO_HIJOS",children:"Matrimonio con hijos (50 )"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"autonomo",checked:x,onCheckedChange:R=>b(!!R)}),a.jsx("label",{htmlFor:"autonomo",className:"text-sm cursor-pointer",children:"Actividad Econmica (Autnomo) +20 "})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx(_e,{className:"text-base font-semibold mb-3 block",children:"Ganancias Patrimoniales (cantidad de operaciones)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"inmueblesAlquilados",children:"Inmuebles alquilados"}),a.jsx(Fe,{id:"inmueblesAlquilados",type:"number",min:"0",value:S,onChange:R=>E(Number(R.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"15  por inmueble"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"ventaInmuebles",children:"Venta de inmuebles"}),a.jsx(Fe,{id:"ventaInmuebles",type:"number",min:"0",value:_,onChange:R=>C(Number(R.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por venta"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"ventaFinancieros",children:"Venta de acciones/productos financieros"}),a.jsx(Fe,{id:"ventaFinancieros",type:"number",min:"0",value:O,onChange:R=>M(Number(R.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por operacin"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"otrasGanancias",children:"Otras ganancias patrimoniales"}),a.jsx(Fe,{id:"otrasGanancias",type:"number",min:"0",value:A,onChange:R=>P(Number(R.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por operacin"})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsxs(ge,{type:"button",variant:"outline",onClick:e,children:[a.jsx(kc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(ge,{type:"submit",children:[a.jsx(b1,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function YYe({onSubmit:t,onCancel:e}){const[n,r]=w.useState("LA_LLAVE"),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,h]=w.useState(""),[y,v]=w.useState(2e4),[x,b]=w.useState(1),[S,E]=w.useState(0),[_,C]=w.useState(0),[O,M]=w.useState(0),[A,P]=w.useState(0),[F,R]=w.useState(!1),[$,q]=w.useState(!1),[z,G]=w.useState(!1),[X,U]=w.useState(!1),W=Y=>{if(Y.preventDefault(),y<2e4){alert("El caudal hereditario mnimo es de 20.000");return}if(!(S>0||_>0||O>0||A>0)){alert("Debe haber al menos un inmueble, producto financiero o vehculo");return}t({caudalHereditario:y,herederos:x,fincasComunidad:S,fincasOtras:_,productosFinancieros:O,vehiculos:A,sinTestamento:F,sinAcuerdo:$,escriturar:z,aplicarDescuento15:X},{clientName:i,clientNif:o,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return a.jsxs("form",{onSubmit:W,className:"space-y-6",children:[a.jsxs(Ue,{className:"border-2 border-primary/20 bg-primary/5",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),a.jsx(He,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),a.jsxs(_n,{value:n,onValueChange:Y=>r(Y),children:[a.jsx(Sn,{id:"companyBrand",children:a.jsx(Cn,{placeholder:"Selecciona empresa"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"LA_LLAVE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),a.jsx(Qe,{value:"GESTORIA_ONLINE",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold",children:"Gestora Online"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Datos del Cliente"})}),a.jsx(He,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientName",children:"Nombre Completo *"}),a.jsx(Fe,{id:"clientName",required:!0,value:i,onChange:Y=>s(Y.target.value),placeholder:"Juan Prez"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientNif",children:"NIF / DNI *"}),a.jsx(Fe,{id:"clientNif",required:!0,value:o,onChange:Y=>l(Y.target.value),placeholder:"12345678A"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientPhone",children:"Telfono"}),a.jsx(Fe,{id:"clientPhone",value:d,onChange:Y=>f(Y.target.value),placeholder:"600123456"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientEmail",children:"Email"}),a.jsx(Fe,{id:"clientEmail",type:"email",value:c,onChange:Y=>u(Y.target.value),placeholder:"cliente@ejemplo.com"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientAddress",children:"Direccin Completa"}),a.jsx(Fe,{id:"clientAddress",value:m,onChange:Y=>h(Y.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Gestin de Herencia"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs(ep,{children:[a.jsx(fo,{className:"h-4 w-4"}),a.jsx(tp,{children:"Caudal hereditario mnimo: 20.000 . Debe haber al menos un inmueble, producto financiero o vehculo."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"caudalHereditario",children:"Caudal Hereditario () *"}),a.jsx(Fe,{id:"caudalHereditario",type:"number",min:"20000",step:"1000",required:!0,value:y,onChange:Y=>v(Number(Y.target.value)),placeholder:"20000"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recargo 0.1% del caudal"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"herederos",children:"Nmero de herederos"}),a.jsx(Fe,{id:"herederos",type:"number",min:"1",value:x,onChange:Y=>b(Number(Y.target.value)),placeholder:"1"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"25  por heredero"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"fincasComunidad",children:"Fincas en la Comunidad Autnoma"}),a.jsx(Fe,{id:"fincasComunidad",type:"number",min:"0",value:S,onChange:Y=>E(Number(Y.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"25  + 50  plusvala + 50  registro"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"fincasOtras",children:"Fincas en otras CCAA"}),a.jsx(Fe,{id:"fincasOtras",type:"number",min:"0",value:_,onChange:Y=>C(Number(Y.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"40  + 50  plusvala + 50  registro"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"productosFinancieros",children:"Productos financieros"}),a.jsx(Fe,{id:"productosFinancieros",type:"number",min:"0",value:O,onChange:Y=>M(Number(Y.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por producto"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"vehiculos",children:"Vehculos"}),a.jsx(Fe,{id:"vehiculos",type:"number",min:"0",value:A,onChange:Y=>P(Number(Y.target.value)),placeholder:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"30  por vehculo"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx(_e,{className:"text-base font-semibold mb-3 block",children:"Recargos"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"sinTestamento",checked:F,onCheckedChange:Y=>R(!!Y)}),a.jsx("label",{htmlFor:"sinTestamento",className:"text-sm cursor-pointer",children:"Sin testamento (+30% sobre base)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"sinAcuerdo",checked:$,onCheckedChange:Y=>q(!!Y)}),a.jsx("label",{htmlFor:"sinAcuerdo",className:"text-sm cursor-pointer",children:"Sin acuerdo entre herederos (+60% sobre base)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"escriturar",checked:z,onCheckedChange:Y=>G(!!Y)}),a.jsx("label",{htmlFor:"escriturar",className:"text-sm cursor-pointer",children:"Escrituracin de herencia (+30% sobre base)"})]})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"aplicarDescuento15",checked:X,onCheckedChange:Y=>U(!!Y)}),a.jsx("label",{htmlFor:"aplicarDescuento15",className:"text-sm font-medium cursor-pointer",children:"Aplicar descuento comercial (15%)"})]})})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsxs(ge,{type:"button",variant:"outline",onClick:e,children:[a.jsx(kc,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(ge,{type:"submit",children:[a.jsx(b1,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function XYe(){const{toast:t}=Ir(),[,e]=ll(),[n,r]=w.useState("type-selector"),[i,s]=w.useState(null),[o,l]=w.useState(!1),c=f=>{s(f),r("form")},u=()=>{n==="form"?(r("type-selector"),s(null)):e("/documentacion/presupuestos")},d=async(f,m)=>{if(i){l(!0);try{const h={type:i,inputs:f,...m},y=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(h)});if(!y.ok){const x=await y.json();throw new Error(x.error||"Error al crear presupuesto")}const v=await y.json();t({title:"Presupuesto creado",description:`Cdigo: ${v.code}`}),e("/documentacion/presupuestos")}catch(h){t({title:"Error",description:h.message,variant:"destructive"})}finally{l(!1)}}};return n==="type-selector"?a.jsx(VYe,{onSelectType:c}):a.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[a.jsx("div",{className:"mb-6",children:a.jsx("button",{onClick:u,className:"text-sm text-muted-foreground hover:text-foreground",children:" Volver a seleccin de tipo"})}),i==="PYME"&&a.jsx(WYe,{onSubmit:d,onCancel:u}),i==="AUTONOMO"&&a.jsx(KYe,{onSubmit:d,onCancel:u}),i==="RENTA"&&a.jsx(GYe,{onSubmit:d,onCancel:u}),i==="HERENCIAS"&&a.jsx(YYe,{onSubmit:d,onCancel:u})]})}function SK(){const[t,e]=GE("/documentacion/presupuestos/:id"),{toast:n}=Ir(),[r,i]=w.useState(!1),s=e?.id,o=()=>{if(!s)return;const h=localStorage.getItem("token")||document.cookie.split("; ").find(y=>y.startsWith("token="))?.split("=")[1];if(!h){n({variant:"destructive",title:"Error",description:"No se encontr el token de autenticacin"});return}window.open(`/api/budgets/${s}/pdf?token=${encodeURIComponent(h)}`,"_blank")},{data:l,isLoading:c,error:u}=Wt({queryKey:["/api/budgets",s],queryFn:async()=>{if(!s)throw new Error("ID no proporcionado");const h=await fetch(`/api/budgets/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!h.ok)throw new Error("No se pudo cargar el presupuesto");return h.json()},enabled:!!s,staleTime:3e4}),d=Xt({mutationFn:async()=>{if(!s)throw new Error("ID no proporcionado");return tn("POST",`/api/budgets/${s}/send`,{})},onSuccess:()=>{n({title:"Enviado",description:"El presupuesto se ha enviado por email"}),sn.invalidateQueries({queryKey:["/api/budgets",s]})},onError:h=>{n({title:"Error",description:h?.message||"No se pudo enviar",variant:"destructive"})}});if(!t||!s)return a.jsx("div",{className:"p-8",children:a.jsx(Ue,{children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx(fo,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Presupuesto no encontrado"}),a.jsx(pu,{href:"/documentacion/presupuestos",children:a.jsx(ge,{className:"mt-4",variant:"outline",children:"Volver a la lista"})})]})})});const f=h=>{const y=h.toUpperCase();return y==="ACCEPTED"?a.jsxs(it,{className:"bg-emerald-100 text-emerald-700",children:[a.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Aceptado"]}):y==="SENT"?a.jsxs(it,{className:"bg-blue-100 text-blue-700",children:[a.jsx(SN,{className:"h-3 w-3 mr-1"}),"Enviado"]}):y==="ARCHIVED"?a.jsx(it,{variant:"secondary",children:"Archivado"}):a.jsxs(it,{className:"bg-amber-100 text-amber-700",children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),"Borrador"]})},m=(h,y)=>{if(!h||y==="ACCEPTED"||y==="ARCHIVED")return null;const v=new Date,x=new Date(h),b=Math.ceil((x.getTime()-v.getTime())/(1e3*60*60*24));return b<0?{text:"Vencido",variant:"destructive"}:b<=3?{text:`Vence en ${b} das`,variant:"destructive"}:b<=7?{text:`Vence en ${b} das`,variant:"default"}:{text:`Vlido hasta ${x.toLocaleDateString()}`,variant:"outline"}};return a.jsx("div",{className:"p-8 space-y-6",children:c?a.jsxs("div",{className:"space-y-6",children:[a.jsx(Kn,{className:"h-32 w-full"}),a.jsx(Kn,{className:"h-64 w-full"}),a.jsx(Kn,{className:"h-48 w-full"})]}):u||!l?a.jsx(Ue,{children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx(fo,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),a.jsx("p",{className:"text-lg font-semibold mb-2",children:"Error al cargar"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No se pudo obtener la informacin del presupuesto"}),a.jsx(pu,{href:"/documentacion/presupuestos",children:a.jsx(ge,{variant:"outline",children:"Volver a la lista"})})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(pu,{href:"/documentacion/presupuestos",children:a.jsxs(ge,{variant:"ghost",size:"sm",children:[a.jsx(By,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),a.jsxs("h1",{className:"text-3xl font-display font-bold",children:["Presupuesto ",l.code]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Serie ",l.series,"  N ",l.number,"/",l.year]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[f(l.status),m(l.expiresAt,l.status)&&a.jsxs(it,{variant:m(l.expiresAt,l.status).variant,children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),m(l.expiresAt,l.status).text]})]})]}),a.jsx(Ue,{children:a.jsx(He,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ge,{onClick:()=>d.mutate(),disabled:d.isPending||l.status==="ACCEPTED",children:[a.jsx(SN,{className:"h-4 w-4 mr-2"}),d.isPending?"Enviando...":"Enviar por Email"]}),a.jsxs(ge,{variant:"outline",onClick:o,children:[a.jsx(ia,{className:"h-4 w-4 mr-2"}),"Descargar PDF"]}),a.jsx(pu,{href:`/documentacion/presupuestos/${l.id}/editar`,children:a.jsxs(ge,{variant:"outline",children:[a.jsx(Sc,{className:"h-4 w-4 mr-2"}),"Editar"]})})]})})}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Informacin del Cliente"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(N1,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre / Razn Social"}),a.jsx("p",{className:"font-semibold",children:l.clientName})]})]}),l.clientEmail&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Yh,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-semibold",children:l.clientEmail})]})]}),l.clientPhone&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Bfe,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telfono"}),a.jsx("p",{className:"font-semibold",children:l.clientPhone})]})]}),l.activity&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(mfe,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actividad"}),a.jsx("p",{className:"font-semibold",children:l.activity})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de emisin"}),a.jsx("p",{className:"font-semibold",children:new Date(l.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vigencia"}),a.jsxs("p",{className:"font-semibold",children:[l.validDays," das"]})]}),l.expiresAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vence el"}),a.jsx("p",{className:"font-semibold",children:new Date(l.expiresAt).toLocaleDateString()})]})]}),l.acceptedAt&&a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs(it,{className:"bg-emerald-100 text-emerald-700 mb-2",children:[a.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Aceptado el ",new Date(l.acceptedAt).toLocaleString()]}),l.acceptedByIp&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["IP: ",l.acceptedByIp,"  ",l.acceptedByAgent||"N/A"]})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Lneas del Presupuesto"})}),a.jsx(He,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm font-medium text-muted-foreground pb-2 border-b",children:[a.jsx("div",{className:"col-span-5",children:"Concepto"}),a.jsx("div",{className:"col-span-2 text-center",children:"Cantidad"}),a.jsx("div",{className:"col-span-2 text-right",children:"Precio Unit."}),a.jsx("div",{className:"col-span-1 text-center",children:"IVA %"}),a.jsx("div",{className:"col-span-2 text-right",children:"Subtotal"})]}),l.items.map(h=>a.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm py-2 border-b",children:[a.jsx("div",{className:"col-span-5",children:h.concept}),a.jsx("div",{className:"col-span-2 text-center",children:h.quantity}),a.jsxs("div",{className:"col-span-2 text-right",children:[Number(h.price).toFixed(2)," "]}),a.jsxs("div",{className:"col-span-1 text-center",children:[h.vatPct,"%"]}),a.jsxs("div",{className:"col-span-2 text-right font-semibold",children:[Number(h.subtotal).toFixed(2)," "]})]},h.id))]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Totales"})}),a.jsxs(He,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal (Base Imponible):"}),a.jsxs("span",{className:"font-semibold",children:[Number(l.subtotal).toFixed(2)," "]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"IVA Total:"}),a.jsxs("span",{className:"font-semibold",children:[Number(l.vatTotal).toFixed(2)," "]})]}),a.jsx(Ls,{}),a.jsxs("div",{className:"flex justify-between text-xl",children:[a.jsx("span",{className:"font-bold",children:"TOTAL:"}),a.jsxs("span",{className:"font-bold text-primary",children:[Number(l.total).toFixed(2)," "]})]})]})]}),l.emails&&l.emails.length>0&&a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Historial de Envos"})}),a.jsx(He,{children:a.jsx("div",{className:"space-y-2",children:l.emails.map(h=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Yh,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:h.subject}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.recipientEmail,"  ",new Date(h.sentAt).toLocaleString()]})]})]}),a.jsx(it,{variant:h.status==="SENT"?"default":"destructive",children:h.status})]},h.id))})})]}),l.notes&&a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Notas Internas"})}),a.jsx(He,{children:a.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:l.notes})})]})]})})}function QYe(){const[t,e]=GE("/documentacion/presupuestos/:id/editar"),[,n]=ll(),{toast:r}=Ir(),i=e?.id,[s,o]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,m]=w.useState(""),[h,y]=w.useState(""),[v,x]=w.useState(30),[b,S]=w.useState(""),[E,_]=w.useState(""),[C,O]=w.useState([]),[M,A]=w.useState(!1),[P,F]=w.useState(""),{data:R,isLoading:$}=Wt({queryKey:["/api/budgets",i],queryFn:async()=>{if(!i)throw new Error("ID no proporcionado");const I=await fetch(`/api/budgets/${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!I.ok)throw new Error("No se pudo cargar el presupuesto");return I.json()},enabled:!!i});w.useEffect(()=>{if(R){o(R.clientName||""),c(R.clientNif||""),d(R.clientEmail||""),m(R.clientPhone||""),y(R.clientAddress||""),x(R.validityDays||30),S(R.paymentTerms||""),_(R.notes||"");const I=(R.items||[]).map(V=>({...V,quantity:Number(V.quantity),unitPrice:Number(V.unitPrice),vatPct:Number(V.vatPct),subtotal:Number(V.subtotal),total:Number(V.total)}));O(I),R.customTotal&&Number(R.customTotal)>0&&(A(!0),F(Number(R.customTotal).toString()))}},[R]);const q=Xt({mutationFn:async I=>{const V=await fetch(`/api/budgets/${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(I)});if(!V.ok)throw new Error("Error al actualizar el presupuesto");return V.json()},onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/budgets"]}),r({title:"Presupuesto actualizado",description:"Los cambios se han guardado correctamente"}),n(`/documentacion/presupuestos/${i}`)},onError:I=>{r({variant:"destructive",title:"Error",description:I.message||"No se pudo actualizar el presupuesto"})}}),z=()=>{let I=0,V=0;C.forEach(re=>{const fe=re.quantity*re.unitPrice,pe=fe*(re.vatPct/100);I+=fe,V+=pe});const J={clientName:s,clientNif:l||null,clientEmail:u||null,clientPhone:f||null,clientAddress:h||null,validityDays:v,paymentTerms:b||null,notes:E||null,items:C.map((re,fe)=>({concept:re.concept,category:re.category||null,position:fe+1,quantity:re.quantity,unitPrice:re.unitPrice,vatPct:re.vatPct,isManuallyEdited:re.isManuallyEdited||!0})),subtotal:I,vatTotal:V,total:I+V};M&&P?J.customTotal=parseFloat(P):J.customTotal=null,q.mutate(J)},G=(I,V,J)=>{const re=[...C];if(re[I]={...re[I],[V]:J},V==="quantity"||V==="unitPrice"||V==="vatPct"){const fe=V==="quantity"?parseFloat(J)||0:re[I].quantity,pe=V==="unitPrice"?parseFloat(J)||0:re[I].unitPrice,xe=V==="vatPct"?parseFloat(J)||0:re[I].vatPct,de=fe*pe,we=de*(1+xe/100);re[I].subtotal=de,re[I].total=we,re[I].isManuallyEdited=!0}O(re)},X=()=>{O([...C,{concept:"",position:C.length+1,quantity:1,unitPrice:0,vatPct:21,subtotal:0,total:0,isManuallyEdited:!0}])},U=I=>{O(C.filter((V,J)=>J!==I))};if($)return a.jsx("div",{className:"p-8",children:"Cargando..."});if(!R)return a.jsx("div",{className:"p-8",children:"Presupuesto no encontrado"});const W=C.reduce((I,V)=>I+V.quantity*V.unitPrice,0),Y=C.reduce((I,V)=>I+V.quantity*V.unitPrice*V.vatPct/100,0),ie=W+Y,Q=M&&P?parseFloat(P):ie;return a.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(pu,{href:`/documentacion/presupuestos/${i}`,children:a.jsxs(ge,{variant:"ghost",size:"sm",children:[a.jsx(By,{className:"h-4 w-4 mr-2"}),"Volver"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Editar Presupuesto"}),a.jsx("p",{className:"text-muted-foreground",children:R.code})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Informacin del Cliente"})}),a.jsx(He,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientName",children:"Nombre / Razn Social *"}),a.jsx(Fe,{id:"clientName",value:s,onChange:I=>o(I.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientNif",children:"NIF/CIF"}),a.jsx(Fe,{id:"clientNif",value:l,onChange:I=>c(I.target.value)})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientEmail",children:"Email"}),a.jsx(Fe,{id:"clientEmail",type:"email",value:u,onChange:I=>d(I.target.value)})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"clientPhone",children:"Telfono"}),a.jsx(Fe,{id:"clientPhone",value:f,onChange:I=>m(I.target.value)})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{htmlFor:"clientAddress",children:"Direccin"}),a.jsx(Fe,{id:"clientAddress",value:h,onChange:I=>y(I.target.value)})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(ut,{children:"Conceptos"}),a.jsxs(ge,{onClick:X,size:"sm",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Aadir Concepto"]})]})}),a.jsx(He,{children:a.jsx("div",{className:"space-y-4",children:C.map((I,V)=>a.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-6 gap-3",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(_e,{children:"Concepto"}),a.jsx(Fe,{value:I.concept,onChange:J=>G(V,"concept",J.target.value)})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Cantidad"}),a.jsx(Fe,{type:"number",step:"0.01",value:I.quantity,onChange:J=>G(V,"quantity",J.target.value)})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Precio Unit. ()"}),a.jsx(Fe,{type:"number",step:"0.01",value:I.unitPrice,onChange:J=>G(V,"unitPrice",J.target.value)})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"IVA (%)"}),a.jsx(Fe,{type:"number",step:"1",value:I.vatPct,onChange:J=>G(V,"vatPct",J.target.value)})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Total ()"}),a.jsx(Fe,{value:I.total.toFixed(2),disabled:!0,className:"bg-muted"})]})]}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>U(V),className:"ml-2",children:a.jsx(na,{className:"h-4 w-4 text-destructive"})})]})},V))})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Totales"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{children:"Subtotal"}),a.jsx(Fe,{value:`${W.toFixed(2)} `,disabled:!0,className:"bg-muted"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"IVA"}),a.jsx(Fe,{value:`${Y.toFixed(2)} `,disabled:!0,className:"bg-muted"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Total Calculado"}),a.jsx(Fe,{value:`${ie.toFixed(2)} `,disabled:!0,className:"bg-muted"})]})]}),a.jsx(Ls,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"useCustomTotal",checked:M,onCheckedChange:I=>A(I)}),a.jsx(_e,{htmlFor:"useCustomTotal",className:"cursor-pointer",children:"Usar total personalizado (edicin manual)"})]}),M&&a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"customTotal",children:"Total Personalizado ()"}),a.jsx(Fe,{id:"customTotal",type:"number",step:"0.01",value:P,onChange:I=>F(I.target.value),placeholder:"Ej: 1250.00"})]}),a.jsx("div",{className:"bg-primary/10 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold",children:"Total Final:"}),a.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Q.toFixed(2)," "]})]})})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Condiciones"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"validityDays",children:"Validez (das)"}),a.jsx(Fe,{id:"validityDays",type:"number",value:v,onChange:I=>x(parseInt(I.target.value)||30)})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"paymentTerms",children:"Forma de Pago"}),a.jsx(Fe,{id:"paymentTerms",value:b,onChange:I=>S(I.target.value),placeholder:"Ej: Transferencia bancaria"})]})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"notes",children:"Notas / Observaciones"}),a.jsx(vd,{id:"notes",value:E,onChange:I=>_(I.target.value),rows:4,placeholder:"Informacin adicional..."})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(pu,{href:`/documentacion/presupuestos/${i}`,children:a.jsx(ge,{variant:"outline",children:"Cancelar"})}),a.jsxs(ge,{onClick:z,disabled:q.isPending,children:[a.jsx(cg,{className:"h-4 w-4 mr-2"}),q.isPending?"Guardando...":"Guardar Cambios"]})]})]})]})}function JYe(){const[t,e]=GE("/public/budgets/:code/accept"),n=e?.code,i=new URLSearchParams(window.location.search).get("t"),[s,o]=w.useState(!1),[l,c]=w.useState(!1),{data:u,isLoading:d,error:f}=Wt({queryKey:["/public/budgets",n,i],queryFn:async()=>{if(!n||!i)throw new Error("Cdigo o token no proporcionado");const x=await fetch(`/public/budgets/${n}/accept?t=${i}`);if(!x.ok){const b=await x.json().catch(()=>({error:"Error al cargar"}));throw new Error(b.error||"No se pudo cargar el presupuesto")}return x.json()},enabled:!!n&&!!i,retry:!1}),m=Xt({mutationFn:async()=>{if(!n||!i)throw new Error("Cdigo o token no proporcionado");const x=await fetch(`/public/budgets/${n}/accept?t=${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accepted:!0})});if(!x.ok){const b=await x.json().catch(()=>({error:"Error al aceptar"}));throw new Error(b.error||"No se pudo aceptar el presupuesto")}return x.json()},onSuccess:()=>{o(!0)}}),h=()=>{if(!l){alert("Por favor, acepta los trminos y condiciones");return}m.mutate()},y=u?.expiresAt&&new Date(u.expiresAt)<new Date,v=u?.acceptedAt!==null;return!t||!n||!i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:a.jsx(Ue,{className:"max-w-md w-full",children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx(Nc,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Enlace invlido"}),a.jsx("p",{className:"text-muted-foreground",children:"El enlace que has utilizado no es vlido o ha expirado."})]})})}):d?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx(Kn,{className:"h-32 w-full"}),a.jsx(Kn,{className:"h-96 w-full"}),a.jsx(Kn,{className:"h-48 w-full"})]})}):f||!u?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:a.jsx(Ue,{className:"max-w-md w-full",children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx(fo,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),a.jsx("p",{className:"text-muted-foreground",children:f?.message||"No se pudo cargar el presupuesto"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"El enlace puede haber expirado o ser invlido."})]})})}):s||v?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-emerald-100 flex items-center justify-center p-4",children:a.jsx(Ue,{className:"max-w-md w-full",children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-20 h-20 rounded-full bg-emerald-100",children:a.jsx(Oo,{className:"h-12 w-12 text-emerald-600"})}),a.jsx("h1",{className:"text-3xl font-bold mb-3 text-emerald-900",children:"Presupuesto Aceptado!"}),a.jsxs("p",{className:"text-lg text-emerald-700 mb-6",children:["Hemos recibido tu aceptacin del presupuesto ",a.jsx("strong",{children:u.code})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total aceptado:"}),a.jsxs("p",{className:"text-3xl font-bold text-primary",children:[Number(u.total).toFixed(2)," "]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibirs un email de confirmacin en breve con los prximos pasos."}),v&&u.acceptedAt&&a.jsx("div",{className:"mt-6 p-3 bg-emerald-50 rounded-lg",children:a.jsxs("p",{className:"text-xs text-emerald-700",children:["Aceptado el ",new Date(u.acceptedAt).toLocaleString()]})})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsx(Ue,{children:a.jsxs(lt,{className:"text-center pb-8",children:[a.jsx("div",{className:"mb-4 inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mx-auto",children:a.jsx(mi,{className:"h-8 w-8 text-primary"})}),a.jsxs(ut,{className:"text-3xl font-bold mb-2",children:["Presupuesto ",u.code]}),a.jsx("p",{className:"text-muted-foreground",children:"Revisa los detalles y acepta el presupuesto si ests conforme"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[a.jsxs(it,{className:"bg-blue-100 text-blue-700",children:["Serie ",u.series]}),y?a.jsxs(it,{variant:"destructive",children:[a.jsx(Nc,{className:"h-3 w-3 mr-1"}),"Vencido"]}):a.jsxs(it,{variant:"outline",children:[a.jsx(mm,{className:"h-3 w-3 mr-1"}),"Vlido ",u.validDays," das"]})]})]})}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Informacin General"})}),a.jsx(He,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cliente"}),a.jsx("p",{className:"font-semibold",children:u.clientName})]}),u.clientEmail&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-semibold",children:u.clientEmail})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de emisin"}),a.jsx("p",{className:"font-semibold",children:new Date(u.date).toLocaleDateString()})]}),u.expiresAt&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vlido hasta"}),a.jsxs("p",{className:`font-semibold ${y?"text-destructive":""}`,children:[new Date(u.expiresAt).toLocaleDateString(),y&&" (Vencido)"]})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Detalle de Servicios"})}),a.jsx(He,{children:a.jsx("div",{className:"space-y-3",children:u.items.map((x,b)=>a.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 bg-slate-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold",children:x.concept}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.quantity,"  ",Number(x.price).toFixed(2),"  (IVA ",x.vatPct,"%)"]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-lg",children:[Number(x.subtotal).toFixed(2)," "]})})]},b))})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Resumen"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal (Base Imponible)"}),a.jsxs("span",{className:"font-semibold",children:[Number(u.subtotal).toFixed(2)," "]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"IVA Total"}),a.jsxs("span",{className:"font-semibold",children:[Number(u.vatTotal).toFixed(2)," "]})]}),a.jsx(Ls,{}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-bold",children:"TOTAL"}),a.jsxs("span",{className:"text-3xl font-bold text-primary",children:[Number(u.total).toFixed(2)," "]})]})]})]}),a.jsx(Ue,{children:a.jsx(He,{className:"p-4",children:a.jsxs(ge,{variant:"outline",className:"w-full",onClick:()=>window.open(`/public/budgets/${u.id}/pdf`,"_blank"),children:[a.jsx(ia,{className:"h-4 w-4 mr-2"}),"Descargar Presupuesto en PDF"]})})}),!y&&a.jsxs(Ue,{className:"border-2 border-primary",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(Oo,{className:"h-5 w-5 text-primary"}),"Aceptar Presupuesto"]})}),a.jsxs(He,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[a.jsx(cr,{id:"terms",checked:l,onCheckedChange:x=>c(x===!0)}),a.jsxs("label",{htmlFor:"terms",className:"text-sm cursor-pointer",children:[a.jsx("span",{className:"font-medium",children:"Acepto los trminos y condiciones"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"He revisado el presupuesto y acepto los servicios, precios y condiciones detalladas. Al aceptar, estoy confirmando mi conformidad con este presupuesto."})]})]}),a.jsx(ge,{size:"lg",className:"w-full",onClick:h,disabled:!l||m.isPending,children:m.isPending?a.jsx(a.Fragment,{children:"Procesando..."}):a.jsxs(a.Fragment,{children:[a.jsx(Oo,{className:"h-5 w-5 mr-2"}),"Confirmar Aceptacin del Presupuesto"]})}),m.error&&a.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:a.jsx("p",{className:"text-sm text-destructive font-medium",children:m.error.message})}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[a.jsx(mm,{className:"h-3 w-3 inline mr-1"}),"Conexin segura  Tu aceptacin quedar registrada con fecha y hora"]})]})]}),y&&a.jsx(Ue,{className:"border-2 border-destructive",children:a.jsxs(He,{className:"p-8 text-center",children:[a.jsx(Nc,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Presupuesto Vencido"}),a.jsxs("p",{className:"text-muted-foreground",children:["Este presupuesto venci el ",new Date(u.expiresAt).toLocaleDateString(),". Por favor, contacta con nosotros para renovarlo."]})]})}),a.jsx(Ue,{className:"bg-slate-100",children:a.jsxs(He,{className:"p-6 text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:" 2025 Asesora La Llave  Todos los derechos reservados"}),a.jsxs("p",{className:"mt-2",children:["Tienes dudas? Contacta con nosotros en ",a.jsx("a",{href:"mailto:info@asesorialallave.es",className:"text-primary underline",children:"info@asesorialallave.es"})]})]})})]})})}function ZYe(){const[,t]=ll();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Documentacin"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona presupuestos y documentos de tu negocio"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ue,{className:"hover:shadow-lg transition cursor-pointer",onClick:()=>t("/documentacion/presupuestos"),children:[a.jsx(lt,{children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(LG,{className:"w-5 h-5 text-blue-500"}),"Presupuestos"]}),a.jsx(vr,{className:"mt-2",children:"Crea, gestiona y parametriza presupuestos"})]})})}),a.jsxs(He,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:" Plantillas personalizables"}),a.jsx("p",{className:"text-sm text-gray-600",children:" Parmetros configurables"}),a.jsx("p",{className:"text-sm text-gray-600",children:" Historial completo"})]}),a.jsx(ge,{className:"w-full",children:"Ir a Presupuestos"})]})]}),a.jsxs(Ue,{className:"hover:shadow-lg transition cursor-pointer",onClick:()=>t("/documentacion/documentos"),children:[a.jsx(lt,{children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(mi,{className:"w-5 h-5 text-green-500"}),"Documentos"]}),a.jsx(vr,{className:"mt-2",children:"Gestiona documentos, recibos y comprobantes"})]})})}),a.jsxs(He,{children:[a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:" Recibos de pago"}),a.jsx("p",{className:"text-sm text-gray-600",children:" Proteccin de datos (RGPD)"}),a.jsx("p",{className:"text-sm text-gray-600",children:" Domiciliacin bancaria"})]}),a.jsx(ge,{className:"w-full",children:"Ir a Documentos"})]})]})]})]})}function eXe(){const{toast:t}=Ir(),[e,n]=w.useState(""),[r,i]=w.useState("all"),[s,o]=w.useState("all"),[l,c]=w.useState("all"),{data:u,isLoading:d,error:f}=Wt({queryKey:["/api/budgets",e,r,s,l],queryFn:async()=>{const b=new URLSearchParams;e&&b.set("q",e.trim()),r!=="all"&&b.set("status",r),s!=="all"&&b.set("series",s),l!=="all"&&b.set("type",l);const S=`/api/budgets${b.toString()?`?${b.toString()}`:""}`;console.log(" Fetching budgets from:",S);const E=await fetch(S,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(console.log(" Response status:",E.status),!E.ok){const C=await E.json().catch(()=>({error:"Error desconocido"}));throw console.error(" Error response:",C),new Error(C.error||"No se pudieron cargar los presupuestos")}const _=await E.json();return console.log(" Budgets loaded:",_.items?.length||0),_},staleTime:3e4}),m=u?.items||[],h=b=>{const S={PYME:"bg-blue-100 text-blue-700",AUTONOMO:"bg-green-100 text-green-700",RENTA:"bg-amber-100 text-amber-700",HERENCIAS:"bg-purple-100 text-purple-700"},E={PYME:"PYME",AUTONOMO:"Autnomo",RENTA:"Renta",HERENCIAS:"Herencias"};return a.jsx(it,{className:S[b],children:E[b]})},y=b=>{const S=b.toUpperCase();return S==="ACCEPTED"?a.jsxs(it,{className:"bg-emerald-100 text-emerald-700",children:[a.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Aceptado"]}):S==="SENT"?a.jsxs(it,{className:"bg-blue-100 text-blue-700",children:[a.jsx(fo,{className:"h-3 w-3 mr-1"}),"Enviado"]}):S==="ARCHIVED"?a.jsxs(it,{className:"bg-gray-100 text-gray-700",children:[a.jsx(Nc,{className:"h-3 w-3 mr-1"}),"Archivado"]}):a.jsxs(it,{className:"bg-amber-100 text-amber-700",children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),"Borrador"]})},v=(b,S)=>{if(!b||S==="ACCEPTED"||S==="ARCHIVED")return null;const E=new Date,_=new Date(b),C=Math.ceil((_.getTime()-E.getTime())/(1e3*60*60*24));return C<0?a.jsxs(it,{variant:"destructive",className:"text-xs",children:[a.jsx(Nc,{className:"h-3 w-3 mr-1"}),"Vencido"]}):C<=3?a.jsxs(it,{variant:"destructive",className:"text-xs",children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),"Vence en ",C,"d"]}):C<=7?a.jsxs(it,{className:"bg-amber-100 text-amber-700 text-xs",children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),"Vence en ",C,"d"]}):a.jsxs(it,{variant:"outline",className:"text-xs",children:[a.jsx(nl,{className:"h-3 w-3 mr-1"}),"Vence en ",C,"d"]})},x=b=>{const S=new URLSearchParams;e&&S.set("q",e.trim()),r!=="all"&&S.set("status",r),s!=="all"&&S.set("series",s);const E=`/api/budgets/export.${b}${S.toString()?`?${S.toString()}`:""}`;window.open(E,"_blank"),t({title:"Exportando",description:`Se descargar el archivo ${b.toUpperCase()}`})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ut,{className:"text-xl",children:"Filtros y bsqueda"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>x("csv"),children:[a.jsx(ia,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>x("xlsx"),children:[a.jsx(ia,{className:"h-4 w-4 mr-2"}),"Exportar XLSX"]}),a.jsx(pu,{href:"/documentacion/presupuestos/nuevo",children:a.jsxs(ge,{size:"sm",children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nuevo Presupuesto"]})})]})]})}),a.jsx(He,{children:a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[a.jsx(ug,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Buscar por cdigo, cliente o email...",value:e,onChange:b=>n(b.target.value),className:"pl-10"})]}),a.jsxs(_n,{value:r,onValueChange:i,children:[a.jsx(Sn,{className:"w-48",children:a.jsx(Cn,{placeholder:"Estado"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todos los estados"}),a.jsx(Qe,{value:"DRAFT",children:"Borrador"}),a.jsx(Qe,{value:"SENT",children:"Enviado"}),a.jsx(Qe,{value:"ACCEPTED",children:"Aceptado"}),a.jsx(Qe,{value:"ARCHIVED",children:"Archivado"})]})]}),a.jsxs(_n,{value:s,onValueChange:o,children:[a.jsx(Sn,{className:"w-40",children:a.jsx(Cn,{placeholder:"Serie"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todas las series"}),a.jsx(Qe,{value:"AL",children:"AL (Asesora La Llave)"}),a.jsx(Qe,{value:"GO",children:"GO (Gestora Ortega)"})]})]}),a.jsxs(_n,{value:l,onValueChange:c,children:[a.jsx(Sn,{className:"w-44",children:a.jsx(Cn,{placeholder:"Tipo"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todos los tipos"}),a.jsx(Qe,{value:"PYME",children:"PYME"}),a.jsx(Qe,{value:"AUTONOMO",children:"Autnomo"}),a.jsx(Qe,{value:"RENTA",children:"Renta"}),a.jsx(Qe,{value:"HERENCIAS",children:"Herencias"})]})]}),(e||r!=="all"||s!=="all"||l!=="all")&&a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{n(""),i("all"),o("all"),c("all")},children:"Limpiar filtros"})]})})]}),d?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Kn,{className:"h-20 w-full"}),a.jsx(Kn,{className:"h-20 w-full"}),a.jsx(Kn,{className:"h-20 w-full"})]}):f?a.jsx(Ue,{children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx(Nc,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),a.jsx("p",{className:"text-lg font-semibold mb-2",children:"Error al cargar los presupuestos"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:f instanceof Error?f.message:"Error desconocido"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Revisa la consola del navegador (F12) para ms detalles"}),a.jsx(ge,{onClick:()=>window.location.reload(),children:"Recargar pgina"})]})}):m.length===0?a.jsx(Ue,{children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx(mi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-semibold mb-2",children:"No hay presupuestos"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Crea tu primer presupuesto para comenzar"}),a.jsx(pu,{href:"/documentacion/presupuestos/nuevo",children:a.jsxs(ge,{children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Crear Presupuesto"]})})]})}):a.jsx("div",{className:"space-y-3",children:m.map(b=>a.jsx(Ue,{className:"hover:shadow-md transition-shadow",children:a.jsx(He,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[a.jsx("h3",{className:"text-lg font-semibold truncate",children:b.clientName}),h(b.type),y(b.status),v(b.expiresAt,b.status),b.acceptedAt&&a.jsxs(it,{className:"bg-emerald-100 text-emerald-700 text-xs",children:[a.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Aceptado ",new Date(b.acceptedAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Cdigo:"})," ",b.code]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Serie:"})," ",b.series]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(b.date).toLocaleDateString()]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",b.clientEmail||""]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold",children:[Number(b.total).toFixed(2)," "]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Base: ",Number(b.subtotal).toFixed(2),"  + IVA: ",Number(b.vatTotal).toFixed(2)," "]})]}),a.jsx(pu,{href:`/documentacion/presupuestos/${b.id}`,children:a.jsxs(ge,{size:"sm",variant:"outline",children:[a.jsx(mi,{className:"h-4 w-4 mr-2"}),"Ver Detalles"]})})]})]})})},b.id))})]})}function EK(t,e,n){const r=localStorage.getItem("token");return fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},credentials:"include",body:n?JSON.stringify(n):void 0}).then(async i=>{if(!i.ok){const s=await i.json().catch(()=>({error:"Error desconocido"}));throw new Error(s.error||`Error ${i.status}`)}return i.json()})}function tXe({parameter:t,onUpdate:e}){const[n,r]=w.useState(t.value),[i,s]=w.useState(!1),o=()=>{n!==t.value&&e(t.id,n),s(!1)},l=()=>t.minRange!==null&&t.minRange!==void 0?t.maxRange===null||t.maxRange===999999?`Desde ${t.minRange}`:`${t.minRange} - ${t.maxRange}`:null;return a.jsx(Ue,{className:"hover:shadow-md transition-shadow",children:a.jsx(He,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:t.label}),l()&&a.jsx(it,{variant:"outline",className:"mt-1 text-xs",children:l()}),t.description&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.description})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(_e,{htmlFor:t.id,className:"text-xs text-muted-foreground",children:"Precio"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(wN,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(Fe,{id:t.id,type:"number",step:"0.01",min:"0",value:n,onChange:c=>{r(parseFloat(c.target.value)||0),s(!0)},className:"h-9"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})]}),i&&a.jsxs(ge,{size:"sm",onClick:o,className:"mt-6",children:[a.jsx(cg,{className:"h-3 w-3 mr-1"}),"Guardar"]})]})]})})})}function B2({type:t,parameters:e,onUpdate:n}){const r=e.reduce((s,o)=>{const l=o.category||"General";return s[l]||(s[l]=[]),s[l].push(o),s},{}),i=s=>s.includes("BASE")||s.includes("CONTABILIDAD")?a.jsx(w1,{className:"h-5 w-5"}):s.includes("TRAMO")||s.includes("NOMINA")?a.jsx(zy,{className:"h-5 w-5"}):a.jsx(wN,{className:"h-5 w-5"});return a.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([s,o])=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i(s),a.jsx("h3",{className:"text-lg font-semibold",children:s.replace(/_/g," ")}),a.jsx(it,{variant:"secondary",children:o.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(l=>a.jsx(tXe,{parameter:l,onUpdate:n},l.id))})]},s))})}function nXe(){const{toast:t}=Ir(),e=cl(),[n,r]=w.useState("PYME"),{data:i,isLoading:s,error:o}=Wt({queryKey:["/api/budget-parameters"],queryFn:()=>EK("GET","/api/budget-parameters"),staleTime:1e3*60*5}),l=Xt({mutationFn:({id:d,value:f})=>EK("PUT",`/api/budget-parameters/${d}`,{value:f}),onSuccess:()=>{t({title:"Actualizado",description:"Parmetro actualizado correctamente"}),e.invalidateQueries({queryKey:["/api/budget-parameters"]})},onError:d=>{t({title:"Error",description:d.message||"No se pudo actualizar el parmetro",variant:"destructive"})}}),c=(d,f)=>{l.mutate({id:d,value:f})},u=()=>{e.invalidateQueries({queryKey:["/api/budget-parameters"]}),t({title:"Recargando",description:"Actualizando parmetros..."})};return o?a.jsx("div",{className:"p-8",children:a.jsx(Ue,{children:a.jsxs(He,{className:"p-12 text-center",children:[a.jsx("p",{className:"text-destructive",children:"Error al cargar parmetros"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:o.message}),a.jsxs(ge,{onClick:u,className:"mt-4",variant:"outline",children:[a.jsx(n0,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-end",children:a.jsxs(ge,{onClick:u,variant:"outline",size:"sm",children:[a.jsx(n0,{className:"h-4 w-4 mr-2"}),"Actualizar"]})}),s?a.jsxs("div",{className:"space-y-4",children:[a.jsx(Kn,{className:"h-12 w-full"}),a.jsx(Kn,{className:"h-64 w-full"}),a.jsx(Kn,{className:"h-64 w-full"})]}):a.jsxs(Ul,{value:n,onValueChange:d=>r(d),children:[a.jsxs(dl,{className:"grid w-full grid-cols-4",children:[a.jsxs(Ln,{value:"PYME",children:["PYME",i?.PYME&&a.jsx(it,{variant:"secondary",className:"ml-2",children:i.PYME.length})]}),a.jsxs(Ln,{value:"AUTONOMO",children:["Autnomo",i?.AUTONOMO&&a.jsx(it,{variant:"secondary",className:"ml-2",children:i.AUTONOMO.length})]}),a.jsxs(Ln,{value:"RENTA",children:["Renta",i?.RENTA&&a.jsx(it,{variant:"secondary",className:"ml-2",children:i.RENTA.length})]}),a.jsxs(Ln,{value:"HERENCIAS",children:["Herencias",i?.HERENCIAS&&a.jsx(it,{variant:"secondary",className:"ml-2",children:i.HERENCIAS.length})]})]}),a.jsx(rr,{value:"PYME",className:"mt-6",children:i?.PYME&&a.jsx(B2,{type:"PYME",parameters:i.PYME,onUpdate:c})}),a.jsx(rr,{value:"AUTONOMO",className:"mt-6",children:i?.AUTONOMO&&a.jsx(B2,{type:"AUTONOMO",parameters:i.AUTONOMO,onUpdate:c})}),a.jsx(rr,{value:"RENTA",className:"mt-6",children:i?.RENTA&&a.jsx(B2,{type:"RENTA",parameters:i.RENTA,onUpdate:c})}),a.jsx(rr,{value:"HERENCIAS",className:"mt-6",children:i?.HERENCIAS&&a.jsx(B2,{type:"HERENCIAS",parameters:i.HERENCIAS,onUpdate:c})})]})]})}var rXe=PWe;const jK={common:[{label:"Nombre de contacto",variable:"{{nombre_contacto}}",description:"Nombre del cliente"},{label:"Email",variable:"{{email}}",description:"Correo electrnico"},{label:"Telfono",variable:"{{telefono}}",description:"Telfono de contacto"},{label:"Cdigo presupuesto",variable:"{{codigo}}",description:"Ej: AL-2025-0001"},{label:"Fecha",variable:"{{fecha}}",description:"Fecha de emisin"},{label:"Subtotal",variable:"{{subtotal}}",description:"Subtotal sin IVA"},{label:"IVA",variable:"{{iva}}",description:"Total de IVA"},{label:"Total",variable:"{{total}}",description:"Total con IVA"},{label:"Observaciones",variable:"{{observaciones}}",description:"Notas del presupuesto"}],PYME:[{label:"Nombre sociedad",variable:"{{nombre_sociedad}}",description:"Razn social"},{label:"Actividad",variable:"{{actividad}}",description:"Actividad de la empresa"},{label:"Periodo declaraciones",variable:"{{periodo_declaraciones}}",description:"Trimestral/Mensual"},{label:"Facturacin anual",variable:"{{facturacion_anual}}",description:"Facturacin estimada"},{label:"Nmero asientos",variable:"{{num_asientos}}",description:"Rango de asientos"},{label:"Nminas/mes",variable:"{{nominas_mes}}",description:"Nmero de nminas"}],AUTONOMO:[{label:"Actividad",variable:"{{actividad}}",description:"Actividad del autnomo"},{label:"Sistema tributacin",variable:"{{sistema_tributacion}}",description:"Directo/Mdulos"},{label:"Facturacin anual",variable:"{{facturacion_anual}}",description:"Facturacin estimada"},{label:"Nmero facturas/ao",variable:"{{num_facturas}}",description:"Rango de facturas"},{label:"Nminas/mes",variable:"{{nominas_mes}}",description:"Nmero de nminas"}],RENTA:[{label:"Tipo declaracin",variable:"{{tipo_declaracion}}",description:"Tipo de renta"},{label:"Ingresos",variable:"{{ingresos}}",description:"Ingresos anuales"},{label:"Retenciones",variable:"{{retenciones}}",description:"Retenciones IRPF"}],HERENCIAS:[{label:"Ttulo sucesorio",variable:"{{titulo_sucesorio}}",description:"Con/sin testamento"},{label:"Nmero herederos",variable:"{{num_herederos}}",description:"Cantidad de herederos"},{label:"Herederos menores",variable:"{{herederos_menores}}",description:"S/No"},{label:"Fincas Madrid",variable:"{{fincas_madrid}}",description:"Nmero de fincas"},{label:"Fincas otras",variable:"{{fincas_otras}}",description:"Fincas fuera de Madrid"},{label:"Caudal hereditario",variable:"{{caudal}}",description:"Valor del caudal"},{label:"Tipo proceso",variable:"{{tipo_proceso}}",description:"Amistoso/Judicial"}]},iXe=({editor:t,onInsertVariable:e,budgetType:n})=>{const[r,i]=w.useState(""),[s,o]=w.useState(""),[l,c]=w.useState("#000000");if(!t)return null;const u=()=>{r&&(t.chain().focus().setLink({href:r}).run(),i(""))},d=()=>{s&&(t.chain().focus().setImage({src:s}).run(),o(""))},f=()=>{t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},m=[...jK.common,...jK[n]||[]];return a.jsx("div",{className:"border-b bg-slate-50 p-2 sticky top-0 z-10",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[a.jsx(ge,{size:"sm",variant:t.isActive("bold")?"default":"ghost",onClick:()=>t.chain().focus().toggleBold().run(),title:"Negrita",children:a.jsx(MG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive("italic")?"default":"ghost",onClick:()=>t.chain().focus().toggleItalic().run(),title:"Cursiva",children:a.jsx(HG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive("underline")?"default":"ghost",onClick:()=>t.chain().focus().toggleUnderline().run(),title:"Subrayado",children:a.jsx(Xfe,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive("strike")?"default":"ghost",onClick:()=>t.chain().focus().toggleStrike().run(),title:"Tachado",children:a.jsx(YG,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[a.jsx(ge,{size:"sm",variant:t.isActive("heading",{level:1})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),title:"Ttulo 1",children:a.jsx(BG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive("heading",{level:2})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),title:"Ttulo 2",children:a.jsx(zG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive("heading",{level:3})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),title:"Ttulo 3",children:a.jsx(qG,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[a.jsx(ge,{size:"sm",variant:t.isActive("bulletList")?"default":"ghost",onClick:()=>t.chain().focus().toggleBulletList().run(),title:"Lista",children:a.jsx(pI,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive("orderedList")?"default":"ghost",onClick:()=>t.chain().focus().toggleOrderedList().run(),title:"Lista numerada",children:a.jsx(VG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive("blockquote")?"default":"ghost",onClick:()=>t.chain().focus().toggleBlockquote().run(),title:"Cita",children:a.jsx(KG,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[a.jsx(ge,{size:"sm",variant:t.isActive({textAlign:"left"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("left").run(),title:"Alinear izquierda",children:a.jsx(OG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive({textAlign:"center"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("center").run(),title:"Centrar",children:a.jsx(kG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive({textAlign:"right"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("right").run(),title:"Alinear derecha",children:a.jsx(PG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:t.isActive({textAlign:"justify"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("justify").run(),title:"Justificar",children:a.jsx(TG,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex gap-1 border-r pr-2",children:a.jsxs(Cv,{children:[a.jsx(Av,{asChild:!0,children:a.jsx(ge,{size:"sm",variant:"ghost",title:"Color de texto",children:a.jsx(gI,{className:"h-4 w-4"})})}),a.jsx(Nm,{className:"w-64",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Color de texto"}),a.jsx(Fe,{type:"color",value:l,onChange:h=>{c(h.target.value),t.chain().focus().setColor(h.target.value).run()}}),a.jsx("div",{className:"grid grid-cols-6 gap-1",children:["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#000080","#808080"].map(h=>a.jsx("button",{className:"w-8 h-8 rounded border",style:{backgroundColor:h},onClick:()=>{c(h),t.chain().focus().setColor(h).run()}},h))})]})})]})}),a.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[a.jsxs(Cv,{children:[a.jsx(Av,{asChild:!0,children:a.jsx(ge,{size:"sm",variant:"ghost",title:"Insertar enlace",children:a.jsx(Tfe,{className:"h-4 w-4"})})}),a.jsx(Nm,{className:"w-80",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"URL del enlace"}),a.jsx(Fe,{placeholder:"https://ejemplo.com",value:r,onChange:h=>i(h.target.value),onKeyDown:h=>h.key==="Enter"&&u()}),a.jsx(ge,{onClick:u,className:"w-full",children:"Insertar"})]})})]}),a.jsxs(Cv,{children:[a.jsx(Av,{asChild:!0,children:a.jsx(ge,{size:"sm",variant:"ghost",title:"Insertar imagen",children:a.jsx(hI,{className:"h-4 w-4"})})}),a.jsx(Nm,{className:"w-80",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"URL de la imagen"}),a.jsx(Fe,{placeholder:"https://ejemplo.com/logo.png",value:s,onChange:h=>o(h.target.value),onKeyDown:h=>h.key==="Enter"&&d()}),a.jsx(ge,{onClick:d,className:"w-full",children:"Insertar"})]})})]}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:f,title:"Insertar tabla",children:a.jsx(XG,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex gap-1 border-r pr-2",children:a.jsxs(Cv,{children:[a.jsx(Av,{asChild:!0,children:a.jsxs(ge,{size:"sm",variant:"ghost",title:"Insertar variable",children:[a.jsx(Jfe,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 text-xs",children:"Variables"})]})}),a.jsx(Nm,{className:"w-80",children:a.jsx(E_,{className:"h-96",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Variables disponibles"}),m.map(h=>a.jsxs("button",{className:"w-full text-left p-2 hover:bg-slate-100 rounded text-sm",onClick:()=>e(h.variable),children:[a.jsx("div",{className:"font-mono text-xs text-blue-600",children:h.variable}),a.jsx("div",{className:"text-xs text-slate-600",children:h.description})]},h.variable))]})})})]})}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),title:"Deshacer",children:a.jsx(QG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),title:"Rehacer",children:a.jsx(GG,{className:"h-4 w-4"})})]})]})})};function sXe({initialContent:t="",budgetType:e,onChange:n,onPreview:r}){const i=sle({extensions:[Ple,dWe,FWe.configure({types:["heading","paragraph"]}),LWe,KVe.configure({openOnClick:!1}),B3.configure({resizable:!0}),TYe,PYe,OYe,M3,R3,rXe.configure({placeholder:'Escribe aqu tu plantilla... Usa el men superior para dar formato y el botn "Variables" para insertar campos dinmicos.'})],content:t,onUpdate:({editor:o})=>{n?.(o.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[600px] p-4"}}}),s=o=>{i?.chain().focus().insertContent(o).run()};return a.jsxs("div",{className:"border rounded-lg bg-white",children:[a.jsx(iXe,{editor:i,onInsertVariable:s,budgetType:e}),a.jsx(rle,{editor:i,className:"min-h-[600px]"}),r&&a.jsx("div",{className:"border-t p-2 bg-slate-50 flex justify-end",children:a.jsxs(ge,{onClick:r,variant:"outline",size:"sm",children:[a.jsx(op,{className:"h-4 w-4 mr-2"}),"Vista previa PDF"]})})]})}const aXe={PYME:a.jsx(DP,{className:"h-4 w-4"}),AUTONOMO:a.jsx(N1,{className:"h-4 w-4"}),RENTA:a.jsx(UG,{className:"h-4 w-4"}),HERENCIAS:a.jsx(Ufe,{className:"h-4 w-4"})},oXe={PYME:"Empresas",AUTONOMO:"Autnomos",RENTA:"Renta",HERENCIAS:"Herencias"};function lXe(){const[t,e]=w.useState(!1),[n,r]=w.useState(null),[i,s]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState("PYME"),[d,f]=w.useState("LA_LLAVE"),[m,h]=w.useState(""),[y,v]=w.useState(null),{toast:x}=Ir(),b=cl(),S=(G,X)=>({...{codigo:"PREV-2025-001",fecha:new Date().toLocaleDateString("es-ES"),nombre_contacto:"Juan Prez Garca",email:"juan.perez@ejemplo.com",telefono:"666 777 888",subtotal:"150,00 ",iva:"31,50 ",total:"181,50 ",empresa:X==="LA_LLAVE"?"Asesora La Llave":"Gestora Online",descripcion:"Este es un presupuesto de ejemplo para visualizar el diseo de la plantilla."},...{PYME:{nombre_sociedad:"Tecnologas Avanzadas SL",actividad:"Desarrollo de software",periodo_declaraciones:"Trimestral",num_asientos:"50",nominas_mes:"5"},AUTONOMO:{sistema_tributacion:"Estimacin Directa",facturacion_anual:"45.000,00 ",num_facturas:"120"},RENTA:{tipo_declaracion:"Individual",ingresos:"35.000,00 ",retenciones:"5.250,00 "},HERENCIAS:{titulo_sucesorio:"Testamento",num_herederos:"3",fincas_madrid:"S",caudal:"180.000,00 ",tipo_proceso:"Normal"}}[G]}),E=w.useMemo(()=>{if(!m)return'<p class="text-muted-foreground text-center py-12">El contenido aparecer aqu...</p>';const G=S(c,d);let X=m;return Object.entries(G).forEach(([U,W])=>{const Y=new RegExp(`{{\\s*${U}\\s*}}`,"gi");X=X.replace(Y,String(W))}),X=X.replace(/{{([^}]+)}}/g,'<span style="background-color: #fef3c7; color: #92400e; padding: 2px 6px; border-radius: 3px; font-size: 0.875em;">[$1]</span>'),X},[m,c,d]),{data:_,isLoading:C}=Wt({queryKey:["/api/budget-templates"]}),O=Xt({mutationFn:async G=>{const X=await fetch("/api/budget-templates",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(G)});if(!X.ok)throw new Error("Error al crear plantilla");return X.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla creada correctamente"}),R()},onError:()=>{x({title:" Error al crear plantilla",variant:"destructive"})}}),M=Xt({mutationFn:async({id:G,data:X})=>{const U=await fetch(`/api/budget-templates/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(X)});if(!U.ok)throw new Error("Error al actualizar plantilla");return U.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla actualizada correctamente"}),R()},onError:()=>{x({title:" Error al actualizar plantilla",variant:"destructive"})}}),A=Xt({mutationFn:async G=>{const X=await fetch(`/api/budget-templates/${G}`,{method:"DELETE",credentials:"include"});if(!X.ok)throw new Error("Error al eliminar plantilla");return X.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla eliminada correctamente"})},onError:()=>{x({title:" Error al eliminar plantilla",variant:"destructive"})}}),P=Xt({mutationFn:async({id:G,type:X,brand:U})=>{const W=await fetch(`/api/budget-templates/${G}/set-default`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:X,companyBrand:U})});if(!W.ok)throw new Error("Error al establecer plantilla predeterminada");return W.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/budget-templates"]}),x({title:" Plantilla establecida como predeterminada"})}}),F=G=>{G?(r(G),s(G.name),l(G.description||""),u(G.type),f(G.companyBrand),h(G.htmlContent)):(r(null),s(""),l(""),u("PYME"),f("LA_LLAVE"),h("")),e(!0)},R=()=>{e(!1),r(null),s(""),l(""),h("")},$=()=>{if(!i.trim()){x({title:"El nombre es obligatorio",variant:"destructive"});return}if(!m.trim()){x({title:"El contenido no puede estar vaco",variant:"destructive"});return}const G={name:i,description:o||null,type:c,companyBrand:d,htmlContent:m};n?M.mutate({id:n.id,data:G}):O.mutate(G)},q=G=>{const X={name:`${G.name} (Copia)`,description:G.description,type:G.type,companyBrand:G.companyBrand,htmlContent:G.htmlContent,isDefault:!1};O.mutate(X)},z=G=>{confirm("Ests seguro de eliminar esta plantilla?")&&A.mutate(G)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-end items-center",children:a.jsxs(ge,{onClick:()=>F(),children:[a.jsx(js,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),C?a.jsx(Ue,{children:a.jsx(He,{className:"p-12 text-center",children:a.jsx("p",{children:"Cargando plantillas..."})})}):a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Plantillas disponibles"}),a.jsxs(vr,{children:[_?.length||0," plantillas configuradas"]})]}),a.jsx(He,{children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Nombre"}),a.jsx(Et,{children:"Tipo"}),a.jsx(Et,{children:"Empresa"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Actualizada"}),a.jsx(Et,{className:"text-right",children:"Acciones"})]})}),a.jsxs(co,{children:[_?.map(G=>a.jsxs(er,{children:[a.jsx(yt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[aXe[G.type],G.name]})}),a.jsx(yt,{children:a.jsx(it,{variant:"outline",children:oXe[G.type]})}),a.jsx(yt,{children:a.jsx(it,{variant:G.companyBrand==="LA_LLAVE"?"default":"secondary",children:G.companyBrand==="LA_LLAVE"?"Asesora La Llave":"Gestora Online"})}),a.jsx(yt,{children:a.jsxs("div",{className:"flex gap-1",children:[G.isDefault&&a.jsxs(it,{variant:"default",children:[a.jsx(PF,{className:"h-3 w-3 mr-1"}),"Predeterminada"]}),G.isActive?a.jsx(it,{variant:"outline",className:"text-green-600",children:"Activa"}):a.jsx(it,{variant:"outline",className:"text-gray-400",children:"Inactiva"})]})}),a.jsx(yt,{className:"text-sm text-muted-foreground",children:new Date(G.updatedAt).toLocaleDateString("es-ES")}),a.jsx(yt,{className:"text-right",children:a.jsxs("div",{className:"flex gap-1 justify-end",children:[!G.isDefault&&a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>P.mutate({id:G.id,type:G.type,brand:G.companyBrand}),title:"Establecer como predeterminada",children:a.jsx(PF,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>v(G),title:"Vista previa",children:a.jsx(op,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>F(G),title:"Editar",children:a.jsx(Sc,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>q(G),title:"Duplicar",children:a.jsx(IG,{className:"h-4 w-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>z(G.id),title:"Eliminar",disabled:G.isDefault,children:a.jsx(na,{className:"h-4 w-4"})})]})})]},G.id)),(!_||_.length===0)&&a.jsx(er,{children:a.jsxs(yt,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[a.jsx(mi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay plantillas configuradas"}),a.jsx("p",{className:"text-sm",children:"Crea tu primera plantilla para comenzar"})]})})]})]})})]}),a.jsx(Lr,{open:t,onOpenChange:e,children:a.jsxs(Mr,{className:"max-w-[95vw] max-h-[95vh] overflow-hidden",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:n?"Editar Plantilla":"Nueva Plantilla"}),a.jsx(Mi,{children:"Personaliza el diseo del PDF. Los cambios se previsualizan en tiempo real."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 h-[75vh]",children:[a.jsxs("div",{className:"space-y-4 overflow-y-auto pr-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Nombre de la plantilla *"}),a.jsx(Fe,{placeholder:"Ej: Presupuesto PYME Estndar",value:i,onChange:G=>s(G.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Tipo de presupuesto *"}),a.jsxs(_n,{value:c,onValueChange:G=>u(G),children:[a.jsx(Sn,{children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"PYME",children:"Empresas (PYME)"}),a.jsx(Qe,{value:"AUTONOMO",children:"Autnomos"}),a.jsx(Qe,{value:"RENTA",children:"Declaracin de Renta"}),a.jsx(Qe,{value:"HERENCIAS",children:"Herencias"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Empresa *"}),a.jsxs(_n,{value:d,onValueChange:G=>f(G),children:[a.jsx(Sn,{children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"LA_LLAVE",children:"Asesora La Llave"}),a.jsx(Qe,{value:"GESTORIA_ONLINE",children:"Gestora Online"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Descripcin (opcional)"}),a.jsx(vd,{placeholder:"Breve descripcin de la plantilla...",value:o,onChange:G=>l(G.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{children:"Contenido de la plantilla *"}),a.jsx(sXe,{initialContent:m,budgetType:c,onChange:h})]})]}),a.jsxs("div",{className:"border-l pl-6 overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-background pb-3 mb-3 border-b z-10",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold",children:"Vista Previa en Tiempo Real"}),a.jsx(it,{variant:"secondary",className:"text-xs",children:d==="LA_LLAVE"?"Asesora La Llave":"Gestora Online"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Datos de ejemplo  Las variables se reemplazan automticamente"})]}),a.jsx("div",{className:"prose prose-sm max-w-none p-6 bg-white border rounded shadow-sm",dangerouslySetInnerHTML:{__html:E}})]})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:R,children:"Cancelar"}),a.jsxs(ge,{onClick:$,disabled:O.isPending||M.isPending,children:[n?"Actualizar":"Crear"," Plantilla"]})]})]})}),a.jsx(Lr,{open:!!y,onOpenChange:()=>v(null),children:a.jsxs(Mr,{className:"max-w-4xl max-h-[90vh] overflow-auto",children:[a.jsxs(Fr,{children:[a.jsx($r,{children:y?.name}),a.jsx(Mi,{children:"Vista previa de la plantilla"})]}),a.jsx("div",{className:"prose max-w-none p-6 bg-white border rounded",dangerouslySetInnerHTML:{__html:y?.htmlContent||""}})]})})]})}function _K(){const[t,e]=ll(),{user:n}=dg(),r=n?.roleName==="Administrador",i=()=>t.includes("/parametros")?"parametros":t.includes("/plantillas")?"plantillas":"presupuestos",s=o=>{o==="presupuestos"?e("/documentacion/presupuestos"):o==="parametros"?e("/documentacion/presupuestos/parametros"):o==="plantillas"&&e("/documentacion/presupuestos/plantillas")};return a.jsxs("div",{className:"container mx-auto p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Documentacin"}),a.jsx("p",{className:"text-muted-foreground",children:"Gestin de presupuestos y documentos"})]}),a.jsxs(Ul,{value:i(),onValueChange:s,className:"w-full",children:[a.jsxs(dl,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ln,{value:"presupuestos",className:"flex items-center gap-2",children:[a.jsx(mi,{className:"h-4 w-4"}),"Presupuestos"]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs(Ln,{value:"parametros",className:"flex items-center gap-2",children:[a.jsx(w1,{className:"h-4 w-4"}),"Parmetros"]}),a.jsxs(Ln,{value:"plantillas",className:"flex items-center gap-2",children:[a.jsx(gI,{className:"h-4 w-4"}),"Plantillas"]})]})]}),a.jsx(rr,{value:"presupuestos",className:"mt-6",children:a.jsx(eXe,{})}),r&&a.jsxs(a.Fragment,{children:[a.jsx(rr,{value:"parametros",className:"mt-6",children:a.jsx(nXe,{})}),a.jsx(rr,{value:"plantillas",className:"mt-6",children:a.jsx(lXe,{})})]})]})]})}function cXe(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[i,s]=w.useState("all"),[o,l]=w.useState("");w.useEffect(()=>{c()},[i]);const c=async()=>{try{r(!0);const y=i!=="all"?`?type=${i}`:"",x=await(await fetch(`/api/documents${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();e(x)}catch(y){console.error("Error fetching documents:",y)}finally{r(!1)}},u=t&&Array.isArray(t)?t.filter(y=>y.name.toLowerCase().includes(o.toLowerCase())):[],d=y=>{const v={draft:{label:"Borrador",color:"bg-gray-100"},pending_signature:{label:"Pendiente Firma",color:"bg-yellow-100"},signed:{label:"Firmado",color:"bg-green-100"},archived:{label:"Archivado",color:"bg-gray-200"}},x=v[y]||v.draft;return a.jsx(it,{className:x.color,children:x.label})},f=y=>({payment_receipt:"Recibo de Pago",data_protection:"Proteccin de Datos",banking_domiciliation:"Domiciliacin Bancaria",other:"Otro"})[y]||y,m=async y=>{if(confirm("Ests seguro de que deseas eliminar este documento?"))try{if(!(await fetch(`/api/documents/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Error al eliminar");e(x=>x.filter(b=>b.id!==y)),alert("Documento eliminado correctamente")}catch(v){console.error("Error:",v),alert("Error al eliminar el documento")}},h=async y=>{try{const v=await fetch(`/api/documents/${y}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!v.ok)throw new Error("Error al descargar");const x=await v.blob(),b=window.URL.createObjectURL(x),S=document.createElement("a");S.href=b,S.download=`documento-${y}.pdf`,document.body.appendChild(S),S.click(),window.URL.revokeObjectURL(b),document.body.removeChild(S)}catch(v){console.error("Error:",v),alert("Error al descargar el documento")}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Fe,{placeholder:"Buscar documento...",value:o,onChange:y=>l(y.target.value)}),a.jsxs("select",{value:i,onChange:y=>s(y.target.value),className:"px-3 py-2 border rounded-md",children:[a.jsx("option",{value:"all",children:"Todos"}),a.jsx("option",{value:"payment_receipt",children:"Recibos de Pago"}),a.jsx("option",{value:"data_protection",children:"Proteccin de Datos"}),a.jsx("option",{value:"banking_domiciliation",children:"Domiciliacin Bancaria"}),a.jsx("option",{value:"other",children:"Otros"})]})]}),n?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando documentos..."}):u.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(mi,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay documentos"})]}):a.jsx("div",{className:"grid gap-4",children:u.map(y=>a.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx(mi,{className:"w-5 h-5 text-blue-500 mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:y.name}),a.jsx("p",{className:"text-sm text-gray-500",children:f(y.type)}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(y.created_at).toLocaleDateString("es-ES")})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[d(y.status),y.signature_status==="signed_by_client"&&a.jsx(Gv,{className:"w-5 h-5 text-green-500"})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[a.jsxs(ge,{size:"sm",variant:"outline",children:[a.jsx(op,{className:"w-4 h-4 mr-1"}),"Ver"]}),a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>h(y.id),children:[a.jsx(ia,{className:"w-4 h-4 mr-1"}),"Descargar"]}),a.jsxs(ge,{size:"sm",variant:"outline",children:[a.jsx(WG,{className:"w-4 h-4 mr-1"}),"Editar"]}),a.jsxs(ge,{size:"sm",variant:"destructive",onClick:()=>m(y.id),children:[a.jsx(na,{className:"w-4 h-4 mr-1"}),"Eliminar"]})]})]},y.id))})]})}function uXe(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState(""),[o,l]=w.useState("other"),c=m=>{const h=m.target.files;if(!h)return;const y=Array.from(h).map(v=>({id:`${v.name}-${Date.now()}-${Math.random().toString(36).slice(2)}`,file:v}));e(v=>[...v,...y]),m.target.value=""},u=m=>{e(h=>h.filter(y=>y.id!==m))},d=async()=>{if(!i||t.length===0){alert("Por favor completa todos los campos");return}r(!0);try{const m=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:i,type:o,description:`Documento cargado: ${t.map(y=>y.file.name).join(", ")}`})});if(!m.ok)throw new Error("Error al crear documento");const h=await m.json();for(const y of t){const v=new FormData;if(v.append("file",y.file),!(await fetch(`/api/documents/${h.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:v})).ok)throw new Error("Error al subir archivo")}alert("Documento cargado exitosamente"),s(""),e([]),l("other")}catch(m){console.error("Error:",m),alert("Error al cargar el documento")}finally{r(!1)}},f=m=>{if(m===0)return"0 Bytes";const h=1024,y=["Bytes","KB","MB"],v=Math.floor(Math.log(m)/Math.log(h));return Math.round(m/Math.pow(h,v)*100)/100+" "+y[v]};return a.jsx("div",{className:"space-y-6 max-w-2xl",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Documento"}),a.jsx(Fe,{placeholder:"Ej: Recibo de Pago - Octubre 2025",value:i,onChange:m=>s(m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tipo de Documento"}),a.jsxs("select",{value:o,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"payment_receipt",children:"Recibo de Pago"}),a.jsx("option",{value:"data_protection",children:"Proteccin de Datos"}),a.jsx("option",{value:"banking_domiciliation",children:"Domiciliacin Bancaria"}),a.jsx("option",{value:"other",children:"Otro"})]})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition",children:[a.jsx(tl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Arrastra archivos aqu o haz clic para seleccionar"}),a.jsx("input",{type:"file",multiple:!0,onChange:c,className:"hidden",id:"file-input"}),a.jsx(ge,{onClick:()=>document.getElementById("file-input")?.click(),variant:"outline",children:"Seleccionar Archivos"})]}),t.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"font-semibold text-sm",children:["Archivos Seleccionados (",t.length,")"]}),a.jsx("div",{className:"space-y-2",children:t.map(({id:m,file:h})=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx(fI,{className:"w-4 h-4 text-blue-500"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),a.jsx("p",{className:"text-xs text-gray-500",children:f(h.size)})]})]}),a.jsx("button",{onClick:()=>u(m),className:"text-gray-400 hover:text-red-500",children:a.jsx(kc,{className:"w-4 h-4"})})]},m))})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ge,{onClick:d,disabled:!i||t.length===0||n,className:"flex-1",children:n?"Cargando...":"Cargar Documento"}),a.jsx(ge,{onClick:()=>{s(""),e([]),l("other")},variant:"outline",className:"flex-1",children:"Limpiar"})]})]})})}function dXe(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState({clientName:"",amount:"",concept:"",date:new Date().toISOString().split("T")[0],reference:""}),o=d=>{const{name:f,value:m}=d.target;s(h=>({...h,[f]:m}))},l=async()=>{if(!i.clientName||!i.amount||!i.concept){alert("Por favor completa todos los campos requeridos");return}try{const d=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"payment_receipt",name:`Recibo de Pago - ${i.clientName} - ${i.date}`,description:`Recibo por concepto: ${i.concept}`,client_id:null})});if(!d.ok)throw new Error("Error al crear recibo");const f=await d.json();e(m=>[...m,{id:f.id,clientName:i.clientName,amount:parseFloat(i.amount),concept:i.concept,date:i.date,reference:i.reference,status:"generated"}]),s({clientName:"",amount:"",concept:"",date:new Date().toISOString().split("T")[0],reference:""}),r(!1)}catch(d){console.error("Error:",d),alert("Error al generar el recibo")}},c=async d=>{try{const f=await fetch(`/api/documents/${d.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!f.ok)throw new Error("Error al descargar");const m=await f.blob(),h=window.URL.createObjectURL(m),y=document.createElement("a");y.href=h,y.download=`recibo-${d.reference||d.clientName}.pdf`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(h),document.body.removeChild(y)}catch(f){console.error("Error:",f)}},u=d=>{console.log("Viewing receipt:",d)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Recibos de Pago"}),a.jsxs(Lr,{open:n,onOpenChange:r,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{children:[a.jsx(js,{className:"w-4 h-4 mr-2"}),"Nuevo Recibo"]})}),a.jsxs(Mr,{children:[a.jsx(Fr,{children:a.jsx($r,{children:"Generar Recibo de Pago"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),a.jsx(Fe,{name:"clientName",placeholder:"Ej: Juan Garca",value:i.clientName,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Importe () *"}),a.jsx(Fe,{name:"amount",type:"number",step:"0.01",placeholder:"Ej: 1500.00",value:i.amount,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concepto *"}),a.jsx("textarea",{name:"concept",placeholder:"Ej: Asesoramiento fiscal trimestral Q3 2025",value:i.concept,onChange:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Fecha"}),a.jsx(Fe,{name:"date",type:"date",value:i.date,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Referencia / Nmero de Recibo"}),a.jsx(Fe,{name:"reference",placeholder:"Ej: RCP-2025-001",value:i.reference,onChange:o})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),a.jsx(ge,{onClick:l,children:"Generar Recibo"})]})]})]})]})]}),t.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(mi,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay recibos generados"})]}):a.jsx("div",{className:"grid gap-4",children:t.map(d=>a.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:d.clientName}),a.jsx("p",{className:"text-sm text-gray-600",children:d.concept}),a.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{children:["Importe: ",a.jsxs("strong",{className:"text-gray-900",children:[d.amount.toFixed(2),""]})]}),a.jsxs("span",{children:["Fecha: ",a.jsx("strong",{className:"text-gray-900",children:new Date(d.date).toLocaleDateString("es-ES")})]}),d.reference&&a.jsxs("span",{children:["Ref: ",a.jsx("strong",{className:"text-gray-900",children:d.reference})]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:d.status==="draft"?"Borrador":d.status==="generated"?"Generado":"Enviado"})})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>u(d),children:[a.jsx(op,{className:"w-4 h-4 mr-1"}),"Ver"]}),a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>c(d),children:[a.jsx(ia,{className:"w-4 h-4 mr-1"}),"Descargar"]})]})]},d.id))})]})}function fXe(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState({clientName:"",email:"",dataTypes:["personal","fiscal","bancaria"]}),o=f=>{const{name:m,value:h}=f.target;s(y=>({...y,[m]:h}))},l=f=>{s(m=>({...m,dataTypes:m.dataTypes.includes(f)?m.dataTypes.filter(h=>h!==f):[...m.dataTypes,f]}))},c=async()=>{if(!i.clientName||!i.email||i.dataTypes.length===0){alert("Por favor completa todos los campos requeridos");return}try{const f=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"data_protection",name:`Documento Proteccin Datos - ${i.clientName}`,description:`Consentimiento RGPD para: ${i.dataTypes.join(", ")}`})});if(!f.ok)throw new Error("Error al crear documento");const m=await f.json();e(h=>[...h,{id:m.id,clientName:i.clientName,email:i.email,consentDate:new Date().toISOString().split("T")[0],dataTypes:i.dataTypes,status:"pending"}]),s({clientName:"",email:"",dataTypes:["personal","fiscal","bancaria"]}),r(!1)}catch(f){console.error("Error:",f),alert("Error al generar el documento")}},u=async f=>{try{if(!(await fetch(`/api/documents/${f}/sign`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({signatureType:"digital"})})).ok)throw new Error("Error al firmar documento");e(h=>h.map(y=>y.id===f?{...y,status:"signed",signedDate:new Date().toISOString().split("T")[0]}:y)),alert("Documento firmado exitosamente")}catch(m){console.error("Error:",m),alert("Error al firmar el documento")}},d=async(f,m)=>{try{const h=await fetch(`/api/documents/${f}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!h.ok)throw new Error("Error al descargar");const y=await h.blob(),v=window.URL.createObjectURL(y),x=document.createElement("a");x.href=v,x.download=`proteccion-datos-${m}.pdf`,document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(v),document.body.removeChild(x)}catch(h){console.error("Error:",h)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Documentos Proteccin de Datos (RGPD)"}),a.jsxs(Lr,{open:n,onOpenChange:r,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{children:[a.jsx(js,{className:"w-4 h-4 mr-2"}),"Nuevo Documento"]})}),a.jsxs(Mr,{className:"max-w-md",children:[a.jsx(Fr,{children:a.jsx($r,{children:"Generar Documento RGPD"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),a.jsx(Fe,{name:"clientName",placeholder:"Ej: Juan Garca Lpez",value:i.clientName,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email del Cliente *"}),a.jsx(Fe,{name:"email",type:"email",placeholder:"Ej: juan@example.com",value:i.email,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tipos de Datos *"}),a.jsx("div",{className:"space-y-2",children:[{id:"personal",label:"Datos Personales"},{id:"fiscal",label:"Datos Fiscales"},{id:"bancaria",label:"Datos Bancarios"},{id:"empleados",label:"Datos de Empleados"}].map(f=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.dataTypes.includes(f.id),onChange:()=>l(f.id),className:"w-4 h-4 text-blue-600 rounded"}),a.jsx("span",{className:"text-sm",children:f.label})]},f.id))})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),a.jsx(ge,{onClick:c,children:"Generar Documento"})]})]})]})]})]}),t.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(mi,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay documentos de proteccin de datos"})]}):a.jsx("div",{className:"grid gap-4",children:t.map(f=>a.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:f.clientName}),a.jsx("p",{className:"text-sm text-gray-600",children:f.email}),a.jsx("div",{className:"flex gap-2 mt-2",children:f.dataTypes.map(m=>a.jsx("span",{className:"inline-block px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:m==="personal"?"Personales":m==="fiscal"?"Fiscales":m==="bancaria"?"Bancarios":"Empleados"},m))})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.status==="signed"?a.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(Gv,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-semibold",children:"Firmado"})]}):a.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[a.jsx(fo,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-semibold",children:"Pendiente"})]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(f.consentDate).toLocaleDateString("es-ES")})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[f.status==="pending"&&a.jsxs(ge,{size:"sm",onClick:()=>u(f.id),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(Gv,{className:"w-4 h-4 mr-1"}),"Firmar"]}),a.jsx(ge,{size:"sm",variant:"outline",onClick:()=>d(f.id,f.clientName),children:"Descargar"})]})]},f.id))})]})}function hXe(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),[i,s]=w.useState({clientName:"",email:"",bankAccount:"",monthlyAmount:"",concept:"Honorarios profesionales de asesoramiento"}),o=v=>{const{name:x,value:b}=v.target;s(S=>({...S,[x]:b}))},l=async()=>{if(!i.clientName||!i.email||!i.bankAccount||!i.monthlyAmount){alert("Por favor completa todos los campos requeridos");return}if(!/^[A-Z]{2}[0-9]{2}[A-Z0-9]+$/.test(i.bankAccount.replace(/\s/g,""))){alert("Por favor ingresa un IBAN vlido");return}try{const v=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"banking_domiciliation",name:`Domiciliacin Bancaria - ${i.clientName}`,description:`Autorizacin de domiciliacin de ${i.monthlyAmount} mensuales`})});if(!v.ok)throw new Error("Error al crear documento");const x=await v.json();e(b=>[...b,{id:x.id,clientName:i.clientName,email:i.email,bankAccount:i.bankAccount,monthlyAmount:parseFloat(i.monthlyAmount),concept:i.concept,status:"pending"}]),s({clientName:"",email:"",bankAccount:"",monthlyAmount:"",concept:"Honorarios profesionales de asesoramiento"}),r(!1)}catch(v){console.error("Error:",v),alert("Error al generar el documento")}},c=async v=>{try{if(!(await fetch(`/api/documents/${v}/sign`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({signatureType:"digital"})})).ok)throw new Error("Error al firmar documento");e(b=>b.map(S=>S.id===v?{...S,status:"signed",signedDate:new Date().toISOString().split("T")[0]}:S)),alert("Documento de domiciliacin firmado exitosamente")}catch(x){console.error("Error:",x),alert("Error al firmar el documento")}},u=async v=>{try{if(!(await fetch(`/api/documents/${v}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"active"})})).ok)throw new Error("Error al activar domiciliacin");e(b=>b.map(S=>S.id===v?{...S,status:"active",startDate:new Date().toISOString().split("T")[0]}:S)),alert("Domiciliacin activada correctamente")}catch(x){console.error("Error:",x),alert("Error al activar domiciliacin")}},d=async v=>{if(confirm("Ests seguro de que deseas cancelar esta domiciliacin?"))try{if(!(await fetch(`/api/documents/${v}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"cancelled"})})).ok)throw new Error("Error al cancelar domiciliacin");e(b=>b.map(S=>S.id===v?{...S,status:"cancelled"}:S)),alert("Domiciliacin cancelada correctamente")}catch(x){console.error("Error:",x),alert("Error al cancelar domiciliacin")}},f=async(v,x)=>{try{const b=await fetch(`/api/documents/${v}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!b.ok)throw new Error("Error al descargar");const S=await b.blob(),E=window.URL.createObjectURL(S),_=document.createElement("a");_.href=E,_.download=`domiciliacion-${x}.pdf`,document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(E),document.body.removeChild(_)}catch(b){console.error("Error:",b)}},m=v=>{switch(v){case"pending":return"bg-yellow-50 border-yellow-200";case"signed":return"bg-blue-50 border-blue-200";case"active":return"bg-green-50 border-green-200";case"cancelled":return"bg-red-50 border-red-200";default:return"bg-gray-50"}},h=v=>{switch(v){case"pending":return{label:"Pendiente Firma",color:"text-yellow-600"};case"signed":return{label:"Firmado (Pendiente Activar)",color:"text-blue-600"};case"active":return{label:"Activo",color:"text-green-600"};case"cancelled":return{label:"Cancelado",color:"text-red-600"};default:return{label:v,color:"text-gray-600"}}},y=v=>{const x=v.replace(/\s/g,"");return`${x.substring(0,4)}...${x.substring(x.length-4)}`};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Domiciliacin Bancaria de Honorarios"}),a.jsxs(Lr,{open:n,onOpenChange:r,children:[a.jsx(Ml,{asChild:!0,children:a.jsxs(ge,{children:[a.jsx(js,{className:"w-4 h-4 mr-2"}),"Nueva Domiciliacin"]})}),a.jsxs(Mr,{className:"max-w-md",children:[a.jsx(Fr,{children:a.jsx($r,{children:"Nueva Domiciliacin Bancaria"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),a.jsx(Fe,{name:"clientName",placeholder:"Ej: Juan Garca Lpez",value:i.clientName,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email del Cliente *"}),a.jsx(Fe,{name:"email",type:"email",placeholder:"Ej: juan@example.com",value:i.email,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"IBAN *"}),a.jsx(Fe,{name:"bankAccount",placeholder:"Ej: ES91 1234 5678 9123 4567 8901",value:i.bankAccount,onChange:o}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: ES + 20 dgitos"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Importe Mensual () *"}),a.jsx(Fe,{name:"monthlyAmount",type:"number",step:"0.01",placeholder:"Ej: 500.00",value:i.monthlyAmount,onChange:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concepto"}),a.jsx("textarea",{name:"concept",placeholder:"Concepto de los honorarios",value:i.concept,onChange:o,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),a.jsx(ge,{onClick:l,children:"Generar Documento"})]})]})]})]})]}),t.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(mi,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hay domiciliaciones bancarias registradas"})]}):a.jsx("div",{className:"grid gap-4",children:t.map(v=>a.jsxs("div",{className:`p-4 border rounded-lg hover:shadow-md transition ${m(v.status)}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:v.clientName}),a.jsx("p",{className:"text-sm text-gray-600",children:v.email}),a.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[a.jsxs("p",{children:["IBAN: ",a.jsx("strong",{children:y(v.bankAccount)})]}),a.jsxs("p",{children:["Importe: ",a.jsxs("strong",{children:[v.monthlyAmount.toFixed(2)," mensuales"]})]}),a.jsxs("p",{children:["Concepto: ",a.jsx("strong",{children:v.concept})]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx("span",{className:`text-sm font-semibold ${h(v.status).color}`,children:h(v.status).label}),v.startDate&&a.jsxs("span",{className:"text-xs text-gray-500",children:["Desde: ",new Date(v.startDate).toLocaleDateString("es-ES")]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[v.status==="pending"&&a.jsxs(ge,{size:"sm",onClick:()=>c(v.id),className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(Gv,{className:"w-4 h-4 mr-1"}),"Firmar"]}),v.status==="signed"&&a.jsx(ge,{size:"sm",onClick:()=>u(v.id),className:"bg-green-600 hover:bg-green-700",children:"Activar Domiciliacin"}),v.status==="active"&&a.jsx(ge,{size:"sm",variant:"destructive",onClick:()=>d(v.id),children:"Cancelar"}),a.jsx(ge,{size:"sm",variant:"outline",onClick:()=>f(v.id,v.clientName),children:"Descargar"})]})]},v.id))})]})}function CK(){const[t,e]=ll(),[n,r]=w.useState(()=>t.includes("/recibos")?"recibos":t.includes("/proteccion")?"proteccion":t.includes("/bancaria")?"bancaria":t.includes("/subir")?"subir":"todos");w.useEffect(()=>{t.includes("/recibos")?r("recibos"):t.includes("/proteccion")?r("proteccion"):t.includes("/bancaria")?r("bancaria"):t.includes("/subir")?r("subir"):r("todos")},[t]);const i=s=>{switch(r(s),s){case"recibos":e("/documentacion/documentos/recibos");break;case"proteccion":e("/documentacion/documentos/proteccion");break;case"bancaria":e("/documentacion/documentos/bancaria");break;case"subir":e("/documentacion/documentos/subir");break;default:e("/documentacion/documentos")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Documentos"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona recibos de pago, documentacin de proteccin de datos, domiciliaciones bancarias y otros documentos"})]}),a.jsxs(Ul,{value:n,onValueChange:i,className:"w-full",children:[a.jsxs(dl,{className:"grid w-full grid-cols-5",children:[a.jsx(Ln,{value:"todos",children:"Todos"}),a.jsx(Ln,{value:"recibos",children:" Recibos"}),a.jsx(Ln,{value:"proteccion",children:" Proteccin"}),a.jsx(Ln,{value:"bancaria",children:" Bancaria"}),a.jsx(Ln,{value:"subir",children:" Subir"})]}),a.jsx(rr,{value:"todos",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Todos los Documentos"}),a.jsx(vr,{children:"Lista completa de documentos guardados en el sistema"})]}),a.jsx(He,{children:a.jsx(cXe,{})})]})}),a.jsx(rr,{value:"recibos",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:" Recibos de Pago"}),a.jsx(vr,{children:"Gestiona recibos de pago y comprobantes de transacciones"})]}),a.jsx(He,{children:a.jsx(dXe,{})})]})}),a.jsx(rr,{value:"proteccion",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:" Proteccin de Datos"}),a.jsx(vr,{children:"Documentacin de conformidad RGPD y LOPDGDD"})]}),a.jsx(He,{children:a.jsx(fXe,{})})]})}),a.jsx(rr,{value:"bancaria",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:" Domiciliacin Bancaria"}),a.jsx(vr,{children:"Autorizaciones de domiciliacin bancaria con validacin IBAN"})]}),a.jsx(He,{children:a.jsx(hXe,{})})]})}),a.jsx(rr,{value:"subir",className:"space-y-4",children:a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:" Subir Documento"}),a.jsx(vr,{children:"Sube nuevos documentos al sistema con drag & drop"})]}),a.jsx(He,{children:a.jsx(uXe,{})})]})})]})]})}/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function If(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W4({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function z3(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dce(t,e,n="/"){return pXe(t,e,n,!1)}function pXe(t,e,n,r){let i=typeof e=="string"?z3(e):e,s=yp(i.pathname||"/",n);if(s==null)return null;let o=fce(t);mXe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=_Xe(s);l=EXe(o[c],u,r)}return l}function fce(t,e=[],n=[],r="",i=!1){let s=(o,l,c=i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;za(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=_f([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(za(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),fce(o.children,e,m,f,c)),!(o.path==null&&!o.index)&&e.push({path:f,score:NXe(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let c of hce(o.path))s(o,l,!0,c)}),e}function hce(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hce(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function mXe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SXe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gXe=/^:[\w-]+$/,vXe=3,yXe=2,xXe=1,bXe=10,wXe=-2,AK=t=>t==="*";function NXe(t,e){let n=t.split("/"),r=n.length;return n.some(AK)&&(r+=wXe),e&&(r+=yXe),n.filter(i=>!AK(i)).reduce((i,s)=>i+(gXe.test(s)?vXe:s===""?xXe:bXe),r)}function SXe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EXe(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=WE({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=WE({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:_f([s,f.pathname]),pathnameBase:TXe(_f([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=_f([s,f.pathnameBase]))}return o}function WE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jXe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let y=l[m]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function jXe(t,e=!1,n=!0){If(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _Xe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return If(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CXe(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?z3(t):t;return{pathname:n?n.startsWith("/")?n:AXe(n,e):e,search:OXe(r),hash:PXe(i)}}function AXe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function EP(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kXe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pce(t){let e=kXe(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function mce(t,e,n,r=!1){let i;typeof t=="string"?i=z3(t):(i={...t},za(!i.pathname||!i.pathname.includes("?"),EP("?","pathname","search",i)),za(!i.pathname||!i.pathname.includes("#"),EP("#","pathname","hash",i)),za(!i.search||!i.search.includes("#"),EP("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=CXe(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var _f=t=>t.join("/").replace(/\/\/+/g,"/"),TXe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OXe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PXe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MXe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gce=["POST","PUT","PATCH","DELETE"];new Set(gce);var RXe=["GET",...gce];new Set(RXe);var yx=w.createContext(null);yx.displayName="DataRouter";var U_=w.createContext(null);U_.displayName="DataRouterState";w.createContext(!1);var vce=w.createContext({isTransitioning:!1});vce.displayName="ViewTransition";var IXe=w.createContext(new Map);IXe.displayName="Fetchers";var DXe=w.createContext(null);DXe.displayName="Await";var qf=w.createContext(null);qf.displayName="Navigation";var q3=w.createContext(null);q3.displayName="Location";var Ad=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ad.displayName="Route";var U3=w.createContext(null);U3.displayName="RouteError";function LXe(t,{relative:e}={}){za(H_(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(qf),{hash:i,pathname:s,search:o}=ew(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:_f([n,s])),r.createHref({pathname:l,search:o,hash:i})}function H_(){return w.useContext(q3)!=null}function Sg(){return za(H_(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(q3).location}var yce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xce(t){w.useContext(qf).static||w.useLayoutEffect(t)}function V_(){let{isDataRoute:t}=w.useContext(Ad);return t?QXe():FXe()}function FXe(){za(H_(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(yx),{basename:e,navigator:n}=w.useContext(qf),{matches:r}=w.useContext(Ad),{pathname:i}=Sg(),s=JSON.stringify(pce(r)),o=w.useRef(!1);return xce(()=>{o.current=!0}),w.useCallback((c,u={})=>{if(If(o.current,yce),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=mce(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_f([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}w.createContext(null);function $Xe(){let{matches:t}=w.useContext(Ad),e=t[t.length-1];return e?e.params:{}}function ew(t,{relative:e}={}){let{matches:n}=w.useContext(Ad),{pathname:r}=Sg(),i=JSON.stringify(pce(n));return w.useMemo(()=>mce(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function BXe(t,e,n,r,i){za(H_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(qf),{matches:o}=w.useContext(Ad),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let S=f&&f.path||"";bce(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=Sg(),h;h=m;let y=h.pathname||"/",v=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=dce(t,{pathname:v});return If(f||x!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),If(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),VXe(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:_f([d,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:_f([d,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,n,r,i)}function zXe(){let t=XXe(),e=MXe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,o)}var qXe=w.createElement(zXe,null),UXe=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(Ad.Provider,{value:this.props.routeContext},w.createElement(U3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HXe({routeContext:t,match:e,children:n}){let r=w.useContext(yx);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ad.Provider,{value:t},n)}function VXe(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);za(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,h=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let m,h=!1,y=null,v=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||qXe,l&&(c<0&&f===0?(bce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):c===f&&(h=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,f+1)),b=()=>{let S;return m?S=y:h?S=v:d.route.Component?S=w.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,w.createElement(HXe,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(UXe,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):b()},null)}function H3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WXe(t){let e=w.useContext(yx);return za(e,H3(t)),e}function KXe(t){let e=w.useContext(U_);return za(e,H3(t)),e}function GXe(t){let e=w.useContext(Ad);return za(e,H3(t)),e}function V3(t){let e=GXe(t),n=e.matches[e.matches.length-1];return za(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function YXe(){return V3("useRouteId")}function XXe(){let t=w.useContext(U3),e=KXe("useRouteError"),n=V3("useRouteError");return t!==void 0?t:e.errors?.[n]}function QXe(){let{router:t}=WXe("useNavigate"),e=V3("useNavigate"),n=w.useRef(!1);return xce(()=>{n.current=!0}),w.useCallback(async(i,s={})=>{If(n.current,yce),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var kK={};function bce(t,e,n){!e&&!kK[t]&&(kK[t]=!0,If(!1,n))}w.memo(JXe);function JXe({routes:t,future:e,state:n,unstable_onError:r}){return BXe(t,void 0,n,r,e)}var mN="get",gN="application/x-www-form-urlencoded";function W_(t){return t!=null&&typeof t.tagName=="string"}function ZXe(t){return W_(t)&&t.tagName.toLowerCase()==="button"}function eQe(t){return W_(t)&&t.tagName.toLowerCase()==="form"}function tQe(t){return W_(t)&&t.tagName.toLowerCase()==="input"}function nQe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rQe(t,e){return t.button===0&&(!e||e==="_self")&&!nQe(t)}var z2=null;function iQe(){if(z2===null)try{new FormData(document.createElement("form"),0),z2=!1}catch{z2=!0}return z2}var sQe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jP(t){return t!=null&&!sQe.has(t)?(If(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gN}"`),null):t}function aQe(t,e){let n,r,i,s,o;if(eQe(t)){let l=t.getAttribute("action");r=l?yp(l,e):null,n=t.getAttribute("method")||mN,i=jP(t.getAttribute("enctype"))||gN,s=new FormData(t)}else if(ZXe(t)||tQe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?yp(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||mN,i=jP(t.getAttribute("formenctype"))||jP(l.getAttribute("enctype"))||gN,s=new FormData(l,t),!iQe()){let{name:u,type:d,value:f}=t;if(d==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,f)}}else{if(W_(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mN,r=null,i=gN,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function W3(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oQe(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&yp(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lQe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cQe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uQe(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await lQe(s,n);return o.links?o.links():[]}return[]}));return pQe(r.flat(1).filter(cQe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TK(t,e,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return s==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function dQe(t,e,{includeHydrateFallback:n}={}){return fQe(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function fQe(t){return[...new Set(t)]}function hQe(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pQe(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(hQe(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function wce(){let t=w.useContext(yx);return W3(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mQe(){let t=w.useContext(U_);return W3(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var K3=w.createContext(void 0);K3.displayName="FrameworkContext";function Nce(){let t=w.useContext(K3);return W3(t,"You must render this element inside a <HydratedRouter> element"),t}function gQe(t,e){let n=w.useContext(K3),[r,i]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,m=w.useRef(null);w.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=b=>{b.forEach(S=>{o(S.isIntersecting)})},x=new IntersectionObserver(v,{threshold:.5});return m.current&&x.observe(m.current),()=>{x.disconnect()}}},[t]),w.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let h=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:db(l,h),onBlur:db(c,y),onMouseEnter:db(u,h),onMouseLeave:db(d,y),onTouchStart:db(f,h)}]:[!1,m,{}]}function db(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function vQe({page:t,...e}){let{router:n}=wce(),r=w.useMemo(()=>dce(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(xQe,{page:t,matches:r,...e}):null}function yQe(t){let{manifest:e,routeModules:n}=Nce(),[r,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return uQe(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function xQe({page:t,matches:e,...n}){let r=Sg(),{manifest:i,routeModules:s}=Nce(),{basename:o}=wce(),{loaderData:l,matches:c}=mQe(),u=w.useMemo(()=>TK(t,e,c,i,r,"data"),[t,e,c,i,r]),d=w.useMemo(()=>TK(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,v=!1;if(e.forEach(b=>{let S=i.routes[b.route.id];!S||!S.hasLoader||(!u.some(E=>E.route.id===b.route.id)&&b.route.id in l&&s[b.route.id]?.shouldRevalidate||S.hasClientLoader?v=!0:y.add(b.route.id))}),y.size===0)return[];let x=oQe(t,o,"data");return v&&y.size>0&&x.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[o,l,r,i,u,e,t,s]),m=w.useMemo(()=>dQe(d,i),[d,i]),h=yQe(d);return w.createElement(w.Fragment,null,f.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),h.map(({key:y,link:v})=>w.createElement("link",{key:y,nonce:n.nonce,...v})))}function bQe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sce&&(window.__reactRouterVersion="7.9.5")}catch{}var Ece=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jce=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:y}=w.useContext(qf),v=typeof u=="string"&&Ece.test(u),x,b=!1;if(typeof u=="string"&&v&&(x=u,Sce))try{let P=new URL(window.location.href),F=u.startsWith("//")?new URL(P.protocol+u):new URL(u),R=yp(F.pathname,y);F.origin===P.origin&&R!=null?u=R+F.search+F.hash:b=!0}catch{If(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=LXe(u,{relative:i}),[E,_,C]=gQe(r,m),O=EQe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function M(P){e&&e(P),P.defaultPrevented||O(P)}let A=w.createElement("a",{...m,...C,href:x||S,onClick:b||s?e:M,ref:bQe(h,_),target:c,"data-discover":!v&&n==="render"?"true":void 0});return E&&!v?w.createElement(w.Fragment,null,A,w.createElement(vQe,{page:S})):A});jce.displayName="Link";var wQe=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...u},d){let f=ew(o,{relative:u.relative}),m=Sg(),h=w.useContext(U_),{navigator:y,basename:v}=w.useContext(qf),x=h!=null&&kQe(f)&&l===!0,b=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,S=m.pathname,E=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(S=S.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&v&&(E=yp(E,v)||E);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=S===b||!i&&S.startsWith(b)&&S.charAt(_)==="/",O=E!=null&&(E===b||!i&&E.startsWith(b)&&E.charAt(b.length)==="/"),M={isActive:C,isPending:O,isTransitioning:x},A=C?e:void 0,P;typeof r=="function"?P=r(M):P=[r,C?"active":null,O?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let F=typeof s=="function"?s(M):s;return w.createElement(jce,{...u,"aria-current":A,className:P,ref:d,style:F,to:o,viewTransition:l},typeof c=="function"?c(M):c)});wQe.displayName="NavLink";var NQe=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=mN,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let y=CQe(),v=AQe(l,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&Ece.test(l),S=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let _=E.nativeEvent.submitter,C=_?.getAttribute("formmethod")||o;y(_||E.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return w.createElement("form",{ref:h,method:x,action:v,onSubmit:r?c:S,...m,"data-discover":!b&&t==="render"?"true":void 0})});NQe.displayName="Form";function SQe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _ce(t){let e=w.useContext(yx);return za(e,SQe(t)),e}function EQe(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=V_(),c=Sg(),u=ew(t,{relative:s});return w.useCallback(d=>{if(rQe(d,e)){d.preventDefault();let f=n!==void 0?n:W4(c)===W4(u);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,r,e,t,i,s,o])}var jQe=0,_Qe=()=>`__${String(++jQe)}__`;function CQe(){let{router:t}=_ce("useSubmit"),{basename:e}=w.useContext(qf),n=YXe();return w.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=aQe(r,e);if(i.navigate===!1){let d=i.fetcherKey||_Qe();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function AQe(t,{relative:e}={}){let{basename:n}=w.useContext(qf),r=w.useContext(Ad);za(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ew(t||".",{relative:e})},o=Sg();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:_f([n,s.pathname])),W4(s)}function kQe(t,{relative:e}={}){let n=w.useContext(vce);za(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_ce("useViewTransitionState"),i=ew(t,{relative:e});if(!n.isTransitioning)return!1;let s=yp(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=yp(n.nextLocation.pathname,r)||n.nextLocation.pathname;return WE(i.pathname,o)!=null||WE(i.pathname,s)!=null}const ml="/api/gestoria-budgets";async function TQe(t){const e=new URLSearchParams;t?.tipoGestoria&&e.append("tipo",t.tipoGestoria),t?.estado&&e.append("estado",t.estado),t?.nombreCliente&&e.append("nombreCompleto",t.nombreCliente),t?.nifCif&&e.append("cifNif",t.nifCif),t?.email&&e.append("email",t.email),t?.fechaDesde&&e.append("fechaDesde",t.fechaDesde),t?.fechaHasta&&e.append("fechaHasta",t.fechaHasta);const n=await fetch(`${ml}?${e}`);if(!n.ok)throw new Error("Error al cargar presupuestos");return(await n.json()).data}async function OQe(t){const e=await fetch(`${ml}/${t}`);if(!e.ok)throw new Error("Error al cargar presupuesto");return(await e.json()).data}async function PQe(t){const e=await fetch(ml,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const r=await e.json();throw new Error(r.message||"Error al crear presupuesto")}return(await e.json()).data}async function MQe(t){if(!(await fetch(`${ml}/${t}`,{method:"DELETE"})).ok)throw new Error("Error al eliminar presupuesto")}async function RQe(t,e){const n=await fetch(`${ml}/calculate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({calculation:t,tipo:e})});if(!n.ok)throw new Error("Error al calcular presupuesto");return(await n.json()).data}async function IQe(t,e){if(!(await fetch(`${ml}/${t}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e||{})})).ok)throw new Error("Error al enviar presupuesto")}async function DQe(t){const e=await fetch(`${ml}/${t}/accept`,{method:"POST"});if(!e.ok)throw new Error("Error al aceptar presupuesto");return(await e.json()).data}async function LQe(t,e){const n=await fetch(`${ml}/${t}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({motivoRechazo:e})});if(!n.ok)throw new Error("Error al rechazar presupuesto");return(await n.json()).data}async function FQe(t,e){const n=await fetch(`${ml}/${t}/convert`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e||{})});if(!n.ok)throw new Error("Error al convertir presupuesto");return(await n.json()).data}async function $Qe(t){const e=await fetch(`${ml}/${t}/can-convert`);if(!e.ok)throw new Error("Error al verificar conversin");return(await e.json()).data}async function BQe(t,e,n){const r=new URLSearchParams;t&&r.append("tipo",t);const i=await fetch(`${ml}/stats/summary?${r}`);if(!i.ok)throw new Error("Error al cargar estadsticas");return(await i.json()).data}async function zQe(t){const e=await fetch(`${ml}/config/active/${t}`);if(!e.ok)throw new Error(`No hay configuracin activa para ${t}`);return(await e.json()).data}async function qQe(t,e){const n=await fetch(`${ml}/config/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Error al actualizar configuracin");return(await n.json()).data}function UQe(t){return Wt({queryKey:["gestoria-budgets",t],queryFn:()=>TQe(t)})}function HQe(t){return Wt({queryKey:["gestoria-budget",t],queryFn:()=>OQe(t),enabled:!!t})}function VQe(){const t=cl();return Xt({mutationFn:PQe,onSuccess:()=>{t.invalidateQueries({queryKey:["gestoria-budgets"]})}})}function WQe(){const t=cl();return Xt({mutationFn:MQe,onSuccess:()=>{t.invalidateQueries({queryKey:["gestoria-budgets"]})}})}function KQe(){return Xt({mutationFn:({calculation:t,tipo:e})=>RQe(t,e)})}function Cce(){const t=cl();return Xt({mutationFn:({id:e,options:n})=>IQe(e,n),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["gestoria-budgets"]}),t.invalidateQueries({queryKey:["gestoria-budget",n.id]})}})}function GQe(){const t=cl();return Xt({mutationFn:DQe,onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["gestoria-budgets"]}),t.invalidateQueries({queryKey:["gestoria-budget",n]})}})}function YQe(){const t=cl();return Xt({mutationFn:({id:e,motivoRechazo:n})=>LQe(e,n),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["gestoria-budgets"]}),t.invalidateQueries({queryKey:["gestoria-budget",n.id]})}})}function XQe(){const t=cl();return Xt({mutationFn:({id:e,options:n})=>FQe(e,n),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["gestoria-budgets"]}),t.invalidateQueries({queryKey:["gestoria-budget",n.id]}),t.invalidateQueries({queryKey:["clients"]})}})}function QQe(t){return Wt({queryKey:["can-convert-budget",t],queryFn:()=>$Qe(t),enabled:!!t})}function JQe(t,e,n){return Wt({queryKey:["budget-statistics",t,e,n],queryFn:()=>BQe(t)})}function K4(t){return Wt({queryKey:["active-config",t],queryFn:()=>zQe(t),enabled:!!t})}function ZQe(){const t=cl();return Xt({mutationFn:({id:e,input:n})=>qQe(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["budget-configs"]}),t.invalidateQueries({queryKey:["active-config"]})}})}function Ace(t,e){window.open(`${ml}/${t}/pdf`,"_blank")}function eJe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let G4=1;class tJe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:G4++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const l=i.then(async u=>{if(o=["resolve",u],ye.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(rJe(u)&&!u.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,y=typeof f=="object"&&!ye.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...y})}else if(u instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,y=typeof f=="object"&&!ye.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:m,...y})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,y=typeof f=="object"&&!ye.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:m,...y})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){s=!1;const d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description,h=typeof d=="object"&&!ye.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...h})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=n?.id||G4++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const hc=new tJe,nJe=(t,e)=>{const n=e?.id||G4++;return hc.addToast({title:t,...e,id:n}),n},rJe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",iJe=nJe,sJe=()=>hc.toasts,aJe=()=>hc.getActiveToasts(),Da=Object.assign(iJe,{success:hc.success,info:hc.info,warning:hc.warning,error:hc.error,custom:hc.custom,message:hc.message,promise:hc.promise,dismiss:hc.dismiss,loading:hc.loading},{getHistory:sJe,getToasts:aJe});eJe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function oJe(){const t=V_(),[e,n]=w.useState({}),[r,i]=w.useState(""),[s,o]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(!1),{data:f,isLoading:m}=UQe(e),{data:h}=JQe(e.tipoGestoria),y=WQe(),v=Cce(),x=f?.filter(C=>C.nombreCliente.toLowerCase().includes(r.toLowerCase())||C.nifCif?.toLowerCase().includes(r.toLowerCase())||C.numero.toLowerCase().includes(r.toLowerCase()))||[],b=async()=>{if(s)try{await y.mutateAsync(s),Da.success("Presupuesto eliminado correctamente"),c(!1),o(null)}catch(C){Da.error(C.message||"Error al eliminar presupuesto")}},S=async()=>{if(s)try{await v.mutateAsync({id:s}),Da.success("Presupuesto enviado por email"),d(!1),o(null)}catch(C){Da.error(C.message||"Error al enviar presupuesto")}},E=C=>{const O={BORRADOR:{variant:"secondary",icon:mi},ENVIADO:{variant:"default",icon:Yh},ACEPTADO:{variant:"default",icon:Gv},RECHAZADO:{variant:"destructive",icon:Nc},FACTURADO:{variant:"default",icon:wN}},M=O[C]||O.BORRADOR,A=M.icon;return a.jsxs(it,{variant:M.variant,className:"flex items-center gap-1",children:[a.jsx(A,{className:"w-3 h-3"}),C]})},_=C=>a.jsx(it,{variant:C==="OFICIAL"?"default":"outline",children:C});return a.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Presupuestos de Gestora"}),a.jsx("p",{className:"text-muted-foreground",children:"Gestin completa de presupuestos OFICIAL y ONLINE"})]}),a.jsxs(ge,{onClick:()=>t("/presupuestos/nuevo"),children:[a.jsx(js,{className:"w-4 h-4 mr-2"}),"Nuevo Presupuesto"]})]}),h&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs(Ue,{children:[a.jsx(lt,{className:"pb-2",children:a.jsx(ut,{className:"text-sm font-medium text-muted-foreground",children:"Total Presupuestos"})}),a.jsx(He,{children:a.jsx("div",{className:"text-2xl font-bold",children:h.totalPresupuestos})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{className:"pb-2",children:a.jsx(ut,{className:"text-sm font-medium text-muted-foreground",children:"Enviados"})}),a.jsx(He,{children:a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.presupuestosEnviados})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{className:"pb-2",children:a.jsx(ut,{className:"text-sm font-medium text-muted-foreground",children:"Aceptados"})}),a.jsx(He,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.presupuestosAceptados})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{className:"pb-2",children:a.jsx(ut,{className:"text-sm font-medium text-muted-foreground",children:"Tasa Conversin"})}),a.jsx(He,{children:a.jsxs("div",{className:"text-2xl font-bold flex items-center gap-1",children:[a.jsx(zy,{className:"w-5 h-5 text-green-600"}),h.tasaConversion.toFixed(1),"%"]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{className:"pb-2",children:a.jsx(ut,{className:"text-sm font-medium text-muted-foreground",children:"Valor Total"})}),a.jsx(He,{children:a.jsxs("div",{className:"text-2xl font-bold flex items-center gap-1",children:[a.jsx(wN,{className:"w-5 h-5"}),h.valorTotal.toLocaleString("es-ES"),""]})})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(FG,{className:"w-5 h-5"}),"Filtros"]})}),a.jsx(He,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ug,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),a.jsx(Fe,{placeholder:"Buscar por nombre, CIF/NIF o nmero...",value:r,onChange:C=>i(C.target.value),className:"pl-9"})]}),a.jsxs(_n,{value:e.tipoGestoria||"all",onValueChange:C=>n(O=>({...O,tipoGestoria:C==="all"?void 0:C})),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Tipo de gestora"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todos los tipos"}),a.jsx(Qe,{value:"OFICIAL",children:"OFICIAL"}),a.jsx(Qe,{value:"ONLINE",children:"ONLINE"})]})]}),a.jsxs(_n,{value:e.estado||"all",onValueChange:C=>n(O=>({...O,estado:C==="all"?void 0:C})),children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Estado"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"all",children:"Todos los estados"}),a.jsx(Qe,{value:"BORRADOR",children:"Borrador"}),a.jsx(Qe,{value:"ENVIADO",children:"Enviado"}),a.jsx(Qe,{value:"ACEPTADO",children:"Aceptado"}),a.jsx(Qe,{value:"RECHAZADO",children:"Rechazado"}),a.jsx(Qe,{value:"FACTURADO",children:"Facturado"})]})]}),a.jsx(ge,{variant:"outline",onClick:()=>{n({}),i("")},children:"Limpiar Filtros"})]})})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Lista de Presupuestos"}),a.jsxs(vr,{children:[x.length," presupuesto(s) encontrado(s)"]})]}),a.jsx(He,{children:m?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando presupuestos..."})]}):x.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(mi,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay presupuestos"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Crea tu primer presupuesto para comenzar"}),a.jsxs(ge,{onClick:()=>t("/presupuestos/nuevo"),children:[a.jsx(js,{className:"w-4 h-4 mr-2"}),"Crear Presupuesto"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(oo,{children:[a.jsx(lo,{children:a.jsxs(er,{children:[a.jsx(Et,{children:"Nmero"}),a.jsx(Et,{children:"Cliente"}),a.jsx(Et,{children:"CIF/NIF"}),a.jsx(Et,{children:"Tipo"}),a.jsx(Et,{children:"Estado"}),a.jsx(Et,{children:"Total"}),a.jsx(Et,{children:"Fecha"}),a.jsx(Et,{className:"text-right",children:"Acciones"})]})}),a.jsx(co,{children:x.map(C=>a.jsxs(er,{className:"cursor-pointer hover:bg-muted/50",children:[a.jsx(yt,{className:"font-mono font-medium",children:C.numero}),a.jsx(yt,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:C.nombreCliente}),C.email&&a.jsx("div",{className:"text-sm text-muted-foreground",children:C.email})]})}),a.jsx(yt,{className:"font-mono text-sm",children:C.nifCif}),a.jsx(yt,{children:_(C.tipoGestoria)}),a.jsx(yt,{children:E(C.estado)}),a.jsx(yt,{className:"font-semibold",children:C.totalFinal.toLocaleString("es-ES",{style:"currency",currency:"EUR"})}),a.jsx(yt,{className:"text-sm text-muted-foreground",children:Ba(new Date(C.fechaCreacion),"dd MMM yyyy",{locale:yc})}),a.jsx(yt,{className:"text-right",children:a.jsxs(GS,{children:[a.jsx(YS,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"sm",children:a.jsx(dI,{className:"w-4 h-4"})})}),a.jsxs(e1,{align:"end",children:[a.jsxs(xa,{onClick:()=>t(`/presupuestos/${C.id}`),children:[a.jsx(op,{className:"w-4 h-4 mr-2"}),"Ver Detalles"]}),a.jsxs(xa,{onClick:()=>t(`/presupuestos/${C.id}/editar`),children:[a.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Editar"]}),a.jsxs(xa,{onClick:()=>Ace(C.id,C.numero),children:[a.jsx(ia,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]}),C.estado==="BORRADOR"&&a.jsxs(xa,{onClick:()=>{o(C.id),d(!0)},children:[a.jsx(Yh,{className:"w-4 h-4 mr-2"}),"Enviar por Email"]}),a.jsx(t1,{}),a.jsxs(xa,{className:"text-destructive",onClick:()=>{o(C.id),c(!0)},children:[a.jsx(Gfe,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})})]},C.id))})]})})})]}),a.jsx(Lr,{open:l,onOpenChange:c,children:a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Eliminar presupuesto?"}),a.jsx(Mi,{children:"Esta accin no se puede deshacer. El presupuesto ser eliminado permanentemente."})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),a.jsx(ge,{variant:"destructive",onClick:b,disabled:y.isPending,children:y.isPending?"Eliminando...":"Eliminar"})]})]})}),a.jsx(Lr,{open:u,onOpenChange:d,children:a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Enviar presupuesto por email"}),a.jsx(Mi,{children:"El presupuesto ser enviado al email del cliente con el PDF adjunto."})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),a.jsxs(ge,{onClick:S,disabled:v.isPending,children:[a.jsx(Yh,{className:"w-4 h-4 mr-2"}),v.isPending?"Enviando...":"Enviar"]})]})]})})]})}function OK(){const t=V_(),[e,n]=w.useState("OFICIAL"),[r,i]=w.useState(null),{data:s}=K4(e),o=VQe(),l=KQe(),{register:c,handleSubmit:u,watch:d,setValue:f,formState:{errors:m}}=gne({defaultValues:{tipoGestoria:"OFICIAL",creadoPor:"admin",configId:""}}),h=d();w.useEffect(()=>{if(!s)return;const v={facturasMes:h.facturasMes||0,nominasMes:h.nominasMes,facturacion:h.facturacion||0,sistemaTributacion:h.sistemaTributacion||"",periodoDeclaraciones:h.periodoDeclaraciones||"",modelo303:h.modelo303,modelo111:h.modelo111,modelo115:h.modelo115,modelo130:h.modelo130,modelo100:h.modelo100,modelo349:h.modelo349,modelo347:h.modelo347,solicitudCertificados:h.solicitudCertificados,censosAEAT:h.censosAEAT,recepcionNotificaciones:h.recepcionNotificaciones,estadisticasINE:h.estadisticasINE,solicitudAyudas:h.solicitudAyudas,conLaboralSocial:h.conLaboralSocial,aplicaDescuento:h.aplicaDescuento,tipoDescuento:h.tipoDescuento,valorDescuento:h.valorDescuento},x=setTimeout(()=>{l.mutate({calculation:v,tipo:e},{onSuccess:b=>i(b),onError:()=>i(null)})},500);return()=>clearTimeout(x)},[h,s,e]),w.useEffect(()=>{s&&f("configId",s.id)},[s,f]);const y=async v=>{try{const x=await o.mutateAsync({...v,tipoGestoria:e});Da.success("Presupuesto creado exitosamente"),t(`/presupuestos/${x.id}`)}catch(x){Da.error(x.message||"Error al crear presupuesto")}};return a.jsxs("div",{className:"container mx-auto py-6 max-w-7xl space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>t("/presupuestos"),children:[a.jsx(By,{className:"w-4 h-4 mr-2"}),"Volver"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Nuevo Presupuesto"}),a.jsx("p",{className:"text-muted-foreground",children:"Complete los datos para generar el presupuesto"})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(it,{variant:e==="OFICIAL"?"default":"outline",children:e})})]}),a.jsx("form",{onSubmit:u(y),children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Tipo de Gestora"})}),a.jsx(He,{children:a.jsxs(_n,{value:e,onValueChange:v=>n(v),children:[a.jsx(Sn,{children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"OFICIAL",children:"OFICIAL"}),a.jsx(Qe,{value:"ONLINE",children:"ONLINE"})]})]})})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Datos del Cliente"}),a.jsx(vr,{children:"Informacin del cliente potencial"})]}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"nombreCliente",children:"Nombre Completo *"}),a.jsx(Fe,{id:"nombreCliente",...c("nombreCliente",{required:!0}),placeholder:"Nombre o razn social"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"nifCif",children:"CIF/NIF *"}),a.jsx(Fe,{id:"nifCif",...c("nifCif",{required:!0}),placeholder:"12345678A"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"email",children:"Email *"}),a.jsx(Fe,{id:"email",type:"email",...c("email",{required:!0}),placeholder:"cliente@ejemplo.com"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"telefono",children:"Telfono"}),a.jsx(Fe,{id:"telefono",...c("telefono"),placeholder:"600 123 456"})]})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"direccion",children:"Direccin"}),a.jsx(Fe,{id:"direccion",...c("direccion"),placeholder:"Calle, nmero, ciudad"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"personaContacto",children:"Persona de Contacto"}),a.jsx(Fe,{id:"personaContacto",...c("personaContacto"),placeholder:"Nombre de contacto"})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Datos Empresariales"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"facturacion",children:"Facturacin Anual *"}),a.jsx(Fe,{id:"facturacion",type:"number",...c("facturacion",{required:!0,valueAsNumber:!0}),placeholder:"50000"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"facturasMes",children:"Facturas/Mes *"}),a.jsx(Fe,{id:"facturasMes",type:"number",...c("facturasMes",{required:!0,valueAsNumber:!0}),placeholder:"10"})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"nominasMes",children:"Nminas/Mes"}),a.jsx(Fe,{id:"nominasMes",type:"number",...c("nominasMes",{valueAsNumber:!0}),placeholder:"2"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"sistemaTributacion",children:"Sistema Tributacin *"}),a.jsxs(_n,{onValueChange:v=>f("sistemaTributacion",v),value:h.sistemaTributacion,children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Seleccionar"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"Estimacin Directa",children:"Estimacin Directa"}),a.jsx(Qe,{value:"Estimacin Objetiva",children:"Estimacin Objetiva"}),a.jsx(Qe,{value:"Mdulos",children:"Mdulos"})]})]})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"periodoDeclaraciones",children:"Periodo Declaraciones *"}),a.jsxs(_n,{onValueChange:v=>f("periodoDeclaraciones",v),value:h.periodoDeclaraciones,children:[a.jsx(Sn,{children:a.jsx(Cn,{placeholder:"Seleccionar"})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"Mensual",children:"Mensual"}),a.jsx(Qe,{value:"Trimestral",children:"Trimestral"}),a.jsx(Qe,{value:"Anual",children:"Anual"})]})]})]})]})]})]}),a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Modelos Fiscales"}),a.jsx(vr,{children:"Seleccione los modelos que aplican"})]}),a.jsx(He,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"modelo303",checked:h.modelo303,onCheckedChange:v=>f("modelo303",v)}),a.jsx(_e,{htmlFor:"modelo303",children:"Modelo 303 (IVA)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"modelo111",checked:h.modelo111,onCheckedChange:v=>f("modelo111",v)}),a.jsx(_e,{htmlFor:"modelo111",children:"Modelo 111 (IRPF)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"modelo115",checked:h.modelo115,onCheckedChange:v=>f("modelo115",v)}),a.jsx(_e,{htmlFor:"modelo115",children:"Modelo 115 (Alquileres)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"modelo130",checked:h.modelo130,onCheckedChange:v=>f("modelo130",v)}),a.jsx(_e,{htmlFor:"modelo130",children:"Modelo 130 (Autnomos)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"modelo100",checked:h.modelo100,onCheckedChange:v=>f("modelo100",v)}),a.jsx(_e,{htmlFor:"modelo100",children:"Modelo 100 (Renta)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"modelo349",checked:h.modelo349,onCheckedChange:v=>f("modelo349",v)}),a.jsx(_e,{htmlFor:"modelo349",children:"Modelo 349 (Intracomunitarias)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"modelo347",checked:h.modelo347,onCheckedChange:v=>f("modelo347",v)}),a.jsx(_e,{htmlFor:"modelo347",children:"Modelo 347 (Terceros)"})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Servicios Adicionales"})}),a.jsx(He,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"solicitudCertificados",checked:h.solicitudCertificados,onCheckedChange:v=>f("solicitudCertificados",v)}),a.jsx(_e,{htmlFor:"solicitudCertificados",children:"Solicitud Certificados"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"censosAEAT",checked:h.censosAEAT,onCheckedChange:v=>f("censosAEAT",v)}),a.jsx(_e,{htmlFor:"censosAEAT",children:"Censos AEAT"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"recepcionNotificaciones",checked:h.recepcionNotificaciones,onCheckedChange:v=>f("recepcionNotificaciones",v)}),a.jsx(_e,{htmlFor:"recepcionNotificaciones",children:"Recepcin Notificaciones"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"estadisticasINE",checked:h.estadisticasINE,onCheckedChange:v=>f("estadisticasINE",v)}),a.jsx(_e,{htmlFor:"estadisticasINE",children:"Estadsticas INE"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"solicitudAyudas",checked:h.solicitudAyudas,onCheckedChange:v=>f("solicitudAyudas",v)}),a.jsx(_e,{htmlFor:"solicitudAyudas",children:"Solicitud Ayudas"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"conLaboralSocial",checked:h.conLaboralSocial,onCheckedChange:v=>f("conLaboralSocial",v)}),a.jsx(_e,{htmlFor:"conLaboralSocial",children:"Con Laboral/Social"})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Descuentos"})}),a.jsxs(He,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{id:"aplicaDescuento",checked:h.aplicaDescuento,onCheckedChange:v=>f("aplicaDescuento",v)}),a.jsx(_e,{htmlFor:"aplicaDescuento",children:"Aplicar Descuento"})]}),h.aplicaDescuento&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"tipoDescuento",children:"Tipo"}),a.jsxs(_n,{onValueChange:v=>f("tipoDescuento",v),value:h.tipoDescuento,children:[a.jsx(Sn,{children:a.jsx(Cn,{})}),a.jsxs(En,{children:[a.jsx(Qe,{value:"PORCENTAJE",children:"Porcentaje (%)"}),a.jsx(Qe,{value:"FIJO",children:"Fijo ()"})]})]})]}),a.jsxs("div",{children:[a.jsx(_e,{htmlFor:"valorDescuento",children:"Valor"}),a.jsx(Fe,{id:"valorDescuento",type:"number",...c("valorDescuento",{valueAsNumber:!0}),placeholder:h.tipoDescuento==="PORCENTAJE"?"10":"50"})]})]})]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs(Ue,{className:"sticky top-6",children:[a.jsx(lt,{children:a.jsxs(ut,{className:"flex items-center gap-2",children:[a.jsx(b1,{className:"w-5 h-5"}),"Resumen del Presupuesto"]})}),a.jsx(He,{className:"space-y-4",children:l.isPending?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Calculando..."})]}):r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Contabilidad:"}),a.jsx("span",{className:"font-medium",children:r.totalContabilidad.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),r.totalLaboral>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Laboral:"}),a.jsx("span",{className:"font-medium",children:r.totalLaboral.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),a.jsx(Ls,{}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{className:"font-medium",children:r.subtotal.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),r.descuentoCalculado>0&&a.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[a.jsx("span",{children:"Descuento:"}),a.jsxs("span",{className:"font-medium",children:["-",r.descuentoCalculado.toLocaleString("es-ES",{style:"currency",currency:"EUR"})]})]}),a.jsx(Ls,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total Final:"}),a.jsx("span",{className:"text-primary",children:r.totalFinal.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]})]}),a.jsx("div",{className:"pt-4",children:a.jsxs(ge,{type:"submit",className:"w-full",size:"lg",disabled:o.isPending,children:[a.jsx(cg,{className:"w-4 h-4 mr-2"}),o.isPending?"Guardando...":"Crear Presupuesto"]})})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(mi,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Complete los campos para ver el clculo"})]})})]})})]})})]})}function lJe(){const{id:t}=$Xe(),e=V_(),[n,r]=w.useState(!1),[i,s]=w.useState(!1),[o,l]=w.useState(""),{data:c,isLoading:u}=HQe(t),{data:d}=QQe(t),f=GQe(),m=YQe(),h=XQe(),y=Cce();if(u)return a.jsxs("div",{className:"container mx-auto py-12 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Cargando presupuesto..."})]});if(!c)return a.jsxs("div",{className:"container mx-auto py-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Presupuesto no encontrado"}),a.jsx(ge,{onClick:()=>e("/presupuestos"),children:"Volver a la lista"})]});const v=async()=>{try{await f.mutateAsync(t),Da.success("Presupuesto aceptado")}catch(_){Da.error(_.message)}},x=async()=>{if(!o.trim()){Da.error("Debe indicar el motivo del rechazo");return}try{await m.mutateAsync({id:t,motivoRechazo:o}),Da.success("Presupuesto rechazado"),r(!1)}catch(_){Da.error(_.message)}},b=async()=>{try{const _=await h.mutateAsync({id:t});Da.success("Cliente creado exitosamente"),e(`/clientes/${_.clientId}`)}catch(_){Da.error(_.message)}},S=async()=>{try{await y.mutateAsync({id:t}),Da.success("Presupuesto enviado")}catch(_){Da.error(_.message)}},E=_=>{const C={BORRADOR:"bg-gray-500",ENVIADO:"bg-blue-500",ACEPTADO:"bg-green-500",RECHAZADO:"bg-red-500",FACTURADO:"bg-purple-500"};return a.jsx(it,{className:C[_]||"",children:_})};return a.jsxs("div",{className:"container mx-auto py-6 max-w-6xl space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>e("/presupuestos"),children:[a.jsx(By,{className:"w-4 h-4 mr-2"}),"Volver"]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold",children:["Presupuesto ",c.numero]}),a.jsxs("p",{className:"text-muted-foreground",children:["Creado el ",Ba(new Date(c.fechaCreacion),"dd 'de' MMMM 'de' yyyy",{locale:yc})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[E(c.estado),a.jsx(it,{variant:c.tipoGestoria==="OFICIAL"?"default":"outline",children:c.tipoGestoria})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Acciones"})}),a.jsxs(He,{className:"flex flex-wrap gap-2",children:[a.jsxs(ge,{onClick:()=>Ace(c.id,c.numero),children:[a.jsx(ia,{className:"w-4 h-4 mr-2"}),"Descargar PDF"]}),c.estado==="BORRADOR"&&a.jsxs(a.Fragment,{children:[a.jsxs(ge,{onClick:S,disabled:y.isPending,children:[a.jsx(Yh,{className:"w-4 h-4 mr-2"}),y.isPending?"Enviando...":"Enviar por Email"]}),a.jsxs(ge,{variant:"outline",onClick:()=>e(`/presupuestos/${t}/editar`),children:[a.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Editar"]})]}),(c.estado==="ENVIADO"||c.estado==="BORRADOR")&&a.jsxs(a.Fragment,{children:[a.jsxs(ge,{onClick:v,disabled:f.isPending,children:[a.jsx(Gv,{className:"w-4 h-4 mr-2"}),f.isPending?"Aceptando...":"Marcar Aceptado"]}),a.jsxs(ge,{variant:"destructive",onClick:()=>r(!0),disabled:m.isPending,children:[a.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Rechazar"]})]}),c.estado==="ACEPTADO"&&d?.canConvert&&a.jsxs(ge,{onClick:()=>s(!0),disabled:h.isPending,children:[a.jsx(Qfe,{className:"w-4 h-4 mr-2"}),h.isPending?"Convirtiendo...":"Convertir a Cliente"]}),c.estado==="ACEPTADO"&&!d?.canConvert&&a.jsx("div",{className:"text-sm text-muted-foreground",children:d?.reason||"No se puede convertir a cliente"})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Informacin del Cliente"})}),a.jsx(He,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Nombre"}),a.jsx("p",{className:"font-medium",children:c.nombreCliente})]}),a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"CIF/NIF"}),a.jsx("p",{className:"font-medium font-mono",children:c.nifCif})]}),a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-medium",children:c.email})]}),c.telefono&&a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Telfono"}),a.jsx("p",{className:"font-medium",children:c.telefono})]}),c.direccion&&a.jsxs("div",{className:"col-span-2",children:[a.jsx(_e,{className:"text-muted-foreground",children:"Direccin"}),a.jsx("p",{className:"font-medium",children:c.direccion})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Datos Empresariales"})}),a.jsx(He,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Facturacin Anual"}),a.jsx("p",{className:"font-medium",children:c.facturacion.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Facturas/Mes"}),a.jsx("p",{className:"font-medium",children:c.facturasMes})]}),c.nominasMes&&a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Nminas/Mes"}),a.jsx("p",{className:"font-medium",children:c.nominasMes})]}),a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Sistema Tributacin"}),a.jsx("p",{className:"font-medium",children:c.sistemaTributacion})]}),a.jsxs("div",{children:[a.jsx(_e,{className:"text-muted-foreground",children:"Periodo Declaraciones"}),a.jsx("p",{className:"font-medium",children:c.periodoDeclaraciones})]})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Modelos Fiscales"})}),a.jsx(He,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.modelo303&&a.jsx(it,{children:"Modelo 303"}),c.modelo111&&a.jsx(it,{children:"Modelo 111"}),c.modelo115&&a.jsx(it,{children:"Modelo 115"}),c.modelo130&&a.jsx(it,{children:"Modelo 130"}),c.modelo100&&a.jsx(it,{children:"Modelo 100"}),c.modelo349&&a.jsx(it,{children:"Modelo 349"}),c.modelo347&&a.jsx(it,{children:"Modelo 347"})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Servicios Adicionales"})}),a.jsx(He,{children:a.jsxs("div",{className:"space-y-2",children:[c.solicitudCertificados&&a.jsx("div",{children:" Solicitud de Certificados"}),c.censosAEAT&&a.jsx("div",{children:" Censos AEAT"}),c.recepcionNotificaciones&&a.jsx("div",{children:" Recepcin de Notificaciones"}),c.estadisticasINE&&a.jsx("div",{children:" Estadsticas INE"}),c.solicitudAyudas&&a.jsx("div",{children:" Solicitud de Ayudas"}),c.conLaboralSocial&&a.jsx("div",{children:" Con Laboral/Social"})]})})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Resumen Econmico"})}),a.jsxs(He,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Contabilidad:"}),a.jsx("span",{className:"font-medium",children:c.totalContabilidad.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),c.totalLaboral>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Laboral:"}),a.jsx("span",{className:"font-medium",children:c.totalLaboral.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),a.jsx(Ls,{}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{className:"font-medium",children:c.subtotal.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]}),c.aplicaDescuento&&c.descuentoCalculado>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsxs("span",{children:["Descuento (",c.tipoDescuento==="PORCENTAJE"?`${c.valorDescuento}%`:"Fijo","):"]}),a.jsxs("span",{className:"font-medium",children:["-",c.descuentoCalculado.toLocaleString("es-ES",{style:"currency",currency:"EUR"})]})]}),a.jsx(Ls,{}),a.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[a.jsx("span",{children:"Total Final:"}),a.jsx("span",{className:"text-primary",children:c.totalFinal.toLocaleString("es-ES",{style:"currency",currency:"EUR"})})]})]})]}),a.jsx(Lr,{open:n,onOpenChange:r,children:a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Rechazar Presupuesto"}),a.jsx(Mi,{children:"Indique el motivo del rechazo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_e,{htmlFor:"motivo",children:"Motivo del Rechazo"}),a.jsx(vd,{id:"motivo",value:o,onChange:_=>l(_.target.value),placeholder:"Precio elevado, no se ajusta a necesidades, etc.",rows:4})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),a.jsx(ge,{variant:"destructive",onClick:x,children:"Rechazar Presupuesto"})]})]})}),a.jsx(Lr,{open:i,onOpenChange:s,children:a.jsxs(Mr,{children:[a.jsxs(Fr,{children:[a.jsx($r,{children:"Convertir a Cliente"}),a.jsx(Mi,{children:"Se crear un nuevo cliente con los datos del presupuesto. Se asignarn automticamente todos los modelos fiscales seleccionados."})]}),a.jsxs(ms,{children:[a.jsx(ge,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),a.jsx(ge,{onClick:b,children:"Crear Cliente"})]})]})})]})}function cJe(){const[t,e]=w.useState("OFICIAL"),{data:n}=K4("OFICIAL"),{data:r}=K4("ONLINE"),i=ZQe(),s=t==="OFICIAL"?n:r,[o,l]=w.useState({}),c=async()=>{if(s)try{await i.mutateAsync({id:s.id,input:o}),Da.success("Configuracin actualizada"),l({})}catch(f){Da.error(f.message)}},u=f=>o[f]!==void 0?o[f]:s?.[f]||0,d=(f,m)=>{l(h=>({...h,[f]:parseFloat(m)||0}))};return s?a.jsxs("div",{className:"container mx-auto py-6 max-w-5xl space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(w1,{className:"w-8 h-8"}),"Configuracin de Precios"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure los precios base para clculo de presupuestos"})]}),a.jsxs(Ul,{value:t,onValueChange:f=>e(f),children:[a.jsxs(dl,{className:"grid w-full grid-cols-2",children:[a.jsxs(Ln,{value:"OFICIAL",children:["OFICIAL",n&&a.jsx(it,{className:"ml-2",variant:"default",children:"Activo"})]}),a.jsxs(Ln,{value:"ONLINE",children:["ONLINE",r&&a.jsx(it,{className:"ml-2",variant:"outline",children:"Activo"})]})]}),a.jsxs(rr,{value:t,className:"space-y-6 mt-6",children:[a.jsxs(Ue,{children:[a.jsxs(lt,{children:[a.jsx(ut,{children:"Precios Base"}),a.jsx(vr,{children:"Precios fundamentales de facturacin"})]}),a.jsxs(He,{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{children:"Precio Base por Factura"}),a.jsx(Fe,{type:"number",value:u("precioBaseFactura"),onChange:f=>d("precioBaseFactura",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Precio Base por Nmina"}),a.jsx(Fe,{type:"number",value:u("precioBaseNomina"),onChange:f=>d("precioBaseNomina",f.target.value),step:"0.01"})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Precios Modelos Fiscales"})}),a.jsxs(He,{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{children:"Modelo 303 (IVA)"}),a.jsx(Fe,{type:"number",value:u("precioModelo303"),onChange:f=>d("precioModelo303",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Modelo 111 (IRPF)"}),a.jsx(Fe,{type:"number",value:u("precioModelo111"),onChange:f=>d("precioModelo111",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Modelo 115 (Alquileres)"}),a.jsx(Fe,{type:"number",value:u("precioModelo115"),onChange:f=>d("precioModelo115",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Modelo 130 (Autnomos)"}),a.jsx(Fe,{type:"number",value:u("precioModelo130"),onChange:f=>d("precioModelo130",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Modelo 100 (Renta)"}),a.jsx(Fe,{type:"number",value:u("precioModelo100"),onChange:f=>d("precioModelo100",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Modelo 349 (Intracom.)"}),a.jsx(Fe,{type:"number",value:u("precioModelo349"),onChange:f=>d("precioModelo349",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Modelo 347 (Terceros)"}),a.jsx(Fe,{type:"number",value:u("precioModelo347"),onChange:f=>d("precioModelo347",f.target.value),step:"0.01"})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Servicios Adicionales"})}),a.jsxs(He,{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{children:"Solicitud Certificados"}),a.jsx(Fe,{type:"number",value:u("precioSolicitudCertificados"),onChange:f=>d("precioSolicitudCertificados",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Censos AEAT"}),a.jsx(Fe,{type:"number",value:u("precioCensosAEAT"),onChange:f=>d("precioCensosAEAT",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Recepcin Notificaciones"}),a.jsx(Fe,{type:"number",value:u("precioRecepcionNotificaciones"),onChange:f=>d("precioRecepcionNotificaciones",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Estadsticas INE"}),a.jsx(Fe,{type:"number",value:u("precioEstadisticasINE"),onChange:f=>d("precioEstadisticasINE",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Solicitud Ayudas"}),a.jsx(Fe,{type:"number",value:u("precioSolicitudAyudas"),onChange:f=>d("precioSolicitudAyudas",f.target.value),step:"0.01"})]})]})]}),a.jsxs(Ue,{children:[a.jsx(lt,{children:a.jsx(ut,{children:"Precios Laborales"})}),a.jsxs(He,{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_e,{children:"Laboral Base"}),a.jsx(Fe,{type:"number",value:u("precioLaboralBase"),onChange:f=>d("precioLaboralBase",f.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(_e,{children:"Laboral por Nmina"}),a.jsx(Fe,{type:"number",value:u("precioLaboralNomina"),onChange:f=>d("precioLaboralNomina",f.target.value),step:"0.01"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"outline",onClick:()=>l({}),children:"Cancelar"}),a.jsxs(ge,{onClick:c,disabled:i.isPending,children:[a.jsx(cg,{className:"w-4 h-4 mr-2"}),i.isPending?"Guardando...":"Guardar Cambios"]})]})]})]})]}):a.jsxs("div",{className:"container mx-auto py-12 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-4",children:"Cargando configuracin..."})]})}function uJe(){const{connected:t,onlineUsers:e}=nX();return a.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:t?a.jsxs(a.Fragment,{children:[a.jsx(the,{className:"h-4 w-4 text-green-500"}),a.jsxs("span",{className:"hidden sm:inline",children:["Conectado (",e,")"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ehe,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"hidden sm:inline",children:"Desconectado"})]})})}function dJe(){return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function fJe(){const{user:t,isLoading:e}=dg();if(e)return a.jsx(dJe,{});const[n]=GE("/public/budgets/:code/accept");if(n)return a.jsx(JYe,{});if(!t)return a.jsxs(fF,{children:[a.jsx(br,{path:"/",component:h8}),a.jsx(br,{path:"/:rest*",children:a.jsx(Lw,{to:"/"})})]});const r={"--sidebar-width":"20rem","--sidebar-width-icon":"4rem"};return a.jsx(Dve,{style:r,children:a.jsxs("div",{className:"flex h-screen w-full",children:[a.jsx(tye,{}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[a.jsx(Fve,{"data-testid":"button-sidebar-toggle"}),a.jsx("div",{className:"flex-1 max-w-xl mx-4",children:a.jsx(Tye,{})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Oye,{}),a.jsx(uJe,{}),a.jsx(nye,{})]})]}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsxs(fF,{children:[a.jsx(br,{path:"/",component:yPe}),a.jsx(br,{path:"/auth",component:h8}),a.jsx(br,{path:"/clientes",component:t4e}),a.jsx(br,{path:"/tareas",component:L6e}),a.jsx(br,{path:"/manuales",component:F6e}),a.jsx(br,{path:"/manuales/nuevo",component:bK}),a.jsx(br,{path:"/manuales/:id/editar",component:bK}),a.jsx(br,{path:"/manuales/:id",component:F7e}),a.jsx(br,{path:"/impuestos",children:a.jsx(Lw,{to:"/impuestos/control"})}),a.jsx(br,{path:"/impuestos/control",component:s8e}),a.jsx(br,{path:"/impuestos/calendario",component:d8e}),a.jsx(br,{path:"/impuestos/modelos",component:f8e}),a.jsx(br,{path:"/impuestos/reportes",component:P8e}),a.jsx(br,{path:"/notificaciones",component:UYe}),a.jsx(br,{path:"/documentacion",component:ZYe}),a.jsx(br,{path:"/documentacion/presupuestos",component:_K}),a.jsx(br,{path:"/documentacion/presupuestos/:rest*",component:_K}),a.jsx(br,{path:"/documentacion/documentos",component:CK}),a.jsx(br,{path:"/documentacion/documentos/:rest*",component:CK}),a.jsx(br,{path:"/documentacion/presupuestos/nuevo",component:XYe}),a.jsx(br,{path:"/documentacion/presupuestos/:id/editar",component:QYe}),a.jsx(br,{path:"/documentacion/presupuestos/:id/ver",component:SK}),a.jsx(br,{path:"/documentacion/presupuestos/:id",component:SK}),a.jsx(br,{path:"/presupuestos",component:oJe}),a.jsx(br,{path:"/presupuestos/nuevo",component:OK}),a.jsx(br,{path:"/presupuestos/configuracion",component:cJe}),a.jsx(br,{path:"/presupuestos/:id",component:lJe}),a.jsx(br,{path:"/presupuestos/:id/editar",component:OK}),a.jsx(br,{path:"/admin",component:()=>t?.roleName==="Administrador"?a.jsx(wK,{}):a.jsx(Lw,{to:"/"})}),a.jsx(br,{path:"/admin/:rest*",children:t?.roleName==="Administrador"?a.jsx(wK,{}):a.jsx(Lw,{to:"/"})}),a.jsx(br,{path:"/auditoria",component:qYe}),a.jsx(br,{component:Mye})]})})]})]})})}function hJe(){return w.useEffect(()=>{document.cookie.split("; ").find(e=>e.startsWith("sidebar_state="))||(document.cookie="sidebar_state=true; path=/; max-age=604800")},[]),a.jsx(rde,{client:sn,children:a.jsxs(LY,{children:[a.jsx(Eme,{defaultTheme:"light",children:a.jsx(_me,{children:a.jsx(bge,{children:a.jsx(fJe,{})})})}),a.jsx(Lhe,{})]})})}mue.createRoot(document.getElementById("root")).render(a.jsx(hJe,{}));export{ri as _,Iw as c,zr as g};
