function ZJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LS={exports:{}},Hg={},DS={exports:{}},Un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj;function eZ(){if(pj)return Un;pj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=f&&X[f]||X["@@iterator"],typeof X=="function"?X:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function y(X,F,V){this.props=X,this.context=F,this.refs=v,this.updater=V||m}y.prototype.isReactComponent={},y.prototype.setState=function(X,F){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,F,"setState")},y.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function w(){}w.prototype=y.prototype;function N(X,F,V){this.props=X,this.context=F,this.refs=v,this.updater=V||m}var k=N.prototype=new w;k.constructor=N,b(k,y.prototype),k.isPureReactComponent=!0;var A=Array.isArray,T=Object.prototype.hasOwnProperty,P={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function C(X,F,V){var ee,ie={},ue=null,he=null;if(F!=null)for(ee in F.ref!==void 0&&(he=F.ref),F.key!==void 0&&(ue=""+F.key),F)T.call(F,ee)&&!L.hasOwnProperty(ee)&&(ie[ee]=F[ee]);var me=arguments.length-2;if(me===1)ie.children=V;else if(1<me){for(var le=Array(me),be=0;be<me;be++)le[be]=arguments[be+2];ie.children=le}if(X&&X.defaultProps)for(ee in me=X.defaultProps,me)ie[ee]===void 0&&(ie[ee]=me[ee]);return{$$typeof:t,type:X,key:ue,ref:he,props:ie,_owner:P.current}}function M(X,F){return{$$typeof:t,type:X.type,key:F,ref:X.ref,props:X.props,_owner:X._owner}}function q(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function D(X){var F={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(V){return F[V]})}var I=/\/+/g;function z(X,F){return typeof X=="object"&&X!==null&&X.key!=null?D(""+X.key):F.toString(36)}function U(X,F,V,ee,ie){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var he=!1;if(X===null)he=!0;else switch(ue){case"string":case"number":he=!0;break;case"object":switch(X.$$typeof){case t:case e:he=!0}}if(he)return he=X,ie=ie(he),X=ee===""?"."+z(he,0):ee,A(ie)?(V="",X!=null&&(V=X.replace(I,"$&/")+"/"),U(ie,F,V,"",function(be){return be})):ie!=null&&(q(ie)&&(ie=M(ie,V+(!ie.key||he&&he.key===ie.key?"":(""+ie.key).replace(I,"$&/")+"/")+X)),F.push(ie)),1;if(he=0,ee=ee===""?".":ee+":",A(X))for(var me=0;me<X.length;me++){ue=X[me];var le=ee+z(ue,me);he+=U(ue,F,V,le,ie)}else if(le=g(X),typeof le=="function")for(X=le.call(X),me=0;!(ue=X.next()).done;)ue=ue.value,le=ee+z(ue,me++),he+=U(ue,F,V,le,ie);else if(ue==="object")throw F=String(X),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return he}function Y(X,F,V){if(X==null)return X;var ee=[],ie=0;return U(X,ee,"","",function(ue){return F.call(V,ue,ie++)}),ee}function ne(X){if(X._status===-1){var F=X._result;F=F(),F.then(function(V){(X._status===0||X._status===-1)&&(X._status=1,X._result=V)},function(V){(X._status===0||X._status===-1)&&(X._status=2,X._result=V)}),X._status===-1&&(X._status=0,X._result=F)}if(X._status===1)return X._result.default;throw X._result}var W={current:null},G={transition:null},K={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:G,ReactCurrentOwner:P};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Un.Children={map:Y,forEach:function(X,F,V){Y(X,function(){F.apply(this,arguments)},V)},count:function(X){var F=0;return Y(X,function(){F++}),F},toArray:function(X){return Y(X,function(F){return F})||[]},only:function(X){if(!q(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Un.Component=y,Un.Fragment=n,Un.Profiler=i,Un.PureComponent=N,Un.StrictMode=r,Un.Suspense=l,Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Un.act=fe,Un.cloneElement=function(X,F,V){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ee=b({},X.props),ie=X.key,ue=X.ref,he=X._owner;if(F!=null){if(F.ref!==void 0&&(ue=F.ref,he=P.current),F.key!==void 0&&(ie=""+F.key),X.type&&X.type.defaultProps)var me=X.type.defaultProps;for(le in F)T.call(F,le)&&!L.hasOwnProperty(le)&&(ee[le]=F[le]===void 0&&me!==void 0?me[le]:F[le])}var le=arguments.length-2;if(le===1)ee.children=V;else if(1<le){me=Array(le);for(var be=0;be<le;be++)me[be]=arguments[be+2];ee.children=me}return{$$typeof:t,type:X.type,key:ie,ref:ue,props:ee,_owner:he}},Un.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:o,_context:X},X.Consumer=X},Un.createElement=C,Un.createFactory=function(X){var F=C.bind(null,X);return F.type=X,F},Un.createRef=function(){return{current:null}},Un.forwardRef=function(X){return{$$typeof:s,render:X}},Un.isValidElement=q,Un.lazy=function(X){return{$$typeof:u,_payload:{_status:-1,_result:X},_init:ne}},Un.memo=function(X,F){return{$$typeof:c,type:X,compare:F===void 0?null:F}},Un.startTransition=function(X){var F=G.transition;G.transition={};try{X()}finally{G.transition=F}},Un.unstable_act=fe,Un.useCallback=function(X,F){return W.current.useCallback(X,F)},Un.useContext=function(X){return W.current.useContext(X)},Un.useDebugValue=function(){},Un.useDeferredValue=function(X){return W.current.useDeferredValue(X)},Un.useEffect=function(X,F){return W.current.useEffect(X,F)},Un.useId=function(){return W.current.useId()},Un.useImperativeHandle=function(X,F,V){return W.current.useImperativeHandle(X,F,V)},Un.useInsertionEffect=function(X,F){return W.current.useInsertionEffect(X,F)},Un.useLayoutEffect=function(X,F){return W.current.useLayoutEffect(X,F)},Un.useMemo=function(X,F){return W.current.useMemo(X,F)},Un.useReducer=function(X,F,V){return W.current.useReducer(X,F,V)},Un.useRef=function(X){return W.current.useRef(X)},Un.useState=function(X){return W.current.useState(X)},Un.useSyncExternalStore=function(X,F,V){return W.current.useSyncExternalStore(X,F,V)},Un.useTransition=function(){return W.current.useTransition()},Un.version="18.3.1",Un}var mj;function zy(){return mj||(mj=1,DS.exports=eZ()),DS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function tZ(){if(gj)return Hg;gj=1;var t=zy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,c){var u,f={},g=null,m=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)r.call(l,u)&&!o.hasOwnProperty(u)&&(f[u]=l[u]);if(s&&s.defaultProps)for(u in l=s.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:s,key:g,ref:m,props:f,_owner:i.current}}return Hg.Fragment=n,Hg.jsx=a,Hg.jsxs=a,Hg}var vj;function nZ(){return vj||(vj=1,LS.exports=tZ()),LS.exports}var h=nZ(),W0={},FS={exports:{}},ts={},BS={exports:{}},$S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function rZ(){return yj||(yj=1,(function(t){function e(G,K){var fe=G.length;G.push(K);e:for(;0<fe;){var X=fe-1>>>1,F=G[X];if(0<i(F,K))G[X]=K,G[fe]=F,fe=X;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],fe=G.pop();if(fe!==K){G[0]=fe;e:for(var X=0,F=G.length,V=F>>>1;X<V;){var ee=2*(X+1)-1,ie=G[ee],ue=ee+1,he=G[ue];if(0>i(ie,fe))ue<F&&0>i(he,ie)?(G[X]=he,G[ue]=fe,X=ue):(G[X]=ie,G[ee]=fe,X=ee);else if(ue<F&&0>i(he,fe))G[X]=he,G[ue]=fe,X=ue;else break e}}return K}function i(G,K){var fe=G.sortIndex-K.sortIndex;return fe!==0?fe:G.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,g=3,m=!1,b=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(G){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=G)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function A(G){if(v=!1,k(G),!b)if(n(l)!==null)b=!0,ne(T);else{var K=n(c);K!==null&&W(A,K.startTime-G)}}function T(G,K){b=!1,v&&(v=!1,w(C),C=-1),m=!0;var fe=g;try{for(k(K),f=n(l);f!==null&&(!(f.expirationTime>K)||G&&!D());){var X=f.callback;if(typeof X=="function"){f.callback=null,g=f.priorityLevel;var F=X(f.expirationTime<=K);K=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),k(K)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var ee=n(c);ee!==null&&W(A,ee.startTime-K),V=!1}return V}finally{f=null,g=fe,m=!1}}var P=!1,L=null,C=-1,M=5,q=-1;function D(){return!(t.unstable_now()-q<M)}function I(){if(L!==null){var G=t.unstable_now();q=G;var K=!0;try{K=L(!0,G)}finally{K?z():(P=!1,L=null)}}else P=!1}var z;if(typeof N=="function")z=function(){N(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=I,z=function(){Y.postMessage(null)}}else z=function(){y(I,0)};function ne(G){L=G,P||(P=!0,z())}function W(G,K){C=y(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,ne(T))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var fe=g;g=K;try{return G()}finally{g=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=g;g=G;try{return K()}finally{g=fe}},t.unstable_scheduleCallback=function(G,K,fe){var X=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?X+fe:X):fe=X,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=fe+F,G={id:u++,callback:K,priorityLevel:G,startTime:fe,expirationTime:F,sortIndex:-1},fe>X?(G.sortIndex=fe,e(c,G),n(l)===null&&G===n(c)&&(v?(w(C),C=-1):v=!0,W(A,fe-X))):(G.sortIndex=F,e(l,G),b||m||(b=!0,ne(T))),G},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(G){var K=g;return function(){var fe=g;g=K;try{return G.apply(this,arguments)}finally{g=fe}}}})($S)),$S}var bj;function iZ(){return bj||(bj=1,BS.exports=rZ()),BS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function oZ(){if(xj)return ts;xj=1;var t=zy(),e=iZ();function n(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,x=1;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(d,p){a(d,p),a(d+"Capture",p)}function a(d,p){for(i[d]=p,d=0;d<p.length;d++)r.add(p[d])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function g(d){return l.call(f,d)?!0:l.call(u,d)?!1:c.test(d)?f[d]=!0:(u[d]=!0,!1)}function m(d,p,x,_){if(x!==null&&x.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return _?!1:x!==null?!x.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,p,x,_){if(p===null||typeof p>"u"||m(d,p,x,_))return!0;if(_)return!1;if(x!==null)switch(x.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function v(d,p,x,_,j,$,Z){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=_,this.attributeNamespace=j,this.mustUseProperty=x,this.propertyName=d,this.type=p,this.sanitizeURL=$,this.removeEmptyString=Z}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){y[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];y[p]=new v(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){y[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){y[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){y[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){y[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){y[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){y[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){y[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(w,N);y[p]=new v(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(w,N);y[p]=new v(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(w,N);y[p]=new v(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function k(d,p,x,_){var j=y.hasOwnProperty(p)?y[p]:null;(j!==null?j.type!==0:_||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(b(p,x,j,_)&&(x=null),_||j===null?g(p)&&(x===null?d.removeAttribute(p):d.setAttribute(p,""+x)):j.mustUseProperty?d[j.propertyName]=x===null?j.type===3?!1:"":x:(p=j.attributeName,_=j.attributeNamespace,x===null?d.removeAttribute(p):(j=j.type,x=j===3||j===4&&x===!0?"":""+x,_?d.setAttributeNS(_,p,x):d.setAttribute(p,x))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),G=Symbol.iterator;function K(d){return d===null||typeof d!="object"?null:(d=G&&d[G]||d["@@iterator"],typeof d=="function"?d:null)}var fe=Object.assign,X;function F(d){if(X===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);X=p&&p[1]||""}return`
`+X+d}var V=!1;function ee(d,p){if(!d||V)return"";V=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ie){var _=Ie}Reflect.construct(d,[],p)}else{try{p.call()}catch(Ie){_=Ie}d.call(p.prototype)}else{try{throw Error()}catch(Ie){_=Ie}d()}}catch(Ie){if(Ie&&_&&typeof Ie.stack=="string"){for(var j=Ie.stack.split(`
`),$=_.stack.split(`
`),Z=j.length-1,ve=$.length-1;1<=Z&&0<=ve&&j[Z]!==$[ve];)ve--;for(;1<=Z&&0<=ve;Z--,ve--)if(j[Z]!==$[ve]){if(Z!==1||ve!==1)do if(Z--,ve--,0>ve||j[Z]!==$[ve]){var Ee=`
`+j[Z].replace(" at new "," at ");return d.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",d.displayName)),Ee}while(1<=Z&&0<=ve);break}}}finally{V=!1,Error.prepareStackTrace=x}return(d=d?d.displayName||d.name:"")?F(d):""}function ie(d){switch(d.tag){case 5:return F(d.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return d=ee(d.type,!1),d;case 11:return d=ee(d.type.render,!1),d;case 1:return d=ee(d.type,!0),d;default:return""}}function ue(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case L:return"Fragment";case P:return"Portal";case M:return"Profiler";case C:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case D:return(d.displayName||"Context")+".Consumer";case q:return(d._context.displayName||"Context")+".Provider";case I:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Y:return p=d.displayName||null,p!==null?p:ue(d.type)||"Memo";case ne:p=d._payload,d=d._init;try{return ue(d(p))}catch{}}return null}function he(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(p);case 8:return p===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function me(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function le(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function be(d){var p=le(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),_=""+d[p];if(!d.hasOwnProperty(p)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var j=x.get,$=x.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return j.call(this)},set:function(Z){_=""+Z,$.call(this,Z)}}),Object.defineProperty(d,p,{enumerable:x.enumerable}),{getValue:function(){return _},setValue:function(Z){_=""+Z},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Se(d){d._valueTracker||(d._valueTracker=be(d))}function xe(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var x=p.getValue(),_="";return d&&(_=le(d)?d.checked?"true":"false":d.value),d=_,d!==x?(p.setValue(d),!0):!1}function Le(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Ne(d,p){var x=p.checked;return fe({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??d._wrapperState.initialChecked})}function se(d,p){var x=p.defaultValue==null?"":p.defaultValue,_=p.checked!=null?p.checked:p.defaultChecked;x=me(p.value!=null?p.value:x),d._wrapperState={initialChecked:_,initialValue:x,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function ze(d,p){p=p.checked,p!=null&&k(d,"checked",p,!1)}function st(d,p){ze(d,p);var x=me(p.value),_=p.type;if(x!=null)_==="number"?(x===0&&d.value===""||d.value!=x)&&(d.value=""+x):d.value!==""+x&&(d.value=""+x);else if(_==="submit"||_==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?Fe(d,p.type,x):p.hasOwnProperty("defaultValue")&&Fe(d,p.type,me(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function Ge(d,p,x){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var _=p.type;if(!(_!=="submit"&&_!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,x||p===d.value||(d.value=p),d.defaultValue=p}x=d.name,x!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,x!==""&&(d.name=x)}function Fe(d,p,x){(p!=="number"||Le(d.ownerDocument)!==d)&&(x==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+x&&(d.defaultValue=""+x))}var lt=Array.isArray;function Ze(d,p,x,_){if(d=d.options,p){p={};for(var j=0;j<x.length;j++)p["$"+x[j]]=!0;for(x=0;x<d.length;x++)j=p.hasOwnProperty("$"+d[x].value),d[x].selected!==j&&(d[x].selected=j),j&&_&&(d[x].defaultSelected=!0)}else{for(x=""+me(x),p=null,j=0;j<d.length;j++){if(d[j].value===x){d[j].selected=!0,_&&(d[j].defaultSelected=!0);return}p!==null||d[j].disabled||(p=d[j])}p!==null&&(p.selected=!0)}}function Et(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return fe({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function St(d,p){var x=p.value;if(x==null){if(x=p.children,p=p.defaultValue,x!=null){if(p!=null)throw Error(n(92));if(lt(x)){if(1<x.length)throw Error(n(93));x=x[0]}p=x}p==null&&(p=""),x=p}d._wrapperState={initialValue:me(x)}}function It(d,p){var x=me(p.value),_=me(p.defaultValue);x!=null&&(x=""+x,x!==d.value&&(d.value=x),p.defaultValue==null&&d.defaultValue!==x&&(d.defaultValue=x)),_!=null&&(d.defaultValue=""+_)}function Tt(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function xt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?xt(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Lt,Mt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,x,_,j){MSApp.execUnsafeLocalFunction(function(){return d(p,x,_,j)})}:d})(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Lt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function Gt(d,p){if(p){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=p;return}}d.textContent=p}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_n=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(d){_n.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),wt[p]=wt[d]})});function Cn(d,p,x){return p==null||typeof p=="boolean"||p===""?"":x||typeof p!="number"||p===0||wt.hasOwnProperty(d)&&wt[d]?(""+p).trim():p+"px"}function At(d,p){d=d.style;for(var x in p)if(p.hasOwnProperty(x)){var _=x.indexOf("--")===0,j=Cn(x,p[x],_);x==="float"&&(x="cssFloat"),_?d.setProperty(x,j):d[x]=j}}var mn=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gn(d,p){if(p){if(mn[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Jt(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var En=null;function un(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var ur=null,ye=null,tt=null;function yt(d){if(d=wd(d)){if(typeof ur!="function")throw Error(n(280));var p=d.stateNode;p&&(p=Vf(p),ur(d.stateNode,d.type,p))}}function ge(d){ye?tt?tt.push(d):tt=[d]:ye=d}function qe(){if(ye){var d=ye,p=tt;if(tt=ye=null,yt(d),p)for(d=0;d<p.length;d++)yt(p[d])}}function nt(d,p){return d(p)}function Xt(){}var Ln=!1;function ht(d,p,x){if(Ln)return d(p,x);Ln=!0;try{return nt(d,p,x)}finally{Ln=!1,(ye!==null||tt!==null)&&(Xt(),qe())}}function ct(d,p){var x=d.stateNode;if(x===null)return null;var _=Vf(x);if(_===null)return null;x=_[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(d=d.type,_=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!_;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,p,typeof x));return x}var ft=!1;if(s)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){ft=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{ft=!1}function Kn(d,p,x,_,j,$,Z,ve,Ee){var Ie=Array.prototype.slice.call(arguments,3);try{p.apply(x,Ie)}catch(et){this.onError(et)}}var dn=!1,yr=null,Br=!1,wa=null,Rs={onError:function(d){dn=!0,yr=d}};function jo(d,p,x,_,j,$,Z,ve,Ee){dn=!1,yr=null,Kn.apply(Rs,arguments)}function $a(d,p,x,_,j,$,Z,ve,Ee){if(jo.apply(this,arguments),dn){if(dn){var Ie=yr;dn=!1,yr=null}else throw Error(n(198));Br||(Br=!0,wa=Ie)}}function Mi(d){var p=d,x=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(x=p.return),d=p.return;while(d)}return p.tag===3?x:null}function Yo(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function go(d){if(Mi(d)!==d)throw Error(n(188))}function za(d){var p=d.alternate;if(!p){if(p=Mi(d),p===null)throw Error(n(188));return p!==d?null:d}for(var x=d,_=p;;){var j=x.return;if(j===null)break;var $=j.alternate;if($===null){if(_=j.return,_!==null){x=_;continue}break}if(j.child===$.child){for($=j.child;$;){if($===x)return go(j),d;if($===_)return go(j),p;$=$.sibling}throw Error(n(188))}if(x.return!==_.return)x=j,_=$;else{for(var Z=!1,ve=j.child;ve;){if(ve===x){Z=!0,x=j,_=$;break}if(ve===_){Z=!0,_=j,x=$;break}ve=ve.sibling}if(!Z){for(ve=$.child;ve;){if(ve===x){Z=!0,x=$,_=j;break}if(ve===_){Z=!0,_=$,x=j;break}ve=ve.sibling}if(!Z)throw Error(n(189))}}if(x.alternate!==_)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:p}function Sa(d){return d=za(d),d!==null?js(d):null}function js(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=js(d);if(p!==null)return p;d=d.sibling}return null}var vl=e.unstable_scheduleCallback,vo=e.unstable_cancelCallback,yl=e.unstable_shouldYield,id=e.unstable_requestPaint,br=e.unstable_now,od=e.unstable_getCurrentPriorityLevel,uc=e.unstable_ImmediatePriority,qi=e.unstable_UserBlockingPriority,Is=e.unstable_NormalPriority,it=e.unstable_LowPriority,qt=e.unstable_IdlePriority,Nn=null,jn=null;function $r(d){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Nn,d,void 0,(d.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:Ui,qa=Math.log,Pr=Math.LN2;function Ui(d){return d>>>=0,d===0?32:31-(qa(d)/Pr|0)|0}var Hi=64,Io=4194304;function Xo(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function ro(d,p){var x=d.pendingLanes;if(x===0)return 0;var _=0,j=d.suspendedLanes,$=d.pingedLanes,Z=x&268435455;if(Z!==0){var ve=Z&~j;ve!==0?_=Xo(ve):($&=Z,$!==0&&(_=Xo($)))}else Z=x&~j,Z!==0?_=Xo(Z):$!==0&&(_=Xo($));if(_===0)return 0;if(p!==0&&p!==_&&(p&j)===0&&(j=_&-_,$=p&-p,j>=$||j===16&&($&4194240)!==0))return p;if((_&4)!==0&&(_|=x&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=_;0<p;)x=31-dr(p),j=1<<x,_|=d[x],p&=~j;return _}function bl(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(d,p){for(var x=d.suspendedLanes,_=d.pingedLanes,j=d.expirationTimes,$=d.pendingLanes;0<$;){var Z=31-dr($),ve=1<<Z,Ee=j[Z];Ee===-1?((ve&x)===0||(ve&_)!==0)&&(j[Z]=bl(ve,p)):Ee<=p&&(d.expiredLanes|=ve),$&=~ve}}function xl(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function ad(){var d=Hi;return Hi<<=1,(Hi&4194240)===0&&(Hi=64),d}function Ls(d){for(var p=[],x=0;31>x;x++)p.push(d);return p}function Ds(d,p,x){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-dr(p),d[p]=x}function ui(d,p){var x=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var _=d.eventTimes;for(d=d.expirationTimes;0<x;){var j=31-dr(x),$=1<<j;p[j]=0,_[j]=-1,d[j]=-1,x&=~$}}function dc(d,p){var x=d.entangledLanes|=p;for(d=d.entanglements;x;){var _=31-dr(x),j=1<<_;j&p|d[_]&p&&(d[_]|=p),x&=~j}}var zn=0;function on(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var wl,Gr,Xn,Sl,Qo,_a=!1,Lo=[],ut=null,_t=null,ln=null,mt=new Map,zr=new Map,yi=[],Tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sd(d,p){switch(d){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":mt.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(p.pointerId)}}function Ea(d,p,x,_,j,$){return d===null||d.nativeEvent!==$?(d={blockedOn:p,domEventName:x,eventSystemFlags:_,nativeEvent:$,targetContainers:[j]},p!==null&&(p=wd(p),p!==null&&Gr(p)),d):(d.eventSystemFlags|=_,p=d.targetContainers,j!==null&&p.indexOf(j)===-1&&p.push(j),d)}function _l(d,p,x,_,j){switch(p){case"focusin":return ut=Ea(ut,d,p,x,_,j),!0;case"dragenter":return _t=Ea(_t,d,p,x,_,j),!0;case"mouseover":return ln=Ea(ln,d,p,x,_,j),!0;case"pointerover":var $=j.pointerId;return mt.set($,Ea(mt.get($)||null,d,p,x,_,j)),!0;case"gotpointercapture":return $=j.pointerId,zr.set($,Ea(zr.get($)||null,d,p,x,_,j)),!0}return!1}function op(d){var p=wc(d.target);if(p!==null){var x=Mi(p);if(x!==null){if(p=x.tag,p===13){if(p=Yo(x),p!==null){d.blockedOn=p,Qo(d.priority,function(){Xn(x)});return}}else if(p===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ld(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var x=tu(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(x===null){x=d.nativeEvent;var _=new x.constructor(x.type,x);En=_,x.target.dispatchEvent(_),En=null}else return p=wd(x),p!==null&&Gr(p),d.blockedOn=x,!1;p.shift()}return!0}function eu(d,p,x){ld(d)&&x.delete(p)}function Of(){_a=!1,ut!==null&&ld(ut)&&(ut=null),_t!==null&&ld(_t)&&(_t=null),ln!==null&&ld(ln)&&(ln=null),mt.forEach(eu),zr.forEach(eu)}function us(d,p){d.blockedOn===p&&(d.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Of)))}function Fs(d){function p(j){return us(j,d)}if(0<Lo.length){us(Lo[0],d);for(var x=1;x<Lo.length;x++){var _=Lo[x];_.blockedOn===d&&(_.blockedOn=null)}}for(ut!==null&&us(ut,d),_t!==null&&us(_t,d),ln!==null&&us(ln,d),mt.forEach(p),zr.forEach(p),x=0;x<yi.length;x++)_=yi[x],_.blockedOn===d&&(_.blockedOn=null);for(;0<yi.length&&(x=yi[0],x.blockedOn===null);)op(x),x.blockedOn===null&&yi.shift()}var ds=A.ReactCurrentBatchConfig,cd=!0;function Mf(d,p,x,_){var j=zn,$=ds.transition;ds.transition=null;try{zn=1,El(d,p,x,_)}finally{zn=j,ds.transition=$}}function Pf(d,p,x,_){var j=zn,$=ds.transition;ds.transition=null;try{zn=4,El(d,p,x,_)}finally{zn=j,ds.transition=$}}function El(d,p,x,_){if(cd){var j=tu(d,p,x,_);if(j===null)Uf(d,p,_,Bs,x),sd(d,_);else if(_l(j,d,p,x,_))_.stopPropagation();else if(sd(d,_),p&4&&-1<Tf.indexOf(d)){for(;j!==null;){var $=wd(j);if($!==null&&wl($),$=tu(d,p,x,_),$===null&&Uf(d,p,_,Bs,x),$===j)break;j=$}j!==null&&_.stopPropagation()}else Uf(d,p,_,null,x)}}var Bs=null;function tu(d,p,x,_){if(Bs=null,d=un(_),d=wc(d),d!==null)if(p=Mi(d),p===null)d=null;else if(x=p.tag,x===13){if(d=Yo(p),d!==null)return d;d=null}else if(x===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Bs=d,null}function nu(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(od()){case uc:return 1;case qi:return 4;case Is:case it:return 16;case qt:return 536870912;default:return 16}default:return 16}}var Ua=null,Nl=null,ru=null;function Rf(){if(ru)return ru;var d,p=Nl,x=p.length,_,j="value"in Ua?Ua.value:Ua.textContent,$=j.length;for(d=0;d<x&&p[d]===j[d];d++);var Z=x-d;for(_=1;_<=Z&&p[x-_]===j[$-_];_++);return ru=j.slice(d,1<_?1-_:void 0)}function Ha(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Wa(){return!0}function jf(){return!1}function yo(d){function p(x,_,j,$,Z){this._reactName=x,this._targetInst=j,this.type=_,this.nativeEvent=$,this.target=Z,this.currentTarget=null;for(var ve in d)d.hasOwnProperty(ve)&&(x=d[ve],this[ve]=x?x($):$[ve]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Wa:jf,this.isPropagationStopped=jf,this}return fe(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),p}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ud=yo(Va),R=fe({},Va,{view:0,detail:0}),J=yo(R),pe,we,Te,Ue=fe({},R,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Te&&(Te&&d.type==="mousemove"?(pe=d.screenX-Te.screenX,we=d.screenY-Te.screenY):we=pe=0,Te=d),pe)},movementY:function(d){return"movementY"in d?d.movementY:we}}),Xe=yo(Ue),Dt=fe({},Ue,{dataTransfer:0}),Wt=yo(Dt),bn=fe({},R,{relatedTarget:0}),xn=yo(bn),Qn=fe({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=yo(Qn),bi=fe({},Va,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),kr=yo(bi),Pi=fe({},Va,{data:0}),di=yo(Pi),io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ka={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=Jo[d])?!!p[d]:!1}function fc(){return ap}var iu=fe({},R,{key:function(d){if(d.key){var p=io[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Ha(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Ka[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(d){return d.type==="keypress"?Ha(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ha(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),hc=yo(iu),ou=fe({},Ue,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=yo(ou),au=fe({},R,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),bo=yo(au),su=fe({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),lu=yo(su),If=fe({},Ue,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Lf=yo(If),ni=[9,13,27,32],fs=s&&"CompositionEvent"in window,$s=null;s&&"documentMode"in document&&($s=document.documentMode);var sp=s&&"TextEvent"in window&&!$s,Na=s&&(!fs||$s&&8<$s&&11>=$s),mc=" ",dd=!1;function fd(d,p){switch(d){case"keyup":return ni.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ga=!1;function Aa(d,p){switch(d){case"compositionend":return Al(p);case"keypress":return p.which!==32?null:(dd=!0,mc);case"textInput":return d=p.data,d===mc&&dd?null:d;default:return null}}function ka(d,p){if(Ga)return d==="compositionend"||!fs&&fd(d,p)?(d=Rf(),ru=Nl=Ua=null,Ga=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Na&&p.locale!=="ko"?null:p.data;default:return null}}var gc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zs(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!gc[d.type]:p==="textarea"}function kl(d,p,x,_){ge(_),p=fp(p,"onChange"),0<p.length&&(x=new ud("onChange","change",null,x,_),d.push({event:x,listeners:p}))}var Cl=null,qs=null;function fi(d){zf(d,0)}function cu(d){var p=bu(d);if(xe(p))return d}function Us(d,p){if(d==="change")return p}var hs=!1;if(s){var uu;if(s){var du="oninput"in document;if(!du){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),du=typeof hd.oninput=="function"}uu=du}else uu=!1;hs=uu&&(!document.documentMode||9<document.documentMode)}function pd(){Cl&&(Cl.detachEvent("onpropertychange",Tl),qs=Cl=null)}function Tl(d){if(d.propertyName==="value"&&cu(qs)){var p=[];kl(p,qs,d,un(d)),ht(fi,p)}}function vc(d,p,x){d==="focusin"?(pd(),Cl=p,qs=x,Cl.attachEvent("onpropertychange",Tl)):d==="focusout"&&pd()}function yc(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return cu(qs)}function fu(d,p){if(d==="click")return cu(p)}function bc(d,p){if(d==="input"||d==="change")return cu(p)}function hu(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var ri=typeof Object.is=="function"?Object.is:hu;function Zo(d,p){if(ri(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var x=Object.keys(d),_=Object.keys(p);if(x.length!==_.length)return!1;for(_=0;_<x.length;_++){var j=x[_];if(!l.call(p,j)||!ri(d[j],p[j]))return!1}return!0}function Jn(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function fr(d,p){var x=Jn(d);d=0;for(var _;x;){if(x.nodeType===3){if(_=d+x.textContent.length,d<=p&&_>=p)return{node:x,offset:p-d};d=_}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Jn(x)}}function ii(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?ii(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function xi(){for(var d=window,p=Le();p instanceof d.HTMLIFrameElement;){try{var x=typeof p.contentWindow.location.href=="string"}catch{x=!1}if(x)d=p.contentWindow;else break;p=Le(d.document)}return p}function ps(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function Df(d){var p=xi(),x=d.focusedElem,_=d.selectionRange;if(p!==x&&x&&x.ownerDocument&&ii(x.ownerDocument.documentElement,x)){if(_!==null&&ps(x)){if(p=_.start,d=_.end,d===void 0&&(d=p),"selectionStart"in x)x.selectionStart=p,x.selectionEnd=Math.min(d,x.value.length);else if(d=(p=x.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var j=x.textContent.length,$=Math.min(_.start,j);_=_.end===void 0?$:Math.min(_.end,j),!d.extend&&$>_&&(j=_,_=$,$=j),j=fr(x,$);var Z=fr(x,_);j&&Z&&(d.rangeCount!==1||d.anchorNode!==j.node||d.anchorOffset!==j.offset||d.focusNode!==Z.node||d.focusOffset!==Z.offset)&&(p=p.createRange(),p.setStart(j.node,j.offset),d.removeAllRanges(),$>_?(d.addRange(p),d.extend(Z.node,Z.offset)):(p.setEnd(Z.node,Z.offset),d.addRange(p)))}}for(p=[],d=x;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<p.length;x++)d=p[x],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var md=s&&"documentMode"in document&&11>=document.documentMode,Ol=null,lp=null,gd=null,cp=!1;function xg(d,p,x){var _=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;cp||Ol==null||Ol!==Le(_)||(_=Ol,"selectionStart"in _&&ps(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),gd&&Zo(gd,_)||(gd=_,_=fp(lp,"onSelect"),0<_.length&&(p=new ud("onSelect","select",null,p,x),d.push({event:p,listeners:_}),p.target=Ol)))}function Ff(d,p){var x={};return x[d.toLowerCase()]=p.toLowerCase(),x["Webkit"+d]="webkit"+p,x["Moz"+d]="moz"+p,x}var pu={animationend:Ff("Animation","AnimationEnd"),animationiteration:Ff("Animation","AnimationIteration"),animationstart:Ff("Animation","AnimationStart"),transitionend:Ff("Transition","TransitionEnd")},mu={},wg={};s&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function Bf(d){if(mu[d])return mu[d];if(!pu[d])return d;var p=pu[d],x;for(x in p)if(p.hasOwnProperty(x)&&x in wg)return mu[d]=p[x];return d}var Sg=Bf("animationend"),_g=Bf("animationiteration"),Eg=Bf("animationstart"),Ng=Bf("transitionend"),Ag=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(d,p){Ag.set(d,p),o(p,[d])}for(var vd=0;vd<kg.length;vd++){var Do=kg[vd],Ya=Do.toLowerCase(),up=Do[0].toUpperCase()+Do.slice(1);Hs(Ya,"on"+up)}Hs(Sg,"onAnimationEnd"),Hs(_g,"onAnimationIteration"),Hs(Eg,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(Ng,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u0=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function $f(d,p,x){var _=d.type||"unknown-event";d.currentTarget=x,$a(_,p,void 0,d),d.currentTarget=null}function zf(d,p){p=(p&4)!==0;for(var x=0;x<d.length;x++){var _=d[x],j=_.event;_=_.listeners;e:{var $=void 0;if(p)for(var Z=_.length-1;0<=Z;Z--){var ve=_[Z],Ee=ve.instance,Ie=ve.currentTarget;if(ve=ve.listener,Ee!==$&&j.isPropagationStopped())break e;$f(j,ve,Ie),$=Ee}else for(Z=0;Z<_.length;Z++){if(ve=_[Z],Ee=ve.instance,Ie=ve.currentTarget,ve=ve.listener,Ee!==$&&j.isPropagationStopped())break e;$f(j,ve,Ie),$=Ee}}}if(Br)throw d=wa,Br=!1,wa=null,d}function xr(d,p){var x=p[ta];x===void 0&&(x=p[ta]=new Set);var _=d+"__bubble";x.has(_)||(qf(p,d,2,!1),x.add(_))}function dp(d,p,x){var _=0;p&&(_|=4),qf(x,d,_,p)}var yd="_reactListening"+Math.random().toString(36).slice(2);function gu(d){if(!d[yd]){d[yd]=!0,r.forEach(function(x){x!=="selectionchange"&&(u0.has(x)||dp(x,!1,d),dp(x,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[yd]||(p[yd]=!0,dp("selectionchange",!1,p))}}function qf(d,p,x,_){switch(nu(p)){case 1:var j=Mf;break;case 4:j=Pf;break;default:j=El}x=j.bind(null,p,x,d),j=void 0,!ft||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(j=!0),_?j!==void 0?d.addEventListener(p,x,{capture:!0,passive:j}):d.addEventListener(p,x,!0):j!==void 0?d.addEventListener(p,x,{passive:j}):d.addEventListener(p,x,!1)}function Uf(d,p,x,_,j){var $=_;if((p&1)===0&&(p&2)===0&&_!==null)e:for(;;){if(_===null)return;var Z=_.tag;if(Z===3||Z===4){var ve=_.stateNode.containerInfo;if(ve===j||ve.nodeType===8&&ve.parentNode===j)break;if(Z===4)for(Z=_.return;Z!==null;){var Ee=Z.tag;if((Ee===3||Ee===4)&&(Ee=Z.stateNode.containerInfo,Ee===j||Ee.nodeType===8&&Ee.parentNode===j))return;Z=Z.return}for(;ve!==null;){if(Z=wc(ve),Z===null)return;if(Ee=Z.tag,Ee===5||Ee===6){_=$=Z;continue e}ve=ve.parentNode}}_=_.return}ht(function(){var Ie=$,et=un(x),rt=[];e:{var Je=Ag.get(d);if(Je!==void 0){var Nt=ud,Bt=d;switch(d){case"keypress":if(Ha(x)===0)break e;case"keydown":case"keyup":Nt=hc;break;case"focusin":Bt="focus",Nt=xn;break;case"focusout":Bt="blur",Nt=xn;break;case"beforeblur":case"afterblur":Nt=xn;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=Xe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=Wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=bo;break;case Sg:case _g:case Eg:Nt=Yr;break;case Ng:Nt=lu;break;case"scroll":Nt=J;break;case"wheel":Nt=Lf;break;case"copy":case"cut":case"paste":Nt=kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=pc}var Ut=(p&4)!==0,Ii=!Ut&&d==="scroll",Pe=Ut?Je!==null?Je+"Capture":null:Je;Ut=[];for(var ke=Ie,je;ke!==null;){je=ke;var at=je.stateNode;if(je.tag===5&&at!==null&&(je=at,Pe!==null&&(at=ct(ke,Pe),at!=null&&Ut.push(Hf(ke,at,je)))),Ii)break;ke=ke.return}0<Ut.length&&(Je=new Nt(Je,Bt,null,x,et),rt.push({event:Je,listeners:Ut}))}}if((p&7)===0){e:{if(Je=d==="mouseover"||d==="pointerover",Nt=d==="mouseout"||d==="pointerout",Je&&x!==En&&(Bt=x.relatedTarget||x.fromElement)&&(wc(Bt)||Bt[xo]))break e;if((Nt||Je)&&(Je=et.window===et?et:(Je=et.ownerDocument)?Je.defaultView||Je.parentWindow:window,Nt?(Bt=x.relatedTarget||x.toElement,Nt=Ie,Bt=Bt?wc(Bt):null,Bt!==null&&(Ii=Mi(Bt),Bt!==Ii||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(Nt=null,Bt=Ie),Nt!==Bt)){if(Ut=Xe,at="onMouseLeave",Pe="onMouseEnter",ke="mouse",(d==="pointerout"||d==="pointerover")&&(Ut=pc,at="onPointerLeave",Pe="onPointerEnter",ke="pointer"),Ii=Nt==null?Je:bu(Nt),je=Bt==null?Je:bu(Bt),Je=new Ut(at,ke+"leave",Nt,x,et),Je.target=Ii,Je.relatedTarget=je,at=null,wc(et)===Ie&&(Ut=new Ut(Pe,ke+"enter",Bt,x,et),Ut.target=je,Ut.relatedTarget=Ii,at=Ut),Ii=at,Nt&&Bt)t:{for(Ut=Nt,Pe=Bt,ke=0,je=Ut;je;je=vu(je))ke++;for(je=0,at=Pe;at;at=vu(at))je++;for(;0<ke-je;)Ut=vu(Ut),ke--;for(;0<je-ke;)Pe=vu(Pe),je--;for(;ke--;){if(Ut===Pe||Pe!==null&&Ut===Pe.alternate)break t;Ut=vu(Ut),Pe=vu(Pe)}Ut=null}else Ut=null;Nt!==null&&d0(rt,Je,Nt,Ut,!1),Bt!==null&&Ii!==null&&d0(rt,Ii,Bt,Ut,!0)}}e:{if(Je=Ie?bu(Ie):window,Nt=Je.nodeName&&Je.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Je.type==="file")var Yt=Us;else if(zs(Je))if(hs)Yt=bc;else{Yt=yc;var fn=vc}else(Nt=Je.nodeName)&&Nt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Yt=fu);if(Yt&&(Yt=Yt(d,Ie))){kl(rt,Yt,x,et);break e}fn&&fn(d,Je,Ie),d==="focusout"&&(fn=Je._wrapperState)&&fn.controlled&&Je.type==="number"&&Fe(Je,"number",Je.value)}switch(fn=Ie?bu(Ie):window,d){case"focusin":(zs(fn)||fn.contentEditable==="true")&&(Ol=fn,lp=Ie,gd=null);break;case"focusout":gd=lp=Ol=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,xg(rt,x,et);break;case"selectionchange":if(md)break;case"keydown":case"keyup":xg(rt,x,et)}var hn;if(fs)e:{switch(d){case"compositionstart":var wn="onCompositionStart";break e;case"compositionend":wn="onCompositionEnd";break e;case"compositionupdate":wn="onCompositionUpdate";break e}wn=void 0}else Ga?fd(d,x)&&(wn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(wn="onCompositionStart");wn&&(Na&&x.locale!=="ko"&&(Ga||wn!=="onCompositionStart"?wn==="onCompositionEnd"&&Ga&&(hn=Rf()):(Ua=et,Nl="value"in Ua?Ua.value:Ua.textContent,Ga=!0)),fn=fp(Ie,wn),0<fn.length&&(wn=new di(wn,d,null,x,et),rt.push({event:wn,listeners:fn}),hn?wn.data=hn:(hn=Al(x),hn!==null&&(wn.data=hn)))),(hn=sp?Aa(d,x):ka(d,x))&&(Ie=fp(Ie,"onBeforeInput"),0<Ie.length&&(et=new di("onBeforeInput","beforeinput",null,x,et),rt.push({event:et,listeners:Ie}),et.data=hn))}zf(rt,p)})}function Hf(d,p,x){return{instance:d,listener:p,currentTarget:x}}function fp(d,p){for(var x=p+"Capture",_=[];d!==null;){var j=d,$=j.stateNode;j.tag===5&&$!==null&&(j=$,$=ct(d,x),$!=null&&_.unshift(Hf(d,$,j)),$=ct(d,p),$!=null&&_.push(Hf(d,$,j))),d=d.return}return _}function vu(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function d0(d,p,x,_,j){for(var $=p._reactName,Z=[];x!==null&&x!==_;){var ve=x,Ee=ve.alternate,Ie=ve.stateNode;if(Ee!==null&&Ee===_)break;ve.tag===5&&Ie!==null&&(ve=Ie,j?(Ee=ct(x,$),Ee!=null&&Z.unshift(Hf(x,Ee,ve))):j||(Ee=ct(x,$),Ee!=null&&Z.push(Hf(x,Ee,ve)))),x=x.return}Z.length!==0&&d.push({event:p,listeners:Z})}var X2=/\r\n?/g,Q2=/\u0000|\uFFFD/g;function f0(d){return(typeof d=="string"?d:""+d).replace(X2,`
`).replace(Q2,"")}function hp(d,p,x){if(p=f0(p),f0(d)!==p&&x)throw Error(n(425))}function bd(){}var Wf=null,yu=null;function Cg(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Tg=typeof setTimeout=="function"?setTimeout:void 0,h0=typeof clearTimeout=="function"?clearTimeout:void 0,p0=typeof Promise=="function"?Promise:void 0,J2=typeof queueMicrotask=="function"?queueMicrotask:typeof p0<"u"?function(d){return p0.resolve(null).then(d).catch(Z2)}:Tg;function Z2(d){setTimeout(function(){throw d})}function Og(d,p){var x=p,_=0;do{var j=x.nextSibling;if(d.removeChild(x),j&&j.nodeType===8)if(x=j.data,x==="/$"){if(_===0){d.removeChild(j),Fs(p);return}_--}else x!=="$"&&x!=="$?"&&x!=="$!"||_++;x=j}while(x);Fs(p)}function Fo(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function Xa(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(p===0)return d;p--}else x==="/$"&&p++}d=d.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Ws="__reactFiber$"+ea,xd="__reactProps$"+ea,xo="__reactContainer$"+ea,ta="__reactEvents$"+ea,eS="__reactListeners$"+ea,tS="__reactHandles$"+ea;function wc(d){var p=d[Ws];if(p)return p;for(var x=d.parentNode;x;){if(p=x[xo]||x[Ws]){if(x=p.alternate,p.child!==null||x!==null&&x.child!==null)for(d=Xa(d);d!==null;){if(x=d[Ws])return x;d=Xa(d)}return p}d=x,x=d.parentNode}return null}function wd(d){return d=d[Ws]||d[xo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function bu(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function Vf(d){return d[xd]||null}var Mg=[],Ml=-1;function ms(d){return{current:d}}function ar(d){0>Ml||(d.current=Mg[Ml],Mg[Ml]=null,Ml--)}function hr(d,p){Ml++,Mg[Ml]=d.current,d.current=p}var Sc={},oo=ms(Sc),na=ms(!1),xu=Sc;function Sd(d,p){var x=d.type.contextTypes;if(!x)return Sc;var _=d.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===p)return _.__reactInternalMemoizedMaskedChildContext;var j={},$;for($ in x)j[$]=p[$];return _&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=j),j}function ra(d){return d=d.childContextTypes,d!=null}function pp(){ar(na),ar(oo)}function m0(d,p,x){if(oo.current!==Sc)throw Error(n(168));hr(oo,p),hr(na,x)}function Pg(d,p,x){var _=d.stateNode;if(p=p.childContextTypes,typeof _.getChildContext!="function")return x;_=_.getChildContext();for(var j in _)if(!(j in p))throw Error(n(108,he(d)||"Unknown",j));return fe({},x,_)}function wu(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Sc,xu=oo.current,hr(oo,d),hr(na,na.current),!0}function g0(d,p,x){var _=d.stateNode;if(!_)throw Error(n(169));x?(d=Pg(d,p,xu),_.__reactInternalMemoizedMergedChildContext=d,ar(na),ar(oo),hr(oo,d)):ar(na),hr(na,x)}var Pl=null,Kf=!1,S=!1;function E(d){Pl===null?Pl=[d]:Pl.push(d)}function B(d){Kf=!0,E(d)}function H(){if(!S&&Pl!==null){S=!0;var d=0,p=zn;try{var x=Pl;for(zn=1;d<x.length;d++){var _=x[d];do _=_(!0);while(_!==null)}Pl=null,Kf=!1}catch(j){throw Pl!==null&&(Pl=Pl.slice(d+1)),vl(uc,H),j}finally{zn=p,S=!1}}return null}var Q=[],te=0,re=null,oe=0,ae=[],ce=0,_e=null,Me=1,de="";function Ae(d,p){Q[te++]=oe,Q[te++]=re,re=d,oe=p}function Oe(d,p,x){ae[ce++]=Me,ae[ce++]=de,ae[ce++]=_e,_e=d;var _=Me;d=de;var j=32-dr(_)-1;_&=~(1<<j),x+=1;var $=32-dr(p)+j;if(30<$){var Z=j-j%5;$=(_&(1<<Z)-1).toString(32),_>>=Z,j-=Z,Me=1<<32-dr(p)+j|x<<j|_,de=$+d}else Me=1<<$|x<<j|_,de=d}function $e(d){d.return!==null&&(Ae(d,1),Oe(d,1,0))}function Re(d){for(;d===re;)re=Q[--te],Q[te]=null,oe=Q[--te],Q[te]=null;for(;d===_e;)_e=ae[--ce],ae[ce]=null,de=ae[--ce],ae[ce]=null,Me=ae[--ce],ae[ce]=null}var De=null,Be=null,We=!1,Ke=null;function Vt(d,p){var x=Xs(5,null,null,0);x.elementType="DELETED",x.stateNode=p,x.return=d,p=d.deletions,p===null?(d.deletions=[x],d.flags|=16):p.push(x)}function kt(d,p){switch(d.tag){case 5:var x=d.type;return p=p.nodeType!==1||x.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,De=d,Be=Fo(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,De=d,Be=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(x=_e!==null?{id:Me,overflow:de}:null,d.memoizedState={dehydrated:p,treeContext:x,retryLane:1073741824},x=Xs(18,null,null,0),x.stateNode=p,x.return=d,d.child=x,De=d,Be=null,!0):!1;default:return!1}}function An(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Ft(d){if(We){var p=Be;if(p){var x=p;if(!kt(d,p)){if(An(d))throw Error(n(418));p=Fo(x.nextSibling);var _=De;p&&kt(d,p)?Vt(_,x):(d.flags=d.flags&-4097|2,We=!1,De=d)}}else{if(An(d))throw Error(n(418));d.flags=d.flags&-4097|2,We=!1,De=d}}}function qn(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;De=d}function oi(d){if(d!==De)return!1;if(!We)return qn(d),We=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!Cg(d.type,d.memoizedProps)),p&&(p=Be)){if(An(d))throw Tn(),Error(n(418));for(;p;)Vt(d,p),p=Fo(p.nextSibling)}if(qn(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"){if(p===0){Be=Fo(d.nextSibling);break e}p--}else x!=="$"&&x!=="$!"&&x!=="$?"||p++}d=d.nextSibling}Be=null}}else Be=De?Fo(d.stateNode.nextSibling):null;return!0}function Tn(){for(var d=Be;d;)d=Fo(d.nextSibling)}function Ct(){Be=De=null,We=!1}function pt(d){Ke===null?Ke=[d]:Ke.push(d)}var hi=A.ReactCurrentBatchConfig;function gn(d,p,x){if(d=x.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var _=x.stateNode}if(!_)throw Error(n(147,d));var j=_,$=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===$?p.ref:(p=function(Z){var ve=j.refs;Z===null?delete ve[$]:ve[$]=Z},p._stringRef=$,p)}if(typeof d!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,d))}return d}function Bn(d,p){throw d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function Cr(d){var p=d._init;return p(d._payload)}function Wi(d){function p(Pe,ke){if(d){var je=Pe.deletions;je===null?(Pe.deletions=[ke],Pe.flags|=16):je.push(ke)}}function x(Pe,ke){if(!d)return null;for(;ke!==null;)p(Pe,ke),ke=ke.sibling;return null}function _(Pe,ke){for(Pe=new Map;ke!==null;)ke.key!==null?Pe.set(ke.key,ke):Pe.set(ke.index,ke),ke=ke.sibling;return Pe}function j(Pe,ke){return Pe=Pd(Pe,ke),Pe.index=0,Pe.sibling=null,Pe}function $(Pe,ke,je){return Pe.index=je,d?(je=Pe.alternate,je!==null?(je=je.index,je<ke?(Pe.flags|=2,ke):je):(Pe.flags|=2,ke)):(Pe.flags|=1048576,ke)}function Z(Pe){return d&&Pe.alternate===null&&(Pe.flags|=2),Pe}function ve(Pe,ke,je,at){return ke===null||ke.tag!==6?(ke=OS(je,Pe.mode,at),ke.return=Pe,ke):(ke=j(ke,je),ke.return=Pe,ke)}function Ee(Pe,ke,je,at){var Yt=je.type;return Yt===L?et(Pe,ke,je.props.children,at,je.key):ke!==null&&(ke.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===ne&&Cr(Yt)===ke.type)?(at=j(ke,je.props),at.ref=gn(Pe,ke,je),at.return=Pe,at):(at=L0(je.type,je.key,je.props,null,Pe.mode,at),at.ref=gn(Pe,ke,je),at.return=Pe,at)}function Ie(Pe,ke,je,at){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==je.containerInfo||ke.stateNode.implementation!==je.implementation?(ke=MS(je,Pe.mode,at),ke.return=Pe,ke):(ke=j(ke,je.children||[]),ke.return=Pe,ke)}function et(Pe,ke,je,at,Yt){return ke===null||ke.tag!==7?(ke=th(je,Pe.mode,at,Yt),ke.return=Pe,ke):(ke=j(ke,je),ke.return=Pe,ke)}function rt(Pe,ke,je){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=OS(""+ke,Pe.mode,je),ke.return=Pe,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case T:return je=L0(ke.type,ke.key,ke.props,null,Pe.mode,je),je.ref=gn(Pe,null,ke),je.return=Pe,je;case P:return ke=MS(ke,Pe.mode,je),ke.return=Pe,ke;case ne:var at=ke._init;return rt(Pe,at(ke._payload),je)}if(lt(ke)||K(ke))return ke=th(ke,Pe.mode,je,null),ke.return=Pe,ke;Bn(Pe,ke)}return null}function Je(Pe,ke,je,at){var Yt=ke!==null?ke.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return Yt!==null?null:ve(Pe,ke,""+je,at);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case T:return je.key===Yt?Ee(Pe,ke,je,at):null;case P:return je.key===Yt?Ie(Pe,ke,je,at):null;case ne:return Yt=je._init,Je(Pe,ke,Yt(je._payload),at)}if(lt(je)||K(je))return Yt!==null?null:et(Pe,ke,je,at,null);Bn(Pe,je)}return null}function Nt(Pe,ke,je,at,Yt){if(typeof at=="string"&&at!==""||typeof at=="number")return Pe=Pe.get(je)||null,ve(ke,Pe,""+at,Yt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case T:return Pe=Pe.get(at.key===null?je:at.key)||null,Ee(ke,Pe,at,Yt);case P:return Pe=Pe.get(at.key===null?je:at.key)||null,Ie(ke,Pe,at,Yt);case ne:var fn=at._init;return Nt(Pe,ke,je,fn(at._payload),Yt)}if(lt(at)||K(at))return Pe=Pe.get(je)||null,et(ke,Pe,at,Yt,null);Bn(ke,at)}return null}function Bt(Pe,ke,je,at){for(var Yt=null,fn=null,hn=ke,wn=ke=0,No=null;hn!==null&&wn<je.length;wn++){hn.index>wn?(No=hn,hn=null):No=hn.sibling;var ir=Je(Pe,hn,je[wn],at);if(ir===null){hn===null&&(hn=No);break}d&&hn&&ir.alternate===null&&p(Pe,hn),ke=$(ir,ke,wn),fn===null?Yt=ir:fn.sibling=ir,fn=ir,hn=No}if(wn===je.length)return x(Pe,hn),We&&Ae(Pe,wn),Yt;if(hn===null){for(;wn<je.length;wn++)hn=rt(Pe,je[wn],at),hn!==null&&(ke=$(hn,ke,wn),fn===null?Yt=hn:fn.sibling=hn,fn=hn);return We&&Ae(Pe,wn),Yt}for(hn=_(Pe,hn);wn<je.length;wn++)No=Nt(hn,Pe,wn,je[wn],at),No!==null&&(d&&No.alternate!==null&&hn.delete(No.key===null?wn:No.key),ke=$(No,ke,wn),fn===null?Yt=No:fn.sibling=No,fn=No);return d&&hn.forEach(function(Rd){return p(Pe,Rd)}),We&&Ae(Pe,wn),Yt}function Ut(Pe,ke,je,at){var Yt=K(je);if(typeof Yt!="function")throw Error(n(150));if(je=Yt.call(je),je==null)throw Error(n(151));for(var fn=Yt=null,hn=ke,wn=ke=0,No=null,ir=je.next();hn!==null&&!ir.done;wn++,ir=je.next()){hn.index>wn?(No=hn,hn=null):No=hn.sibling;var Rd=Je(Pe,hn,ir.value,at);if(Rd===null){hn===null&&(hn=No);break}d&&hn&&Rd.alternate===null&&p(Pe,hn),ke=$(Rd,ke,wn),fn===null?Yt=Rd:fn.sibling=Rd,fn=Rd,hn=No}if(ir.done)return x(Pe,hn),We&&Ae(Pe,wn),Yt;if(hn===null){for(;!ir.done;wn++,ir=je.next())ir=rt(Pe,ir.value,at),ir!==null&&(ke=$(ir,ke,wn),fn===null?Yt=ir:fn.sibling=ir,fn=ir);return We&&Ae(Pe,wn),Yt}for(hn=_(Pe,hn);!ir.done;wn++,ir=je.next())ir=Nt(hn,Pe,wn,ir.value,at),ir!==null&&(d&&ir.alternate!==null&&hn.delete(ir.key===null?wn:ir.key),ke=$(ir,ke,wn),fn===null?Yt=ir:fn.sibling=ir,fn=ir);return d&&hn.forEach(function(JJ){return p(Pe,JJ)}),We&&Ae(Pe,wn),Yt}function Ii(Pe,ke,je,at){if(typeof je=="object"&&je!==null&&je.type===L&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case T:e:{for(var Yt=je.key,fn=ke;fn!==null;){if(fn.key===Yt){if(Yt=je.type,Yt===L){if(fn.tag===7){x(Pe,fn.sibling),ke=j(fn,je.props.children),ke.return=Pe,Pe=ke;break e}}else if(fn.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===ne&&Cr(Yt)===fn.type){x(Pe,fn.sibling),ke=j(fn,je.props),ke.ref=gn(Pe,fn,je),ke.return=Pe,Pe=ke;break e}x(Pe,fn);break}else p(Pe,fn);fn=fn.sibling}je.type===L?(ke=th(je.props.children,Pe.mode,at,je.key),ke.return=Pe,Pe=ke):(at=L0(je.type,je.key,je.props,null,Pe.mode,at),at.ref=gn(Pe,ke,je),at.return=Pe,Pe=at)}return Z(Pe);case P:e:{for(fn=je.key;ke!==null;){if(ke.key===fn)if(ke.tag===4&&ke.stateNode.containerInfo===je.containerInfo&&ke.stateNode.implementation===je.implementation){x(Pe,ke.sibling),ke=j(ke,je.children||[]),ke.return=Pe,Pe=ke;break e}else{x(Pe,ke);break}else p(Pe,ke);ke=ke.sibling}ke=MS(je,Pe.mode,at),ke.return=Pe,Pe=ke}return Z(Pe);case ne:return fn=je._init,Ii(Pe,ke,fn(je._payload),at)}if(lt(je))return Bt(Pe,ke,je,at);if(K(je))return Ut(Pe,ke,je,at);Bn(Pe,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,ke!==null&&ke.tag===6?(x(Pe,ke.sibling),ke=j(ke,je),ke.return=Pe,Pe=ke):(x(Pe,ke),ke=OS(je,Pe.mode,at),ke.return=Pe,Pe=ke),Z(Pe)):x(Pe,ke)}return Ii}var wi=Wi(!0),Xr=Wi(!1),Ri=ms(null),Vi=null,qr=null,Vn=null;function Zn(){Vn=qr=Vi=null}function Ur(d){var p=Ri.current;ar(Ri),d._currentValue=p}function er(d,p,x){for(;d!==null;){var _=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,_!==null&&(_.childLanes|=p)):_!==null&&(_.childLanes&p)!==p&&(_.childLanes|=p),d===x)break;d=d.return}}function ai(d,p){Vi=d,Vn=qr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(Ja=!0),d.firstContext=null)}function si(d){var p=d._currentValue;if(Vn!==d)if(d={context:d,memoizedValue:p,next:null},qr===null){if(Vi===null)throw Error(n(308));qr=d,Vi.dependencies={lanes:0,firstContext:d}}else qr=qr.next=d;return p}var wr=null;function wo(d){wr===null?wr=[d]:wr.push(d)}function pr(d,p,x,_){var j=p.interleaved;return j===null?(x.next=x,wo(p)):(x.next=j.next,j.next=x),p.interleaved=x,Sr(d,_)}function Sr(d,p){d.lanes|=p;var x=d.alternate;for(x!==null&&(x.lanes|=p),x=d,d=d.return;d!==null;)d.childLanes|=p,x=d.alternate,x!==null&&(x.childLanes|=p),x=d,d=d.return;return x.tag===3?x.stateNode:null}var Si=!1;function ao(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ia(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function pi(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function mi(d,p,x){var _=d.updateQueue;if(_===null)return null;if(_=_.shared,(tr&2)!==0){var j=_.pending;return j===null?p.next=p:(p.next=j.next,j.next=p),_.pending=p,Sr(d,x)}return j=_.interleaved,j===null?(p.next=p,wo(_)):(p.next=j.next,j.next=p),_.interleaved=p,Sr(d,x)}function So(d,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194240)!==0)){var _=p.lanes;_&=d.pendingLanes,x|=_,p.lanes=x,dc(d,x)}}function _r(d,p){var x=d.updateQueue,_=d.alternate;if(_!==null&&(_=_.updateQueue,x===_)){var j=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var Z={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};$===null?j=$=Z:$=$.next=Z,x=x.next}while(x!==null);$===null?j=$=p:$=$.next=p}else j=$=p;x={baseState:_.baseState,firstBaseUpdate:j,lastBaseUpdate:$,shared:_.shared,effects:_.effects},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=p:d.next=p,x.lastBaseUpdate=p}function _o(d,p,x,_){var j=d.updateQueue;Si=!1;var $=j.firstBaseUpdate,Z=j.lastBaseUpdate,ve=j.shared.pending;if(ve!==null){j.shared.pending=null;var Ee=ve,Ie=Ee.next;Ee.next=null,Z===null?$=Ie:Z.next=Ie,Z=Ee;var et=d.alternate;et!==null&&(et=et.updateQueue,ve=et.lastBaseUpdate,ve!==Z&&(ve===null?et.firstBaseUpdate=Ie:ve.next=Ie,et.lastBaseUpdate=Ee))}if($!==null){var rt=j.baseState;Z=0,et=Ie=Ee=null,ve=$;do{var Je=ve.lane,Nt=ve.eventTime;if((_&Je)===Je){et!==null&&(et=et.next={eventTime:Nt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var Bt=d,Ut=ve;switch(Je=p,Nt=x,Ut.tag){case 1:if(Bt=Ut.payload,typeof Bt=="function"){rt=Bt.call(Nt,rt,Je);break e}rt=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Ut.payload,Je=typeof Bt=="function"?Bt.call(Nt,rt,Je):Bt,Je==null)break e;rt=fe({},rt,Je);break e;case 2:Si=!0}}ve.callback!==null&&ve.lane!==0&&(d.flags|=64,Je=j.effects,Je===null?j.effects=[ve]:Je.push(ve))}else Nt={eventTime:Nt,lane:Je,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},et===null?(Ie=et=Nt,Ee=rt):et=et.next=Nt,Z|=Je;if(ve=ve.next,ve===null){if(ve=j.shared.pending,ve===null)break;Je=ve,ve=Je.next,Je.next=null,j.lastBaseUpdate=Je,j.shared.pending=null}}while(!0);if(et===null&&(Ee=rt),j.baseState=Ee,j.firstBaseUpdate=Ie,j.lastBaseUpdate=et,p=j.shared.interleaved,p!==null){j=p;do Z|=j.lane,j=j.next;while(j!==p)}else $===null&&(j.shared.lanes=0);Qf|=Z,d.lanes=Z,d.memoizedState=rt}}function Qa(d,p,x){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var _=d[p],j=_.callback;if(j!==null){if(_.callback=null,_=x,typeof j!="function")throw Error(n(191,j));j.call(_)}}}var gs={},Ki=ms(gs),gi=ms(gs),_c=ms(gs);function Rl(d){if(d===gs)throw Error(n(174));return d}function _d(d,p){switch(hr(_c,p),hr(gi,d),hr(Ki,gs),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:rn(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=rn(p,d)}ar(Ki),hr(Ki,p)}function Vs(){ar(Ki),ar(gi),ar(_c)}function v0(d){Rl(_c.current);var p=Rl(Ki.current),x=rn(p,d.type);p!==x&&(hr(gi,d),hr(Ki,x))}function Rg(d){gi.current===d&&(ar(Ki),ar(gi))}var Rr=ms(0);function vs(d){for(var p=d;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var jg=[];function Ig(){for(var d=0;d<jg.length;d++)jg[d]._workInProgressVersionPrimary=null;jg.length=0}var mp=A.ReactCurrentDispatcher,gp=A.ReactCurrentBatchConfig,Ks=0,Hr=null,_i=null,vi=null,Ed=!1,jl=!1,Nd=0,nS=0;function ji(){throw Error(n(321))}function vp(d,p){if(p===null)return!1;for(var x=0;x<p.length&&x<d.length;x++)if(!ri(d[x],p[x]))return!1;return!0}function Gf(d,p,x,_,j,$){if(Ks=$,Hr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,mp.current=d===null||d.memoizedState===null?EJ:NJ,d=x(_,j),jl){$=0;do{if(jl=!1,Nd=0,25<=$)throw Error(n(301));$+=1,vi=_i=null,p.updateQueue=null,mp.current=AJ,d=x(_,j)}while(jl)}if(mp.current=S0,p=_i!==null&&_i.next!==null,Ks=0,vi=_i=Hr=null,Ed=!1,p)throw Error(n(300));return d}function Gs(){var d=Nd!==0;return Nd=0,d}function ys(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Hr.memoizedState=vi=d:vi=vi.next=d,vi}function Ca(){if(_i===null){var d=Hr.alternate;d=d!==null?d.memoizedState:null}else d=_i.next;var p=vi===null?Hr.memoizedState:vi.next;if(p!==null)vi=p,_i=d;else{if(d===null)throw Error(n(310));_i=d,d={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},vi===null?Hr.memoizedState=vi=d:vi=vi.next=d}return vi}function Yf(d,p){return typeof p=="function"?p(d):p}function yp(d){var p=Ca(),x=p.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var _=_i,j=_.baseQueue,$=x.pending;if($!==null){if(j!==null){var Z=j.next;j.next=$.next,$.next=Z}_.baseQueue=j=$,x.pending=null}if(j!==null){$=j.next,_=_.baseState;var ve=Z=null,Ee=null,Ie=$;do{var et=Ie.lane;if((Ks&et)===et)Ee!==null&&(Ee=Ee.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),_=Ie.hasEagerState?Ie.eagerState:d(_,Ie.action);else{var rt={lane:et,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};Ee===null?(ve=Ee=rt,Z=_):Ee=Ee.next=rt,Hr.lanes|=et,Qf|=et}Ie=Ie.next}while(Ie!==null&&Ie!==$);Ee===null?Z=_:Ee.next=ve,ri(_,p.memoizedState)||(Ja=!0),p.memoizedState=_,p.baseState=Z,p.baseQueue=Ee,x.lastRenderedState=_}if(d=x.interleaved,d!==null){j=d;do $=j.lane,Hr.lanes|=$,Qf|=$,j=j.next;while(j!==d)}else j===null&&(x.lanes=0);return[p.memoizedState,x.dispatch]}function Ec(d){var p=Ca(),x=p.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var _=x.dispatch,j=x.pending,$=p.memoizedState;if(j!==null){x.pending=null;var Z=j=j.next;do $=d($,Z.action),Z=Z.next;while(Z!==j);ri($,p.memoizedState)||(Ja=!0),p.memoizedState=$,p.baseQueue===null&&(p.baseState=$),x.lastRenderedState=$}return[$,_]}function y0(){}function Lg(d,p){var x=Hr,_=Ca(),j=p(),$=!ri(_.memoizedState,j);if($&&(_.memoizedState=j,Ja=!0),_=_.queue,wp(x0.bind(null,x,_,d),[d]),_.getSnapshot!==p||$||vi!==null&&vi.memoizedState.tag&1){if(x.flags|=2048,Ta(9,Dg.bind(null,x,_,j,p),void 0,null),Eo===null)throw Error(n(349));(Ks&30)!==0||b0(x,p,j)}return j}function b0(d,p,x){d.flags|=16384,d={getSnapshot:p,value:x},p=Hr.updateQueue,p===null?(p={lastEffect:null,stores:null},Hr.updateQueue=p,p.stores=[d]):(x=p.stores,x===null?p.stores=[d]:x.push(d))}function Dg(d,p,x,_){p.value=x,p.getSnapshot=_,Ad(p)&&bp(d)}function x0(d,p,x){return x(function(){Ad(p)&&bp(d)})}function Ad(d){var p=d.getSnapshot;d=d.value;try{var x=p();return!ri(d,x)}catch{return!0}}function bp(d){var p=Sr(d,1);p!==null&&Bl(p,d,1,-1)}function Xf(d){var p=ys();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:d},p.queue=d,d=d.dispatch=_J.bind(null,Hr,d),[p.memoizedState,d]}function Ta(d,p,x,_){return d={tag:d,create:p,destroy:x,deps:_,next:null},p=Hr.updateQueue,p===null?(p={lastEffect:null,stores:null},Hr.updateQueue=p,p.lastEffect=d.next=d):(x=p.lastEffect,x===null?p.lastEffect=d.next=d:(_=x.next,x.next=d,d.next=_,p.lastEffect=d)),d}function Il(){return Ca().memoizedState}function bs(d,p,x,_){var j=ys();Hr.flags|=d,j.memoizedState=Ta(1|p,x,void 0,_===void 0?null:_)}function Su(d,p,x,_){var j=Ca();_=_===void 0?null:_;var $=void 0;if(_i!==null){var Z=_i.memoizedState;if($=Z.destroy,_!==null&&vp(_,Z.deps)){j.memoizedState=Ta(p,x,$,_);return}}Hr.flags|=d,j.memoizedState=Ta(1|p,x,$,_)}function xp(d,p){return bs(8390656,8,d,p)}function wp(d,p){return Su(2048,8,d,p)}function w0(d,p){return Su(4,2,d,p)}function Sp(d,p){return Su(4,4,d,p)}function _p(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function fR(d,p,x){return x=x!=null?x.concat([d]):null,Su(4,4,_p.bind(null,p,d),x)}function rS(){}function hR(d,p){var x=Ca();p=p===void 0?null:p;var _=x.memoizedState;return _!==null&&p!==null&&vp(p,_[1])?_[0]:(x.memoizedState=[d,p],d)}function pR(d,p){var x=Ca();p=p===void 0?null:p;var _=x.memoizedState;return _!==null&&p!==null&&vp(p,_[1])?_[0]:(d=d(),x.memoizedState=[d,p],d)}function mR(d,p,x){return(Ks&21)===0?(d.baseState&&(d.baseState=!1,Ja=!0),d.memoizedState=x):(ri(x,p)||(x=ad(),Hr.lanes|=x,Qf|=x,d.baseState=!0),p)}function wJ(d,p){var x=zn;zn=x!==0&&4>x?x:4,d(!0);var _=gp.transition;gp.transition={};try{d(!1),p()}finally{zn=x,gp.transition=_}}function gR(){return Ca().memoizedState}function SJ(d,p,x){var _=Od(d);if(x={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null},vR(d))yR(p,x);else if(x=pr(d,p,x,_),x!==null){var j=Ma();Bl(x,d,_,j),bR(x,p,_)}}function _J(d,p,x){var _=Od(d),j={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null};if(vR(d))yR(p,j);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=p.lastRenderedReducer,$!==null))try{var Z=p.lastRenderedState,ve=$(Z,x);if(j.hasEagerState=!0,j.eagerState=ve,ri(ve,Z)){var Ee=p.interleaved;Ee===null?(j.next=j,wo(p)):(j.next=Ee.next,Ee.next=j),p.interleaved=j;return}}catch{}finally{}x=pr(d,p,j,_),x!==null&&(j=Ma(),Bl(x,d,_,j),bR(x,p,_))}}function vR(d){var p=d.alternate;return d===Hr||p!==null&&p===Hr}function yR(d,p){jl=Ed=!0;var x=d.pending;x===null?p.next=p:(p.next=x.next,x.next=p),d.pending=p}function bR(d,p,x){if((x&4194240)!==0){var _=p.lanes;_&=d.pendingLanes,x|=_,p.lanes=x,dc(d,x)}}var S0={readContext:si,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},EJ={readContext:si,useCallback:function(d,p){return ys().memoizedState=[d,p===void 0?null:p],d},useContext:si,useEffect:xp,useImperativeHandle:function(d,p,x){return x=x!=null?x.concat([d]):null,bs(4194308,4,_p.bind(null,p,d),x)},useLayoutEffect:function(d,p){return bs(4194308,4,d,p)},useInsertionEffect:function(d,p){return bs(4,2,d,p)},useMemo:function(d,p){var x=ys();return p=p===void 0?null:p,d=d(),x.memoizedState=[d,p],d},useReducer:function(d,p,x){var _=ys();return p=x!==void 0?x(p):p,_.memoizedState=_.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},_.queue=d,d=d.dispatch=SJ.bind(null,Hr,d),[_.memoizedState,d]},useRef:function(d){var p=ys();return d={current:d},p.memoizedState=d},useState:Xf,useDebugValue:rS,useDeferredValue:function(d){return ys().memoizedState=d},useTransition:function(){var d=Xf(!1),p=d[0];return d=wJ.bind(null,d[1]),ys().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,x){var _=Hr,j=ys();if(We){if(x===void 0)throw Error(n(407));x=x()}else{if(x=p(),Eo===null)throw Error(n(349));(Ks&30)!==0||b0(_,p,x)}j.memoizedState=x;var $={value:x,getSnapshot:p};return j.queue=$,xp(x0.bind(null,_,$,d),[d]),_.flags|=2048,Ta(9,Dg.bind(null,_,$,x,p),void 0,null),x},useId:function(){var d=ys(),p=Eo.identifierPrefix;if(We){var x=de,_=Me;x=(_&~(1<<32-dr(_)-1)).toString(32)+x,p=":"+p+"R"+x,x=Nd++,0<x&&(p+="H"+x.toString(32)),p+=":"}else x=nS++,p=":"+p+"r"+x.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},NJ={readContext:si,useCallback:hR,useContext:si,useEffect:wp,useImperativeHandle:fR,useInsertionEffect:w0,useLayoutEffect:Sp,useMemo:pR,useReducer:yp,useRef:Il,useState:function(){return yp(Yf)},useDebugValue:rS,useDeferredValue:function(d){var p=Ca();return mR(p,_i.memoizedState,d)},useTransition:function(){var d=yp(Yf)[0],p=Ca().memoizedState;return[d,p]},useMutableSource:y0,useSyncExternalStore:Lg,useId:gR,unstable_isNewReconciler:!1},AJ={readContext:si,useCallback:hR,useContext:si,useEffect:wp,useImperativeHandle:fR,useInsertionEffect:w0,useLayoutEffect:Sp,useMemo:pR,useReducer:Ec,useRef:Il,useState:function(){return Ec(Yf)},useDebugValue:rS,useDeferredValue:function(d){var p=Ca();return _i===null?p.memoizedState=d:mR(p,_i.memoizedState,d)},useTransition:function(){var d=Ec(Yf)[0],p=Ca().memoizedState;return[d,p]},useMutableSource:y0,useSyncExternalStore:Lg,useId:gR,unstable_isNewReconciler:!1};function Ll(d,p){if(d&&d.defaultProps){p=fe({},p),d=d.defaultProps;for(var x in d)p[x]===void 0&&(p[x]=d[x]);return p}return p}function iS(d,p,x,_){p=d.memoizedState,x=x(_,p),x=x==null?p:fe({},p,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var _0={isMounted:function(d){return(d=d._reactInternals)?Mi(d)===d:!1},enqueueSetState:function(d,p,x){d=d._reactInternals;var _=Ma(),j=Od(d),$=pi(_,j);$.payload=p,x!=null&&($.callback=x),p=mi(d,$,j),p!==null&&(Bl(p,d,j,_),So(p,d,j))},enqueueReplaceState:function(d,p,x){d=d._reactInternals;var _=Ma(),j=Od(d),$=pi(_,j);$.tag=1,$.payload=p,x!=null&&($.callback=x),p=mi(d,$,j),p!==null&&(Bl(p,d,j,_),So(p,d,j))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var x=Ma(),_=Od(d),j=pi(x,_);j.tag=2,p!=null&&(j.callback=p),p=mi(d,j,_),p!==null&&(Bl(p,d,_,x),So(p,d,_))}};function xR(d,p,x,_,j,$,Z){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(_,$,Z):p.prototype&&p.prototype.isPureReactComponent?!Zo(x,_)||!Zo(j,$):!0}function wR(d,p,x){var _=!1,j=Sc,$=p.contextType;return typeof $=="object"&&$!==null?$=si($):(j=ra(p)?xu:oo.current,_=p.contextTypes,$=(_=_!=null)?Sd(d,j):Sc),p=new p(x,$),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_0,d.stateNode=p,p._reactInternals=d,_&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=j,d.__reactInternalMemoizedMaskedChildContext=$),p}function SR(d,p,x,_){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(x,_),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(x,_),p.state!==d&&_0.enqueueReplaceState(p,p.state,null)}function oS(d,p,x,_){var j=d.stateNode;j.props=x,j.state=d.memoizedState,j.refs={},ao(d);var $=p.contextType;typeof $=="object"&&$!==null?j.context=si($):($=ra(p)?xu:oo.current,j.context=Sd(d,$)),j.state=d.memoizedState,$=p.getDerivedStateFromProps,typeof $=="function"&&(iS(d,p,$,x),j.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(p=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),p!==j.state&&_0.enqueueReplaceState(j,j.state,null),_o(d,x,j,_),j.state=d.memoizedState),typeof j.componentDidMount=="function"&&(d.flags|=4194308)}function Ep(d,p){try{var x="",_=p;do x+=ie(_),_=_.return;while(_);var j=x}catch($){j=`
Error generating stack: `+$.message+`
`+$.stack}return{value:d,source:p,stack:j,digest:null}}function aS(d,p,x){return{value:d,source:null,stack:x??null,digest:p??null}}function sS(d,p){try{console.error(p.value)}catch(x){setTimeout(function(){throw x})}}var kJ=typeof WeakMap=="function"?WeakMap:Map;function _R(d,p,x){x=pi(-1,x),x.tag=3,x.payload={element:null};var _=p.value;return x.callback=function(){O0||(O0=!0,SS=_),sS(d,p)},x}function ER(d,p,x){x=pi(-1,x),x.tag=3;var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var j=p.value;x.payload=function(){return _(j)},x.callback=function(){sS(d,p)}}var $=d.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(x.callback=function(){sS(d,p),typeof _!="function"&&(Cd===null?Cd=new Set([this]):Cd.add(this));var Z=p.stack;this.componentDidCatch(p.value,{componentStack:Z!==null?Z:""})}),x}function NR(d,p,x){var _=d.pingCache;if(_===null){_=d.pingCache=new kJ;var j=new Set;_.set(p,j)}else j=_.get(p),j===void 0&&(j=new Set,_.set(p,j));j.has(x)||(j.add(x),d=zJ.bind(null,d,p,x),p.then(d,d))}function AR(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function kR(d,p,x,_,j){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(p=pi(-1,1),p.tag=2,mi(x,p,1))),x.lanes|=1),d):(d.flags|=65536,d.lanes=j,d)}var CJ=A.ReactCurrentOwner,Ja=!1;function Oa(d,p,x,_){p.child=d===null?Xr(p,null,x,_):wi(p,d.child,x,_)}function CR(d,p,x,_,j){x=x.render;var $=p.ref;return ai(p,j),_=Gf(d,p,x,_,$,j),x=Gs(),d!==null&&!Ja?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~j,_u(d,p,j)):(We&&x&&$e(p),p.flags|=1,Oa(d,p,_,j),p.child)}function TR(d,p,x,_,j){if(d===null){var $=x.type;return typeof $=="function"&&!TS($)&&$.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(p.tag=15,p.type=$,OR(d,p,$,_,j)):(d=L0(x.type,null,_,p,p.mode,j),d.ref=p.ref,d.return=p,p.child=d)}if($=d.child,(d.lanes&j)===0){var Z=$.memoizedProps;if(x=x.compare,x=x!==null?x:Zo,x(Z,_)&&d.ref===p.ref)return _u(d,p,j)}return p.flags|=1,d=Pd($,_),d.ref=p.ref,d.return=p,p.child=d}function OR(d,p,x,_,j){if(d!==null){var $=d.memoizedProps;if(Zo($,_)&&d.ref===p.ref)if(Ja=!1,p.pendingProps=_=$,(d.lanes&j)!==0)(d.flags&131072)!==0&&(Ja=!0);else return p.lanes=d.lanes,_u(d,p,j)}return lS(d,p,x,_,j)}function MR(d,p,x){var _=p.pendingProps,j=_.children,$=d!==null?d.memoizedState:null;if(_.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},hr(Ap,xs),xs|=x;else{if((x&1073741824)===0)return d=$!==null?$.baseLanes|x:x,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,hr(Ap,xs),xs|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=$!==null?$.baseLanes:x,hr(Ap,xs),xs|=_}else $!==null?(_=$.baseLanes|x,p.memoizedState=null):_=x,hr(Ap,xs),xs|=_;return Oa(d,p,j,x),p.child}function PR(d,p){var x=p.ref;(d===null&&x!==null||d!==null&&d.ref!==x)&&(p.flags|=512,p.flags|=2097152)}function lS(d,p,x,_,j){var $=ra(x)?xu:oo.current;return $=Sd(p,$),ai(p,j),x=Gf(d,p,x,_,$,j),_=Gs(),d!==null&&!Ja?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~j,_u(d,p,j)):(We&&_&&$e(p),p.flags|=1,Oa(d,p,x,j),p.child)}function RR(d,p,x,_,j){if(ra(x)){var $=!0;wu(p)}else $=!1;if(ai(p,j),p.stateNode===null)N0(d,p),wR(p,x,_),oS(p,x,_,j),_=!0;else if(d===null){var Z=p.stateNode,ve=p.memoizedProps;Z.props=ve;var Ee=Z.context,Ie=x.contextType;typeof Ie=="object"&&Ie!==null?Ie=si(Ie):(Ie=ra(x)?xu:oo.current,Ie=Sd(p,Ie));var et=x.getDerivedStateFromProps,rt=typeof et=="function"||typeof Z.getSnapshotBeforeUpdate=="function";rt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ve!==_||Ee!==Ie)&&SR(p,Z,_,Ie),Si=!1;var Je=p.memoizedState;Z.state=Je,_o(p,_,Z,j),Ee=p.memoizedState,ve!==_||Je!==Ee||na.current||Si?(typeof et=="function"&&(iS(p,x,et,_),Ee=p.memoizedState),(ve=Si||xR(p,x,ve,_,Je,Ee,Ie))?(rt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=_,p.memoizedState=Ee),Z.props=_,Z.state=Ee,Z.context=Ie,_=ve):(typeof Z.componentDidMount=="function"&&(p.flags|=4194308),_=!1)}else{Z=p.stateNode,ia(d,p),ve=p.memoizedProps,Ie=p.type===p.elementType?ve:Ll(p.type,ve),Z.props=Ie,rt=p.pendingProps,Je=Z.context,Ee=x.contextType,typeof Ee=="object"&&Ee!==null?Ee=si(Ee):(Ee=ra(x)?xu:oo.current,Ee=Sd(p,Ee));var Nt=x.getDerivedStateFromProps;(et=typeof Nt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ve!==rt||Je!==Ee)&&SR(p,Z,_,Ee),Si=!1,Je=p.memoizedState,Z.state=Je,_o(p,_,Z,j);var Bt=p.memoizedState;ve!==rt||Je!==Bt||na.current||Si?(typeof Nt=="function"&&(iS(p,x,Nt,_),Bt=p.memoizedState),(Ie=Si||xR(p,x,Ie,_,Je,Bt,Ee)||!1)?(et||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(_,Bt,Ee),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(_,Bt,Ee)),typeof Z.componentDidUpdate=="function"&&(p.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Z.componentDidUpdate!="function"||ve===d.memoizedProps&&Je===d.memoizedState||(p.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&Je===d.memoizedState||(p.flags|=1024),p.memoizedProps=_,p.memoizedState=Bt),Z.props=_,Z.state=Bt,Z.context=Ee,_=Ie):(typeof Z.componentDidUpdate!="function"||ve===d.memoizedProps&&Je===d.memoizedState||(p.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ve===d.memoizedProps&&Je===d.memoizedState||(p.flags|=1024),_=!1)}return cS(d,p,x,_,$,j)}function cS(d,p,x,_,j,$){PR(d,p);var Z=(p.flags&128)!==0;if(!_&&!Z)return j&&g0(p,x,!1),_u(d,p,$);_=p.stateNode,CJ.current=p;var ve=Z&&typeof x.getDerivedStateFromError!="function"?null:_.render();return p.flags|=1,d!==null&&Z?(p.child=wi(p,d.child,null,$),p.child=wi(p,null,ve,$)):Oa(d,p,ve,$),p.memoizedState=_.state,j&&g0(p,x,!0),p.child}function jR(d){var p=d.stateNode;p.pendingContext?m0(d,p.pendingContext,p.pendingContext!==p.context):p.context&&m0(d,p.context,!1),_d(d,p.containerInfo)}function IR(d,p,x,_,j){return Ct(),pt(j),p.flags|=256,Oa(d,p,x,_),p.child}var uS={dehydrated:null,treeContext:null,retryLane:0};function dS(d){return{baseLanes:d,cachePool:null,transitions:null}}function LR(d,p,x){var _=p.pendingProps,j=Rr.current,$=!1,Z=(p.flags&128)!==0,ve;if((ve=Z)||(ve=d!==null&&d.memoizedState===null?!1:(j&2)!==0),ve?($=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(j|=1),hr(Rr,j&1),d===null)return Ft(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(Z=_.children,d=_.fallback,$?(_=p.mode,$=p.child,Z={mode:"hidden",children:Z},(_&1)===0&&$!==null?($.childLanes=0,$.pendingProps=Z):$=D0(Z,_,0,null),d=th(d,_,x,null),$.return=p,d.return=p,$.sibling=d,p.child=$,p.child.memoizedState=dS(x),p.memoizedState=uS,d):fS(p,Z));if(j=d.memoizedState,j!==null&&(ve=j.dehydrated,ve!==null))return TJ(d,p,Z,_,ve,j,x);if($){$=_.fallback,Z=p.mode,j=d.child,ve=j.sibling;var Ee={mode:"hidden",children:_.children};return(Z&1)===0&&p.child!==j?(_=p.child,_.childLanes=0,_.pendingProps=Ee,p.deletions=null):(_=Pd(j,Ee),_.subtreeFlags=j.subtreeFlags&14680064),ve!==null?$=Pd(ve,$):($=th($,Z,x,null),$.flags|=2),$.return=p,_.return=p,_.sibling=$,p.child=_,_=$,$=p.child,Z=d.child.memoizedState,Z=Z===null?dS(x):{baseLanes:Z.baseLanes|x,cachePool:null,transitions:Z.transitions},$.memoizedState=Z,$.childLanes=d.childLanes&~x,p.memoizedState=uS,_}return $=d.child,d=$.sibling,_=Pd($,{mode:"visible",children:_.children}),(p.mode&1)===0&&(_.lanes=x),_.return=p,_.sibling=null,d!==null&&(x=p.deletions,x===null?(p.deletions=[d],p.flags|=16):x.push(d)),p.child=_,p.memoizedState=null,_}function fS(d,p){return p=D0({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function E0(d,p,x,_){return _!==null&&pt(_),wi(p,d.child,null,x),d=fS(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function TJ(d,p,x,_,j,$,Z){if(x)return p.flags&256?(p.flags&=-257,_=aS(Error(n(422))),E0(d,p,Z,_)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):($=_.fallback,j=p.mode,_=D0({mode:"visible",children:_.children},j,0,null),$=th($,j,Z,null),$.flags|=2,_.return=p,$.return=p,_.sibling=$,p.child=_,(p.mode&1)!==0&&wi(p,d.child,null,Z),p.child.memoizedState=dS(Z),p.memoizedState=uS,$);if((p.mode&1)===0)return E0(d,p,Z,null);if(j.data==="$!"){if(_=j.nextSibling&&j.nextSibling.dataset,_)var ve=_.dgst;return _=ve,$=Error(n(419)),_=aS($,_,void 0),E0(d,p,Z,_)}if(ve=(Z&d.childLanes)!==0,Ja||ve){if(_=Eo,_!==null){switch(Z&-Z){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(_.suspendedLanes|Z))!==0?0:j,j!==0&&j!==$.retryLane&&($.retryLane=j,Sr(d,j),Bl(_,d,j,-1))}return CS(),_=aS(Error(n(421))),E0(d,p,Z,_)}return j.data==="$?"?(p.flags|=128,p.child=d.child,p=qJ.bind(null,d),j._reactRetry=p,null):(d=$.treeContext,Be=Fo(j.nextSibling),De=p,We=!0,Ke=null,d!==null&&(ae[ce++]=Me,ae[ce++]=de,ae[ce++]=_e,Me=d.id,de=d.overflow,_e=p),p=fS(p,_.children),p.flags|=4096,p)}function DR(d,p,x){d.lanes|=p;var _=d.alternate;_!==null&&(_.lanes|=p),er(d.return,p,x)}function hS(d,p,x,_,j){var $=d.memoizedState;$===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:_,tail:x,tailMode:j}:($.isBackwards=p,$.rendering=null,$.renderingStartTime=0,$.last=_,$.tail=x,$.tailMode=j)}function FR(d,p,x){var _=p.pendingProps,j=_.revealOrder,$=_.tail;if(Oa(d,p,_.children,x),_=Rr.current,(_&2)!==0)_=_&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&DR(d,x,p);else if(d.tag===19)DR(d,x,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}_&=1}if(hr(Rr,_),(p.mode&1)===0)p.memoizedState=null;else switch(j){case"forwards":for(x=p.child,j=null;x!==null;)d=x.alternate,d!==null&&vs(d)===null&&(j=x),x=x.sibling;x=j,x===null?(j=p.child,p.child=null):(j=x.sibling,x.sibling=null),hS(p,!1,j,x,$);break;case"backwards":for(x=null,j=p.child,p.child=null;j!==null;){if(d=j.alternate,d!==null&&vs(d)===null){p.child=j;break}d=j.sibling,j.sibling=x,x=j,j=d}hS(p,!0,x,null,$);break;case"together":hS(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function N0(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function _u(d,p,x){if(d!==null&&(p.dependencies=d.dependencies),Qf|=p.lanes,(x&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,x=Pd(d,d.pendingProps),p.child=x,x.return=p;d.sibling!==null;)d=d.sibling,x=x.sibling=Pd(d,d.pendingProps),x.return=p;x.sibling=null}return p.child}function OJ(d,p,x){switch(p.tag){case 3:jR(p),Ct();break;case 5:v0(p);break;case 1:ra(p.type)&&wu(p);break;case 4:_d(p,p.stateNode.containerInfo);break;case 10:var _=p.type._context,j=p.memoizedProps.value;hr(Ri,_._currentValue),_._currentValue=j;break;case 13:if(_=p.memoizedState,_!==null)return _.dehydrated!==null?(hr(Rr,Rr.current&1),p.flags|=128,null):(x&p.child.childLanes)!==0?LR(d,p,x):(hr(Rr,Rr.current&1),d=_u(d,p,x),d!==null?d.sibling:null);hr(Rr,Rr.current&1);break;case 19:if(_=(x&p.childLanes)!==0,(d.flags&128)!==0){if(_)return FR(d,p,x);p.flags|=128}if(j=p.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),hr(Rr,Rr.current),_)break;return null;case 22:case 23:return p.lanes=0,MR(d,p,x)}return _u(d,p,x)}var BR,pS,$R,zR;BR=function(d,p){for(var x=p.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},pS=function(){},$R=function(d,p,x,_){var j=d.memoizedProps;if(j!==_){d=p.stateNode,Rl(Ki.current);var $=null;switch(x){case"input":j=Ne(d,j),_=Ne(d,_),$=[];break;case"select":j=fe({},j,{value:void 0}),_=fe({},_,{value:void 0}),$=[];break;case"textarea":j=Et(d,j),_=Et(d,_),$=[];break;default:typeof j.onClick!="function"&&typeof _.onClick=="function"&&(d.onclick=bd)}Gn(x,_);var Z;x=null;for(Ie in j)if(!_.hasOwnProperty(Ie)&&j.hasOwnProperty(Ie)&&j[Ie]!=null)if(Ie==="style"){var ve=j[Ie];for(Z in ve)ve.hasOwnProperty(Z)&&(x||(x={}),x[Z]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?$||($=[]):($=$||[]).push(Ie,null));for(Ie in _){var Ee=_[Ie];if(ve=j?.[Ie],_.hasOwnProperty(Ie)&&Ee!==ve&&(Ee!=null||ve!=null))if(Ie==="style")if(ve){for(Z in ve)!ve.hasOwnProperty(Z)||Ee&&Ee.hasOwnProperty(Z)||(x||(x={}),x[Z]="");for(Z in Ee)Ee.hasOwnProperty(Z)&&ve[Z]!==Ee[Z]&&(x||(x={}),x[Z]=Ee[Z])}else x||($||($=[]),$.push(Ie,x)),x=Ee;else Ie==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,ve=ve?ve.__html:void 0,Ee!=null&&ve!==Ee&&($=$||[]).push(Ie,Ee)):Ie==="children"?typeof Ee!="string"&&typeof Ee!="number"||($=$||[]).push(Ie,""+Ee):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(Ee!=null&&Ie==="onScroll"&&xr("scroll",d),$||ve===Ee||($=[])):($=$||[]).push(Ie,Ee))}x&&($=$||[]).push("style",x);var Ie=$;(p.updateQueue=Ie)&&(p.flags|=4)}},zR=function(d,p,x,_){x!==_&&(p.flags|=4)};function Fg(d,p){if(!We)switch(d.tailMode){case"hidden":p=d.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:_.sibling=null}}function oa(d){var p=d.alternate!==null&&d.alternate.child===d.child,x=0,_=0;if(p)for(var j=d.child;j!==null;)x|=j.lanes|j.childLanes,_|=j.subtreeFlags&14680064,_|=j.flags&14680064,j.return=d,j=j.sibling;else for(j=d.child;j!==null;)x|=j.lanes|j.childLanes,_|=j.subtreeFlags,_|=j.flags,j.return=d,j=j.sibling;return d.subtreeFlags|=_,d.childLanes=x,p}function MJ(d,p,x){var _=p.pendingProps;switch(Re(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oa(p),null;case 1:return ra(p.type)&&pp(),oa(p),null;case 3:return _=p.stateNode,Vs(),ar(na),ar(oo),Ig(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(oi(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Ke!==null&&(NS(Ke),Ke=null))),pS(d,p),oa(p),null;case 5:Rg(p);var j=Rl(_c.current);if(x=p.type,d!==null&&p.stateNode!=null)$R(d,p,x,_,j),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!_){if(p.stateNode===null)throw Error(n(166));return oa(p),null}if(d=Rl(Ki.current),oi(p)){_=p.stateNode,x=p.type;var $=p.memoizedProps;switch(_[Ws]=p,_[xd]=$,d=(p.mode&1)!==0,x){case"dialog":xr("cancel",_),xr("close",_);break;case"iframe":case"object":case"embed":xr("load",_);break;case"video":case"audio":for(j=0;j<xc.length;j++)xr(xc[j],_);break;case"source":xr("error",_);break;case"img":case"image":case"link":xr("error",_),xr("load",_);break;case"details":xr("toggle",_);break;case"input":se(_,$),xr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!$.multiple},xr("invalid",_);break;case"textarea":St(_,$),xr("invalid",_)}Gn(x,$),j=null;for(var Z in $)if($.hasOwnProperty(Z)){var ve=$[Z];Z==="children"?typeof ve=="string"?_.textContent!==ve&&($.suppressHydrationWarning!==!0&&hp(_.textContent,ve,d),j=["children",ve]):typeof ve=="number"&&_.textContent!==""+ve&&($.suppressHydrationWarning!==!0&&hp(_.textContent,ve,d),j=["children",""+ve]):i.hasOwnProperty(Z)&&ve!=null&&Z==="onScroll"&&xr("scroll",_)}switch(x){case"input":Se(_),Ge(_,$,!0);break;case"textarea":Se(_),Tt(_);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(_.onclick=bd)}_=j,p.updateQueue=_,_!==null&&(p.flags|=4)}else{Z=j.nodeType===9?j:j.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=xt(x)),d==="http://www.w3.org/1999/xhtml"?x==="script"?(d=Z.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof _.is=="string"?d=Z.createElement(x,{is:_.is}):(d=Z.createElement(x),x==="select"&&(Z=d,_.multiple?Z.multiple=!0:_.size&&(Z.size=_.size))):d=Z.createElementNS(d,x),d[Ws]=p,d[xd]=_,BR(d,p,!1,!1),p.stateNode=d;e:{switch(Z=Jt(x,_),x){case"dialog":xr("cancel",d),xr("close",d),j=_;break;case"iframe":case"object":case"embed":xr("load",d),j=_;break;case"video":case"audio":for(j=0;j<xc.length;j++)xr(xc[j],d);j=_;break;case"source":xr("error",d),j=_;break;case"img":case"image":case"link":xr("error",d),xr("load",d),j=_;break;case"details":xr("toggle",d),j=_;break;case"input":se(d,_),j=Ne(d,_),xr("invalid",d);break;case"option":j=_;break;case"select":d._wrapperState={wasMultiple:!!_.multiple},j=fe({},_,{value:void 0}),xr("invalid",d);break;case"textarea":St(d,_),j=Et(d,_),xr("invalid",d);break;default:j=_}Gn(x,j),ve=j;for($ in ve)if(ve.hasOwnProperty($)){var Ee=ve[$];$==="style"?At(d,Ee):$==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&Mt(d,Ee)):$==="children"?typeof Ee=="string"?(x!=="textarea"||Ee!=="")&&Gt(d,Ee):typeof Ee=="number"&&Gt(d,""+Ee):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?Ee!=null&&$==="onScroll"&&xr("scroll",d):Ee!=null&&k(d,$,Ee,Z))}switch(x){case"input":Se(d),Ge(d,_,!1);break;case"textarea":Se(d),Tt(d);break;case"option":_.value!=null&&d.setAttribute("value",""+me(_.value));break;case"select":d.multiple=!!_.multiple,$=_.value,$!=null?Ze(d,!!_.multiple,$,!1):_.defaultValue!=null&&Ze(d,!!_.multiple,_.defaultValue,!0);break;default:typeof j.onClick=="function"&&(d.onclick=bd)}switch(x){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return oa(p),null;case 6:if(d&&p.stateNode!=null)zR(d,p,d.memoizedProps,_);else{if(typeof _!="string"&&p.stateNode===null)throw Error(n(166));if(x=Rl(_c.current),Rl(Ki.current),oi(p)){if(_=p.stateNode,x=p.memoizedProps,_[Ws]=p,($=_.nodeValue!==x)&&(d=De,d!==null))switch(d.tag){case 3:hp(_.nodeValue,x,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&hp(_.nodeValue,x,(d.mode&1)!==0)}$&&(p.flags|=4)}else _=(x.nodeType===9?x:x.ownerDocument).createTextNode(_),_[Ws]=p,p.stateNode=_}return oa(p),null;case 13:if(ar(Rr),_=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(We&&Be!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Tn(),Ct(),p.flags|=98560,$=!1;else if($=oi(p),_!==null&&_.dehydrated!==null){if(d===null){if(!$)throw Error(n(318));if($=p.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[Ws]=p}else Ct(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;oa(p),$=!1}else Ke!==null&&(NS(Ke),Ke=null),$=!0;if(!$)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=x,p):(_=_!==null,_!==(d!==null&&d.memoizedState!==null)&&_&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(Rr.current&1)!==0?so===0&&(so=3):CS())),p.updateQueue!==null&&(p.flags|=4),oa(p),null);case 4:return Vs(),pS(d,p),d===null&&gu(p.stateNode.containerInfo),oa(p),null;case 10:return Ur(p.type._context),oa(p),null;case 17:return ra(p.type)&&pp(),oa(p),null;case 19:if(ar(Rr),$=p.memoizedState,$===null)return oa(p),null;if(_=(p.flags&128)!==0,Z=$.rendering,Z===null)if(_)Fg($,!1);else{if(so!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(Z=vs(d),Z!==null){for(p.flags|=128,Fg($,!1),_=Z.updateQueue,_!==null&&(p.updateQueue=_,p.flags|=4),p.subtreeFlags=0,_=x,x=p.child;x!==null;)$=x,d=_,$.flags&=14680066,Z=$.alternate,Z===null?($.childLanes=0,$.lanes=d,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=Z.childLanes,$.lanes=Z.lanes,$.child=Z.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=Z.memoizedProps,$.memoizedState=Z.memoizedState,$.updateQueue=Z.updateQueue,$.type=Z.type,d=Z.dependencies,$.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),x=x.sibling;return hr(Rr,Rr.current&1|2),p.child}d=d.sibling}$.tail!==null&&br()>kp&&(p.flags|=128,_=!0,Fg($,!1),p.lanes=4194304)}else{if(!_)if(d=vs(Z),d!==null){if(p.flags|=128,_=!0,x=d.updateQueue,x!==null&&(p.updateQueue=x,p.flags|=4),Fg($,!0),$.tail===null&&$.tailMode==="hidden"&&!Z.alternate&&!We)return oa(p),null}else 2*br()-$.renderingStartTime>kp&&x!==1073741824&&(p.flags|=128,_=!0,Fg($,!1),p.lanes=4194304);$.isBackwards?(Z.sibling=p.child,p.child=Z):(x=$.last,x!==null?x.sibling=Z:p.child=Z,$.last=Z)}return $.tail!==null?(p=$.tail,$.rendering=p,$.tail=p.sibling,$.renderingStartTime=br(),p.sibling=null,x=Rr.current,hr(Rr,_?x&1|2:x&1),p):(oa(p),null);case 22:case 23:return kS(),_=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==_&&(p.flags|=8192),_&&(p.mode&1)!==0?(xs&1073741824)!==0&&(oa(p),p.subtreeFlags&6&&(p.flags|=8192)):oa(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function PJ(d,p){switch(Re(p),p.tag){case 1:return ra(p.type)&&pp(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Vs(),ar(na),ar(oo),Ig(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return Rg(p),null;case 13:if(ar(Rr),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Ct()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return ar(Rr),null;case 4:return Vs(),null;case 10:return Ur(p.type._context),null;case 22:case 23:return kS(),null;case 24:return null;default:return null}}var A0=!1,aa=!1,RJ=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Np(d,p){var x=d.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(_){Ei(d,p,_)}else x.current=null}function mS(d,p,x){try{x()}catch(_){Ei(d,p,_)}}var qR=!1;function jJ(d,p){if(Wf=cd,d=xi(),ps(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var _=x.getSelection&&x.getSelection();if(_&&_.rangeCount!==0){x=_.anchorNode;var j=_.anchorOffset,$=_.focusNode;_=_.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var Z=0,ve=-1,Ee=-1,Ie=0,et=0,rt=d,Je=null;t:for(;;){for(var Nt;rt!==x||j!==0&&rt.nodeType!==3||(ve=Z+j),rt!==$||_!==0&&rt.nodeType!==3||(Ee=Z+_),rt.nodeType===3&&(Z+=rt.nodeValue.length),(Nt=rt.firstChild)!==null;)Je=rt,rt=Nt;for(;;){if(rt===d)break t;if(Je===x&&++Ie===j&&(ve=Z),Je===$&&++et===_&&(Ee=Z),(Nt=rt.nextSibling)!==null)break;rt=Je,Je=rt.parentNode}rt=Nt}x=ve===-1||Ee===-1?null:{start:ve,end:Ee}}else x=null}x=x||{start:0,end:0}}else x=null;for(yu={focusedElem:d,selectionRange:x},cd=!1,Rt=p;Rt!==null;)if(p=Rt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Rt=d;else for(;Rt!==null;){p=Rt;try{var Bt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var Ut=Bt.memoizedProps,Ii=Bt.memoizedState,Pe=p.stateNode,ke=Pe.getSnapshotBeforeUpdate(p.elementType===p.type?Ut:Ll(p.type,Ut),Ii);Pe.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var je=p.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(at){Ei(p,p.return,at)}if(d=p.sibling,d!==null){d.return=p.return,Rt=d;break}Rt=p.return}return Bt=qR,qR=!1,Bt}function Bg(d,p,x){var _=p.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var j=_=_.next;do{if((j.tag&d)===d){var $=j.destroy;j.destroy=void 0,$!==void 0&&mS(p,x,$)}j=j.next}while(j!==_)}}function k0(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&d)===d){var _=x.create;x.destroy=_()}x=x.next}while(x!==p)}}function gS(d){var p=d.ref;if(p!==null){var x=d.stateNode;switch(d.tag){case 5:d=x;break;default:d=x}typeof p=="function"?p(d):p.current=d}}function UR(d){var p=d.alternate;p!==null&&(d.alternate=null,UR(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[Ws],delete p[xd],delete p[ta],delete p[eS],delete p[tS])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function HR(d){return d.tag===5||d.tag===3||d.tag===4}function WR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||HR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function vS(d,p,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,p?x.nodeType===8?x.parentNode.insertBefore(d,p):x.insertBefore(d,p):(x.nodeType===8?(p=x.parentNode,p.insertBefore(d,x)):(p=x,p.appendChild(d)),x=x._reactRootContainer,x!=null||p.onclick!==null||(p.onclick=bd));else if(_!==4&&(d=d.child,d!==null))for(vS(d,p,x),d=d.sibling;d!==null;)vS(d,p,x),d=d.sibling}function yS(d,p,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,p?x.insertBefore(d,p):x.appendChild(d);else if(_!==4&&(d=d.child,d!==null))for(yS(d,p,x),d=d.sibling;d!==null;)yS(d,p,x),d=d.sibling}var Bo=null,Dl=!1;function kd(d,p,x){for(x=x.child;x!==null;)VR(d,p,x),x=x.sibling}function VR(d,p,x){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Nn,x)}catch{}switch(x.tag){case 5:aa||Np(x,p);case 6:var _=Bo,j=Dl;Bo=null,kd(d,p,x),Bo=_,Dl=j,Bo!==null&&(Dl?(d=Bo,x=x.stateNode,d.nodeType===8?d.parentNode.removeChild(x):d.removeChild(x)):Bo.removeChild(x.stateNode));break;case 18:Bo!==null&&(Dl?(d=Bo,x=x.stateNode,d.nodeType===8?Og(d.parentNode,x):d.nodeType===1&&Og(d,x),Fs(d)):Og(Bo,x.stateNode));break;case 4:_=Bo,j=Dl,Bo=x.stateNode.containerInfo,Dl=!0,kd(d,p,x),Bo=_,Dl=j;break;case 0:case 11:case 14:case 15:if(!aa&&(_=x.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){j=_=_.next;do{var $=j,Z=$.destroy;$=$.tag,Z!==void 0&&(($&2)!==0||($&4)!==0)&&mS(x,p,Z),j=j.next}while(j!==_)}kd(d,p,x);break;case 1:if(!aa&&(Np(x,p),_=x.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=x.memoizedProps,_.state=x.memoizedState,_.componentWillUnmount()}catch(ve){Ei(x,p,ve)}kd(d,p,x);break;case 21:kd(d,p,x);break;case 22:x.mode&1?(aa=(_=aa)||x.memoizedState!==null,kd(d,p,x),aa=_):kd(d,p,x);break;default:kd(d,p,x)}}function KR(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var x=d.stateNode;x===null&&(x=d.stateNode=new RJ),p.forEach(function(_){var j=UJ.bind(null,d,_);x.has(_)||(x.add(_),_.then(j,j))})}}function Fl(d,p){var x=p.deletions;if(x!==null)for(var _=0;_<x.length;_++){var j=x[_];try{var $=d,Z=p,ve=Z;e:for(;ve!==null;){switch(ve.tag){case 5:Bo=ve.stateNode,Dl=!1;break e;case 3:Bo=ve.stateNode.containerInfo,Dl=!0;break e;case 4:Bo=ve.stateNode.containerInfo,Dl=!0;break e}ve=ve.return}if(Bo===null)throw Error(n(160));VR($,Z,j),Bo=null,Dl=!1;var Ee=j.alternate;Ee!==null&&(Ee.return=null),j.return=null}catch(Ie){Ei(j,p,Ie)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)GR(p,d),p=p.sibling}function GR(d,p){var x=d.alternate,_=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Fl(p,d),Nc(d),_&4){try{Bg(3,d,d.return),k0(3,d)}catch(Ut){Ei(d,d.return,Ut)}try{Bg(5,d,d.return)}catch(Ut){Ei(d,d.return,Ut)}}break;case 1:Fl(p,d),Nc(d),_&512&&x!==null&&Np(x,x.return);break;case 5:if(Fl(p,d),Nc(d),_&512&&x!==null&&Np(x,x.return),d.flags&32){var j=d.stateNode;try{Gt(j,"")}catch(Ut){Ei(d,d.return,Ut)}}if(_&4&&(j=d.stateNode,j!=null)){var $=d.memoizedProps,Z=x!==null?x.memoizedProps:$,ve=d.type,Ee=d.updateQueue;if(d.updateQueue=null,Ee!==null)try{ve==="input"&&$.type==="radio"&&$.name!=null&&ze(j,$),Jt(ve,Z);var Ie=Jt(ve,$);for(Z=0;Z<Ee.length;Z+=2){var et=Ee[Z],rt=Ee[Z+1];et==="style"?At(j,rt):et==="dangerouslySetInnerHTML"?Mt(j,rt):et==="children"?Gt(j,rt):k(j,et,rt,Ie)}switch(ve){case"input":st(j,$);break;case"textarea":It(j,$);break;case"select":var Je=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!$.multiple;var Nt=$.value;Nt!=null?Ze(j,!!$.multiple,Nt,!1):Je!==!!$.multiple&&($.defaultValue!=null?Ze(j,!!$.multiple,$.defaultValue,!0):Ze(j,!!$.multiple,$.multiple?[]:"",!1))}j[xd]=$}catch(Ut){Ei(d,d.return,Ut)}}break;case 6:if(Fl(p,d),Nc(d),_&4){if(d.stateNode===null)throw Error(n(162));j=d.stateNode,$=d.memoizedProps;try{j.nodeValue=$}catch(Ut){Ei(d,d.return,Ut)}}break;case 3:if(Fl(p,d),Nc(d),_&4&&x!==null&&x.memoizedState.isDehydrated)try{Fs(p.containerInfo)}catch(Ut){Ei(d,d.return,Ut)}break;case 4:Fl(p,d),Nc(d);break;case 13:Fl(p,d),Nc(d),j=d.child,j.flags&8192&&($=j.memoizedState!==null,j.stateNode.isHidden=$,!$||j.alternate!==null&&j.alternate.memoizedState!==null||(wS=br())),_&4&&KR(d);break;case 22:if(et=x!==null&&x.memoizedState!==null,d.mode&1?(aa=(Ie=aa)||et,Fl(p,d),aa=Ie):Fl(p,d),Nc(d),_&8192){if(Ie=d.memoizedState!==null,(d.stateNode.isHidden=Ie)&&!et&&(d.mode&1)!==0)for(Rt=d,et=d.child;et!==null;){for(rt=Rt=et;Rt!==null;){switch(Je=Rt,Nt=Je.child,Je.tag){case 0:case 11:case 14:case 15:Bg(4,Je,Je.return);break;case 1:Np(Je,Je.return);var Bt=Je.stateNode;if(typeof Bt.componentWillUnmount=="function"){_=Je,x=Je.return;try{p=_,Bt.props=p.memoizedProps,Bt.state=p.memoizedState,Bt.componentWillUnmount()}catch(Ut){Ei(_,x,Ut)}}break;case 5:Np(Je,Je.return);break;case 22:if(Je.memoizedState!==null){QR(rt);continue}}Nt!==null?(Nt.return=Je,Rt=Nt):QR(rt)}et=et.sibling}e:for(et=null,rt=d;;){if(rt.tag===5){if(et===null){et=rt;try{j=rt.stateNode,Ie?($=j.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ve=rt.stateNode,Ee=rt.memoizedProps.style,Z=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null,ve.style.display=Cn("display",Z))}catch(Ut){Ei(d,d.return,Ut)}}}else if(rt.tag===6){if(et===null)try{rt.stateNode.nodeValue=Ie?"":rt.memoizedProps}catch(Ut){Ei(d,d.return,Ut)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===d)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===d)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===d)break e;et===rt&&(et=null),rt=rt.return}et===rt&&(et=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Fl(p,d),Nc(d),_&4&&KR(d);break;case 21:break;default:Fl(p,d),Nc(d)}}function Nc(d){var p=d.flags;if(p&2){try{e:{for(var x=d.return;x!==null;){if(HR(x)){var _=x;break e}x=x.return}throw Error(n(160))}switch(_.tag){case 5:var j=_.stateNode;_.flags&32&&(Gt(j,""),_.flags&=-33);var $=WR(d);yS(d,$,j);break;case 3:case 4:var Z=_.stateNode.containerInfo,ve=WR(d);vS(d,ve,Z);break;default:throw Error(n(161))}}catch(Ee){Ei(d,d.return,Ee)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function IJ(d,p,x){Rt=d,YR(d)}function YR(d,p,x){for(var _=(d.mode&1)!==0;Rt!==null;){var j=Rt,$=j.child;if(j.tag===22&&_){var Z=j.memoizedState!==null||A0;if(!Z){var ve=j.alternate,Ee=ve!==null&&ve.memoizedState!==null||aa;ve=A0;var Ie=aa;if(A0=Z,(aa=Ee)&&!Ie)for(Rt=j;Rt!==null;)Z=Rt,Ee=Z.child,Z.tag===22&&Z.memoizedState!==null?JR(j):Ee!==null?(Ee.return=Z,Rt=Ee):JR(j);for(;$!==null;)Rt=$,YR($),$=$.sibling;Rt=j,A0=ve,aa=Ie}XR(d)}else(j.subtreeFlags&8772)!==0&&$!==null?($.return=j,Rt=$):XR(d)}}function XR(d){for(;Rt!==null;){var p=Rt;if((p.flags&8772)!==0){var x=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:aa||k0(5,p);break;case 1:var _=p.stateNode;if(p.flags&4&&!aa)if(x===null)_.componentDidMount();else{var j=p.elementType===p.type?x.memoizedProps:Ll(p.type,x.memoizedProps);_.componentDidUpdate(j,x.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var $=p.updateQueue;$!==null&&Qa(p,$,_);break;case 3:var Z=p.updateQueue;if(Z!==null){if(x=null,p.child!==null)switch(p.child.tag){case 5:x=p.child.stateNode;break;case 1:x=p.child.stateNode}Qa(p,Z,x)}break;case 5:var ve=p.stateNode;if(x===null&&p.flags&4){x=ve;var Ee=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Ee.autoFocus&&x.focus();break;case"img":Ee.src&&(x.src=Ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ie=p.alternate;if(Ie!==null){var et=Ie.memoizedState;if(et!==null){var rt=et.dehydrated;rt!==null&&Fs(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}aa||p.flags&512&&gS(p)}catch(Je){Ei(p,p.return,Je)}}if(p===d){Rt=null;break}if(x=p.sibling,x!==null){x.return=p.return,Rt=x;break}Rt=p.return}}function QR(d){for(;Rt!==null;){var p=Rt;if(p===d){Rt=null;break}var x=p.sibling;if(x!==null){x.return=p.return,Rt=x;break}Rt=p.return}}function JR(d){for(;Rt!==null;){var p=Rt;try{switch(p.tag){case 0:case 11:case 15:var x=p.return;try{k0(4,p)}catch(Ee){Ei(p,x,Ee)}break;case 1:var _=p.stateNode;if(typeof _.componentDidMount=="function"){var j=p.return;try{_.componentDidMount()}catch(Ee){Ei(p,j,Ee)}}var $=p.return;try{gS(p)}catch(Ee){Ei(p,$,Ee)}break;case 5:var Z=p.return;try{gS(p)}catch(Ee){Ei(p,Z,Ee)}}}catch(Ee){Ei(p,p.return,Ee)}if(p===d){Rt=null;break}var ve=p.sibling;if(ve!==null){ve.return=p.return,Rt=ve;break}Rt=p.return}}var LJ=Math.ceil,C0=A.ReactCurrentDispatcher,bS=A.ReactCurrentOwner,Ys=A.ReactCurrentBatchConfig,tr=0,Eo=null,Gi=null,$o=0,xs=0,Ap=ms(0),so=0,$g=null,Qf=0,T0=0,xS=0,zg=null,Za=null,wS=0,kp=1/0,Eu=null,O0=!1,SS=null,Cd=null,M0=!1,Td=null,P0=0,qg=0,_S=null,R0=-1,j0=0;function Ma(){return(tr&6)!==0?br():R0!==-1?R0:R0=br()}function Od(d){return(d.mode&1)===0?1:(tr&2)!==0&&$o!==0?$o&-$o:hi.transition!==null?(j0===0&&(j0=ad()),j0):(d=zn,d!==0||(d=window.event,d=d===void 0?16:nu(d.type)),d)}function Bl(d,p,x,_){if(50<qg)throw qg=0,_S=null,Error(n(185));Ds(d,x,_),((tr&2)===0||d!==Eo)&&(d===Eo&&((tr&2)===0&&(T0|=x),so===4&&Md(d,$o)),es(d,_),x===1&&tr===0&&(p.mode&1)===0&&(kp=br()+500,Kf&&H()))}function es(d,p){var x=d.callbackNode;Kr(d,p);var _=ro(d,d===Eo?$o:0);if(_===0)x!==null&&vo(x),d.callbackNode=null,d.callbackPriority=0;else if(p=_&-_,d.callbackPriority!==p){if(x!=null&&vo(x),p===1)d.tag===0?B(ej.bind(null,d)):E(ej.bind(null,d)),J2(function(){(tr&6)===0&&H()}),x=null;else{switch(on(_)){case 1:x=uc;break;case 4:x=qi;break;case 16:x=Is;break;case 536870912:x=qt;break;default:x=Is}x=lj(x,ZR.bind(null,d))}d.callbackPriority=p,d.callbackNode=x}}function ZR(d,p){if(R0=-1,j0=0,(tr&6)!==0)throw Error(n(327));var x=d.callbackNode;if(Cp()&&d.callbackNode!==x)return null;var _=ro(d,d===Eo?$o:0);if(_===0)return null;if((_&30)!==0||(_&d.expiredLanes)!==0||p)p=I0(d,_);else{p=_;var j=tr;tr|=2;var $=nj();(Eo!==d||$o!==p)&&(Eu=null,kp=br()+500,Zf(d,p));do try{BJ();break}catch(ve){tj(d,ve)}while(!0);Zn(),C0.current=$,tr=j,Gi!==null?p=0:(Eo=null,$o=0,p=so)}if(p!==0){if(p===2&&(j=xl(d),j!==0&&(_=j,p=ES(d,j))),p===1)throw x=$g,Zf(d,0),Md(d,_),es(d,br()),x;if(p===6)Md(d,_);else{if(j=d.current.alternate,(_&30)===0&&!DJ(j)&&(p=I0(d,_),p===2&&($=xl(d),$!==0&&(_=$,p=ES(d,$))),p===1))throw x=$g,Zf(d,0),Md(d,_),es(d,br()),x;switch(d.finishedWork=j,d.finishedLanes=_,p){case 0:case 1:throw Error(n(345));case 2:eh(d,Za,Eu);break;case 3:if(Md(d,_),(_&130023424)===_&&(p=wS+500-br(),10<p)){if(ro(d,0)!==0)break;if(j=d.suspendedLanes,(j&_)!==_){Ma(),d.pingedLanes|=d.suspendedLanes&j;break}d.timeoutHandle=Tg(eh.bind(null,d,Za,Eu),p);break}eh(d,Za,Eu);break;case 4:if(Md(d,_),(_&4194240)===_)break;for(p=d.eventTimes,j=-1;0<_;){var Z=31-dr(_);$=1<<Z,Z=p[Z],Z>j&&(j=Z),_&=~$}if(_=j,_=br()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*LJ(_/1960))-_,10<_){d.timeoutHandle=Tg(eh.bind(null,d,Za,Eu),_);break}eh(d,Za,Eu);break;case 5:eh(d,Za,Eu);break;default:throw Error(n(329))}}}return es(d,br()),d.callbackNode===x?ZR.bind(null,d):null}function ES(d,p){var x=zg;return d.current.memoizedState.isDehydrated&&(Zf(d,p).flags|=256),d=I0(d,p),d!==2&&(p=Za,Za=x,p!==null&&NS(p)),d}function NS(d){Za===null?Za=d:Za.push.apply(Za,d)}function DJ(d){for(var p=d;;){if(p.flags&16384){var x=p.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var _=0;_<x.length;_++){var j=x[_],$=j.getSnapshot;j=j.value;try{if(!ri($(),j))return!1}catch{return!1}}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Md(d,p){for(p&=~xS,p&=~T0,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var x=31-dr(p),_=1<<x;d[x]=-1,p&=~_}}function ej(d){if((tr&6)!==0)throw Error(n(327));Cp();var p=ro(d,0);if((p&1)===0)return es(d,br()),null;var x=I0(d,p);if(d.tag!==0&&x===2){var _=xl(d);_!==0&&(p=_,x=ES(d,_))}if(x===1)throw x=$g,Zf(d,0),Md(d,p),es(d,br()),x;if(x===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,eh(d,Za,Eu),es(d,br()),null}function AS(d,p){var x=tr;tr|=1;try{return d(p)}finally{tr=x,tr===0&&(kp=br()+500,Kf&&H())}}function Jf(d){Td!==null&&Td.tag===0&&(tr&6)===0&&Cp();var p=tr;tr|=1;var x=Ys.transition,_=zn;try{if(Ys.transition=null,zn=1,d)return d()}finally{zn=_,Ys.transition=x,tr=p,(tr&6)===0&&H()}}function kS(){xs=Ap.current,ar(Ap)}function Zf(d,p){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;if(x!==-1&&(d.timeoutHandle=-1,h0(x)),Gi!==null)for(x=Gi.return;x!==null;){var _=x;switch(Re(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&pp();break;case 3:Vs(),ar(na),ar(oo),Ig();break;case 5:Rg(_);break;case 4:Vs();break;case 13:ar(Rr);break;case 19:ar(Rr);break;case 10:Ur(_.type._context);break;case 22:case 23:kS()}x=x.return}if(Eo=d,Gi=d=Pd(d.current,null),$o=xs=p,so=0,$g=null,xS=T0=Qf=0,Za=zg=null,wr!==null){for(p=0;p<wr.length;p++)if(x=wr[p],_=x.interleaved,_!==null){x.interleaved=null;var j=_.next,$=x.pending;if($!==null){var Z=$.next;$.next=j,_.next=Z}x.pending=_}wr=null}return d}function tj(d,p){do{var x=Gi;try{if(Zn(),mp.current=S0,Ed){for(var _=Hr.memoizedState;_!==null;){var j=_.queue;j!==null&&(j.pending=null),_=_.next}Ed=!1}if(Ks=0,vi=_i=Hr=null,jl=!1,Nd=0,bS.current=null,x===null||x.return===null){so=1,$g=p,Gi=null;break}e:{var $=d,Z=x.return,ve=x,Ee=p;if(p=$o,ve.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ie=Ee,et=ve,rt=et.tag;if((et.mode&1)===0&&(rt===0||rt===11||rt===15)){var Je=et.alternate;Je?(et.updateQueue=Je.updateQueue,et.memoizedState=Je.memoizedState,et.lanes=Je.lanes):(et.updateQueue=null,et.memoizedState=null)}var Nt=AR(Z);if(Nt!==null){Nt.flags&=-257,kR(Nt,Z,ve,$,p),Nt.mode&1&&NR($,Ie,p),p=Nt,Ee=Ie;var Bt=p.updateQueue;if(Bt===null){var Ut=new Set;Ut.add(Ee),p.updateQueue=Ut}else Bt.add(Ee);break e}else{if((p&1)===0){NR($,Ie,p),CS();break e}Ee=Error(n(426))}}else if(We&&ve.mode&1){var Ii=AR(Z);if(Ii!==null){(Ii.flags&65536)===0&&(Ii.flags|=256),kR(Ii,Z,ve,$,p),pt(Ep(Ee,ve));break e}}$=Ee=Ep(Ee,ve),so!==4&&(so=2),zg===null?zg=[$]:zg.push($),$=Z;do{switch($.tag){case 3:$.flags|=65536,p&=-p,$.lanes|=p;var Pe=_R($,Ee,p);_r($,Pe);break e;case 1:ve=Ee;var ke=$.type,je=$.stateNode;if(($.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(Cd===null||!Cd.has(je)))){$.flags|=65536,p&=-p,$.lanes|=p;var at=ER($,ve,p);_r($,at);break e}}$=$.return}while($!==null)}ij(x)}catch(Yt){p=Yt,Gi===x&&x!==null&&(Gi=x=x.return);continue}break}while(!0)}function nj(){var d=C0.current;return C0.current=S0,d===null?S0:d}function CS(){(so===0||so===3||so===2)&&(so=4),Eo===null||(Qf&268435455)===0&&(T0&268435455)===0||Md(Eo,$o)}function I0(d,p){var x=tr;tr|=2;var _=nj();(Eo!==d||$o!==p)&&(Eu=null,Zf(d,p));do try{FJ();break}catch(j){tj(d,j)}while(!0);if(Zn(),tr=x,C0.current=_,Gi!==null)throw Error(n(261));return Eo=null,$o=0,so}function FJ(){for(;Gi!==null;)rj(Gi)}function BJ(){for(;Gi!==null&&!yl();)rj(Gi)}function rj(d){var p=sj(d.alternate,d,xs);d.memoizedProps=d.pendingProps,p===null?ij(d):Gi=p,bS.current=null}function ij(d){var p=d;do{var x=p.alternate;if(d=p.return,(p.flags&32768)===0){if(x=MJ(x,p,xs),x!==null){Gi=x;return}}else{if(x=PJ(x,p),x!==null){x.flags&=32767,Gi=x;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{so=6,Gi=null;return}}if(p=p.sibling,p!==null){Gi=p;return}Gi=p=d}while(p!==null);so===0&&(so=5)}function eh(d,p,x){var _=zn,j=Ys.transition;try{Ys.transition=null,zn=1,$J(d,p,x,_)}finally{Ys.transition=j,zn=_}return null}function $J(d,p,x,_){do Cp();while(Td!==null);if((tr&6)!==0)throw Error(n(327));x=d.finishedWork;var j=d.finishedLanes;if(x===null)return null;if(d.finishedWork=null,d.finishedLanes=0,x===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var $=x.lanes|x.childLanes;if(ui(d,$),d===Eo&&(Gi=Eo=null,$o=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||M0||(M0=!0,lj(Is,function(){return Cp(),null})),$=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||$){$=Ys.transition,Ys.transition=null;var Z=zn;zn=1;var ve=tr;tr|=4,bS.current=null,jJ(d,x),GR(x,d),Df(yu),cd=!!Wf,yu=Wf=null,d.current=x,IJ(x),id(),tr=ve,zn=Z,Ys.transition=$}else d.current=x;if(M0&&(M0=!1,Td=d,P0=j),$=d.pendingLanes,$===0&&(Cd=null),$r(x.stateNode),es(d,br()),p!==null)for(_=d.onRecoverableError,x=0;x<p.length;x++)j=p[x],_(j.value,{componentStack:j.stack,digest:j.digest});if(O0)throw O0=!1,d=SS,SS=null,d;return(P0&1)!==0&&d.tag!==0&&Cp(),$=d.pendingLanes,($&1)!==0?d===_S?qg++:(qg=0,_S=d):qg=0,H(),null}function Cp(){if(Td!==null){var d=on(P0),p=Ys.transition,x=zn;try{if(Ys.transition=null,zn=16>d?16:d,Td===null)var _=!1;else{if(d=Td,Td=null,P0=0,(tr&6)!==0)throw Error(n(331));var j=tr;for(tr|=4,Rt=d.current;Rt!==null;){var $=Rt,Z=$.child;if((Rt.flags&16)!==0){var ve=$.deletions;if(ve!==null){for(var Ee=0;Ee<ve.length;Ee++){var Ie=ve[Ee];for(Rt=Ie;Rt!==null;){var et=Rt;switch(et.tag){case 0:case 11:case 15:Bg(8,et,$)}var rt=et.child;if(rt!==null)rt.return=et,Rt=rt;else for(;Rt!==null;){et=Rt;var Je=et.sibling,Nt=et.return;if(UR(et),et===Ie){Rt=null;break}if(Je!==null){Je.return=Nt,Rt=Je;break}Rt=Nt}}}var Bt=$.alternate;if(Bt!==null){var Ut=Bt.child;if(Ut!==null){Bt.child=null;do{var Ii=Ut.sibling;Ut.sibling=null,Ut=Ii}while(Ut!==null)}}Rt=$}}if(($.subtreeFlags&2064)!==0&&Z!==null)Z.return=$,Rt=Z;else e:for(;Rt!==null;){if($=Rt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Bg(9,$,$.return)}var Pe=$.sibling;if(Pe!==null){Pe.return=$.return,Rt=Pe;break e}Rt=$.return}}var ke=d.current;for(Rt=ke;Rt!==null;){Z=Rt;var je=Z.child;if((Z.subtreeFlags&2064)!==0&&je!==null)je.return=Z,Rt=je;else e:for(Z=ke;Rt!==null;){if(ve=Rt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:k0(9,ve)}}catch(Yt){Ei(ve,ve.return,Yt)}if(ve===Z){Rt=null;break e}var at=ve.sibling;if(at!==null){at.return=ve.return,Rt=at;break e}Rt=ve.return}}if(tr=j,H(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Nn,d)}catch{}_=!0}return _}finally{zn=x,Ys.transition=p}}return!1}function oj(d,p,x){p=Ep(x,p),p=_R(d,p,1),d=mi(d,p,1),p=Ma(),d!==null&&(Ds(d,1,p),es(d,p))}function Ei(d,p,x){if(d.tag===3)oj(d,d,x);else for(;p!==null;){if(p.tag===3){oj(p,d,x);break}else if(p.tag===1){var _=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Cd===null||!Cd.has(_))){d=Ep(x,d),d=ER(p,d,1),p=mi(p,d,1),d=Ma(),p!==null&&(Ds(p,1,d),es(p,d));break}}p=p.return}}function zJ(d,p,x){var _=d.pingCache;_!==null&&_.delete(p),p=Ma(),d.pingedLanes|=d.suspendedLanes&x,Eo===d&&($o&x)===x&&(so===4||so===3&&($o&130023424)===$o&&500>br()-wS?Zf(d,0):xS|=x),es(d,p)}function aj(d,p){p===0&&((d.mode&1)===0?p=1:(p=Io,Io<<=1,(Io&130023424)===0&&(Io=4194304)));var x=Ma();d=Sr(d,p),d!==null&&(Ds(d,p,x),es(d,x))}function qJ(d){var p=d.memoizedState,x=0;p!==null&&(x=p.retryLane),aj(d,x)}function UJ(d,p){var x=0;switch(d.tag){case 13:var _=d.stateNode,j=d.memoizedState;j!==null&&(x=j.retryLane);break;case 19:_=d.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(p),aj(d,x)}var sj;sj=function(d,p,x){if(d!==null)if(d.memoizedProps!==p.pendingProps||na.current)Ja=!0;else{if((d.lanes&x)===0&&(p.flags&128)===0)return Ja=!1,OJ(d,p,x);Ja=(d.flags&131072)!==0}else Ja=!1,We&&(p.flags&1048576)!==0&&Oe(p,oe,p.index);switch(p.lanes=0,p.tag){case 2:var _=p.type;N0(d,p),d=p.pendingProps;var j=Sd(p,oo.current);ai(p,x),j=Gf(null,p,_,d,j,x);var $=Gs();return p.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,ra(_)?($=!0,wu(p)):$=!1,p.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,ao(p),j.updater=_0,p.stateNode=j,j._reactInternals=p,oS(p,_,d,x),p=cS(null,p,_,!0,$,x)):(p.tag=0,We&&$&&$e(p),Oa(null,p,j,x),p=p.child),p;case 16:_=p.elementType;e:{switch(N0(d,p),d=p.pendingProps,j=_._init,_=j(_._payload),p.type=_,j=p.tag=WJ(_),d=Ll(_,d),j){case 0:p=lS(null,p,_,d,x);break e;case 1:p=RR(null,p,_,d,x);break e;case 11:p=CR(null,p,_,d,x);break e;case 14:p=TR(null,p,_,Ll(_.type,d),x);break e}throw Error(n(306,_,""))}return p;case 0:return _=p.type,j=p.pendingProps,j=p.elementType===_?j:Ll(_,j),lS(d,p,_,j,x);case 1:return _=p.type,j=p.pendingProps,j=p.elementType===_?j:Ll(_,j),RR(d,p,_,j,x);case 3:e:{if(jR(p),d===null)throw Error(n(387));_=p.pendingProps,$=p.memoizedState,j=$.element,ia(d,p),_o(p,_,null,x);var Z=p.memoizedState;if(_=Z.element,$.isDehydrated)if($={element:_,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},p.updateQueue.baseState=$,p.memoizedState=$,p.flags&256){j=Ep(Error(n(423)),p),p=IR(d,p,_,x,j);break e}else if(_!==j){j=Ep(Error(n(424)),p),p=IR(d,p,_,x,j);break e}else for(Be=Fo(p.stateNode.containerInfo.firstChild),De=p,We=!0,Ke=null,x=Xr(p,null,_,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ct(),_===j){p=_u(d,p,x);break e}Oa(d,p,_,x)}p=p.child}return p;case 5:return v0(p),d===null&&Ft(p),_=p.type,j=p.pendingProps,$=d!==null?d.memoizedProps:null,Z=j.children,Cg(_,j)?Z=null:$!==null&&Cg(_,$)&&(p.flags|=32),PR(d,p),Oa(d,p,Z,x),p.child;case 6:return d===null&&Ft(p),null;case 13:return LR(d,p,x);case 4:return _d(p,p.stateNode.containerInfo),_=p.pendingProps,d===null?p.child=wi(p,null,_,x):Oa(d,p,_,x),p.child;case 11:return _=p.type,j=p.pendingProps,j=p.elementType===_?j:Ll(_,j),CR(d,p,_,j,x);case 7:return Oa(d,p,p.pendingProps,x),p.child;case 8:return Oa(d,p,p.pendingProps.children,x),p.child;case 12:return Oa(d,p,p.pendingProps.children,x),p.child;case 10:e:{if(_=p.type._context,j=p.pendingProps,$=p.memoizedProps,Z=j.value,hr(Ri,_._currentValue),_._currentValue=Z,$!==null)if(ri($.value,Z)){if($.children===j.children&&!na.current){p=_u(d,p,x);break e}}else for($=p.child,$!==null&&($.return=p);$!==null;){var ve=$.dependencies;if(ve!==null){Z=$.child;for(var Ee=ve.firstContext;Ee!==null;){if(Ee.context===_){if($.tag===1){Ee=pi(-1,x&-x),Ee.tag=2;var Ie=$.updateQueue;if(Ie!==null){Ie=Ie.shared;var et=Ie.pending;et===null?Ee.next=Ee:(Ee.next=et.next,et.next=Ee),Ie.pending=Ee}}$.lanes|=x,Ee=$.alternate,Ee!==null&&(Ee.lanes|=x),er($.return,x,p),ve.lanes|=x;break}Ee=Ee.next}}else if($.tag===10)Z=$.type===p.type?null:$.child;else if($.tag===18){if(Z=$.return,Z===null)throw Error(n(341));Z.lanes|=x,ve=Z.alternate,ve!==null&&(ve.lanes|=x),er(Z,x,p),Z=$.sibling}else Z=$.child;if(Z!==null)Z.return=$;else for(Z=$;Z!==null;){if(Z===p){Z=null;break}if($=Z.sibling,$!==null){$.return=Z.return,Z=$;break}Z=Z.return}$=Z}Oa(d,p,j.children,x),p=p.child}return p;case 9:return j=p.type,_=p.pendingProps.children,ai(p,x),j=si(j),_=_(j),p.flags|=1,Oa(d,p,_,x),p.child;case 14:return _=p.type,j=Ll(_,p.pendingProps),j=Ll(_.type,j),TR(d,p,_,j,x);case 15:return OR(d,p,p.type,p.pendingProps,x);case 17:return _=p.type,j=p.pendingProps,j=p.elementType===_?j:Ll(_,j),N0(d,p),p.tag=1,ra(_)?(d=!0,wu(p)):d=!1,ai(p,x),wR(p,_,j),oS(p,_,j,x),cS(null,p,_,!0,d,x);case 19:return FR(d,p,x);case 22:return MR(d,p,x)}throw Error(n(156,p.tag))};function lj(d,p){return vl(d,p)}function HJ(d,p,x,_){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(d,p,x,_){return new HJ(d,p,x,_)}function TS(d){return d=d.prototype,!(!d||!d.isReactComponent)}function WJ(d){if(typeof d=="function")return TS(d)?1:0;if(d!=null){if(d=d.$$typeof,d===I)return 11;if(d===Y)return 14}return 2}function Pd(d,p){var x=d.alternate;return x===null?(x=Xs(d.tag,p,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=p,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&14680064,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,p=d.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x}function L0(d,p,x,_,j,$){var Z=2;if(_=d,typeof d=="function")TS(d)&&(Z=1);else if(typeof d=="string")Z=5;else e:switch(d){case L:return th(x.children,j,$,p);case C:Z=8,j|=8;break;case M:return d=Xs(12,x,p,j|2),d.elementType=M,d.lanes=$,d;case z:return d=Xs(13,x,p,j),d.elementType=z,d.lanes=$,d;case U:return d=Xs(19,x,p,j),d.elementType=U,d.lanes=$,d;case W:return D0(x,j,$,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case q:Z=10;break e;case D:Z=9;break e;case I:Z=11;break e;case Y:Z=14;break e;case ne:Z=16,_=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return p=Xs(Z,x,p,j),p.elementType=d,p.type=_,p.lanes=$,p}function th(d,p,x,_){return d=Xs(7,d,_,p),d.lanes=x,d}function D0(d,p,x,_){return d=Xs(22,d,_,p),d.elementType=W,d.lanes=x,d.stateNode={isHidden:!1},d}function OS(d,p,x){return d=Xs(6,d,null,p),d.lanes=x,d}function MS(d,p,x){return p=Xs(4,d.children!==null?d.children:[],d.key,p),p.lanes=x,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function VJ(d,p,x,_,j){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ls(0),this.expirationTimes=Ls(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.identifierPrefix=_,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function PS(d,p,x,_,j,$,Z,ve,Ee){return d=new VJ(d,p,x,ve,Ee),p===1?(p=1,$===!0&&(p|=8)):p=0,$=Xs(3,null,null,p),d.current=$,$.stateNode=d,$.memoizedState={element:_,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},ao($),d}function KJ(d,p,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:_==null?null:""+_,children:d,containerInfo:p,implementation:x}}function cj(d){if(!d)return Sc;d=d._reactInternals;e:{if(Mi(d)!==d||d.tag!==1)throw Error(n(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(ra(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(d.tag===1){var x=d.type;if(ra(x))return Pg(d,x,p)}return p}function uj(d,p,x,_,j,$,Z,ve,Ee){return d=PS(x,_,!0,d,j,$,Z,ve,Ee),d.context=cj(null),x=d.current,_=Ma(),j=Od(x),$=pi(_,j),$.callback=p??null,mi(x,$,j),d.current.lanes=j,Ds(d,j,_),es(d,_),d}function F0(d,p,x,_){var j=p.current,$=Ma(),Z=Od(j);return x=cj(x),p.context===null?p.context=x:p.pendingContext=x,p=pi($,Z),p.payload={element:d},_=_===void 0?null:_,_!==null&&(p.callback=_),d=mi(j,p,Z),d!==null&&(Bl(d,j,Z,$),So(d,j,Z)),Z}function B0(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function dj(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<p?x:p}}function RS(d,p){dj(d,p),(d=d.alternate)&&dj(d,p)}function GJ(){return null}var fj=typeof reportError=="function"?reportError:function(d){console.error(d)};function jS(d){this._internalRoot=d}$0.prototype.render=jS.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));F0(d,p,null,null)},$0.prototype.unmount=jS.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;Jf(function(){F0(null,d,null,null)}),p[xo]=null}};function $0(d){this._internalRoot=d}$0.prototype.unstable_scheduleHydration=function(d){if(d){var p=Sl();d={blockedOn:null,target:d,priority:p};for(var x=0;x<yi.length&&p!==0&&p<yi[x].priority;x++);yi.splice(x,0,d),x===0&&op(d)}};function IS(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function z0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function hj(){}function YJ(d,p,x,_,j){if(j){if(typeof _=="function"){var $=_;_=function(){var Ie=B0(Z);$.call(Ie)}}var Z=uj(p,_,d,0,null,!1,!1,"",hj);return d._reactRootContainer=Z,d[xo]=Z.current,gu(d.nodeType===8?d.parentNode:d),Jf(),Z}for(;j=d.lastChild;)d.removeChild(j);if(typeof _=="function"){var ve=_;_=function(){var Ie=B0(Ee);ve.call(Ie)}}var Ee=PS(d,0,!1,null,null,!1,!1,"",hj);return d._reactRootContainer=Ee,d[xo]=Ee.current,gu(d.nodeType===8?d.parentNode:d),Jf(function(){F0(p,Ee,x,_)}),Ee}function q0(d,p,x,_,j){var $=x._reactRootContainer;if($){var Z=$;if(typeof j=="function"){var ve=j;j=function(){var Ee=B0(Z);ve.call(Ee)}}F0(p,Z,d,j)}else Z=YJ(x,p,d,j,_);return B0(Z)}wl=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var x=Xo(p.pendingLanes);x!==0&&(dc(p,x|1),es(p,br()),(tr&6)===0&&(kp=br()+500,H()))}break;case 13:Jf(function(){var _=Sr(d,1);if(_!==null){var j=Ma();Bl(_,d,1,j)}}),RS(d,1)}},Gr=function(d){if(d.tag===13){var p=Sr(d,134217728);if(p!==null){var x=Ma();Bl(p,d,134217728,x)}RS(d,134217728)}},Xn=function(d){if(d.tag===13){var p=Od(d),x=Sr(d,p);if(x!==null){var _=Ma();Bl(x,d,p,_)}RS(d,p)}},Sl=function(){return zn},Qo=function(d,p){var x=zn;try{return zn=d,p()}finally{zn=x}},ur=function(d,p,x){switch(p){case"input":if(st(d,x),p=x.name,x.type==="radio"&&p!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<x.length;p++){var _=x[p];if(_!==d&&_.form===d.form){var j=Vf(_);if(!j)throw Error(n(90));xe(_),st(_,j)}}}break;case"textarea":It(d,x);break;case"select":p=x.value,p!=null&&Ze(d,!!x.multiple,p,!1)}},nt=AS,Xt=Jf;var XJ={usingClientEntryPoint:!1,Events:[wd,bu,Vf,ge,qe,AS]},Ug={findFiberByHostInstance:wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QJ={bundleType:Ug.bundleType,version:Ug.version,rendererPackageName:Ug.rendererPackageName,rendererConfig:Ug.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Sa(d),d===null?null:d.stateNode},findFiberByHostInstance:Ug.findFiberByHostInstance||GJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U0.isDisabled&&U0.supportsFiber)try{Nn=U0.inject(QJ),jn=U0}catch{}}return ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XJ,ts.createPortal=function(d,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IS(p))throw Error(n(200));return KJ(d,p,null,x)},ts.createRoot=function(d,p){if(!IS(d))throw Error(n(299));var x=!1,_="",j=fj;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onRecoverableError!==void 0&&(j=p.onRecoverableError)),p=PS(d,1,!1,null,null,x,!1,_,j),d[xo]=p.current,gu(d.nodeType===8?d.parentNode:d),new jS(p)},ts.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Sa(p),d=d===null?null:d.stateNode,d},ts.flushSync=function(d){return Jf(d)},ts.hydrate=function(d,p,x){if(!z0(p))throw Error(n(200));return q0(null,d,p,!0,x)},ts.hydrateRoot=function(d,p,x){if(!IS(d))throw Error(n(405));var _=x!=null&&x.hydratedSources||null,j=!1,$="",Z=fj;if(x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&($=x.identifierPrefix),x.onRecoverableError!==void 0&&(Z=x.onRecoverableError)),p=uj(p,null,d,1,x??null,j,!1,$,Z),d[xo]=p.current,gu(d),_)for(d=0;d<_.length;d++)x=_[d],j=x._getVersion,j=j(x._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[x,j]:p.mutableSourceEagerHydrationData.push(x,j);return new $0(p)},ts.render=function(d,p,x){if(!z0(p))throw Error(n(200));return q0(null,d,p,!1,x)},ts.unmountComponentAtNode=function(d){if(!z0(d))throw Error(n(40));return d._reactRootContainer?(Jf(function(){q0(null,null,d,!1,function(){d._reactRootContainer=null,d[xo]=null})}),!0):!1},ts.unstable_batchedUpdates=AS,ts.unstable_renderSubtreeIntoContainer=function(d,p,x,_){if(!z0(x))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return q0(d,p,x,!1,_)},ts.version="18.3.1-next-f1338f8080-20240426",ts}var wj;function D7(){if(wj)return FS.exports;wj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),FS.exports=oZ(),FS.exports}var Sj;function aZ(){if(Sj)return W0;Sj=1;var t=D7();return W0.createRoot=t.createRoot,W0.hydrateRoot=t.hydrateRoot,W0}var sZ=aZ();function lZ(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,o,a=[],s="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(a.push(n),s+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}var O=zy();const Ce=cr(O),sO=ZJ({__proto__:null,default:Ce},[O]);var zS={exports:{}},qS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j;function cZ(){if(_j)return qS;_j=1;var t=zy();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function s(f,g){var m=g(),b=r({inst:{value:m,getSnapshot:g}}),v=b[0].inst,y=b[1];return o(function(){v.value=m,v.getSnapshot=g,l(v)&&y({inst:v})},[f,m,g]),i(function(){return l(v)&&y({inst:v}),f(function(){l(v)&&y({inst:v})})},[f]),a(m),m}function l(f){var g=f.getSnapshot;f=f.value;try{var m=g();return!n(f,m)}catch{return!0}}function c(f,g){return g()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return qS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,qS}var Ej;function F7(){return Ej||(Ej=1,zS.exports=cZ()),zS.exports}var mw=F7();const uZ=sO.useInsertionEffect,dZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B7=dZ?O.useLayoutEffect:O.useEffect,fZ=uZ||B7,lO=t=>{const e=O.useRef([t,(...n)=>e[0](...n)]).current;return fZ(()=>{e[0]=t}),e[1]},hZ="popstate",cO="pushState",uO="replaceState",pZ="hashchange",Nj=[hZ,cO,uO,pZ],mZ=t=>{for(const e of Nj)addEventListener(e,t);return()=>{for(const e of Nj)removeEventListener(e,t)}},$7=(t,e)=>mw.useSyncExternalStore(mZ,t,e),gZ=()=>location.search,vZ=({ssrSearch:t=""}={})=>$7(gZ,()=>t),Aj=()=>location.pathname,yZ=({ssrPath:t}={})=>$7(Aj,t?()=>t:Aj),bZ=(t,{replace:e=!1,state:n=null}={})=>history[e?uO:cO](n,"",t),xZ=(t={})=>[yZ(t),bZ],kj=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[kj]>"u"){for(const t of[cO,uO]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,kj,{value:!0})}const wZ=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",z7=(t="")=>t==="/"?"":t,SZ=(t,e)=>t[0]==="~"?t.slice(1):z7(e)+t,_Z=(t="",e)=>wZ(Cj(z7(t)),Cj(e)),Cj=t=>{try{return decodeURI(t)}catch{return t}},q7={hook:xZ,searchHook:vZ,parser:lZ,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},U7=O.createContext(q7),Ym=()=>O.useContext(U7),H7={},W7=O.createContext(H7),dO=()=>O.useContext(W7),qy=t=>{const[e,n]=t.hook(t);return[_Z(t.base,e),lO((r,i)=>n(SZ(r,t.base),i))]},Xm=()=>qy(Ym()),V7=(t,e,n,r)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=i.exec(n)||[],[s,...l]=a;return s!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((f,g)=>[f,l[g]])):a.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[s]:[]]:[!1,null]},EZ=({children:t,...e})=>{const n=Ym(),r=e.hook?q7:n;let i=r;const[o,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=o),e.hrefs=e.hrefs??e.hook?.hrefs;let s=O.useRef({}),l=s.current,c=l;for(let u in r){const f=u==="base"?r[u]+(e[u]||""):e[u]||r[u];l===c&&f!==c[u]&&(s.current=c={...c}),c[u]=f,(f!==r[u]||f!==i[u])&&(i=c)}return O.createElement(U7.Provider,{value:i,children:t})},Tj=({children:t,component:e},n)=>e?O.createElement(e,{params:n}):typeof t=="function"?t(n):t,NZ=t=>{let e=O.useRef(H7);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},zo=({path:t,nest:e,match:n,...r})=>{const i=Ym(),[o]=qy(i),[a,s,l]=n??V7(i.parser,t,o,e),c=NZ({...dO(),...s});if(!a)return null;const u=l?O.createElement(EZ,{base:l},Tj(r,c)):Tj(r,c);return O.createElement(W7.Provider,{value:c,children:u})},AZ=O.forwardRef((t,e)=>{const n=Ym(),[r,i]=qy(n),{to:o="",href:a=o,onClick:s,asChild:l,children:c,className:u,replace:f,state:g,...m}=t,b=lO(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(s?.(y),y.defaultPrevented||(y.preventDefault(),i(a,t)))}),v=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return l&&O.isValidElement(c)?O.cloneElement(c,{onClick:b,href:v}):O.createElement("a",{...m,onClick:b,href:v,className:u?.call?u(r===a):u,children:c,ref:e})}),K7=t=>Array.isArray(t)?t.flatMap(e=>K7(e&&e.type===O.Fragment?e.props.children:e)):[t],Oj=({children:t,location:e})=>{const n=Ym(),[r]=qy(n);for(const i of K7(t)){let o=0;if(O.isValidElement(i)&&(o=V7(n.parser,i.props.path,e||r,i.props.nest))[0])return O.cloneElement(i,{match:o})}return null},Mj=t=>{const{to:e,href:n=e}=t,r=Ym(),[,i]=qy(r),o=lO(()=>i(e||n,t)),{ssrContext:a}=r;return B7(()=>{o()},[]),a&&(a.redirectTo=e),null};var Qm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kZ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},CZ=class{#e=kZ;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},uh=new CZ;function TZ(t){setTimeout(t,0)}var Ch=typeof window>"u"||"Deno"in globalThis;function Ra(){}function OZ(t,e){return typeof t=="function"?t(e):t}function dk(t){return typeof t=="number"&&t>=0&&t!==1/0}function G7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function tf(t,e){return typeof t=="function"?t(e):t}function nl(t,e){return typeof t=="function"?t(e):t}function Pj(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==fO(a,e.options))return!1}else if(!Fv(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function Rj(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Th(e.options.mutationKey)!==Th(o))return!1}else if(!Fv(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function fO(t,e){return(e?.queryKeyHashFn||Th)(t)}function Th(t){return JSON.stringify(t,(e,n)=>fk(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Fv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Fv(t[n],e[n])):!1}var MZ=Object.prototype.hasOwnProperty;function Y7(t,e){if(t===e)return t;const n=jj(t)&&jj(e);if(!n&&!(fk(t)&&fk(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,s=n?new Array(a):{};let l=0;for(let c=0;c<a;c++){const u=n?c:o[c],f=t[u],g=e[u];if(f===g){s[u]=f,(n?c<i:MZ.call(t,u))&&l++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){s[u]=g;continue}const m=Y7(f,g);s[u]=m,m===f&&l++}return i===a&&l===i?t:s}function h1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function jj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fk(t){if(!Ij(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ij(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ij(t){return Object.prototype.toString.call(t)==="[object Object]"}function PZ(t){return new Promise(e=>{uh.setTimeout(e,t)})}function hk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Y7(t,e):e}function RZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function jZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hO=Symbol();function X7(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===hO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Q7(t,e){return typeof t=="function"?t(...e):!!t}var IZ=class extends Qm{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Ch&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},pO=new IZ;function pk(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var LZ=TZ;function DZ(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=LZ;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var fo=DZ(),FZ=class extends Qm{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Ch&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},p1=new FZ;function BZ(t){return Math.min(1e3*2**t,3e4)}function J7(t){return(t??"online")==="online"?p1.isOnline():!0}var mk=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Z7(t){let e=!1,n=0,r;const i=pk(),o=()=>i.status!=="pending",a=v=>{if(!o()){const y=new mk(v);g(y),t.onCancel?.(y)}},s=()=>{e=!0},l=()=>{e=!1},c=()=>pO.isFocused()&&(t.networkMode==="always"||p1.isOnline())&&t.canRun(),u=()=>J7(t.networkMode)&&t.canRun(),f=v=>{o()||(r?.(),i.resolve(v))},g=v=>{o()||(r?.(),i.reject(v))},m=()=>new Promise(v=>{r=y=>{(o()||c())&&v(y)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),b=()=>{if(o())return;let v;const y=n===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{if(o())return;const N=t.retry??(Ch?0:3),k=t.retryDelay??BZ,A=typeof k=="function"?k(n,w):k,T=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,w);if(e||!T){g(w);return}n++,t.onFail?.(n,w),PZ(A).then(()=>c()?void 0:m()).then(()=>{e?g(w):b()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?b():m().then(b),i)}}var ez=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dk(this.gcTime)&&(this.#e=uh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ch?1/0:300*1e3))}clearGcTimeout(){this.#e&&(uh.clearTimeout(this.#e),this.#e=void 0)}},$Z=class extends ez{#e;#t;#n;#i;#r;#a;#s;constructor(t){super(),this.#s=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Lj(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Lj(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=hk(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Ra).catch(Ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>nl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!G7(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const s=this.observers.find(l=>l.options.queryFn);s&&this.setOptions(s.options)}const n=new AbortController,r=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const s=X7(this.options,e),c=(()=>{const u={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#s=!1,this.options.persister?this.options.persister(s,c,this):s(c)},a=(()=>{const s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(s),s})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=Z7({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:s=>{s instanceof mk&&s.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(s,l)=>{this.#o({type:"failed",failureCount:s,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const s=await this.#r.start();if(s===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(s),this.#n.config.onSuccess?.(s,this),this.#n.config.onSettled?.(s,this.state.error,this),s}catch(s){if(s instanceof mk){if(s.silent)return this.#r.promise;if(s.revert){if(this.state.data===void 0)throw s;return this.state.data}}throw this.#o({type:"error",error:s}),this.#n.config.onError?.(s,this),this.#n.config.onSettled?.(this.state.data,s,this),s}finally{this.scheduleGc()}}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tz(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),fo.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function tz(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Lj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zZ=class extends Qm{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#s=pk(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#s;#o;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Dj(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gk(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gk(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nl(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!h1(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Fj(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||nl(this.options.enabled,this.#t)!==nl(e.enabled,this.#t)||tf(this.options.staleTime,this.#t)!==tf(e.staleTime,this.#t))&&this.#g();const i=this.#v();r&&(this.#t!==n||nl(this.options.enabled,this.#t)!==nl(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return UZ(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ra)),e}#g(){this.#x();const t=tf(this.options.staleTime,this.#t);if(Ch||this.#i.isStale||!dk(t))return;const n=G7(this.#i.dataUpdatedAt,t)+1;this.#c=uh.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Ch||nl(this.options.enabled,this.#t)===!1||!dk(this.#l)||this.#l===0)&&(this.#u=uh.setInterval(()=>{(this.options.refetchIntervalInBackground||pO.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(uh.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(uh.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,o=this.#r,a=this.#a,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},f=!1,g;if(e._optimisticResults){const C=this.hasListeners(),M=!C&&Dj(t,e),q=C&&Fj(t,n,e,r);(M||q)&&(u={...u,...tz(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:m,errorUpdatedAt:b,status:v}=u;g=u.data;let y=!1;if(e.placeholderData!==void 0&&g===void 0&&v==="pending"){let C;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(C=i.data,y=!0):C=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,C!==void 0&&(v="success",g=hk(i?.data,C,e),f=!0)}if(e.select&&g!==void 0&&!y)if(i&&g===o?.data&&e.select===this.#m)g=this.#f;else try{this.#m=e.select,g=e.select(g),g=hk(i?.data,g,e),this.#f=g,this.#o=null}catch(C){this.#o=C}this.#o&&(m=this.#o,g=this.#f,b=Date.now(),v="error");const w=u.fetchStatus==="fetching",N=v==="pending",k=v==="error",A=N&&w,T=g!==void 0,L={status:v,fetchStatus:u.fetchStatus,isPending:N,isSuccess:v==="success",isError:k,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:u.dataUpdatedAt,error:m,errorUpdatedAt:b,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:k&&!T,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:k&&T,isStale:mO(t,e),refetch:this.refetch,promise:this.#s,isEnabled:nl(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=D=>{L.status==="error"?D.reject(L.error):L.data!==void 0&&D.resolve(L.data)},M=()=>{const D=this.#s=L.promise=pk();C(D)},q=this.#s;switch(q.status){case"pending":t.queryHash===n.queryHash&&C(q);break;case"fulfilled":(L.status==="error"||L.data!==q.value)&&M();break;case"rejected":(L.status!=="error"||L.error!==q.reason)&&M();break}}return L}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),h1(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const o=new Set(i??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#i).some(a=>{const s=a;return this.#i[s]!==t[s]&&o.has(s)})};this.#_({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(t){fo.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function qZ(t,e){return nl(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Dj(t,e){return qZ(t,e)||t.state.data!==void 0&&gk(t,e,e.refetchOnMount)}function gk(t,e,n){if(nl(e.enabled,t)!==!1&&tf(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&mO(t,e)}return!1}function Fj(t,e,n,r){return(t!==e||nl(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&mO(t,n)}function mO(t,e){return nl(e.enabled,t)!==!1&&t.isStaleByTime(tf(e.staleTime,t))}function UZ(t,e){return!h1(t.getCurrentResult(),e)}function Bj(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},g=X7(e.options,e.fetchOptions),m=async(b,v,y)=>{if(u)return Promise.reject();if(v==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:v,direction:y?"backward":"forward",meta:e.options.meta};return f(P),P})(),k=await g(N),{maxPages:A}=e.options,T=y?jZ:RZ;return{pages:T(b.pages,k,A),pageParams:T(b.pageParams,v,A)}};if(i&&o.length){const b=i==="backward",v=b?HZ:$j,y={pages:o,pageParams:a},w=v(r,y);s=await m(y,w,b)}else{const b=t??o.length;do{const v=l===0?a[0]??r.initialPageParam:$j(r,s);if(l>0&&v==null)break;s=await m(s,v),l++}while(l<b)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function $j(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function HZ(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var WZ=class extends ez{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||nz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Z7({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,a)=>{this.#r({type:"failed",failureCount:o,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:i})}const o=await this.#i.start();return await this.#n.config.onSuccess?.(o,t,this.state.context,this,n),await this.options.onSuccess?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,t,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,t,this.state.context,this,n),await this.options.onError?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,t,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),fo.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function nz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var VZ=class extends Qm{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new WZ({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=V0(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=V0(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=V0(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=V0(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){fo.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Rj(e,n))}findAll(t={}){return this.getAll().filter(e=>Rj(t,e))}notify(t){fo.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return fo.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ra))))}};function V0(t){return t.options.scope?.id}var KZ=class extends Qm{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),h1(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Th(n.mutationKey)!==Th(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??nz();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){fo.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},GZ=class extends Qm{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??fO(r,e);let o=this.get(i);return o||(o=new $Z({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fo.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Pj(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Pj(t,n)):e}notify(t){fo.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){fo.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fo.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},YZ=class{#e;#t;#n;#i;#r;#a;#s;#o;constructor(t={}){this.#e=t.queryCache||new GZ,this.#t=t.mutationCache||new VZ,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=pO.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=p1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(tf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,a=OZ(e,o);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return fo.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;fo.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return fo.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=fo.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ra).catch(Ra)}invalidateQueries(t,e={}){return fo.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=fo.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ra)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ra)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(tf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ra).catch(Ra)}fetchInfiniteQuery(t){return t.behavior=Bj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ra).catch(Ra)}ensureInfiniteQueryData(t){return t.behavior=Bj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return p1.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Th(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Fv(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Th(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Fv(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hO&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},rz=O.createContext(void 0),gO=t=>{const e=O.useContext(rz);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XZ=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(rz.Provider,{value:t,children:e})),iz=O.createContext(!1),QZ=()=>O.useContext(iz);iz.Provider;function JZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ZZ=O.createContext(JZ()),eee=()=>O.useContext(ZZ),tee=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},nee=t=>{O.useEffect(()=>{t.clearReset()},[t])},ree=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Q7(n,[t.error,r])),iee=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},oee=(t,e)=>t.isLoading&&t.isFetching&&!e,aee=(t,e)=>t?.suspense&&e.isPending,zj=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function see(t,e,n){const r=QZ(),i=eee(),o=gO(),a=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",iee(a),tee(a,i),nee(i);const s=!o.getQueryCache().get(a.queryHash),[l]=O.useState(()=>new e(o,a)),c=l.getOptimisticResult(a),u=!r&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(f=>{const g=u?l.subscribe(fo.batchCalls(f)):Ra;return l.updateResult(),g},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),O.useEffect(()=>{l.setOptions(a)},[a,l]),aee(a,c))throw zj(a,l,i);if(ree({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!Ch&&oee(c,r)&&(s?zj(a,l,i):o.getQueryCache().get(a.queryHash)?.promise)?.catch(Ra).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?c:l.trackResult(c)}function $n(t,e){return see(t,zZ)}function kn(t,e){const n=gO(),[r]=O.useState(()=>new KZ(n,t));O.useEffect(()=>{r.setOptions(t)},[r,t]);const i=O.useSyncExternalStore(O.useCallback(a=>r.subscribe(fo.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=O.useCallback((a,s)=>{r.mutate(a,s).catch(Ra)},[r]);if(i.error&&Q7(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}async function oz(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function vn(t,e,n,r){const i=localStorage.getItem("token"),o={};n&&(o["Content-Type"]="application/json"),i&&(o.Authorization=`Bearer ${i}`);const a=new AbortController;try{const s=await fetch(e,{method:t,headers:o,body:n?JSON.stringify(n):void 0,credentials:"include",signal:a.signal});return await oz(s),s.json()}catch(s){throw s.name==="AbortError"?new Error(`La peticin tard ms de ${0/1e3}s y fue cancelada`):s}finally{}}const az=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("token"),r={};n&&(r.Authorization=`Bearer ${n}`);const i=await fetch(e.join("/"),{headers:r,credentials:"include"});return t==="returnNull"&&i.status===401?null:(await oz(i),await i.json())},Mn=new YZ({defaultOptions:{queries:{queryFn:az({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),lee=1,cee=1e6;let US=0;function uee(){return US=(US+1)%Number.MAX_SAFE_INTEGER,US.toString()}const HS=new Map,qj=t=>{if(HS.has(t))return;const e=setTimeout(()=>{HS.delete(t),xv({type:"REMOVE_TOAST",toastId:t})},cee);HS.set(t,e)},dee=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,lee)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?qj(n):t.toasts.forEach(r=>{qj(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Hb=[];let Wb={toasts:[]};function xv(t){Wb=dee(Wb,t),Hb.forEach(e=>{e(Wb)})}function fee({...t}){const e=uee(),n=i=>xv({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>xv({type:"DISMISS_TOAST",toastId:e});return xv({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function as(){const[t,e]=O.useState(Wb);return O.useEffect(()=>(Hb.push(e),()=>{const n=Hb.indexOf(e);n>-1&&Hb.splice(n,1)}),[t]),{...t,toast:fee,dismiss:n=>xv({type:"DISMISS_TOAST",toastId:n})}}var Jm=D7();const sz=cr(Jm);function Kt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function Uj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Oh(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Uj(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Uj(t[i],null)}}}}function Wn(...t){return O.useCallback(Oh(...t),t)}function hee(t,e){const n=O.createContext(e),r=o=>{const{children:a,...s}=o,l=O.useMemo(()=>s,Object.values(s));return h.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(o){const a=O.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Ps(t,e=[]){let n=[];function r(o,a){const s=O.createContext(a),l=n.length;n=[...n,a];const c=f=>{const{scope:g,children:m,...b}=f,v=g?.[t]?.[l]||s,y=O.useMemo(()=>b,Object.values(b));return h.jsx(v.Provider,{value:y,children:m})};c.displayName=o+"Provider";function u(f,g){const m=g?.[t]?.[l]||s,b=O.useContext(m);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>O.createContext(a));return function(s){const l=s?.[t]||o;return O.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,pee(i,...e)]}function pee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function bm(t){const e=mee(t),n=O.forwardRef((r,i)=>{const{children:o,...a}=r,s=O.Children.toArray(o),l=s.find(gee);if(l){const c=l.props.children,u=s.map(f=>f===l?O.Children.count(c)>1?O.Children.only(null):O.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...a,ref:i,children:O.isValidElement(c)?O.cloneElement(c,void 0,u):null})}return h.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var vO=bm("Slot");function mee(t){const e=O.forwardRef((n,r)=>{const{children:i,...o}=n;if(O.isValidElement(i)){const a=yee(i),s=vee(o,i.props);return i.type!==O.Fragment&&(s.ref=r?Oh(r,a):a),O.cloneElement(i,s)}return O.Children.count(i)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lz=Symbol("radix.slottable");function cz(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=lz,e}function gee(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lz}function vee(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function yee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function yO(t){const e=t+"CollectionProvider",[n,r]=Ps(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:y,children:w}=v,N=Ce.useRef(null),k=Ce.useRef(new Map).current;return h.jsx(i,{scope:y,itemMap:k,collectionRef:N,children:w})};a.displayName=e;const s=t+"CollectionSlot",l=bm(s),c=Ce.forwardRef((v,y)=>{const{scope:w,children:N}=v,k=o(s,w),A=Wn(y,k.collectionRef);return h.jsx(l,{ref:A,children:N})});c.displayName=s;const u=t+"CollectionItemSlot",f="data-radix-collection-item",g=bm(u),m=Ce.forwardRef((v,y)=>{const{scope:w,children:N,...k}=v,A=Ce.useRef(null),T=Wn(y,A),P=o(u,w);return Ce.useEffect(()=>(P.itemMap.set(A,{ref:A,...k}),()=>void P.itemMap.delete(A))),h.jsx(g,{[f]:"",ref:T,children:N})});m.displayName=u;function b(v){const y=o(t+"CollectionConsumer",v);return Ce.useCallback(()=>{const N=y.collectionRef.current;if(!N)return[];const k=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((P,L)=>k.indexOf(P.ref.current)-k.indexOf(L.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},b,r]}var bee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=bee.reduce((t,e)=>{const n=bm(`Primitive.${e}`),r=O.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function uz(t,e){t&&Jm.flushSync(()=>t.dispatchEvent(e))}function Xi(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...n)=>e.current?.(...n),[])}function xee(t,e=globalThis?.document){const n=Xi(t);O.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var wee="DismissableLayer",vk="dismissableLayer.update",See="dismissableLayer.pointerDownOutside",_ee="dismissableLayer.focusOutside",Hj,dz=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uy=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=O.useContext(dz),[u,f]=O.useState(null),g=u?.ownerDocument??globalThis?.document,[,m]=O.useState({}),b=Wn(e,L=>f(L)),v=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(y),N=u?v.indexOf(u):-1,k=c.layersWithOutsidePointerEventsDisabled.size>0,A=N>=w,T=Nee(L=>{const C=L.target,M=[...c.branches].some(q=>q.contains(C));!A||M||(i?.(L),a?.(L),L.defaultPrevented||s?.())},g),P=Aee(L=>{const C=L.target;[...c.branches].some(q=>q.contains(C))||(o?.(L),a?.(L),L.defaultPrevented||s?.())},g);return xee(L=>{N===c.layers.size-1&&(r?.(L),!L.defaultPrevented&&s&&(L.preventDefault(),s()))},g),O.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Hj=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Wj(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Hj)}},[u,g,n,c]),O.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Wj())},[u,c]),O.useEffect(()=>{const L=()=>m({});return document.addEventListener(vk,L),()=>document.removeEventListener(vk,L)},[]),h.jsx(Ht.div,{...l,ref:b,style:{pointerEvents:k?A?"auto":"none":void 0,...t.style},onFocusCapture:Kt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Kt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Kt(t.onPointerDownCapture,T.onPointerDownCapture)})});Uy.displayName=wee;var Eee="DismissableLayerBranch",fz=O.forwardRef((t,e)=>{const n=O.useContext(dz),r=O.useRef(null),i=Wn(e,r);return O.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),h.jsx(Ht.div,{...t,ref:i})});fz.displayName=Eee;function Nee(t,e=globalThis?.document){const n=Xi(t),r=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){hz(See,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Aee(t,e=globalThis?.document){const n=Xi(t),r=O.useRef(!1);return O.useEffect(()=>{const i=o=>{o.target&&!r.current&&hz(_ee,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wj(){const t=new CustomEvent(vk);document.dispatchEvent(t)}function hz(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?uz(i,o):i.dispatchEvent(o)}var kee=Uy,Cee=fz,zi=globalThis?.document?O.useLayoutEffect:()=>{},Tee="Portal",gw=O.forwardRef((t,e)=>{const{container:n,...r}=t,[i,o]=O.useState(!1);zi(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?sz.createPortal(h.jsx(Ht.div,{...r,ref:e}),a):null});gw.displayName=Tee;function Oee(t,e){return O.useReducer((n,r)=>e[n][r]??n,t)}var pl=t=>{const{present:e,children:n}=t,r=Mee(e),i=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),o=Wn(r.ref,Pee(i));return typeof n=="function"||r.isPresent?O.cloneElement(i,{ref:o}):null};pl.displayName="Presence";function Mee(t){const[e,n]=O.useState(),r=O.useRef(null),i=O.useRef(t),o=O.useRef("none"),a=t?"mounted":"unmounted",[s,l]=Oee(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=K0(r.current);o.current=s==="mounted"?c:"none"},[s]),zi(()=>{const c=r.current,u=i.current;if(u!==t){const g=o.current,m=K0(c);t?l("MOUNT"):m==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&g!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),zi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const v=K0(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},g=m=>{m.target===e&&(o.current=K0(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:O.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function K0(t){return t?.animationName||"none"}function Pee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ree=sO[" useInsertionEffect ".trim().toString()]||zi;function Vu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=jee({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const u=O.useRef(t!==void 0);O.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=O.useCallback(u=>{if(s){const f=Iee(u)?u(t):u;f!==t&&a.current?.(f)}else o(u)},[s,t,o,a]);return[l,c]}function jee({defaultProp:t,onChange:e}){const[n,r]=O.useState(t),i=O.useRef(n),o=O.useRef(e);return Ree(()=>{o.current=e},[e]),O.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function Iee(t){return typeof t=="function"}var pz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Lee="VisuallyHidden",vw=O.forwardRef((t,e)=>h.jsx(Ht.span,{...t,ref:e,style:{...pz,...t.style}}));vw.displayName=Lee;var Dee=vw,bO="ToastProvider",[xO,Fee,Bee]=yO("Toast"),[mz]=Ps("Toast",[Bee]),[$ee,yw]=mz(bO),gz=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,l]=O.useState(null),[c,u]=O.useState(0),f=O.useRef(!1),g=O.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bO}\`. Expected non-empty \`string\`.`),h.jsx(xO.Provider,{scope:e,children:h.jsx($ee,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:O.useCallback(()=>u(m=>m+1),[]),onToastRemove:O.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:a})})};gz.displayName=bO;var vz="ToastViewport",zee=["F8"],yk="toast.viewportPause",bk="toast.viewportResume",yz=O.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=zee,label:i="Notifications ({hotkey})",...o}=t,a=yw(vz,n),s=Fee(n),l=O.useRef(null),c=O.useRef(null),u=O.useRef(null),f=O.useRef(null),g=Wn(e,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;O.useEffect(()=>{const y=w=>{r.length!==0&&r.every(k=>w[k]||w.code===k)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),O.useEffect(()=>{const y=l.current,w=f.current;if(b&&y&&w){const N=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(yk);w.dispatchEvent(P),a.isClosePausedRef.current=!0}},k=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(bk);w.dispatchEvent(P),a.isClosePausedRef.current=!1}},A=P=>{!y.contains(P.relatedTarget)&&k()},T=()=>{y.contains(document.activeElement)||k()};return y.addEventListener("focusin",N),y.addEventListener("focusout",A),y.addEventListener("pointermove",N),y.addEventListener("pointerleave",T),window.addEventListener("blur",N),window.addEventListener("focus",k),()=>{y.removeEventListener("focusin",N),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",N),y.removeEventListener("pointerleave",T),window.removeEventListener("blur",N),window.removeEventListener("focus",k)}}},[b,a.isClosePausedRef]);const v=O.useCallback(({tabbingDirection:y})=>{const N=s().map(k=>{const A=k.ref.current,T=[A,...ete(A)];return y==="forwards"?T:T.reverse()});return(y==="forwards"?N.reverse():N).flat()},[s]);return O.useEffect(()=>{const y=f.current;if(y){const w=N=>{const k=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!k){const T=document.activeElement,P=N.shiftKey;if(N.target===y&&P){c.current?.focus();return}const M=v({tabbingDirection:P?"backwards":"forwards"}),q=M.findIndex(D=>D===T);WS(M.slice(q+1))?N.preventDefault():P?c.current?.focus():u.current?.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[s,v]),h.jsxs(Cee,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&h.jsx(xk,{ref:c,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});WS(y)}}),h.jsx(xO.Slot,{scope:n,children:h.jsx(Ht.ol,{tabIndex:-1,...o,ref:g})}),b&&h.jsx(xk,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});WS(y)}})]})});yz.displayName=vz;var bz="ToastFocusProxy",xk=O.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=yw(bz,n);return h.jsx(vw,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const s=a.relatedTarget;!o.viewport?.contains(s)&&r()}})});xk.displayName=bz;var Hy="Toast",qee="toast.swipeStart",Uee="toast.swipeMove",Hee="toast.swipeCancel",Wee="toast.swipeEnd",xz=O.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=t,[s,l]=Vu({prop:r,defaultProp:i??!0,onChange:o,caller:Hy});return h.jsx(pl,{present:n||s,children:h.jsx(Gee,{open:s,...a,ref:e,onClose:()=>l(!1),onPause:Xi(t.onPause),onResume:Xi(t.onResume),onSwipeStart:Kt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Kt(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Kt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Kt(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});xz.displayName=Hy;var[Vee,Kee]=mz(Hy,{onClose(){}}),Gee=O.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:m,...b}=t,v=yw(Hy,n),[y,w]=O.useState(null),N=Wn(e,U=>w(U)),k=O.useRef(null),A=O.useRef(null),T=i||v.duration,P=O.useRef(0),L=O.useRef(T),C=O.useRef(0),{onToastAdd:M,onToastRemove:q}=v,D=Xi(()=>{y?.contains(document.activeElement)&&v.viewport?.focus(),a()}),I=O.useCallback(U=>{!U||U===1/0||(window.clearTimeout(C.current),P.current=new Date().getTime(),C.current=window.setTimeout(D,U))},[D]);O.useEffect(()=>{const U=v.viewport;if(U){const Y=()=>{I(L.current),c?.()},ne=()=>{const W=new Date().getTime()-P.current;L.current=L.current-W,window.clearTimeout(C.current),l?.()};return U.addEventListener(yk,ne),U.addEventListener(bk,Y),()=>{U.removeEventListener(yk,ne),U.removeEventListener(bk,Y)}}},[v.viewport,T,l,c,I]),O.useEffect(()=>{o&&!v.isClosePausedRef.current&&I(T)},[o,T,v.isClosePausedRef,I]),O.useEffect(()=>(M(),()=>q()),[M,q]);const z=O.useMemo(()=>y?kz(y):null,[y]);return v.viewport?h.jsxs(h.Fragment,{children:[z&&h.jsx(Yee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:z}),h.jsx(Vee,{scope:n,onClose:D,children:Jm.createPortal(h.jsx(xO.ItemSlot,{scope:n,children:h.jsx(kee,{asChild:!0,onEscapeKeyDown:Kt(s,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Ht.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Kt(t.onKeyDown,U=>{U.key==="Escape"&&(s?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Kt(t.onPointerDown,U=>{U.button===0&&(k.current={x:U.clientX,y:U.clientY})}),onPointerMove:Kt(t.onPointerMove,U=>{if(!k.current)return;const Y=U.clientX-k.current.x,ne=U.clientY-k.current.y,W=!!A.current,G=["left","right"].includes(v.swipeDirection),K=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,fe=G?K(0,Y):0,X=G?0:K(0,ne),F=U.pointerType==="touch"?10:2,V={x:fe,y:X},ee={originalEvent:U,delta:V};W?(A.current=V,G0(Uee,f,ee,{discrete:!1})):Vj(V,v.swipeDirection,F)?(A.current=V,G0(qee,u,ee,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(Y)>F||Math.abs(ne)>F)&&(k.current=null)}),onPointerUp:Kt(t.onPointerUp,U=>{const Y=A.current,ne=U.target;if(ne.hasPointerCapture(U.pointerId)&&ne.releasePointerCapture(U.pointerId),A.current=null,k.current=null,Y){const W=U.currentTarget,G={originalEvent:U,delta:Y};Vj(Y,v.swipeDirection,v.swipeThreshold)?G0(Wee,m,G,{discrete:!0}):G0(Hee,g,G,{discrete:!0}),W.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Yee=t=>{const{__scopeToast:e,children:n,...r}=t,i=yw(Hy,e),[o,a]=O.useState(!1),[s,l]=O.useState(!1);return Jee(()=>a(!0)),O.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:h.jsx(gw,{asChild:!0,children:h.jsx(vw,{...r,children:o&&h.jsxs(h.Fragment,{children:[i.label," ",n]})})})},Xee="ToastTitle",wz=O.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Ht.div,{...r,ref:e})});wz.displayName=Xee;var Qee="ToastDescription",Sz=O.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Ht.div,{...r,ref:e})});Sz.displayName=Qee;var _z="ToastAction",Ez=O.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(Az,{altText:n,asChild:!0,children:h.jsx(wO,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_z}\`. Expected non-empty \`string\`.`),null)});Ez.displayName=_z;var Nz="ToastClose",wO=O.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Kee(Nz,n);return h.jsx(Az,{asChild:!0,children:h.jsx(Ht.button,{type:"button",...r,ref:e,onClick:Kt(t.onClick,i.onClose)})})});wO.displayName=Nz;var Az=O.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return h.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function kz(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Zee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...kz(r))}}),e}function G0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?uz(i,o):i.dispatchEvent(o)}var Vj=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function Jee(t=()=>{}){const e=Xi(t);zi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Zee(t){return t.nodeType===t.ELEMENT_NODE}function ete(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var tte=gz,Cz=yz,Tz=xz,Oz=wz,Mz=Sz,Pz=Ez,Rz=wO;function jz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jz(t))&&(r&&(r+=" "),r+=e);return r}const Kj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Gj=rr,Zm=(t,e)=>n=>{var r;if(e?.variants==null)return Gj(t,n?.class,n?.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n?.[c],f=o?.[c];if(u===null)return null;const g=Kj(u)||Kj(f);return i[c][g]}),s=n&&Object.entries(n).reduce((c,u)=>{let[f,g]=u;return g===void 0||(c[f]=g),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:g,...m}=u;return Object.entries(m).every(b=>{let[v,y]=b;return Array.isArray(y)?y.includes({...o,...s}[v]):{...o,...s}[v]===y})?[...c,f,g]:c},[]);return Gj(t,a,l,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iz=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>O.createElement("svg",{ref:l,...rte,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Iz("lucide",i),...s},[...a.map(([c,u])=>O.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=O.forwardRef(({className:r,...i},o)=>O.createElement(ite,{ref:o,iconNode:e,className:Iz(`lucide-${nte(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=vt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=vt("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=vt("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=vt("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=vt("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=vt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=vt("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=vt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=vt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=vt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=vt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=vt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=vt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=vt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=vt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=vt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=vt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=vt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=vt("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=vt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=vt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=vt("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=vt("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=vt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=vt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=vt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=vt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=vt("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=vt("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=vt("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=vt("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=vt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=vt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=vt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=vt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=vt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=vt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=vt("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=vt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=vt("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=vt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=vt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=vt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=vt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=vt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=vt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=vt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=vt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=vt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=vt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=vt("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=vt("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=vt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=vt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=vt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=vt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=vt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=vt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=vt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=vt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=vt("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=vt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=vt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=vt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=vt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=vt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=vt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=vt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=vt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=vt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CO="-",Kte=t=>{const e=Yte(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(CO);return s[0]===""&&s.length!==1&&s.shift(),Xz(s,e)||Gte(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},Xz=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Xz(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(CO);return e.validators.find(({validator:a})=>a(o))?.classGroupId},Zj=/^\[(.+)\]$/,Gte=t=>{if(Zj.test(t)){const e=Zj.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Yte=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Qte(Object.entries(t.classGroups),n).forEach(([o,a])=>{Nk(a,r,o,e)}),r},Nk=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:eI(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Xte(i)){Nk(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{Nk(a,eI(e,o),n,r)})})},eI=(t,e)=>{let n=t;return e.split(CO).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Xte=t=>t.isThemeGetter,Qte=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,Jte=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},Qz="!",Zte=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,f;for(let y=0;y<s.length;y++){let w=s[y];if(c===0){if(w===i&&(r||s.slice(y,y+o)===e)){l.push(s.slice(u,y)),u=y+o;continue}if(w==="/"){f=y;continue}}w==="["?c++:w==="]"&&c--}const g=l.length===0?s:s.substring(u),m=g.startsWith(Qz),b=m?g.substring(1):g,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:v}};return n?s=>n({className:s,parseClassName:a}):a},ene=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tne=t=>({cache:Jte(t.cacheSize),parseClassName:Zte(t),...Kte(t)}),nne=/\s+/,rne=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(nne);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=n(c);let b=!!m,v=r(b?g.substring(0,m):g);if(!v){if(!b){s=c+(s.length>0?" "+s:s);continue}if(v=r(g),!v){s=c+(s.length>0?" "+s:s);continue}b=!1}const y=ene(u).join(":"),w=f?y+Qz:y,N=w+v;if(o.includes(N))continue;o.push(N);const k=i(v,b);for(let A=0;A<k.length;++A){const T=k[A];o.push(w+T)}s=c+(s.length>0?" "+s:s)}return s};function ine(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Jz(e))&&(r&&(r+=" "),r+=n);return r}const Jz=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Jz(t[r]))&&(n&&(n+=" "),n+=e);return n};function one(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,f)=>f(u),t());return n=tne(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=rne(l,n);return i(l,u),u}return function(){return o(ine.apply(null,arguments))}}const Qr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Zz=/^\[(?:([a-z-]+):)?(.+)\]$/i,ane=/^\d+\/\d+$/,sne=new Set(["px","full","screen"]),lne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,une=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nu=t=>rm(t)||sne.has(t)||ane.test(t),jd=t=>tg(t,"length",xne),rm=t=>!!t&&!Number.isNaN(Number(t)),VS=t=>tg(t,"number",rm),Wg=t=>!!t&&Number.isInteger(Number(t)),hne=t=>t.endsWith("%")&&rm(t.slice(0,-1)),In=t=>Zz.test(t),Id=t=>lne.test(t),pne=new Set(["length","size","percentage"]),mne=t=>tg(t,pne,eq),gne=t=>tg(t,"position",eq),vne=new Set(["image","url"]),yne=t=>tg(t,vne,Sne),bne=t=>tg(t,"",wne),Vg=()=>!0,tg=(t,e,n)=>{const r=Zz.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},xne=t=>cne.test(t)&&!une.test(t),eq=()=>!1,wne=t=>dne.test(t),Sne=t=>fne.test(t),_ne=()=>{const t=Qr("colors"),e=Qr("spacing"),n=Qr("blur"),r=Qr("brightness"),i=Qr("borderColor"),o=Qr("borderRadius"),a=Qr("borderSpacing"),s=Qr("borderWidth"),l=Qr("contrast"),c=Qr("grayscale"),u=Qr("hueRotate"),f=Qr("invert"),g=Qr("gap"),m=Qr("gradientColorStops"),b=Qr("gradientColorStopPositions"),v=Qr("inset"),y=Qr("margin"),w=Qr("opacity"),N=Qr("padding"),k=Qr("saturate"),A=Qr("scale"),T=Qr("sepia"),P=Qr("skew"),L=Qr("space"),C=Qr("translate"),M=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",In,e],I=()=>[In,e],z=()=>["",Nu,jd],U=()=>["auto",rm,In],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",In],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[rm,In];return{cacheSize:500,separator:":",theme:{colors:[Vg],spacing:[Nu,jd],blur:["none","",Id,In],brightness:X(),borderColor:[t],borderRadius:["none","","full",Id,In],borderSpacing:I(),borderWidth:z(),contrast:X(),grayscale:K(),hueRotate:X(),invert:K(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[hne,jd],inset:D(),margin:D(),opacity:X(),padding:I(),saturate:X(),scale:X(),sepia:K(),skew:X(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",In]}],container:["container"],columns:[{columns:[Id]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),In]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wg,In]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",In]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Wg,In]}],"grid-cols":[{"grid-cols":[Vg]}],"col-start-end":[{col:["auto",{span:["full",Wg,In]},In]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Vg]}],"row-start-end":[{row:["auto",{span:[Wg,In]},In]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",In]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",In]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",In,e]}],"min-w":[{"min-w":[In,e,"min","max","fit"]}],"max-w":[{"max-w":[In,e,"none","full","min","max","fit","prose",{screen:[Id]},Id]}],h:[{h:[In,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[In,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[In,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[In,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Id,jd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",VS]}],"font-family":[{font:[Vg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",In]}],"line-clamp":[{"line-clamp":["none",rm,VS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nu,In]}],"list-image":[{"list-image":["none",In]}],"list-style-type":[{list:["none","disc","decimal",In]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nu,jd]}],"underline-offset":[{"underline-offset":["auto",Nu,In]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",In]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",In]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),gne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yne]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Nu,In]}],"outline-w":[{outline:[Nu,jd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Nu,jd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Id,bne]}],"shadow-color":[{shadow:[Vg]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Id,In]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",In]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",In]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",In]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Wg,In]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",In]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",In]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",In]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Nu,jd,VS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ene=one(_ne);function dt(...t){return Ene(rr(t))}const Nne=tte,tq=O.forwardRef(({className:t,...e},n)=>h.jsx(Cz,{ref:n,className:dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));tq.displayName=Cz.displayName;const Ane=Zm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nq=O.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(Tz,{ref:r,className:dt(Ane({variant:e}),t),...n}));nq.displayName=Tz.displayName;const kne=O.forwardRef(({className:t,...e},n)=>h.jsx(Pz,{ref:n,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));kne.displayName=Pz.displayName;const rq=O.forwardRef(({className:t,...e},n)=>h.jsx(Rz,{ref:n,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(kO,{className:"h-4 w-4"})}));rq.displayName=Rz.displayName;const iq=O.forwardRef(({className:t,...e},n)=>h.jsx(Oz,{ref:n,className:dt("text-sm font-semibold",t),...e}));iq.displayName=Oz.displayName;const oq=O.forwardRef(({className:t,...e},n)=>h.jsx(Mz,{ref:n,className:dt("text-sm opacity-90",t),...e}));oq.displayName=Mz.displayName;function Cne(){const{toasts:t}=as();return h.jsxs(Nne,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return h.jsxs(nq,{...o,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(iq,{children:n}),r&&h.jsx(oq,{children:r})]}),i,h.jsx(rq,{})]},e)}),h.jsx(tq,{})]})}var Tne=sO[" useId ".trim().toString()]||(()=>{}),One=0;function La(t){const[e,n]=O.useState(Tne());return zi(()=>{n(r=>r??String(One++))},[t]),e?`radix-${e}`:""}const Mne=["top","right","bottom","left"],df=Math.min,Es=Math.max,v1=Math.round,Y0=Math.floor,Bc=t=>({x:t,y:t}),Pne={left:"right",right:"left",bottom:"top",top:"bottom"},Rne={start:"end",end:"start"};function Ak(t,e,n){return Es(t,df(e,n))}function Ku(t,e){return typeof t=="function"?t(e):t}function Gu(t){return t.split("-")[0]}function ng(t){return t.split("-")[1]}function TO(t){return t==="x"?"y":"x"}function OO(t){return t==="y"?"height":"width"}const jne=new Set(["top","bottom"]);function Ic(t){return jne.has(Gu(t))?"y":"x"}function MO(t){return TO(Ic(t))}function Ine(t,e,n){n===void 0&&(n=!1);const r=ng(t),i=MO(t),o=OO(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=y1(a)),[a,y1(a)]}function Lne(t){const e=y1(t);return[kk(t),e,kk(e)]}function kk(t){return t.replace(/start|end/g,e=>Rne[e])}const tI=["left","right"],nI=["right","left"],Dne=["top","bottom"],Fne=["bottom","top"];function Bne(t,e,n){switch(t){case"top":case"bottom":return n?e?nI:tI:e?tI:nI;case"left":case"right":return e?Dne:Fne;default:return[]}}function $ne(t,e,n,r){const i=ng(t);let o=Bne(Gu(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(kk)))),o}function y1(t){return t.replace(/left|right|bottom|top/g,e=>Pne[e])}function zne(t){return{top:0,right:0,bottom:0,left:0,...t}}function aq(t){return typeof t!="number"?zne(t):{top:t,right:t,bottom:t,left:t}}function b1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function rI(t,e,n){let{reference:r,floating:i}=t;const o=Ic(e),a=MO(e),s=OO(a),l=Gu(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ng(e)){case"start":m[a]-=g*(n&&c?-1:1);break;case"end":m[a]+=g*(n&&c?-1:1);break}return m}const qne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=rI(c,r,l),g=r,m={},b=0;for(let v=0;v<s.length;v++){const{name:y,fn:w}=s[v],{x:N,y:k,data:A,reset:T}=await w({x:u,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:t,floating:e}});u=N??u,f=k??f,m={...m,[y]:{...m[y],...A}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(c=T.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:f}=rI(c,g,l)),v=-1)}return{x:u,y:f,placement:g,strategy:i,middlewareData:m}};async function $v(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=Ku(e,t),b=aq(m),y=s[g?f==="floating"?"reference":"floating":f],w=b1(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),N=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),A=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},T=b1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:N,offsetParent:k,strategy:l}):N);return{top:(w.top-T.top+b.top)/A.y,bottom:(T.bottom-w.bottom+b.bottom)/A.y,left:(w.left-T.left+b.left)/A.x,right:(T.right-w.right+b.right)/A.x}}const Une=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=Ku(t,e)||{};if(c==null)return{};const f=aq(u),g={x:n,y:r},m=MO(i),b=OO(m),v=await a.getDimensions(c),y=m==="y",w=y?"top":"left",N=y?"bottom":"right",k=y?"clientHeight":"clientWidth",A=o.reference[b]+o.reference[m]-g[m]-o.floating[b],T=g[m]-o.reference[m],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let L=P?P[k]:0;(!L||!await(a.isElement==null?void 0:a.isElement(P)))&&(L=s.floating[k]||o.floating[b]);const C=A/2-T/2,M=L/2-v[b]/2-1,q=df(f[w],M),D=df(f[N],M),I=q,z=L-v[b]-D,U=L/2-v[b]/2+C,Y=Ak(I,U,z),ne=!l.arrow&&ng(i)!=null&&U!==Y&&o.reference[b]/2-(U<I?q:D)-v[b]/2<0,W=ne?U<I?U-I:U-z:0;return{[m]:g[m]+W,data:{[m]:Y,centerOffset:U-Y-W,...ne&&{alignmentOffset:W}},reset:ne}}}),Hne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...y}=Ku(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=Gu(i),N=Ic(s),k=Gu(s)===s,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=g||(k||!v?[y1(s)]:Lne(s)),P=b!=="none";!g&&P&&T.push(...$ne(s,v,b,A));const L=[s,...T],C=await $v(e,y),M=[];let q=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&M.push(C[w]),f){const U=Ine(i,a,A);M.push(C[U[0]],C[U[1]])}if(q=[...q,{placement:i,overflows:M}],!M.every(U=>U<=0)){var D,I;const U=(((D=o.flip)==null?void 0:D.index)||0)+1,Y=L[U];if(Y&&(!(f==="alignment"?N!==Ic(Y):!1)||q.every(G=>Ic(G.placement)===N?G.overflows[0]>0:!0)))return{data:{index:U,overflows:q},reset:{placement:Y}};let ne=(I=q.filter(W=>W.overflows[0]<=0).sort((W,G)=>W.overflows[1]-G.overflows[1])[0])==null?void 0:I.placement;if(!ne)switch(m){case"bestFit":{var z;const W=(z=q.filter(G=>{if(P){const K=Ic(G.placement);return K===N||K==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(K=>K>0).reduce((K,fe)=>K+fe,0)]).sort((G,K)=>G[1]-K[1])[0])==null?void 0:z[0];W&&(ne=W);break}case"initialPlacement":ne=s;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function iI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function oI(t){return Mne.some(e=>t[e]>=0)}const Wne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ku(t,e);switch(r){case"referenceHidden":{const o=await $v(e,{...i,elementContext:"reference"}),a=iI(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:oI(a)}}}case"escaped":{const o=await $v(e,{...i,altBoundary:!0}),a=iI(o,n.floating);return{data:{escapedOffsets:a,escaped:oI(a)}}}default:return{}}}}},sq=new Set(["left","top"]);async function Vne(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Gu(n),s=ng(n),l=Ic(n)==="y",c=sq.has(a)?-1:1,u=o&&l?-1:1,f=Ku(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof b=="number"&&(m=s==="end"?b*-1:b),l?{x:m*u,y:g*c}:{x:g*c,y:m*u}}const Kne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await Vne(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Gne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:y=>{let{x:w,y:N}=y;return{x:w,y:N}}},...l}=Ku(t,e),c={x:n,y:r},u=await $v(e,l),f=Ic(Gu(i)),g=TO(f);let m=c[g],b=c[f];if(o){const y=g==="y"?"top":"left",w=g==="y"?"bottom":"right",N=m+u[y],k=m-u[w];m=Ak(N,m,k)}if(a){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",N=b+u[y],k=b-u[w];b=Ak(N,b,k)}const v=s.fn({...e,[g]:m,[f]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[g]:o,[f]:a}}}}}},Yne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Ku(t,e),u={x:n,y:r},f=Ic(i),g=TO(f);let m=u[g],b=u[f];const v=Ku(s,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const k=g==="y"?"height":"width",A=o.reference[g]-o.floating[k]+y.mainAxis,T=o.reference[g]+o.reference[k]-y.mainAxis;m<A?m=A:m>T&&(m=T)}if(c){var w,N;const k=g==="y"?"width":"height",A=sq.has(Gu(i)),T=o.reference[f]-o.floating[k]+(A&&((w=a.offset)==null?void 0:w[f])||0)+(A?0:y.crossAxis),P=o.reference[f]+o.reference[k]+(A?0:((N=a.offset)==null?void 0:N[f])||0)-(A?y.crossAxis:0);b<T?b=T:b>P&&(b=P)}return{[g]:m,[f]:b}}}},Xne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=Ku(t,e),u=await $v(e,c),f=Gu(i),g=ng(i),m=Ic(i)==="y",{width:b,height:v}=o.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=g===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(w=f,y=g==="end"?"top":"bottom");const N=v-u.top-u.bottom,k=b-u.left-u.right,A=df(v-u[y],N),T=df(b-u[w],k),P=!e.middlewareData.shift;let L=A,C=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(L=N),P&&!g){const q=Es(u.left,0),D=Es(u.right,0),I=Es(u.top,0),z=Es(u.bottom,0);m?C=b-2*(q!==0||D!==0?q+D:Es(u.left,u.right)):L=v-2*(I!==0||z!==0?I+z:Es(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:L});const M=await a.getDimensions(s.floating);return b!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function ww(){return typeof window<"u"}function rg(t){return lq(t)?(t.nodeName||"").toLowerCase():"#document"}function Os(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yc(t){var e;return(e=(lq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lq(t){return ww()?t instanceof Node||t instanceof Os(t).Node:!1}function tc(t){return ww()?t instanceof Element||t instanceof Os(t).Element:!1}function Uc(t){return ww()?t instanceof HTMLElement||t instanceof Os(t).HTMLElement:!1}function aI(t){return!ww()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Os(t).ShadowRoot}const Qne=new Set(["inline","contents"]);function Wy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=nc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Qne.has(i)}const Jne=new Set(["table","td","th"]);function Zne(t){return Jne.has(rg(t))}const ere=[":popover-open",":modal"];function Sw(t){return ere.some(e=>{try{return t.matches(e)}catch{return!1}})}const tre=["transform","translate","scale","rotate","perspective"],nre=["transform","translate","scale","rotate","perspective","filter"],rre=["paint","layout","strict","content"];function PO(t){const e=RO(),n=tc(t)?nc(t):t;return tre.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||nre.some(r=>(n.willChange||"").includes(r))||rre.some(r=>(n.contain||"").includes(r))}function ire(t){let e=ff(t);for(;Uc(e)&&!xm(e);){if(PO(e))return e;if(Sw(e))return null;e=ff(e)}return null}function RO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ore=new Set(["html","body","#document"]);function xm(t){return ore.has(rg(t))}function nc(t){return Os(t).getComputedStyle(t)}function _w(t){return tc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ff(t){if(rg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||aI(t)&&t.host||Yc(t);return aI(e)?e.host:e}function cq(t){const e=ff(t);return xm(e)?t.ownerDocument?t.ownerDocument.body:t.body:Uc(e)&&Wy(e)?e:cq(e)}function zv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=cq(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Os(i);if(o){const s=Ck(a);return e.concat(a,a.visualViewport||[],Wy(i)?i:[],s&&n?zv(s):[])}return e.concat(i,zv(i,[],n))}function Ck(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function uq(t){const e=nc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Uc(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=v1(n)!==o||v1(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function jO(t){return tc(t)?t:t.contextElement}function im(t){const e=jO(t);if(!Uc(e))return Bc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=uq(e);let a=(o?v1(n.width):n.width)/r,s=(o?v1(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const are=Bc(0);function dq(t){const e=Os(t);return!RO()||!e.visualViewport?are:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Os(t)?!1:e}function Mh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=jO(t);let a=Bc(1);e&&(r?tc(r)&&(a=im(r)):a=im(t));const s=sre(o,n,r)?dq(o):Bc(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const g=Os(o),m=r&&tc(r)?Os(r):r;let b=g,v=Ck(b);for(;v&&r&&m!==b;){const y=im(v),w=v.getBoundingClientRect(),N=nc(v),k=w.left+(v.clientLeft+parseFloat(N.paddingLeft))*y.x,A=w.top+(v.clientTop+parseFloat(N.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=k,c+=A,b=Os(v),v=Ck(b)}}return b1({width:u,height:f,x:l,y:c})}function Ew(t,e){const n=_w(t).scrollLeft;return e?e.left+n:Mh(Yc(t)).left+n}function fq(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ew(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function lre(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=Yc(r),s=e?Sw(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Bc(1);const u=Bc(0),f=Uc(r);if((f||!f&&!o)&&((rg(r)!=="body"||Wy(a))&&(l=_w(r)),Uc(r))){const m=Mh(r);c=im(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const g=a&&!f&&!o?fq(a,l):Bc(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+g.x,y:n.y*c.y-l.scrollTop*c.y+u.y+g.y}}function cre(t){return Array.from(t.getClientRects())}function ure(t){const e=Yc(t),n=_w(t),r=t.ownerDocument.body,i=Es(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Es(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ew(t);const s=-n.scrollTop;return nc(r).direction==="rtl"&&(a+=Es(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const sI=25;function dre(t,e){const n=Os(t),r=Yc(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=RO();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=Ew(r);if(c<=0){const u=r.ownerDocument,f=u.body,g=getComputedStyle(f),m=u.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-f.clientWidth-m);b<=sI&&(o-=b)}else c<=sI&&(o+=c);return{width:o,height:a,x:s,y:l}}const fre=new Set(["absolute","fixed"]);function hre(t,e){const n=Mh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Uc(t)?im(t):Bc(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function lI(t,e,n){let r;if(e==="viewport")r=dre(t,n);else if(e==="document")r=ure(Yc(t));else if(tc(e))r=hre(e,n);else{const i=dq(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return b1(r)}function hq(t,e){const n=ff(t);return n===e||!tc(n)||xm(n)?!1:nc(n).position==="fixed"||hq(n,e)}function pre(t,e){const n=e.get(t);if(n)return n;let r=zv(t,[],!1).filter(s=>tc(s)&&rg(s)!=="body"),i=null;const o=nc(t).position==="fixed";let a=o?ff(t):t;for(;tc(a)&&!xm(a);){const s=nc(a),l=PO(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&fre.has(i.position)||Wy(a)&&!l&&hq(t,a))?r=r.filter(u=>u!==a):i=s,a=ff(a)}return e.set(t,r),r}function mre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Sw(e)?[]:pre(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const f=lI(e,u,i);return c.top=Es(f.top,c.top),c.right=df(f.right,c.right),c.bottom=df(f.bottom,c.bottom),c.left=Es(f.left,c.left),c},lI(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gre(t){const{width:e,height:n}=uq(t);return{width:e,height:n}}function vre(t,e,n){const r=Uc(e),i=Yc(e),o=n==="fixed",a=Mh(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=Bc(0);function c(){l.x=Ew(i)}if(r||!r&&!o)if((rg(e)!=="body"||Wy(i))&&(s=_w(e)),r){const m=Mh(e,!0,o,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?fq(i,s):Bc(0),f=a.left+s.scrollLeft-l.x-u.x,g=a.top+s.scrollTop-l.y-u.y;return{x:f,y:g,width:a.width,height:a.height}}function KS(t){return nc(t).position==="static"}function cI(t,e){if(!Uc(t)||nc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yc(t)===n&&(n=n.ownerDocument.body),n}function pq(t,e){const n=Os(t);if(Sw(t))return n;if(!Uc(t)){let i=ff(t);for(;i&&!xm(i);){if(tc(i)&&!KS(i))return i;i=ff(i)}return n}let r=cI(t,e);for(;r&&Zne(r)&&KS(r);)r=cI(r,e);return r&&xm(r)&&KS(r)&&!PO(r)?n:r||ire(t)||n}const yre=async function(t){const e=this.getOffsetParent||pq,n=this.getDimensions,r=await n(t.floating);return{reference:vre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bre(t){return nc(t).direction==="rtl"}const xre={convertOffsetParentRelativeRectToViewportRelativeRect:lre,getDocumentElement:Yc,getClippingRect:mre,getOffsetParent:pq,getElementRects:yre,getClientRects:cre,getDimensions:gre,getScale:im,isElement:tc,isRTL:bre};function mq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wre(t,e){let n=null,r;const i=Yc(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:g,height:m}=c;if(s||e(),!g||!m)return;const b=Y0(f),v=Y0(i.clientWidth-(u+g)),y=Y0(i.clientHeight-(f+m)),w=Y0(u),k={rootMargin:-b+"px "+-v+"px "+-y+"px "+-w+"px",threshold:Es(0,df(1,l))||1};let A=!0;function T(P){const L=P[0].intersectionRatio;if(L!==l){if(!A)return a();L?a(!1,L):r=setTimeout(()=>{a(!1,1e-7)},1e3)}L===1&&!mq(c,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(T,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,k)}n.observe(t)}return a(!0),o}function Sre(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=jO(t),u=i||o?[...c?zv(c):[],...zv(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=c&&s?wre(c,n):null;let g=-1,m=null;a&&(m=new ResizeObserver(w=>{let[N]=w;N&&N.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let b,v=l?Mh(t):null;l&&y();function y(){const w=Mh(t);v&&!mq(v,w)&&n(),v=w,b=requestAnimationFrame(y)}return n(),()=>{var w;u.forEach(N=>{i&&N.removeEventListener("scroll",n),o&&N.removeEventListener("resize",n)}),f?.(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const _re=Kne,Ere=Gne,Nre=Hne,Are=Xne,kre=Wne,uI=Une,Cre=Yne,Tre=(t,e,n)=>{const r=new Map,i={platform:xre,...n},o={...i.platform,_c:r};return qne(t,e,{...i,platform:o})};var Ore=typeof document<"u",Mre=function(){},Vb=Ore?O.useLayoutEffect:Mre;function x1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!x1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!x1(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function gq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dI(t,e){const n=gq(t);return Math.round(e*n)/n}function GS(t){const e=O.useRef(t);return Vb(()=>{e.current=t}),e}function Pre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,f]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=O.useState(r);x1(g,r)||m(r);const[b,v]=O.useState(null),[y,w]=O.useState(null),N=O.useCallback(G=>{G!==P.current&&(P.current=G,v(G))},[]),k=O.useCallback(G=>{G!==L.current&&(L.current=G,w(G))},[]),A=o||b,T=a||y,P=O.useRef(null),L=O.useRef(null),C=O.useRef(u),M=l!=null,q=GS(l),D=GS(i),I=GS(c),z=O.useCallback(()=>{if(!P.current||!L.current)return;const G={placement:e,strategy:n,middleware:g};D.current&&(G.platform=D.current),Tre(P.current,L.current,G).then(K=>{const fe={...K,isPositioned:I.current!==!1};U.current&&!x1(C.current,fe)&&(C.current=fe,Jm.flushSync(()=>{f(fe)}))})},[g,e,n,D,I]);Vb(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[c]);const U=O.useRef(!1);Vb(()=>(U.current=!0,()=>{U.current=!1}),[]),Vb(()=>{if(A&&(P.current=A),T&&(L.current=T),A&&T){if(q.current)return q.current(A,T,z);z()}},[A,T,z,q,M]);const Y=O.useMemo(()=>({reference:P,floating:L,setReference:N,setFloating:k}),[N,k]),ne=O.useMemo(()=>({reference:A,floating:T}),[A,T]),W=O.useMemo(()=>{const G={position:n,left:0,top:0};if(!ne.floating)return G;const K=dI(ne.floating,u.x),fe=dI(ne.floating,u.y);return s?{...G,transform:"translate("+K+"px, "+fe+"px)",...gq(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:fe}},[n,s,ne.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:z,refs:Y,elements:ne,floatingStyles:W}),[u,z,Y,ne,W])}const Rre=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?uI({element:r.current,padding:i}).fn(n):{}:r?uI({element:r,padding:i}).fn(n):{}}}},jre=(t,e)=>({..._re(t),options:[t,e]}),Ire=(t,e)=>({...Ere(t),options:[t,e]}),Lre=(t,e)=>({...Cre(t),options:[t,e]}),Dre=(t,e)=>({...Nre(t),options:[t,e]}),Fre=(t,e)=>({...Are(t),options:[t,e]}),Bre=(t,e)=>({...kre(t),options:[t,e]}),$re=(t,e)=>({...Rre(t),options:[t,e]});var zre="Arrow",vq=O.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return h.jsx(Ht.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});vq.displayName=zre;var qre=vq;function IO(t){const[e,n]=O.useState(void 0);return zi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var LO="Popper",[yq,Nw]=Ps(LO),[Ure,bq]=yq(LO),xq=t=>{const{__scopePopper:e,children:n}=t,[r,i]=O.useState(null);return h.jsx(Ure,{scope:e,anchor:r,onAnchorChange:i,children:n})};xq.displayName=LO;var wq="PopperAnchor",Sq=O.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=bq(wq,n),a=O.useRef(null),s=Wn(e,a),l=O.useRef(null);return O.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:h.jsx(Ht.div,{...i,ref:s})});Sq.displayName=wq;var DO="PopperContent",[Hre,Wre]=yq(DO),_q=O.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:b,...v}=t,y=bq(DO,n),[w,N]=O.useState(null),k=Wn(e,he=>N(he)),[A,T]=O.useState(null),P=IO(A),L=P?.width??0,C=P?.height??0,M=r+(o!=="center"?"-"+o:""),q=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],I=D.length>0,z={padding:q,boundary:D.filter(Kre),altBoundary:I},{refs:U,floatingStyles:Y,placement:ne,isPositioned:W,middlewareData:G}=Pre({strategy:"fixed",placement:M,whileElementsMounted:(...he)=>Sre(...he,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[jre({mainAxis:i+C,alignmentAxis:a}),l&&Ire({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Lre():void 0,...z}),l&&Dre({...z}),Fre({...z,apply:({elements:he,rects:me,availableWidth:le,availableHeight:be})=>{const{width:Se,height:xe}=me.reference,Le=he.floating.style;Le.setProperty("--radix-popper-available-width",`${le}px`),Le.setProperty("--radix-popper-available-height",`${be}px`),Le.setProperty("--radix-popper-anchor-width",`${Se}px`),Le.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),A&&$re({element:A,padding:s}),Gre({arrowWidth:L,arrowHeight:C}),g&&Bre({strategy:"referenceHidden",...z})]}),[K,fe]=Aq(ne),X=Xi(b);zi(()=>{W&&X?.()},[W,X]);const F=G.arrow?.x,V=G.arrow?.y,ee=G.arrow?.centerOffset!==0,[ie,ue]=O.useState();return zi(()=>{w&&ue(window.getComputedStyle(w).zIndex)},[w]),h.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:W?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(Hre,{scope:n,placedSide:K,onArrowChange:T,arrowX:F,arrowY:V,shouldHideArrow:ee,children:h.jsx(Ht.div,{"data-side":K,"data-align":fe,...v,ref:k,style:{...v.style,animation:W?void 0:"none"}})})})});_q.displayName=DO;var Eq="PopperArrow",Vre={top:"bottom",right:"left",bottom:"top",left:"right"},Nq=O.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=Wre(Eq,r),a=Vre[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(qre,{...i,ref:n,style:{...i.style,display:"block"}})})});Nq.displayName=Eq;function Kre(t){return t!==null}var Gre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=Aq(n),f={start:"0%",center:"50%",end:"100%"}[u],g=(i.arrow?.x??0)+s/2,m=(i.arrow?.y??0)+l/2;let b="",v="";return c==="bottom"?(b=a?f:`${g}px`,v=`${-l}px`):c==="top"?(b=a?f:`${g}px`,v=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,v=a?f:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,v=a?f:`${m}px`),{data:{x:b,y:v}}}});function Aq(t){const[e,n="center"]=t.split("-");return[e,n]}var kq=xq,Cq=Sq,Tq=_q,Oq=Nq,[Aw]=Ps("Tooltip",[Nw]),kw=Nw(),Mq="TooltipProvider",Yre=700,Tk="tooltip.open",[Xre,FO]=Aw(Mq),Pq=t=>{const{__scopeTooltip:e,delayDuration:n=Yre,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,a=O.useRef(!0),s=O.useRef(!1),l=O.useRef(0);return O.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(Xre,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:O.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:O.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};Pq.displayName=Mq;var qv="Tooltip",[Qre,Cw]=Aw(qv),Rq=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=t,l=FO(qv,t.__scopeTooltip),c=kw(e),[u,f]=O.useState(null),g=La(),m=O.useRef(0),b=a??l.disableHoverableContent,v=s??l.delayDuration,y=O.useRef(!1),[w,N]=Vu({prop:r,defaultProp:i??!1,onChange:L=>{L?(l.onOpen(),document.dispatchEvent(new CustomEvent(Tk))):l.onClose(),o?.(L)},caller:qv}),k=O.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),A=O.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y.current=!1,N(!0)},[N]),T=O.useCallback(()=>{window.clearTimeout(m.current),m.current=0,N(!1)},[N]),P=O.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,N(!0),m.current=0},v)},[v,N]);return O.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),h.jsx(kq,{...c,children:h.jsx(Qre,{scope:e,contentId:g,open:w,stateAttribute:k,trigger:u,onTriggerChange:f,onTriggerEnter:O.useCallback(()=>{l.isOpenDelayedRef.current?P():A()},[l.isOpenDelayedRef,P,A]),onTriggerLeave:O.useCallback(()=>{b?T():(window.clearTimeout(m.current),m.current=0)},[T,b]),onOpen:A,onClose:T,disableHoverableContent:b,children:n})})};Rq.displayName=qv;var Ok="TooltipTrigger",jq=O.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cw(Ok,n),o=FO(Ok,n),a=kw(n),s=O.useRef(null),l=Wn(e,s,i.onTriggerChange),c=O.useRef(!1),u=O.useRef(!1),f=O.useCallback(()=>c.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(Cq,{asChild:!0,...a,children:h.jsx(Ht.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Kt(t.onPointerMove,g=>{g.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Kt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Kt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Kt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Kt(t.onBlur,i.onClose),onClick:Kt(t.onClick,i.onClose)})})});jq.displayName=Ok;var Jre="TooltipPortal",[M3e,Zre]=Aw(Jre,{forceMount:void 0}),wm="TooltipContent",Iq=O.forwardRef((t,e)=>{const n=Zre(wm,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=Cw(wm,t.__scopeTooltip);return h.jsx(pl,{present:r||a.open,children:a.disableHoverableContent?h.jsx(Lq,{side:i,...o,ref:e}):h.jsx(eie,{side:i,...o,ref:e})})}),eie=O.forwardRef((t,e)=>{const n=Cw(wm,t.__scopeTooltip),r=FO(wm,t.__scopeTooltip),i=O.useRef(null),o=Wn(e,i),[a,s]=O.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,g=O.useCallback(()=>{s(null),f(!1)},[f]),m=O.useCallback((b,v)=>{const y=b.currentTarget,w={x:b.clientX,y:b.clientY},N=oie(w,y.getBoundingClientRect()),k=aie(w,N),A=sie(v.getBoundingClientRect()),T=cie([...k,...A]);s(T),f(!0)},[f]);return O.useEffect(()=>()=>g(),[g]),O.useEffect(()=>{if(l&&u){const b=y=>m(y,u),v=y=>m(y,l);return l.addEventListener("pointerleave",b),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",v)}}},[l,u,m,g]),O.useEffect(()=>{if(a){const b=v=>{const y=v.target,w={x:v.clientX,y:v.clientY},N=l?.contains(y)||u?.contains(y),k=!lie(w,a);N?g():k&&(g(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,u,a,c,g]),h.jsx(Lq,{...t,ref:o})}),[tie,nie]=Aw(qv,{isInside:!1}),rie=cz("TooltipContent"),Lq=O.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=Cw(wm,n),c=kw(n),{onClose:u}=l;return O.useEffect(()=>(document.addEventListener(Tk,u),()=>document.removeEventListener(Tk,u)),[u]),O.useEffect(()=>{if(l.trigger){const f=g=>{g.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),h.jsx(Uy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:h.jsxs(Tq,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(rie,{children:r}),h.jsx(tie,{scope:n,isInside:!0,children:h.jsx(Dee,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Iq.displayName=wm;var Dq="TooltipArrow",iie=O.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=kw(n);return nie(Dq,n).isInside?null:h.jsx(Oq,{...i,...r,ref:e})});iie.displayName=Dq;function oie(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function aie(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function sie(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function lie(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],l=e[a],c=s.x,u=s.y,f=l.x,g=l.y;u>r!=g>r&&n<(f-c)*(r-u)/(g-u)+c&&(i=!i)}return i}function cie(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uie(e)}function uie(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var die=Pq,fie=Rq,hie=jq,Fq=Iq;const Bq=die,$q=fie,zq=hie,BO=O.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(Fq,{ref:r,sideOffset:e,className:dt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));BO.displayName=Fq.displayName;const pie={theme:"light",setTheme:()=>null,toggleTheme:()=>null},qq=O.createContext(pie);function mie({children:t,defaultTheme:e="light",...n}){const[r,i]=O.useState(()=>localStorage.getItem("theme")||e);O.useEffect(()=>{const s=document.documentElement;s.classList.remove("light","dark"),s.classList.add(r),localStorage.setItem("theme",r)},[r]);const a={theme:r,setTheme:i,toggleTheme:()=>{i(r==="light"?"dark":"light")}};return h.jsx(qq.Provider,{...n,value:a,children:t})}const gie=()=>{const t=O.useContext(qq);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Uq=O.createContext(void 0);function vie({children:t}){const e=gO(),{data:n,isLoading:r}=$n({queryKey:["/api/auth/profile"],queryFn:az({on401:"returnNull"}),retry:!1,enabled:!0}),i=kn({mutationFn:async({username:u,password:f})=>await vn("POST","/api/auth/login",{username:u,password:f}),onSuccess:u=>{localStorage.setItem("token",u.token),e.setQueryData(["/api/auth/profile"],u.user)}}),o=kn({mutationFn:async({username:u,email:f,password:g,role:m})=>await vn("POST","/api/auth/register",{username:u,email:f,password:g,role:m}),onSuccess:u=>{localStorage.setItem("token",u.token),e.setQueryData(["/api/auth/profile"],u.user)}}),a=kn({mutationFn:async()=>{await vn("POST","/api/auth/logout",{})},onSuccess:()=>{localStorage.removeItem("token"),e.setQueryData(["/api/auth/profile"],null),e.clear()}}),s=async(u,f)=>{await i.mutateAsync({username:u,password:f})},l=async(u,f,g,m)=>{await o.mutateAsync({username:u,email:f,password:g,role:m})},c=async()=>{await a.mutateAsync()};return h.jsx(Uq.Provider,{value:{user:n??null,isLoading:r,login:s,register:l,logout:c},children:t})}function ig(){const t=O.useContext(Uq);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Hc=Object.create(null);Hc.open="0";Hc.close="1";Hc.ping="2";Hc.pong="3";Hc.message="4";Hc.upgrade="5";Hc.noop="6";const Kb=Object.create(null);Object.keys(Hc).forEach(t=>{Kb[Hc[t]]=t});const Mk={type:"error",data:"parser error"},Hq=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wq=typeof ArrayBuffer=="function",Vq=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,$O=({type:t,data:e},n,r)=>Hq&&e instanceof Blob?n?r(e):fI(e,r):Wq&&(e instanceof ArrayBuffer||Vq(e))?n?r(e):fI(new Blob([e]),r):r(Hc[t]+(e||"")),fI=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function hI(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let YS;function yie(t,e){if(Hq&&t.data instanceof Blob)return t.data.arrayBuffer().then(hI).then(e);if(Wq&&(t.data instanceof ArrayBuffer||Vq(t.data)))return e(hI(t.data));$O(t,!1,n=>{YS||(YS=new TextEncoder),e(YS.encode(n))})}const pI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<pI.length;t++)cv[pI.charCodeAt(t)]=t;const bie=t=>{let e=t.length*.75,n=t.length,r,i=0,o,a,s,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<n;r+=4)o=cv[t.charCodeAt(r)],a=cv[t.charCodeAt(r+1)],s=cv[t.charCodeAt(r+2)],l=cv[t.charCodeAt(r+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|l&63;return c},xie=typeof ArrayBuffer=="function",zO=(t,e)=>{if(typeof t!="string")return{type:"message",data:Kq(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:wie(t.substring(1),e)}:Kb[n]?t.length>1?{type:Kb[n],data:t.substring(1)}:{type:Kb[n]}:Mk},wie=(t,e)=>{if(xie){const n=bie(t);return Kq(n,e)}else return{base64:!0,data:t}},Kq=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Gq="",Sie=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((o,a)=>{$O(o,!1,s=>{r[a]=s,++i===n&&e(r.join(Gq))})})},_ie=(t,e)=>{const n=t.split(Gq),r=[];for(let i=0;i<n.length;i++){const o=zO(n[i],e);if(r.push(o),o.type==="error")break}return r};function Eie(){return new TransformStream({transform(t,e){yie(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let XS;function X0(t){return t.reduce((e,n)=>e+n.length,0)}function Q0(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Nie(t,e){XS||(XS=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(r===0){if(X0(n)<1)break;const l=Q0(n,1);o=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(X0(n)<2)break;const l=Q0(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(X0(n)<8)break;const l=Q0(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(Mk);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(X0(n)<i)break;const l=Q0(n,i);s.enqueue(zO(o?l:XS.decode(l),e)),r=0}if(i===0||i>t){s.enqueue(Mk);break}}}})}const Yq=4;function Zi(t){if(t)return Aie(t)}function Aie(t){for(var e in Zi.prototype)t[e]=Zi.prototype[e];return t}Zi.prototype.on=Zi.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Zi.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Zi.prototype.off=Zi.prototype.removeListener=Zi.prototype.removeAllListeners=Zi.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Zi.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Zi.prototype.emitReserved=Zi.prototype.emit;Zi.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Zi.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Tw=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),il=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),kie="arraybuffer";function Xq(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Cie=il.setTimeout,Tie=il.clearTimeout;function Ow(t,e){e.useNativeTimers?(t.setTimeoutFn=Cie.bind(il),t.clearTimeoutFn=Tie.bind(il)):(t.setTimeoutFn=il.setTimeout.bind(il),t.clearTimeoutFn=il.clearTimeout.bind(il))}const Oie=1.33;function Mie(t){return typeof t=="string"?Pie(t):Math.ceil((t.byteLength||t.size)*Oie)}function Pie(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Qq(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Rie(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function jie(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class Iie extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class qO extends Zi{constructor(e){super(),this.writable=!1,Ow(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Iie(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=zO(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Rie(e);return n.length?"?"+n:""}}class Lie extends qO{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};_ie(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Sie(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Qq()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let Jq=!1;try{Jq=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Die=Jq;function Fie(){}class Bie extends Lie{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class $c extends Zi{constructor(e,n,r){super(),this.createRequest=e,Ow(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Xq(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=$c.requestsCount++,$c.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Fie,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $c.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$c.requestsCount=0;$c.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",mI);else if(typeof addEventListener=="function"){const t="onpagehide"in il?"pagehide":"unload";addEventListener(t,mI,!1)}}function mI(){for(let t in $c.requests)$c.requests.hasOwnProperty(t)&&$c.requests[t].abort()}const $ie=(function(){const t=Zq({xdomain:!1});return t&&t.responseType!==null})();class zie extends Bie{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=$ie&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $c(Zq,this.uri(),e)}}function Zq(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Die))return new XMLHttpRequest}catch{}if(!e)try{return new il[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const e9=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class qie extends qO{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=e9?{}:Xq(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;$O(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Tw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Qq()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const QS=il.WebSocket||il.MozWebSocket;let Uie=class extends qie{createSocket(e,n,r){return e9?new QS(e,n,r):n?new QS(e,n):new QS(e)}doWrite(e,n){this.ws.send(n)}};class Hie extends qO{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Nie(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Eie();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:s,value:l})=>{s||(this.onPacket(l),o())}).catch(s=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Tw(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Wie={websocket:Uie,webtransport:Hie,polling:zie},Vie=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Kie=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pk(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Vie.exec(t||""),o={},a=14;for(;a--;)o[Kie[a]]=i[a]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Gie(o,o.path),o.queryKey=Yie(o,o.query),o}function Gie(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Yie(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const Rk=typeof addEventListener=="function"&&typeof removeEventListener=="function",Gb=[];Rk&&addEventListener("offline",()=>{Gb.forEach(t=>t())},!1);class rf extends Zi{constructor(e,n){if(super(),this.binaryType=kie,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Pk(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Pk(n.host).host);Ow(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jie(this.opts.query)),Rk&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gb.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Yq,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&rf.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",rf.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Mie(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Tw(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:e,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(rf.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Rk&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Gb.indexOf(this._offlineEventListener);r!==-1&&Gb.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}rf.protocol=Yq;class Xie extends rf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;rf.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;rf.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const a=f=>{const g=new Error("probe error: "+f);g.transport=n.name,o(),this.emitReserved("upgradeError",g)};function s(){a("transport closed")}function l(){a("socket closed")}function c(f){n&&f.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",s),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",a),n.once("close",s),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Qie=class extends Xie{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Wie[i]).filter(i=>!!i)),super(e,r)}};function Jie(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Pk(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const Zie=typeof ArrayBuffer=="function",eoe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,t9=Object.prototype.toString,toe=typeof Blob=="function"||typeof Blob<"u"&&t9.call(Blob)==="[object BlobConstructor]",noe=typeof File=="function"||typeof File<"u"&&t9.call(File)==="[object FileConstructor]";function UO(t){return Zie&&(t instanceof ArrayBuffer||eoe(t))||toe&&t instanceof Blob||noe&&t instanceof File}function Yb(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Yb(t[n]))return!0;return!1}if(UO(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Yb(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Yb(t[n]))return!0;return!1}function roe(t){const e=[],n=t.data,r=t;return r.data=jk(n,e),r.attachments=e.length,{packet:r,buffers:e}}function jk(t,e){if(!t)return t;if(UO(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=jk(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=jk(t[r],e));return n}return t}function ioe(t,e){return t.data=Ik(t.data,e),delete t.attachments,t}function Ik(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ik(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ik(t[n],e));return t}const ooe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],aoe=5;var Yn;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Yn||(Yn={}));class soe{constructor(e){this.replacer=e}encode(e){return(e.type===Yn.EVENT||e.type===Yn.ACK)&&Yb(e)?this.encodeAsBinary({type:e.type===Yn.EVENT?Yn.BINARY_EVENT:Yn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Yn.BINARY_EVENT||e.type===Yn.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=roe(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function gI(t){return Object.prototype.toString.call(t)==="[object Object]"}class HO extends Zi{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Yn.BINARY_EVENT;r||n.type===Yn.BINARY_ACK?(n.type=r?Yn.EVENT:Yn.ACK,this.reconstructor=new loe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(UO(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Yn[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Yn.BINARY_EVENT||r.type===Yn.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(o,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(HO.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Yn.CONNECT:return gI(n);case Yn.DISCONNECT:return n===void 0;case Yn.CONNECT_ERROR:return typeof n=="string"||gI(n);case Yn.EVENT:case Yn.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ooe.indexOf(n[0])===-1);case Yn.ACK:case Yn.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class loe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=ioe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const coe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:HO,Encoder:soe,get PacketType(){return Yn},protocol:aoe},Symbol.toStringTag,{value:"Module"}));function Ul(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const uoe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class n9 extends Zi{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ul(e,"open",this.onopen.bind(this)),Ul(e,"packet",this.onpacket.bind(this)),Ul(e,"error",this.onerror.bind(this)),Ul(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(uoe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Yn.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,f=n.pop();this._registerAckCallback(u,f),a.id=u}const s=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!s||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i),a=(...s)=>{this.io.clearTimeoutFn(o),n.apply(this,s)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const o=(a,s)=>a?i(a):r(s);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Yn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Yn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Yn.EVENT:case Yn.BINARY_EVENT:this.onevent(e);break;case Yn.ACK:case Yn.BINARY_ACK:this.onack(e);break;case Yn.DISCONNECT:this.ondisconnect();break;case Yn.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Yn.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Yn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function og(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}og.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};og.prototype.reset=function(){this.attempts=0};og.prototype.setMin=function(t){this.ms=t};og.prototype.setMax=function(t){this.max=t};og.prototype.setJitter=function(t){this.jitter=t};class Lk extends Zi{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ow(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new og({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||coe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Qie(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ul(n,"open",function(){r.onopen(),e&&e()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),e?e(s):this.maybeReconnectOnOpen()},a=Ul(n,"error",o);if(this._timeout!==!1){const s=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},s);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ul(e,"ping",this.onping.bind(this)),Ul(e,"data",this.ondata.bind(this)),Ul(e,"error",this.onerror.bind(this)),Ul(e,"close",this.onclose.bind(this)),Ul(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Tw(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new n9(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Kg={};function Xb(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Jie(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Kg[i]&&o in Kg[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return s?l=new Lk(r,e):(Kg[i]||(Kg[i]=new Lk(r,e)),l=Kg[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Xb,{Manager:Lk,Socket:n9,io:Xb,connect:Xb});const r9=O.createContext({socket:null,connected:!1,onlineUsers:0}),i9=()=>O.useContext(r9);function doe({children:t}){const[e,n]=O.useState(null),[r,i]=O.useState(!1),[o,a]=O.useState(0),{toast:s}=as(),[l,c]=O.useState(localStorage.getItem("token"));return O.useEffect(()=>{const u=()=>{const g=localStorage.getItem("token");c(g)};window.addEventListener("storage",u);const f=setInterval(u,1e3);return()=>{window.removeEventListener("storage",u),clearInterval(f)}},[]),O.useEffect(()=>{if(!l){e&&(e.close(),n(null),i(!1));return}const u=Xb(window.location.origin,{auth:{token:l}});return u.on("connect",()=>{console.log("WebSocket conectado"),i(!0)}),u.on("disconnect",()=>{console.log("WebSocket desconectado"),i(!1)}),u.on("notification",f=>{console.log("Notificacin recibida:",f),s({title:f.title,description:f.message,variant:f.action==="deleted"?"destructive":"default"})}),u.on("user:connected",()=>{a(f=>f+1)}),u.on("user:disconnected",()=>{a(f=>Math.max(0,f-1))}),u.on("connect_error",f=>{console.error("Error de conexin WebSocket:",f),i(!1)}),n(u),()=>{u.close()}},[l,s]),h.jsx(r9.Provider,{value:{socket:e,connected:r,onlineUsers:o},children:t})}const JS=768;function foe(){const[t,e]=O.useState(void 0);return O.useEffect(()=>{const n=window.matchMedia(`(max-width: ${JS-1}px)`),r=()=>{e(window.innerWidth<JS)};return n.addEventListener("change",r),e(window.innerWidth<JS),()=>n.removeEventListener("change",r)},[]),!!t}const WO=Zm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ve=O.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?vO:"button";return h.jsx(a,{className:dt(WO({variant:e,size:n,className:t})),ref:o,...i})});Ve.displayName="Button";const zt=O.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:dt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));zt.displayName="Input";var hoe="Separator",vI="horizontal",poe=["horizontal","vertical"],o9=O.forwardRef((t,e)=>{const{decorative:n,orientation:r=vI,...i}=t,o=moe(r)?r:vI,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return h.jsx(Ht.div,{"data-orientation":o,...s,...i,ref:e})});o9.displayName=hoe;function moe(t){return poe.includes(t)}var a9=o9;const Pu=O.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>h.jsx(a9,{ref:i,decorative:n,orientation:e,className:dt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Pu.displayName=a9.displayName;var ZS="focusScope.autoFocusOnMount",e_="focusScope.autoFocusOnUnmount",yI={bubbles:!1,cancelable:!0},goe="FocusScope",VO=O.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=O.useState(null),c=Xi(i),u=Xi(o),f=O.useRef(null),g=Wn(e,v=>l(v)),m=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let v=function(k){if(m.paused||!s)return;const A=k.target;s.contains(A)?f.current=A:$d(f.current,{select:!0})},y=function(k){if(m.paused||!s)return;const A=k.relatedTarget;A!==null&&(s.contains(A)||$d(f.current,{select:!0}))},w=function(k){if(document.activeElement===document.body)for(const T of k)T.removedNodes.length>0&&$d(s)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const N=new MutationObserver(w);return s&&N.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),N.disconnect()}}},[r,s,m.paused]),O.useEffect(()=>{if(s){xI.add(m);const v=document.activeElement;if(!s.contains(v)){const w=new CustomEvent(ZS,yI);s.addEventListener(ZS,c),s.dispatchEvent(w),w.defaultPrevented||(voe(Soe(s9(s)),{select:!0}),document.activeElement===v&&$d(s))}return()=>{s.removeEventListener(ZS,c),setTimeout(()=>{const w=new CustomEvent(e_,yI);s.addEventListener(e_,u),s.dispatchEvent(w),w.defaultPrevented||$d(v??document.body,{select:!0}),s.removeEventListener(e_,u),xI.remove(m)},0)}}},[s,c,u,m]);const b=O.useCallback(v=>{if(!n&&!r||m.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(y&&w){const N=v.currentTarget,[k,A]=yoe(N);k&&A?!v.shiftKey&&w===A?(v.preventDefault(),n&&$d(k,{select:!0})):v.shiftKey&&w===k&&(v.preventDefault(),n&&$d(A,{select:!0})):w===N&&v.preventDefault()}},[n,r,m.paused]);return h.jsx(Ht.div,{tabIndex:-1,...a,ref:g,onKeyDown:b})});VO.displayName=goe;function voe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($d(r,{select:e}),document.activeElement!==n)return}function yoe(t){const e=s9(t),n=bI(e,t),r=bI(e.reverse(),t);return[n,r]}function s9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bI(t,e){for(const n of t)if(!boe(n,{upTo:e}))return n}function boe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xoe(t){return t instanceof HTMLInputElement&&"select"in t}function $d(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xoe(t)&&e&&t.select()}}var xI=woe();function woe(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=wI(t,e),t.unshift(e)},remove(e){t=wI(t,e),t[0]?.resume()}}}function wI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Soe(t){return t.filter(e=>e.tagName!=="A")}var t_=0;function l9(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??SI()),document.body.insertAdjacentElement("beforeend",t[1]??SI()),t_++,()=>{t_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),t_--}},[])}function SI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pc=function(){return Pc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pc.apply(this,arguments)};function c9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _oe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Qb="right-scroll-bar-position",Jb="width-before-scroll-bar",Eoe="with-scroll-bars-hidden",Noe="--removed-body-scroll-bar-size";function n_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Aoe(t,e){var n=O.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var koe=typeof window<"u"?O.useLayoutEffect:O.useEffect,_I=new WeakMap;function Coe(t,e){var n=Aoe(null,function(r){return t.forEach(function(i){return n_(i,r)})});return koe(function(){var r=_I.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||n_(s,null)}),o.forEach(function(s){i.has(s)||n_(s,a)})}_I.set(n,t)},[t]),n}function Toe(t){return t}function Ooe(t,e){e===void 0&&(e=Toe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function Moe(t){t===void 0&&(t={});var e=Ooe(null);return e.options=Pc({async:!0,ssr:!1},t),e}var u9=function(t){var e=t.sideCar,n=c9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,Pc({},n))};u9.isSideCarExport=!0;function Poe(t,e){return t.useMedium(e),u9}var d9=Moe(),r_=function(){},Mw=O.forwardRef(function(t,e){var n=O.useRef(null),r=O.useState({onScrollCapture:r_,onWheelCapture:r_,onTouchMoveCapture:r_}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,g=t.sideCar,m=t.noRelative,b=t.noIsolation,v=t.inert,y=t.allowPinchZoom,w=t.as,N=w===void 0?"div":w,k=t.gapMode,A=c9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,P=Coe([n,e]),L=Pc(Pc({},A),i);return O.createElement(O.Fragment,null,u&&O.createElement(T,{sideCar:d9,removeScrollBar:c,shards:f,noRelative:m,noIsolation:b,inert:v,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:k}),a?O.cloneElement(O.Children.only(s),Pc(Pc({},L),{ref:P})):O.createElement(N,Pc({},L,{className:l,ref:P}),s))});Mw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mw.classNames={fullWidth:Jb,zeroRight:Qb};var Roe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function joe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Roe();return e&&t.setAttribute("nonce",e),t}function Ioe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Loe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Doe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=joe())&&(Ioe(e,n),Loe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Foe=function(){var t=Doe();return function(e,n){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},f9=function(){var t=Foe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Boe={left:0,top:0,right:0,gap:0},i_=function(t){return parseInt(t||"",10)||0},$oe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[i_(n),i_(r),i_(i)]},zoe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Boe;var e=$oe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qoe=f9(),om="data-scroll-locked",Uoe=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Eoe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(om,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qb,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Jb,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Qb," .").concat(Qb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jb," .").concat(Jb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(om,`] {
    `).concat(Noe,": ").concat(s,`px;
  }
`)},EI=function(){var t=parseInt(document.body.getAttribute(om)||"0",10);return isFinite(t)?t:0},Hoe=function(){O.useEffect(function(){return document.body.setAttribute(om,(EI()+1).toString()),function(){var t=EI()-1;t<=0?document.body.removeAttribute(om):document.body.setAttribute(om,t.toString())}},[])},Woe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Hoe();var o=O.useMemo(function(){return zoe(i)},[i]);return O.createElement(qoe,{styles:Uoe(o,!e,i,n?"":"!important")})},Dk=!1;if(typeof window<"u")try{var J0=Object.defineProperty({},"passive",{get:function(){return Dk=!0,!0}});window.addEventListener("test",J0,J0),window.removeEventListener("test",J0,J0)}catch{Dk=!1}var Tp=Dk?{passive:!1}:!1,Voe=function(t){return t.tagName==="TEXTAREA"},h9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Voe(t)&&n[e]==="visible")},Koe=function(t){return h9(t,"overflowY")},Goe=function(t){return h9(t,"overflowX")},NI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=p9(t,r);if(i){var o=m9(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Yoe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Xoe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},p9=function(t,e){return t==="v"?Koe(e):Goe(e)},m9=function(t,e){return t==="v"?Yoe(e):Xoe(e)},Qoe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Joe=function(t,e,n,r,i){var o=Qoe(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,f=0,g=0;do{if(!s)break;var m=m9(t,s),b=m[0],v=m[1],y=m[2],w=v-y-o*b;(b||w)&&p9(t,s)&&(f+=w,g+=b);var N=s.parentNode;s=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&Math.abs(f)<1||!u&&Math.abs(g)<1)&&(c=!0),c},Z0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AI=function(t){return[t.deltaX,t.deltaY]},kI=function(t){return t&&"current"in t?t.current:t},Zoe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tae=0,Op=[];function nae(t){var e=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),i=O.useState(tae++)[0],o=O.useState(f9)[0],a=O.useRef(t);O.useEffect(function(){a.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=_oe([t.lockRef.current],(t.shards||[]).map(kI),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=O.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var w=Z0(v),N=n.current,k="deltaX"in v?v.deltaX:N[0]-w[0],A="deltaY"in v?v.deltaY:N[1]-w[1],T,P=v.target,L=Math.abs(k)>Math.abs(A)?"h":"v";if("touches"in v&&L==="h"&&P.type==="range")return!1;var C=NI(L,P);if(!C)return!0;if(C?T=L:(T=L==="v"?"h":"v",C=NI(L,P)),!C)return!1;if(!r.current&&"changedTouches"in v&&(k||A)&&(r.current=T),!T)return!0;var M=r.current||T;return Joe(M,y,v,M==="h"?k:A)},[]),l=O.useCallback(function(v){var y=v;if(!(!Op.length||Op[Op.length-1]!==o)){var w="deltaY"in y?AI(y):Z0(y),N=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&Zoe(T.delta,w)})[0];if(N&&N.should){y.cancelable&&y.preventDefault();return}if(!N){var k=(a.current.shards||[]).map(kI).filter(Boolean).filter(function(T){return T.contains(y.target)}),A=k.length>0?s(y,k[0]):!a.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),c=O.useCallback(function(v,y,w,N){var k={name:v,delta:y,target:w,should:N,shadowParent:rae(w)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(A){return A!==k})},1)},[]),u=O.useCallback(function(v){n.current=Z0(v),r.current=void 0},[]),f=O.useCallback(function(v){c(v.type,AI(v),v.target,s(v,t.lockRef.current))},[]),g=O.useCallback(function(v){c(v.type,Z0(v),v.target,s(v,t.lockRef.current))},[]);O.useEffect(function(){return Op.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Tp),document.addEventListener("touchmove",l,Tp),document.addEventListener("touchstart",u,Tp),function(){Op=Op.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Tp),document.removeEventListener("touchmove",l,Tp),document.removeEventListener("touchstart",u,Tp)}},[]);var m=t.removeScrollBar,b=t.inert;return O.createElement(O.Fragment,null,b?O.createElement(o,{styles:eae(i)}):null,m?O.createElement(Woe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function rae(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iae=Poe(d9,nae);var KO=O.forwardRef(function(t,e){return O.createElement(Mw,Pc({},t,{ref:e,sideCar:iae}))});KO.classNames=Mw.classNames;var oae=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mp=new WeakMap,eb=new WeakMap,tb={},o_=0,g9=function(t){return t&&(t.host||g9(t.parentNode))},aae=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=g9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sae=function(t,e,n,r){var i=aae(e,Array.isArray(t)?t:[t]);tb[n]||(tb[n]=new WeakMap);var o=tb[n],a=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(s.has(g))u(g);else try{var m=g.getAttribute(r),b=m!==null&&m!=="false",v=(Mp.get(g)||0)+1,y=(o.get(g)||0)+1;Mp.set(g,v),o.set(g,y),a.push(g),v===1&&b&&eb.set(g,!0),y===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return u(e),s.clear(),o_++,function(){a.forEach(function(f){var g=Mp.get(f)-1,m=o.get(f)-1;Mp.set(f,g),o.set(f,m),g||(eb.has(f)||f.removeAttribute(r),eb.delete(f)),m||f.removeAttribute(n)}),o_--,o_||(Mp=new WeakMap,Mp=new WeakMap,eb=new WeakMap,tb={})}},v9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=oae(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sae(r,i,n,"aria-hidden")):function(){return null}},Pw="Dialog",[y9,b9]=Ps(Pw),[lae,ic]=y9(Pw),x9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=O.useRef(null),l=O.useRef(null),[c,u]=Vu({prop:r,defaultProp:i??!1,onChange:o,caller:Pw});return h.jsx(lae,{scope:e,triggerRef:s,contentRef:l,contentId:La(),titleId:La(),descriptionId:La(),open:c,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};x9.displayName=Pw;var w9="DialogTrigger",S9=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ic(w9,n),o=Wn(e,i.triggerRef);return h.jsx(Ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":XO(i.open),...r,ref:o,onClick:Kt(t.onClick,i.onOpenToggle)})});S9.displayName=w9;var GO="DialogPortal",[cae,_9]=y9(GO,{forceMount:void 0}),E9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=ic(GO,e);return h.jsx(cae,{scope:e,forceMount:n,children:O.Children.map(r,a=>h.jsx(pl,{present:n||o.open,children:h.jsx(gw,{asChild:!0,container:i,children:a})}))})};E9.displayName=GO;var w1="DialogOverlay",N9=O.forwardRef((t,e)=>{const n=_9(w1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ic(w1,t.__scopeDialog);return o.modal?h.jsx(pl,{present:r||o.open,children:h.jsx(dae,{...i,ref:e})}):null});N9.displayName=w1;var uae=bm("DialogOverlay.RemoveScroll"),dae=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ic(w1,n);return h.jsx(KO,{as:uae,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Ht.div,{"data-state":XO(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ph="DialogContent",A9=O.forwardRef((t,e)=>{const n=_9(Ph,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=ic(Ph,t.__scopeDialog);return h.jsx(pl,{present:r||o.open,children:o.modal?h.jsx(fae,{...i,ref:e}):h.jsx(hae,{...i,ref:e})})});A9.displayName=Ph;var fae=O.forwardRef((t,e)=>{const n=ic(Ph,t.__scopeDialog),r=O.useRef(null),i=Wn(e,n.contentRef,r);return O.useEffect(()=>{const o=r.current;if(o)return v9(o)},[]),h.jsx(k9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kt(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Kt(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:Kt(t.onFocusOutside,o=>o.preventDefault())})}),hae=O.forwardRef((t,e)=>{const n=ic(Ph,t.__scopeDialog),r=O.useRef(!1),i=O.useRef(!1);return h.jsx(k9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),k9=O.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=ic(Ph,n),l=O.useRef(null),c=Wn(e,l);return l9(),h.jsxs(h.Fragment,{children:[h.jsx(VO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:h.jsx(Uy,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":XO(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(mae,{titleId:s.titleId}),h.jsx(vae,{contentRef:l,descriptionId:s.descriptionId})]})]})}),YO="DialogTitle",C9=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ic(YO,n);return h.jsx(Ht.h2,{id:i.titleId,...r,ref:e})});C9.displayName=YO;var T9="DialogDescription",O9=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ic(T9,n);return h.jsx(Ht.p,{id:i.descriptionId,...r,ref:e})});O9.displayName=T9;var M9="DialogClose",P9=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ic(M9,n);return h.jsx(Ht.button,{type:"button",...r,ref:e,onClick:Kt(t.onClick,()=>i.onOpenChange(!1))})});P9.displayName=M9;function XO(t){return t?"open":"closed"}var R9="DialogTitleWarning",[pae,j9]=hee(R9,{contentName:Ph,titleName:YO,docsSlug:"dialog"}),mae=({titleId:t})=>{const e=j9(R9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},gae="DialogDescriptionWarning",vae=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j9(gae).contentName}}.`;return O.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Rw=x9,I9=S9,jw=E9,ag=N9,sg=A9,Vy=C9,Ky=O9,Iw=P9;const yae=Rw,bae=jw,L9=O.forwardRef(({className:t,...e},n)=>h.jsx(ag,{className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));L9.displayName=ag.displayName;const xae=Zm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),D9=O.forwardRef(({side:t="right",className:e,children:n,...r},i)=>h.jsxs(bae,{children:[h.jsx(L9,{}),h.jsxs(sg,{ref:i,className:dt(xae({side:t}),e),...r,children:[n,h.jsxs(Iw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(kO,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));D9.displayName=sg.displayName;const F9=({className:t,...e})=>h.jsx("div",{className:dt("flex flex-col space-y-2 text-center sm:text-left",t),...e});F9.displayName="SheetHeader";const B9=O.forwardRef(({className:t,...e},n)=>h.jsx(Vy,{ref:n,className:dt("text-lg font-semibold text-foreground",t),...e}));B9.displayName=Vy.displayName;const $9=O.forwardRef(({className:t,...e},n)=>h.jsx(Ky,{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));$9.displayName=Ky.displayName;function nr({className:t,...e}){return h.jsx("div",{className:dt("animate-pulse rounded-md bg-muted",t),...e})}const wae="sidebar_state",Sae=3600*24*7,_ae="16rem",Eae="18rem",Nae="3rem",Aae="b",z9=O.createContext(null);function QO(){const t=O.useContext(z9);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function kae({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:o,...a}){const s=foe(),[l,c]=O.useState(!1),[u,f]=O.useState(t),g=e??u,m=O.useCallback(w=>{const N=typeof w=="function"?w(g):w;n?n(N):f(N),document.cookie=`${wae}=${N}; path=/; max-age=${Sae}`},[n,g]),b=O.useCallback(()=>s?c(w=>!w):m(w=>!w),[s,m,c]);O.useEffect(()=>{const w=N=>{N.key===Aae&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),b())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[b]);const v=g?"expanded":"collapsed",y=O.useMemo(()=>({state:v,open:g,setOpen:m,isMobile:s,openMobile:l,setOpenMobile:c,toggleSidebar:b}),[v,g,m,s,l,c,b]);return h.jsx(z9.Provider,{value:y,children:h.jsx(Bq,{delayDuration:0,children:h.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":_ae,"--sidebar-width-icon":Nae,...i},className:dt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...a,children:o})})})}function Cae({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...o}){const{isMobile:a,state:s,openMobile:l,setOpenMobile:c}=QO();return n==="none"?h.jsx("div",{"data-slot":"sidebar",className:dt("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...o,children:i}):a?h.jsx(yae,{open:l,onOpenChange:c,...o,children:h.jsxs(D9,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":Eae},side:t,children:[h.jsxs(F9,{className:"sr-only",children:[h.jsx(B9,{children:"Sidebar"}),h.jsx($9,{children:"Displays the mobile sidebar."})]}),h.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):h.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":s,"data-collapsible":s==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[h.jsx("div",{"data-slot":"sidebar-gap",className:dt("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),h.jsx("div",{"data-slot":"sidebar-container",className:dt("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:h.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function Tae({className:t,onClick:e,...n}){const{toggleSidebar:r}=QO();return h.jsxs(Ve,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:dt("h-7 w-7",t),onClick:i=>{e?.(i),r()},...n,children:[h.jsx(Rte,{}),h.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Oae({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:dt("flex flex-col gap-2 p-2",t),...e})}function Mae({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:dt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function Pae({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:dt("relative flex w-full min-w-0 flex-col p-2",t),...e})}function Rae({className:t,asChild:e=!1,...n}){const r=e?vO:"div";return h.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:dt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function jae({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:dt("w-full text-sm",t),...e})}function Iae({className:t,...e}){return h.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:dt("flex w-full min-w-0 flex-col gap-1",t),...e})}function Lae({className:t,...e}){return h.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:dt("group/menu-item relative",t),...e})}const Dae=Zm("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Fae({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:o,...a}){const s=t?vO:"button",{isMobile:l,state:c}=QO(),u=h.jsx(s,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:dt(Dae({variant:n,size:r}),o),...a});return i?(typeof i=="string"&&(i={children:i}),h.jsxs($q,{children:[h.jsx(zq,{asChild:!0,children:u}),h.jsx(BO,{side:"right",align:"center",hidden:c!=="collapsed"||l,...i})]})):u}function Bae(){return mw.useSyncExternalStore($ae,()=>!0,()=>!1)}function $ae(){return()=>{}}var JO="Avatar",[zae]=Ps(JO),[qae,q9]=zae(JO),U9=O.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=O.useState("idle");return h.jsx(qae,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:h.jsx(Ht.span,{...r,ref:e})})});U9.displayName=JO;var H9="AvatarImage",W9=O.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,a=q9(H9,n),s=Uae(r,o),l=Xi(c=>{i(c),a.onImageLoadingStatusChange(c)});return zi(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?h.jsx(Ht.img,{...o,ref:e,src:r}):null});W9.displayName=H9;var V9="AvatarFallback",K9=O.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=q9(V9,n),[a,s]=O.useState(r===void 0);return O.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?h.jsx(Ht.span,{...i,ref:e}):null});K9.displayName=V9;function CI(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Uae(t,{referrerPolicy:e,crossOrigin:n}){const r=Bae(),i=O.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[a,s]=O.useState(()=>CI(o,t));return zi(()=>{s(CI(o,t))},[o,t]),zi(()=>{const l=f=>()=>{s(f)};if(!o)return;const c=l("loaded"),u=l("error");return o.addEventListener("load",c),o.addEventListener("error",u),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,n,e]),a}var G9=U9,Y9=W9,X9=K9;const Q9=O.forwardRef(({className:t,...e},n)=>h.jsx(G9,{ref:n,className:dt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Q9.displayName=G9.displayName;const Hae=O.forwardRef(({className:t,...e},n)=>h.jsx(Y9,{ref:n,className:dt("aspect-square h-full w-full",t),...e}));Hae.displayName=Y9.displayName;const J9=O.forwardRef(({className:t,...e},n)=>h.jsx(X9,{ref:n,className:dt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));J9.displayName=X9.displayName;const Wae=[{title:"Dashboard",url:"/",icon:Nte,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Clientes",url:"/clientes",icon:AO,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Impuestos",url:"/impuestos",icon:ec,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Control Impuestos",url:"/control-impuestos",icon:yte,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Calendario AEAT",url:"/calendario-aeat",icon:Bv,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Tareas",url:"/tareas",icon:EO,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Manuales",url:"/manuales",icon:SO,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Notificaciones",url:"/notificaciones",icon:ute,roles:["Administrador","Gestor"]},{title:"Auditora",url:"/auditoria",icon:Gz,roles:["Administrador","Gestor"]},{title:"Administracin",url:"/admin",icon:Kz,roles:["Administrador"]}];function Vae(){const[t]=Xm(),{user:e,logout:n}=ig(),r=Wae.filter(o=>e&&e.roleName&&o.roles.includes(e.roleName)),i=o=>o.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return h.jsxs(Cae,{children:[h.jsxs(Mae,{children:[h.jsx("div",{className:"p-6",children:h.jsx("h1",{className:"text-xl font-display font-bold text-primary",children:"Asesora La Llave"})}),h.jsxs(Pae,{children:[h.jsx(Rae,{children:"Navegacin"}),h.jsx(jae,{children:h.jsx(Iae,{children:r.map(o=>h.jsx(Lae,{children:h.jsx(Fae,{asChild:!0,isActive:t===o.url,children:h.jsxs(AZ,{href:o.url,"data-testid":`link-${o.title.toLowerCase()}`,children:[h.jsx(o.icon,{className:"h-4 w-4"}),h.jsx("span",{children:o.title})]})})},o.title))})})]})]}),h.jsxs(Oae,{className:"p-4",children:[e&&h.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[h.jsx(Q9,{className:"h-9 w-9",children:h.jsx(J9,{className:"bg-primary text-primary-foreground text-sm",children:i(e.username)})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium truncate",children:e.username}),h.jsx("p",{className:"text-xs text-muted-foreground",children:e.roleName||"Sin rol"})]})]}),h.jsxs(Ve,{variant:"ghost",className:"w-full justify-start",onClick:n,"data-testid":"button-logout",children:[h.jsx(Mte,{className:"h-4 w-4 mr-2"}),"Cerrar Sesin"]})]})]})}function Kae(){const{theme:t,toggleTheme:e}=gie();return h.jsxs(Ve,{variant:"ghost",size:"icon",onClick:e,"data-testid":"button-theme-toggle",children:[t==="light"?h.jsx(Pte,{className:"h-5 w-5"}):h.jsx($te,{className:"h-5 w-5"}),h.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var TI=1,Gae=.9,Yae=.8,Xae=.17,a_=.1,s_=.999,Qae=.9999,Jae=.99,Zae=/[\\\/_+.#"@\[\(\{&]/,ese=/[\\\/_+.#"@\[\(\{&]/g,tse=/[\s-]/,Z9=/[\s-]/g;function Fk(t,e,n,r,i,o,a){if(o===e.length)return i===t.length?TI:Jae;var s=`${i},${o}`;if(a[s]!==void 0)return a[s];for(var l=r.charAt(o),c=n.indexOf(l,i),u=0,f,g,m,b;c>=0;)f=Fk(t,e,n,r,c+1,o+1,a),f>u&&(c===i?f*=TI:Zae.test(t.charAt(c-1))?(f*=Yae,m=t.slice(i,c-1).match(ese),m&&i>0&&(f*=Math.pow(s_,m.length))):tse.test(t.charAt(c-1))?(f*=Gae,b=t.slice(i,c-1).match(Z9),b&&i>0&&(f*=Math.pow(s_,b.length))):(f*=Xae,i>0&&(f*=Math.pow(s_,c-i))),t.charAt(c)!==e.charAt(o)&&(f*=Qae)),(f<a_&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(g=Fk(t,e,n,r,c+1,o+2,a),g*a_>f&&(f=g*a_)),f>u&&(u=f),c=n.indexOf(l,c+1);return a[s]=u,u}function OI(t){return t.toLowerCase().replace(Z9," ")}function nse(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Fk(t,e,OI(t),OI(e),0,0,{})}var Gg='[cmdk-group=""]',l_='[cmdk-group-items=""]',rse='[cmdk-group-heading=""]',eU='[cmdk-item=""]',MI=`${eU}:not([aria-disabled="true"])`,Bk="cmdk-item-select",qp="data-value",ise=(t,e,n)=>nse(t,e,n),tU=O.createContext(void 0),Gy=()=>O.useContext(tU),nU=O.createContext(void 0),ZO=()=>O.useContext(nU),rU=O.createContext(void 0),iU=O.forwardRef((t,e)=>{let n=Up(()=>{var F,V;return{search:"",value:(V=(F=t.value)!=null?F:t.defaultValue)!=null?V:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Up(()=>new Set),i=Up(()=>new Map),o=Up(()=>new Map),a=Up(()=>new Set),s=oU(t),{label:l,children:c,value:u,onValueChange:f,filter:g,shouldFilter:m,loop:b,disablePointerSelection:v=!1,vimBindings:y=!0,...w}=t,N=La(),k=La(),A=La(),T=O.useRef(null),P=mse();Rh(()=>{if(u!==void 0){let F=u.trim();n.current.value=F,L.emit()}},[u]),Rh(()=>{P(6,z)},[]);let L=O.useMemo(()=>({subscribe:F=>(a.current.add(F),()=>a.current.delete(F)),snapshot:()=>n.current,setState:(F,V,ee)=>{var ie,ue,he,me;if(!Object.is(n.current[F],V)){if(n.current[F]=V,F==="search")I(),q(),P(1,D);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let le=document.getElementById(A);le?le.focus():(ie=document.getElementById(N))==null||ie.focus()}if(P(7,()=>{var le;n.current.selectedItemId=(le=U())==null?void 0:le.id,L.emit()}),ee||P(5,z),((ue=s.current)==null?void 0:ue.value)!==void 0){let le=V??"";(me=(he=s.current).onValueChange)==null||me.call(he,le);return}}L.emit()}},emit:()=>{a.current.forEach(F=>F())}}),[]),C=O.useMemo(()=>({value:(F,V,ee)=>{var ie;V!==((ie=o.current.get(F))==null?void 0:ie.value)&&(o.current.set(F,{value:V,keywords:ee}),n.current.filtered.items.set(F,M(V,ee)),P(2,()=>{q(),L.emit()}))},item:(F,V)=>(r.current.add(F),V&&(i.current.has(V)?i.current.get(V).add(F):i.current.set(V,new Set([F]))),P(3,()=>{I(),q(),n.current.value||D(),L.emit()}),()=>{o.current.delete(F),r.current.delete(F),n.current.filtered.items.delete(F);let ee=U();P(4,()=>{I(),ee?.getAttribute("id")===F&&D(),L.emit()})}),group:F=>(i.current.has(F)||i.current.set(F,new Set),()=>{o.current.delete(F),i.current.delete(F)}),filter:()=>s.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:N,inputId:A,labelId:k,listInnerRef:T}),[]);function M(F,V){var ee,ie;let ue=(ie=(ee=s.current)==null?void 0:ee.filter)!=null?ie:ise;return F?ue(F,n.current.search,V):0}function q(){if(!n.current.search||s.current.shouldFilter===!1)return;let F=n.current.filtered.items,V=[];n.current.filtered.groups.forEach(ie=>{let ue=i.current.get(ie),he=0;ue.forEach(me=>{let le=F.get(me);he=Math.max(le,he)}),V.push([ie,he])});let ee=T.current;Y().sort((ie,ue)=>{var he,me;let le=ie.getAttribute("id"),be=ue.getAttribute("id");return((he=F.get(be))!=null?he:0)-((me=F.get(le))!=null?me:0)}).forEach(ie=>{let ue=ie.closest(l_);ue?ue.appendChild(ie.parentElement===ue?ie:ie.closest(`${l_} > *`)):ee.appendChild(ie.parentElement===ee?ie:ie.closest(`${l_} > *`))}),V.sort((ie,ue)=>ue[1]-ie[1]).forEach(ie=>{var ue;let he=(ue=T.current)==null?void 0:ue.querySelector(`${Gg}[${qp}="${encodeURIComponent(ie[0])}"]`);he?.parentElement.appendChild(he)})}function D(){let F=Y().find(ee=>ee.getAttribute("aria-disabled")!=="true"),V=F?.getAttribute(qp);L.setState("value",V||void 0)}function I(){var F,V,ee,ie;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ue=0;for(let he of r.current){let me=(V=(F=o.current.get(he))==null?void 0:F.value)!=null?V:"",le=(ie=(ee=o.current.get(he))==null?void 0:ee.keywords)!=null?ie:[],be=M(me,le);n.current.filtered.items.set(he,be),be>0&&ue++}for(let[he,me]of i.current)for(let le of me)if(n.current.filtered.items.get(le)>0){n.current.filtered.groups.add(he);break}n.current.filtered.count=ue}function z(){var F,V,ee;let ie=U();ie&&(((F=ie.parentElement)==null?void 0:F.firstChild)===ie&&((ee=(V=ie.closest(Gg))==null?void 0:V.querySelector(rse))==null||ee.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function U(){var F;return(F=T.current)==null?void 0:F.querySelector(`${eU}[aria-selected="true"]`)}function Y(){var F;return Array.from(((F=T.current)==null?void 0:F.querySelectorAll(MI))||[])}function ne(F){let V=Y()[F];V&&L.setState("value",V.getAttribute(qp))}function W(F){var V;let ee=U(),ie=Y(),ue=ie.findIndex(me=>me===ee),he=ie[ue+F];(V=s.current)!=null&&V.loop&&(he=ue+F<0?ie[ie.length-1]:ue+F===ie.length?ie[0]:ie[ue+F]),he&&L.setState("value",he.getAttribute(qp))}function G(F){let V=U(),ee=V?.closest(Gg),ie;for(;ee&&!ie;)ee=F>0?hse(ee,Gg):pse(ee,Gg),ie=ee?.querySelector(MI);ie?L.setState("value",ie.getAttribute(qp)):W(F)}let K=()=>ne(Y().length-1),fe=F=>{F.preventDefault(),F.metaKey?K():F.altKey?G(1):W(1)},X=F=>{F.preventDefault(),F.metaKey?ne(0):F.altKey?G(-1):W(-1)};return O.createElement(Ht.div,{ref:e,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:F=>{var V;(V=w.onKeyDown)==null||V.call(w,F);let ee=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||ee))switch(F.key){case"n":case"j":{y&&F.ctrlKey&&fe(F);break}case"ArrowDown":{fe(F);break}case"p":case"k":{y&&F.ctrlKey&&X(F);break}case"ArrowUp":{X(F);break}case"Home":{F.preventDefault(),ne(0);break}case"End":{F.preventDefault(),K();break}case"Enter":{F.preventDefault();let ie=U();if(ie){let ue=new Event(Bk);ie.dispatchEvent(ue)}}}}},O.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:vse},l),Lw(t,F=>O.createElement(nU.Provider,{value:L},O.createElement(tU.Provider,{value:C},F))))}),ose=O.forwardRef((t,e)=>{var n,r;let i=La(),o=O.useRef(null),a=O.useContext(rU),s=Gy(),l=oU(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;Rh(()=>{if(!c)return s.item(i,a?.id)},[c]);let u=aU(i,o,[t.value,t.children,o],t.keywords),f=ZO(),g=hf(P=>P.value&&P.value===u.current),m=hf(P=>c||s.filter()===!1?!0:P.search?P.filtered.items.get(i)>0:!0);O.useEffect(()=>{let P=o.current;if(!(!P||t.disabled))return P.addEventListener(Bk,b),()=>P.removeEventListener(Bk,b)},[m,t.onSelect,t.disabled]);function b(){var P,L;v(),(L=(P=l.current).onSelect)==null||L.call(P,u.current)}function v(){f.setState("value",u.current,!0)}if(!m)return null;let{disabled:y,value:w,onSelect:N,forceMount:k,keywords:A,...T}=t;return O.createElement(Ht.div,{ref:Oh(o,e),...T,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!g,"data-disabled":!!y,"data-selected":!!g,onPointerMove:y||s.getDisablePointerSelection()?void 0:v,onClick:y?void 0:b},t.children)}),ase=O.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...o}=t,a=La(),s=O.useRef(null),l=O.useRef(null),c=La(),u=Gy(),f=hf(m=>i||u.filter()===!1?!0:m.search?m.filtered.groups.has(a):!0);Rh(()=>u.group(a),[]),aU(a,s,[t.value,t.heading,l]);let g=O.useMemo(()=>({id:a,forceMount:i}),[i]);return O.createElement(Ht.div,{ref:Oh(s,e),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&O.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),Lw(t,m=>O.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},O.createElement(rU.Provider,{value:g},m))))}),sse=O.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=O.useRef(null),o=hf(a=>!a.search);return!n&&!o?null:O.createElement(Ht.div,{ref:Oh(i,e),...r,"cmdk-separator":"",role:"separator"})}),lse=O.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,o=ZO(),a=hf(c=>c.search),s=hf(c=>c.selectedItemId),l=Gy();return O.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),O.createElement(Ht.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":s,id:l.inputId,type:"text",value:i?t.value:a,onChange:c=>{i||o.setState("search",c.target.value),n?.(c.target.value)}})}),cse=O.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,o=O.useRef(null),a=O.useRef(null),s=hf(c=>c.selectedItemId),l=Gy();return O.useEffect(()=>{if(a.current&&o.current){let c=a.current,u=o.current,f,g=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=c.offsetHeight;u.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return g.observe(c),()=>{cancelAnimationFrame(f),g.unobserve(c)}}},[]),O.createElement(Ht.div,{ref:Oh(o,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:l.listId},Lw(t,c=>O.createElement("div",{ref:Oh(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),use=O.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:a,...s}=t;return O.createElement(Rw,{open:n,onOpenChange:r},O.createElement(jw,{container:a},O.createElement(ag,{"cmdk-overlay":"",className:i}),O.createElement(sg,{"aria-label":t.label,"cmdk-dialog":"",className:o},O.createElement(iU,{ref:e,...s}))))}),dse=O.forwardRef((t,e)=>hf(n=>n.filtered.count===0)?O.createElement(Ht.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),fse=O.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...o}=t;return O.createElement(Ht.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Lw(t,a=>O.createElement("div",{"aria-hidden":!0},a)))}),ss=Object.assign(iU,{List:cse,Item:ose,Input:lse,Group:ase,Separator:sse,Dialog:use,Empty:dse,Loading:fse});function hse(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function pse(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function oU(t){let e=O.useRef(t);return Rh(()=>{e.current=t}),e}var Rh=typeof window>"u"?O.useEffect:O.useLayoutEffect;function Up(t){let e=O.useRef();return e.current===void 0&&(e.current=t()),e}function hf(t){let e=ZO(),n=()=>t(e.snapshot());return O.useSyncExternalStore(e.subscribe,n,n)}function aU(t,e,n,r=[]){let i=O.useRef(),o=Gy();return Rh(()=>{var a;let s=(()=>{var c;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());o.value(t,s,l),(a=e.current)==null||a.setAttribute(qp,s),i.current=s}),i}var mse=()=>{let[t,e]=O.useState(),n=Up(()=>new Map);return Rh(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function gse(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Lw({asChild:t,children:e},n){return t&&O.isValidElement(e)?O.cloneElement(gse(e),{ref:e.ref},n(e.props.children)):n(e)}var vse={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ma=Rw,ol=I9,yse=jw,sU=O.forwardRef(({className:t,...e},n)=>h.jsx(ag,{ref:n,className:dt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sU.displayName=ag.displayName;const Ko=O.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(yse,{children:[h.jsx(sU,{}),h.jsxs(sg,{ref:r,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(Iw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(kO,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ko.displayName=sg.displayName;const ga=({className:t,...e})=>h.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ga.displayName="DialogHeader";const Ns=({className:t,...e})=>h.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ns.displayName="DialogFooter";const va=O.forwardRef(({className:t,...e},n)=>h.jsx(Vy,{ref:n,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));va.displayName=Vy.displayName;const ja=O.forwardRef(({className:t,...e},n)=>h.jsx(Ky,{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));ja.displayName=Ky.displayName;const lU=O.forwardRef(({className:t,...e},n)=>h.jsx(ss,{ref:n,className:dt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));lU.displayName=ss.displayName;const bse=({children:t,...e})=>h.jsx(ma,{...e,children:h.jsx(Ko,{className:"overflow-hidden p-0 shadow-lg",children:h.jsx(lU,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),cU=O.forwardRef(({className:t,...e},n)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(xw,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(ss.Input,{ref:n,className:dt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));cU.displayName=ss.Input.displayName;const uU=O.forwardRef(({className:t,...e},n)=>h.jsx(ss.List,{ref:n,className:dt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));uU.displayName=ss.List.displayName;const dU=O.forwardRef((t,e)=>h.jsx(ss.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));dU.displayName=ss.Empty.displayName;const uv=O.forwardRef(({className:t,...e},n)=>h.jsx(ss.Group,{ref:n,className:dt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));uv.displayName=ss.Group.displayName;const xse=O.forwardRef(({className:t,...e},n)=>h.jsx(ss.Separator,{ref:n,className:dt("-mx-1 h-px bg-border",t),...e}));xse.displayName=ss.Separator.displayName;const dv=O.forwardRef(({className:t,...e},n)=>h.jsx(ss.Item,{ref:n,className:dt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));dv.displayName=ss.Item.displayName;function wse(){const[t,e]=O.useState(!1),[n,r]=O.useState(""),[,i]=Xm();O.useEffect(()=>{const s=l=>{l.key==="k"&&(l.metaKey||l.ctrlKey)&&(l.preventDefault(),e(c=>!c))};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]);const{data:o}=$n({queryKey:["/api/search",n],enabled:n.length>=2,queryFn:async()=>{const s=await fetch(`/api/search?q=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.ok)throw new Error("Error en bsqueda");return s.json()}}),a=(s,l)=>{e(!1),r(""),s==="cliente"?i("/clientes"):s==="tarea"?i("/tareas"):s==="impuesto"?i("/impuestos"):s==="manual"&&i(`/manuales/${l}`)};return h.jsxs(h.Fragment,{children:[h.jsxs(Ve,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64",onClick:()=>e(!0),"data-testid":"button-global-search",children:[h.jsx(xw,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"hidden lg:inline-flex",children:"Buscar..."}),h.jsx("span",{className:"inline-flex lg:hidden",children:"Buscar"}),h.jsxs("kbd",{className:"pointer-events-none absolute right-1.5 top-2 hidden h-6 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[h.jsx("span",{className:"text-xs",children:""}),"K"]})]}),h.jsxs(bse,{open:t,onOpenChange:e,children:[h.jsx(cU,{placeholder:"Buscar clientes, tareas, impuestos, manuales...",value:n,onValueChange:r,"data-testid":"input-global-search"}),h.jsxs(uU,{children:[h.jsx(dU,{children:n.length<2?"Escribe al menos 2 caracteres para buscar":"No se encontraron resultados"}),o&&o.clientes.length>0&&h.jsx(uv,{heading:"Clientes",children:o.clientes.map(s=>h.jsxs(dv,{onSelect:()=>a("cliente",s.id),"data-testid":`search-result-client-${s.id}`,children:[h.jsx(NO,{className:"mr-2 h-4 w-4"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{children:s.razonSocial}),h.jsx("span",{className:"text-xs text-muted-foreground",children:s.nifCif})]})]},s.id))}),o&&o.tareas.length>0&&h.jsx(uv,{heading:"Tareas",children:o.tareas.map(s=>h.jsxs(dv,{onSelect:()=>a("tarea",s.id),"data-testid":`search-result-task-${s.id}`,children:[h.jsx(EO,{className:"mr-2 h-4 w-4"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{children:s.titulo}),h.jsx("span",{className:"text-xs text-muted-foreground",children:s.estado})]})]},s.id))}),o&&o.impuestos.length>0&&h.jsx(uv,{heading:"Impuestos",children:o.impuestos.map(s=>h.jsxs(dv,{onSelect:()=>a("impuesto",s.id),"data-testid":`search-result-tax-${s.id}`,children:[h.jsx(ec,{className:"mr-2 h-4 w-4"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("span",{children:[s.client?.razonSocial," - Modelo ",s.model?.nombre]}),h.jsx("span",{className:"text-xs text-muted-foreground",children:s.estado})]})]},s.id))}),o&&o.manuales.length>0&&h.jsx(uv,{heading:"Manuales",children:o.manuales.map(s=>h.jsxs(dv,{onSelect:()=>a("manual",s.id),"data-testid":`search-result-manual-${s.id}`,children:[h.jsx(SO,{className:"mr-2 h-4 w-4"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{children:s.titulo}),h.jsx("span",{className:"text-xs text-muted-foreground",children:s.categoria})]})]},s.id))})]})]})]})}function Sse(){const{data:t,isLoading:e}=$n({queryKey:["/api/health"],refetchInterval:3e4,retry:2}),n=t?.status==="healthy"&&t?.database==="connected";return e?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h.jsx(wk,{className:"h-4 w-4 animate-pulse"}),h.jsx("span",{className:"hidden sm:inline",children:"Verificando..."})]}):h.jsxs($q,{children:[h.jsx(zq,{asChild:!0,children:h.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-help",children:n?h.jsxs(h.Fragment,{children:[h.jsx(gte,{className:"h-4 w-4 text-green-500","data-testid":"icon-db-connected"}),h.jsx("span",{className:"hidden sm:inline",children:"DB Activa"})]}):h.jsxs(h.Fragment,{children:[h.jsx(wk,{className:"h-4 w-4 text-red-500","data-testid":"icon-db-disconnected"}),h.jsx("span",{className:"hidden sm:inline",children:"DB Desconectada"})]})})}),h.jsx(BO,{children:h.jsxs("div",{className:"space-y-1",children:[h.jsxs("p",{className:"font-semibold",children:["Estado: ",n?"Conectada":"Desconectada"]}),t?.timestamp&&h.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima verificacin: ",new Date(t.timestamp).toLocaleTimeString()]})]})})]})}const tn=O.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:dt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));tn.displayName="Card";const Pn=O.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:dt("flex flex-col space-y-1.5 p-6",t),...e}));Pn.displayName="CardHeader";const Fn=O.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Fn.displayName="CardTitle";const Qh=O.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));Qh.displayName="CardDescription";const nn=O.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:dt("p-6 pt-0",t),...e}));nn.displayName="CardContent";const _se=O.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:dt("flex items-center p-6 pt-0",t),...e}));_se.displayName="CardFooter";function Ese(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(tn,{className:"w-full max-w-md mx-4",children:h.jsxs(nn,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(eg,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Nse="Label",fU=O.forwardRef((t,e)=>h.jsx(Ht.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fU.displayName=Nse;var hU=fU;const Ase=Zm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=O.forwardRef(({className:t,...e},n)=>h.jsx(hU,{ref:n,className:dt(Ase(),t),...e}));Qe.displayName=hU.displayName;var kse=O.createContext(void 0);function Dw(t){const e=O.useContext(kse);return t||e||"ltr"}var c_="rovingFocusGroup.onEntryFocus",Cse={bubbles:!1,cancelable:!0},Yy="RovingFocusGroup",[$k,pU,Tse]=yO(Yy),[Ose,mU]=Ps(Yy,[Tse]),[Mse,Pse]=Ose(Yy),gU=O.forwardRef((t,e)=>h.jsx($k.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx($k.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(Rse,{...t,ref:e})})}));gU.displayName=Yy;var Rse=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,g=O.useRef(null),m=Wn(e,g),b=Dw(o),[v,y]=Vu({prop:a,defaultProp:s??null,onChange:l,caller:Yy}),[w,N]=O.useState(!1),k=Xi(c),A=pU(n),T=O.useRef(!1),[P,L]=O.useState(0);return O.useEffect(()=>{const C=g.current;if(C)return C.addEventListener(c_,k),()=>C.removeEventListener(c_,k)},[k]),h.jsx(Mse,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:v,onItemFocus:O.useCallback(C=>y(C),[y]),onItemShiftTab:O.useCallback(()=>N(!0),[]),onFocusableItemAdd:O.useCallback(()=>L(C=>C+1),[]),onFocusableItemRemove:O.useCallback(()=>L(C=>C-1),[]),children:h.jsx(Ht.div,{tabIndex:w||P===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Kt(t.onMouseDown,()=>{T.current=!0}),onFocus:Kt(t.onFocus,C=>{const M=!T.current;if(C.target===C.currentTarget&&M&&!w){const q=new CustomEvent(c_,Cse);if(C.currentTarget.dispatchEvent(q),!q.defaultPrevented){const D=A().filter(ne=>ne.focusable),I=D.find(ne=>ne.active),z=D.find(ne=>ne.id===v),Y=[I,z,...D].filter(Boolean).map(ne=>ne.ref.current);bU(Y,u)}}T.current=!1}),onBlur:Kt(t.onBlur,()=>N(!1))})})}),vU="RovingFocusGroupItem",yU=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=La(),c=o||l,u=Pse(vU,n),f=u.currentTabStopId===c,g=pU(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:v}=u;return O.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),h.jsx($k.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:h.jsx(Ht.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:Kt(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:Kt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Kt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=Lse(y,u.orientation,u.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let k=g().filter(A=>A.focusable).map(A=>A.ref.current);if(w==="last")k.reverse();else if(w==="prev"||w==="next"){w==="prev"&&k.reverse();const A=k.indexOf(y.currentTarget);k=u.loop?Dse(k,A+1):k.slice(A+1)}setTimeout(()=>bU(k))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});yU.displayName=vU;var jse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ise(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lse(t,e,n){const r=Ise(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return jse[r]}function bU(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Dse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fse=gU,Bse=yU,Fw="Tabs",[$se]=Ps(Fw,[mU]),xU=mU(),[zse,eM]=$se(Fw),wU=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=Dw(s),[f,g]=Vu({prop:r,onChange:i,defaultProp:o??"",caller:Fw});return h.jsx(zse,{scope:n,baseId:La(),value:f,onValueChange:g,orientation:a,dir:u,activationMode:l,children:h.jsx(Ht.div,{dir:u,"data-orientation":a,...c,ref:e})})});wU.displayName=Fw;var SU="TabsList",_U=O.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=eM(SU,n),a=xU(n);return h.jsx(Fse,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:h.jsx(Ht.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});_U.displayName=SU;var EU="TabsTrigger",NU=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=eM(EU,n),s=xU(n),l=CU(a.baseId,r),c=TU(a.baseId,r),u=r===a.value;return h.jsx(Bse,{asChild:!0,...s,focusable:!i,active:u,children:h.jsx(Ht.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:Kt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Kt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Kt(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!i&&f&&a.onValueChange(r)})})})});NU.displayName=EU;var AU="TabsContent",kU=O.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=eM(AU,n),l=CU(s.baseId,r),c=TU(s.baseId,r),u=r===s.value,f=O.useRef(u);return O.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),h.jsx(pl,{present:i||u,children:({present:g})=>h.jsx(Ht.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&o})})});kU.displayName=AU;function CU(t,e){return`${t}-trigger-${e}`}function TU(t,e){return`${t}-content-${e}`}var qse=wU,OU=_U,MU=NU,PU=kU;const Xy=qse,lg=O.forwardRef(({className:t,...e},n)=>h.jsx(OU,{ref:n,className:dt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));lg.displayName=OU.displayName;const uo=O.forwardRef(({className:t,...e},n)=>h.jsx(MU,{ref:n,className:dt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));uo.displayName=MU.displayName;const Ho=O.forwardRef(({className:t,...e},n)=>h.jsx(PU,{ref:n,className:dt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ho.displayName=PU.displayName;function PI(){const[,t]=Xm(),{login:e,register:n,logout:r,user:i}=ig(),{toast:o}=as(),[a,s]=O.useState({username:"",password:""}),[l,c]=O.useState({username:"",email:"",password:"",confirmPassword:""}),{data:u}=$n({queryKey:["/api/admin/system-settings"]});O.useEffect(()=>{i&&r()},[i,r]);const f=async m=>{m.preventDefault();try{await e(a.username,a.password),o({title:"Inicio de sesin exitoso",description:"Bienvenido de nuevo"}),t("/")}catch(b){o({title:"Error",description:b.message||"Credenciales incorrectas",variant:"destructive"})}},g=async m=>{if(m.preventDefault(),l.password!==l.confirmPassword){o({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}try{await n(l.username,l.email,l.password),o({title:"Registro exitoso",description:"Tu cuenta ha sido creada"}),t("/")}catch(b){o({title:"Error",description:b.message||"Error al crear la cuenta",variant:"destructive"})}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-ring/5 p-4",children:h.jsxs(tn,{className:"w-full max-w-md",children:[h.jsxs(Pn,{className:"space-y-1",children:[h.jsx(Fn,{className:"text-3xl font-display font-bold text-center text-primary",children:"Asesora La Llave"}),h.jsx(Qh,{className:"text-center",children:"Sistema de gestin profesional"})]}),h.jsx(nn,{children:h.jsxs(Xy,{defaultValue:"login",className:"w-full",children:[h.jsxs(lg,{className:`grid w-full ${u?.registrationEnabled??!0?"grid-cols-2":"grid-cols-1"} mb-6`,children:[h.jsx(uo,{value:"login",children:"Iniciar Sesin"}),(u?.registrationEnabled??!0)&&h.jsx(uo,{value:"register",children:"Registrarse"})]}),h.jsx(Ho,{value:"login",children:h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"login-username",children:"Usuario"}),h.jsx(zt,{id:"login-username",type:"text",placeholder:"tu_usuario",value:a.username,onChange:m=>s({...a,username:m.target.value}),required:!0,"data-testid":"input-login-username"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"login-password",children:"Contrasea"}),h.jsx(zt,{id:"login-password",type:"password",placeholder:"",value:a.password,onChange:m=>s({...a,password:m.target.value}),required:!0,"data-testid":"input-login-password"})]}),h.jsx(Ve,{type:"submit",className:"w-full","data-testid":"button-login-submit",children:"Iniciar Sesin"})]})}),(u?.registrationEnabled??!0)&&h.jsx(Ho,{value:"register",children:h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"register-username",children:"Usuario"}),h.jsx(zt,{id:"register-username",type:"text",placeholder:"tu_usuario",value:l.username,onChange:m=>c({...l,username:m.target.value}),required:!0,"data-testid":"input-register-username"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"register-email",children:"Email"}),h.jsx(zt,{id:"register-email",type:"email",placeholder:"tu@email.com",value:l.email,onChange:m=>c({...l,email:m.target.value}),required:!0,"data-testid":"input-register-email"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"register-password",children:"Contrasea"}),h.jsx(zt,{id:"register-password",type:"password",placeholder:"",value:l.password,onChange:m=>c({...l,password:m.target.value}),required:!0,"data-testid":"input-register-password"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"register-confirm-password",children:"Confirmar Contrasea"}),h.jsx(zt,{id:"register-confirm-password",type:"password",placeholder:"",value:l.confirmPassword,onChange:m=>c({...l,confirmPassword:m.target.value}),required:!0,"data-testid":"input-register-confirm-password"})]}),h.jsx(Ve,{type:"submit",className:"w-full","data-testid":"button-register-submit",children:"Crear Cuenta"})]})})]})})]})})}var u_,RI;function ls(){if(RI)return u_;RI=1;var t=Array.isArray;return u_=t,u_}var d_,jI;function RU(){if(jI)return d_;jI=1;var t=typeof H0=="object"&&H0&&H0.Object===Object&&H0;return d_=t,d_}var f_,II;function Xc(){if(II)return f_;II=1;var t=RU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return f_=n,f_}var h_,LI;function Qy(){if(LI)return h_;LI=1;var t=Xc(),e=t.Symbol;return h_=e,h_}var p_,DI;function Use(){if(DI)return p_;DI=1;var t=Qy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(s?a[i]=l:delete a[i]),u}return p_=o,p_}var m_,FI;function Hse(){if(FI)return m_;FI=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return m_=n,m_}var g_,BI;function Ju(){if(BI)return g_;BI=1;var t=Qy(),e=Use(),n=Hse(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?e(s):n(s)}return g_=a,g_}var v_,$I;function Zu(){if($I)return v_;$I=1;function t(e){return e!=null&&typeof e=="object"}return v_=t,v_}var y_,zI;function cg(){if(zI)return y_;zI=1;var t=Ju(),e=Zu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return y_=r,y_}var b_,qI;function tM(){if(qI)return b_;qI=1;var t=ls(),e=cg(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(t(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return b_=i,b_}var x_,UI;function xf(){if(UI)return x_;UI=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return x_=t,x_}var w_,HI;function nM(){if(HI)return w_;HI=1;var t=Ju(),e=xf(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!e(s))return!1;var l=t(s);return l==r||l==i||l==n||l==o}return w_=a,w_}var S_,WI;function Wse(){if(WI)return S_;WI=1;var t=Xc(),e=t["__core-js_shared__"];return S_=e,S_}var __,VI;function Vse(){if(VI)return __;VI=1;var t=Wse(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return __=n,__}var E_,KI;function jU(){if(KI)return E_;KI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return E_=n,E_}var N_,GI;function Kse(){if(GI)return N_;GI=1;var t=nM(),e=Vse(),n=xf(),r=jU(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(g){if(!n(g)||e(g))return!1;var m=t(g)?u:o;return m.test(r(g))}return N_=f,N_}var A_,YI;function Gse(){if(YI)return A_;YI=1;function t(e,n){return e?.[n]}return A_=t,A_}var k_,XI;function Jh(){if(XI)return k_;XI=1;var t=Kse(),e=Gse();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return k_=n,k_}var C_,QI;function Bw(){if(QI)return C_;QI=1;var t=Jh(),e=t(Object,"create");return C_=e,C_}var T_,JI;function Yse(){if(JI)return T_;JI=1;var t=Bw();function e(){this.__data__=t?t(null):{},this.size=0}return T_=e,T_}var O_,ZI;function Xse(){if(ZI)return O_;ZI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return O_=t,O_}var M_,e3;function Qse(){if(e3)return M_;e3=1;var t=Bw(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(t){var s=a[o];return s===e?void 0:s}return r.call(a,o)?a[o]:void 0}return M_=i,M_}var P_,t3;function Jse(){if(t3)return P_;t3=1;var t=Bw(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return P_=r,P_}var R_,n3;function Zse(){if(n3)return R_;n3=1;var t=Bw(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return R_=n,R_}var j_,r3;function ele(){if(r3)return j_;r3=1;var t=Yse(),e=Xse(),n=Qse(),r=Jse(),i=Zse();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,j_=o,j_}var I_,i3;function tle(){if(i3)return I_;i3=1;function t(){this.__data__=[],this.size=0}return I_=t,I_}var L_,o3;function rM(){if(o3)return L_;o3=1;function t(e,n){return e===n||e!==e&&n!==n}return L_=t,L_}var D_,a3;function $w(){if(a3)return D_;a3=1;var t=rM();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return D_=e,D_}var F_,s3;function nle(){if(s3)return F_;s3=1;var t=$w(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,a=t(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return F_=r,F_}var B_,l3;function rle(){if(l3)return B_;l3=1;var t=$w();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return B_=e,B_}var $_,c3;function ile(){if(c3)return $_;c3=1;var t=$w();function e(n){return t(this.__data__,n)>-1}return $_=e,$_}var z_,u3;function ole(){if(u3)return z_;u3=1;var t=$w();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return z_=e,z_}var q_,d3;function zw(){if(d3)return q_;d3=1;var t=tle(),e=nle(),n=rle(),r=ile(),i=ole();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,q_=o,q_}var U_,f3;function iM(){if(f3)return U_;f3=1;var t=Jh(),e=Xc(),n=t(e,"Map");return U_=n,U_}var H_,h3;function ale(){if(h3)return H_;h3=1;var t=ele(),e=zw(),n=iM();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return H_=r,H_}var W_,p3;function sle(){if(p3)return W_;p3=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return W_=t,W_}var V_,m3;function qw(){if(m3)return V_;m3=1;var t=sle();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return V_=e,V_}var K_,g3;function lle(){if(g3)return K_;g3=1;var t=qw();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return K_=e,K_}var G_,v3;function cle(){if(v3)return G_;v3=1;var t=qw();function e(n){return t(this,n).get(n)}return G_=e,G_}var Y_,y3;function ule(){if(y3)return Y_;y3=1;var t=qw();function e(n){return t(this,n).has(n)}return Y_=e,Y_}var X_,b3;function dle(){if(b3)return X_;b3=1;var t=qw();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return X_=e,X_}var Q_,x3;function oM(){if(x3)return Q_;x3=1;var t=ale(),e=lle(),n=cle(),r=ule(),i=dle();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Q_=o,Q_}var J_,w3;function IU(){if(w3)return J_;w3=1;var t=oM(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var c=r.apply(this,a);return o.cache=l.set(s,c)||l,c};return o.cache=new(n.Cache||t),o}return n.Cache=t,J_=n,J_}var Z_,S3;function fle(){if(S3)return Z_;S3=1;var t=IU(),e=500;function n(r){var i=t(r,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return Z_=n,Z_}var eE,_3;function hle(){if(_3)return eE;_3=1;var t=fle(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,s,l,c){o.push(l?c.replace(n,"$1"):s||a)}),o});return eE=r,eE}var tE,E3;function aM(){if(E3)return tE;E3=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return tE=t,tE}var nE,N3;function ple(){if(N3)return nE;N3=1;var t=Qy(),e=aM(),n=ls(),r=cg(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return e(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return nE=a,nE}var rE,A3;function LU(){if(A3)return rE;A3=1;var t=ple();function e(n){return n==null?"":t(n)}return rE=e,rE}var iE,k3;function DU(){if(k3)return iE;k3=1;var t=ls(),e=tM(),n=hle(),r=LU();function i(o,a){return t(o)?o:e(o,a)?[o]:n(r(o))}return iE=i,iE}var oE,C3;function Uw(){if(C3)return oE;C3=1;var t=cg();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return oE=e,oE}var aE,T3;function sM(){if(T3)return aE;T3=1;var t=DU(),e=Uw();function n(r,i){i=t(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[e(i[o++])];return o&&o==a?r:void 0}return aE=n,aE}var sE,O3;function FU(){if(O3)return sE;O3=1;var t=sM();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return sE=e,sE}var mle=FU();const cl=cr(mle);var lE,M3;function gle(){if(M3)return lE;M3=1;function t(e){return e==null}return lE=t,lE}var vle=gle();const lr=cr(vle);var cE,P3;function yle(){if(P3)return cE;P3=1;var t=Ju(),e=ls(),n=Zu(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return cE=i,cE}var ble=yle();const jh=cr(ble);var xle=nM();const Hn=cr(xle);var wle=xf();const ug=cr(wle);var uE={exports:{}},mr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3;function Sle(){if(R3)return mr;R3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function v(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case n:case i:case r:case c:case u:return y;default:switch(y=y&&y.$$typeof,y){case s:case a:case l:case g:case f:case o:return y;default:return w}}case e:return w}}}return mr.ContextConsumer=a,mr.ContextProvider=o,mr.Element=t,mr.ForwardRef=l,mr.Fragment=n,mr.Lazy=g,mr.Memo=f,mr.Portal=e,mr.Profiler=i,mr.StrictMode=r,mr.Suspense=c,mr.SuspenseList=u,mr.isAsyncMode=function(){return!1},mr.isConcurrentMode=function(){return!1},mr.isContextConsumer=function(y){return v(y)===a},mr.isContextProvider=function(y){return v(y)===o},mr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},mr.isForwardRef=function(y){return v(y)===l},mr.isFragment=function(y){return v(y)===n},mr.isLazy=function(y){return v(y)===g},mr.isMemo=function(y){return v(y)===f},mr.isPortal=function(y){return v(y)===e},mr.isProfiler=function(y){return v(y)===i},mr.isStrictMode=function(y){return v(y)===r},mr.isSuspense=function(y){return v(y)===c},mr.isSuspenseList=function(y){return v(y)===u},mr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===c||y===u||y===m||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===f||y.$$typeof===o||y.$$typeof===a||y.$$typeof===l||y.$$typeof===b||y.getModuleId!==void 0)},mr.typeOf=v,mr}var j3;function _le(){return j3||(j3=1,uE.exports=Sle()),uE.exports}var Ele=_le(),dE,I3;function BU(){if(I3)return dE;I3=1;var t=Ju(),e=Zu(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return dE=r,dE}var fE,L3;function Nle(){if(L3)return fE;L3=1;var t=BU();function e(n){return t(n)&&n!=+n}return fE=e,fE}var Ale=Nle();const Jy=cr(Ale);var kle=BU();const Cle=cr(kle);var Gl=function(e){return e===0?0:e>0?1:-1},dh=function(e){return jh(e)&&e.indexOf("%")===e.length-1},gt=function(e){return Cle(e)&&!Jy(e)},Tle=function(e){return lr(e)},ho=function(e){return gt(e)||jh(e)},Ole=0,Hw=function(e){var n=++Ole;return"".concat(e||"").concat(n)},Ih=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!gt(e)&&!jh(e))return r;var o;if(dh(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Jy(o)&&(o=r),i&&o>n&&(o=n),o},Vd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mle=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Pp=function(e,n){return gt(e)&&gt(n)?function(r){return e+r*(n-e)}:function(){return n}};function zk(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):cl(r,e))===n})}var Ple=function(e,n){return gt(e)&&gt(n)?e-n:jh(e)&&jh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function am(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function qk(t){"@babel/helpers - typeof";return qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qk(t)}var Rle=["viewBox","children"],jle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],D3=["points","pathLength"],hE={svg:Rle,polygon:D3,polyline:D3},lM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],S1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),!ug(r))return null;var i={};return Object.keys(r).forEach(function(o){lM.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Ile=function(e,n,r){return function(i){return e(n,r,i),null}},_1=function(e,n,r){if(!ug(e)||qk(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];lM.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Ile(a,n,r))}),i},Lle=["children"],Dle=["children"];function F3(t,e){if(t==null)return{};var n=Fle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var B3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},zu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$3=null,pE=null,cM=function t(e){if(e===$3&&Array.isArray(pE))return pE;var n=[];return O.Children.forEach(e,function(r){lr(r)||(Ele.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),pE=n,$3=e,n};function Zl(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return zu(i)}):r=[zu(e)],cM(t).forEach(function(i){var o=cl(i,"type.displayName")||cl(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function _s(t,e){var n=Zl(t,e);return n&&n[0]}var z3=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!gt(r)||r<=0||!gt(i)||i<=0)},Ble=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$le=function(e){return e&&e.type&&jh(e.type)&&Ble.indexOf(e.type)>=0},zle=function(e,n,r,i){var o,a=(o=hE?.[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Hn(e)&&(i&&a.includes(n)||jle.includes(n))||r&&lM.includes(n)},sr=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!ug(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;zle((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Uk=function t(e,n){if(e===n)return!0;var r=O.Children.count(e);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return q3(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!q3(o,a))return!1}return!0},q3=function(e,n){if(lr(e)&&lr(n))return!0;if(!lr(e)&&!lr(n)){var r=e.props||{},i=r.children,o=F3(r,Lle),a=n.props||{},s=a.children,l=F3(a,Dle);return i&&s?am(o,l)&&Uk(i,s):!i&&!s?am(o,l):!1}return!1},U3=function(e,n){var r=[],i={};return cM(e).forEach(function(o,a){if($le(o))r.push(o);else if(o){var s=zu(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},qle=function(e){var n=e&&e.type;return n&&B3[n]?B3[n]:null},Ule=function(e,n){return cM(n).indexOf(e)},Hle=["children","width","height","viewBox","className","style","title","desc"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hk.apply(this,arguments)}function Wle(t,e){if(t==null)return{};var n=Vle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wk(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=Wle(t,Hle),u=i||{width:n,height:r,x:0,y:0},f=rr("recharts-surface",o);return Ce.createElement("svg",Hk({},sr(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ce.createElement("title",null,s),Ce.createElement("desc",null,l),e)}var Kle=["children","className"];function Vk(){return Vk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vk.apply(this,arguments)}function Gle(t,e){if(t==null)return{};var n=Yle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var To=Ce.forwardRef(function(t,e){var n=t.children,r=t.className,i=Gle(t,Kle),o=rr("recharts-layer",r);return Ce.createElement("g",Vk({className:o},sr(i,!0),{ref:e}),n)}),qu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},mE,H3;function Xle(){if(H3)return mE;H3=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+n];return a}return mE=t,mE}var gE,W3;function Qle(){if(W3)return gE;W3=1;var t=Xle();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return gE=e,gE}var vE,V3;function $U(){if(V3)return vE;V3=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+t+i+o+"]");function l(c){return s.test(c)}return vE=l,vE}var yE,K3;function Jle(){if(K3)return yE;K3=1;function t(e){return e.split("")}return yE=t,yE}var bE,G3;function Zle(){if(G3)return bE;G3=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",a="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+l+")",u="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",b=c+"?",v="["+o+"]?",y="(?:"+m+"(?:"+[u,f,g].join("|")+")"+v+b+")*",w=v+b+y,N="(?:"+[u+s+"?",s,f,g,a].join("|")+")",k=RegExp(l+"(?="+l+")|"+N+w,"g");function A(T){return T.match(k)||[]}return bE=A,bE}var xE,Y3;function ece(){if(Y3)return xE;Y3=1;var t=Jle(),e=$U(),n=Zle();function r(i){return e(i)?n(i):t(i)}return xE=r,xE}var wE,X3;function tce(){if(X3)return wE;X3=1;var t=Qle(),e=$U(),n=ece(),r=LU();function i(o){return function(a){a=r(a);var s=e(a)?n(a):void 0,l=s?s[0]:a.charAt(0),c=s?t(s,1).join(""):a.slice(1);return l[o]()+c}}return wE=i,wE}var SE,Q3;function nce(){if(Q3)return SE;Q3=1;var t=tce(),e=t("toUpperCase");return SE=e,SE}var rce=nce();const Ww=cr(rce);function Wr(t){return function(){return t}}const zU=Math.cos,E1=Math.sin,oc=Math.sqrt,N1=Math.PI,Vw=2*N1,Kk=Math.PI,Gk=2*Kk,ih=1e-6,ice=Gk-ih;function qU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function oce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qU;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ace{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qU:oce(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,f=s-n,g=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>ih)if(!(Math.abs(f*l-c*u)>ih)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,b=i-s,v=l*l+c*c,y=m*m+b*b,w=Math.sqrt(v),N=Math.sqrt(g),k=o*Math.tan((Kk-Math.acos((v+g-y)/(2*w*N)))/2),A=k/N,T=k/w;Math.abs(A-1)>ih&&this._append`L${e+A*u},${n+A*f}`,this._append`A${o},${o},0,0,${+(f*m>u*b)},${this._x1=e+T*l},${this._y1=n+T*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^a,g=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ih||Math.abs(this._y1-u)>ih)&&this._append`L${c},${u}`,r&&(g<0&&(g=g%Gk+Gk),g>ice?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:g>ih&&this._append`A${r},${r},0,${+(g>=Kk)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function uM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ace(e)}function dM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function UU(t){this._context=t}UU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kw(t){return new UU(t)}function HU(t){return t[0]}function WU(t){return t[1]}function VU(t,e){var n=Wr(!0),r=null,i=Kw,o=null,a=uM(s);t=typeof t=="function"?t:t===void 0?HU:Wr(t),e=typeof e=="function"?e:e===void 0?WU:Wr(e);function s(l){var c,u=(l=dM(l)).length,f,g=!1,m;for(r==null&&(o=i(m=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Wr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Wr(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Wr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function nb(t,e,n){var r=null,i=Wr(!0),o=null,a=Kw,s=null,l=uM(c);t=typeof t=="function"?t:t===void 0?HU:Wr(+t),e=typeof e=="function"?e:Wr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?WU:Wr(+n);function c(f){var g,m,b,v=(f=dM(f)).length,y,w=!1,N,k=new Array(v),A=new Array(v);for(o==null&&(s=a(N=l())),g=0;g<=v;++g){if(!(g<v&&i(y=f[g],g,f))===w)if(w=!w)m=g,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=g-1;b>=m;--b)s.point(k[b],A[b]);s.lineEnd(),s.areaEnd()}w&&(k[g]=+t(y,g,f),A[g]=+e(y,g,f),s.point(r?+r(y,g,f):k[g],n?+n(y,g,f):A[g]))}if(N)return s=null,N+""||null}function u(){return VU().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wr(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Wr(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wr(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wr(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Wr(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wr(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Wr(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class KU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function sce(t){return new KU(t,!0)}function lce(t){return new KU(t,!1)}const fM={draw(t,e){const n=oc(e/N1);t.moveTo(n,0),t.arc(0,0,n,0,Vw)}},cce={draw(t,e){const n=oc(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},GU=oc(1/3),uce=GU*2,dce={draw(t,e){const n=oc(e/uce),r=n*GU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},fce={draw(t,e){const n=oc(e),r=-n/2;t.rect(r,r,n,n)}},hce=.8908130915292852,YU=E1(N1/10)/E1(7*N1/10),pce=E1(Vw/10)*YU,mce=-zU(Vw/10)*YU,gce={draw(t,e){const n=oc(e*hce),r=pce*n,i=mce*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Vw*o/5,s=zU(a),l=E1(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},_E=oc(3),vce={draw(t,e){const n=-oc(e/(_E*3));t.moveTo(0,n*2),t.lineTo(-_E*n,-n),t.lineTo(_E*n,-n),t.closePath()}},Qs=-.5,Js=oc(3)/2,Yk=1/oc(12),yce=(Yk/2+1)*3,bce={draw(t,e){const n=oc(e/yce),r=n/2,i=n*Yk,o=r,a=n*Yk+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Qs*r-Js*i,Js*r+Qs*i),t.lineTo(Qs*o-Js*a,Js*o+Qs*a),t.lineTo(Qs*s-Js*l,Js*s+Qs*l),t.lineTo(Qs*r+Js*i,Qs*i-Js*r),t.lineTo(Qs*o+Js*a,Qs*a-Js*o),t.lineTo(Qs*s+Js*l,Qs*l-Js*s),t.closePath()}};function xce(t,e){let n=null,r=uM(i);t=typeof t=="function"?t:Wr(t||fM),e=typeof e=="function"?e:Wr(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Wr(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Wr(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function A1(){}function k1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function XU(t){this._context=t}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:k1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:k1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wce(t){return new XU(t)}function QU(t){this._context=t}QU.prototype={areaStart:A1,areaEnd:A1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:k1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sce(t){return new QU(t)}function JU(t){this._context=t}JU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:k1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ce(t){return new JU(t)}function ZU(t){this._context=t}ZU.prototype={areaStart:A1,areaEnd:A1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ece(t){return new ZU(t)}function J3(t){return t<0?-1:1}function Z3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(J3(o)+J3(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function eL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function EE(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function C1(t){this._context=t}C1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EE(this,this._t0,eL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,EE(this,eL(this,n=Z3(this,t,e)),n);break;default:EE(this,this._t0,n=Z3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eH(t){this._context=new tH(t)}(eH.prototype=Object.create(C1.prototype)).point=function(t,e){C1.prototype.point.call(this,e,t)};function tH(t){this._context=t}tH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Nce(t){return new C1(t)}function Ace(t){return new eH(t)}function nH(t){this._context=t}nH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tL(t),i=tL(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tL(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function kce(t){return new nH(t)}function Gw(t,e){this._context=t,this._t=e}Gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Cce(t){return new Gw(t,.5)}function Tce(t){return new Gw(t,0)}function Oce(t){return new Gw(t,1)}function Sm(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Mce(t,e){return t[e]}function Pce(t){const e=[];return e.key=t,e}function Rce(){var t=Wr([]),e=Xk,n=Sm,r=Mce;function i(o){var a=Array.from(t.apply(this,arguments),Pce),s,l=a.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,u=dM(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Wr(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Wr(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Xk:typeof o=="function"?o:Wr(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Sm,i):n},i}function jce(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Sm(t,e)}}function Ice(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Sm(t,e)}}function Lce(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],f=u[r][1]||0,g=u[r-1][1]||0,m=(f-g)/2,b=0;b<s;++b){var v=t[e[b]],y=v[r][1]||0,w=v[r-1][1]||0;m+=y-w}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Sm(t,e)}}function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var Dce=["type","size","sizeType"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qk.apply(this,arguments)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){Fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fce(t,e,n){return e=Bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t){var e=$ce(t,"string");return Uv(e)=="symbol"?e:e+""}function $ce(t,e){if(Uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zce(t,e){if(t==null)return{};var n=qce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rH={symbolCircle:fM,symbolCross:cce,symbolDiamond:dce,symbolSquare:fce,symbolStar:gce,symbolTriangle:vce,symbolWye:bce},Uce=Math.PI/180,Hce=function(e){var n="symbol".concat(Ww(e));return rH[n]||fM},Wce=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Uce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Vce=function(e,n){rH["symbol".concat(Ww(e))]=n},hM=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=zce(e,Dce),c=rL(rL({},l),{},{type:r,size:o,sizeType:s}),u=function(){var y=Hce(r),w=xce().type(y).size(Wce(o,s,r));return w()},f=c.className,g=c.cx,m=c.cy,b=sr(c,!0);return g===+g&&m===+m&&o===+o?Ce.createElement("path",Qk({},b,{className:rr("recharts-symbols",f),transform:"translate(".concat(g,", ").concat(m,")"),d:u()})):null};hM.registerSymbol=Vce;function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function Jk(){return Jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jk.apply(this,arguments)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){Hv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oH(r.key),r)}}function Xce(t,e,n){return e&&Yce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qce(t,e,n){return e=T1(e),Jce(t,iH()?Reflect.construct(e,n||[],T1(t).constructor):e.apply(t,n))}function Jce(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zce(t)}function Zce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!t})()}function T1(t){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T1(t)}function eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zk(t,e)}function Zk(t,e){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zk(t,e)}function Hv(t,e,n){return e=oH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oH(t){var e=tue(t,"string");return _m(e)=="symbol"?e:e+""}function tue(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zs=32,pM=(function(t){function e(){return Gce(this,e),Qce(this,e,arguments)}return eue(e,t),Xce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Zs/2,a=Zs/6,s=Zs/3,l=r.inactive?i:r.color;if(r.type==="plainline")return Ce.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Zs,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return Ce.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Zs,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return Ce.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zs/8,"h").concat(Zs,"v").concat(Zs*3/4,"h").concat(-Zs,"z"),className:"recharts-legend-icon"});if(Ce.isValidElement(r.legendIcon)){var c=Kce({},r);return delete c.legendIcon,Ce.cloneElement(r.legendIcon,c)}return Ce.createElement(hM,{fill:l,cx:o,cy:o,size:Zs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Zs,height:Zs},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,b){var v=m.formatter||l,y=rr(Hv(Hv({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=Hn(m.value)?null:m.value;qu(!Hn(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=m.inactive?c:m.color;return Ce.createElement("li",Jk({className:y,style:f,key:"legend-item-".concat(b)},_1(r.props,m,b)),Ce.createElement(Wk,{width:a,height:a,viewBox:u,style:g},r.renderIcon(m)),Ce.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},v?v(w,m,b):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return Ce.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(O.PureComponent);Hv(pM,"displayName","Legend");Hv(pM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var NE,oL;function nue(){if(oL)return NE;oL=1;var t=zw();function e(){this.__data__=new t,this.size=0}return NE=e,NE}var AE,aL;function rue(){if(aL)return AE;aL=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return AE=t,AE}var kE,sL;function iue(){if(sL)return kE;sL=1;function t(e){return this.__data__.get(e)}return kE=t,kE}var CE,lL;function oue(){if(lL)return CE;lL=1;function t(e){return this.__data__.has(e)}return CE=t,CE}var TE,cL;function aue(){if(cL)return TE;cL=1;var t=zw(),e=iM(),n=oM(),r=200;function i(o,a){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return TE=i,TE}var OE,uL;function aH(){if(uL)return OE;uL=1;var t=zw(),e=nue(),n=rue(),r=iue(),i=oue(),o=aue();function a(s){var l=this.__data__=new t(s);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,OE=a,OE}var ME,dL;function sue(){if(dL)return ME;dL=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return ME=e,ME}var PE,fL;function lue(){if(fL)return PE;fL=1;function t(e){return this.__data__.has(e)}return PE=t,PE}var RE,hL;function sH(){if(hL)return RE;hL=1;var t=oM(),e=sue(),n=lue();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,RE=r,RE}var jE,pL;function lH(){if(pL)return jE;pL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return jE=t,jE}var IE,mL;function cH(){if(mL)return IE;mL=1;function t(e,n){return e.has(n)}return IE=t,IE}var LE,gL;function uH(){if(gL)return LE;gL=1;var t=sH(),e=lH(),n=cH(),r=1,i=2;function o(a,s,l,c,u,f){var g=l&r,m=a.length,b=s.length;if(m!=b&&!(g&&b>m))return!1;var v=f.get(a),y=f.get(s);if(v&&y)return v==s&&y==a;var w=-1,N=!0,k=l&i?new t:void 0;for(f.set(a,s),f.set(s,a);++w<m;){var A=a[w],T=s[w];if(c)var P=g?c(T,A,w,s,a,f):c(A,T,w,a,s,f);if(P!==void 0){if(P)continue;N=!1;break}if(k){if(!e(s,function(L,C){if(!n(k,C)&&(A===L||u(A,L,l,c,f)))return k.push(C)})){N=!1;break}}else if(!(A===T||u(A,T,l,c,f))){N=!1;break}}return f.delete(a),f.delete(s),N}return LE=o,LE}var DE,vL;function cue(){if(vL)return DE;vL=1;var t=Xc(),e=t.Uint8Array;return DE=e,DE}var FE,yL;function uue(){if(yL)return FE;yL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return FE=t,FE}var BE,bL;function mM(){if(bL)return BE;bL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return BE=t,BE}var $E,xL;function due(){if(xL)return $E;xL=1;var t=Qy(),e=cue(),n=rM(),r=uH(),i=uue(),o=mM(),a=1,s=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",g="[object Number]",m="[object RegExp]",b="[object Set]",v="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",N="[object DataView]",k=t?t.prototype:void 0,A=k?k.valueOf:void 0;function T(P,L,C,M,q,D,I){switch(C){case N:if(P.byteLength!=L.byteLength||P.byteOffset!=L.byteOffset)return!1;P=P.buffer,L=L.buffer;case w:return!(P.byteLength!=L.byteLength||!D(new e(P),new e(L)));case l:case c:case g:return n(+P,+L);case u:return P.name==L.name&&P.message==L.message;case m:case v:return P==L+"";case f:var z=i;case b:var U=M&a;if(z||(z=o),P.size!=L.size&&!U)return!1;var Y=I.get(P);if(Y)return Y==L;M|=s,I.set(P,L);var ne=r(z(P),z(L),M,q,D,I);return I.delete(P),ne;case y:if(A)return A.call(P)==A.call(L)}return!1}return $E=T,$E}var zE,wL;function dH(){if(wL)return zE;wL=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return zE=t,zE}var qE,SL;function fue(){if(SL)return qE;SL=1;var t=dH(),e=ls();function n(r,i,o){var a=i(r);return e(r)?a:t(a,o(r))}return qE=n,qE}var UE,_L;function hue(){if(_L)return UE;_L=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,a=[];++r<i;){var s=e[r];n(s,r,e)&&(a[o++]=s)}return a}return UE=t,UE}var HE,EL;function pue(){if(EL)return HE;EL=1;function t(){return[]}return HE=t,HE}var WE,NL;function mue(){if(NL)return WE;NL=1;var t=hue(),e=pue(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(s){return r.call(a,s)}))}:e;return WE=o,WE}var VE,AL;function gue(){if(AL)return VE;AL=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return VE=t,VE}var KE,kL;function vue(){if(kL)return KE;kL=1;var t=Ju(),e=Zu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return KE=r,KE}var GE,CL;function gM(){if(CL)return GE;CL=1;var t=vue(),e=Zu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return GE=o,GE}var fv={exports:{}},YE,TL;function yue(){if(TL)return YE;TL=1;function t(){return!1}return YE=t,YE}fv.exports;var OL;function fH(){return OL||(OL=1,(function(t,e){var n=Xc(),r=yue(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(fv,fv.exports)),fv.exports}var XE,ML;function vM(){if(ML)return XE;ML=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return XE=n,XE}var QE,PL;function yM(){if(PL)return QE;PL=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return QE=e,QE}var JE,RL;function bue(){if(RL)return JE;RL=1;var t=Ju(),e=yM(),n=Zu(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",N="[object Float32Array]",k="[object Float64Array]",A="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",L="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",q="[object Uint32Array]",D={};D[N]=D[k]=D[A]=D[T]=D[P]=D[L]=D[C]=D[M]=D[q]=!0,D[r]=D[i]=D[y]=D[o]=D[w]=D[a]=D[s]=D[l]=D[c]=D[u]=D[f]=D[g]=D[m]=D[b]=D[v]=!1;function I(z){return n(z)&&e(z.length)&&!!D[t(z)]}return JE=I,JE}var ZE,jL;function hH(){if(jL)return ZE;jL=1;function t(e){return function(n){return e(n)}}return ZE=t,ZE}var hv={exports:{}};hv.exports;var IL;function xue(){return IL||(IL=1,(function(t,e){var n=RU(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=s})(hv,hv.exports)),hv.exports}var eN,LL;function pH(){if(LL)return eN;LL=1;var t=bue(),e=hH(),n=xue(),r=n&&n.isTypedArray,i=r?e(r):t;return eN=i,eN}var tN,DL;function wue(){if(DL)return tN;DL=1;var t=gue(),e=gM(),n=ls(),r=fH(),i=vM(),o=pH(),a=Object.prototype,s=a.hasOwnProperty;function l(c,u){var f=n(c),g=!f&&e(c),m=!f&&!g&&r(c),b=!f&&!g&&!m&&o(c),v=f||g||m||b,y=v?t(c.length,String):[],w=y.length;for(var N in c)(u||s.call(c,N))&&!(v&&(N=="length"||m&&(N=="offset"||N=="parent")||b&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,w)))&&y.push(N);return y}return tN=l,tN}var nN,FL;function Sue(){if(FL)return nN;FL=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return nN=e,nN}var rN,BL;function mH(){if(BL)return rN;BL=1;function t(e,n){return function(r){return e(n(r))}}return rN=t,rN}var iN,$L;function _ue(){if($L)return iN;$L=1;var t=mH(),e=t(Object.keys,Object);return iN=e,iN}var oN,zL;function Eue(){if(zL)return oN;zL=1;var t=Sue(),e=_ue(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return oN=i,oN}var aN,qL;function Zy(){if(qL)return aN;qL=1;var t=nM(),e=yM();function n(r){return r!=null&&e(r.length)&&!t(r)}return aN=n,aN}var sN,UL;function Yw(){if(UL)return sN;UL=1;var t=wue(),e=Eue(),n=Zy();function r(i){return n(i)?t(i):e(i)}return sN=r,sN}var lN,HL;function Nue(){if(HL)return lN;HL=1;var t=fue(),e=mue(),n=Yw();function r(i){return t(i,n,e)}return lN=r,lN}var cN,WL;function Aue(){if(WL)return cN;WL=1;var t=Nue(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,c,u){var f=s&e,g=t(o),m=g.length,b=t(a),v=b.length;if(m!=v&&!f)return!1;for(var y=m;y--;){var w=g[y];if(!(f?w in a:r.call(a,w)))return!1}var N=u.get(o),k=u.get(a);if(N&&k)return N==a&&k==o;var A=!0;u.set(o,a),u.set(a,o);for(var T=f;++y<m;){w=g[y];var P=o[w],L=a[w];if(l)var C=f?l(L,P,w,a,o,u):l(P,L,w,o,a,u);if(!(C===void 0?P===L||c(P,L,s,l,u):C)){A=!1;break}T||(T=w=="constructor")}if(A&&!T){var M=o.constructor,q=a.constructor;M!=q&&"constructor"in o&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof q=="function"&&q instanceof q)&&(A=!1)}return u.delete(o),u.delete(a),A}return cN=i,cN}var uN,VL;function kue(){if(VL)return uN;VL=1;var t=Jh(),e=Xc(),n=t(e,"DataView");return uN=n,uN}var dN,KL;function Cue(){if(KL)return dN;KL=1;var t=Jh(),e=Xc(),n=t(e,"Promise");return dN=n,dN}var fN,GL;function gH(){if(GL)return fN;GL=1;var t=Jh(),e=Xc(),n=t(e,"Set");return fN=n,fN}var hN,YL;function Tue(){if(YL)return hN;YL=1;var t=Jh(),e=Xc(),n=t(e,"WeakMap");return hN=n,hN}var pN,XL;function Oue(){if(XL)return pN;XL=1;var t=kue(),e=iM(),n=Cue(),r=gH(),i=Tue(),o=Ju(),a=jU(),s="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",g="[object DataView]",m=a(t),b=a(e),v=a(n),y=a(r),w=a(i),N=o;return(t&&N(new t(new ArrayBuffer(1)))!=g||e&&N(new e)!=s||n&&N(n.resolve())!=c||r&&N(new r)!=u||i&&N(new i)!=f)&&(N=function(k){var A=o(k),T=A==l?k.constructor:void 0,P=T?a(T):"";if(P)switch(P){case m:return g;case b:return s;case v:return c;case y:return u;case w:return f}return A}),pN=N,pN}var mN,QL;function Mue(){if(QL)return mN;QL=1;var t=aH(),e=uH(),n=due(),r=Aue(),i=Oue(),o=ls(),a=fH(),s=pH(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function b(v,y,w,N,k,A){var T=o(v),P=o(y),L=T?u:i(v),C=P?u:i(y);L=L==c?f:L,C=C==c?f:C;var M=L==f,q=C==f,D=L==C;if(D&&a(v)){if(!a(y))return!1;T=!0,M=!1}if(D&&!M)return A||(A=new t),T||s(v)?e(v,y,w,N,k,A):n(v,y,L,w,N,k,A);if(!(w&l)){var I=M&&m.call(v,"__wrapped__"),z=q&&m.call(y,"__wrapped__");if(I||z){var U=I?v.value():v,Y=z?y.value():y;return A||(A=new t),k(U,Y,w,N,A)}}return D?(A||(A=new t),r(v,y,w,N,k,A)):!1}return mN=b,mN}var gN,JL;function bM(){if(JL)return gN;JL=1;var t=Mue(),e=Zu();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,a,n,s)}return gN=n,gN}var vN,ZL;function Pue(){if(ZL)return vN;ZL=1;var t=aH(),e=bM(),n=1,r=2;function i(o,a,s,l){var c=s.length,u=c,f=!l;if(o==null)return!u;for(o=Object(o);c--;){var g=s[c];if(f&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++c<u;){g=s[c];var m=g[0],b=o[m],v=g[1];if(f&&g[2]){if(b===void 0&&!(m in o))return!1}else{var y=new t;if(l)var w=l(b,v,m,o,a,y);if(!(w===void 0?e(v,b,n|r,l,y):w))return!1}}return!0}return vN=i,vN}var yN,e4;function vH(){if(e4)return yN;e4=1;var t=xf();function e(n){return n===n&&!t(n)}return yN=e,yN}var bN,t4;function Rue(){if(t4)return bN;t4=1;var t=vH(),e=Yw();function n(r){for(var i=e(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,t(s)]}return i}return bN=n,bN}var xN,n4;function yH(){if(n4)return xN;n4=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return xN=t,xN}var wN,r4;function jue(){if(r4)return wN;r4=1;var t=Pue(),e=Rue(),n=yH();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return wN=r,wN}var SN,i4;function Iue(){if(i4)return SN;i4=1;function t(e,n){return e!=null&&n in Object(e)}return SN=t,SN}var _N,o4;function Lue(){if(o4)return _N;o4=1;var t=DU(),e=gM(),n=ls(),r=vM(),i=yM(),o=Uw();function a(s,l,c){l=t(l,s);for(var u=-1,f=l.length,g=!1;++u<f;){var m=o(l[u]);if(!(g=s!=null&&c(s,m)))break;s=s[m]}return g||++u!=f?g:(f=s==null?0:s.length,!!f&&i(f)&&r(m,f)&&(n(s)||e(s)))}return _N=a,_N}var EN,a4;function Due(){if(a4)return EN;a4=1;var t=Iue(),e=Lue();function n(r,i){return r!=null&&e(r,i,t)}return EN=n,EN}var NN,s4;function Fue(){if(s4)return NN;s4=1;var t=bM(),e=FU(),n=Due(),r=tM(),i=vH(),o=yH(),a=Uw(),s=1,l=2;function c(u,f){return r(u)&&i(f)?o(a(u),f):function(g){var m=e(g,u);return m===void 0&&m===f?n(g,u):t(f,m,s|l)}}return NN=c,NN}var AN,l4;function dg(){if(l4)return AN;l4=1;function t(e){return e}return AN=t,AN}var kN,c4;function Bue(){if(c4)return kN;c4=1;function t(e){return function(n){return n?.[e]}}return kN=t,kN}var CN,u4;function $ue(){if(u4)return CN;u4=1;var t=sM();function e(n){return function(r){return t(r,n)}}return CN=e,CN}var TN,d4;function zue(){if(d4)return TN;d4=1;var t=Bue(),e=$ue(),n=tM(),r=Uw();function i(o){return n(o)?t(r(o)):e(o)}return TN=i,TN}var ON,f4;function wf(){if(f4)return ON;f4=1;var t=jue(),e=Fue(),n=dg(),r=ls(),i=zue();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return ON=o,ON}var MN,h4;function bH(){if(h4)return MN;h4=1;function t(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return-1}return MN=t,MN}var PN,p4;function que(){if(p4)return PN;p4=1;function t(e){return e!==e}return PN=t,PN}var RN,m4;function Uue(){if(m4)return RN;m4=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return RN=t,RN}var jN,g4;function Hue(){if(g4)return jN;g4=1;var t=bH(),e=que(),n=Uue();function r(i,o,a){return o===o?n(i,o,a):t(i,e,a)}return jN=r,jN}var IN,v4;function Wue(){if(v4)return IN;v4=1;var t=Hue();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return IN=e,IN}var LN,y4;function Vue(){if(y4)return LN;y4=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return LN=t,LN}var DN,b4;function Kue(){if(b4)return DN;b4=1;function t(){}return DN=t,DN}var FN,x4;function Gue(){if(x4)return FN;x4=1;var t=gH(),e=Kue(),n=mM(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return FN=i,FN}var BN,w4;function Yue(){if(w4)return BN;w4=1;var t=sH(),e=Wue(),n=Vue(),r=cH(),i=Gue(),o=mM(),a=200;function s(l,c,u){var f=-1,g=e,m=l.length,b=!0,v=[],y=v;if(u)b=!1,g=n;else if(m>=a){var w=c?null:i(l);if(w)return o(w);b=!1,g=r,y=new t}else y=c?[]:v;e:for(;++f<m;){var N=l[f],k=c?c(N):N;if(N=u||N!==0?N:0,b&&k===k){for(var A=y.length;A--;)if(y[A]===k)continue e;c&&y.push(k),v.push(N)}else g(y,k,u)||(y!==v&&y.push(k),v.push(N))}return v}return BN=s,BN}var $N,S4;function Xue(){if(S4)return $N;S4=1;var t=wf(),e=Yue();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return $N=n,$N}var Que=Xue();const _4=cr(Que);function xH(t,e,n){return e===!0?_4(t,n):Hn(e)?_4(t,e):t}function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}var Jue=["ref"];function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){Xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SH(r.key),r)}}function ede(t,e,n){return e&&N4(t.prototype,e),n&&N4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tde(t,e,n){return e=O1(e),nde(t,wH()?Reflect.construct(e,n||[],O1(t).constructor):e.apply(t,n))}function nde(t,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rde(t)}function rde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wH=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O1(t)}function ide(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eC(t,e)}function Xw(t,e,n){return e=SH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SH(t){var e=ode(t,"string");return Em(e)=="symbol"?e:e+""}function ode(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ade(t,e){if(t==null)return{};var n=sde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lde(t){return t.value}function cde(t,e){if(Ce.isValidElement(t))return Ce.cloneElement(t,e);if(typeof t=="function")return Ce.createElement(t,e);e.ref;var n=ade(e,Jue);return Ce.createElement(pM,n)}var A4=1,sm=(function(t){function e(){var n;Zue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tde(this,e,[].concat(i)),Xw(n,"lastBoundingBox",{width:-1,height:-1}),n}return ide(e,t),ede(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>A4||Math.abs(i.height-this.lastBoundingBox.height)>A4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Au({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();g={top:((u||0)-b.height)/2}}else g=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Au(Au({},f),g)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Au(Au({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return Ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},cde(o,Au(Au({},this.props),{},{payload:xH(u,c,lde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Au(Au({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&gt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(O.PureComponent);Xw(sm,"displayName","Legend");Xw(sm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zN,k4;function ude(){if(k4)return zN;k4=1;var t=Qy(),e=gM(),n=ls(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return zN=i,zN}var qN,C4;function _H(){if(C4)return qN;C4=1;var t=dH(),e=ude();function n(r,i,o,a,s){var l=-1,c=r.length;for(o||(o=e),s||(s=[]);++l<c;){var u=r[l];i>0&&o(u)?i>1?n(u,i-1,o,a,s):t(s,u):a||(s[s.length]=u)}return s}return qN=n,qN}var UN,T4;function dde(){if(T4)return UN;T4=1;function t(e){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var c=s[e?l:++o];if(r(a[c],c,a)===!1)break}return n}}return UN=t,UN}var HN,O4;function fde(){if(O4)return HN;O4=1;var t=dde(),e=t();return HN=e,HN}var WN,M4;function EH(){if(M4)return WN;M4=1;var t=fde(),e=Yw();function n(r,i){return r&&t(r,i,e)}return WN=n,WN}var VN,P4;function hde(){if(P4)return VN;P4=1;var t=Zy();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return VN=e,VN}var KN,R4;function xM(){if(R4)return KN;R4=1;var t=EH(),e=hde(),n=e(t);return KN=n,KN}var GN,j4;function NH(){if(j4)return GN;j4=1;var t=xM(),e=Zy();function n(r,i){var o=-1,a=e(r)?Array(r.length):[];return t(r,function(s,l,c){a[++o]=i(s,l,c)}),a}return GN=n,GN}var YN,I4;function pde(){if(I4)return YN;I4=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return YN=t,YN}var XN,L4;function mde(){if(L4)return XN;L4=1;var t=cg();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=t(n),l=r!==void 0,c=r===null,u=r===r,f=t(r);if(!c&&!f&&!s&&n>r||s&&l&&u&&!c&&!f||o&&l&&u||!i&&u||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||c&&i&&a||!l&&a||!u)return-1}return 0}return XN=e,XN}var QN,D4;function gde(){if(D4)return QN;D4=1;var t=mde();function e(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,c=i.length;++o<l;){var u=t(a[o],s[o]);if(u){if(o>=c)return u;var f=i[o];return u*(f=="desc"?-1:1)}}return n.index-r.index}return QN=e,QN}var JN,F4;function vde(){if(F4)return JN;F4=1;var t=aM(),e=sM(),n=wf(),r=NH(),i=pde(),o=hH(),a=gde(),s=dg(),l=ls();function c(u,f,g){f.length?f=t(f,function(v){return l(v)?function(y){return e(y,v.length===1?v[0]:v)}:v}):f=[s];var m=-1;f=t(f,o(n));var b=r(u,function(v,y,w){var N=t(f,function(k){return k(v)});return{criteria:N,index:++m,value:v}});return i(b,function(v,y){return a(v,y,g)})}return JN=c,JN}var ZN,B4;function yde(){if(B4)return ZN;B4=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return ZN=t,ZN}var eA,$4;function bde(){if($4)return eA;$4=1;var t=yde(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=e(a.length-i,0),c=Array(l);++s<l;)c[s]=a[i+s];s=-1;for(var u=Array(i+1);++s<i;)u[s]=a[s];return u[i]=o(c),t(r,this,u)}}return eA=n,eA}var tA,z4;function xde(){if(z4)return tA;z4=1;function t(e){return function(){return e}}return tA=t,tA}var nA,q4;function AH(){if(q4)return nA;q4=1;var t=Jh(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return nA=e,nA}var rA,U4;function wde(){if(U4)return rA;U4=1;var t=xde(),e=AH(),n=dg(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return rA=r,rA}var iA,H4;function Sde(){if(H4)return iA;H4=1;var t=800,e=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=e-(s-a);if(a=s,l>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return iA=r,iA}var oA,W4;function _de(){if(W4)return oA;W4=1;var t=wde(),e=Sde(),n=e(t);return oA=n,oA}var aA,V4;function Ede(){if(V4)return aA;V4=1;var t=dg(),e=bde(),n=_de();function r(i,o){return n(e(i,o,t),i+"")}return aA=r,aA}var sA,K4;function Qw(){if(K4)return sA;K4=1;var t=rM(),e=Zy(),n=vM(),r=xf();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?e(s)&&n(a,s.length):l=="string"&&a in s)?t(s[a],o):!1}return sA=i,sA}var lA,G4;function Nde(){if(G4)return lA;G4=1;var t=_H(),e=vde(),n=Ede(),r=Qw(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return lA=i,lA}var Ade=Nde();const wM=cr(Ade);function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tC.apply(this,arguments)}function kde(t,e){return Mde(t)||Ode(t,e)||Tde(t,e)||Cde()}function Cde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(t,e){if(t){if(typeof t=="string")return Y4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y4(t,e)}}function Y4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ode(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Mde(t){if(Array.isArray(t))return t}function X4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(n),!0).forEach(function(r){Pde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pde(t,e,n){return e=Rde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rde(t){var e=jde(t,"string");return Wv(e)=="symbol"?e:e+""}function jde(t,e){if(Wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ide(t){return Array.isArray(t)&&ho(t[0])&&ho(t[1])?t.join(" ~ "):t}var Lde=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,g=e.itemSorter,m=e.wrapperClassName,b=e.labelClassName,v=e.label,y=e.labelFormatter,w=e.accessibilityLayer,N=w===void 0?!1:w,k=function(){if(u&&u.length){var I={padding:0,margin:0},z=(g?wM(u,g):u).map(function(U,Y){if(U.type==="none")return null;var ne=cA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),W=U.formatter||f||Ide,G=U.value,K=U.name,fe=G,X=K;if(W&&fe!=null&&X!=null){var F=W(G,K,U,Y,u);if(Array.isArray(F)){var V=kde(F,2);fe=V[0],X=V[1]}else fe=F}return Ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:ne},ho(X)?Ce.createElement("span",{className:"recharts-tooltip-item-name"},X):null,ho(X)?Ce.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Ce.createElement("span",{className:"recharts-tooltip-item-value"},fe),Ce.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Ce.createElement("ul",{className:"recharts-tooltip-item-list",style:I},z)}return null},A=cA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=cA({margin:0},c),P=!lr(v),L=P?v:"",C=rr("recharts-default-tooltip",m),M=rr("recharts-tooltip-label",b);P&&y&&u!==void 0&&u!==null&&(L=y(v,u));var q=N?{role:"status","aria-live":"assertive"}:{};return Ce.createElement("div",tC({className:C,style:A},q),Ce.createElement("p",{className:M,style:T},Ce.isValidElement(L)?L:"".concat(L)),k())};function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function rb(t,e,n){return e=Dde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dde(t){var e=Fde(t,"string");return Vv(e)=="symbol"?e:e+""}function Fde(t,e){if(Vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yg="recharts-tooltip-wrapper",Bde={visibility:"hidden"};function $de(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return rr(Yg,rb(rb(rb(rb({},"".concat(Yg,"-right"),gt(n)&&e&&gt(e.x)&&n>=e.x),"".concat(Yg,"-left"),gt(n)&&e&&gt(e.x)&&n<e.x),"".concat(Yg,"-bottom"),gt(r)&&e&&gt(e.y)&&r>=e.y),"".concat(Yg,"-top"),gt(r)&&e&&gt(e.y)&&r<e.y))}function Q4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&gt(o[r]))return o[r];var u=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?u:f;if(a[r]){var g=u,m=l[r];return g<m?Math.max(f,l[r]):Math.max(u,l[r])}var b=f+s,v=l[r]+c;return b>v?Math.max(u,l[r]):Math.max(f,l[r])}function zde(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function qde(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return a.height>0&&a.width>0&&n?(u=Q4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=Q4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=zde({translateX:u,translateY:f,useTranslate3d:s})):c=Bde,{cssProperties:c,cssClasses:$de({translateX:u,translateY:f,coordinate:n})}}function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){rC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CH(r.key),r)}}function Wde(t,e,n){return e&&Hde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vde(t,e,n){return e=M1(e),Kde(t,kH()?Reflect.construct(e,n||[],M1(t).constructor):e.apply(t,n))}function Kde(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gde(t)}function Gde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!t})()}function M1(t){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M1(t)}function Yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nC(t,e)}function rC(t,e,n){return e=CH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CH(t){var e=Xde(t,"string");return Nm(e)=="symbol"?e:e+""}function Xde(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eD=1,Qde=(function(t){function e(){var n;Ude(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Vde(this,e,[].concat(i)),rC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),rC(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return Yde(e,t),Wde(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>eD||Math.abs(r.height-this.state.lastBoundingBox.height)>eD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,g=i.isAnimationActive,m=i.offset,b=i.position,v=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,N=i.wrapperStyle,k=qde({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:m,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),A=k.cssClasses,T=k.cssProperties,P=Z4(Z4({transition:g&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},N);return Ce.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(C){r.wrapperNode=C}},c)}}])})(O.PureComponent),Jde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},e0={isSsr:Jde()};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){SM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function efe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OH(r.key),r)}}function tfe(t,e,n){return e&&efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nfe(t,e,n){return e=P1(e),rfe(t,TH()?Reflect.construct(e,n||[],P1(t).constructor):e.apply(t,n))}function rfe(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ife(t)}function ife(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TH=function(){return!!t})()}function P1(t){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P1(t)}function ofe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iC(t,e)}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iC(t,e)}function SM(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=afe(t,"string");return Am(e)=="symbol"?e:e+""}function afe(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sfe(t){return t.dataKey}function lfe(t,e){return Ce.isValidElement(t)?Ce.cloneElement(t,e):typeof t=="function"?Ce.createElement(t,e):Ce.createElement(Lde,e)}var Hl=(function(t){function e(){return Zde(this,e),nfe(this,e,arguments)}return ofe(e,t),tfe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,g=i.isAnimationActive,m=i.offset,b=i.payload,v=i.payloadUniqBy,y=i.position,w=i.reverseDirection,N=i.useTranslate3d,k=i.viewBox,A=i.wrapperStyle,T=b??[];f&&T.length&&(T=xH(b.filter(function(L){return L.value!=null&&(L.hide!==!0||r.props.includeHidden)}),v,sfe));var P=T.length>0;return Ce.createElement(Qde,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:g,active:o,coordinate:u,hasPayload:P,offset:m,position:y,reverseDirection:w,useTranslate3d:N,viewBox:k,wrapperStyle:A},lfe(c,nD(nD({},this.props),{},{payload:T})))}}])})(O.PureComponent);SM(Hl,"displayName","Tooltip");SM(Hl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!e0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uA,rD;function cfe(){if(rD)return uA;rD=1;var t=Xc(),e=function(){return t.Date.now()};return uA=e,uA}var dA,iD;function ufe(){if(iD)return dA;iD=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return dA=e,dA}var fA,oD;function dfe(){if(oD)return fA;oD=1;var t=ufe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return fA=n,fA}var hA,aD;function MH(){if(aD)return hA;aD=1;var t=dfe(),e=xf(),n=cg(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var f=o.test(c);return f||a.test(c)?s(c.slice(2),f?2:8):i.test(c)?r:+c}return hA=l,hA}var pA,sD;function ffe(){if(sD)return pA;sD=1;var t=xf(),e=cfe(),n=MH(),r="Expected a function",i=Math.max,o=Math.min;function a(s,l,c){var u,f,g,m,b,v,y=0,w=!1,N=!1,k=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(w=!!c.leading,N="maxWait"in c,g=N?i(n(c.maxWait)||0,l):g,k="trailing"in c?!!c.trailing:k);function A(z){var U=u,Y=f;return u=f=void 0,y=z,m=s.apply(Y,U),m}function T(z){return y=z,b=setTimeout(C,l),w?A(z):m}function P(z){var U=z-v,Y=z-y,ne=l-U;return N?o(ne,g-Y):ne}function L(z){var U=z-v,Y=z-y;return v===void 0||U>=l||U<0||N&&Y>=g}function C(){var z=e();if(L(z))return M(z);b=setTimeout(C,P(z))}function M(z){return b=void 0,k&&u?A(z):(u=f=void 0,m)}function q(){b!==void 0&&clearTimeout(b),y=0,u=v=f=b=void 0}function D(){return b===void 0?m:M(e())}function I(){var z=e(),U=L(z);if(u=arguments,f=this,v=z,U){if(b===void 0)return T(v);if(N)return clearTimeout(b),b=setTimeout(C,l),A(v)}return b===void 0&&(b=setTimeout(C,l)),m}return I.cancel=q,I.flush=D,I}return pA=a,pA}var mA,lD;function hfe(){if(lD)return mA;lD=1;var t=ffe(),e=xf(),n="Expected a function";function r(i,o,a){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),t(i,o,{leading:s,maxWait:o,trailing:l})}return mA=r,mA}var pfe=hfe();const PH=cr(pfe);function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mfe(t,e,n){return e=gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=vfe(t,"string");return Kv(e)=="symbol"?e:e+""}function vfe(t,e){if(Kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yfe(t,e){return Sfe(t)||wfe(t,e)||xfe(t,e)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(t,e){if(t){if(typeof t=="string")return uD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uD(t,e)}}function uD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Sfe(t){if(Array.isArray(t))return t}var dD=O.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,g=t.maxHeight,m=t.children,b=t.debounce,v=b===void 0?0:b,y=t.id,w=t.className,N=t.onResize,k=t.style,A=k===void 0?{}:k,T=O.useRef(null),P=O.useRef();P.current=N,O.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var L=O.useState({containerWidth:i.width,containerHeight:i.height}),C=yfe(L,2),M=C[0],q=C[1],D=O.useCallback(function(z,U){q(function(Y){var ne=Math.round(z),W=Math.round(U);return Y.containerWidth===ne&&Y.containerHeight===W?Y:{containerWidth:ne,containerHeight:W}})},[]);O.useEffect(function(){var z=function(K){var fe,X=K[0].contentRect,F=X.width,V=X.height;D(F,V),(fe=P.current)===null||fe===void 0||fe.call(P,F,V)};v>0&&(z=PH(z,v,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),Y=T.current.getBoundingClientRect(),ne=Y.width,W=Y.height;return D(ne,W),U.observe(T.current),function(){U.disconnect()}},[D,v]);var I=O.useMemo(function(){var z=M.containerWidth,U=M.containerHeight;if(z<0||U<0)return null;qu(dh(a)||dh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),qu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=dh(a)?z:a,ne=dh(l)?U:l;n&&n>0&&(Y?ne=Y/n:ne&&(Y=ne*n),g&&ne>g&&(ne=g)),qu(Y>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,ne,a,l,u,f,n);var W=!Array.isArray(m)&&zu(m.type).endsWith("Chart");return Ce.Children.map(m,function(G){return Ce.isValidElement(G)?O.cloneElement(G,ib({width:Y,height:ne},W?{style:ib({height:"100%",width:"100%",maxHeight:ne,maxWidth:Y},G.props.style)}:{})):G})},[n,m,l,g,f,u,M,a]);return Ce.createElement("div",{id:y?"".concat(y):void 0,className:rr("recharts-responsive-container",w),style:ib(ib({},A),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:g}),ref:T},I)}),R1=function(e){return null};R1.displayName="Cell";function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){_fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e,n){return e=Efe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Efe(t){var e=Nfe(t,"string");return Gv(e)=="symbol"?e:e+""}function Nfe(t,e){if(Gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rp={widthCache:{},cacheCount:0},Afe=2e3,kfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hD="recharts_measurement_span";function Cfe(t){var e=oC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var wv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||e0.isSsr)return{width:0,height:0};var r=Cfe(n),i=JSON.stringify({text:e,copyStyle:r});if(Rp.widthCache[i])return Rp.widthCache[i];try{var o=document.getElementById(hD);o||(o=document.createElement("span"),o.setAttribute("id",hD),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=oC(oC({},kfe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Rp.widthCache[i]=l,++Rp.cacheCount>Afe&&(Rp.cacheCount=0,Rp.widthCache={}),l}catch{return{width:0,height:0}}},Tfe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function j1(t,e){return Rfe(t)||Pfe(t,e)||Mfe(t,e)||Ofe()}function Ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mfe(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Rfe(t){if(Array.isArray(t))return t}function jfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lfe(r.key),r)}}function Ife(t,e,n){return e&&mD(t.prototype,e),n&&mD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lfe(t){var e=Dfe(t,"string");return Yv(e)=="symbol"?e:e+""}function Dfe(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ffe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$fe=Object.keys(RH),Jp="NaN";function zfe(t,e){return t*RH[e]}var ob=(function(){function t(e,n){jfe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ffe.test(n)&&(this.num=NaN,this.unit=""),$fe.includes(n)&&(this.num=zfe(e,n),this.unit="px")}return Ife(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Bfe.exec(n))!==null&&r!==void 0?r:[],o=j1(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])})();function jH(t){if(t.includes(Jp))return Jp;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=gD.exec(e))!==null&&n!==void 0?n:[],i=j1(r,4),o=i[1],a=i[2],s=i[3],l=ob.parse(o??""),c=ob.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Jp;e=e.replace(gD,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,g=(f=vD.exec(e))!==null&&f!==void 0?f:[],m=j1(g,4),b=m[1],v=m[2],y=m[3],w=ob.parse(b??""),N=ob.parse(y??""),k=v==="+"?w.add(N):w.subtract(N);if(k.isNaN())return Jp;e=e.replace(vD,k.toString())}return e}var yD=/\(([^()]*)\)/;function qfe(t){for(var e=t;e.includes("(");){var n=yD.exec(e),r=j1(n,2),i=r[1];e=e.replace(yD,jH(i))}return e}function Ufe(t){var e=t.replace(/\s+/g,"");return e=qfe(e),e=jH(e),e}function Hfe(t){try{return Ufe(t)}catch{return Jp}}function gA(t){var e=Hfe(t.slice(5,-1));return e===Jp?"":e}var Wfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Vfe=["dx","dy","angle","className","breakAll"];function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(this,arguments)}function bD(t,e){if(t==null)return{};var n=Kfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xD(t,e){return Qfe(t)||Xfe(t,e)||Yfe(t,e)||Gfe()}function Gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t,e){if(t){if(typeof t=="string")return wD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wD(t,e)}}function wD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Qfe(t){if(Array.isArray(t))return t}var IH=/[ \f\n\r\t\v\u2028\u2029]+/,LH=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];lr(n)||(r?o=n.toString().split(""):o=n.toString().split(IH));var a=o.map(function(l){return{word:l,width:wv(l,i).width}}),s=r?0:wv("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Jfe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=gt(a),f=s,g=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(ne,W){var G=W.word,K=W.width,fe=ne[ne.length-1];if(fe&&(i==null||o||fe.width+K+r<Number(i)))fe.words.push(G),fe.width+=K+r;else{var X={words:[G],width:K};ne.push(X)}return ne},[])},m=g(n),b=function(Y){return Y.reduce(function(ne,W){return ne.width>W.width?ne:W})};if(!u)return m;for(var v="",y=function(Y){var ne=f.slice(0,Y),W=LH({breakAll:c,style:l,children:ne+v}).wordsWithComputedWidth,G=g(W),K=G.length>a||b(G).width>Number(i);return[K,G]},w=0,N=f.length-1,k=0,A;w<=N&&k<=f.length-1;){var T=Math.floor((w+N)/2),P=T-1,L=y(P),C=xD(L,2),M=C[0],q=C[1],D=y(T),I=xD(D,1),z=I[0];if(!M&&!z&&(w=T+1),M&&z&&(N=T-1),!M&&z){A=q;break}k++}return A||m},SD=function(e){var n=lr(e)?[]:e.toString().split(IH);return[{words:n}]},Zfe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!e0.isSsr){var l,c,u=LH({breakAll:a,children:i,style:o});if(u){var f=u.wordsWithComputedWidth,g=u.spaceWidth;l=f,c=g}else return SD(i);return Jfe({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return SD(i)},_D="#808080",I1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,g=e.textAnchor,m=g===void 0?"start":g,b=e.verticalAnchor,v=b===void 0?"end":b,y=e.fill,w=y===void 0?_D:y,N=bD(e,Wfe),k=O.useMemo(function(){return Zfe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:f,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,f,N.style,N.width]),A=N.dx,T=N.dy,P=N.angle,L=N.className,C=N.breakAll,M=bD(N,Vfe);if(!ho(r)||!ho(o))return null;var q=r+(gt(A)?A:0),D=o+(gt(T)?T:0),I;switch(v){case"start":I=gA("calc(".concat(c,")"));break;case"middle":I=gA("calc(".concat((k.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:I=gA("calc(".concat(k.length-1," * -").concat(s,")"));break}var z=[];if(f){var U=k[0].width,Y=N.width;z.push("scale(".concat((gt(Y)?Y/U:1)/U,")"))}return P&&z.push("rotate(".concat(P,", ").concat(q,", ").concat(D,")")),z.length&&(M.transform=z.join(" ")),Ce.createElement("text",aC({},sr(M,!0),{x:q,y:D,className:rr("recharts-text",L),textAnchor:m,fill:w.includes("url")?_D:w}),k.map(function(ne,W){var G=ne.words.join(C?"":" ");return Ce.createElement("tspan",{x:q,dy:W===0?I:s,key:"".concat(G,"-").concat(W)},G)}))};function of(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ehe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _M(t){let e,n,r;t.length!==2?(e=of,n=(s,l)=>of(t(s),l),r=(s,l)=>t(s)-l):(e=t===of||t===ehe?t:the,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function the(){return 0}function DH(t){return t===null?NaN:+t}function*nhe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rhe=_M(of),t0=rhe.right;_M(DH).center;class ED extends Map{constructor(e,n=ahe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ND(this,e))}has(e){return super.has(ND(this,e))}set(e,n){return super.set(ihe(this,e),n)}delete(e){return super.delete(ohe(this,e))}}function ND({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ihe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ohe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ahe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function she(t=of){if(t===of)return FH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function FH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lhe=Math.sqrt(50),che=Math.sqrt(10),uhe=Math.sqrt(2);function L1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=lhe?10:o>=che?5:o>=uhe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?L1(t,e,n*2):[s,l,c]}function sC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?L1(e,t,n):L1(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function lC(t,e,n){return e=+e,t=+t,n=+n,L1(t,e,n)[2]}function cC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?lC(e,t,n):lC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function AD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function BH(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?FH:she(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+g)),b=Math.min(r,Math.floor(e+(l-c)*f/l+g));BH(t,e,m,b,i)}const o=t[e];let a=n,s=r;for(Xg(t,n,e),i(t[r],o)>0&&Xg(t,n,r);a<s;){for(Xg(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Xg(t,n,s):(++s,Xg(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Xg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function dhe(t,e,n){if(t=Float64Array.from(nhe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return kD(t);if(e>=1)return AD(t);var r,i=(r-1)*e,o=Math.floor(i),a=AD(BH(t,o).subarray(0,o+1)),s=kD(t.subarray(o+1));return a+(s-a)*(i-o)}}function fhe(t,e,n=DH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function hhe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ml(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ed(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uC=Symbol("implicit");function EM(){var t=new ED,e=[],n=[],r=uC;function i(o){let a=t.get(o);if(a===void 0){if(r!==uC)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ED;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return EM(e,n).unknown(r)},ml.apply(i,arguments),i}function Xv(){var t=EM().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var g=e().length,m=i<r,b=m?i:r,v=m?r:i;o=(v-b)/Math.max(1,g-l+c*2),s&&(o=Math.floor(o)),b+=(v-b-o*(g-l))*u,a=o*(1-l),s&&(b=Math.round(b),a=Math.round(a));var y=hhe(g).map(function(w){return b+o*w});return n(m?y.reverse():y)}return t.domain=function(g){return arguments.length?(e(g),f()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(g){return arguments.length?(s=!!g,f()):s},t.padding=function(g){return arguments.length?(l=Math.min(1,c=+g),f()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),f()):l},t.paddingOuter=function(g){return arguments.length?(c=+g,f()):c},t.align=function(g){return arguments.length?(u=Math.max(0,Math.min(1,g)),f()):u},t.copy=function(){return Xv(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ml.apply(f(),arguments)}function $H(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $H(e())},t}function Sv(){return $H(Xv.apply(null,arguments).paddingInner(1))}function NM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function n0(){}var Qv=.7,D1=1/Qv,lm="\\s*([+-]?\\d+)\\s*",Jv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",phe=/^#([0-9a-f]{3,8})$/,mhe=new RegExp(`^rgb\\(${lm},${lm},${lm}\\)$`),ghe=new RegExp(`^rgb\\(${zc},${zc},${zc}\\)$`),vhe=new RegExp(`^rgba\\(${lm},${lm},${lm},${Jv}\\)$`),yhe=new RegExp(`^rgba\\(${zc},${zc},${zc},${Jv}\\)$`),bhe=new RegExp(`^hsl\\(${Jv},${zc},${zc}\\)$`),xhe=new RegExp(`^hsla\\(${Jv},${zc},${zc},${Jv}\\)$`),CD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NM(n0,Zv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TD,formatHex:TD,formatHex8:whe,formatHsl:She,formatRgb:OD,toString:OD});function TD(){return this.rgb().formatHex()}function whe(){return this.rgb().formatHex8()}function She(){return qH(this).formatHsl()}function OD(){return this.rgb().formatRgb()}function Zv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=phe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?MD(e):n===3?new rs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ab(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ab(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mhe.exec(t))?new rs(e[1],e[2],e[3],1):(e=ghe.exec(t))?new rs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vhe.exec(t))?ab(e[1],e[2],e[3],e[4]):(e=yhe.exec(t))?ab(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bhe.exec(t))?jD(e[1],e[2]/100,e[3]/100,1):(e=xhe.exec(t))?jD(e[1],e[2]/100,e[3]/100,e[4]):CD.hasOwnProperty(t)?MD(CD[t]):t==="transparent"?new rs(NaN,NaN,NaN,0):null}function MD(t){return new rs(t>>16&255,t>>8&255,t&255,1)}function ab(t,e,n,r){return r<=0&&(t=e=n=NaN),new rs(t,e,n,r)}function _he(t){return t instanceof n0||(t=Zv(t)),t?(t=t.rgb(),new rs(t.r,t.g,t.b,t.opacity)):new rs}function dC(t,e,n,r){return arguments.length===1?_he(t):new rs(t,e,n,r??1)}function rs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}NM(rs,dC,zH(n0,{brighter(t){return t=t==null?D1:Math.pow(D1,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qv:Math.pow(Qv,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rs(bh(this.r),bh(this.g),bh(this.b),F1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PD,formatHex:PD,formatHex8:Ehe,formatRgb:RD,toString:RD}));function PD(){return`#${fh(this.r)}${fh(this.g)}${fh(this.b)}`}function Ehe(){return`#${fh(this.r)}${fh(this.g)}${fh(this.b)}${fh((isNaN(this.opacity)?1:this.opacity)*255)}`}function RD(){const t=F1(this.opacity);return`${t===1?"rgb(":"rgba("}${bh(this.r)}, ${bh(this.g)}, ${bh(this.b)}${t===1?")":`, ${t})`}`}function F1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fh(t){return t=bh(t),(t<16?"0":"")+t.toString(16)}function jD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vl(t,e,n,r)}function qH(t){if(t instanceof Vl)return new Vl(t.h,t.s,t.l,t.opacity);if(t instanceof n0||(t=Zv(t)),!t)return new Vl;if(t instanceof Vl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Vl(a,s,l,t.opacity)}function Nhe(t,e,n,r){return arguments.length===1?qH(t):new Vl(t,e,n,r??1)}function Vl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}NM(Vl,Nhe,zH(n0,{brighter(t){return t=t==null?D1:Math.pow(D1,t),new Vl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qv:Math.pow(Qv,t),new Vl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new rs(vA(t>=240?t-240:t+120,i,r),vA(t,i,r),vA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vl(ID(this.h),sb(this.s),sb(this.l),F1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=F1(this.opacity);return`${t===1?"hsl(":"hsla("}${ID(this.h)}, ${sb(this.s)*100}%, ${sb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ID(t){return t=(t||0)%360,t<0?t+360:t}function sb(t){return Math.max(0,Math.min(1,t||0))}function vA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const AM=t=>()=>t;function Ahe(t,e){return function(n){return t+n*e}}function khe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Che(t){return(t=+t)==1?UH:function(e,n){return n-e?khe(e,n,t):AM(isNaN(e)?n:e)}}function UH(t,e){var n=e-t;return n?Ahe(t,n):AM(isNaN(t)?e:t)}const LD=(function t(e){var n=Che(e);function r(i,o){var a=n((i=dC(i)).r,(o=dC(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=UH(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r})(1);function The(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ohe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mhe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=fg(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Phe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function B1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Rhe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fg(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var fC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yA=new RegExp(fC.source,"g");function jhe(t){return function(){return t}}function Ihe(t){return function(e){return t(e)+""}}function Lhe(t,e){var n=fC.lastIndex=yA.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=fC.exec(t))&&(i=yA.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:B1(r,i)})),n=yA.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Ihe(l[0].x):jhe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function fg(t,e){var n=typeof e,r;return e==null||n==="boolean"?AM(e):(n==="number"?B1:n==="string"?(r=Zv(e))?(e=r,LD):Lhe:e instanceof Zv?LD:e instanceof Date?Phe:Ohe(e)?The:Array.isArray(e)?Mhe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rhe:B1)(t,e)}function kM(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Dhe(t,e){e===void 0&&(e=t,t=fg);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Fhe(t){return function(){return t}}function $1(t){return+t}var DD=[0,1];function Ia(t){return t}function hC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fhe(isNaN(e)?NaN:.5)}function Bhe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $he(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=hC(i,r),o=n(a,o)):(r=hC(r,i),o=n(o,a)),function(s){return o(r(s))}}function zhe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=hC(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=t0(t,s,1,r)-1;return o[l](i[l](s))}}function r0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jw(){var t=DD,e=DD,n=fg,r,i,o,a=Ia,s,l,c;function u(){var g=Math.min(t.length,e.length);return a!==Ia&&(a=Bhe(t[0],t[g-1])),s=g>2?zhe:$he,l=c=null,f}function f(g){return g==null||isNaN(g=+g)?o:(l||(l=s(t.map(r),e,n)))(r(a(g)))}return f.invert=function(g){return a(i((c||(c=s(e,t.map(r),B1)))(g)))},f.domain=function(g){return arguments.length?(t=Array.from(g,$1),u()):t.slice()},f.range=function(g){return arguments.length?(e=Array.from(g),u()):e.slice()},f.rangeRound=function(g){return e=Array.from(g),n=kM,u()},f.clamp=function(g){return arguments.length?(a=g?!0:Ia,u()):a!==Ia},f.interpolate=function(g){return arguments.length?(n=g,u()):n},f.unknown=function(g){return arguments.length?(o=g,f):o},function(g,m){return r=g,i=m,u()}}function CM(){return Jw()(Ia,Ia)}function qhe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function z1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function km(t){return t=z1(Math.abs(t)),t?t[1]:NaN}function Uhe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Hhe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Whe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ey(t){if(!(e=Whe.exec(t)))throw new Error("invalid format: "+t);var e;return new TM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ey.prototype=TM.prototype;function TM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vhe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var HH;function Khe(t,e){var n=z1(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(HH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+z1(t,Math.max(0,e+o-1))[0]}function FD(t,e){var n=z1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const BD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qhe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FD(t*100,e),r:FD,s:Khe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $D(t){return t}var zD=Array.prototype.map,qD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ghe(t){var e=t.grouping===void 0||t.thousands===void 0?$D:Uhe(zD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?$D:Hhe(zD.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=ey(f);var g=f.fill,m=f.align,b=f.sign,v=f.symbol,y=f.zero,w=f.width,N=f.comma,k=f.precision,A=f.trim,T=f.type;T==="n"?(N=!0,T="g"):BD[T]||(k===void 0&&(k=12),A=!0,T="g"),(y||g==="0"&&m==="=")&&(y=!0,g="0",m="=");var P=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",L=v==="$"?r:/[%p]/.test(T)?a:"",C=BD[T],M=/[defgprs%]/.test(T);k=k===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function q(D){var I=P,z=L,U,Y,ne;if(T==="c")z=C(D)+z,D="";else{D=+D;var W=D<0||1/D<0;if(D=isNaN(D)?l:C(Math.abs(D),k),A&&(D=Vhe(D)),W&&+D==0&&b!=="+"&&(W=!1),I=(W?b==="("?b:s:b==="-"||b==="("?"":b)+I,z=(T==="s"?qD[8+HH/3]:"")+z+(W&&b==="("?")":""),M){for(U=-1,Y=D.length;++U<Y;)if(ne=D.charCodeAt(U),48>ne||ne>57){z=(ne===46?i+D.slice(U+1):D.slice(U))+z,D=D.slice(0,U);break}}}N&&!y&&(D=e(D,1/0));var G=I.length+D.length+z.length,K=G<w?new Array(w-G+1).join(g):"";switch(N&&y&&(D=e(K+D,K.length?w-z.length:1/0),K=""),m){case"<":D=I+D+z+K;break;case"=":D=I+K+D+z;break;case"^":D=K.slice(0,G=K.length>>1)+I+D+z+K.slice(G);break;default:D=K+I+D+z;break}return o(D)}return q.toString=function(){return f+""},q}function u(f,g){var m=c((f=ey(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(km(g)/3)))*3,v=Math.pow(10,-b),y=qD[8+b/3];return function(w){return m(v*w)+y}}return{format:c,formatPrefix:u}}var lb,OM,WH;Yhe({thousands:",",grouping:[3],currency:["$",""]});function Yhe(t){return lb=Ghe(t),OM=lb.format,WH=lb.formatPrefix,lb}function Xhe(t){return Math.max(0,-km(Math.abs(t)))}function Qhe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(km(e)/3)))*3-km(Math.abs(t)))}function Jhe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,km(e)-km(t))+1}function VH(t,e,n,r){var i=cC(t,e,n),o;switch(r=ey(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Qhe(i,a))&&(r.precision=o),WH(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Jhe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Xhe(i))&&(r.precision=o-(r.type==="%")*2);break}}return OM(r)}function Sf(t){var e=t.domain;return t.ticks=function(n){var r=e();return sC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return VH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=lC(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function q1(){var t=CM();return t.copy=function(){return r0(t,q1())},ml.apply(t,arguments),Sf(t)}function KH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,$1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return KH(t).unknown(e)},t=arguments.length?Array.from(t,$1):[0,1],Sf(n)}function GH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function UD(t){return Math.log(t)}function HD(t){return Math.exp(t)}function Zhe(t){return-Math.log(-t)}function epe(t){return-Math.exp(-t)}function tpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function npe(t){return t===10?tpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function WD(t){return(e,n)=>-t(-e,n)}function MM(t){const e=t(UD,HD),n=e.domain;let r=10,i,o;function a(){return i=rpe(r),o=npe(r),n()[0]<0?(i=WD(i),o=WD(o),t(Zhe,epe)):t(UD,HD),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let g=i(c),m=i(u),b,v;const y=s==null?10:+s;let w=[];if(!(r%1)&&m-g<y){if(g=Math.floor(g),m=Math.ceil(m),c>0){for(;g<=m;++g)for(b=1;b<r;++b)if(v=g<0?b/o(-g):b*o(g),!(v<c)){if(v>u)break;w.push(v)}}else for(;g<=m;++g)for(b=r-1;b>=1;--b)if(v=g>0?b/o(-g):b*o(g),!(v<c)){if(v>u)break;w.push(v)}w.length*2<y&&(w=sC(c,u,y))}else w=sC(g,m,Math.min(m-g,y)).map(o);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ey(l)).precision==null&&(l.trim=!0),l=OM(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(GH(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function YH(){const t=MM(Jw()).domain([1,10]);return t.copy=()=>r0(t,YH()).base(t.base()),ml.apply(t,arguments),t}function VD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PM(t){var e=1,n=t(VD(e),KD(e));return n.constant=function(r){return arguments.length?t(VD(e=+r),KD(e)):e},Sf(n)}function XH(){var t=PM(Jw());return t.copy=function(){return r0(t,XH()).constant(t.constant())},ml.apply(t,arguments)}function GD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ipe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ope(t){return t<0?-t*t:t*t}function RM(t){var e=t(Ia,Ia),n=1;function r(){return n===1?t(Ia,Ia):n===.5?t(ipe,ope):t(GD(n),GD(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Sf(e)}function jM(){var t=RM(Jw());return t.copy=function(){return r0(t,jM()).exponent(t.exponent())},ml.apply(t,arguments),t}function ape(){return jM.apply(null,arguments).exponent(.5)}function YD(t){return Math.sign(t)*t*t}function spe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function QH(){var t=CM(),e=[0,1],n=!1,r;function i(o){var a=spe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(YD(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,$1)).map(YD)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return QH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ml.apply(i,arguments),Sf(i)}function JH(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=fhe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[t0(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(of),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return JH().domain(t).range(e).unknown(r)},ml.apply(o,arguments)}function ZH(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[t0(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ZH().domain([t,e]).range(i).unknown(o)},ml.apply(Sf(a),arguments)}function eW(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[t0(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eW().domain(t).range(e).unknown(n)},ml.apply(i,arguments)}const bA=new Date,xA=new Date;function mo(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>mo(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(bA.setTime(+o),xA.setTime(+a),t(bA),t(xA),Math.floor(n(bA,xA))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const U1=mo(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);U1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mo(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):U1);U1.range;const Du=1e3,sl=Du*60,Fu=sl*60,Yu=Fu*24,IM=Yu*7,XD=Yu*30,wA=Yu*365,hh=mo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Du)},(t,e)=>(e-t)/Du,t=>t.getUTCSeconds());hh.range;const LM=mo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Du)},(t,e)=>{t.setTime(+t+e*sl)},(t,e)=>(e-t)/sl,t=>t.getMinutes());LM.range;const DM=mo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*sl)},(t,e)=>(e-t)/sl,t=>t.getUTCMinutes());DM.range;const FM=mo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Du-t.getMinutes()*sl)},(t,e)=>{t.setTime(+t+e*Fu)},(t,e)=>(e-t)/Fu,t=>t.getHours());FM.range;const BM=mo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fu)},(t,e)=>(e-t)/Fu,t=>t.getUTCHours());BM.range;const i0=mo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*sl)/Yu,t=>t.getDate()-1);i0.range;const Zw=mo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yu,t=>t.getUTCDate()-1);Zw.range;const tW=mo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yu,t=>Math.floor(t/Yu));tW.range;function Zh(t){return mo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*sl)/IM)}const e2=Zh(0),H1=Zh(1),lpe=Zh(2),cpe=Zh(3),Cm=Zh(4),upe=Zh(5),dpe=Zh(6);e2.range;H1.range;lpe.range;cpe.range;Cm.range;upe.range;dpe.range;function ep(t){return mo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/IM)}const t2=ep(0),W1=ep(1),fpe=ep(2),hpe=ep(3),Tm=ep(4),ppe=ep(5),mpe=ep(6);t2.range;W1.range;fpe.range;hpe.range;Tm.range;ppe.range;mpe.range;const $M=mo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$M.range;const zM=mo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zM.range;const Xu=mo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xu.range;const Qu=mo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qu.range;function nW(t,e,n,r,i,o){const a=[[hh,1,Du],[hh,5,5*Du],[hh,15,15*Du],[hh,30,30*Du],[o,1,sl],[o,5,5*sl],[o,15,15*sl],[o,30,30*sl],[i,1,Fu],[i,3,3*Fu],[i,6,6*Fu],[i,12,12*Fu],[r,1,Yu],[r,2,2*Yu],[n,1,IM],[e,1,XD],[e,3,3*XD],[t,1,wA]];function s(c,u,f){const g=u<c;g&&([c,u]=[u,c]);const m=f&&typeof f.range=="function"?f:l(c,u,f),b=m?m.range(c,+u+1):[];return g?b.reverse():b}function l(c,u,f){const g=Math.abs(u-c)/f,m=_M(([,,y])=>y).right(a,g);if(m===a.length)return t.every(cC(c/wA,u/wA,f));if(m===0)return U1.every(Math.max(cC(c,u,f),1));const[b,v]=a[g/a[m-1][2]<a[m][2]/g?m-1:m];return b.every(v)}return[s,l]}const[gpe,vpe]=nW(Qu,zM,t2,tW,BM,DM),[ype,bpe]=nW(Xu,$M,e2,i0,FM,LM);function SA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _A(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xpe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Jg(i),u=Zg(i),f=Jg(o),g=Zg(o),m=Jg(a),b=Zg(a),v=Jg(s),y=Zg(s),w=Jg(l),N=Zg(l),k={a:W,A:G,b:K,B:fe,c:null,d:n6,e:n6,f:Upe,g:Zpe,G:tme,H:$pe,I:zpe,j:qpe,L:rW,m:Hpe,M:Wpe,p:X,q:F,Q:o6,s:a6,S:Vpe,u:Kpe,U:Gpe,V:Ype,w:Xpe,W:Qpe,x:null,X:null,y:Jpe,Y:eme,Z:nme,"%":i6},A={a:V,A:ee,b:ie,B:ue,c:null,d:r6,e:r6,f:ame,g:gme,G:yme,H:rme,I:ime,j:ome,L:oW,m:sme,M:lme,p:he,q:me,Q:o6,s:a6,S:cme,u:ume,U:dme,V:fme,w:hme,W:pme,x:null,X:null,y:mme,Y:vme,Z:bme,"%":i6},T={a:q,A:D,b:I,B:z,c:U,d:e6,e:e6,f:Lpe,g:ZD,G:JD,H:t6,I:t6,j:Ppe,L:Ipe,m:Mpe,M:Rpe,p:M,q:Ope,Q:Fpe,s:Bpe,S:jpe,u:Npe,U:Ape,V:kpe,w:Epe,W:Cpe,x:Y,X:ne,y:ZD,Y:JD,Z:Tpe,"%":Dpe};k.x=P(n,k),k.X=P(r,k),k.c=P(e,k),A.x=P(n,A),A.X=P(r,A),A.c=P(e,A);function P(le,be){return function(Se){var xe=[],Le=-1,Ne=0,se=le.length,ze,st,Ge;for(Se instanceof Date||(Se=new Date(+Se));++Le<se;)le.charCodeAt(Le)===37&&(xe.push(le.slice(Ne,Le)),(st=QD[ze=le.charAt(++Le)])!=null?ze=le.charAt(++Le):st=ze==="e"?" ":"0",(Ge=be[ze])&&(ze=Ge(Se,st)),xe.push(ze),Ne=Le+1);return xe.push(le.slice(Ne,Le)),xe.join("")}}function L(le,be){return function(Se){var xe=Qg(1900,void 0,1),Le=C(xe,le,Se+="",0),Ne,se;if(Le!=Se.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(be&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Ne=_A(Qg(xe.y,0,1)),se=Ne.getUTCDay(),Ne=se>4||se===0?W1.ceil(Ne):W1(Ne),Ne=Zw.offset(Ne,(xe.V-1)*7),xe.y=Ne.getUTCFullYear(),xe.m=Ne.getUTCMonth(),xe.d=Ne.getUTCDate()+(xe.w+6)%7):(Ne=SA(Qg(xe.y,0,1)),se=Ne.getDay(),Ne=se>4||se===0?H1.ceil(Ne):H1(Ne),Ne=i0.offset(Ne,(xe.V-1)*7),xe.y=Ne.getFullYear(),xe.m=Ne.getMonth(),xe.d=Ne.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),se="Z"in xe?_A(Qg(xe.y,0,1)).getUTCDay():SA(Qg(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(se+5)%7:xe.w+xe.U*7-(se+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,_A(xe)):SA(xe)}}function C(le,be,Se,xe){for(var Le=0,Ne=be.length,se=Se.length,ze,st;Le<Ne;){if(xe>=se)return-1;if(ze=be.charCodeAt(Le++),ze===37){if(ze=be.charAt(Le++),st=T[ze in QD?be.charAt(Le++):ze],!st||(xe=st(le,Se,xe))<0)return-1}else if(ze!=Se.charCodeAt(xe++))return-1}return xe}function M(le,be,Se){var xe=c.exec(be.slice(Se));return xe?(le.p=u.get(xe[0].toLowerCase()),Se+xe[0].length):-1}function q(le,be,Se){var xe=m.exec(be.slice(Se));return xe?(le.w=b.get(xe[0].toLowerCase()),Se+xe[0].length):-1}function D(le,be,Se){var xe=f.exec(be.slice(Se));return xe?(le.w=g.get(xe[0].toLowerCase()),Se+xe[0].length):-1}function I(le,be,Se){var xe=w.exec(be.slice(Se));return xe?(le.m=N.get(xe[0].toLowerCase()),Se+xe[0].length):-1}function z(le,be,Se){var xe=v.exec(be.slice(Se));return xe?(le.m=y.get(xe[0].toLowerCase()),Se+xe[0].length):-1}function U(le,be,Se){return C(le,e,be,Se)}function Y(le,be,Se){return C(le,n,be,Se)}function ne(le,be,Se){return C(le,r,be,Se)}function W(le){return a[le.getDay()]}function G(le){return o[le.getDay()]}function K(le){return l[le.getMonth()]}function fe(le){return s[le.getMonth()]}function X(le){return i[+(le.getHours()>=12)]}function F(le){return 1+~~(le.getMonth()/3)}function V(le){return a[le.getUTCDay()]}function ee(le){return o[le.getUTCDay()]}function ie(le){return l[le.getUTCMonth()]}function ue(le){return s[le.getUTCMonth()]}function he(le){return i[+(le.getUTCHours()>=12)]}function me(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var be=P(le+="",k);return be.toString=function(){return le},be},parse:function(le){var be=L(le+="",!1);return be.toString=function(){return le},be},utcFormat:function(le){var be=P(le+="",A);return be.toString=function(){return le},be},utcParse:function(le){var be=L(le+="",!0);return be.toString=function(){return le},be}}}var QD={"-":"",_:" ",0:"0"},Po=/^\s*\d+/,wpe=/^%/,Spe=/[\\^$*+?|[\]().{}]/g;function or(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _pe(t){return t.replace(Spe,"\\$&")}function Jg(t){return new RegExp("^(?:"+t.map(_pe).join("|")+")","i")}function Zg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Epe(t,e,n){var r=Po.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Npe(t,e,n){var r=Po.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ape(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kpe(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Cpe(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function JD(t,e,n){var r=Po.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ZD(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tpe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ope(t,e,n){var r=Po.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Mpe(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function e6(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ppe(t,e,n){var r=Po.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function t6(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Rpe(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function jpe(t,e,n){var r=Po.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ipe(t,e,n){var r=Po.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lpe(t,e,n){var r=Po.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dpe(t,e,n){var r=wpe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Fpe(t,e,n){var r=Po.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Bpe(t,e,n){var r=Po.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function n6(t,e){return or(t.getDate(),e,2)}function $pe(t,e){return or(t.getHours(),e,2)}function zpe(t,e){return or(t.getHours()%12||12,e,2)}function qpe(t,e){return or(1+i0.count(Xu(t),t),e,3)}function rW(t,e){return or(t.getMilliseconds(),e,3)}function Upe(t,e){return rW(t,e)+"000"}function Hpe(t,e){return or(t.getMonth()+1,e,2)}function Wpe(t,e){return or(t.getMinutes(),e,2)}function Vpe(t,e){return or(t.getSeconds(),e,2)}function Kpe(t){var e=t.getDay();return e===0?7:e}function Gpe(t,e){return or(e2.count(Xu(t)-1,t),e,2)}function iW(t){var e=t.getDay();return e>=4||e===0?Cm(t):Cm.ceil(t)}function Ype(t,e){return t=iW(t),or(Cm.count(Xu(t),t)+(Xu(t).getDay()===4),e,2)}function Xpe(t){return t.getDay()}function Qpe(t,e){return or(H1.count(Xu(t)-1,t),e,2)}function Jpe(t,e){return or(t.getFullYear()%100,e,2)}function Zpe(t,e){return t=iW(t),or(t.getFullYear()%100,e,2)}function eme(t,e){return or(t.getFullYear()%1e4,e,4)}function tme(t,e){var n=t.getDay();return t=n>=4||n===0?Cm(t):Cm.ceil(t),or(t.getFullYear()%1e4,e,4)}function nme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+or(e/60|0,"0",2)+or(e%60,"0",2)}function r6(t,e){return or(t.getUTCDate(),e,2)}function rme(t,e){return or(t.getUTCHours(),e,2)}function ime(t,e){return or(t.getUTCHours()%12||12,e,2)}function ome(t,e){return or(1+Zw.count(Qu(t),t),e,3)}function oW(t,e){return or(t.getUTCMilliseconds(),e,3)}function ame(t,e){return oW(t,e)+"000"}function sme(t,e){return or(t.getUTCMonth()+1,e,2)}function lme(t,e){return or(t.getUTCMinutes(),e,2)}function cme(t,e){return or(t.getUTCSeconds(),e,2)}function ume(t){var e=t.getUTCDay();return e===0?7:e}function dme(t,e){return or(t2.count(Qu(t)-1,t),e,2)}function aW(t){var e=t.getUTCDay();return e>=4||e===0?Tm(t):Tm.ceil(t)}function fme(t,e){return t=aW(t),or(Tm.count(Qu(t),t)+(Qu(t).getUTCDay()===4),e,2)}function hme(t){return t.getUTCDay()}function pme(t,e){return or(W1.count(Qu(t)-1,t),e,2)}function mme(t,e){return or(t.getUTCFullYear()%100,e,2)}function gme(t,e){return t=aW(t),or(t.getUTCFullYear()%100,e,2)}function vme(t,e){return or(t.getUTCFullYear()%1e4,e,4)}function yme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Tm(t):Tm.ceil(t),or(t.getUTCFullYear()%1e4,e,4)}function bme(){return"+0000"}function i6(){return"%"}function o6(t){return+t}function a6(t){return Math.floor(+t/1e3)}var jp,sW,lW;xme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xme(t){return jp=xpe(t),sW=jp.format,jp.parse,lW=jp.utcFormat,jp.utcParse,jp}function wme(t){return new Date(t)}function Sme(t){return t instanceof Date?+t:+new Date(+t)}function qM(t,e,n,r,i,o,a,s,l,c){var u=CM(),f=u.invert,g=u.domain,m=c(".%L"),b=c(":%S"),v=c("%I:%M"),y=c("%I %p"),w=c("%a %d"),N=c("%b %d"),k=c("%B"),A=c("%Y");function T(P){return(l(P)<P?m:s(P)<P?b:a(P)<P?v:o(P)<P?y:r(P)<P?i(P)<P?w:N:n(P)<P?k:A)(P)}return u.invert=function(P){return new Date(f(P))},u.domain=function(P){return arguments.length?g(Array.from(P,Sme)):g().map(wme)},u.ticks=function(P){var L=g();return t(L[0],L[L.length-1],P??10)},u.tickFormat=function(P,L){return L==null?T:c(L)},u.nice=function(P){var L=g();return(!P||typeof P.range!="function")&&(P=e(L[0],L[L.length-1],P??10)),P?g(GH(L,P)):u},u.copy=function(){return r0(u,qM(t,e,n,r,i,o,a,s,l,c))},u}function _me(){return ml.apply(qM(ype,bpe,Xu,$M,e2,i0,FM,LM,hh,sW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Eme(){return ml.apply(qM(gpe,vpe,Qu,zM,t2,Zw,BM,DM,hh,lW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function n2(){var t=0,e=1,n,r,i,o,a=Ia,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(g){var m,b;return arguments.length?([m,b]=g,a=f(m,b),c):[a(0),a(1)]}}return c.range=u(fg),c.rangeRound=u(kM),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function _f(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cW(){var t=Sf(n2()(Ia));return t.copy=function(){return _f(t,cW())},ed.apply(t,arguments)}function uW(){var t=MM(n2()).domain([1,10]);return t.copy=function(){return _f(t,uW()).base(t.base())},ed.apply(t,arguments)}function dW(){var t=PM(n2());return t.copy=function(){return _f(t,dW()).constant(t.constant())},ed.apply(t,arguments)}function UM(){var t=RM(n2());return t.copy=function(){return _f(t,UM()).exponent(t.exponent())},ed.apply(t,arguments)}function Nme(){return UM.apply(null,arguments).exponent(.5)}function fW(){var t=[],e=Ia;function n(r){if(r!=null&&!isNaN(r=+r))return e((t0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(of),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>dhe(t,o/r))},n.copy=function(){return fW(e).domain(t)},ed.apply(n,arguments)}function r2(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=Ia,u,f=!1,g;function m(v){return isNaN(v=+v)?g:(v=.5+((v=+u(v))-o)*(r*v<r*o?s:l),c(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(c=v,m):c};function b(v){return function(y){var w,N,k;return arguments.length?([w,N,k]=y,c=Dhe(v,[w,N,k]),m):[c(0),c(.5),c(1)]}}return m.range=b(fg),m.rangeRound=b(kM),m.unknown=function(v){return arguments.length?(g=v,m):g},function(v){return u=v,i=v(t),o=v(e),a=v(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function hW(){var t=Sf(r2()(Ia));return t.copy=function(){return _f(t,hW())},ed.apply(t,arguments)}function pW(){var t=MM(r2()).domain([.1,1,10]);return t.copy=function(){return _f(t,pW()).base(t.base())},ed.apply(t,arguments)}function mW(){var t=PM(r2());return t.copy=function(){return _f(t,mW()).constant(t.constant())},ed.apply(t,arguments)}function HM(){var t=RM(r2());return t.copy=function(){return _f(t,HM()).exponent(t.exponent())},ed.apply(t,arguments)}function Ame(){return HM.apply(null,arguments).exponent(.5)}const s6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xv,scaleDiverging:hW,scaleDivergingLog:pW,scaleDivergingPow:HM,scaleDivergingSqrt:Ame,scaleDivergingSymlog:mW,scaleIdentity:KH,scaleImplicit:uC,scaleLinear:q1,scaleLog:YH,scaleOrdinal:EM,scalePoint:Sv,scalePow:jM,scaleQuantile:JH,scaleQuantize:ZH,scaleRadial:QH,scaleSequential:cW,scaleSequentialLog:uW,scaleSequentialPow:UM,scaleSequentialQuantile:fW,scaleSequentialSqrt:Nme,scaleSequentialSymlog:dW,scaleSqrt:ape,scaleSymlog:XH,scaleThreshold:eW,scaleTime:_me,scaleUtc:Eme,tickFormat:VH},Symbol.toStringTag,{value:"Module"}));var EA,l6;function gW(){if(l6)return EA;l6=1;var t=cg();function e(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,u=s}return u}return EA=e,EA}var NA,c6;function kme(){if(c6)return NA;c6=1;function t(e,n){return e>n}return NA=t,NA}var AA,u6;function Cme(){if(u6)return AA;u6=1;var t=gW(),e=kme(),n=dg();function r(i){return i&&i.length?t(i,n,e):void 0}return AA=r,AA}var Tme=Cme();const i2=cr(Tme);var kA,d6;function Ome(){if(d6)return kA;d6=1;function t(e,n){return e<n}return kA=t,kA}var CA,f6;function Mme(){if(f6)return CA;f6=1;var t=gW(),e=Ome(),n=dg();function r(i){return i&&i.length?t(i,n,e):void 0}return CA=r,CA}var Pme=Mme();const o2=cr(Pme);var TA,h6;function Rme(){if(h6)return TA;h6=1;var t=aM(),e=wf(),n=NH(),r=ls();function i(o,a){var s=r(o)?t:n;return s(o,e(a,3))}return TA=i,TA}var OA,p6;function jme(){if(p6)return OA;p6=1;var t=_H(),e=Rme();function n(r,i){return t(e(r,i),1)}return OA=n,OA}var Ime=jme();const Lme=cr(Ime);var MA,m6;function Dme(){if(m6)return MA;m6=1;var t=bM();function e(n,r){return t(n,r)}return MA=e,MA}var Fme=Dme();const WM=cr(Fme);var hg=1e9,Bme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KM,ci=!0,fl="[DecimalError] ",xh=fl+"Invalid argument: ",VM=fl+"Exponent out of range: ",pg=Math.floor,oh=Math.pow,$me=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,As,Ao=1e7,Zr=7,vW=9007199254740991,V1=pg(vW/Zr),jt={};jt.absoluteValue=jt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};jt.comparedTo=jt.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Zr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};jt.dividedBy=jt.div=function(t){return Uu(this,new this.constructor(t))};jt.dividedToIntegerBy=jt.idiv=function(t){var e=this,n=e.constructor;return Dr(Uu(e,new n(t),0,1),n.precision)};jt.equals=jt.eq=function(t){return!this.cmp(t)};jt.exponent=function(){return to(this)};jt.greaterThan=jt.gt=function(t){return this.cmp(t)>0};jt.greaterThanOrEqualTo=jt.gte=function(t){return this.cmp(t)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(t){return this.cmp(t)<0};jt.lessThanOrEqualTo=jt.lte=function(t){return this.cmp(t)<1};jt.logarithm=jt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(As))throw Error(fl+"NaN");if(n.s<1)throw Error(fl+(n.s?"NaN":"-Infinity"));return n.eq(As)?new r(0):(ci=!1,e=Uu(ty(n,o),ty(t,o),o),ci=!0,Dr(e,i))};jt.minus=jt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xW(e,t):yW(e,(t.s=-t.s,t))};jt.modulo=jt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(fl+"NaN");return n.s?(ci=!1,e=Uu(n,t,0,1).times(t),ci=!0,n.minus(e)):Dr(new r(n),i)};jt.naturalExponential=jt.exp=function(){return bW(this)};jt.naturalLogarithm=jt.ln=function(){return ty(this)};jt.negated=jt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};jt.plus=jt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yW(e,t):xW(e,(t.s=-t.s,t))};jt.precision=jt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xh+t);if(e=to(i)+1,r=i.d.length-1,n=r*Zr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};jt.squareRoot=jt.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(fl+"NaN")}for(t=to(s),ci=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Lc(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=pg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Uu(s,o,a+2)).times(.5),Lc(o.d).slice(0,a)===(e=Lc(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Dr(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ci=!0,Dr(r,n)};jt.times=jt.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,f=u.constructor,g=u.d,m=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=g.length,c=m.length,l<c&&(o=g,g=m,m=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*g[i-r-1]+e,o[i--]=s%Ao|0,e=s/Ao|0;o[i]=(o[i]+e)%Ao|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ci?Dr(t,f.precision):t};jt.toDecimalPlaces=jt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wc(t,0,hg),e===void 0?e=r.rounding:Wc(e,0,8),Dr(n,t+to(n)+1,e))};jt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Lh(r,!0):(Wc(t,0,hg),e===void 0?e=i.rounding:Wc(e,0,8),r=Dr(new i(r),t+1,e),n=Lh(r,!0,t+1)),n};jt.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Lh(i):(Wc(t,0,hg),e===void 0?e=o.rounding:Wc(e,0,8),r=Dr(new o(i),t+to(i)+1,e),n=Lh(r.abs(),!1,t+to(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};jt.toInteger=jt.toint=function(){var t=this,e=t.constructor;return Dr(new e(t),to(t)+1,e.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(As);if(s=new l(s),!s.s){if(t.s<1)throw Error(fl+"Infinity");return s}if(s.eq(As))return s;if(r=l.precision,t.eq(As))return Dr(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=vW){for(i=new l(As),e=Math.ceil(r/Zr+4),ci=!1;n%2&&(i=i.times(s),v6(i.d,e)),n=pg(n/2),n!==0;)s=s.times(s),v6(s.d,e);return ci=!0,t.s<0?new l(As).div(i):Dr(i,r)}}else if(o<0)throw Error(fl+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ci=!1,i=t.times(ty(s,r+c)),ci=!0,i=bW(i),i.s=o,i};jt.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=to(i),r=Lh(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wc(t,1,hg),e===void 0?e=o.rounding:Wc(e,0,8),i=Dr(new o(i),t,e),n=to(i),r=Lh(i,t<=n||n<=o.toExpNeg,t)),r};jt.toSignificantDigits=jt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wc(t,1,hg),e===void 0?e=r.rounding:Wc(e,0,8)),Dr(new r(n),t,e)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=to(t),n=t.constructor;return Lh(t,e<=n.toExpNeg||e>=n.toExpPos)};function yW(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),ci?Dr(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/Zr),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Ao|0,l[o]%=Ao;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ci?Dr(e,f):e}function Wc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xh+t)}function Lc(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Zr-r.length,n&&(o+=qd(n)),o+=r;a=t[e],r=a+"",n=Zr-r.length,n&&(o+=qd(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Uu=(function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Ao|0,a=o/Ao|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Ao+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,f,g,m,b,v,y,w,N,k,A,T,P,L,C,M=r.constructor,q=r.s==i.s?1:-1,D=r.d,I=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(fl+"Division by zero");for(l=r.e-i.e,L=I.length,T=D.length,m=new M(q),b=m.d=[],c=0;I[c]==(D[c]||0);)++c;if(I[c]>(D[c]||0)&&--l,o==null?N=o=M.precision:a?N=o+(to(r)-to(i))+1:N=o,N<0)return new M(0);if(N=N/Zr+2|0,c=0,L==1)for(u=0,I=I[0],N++;(c<T||u)&&N--;c++)k=u*Ao+(D[c]||0),b[c]=k/I|0,u=k%I|0;else{for(u=Ao/(I[0]+1)|0,u>1&&(I=t(I,u),D=t(D,u),L=I.length,T=D.length),A=L,v=D.slice(0,L),y=v.length;y<L;)v[y++]=0;C=I.slice(),C.unshift(0),P=I[0],I[1]>=Ao/2&&++P;do u=0,s=e(I,v,L,y),s<0?(w=v[0],L!=y&&(w=w*Ao+(v[1]||0)),u=w/P|0,u>1?(u>=Ao&&(u=Ao-1),f=t(I,u),g=f.length,y=v.length,s=e(f,v,g,y),s==1&&(u--,n(f,L<g?C:I,g))):(u==0&&(s=u=1),f=I.slice()),g=f.length,g<y&&f.unshift(0),n(v,f,y),s==-1&&(y=v.length,s=e(I,v,L,y),s<1&&(u++,n(v,L<y?C:I,y))),y=v.length):s===0&&(u++,v=[0]),b[c++]=u,s&&v[0]?v[y++]=D[A]||0:(v=[D[A]],y=1);while((A++<T||v[0]!==void 0)&&N--)}return b[0]||b.shift(),m.e=l,Dr(m,a?o+to(m)+1:o)}})();function bW(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,f=u.precision;if(to(t)>16)throw Error(VM+to(t));if(!t.s)return new u(As);for(ci=!1,s=f,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(oh(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(As),u.precision=s;;){if(i=Dr(i.times(t),s),n=n.times(++l),a=o.plus(Uu(i,n,s)),Lc(a.d).slice(0,s)===Lc(o.d).slice(0,s)){for(;c--;)o=Dr(o.times(o),s);return u.precision=f,e==null?(ci=!0,Dr(o,f)):o}o=a}}function to(t){for(var e=t.e*Zr,n=t.d[0];n>=10;n/=10)e++;return e}function PA(t,e,n){if(e>t.LN10.sd())throw ci=!0,n&&(t.precision=n),Error(fl+"LN10 precision limit exceeded");return Dr(new t(t.LN10),e)}function qd(t){for(var e="";t--;)e+="0";return e}function ty(t,e){var n,r,i,o,a,s,l,c,u,f=1,g=10,m=t,b=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(fl+(m.s?"NaN":"-Infinity"));if(m.eq(As))return new v(0);if(e==null?(ci=!1,c=y):c=e,m.eq(10))return e==null&&(ci=!0),PA(v,c);if(c+=g,v.precision=c,n=Lc(b),r=n.charAt(0),o=to(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Lc(m.d),r=n.charAt(0),f++;o=to(m),r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1))}else return l=PA(v,c+2,y).times(o+""),m=ty(new v(r+"."+n.slice(1)),c-g).plus(l),v.precision=y,e==null?(ci=!0,Dr(m,y)):m;for(s=a=m=Uu(m.minus(As),m.plus(As),c),u=Dr(m.times(m),c),i=3;;){if(a=Dr(a.times(u),c),l=s.plus(Uu(a,new v(i),c)),Lc(l.d).slice(0,c)===Lc(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(PA(v,c+2,y).times(o+""))),s=Uu(s,new v(f),c),v.precision=y,e==null?(ci=!0,Dr(s,y)):s;s=l,i+=2}}function g6(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=pg(n/Zr),t.d=[],r=(n+1)%Zr,n<0&&(r+=Zr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Zr;r<i;)t.d.push(+e.slice(r,r+=Zr));e=e.slice(r),r=Zr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ci&&(t.e>V1||t.e<-V1))throw Error(VM+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dr(t,e,n){var r,i,o,a,s,l,c,u,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Zr,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Zr),o=f.length,u>=o)return t;for(c=o=f[u],a=1;o>=10;o/=10)a++;r%=Zr,i=r-Zr+a}if(n!==void 0&&(o=oh(10,a-i-1),s=c/o%10|0,l=e<0||f[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/oh(10,a-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=to(t),f.length=1,e=e-o-1,f[0]=oh(10,(Zr-e%Zr)%Zr),t.e=pg(-e/Zr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,o=1,u--):(f.length=u+1,o=oh(10,Zr-r),f[u]=i>0?(c/oh(10,a-i)%oh(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==Ao&&(f[0]=1,++t.e);break}else{if(f[u]+=o,f[u]!=Ao)break;f[u--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ci&&(t.e>V1||t.e<-V1))throw Error(VM+to(t));return t}function xW(t,e){var n,r,i,o,a,s,l,c,u,f,g=t.constructor,m=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ci?Dr(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(m/Zr),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ao-1;--l[o],l[i]+=Ao}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ci?Dr(e,m):e):new g(0)}function Lh(t,e,n){var r,i=to(t),o=Lc(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+qd(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+qd(-i-1)+o,n&&(r=n-a)>0&&(o+=qd(r))):i>=a?(o+=qd(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+qd(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=qd(r))),t.s<0?"-"+o:o}function v6(t,e){if(t.length>e)return t.length=e,!0}function wW(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(xh+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return g6(a,o.toString())}else if(typeof o!="string")throw Error(xh+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,$me.test(o))g6(a,o);else throw Error(xh+o)}if(i.prototype=jt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wW,i.config=i.set=zme,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zme(t){if(!t||typeof t!="object")throw Error(fl+"Object expected");var e,n,r,i=["precision",1,hg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(pg(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xh+n+": "+r);return this}var KM=wW(Bme);As=new KM(1);const Or=KM;function qme(t){return Vme(t)||Wme(t)||Hme(t)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hme(t,e){if(t){if(typeof t=="string")return pC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pC(t,e)}}function Wme(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vme(t){if(Array.isArray(t))return pC(t)}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kme=function(e){return e},SW={},_W=function(e){return e===SW},y6=function(e){return function n(){return arguments.length===0||arguments.length===1&&_W(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Gme=function t(e,n){return e===1?n:y6(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==SW}).length;return a>=e?n.apply(void 0,i):t(e-a,y6(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return _W(f)?l.shift():f});return n.apply(void 0,qme(u).concat(l))}))})},a2=function(e){return Gme(e.length,e)},mC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Yme=a2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Xme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Kme;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},gC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},EW=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Qme(t){var e;return t===0?e=1:e=Math.floor(new Or(t).abs().log(10).toNumber())+1,e}function Jme(t,e,n){for(var r=new Or(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Zme=a2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ege=a2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),tge=a2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const s2={rangeStep:Jme,getDigitCount:Qme,interpolateNumber:Zme,uninterpolateNumber:ege,uninterpolateTruncation:tge};function vC(t){return ige(t)||rge(t)||NW(t)||nge()}function nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ige(t){if(Array.isArray(t))return yC(t)}function ny(t,e){return sge(t)||age(t,e)||NW(t,e)||oge()}function oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(t,e){if(t){if(typeof t=="string")return yC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(t,e)}}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function age(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function sge(t){if(Array.isArray(t))return t}function AW(t){var e=ny(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function kW(t,e,n){if(t.lte(0))return new Or(0);var r=s2.getDigitCount(t.toNumber()),i=new Or(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Or(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Or(Math.ceil(l))}function lge(t,e,n){var r=1,i=new Or(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Or(10).pow(s2.getDigitCount(t)-1),i=new Or(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Or(Math.floor(t)))}else t===0?i=new Or(Math.floor((e-1)/2)):n||(i=new Or(Math.floor(t)));var a=Math.floor((e-1)/2),s=Xme(Yme(function(l){return i.add(new Or(l-a).mul(r)).toNumber()}),mC);return s(0,e)}function CW(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Or(0),tickMin:new Or(0),tickMax:new Or(0)};var o=kW(new Or(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Or(0):(a=new Or(t).add(e).div(2),a=a.sub(new Or(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Or(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?CW(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Or(s).mul(o)),tickMax:a.add(new Or(l).mul(o))})}function cge(t){var e=ny(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=AW([n,r]),l=ny(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(vC(mC(0,i-1).map(function(){return 1/0}))):[].concat(vC(mC(0,i-1).map(function(){return-1/0})),[u]);return n>r?gC(f):f}if(c===u)return lge(c,i,o);var g=CW(c,u,a,o),m=g.step,b=g.tickMin,v=g.tickMax,y=s2.rangeStep(b,v.add(new Or(.1).mul(m)),m);return n>r?gC(y):y}function uge(t,e){var n=ny(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=AW([r,i]),s=ny(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=kW(new Or(c).sub(l).div(u-1),o,0),g=[].concat(vC(s2.rangeStep(new Or(l),new Or(c).sub(new Or(.99).mul(f)),f)),[c]);return r>i?gC(g):g}var dge=EW(cge),fge=EW(uge),hge="Invariant failed";function Dh(t,e){throw new Error(hge)}var pge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(this,arguments)}function mge(t,e){return bge(t)||yge(t,e)||vge(t,e)||gge()}function gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vge(t,e){if(t){if(typeof t=="string")return b6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b6(t,e)}}function b6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function bge(t){if(Array.isArray(t))return t}function xge(t,e){if(t==null)return{};var n=wge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MW(r.key),r)}}function Ege(t,e,n){return e&&_ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nge(t,e,n){return e=G1(e),Age(t,TW()?Reflect.construct(e,n||[],G1(t).constructor):e.apply(t,n))}function Age(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TW=function(){return!!t})()}function G1(t){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G1(t)}function Cge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bC(t,e)}function bC(t,e){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bC(t,e)}function OW(t,e,n){return e=MW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MW(t){var e=Tge(t,"string");return Om(e)=="symbol"?e:e+""}function Tge(t,e){if(Om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l2=(function(t){function e(){return Sge(this,e),Nge(this,e,arguments)}return Cge(e,t),Ege(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,g=xge(r,pge),m=sr(g,!1);this.props.direction==="x"&&u.type!=="number"&&Dh();var b=l.map(function(v){var y=c(v,s),w=y.x,N=y.y,k=y.value,A=y.errorVal;if(!A)return null;var T=[],P,L;if(Array.isArray(A)){var C=mge(A,2);P=C[0],L=C[1]}else P=L=A;if(o==="vertical"){var M=u.scale,q=N+i,D=q+a,I=q-a,z=M(k-P),U=M(k+L);T.push({x1:U,y1:D,x2:U,y2:I}),T.push({x1:z,y1:q,x2:U,y2:q}),T.push({x1:z,y1:D,x2:z,y2:I})}else if(o==="horizontal"){var Y=f.scale,ne=w+i,W=ne-a,G=ne+a,K=Y(k-P),fe=Y(k+L);T.push({x1:W,y1:fe,x2:G,y2:fe}),T.push({x1:ne,y1:K,x2:ne,y2:fe}),T.push({x1:W,y1:K,x2:G,y2:K})}return Ce.createElement(To,K1({className:"recharts-errorBar",key:"bar-".concat(T.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),T.map(function(X){return Ce.createElement("line",K1({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return Ce.createElement(To,{className:"recharts-errorBars"},b)}}])})(Ce.Component);OW(l2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});OW(l2,"displayName","ErrorBar");function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return e=Mge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mge(t){var e=Pge(t,"string");return ry(e)=="symbol"?e:e+""}function Pge(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PW=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=_s(n,sm);if(!a)return null;var s=sm.defaultProps,l=s!==void 0?nh(nh({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,f){var g=f.item,m=f.props,b=m.sectors||m.data||[];return u.concat(b.map(function(v){return{type:a.props.iconType||g.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(r||[]).map(function(u){var f=u.item,g=f.type.defaultProps,m=g!==void 0?nh(nh({},g),f.props):{},b=m.dataKey,v=m.name,y=m.legendType,w=m.hide;return{inactive:w,dataKey:b,type:l.iconType||y||"square",color:GM(f),value:v||b,payload:m}}),nh(nh(nh({},l),sm.getWithHeight(a,i)),{},{payload:c,item:a})};function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function w6(t){return Lge(t)||Ige(t)||jge(t)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jge(t,e){if(t){if(typeof t=="string")return xC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xC(t,e)}}function Ige(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lge(t){if(Array.isArray(t))return xC(t)}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cm(t,e,n){return e=Dge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dge(t){var e=Fge(t,"string");return iy(e)=="symbol"?e:e+""}function Fge(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vc(t,e,n){return lr(t)||lr(e)?n:ho(e)?cl(t,e,n):Hn(e)?e(t):n}function _v(t,e,n,r){var i=Lme(t,function(s){return Vc(s,e)});if(n==="number"){var o=i.filter(function(s){return gt(s)||parseFloat(s)});return o.length?[o2(o),i2(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!lr(s)}):i;return a.map(function(s){return ho(s)||s instanceof Date?s:""})}var Bge=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,g=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(Gl(f-u)!==Gl(g-f)){var b=[];if(Gl(g-f)===Gl(l[1]-l[0])){m=g;var v=f+l[1]-l[0];b[0]=Math.min(v,(v+u)/2),b[1]=Math.max(v,(v+u)/2)}else{m=u;var y=g+l[1]-l[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>w[0]&&e<=w[1]||e>=b[0]&&e<=b[1]){a=i[c].index;break}}else{var N=Math.min(u,g),k=Math.max(u,g);if(e>(N+f)/2&&e<=(k+f)/2){a=i[c].index;break}}}else for(var A=0;A<s;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===s-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){a=r[A].index;break}return a},GM=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ki(ki({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},$ge=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),g=0,m=f.length;g<m;g++){var b=u[f[g]],v=b.items,y=b.cateAxisId,w=v.filter(function(L){return zu(L.type).indexOf("Bar")>=0});if(w&&w.length){var N=w[0].type.defaultProps,k=N!==void 0?ki(ki({},N),w[0].props):w[0].props,A=k.barSize,T=k[y];a[T]||(a[T]=[]);var P=lr(A)?n:A;a[T].push({item:w[0],stackList:w.slice(1),barSize:lr(P)?void 0:Ih(P,r,0)})}}return a},zge=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=Ih(n,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var g=!1,m=i/l,b=a.reduce(function(A,T){return A+T.barSize||0},0);b+=(l-1)*c,b>=i&&(b-=(l-1)*c,c=0),b>=i&&m>0&&(g=!0,m*=.9,b=l*m);var v=(i-b)/2>>0,y={offset:v-c,size:0};u=a.reduce(function(A,T){var P={item:T.item,position:{offset:y.offset+y.size+c,size:g?m:T.barSize}},L=[].concat(w6(A),[P]);return y=L[L.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(C){L.push({item:C,position:y})}),L},f)}else{var w=Ih(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var N=(i-2*w-(l-1)*c)/l;N>1&&(N>>=0);var k=s===+s?Math.min(N,s):N;u=a.reduce(function(A,T,P){var L=[].concat(w6(A),[{item:T.item,position:{offset:w+(N+c)*P+(N-k)/2,size:k}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(C){L.push({item:C,position:L[L.length-1].position})}),L},f)}return u},qge=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=PW({children:o,legendWidth:l});if(c){var u=i||{},f=u.width,g=u.height,m=c.align,b=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&m!=="center"&&gt(e[m]))return ki(ki({},e),{},cm({},m,e[m]+(f||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&b!=="middle"&&gt(e[b]))return ki(ki({},e),{},cm({},b,e[b]+(g||0)))}return e},Uge=function(e,n,r){return lr(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},RW=function(e,n,r,i,o){var a=n.props.children,s=Zl(a,l2).filter(function(c){return Uge(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Vc(u,r);if(lr(f))return c;var g=Array.isArray(f)?[o2(f),i2(f)]:[f,f],m=l.reduce(function(b,v){var y=Vc(u,v,0),w=g[0]-Math.abs(Array.isArray(y)?y[0]:y),N=g[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,b[0]),Math.max(N,b[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},Hge=function(e,n,r,i,o){var a=n.map(function(s){return RW(e,s,r,o,i)}).filter(function(s){return!lr(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},jW=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&RW(e,l,c,i)||_v(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},IW=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},LW=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Bu=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&s?.length>=2?Gl(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var g=o?o.indexOf(f):f;return{coordinate:i(g)+c,value:f,offset:c}});return u.filter(function(f){return!Jy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,g){return{coordinate:i(f)+c,value:f,index:g,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,g){return{coordinate:i(f)+c,value:o?o[f]:f,index:g,offset:c}})},RA=new WeakMap,cb=function(e,n){if(typeof n!="function")return e;RA.has(e)||RA.set(e,new WeakMap);var r=RA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Wge=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Xv(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:q1(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Sv(),realScaleType:"point"}:o==="category"?{scale:Xv(),realScaleType:"band"}:{scale:q1(),realScaleType:"linear"};if(jh(i)){var l="scale".concat(Ww(i));return{scale:(s6[l]||Sv)(),realScaleType:s6[l]?l:"point"}}return Hn(i)?{scale:i}:{scale:Sv(),realScaleType:"point"}},_6=1e-4,Vge=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-_6,a=Math.max(i[0],i[1])+_6,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Kge=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Gge=function(e,n){if(!n||n.length!==2||!gt(n[0])||!gt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!gt(e[0])||e[0]<r)&&(o[0]=r),(!gt(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Yge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Jy(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Xge=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Jy(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Qge={sign:Yge,expand:jce,none:Sm,silhouette:Ice,wiggle:Lce,positive:Xge},Jge=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Qge[r],a=Rce().keys(i).value(function(s,l){return+Vc(s,l,0)}).order(Xk).offset(o);return a(e)},Zge=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(f,g){var m,b=(m=g.type)!==null&&m!==void 0&&m.defaultProps?ki(ki({},g.type.defaultProps),g.props):g.props,v=b.stackId,y=b.hide;if(y)return f;var w=b[r],N=f[w]||{hasStack:!1,stackGroups:{}};if(ho(v)){var k=N.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(g),N.hasStack=!0,N.stackGroups[v]=k}else N.stackGroups[Hw("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return ki(ki({},f),{},cm({},w,N))},l),u={};return Object.keys(c).reduce(function(f,g){var m=c[g];if(m.hasStack){var b={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,y){var w=m.stackGroups[y];return ki(ki({},v),{},cm({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:Jge(e,w.items,o)}))},b)}return ki(ki({},f),{},cm({},g,m))},u)},eve=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=dge(c,o,s);return e.domain([o2(u),i2(u)]),{niceTicks:u}}if(o&&i==="number"){var f=e.domain(),g=fge(f,o,s);return{niceTicks:g}}return null},E6=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Vc(a,n.dataKey,n.domain[s]);return lr(l)?null:n.scale(l)-o/2+i},tve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},nve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ki(ki({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(ho(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},rve=function(e){return e.reduce(function(n,r){return[o2(r.concat([n[0]]).filter(gt)),i2(r.concat([n[1]]).filter(gt))]},[1/0,-1/0])},DW=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var f=rve(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},N6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wC=function(e,n,r){if(Hn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(gt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(N6.test(e[0])){var o=+N6.exec(e[0])[1];i[0]=n[0]-o}else Hn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(gt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(A6.test(e[1])){var a=+A6.exec(e[1])[1];i[1]=n[1]+a}else Hn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Y1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=wM(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},k6=function(e,n,r){return!e||!e.length||WM(e,cl(r,"type.defaultProps.domain"))?n:e},FW=function(e,n){var r=e.type.defaultProps?ki(ki({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return ki(ki({},sr(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:GM(e),value:Vc(n,i),type:l,payload:n,chartType:c,hide:u})};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function C6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(n),!0).forEach(function(r){ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ive(t,e,n){return e=ove(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=ave(t,"string");return oy(e)=="symbol"?e:e+""}function ave(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X1=Math.PI/180,sve=function(e){return e*180/Math.PI},Go=function(e,n,r,i){return{x:e+Math.cos(-X1*i)*r,y:n+Math.sin(-X1*i)*r}},lve=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},cve=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=lve({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:sve(c),angleInRadian:c}},uve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},dve=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},O6=function(e,n){var r=e.x,i=e.y,o=cve({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=uve(n),f=u.startAngle,g=u.endAngle,m=s,b;if(f<=g){for(;m>g;)m-=360;for(;m<f;)m+=360;b=m>=f&&m<=g}else{for(;m>f;)m-=360;for(;m<g;)m+=360;b=m>=g&&m<=f}return b?T6(T6({},n),{},{radius:a,angle:dve(m,n)}):null};function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}var fve=["offset"];function hve(t){return vve(t)||gve(t)||mve(t)||pve()}function pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mve(t,e){if(t){if(typeof t=="string")return SC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SC(t,e)}}function gve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vve(t){if(Array.isArray(t))return SC(t)}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yve(t,e){if(t==null)return{};var n=bve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xve(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=Sve(t,"string");return ay(e)=="symbol"?e:e+""}function Sve(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}var _ve=function(e){var n=e.value,r=e.formatter,i=lr(e.children)?n:e.children;return Hn(r)?r(i):i},Eve=function(e,n){var r=Gl(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Nve=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,g=l.outerRadius,m=l.startAngle,b=l.endAngle,v=l.clockWise,y=(f+g)/2,w=Eve(m,b),N=w>=0?1:-1,k,A;i==="insideStart"?(k=m+N*a,A=v):i==="insideEnd"?(k=b-N*a,A=!v):i==="end"&&(k=b+N*a,A=v),A=w<=0?A:!A;var T=Go(c,u,y,k),P=Go(c,u,y,k+(A?1:-1)*359),L="M".concat(T.x,",").concat(T.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),C=lr(e.id)?Hw("recharts-radial-line-"):e.id;return Ce.createElement("text",sy({},r,{dominantBaseline:"central",className:rr("recharts-radial-bar-label",s)}),Ce.createElement("defs",null,Ce.createElement("path",{id:C,d:L})),Ce.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Ave=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,g=(u+f)/2;if(i==="outside"){var m=Go(a,s,c+r,g),b=m.x,v=m.y;return{x:b,y:v,textAnchor:b>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,w=Go(a,s,y,g),N=w.x,k=w.y;return{x:N,y:k,textAnchor:"middle",verticalAnchor:"middle"}},kve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,g=f*i,m=f>0?"end":"start",b=f>0?"start":"end",v=c>=0?1:-1,y=v*i,w=v>0?"end":"start",N=v>0?"start":"end";if(o==="top"){var k={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return co(co({},k),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var A={x:s+c/2,y:l+u+g,textAnchor:"middle",verticalAnchor:b};return co(co({},A),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var T={x:s-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return co(co({},T),r?{width:Math.max(T.x-r.x,0),height:u}:{})}if(o==="right"){var P={x:s+c+y,y:l+u/2,textAnchor:N,verticalAnchor:"middle"};return co(co({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var L=r?{width:c,height:u}:{};return o==="insideLeft"?co({x:s+y,y:l+u/2,textAnchor:N,verticalAnchor:"middle"},L):o==="insideRight"?co({x:s+c-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},L):o==="insideTop"?co({x:s+c/2,y:l+g,textAnchor:"middle",verticalAnchor:b},L):o==="insideBottom"?co({x:s+c/2,y:l+u-g,textAnchor:"middle",verticalAnchor:m},L):o==="insideTopLeft"?co({x:s+y,y:l+g,textAnchor:N,verticalAnchor:b},L):o==="insideTopRight"?co({x:s+c-y,y:l+g,textAnchor:w,verticalAnchor:b},L):o==="insideBottomLeft"?co({x:s+y,y:l+u-g,textAnchor:N,verticalAnchor:m},L):o==="insideBottomRight"?co({x:s+c-y,y:l+u-g,textAnchor:w,verticalAnchor:m},L):ug(o)&&(gt(o.x)||dh(o.x))&&(gt(o.y)||dh(o.y))?co({x:s+Ih(o.x,c),y:l+Ih(o.y,u),textAnchor:"end",verticalAnchor:"end"},L):co({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Cve=function(e){return"cx"in e&&gt(e.cx)};function ha(t){var e=t.offset,n=e===void 0?5:e,r=yve(t,fve),i=co({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,g=i.textBreakAll;if(!o||lr(s)&&lr(l)&&!O.isValidElement(c)&&!Hn(c))return null;if(O.isValidElement(c))return O.cloneElement(c,i);var m;if(Hn(c)){if(m=O.createElement(c,i),O.isValidElement(m))return m}else m=_ve(i);var b=Cve(o),v=sr(i,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Nve(i,m,v);var y=b?Ave(i):kve(i);return Ce.createElement(I1,sy({className:rr("recharts-label",f)},v,y,{breakAll:g}),m)}ha.displayName="Label";var BW=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,g=e.y,m=e.top,b=e.left,v=e.width,y=e.height,w=e.clockWise,N=e.labelViewBox;if(N)return N;if(gt(v)&&gt(y)){if(gt(f)&&gt(g))return{x:f,y:g,width:v,height:y};if(gt(m)&&gt(b))return{x:m,y:b,width:v,height:y}}return gt(f)&&gt(g)?{x:f,y:g,width:0,height:0}:gt(n)&&gt(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Tve=function(e,n){return e?e===!0?Ce.createElement(ha,{key:"label-implicit",viewBox:n}):ho(e)?Ce.createElement(ha,{key:"label-implicit",viewBox:n,value:e}):O.isValidElement(e)?e.type===ha?O.cloneElement(e,{key:"label-implicit",viewBox:n}):Ce.createElement(ha,{key:"label-implicit",content:e,viewBox:n}):Hn(e)?Ce.createElement(ha,{key:"label-implicit",content:e,viewBox:n}):ug(e)?Ce.createElement(ha,sy({viewBox:n},e,{key:"label-implicit"})):null:null},Ove=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=BW(e),a=Zl(i,ha).map(function(l,c){return O.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=Tve(e.label,n||o);return[s].concat(hve(a))};ha.parseViewBox=BW;ha.renderCallByParent=Ove;var jA,P6;function Mve(){if(P6)return jA;P6=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return jA=t,jA}var Pve=Mve();const Rve=cr(Pve);function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}var jve=["valueAccessor"],Ive=["data","dataKey","clockWise","id","textBreakAll"];function Lve(t){return $ve(t)||Bve(t)||Fve(t)||Dve()}function Dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fve(t,e){if(t){if(typeof t=="string")return _C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _C(t,e)}}function Bve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ve(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zve(t,e,n){return e=qve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qve(t){var e=Uve(t,"string");return ly(e)=="symbol"?e:e+""}function Uve(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I6(t,e){if(t==null)return{};var n=Hve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wve=function(e){return Array.isArray(e.value)?Rve(e.value):e.value};function wh(t){var e=t.valueAccessor,n=e===void 0?Wve:e,r=I6(t,jve),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=I6(r,Ive);return!i||!i.length?null:Ce.createElement(To,{className:"recharts-label-list"},i.map(function(u,f){var g=lr(o)?n(u,f):Vc(u&&u.payload,o),m=lr(s)?{}:{id:"".concat(s,"-").concat(f)};return Ce.createElement(ha,Q1({},sr(u,!0),c,m,{parentViewBox:u.parentViewBox,value:g,textBreakAll:l,viewBox:ha.parseViewBox(lr(a)?u:j6(j6({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}wh.displayName="LabelList";function Vve(t,e){return t?t===!0?Ce.createElement(wh,{key:"labelList-implicit",data:e}):Ce.isValidElement(t)||Hn(t)?Ce.createElement(wh,{key:"labelList-implicit",data:e,content:t}):ug(t)?Ce.createElement(wh,Q1({data:e},t,{key:"labelList-implicit"})):null:null}function Kve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Zl(r,wh).map(function(a,s){return O.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Vve(t.label,e);return[o].concat(Lve(i))}wh.renderCallByParent=Kve;function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EC.apply(this,arguments)}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){Gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e,n){return e=Yve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Xve(t,"string");return cy(e)=="symbol"?e:e+""}function Xve(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qve=function(e,n){var r=Gl(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ub=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/X1,g=c?o:o+a*f,m=Go(n,r,u,g),b=Go(n,r,i,g),v=c?o-a*f:o,y=Go(n,r,u*Math.cos(f*X1),v);return{center:m,circleTangency:b,lineTangency:y,theta:f}},$W=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Qve(a,s),c=a+l,u=Go(n,r,o,a),f=Go(n,r,o,c),g="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Go(n,r,i,a),b=Go(n,r,i,c);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},Jve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Gl(u-c),g=ub({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),m=g.circleTangency,b=g.lineTangency,v=g.theta,y=ub({cx:n,cy:r,radius:o,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),w=y.circleTangency,N=y.lineTangency,k=y.theta,A=l?Math.abs(c-u):Math.abs(c-u)-v-k;if(A<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):$W({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var T="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var P=ub({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),L=P.circleTangency,C=P.lineTangency,M=P.theta,q=ub({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=q.circleTangency,I=q.lineTangency,z=q.theta,U=l?Math.abs(c-u):Math.abs(c-u)-M-z;if(U<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Zve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zW=function(e){var n=D6(D6({},Zve),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,g=n.className;if(a<o||u===f)return null;var m=rr("recharts-sector",g),b=a-o,v=Ih(s,b,0,!0),y;return v>0&&Math.abs(u-f)<360?y=Jve({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,b/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=$W({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:f}),Ce.createElement("path",EC({},sr(n,!0),{className:m,d:y,role:"img"}))};function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function NC(){return NC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NC.apply(this,arguments)}function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return e=tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return uy(e)=="symbol"?e:e+""}function nye(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $6={curveBasisClosed:Sce,curveBasisOpen:_ce,curveBasis:wce,curveBumpX:sce,curveBumpY:lce,curveLinearClosed:Ece,curveLinear:Kw,curveMonotoneX:Nce,curveMonotoneY:Ace,curveNatural:kce,curveStep:Cce,curveStepAfter:Oce,curveStepBefore:Tce},db=function(e){return e.x===+e.x&&e.y===+e.y},ev=function(e){return e.x},tv=function(e){return e.y},rye=function(e,n){if(Hn(e))return e;var r="curve".concat(Ww(e));return(r==="curveMonotone"||r==="curveBump")&&n?$6["".concat(r).concat(n==="vertical"?"Y":"X")]:$6[r]||Kw},iye=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=rye(r,s),f=c?o.filter(function(v){return db(v)}):o,g;if(Array.isArray(a)){var m=c?a.filter(function(v){return db(v)}):a,b=f.map(function(v,y){return B6(B6({},v),{},{base:m[y]})});return s==="vertical"?g=nb().y(tv).x1(ev).x0(function(v){return v.base.x}):g=nb().x(ev).y1(tv).y0(function(v){return v.base.y}),g.defined(db).curve(u),g(b)}return s==="vertical"&&gt(a)?g=nb().y(tv).x1(ev).x0(a):gt(a)?g=nb().x(ev).y1(tv).y0(a):g=VU().x(ev).y(tv),g.defined(db).curve(u),g(f)},z6=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?iye(e):i;return O.createElement("path",NC({},sr(e,!1),S1(e),{className:rr("recharts-curve",n),d:a,ref:o}))},IA={exports:{}},LA,q6;function oye(){if(q6)return LA;q6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return LA=t,LA}var DA,U6;function aye(){if(U6)return DA;U6=1;var t=oye();function e(){}function n(){}return n.resetWarningCache=e,DA=function(){function r(a,s,l,c,u,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},DA}var H6;function sye(){return H6||(H6=1,IA.exports=aye()()),IA.exports}var lye=sye();const gr=cr(lye);var cye=Object.getOwnPropertyNames,uye=Object.getOwnPropertySymbols,dye=Object.prototype.hasOwnProperty;function W6(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function fb(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function fye(t){return t?.[Symbol.toStringTag]}function V6(t){return cye(t).concat(uye(t))}var hye=Object.hasOwn||(function(t,e){return dye.call(t,e)});function tp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var pye="__v",mye="__o",gye="_owner",K6=Object.getOwnPropertyDescriptor,G6=Object.keys;function vye(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function yye(t,e){return tp(t.getTime(),e.getTime())}function bye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function xye(t,e){return t===e}function Y6(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=e.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var g=a.value,m=s.value;if(n.equals(g[0],m[0],l,f,t,e,n)&&n.equals(g[1],m[1],g[0],m[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var wye=tp;function Sye(t,e,n){var r=G6(t),i=r.length;if(G6(e).length!==i)return!1;for(;i-- >0;)if(!qW(t,e,n,r[i]))return!1;return!0}function nv(t,e,n){var r=V6(t),i=r.length;if(V6(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!qW(t,e,n,o)||(a=K6(t,o),s=K6(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function _ye(t,e){return tp(t.valueOf(),e.valueOf())}function Eye(t,e){return t.source===e.source&&t.flags===e.flags}function X6(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Nye(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Aye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function qW(t,e,n,r){return(r===gye||r===mye||r===pye)&&(t.$$typeof||e.$$typeof)?!0:hye(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var kye="[object Arguments]",Cye="[object Boolean]",Tye="[object Date]",Oye="[object Error]",Mye="[object Map]",Pye="[object Number]",Rye="[object Object]",jye="[object RegExp]",Iye="[object Set]",Lye="[object String]",Dye="[object URL]",Fye=Array.isArray,Q6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,J6=Object.assign,Bye=Object.prototype.toString.call.bind(Object.prototype.toString);function $ye(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,g=t.areUrlsEqual,m=t.unknownTagComparators;return function(v,y,w){if(v===y)return!0;if(v==null||y==null)return!1;var N=typeof v;if(N!==typeof y)return!1;if(N!=="object")return N==="number"?a(v,y,w):N==="function"?i(v,y,w):!1;var k=v.constructor;if(k!==y.constructor)return!1;if(k===Object)return s(v,y,w);if(Fye(v))return e(v,y,w);if(Q6!=null&&Q6(v))return f(v,y,w);if(k===Date)return n(v,y,w);if(k===RegExp)return c(v,y,w);if(k===Map)return o(v,y,w);if(k===Set)return u(v,y,w);var A=Bye(v);if(A===Tye)return n(v,y,w);if(A===jye)return c(v,y,w);if(A===Mye)return o(v,y,w);if(A===Iye)return u(v,y,w);if(A===Rye)return typeof v.then!="function"&&typeof y.then!="function"&&s(v,y,w);if(A===Dye)return g(v,y,w);if(A===Oye)return r(v,y,w);if(A===kye)return s(v,y,w);if(A===Cye||A===Pye||A===Lye)return l(v,y,w);if(m){var T=m[A];if(!T){var P=fye(v);P&&(T=m[P])}if(T)return T(v,y,w)}return!1}}function zye(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nv:vye,areDatesEqual:yye,areErrorsEqual:bye,areFunctionsEqual:xye,areMapsEqual:r?W6(Y6,nv):Y6,areNumbersEqual:wye,areObjectsEqual:r?nv:Sye,arePrimitiveWrappersEqual:_ye,areRegExpsEqual:Eye,areSetsEqual:r?W6(X6,nv):X6,areTypedArraysEqual:r?nv:Nye,areUrlsEqual:Aye,unknownTagComparators:void 0};if(n&&(i=J6({},i,n(i))),e){var o=fb(i.areArraysEqual),a=fb(i.areMapsEqual),s=fb(i.areObjectsEqual),l=fb(i.areSetsEqual);i=J6({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function qye(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Uye(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,g=f===void 0?e?new WeakMap:void 0:f,m=u.meta;return n(l,c,{cache:g,equals:i,meta:m,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var Hye=Ef();Ef({strict:!0});Ef({circular:!0});Ef({circular:!0,strict:!0});Ef({createInternalComparator:function(){return tp}});Ef({strict:!0,createInternalComparator:function(){return tp}});Ef({circular:!0,createInternalComparator:function(){return tp}});Ef({circular:!0,createInternalComparator:function(){return tp},strict:!0});function Ef(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=zye(t),l=$ye(s),c=r?r(l):qye(l);return Uye({circular:n,comparator:l,createState:i,equals:c,strict:a})}function Wye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Z6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Wye(i)};requestAnimationFrame(r)}function AC(t){"@babel/helpers - typeof";return AC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AC(t)}function Vye(t){return Xye(t)||Yye(t)||Gye(t)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(t,e){if(t){if(typeof t=="string")return e8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e8(t,e)}}function e8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xye(t){if(Array.isArray(t))return t}function Qye(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Vye(a),l=s[0],c=s.slice(1);if(typeof l=="number"){Z6(i.bind(null,c),l);return}i(l),Z6(i.bind(null,c));return}AC(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(r){UW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e,n){return e=Jye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jye(t){var e=Zye(t,"string");return dy(e)==="symbol"?e:String(e)}function Zye(t,e){if(dy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e0e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},t0e=function(e){return e},n0e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ev=function(e,n){return Object.keys(n).reduce(function(r,i){return n8(n8({},r),{},UW({},i,e(i,n[i])))},{})},r8=function(e,n,r){return e.map(function(i){return"".concat(n0e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function r0e(t,e){return a0e(t)||o0e(t,e)||HW(t,e)||i0e()}function i0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function a0e(t){if(Array.isArray(t))return t}function s0e(t){return u0e(t)||c0e(t)||HW(t)||l0e()}function l0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HW(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function c0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u0e(t){if(Array.isArray(t))return kC(t)}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J1=1e-4,WW=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},VW=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},i8=function(e,n){return function(r){var i=WW(e,n);return VW(i,r)}},d0e=function(e,n){return function(r){var i=WW(e,n),o=[].concat(s0e(i.map(function(a,s){return a*s}).slice(1)),[0]);return VW(o,r)}},o8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=r0e(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var f=i8(i,a),g=i8(o,s),m=d0e(i,a),b=function(w){return w>1?1:w<0?0:w},v=function(w){for(var N=w>1?1:w,k=N,A=0;A<8;++A){var T=f(k)-N,P=m(k);if(Math.abs(T-N)<J1||P<J1)return g(k);k=b(k-T/P)}return g(k)};return v.isStepper=!1,v},f0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,f,g){var m=-(u-f)*r,b=g*o,v=g+(m-b)*s/1e3,y=g*s/1e3+u;return Math.abs(y-f)<J1&&Math.abs(v)<J1?[f,0]:[y,v]};return l.isStepper=!0,l.dt=s,l},h0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o8(i);case"spring":return f0e();default:if(i.split("(")[0]==="cubic-bezier")return o8(i)}return typeof i=="function"?i:null};function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function a8(t){return g0e(t)||m0e(t)||KW(t)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g0e(t){if(Array.isArray(t))return TC(t)}function s8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(n),!0).forEach(function(r){CC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CC(t,e,n){return e=v0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0e(t){var e=y0e(t,"string");return fy(e)==="symbol"?e:String(e)}function y0e(t,e){if(fy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0e(t,e){return S0e(t)||w0e(t,e)||KW(t,e)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KW(t,e){if(t){if(typeof t=="string")return TC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(t,e)}}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function S0e(t){if(Array.isArray(t))return t}var Z1=function(e,n,r){return e+(n-e)*r},OC=function(e){var n=e.from,r=e.to;return n!==r},_0e=function t(e,n,r){var i=Ev(function(o,a){if(OC(a)){var s=e(a.from,a.to,a.velocity),l=b0e(s,2),c=l[0],u=l[1];return qo(qo({},a),{},{from:c,velocity:u})}return a},n);return r<1?Ev(function(o,a){return OC(a)?qo(qo({},a),{},{velocity:Z1(a.velocity,i[o].velocity,r),from:Z1(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const E0e=(function(t,e,n,r,i){var o=e0e(t,e),a=o.reduce(function(y,w){return qo(qo({},y),{},CC({},w,[t[w],e[w]]))},{}),s=o.reduce(function(y,w){return qo(qo({},y),{},CC({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,u,f=function(){return null},g=function(){return Ev(function(w,N){return N.from},s)},m=function(){return!Object.values(s).filter(OC).length},b=function(w){c||(c=w);var N=w-c,k=N/n.dt;s=_0e(n,s,k),i(qo(qo(qo({},t),e),g())),c=w,m()||(l=requestAnimationFrame(f))},v=function(w){u||(u=w);var N=(w-u)/r,k=Ev(function(T,P){return Z1.apply(void 0,a8(P).concat([n(N)]))},a);if(i(qo(qo(qo({},t),e),k)),N<1)l=requestAnimationFrame(f);else{var A=Ev(function(T,P){return Z1.apply(void 0,a8(P).concat([n(1)]))},a);i(qo(qo(qo({},t),e),A))}};return f=n.isStepper?b:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}var N0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function A0e(t,e){if(t==null)return{};var n=k0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FA(t){return M0e(t)||O0e(t)||T0e(t)||C0e()}function C0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0e(t,e){if(t){if(typeof t=="string")return MC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(t,e)}}function O0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M0e(t){if(Array.isArray(t))return MC(t)}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(n),!0).forEach(function(r){pv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pv(t,e,n){return e=GW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GW(r.key),r)}}function j0e(t,e,n){return e&&R0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GW(t){var e=I0e(t,"string");return Mm(e)==="symbol"?e:String(e)}function I0e(t,e){if(Mm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PC(t,e)}function PC(t,e){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PC(t,e)}function D0e(t){var e=F0e();return function(){var r=ex(t),i;if(e){var o=ex(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return RC(this,i)}}function RC(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jC(t)}function jC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}var pf=(function(t){L0e(n,t);var e=D0e(n);function n(r,i){var o;P0e(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,g=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(jC(o)),o.changeStyle=o.changeStyle.bind(jC(o)),!s||m<=0)return o.state={style:{}},typeof g=="function"&&(o.state={style:u}),RC(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof g=="function")return o.state={style:c},RC(o);o.state={style:l?pv({},l,c):c}}else o.state={style:{}};return o}return j0e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,g=this.state.style;if(s){if(!a){var m={style:l?pv({},l,u):u};this.state&&g&&(l&&g[l]!==u||!l&&g!==u)&&this.setState(m);return}if(!(Hye(i.to,u)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||c?f:i.to;if(this.state&&g){var y={style:l?pv({},l,v):v};(l&&g[l]!==v||!l&&g!==v)&&this.setState(y)}this.runAnimation($l($l({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,g=i.onAnimationStart,m=E0e(a,s,h0e(c),l,this.changeStyle),b=function(){o.stopJSAnimation=m()};this.manager.start([g,u,b,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,g=f===void 0?0:f,m=function(v,y,w){if(w===0)return v;var N=y.duration,k=y.easing,A=k===void 0?"ease":k,T=y.style,P=y.properties,L=y.onAnimationEnd,C=w>0?a[w-1]:y,M=P||Object.keys(T);if(typeof A=="function"||A==="spring")return[].concat(FA(v),[o.runJSAnimation.bind(o,{from:C.style,to:T,duration:N,easing:A}),N]);var q=r8(M,N,A),D=$l($l($l({},C.style),T),{},{transition:q});return[].concat(FA(v),[D,N,L]).filter(t0e)};return this.manager.start([l].concat(FA(a.reduce(m,[u,Math.max(g,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Qye());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,g=i.steps,m=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var v=s?pv({},s,l):l,y=r8(Object.keys(v),a,c);b.start([u,o,$l($l({},v),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=A0e(i,N0e),c=O.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var f=function(m){var b=m.props,v=b.style,y=v===void 0?{}:v,w=b.className,N=O.cloneElement(m,$l($l({},l),{},{style:$l($l({},y),u),className:w}));return N};return c===1?f(O.Children.only(o)):Ce.createElement("div",null,O.Children.map(o,function(g){return f(g)}))}}]),n})(O.PureComponent);pf.displayName="Animate";pf.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pf.propTypes={from:gr.oneOfType([gr.object,gr.string]),to:gr.oneOfType([gr.object,gr.string]),attributeName:gr.string,duration:gr.number,begin:gr.number,easing:gr.oneOfType([gr.string,gr.func]),steps:gr.arrayOf(gr.shape({duration:gr.number.isRequired,style:gr.object.isRequired,easing:gr.oneOfType([gr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gr.func]),properties:gr.arrayOf("string"),onAnimationEnd:gr.func})),children:gr.oneOfType([gr.node,gr.func]),isActive:gr.bool,canBegin:gr.bool,onAnimationEnd:gr.func,shouldReAnimate:gr.bool,onAnimationStart:gr.func,onAnimationReStart:gr.func};function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tx.apply(this,arguments)}function B0e(t,e){return U0e(t)||q0e(t,e)||z0e(t,e)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z0e(t,e){if(t){if(typeof t=="string")return c8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c8(t,e)}}function c8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function U0e(t){if(Array.isArray(t))return t}function u8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(n),!0).forEach(function(r){H0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H0e(t,e,n){return e=W0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=V0e(t,"string");return hy(e)=="symbol"?e:e+""}function V0e(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f8=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],g=0,m=4;g<m;g++)f[g]=o[g]>a?a:o[g];u="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),u+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var b=Math.min(a,o);u="M ".concat(e,",").concat(n+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*b,`
            L `).concat(e+r,",").concat(n+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*b," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},K0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(a,a+l),g=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=g}return!1},G0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YM=function(e){var n=d8(d8({},G0e),e),r=O.useRef(),i=O.useState(-1),o=B0e(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,g=n.radius,m=n.className,b=n.animationEasing,v=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,N=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var k=rr("recharts-rectangle",m);return N?Ce.createElement(pf,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:v,animationEasing:b,isActive:N},function(A){var T=A.width,P=A.height,L=A.x,C=A.y;return Ce.createElement(pf,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:w,easing:b},Ce.createElement("path",tx({},sr(n,!0),{className:k,d:f8(L,C,T,P,g),ref:r})))}):Ce.createElement("path",tx({},sr(n,!0),{className:k,d:f8(l,c,u,f,g)}))};function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IC.apply(this,arguments)}var YW=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=rr("recharts-dot",o);return n===+n&&r===+r&&i===+i?O.createElement("circle",IC({},sr(e,!1),S1(e),{className:a,cx:n,cy:r,r:i})):null};function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}var Y0e=["x","y","top","left","width","height","className"];function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(this,arguments)}function h8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(n),!0).forEach(function(r){Q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0e(t,e,n){return e=J0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0e(t){var e=Z0e(t,"string");return py(e)=="symbol"?e:e+""}function Z0e(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ebe(t,e){if(t==null)return{};var n=tbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nbe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},rbe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,g=e.height,m=g===void 0?0:g,b=e.className,v=ebe(e,Y0e),y=X0e({x:r,y:o,top:s,left:c,width:f,height:m},v);return!gt(r)||!gt(o)||!gt(f)||!gt(m)||!gt(s)||!gt(c)?null:Ce.createElement("path",LC({},sr(y,!0),{className:rr("recharts-cross",b),d:nbe(r,o,f,m,s,c)}))},BA,p8;function ibe(){if(p8)return BA;p8=1;var t=mH(),e=t(Object.getPrototypeOf,Object);return BA=e,BA}var $A,m8;function obe(){if(m8)return $A;m8=1;var t=Ju(),e=ibe(),n=Zu(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function c(u){if(!n(u)||t(u)!=r)return!1;var f=e(u);if(f===null)return!0;var g=s.call(f,"constructor")&&f.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==l}return $A=c,$A}var abe=obe();const sbe=cr(abe);var zA,g8;function lbe(){if(g8)return zA;g8=1;var t=Ju(),e=Zu(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return zA=r,zA}var cbe=lbe();const ube=cr(cbe);function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}function dbe(t,e){return mbe(t)||pbe(t,e)||hbe(t,e)||fbe()}function fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(t,e){if(t){if(typeof t=="string")return v8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v8(t,e)}}function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function mbe(t){if(Array.isArray(t))return t}function y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(r){gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gbe(t,e,n){return e=vbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vbe(t){var e=ybe(t,"string");return my(e)=="symbol"?e:e+""}function ybe(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x8=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},bbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xbe=function(e){var n=b8(b8({},bbe),e),r=O.useRef(),i=O.useState(-1),o=dbe(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,g=n.height,m=n.className,b=n.animationEasing,v=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||g!==+g||u===0&&f===0||g===0)return null;var N=rr("recharts-trapezoid",m);return w?Ce.createElement(pf,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:g,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:g,x:l,y:c},duration:v,animationEasing:b,isActive:w},function(k){var A=k.upperWidth,T=k.lowerWidth,P=k.height,L=k.x,C=k.y;return Ce.createElement(pf,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:b},Ce.createElement("path",nx({},sr(n,!0),{className:N,d:x8(L,C,A,T,P),ref:r})))}):Ce.createElement("g",null,Ce.createElement("path",nx({},sr(n,!0),{className:N,d:x8(l,c,u,f,g)})))},wbe=["option","shapeType","propTransformer","activeClassName","isActive"];function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function Sbe(t,e){if(t==null)return{};var n=_be(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){Ebe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ebe(t,e,n){return e=Nbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nbe(t){var e=Abe(t,"string");return gy(e)=="symbol"?e:e+""}function Abe(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kbe(t,e){return rx(rx({},e),t)}function Cbe(t,e){return t==="symbols"}function S8(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Ce.createElement(YM,n);case"trapezoid":return Ce.createElement(xbe,n);case"sector":return Ce.createElement(zW,n);case"symbols":if(Cbe(e))return Ce.createElement(hM,n);break;default:return null}}function Tbe(t){return O.isValidElement(t)?t.props:t}function Obe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?kbe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Sbe(t,wbe),c;if(O.isValidElement(e))c=O.cloneElement(e,rx(rx({},l),Tbe(e)));else if(Hn(e))c=e(l);else if(sbe(e)&&!ube(e)){var u=i(e,l);c=Ce.createElement(S8,{shapeType:n,elementProps:u})}else{var f=l;c=Ce.createElement(S8,{shapeType:n,elementProps:f})}return s?Ce.createElement(To,{className:a},c):c}function c2(t,e){return e!=null&&"trapezoids"in t.props}function u2(t,e){return e!=null&&"sectors"in t.props}function vy(t,e){return e!=null&&"points"in t.props}function Mbe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Pbe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Rbe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function jbe(t,e){var n;return c2(t,e)?n=Mbe:u2(t,e)?n=Pbe:vy(t,e)&&(n=Rbe),n}function Ibe(t,e){var n;return c2(t,e)?n="trapezoids":u2(t,e)?n="sectors":vy(t,e)&&(n="points"),n}function Lbe(t,e){if(c2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(u2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return vy(t,e)?e.payload:{}}function Dbe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Ibe(n,e),o=Lbe(n,e),a=r.filter(function(l,c){var u=WM(o,l),f=n.props[i].filter(function(b){var v=jbe(n,e);return v(b,e)}),g=n.props[i].indexOf(f[f.length-1]),m=c===g;return u&&m}),s=r.indexOf(a[a.length-1]);return s}var qA,_8;function Fbe(){if(_8)return qA;_8=1;var t=Math.ceil,e=Math.max;function n(r,i,o,a){for(var s=-1,l=e(t((i-r)/(o||1)),0),c=Array(l);l--;)c[a?l:++s]=r,r+=o;return c}return qA=n,qA}var UA,E8;function XW(){if(E8)return UA;E8=1;var t=MH(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return UA=r,UA}var HA,N8;function Bbe(){if(N8)return HA;N8=1;var t=Fbe(),e=Qw(),n=XW();function r(i){return function(o,a,s){return s&&typeof s!="number"&&e(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),t(o,a,s,i)}}return HA=r,HA}var WA,A8;function $be(){if(A8)return WA;A8=1;var t=Bbe(),e=t();return WA=e,WA}var zbe=$be();const ix=cr(zbe);function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function k8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(r){QW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e,n){return e=qbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qbe(t){var e=Ube(t,"string");return yy(e)=="symbol"?e:e+""}function Ube(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hbe=["Webkit","Moz","O","ms"],Wbe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Hbe.reduce(function(o,a){return C8(C8({},o),{},QW({},a+r,n))},{});return i[e]=n,i};function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(this,arguments)}function T8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(n),!0).forEach(function(r){Ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZW(r.key),r)}}function Kbe(t,e,n){return e&&O8(t.prototype,e),n&&O8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gbe(t,e,n){return e=ax(e),Ybe(t,JW()?Reflect.construct(e,n||[],ax(t).constructor):e.apply(t,n))}function Ybe(t,e){if(e&&(Pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xbe(t)}function Xbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(t)}function Qbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DC(t,e)}function Ss(t,e,n){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=Jbe(t,"string");return Pm(e)=="symbol"?e:e+""}function Jbe(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zbe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Sv().domain(ix(0,l)).range([o,o+a-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},M8=function(e){return e.changedTouches&&!!e.changedTouches.length},Rm=(function(t){function e(n){var r;return Vbe(this,e),r=Gbe(this,e,[n]),Ss(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ss(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ss(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a?.({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Ss(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ss(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ss(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ss(r,"handleSlideDragStart",function(i){var o=M8(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Qbe(e,t),Kbe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,o),g=Math.max(i,o),m=e.getIndexInRange(a,f),b=e.getIndexInRange(a,g);return{startIndex:m-m%l,endIndex:b===u?u:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Vc(o[r],s,r);return Hn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,g=l.startIndex,m=l.endIndex,b=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,c+u-f-s,c+u-f-a):v<0&&(v=Math.max(v,c-a,c-s));var y=this.getIndex({startX:a+v,endX:s+v});(y.startIndex!==g||y.endIndex!==m)&&b&&b(y),this.setState({startX:a+v,endX:s+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=M8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,g=u.width,m=u.travellerWidth,b=u.onChange,v=u.gap,y=u.data,w={startX:this.state.startX,endX:this.state.endX},N=r.pageX-o;N>0?N=Math.min(N,f+g-m-c):N<0&&(N=Math.max(N,f-c)),w[a]=c+N;var k=this.getIndex(w),A=k.startIndex,T=k.endIndex,P=function(){var C=y.length-1;return a==="startX"&&(s>l?A%v===0:T%v===0)||s<l&&T===C||a==="endX"&&(s>l?T%v===0:A%v===0)||s>l&&T===C};this.setState(Ss(Ss({},a,c+N),"brushMoveStartX",r.pageX),function(){b&&P()&&b(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var g=f+r;if(!(g===-1||g>=s.length)){var m=s[g];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Ss({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return Ce.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=O.Children.only(c);return f?Ce.cloneElement(f,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,g=l.traveller,m=l.ariaLabel,b=l.data,v=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),N=VA(VA({},sr(this.props,!1)),{},{x:w,y:c,width:u,height:f}),k=m||"Min value: ".concat((o=b[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=b[y])===null||a===void 0?void 0:a.name);return Ce.createElement(To,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,N))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return Ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,g=u.endX,m=5,b={pointerEvents:"none",fill:c};return Ce.createElement(To,{className:"recharts-brush-texts"},Ce.createElement(I1,ox({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,g)-m,y:a+s/2},b),this.getTextOfTick(i)),Ce.createElement(I1,ox({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,g)+l+m,y:a+s/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,g=this.state,m=g.startX,b=g.endX,v=g.isTextActive,y=g.isSlideMoving,w=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!gt(s)||!gt(l)||!gt(c)||!gt(u)||c<=0||u<=0)return null;var k=rr("recharts-brush",o),A=Ce.Children.count(a)===1,T=Wbe("userSelect","none");return Ce.createElement(To,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,b),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(b,"endX"),(v||y||w||N||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return Ce.createElement(Ce.Fragment,null,Ce.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),Ce.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),Ce.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return Ce.isValidElement(r)?o=Ce.cloneElement(r,i):Hn(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return VA({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?Zbe({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var g=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])})(O.PureComponent);Ss(Rm,"displayName","Brush");Ss(Rm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var KA,P8;function e1e(){if(P8)return KA;P8=1;var t=xM();function e(n,r){var i;return t(n,function(o,a,s){return i=r(o,a,s),!i}),!!i}return KA=e,KA}var GA,R8;function t1e(){if(R8)return GA;R8=1;var t=lH(),e=wf(),n=e1e(),r=ls(),i=Qw();function o(a,s,l){var c=r(a)?t:n;return l&&i(a,s,l)&&(s=void 0),c(a,e(s,3))}return GA=o,GA}var n1e=t1e();const r1e=cr(n1e);var qc=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},YA,j8;function i1e(){if(j8)return YA;j8=1;var t=AH();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return YA=e,YA}var XA,I8;function o1e(){if(I8)return XA;I8=1;var t=i1e(),e=EH(),n=wf();function r(i,o){var a={};return o=n(o,3),e(i,function(s,l,c){t(a,l,o(s,l,c))}),a}return XA=r,XA}var a1e=o1e();const s1e=cr(a1e);var QA,L8;function l1e(){if(L8)return QA;L8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return QA=t,QA}var JA,D8;function c1e(){if(D8)return JA;D8=1;var t=xM();function e(n,r){var i=!0;return t(n,function(o,a,s){return i=!!r(o,a,s),i}),i}return JA=e,JA}var ZA,F8;function u1e(){if(F8)return ZA;F8=1;var t=l1e(),e=c1e(),n=wf(),r=ls(),i=Qw();function o(a,s,l){var c=r(a)?t:e;return l&&i(a,s,l)&&(s=void 0),c(a,n(s,3))}return ZA=o,ZA}var d1e=u1e();const eV=cr(d1e);var f1e=["x","y"];function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FC.apply(this,arguments)}function B8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(n),!0).forEach(function(r){h1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1e(t,e,n){return e=p1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1e(t){var e=m1e(t,"string");return by(e)=="symbol"?e:e+""}function m1e(t,e){if(by(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g1e(t,e){if(t==null)return{};var n=v1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y1e(t,e){var n=t.x,r=t.y,i=g1e(t,f1e),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),g=parseInt(f,10);return rv(rv(rv(rv(rv({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:g,name:e.name,radius:e.radius})}function $8(t){return Ce.createElement(Obe,FC({shapeType:"rectangle",propTransformer:y1e,activeClassName:"recharts-active-bar"},t))}var b1e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=gt(r)||Tle(r);return o?e(r,i):(o||Dh(),n)}},x1e=["value","background"],tV;function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function w1e(t,e){if(t==null)return{};var n=S1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(this,arguments)}function z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(n),!0).forEach(function(r){Xd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rV(r.key),r)}}function E1e(t,e,n){return e&&q8(t.prototype,e),n&&q8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function N1e(t,e,n){return e=lx(e),A1e(t,nV()?Reflect.construct(e,n||[],lx(t).constructor):e.apply(t,n))}function A1e(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(t)}function k1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(t)}function C1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BC(t,e)}function Xd(t,e,n){return e=rV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rV(t){var e=T1e(t,"string");return jm(e)=="symbol"?e:e+""}function T1e(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mf=(function(t){function e(){var n;_1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=N1e(this,e,[].concat(i)),Xd(n,"state",{isAnimationFinished:!1}),Xd(n,"id",Hw("recharts-bar-")),Xd(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Xd(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return C1e(e,t),E1e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=sr(this.props,!1);return r&&r.map(function(f,g){var m=g===l,b=m?c:a,v=Yi(Yi(Yi({},u),f),{},{isActive:m,option:b,index:g,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Ce.createElement(To,sx({className:"recharts-bar-rectangle"},_1(i.props,f,g),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(g)}),Ce.createElement($8,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,g=this.state.prevData;return Ce.createElement(pf,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var b=m.t,v=o.map(function(y,w){var N=g&&g[w];if(N){var k=Pp(N.x,y.x),A=Pp(N.y,y.y),T=Pp(N.width,y.width),P=Pp(N.height,y.height);return Yi(Yi({},y),{},{x:k(b),y:A(b),width:T(b),height:P(b)})}if(a==="horizontal"){var L=Pp(0,y.height),C=L(b);return Yi(Yi({},y),{},{y:y.y+y.height-C,height:C})}var M=Pp(0,y.width),q=M(b);return Yi(Yi({},y),{},{width:q})});return Ce.createElement(To,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!WM(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=sr(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,g=w1e(c,x1e);if(!f)return null;var m=Yi(Yi(Yi(Yi(Yi({},g),{},{fill:"#eee"},f),l),_1(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return Ce.createElement($8,sx({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=Zl(u,l2);if(!f)return null;var g=c==="vertical"?a[0].height/2:a[0].width/2,m=function(y,w){var N=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:N,errorVal:Vc(y,w)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Ce.createElement(To,b,f.map(function(v){return Ce.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:g,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,g=r.height,m=r.isAnimationActive,b=r.background,v=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=rr("recharts-bar",a),N=s&&s.allowDataOverflow,k=l&&l.allowDataOverflow,A=N||k,T=lr(v)?this.id:v;return Ce.createElement(To,{className:w},N||k?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(T)},Ce.createElement("rect",{x:N?c:c-f/2,y:k?u:u-g/2,width:N?f:f*2,height:k?g:g*2}))):null,Ce.createElement(To,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(T,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,T),(!m||y)&&wh.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(O.PureComponent);tV=mf;Xd(mf,"displayName","Bar");Xd(mf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!e0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xd(mf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,g=t.offset,m=Kge(r,n);if(!m)return null;var b=e.layout,v=n.type.defaultProps,y=v!==void 0?Yi(Yi({},v),n.props):n.props,w=y.dataKey,N=y.children,k=y.minPointSize,A=b==="horizontal"?a:o,T=c?A.scale.domain():null,P=tve({numericAxis:A}),L=Zl(N,R1),C=f.map(function(M,q){var D,I,z,U,Y,ne;c?D=Gge(c[u+q],T):(D=Vc(M,w),Array.isArray(D)||(D=[P,D]));var W=b1e(k,tV.defaultProps.minPointSize)(D[1],q);if(b==="horizontal"){var G,K=[a.scale(D[0]),a.scale(D[1])],fe=K[0],X=K[1];I=E6({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:M,index:q}),z=(G=X??fe)!==null&&G!==void 0?G:void 0,U=m.size;var F=fe-X;if(Y=Number.isNaN(F)?0:F,ne={x:I,y:a.y,width:U,height:a.height},Math.abs(W)>0&&Math.abs(Y)<Math.abs(W)){var V=Gl(Y||W)*(Math.abs(W)-Math.abs(Y));z-=V,Y+=V}}else{var ee=[o.scale(D[0]),o.scale(D[1])],ie=ee[0],ue=ee[1];if(I=ie,z=E6({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:M,index:q}),U=ue-ie,Y=m.size,ne={x:o.x,y:z,width:o.width,height:Y},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var he=Gl(U||W)*(Math.abs(W)-Math.abs(U));U+=he}}return Yi(Yi(Yi({},M),{},{x:I,y:z,width:U,height:Y,value:c?D:D[1],payload:M,background:ne},L&&L[q]&&L[q].props),{},{tooltipPayload:[FW(n,M)],tooltipPosition:{x:I+U/2,y:z+Y/2}})});return Yi({data:C,layout:b},g)});function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function O1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iV(r.key),r)}}function M1e(t,e,n){return e&&U8(t.prototype,e),n&&U8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function H8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(n),!0).forEach(function(r){d2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d2(t,e,n){return e=iV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iV(t){var e=P1e(t,"string");return xy(e)=="symbol"?e:e+""}function P1e(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R1e=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},g=!!_s(c,mf);return u.reduce(function(m,b){var v=n[b],y=v.orientation,w=v.domain,N=v.padding,k=N===void 0?{}:N,A=v.mirror,T=v.reversed,P="".concat(y).concat(A?"Mirror":""),L,C,M,q,D;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var I=w[1]-w[0],z=1/0,U=v.categoricalDomain.sort(Ple);if(U.forEach(function(ee,ie){ie>0&&(z=Math.min((ee||0)-(U[ie-1]||0),z))}),Number.isFinite(z)){var Y=z/I,ne=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(L=Y*ne/2),v.padding==="no-gap"){var W=Ih(e.barCategoryGap,Y*ne),G=Y*ne/2;L=G-W-(G-W)/ne*W}}}i==="xAxis"?C=[r.left+(k.left||0)+(L||0),r.left+r.width-(k.right||0)-(L||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(L||0),r.top+r.height-(k.bottom||0)-(L||0)]:C=v.range,T&&(C=[C[1],C[0]]);var K=Wge(v,o,g),fe=K.scale,X=K.realScaleType;fe.domain(w).range(C),Vge(fe);var F=eve(fe,Wl(Wl({},v),{},{realScaleType:X}));i==="xAxis"?(D=y==="top"&&!A||y==="bottom"&&A,M=r.left,q=f[P]-D*v.height):i==="yAxis"&&(D=y==="left"&&!A||y==="right"&&A,M=f[P]-D*v.width,q=r.top);var V=Wl(Wl(Wl({},v),F),{},{realScaleType:X,x:M,y:q,scale:fe,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return V.bandSize=Y1(V,F),!v.hide&&i==="xAxis"?f[P]+=(D?-1:1)*V.height:v.hide||(f[P]+=(D?-1:1)*V.width),Wl(Wl({},m),{},d2({},b,V))},{})},oV=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},j1e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return oV({x:n,y:r},{x:i,y:o})},aV=(function(){function t(e){O1e(this,t),this.scale=e}return M1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();d2(aV,"EPS",1e-4);var XM=function(e){var n=Object.keys(e).reduce(function(r,i){return Wl(Wl({},r),{},d2({},i,aV.create(e[i])))},{});return Wl(Wl({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return s1e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return eV(i,function(o,a){return n[a].isInRange(o)})}})};function I1e(t){return(t%180+180)%180}var L1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=I1e(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},e5,W8;function D1e(){if(W8)return e5;W8=1;var t=wf(),e=Zy(),n=Yw();function r(i){return function(o,a,s){var l=Object(o);if(!e(o)){var c=t(a,3);o=n(o),a=function(f){return c(l[f],f,l)}}var u=i(o,a,s);return u>-1?l[c?o[u]:u]:void 0}}return e5=r,e5}var t5,V8;function F1e(){if(V8)return t5;V8=1;var t=XW();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return t5=e,t5}var n5,K8;function B1e(){if(K8)return n5;K8=1;var t=bH(),e=wf(),n=F1e(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var c=s==null?0:n(s);return c<0&&(c=r(l+c,0)),t(o,e(a,3),c)}return n5=i,n5}var r5,G8;function $1e(){if(G8)return r5;G8=1;var t=D1e(),e=B1e(),n=t(e);return r5=n,r5}var z1e=$1e();const q1e=cr(z1e);var U1e=IU();const H1e=cr(U1e);var W1e=H1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QM=O.createContext(void 0),JM=O.createContext(void 0),sV=O.createContext(void 0),lV=O.createContext({}),cV=O.createContext(void 0),uV=O.createContext(0),dV=O.createContext(0),Y8=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=W1e(o);return Ce.createElement(QM.Provider,{value:r},Ce.createElement(JM.Provider,{value:i},Ce.createElement(lV.Provider,{value:o},Ce.createElement(sV.Provider,{value:u},Ce.createElement(cV.Provider,{value:a},Ce.createElement(uV.Provider,{value:c},Ce.createElement(dV.Provider,{value:l},s)))))))},V1e=function(){return O.useContext(cV)},fV=function(e){var n=O.useContext(QM);n==null&&Dh();var r=n[e];return r==null&&Dh(),r},K1e=function(){var e=O.useContext(QM);return Vd(e)},G1e=function(){var e=O.useContext(JM),n=q1e(e,function(r){return eV(r.domain,Number.isFinite)});return n||Vd(e)},hV=function(e){var n=O.useContext(JM);n==null&&Dh();var r=n[e];return r==null&&Dh(),r},Y1e=function(){var e=O.useContext(sV);return e},X1e=function(){return O.useContext(lV)},ZM=function(){return O.useContext(dV)},eP=function(){return O.useContext(uV)};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function Q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mV(r.key),r)}}function Z1e(t,e,n){return e&&J1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function exe(t,e,n){return e=cx(e),txe(t,pV()?Reflect.construct(e,n||[],cx(t).constructor):e.apply(t,n))}function txe(t,e){if(e&&(Im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nxe(t)}function nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pV=function(){return!!t})()}function cx(t){return cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cx(t)}function rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$C(t,e)}function X8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(r){tP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tP(t,e,n){return e=mV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mV(t){var e=ixe(t,"string");return Im(e)=="symbol"?e:e+""}function ixe(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oxe(t,e){return cxe(t)||lxe(t,e)||sxe(t,e)||axe()}function axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sxe(t,e){if(t){if(typeof t=="string")return J8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J8(t,e)}}function J8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function cxe(t){if(Array.isArray(t))return t}function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zC.apply(this,arguments)}var uxe=function(e,n){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,n):Hn(e)?r=e(n):r=Ce.createElement("line",zC({},n,{className:"recharts-reference-line-line"})),r},dxe=function(e,n,r,i,o,a,s,l,c){var u=o.x,f=o.y,g=o.width,m=o.height;if(r){var b=c.y,v=e.y.apply(b,{position:a});if(qc(c,"discard")&&!e.y.isInRange(v))return null;var y=[{x:u+g,y:v},{x:u,y:v}];return l==="left"?y.reverse():y}if(n){var w=c.x,N=e.x.apply(w,{position:a});if(qc(c,"discard")&&!e.x.isInRange(N))return null;var k=[{x:N,y:f+m},{x:N,y:f}];return s==="top"?k.reverse():k}if(i){var A=c.segment,T=A.map(function(P){return e.apply(P,{position:a})});return qc(c,"discard")&&r1e(T,function(P){return!e.isInRange(P)})?null:T}return null};function fxe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=V1e(),u=fV(i),f=hV(o),g=Y1e();if(!c||!g)return null;qu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=XM({x:u.scale,y:f.scale}),b=ho(e),v=ho(n),y=r&&r.length===2,w=dxe(m,b,v,y,g,t.position,u.orientation,f.orientation,t);if(!w)return null;var N=oxe(w,2),k=N[0],A=k.x,T=k.y,P=N[1],L=P.x,C=P.y,M=qc(t,"hidden")?"url(#".concat(c,")"):void 0,q=Q8(Q8({clipPath:M},sr(t,!0)),{},{x1:A,y1:T,x2:L,y2:C});return Ce.createElement(To,{className:rr("recharts-reference-line",s)},uxe(a,q),ha.renderCallByParent(t,j1e({x1:A,y1:T,x2:L,y2:C})))}var nP=(function(t){function e(){return Q1e(this,e),exe(this,e,arguments)}return rxe(e,t),Z1e(e,[{key:"render",value:function(){return Ce.createElement(fxe,this.props)}}])})(Ce.Component);tP(nP,"displayName","ReferenceLine");tP(nP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function Z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(n),!0).forEach(function(r){f2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vV(r.key),r)}}function mxe(t,e,n){return e&&pxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gxe(t,e,n){return e=ux(e),vxe(t,gV()?Reflect.construct(e,n||[],ux(t).constructor):e.apply(t,n))}function vxe(t,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yxe(t)}function yxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!t})()}function ux(t){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ux(t)}function bxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UC(t,e)}function f2(t,e,n){return e=vV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vV(t){var e=xxe(t,"string");return Lm(e)=="symbol"?e:e+""}function xxe(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wxe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=XM({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return qc(e,"discard")&&!a.isInRange(s)?null:s},h2=(function(t){function e(){return hxe(this,e),gxe(this,e,arguments)}return bxe(e,t),mxe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=ho(i),u=ho(o);if(qu(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=wxe(this.props);if(!f)return null;var g=f.x,m=f.y,b=this.props,v=b.shape,y=b.className,w=qc(this.props,"hidden")?"url(#".concat(l,")"):void 0,N=eF(eF({clipPath:w},sr(this.props,!0)),{},{cx:g,cy:m});return Ce.createElement(To,{className:rr("recharts-reference-dot",y)},e.renderDot(v,N),ha.renderCallByParent(this.props,{x:g-a,y:m-a,width:2*a,height:2*a}))}}])})(Ce.Component);f2(h2,"displayName","ReferenceDot");f2(h2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});f2(h2,"renderDot",function(t,e){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,e):Hn(t)?n=t(e):n=Ce.createElement(YW,qC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HC.apply(this,arguments)}function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function tF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(n),!0).forEach(function(r){p2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bV(r.key),r)}}function Exe(t,e,n){return e&&_xe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nxe(t,e,n){return e=dx(e),Axe(t,yV()?Reflect.construct(e,n||[],dx(t).constructor):e.apply(t,n))}function Axe(t,e){if(e&&(Dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kxe(t)}function kxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dx(t)}function Cxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WC(t,e)}function p2(t,e,n){return e=bV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bV(t){var e=Txe(t,"string");return Dm(e)=="symbol"?e:e+""}function Txe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oxe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var g=XM({x:u.scale,y:f.scale}),m={x:e?g.x.apply(a,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(l,{position:"start"}):g.y.rangeMin},b={x:n?g.x.apply(s,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(c,{position:"end"}):g.y.rangeMax};return qc(o,"discard")&&(!g.isInRange(m)||!g.isInRange(b))?null:oV(m,b)},m2=(function(t){function e(){return Sxe(this,e),Nxe(this,e,arguments)}return Cxe(e,t),Exe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;qu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ho(i),g=ho(o),m=ho(a),b=ho(s),v=this.props.shape;if(!f&&!g&&!m&&!b&&!v)return null;var y=Oxe(f,g,m,b,this.props);if(!y&&!v)return null;var w=qc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ce.createElement(To,{className:rr("recharts-reference-area",l)},e.renderRect(v,nF(nF({clipPath:w},sr(this.props,!0)),y)),ha.renderCallByParent(this.props,y))}}])})(Ce.Component);p2(m2,"displayName","ReferenceArea");p2(m2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});p2(m2,"renderRect",function(t,e){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,e):Hn(t)?n=t(e):n=Ce.createElement(YM,HC({},e,{className:"recharts-reference-area-rect"})),n});function xV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Mxe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return L1e(r,n)}function Pxe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function fx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Rxe(t,e){return xV(t,e+1)}function jxe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,f=function(){var b=r?.[l];if(b===void 0)return{v:xV(r,c)};var v=l,y,w=function(){return y===void 0&&(y=n(b,v)),y},N=b.coordinate,k=l===0||fx(t,N,w,u,s);k||(l=0,u=a,c+=1),k&&(u=N+t*(w()/2+i),l+=c)},g;c<=o.length;)if(g=f(),g)return g.v;return[]}function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function rF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(n),!0).forEach(function(r){Ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ixe(t,e,n){return e=Lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lxe(t){var e=Dxe(t,"string");return wy(e)=="symbol"?e:e+""}function Dxe(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fxe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(g){var m=o[g],b,v=function(){return b===void 0&&(b=n(m,g)),b};if(g===a-1){var y=t*(m.coordinate+t*v()/2-l);o[g]=m=da(da({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else o[g]=m=da(da({},m),{},{tickCoord:m.coordinate});var w=fx(t,m.tickCoord,v,s,l);w&&(l=m.tickCoord-t*(v()/2+i),o[g]=da(da({},m),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function Bxe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],f=n(u,s-1),g=t*(u.coordinate+t*f/2-c);a[s-1]=u=da(da({},u),{},{tickCoord:g>0?u.coordinate-g*t:u.coordinate});var m=fx(t,u.tickCoord,function(){return f},l,c);m&&(c=u.tickCoord-t*(f/2+i),a[s-1]=da(da({},u),{},{isShow:!0}))}for(var b=o?s-1:s,v=function(N){var k=a[N],A,T=function(){return A===void 0&&(A=n(k,N)),A};if(N===0){var P=t*(k.coordinate-t*T()/2-l);a[N]=k=da(da({},k),{},{tickCoord:P<0?k.coordinate-P*t:k.coordinate})}else a[N]=k=da(da({},k),{},{tickCoord:k.coordinate});var L=fx(t,k.tickCoord,T,l,c);L&&(l=k.tickCoord+t*(T()/2+i),a[N]=da(da({},k),{},{isShow:!0}))},y=0;y<b;y++)v(y);return a}function rP(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(gt(l)||e0.isSsr)return Rxe(i,typeof l=="number"&&gt(l)?l:0);var g=[],m=s==="top"||s==="bottom"?"width":"height",b=u&&m==="width"?wv(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(k,A){var T=Hn(c)?c(k.value,A):k.value;return m==="width"?Mxe(wv(T,{fontSize:e,letterSpacing:n}),b,f):wv(T,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Gl(i[1].coordinate-i[0].coordinate):1,w=Pxe(o,y,m);return l==="equidistantPreserveStart"?jxe(y,w,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?g=Bxe(y,w,v,i,a,l==="preserveStartEnd"):g=Fxe(y,w,v,i,a),g.filter(function(N){return N.isShow}))}var $xe=["viewBox"],zxe=["viewBox"],qxe=["ticks"];function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}function iF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(n),!0).forEach(function(r){iP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i5(t,e){if(t==null)return{};var n=Uxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SV(r.key),r)}}function Wxe(t,e,n){return e&&oF(t.prototype,e),n&&oF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vxe(t,e,n){return e=hx(e),Kxe(t,wV()?Reflect.construct(e,n||[],hx(t).constructor):e.apply(t,n))}function Kxe(t,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gxe(t)}function Gxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hx(t)}function Yxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VC(t,e)}function iP(t,e,n){return e=SV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SV(t){var e=Xxe(t,"string");return Fm(e)=="symbol"?e:e+""}function Xxe(t,e){if(Fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mg=(function(t){function e(n){var r;return Hxe(this,e),r=Vxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Yxe(e,t),Wxe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=i5(r,$xe),s=this.props,l=s.viewBox,c=i5(s,zxe);return!am(o,l)||!am(a,c)||!am(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,g=i.tickMargin,m,b,v,y,w,N,k=f?-1:1,A=r.tickSize||u,T=gt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=b=r.coordinate,y=a+ +!f*l,v=y-k*A,N=v-k*g,w=T;break;case"left":v=y=r.coordinate,b=o+ +!f*s,m=b-k*A,w=m-k*g,N=T;break;case"right":v=y=r.coordinate,b=o+ +f*s,m=b+k*A,w=m+k*g,N=T;break;default:m=b=r.coordinate,y=a+ +f*l,v=y+k*A,N=v+k*g,w=T;break}return{line:{x1:m,y1:v,x2:b,y2:y},tick:{x:w,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=lo(lo(lo({},sr(this.props,!1)),sr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var g=+(l==="top"&&!c||l==="bottom"&&c);f=lo(lo({},f),{},{x1:i,y1:o+g*s,x2:i+a,y2:o+g*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=lo(lo({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return Ce.createElement("line",Zp({},f,{className:rr("recharts-cartesian-axis-line",cl(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,g=s.unit,m=rP(lo(lo({},this.props),{},{ticks:r}),i,o),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=sr(this.props,!1),w=sr(u,!1),N=lo(lo({},y),{},{fill:"none"},sr(l,!1)),k=m.map(function(A,T){var P=a.getTickLineCoord(A),L=P.line,C=P.tick,M=lo(lo(lo(lo({textAnchor:b,verticalAnchor:v},y),{},{stroke:"none",fill:c},w),C),{},{index:T,payload:A,visibleTicksCount:m.length,tickFormatter:f});return Ce.createElement(To,Zp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},_1(a.props,A,T)),l&&Ce.createElement("line",Zp({},N,L,{className:rr("recharts-cartesian-axis-tick-line",cl(l,"className"))})),u&&e.renderTickItem(u,M,"".concat(Hn(f)?f(A.value,T):A.value).concat(g||"")))});return Ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,g=f.ticks,m=i5(f,qxe),b=g;return Hn(l)&&(b=g&&g.length>0?l(this.props):l(m)),a<=0||s<=0||!b||!b.length?null:Ce.createElement(To,{className:rr("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),ha.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=rr(i.className,"recharts-cartesian-axis-tick-value");return Ce.isValidElement(r)?a=Ce.cloneElement(r,lo(lo({},i),{},{className:s})):Hn(r)?a=r(lo(lo({},i),{},{className:s})):a=Ce.createElement(I1,Zp({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])})(O.Component);iP(mg,"displayName","CartesianAxis");iP(mg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qxe=["x1","y1","x2","y2","key"],Jxe=["offset"];function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function aF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(n),!0).forEach(function(r){Zxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e,n){return e=ewe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ewe(t){var e=twe(t,"string");return Fh(e)=="symbol"?e:e+""}function twe(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function sF(t,e){if(t==null)return{};var n=nwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rwe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return Ce.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _V(t,e){var n;if(Ce.isValidElement(t))n=Ce.cloneElement(t,e);else if(Hn(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=sF(e,Qxe),c=sr(l,!1);c.offset;var u=sF(c,Jxe);n=Ce.createElement("line",ph({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function iwe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=pa(pa({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return _V(i,c)});return Ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function owe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=pa(pa({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return _V(i,c)});return Ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function awe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(g){return Math.round(g+i-i)}).sort(function(g,m){return g-m});i!==u[0]&&u.unshift(0);var f=u.map(function(g,m){var b=!u[m+1],v=b?i+a-g:u[m+1]-g;if(v<=0)return null;var y=m%e.length;return Ce.createElement("rect",{key:"react-".concat(m),y:g,x:r,height:v,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function swe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(g){return Math.round(g+o-o)}).sort(function(g,m){return g-m});o!==u[0]&&u.unshift(0);var f=u.map(function(g,m){var b=!u[m+1],v=b?o+s-g:u[m+1]-g;if(v<=0)return null;var y=m%r.length;return Ce.createElement("rect",{key:"react-".concat(m),x:g,y:a,width:v,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lwe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return LW(rP(pa(pa(pa({},mg.defaultProps),r),{},{ticks:Bu(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},cwe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return LW(rP(pa(pa(pa({},mg.defaultProps),r),{},{ticks:Bu(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ip={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function KC(t){var e,n,r,i,o,a,s=ZM(),l=eP(),c=X1e(),u=pa(pa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ip.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ip.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ip.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ip.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ip.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ip.verticalFill,x:gt(t.x)?t.x:c.left,y:gt(t.y)?t.y:c.top,width:gt(t.width)?t.width:c.width,height:gt(t.height)?t.height:c.height}),f=u.x,g=u.y,m=u.width,b=u.height,v=u.syncWithTicks,y=u.horizontalValues,w=u.verticalValues,N=K1e(),k=G1e();if(!gt(m)||m<=0||!gt(b)||b<=0||!gt(f)||f!==+f||!gt(g)||g!==+g)return null;var A=u.verticalCoordinatesGenerator||lwe,T=u.horizontalCoordinatesGenerator||cwe,P=u.horizontalPoints,L=u.verticalPoints;if((!P||!P.length)&&Hn(T)){var C=y&&y.length,M=T({yAxis:k?pa(pa({},k),{},{ticks:C?y:k.ticks}):void 0,width:s,height:l,offset:c},C?!0:v);qu(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fh(M),"]")),Array.isArray(M)&&(P=M)}if((!L||!L.length)&&Hn(A)){var q=w&&w.length,D=A({xAxis:N?pa(pa({},N),{},{ticks:q?w:N.ticks}):void 0,width:s,height:l,offset:c},q?!0:v);qu(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fh(D),"]")),Array.isArray(D)&&(L=D)}return Ce.createElement("g",{className:"recharts-cartesian-grid"},Ce.createElement(rwe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ce.createElement(iwe,ph({},u,{offset:c,horizontalPoints:P,xAxis:N,yAxis:k})),Ce.createElement(owe,ph({},u,{offset:c,verticalPoints:L,xAxis:N,yAxis:k})),Ce.createElement(awe,ph({},u,{horizontalPoints:P})),Ce.createElement(swe,ph({},u,{verticalPoints:L})))}KC.displayName="CartesianGrid";function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function fwe(t,e,n){return e&&dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hwe(t,e,n){return e=px(e),pwe(t,EV()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function pwe(t,e){if(e&&(Bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(t)}function mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GC(t,e)}function NV(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=vwe(t,"string");return Bm(e)=="symbol"?e:e+""}function vwe(t,e){if(Bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}function ywe(t){var e=t.xAxisId,n=ZM(),r=eP(),i=fV(e);return i==null?null:O.createElement(mg,YC({},i,{className:rr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Bu(a,!0)}}))}var Sy=(function(t){function e(){return uwe(this,e),hwe(this,e,arguments)}return gwe(e,t),fwe(e,[{key:"render",value:function(){return O.createElement(ywe,this.props)}}])})(O.Component);NV(Sy,"displayName","XAxis");NV(Sy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function bwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TV(r.key),r)}}function wwe(t,e,n){return e&&xwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Swe(t,e,n){return e=mx(e),_we(t,kV()?Reflect.construct(e,n||[],mx(t).constructor):e.apply(t,n))}function _we(t,e){if(e&&($m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ewe(t)}function Ewe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mx(t)}function Nwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XC(t,e)}function CV(t,e,n){return e=TV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TV(t){var e=Awe(t,"string");return $m(e)=="symbol"?e:e+""}function Awe(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QC.apply(this,arguments)}var kwe=function(e){var n=e.yAxisId,r=ZM(),i=eP(),o=hV(n);return o==null?null:O.createElement(mg,QC({},o,{className:rr("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Bu(s,!0)}}))},_y=(function(t){function e(){return bwe(this,e),Swe(this,e,arguments)}return Nwe(e,t),wwe(e,[{key:"render",value:function(){return O.createElement(kwe,this.props)}}])})(O.Component);CV(_y,"displayName","YAxis");CV(_y,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lF(t){return Mwe(t)||Owe(t)||Twe(t)||Cwe()}function Cwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(t,e){if(t){if(typeof t=="string")return JC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(t,e)}}function Owe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mwe(t){if(Array.isArray(t))return JC(t)}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZC=function(e,n,r,i,o){var a=Zl(e,nP),s=Zl(e,h2),l=[].concat(lF(a),lF(s)),c=Zl(e,m2),u="".concat(i,"Id"),f=i[0],g=n;if(l.length&&(g=l.reduce(function(v,y){if(y.props[u]===r&&qc(y.props,"extendDomain")&&gt(y.props[f])){var w=y.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},g)),c.length){var m="".concat(f,"1"),b="".concat(f,"2");g=c.reduce(function(v,y){if(y.props[u]===r&&qc(y.props,"extendDomain")&&gt(y.props[m])&&gt(y.props[b])){var w=y.props[m],N=y.props[b];return[Math.min(v[0],w,N),Math.max(v[1],w,N)]}return v},g)}return o&&o.length&&(g=o.reduce(function(v,y){return gt(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},g)),g},o5={exports:{}},cF;function Pwe(){return cF||(cF=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,g){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,f||l,g),b=n?n+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],m]:l._events[b].push(m):(l._events[b]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,m=f.length,b=new Array(m);g<m;g++)b[g]=f[g].fn;return b},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,g,m,b){var v=n?n+c:c;if(!this._events[v])return!1;var y=this._events[v],w=arguments.length,N,k;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,g),!0;case 5:return y.fn.call(y.context,u,f,g,m),!0;case 6:return y.fn.call(y.context,u,f,g,m,b),!0}for(k=1,N=new Array(w-1);k<w;k++)N[k-1]=arguments[k];y.fn.apply(y.context,N)}else{var A=y.length,T;for(k=0;k<A;k++)switch(y[k].once&&this.removeListener(c,y[k].fn,void 0,!0),w){case 1:y[k].fn.call(y[k].context);break;case 2:y[k].fn.call(y[k].context,u);break;case 3:y[k].fn.call(y[k].context,u,f);break;case 4:y[k].fn.call(y[k].context,u,f,g);break;default:if(!N)for(T=1,N=new Array(w-1);T<w;T++)N[T-1]=arguments[T];y[k].fn.apply(y[k].context,N)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,g){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return a(this,m),this;var b=this._events[m];if(b.fn)b.fn===u&&(!g||b.once)&&(!f||b.context===f)&&a(this,m);else{for(var v=0,y=[],w=b.length;v<w;v++)(b[v].fn!==u||g&&!b[v].once||f&&b[v].context!==f)&&y.push(b[v]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(o5)),o5.exports}var Rwe=Pwe();const jwe=cr(Rwe);var a5=new jwe,s5="recharts.syncMouseEvents";function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function Iwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OV(r.key),r)}}function Dwe(t,e,n){return e&&Lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l5(t,e,n){return e=OV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OV(t){var e=Fwe(t,"string");return Ey(e)=="symbol"?e:e+""}function Fwe(t,e){if(Ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bwe=(function(){function t(){Iwe(this,t),l5(this,"activeIndex",0),l5(this,"coordinateList",[]),l5(this,"layout","horizontal")}return Dwe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,g=n.mouseHandlerCallback,m=g===void 0?null:g;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,g=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:g})}}}])})();function $we(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&gt(r)&&gt(i))return!0}return!1}function zwe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function MV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Go(e,n,r,i),s=Go(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function qwe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,g=Go(s,l,c,f),m=Go(s,l,u,f);r=g.x,i=g.y,o=m.x,a=m.y}else return MV(e);return[{x:r,y:i},{x:o,y:a}]}function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){Uwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uwe(t,e,n){return e=Hwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hwe(t){var e=Wwe(t,"string");return Ny(e)=="symbol"?e:e+""}function Wwe(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vwe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,g=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||g!=="ScatterChart"&&i!=="axis")return null;var b,v=z6;if(g==="ScatterChart")b=a,v=rbe;else if(g==="BarChart")b=zwe(f,a,l,u),v=YM;else if(f==="radial"){var y=MV(a),w=y.cx,N=y.cy,k=y.radius,A=y.startAngle,T=y.endAngle;b={cx:w,cy:N,startAngle:A,endAngle:T,innerRadius:k,outerRadius:k},v=zW}else b={points:qwe(f,a,l)},v=z6;var P=hb(hb(hb(hb({stroke:"#ccc",pointerEvents:"none"},l),b),sr(m,!1)),{},{payload:s,payloadIndex:c,className:rr("recharts-tooltip-cursor",m.className)});return O.isValidElement(m)?O.cloneElement(m,P):O.createElement(v,P)}var Kwe=["item"],Gwe=["children","className","width","height","style","compact","title","desc"];function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function dF(t,e){return Qwe(t)||Xwe(t,e)||RV(t,e)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Qwe(t){if(Array.isArray(t))return t}function fF(t,e){if(t==null)return{};var n=Jwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jV(r.key),r)}}function t2e(t,e,n){return e&&e2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n2e(t,e,n){return e=gx(e),r2e(t,PV()?Reflect.construct(e,n||[],gx(t).constructor):e.apply(t,n))}function r2e(t,e){if(e&&(zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i2e(t)}function i2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gx(t)}function o2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eT(t,e)}function eT(t,e){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eT(t,e)}function qm(t){return l2e(t)||s2e(t)||RV(t)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(t,e){if(t){if(typeof t=="string")return tT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(t,e)}}function s2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l2e(t){if(Array.isArray(t))return tT(t)}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pn(t,e,n){return e=jV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jV(t){var e=c2e(t,"string");return zm(e)=="symbol"?e:e+""}function c2e(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u2e={xAxis:["bottom","top"],yAxis:["left","right"]},d2e={width:"100%",height:"100%"},IV={x:0,y:0};function pb(t){return t}var f2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},h2e=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return He(He(He({},i),Go(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return He(He(He({},i),Go(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return IV},g2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(qm(s),qm(c)):s},[]);return a.length>0?a:e&&e.length&&gt(i)&&gt(o)?e.slice(i,o+1):[]};function LV(t){return t==="number"?[0,"auto"]:void 0}var nT=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=g2(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;g=zk(m,a.dataKey,i)}else g=f&&f[r]||s[r];return g?[].concat(qm(l),[FW(c,g)]):l},[])},pF=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=f2e(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Bge(a,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,g=nT(e,n,u,f),m=h2e(r,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:g,activeCoordinate:m}}return null},p2e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,g=e.stackOffset,m=IW(u,o);return r.reduce(function(b,v){var y,w=v.type.defaultProps!==void 0?He(He({},v.type.defaultProps),v.props):v.props,N=w.type,k=w.dataKey,A=w.allowDataOverflow,T=w.allowDuplicatedCategory,P=w.scale,L=w.ticks,C=w.includeHidden,M=w[a];if(b[M])return b;var q=g2(e.data,{graphicalItems:i.filter(function(F){var V,ee=a in F.props?F.props[a]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[a];return ee===M}),dataStartIndex:l,dataEndIndex:c}),D=q.length,I,z,U;$we(w.domain,A,N)&&(I=wC(w.domain,null,A),m&&(N==="number"||P!=="auto")&&(U=_v(q,k,"category")));var Y=LV(N);if(!I||I.length===0){var ne,W=(ne=w.domain)!==null&&ne!==void 0?ne:Y;if(k){if(I=_v(q,k,N),N==="category"&&m){var G=Mle(I);T&&G?(z=I,I=ix(0,D)):T||(I=k6(W,I,v).reduce(function(F,V){return F.indexOf(V)>=0?F:[].concat(qm(F),[V])},[]))}else if(N==="category")T?I=I.filter(function(F){return F!==""&&!lr(F)}):I=k6(W,I,v).reduce(function(F,V){return F.indexOf(V)>=0||V===""||lr(V)?F:[].concat(qm(F),[V])},[]);else if(N==="number"){var K=Hge(q,i.filter(function(F){var V,ee,ie=a in F.props?F.props[a]:(V=F.type.defaultProps)===null||V===void 0?void 0:V[a],ue="hide"in F.props?F.props.hide:(ee=F.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ie===M&&(C||!ue)}),k,o,u);K&&(I=K)}m&&(N==="number"||P!=="auto")&&(U=_v(q,k,"category"))}else m?I=ix(0,D):s&&s[M]&&s[M].hasStack&&N==="number"?I=g==="expand"?[0,1]:DW(s[M].stackGroups,l,c):I=jW(q,i.filter(function(F){var V=a in F.props?F.props[a]:F.type.defaultProps[a],ee="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return V===M&&(C||!ee)}),N,u,!0);if(N==="number")I=ZC(f,I,M,o,L),W&&(I=wC(W,I,A));else if(N==="category"&&W){var fe=W,X=I.every(function(F){return fe.indexOf(F)>=0});X&&(I=fe)}}return He(He({},b),{},pn({},M,He(He({},w),{},{axisType:o,domain:I,categoricalDomain:U,duplicateDomain:z,originalDomain:(y=w.domain)!==null&&y!==void 0?y:Y,isCategorical:m,layout:u})))},{})},m2e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,g=g2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=g.length,b=IW(u,o),v=-1;return r.reduce(function(y,w){var N=w.type.defaultProps!==void 0?He(He({},w.type.defaultProps),w.props):w.props,k=N[a],A=LV("number");if(!y[k]){v++;var T;return b?T=ix(0,m):s&&s[k]&&s[k].hasStack?(T=DW(s[k].stackGroups,l,c),T=ZC(f,T,k,o)):(T=wC(A,jW(g,r.filter(function(P){var L,C,M=a in P.props?P.props[a]:(L=P.type.defaultProps)===null||L===void 0?void 0:L[a],q="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return M===k&&!q}),"number",u),i.defaultProps.allowDataOverflow),T=ZC(f,T,k,o)),He(He({},y),{},pn({},k,He(He({axisType:o},i.defaultProps),{},{hide:!0,orientation:cl(u2e,"".concat(o,".").concat(v%2),null),domain:T,originalDomain:A,isCategorical:b,layout:u})))}return y},{})},g2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),g=Zl(u,o),m={};return g&&g.length?m=p2e(e,{axes:g,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=m2e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},v2e=function(e){var n=Vd(e),r=Bu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wM(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Y1(n,r)}},mF=function(e){var n=e.children,r=e.defaultShowTooltip,i=_s(n,Rm),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},y2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=zu(n&&n.type);return r&&r.indexOf("Bar")>=0})},gF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},b2e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,g=r.margin||{},m=_s(f,Rm),b=_s(f,sm),v=Object.keys(l).reduce(function(T,P){var L=l[P],C=L.orientation;return!L.mirror&&!L.hide?He(He({},T),{},pn({},C,T[C]+L.width)):T},{left:g.left||0,right:g.right||0}),y=Object.keys(a).reduce(function(T,P){var L=a[P],C=L.orientation;return!L.mirror&&!L.hide?He(He({},T),{},pn({},C,cl(T,"".concat(C))+L.height)):T},{top:g.top||0,bottom:g.bottom||0}),w=He(He({},y),v),N=w.bottom;m&&(w.bottom+=m.props.height||Rm.defaultProps.height),b&&n&&(w=qge(w,i,r,n));var k=c-w.left-w.right,A=u-w.top-w.bottom;return He(He({brushBottom:N},w),{},{width:Math.max(k,0),height:Math.max(A,0)})},x2e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},w2e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,g=function(w,N){var k=N.graphicalItems,A=N.stackGroups,T=N.offset,P=N.updateId,L=N.dataStartIndex,C=N.dataEndIndex,M=w.barSize,q=w.layout,D=w.barGap,I=w.barCategoryGap,z=w.maxBarSize,U=gF(q),Y=U.numericAxisName,ne=U.cateAxisName,W=y2e(k),G=[];return k.forEach(function(K,fe){var X=g2(w.data,{graphicalItems:[K],dataStartIndex:L,dataEndIndex:C}),F=K.type.defaultProps!==void 0?He(He({},K.type.defaultProps),K.props):K.props,V=F.dataKey,ee=F.maxBarSize,ie=F["".concat(Y,"Id")],ue=F["".concat(ne,"Id")],he={},me=l.reduce(function(Ze,Et){var St=N["".concat(Et.axisType,"Map")],It=F["".concat(Et.axisType,"Id")];St&&St[It]||Et.axisType==="zAxis"||Dh();var Tt=St[It];return He(He({},Ze),{},pn(pn({},Et.axisType,Tt),"".concat(Et.axisType,"Ticks"),Bu(Tt)))},he),le=me[ne],be=me["".concat(ne,"Ticks")],Se=A&&A[ie]&&A[ie].hasStack&&nve(K,A[ie].stackGroups),xe=zu(K.type).indexOf("Bar")>=0,Le=Y1(le,be),Ne=[],se=W&&$ge({barSize:M,stackGroups:A,totalSize:x2e(me,ne)});if(xe){var ze,st,Ge=lr(ee)?z:ee,Fe=(ze=(st=Y1(le,be,!0))!==null&&st!==void 0?st:Ge)!==null&&ze!==void 0?ze:0;Ne=zge({barGap:D,barCategoryGap:I,bandSize:Fe!==Le?Fe:Le,sizeList:se[ue],maxBarSize:Ge}),Fe!==Le&&(Ne=Ne.map(function(Ze){return He(He({},Ze),{},{position:He(He({},Ze.position),{},{offset:Ze.position.offset-Fe/2})})}))}var lt=K&&K.type&&K.type.getComposedData;lt&&G.push({props:He(He({},lt(He(He({},me),{},{displayedData:X,props:w,dataKey:V,item:K,bandSize:Le,barPosition:Ne,offset:T,stackedData:Se,layout:q,dataStartIndex:L,dataEndIndex:C}))),{},pn(pn(pn({key:K.key||"item-".concat(fe)},Y,me[Y]),ne,me[ne]),"animationId",P)),childIndex:Ule(K,w.children),item:K})}),G},m=function(w,N){var k=w.props,A=w.dataStartIndex,T=w.dataEndIndex,P=w.updateId;if(!z3({props:k}))return null;var L=k.children,C=k.layout,M=k.stackOffset,q=k.data,D=k.reverseStackOrder,I=gF(C),z=I.numericAxisName,U=I.cateAxisName,Y=Zl(L,r),ne=Zge(q,Y,"".concat(z,"Id"),"".concat(U,"Id"),M,D),W=l.reduce(function(F,V){var ee="".concat(V.axisType,"Map");return He(He({},F),{},pn({},ee,g2e(k,He(He({},V),{},{graphicalItems:Y,stackGroups:V.axisType===z&&ne,dataStartIndex:A,dataEndIndex:T}))))},{}),G=b2e(He(He({},W),{},{props:k,graphicalItems:Y}),N?.legendBBox);Object.keys(W).forEach(function(F){W[F]=u(k,W[F],G,F.replace("Map",""),n)});var K=W["".concat(U,"Map")],fe=v2e(K),X=g(k,He(He({},W),{},{dataStartIndex:A,dataEndIndex:T,updateId:P,graphicalItems:Y,stackGroups:ne,offset:G}));return He(He({formattedGraphicalItems:X,graphicalItems:Y,offset:G,stackGroups:ne},fe),W)},b=(function(y){function w(N){var k,A,T;return Zwe(this,w),T=n2e(this,w,[N]),pn(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pn(T,"accessibilityManager",new Bwe),pn(T,"handleLegendBBoxUpdate",function(P){if(P){var L=T.state,C=L.dataStartIndex,M=L.dataEndIndex,q=L.updateId;T.setState(He({legendBBox:P},m({props:T.props,dataStartIndex:C,dataEndIndex:M,updateId:q},He(He({},T.state),{},{legendBBox:P}))))}}),pn(T,"handleReceiveSyncEvent",function(P,L,C){if(T.props.syncId===P){if(C===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(L)}}),pn(T,"handleBrushChange",function(P){var L=P.startIndex,C=P.endIndex;if(L!==T.state.dataStartIndex||C!==T.state.dataEndIndex){var M=T.state.updateId;T.setState(function(){return He({dataStartIndex:L,dataEndIndex:C},m({props:T.props,dataStartIndex:L,dataEndIndex:C,updateId:M},T.state))}),T.triggerSyncEvent({dataStartIndex:L,dataEndIndex:C})}}),pn(T,"handleMouseEnter",function(P){var L=T.getMouseInfo(P);if(L){var C=He(He({},L),{},{isTooltipActive:!0});T.setState(C),T.triggerSyncEvent(C);var M=T.props.onMouseEnter;Hn(M)&&M(C,P)}}),pn(T,"triggeredAfterMouseMove",function(P){var L=T.getMouseInfo(P),C=L?He(He({},L),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(C),T.triggerSyncEvent(C);var M=T.props.onMouseMove;Hn(M)&&M(C,P)}),pn(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),pn(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),pn(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),pn(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var L={isTooltipActive:!1};T.setState(L),T.triggerSyncEvent(L);var C=T.props.onMouseLeave;Hn(C)&&C(L,P)}),pn(T,"handleOuterEvent",function(P){var L=qle(P),C=cl(T.props,"".concat(L));if(L&&Hn(C)){var M,q;/.*touch.*/i.test(L)?q=T.getMouseInfo(P.changedTouches[0]):q=T.getMouseInfo(P),C((M=q)!==null&&M!==void 0?M:{},P)}}),pn(T,"handleClick",function(P){var L=T.getMouseInfo(P);if(L){var C=He(He({},L),{},{isTooltipActive:!0});T.setState(C),T.triggerSyncEvent(C);var M=T.props.onClick;Hn(M)&&M(C,P)}}),pn(T,"handleMouseDown",function(P){var L=T.props.onMouseDown;if(Hn(L)){var C=T.getMouseInfo(P);L(C,P)}}),pn(T,"handleMouseUp",function(P){var L=T.props.onMouseUp;if(Hn(L)){var C=T.getMouseInfo(P);L(C,P)}}),pn(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),pn(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),pn(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),pn(T,"handleDoubleClick",function(P){var L=T.props.onDoubleClick;if(Hn(L)){var C=T.getMouseInfo(P);L(C,P)}}),pn(T,"handleContextMenu",function(P){var L=T.props.onContextMenu;if(Hn(L)){var C=T.getMouseInfo(P);L(C,P)}}),pn(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&a5.emit(s5,T.props.syncId,P,T.eventEmitterSymbol)}),pn(T,"applySyncEvent",function(P){var L=T.props,C=L.layout,M=L.syncMethod,q=T.state.updateId,D=P.dataStartIndex,I=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(He({dataStartIndex:D,dataEndIndex:I},m({props:T.props,dataStartIndex:D,dataEndIndex:I,updateId:q},T.state)));else if(P.activeTooltipIndex!==void 0){var z=P.chartX,U=P.chartY,Y=P.activeTooltipIndex,ne=T.state,W=ne.offset,G=ne.tooltipTicks;if(!W)return;if(typeof M=="function")Y=M(G,P);else if(M==="value"){Y=-1;for(var K=0;K<G.length;K++)if(G[K].value===P.activeLabel){Y=K;break}}var fe=He(He({},W),{},{x:W.left,y:W.top}),X=Math.min(z,fe.x+fe.width),F=Math.min(U,fe.y+fe.height),V=G[Y]&&G[Y].value,ee=nT(T.state,T.props.data,Y),ie=G[Y]?{x:C==="horizontal"?G[Y].coordinate:X,y:C==="horizontal"?F:G[Y].coordinate}:IV;T.setState(He(He({},P),{},{activeLabel:V,activeCoordinate:ie,activePayload:ee,activeTooltipIndex:Y}))}else T.setState(P)}),pn(T,"renderCursor",function(P){var L,C=T.state,M=C.isTooltipActive,q=C.activeCoordinate,D=C.activePayload,I=C.offset,z=C.activeTooltipIndex,U=C.tooltipAxisBandSize,Y=T.getTooltipEventType(),ne=(L=P.props.active)!==null&&L!==void 0?L:M,W=T.props.layout,G=P.key||"_recharts-cursor";return Ce.createElement(Vwe,{key:G,activeCoordinate:q,activePayload:D,activeTooltipIndex:z,chartName:n,element:P,isActive:ne,layout:W,offset:I,tooltipAxisBandSize:U,tooltipEventType:Y})}),pn(T,"renderPolarAxis",function(P,L,C){var M=cl(P,"type.axisType"),q=cl(T.state,"".concat(M,"Map")),D=P.type.defaultProps,I=D!==void 0?He(He({},D),P.props):P.props,z=q&&q[I["".concat(M,"Id")]];return O.cloneElement(P,He(He({},z),{},{className:rr(M,z.className),key:P.key||"".concat(L,"-").concat(C),ticks:Bu(z,!0)}))}),pn(T,"renderPolarGrid",function(P){var L=P.props,C=L.radialLines,M=L.polarAngles,q=L.polarRadius,D=T.state,I=D.radiusAxisMap,z=D.angleAxisMap,U=Vd(I),Y=Vd(z),ne=Y.cx,W=Y.cy,G=Y.innerRadius,K=Y.outerRadius;return O.cloneElement(P,{polarAngles:Array.isArray(M)?M:Bu(Y,!0).map(function(fe){return fe.coordinate}),polarRadius:Array.isArray(q)?q:Bu(U,!0).map(function(fe){return fe.coordinate}),cx:ne,cy:W,innerRadius:G,outerRadius:K,key:P.key||"polar-grid",radialLines:C})}),pn(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,L=T.props,C=L.children,M=L.width,q=L.height,D=T.props.margin||{},I=M-(D.left||0)-(D.right||0),z=PW({children:C,formattedGraphicalItems:P,legendWidth:I,legendContent:c});if(!z)return null;var U=z.item,Y=fF(z,Kwe);return O.cloneElement(U,He(He({},Y),{},{chartWidth:M,chartHeight:q,margin:D,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),pn(T,"renderTooltip",function(){var P,L=T.props,C=L.children,M=L.accessibilityLayer,q=_s(C,Hl);if(!q)return null;var D=T.state,I=D.isTooltipActive,z=D.activeCoordinate,U=D.activePayload,Y=D.activeLabel,ne=D.offset,W=(P=q.props.active)!==null&&P!==void 0?P:I;return O.cloneElement(q,{viewBox:He(He({},ne),{},{x:ne.left,y:ne.top}),active:W,label:Y,payload:W?U:[],coordinate:z,accessibilityLayer:M})}),pn(T,"renderBrush",function(P){var L=T.props,C=L.margin,M=L.data,q=T.state,D=q.offset,I=q.dataStartIndex,z=q.dataEndIndex,U=q.updateId;return O.cloneElement(P,{key:P.key||"_recharts-brush",onChange:cb(T.handleBrushChange,P.props.onChange),data:M,x:gt(P.props.x)?P.props.x:D.left,y:gt(P.props.y)?P.props.y:D.top+D.height+D.brushBottom-(C.bottom||0),width:gt(P.props.width)?P.props.width:D.width,startIndex:I,endIndex:z,updateId:"brush-".concat(U)})}),pn(T,"renderReferenceElement",function(P,L,C){if(!P)return null;var M=T,q=M.clipPathId,D=T.state,I=D.xAxisMap,z=D.yAxisMap,U=D.offset,Y=P.type.defaultProps||{},ne=P.props,W=ne.xAxisId,G=W===void 0?Y.xAxisId:W,K=ne.yAxisId,fe=K===void 0?Y.yAxisId:K;return O.cloneElement(P,{key:P.key||"".concat(L,"-").concat(C),xAxis:I[G],yAxis:z[fe],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:q})}),pn(T,"renderActivePoints",function(P){var L=P.item,C=P.activePoint,M=P.basePoint,q=P.childIndex,D=P.isRange,I=[],z=L.props.key,U=L.item.type.defaultProps!==void 0?He(He({},L.item.type.defaultProps),L.item.props):L.item.props,Y=U.activeDot,ne=U.dataKey,W=He(He({index:q,dataKey:ne,cx:C.x,cy:C.y,r:4,fill:GM(L.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},sr(Y,!1)),S1(Y));return I.push(w.renderActiveDot(Y,W,"".concat(z,"-activePoint-").concat(q))),M?I.push(w.renderActiveDot(Y,He(He({},W),{},{cx:M.x,cy:M.y}),"".concat(z,"-basePoint-").concat(q))):D&&I.push(null),I}),pn(T,"renderGraphicChild",function(P,L,C){var M=T.filterFormatItem(P,L,C);if(!M)return null;var q=T.getTooltipEventType(),D=T.state,I=D.isTooltipActive,z=D.tooltipAxis,U=D.activeTooltipIndex,Y=D.activeLabel,ne=T.props.children,W=_s(ne,Hl),G=M.props,K=G.points,fe=G.isRange,X=G.baseLine,F=M.item.type.defaultProps!==void 0?He(He({},M.item.type.defaultProps),M.item.props):M.item.props,V=F.activeDot,ee=F.hide,ie=F.activeBar,ue=F.activeShape,he=!!(!ee&&I&&W&&(V||ie||ue)),me={};q!=="axis"&&W&&W.props.trigger==="click"?me={onClick:cb(T.handleItemMouseEnter,P.props.onClick)}:q!=="axis"&&(me={onMouseLeave:cb(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:cb(T.handleItemMouseEnter,P.props.onMouseEnter)});var le=O.cloneElement(P,He(He({},M.props),me));function be(Et){return typeof z.dataKey=="function"?z.dataKey(Et.payload):null}if(he)if(U>=0){var Se,xe;if(z.dataKey&&!z.allowDuplicatedCategory){var Le=typeof z.dataKey=="function"?be:"payload.".concat(z.dataKey.toString());Se=zk(K,Le,Y),xe=fe&&X&&zk(X,Le,Y)}else Se=K?.[U],xe=fe&&X&&X[U];if(ue||ie){var Ne=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[O.cloneElement(P,He(He(He({},M.props),me),{},{activeIndex:Ne})),null,null]}if(!lr(Se))return[le].concat(qm(T.renderActivePoints({item:M,activePoint:Se,basePoint:xe,childIndex:U,isRange:fe})))}else{var se,ze=(se=T.getItemByXY(T.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:le},st=ze.graphicalItem,Ge=st.item,Fe=Ge===void 0?P:Ge,lt=st.childIndex,Ze=He(He(He({},M.props),me),{},{activeIndex:lt});return[O.cloneElement(Fe,Ze),null,null]}return fe?[le,null,null]:[le,null]}),pn(T,"renderCustomized",function(P,L,C){return O.cloneElement(P,He(He({key:"recharts-customized-".concat(C)},T.props),T.state))}),pn(T,"renderMap",{CartesianGrid:{handler:pb,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:pb},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:pb},YAxis:{handler:pb},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((k=N.id)!==null&&k!==void 0?k:Hw("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=PH(T.triggeredAfterMouseMove,(A=N.throttleDelay)!==null&&A!==void 0?A:1e3/60),T.state={},T}return o2e(w,y),t2e(w,[{key:"componentDidMount",value:function(){var k,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,A=k.children,T=k.data,P=k.height,L=k.layout,C=_s(A,Hl);if(C){var M=C.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,D=nT(this.state,T,M,q),I=this.state.tooltipTicks[M].coordinate,z=(this.state.offset.top+P)/2,U=L==="horizontal",Y=U?{x:I,y:z}:{y:I,x:z},ne=this.state.formattedGraphicalItems.find(function(G){var K=G.item;return K.type.name==="Scatter"});ne&&(Y=He(He({},Y),ne.props.points[M].tooltipPosition),D=ne.props.points[M].tooltipPayload);var W={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:q,activePayload:D,activeCoordinate:Y};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(k){Uk([_s(k.children,Hl)],[_s(this.props.children,Hl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=_s(this.props.children,Hl);if(k&&typeof k.props.shared=="boolean"){var A=k.props.shared?"axis":"item";return s.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var A=this.container,T=A.getBoundingClientRect(),P=Tfe(T),L={chartX:Math.round(k.pageX-P.left),chartY:Math.round(k.pageY-P.top)},C=T.width/A.offsetWidth||1,M=this.inRange(L.chartX,L.chartY,C);if(!M)return null;var q=this.state,D=q.xAxisMap,I=q.yAxisMap,z=this.getTooltipEventType(),U=pF(this.state,this.props.data,this.props.layout,M);if(z!=="axis"&&D&&I){var Y=Vd(D).scale,ne=Vd(I).scale,W=Y&&Y.invert?Y.invert(L.chartX):null,G=ne&&ne.invert?ne.invert(L.chartY):null;return He(He({},L),{},{xValue:W,yValue:G},U)}return U?He(He({},L),U):null}},{key:"inRange",value:function(k,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,L=k/T,C=A/T;if(P==="horizontal"||P==="vertical"){var M=this.state.offset,q=L>=M.left&&L<=M.left+M.width&&C>=M.top&&C<=M.top+M.height;return q?{x:L,y:C}:null}var D=this.state,I=D.angleAxisMap,z=D.radiusAxisMap;if(I&&z){var U=Vd(I);return O6({x:L,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,A=this.getTooltipEventType(),T=_s(k,Hl),P={};T&&A==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var L=S1(this.props,this.handleOuterEvent);return He(He({},L),P)}},{key:"addListener",value:function(){a5.on(s5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a5.removeListener(s5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,A,T){for(var P=this.state.formattedGraphicalItems,L=0,C=P.length;L<C;L++){var M=P[L];if(M.item===k||M.props.key===k.key||A===zu(M.item.type)&&T===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,A=this.state.offset,T=A.left,P=A.top,L=A.height,C=A.width;return Ce.createElement("defs",null,Ce.createElement("clipPath",{id:k},Ce.createElement("rect",{x:T,y:P,height:L,width:C})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(A,T){var P=dF(T,2),L=P[0],C=P[1];return He(He({},A),{},pn({},L,C.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(A,T){var P=dF(T,2),L=P[0],C=P[1];return He(He({},A),{},pn({},L,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[k])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(k){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[k])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(k){var A=this.state,T=A.formattedGraphicalItems,P=A.activeItem;if(T&&T.length)for(var L=0,C=T.length;L<C;L++){var M=T[L],q=M.props,D=M.item,I=D.type.defaultProps!==void 0?He(He({},D.type.defaultProps),D.props):D.props,z=zu(D.type);if(z==="Bar"){var U=(q.data||[]).find(function(G){return K0e(k,G)});if(U)return{graphicalItem:M,payload:U}}else if(z==="RadialBar"){var Y=(q.data||[]).find(function(G){return O6(k,G)});if(Y)return{graphicalItem:M,payload:Y}}else if(c2(M,P)||u2(M,P)||vy(M,P)){var ne=Dbe({graphicalItem:M,activeTooltipItem:P,itemData:I.data}),W=I.activeIndex===void 0?ne:I.activeIndex;return{graphicalItem:He(He({},M),{},{childIndex:W}),payload:vy(M,P)?I.data[ne]:M.props.data[ne]}}}return null}},{key:"render",value:function(){var k=this;if(!z3(this))return null;var A=this.props,T=A.children,P=A.className,L=A.width,C=A.height,M=A.style,q=A.compact,D=A.title,I=A.desc,z=fF(A,Gwe),U=sr(z,!1);if(q)return Ce.createElement(Y8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement(Wk,em({},U,{width:L,height:C,title:D,desc:I}),this.renderClipPath(),U3(T,this.renderMap)));if(this.props.accessibilityLayer){var Y,ne;U.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,U.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",U.onKeyDown=function(G){k.accessibilityManager.keyboardEvent(G)},U.onFocus=function(){k.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return Ce.createElement(Y8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement("div",em({className:rr("recharts-wrapper",P),style:He({position:"relative",cursor:"default",width:L,height:C},M)},W,{ref:function(K){k.container=K}}),Ce.createElement(Wk,em({},U,{width:L,height:C,title:D,desc:I,style:d2e}),this.renderClipPath(),U3(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(O.Component);pn(b,"displayName",n),pn(b,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pn(b,"getDerivedStateFromProps",function(y,w){var N=y.dataKey,k=y.data,A=y.children,T=y.width,P=y.height,L=y.layout,C=y.stackOffset,M=y.margin,q=w.dataStartIndex,D=w.dataEndIndex;if(w.updateId===void 0){var I=mF(y);return He(He(He({},I),{},{updateId:0},m(He(He({props:y},I),{},{updateId:0}),w)),{},{prevDataKey:N,prevData:k,prevWidth:T,prevHeight:P,prevLayout:L,prevStackOffset:C,prevMargin:M,prevChildren:A})}if(N!==w.prevDataKey||k!==w.prevData||T!==w.prevWidth||P!==w.prevHeight||L!==w.prevLayout||C!==w.prevStackOffset||!am(M,w.prevMargin)){var z=mF(y),U={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},Y=He(He({},pF(w,k,L)),{},{updateId:w.updateId+1}),ne=He(He(He({},z),U),Y);return He(He(He({},ne),m(He({props:y},ne),w)),{},{prevDataKey:N,prevData:k,prevWidth:T,prevHeight:P,prevLayout:L,prevStackOffset:C,prevMargin:M,prevChildren:A})}if(!Uk(A,w.prevChildren)){var W,G,K,fe,X=_s(A,Rm),F=X&&(W=(G=X.props)===null||G===void 0?void 0:G.startIndex)!==null&&W!==void 0?W:q,V=X&&(K=(fe=X.props)===null||fe===void 0?void 0:fe.endIndex)!==null&&K!==void 0?K:D,ee=F!==q||V!==D,ie=!lr(k),ue=ie&&!ee?w.updateId:w.updateId+1;return He(He({updateId:ue},m(He(He({props:y},w),{},{updateId:ue,dataStartIndex:F,dataEndIndex:V}),w)),{},{prevChildren:A,dataStartIndex:F,dataEndIndex:V})}return null}),pn(b,"renderActiveDot",function(y,w,N){var k;return O.isValidElement(y)?k=O.cloneElement(y,w):Hn(y)?k=y(w):k=Ce.createElement(YW,w),Ce.createElement(To,{className:"recharts-active-dot",key:N},k)});var v=O.forwardRef(function(w,N){return Ce.createElement(b,em({},w,{ref:N}))});return v.displayName=b.displayName,v},vF=w2e({chartName:"BarChart",GraphicalChild:mf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Sy},{axisType:"yAxis",AxisComp:_y}],formatAxisMap:R1e});function S2e(){const{data:t,isLoading:e}=$n({queryKey:["/api/dashboard/stats"]}),n=t?[{name:"Pendientes",value:t.impuestosPendientes,fill:"hsl(var(--chart-4))"},{name:"Calculados",value:t.impuestosCalculados,fill:"hsl(var(--chart-2))"},{name:"Realizados",value:t.impuestosRealizados,fill:"hsl(var(--chart-3))"}]:[],r=t?[{name:"Pendientes",value:t.tareasPendientes,fill:"hsl(var(--chart-4))"},{name:"En Progreso",value:t.tareasEnProgreso,fill:"hsl(var(--chart-2))"},{name:"Completadas",value:t.tareasCompletadas,fill:"hsl(var(--chart-3))"}]:[];return e?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsx(nr,{className:"h-9 w-48 mb-2"}),h.jsx(nr,{className:"h-5 w-96"})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>h.jsxs(tn,{children:[h.jsxs(Pn,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[h.jsx(nr,{className:"h-4 w-32"}),h.jsx(nr,{className:"h-4 w-4"})]}),h.jsxs(nn,{children:[h.jsx(nr,{className:"h-8 w-16 mb-2"}),h.jsx(nr,{className:"h-3 w-24"})]})]},o))})]}):h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Dashboard"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen general de la actividad"})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[h.jsxs(tn,{className:"hover-elevate",children:[h.jsxs(Pn,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[h.jsx(Fn,{className:"text-sm font-medium",children:"Clientes Activos"}),h.jsx(AO,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(nn,{children:[h.jsx("div",{className:"text-3xl font-bold",children:t?.clientesActivos||0}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.totalClientes||0," totales"]})]})]}),h.jsxs(tn,{className:"hover-elevate",children:[h.jsxs(Pn,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[h.jsx(Fn,{className:"text-sm font-medium",children:"Impuestos Pendientes"}),h.jsx(eg,{className:"h-4 w-4 text-chart-4"})]}),h.jsxs(nn,{children:[h.jsx("div",{className:"text-3xl font-bold text-chart-4",children:t?.impuestosPendientes||0}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"requieren atencin"})]})]}),h.jsxs(tn,{className:"hover-elevate",children:[h.jsxs(Pn,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[h.jsx(Fn,{className:"text-sm font-medium",children:"Tareas Activas"}),h.jsx(EO,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(nn,{children:[h.jsx("div",{className:"text-3xl font-bold",children:(t?.tareasPendientes||0)+(t?.tareasEnProgreso||0)}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t?.tareasGenerales||0," generales, ",t?.tareasPersonales||0," personales"]})]})]}),h.jsxs(tn,{className:"hover-elevate",children:[h.jsxs(Pn,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[h.jsx(Fn,{className:"text-sm font-medium",children:"Manuales"}),h.jsx(SO,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(nn,{children:[h.jsx("div",{className:"text-3xl font-bold",children:t?.manualesPublicados||0}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.manualesTotal||0," publicados"]})]})]})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"flex items-center gap-2",children:[h.jsx(ec,{className:"h-5 w-5"}),"Estado de Impuestos"]})}),h.jsx(nn,{children:h.jsx(dD,{width:"100%",height:300,children:h.jsxs(vF,{data:n,children:[h.jsx(KC,{strokeDasharray:"3 3",className:"stroke-muted"}),h.jsx(Sy,{dataKey:"name",className:"text-xs"}),h.jsx(_y,{className:"text-xs"}),h.jsx(Hl,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(mf,{dataKey:"value",radius:[8,8,0,0],children:n.map((i,o)=>h.jsx(R1,{fill:i.fill},`cell-${o}`))})]})})})]}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"flex items-center gap-2",children:[h.jsx(Yz,{className:"h-5 w-5"}),"Distribucin de Tareas"]})}),h.jsx(nn,{children:h.jsx(dD,{width:"100%",height:300,children:h.jsxs(vF,{data:r,children:[h.jsx(KC,{strokeDasharray:"3 3",className:"stroke-muted"}),h.jsx(Sy,{dataKey:"name",className:"text-xs"}),h.jsx(_y,{className:"text-xs"}),h.jsx(Hl,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(mf,{dataKey:"value",radius:[8,8,0,0],children:r.map((i,o)=>h.jsx(R1,{fill:i.fill},`cell-${o}`))})]})})})]})]})]})}const Yl=O.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:dt("w-full caption-bottom text-sm",t),...e})}));Yl.displayName="Table";const Xl=O.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:dt("[&_tr]:border-b",t),...e}));Xl.displayName="TableHeader";const Ql=O.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:dt("[&_tr:last-child]:border-0",t),...e}));Ql.displayName="TableBody";const _2e=O.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:dt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));_2e.displayName="TableFooter";const Nr=O.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:dt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Nr.displayName="TableRow";const Qt=O.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:dt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Qt.displayName="TableHead";const Ot=O.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:dt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ot.displayName="TableCell";const E2e=O.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:dt("mt-4 text-sm text-muted-foreground",t),...e}));E2e.displayName="TableCaption";const N2e=Zm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Rn({className:t,variant:e,...n}){return h.jsx("div",{className:dt(N2e({variant:e}),t),...n})}function rT(t,[e,n]){return Math.min(n,Math.max(e,t))}function oP(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var A2e=[" ","Enter","ArrowUp","ArrowDown"],k2e=[" ","Enter"],Bh="Select",[v2,y2,C2e]=yO(Bh),[gg]=Ps(Bh,[C2e,Nw]),b2=Nw(),[T2e,Nf]=gg(Bh),[O2e,M2e]=gg(Bh),DV=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:g,required:m,form:b}=t,v=b2(e),[y,w]=O.useState(null),[N,k]=O.useState(null),[A,T]=O.useState(!1),P=Dw(c),[L,C]=Vu({prop:r,defaultProp:i??!1,onChange:o,caller:Bh}),[M,q]=Vu({prop:a,defaultProp:s,onChange:l,caller:Bh}),D=O.useRef(null),I=y?b||!!y.closest("form"):!0,[z,U]=O.useState(new Set),Y=Array.from(z).map(ne=>ne.props.value).join(";");return h.jsx(kq,{...v,children:h.jsxs(T2e,{required:m,scope:e,trigger:y,onTriggerChange:w,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:A,onValueNodeHasChildrenChange:T,contentId:La(),value:M,onValueChange:q,open:L,onOpenChange:C,dir:P,triggerPointerDownPosRef:D,disabled:g,children:[h.jsx(v2.Provider,{scope:e,children:h.jsx(O2e,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(ne=>{U(W=>new Set(W).add(ne))},[]),onNativeOptionRemove:O.useCallback(ne=>{U(W=>{const G=new Set(W);return G.delete(ne),G})},[]),children:n})}),I?h.jsxs(sK,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:M,onChange:ne=>q(ne.target.value),disabled:g,form:b,children:[M===void 0?h.jsx("option",{value:""}):null,Array.from(z)]},Y):null]})})};DV.displayName=Bh;var FV="SelectTrigger",BV=O.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=b2(n),a=Nf(FV,n),s=a.disabled||r,l=Wn(e,a.onTriggerChange),c=y2(n),u=O.useRef("touch"),[f,g,m]=cK(v=>{const y=c().filter(k=>!k.disabled),w=y.find(k=>k.value===a.value),N=uK(y,v,w);N!==void 0&&a.onValueChange(N.value)}),b=v=>{s||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx(Cq,{asChild:!0,...o,children:h.jsx(Ht.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":lK(a.value)?"":void 0,...i,ref:l,onClick:Kt(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&b(v)}),onPointerDown:Kt(i.onPointerDown,v=>{u.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:Kt(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(y&&v.key===" ")&&A2e.includes(v.key)&&(b(),v.preventDefault())})})})});BV.displayName=FV;var $V="SelectValue",zV=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=Nf($V,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=Wn(e,l.onValueNodeChange);return zi(()=>{c(u)},[c,u]),h.jsx(Ht.span,{...s,ref:f,style:{pointerEvents:"none"},children:lK(l.value)?h.jsx(h.Fragment,{children:a}):o})});zV.displayName=$V;var P2e="SelectIcon",qV=O.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.jsx(Ht.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});qV.displayName=P2e;var R2e="SelectPortal",UV=t=>h.jsx(gw,{asChild:!0,...t});UV.displayName=R2e;var $h="SelectContent",HV=O.forwardRef((t,e)=>{const n=Nf($h,t.__scopeSelect),[r,i]=O.useState();if(zi(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Jm.createPortal(h.jsx(WV,{scope:t.__scopeSelect,children:h.jsx(v2.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),o):null}return h.jsx(VV,{...t,ref:e})});HV.displayName=$h;var ql=10,[WV,Af]=gg($h),j2e="SelectContentImpl",I2e=bm("SelectContent.RemoveScroll"),VV=O.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:v,avoidCollisions:y,...w}=t,N=Nf($h,n),[k,A]=O.useState(null),[T,P]=O.useState(null),L=Wn(e,he=>A(he)),[C,M]=O.useState(null),[q,D]=O.useState(null),I=y2(n),[z,U]=O.useState(!1),Y=O.useRef(!1);O.useEffect(()=>{if(k)return v9(k)},[k]),l9();const ne=O.useCallback(he=>{const[me,...le]=I().map(xe=>xe.ref.current),[be]=le.slice(-1),Se=document.activeElement;for(const xe of he)if(xe===Se||(xe?.scrollIntoView({block:"nearest"}),xe===me&&T&&(T.scrollTop=0),xe===be&&T&&(T.scrollTop=T.scrollHeight),xe?.focus(),document.activeElement!==Se))return},[I,T]),W=O.useCallback(()=>ne([C,k]),[ne,C,k]);O.useEffect(()=>{z&&W()},[z,W]);const{onOpenChange:G,triggerPointerDownPosRef:K}=N;O.useEffect(()=>{if(k){let he={x:0,y:0};const me=be=>{he={x:Math.abs(Math.round(be.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(K.current?.y??0))}},le=be=>{he.x<=10&&he.y<=10?be.preventDefault():k.contains(be.target)||G(!1),document.removeEventListener("pointermove",me),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",le,{capture:!0})}}},[k,G,K]),O.useEffect(()=>{const he=()=>G(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[G]);const[fe,X]=cK(he=>{const me=I().filter(Se=>!Se.disabled),le=me.find(Se=>Se.ref.current===document.activeElement),be=uK(me,he,le);be&&setTimeout(()=>be.ref.current.focus())}),F=O.useCallback((he,me,le)=>{const be=!Y.current&&!le;(N.value!==void 0&&N.value===me||be)&&(M(he),be&&(Y.current=!0))},[N.value]),V=O.useCallback(()=>k?.focus(),[k]),ee=O.useCallback((he,me,le)=>{const be=!Y.current&&!le;(N.value!==void 0&&N.value===me||be)&&D(he)},[N.value]),ie=r==="popper"?iT:KV,ue=ie===iT?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:v,avoidCollisions:y}:{};return h.jsx(WV,{scope:n,content:k,viewport:T,onViewportChange:P,itemRefCallback:F,selectedItem:C,onItemLeave:V,itemTextRefCallback:ee,focusSelectedItem:W,selectedItemText:q,position:r,isPositioned:z,searchRef:fe,children:h.jsx(KO,{as:I2e,allowPinchZoom:!0,children:h.jsx(VO,{asChild:!0,trapped:N.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Kt(i,he=>{N.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:h.jsx(Uy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:h.jsx(ie,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:he=>he.preventDefault(),...w,...ue,onPlaced:()=>U(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Kt(w.onKeyDown,he=>{const me=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!me&&he.key.length===1&&X(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let be=I().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(he.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Se=he.target,xe=be.indexOf(Se);be=be.slice(xe+1)}setTimeout(()=>ne(be)),he.preventDefault()}})})})})})})});VV.displayName=j2e;var L2e="SelectItemAlignedPosition",KV=O.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Nf($h,n),a=Af($h,n),[s,l]=O.useState(null),[c,u]=O.useState(null),f=Wn(e,L=>u(L)),g=y2(n),m=O.useRef(!1),b=O.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:w,focusSelectedItem:N}=a,k=O.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&v&&y&&w){const L=o.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),q=w.getBoundingClientRect();if(o.dir!=="rtl"){const Se=q.left-C.left,xe=M.left-Se,Le=L.left-xe,Ne=L.width+Le,se=Math.max(Ne,C.width),ze=window.innerWidth-ql,st=rT(xe,[ql,Math.max(ql,ze-se)]);s.style.minWidth=Ne+"px",s.style.left=st+"px"}else{const Se=C.right-q.right,xe=window.innerWidth-M.right-Se,Le=window.innerWidth-L.right-xe,Ne=L.width+Le,se=Math.max(Ne,C.width),ze=window.innerWidth-ql,st=rT(xe,[ql,Math.max(ql,ze-se)]);s.style.minWidth=Ne+"px",s.style.right=st+"px"}const D=g(),I=window.innerHeight-ql*2,z=v.scrollHeight,U=window.getComputedStyle(c),Y=parseInt(U.borderTopWidth,10),ne=parseInt(U.paddingTop,10),W=parseInt(U.borderBottomWidth,10),G=parseInt(U.paddingBottom,10),K=Y+ne+z+G+W,fe=Math.min(y.offsetHeight*5,K),X=window.getComputedStyle(v),F=parseInt(X.paddingTop,10),V=parseInt(X.paddingBottom,10),ee=L.top+L.height/2-ql,ie=I-ee,ue=y.offsetHeight/2,he=y.offsetTop+ue,me=Y+ne+he,le=K-me;if(me<=ee){const Se=D.length>0&&y===D[D.length-1].ref.current;s.style.bottom="0px";const xe=c.clientHeight-v.offsetTop-v.offsetHeight,Le=Math.max(ie,ue+(Se?V:0)+xe+W),Ne=me+Le;s.style.height=Ne+"px"}else{const Se=D.length>0&&y===D[0].ref.current;s.style.top="0px";const Le=Math.max(ee,Y+v.offsetTop+(Se?F:0)+ue)+le;s.style.height=Le+"px",v.scrollTop=me-ee+v.offsetTop}s.style.margin=`${ql}px 0`,s.style.minHeight=fe+"px",s.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[g,o.trigger,o.valueNode,s,c,v,y,w,o.dir,r]);zi(()=>k(),[k]);const[A,T]=O.useState();zi(()=>{c&&T(window.getComputedStyle(c).zIndex)},[c]);const P=O.useCallback(L=>{L&&b.current===!0&&(k(),N?.(),b.current=!1)},[k,N]);return h.jsx(F2e,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:h.jsx(Ht.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});KV.displayName=L2e;var D2e="SelectPopperPosition",iT=O.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ql,...o}=t,a=b2(n);return h.jsx(Tq,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iT.displayName=D2e;var[F2e,aP]=gg($h,{}),oT="SelectViewport",GV=O.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Af(oT,n),a=aP(oT,n),s=Wn(e,o.onViewportChange),l=O.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(v2.Slot,{scope:n,children:h.jsx(Ht.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Kt(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=a;if(g?.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const b=window.innerHeight-ql*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(v,y);if(w<b){const N=w+m,k=Math.min(b,N),A=N-k;f.style.height=k+"px",f.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});GV.displayName=oT;var YV="SelectGroup",[B2e,$2e]=gg(YV),z2e=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=La();return h.jsx(B2e,{scope:n,id:i,children:h.jsx(Ht.div,{role:"group","aria-labelledby":i,...r,ref:e})})});z2e.displayName=YV;var XV="SelectLabel",QV=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$2e(XV,n);return h.jsx(Ht.div,{id:i.id,...r,ref:e})});QV.displayName=XV;var vx="SelectItem",[q2e,JV]=gg(vx),ZV=O.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=Nf(vx,n),l=Af(vx,n),c=s.value===r,[u,f]=O.useState(o??""),[g,m]=O.useState(!1),b=Wn(e,N=>l.itemRefCallback?.(N,r,i)),v=La(),y=O.useRef("touch"),w=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(q2e,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:O.useCallback(N=>{f(k=>k||(N?.textContent??"").trim())},[]),children:h.jsx(v2.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:h.jsx(Ht.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:b,onFocus:Kt(a.onFocus,()=>m(!0)),onBlur:Kt(a.onBlur,()=>m(!1)),onClick:Kt(a.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Kt(a.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Kt(a.onPointerDown,N=>{y.current=N.pointerType}),onPointerMove:Kt(a.onPointerMove,N=>{y.current=N.pointerType,i?l.onItemLeave?.():y.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Kt(a.onPointerLeave,N=>{N.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Kt(a.onKeyDown,N=>{l.searchRef?.current!==""&&N.key===" "||(k2e.includes(N.key)&&w(),N.key===" "&&N.preventDefault())})})})})});ZV.displayName=vx;var mv="SelectItemText",eK=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Nf(mv,n),s=Af(mv,n),l=JV(mv,n),c=M2e(mv,n),[u,f]=O.useState(null),g=Wn(e,w=>f(w),l.onItemTextChange,w=>s.itemTextRefCallback?.(w,l.value,l.disabled)),m=u?.textContent,b=O.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=c;return zi(()=>(v(b),()=>y(b)),[v,y,b]),h.jsxs(h.Fragment,{children:[h.jsx(Ht.span,{id:l.textId,...o,ref:g}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Jm.createPortal(o.children,a.valueNode):null]})});eK.displayName=mv;var tK="SelectItemIndicator",nK=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return JV(tK,n).isSelected?h.jsx(Ht.span,{"aria-hidden":!0,...r,ref:e}):null});nK.displayName=tK;var aT="SelectScrollUpButton",rK=O.forwardRef((t,e)=>{const n=Af(aT,t.__scopeSelect),r=aP(aT,t.__scopeSelect),[i,o]=O.useState(!1),a=Wn(e,r.onScrollButtonChange);return zi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?h.jsx(oK,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});rK.displayName=aT;var sT="SelectScrollDownButton",iK=O.forwardRef((t,e)=>{const n=Af(sT,t.__scopeSelect),r=aP(sT,t.__scopeSelect),[i,o]=O.useState(!1),a=Wn(e,r.onScrollButtonChange);return zi(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?h.jsx(oK,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});iK.displayName=sT;var oK=O.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Af("SelectScrollButton",n),a=O.useRef(null),s=y2(n),l=O.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return O.useEffect(()=>()=>l(),[l]),zi(()=>{s().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[s]),h.jsx(Ht.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Kt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Kt(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Kt(i.onPointerLeave,()=>{l()})})}),U2e="SelectSeparator",aK=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(Ht.div,{"aria-hidden":!0,...r,ref:e})});aK.displayName=U2e;var lT="SelectArrow",H2e=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=b2(n),o=Nf(lT,n),a=Af(lT,n);return o.open&&a.position==="popper"?h.jsx(Oq,{...i,...r,ref:e}):null});H2e.displayName=lT;var W2e="SelectBubbleInput",sK=O.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=O.useRef(null),o=Wn(r,i),a=oP(e);return O.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("change",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),h.jsx(Ht.select,{...n,style:{...pz,...n.style},ref:o,defaultValue:e})});sK.displayName=W2e;function lK(t){return t===""||t===void 0}function cK(t){const e=Xi(t),n=O.useRef(""),r=O.useRef(0),i=O.useCallback(a=>{const s=n.current+a;e(s),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(s)},[e]),o=O.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function uK(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=V2e(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function V2e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var K2e=DV,dK=BV,G2e=zV,Y2e=qV,X2e=UV,fK=HV,Q2e=GV,hK=QV,pK=ZV,J2e=eK,Z2e=nK,mK=rK,gK=iK,vK=aK;const Qi=K2e,Ji=G2e,Bi=O.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(dK,{ref:r,className:dt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(Y2e,{asChild:!0,children:h.jsx(Bz,{className:"h-4 w-4 opacity-50"})})]}));Bi.displayName=dK.displayName;const yK=O.forwardRef(({className:t,...e},n)=>h.jsx(mK,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(fte,{className:"h-4 w-4"})}));yK.displayName=mK.displayName;const bK=O.forwardRef(({className:t,...e},n)=>h.jsx(gK,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(Bz,{className:"h-4 w-4"})}));bK.displayName=gK.displayName;const $i=O.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>h.jsx(X2e,{children:h.jsxs(fK,{ref:i,className:dt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(yK,{}),h.jsx(Q2e,{className:dt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(bK,{})]})}));$i.displayName=fK.displayName;const eSe=O.forwardRef(({className:t,...e},n)=>h.jsx(hK,{ref:n,className:dt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));eSe.displayName=hK.displayName;const an=O.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(pK,{ref:r,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Z2e,{children:h.jsx(Fz,{className:"h-4 w-4"})})}),h.jsx(J2e,{children:e})]}));an.displayName=pK.displayName;const tSe=O.forwardRef(({className:t,...e},n)=>h.jsx(vK,{ref:n,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));tSe.displayName=vK.displayName;var x2="Checkbox",[nSe]=Ps(x2),[rSe,sP]=nSe(x2);function iSe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:a,name:s,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:f}=t,[g,m]=Vu({prop:n,defaultProp:i??!1,onChange:l,caller:x2}),[b,v]=O.useState(null),[y,w]=O.useState(null),N=O.useRef(!1),k=b?!!a||!!b.closest("form"):!0,A={checked:g,disabled:o,setChecked:m,control:b,setControl:v,name:s,form:a,value:u,hasConsumerStoppedPropagationRef:N,required:c,defaultChecked:af(i)?!1:i,isFormControl:k,bubbleInput:y,setBubbleInput:w};return h.jsx(rSe,{scope:e,...A,children:oSe(f)?f(A):r})}var xK="CheckboxTrigger",wK=O.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:a,disabled:s,checked:l,required:c,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:m,bubbleInput:b}=sP(xK,t),v=Wn(i,u),y=O.useRef(l);return O.useEffect(()=>{const w=o?.form;if(w){const N=()=>f(y.current);return w.addEventListener("reset",N),()=>w.removeEventListener("reset",N)}},[o,f]),h.jsx(Ht.button,{type:"button",role:"checkbox","aria-checked":af(l)?"mixed":l,"aria-required":c,"data-state":AK(l),"data-disabled":s?"":void 0,disabled:s,value:a,...r,ref:v,onKeyDown:Kt(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Kt(n,w=>{f(N=>af(N)?!0:!N),b&&m&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})})});wK.displayName=xK;var lP=O.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l,onCheckedChange:c,form:u,...f}=t;return h.jsx(iSe,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:s,required:a,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:g})=>h.jsxs(h.Fragment,{children:[h.jsx(wK,{...f,ref:e,__scopeCheckbox:n}),g&&h.jsx(NK,{__scopeCheckbox:n})]})})});lP.displayName=x2;var SK="CheckboxIndicator",_K=O.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=sP(SK,n);return h.jsx(pl,{present:r||af(o.checked)||o.checked===!0,children:h.jsx(Ht.span,{"data-state":AK(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});_K.displayName=SK;var EK="CheckboxBubbleInput",NK=O.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:a,required:s,disabled:l,name:c,value:u,form:f,bubbleInput:g,setBubbleInput:m}=sP(EK,t),b=Wn(n,m),v=oP(o),y=IO(r);O.useEffect(()=>{const N=g;if(!N)return;const k=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(k,"checked").set,P=!i.current;if(v!==o&&T){const L=new Event("click",{bubbles:P});N.indeterminate=af(o),T.call(N,af(o)?!1:o),N.dispatchEvent(L)}},[g,v,o,i]);const w=O.useRef(af(o)?!1:o);return h.jsx(Ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:s,disabled:l,name:c,value:u,form:f,...e,tabIndex:-1,ref:b,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NK.displayName=EK;function oSe(t){return typeof t=="function"}function af(t){return t==="indeterminate"}function AK(t){return af(t)?"indeterminate":t?"checked":"unchecked"}const um=O.forwardRef(({className:t,...e},n)=>h.jsx(lP,{ref:n,className:dt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(_K,{className:dt("flex items-center justify-center text-current"),children:h.jsx(Fz,{className:"h-4 w-4"})})}));um.displayName=lP.displayName;var w2="Switch",[aSe]=Ps(w2),[sSe,lSe]=aSe(w2),kK=O.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=t,[g,m]=O.useState(null),b=Wn(e,k=>m(k)),v=O.useRef(!1),y=g?u||!!g.closest("form"):!0,[w,N]=Vu({prop:i,defaultProp:o??!1,onChange:c,caller:w2});return h.jsxs(sSe,{scope:n,checked:w,disabled:s,children:[h.jsx(Ht.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":MK(w),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:b,onClick:Kt(t.onClick,k=>{N(A=>!A),y&&(v.current=k.isPropagationStopped(),v.current||k.stopPropagation())})}),y&&h.jsx(OK,{control:g,bubbles:!v.current,name:r,value:l,checked:w,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});kK.displayName=w2;var CK="SwitchThumb",TK=O.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=lSe(CK,n);return h.jsx(Ht.span,{"data-state":MK(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});TK.displayName=CK;var cSe="SwitchBubbleInput",OK=O.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},o)=>{const a=O.useRef(null),s=Wn(a,o),l=oP(n),c=IO(e);return O.useEffect(()=>{const u=a.current;if(!u)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const b=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(b)}},[l,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OK.displayName=cSe;function MK(t){return t?"checked":"unchecked"}var PK=kK,uSe=TK;const zh=O.forwardRef(({className:t,...e},n)=>h.jsx(PK,{className:dt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(uSe,{className:dt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));zh.displayName=PK.displayName;const yF={100:["AUTONOMO","PARTICULAR"],111:["AUTONOMO","EMPRESA"],130:["AUTONOMO"],131:["AUTONOMO"],180:["AUTONOMO","EMPRESA"],190:["AUTONOMO","EMPRESA"],200:["EMPRESA"],303:["AUTONOMO","EMPRESA"],347:["AUTONOMO","EMPRESA"],349:["AUTONOMO","EMPRESA"],390:["AUTONOMO","EMPRESA"],720:["AUTONOMO","EMPRESA"]};function dSe(t){return Object.keys(yF).filter(e=>yF[e].includes(t))}const fSe=[{codigo:"100",nombre:"IRPF - Declaracin de la Renta",periodicidad:"anual"},{codigo:"111",nombre:"Retenciones - Trimestral",periodicidad:"trimestral"},{codigo:"130",nombre:"IRPF - Pago fraccionado (actividades econmicas)",periodicidad:"trimestral"},{codigo:"131",nombre:"IRPF - Pago fraccionado (estimacin directa)",periodicidad:"trimestral"},{codigo:"180",nombre:"Retenciones - Alquileres",periodicidad:"trimestral"},{codigo:"190",nombre:"Retenciones - Resumen anual",periodicidad:"anual"},{codigo:"200",nombre:"Impuesto sobre Sociedades",periodicidad:"anual"},{codigo:"303",nombre:"IVA - Autoliquidacin",periodicidad:"trimestral"},{codigo:"347",nombre:"Operaciones con terceras personas",periodicidad:"anual"},{codigo:"349",nombre:"Operaciones intracomunitarias",periodicidad:"mensual"},{codigo:"390",nombre:"IVA - Resumen anual",periodicidad:"anual"},{codigo:"720",nombre:"Bienes en el extranjero",periodicidad:"anual"}];var Zb={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var hSe=Zb.exports,bF;function pSe(){return bF||(bF=1,(function(t,e){((n,r)=>{t.exports=r()})(hSe,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,s={},l=0,c={};function u(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(M){var q=T(M);q.chunkSize=parseInt(q.chunkSize),M.step||M.chunk||(q.chunkSize=null),this._handle=new v(q),(this._handle.streamer=this)._config=q}).call(this,C),this.parseChunk=function(M,q){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let z=this._config.newline;z||(I=this._config.quoteChar||'"',z=this._handle.guessLineEndings(M,I)),M=[...M.split(z).slice(D)].join(z)}this.isFirstChunk&&L(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(M))!==void 0&&(M=I),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+M,I=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(M=I.meta.cursor,D=(this._finished||(this._partialLine=D.substring(M-this._baseIndex),this._baseIndex=M),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:I,workerId:c.WORKER_ID,finished:D});else if(L(this._config.chunk)&&!q){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!D||!L(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(M){L(this._config.error)?this._config.error(M):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:M,finished:!1})}}function f(C){var M;(C=C||{}).chunkSize||(C.chunkSize=c.RemoteChunkSize),u.call(this,C),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(q){this._input=q,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),o||(M.onload=P(this._chunkLoaded,this),M.onerror=P(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var q,D=this._config.downloadRequestHeaders;for(q in D)M.setRequestHeader(q,D[q])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,M.setRequestHeader("Range","bytes="+this._start+"-"+I));try{M.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}o&&M.status===0&&this._chunkError()}},this._chunkLoaded=function(){M.readyState===4&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize||M.responseText.length,this._finished=!this._config.chunkSize||this._start>=(q=>(q=q.getResponseHeader("Content-Range"))!==null?parseInt(q.substring(q.lastIndexOf("/")+1)):-1)(M),this.parseChunk(M.responseText)))},this._chunkError=function(q){q=M.statusText||q,this._sendError(new Error(q))}}function g(C){(C=C||{}).chunkSize||(C.chunkSize=c.LocalChunkSize),u.call(this,C);var M,q,D=typeof FileReader<"u";this.stream=function(I){this._input=I,q=I.slice||I.webkitSlice||I.mozSlice,D?((M=new FileReader).onload=P(this._chunkLoaded,this),M.onerror=P(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,z=(this._config.chunkSize&&(z=Math.min(this._start+this._config.chunkSize,this._input.size),I=q.call(I,this._start,z)),M.readAsText(I,this._config.encoding));D||this._chunkLoaded({target:{result:z}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(M.error)}}function m(C){var M;u.call(this,C=C||{}),this.stream=function(q){return M=q,this._nextChunk()},this._nextChunk=function(){var q,D;if(!this._finished)return q=this._config.chunkSize,M=q?(D=M.substring(0,q),M.substring(q)):(D=M,""),this._finished=!M,this.parseChunk(D)}}function b(C){u.call(this,C=C||{});var M=[],q=!0,D=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&M.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):q=!0},this._streamData=P(function(I){try{M.push(typeof I=="string"?I:I.toString(this._config.encoding)),q&&(q=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(z){this._streamError(z)}},this),this._streamError=P(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=P(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(C){var M,q,D,I,z=Math.pow(2,53),U=-z,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ne=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,G=0,K=0,fe=!1,X=!1,F=[],V={data:[],errors:[],meta:{}};function ee(me){return C.skipEmptyLines==="greedy"?me.join("").trim()==="":me.length===1&&me[0].length===0}function ie(){if(V&&D&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),D=!1),C.skipEmptyLines&&(V.data=V.data.filter(function(Se){return!ee(Se)})),ue()){let Se=function(xe,Le){L(C.transformHeader)&&(xe=C.transformHeader(xe,Le)),F.push(xe)};if(V)if(Array.isArray(V.data[0])){for(var me=0;ue()&&me<V.data.length;me++)V.data[me].forEach(Se);V.data.splice(0,1)}else V.data.forEach(Se)}function le(Se,xe){for(var Le=C.header?{}:[],Ne=0;Ne<Se.length;Ne++){var se=Ne,ze=Se[Ne],ze=((st,Ge)=>(Fe=>(C.dynamicTypingFunction&&C.dynamicTyping[Fe]===void 0&&(C.dynamicTyping[Fe]=C.dynamicTypingFunction(Fe)),(C.dynamicTyping[Fe]||C.dynamicTyping)===!0))(st)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((Fe=>{if(Y.test(Fe)&&(Fe=parseFloat(Fe),U<Fe&&Fe<z))return 1})(Ge)?parseFloat(Ge):ne.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(se=C.header?Ne>=F.length?"__parsed_extra":F[Ne]:se,ze=C.transform?C.transform(ze,se):ze);se==="__parsed_extra"?(Le[se]=Le[se]||[],Le[se].push(ze)):Le[se]=ze}return C.header&&(Ne>F.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+Ne,K+xe):Ne<F.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+Ne,K+xe)),Le}var be;V&&(C.header||C.dynamicTyping||C.transform)&&(be=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(le),be=V.data.length):V.data=le(V.data,0),C.header&&V.meta&&(V.meta.fields=F),K+=be)}function ue(){return C.header&&F.length===0}function he(me,le,be,Se){me={type:me,code:le,message:be},Se!==void 0&&(me.row=Se),V.errors.push(me)}L(C.step)&&(I=C.step,C.step=function(me){V=me,ue()?ie():(ie(),V.data.length!==0&&(G+=me.data.length,C.preview&&G>C.preview?q.abort():(V.data=V.data[0],I(V,W))))}),this.parse=function(me,le,be){var Se=C.quoteChar||'"',Se=(C.newline||(C.newline=this.guessLineEndings(me,Se)),D=!1,C.delimiter?L(C.delimiter)&&(C.delimiter=C.delimiter(me),V.meta.delimiter=C.delimiter):((Se=((xe,Le,Ne,se,ze)=>{var st,Ge,Fe,lt;ze=ze||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ze=0;Ze<ze.length;Ze++){for(var Et,St=ze[Ze],It=0,Tt=0,xt=0,rn=(Fe=void 0,new w({comments:se,delimiter:St,newline:Le,preview:10}).parse(xe)),Lt=0;Lt<rn.data.length;Lt++)Ne&&ee(rn.data[Lt])?xt++:(Et=rn.data[Lt].length,Tt+=Et,Fe===void 0?Fe=Et:0<Et&&(It+=Math.abs(Et-Fe),Fe=Et));0<rn.data.length&&(Tt/=rn.data.length-xt),(Ge===void 0||It<=Ge)&&(lt===void 0||lt<Tt)&&1.99<Tt&&(Ge=It,st=St,lt=Tt)}return{successful:!!(C.delimiter=st),bestDelimiter:st}})(me,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=Se.bestDelimiter:(D=!0,C.delimiter=c.DefaultDelimiter),V.meta.delimiter=C.delimiter),T(C));return C.preview&&C.header&&Se.preview++,M=me,q=new w(Se),V=q.parse(M,le,be),ie(),fe?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return fe},this.pause=function(){fe=!0,q.abort(),M=L(C.chunk)?"":M.substring(q.getCharIndex())},this.resume=function(){W.streamer._halted?(fe=!1,W.streamer.parseChunk(M,!0)):setTimeout(W.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,q.abort(),V.meta.aborted=!0,L(C.complete)&&C.complete(V),M=""},this.guessLineEndings=function(xe,Se){xe=xe.substring(0,1048576);var Se=new RegExp(y(Se)+"([^]*?)"+y(Se),"gm"),be=(xe=xe.replace(Se,"")).split("\r"),Se=xe.split(`
`),xe=1<Se.length&&Se[0].length<be[0].length;if(be.length===1||xe)return`
`;for(var Le=0,Ne=0;Ne<be.length;Ne++)be[Ne][0]===`
`&&Le++;return Le>=be.length/2?`\r
`:"\r"}}function y(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(C){var M=(C=C||{}).delimiter,q=C.newline,D=C.comments,I=C.step,z=C.preview,U=C.fastMode,Y=null,ne=!1,W=C.quoteChar==null?'"':C.quoteChar,G=W;if(C.escapeChar!==void 0&&(G=C.escapeChar),(typeof M!="string"||-1<c.BAD_DELIMITERS.indexOf(M))&&(M=","),D===M)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<c.BAD_DELIMITERS.indexOf(D))&&(D=!1),q!==`
`&&q!=="\r"&&q!==`\r
`&&(q=`
`);var K=0,fe=!1;this.parse=function(X,F,V){if(typeof X!="string")throw new Error("Input must be a string");var ee=X.length,ie=M.length,ue=q.length,he=D.length,me=L(I),le=[],be=[],Se=[],xe=K=0;if(!X)return It();if(U||U!==!1&&X.indexOf(W)===-1){for(var Le=X.split(q),Ne=0;Ne<Le.length;Ne++){if(Se=Le[Ne],K+=Se.length,Ne!==Le.length-1)K+=q.length;else if(V)return It();if(!D||Se.substring(0,he)!==D){if(me){if(le=[],lt(Se.split(M)),Tt(),fe)return It()}else lt(Se.split(M));if(z&&z<=Ne)return le=le.slice(0,z),It(!0)}}return It()}for(var se=X.indexOf(M,K),ze=X.indexOf(q,K),st=new RegExp(y(G)+y(W),"g"),Ge=X.indexOf(W,K);;)if(X[K]===W)for(Ge=K,K++;;){if((Ge=X.indexOf(W,Ge+1))===-1)return V||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:K}),Et();if(Ge===ee-1)return Et(X.substring(K,Ge).replace(st,W));if(W===G&&X[Ge+1]===G)Ge++;else if(W===G||Ge===0||X[Ge-1]!==G){se!==-1&&se<Ge+1&&(se=X.indexOf(M,Ge+1));var Fe=Ze((ze=ze!==-1&&ze<Ge+1?X.indexOf(q,Ge+1):ze)===-1?se:Math.min(se,ze));if(X.substr(Ge+1+Fe,ie)===M){Se.push(X.substring(K,Ge).replace(st,W)),X[K=Ge+1+Fe+ie]!==W&&(Ge=X.indexOf(W,K)),se=X.indexOf(M,K),ze=X.indexOf(q,K);break}if(Fe=Ze(ze),X.substring(Ge+1+Fe,Ge+1+Fe+ue)===q){if(Se.push(X.substring(K,Ge).replace(st,W)),St(Ge+1+Fe+ue),se=X.indexOf(M,K),Ge=X.indexOf(W,K),me&&(Tt(),fe))return It();if(z&&le.length>=z)return It(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:K}),Ge++}}else if(D&&Se.length===0&&X.substring(K,K+he)===D){if(ze===-1)return It();K=ze+ue,ze=X.indexOf(q,K),se=X.indexOf(M,K)}else if(se!==-1&&(se<ze||ze===-1))Se.push(X.substring(K,se)),K=se+ie,se=X.indexOf(M,K);else{if(ze===-1)break;if(Se.push(X.substring(K,ze)),St(ze+ue),me&&(Tt(),fe))return It();if(z&&le.length>=z)return It(!0)}return Et();function lt(xt){le.push(xt),xe=K}function Ze(xt){var rn=0;return rn=xt!==-1&&(xt=X.substring(Ge+1,xt))&&xt.trim()===""?xt.length:rn}function Et(xt){return V||(xt===void 0&&(xt=X.substring(K)),Se.push(xt),K=ee,lt(Se),me&&Tt()),It()}function St(xt){K=xt,lt(Se),Se=[],ze=X.indexOf(q,K)}function It(xt){if(C.header&&!F&&le.length&&!ne){var rn=le[0],Lt=Object.create(null),Mt=new Set(rn);let Gt=!1;for(let wt=0;wt<rn.length;wt++){let _n=rn[wt];if(Lt[_n=L(C.transformHeader)?C.transformHeader(_n,wt):_n]){let Cn,At=Lt[_n];for(;Cn=_n+"_"+At,At++,Mt.has(Cn););Mt.add(Cn),rn[wt]=Cn,Lt[_n]++,Gt=!0,(Y=Y===null?{}:Y)[Cn]=_n}else Lt[_n]=1,rn[wt]=_n;Mt.add(_n)}Gt&&console.warn("Duplicate headers found and renamed."),ne=!0}return{data:le,errors:be,meta:{delimiter:M,linebreak:q,aborted:fe,truncated:!!xt,cursor:xe+(F||0),renamedHeaders:Y}}}function Tt(){I(It()),le=[],be=[]}},this.abort=function(){fe=!0},this.getCharIndex=function(){return K}}function N(C){var M=C.data,q=s[M.workerId],D=!1;if(M.error)q.userError(M.error,M.file);else if(M.results&&M.results.data){var I={abort:function(){D=!0,k(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(L(q.userStep)){for(var z=0;z<M.results.data.length&&(q.userStep({data:M.results.data[z],errors:M.results.errors,meta:M.results.meta},I),!D);z++);delete M.results}else L(q.userChunk)&&(q.userChunk(M.results,I,M.file),delete M.results)}M.finished&&!D&&k(M.workerId,M.results)}function k(C,M){var q=s[C];L(q.userComplete)&&q.userComplete(M),q.terminate(),delete s[C]}function A(){throw new Error("Not implemented.")}function T(C){if(typeof C!="object"||C===null)return C;var M,q=Array.isArray(C)?[]:{};for(M in C)q[M]=T(C[M]);return q}function P(C,M){return function(){C.apply(M,arguments)}}function L(C){return typeof C=="function"}return c.parse=function(C,M){var q=(M=M||{}).dynamicTyping||!1;if(L(q)&&(M.dynamicTypingFunction=q,q={}),M.dynamicTyping=q,M.transform=!!L(M.transform)&&M.transform,!M.worker||!c.WORKERS_SUPPORTED)return q=null,c.NODE_STREAM_INPUT,typeof C=="string"?(C=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(C),q=new(M.download?f:m)(M)):C.readable===!0&&L(C.read)&&L(C.on)?q=new b(M):(r.File&&C instanceof File||C instanceof Object)&&(q=new g(M)),q.stream(C);(q=(()=>{var D;return!!c.WORKERS_SUPPORTED&&(D=(()=>{var I=r.URL||r.webkitURL||null,z=n.toString();return c.BLOB_URL||(c.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",z,")();"],{type:"text/javascript"})))})(),(D=new r.Worker(D)).onmessage=N,D.id=l++,s[D.id]=D)})()).userStep=M.step,q.userChunk=M.chunk,q.userComplete=M.complete,q.userError=M.error,M.step=L(M.step),M.chunk=L(M.chunk),M.complete=L(M.complete),M.error=L(M.error),delete M.worker,q.postMessage({input:C,config:M,workerId:q.id})},c.unparse=function(C,M){var q=!1,D=!0,I=",",z=`\r
`,U='"',Y=U+U,ne=!1,W=null,G=!1,K=((()=>{if(typeof M=="object"){if(typeof M.delimiter!="string"||c.BAD_DELIMITERS.filter(function(F){return M.delimiter.indexOf(F)!==-1}).length||(I=M.delimiter),typeof M.quotes!="boolean"&&typeof M.quotes!="function"&&!Array.isArray(M.quotes)||(q=M.quotes),typeof M.skipEmptyLines!="boolean"&&typeof M.skipEmptyLines!="string"||(ne=M.skipEmptyLines),typeof M.newline=="string"&&(z=M.newline),typeof M.quoteChar=="string"&&(U=M.quoteChar),typeof M.header=="boolean"&&(D=M.header),Array.isArray(M.columns)){if(M.columns.length===0)throw new Error("Option columns is empty");W=M.columns}M.escapeChar!==void 0&&(Y=M.escapeChar+U),M.escapeFormulae instanceof RegExp?G=M.escapeFormulae:typeof M.escapeFormulae=="boolean"&&M.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(U),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return fe(null,C,ne);if(typeof C[0]=="object")return fe(W||Object.keys(C[0]),C,ne)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||W),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),fe(C.fields||[],C.data||[],ne);throw new Error("Unable to serialize unrecognized input");function fe(F,V,ee){var ie="",ue=(typeof F=="string"&&(F=JSON.parse(F)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(F)&&0<F.length),he=!Array.isArray(V[0]);if(ue&&D){for(var me=0;me<F.length;me++)0<me&&(ie+=I),ie+=X(F[me],me);0<V.length&&(ie+=z)}for(var le=0;le<V.length;le++){var be=(ue?F:V[le]).length,Se=!1,xe=ue?Object.keys(V[le]).length===0:V[le].length===0;if(ee&&!ue&&(Se=ee==="greedy"?V[le].join("").trim()==="":V[le].length===1&&V[le][0].length===0),ee==="greedy"&&ue){for(var Le=[],Ne=0;Ne<be;Ne++){var se=he?F[Ne]:Ne;Le.push(V[le][se])}Se=Le.join("").trim()===""}if(!Se){for(var ze=0;ze<be;ze++){0<ze&&!xe&&(ie+=I);var st=ue&&he?F[ze]:ze;ie+=X(V[le][st],ze)}le<V.length-1&&(!ee||0<be&&!xe)&&(ie+=z)}}return ie}function X(F,V){var ee,ie;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(ie=!1,G&&typeof F=="string"&&G.test(F)&&(F="'"+F,ie=!0),ee=F.toString().replace(K,Y),(ie=ie||q===!0||typeof q=="function"&&q(F,V)||Array.isArray(q)&&q[V]||((ue,he)=>{for(var me=0;me<he.length;me++)if(-1<ue.indexOf(he[me]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(I)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?U+ee+U:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!o&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=w,c.ParserHandle=v,c.NetworkStreamer=f,c.FileStreamer=g,c.StringStreamer=m,c.ReadableStreamStreamer=b,r.jQuery&&((i=r.jQuery).fn.parse=function(C){var M=C.config||{},q=[];return this.each(function(z){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)q.push({file:this.files[U],inputElem:this,instanceConfig:i.extend({},M)})}),D(),this;function D(){if(q.length===0)L(C.complete)&&C.complete();else{var z,U,Y,ne,W=q[0];if(L(C.before)){var G=C.before(W.file,W.inputElem);if(typeof G=="object"){if(G.action==="abort")return z="AbortError",U=W.file,Y=W.inputElem,ne=G.reason,void(L(C.error)&&C.error({name:z},U,Y,ne));if(G.action==="skip")return void I();typeof G.config=="object"&&(W.instanceConfig=i.extend(W.instanceConfig,G.config))}else if(G==="skip")return void I()}var K=W.instanceConfig.complete;W.instanceConfig.complete=function(fe){L(K)&&K(fe,W.file,W.inputElem),I()},c.parse(W.file,W.instanceConfig)}}function I(){q.splice(0,1),D()}}),a&&(r.onmessage=function(C){C=C.data,c.WORKER_ID===void 0&&C&&(c.WORKER_ID=C.workerId),typeof C.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(C.input,C.config),finished:!0}):(r.File&&C.input instanceof File||C.input instanceof Object)&&(C=c.parse(C.input,C.config))&&r.postMessage({workerId:c.WORKER_ID,results:C,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(g.prototype=Object.create(u.prototype)).constructor=g,(m.prototype=Object.create(m.prototype)).constructor=m,(b.prototype=Object.create(u.prototype)).constructor=b,c})})(Zb)),Zb.exports}var mSe=pSe();const gSe=cr(mSe);function vSe(){const{toast:t}=as(),[e,n]=O.useState(""),[r,i]=O.useState("todos"),[o,a]=O.useState(!1),[s,l]=O.useState(null),[c,u]=O.useState([]),[f,g]=O.useState(""),[m,b]=O.useState({razonSocial:"",nifCif:"",tipo:"autonomo",email:"",telefono:"",direccion:"",responsableAsignado:"",taxModels:[],isActive:!0}),{data:v,isLoading:y}=$n({queryKey:["/api/clients"]}),{data:w}=$n({queryKey:["/api/users"]}),N=kn({mutationFn:async I=>await vn("POST","/api/clients",I),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Cliente creado exitosamente"}),a(!1),L()}}),k=kn({mutationFn:async({id:I,data:z})=>await vn("PATCH",`/api/clients/${I}`,z),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Cliente actualizado exitosamente"}),a(!1),L()}}),A=kn({mutationFn:async I=>await vn("DELETE",`/api/clients/${I}`,{}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Cliente eliminado exitosamente"})}}),T=kn({mutationFn:async I=>await vn("PATCH",`/api/clients/${I}/toggle-active`,{}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Estado del cliente actualizado"})},onError:()=>{t({title:"Error al cambiar el estado del cliente",variant:"destructive"})}}),P=v?.filter(I=>{const z=I.razonSocial.toLowerCase().includes(e.toLowerCase())||I.nifCif.toLowerCase().includes(e.toLowerCase()),U=r==="todos"||I.tipo===r;return z&&U})||[],L=()=>{b({razonSocial:"",nifCif:"",tipo:"autonomo",email:"",telefono:"",direccion:"",responsableAsignado:"",taxModels:[],isActive:!0}),u([]),g(""),l(null)},C=I=>{l(I),b({razonSocial:I.razonSocial,nifCif:I.nifCif,tipo:I.tipo,email:I.email||"",telefono:I.telefono||"",direccion:I.direccion||"",responsableAsignado:I.responsableAsignado||"",taxModels:I.taxModels||[],isActive:I.isActive!==!1});const z=I.employees?.map(Y=>Y.userId)||[],U=I.employees?.find(Y=>Y.isPrimary)?.userId||"";u(z),g(U),a(!0)},M=kn({mutationFn:async({clientId:I,employeeIds:z,primaryId:U})=>await vn("PUT",`/api/clients/${I}/employees`,{employeeIds:z,primaryEmployeeId:U}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/clients"]})}}),q=async I=>{I.preventDefault();try{let z=s?.id;s?(await k.mutateAsync({id:s.id,data:m}),z=s.id):z=(await N.mutateAsync(m)).id,z&&await M.mutateAsync({clientId:z,employeeIds:c,primaryId:c.length>0?f||c[0]:""}),t({title:s?"Cliente actualizado exitosamente":"Cliente creado exitosamente"}),a(!1),L()}catch(z){t({title:"Error",description:z instanceof Error?z.message:"Error al guardar el cliente",variant:"destructive"})}},D=()=>{if(!v||v.length===0)return;const I=gSe.unparse(v),z=new Blob([I],{type:"text/csv"}),U=window.URL.createObjectURL(z),Y=document.createElement("a");Y.href=U,Y.download=`clientes_${new Date().toISOString().split("T")[0]}.csv`,Y.click(),t({title:"Exportacin completada"})};return y?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx(nr,{className:"h-9 w-48"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx(nr,{className:"h-10 flex-1"}),h.jsx(nr,{className:"h-10 w-32"}),h.jsx(nr,{className:"h-10 w-32"})]}),h.jsx(tn,{children:h.jsx(nn,{className:"p-6",children:[...Array(5)].map((I,z)=>h.jsx(nr,{className:"h-12 w-full mb-2"},z))})})]}):h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold",children:"Clientes"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de clientes y contactos"})]}),h.jsxs(ma,{open:o,onOpenChange:a,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:L,"data-testid":"button-add-client",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nuevo Cliente"]})}),h.jsxs(Ko,{className:"max-w-2xl",children:[h.jsxs(ga,{children:[h.jsx(va,{children:s?"Editar Cliente":"Nuevo Cliente"}),h.jsx(ja,{children:s?"Actualiza los datos del cliente":"Completa la informacin del nuevo cliente"})]}),h.jsxs("form",{onSubmit:q,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"razonSocial",children:"Razn Social *"}),h.jsx(zt,{id:"razonSocial",value:m.razonSocial,onChange:I=>b({...m,razonSocial:I.target.value}),required:!0,"data-testid":"input-razon-social"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"nifCif",children:"NIF/CIF *"}),h.jsx(zt,{id:"nifCif",value:m.nifCif,onChange:I=>b({...m,nifCif:I.target.value}),required:!0,"data-testid":"input-nif-cif"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"tipo",children:"Tipo *"}),h.jsxs(Qi,{value:m.tipo,onValueChange:I=>{b({...m,tipo:I,taxModels:[]})},children:[h.jsx(Bi,{"data-testid":"select-tipo",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"autonomo",children:"Autnomo"}),h.jsx(an,{value:"empresa",children:"Empresa"}),h.jsx(an,{value:"particular",children:"Particular"})]})]})]}),h.jsxs("div",{className:"space-y-3 col-span-2",children:[h.jsxs(Qe,{className:"flex items-center gap-2",children:[h.jsx(Yj,{className:"h-4 w-4"}),"Empleados Asignados"]}),h.jsx("div",{className:"border rounded-md p-4 space-y-3 max-h-48 overflow-y-auto",children:w?.filter(I=>I.role!=="LECTURA").map(I=>{const z=c.includes(I.id),U=f===I.id;return h.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 rounded-md hover-elevate",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(um,{id:`employee-${I.id}`,checked:z,onCheckedChange:Y=>{if(Y){const ne=[...c,I.id];u(ne),ne.length===1&&g(I.id)}else if(u(c.filter(ne=>ne!==I.id)),U){const ne=c.filter(W=>W!==I.id);g(ne[0]||"")}},"data-testid":`checkbox-employee-${I.id}`}),h.jsxs(Qe,{htmlFor:`employee-${I.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[I.username,U&&h.jsx(Rn,{variant:"default",className:"text-xs",children:"Primario"})]})]}),z&&!U&&h.jsx(Ve,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(I.id),"data-testid":`button-set-primary-${I.id}`,children:"Marcar como primario"})]},I.id)})}),c.length===0&&h.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecciona al menos un empleado para asignar al cliente"}),c.length>0&&h.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.length," empleado",c.length>1?"s":""," seleccionado",c.length>1?"s":"",f&&`  ${w?.find(I=>I.id===f)?.username} es el responsable principal`]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"email",children:"Email"}),h.jsx(zt,{id:"email",type:"email",value:m.email,onChange:I=>b({...m,email:I.target.value}),"data-testid":"input-email"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"telefono",children:"Telfono"}),h.jsx(zt,{id:"telefono",value:m.telefono,onChange:I=>b({...m,telefono:I.target.value}),"data-testid":"input-telefono"})]}),h.jsxs("div",{className:"space-y-2 col-span-2",children:[h.jsx(Qe,{htmlFor:"direccion",children:"Direccin"}),h.jsx(zt,{id:"direccion",value:m.direccion,onChange:I=>b({...m,direccion:I.target.value}),"data-testid":"input-direccion"})]}),h.jsxs("div",{className:"space-y-3 col-span-2",children:[h.jsxs(Qe,{className:"flex items-center gap-2",children:[h.jsx(ec,{className:"h-4 w-4"}),"Modelos Fiscales Asignados"]}),h.jsx("div",{className:"flex flex-wrap gap-4",children:dSe(m.tipo.toUpperCase()).map(I=>{const z=fSe.find(U=>U.codigo===I);return h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(um,{id:`tax-model-${I}`,checked:m.taxModels.includes(I),onCheckedChange:U=>{b(U?{...m,taxModels:[...m.taxModels,I]}:{...m,taxModels:m.taxModels.filter(Y=>Y!==I)})},"data-testid":`checkbox-tax-model-${I}`}),h.jsx(Qe,{htmlFor:`tax-model-${I}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",title:z?.nombre,children:I})]},I)})}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Los impuestos se generarn automticamente para todos los perodos de los modelos seleccionados"})]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{a(!1),L()},children:"Cancelar"}),h.jsx(Ve,{type:"submit","data-testid":"button-submit-client",children:s?"Actualizar":"Crear"})]})]})]})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsxs("div",{className:"relative flex-1 min-w-[300px]",children:[h.jsx(xw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(zt,{placeholder:"Buscar por razn social o NIF/CIF...",value:e,onChange:I=>n(I.target.value),className:"pl-10","data-testid":"input-search-clients"})]}),h.jsxs(Qi,{value:r,onValueChange:i,children:[h.jsx(Bi,{className:"w-[180px]","data-testid":"select-filter-tipo",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"todos",children:"Todos los tipos"}),h.jsx(an,{value:"autonomo",children:"Autnomos"}),h.jsx(an,{value:"empresa",children:"Empresas"}),h.jsx(an,{value:"particular",children:"Particulares"})]})]}),h.jsxs(Ve,{variant:"outline",onClick:D,"data-testid":"button-export-csv",children:[h.jsx(m1,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{children:["Lista de Clientes (",P.length,")"]})}),h.jsx(nn,{children:h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Razn Social"}),h.jsx(Qt,{children:"NIF/CIF"}),h.jsx(Qt,{children:"Tipo"}),h.jsx(Qt,{children:"Modelos Fiscales"}),h.jsx(Qt,{children:"Estado"}),h.jsx(Qt,{children:"Responsable"}),h.jsx(Qt,{className:"text-right",children:"Acciones"})]})}),h.jsx(Ql,{children:P.length===0?h.jsx(Nr,{children:h.jsx(Ot,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay clientes registrados"})}):P.map(I=>h.jsxs(Nr,{"data-testid":`row-client-${I.id}`,children:[h.jsx(Ot,{className:"font-medium",children:I.razonSocial}),h.jsx(Ot,{children:I.nifCif}),h.jsx(Ot,{children:h.jsxs(Rn,{variant:"outline",className:"gap-1",children:[I.tipo==="autonomo"&&h.jsx(NO,{className:"h-3 w-3"}),I.tipo==="empresa"&&h.jsx(Dz,{className:"h-3 w-3"}),I.tipo==="particular"&&h.jsx(Yj,{className:"h-3 w-3"}),I.tipo==="autonomo"&&"Autnomo",I.tipo==="empresa"&&"Empresa",I.tipo==="particular"&&"Particular"]})}),h.jsx(Ot,{children:I.taxModels&&I.taxModels.length>0?h.jsx("div",{className:"flex flex-wrap gap-1",children:I.taxModels.map(z=>h.jsx(Rn,{variant:"secondary",className:"text-xs",children:z},z))}):h.jsx("span",{className:"text-muted-foreground text-sm",children:"Sin modelos"})}),h.jsx(Ot,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Rn,{variant:I.isActive!==!1?"default":"secondary",className:"gap-1","data-testid":`badge-status-${I.id}`,children:I.isActive!==!1?h.jsxs(h.Fragment,{children:[h.jsx(bw,{className:"h-3 w-3"}),"Activo"]}):h.jsxs(h.Fragment,{children:[h.jsx(hte,{className:"h-3 w-3"}),"Inactivo"]})}),h.jsx(zh,{checked:I.isActive!==!1,onCheckedChange:()=>T.mutate(I.id),disabled:T.isPending,"data-testid":`switch-active-${I.id}`})]})}),h.jsx(Ot,{children:I.employees&&I.employees.length>0?h.jsx("div",{className:"flex flex-wrap gap-1",children:I.employees.map(z=>h.jsxs(Rn,{variant:z.isPrimary?"default":"secondary",className:"text-xs","data-testid":`badge-employee-${z.userId}`,children:[z.user.username,z.isPrimary&&" "]},z.userId))}):h.jsx("span",{className:"text-muted-foreground text-sm",children:"Sin asignar"})}),h.jsx(Ot,{className:"text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>C(I),"data-testid":`button-edit-${I.id}`,children:h.jsx(nf,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>A.mutate(I.id),"data-testid":`button-delete-${I.id}`,children:h.jsx(Fc,{className:"h-4 w-4"})})]})})]},I.id))})]})})]})]})}const cP=O.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));cP.displayName="Textarea";var RK="AlertDialog",[ySe]=Ps(RK,[b9]),td=b9(),jK=t=>{const{__scopeAlertDialog:e,...n}=t,r=td(e);return h.jsx(Rw,{...r,...n,modal:!0})};jK.displayName=RK;var bSe="AlertDialogTrigger",xSe=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=td(n);return h.jsx(I9,{...i,...r,ref:e})});xSe.displayName=bSe;var wSe="AlertDialogPortal",IK=t=>{const{__scopeAlertDialog:e,...n}=t,r=td(e);return h.jsx(jw,{...r,...n})};IK.displayName=wSe;var SSe="AlertDialogOverlay",LK=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=td(n);return h.jsx(ag,{...i,...r,ref:e})});LK.displayName=SSe;var dm="AlertDialogContent",[_Se,ESe]=ySe(dm),NSe=cz("AlertDialogContent"),DK=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,o=td(n),a=O.useRef(null),s=Wn(e,a),l=O.useRef(null);return h.jsx(pae,{contentName:dm,titleName:FK,docsSlug:"alert-dialog",children:h.jsx(_Se,{scope:n,cancelRef:l,children:h.jsxs(sg,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:Kt(i.onOpenAutoFocus,c=>{c.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(NSe,{children:r}),h.jsx(kSe,{contentRef:a})]})})})});DK.displayName=dm;var FK="AlertDialogTitle",BK=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=td(n);return h.jsx(Vy,{...i,...r,ref:e})});BK.displayName=FK;var $K="AlertDialogDescription",zK=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=td(n);return h.jsx(Ky,{...i,...r,ref:e})});zK.displayName=$K;var ASe="AlertDialogAction",qK=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=td(n);return h.jsx(Iw,{...i,...r,ref:e})});qK.displayName=ASe;var UK="AlertDialogCancel",HK=O.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=ESe(UK,n),o=td(n),a=Wn(e,i);return h.jsx(Iw,{...o,...r,ref:a})});HK.displayName=UK;var kSe=({contentRef:t})=>{const e=`\`${dm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${dm}\` by passing a \`${$K}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${dm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return O.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},CSe=jK,TSe=IK,WK=LK,VK=DK,KK=qK,GK=HK,YK=BK,XK=zK;const uP=CSe,OSe=TSe,QK=O.forwardRef(({className:t,...e},n)=>h.jsx(WK,{className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));QK.displayName=WK.displayName;const S2=O.forwardRef(({className:t,...e},n)=>h.jsxs(OSe,{children:[h.jsx(QK,{}),h.jsx(VK,{ref:n,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));S2.displayName=VK.displayName;const _2=({className:t,...e})=>h.jsx("div",{className:dt("flex flex-col space-y-2 text-center sm:text-left",t),...e});_2.displayName="AlertDialogHeader";const E2=({className:t,...e})=>h.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});E2.displayName="AlertDialogFooter";const N2=O.forwardRef(({className:t,...e},n)=>h.jsx(YK,{ref:n,className:dt("text-lg font-semibold",t),...e}));N2.displayName=YK.displayName;const A2=O.forwardRef(({className:t,...e},n)=>h.jsx(XK,{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));A2.displayName=XK.displayName;const k2=O.forwardRef(({className:t,...e},n)=>h.jsx(KK,{ref:n,className:dt(WO(),t),...e}));k2.displayName=KK.displayName;const C2=O.forwardRef(({className:t,...e},n)=>h.jsx(GK,{ref:n,className:dt(WO({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));C2.displayName=GK.displayName;function MSe(){const{toast:t}=as(),[e,n]=O.useState(!1),[r,i]=O.useState(null),[o,a]=O.useState(!1),[s,l]=O.useState(null),[c,u]=O.useState({modelo:"",nombre:"",descripcion:"",tipo:"",periodicidad:"TRIMESTRAL",activo:!0}),{data:f,isLoading:g}=$n({queryKey:["/api/impuestos"]}),{data:m}=$n({queryKey:["/api/calendario-aeat"]}),b=kn({mutationFn:async C=>await vn("POST","/api/impuestos",C),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/impuestos"]}),t({title:"Impuesto creado exitosamente"}),n(!1),w()},onError:C=>{t({title:"Error al crear impuesto",description:C.message||"Ocurri un error inesperado",variant:"destructive"})}}),v=kn({mutationFn:async({id:C,data:M})=>await vn("PATCH",`/api/impuestos/${C}`,M),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/impuestos"]}),t({title:"Impuesto actualizado exitosamente"}),n(!1),i(null),w()},onError:C=>{t({title:"Error al actualizar impuesto",description:C.message||"Ocurri un error inesperado",variant:"destructive"})}}),y=kn({mutationFn:async C=>await vn("DELETE",`/api/impuestos/${C}`),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/impuestos"]}),t({title:"Impuesto eliminado exitosamente"}),a(!1),l(null)},onError:C=>{t({title:"Error al eliminar impuesto",description:C.message||"No se puede eliminar porque tiene obligaciones asociadas",variant:"destructive"})}}),w=()=>{u({modelo:"",nombre:"",descripcion:"",tipo:"",periodicidad:"TRIMESTRAL",activo:!0}),i(null)},N=C=>{i(C),u({modelo:C.modelo,nombre:C.nombre,descripcion:C.descripcion||"",tipo:C.tipo||"",periodicidad:C.periodicidad,activo:C.activo}),n(!0)},k=C=>{l(C),a(!0)},A=()=>{s&&y.mutate(s)},T=C=>{C.preventDefault(),r?v.mutate({id:r.id,data:c}):b.mutate(c)},P=C=>m?.filter(M=>M.impuestoId===C).length||0,L=C=>{if(!C)return h.jsx("span",{className:"text-muted-foreground text-sm",children:"-"});const q={MENSUAL:{variant:"default",label:"Mensual"},TRIMESTRAL:{variant:"secondary",label:"Trimestral"},ANUAL:{variant:"outline",label:"Anual"}}[C]||{variant:"outline",label:C};return h.jsx(Rn,{variant:q.variant,"data-testid":`badge-periodicidad-${C.toLowerCase()}`,children:q.label})};return g?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx(nr,{className:"h-9 w-64"}),h.jsx("div",{className:"space-y-4",children:[...Array(5)].map((C,M)=>h.jsx(nr,{className:"h-20"},M))})]}):h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold",children:"Catlogo de Impuestos"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de modelos fiscales AEAT"})]}),h.jsxs(ma,{open:e,onOpenChange:C=>{n(C),C||w()},children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:w,"data-testid":"button-add-impuesto",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nuevo Impuesto"]})}),h.jsxs(Ko,{children:[h.jsxs(ga,{children:[h.jsx(va,{children:r?"Editar Impuesto":"Nuevo Impuesto"}),h.jsx(ja,{children:r?"Modifica los datos del modelo fiscal":"Registra un nuevo modelo fiscal AEAT"})]}),h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"modelo",children:"Modelo AEAT *"}),h.jsx(zt,{id:"modelo",value:c.modelo,onChange:C=>u({...c,modelo:C.target.value}),placeholder:"Ej: 303, 390, 130...",required:!0,"data-testid":"input-modelo"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"nombre",children:"Nombre del Impuesto *"}),h.jsx(zt,{id:"nombre",value:c.nombre,onChange:C=>u({...c,nombre:C.target.value}),placeholder:"Ej: IVA - Autoliquidacin",required:!0,"data-testid":"input-nombre"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"tipo",children:"Tipo de Impuesto"}),h.jsxs(Qi,{value:c.tipo,onValueChange:C=>u({...c,tipo:C}),children:[h.jsx(Bi,{"data-testid":"select-tipo",children:h.jsx(Ji,{placeholder:"Selecciona el tipo"})}),h.jsxs($i,{children:[h.jsx(an,{value:"IVA",children:"IVA"}),h.jsx(an,{value:"IRPF",children:"IRPF"}),h.jsx(an,{value:"IS",children:"Impuesto sobre Sociedades"}),h.jsx(an,{value:"IRNR",children:"IRNR"}),h.jsx(an,{value:"OTRO",children:"Otro"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"periodicidad",children:"Periodicidad *"}),h.jsxs(Qi,{value:c.periodicidad,onValueChange:C=>u({...c,periodicidad:C}),children:[h.jsx(Bi,{"data-testid":"select-periodicidad",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"MENSUAL",children:"Mensual"}),h.jsx(an,{value:"TRIMESTRAL",children:"Trimestral"}),h.jsx(an,{value:"ANUAL",children:"Anual"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"descripcion",children:"Descripcin"}),h.jsx(cP,{id:"descripcion",value:c.descripcion,onChange:C=>u({...c,descripcion:C.target.value}),placeholder:"Descripcin detallada del impuesto...","data-testid":"textarea-descripcion"})]}),h.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(Qe,{htmlFor:"activo",children:"Estado"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:c.activo?"Impuesto activo y disponible":"Impuesto desactivado"})]}),h.jsx(zh,{id:"activo",checked:c.activo,onCheckedChange:C=>u({...c,activo:C}),"data-testid":"switch-activo"})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{n(!1),w()},children:"Cancelar"}),h.jsx(Ve,{type:"submit",disabled:b.isPending||v.isPending,"data-testid":"button-submit-impuesto",children:b.isPending||v.isPending?"Guardando...":r?"Actualizar":"Crear"})]})]})]})]})]}),h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsxs(Fn,{className:"flex items-center gap-2",children:[h.jsx(ec,{className:"h-5 w-5"}),"Modelos Fiscales Registrados"]}),h.jsxs(Qh,{children:[f?.length||0," impuestos configurados en el sistema"]})]}),h.jsx(nn,{children:!f||f.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ec,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),h.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay impuestos registrados"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Comienza creando tu primer modelo fiscal"})]}):h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Modelo"}),h.jsx(Qt,{children:"Nombre"}),h.jsx(Qt,{children:"Tipo"}),h.jsx(Qt,{children:"Periodicidad"}),h.jsxs(Qt,{className:"text-center",children:[h.jsx(Bv,{className:"h-4 w-4 inline mr-1"}),"Calendarios"]}),h.jsx(Qt,{children:"Estado"}),h.jsx(Qt,{className:"text-right",children:"Acciones"})]})}),h.jsx(Ql,{children:f.map(C=>h.jsxs(Nr,{"data-testid":`row-impuesto-${C.id}`,children:[h.jsx(Ot,{className:"font-mono font-semibold","data-testid":`text-modelo-${C.id}`,children:C.modelo}),h.jsx(Ot,{"data-testid":`text-nombre-${C.id}`,children:h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:C.nombre}),C.descripcion&&h.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:C.descripcion})]})}),h.jsx(Ot,{children:C.tipo?h.jsx(Rn,{variant:"outline","data-testid":`badge-tipo-${C.id}`,children:C.tipo}):h.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),h.jsx(Ot,{children:L(C.periodicidad)}),h.jsx(Ot,{className:"text-center","data-testid":`text-calendarios-${C.id}`,children:h.jsx(Rn,{variant:"secondary",children:P(C.id)})}),h.jsx(Ot,{children:C.activo?h.jsx(Rn,{variant:"default",className:"bg-green-600 hover:bg-green-700","data-testid":`badge-activo-${C.id}`,children:"Activo"}):h.jsx(Rn,{variant:"secondary","data-testid":`badge-inactivo-${C.id}`,children:"Inactivo"})}),h.jsx(Ot,{className:"text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>N(C),"data-testid":`button-edit-${C.id}`,children:h.jsx(Wz,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>k(C.id),"data-testid":`button-delete-${C.id}`,children:h.jsx(Fc,{className:"h-4 w-4 text-destructive"})})]})})]},C.id))})]})})]}),h.jsx(uP,{open:o,onOpenChange:a,children:h.jsxs(S2,{children:[h.jsxs(_2,{children:[h.jsxs(N2,{className:"flex items-center gap-2",children:[h.jsx(eg,{className:"h-5 w-5 text-destructive"}),"Eliminar impuesto?"]}),h.jsx(A2,{children:"Esta accin no se puede deshacer. El impuesto ser eliminado permanentemente del sistema. Si tiene obligaciones fiscales o calendarios asociados, no podr eliminarse."})]}),h.jsxs(E2,{children:[h.jsx(C2,{"data-testid":"button-cancel-delete",children:"Cancelar"}),h.jsx(k2,{onClick:A,className:"bg-destructive hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Eliminar"})]})]})})]})}function PSe(){const{toast:t}=as(),{user:e}=ig(),[n,r]=O.useState("table"),[i,o]=O.useState(!1),[a,s]=O.useState({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""}),{data:l,isLoading:c}=$n({queryKey:["/api/tasks"]}),{data:u}=$n({queryKey:["/api/clients"]}),{data:f}=$n({queryKey:["/api/users"]}),g=kn({mutationFn:async A=>await vn("POST","/api/tasks",A),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/tasks"]}),t({title:"Tarea creada exitosamente"}),o(!1),v()}}),m=kn({mutationFn:async({id:A,estado:T})=>await vn("PATCH",`/api/tasks/${A}`,{estado:T}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/tasks"]})}}),b=l?.filter(A=>A.visibilidad==="GENERAL"?!0:A.visibilidad==="PERSONAL"?e?.role==="ADMIN"||A.asignadoA===e?.id:!1)||[],v=()=>{s({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""})},y=A=>{A.preventDefault(),g.mutate(a)},w=A=>{const T={BAJA:"text-muted-foreground bg-muted",MEDIA:"text-chart-2 bg-chart-2/10",ALTA:"text-destructive bg-destructive/10"};return h.jsx(Rn,{variant:"outline",className:T[A],children:A})},N=A=>{const T={PENDIENTE:{color:"text-muted-foreground bg-muted",icon:_O},EN_PROGRESO:{color:"text-chart-2 bg-chart-2/10",icon:Yz},COMPLETADA:{color:"text-chart-3 bg-chart-3/10",icon:bw}},P=T[A]||T.PENDIENTE,L=P.icon;return h.jsxs(Rn,{variant:"outline",className:P.color,children:[h.jsx(L,{className:"h-3 w-3 mr-1"}),A.replace("_"," ")]})},k=[{id:"PENDIENTE",title:"Pendientes"},{id:"EN_PROGRESO",title:"En Progreso"},{id:"COMPLETADA",title:"Completadas"}];return c?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx(nr,{className:"h-9 w-48"}),h.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((A,T)=>h.jsx(nr,{className:"h-64"},T))})]}):h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold",children:"Tareas"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de tareas generales y personales"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Xy,{value:n,onValueChange:A=>r(A),children:h.jsxs(lg,{children:[h.jsxs(uo,{value:"table","data-testid":"button-view-table",children:[h.jsx(kte,{className:"h-4 w-4 mr-2"}),"Tabla"]}),h.jsxs(uo,{value:"kanban","data-testid":"button-view-kanban",children:[h.jsx(Ate,{className:"h-4 w-4 mr-2"}),"Tablero"]})]})}),h.jsxs(ma,{open:i,onOpenChange:o,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:v,"data-testid":"button-add-task",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nueva Tarea"]})}),h.jsxs(Ko,{className:"max-w-2xl",children:[h.jsxs(ga,{children:[h.jsx(va,{children:"Nueva Tarea"}),h.jsx(ja,{children:"Crea una nueva tarea general o personal"})]}),h.jsxs("form",{onSubmit:y,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2 col-span-2",children:[h.jsx(Qe,{htmlFor:"titulo",children:"Ttulo *"}),h.jsx(zt,{id:"titulo",value:a.titulo,onChange:A=>s({...a,titulo:A.target.value}),required:!0,"data-testid":"input-titulo"})]}),h.jsxs("div",{className:"space-y-2 col-span-2",children:[h.jsx(Qe,{htmlFor:"descripcion",children:"Descripcin"}),h.jsx(cP,{id:"descripcion",value:a.descripcion,onChange:A=>s({...a,descripcion:A.target.value}),"data-testid":"textarea-descripcion"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"cliente",children:"Cliente"}),h.jsxs(Qi,{value:a.clienteId||"none",onValueChange:A=>s({...a,clienteId:A==="none"?"":A}),children:[h.jsx(Bi,{"data-testid":"select-cliente",children:h.jsx(Ji,{placeholder:"Sin cliente"})}),h.jsxs($i,{children:[h.jsx(an,{value:"none",children:"Sin cliente"}),u?.map(A=>h.jsx(an,{value:A.id,children:A.razonSocial},A.id))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"asignado",children:"Asignado a"}),h.jsxs(Qi,{value:a.asignadoA||"none",onValueChange:A=>s({...a,asignadoA:A==="none"?"":A}),children:[h.jsx(Bi,{"data-testid":"select-asignado",children:h.jsx(Ji,{placeholder:"Sin asignar"})}),h.jsxs($i,{children:[h.jsx(an,{value:"none",children:"Sin asignar"}),f?.map(A=>h.jsx(an,{value:A.id,children:A.username},A.id))]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"prioridad",children:"Prioridad"}),h.jsxs(Qi,{value:a.prioridad,onValueChange:A=>s({...a,prioridad:A}),children:[h.jsx(Bi,{"data-testid":"select-prioridad",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"BAJA",children:"Baja"}),h.jsx(an,{value:"MEDIA",children:"Media"}),h.jsx(an,{value:"ALTA",children:"Alta"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"visibilidad",children:"Visibilidad"}),h.jsxs(Qi,{value:a.visibilidad,onValueChange:A=>s({...a,visibilidad:A}),children:[h.jsx(Bi,{"data-testid":"select-visibilidad",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"GENERAL",children:"General"}),h.jsx(an,{value:"PERSONAL",children:"Personal"})]})]})]}),h.jsxs("div",{className:"space-y-2 col-span-2",children:[h.jsx(Qe,{htmlFor:"fechaVencimiento",children:"Fecha de Vencimiento"}),h.jsx(zt,{id:"fechaVencimiento",type:"date",value:a.fechaVencimiento,onChange:A=>s({...a,fechaVencimiento:A.target.value}),"data-testid":"input-fecha-vencimiento"})]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{o(!1),v()},children:"Cancelar"}),h.jsx(Ve,{type:"submit","data-testid":"button-submit-task",children:"Crear Tarea"})]})]})]})]})]})]}),n==="table"?h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{children:["Lista de Tareas (",b.length,")"]})}),h.jsx(nn,{children:h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Ttulo"}),h.jsx(Qt,{children:"Cliente"}),h.jsx(Qt,{children:"Asignado"}),h.jsx(Qt,{children:"Prioridad"}),h.jsx(Qt,{children:"Estado"}),h.jsx(Qt,{children:"Vencimiento"}),h.jsx(Qt,{className:"text-right",children:"Acciones"})]})}),h.jsx(Ql,{children:b.length===0?h.jsx(Nr,{children:h.jsx(Ot,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay tareas registradas"})}):b.map(A=>h.jsxs(Nr,{"data-testid":`row-task-${A.id}`,children:[h.jsx(Ot,{className:"font-medium",children:h.jsxs("div",{className:"flex items-center gap-2",children:[A.visibilidad==="PERSONAL"&&h.jsx(Ek,{className:"h-3 w-3 text-muted-foreground"}),A.titulo]})}),h.jsx(Ot,{children:A.client?.razonSocial||"-"}),h.jsx(Ot,{children:A.assignedUser?.username||"-"}),h.jsx(Ot,{children:w(A.prioridad)}),h.jsx(Ot,{children:N(A.estado)}),h.jsx(Ot,{children:A.fechaVencimiento?new Date(A.fechaVencimiento).toLocaleDateString():"-"}),h.jsx(Ot,{className:"text-right",children:h.jsxs(Qi,{value:A.estado,onValueChange:T=>m.mutate({id:A.id,estado:T}),children:[h.jsx(Bi,{className:"w-[140px]","data-testid":`select-estado-${A.id}`,children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"PENDIENTE",children:"Pendiente"}),h.jsx(an,{value:"EN_PROGRESO",children:"En Progreso"}),h.jsx(an,{value:"COMPLETADA",children:"Completada"})]})]})})]},A.id))})]})})]}):h.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:k.map(A=>{const T=b.filter(P=>P.estado===A.id);return h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"text-lg flex items-center justify-between",children:[A.title,h.jsx(Rn,{variant:"secondary",children:T.length})]})}),h.jsx(nn,{className:"space-y-3",children:T.length===0?h.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay tareas"}):T.map(P=>h.jsx(tn,{className:"hover-elevate cursor-pointer","data-testid":`card-task-${P.id}`,children:h.jsxs(nn,{className:"p-4 space-y-2",children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[P.visibilidad==="PERSONAL"&&h.jsx(Ek,{className:"h-3 w-3"}),P.titulo]}),w(P.prioridad)]}),P.descripcion&&h.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:P.descripcion}),P.client&&h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cliente: ",P.client.razonSocial]}),P.assignedUser&&h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Asignado: ",P.assignedUser.username]}),P.fechaVencimiento&&h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vence: ",new Date(P.fechaVencimiento).toLocaleDateString()]})]})},P.id))})]},A.id)})})]})}function RSe(){as();const{user:t}=ig(),[,e]=Xm(),[n,r]=O.useState(""),{data:i,isLoading:o}=$n({queryKey:["/api/manuals"]}),a=Array.isArray(t?.permissions)&&t.permissions.includes("manuals:create"),s=i?.filter(l=>l.titulo.toLowerCase().includes(n.toLowerCase())||l.categoria?.toLowerCase().includes(n.toLowerCase()))||[];return o?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx(nr,{className:"h-9 w-48"}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((l,c)=>h.jsx(nr,{className:"h-48"},c))})]}):h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold",children:"Manuales"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Base de conocimientos y documentacin interna"})]}),a&&h.jsxs(Ve,{onClick:()=>e("/manuales/nuevo"),"data-testid":"button-nuevo-manual",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nuevo Manual"]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(xw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(zt,{placeholder:"Buscar manuales...",value:n,onChange:l=>r(l.target.value),className:"pl-10","data-testid":"input-search-manuals"})]}),s.length===0?h.jsx(tn,{children:h.jsxs(nn,{className:"flex flex-col items-center justify-center py-16",children:[h.jsx(ec,{className:"h-16 w-16 text-muted-foreground mb-4"}),h.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay manuales disponibles"}),h.jsx("p",{className:"text-muted-foreground text-center mb-4",children:a?"Comienza creando tu primer manual":"An no se han publicado manuales"})]})}):h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(l=>h.jsxs(tn,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/manuales/${l.id}`),"data-testid":`card-manual-${l.id}`,children:[h.jsxs(Pn,{children:[h.jsxs("div",{className:"flex items-start justify-between gap-2",children:[h.jsx(ec,{className:"h-8 w-8 text-primary"}),l.publicado?h.jsx(Rn,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):h.jsx(Rn,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),h.jsx(Fn,{className:"mt-4",children:l.titulo}),h.jsx(Qh,{children:l.categoria||"Sin categora"})]}),h.jsxs(nn,{children:[l.etiquetas&&l.etiquetas.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:l.etiquetas.slice(0,3).map(c=>h.jsx(Rn,{variant:"secondary",className:"text-xs",children:c},c))}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[h.jsx("span",{children:new Date(l.fechaCreacion).toLocaleDateString()}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:c=>{c.stopPropagation(),e(`/manuales/${l.id}`)},"data-testid":`button-view-${l.id}`,children:h.jsx(vte,{className:"h-4 w-4"})}),a&&h.jsx(Ve,{variant:"ghost",size:"icon",onClick:c=>{c.stopPropagation(),e(`/manuales/${l.id}/editar`)},"data-testid":`button-edit-${l.id}`,children:h.jsx(nf,{className:"h-4 w-4"})})]})]})]})]},l.id))})]})}function jSe(t,e){return O.useReducer((n,r)=>e[n][r]??n,t)}var dP="ScrollArea",[JK]=Ps(dP),[ISe,gl]=JK(dP),ZK=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=t,[s,l]=O.useState(null),[c,u]=O.useState(null),[f,g]=O.useState(null),[m,b]=O.useState(null),[v,y]=O.useState(null),[w,N]=O.useState(0),[k,A]=O.useState(0),[T,P]=O.useState(!1),[L,C]=O.useState(!1),M=Wn(e,D=>l(D)),q=Dw(i);return h.jsx(ISe,{scope:n,type:r,dir:q,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:f,onContentChange:g,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:L,onScrollbarYEnabledChange:C,onCornerWidthChange:N,onCornerHeightChange:A,children:h.jsx(Ht.div,{dir:q,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});ZK.displayName=dP;var eG="ScrollAreaViewport",tG=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,a=gl(eG,n),s=O.useRef(null),l=Wn(e,s,a.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),h.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:h.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});tG.displayName=eG;var Qc="ScrollAreaScrollbar",fP=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gl(Qc,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=t.orientation==="horizontal";return O.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?h.jsx(LSe,{...r,ref:e,forceMount:n}):i.type==="scroll"?h.jsx(DSe,{...r,ref:e,forceMount:n}):i.type==="auto"?h.jsx(nG,{...r,ref:e,forceMount:n}):i.type==="always"?h.jsx(hP,{...r,ref:e}):null});fP.displayName=Qc;var LSe=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gl(Qc,t.__scopeScrollArea),[o,a]=O.useState(!1);return O.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(pl,{present:n||o,children:h.jsx(nG,{"data-state":o?"visible":"hidden",...r,ref:e})})}),DSe=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gl(Qc,t.__scopeScrollArea),o=t.orientation==="horizontal",a=O2(()=>l("SCROLL_END"),100),[s,l]=jSe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return O.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),O.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let f=c[u];const g=()=>{const m=c[u];f!==m&&(l("SCROLL"),a()),f=m};return c.addEventListener("scroll",g),()=>c.removeEventListener("scroll",g)}},[i.viewport,o,l,a]),h.jsx(pl,{present:n||s!=="hidden",children:h.jsx(hP,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Kt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Kt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),nG=O.forwardRef((t,e)=>{const n=gl(Qc,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,a]=O.useState(!1),s=t.orientation==="horizontal",l=O2(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:u)}},10);return Um(n.viewport,l),Um(n.content,l),h.jsx(pl,{present:r||o,children:h.jsx(hP,{"data-state":o?"visible":"hidden",...i,ref:e})})}),hP=O.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=gl(Qc,t.__scopeScrollArea),o=O.useRef(null),a=O.useRef(0),[s,l]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=sG(s.viewport,s.content),u={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:g=>a.current=g};function f(g,m){return USe(g,a.current,s,m)}return n==="horizontal"?h.jsx(FSe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollLeft,m=xF(g,s,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=f(g,i.dir))}}):n==="vertical"?h.jsx(BSe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollTop,m=xF(g,s);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=f(g))}}):null}),FSe=O.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=gl(Qc,t.__scopeScrollArea),[a,s]=O.useState(),l=O.useRef(null),c=Wn(e,l,o.onScrollbarXChange);return O.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),h.jsx(iG,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":T2(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const g=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(g),cG(g,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:bx(a.paddingLeft),paddingEnd:bx(a.paddingRight)}})}})}),BSe=O.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=gl(Qc,t.__scopeScrollArea),[a,s]=O.useState(),l=O.useRef(null),c=Wn(e,l,o.onScrollbarYChange);return O.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),h.jsx(iG,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":T2(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const g=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(g),cG(g,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:bx(a.paddingTop),paddingEnd:bx(a.paddingBottom)}})}})}),[$Se,rG]=JK(Qc),iG=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...g}=t,m=gl(Qc,n),[b,v]=O.useState(null),y=Wn(e,M=>v(M)),w=O.useRef(null),N=O.useRef(""),k=m.viewport,A=r.content-r.viewport,T=Xi(u),P=Xi(l),L=O2(f,10);function C(M){if(w.current){const q=M.clientX-w.current.left,D=M.clientY-w.current.top;c({x:q,y:D})}}return O.useEffect(()=>{const M=q=>{const D=q.target;b?.contains(D)&&T(q,A)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[k,b,A,T]),O.useEffect(P,[r,P]),Um(b,L),Um(m.content,L),h.jsx($Se,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:Xi(o),onThumbPointerUp:Xi(a),onThumbPositionChange:P,onThumbPointerDown:Xi(s),children:h.jsx(Ht.div,{...g,ref:y,style:{position:"absolute",...g.style},onPointerDown:Kt(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),w.current=b.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(M))}),onPointerMove:Kt(t.onPointerMove,C),onPointerUp:Kt(t.onPointerUp,M=>{const q=M.target;q.hasPointerCapture(M.pointerId)&&q.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=N.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),yx="ScrollAreaThumb",oG=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=rG(yx,t.__scopeScrollArea);return h.jsx(pl,{present:n||i.hasThumb,children:h.jsx(zSe,{ref:e,...r})})}),zSe=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=gl(yx,n),a=rG(yx,n),{onThumbPositionChange:s}=a,l=Wn(e,f=>a.onThumbChange(f)),c=O.useRef(void 0),u=O2(()=>{c.current&&(c.current(),c.current=void 0)},100);return O.useEffect(()=>{const f=o.viewport;if(f){const g=()=>{if(u(),!c.current){const m=HSe(f,s);c.current=m,s()}};return s(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,u,s]),h.jsx(Ht.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Kt(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),b=f.clientX-m.left,v=f.clientY-m.top;a.onThumbPointerDown({x:b,y:v})}),onPointerUp:Kt(t.onPointerUp,a.onThumbPointerUp)})});oG.displayName=yx;var pP="ScrollAreaCorner",aG=O.forwardRef((t,e)=>{const n=gl(pP,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(qSe,{...t,ref:e}):null});aG.displayName=pP;var qSe=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=gl(pP,n),[o,a]=O.useState(0),[s,l]=O.useState(0),c=!!(o&&s);return Um(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),l(u)}),Um(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),a(u)}),c?h.jsx(Ht.div,{...r,ref:e,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bx(t){return t?parseInt(t,10):0}function sG(t,e){const n=t/e;return isNaN(n)?0:n}function T2(t){const e=sG(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function USe(t,e,n,r="ltr"){const i=T2(n),o=i/2,a=e||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return lG([l,c],f)(t)}function xF(t,e,n="ltr"){const r=T2(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,a=e.content-e.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=rT(t,l);return lG([0,a],[0,s])(c)}function lG(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function cG(t,e){return t>0&&t<e}var HSe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const o={left:t.scrollLeft,top:t.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&e(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function O2(t,e){const n=Xi(t),r=O.useRef(0);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),O.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Um(t,e){const n=Xi(e);zi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var uG=ZK,WSe=tG,VSe=aG;const mP=O.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(uG,{ref:r,className:dt("relative overflow-hidden",t),...n,children:[h.jsx(WSe,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx(dG,{}),h.jsx(VSe,{})]}));mP.displayName=uG.displayName;const dG=O.forwardRef(({className:t,orientation:e="vertical",...n},r)=>h.jsx(fP,{ref:r,orientation:e,className:dt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:h.jsx(oG,{className:"relative flex-1 rounded-full bg-border"})}));dG.displayName=fP.displayName;function KSe({htmlContent:t}){const[e,n]=O.useState([]),[r,i]=O.useState("");O.useEffect(()=>{const l=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6"),c=[];l.forEach((f,g)=>{const m=parseInt(f.tagName.substring(1)),b=f.textContent||"";let v=f.id;v||(v=`heading-${g}-${b.toLowerCase().replace(/\s+/g,"-").slice(0,30)}`,f.id=v),c.push({id:v,text:b,level:m})}),n(c);const u=new IntersectionObserver(f=>{f.forEach(g=>{g.isIntersecting&&i(g.target.id)})},{rootMargin:"-20% 0px -35% 0px"});return l.forEach(f=>u.observe(f)),()=>u.disconnect()},[t]);const o=a=>{const s=document.getElementById(a);s&&s.scrollIntoView({behavior:"smooth",block:"start"})};return e.length===0?null:h.jsxs(tn,{className:"sticky top-4",children:[h.jsx(Pn,{className:"pb-3",children:h.jsxs(Fn,{className:"text-sm font-medium flex items-center gap-2",children:[h.jsx(Uz,{className:"h-4 w-4"}),"Tabla de Contenidos"]})}),h.jsx(nn,{children:h.jsx(mP,{className:"h-[400px] pr-4",children:h.jsx("div",{className:"space-y-1",children:e.map(a=>h.jsx("button",{onClick:()=>o(a.id),className:`
                  w-full text-left text-sm py-1 px-2 rounded transition-colors
                  ${a.level===1?"font-semibold":""}
                  ${a.level===2?"pl-4":""}
                  ${a.level===3?"pl-8":""}
                  ${a.level>=4?"pl-12":""}
                  ${r===a.id?"bg-primary text-primary-foreground":"hover-elevate text-muted-foreground hover:text-foreground"}
                `,"data-testid":`toc-item-${a.id}`,children:a.text},a.id))})})})]})}const GSe="modulepreload",YSe=function(t){return"/"+t},wF={},c5=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");i=l(n.map(c=>{if(c=YSe(c),c in wF)return;wF[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":GSe,u||(g.as="script"),g.crossOrigin="",g.href=c,s&&g.setAttribute("nonce",s),document.head.appendChild(g),u)return new Promise((m,b)=>{g.addEventListener("load",m),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};function Ar(t){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}var rc=Uint8Array,Ts=Uint16Array,gP=Int32Array,vP=new rc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yP=new rc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),SF=new rc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fG=function(t,e){for(var n=new Ts(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new gP(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},hG=fG(vP,2),XSe=hG.b,cT=hG.r;XSe[28]=258,cT[258]=28;var QSe=fG(yP,0),_F=QSe.r,uT=new Ts(32768);for(var ei=0;ei<32768;++ei){var Ld=(ei&43690)>>1|(ei&21845)<<1;Ld=(Ld&52428)>>2|(Ld&13107)<<2,Ld=(Ld&61680)>>4|(Ld&3855)<<4,uT[ei]=((Ld&65280)>>8|(Ld&255)<<8)>>1}var Nv=(function(t,e,n){for(var r=t.length,i=0,o=new Ts(e);i<r;++i)t[i]&&++o[t[i]-1];var a=new Ts(e);for(i=1;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new Ts(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=a[t[i]-1]++<<u,g=f|(1<<u)-1;f<=g;++f)s[uT[f]>>l]=c}else for(s=new Ts(r),i=0;i<r;++i)t[i]&&(s[i]=uT[a[t[i]-1]++]>>15-t[i]);return s}),qh=new rc(288);for(var ei=0;ei<144;++ei)qh[ei]=8;for(var ei=144;ei<256;++ei)qh[ei]=9;for(var ei=256;ei<280;++ei)qh[ei]=7;for(var ei=280;ei<288;++ei)qh[ei]=8;var xx=new rc(32);for(var ei=0;ei<32;++ei)xx[ei]=5;var JSe=Nv(qh,9,0),ZSe=Nv(xx,5,0),pG=function(t){return(t+7)/8|0},e_e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new rc(t.subarray(e,n))},ku=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},iv=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},u5=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:gG,l:0};if(i==1){var a=new rc(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(T,P){return T.f-P.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var g=o[0].s,r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var m=new Ts(g+1),b=dT(n[u-1],m,0);if(b>e){var r=0,v=0,y=b-e,w=1<<y;for(o.sort(function(P,L){return m[L.s]-m[P.s]||P.f-L.f});r<i;++r){var N=o[r].s;if(m[N]>e)v+=w-(1<<b-m[N]),m[N]=e;else break}for(v>>=y;v>0;){var k=o[r].s;m[k]<e?v-=1<<e-m[k]++-1:++r}for(;r>=0&&v;--r){var A=o[r].s;m[A]==e&&(--m[A],++v)}b=e}return{t:new rc(m),l:b}},dT=function(t,e,n){return t.s==-1?Math.max(dT(t.l,e,n+1),dT(t.r,e,n+1)):e[t.s]=n},EF=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ts(++e),r=0,i=t[0],o=1,a=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=t[s]}return{c:n.subarray(0,r),n:e}},ov=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},mG=function(t,e,n){var r=n.length,i=pG(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},NF=function(t,e,n,r,i,o,a,s,l,c,u){ku(e,u++,n),++i[256];for(var f=u5(i,15),g=f.t,m=f.l,b=u5(o,15),v=b.t,y=b.l,w=EF(g),N=w.c,k=w.n,A=EF(v),T=A.c,P=A.n,L=new Ts(19),C=0;C<N.length;++C)++L[N[C]&31];for(var C=0;C<T.length;++C)++L[T[C]&31];for(var M=u5(L,7),q=M.t,D=M.l,I=19;I>4&&!q[SF[I-1]];--I);var z=c+5<<3,U=ov(i,qh)+ov(o,xx)+a,Y=ov(i,g)+ov(o,v)+a+14+3*I+ov(L,q)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&z<=U&&z<=Y)return mG(e,u,t.subarray(l,l+c));var ne,W,G,K;if(ku(e,u,1+(Y<U)),u+=2,Y<U){ne=Nv(g,m,0),W=g,G=Nv(v,y,0),K=v;var fe=Nv(q,D,0);ku(e,u,k-257),ku(e,u+5,P-1),ku(e,u+10,I-4),u+=14;for(var C=0;C<I;++C)ku(e,u+3*C,q[SF[C]]);u+=3*I;for(var X=[N,T],F=0;F<2;++F)for(var V=X[F],C=0;C<V.length;++C){var ee=V[C]&31;ku(e,u,fe[ee]),u+=q[ee],ee>15&&(ku(e,u,V[C]>>5&127),u+=V[C]>>12)}}else ne=JSe,W=qh,G=ZSe,K=xx;for(var C=0;C<s;++C){var ie=r[C];if(ie>255){var ee=ie>>18&31;iv(e,u,ne[ee+257]),u+=W[ee+257],ee>7&&(ku(e,u,ie>>23&31),u+=vP[ee]);var ue=ie&31;iv(e,u,G[ue]),u+=K[ue],ue>3&&(iv(e,u,ie>>5&8191),u+=yP[ue])}else iv(e,u,ne[ie]),u+=W[ie]}return iv(e,u,ne[256]),u+W[256]},t_e=new gP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gG=new rc(0),n_e=function(t,e,n,r,i,o){var a=o.z||t.length,s=new rc(r+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(r,s.length-i),c=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var f=t_e[e-1],g=f>>13,m=f&8191,b=(1<<n)-1,v=o.p||new Ts(32768),y=o.h||new Ts(b+1),w=Math.ceil(n/3),N=2*w,k=function(Ne){return(t[Ne]^t[Ne+1]<<w^t[Ne+2]<<N)&b},A=new gP(25e3),T=new Ts(288),P=new Ts(32),L=0,C=0,M=o.i||0,q=0,D=o.w||0,I=0;M+2<a;++M){var z=k(M),U=M&32767,Y=y[z];if(v[U]=Y,y[z]=U,D<=M){var ne=a-M;if((L>7e3||q>24576)&&(ne>423||!c)){u=NF(t,l,0,A,T,P,C,q,I,M-I,u),q=L=C=0,I=M;for(var W=0;W<286;++W)T[W]=0;for(var W=0;W<30;++W)P[W]=0}var G=2,K=0,fe=m,X=U-Y&32767;if(ne>2&&z==k(M-X))for(var F=Math.min(g,ne)-1,V=Math.min(32767,M),ee=Math.min(258,ne);X<=V&&--fe&&U!=Y;){if(t[M+G]==t[M+G-X]){for(var ie=0;ie<ee&&t[M+ie]==t[M+ie-X];++ie);if(ie>G){if(G=ie,K=X,ie>F)break;for(var ue=Math.min(X,ie-2),he=0,W=0;W<ue;++W){var me=M-X+W&32767,le=v[me],be=me-le&32767;be>he&&(he=be,Y=me)}}}U=Y,Y=v[U],X+=U-Y&32767}if(K){A[q++]=268435456|cT[G]<<18|_F[K];var Se=cT[G]&31,xe=_F[K]&31;C+=vP[Se]+yP[xe],++T[257+Se],++P[xe],D=M+G,++L}else A[q++]=t[M],++T[t[M]]}}for(M=Math.max(M,D);M<a;++M)A[q++]=t[M],++T[t[M]];u=NF(t,l,c,A,T,P,C,q,I,M-I,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=y,o.p=v,o.i=M,o.w=D)}else{for(var M=o.w||0;M<a+c;M+=65535){var Le=M+65535;Le>=a&&(l[u/8|0]=c,Le=a),u=mG(l,u+1,t.subarray(M,Le))}o.i=a}return e_e(s,0,r+pG(u)+i)},vG=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},r_e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),a=new rc(o.length+t.length);a.set(o),a.set(t,o.length),t=a,i.w=o.length}return n_e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},yG=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},i_e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=vG();i.p(e.dictionary),yG(t,2,i.d())}};function fT(t,e){e||(e={});var n=vG();n.p(t);var r=r_e(t,e,e.dictionary?6:2,4);return i_e(r,e),yG(r,r.length-4,n.d()),r}var o_e=typeof TextDecoder<"u"&&new TextDecoder,a_e=0;try{o_e.decode(gG,{stream:!0}),a_e=1}catch{}function s_e(t){if(Array.isArray(t))return t}function l_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function AF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c_e(t,e){if(t){if(typeof t=="string")return AF(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AF(t,e):void 0}}function u_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kF(t,e){return s_e(t)||l_e(t,e)||c_e(t,e)||u_e()}function CF(t,e="utf8"){return new TextDecoder(e).decode(t)}const d_e=new TextEncoder;function f_e(t){return d_e.encode(t)}const h_e=1024*8,p_e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),d5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class bP{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=h_e,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof bP)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=d5[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===p_e&&n!=="uint8"&&n!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+r));s.reverse();const l=new d5[n](s.buffer);return this.offset+=r,l.reverse(),l}const a=new d5[n](o);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return CF(this.readBytes(e))}decodeText(e=1,n="utf8"){return CF(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(f_e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function vg(t){let e=t.length;for(;--e>=0;)t[e]=0}const m_e=3,g_e=258,bG=29,v_e=256,y_e=v_e+1+bG,xG=30,b_e=512,x_e=new Array((y_e+2)*2);vg(x_e);const w_e=new Array(xG*2);vg(w_e);const S_e=new Array(b_e);vg(S_e);const __e=new Array(g_e-m_e+1);vg(__e);const E_e=new Array(bG);vg(E_e);const N_e=new Array(xG);vg(N_e);const A_e=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0};var hT=A_e;const k_e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},C_e=new Uint32Array(k_e()),T_e=(t,e,n,r)=>{const i=C_e,o=r+n;t^=-1;for(let a=r;a<o;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Ac=T_e,pT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wG={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const O_e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var M_e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)O_e(n,r)&&(t[r]=n[r])}}return t},P_e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let a=t[r];n.set(a,i),i+=a.length}return n},SG={assign:M_e,flattenChunks:P_e};let _G=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_G=!1}const Ay=new Uint8Array(256);for(let t=0;t<256;t++)Ay[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ay[254]=Ay[254]=1;var R_e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,a=t.length,s=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const j_e=(t,e)=>{if(e<65534&&t.subarray&&_G)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var I_e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){o[i++]=a;continue}let s=Ay[a];if(s>4){o[i++]=65533,r+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&r<n;)a=a<<6|t[r++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return j_e(o,i)},L_e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Ay[t[n]]>e?n:e},mT={string2buf:R_e,buf2string:I_e,utf8border:L_e};function D_e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var F_e=D_e;const mb=16209,B_e=16191;var $_e=function(e,n){let r,i,o,a,s,l,c,u,f,g,m,b,v,y,w,N,k,A,T,P,L,C,M,q;const D=e.state;r=e.next_in,M=e.input,i=r+(e.avail_in-5),o=e.next_out,q=e.output,a=o-(n-e.avail_out),s=o+(e.avail_out-257),l=D.dmax,c=D.wsize,u=D.whave,f=D.wnext,g=D.window,m=D.hold,b=D.bits,v=D.lencode,y=D.distcode,w=(1<<D.lenbits)-1,N=(1<<D.distbits)-1;e:do{b<15&&(m+=M[r++]<<b,b+=8,m+=M[r++]<<b,b+=8),k=v[m&w];t:for(;;){if(A=k>>>24,m>>>=A,b-=A,A=k>>>16&255,A===0)q[o++]=k&65535;else if(A&16){T=k&65535,A&=15,A&&(b<A&&(m+=M[r++]<<b,b+=8),T+=m&(1<<A)-1,m>>>=A,b-=A),b<15&&(m+=M[r++]<<b,b+=8,m+=M[r++]<<b,b+=8),k=y[m&N];n:for(;;){if(A=k>>>24,m>>>=A,b-=A,A=k>>>16&255,A&16){if(P=k&65535,A&=15,b<A&&(m+=M[r++]<<b,b+=8,b<A&&(m+=M[r++]<<b,b+=8)),P+=m&(1<<A)-1,P>l){e.msg="invalid distance too far back",D.mode=mb;break e}if(m>>>=A,b-=A,A=o-a,P>A){if(A=P-A,A>u&&D.sane){e.msg="invalid distance too far back",D.mode=mb;break e}if(L=0,C=g,f===0){if(L+=c-A,A<T){T-=A;do q[o++]=g[L++];while(--A);L=o-P,C=q}}else if(f<A){if(L+=c+f-A,A-=f,A<T){T-=A;do q[o++]=g[L++];while(--A);if(L=0,f<T){A=f,T-=A;do q[o++]=g[L++];while(--A);L=o-P,C=q}}}else if(L+=f-A,A<T){T-=A;do q[o++]=g[L++];while(--A);L=o-P,C=q}for(;T>2;)q[o++]=C[L++],q[o++]=C[L++],q[o++]=C[L++],T-=3;T&&(q[o++]=C[L++],T>1&&(q[o++]=C[L++]))}else{L=o-P;do q[o++]=q[L++],q[o++]=q[L++],q[o++]=q[L++],T-=3;while(T>2);T&&(q[o++]=q[L++],T>1&&(q[o++]=q[L++]))}}else if((A&64)===0){k=y[(k&65535)+(m&(1<<A)-1)];continue n}else{e.msg="invalid distance code",D.mode=mb;break e}break}}else if((A&64)===0){k=v[(k&65535)+(m&(1<<A)-1)];continue t}else if(A&32){D.mode=B_e;break e}else{e.msg="invalid literal/length code",D.mode=mb;break e}break}}while(r<i&&o<s);T=b>>3,r-=T,b-=T<<3,m&=(1<<b)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<s?257+(s-o):257-(o-s),D.hold=m,D.bits=b};const Lp=15,TF=852,OF=592,MF=0,f5=1,PF=2,z_e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),q_e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),U_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),H_e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),W_e=(t,e,n,r,i,o,a,s)=>{const l=s.bits;let c=0,u=0,f=0,g=0,m=0,b=0,v=0,y=0,w=0,N=0,k,A,T,P,L,C=null,M;const q=new Uint16Array(Lp+1),D=new Uint16Array(Lp+1);let I=null,z,U,Y;for(c=0;c<=Lp;c++)q[c]=0;for(u=0;u<r;u++)q[e[n+u]]++;for(m=l,g=Lp;g>=1&&q[g]===0;g--);if(m>g&&(m=g),g===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<g&&q[f]===0;f++);for(m<f&&(m=f),y=1,c=1;c<=Lp;c++)if(y<<=1,y-=q[c],y<0)return-1;if(y>0&&(t===MF||g!==1))return-1;for(D[1]=0,c=1;c<Lp;c++)D[c+1]=D[c]+q[c];for(u=0;u<r;u++)e[n+u]!==0&&(a[D[e[n+u]]++]=u);if(t===MF?(C=I=a,M=20):t===f5?(C=z_e,I=q_e,M=257):(C=U_e,I=H_e,M=0),N=0,u=0,c=f,L=o,b=m,v=0,T=-1,w=1<<m,P=w-1,t===f5&&w>TF||t===PF&&w>OF)return 1;for(;;){z=c-v,a[u]+1<M?(U=0,Y=a[u]):a[u]>=M?(U=I[a[u]-M],Y=C[a[u]-M]):(U=96,Y=0),k=1<<c-v,A=1<<b,f=A;do A-=k,i[L+(N>>v)+A]=z<<24|U<<16|Y|0;while(A!==0);for(k=1<<c-1;N&k;)k>>=1;if(k!==0?(N&=k-1,N+=k):N=0,u++,--q[c]===0){if(c===g)break;c=e[n+a[u]]}if(c>m&&(N&P)!==T){for(v===0&&(v=m),L+=f,b=c-v,y=1<<b;b+v<g&&(y-=q[b+v],!(y<=0));)b++,y<<=1;if(w+=1<<b,t===f5&&w>TF||t===PF&&w>OF)return 1;T=N&P,i[T]=m<<24|b<<16|L-o|0}}return N!==0&&(i[L+N]=c-v<<24|64<<16|0),s.bits=m,0};var Av=W_e;const V_e=0,EG=1,NG=2,{Z_FINISH:RF,Z_BLOCK:K_e,Z_TREES:gb,Z_OK:Uh,Z_STREAM_END:G_e,Z_NEED_DICT:Y_e,Z_STREAM_ERROR:hl,Z_DATA_ERROR:AG,Z_MEM_ERROR:kG,Z_BUF_ERROR:X_e,Z_DEFLATED:jF}=wG,M2=16180,IF=16181,LF=16182,DF=16183,FF=16184,BF=16185,$F=16186,zF=16187,qF=16188,UF=16189,wx=16190,Cu=16191,h5=16192,HF=16193,p5=16194,WF=16195,VF=16196,KF=16197,GF=16198,vb=16199,yb=16200,YF=16201,XF=16202,QF=16203,JF=16204,ZF=16205,m5=16206,eB=16207,tB=16208,li=16209,CG=16210,TG=16211,Q_e=852,J_e=592,Z_e=15,eEe=Z_e,nB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function tEe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const np=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<M2||e.mode>TG?1:0},OG=t=>{if(np(t))return hl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=M2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Q_e),e.distcode=e.distdyn=new Int32Array(J_e),e.sane=1,e.back=-1,Uh},MG=t=>{if(np(t))return hl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,OG(t)},PG=(t,e)=>{let n;if(np(t))return hl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,MG(t))},RG=(t,e)=>{if(!t)return hl;const n=new tEe;t.state=n,n.strm=t,n.window=null,n.mode=M2;const r=PG(t,e);return r!==Uh&&(t.state=null),r},nEe=t=>RG(t,eEe);let rB=!0,g5,v5;const rEe=t=>{if(rB){g5=new Int32Array(512),v5=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Av(EG,t.lens,0,288,g5,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Av(NG,t.lens,0,32,v5,0,t.work,{bits:5}),rB=!1}t.lencode=g5,t.lenbits=9,t.distcode=v5,t.distbits=5},jG=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},iEe=(t,e)=>{let n,r,i,o,a,s,l,c,u,f,g,m,b,v,y=0,w,N,k,A,T,P,L,C;const M=new Uint8Array(4);let q,D;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(np(t)||!t.output||!t.input&&t.avail_in!==0)return hl;n=t.state,n.mode===Cu&&(n.mode=h5),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,c=n.hold,u=n.bits,f=s,g=l,C=Uh;e:for(;;)switch(n.mode){case M2:if(n.wrap===0){n.mode=h5;break}for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=c&255,M[1]=c>>>8&255,n.check=Ac(n.check,M,2,0),c=0,u=0,n.mode=IF;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=li;break}if((c&15)!==jF){t.msg="unknown compression method",n.mode=li;break}if(c>>>=4,u-=4,L=(c&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){t.msg="invalid window size",n.mode=li;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?UF:Cu,c=0,u=0;break;case IF:for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==jF){t.msg="unknown compression method",n.mode=li;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=li;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(M[0]=c&255,M[1]=c>>>8&255,n.check=Ac(n.check,M,2,0)),c=0,u=0,n.mode=LF;case LF:for(;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(M[0]=c&255,M[1]=c>>>8&255,M[2]=c>>>16&255,M[3]=c>>>24&255,n.check=Ac(n.check,M,4,0)),c=0,u=0,n.mode=DF;case DF:for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(M[0]=c&255,M[1]=c>>>8&255,n.check=Ac(n.check,M,2,0)),c=0,u=0,n.mode=FF;case FF:if(n.flags&1024){for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(M[0]=c&255,M[1]=c>>>8&255,n.check=Ac(n.check,M,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=BF;case BF:if(n.flags&1024&&(m=n.length,m>s&&(m=s),m&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+m),L)),n.flags&512&&n.wrap&4&&(n.check=Ac(n.check,r,m,o)),s-=m,o+=m,n.length-=m),n.length))break e;n.length=0,n.mode=$F;case $F:if(n.flags&2048){if(s===0)break e;m=0;do L=r[o+m++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&m<s);if(n.flags&512&&n.wrap&4&&(n.check=Ac(n.check,r,m,o)),s-=m,o+=m,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=zF;case zF:if(n.flags&4096){if(s===0)break e;m=0;do L=r[o+m++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&m<s);if(n.flags&512&&n.wrap&4&&(n.check=Ac(n.check,r,m,o)),s-=m,o+=m,L)break e}else n.head&&(n.head.comment=null);n.mode=qF;case qF:if(n.flags&512){for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=li;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Cu;break;case UF:for(;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}t.adler=n.check=nB(c),c=0,u=0,n.mode=wx;case wx:if(n.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=c,n.bits=u,Y_e;t.adler=n.check=1,n.mode=Cu;case Cu:if(e===K_e||e===gb)break e;case h5:if(n.last){c>>>=u&7,u-=u&7,n.mode=m5;break}for(;u<3;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=HF;break;case 1:if(rEe(n),n.mode=vb,e===gb){c>>>=2,u-=2;break e}break;case 2:n.mode=VF;break;case 3:t.msg="invalid block type",n.mode=li}c>>>=2,u-=2;break;case HF:for(c>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=li;break}if(n.length=c&65535,c=0,u=0,n.mode=p5,e===gb)break e;case p5:n.mode=WF;case WF:if(m=n.length,m){if(m>s&&(m=s),m>l&&(m=l),m===0)break e;i.set(r.subarray(o,o+m),a),s-=m,o+=m,l-=m,a+=m,n.length-=m;break}n.mode=Cu;break;case VF:for(;u<14;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=li;break}n.have=0,n.mode=KF;case KF:for(;n.have<n.ncode;){for(;u<3;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.lens[I[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},C=Av(V_e,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,C){t.msg="invalid code lengths set",n.mode=li;break}n.have=0,n.mode=GF;case GF:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],w=y>>>24,N=y>>>16&255,k=y&65535,!(w<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(k<16)c>>>=w,u-=w,n.lens[n.have++]=k;else{if(k===16){for(D=w+2;u<D;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=w,u-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=li;break}L=n.lens[n.have-1],m=3+(c&3),c>>>=2,u-=2}else if(k===17){for(D=w+3;u<D;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=w,u-=w,L=0,m=3+(c&7),c>>>=3,u-=3}else{for(D=w+7;u<D;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=w,u-=w,L=0,m=11+(c&127),c>>>=7,u-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=li;break}for(;m--;)n.lens[n.have++]=L}}if(n.mode===li)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=li;break}if(n.lenbits=9,q={bits:n.lenbits},C=Av(EG,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,C){t.msg="invalid literal/lengths set",n.mode=li;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},C=Av(NG,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,C){t.msg="invalid distances set",n.mode=li;break}if(n.mode=vb,e===gb)break e;case vb:n.mode=yb;case yb:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=c,n.bits=u,$_e(t,g),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,c=n.hold,u=n.bits,n.mode===Cu&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],w=y>>>24,N=y>>>16&255,k=y&65535,!(w<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(N&&(N&240)===0){for(A=w,T=N,P=k;y=n.lencode[P+((c&(1<<A+T)-1)>>A)],w=y>>>24,N=y>>>16&255,k=y&65535,!(A+w<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=w,u-=w,n.back+=w,n.length=k,N===0){n.mode=ZF;break}if(N&32){n.back=-1,n.mode=Cu;break}if(N&64){t.msg="invalid literal/length code",n.mode=li;break}n.extra=N&15,n.mode=YF;case YF:if(n.extra){for(D=n.extra;u<D;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=XF;case XF:for(;y=n.distcode[c&(1<<n.distbits)-1],w=y>>>24,N=y>>>16&255,k=y&65535,!(w<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if((N&240)===0){for(A=w,T=N,P=k;y=n.distcode[P+((c&(1<<A+T)-1)>>A)],w=y>>>24,N=y>>>16&255,k=y&65535,!(A+w<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=A,u-=A,n.back+=A}if(c>>>=w,u-=w,n.back+=w,N&64){t.msg="invalid distance code",n.mode=li;break}n.offset=k,n.extra=N&15,n.mode=QF;case QF:if(n.extra){for(D=n.extra;u<D;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=li;break}n.mode=JF;case JF:if(l===0)break e;if(m=g-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=li;break}m>n.wnext?(m-=n.wnext,b=n.wsize-m):b=n.wnext-m,m>n.length&&(m=n.length),v=n.window}else v=i,b=a-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[a++]=v[b++];while(--m);n.length===0&&(n.mode=yb);break;case ZF:if(l===0)break e;i[a++]=n.length,l--,n.mode=yb;break;case m5:if(n.wrap){for(;u<32;){if(s===0)break e;s--,c|=r[o++]<<u,u+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Ac(n.check,i,g,a-g):hT(n.check,i,g,a-g)),g=l,n.wrap&4&&(n.flags?c:nB(c))!==n.check){t.msg="incorrect data check",n.mode=li;break}c=0,u=0}n.mode=eB;case eB:if(n.wrap&&n.flags){for(;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=li;break}c=0,u=0}n.mode=tB;case tB:C=G_e;break e;case li:C=AG;break e;case CG:return kG;case TG:default:return hl}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=c,n.bits=u,(n.wsize||g!==t.avail_out&&n.mode<li&&(n.mode<m5||e!==RF))&&jG(t,t.output,t.next_out,g-t.avail_out),f-=t.avail_in,g-=t.avail_out,t.total_in+=f,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Ac(n.check,i,g,t.next_out-g):hT(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Cu?128:0)+(n.mode===vb||n.mode===p5?256:0),(f===0&&g===0||e===RF)&&C===Uh&&(C=X_e),C},oEe=t=>{if(np(t))return hl;let e=t.state;return e.window&&(e.window=null),t.state=null,Uh},aEe=(t,e)=>{if(np(t))return hl;const n=t.state;return(n.wrap&2)===0?hl:(n.head=e,e.done=!1,Uh)},sEe=(t,e)=>{const n=e.length;let r,i,o;return np(t)||(r=t.state,r.wrap!==0&&r.mode!==wx)?hl:r.mode===wx&&(i=1,i=hT(i,e,n,0),i!==r.check)?AG:(o=jG(t,e,n,n),o?(r.mode=CG,kG):(r.havedict=1,Uh))};var lEe=MG,cEe=PG,uEe=OG,dEe=nEe,fEe=RG,hEe=iEe,pEe=oEe,mEe=aEe,gEe=sEe,vEe="pako inflate (from Nodeca project)",Lu={inflateReset:lEe,inflateReset2:cEe,inflateResetKeep:uEe,inflateInit:dEe,inflateInit2:fEe,inflate:hEe,inflateEnd:pEe,inflateGetHeader:mEe,inflateSetDictionary:gEe,inflateInfo:vEe};function yEe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bEe=yEe;const IG=Object.prototype.toString,{Z_NO_FLUSH:xEe,Z_FINISH:wEe,Z_OK:ky,Z_STREAM_END:y5,Z_NEED_DICT:b5,Z_STREAM_ERROR:SEe,Z_DATA_ERROR:iB,Z_MEM_ERROR:_Ee}=wG;function o0(t){this.options=SG.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F_e,this.strm.avail_out=0;let n=Lu.inflateInit2(this.strm,e.windowBits);if(n!==ky)throw new Error(pT[n]);if(this.header=new bEe,Lu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=mT.string2buf(e.dictionary):IG.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Lu.inflateSetDictionary(this.strm,e.dictionary),n!==ky)))throw new Error(pT[n])}o0.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?wEe:xEe,IG.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Lu.inflate(n,a),o===b5&&i&&(o=Lu.inflateSetDictionary(n,i),o===ky?o=Lu.inflate(n,a):o===iB&&(o=b5));n.avail_in>0&&o===y5&&n.state.wrap>0&&t[n.next_in]!==0;)Lu.inflateReset(n),o=Lu.inflate(n,a);switch(o){case SEe:case iB:case b5:case _Ee:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||o===y5))if(this.options.to==="string"){let l=mT.utf8border(n.output,n.next_out),c=n.next_out-l,u=mT.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===ky&&s===0)){if(o===y5)return o=Lu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};o0.prototype.onData=function(t){this.chunks.push(t)};o0.prototype.onEnd=function(t){t===ky&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=SG.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function EEe(t,e){const n=new o0(e);if(n.push(t),n.err)throw n.msg||pT[n.err];return n.result}var NEe=o0,AEe=EEe,kEe={Inflate:NEe,inflate:AEe};const{Inflate:CEe,inflate:TEe}=kEe;var oB=CEe,OEe=TEe;const LG=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;LG[t]=e}const aB=4294967295;function MEe(t,e,n){let r=t;for(let i=0;i<n;i++)r=LG[(r^e[i])&255]^r>>>8;return r}function PEe(t,e){return(MEe(aB,t,e)^aB)>>>0}function sB(t,e,n){const r=t.readUint32(),i=PEe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function DG(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function FG(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function BG(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function $G(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function zG(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+REe(e[o-i],n[o],n[o-i])&255}}function REe(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n}function jEe(t,e,n,r,i,o){switch(t){case 0:DG(e,n,i);break;case 1:FG(e,n,i,o);break;case 2:BG(e,n,r,i);break;case 3:$G(e,n,r,i,o);break;case 4:zG(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const IEe=new Uint16Array([255]),LEe=new Uint8Array(IEe.buffer),DEe=LEe[0]===255;function FEe(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(o/8)*i,l=new Uint8Array(r*n*s);let c=0;for(let u=0;u<7;u++){const f=a[u],g=Math.ceil((n-f.x)/f.xStep),m=Math.ceil((r-f.y)/f.yStep);if(g<=0||m<=0)continue;const b=g*s,v=new Uint8Array(b);for(let y=0;y<m;y++){const w=e[c++],N=e.subarray(c,c+b);c+=b;const k=new Uint8Array(b);jEe(w,N,k,v,b,s),v.set(k);for(let A=0;A<g;A++){const T=f.x+A*f.xStep,P=f.y+y*f.yStep;if(!(T>=n||P>=r))for(let L=0;L<s;L++)l[(P*n+T)*s+L]=k[A*s+L]}}}if(o===16){const u=new Uint16Array(l.buffer);if(DEe)for(let f=0;f<u.length;f++)u[f]=BEe(u[f]);return u}else return l}function BEe(t){return(t&255)<<8|t>>8&255}const $Ee=new Uint16Array([255]),zEe=new Uint8Array($Ee.buffer),qEe=zEe[0]===255,UEe=new Uint8Array(0);function lB(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,a=Math.ceil(o/8)*i,s=Math.ceil(o/8*i*n),l=new Uint8Array(r*s);let c=UEe,u=0,f,g;for(let m=0;m<r;m++){switch(f=e.subarray(u+1,u+1+s),g=l.subarray(m*s,(m+1)*s),e[u]){case 0:DG(f,g,s);break;case 1:FG(f,g,s,a);break;case 2:BG(f,g,c,s);break;case 3:$G(f,g,c,s,a);break;case 4:zG(f,g,c,s,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=g,u+=s+1}if(o===16){const m=new Uint16Array(l.buffer);if(qEe)for(let b=0;b<m.length;b++)m[b]=HEe(m[b]);return m}else return l}function HEe(t){return(t&255)<<8|t>>8&255}const e1=Uint8Array.of(137,80,78,71,13,10,26,10);function cB(t){if(!WEe(t.readBytes(e1.length)))throw new Error("wrong PNG signature")}function WEe(t){if(t.length<e1.length)return!1;for(let e=0;e<e1.length;e++)if(t[e]!==e1[e])return!1;return!0}const VEe="tEXt",KEe=0,qG=new TextDecoder("latin1");function GEe(t){if(XEe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const YEe=/^[\u0000-\u00FF]*$/;function XEe(t){if(!YEe.test(t))throw new Error("invalid latin1 text")}function QEe(t,e,n){const r=UG(e);t[r]=JEe(e,n-r.length-1)}function UG(t){for(t.mark();t.readByte()!==KEe;);const e=t.offset;t.reset();const n=qG.decode(t.readBytes(e-t.offset-1));return t.skip(1),GEe(n),n}function JEe(t,e){return qG.decode(t.readBytes(e))}const ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},x5={UNKNOWN:-1,DEFLATE:0},uB={UNKNOWN:-1,ADAPTIVE:0},w5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},bb={NONE:0,BACKGROUND:1,PREVIOUS:2},S5={SOURCE:0,OVER:1};class ZEe extends bP{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new oB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=x5.UNKNOWN,this._filterMethod=uB.UNKNOWN,this._interlaceMethod=w5.UNKNOWN,this._colorType=ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(cB(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(cB(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case VEe:QEe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?sB(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?sB(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=eNe(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case ws.GREYSCALE:r=1;break;case ws.TRUECOLOUR:r=3;break;case ws.INDEXED_COLOUR:r=1;break;case ws.GREYSCALE_ALPHA:r=2;break;case ws.TRUECOLOUR_ALPHA:r=4;break;case ws.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==x5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ws.GREYSCALE:case ws.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case ws.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ws.UNKNOWN:case ws.GREYSCALE_ALPHA:case ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=UG(this),r=this.readUint8();if(r!==x5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:OEe(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=lB({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case bb.NONE:break;case bb.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const a=(i*e.width+o)*this._png.channels;for(let s=0;s<this._png.channels;s++)r.data[a+s]=0}break;case bb.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(o,a)=>{const s=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,l=(o*n.width+a)*this._png.channels;return{index:s,frameIndex:l}};switch(n.blendOp){case S5.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:s,frameIndex:l}=i(o,a);for(let c=0;c<this._png.channels;c++)e.data[s+c]=n.data[l+c]}break;case S5.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:s,frameIndex:l}=i(o,a);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/r,f=c%(this._png.channels-1)===0?1:n.data[l+c],g=Math.floor(u*f+(1-u)*e.data[s+c]);e.data[s+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==uB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===w5.NO_INTERLACE)this._png.data=lB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===w5.ADAM7)this._png.data=FEe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:bb.NONE,blendOp:S5.SOURCE,data:e}),this._inflator=new oB,this._writingDataChunks=!1}}function eNe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var dB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(dB||(dB={}));function tNe(t,e){return new ZEe(t,e).decode()}var Sn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function _5(){Sn.console&&typeof Sn.console.log=="function"&&Sn.console.log.apply(Sn.console,arguments)}var jr={log:_5,warn:function(t){Sn.console&&(typeof Sn.console.warn=="function"?Sn.console.warn.apply(Sn.console,arguments):_5.call(null,arguments))},error:function(t){Sn.console&&(typeof Sn.console.error=="function"?Sn.console.error.apply(Sn.console,arguments):_5(t))}};function E5(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ah(r.response,e,n)},r.onerror=function(){jr.error("could not download file")},r.send()}function fB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ah=Sn.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==Sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Sn.URL||Sn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?fB(i.href)?E5(t,e,n):xb(i,i.target="_blank"):xb(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){xb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(fB(t))E5(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){xb(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Ar(o)!=="object"&&(jr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return E5(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Sn.HTMLElement)||Sn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var u=s.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},s.readAsDataURL(t)}else{var l=Sn.URL||Sn.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HG(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(t);a&&(e=o(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}var t1=Sn.atob.bind(Sn),hB=Sn.btoa.bind(Sn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function N5(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=sa(n,r,i,o,e[0],7,-680876936),o=sa(o,n,r,i,e[1],12,-389564586),i=sa(i,o,n,r,e[2],17,606105819),r=sa(r,i,o,n,e[3],22,-1044525330),n=sa(n,r,i,o,e[4],7,-176418897),o=sa(o,n,r,i,e[5],12,1200080426),i=sa(i,o,n,r,e[6],17,-1473231341),r=sa(r,i,o,n,e[7],22,-45705983),n=sa(n,r,i,o,e[8],7,1770035416),o=sa(o,n,r,i,e[9],12,-1958414417),i=sa(i,o,n,r,e[10],17,-42063),r=sa(r,i,o,n,e[11],22,-1990404162),n=sa(n,r,i,o,e[12],7,1804603682),o=sa(o,n,r,i,e[13],12,-40341101),i=sa(i,o,n,r,e[14],17,-1502002290),n=la(n,r=sa(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=la(o,n,r,i,e[6],9,-1069501632),i=la(i,o,n,r,e[11],14,643717713),r=la(r,i,o,n,e[0],20,-373897302),n=la(n,r,i,o,e[5],5,-701558691),o=la(o,n,r,i,e[10],9,38016083),i=la(i,o,n,r,e[15],14,-660478335),r=la(r,i,o,n,e[4],20,-405537848),n=la(n,r,i,o,e[9],5,568446438),o=la(o,n,r,i,e[14],9,-1019803690),i=la(i,o,n,r,e[3],14,-187363961),r=la(r,i,o,n,e[8],20,1163531501),n=la(n,r,i,o,e[13],5,-1444681467),o=la(o,n,r,i,e[2],9,-51403784),i=la(i,o,n,r,e[7],14,1735328473),n=ca(n,r=la(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=ca(o,n,r,i,e[8],11,-2022574463),i=ca(i,o,n,r,e[11],16,1839030562),r=ca(r,i,o,n,e[14],23,-35309556),n=ca(n,r,i,o,e[1],4,-1530992060),o=ca(o,n,r,i,e[4],11,1272893353),i=ca(i,o,n,r,e[7],16,-155497632),r=ca(r,i,o,n,e[10],23,-1094730640),n=ca(n,r,i,o,e[13],4,681279174),o=ca(o,n,r,i,e[0],11,-358537222),i=ca(i,o,n,r,e[3],16,-722521979),r=ca(r,i,o,n,e[6],23,76029189),n=ca(n,r,i,o,e[9],4,-640364487),o=ca(o,n,r,i,e[12],11,-421815835),i=ca(i,o,n,r,e[15],16,530742520),n=ua(n,r=ca(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=ua(o,n,r,i,e[7],10,1126891415),i=ua(i,o,n,r,e[14],15,-1416354905),r=ua(r,i,o,n,e[5],21,-57434055),n=ua(n,r,i,o,e[12],6,1700485571),o=ua(o,n,r,i,e[3],10,-1894986606),i=ua(i,o,n,r,e[10],15,-1051523),r=ua(r,i,o,n,e[1],21,-2054922799),n=ua(n,r,i,o,e[8],6,1873313359),o=ua(o,n,r,i,e[15],10,-30611744),i=ua(i,o,n,r,e[6],15,-1560198380),r=ua(r,i,o,n,e[13],21,1309151649),n=ua(n,r,i,o,e[4],6,-145523070),o=ua(o,n,r,i,e[11],10,-1120210379),i=ua(i,o,n,r,e[2],15,718787259),r=ua(r,i,o,n,e[9],21,-343485551),t[0]=Qd(n,t[0]),t[1]=Qd(r,t[1]),t[2]=Qd(i,t[2]),t[3]=Qd(o,t[3])}function P2(t,e,n,r,i,o){return e=Qd(Qd(e,t),Qd(r,o)),Qd(e<<i|e>>>32-i,n)}function sa(t,e,n,r,i,o,a){return P2(e&n|~e&r,t,e,i,o,a)}function la(t,e,n,r,i,o,a){return P2(e&r|n&~r,t,e,i,o,a)}function ca(t,e,n,r,i,o,a){return P2(e^n^r,t,e,i,o,a)}function ua(t,e,n,r,i,o,a){return P2(n^(e|~r),t,e,i,o,a)}function WG(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)N5(r,nNe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(N5(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,N5(r,i),r}function nNe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var pB="0123456789abcdef".split("");function rNe(t){for(var e="",n=0;n<4;n++)e+=pB[t>>8*n+4&15]+pB[t>>8*n&15];return e}function iNe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function gT(t){return WG(t).map(iNe).join("")}var oNe=(function(t){for(var e=0;e<t.length;e++)t[e]=rNe(t[e]);return t.join("")})(WG("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qd(t,e){if(oNe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vT(t,e){var n,r,i,o;if(t!==n){for(var a=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+a.charCodeAt(l))%256,s[l]=s[c],s[c]=u}n=t,r=s}else s=r;var f=e.length,g=0,m=0,b="";for(l=0;l<f;l++)m=(m+(u=s[g=(g+1)%256]))%256,s[g]=s[m],s[m]=u,a=s[(s[g]+s[m])%256],b+=String.fromCharCode(e.charCodeAt(l)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mB={print:4,modify:8,copy:16,"annot-forms":32};function Hp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(mB.perm!==void 0)throw new Error("Invalid permission: "+s);i+=mB[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=gT(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=vT(this.encryptionKey,this.padding)}function Wp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function gB(t){if(Ar(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var a=e[n][o];try{a[0].apply(t,r)}catch(s){Sn.console&&jr.error("jsPDF PubSub Error",s.message,s)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sx(t){if(!(this instanceof Sx))return new Sx(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function VG(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function lh(t,e,n,r,i){if(!(this instanceof lh))return new lh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,VG.call(this,r,i)}function tm(t,e,n,r,i){if(!(this instanceof tm))return new tm(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,VG.call(this,r,i)}function Zt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],a=[],s=1,l=16,c="S",u=null;Ar(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(o===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=gB;var b="1.3",v=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(R){b=R};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var w=m.__private__.getPageFormat=function(R){return y[R]};i=i||"a4";var N="compat",k="advanced",A=N;function T(){this.saveGraphicsState(),se(new ht(Gt,0,0,-Gt,0,Va()*Gt).toString()+" cm"),this.setFontSize(this.getFontSize()/Gt),c="n",A=k}function P(){this.restoreGraphicsState(),c="S",A=N}var L=m.__private__.combineFontStyleAndFontWeight=function(R,J){if(R=="bold"&&J=="normal"||R=="bold"&&J==400||R=="normal"&&J=="italic"||R=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(R=J==400||J==="normal"?R==="italic"?"italic":"normal":J!=700&&J!=="bold"||R!=="normal"?(J==700?"bold":J)+""+R:"bold"),R};m.advancedAPI=function(R){var J=A===N;return J&&T.call(this),typeof R!="function"||(R(this),J&&P.call(this)),this},m.compatAPI=function(R){var J=A===k;return J&&P.call(this),typeof R!="function"||(R(this),J&&T.call(this)),this},m.isAdvancedAPI=function(){return A===k};var C,M=function(R){if(A!==k)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=m.roundToPrecision=m.__private__.roundToPrecision=function(R,J){var pe=e||J;if(isNaN(R)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(pe).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf=typeof l=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return q(R,l)}:l==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return q(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return q(R,16)};var D=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return q(R,2)},I=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return q(R,3)},z=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return A===N?R*Gt:A===k?R:void 0},U=function(R){return z((function(J){return A===N?Va()-J:A===k?J:void 0})(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var Y,ne="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return ne},G=m.__private__.setFileId=function(R){return ne=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Kr=new Hp(u.userPermissions,u.userPassword,u.ownerPassword,ne)),ne};m.setFileId=function(R){return G(R),this},m.getFileId=function(){return W()};var K=m.__private__.convertDateToPDFDate=function(R){var J=R.getTimezoneOffset(),pe=J<0?"+":"-",we=Math.floor(Math.abs(J/60)),Te=Math.abs(J%60),Ue=[pe,ee(we),"'",ee(Te),"'"].join("");return["D:",R.getFullYear(),ee(R.getMonth()+1),ee(R.getDate()),ee(R.getHours()),ee(R.getMinutes()),ee(R.getSeconds()),Ue].join("")},fe=m.__private__.convertPDFDateToDate=function(R){var J=parseInt(R.substr(2,4),10),pe=parseInt(R.substr(6,2),10)-1,we=parseInt(R.substr(8,2),10),Te=parseInt(R.substr(10,2),10),Ue=parseInt(R.substr(12,2),10),Xe=parseInt(R.substr(14,2),10);return new Date(J,pe,we,Te,Ue,Xe,0)},X=m.__private__.setCreationDate=function(R){var J;if(R===void 0&&(R=new Date),R instanceof Date)J=K(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=R}return Y=J},F=m.__private__.getCreationDate=function(R){var J=Y;return R==="jsDate"&&(J=fe(Y)),J};m.setCreationDate=function(R){return X(R),this},m.getCreationDate=function(R){return F(R)};var V,ee=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ie=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},ue=0,he=[],me=[],le=0,be=[],Se=[],xe=!1,Le=me;m.__private__.setCustomOutputDestination=function(R){xe=!0,Le=R};var Ne=function(R){xe||(Le=R)};m.__private__.resetCustomOutputDestination=function(){xe=!1,Le=me};var se=m.__private__.out=function(R){return R=R.toString(),le+=R.length+1,Le.push(R),Le},ze=m.__private__.write=function(R){return se(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},st=m.__private__.getArrayBuffer=function(R){for(var J=R.length,pe=new ArrayBuffer(J),we=new Uint8Array(pe);J--;)we[J]=R.charCodeAt(J);return pe},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ge};var Fe=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return Fe=A===k?R/Gt:R,this};var lt,Ze=m.__private__.getFontSize=m.getFontSize=function(){return A===N?Fe:Fe*Gt},Et=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return Et=R,this},m.__private__.getR2L=m.getR2L=function(){return Et};var St,It=m.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))lt=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');lt=R}else lt=parseInt(R,10)};m.__private__.getZoomMode=function(){return lt};var Tt,xt=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');St=R};m.__private__.getPageMode=function(){return St};var rn=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Tt=R};m.__private__.getLayoutMode=function(){return Tt},m.__private__.setDisplayMode=m.setDisplayMode=function(R,J,pe){return It(R),rn(J),xt(pe),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(Lt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[R]},m.__private__.getDocumentProperties=function(){return Lt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var J in Lt)Lt.hasOwnProperty(J)&&R[J]&&(Lt[J]=R[J]);return this},m.__private__.setDocumentProperty=function(R,J){if(Object.keys(Lt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[R]=J};var Mt,Gt,wt,_n,Cn,At={},mn={},Gn=[],Jt={},En={},un={},ur={},ye=null,tt=0,yt=[],ge=new gB(m),qe=t.hotfixes||[],nt={},Xt={},Ln=[],ht=function R(J,pe,we,Te,Ue,Xe){if(!(this instanceof R))return new R(J,pe,we,Te,Ue,Xe);isNaN(J)&&(J=1),isNaN(pe)&&(pe=0),isNaN(we)&&(we=0),isNaN(Te)&&(Te=1),isNaN(Ue)&&(Ue=0),isNaN(Xe)&&(Xe=0),this._matrix=[J,pe,we,Te,Ue,Xe]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(R)},ht.prototype.multiply=function(R){var J=R.sx*this.sx+R.shy*this.shx,pe=R.sx*this.shy+R.shy*this.sy,we=R.shx*this.sx+R.sy*this.shx,Te=R.shx*this.shy+R.sy*this.sy,Ue=R.tx*this.sx+R.ty*this.shx+this.tx,Xe=R.tx*this.shy+R.ty*this.sy+this.ty;return new ht(J,pe,we,Te,Ue,Xe)},ht.prototype.decompose=function(){var R=this.sx,J=this.shy,pe=this.shx,we=this.sy,Te=this.tx,Ue=this.ty,Xe=Math.sqrt(R*R+J*J),Dt=(R/=Xe)*pe+(J/=Xe)*we;pe-=R*Dt,we-=J*Dt;var Wt=Math.sqrt(pe*pe+we*we);return Dt/=Wt,R*(we/=Wt)<J*(pe/=Wt)&&(R=-R,J=-J,Dt=-Dt,Xe=-Xe),{scale:new ht(Xe,0,0,Wt,0,0),translate:new ht(1,0,0,1,Te,Ue),rotate:new ht(R,J,-J,R,0,0),skew:new ht(1,0,Dt,1,0,0)}},ht.prototype.toString=function(R){return this.join(" ")},ht.prototype.inversed=function(){var R=this.sx,J=this.shy,pe=this.shx,we=this.sy,Te=this.tx,Ue=this.ty,Xe=1/(R*we-J*pe),Dt=we*Xe,Wt=-J*Xe,bn=-pe*Xe,xn=R*Xe;return new ht(Dt,Wt,bn,xn,-Dt*Te-bn*Ue,-Wt*Te-xn*Ue)},ht.prototype.applyToPoint=function(R){var J=R.x*this.sx+R.y*this.shx+this.tx,pe=R.x*this.shy+R.y*this.sy+this.ty;return new Bs(J,pe)},ht.prototype.applyToRectangle=function(R){var J=this.applyToPoint(R),pe=this.applyToPoint(new Bs(R.x+R.w,R.y+R.h));return new tu(J.x,J.y,pe.x-J.x,pe.y-J.y)},ht.prototype.clone=function(){var R=this.sx,J=this.shy,pe=this.shx,we=this.sy,Te=this.tx,Ue=this.ty;return new ht(R,J,pe,we,Te,Ue)},m.Matrix=ht;var ct=m.matrixMult=function(R,J){return J.multiply(R)},ft=new ht(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ft;var Pt=function(R,J){if(!En[R]){var pe=(J instanceof lh?"Sh":"P")+(Object.keys(Jt).length+1).toString(10);J.id=pe,En[R]=pe,Jt[pe]=J,ge.publish("addPattern",J)}};m.ShadingPattern=lh,m.TilingPattern=tm,m.addShadingPattern=function(R,J){return M("addShadingPattern()"),Pt(R,J),this},m.beginTilingPattern=function(R){M("beginTilingPattern()"),Ua(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,J){M("endTilingPattern()"),J.stream=Se[V].join(`
`),Pt(R,J),ge.publish("endTilingPattern",J),Ln.pop().restore()};var Kn,dn=m.__private__.newObject=function(){var R=yr();return Br(R,!0),R},yr=m.__private__.newObjectDeferred=function(){return ue++,he[ue]=function(){return le},ue},Br=function(R,J){return J=typeof J=="boolean"&&J,he[R]=le,J&&se(R+" 0 obj"),R},wa=m.__private__.newAdditionalObject=function(){var R={objId:yr(),content:""};return be.push(R),R},Rs=yr(),jo=yr(),$a=m.__private__.decodeColorString=function(R){var J=R.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var pe=parseFloat(J[0]);J=[pe,pe,pe,"r"]}for(var we="#",Te=0;Te<3;Te++)we+=("0"+Math.floor(255*parseFloat(J[Te])).toString(16)).slice(-2);return we},Mi=m.__private__.encodeColorString=function(R){var J;typeof R=="string"&&(R={ch1:R});var pe=R.ch1,we=R.ch2,Te=R.ch3,Ue=R.ch4,Xe=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var Dt=new HG(pe);if(Dt.ok)pe=Dt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Wt=parseInt(pe.substr(1),16);pe=Wt>>16&255,we=Wt>>8&255,Te=255&Wt}if(we===void 0||Ue===void 0&&pe===we&&we===Te)J=typeof pe=="string"?pe+" "+Xe[0]:R.precision===2?D(pe/255)+" "+Xe[0]:I(pe/255)+" "+Xe[0];else if(Ue===void 0||Ar(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",Xe[1]].join(" ");J=typeof pe=="string"?[pe,we,Te,Xe[1]].join(" "):R.precision===2?[D(pe/255),D(we/255),D(Te/255),Xe[1]].join(" "):[I(pe/255),I(we/255),I(Te/255),Xe[1]].join(" ")}else J=typeof pe=="string"?[pe,we,Te,Ue,Xe[2]].join(" "):R.precision===2?[D(pe),D(we),D(Te),D(Ue),Xe[2]].join(" "):[I(pe),I(we),I(Te),I(Ue),Xe[2]].join(" ");return J},Yo=m.__private__.getFilters=function(){return a},go=m.__private__.putStream=function(R){var J=(R=R||{}).data||"",pe=R.filters||Yo(),we=R.alreadyAppliedFilters||[],Te=R.addLength1||!1,Ue=J.length,Xe=R.objectId,Dt=function(Pi){return Pi};if(u!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Dt=Kr.encryptor(Xe,0));var Wt={};pe===!0&&(pe=["FlateEncode"]);var bn=R.additionalKeyValues||[],xn=(Wt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(J,pe):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Wt.data.length!==0&&(bn.push({key:"Length",value:Wt.data.length}),Te===!0&&bn.push({key:"Length1",value:Ue})),xn.length!=0)if(xn.split("/").length-1==1)bn.push({key:"Filter",value:xn});else{bn.push({key:"Filter",value:"["+xn+"]"});for(var Qn=0;Qn<bn.length;Qn+=1)if(bn[Qn].key==="DecodeParms"){for(var Yr=[],bi=0;bi<Wt.reverseChain.split("/").length-1;bi+=1)Yr.push("null");Yr.push(bn[Qn].value),bn[Qn].value="["+Yr.join(" ")+"]"}}se("<<");for(var kr=0;kr<bn.length;kr++)se("/"+bn[kr].key+" "+bn[kr].value);se(">>"),Wt.data.length!==0&&(se("stream"),se(Dt(Wt.data)),se("endstream"))},za=m.__private__.putPage=function(R){var J=R.number,pe=R.data,we=R.objId,Te=R.contentsObjId;Br(we,!0),se("<</Type /Page"),se("/Parent "+R.rootDictionaryObjId+" 0 R"),se("/Resources "+R.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(C(R.mediaBox.bottomLeftX))+" "+parseFloat(C(R.mediaBox.bottomLeftY))+" "+C(R.mediaBox.topRightX)+" "+C(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&se("/CropBox ["+C(R.cropBox.bottomLeftX)+" "+C(R.cropBox.bottomLeftY)+" "+C(R.cropBox.topRightX)+" "+C(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&se("/BleedBox ["+C(R.bleedBox.bottomLeftX)+" "+C(R.bleedBox.bottomLeftY)+" "+C(R.bleedBox.topRightX)+" "+C(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&se("/TrimBox ["+C(R.trimBox.bottomLeftX)+" "+C(R.trimBox.bottomLeftY)+" "+C(R.trimBox.topRightX)+" "+C(R.trimBox.topRightY)+"]"),R.artBox!==null&&se("/ArtBox ["+C(R.artBox.bottomLeftX)+" "+C(R.artBox.bottomLeftY)+" "+C(R.artBox.topRightX)+" "+C(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&se("/UserUnit "+R.userUnit),ge.publish("putPage",{objId:we,pageContext:yt[J],pageNumber:J,page:pe}),se("/Contents "+Te+" 0 R"),se(">>"),se("endobj");var Ue=pe.join(`
`);return A===k&&(Ue+=`
Q`),Br(Te,!0),go({data:Ue,filters:Yo(),objectId:Te}),se("endobj"),we},Sa=m.__private__.putPages=function(){var R,J,pe=[];for(R=1;R<=tt;R++)yt[R].objId=yr(),yt[R].contentsObjId=yr();for(R=1;R<=tt;R++)pe.push(za({number:R,data:Se[R],objId:yt[R].objId,contentsObjId:yt[R].contentsObjId,mediaBox:yt[R].mediaBox,cropBox:yt[R].cropBox,bleedBox:yt[R].bleedBox,trimBox:yt[R].trimBox,artBox:yt[R].artBox,userUnit:yt[R].userUnit,rootDictionaryObjId:Rs,resourceDictionaryObjId:jo}));Br(Rs,!0),se("<</Type /Pages");var we="/Kids [";for(J=0;J<tt;J++)we+=pe[J]+" 0 R ";se(we+"]"),se("/Count "+tt),se(">>"),se("endobj"),ge.publish("postPutPages")},js=function(R){ge.publish("putFont",{font:R,out:se,newObject:dn,putStream:go}),R.isAlreadyPutted!==!0&&(R.objectNumber=dn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Wp(R.postScriptName)),se("/Subtype /Type1"),typeof R.encoding=="string"&&se("/Encoding /"+R.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},vl=function(R){R.objectNumber=dn();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[C(R.x),C(R.y),C(R.x+R.width),C(R.y+R.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var pe=R.pages[1].join(`
`);go({data:pe,additionalKeyValues:J,objectId:R.objectNumber}),se("endobj")},vo=function(R,J){J||(J=21);var pe=dn(),we=(function(Xe,Dt){var Wt,bn=[],xn=1/(Dt-1);for(Wt=0;Wt<1;Wt+=xn)bn.push(Wt);if(bn.push(1),Xe[0].offset!=0){var Qn={offset:0,color:Xe[0].color};Xe.unshift(Qn)}if(Xe[Xe.length-1].offset!=1){var Yr={offset:1,color:Xe[Xe.length-1].color};Xe.push(Yr)}for(var bi="",kr=0,Pi=0;Pi<bn.length;Pi++){for(Wt=bn[Pi];Wt>Xe[kr+1].offset;)kr++;var di=Xe[kr].offset,io=(Wt-di)/(Xe[kr+1].offset-di),Ka=Xe[kr].color,Jo=Xe[kr+1].color;bi+=ie(Math.round((1-io)*Ka[0]+io*Jo[0]).toString(16))+ie(Math.round((1-io)*Ka[1]+io*Jo[1]).toString(16))+ie(Math.round((1-io)*Ka[2]+io*Jo[2]).toString(16))}return bi.trim()})(R.colors,J),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+J+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),go({data:we,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),se("endobj"),R.objectNumber=dn(),se("<< /ShadingType "+R.type),se("/ColorSpace /DeviceRGB");var Ue="/Coords ["+C(parseFloat(R.coords[0]))+" "+C(parseFloat(R.coords[1]))+" ";R.type===2?Ue+=C(parseFloat(R.coords[2]))+" "+C(parseFloat(R.coords[3])):Ue+=C(parseFloat(R.coords[2]))+" "+C(parseFloat(R.coords[3]))+" "+C(parseFloat(R.coords[4]))+" "+C(parseFloat(R.coords[5])),se(Ue+="]"),R.matrix&&se("/Matrix ["+R.matrix.toString()+"]"),se("/Function "+pe+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},yl=function(R,J){var pe=yr(),we=dn();J.push({resourcesOid:pe,objectOid:we}),R.objectNumber=we;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+R.boundingBox.map(C).join(" ")+"]"}),Te.push({key:"XStep",value:C(R.xStep)}),Te.push({key:"YStep",value:C(R.yStep)}),Te.push({key:"Resources",value:pe+" 0 R"}),R.matrix&&Te.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),go({data:R.stream,additionalKeyValues:Te,objectId:R.objectNumber}),se("endobj")},id=function(R){for(var J in R.objectNumber=dn(),se("<<"),R)switch(J){case"opacity":se("/ca "+D(R[J]));break;case"stroke-opacity":se("/CA "+D(R[J]))}se(">>"),se("endobj")},br=function(R){Br(R.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in se("/Font <<"),At)At.hasOwnProperty(J)&&(f===!1||f===!0&&g.hasOwnProperty(J))&&se("/"+J+" "+At[J].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(Jt).length>0){for(var J in se("/Shading <<"),Jt)Jt.hasOwnProperty(J)&&Jt[J]instanceof lh&&Jt[J].objectNumber>=0&&se("/"+J+" "+Jt[J].objectNumber+" 0 R");ge.publish("putShadingPatternDict"),se(">>")}})(),(function(J){if(Object.keys(Jt).length>0){for(var pe in se("/Pattern <<"),Jt)Jt.hasOwnProperty(pe)&&Jt[pe]instanceof m.TilingPattern&&Jt[pe].objectNumber>=0&&Jt[pe].objectNumber<J&&se("/"+pe+" "+Jt[pe].objectNumber+" 0 R");ge.publish("putTilingPatternDict"),se(">>")}})(R.objectOid),(function(){if(Object.keys(un).length>0){var J;for(J in se("/ExtGState <<"),un)un.hasOwnProperty(J)&&un[J].objectNumber>=0&&se("/"+J+" "+un[J].objectNumber+" 0 R");ge.publish("putGStateDict"),se(">>")}})(),(function(){for(var J in se("/XObject <<"),nt)nt.hasOwnProperty(J)&&nt[J].objectNumber>=0&&se("/"+J+" "+nt[J].objectNumber+" 0 R");ge.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},od=function(R){mn[R.fontName]=mn[R.fontName]||{},mn[R.fontName][R.fontStyle]=R.id},uc=function(R,J,pe,we,Te){var Ue={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:R,fontName:J,fontStyle:pe,encoding:we,isStandardFont:Te||!1,metadata:{}};return ge.publish("addFont",{font:Ue,instance:this}),At[Ue.id]=Ue,od(Ue),Ue.id},qi=m.__private__.pdfEscape=m.pdfEscape=function(R,J){return(function(pe,we){var Te,Ue,Xe,Dt,Wt,bn,xn,Qn,Yr;if(Xe=(we=we||{}).sourceEncoding||"Unicode",Wt=we.outputEncoding,(we.autoencode||Wt)&&At[Mt].metadata&&At[Mt].metadata[Xe]&&At[Mt].metadata[Xe].encoding&&(Dt=At[Mt].metadata[Xe].encoding,!Wt&&At[Mt].encoding&&(Wt=At[Mt].encoding),!Wt&&Dt.codePages&&(Wt=Dt.codePages[0]),typeof Wt=="string"&&(Wt=Dt[Wt]),Wt)){for(xn=!1,bn=[],Te=0,Ue=pe.length;Te<Ue;Te++)(Qn=Wt[pe.charCodeAt(Te)])?bn.push(String.fromCharCode(Qn)):bn.push(pe[Te]),bn[Te].charCodeAt(0)>>8&&(xn=!0);pe=bn.join("")}for(Te=pe.length;xn===void 0&&Te!==0;)pe.charCodeAt(Te-1)>>8&&(xn=!0),Te--;if(!xn)return pe;for(bn=we.noBOM?[]:[254,255],Te=0,Ue=pe.length;Te<Ue;Te++){if((Yr=(Qn=pe.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bn.push(Yr),bn.push(Qn-(Yr<<8))}return String.fromCharCode.apply(void 0,bn)})(R,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Is=m.__private__.beginPage=function(R){Se[++tt]=[],yt[tt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Nn(tt),Ne(Se[V])},it=function(R,J){var pe,we,Te;switch(n=J||n,typeof R=="string"&&(pe=w(R.toLowerCase()),Array.isArray(pe)&&(we=pe[0],Te=pe[1])),Array.isArray(R)&&(we=R[0]*Gt,Te=R[1]*Gt),isNaN(we)&&(we=i[0],Te=i[1]),(we>14400||Te>14400)&&(jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Te=Math.min(14400,Te)),i=[we,Te],n.substr(0,1)){case"l":Te>we&&(i=[Te,we]);break;case"p":we>Te&&(i=[Te,we])}Is(i),zr(ln),se(eu),Mf!==0&&se(Mf+" J"),Pf!==0&&se(Pf+" j"),ge.publish("addPage",{pageNumber:tt})},qt=function(R){R>0&&R<=tt&&(Se.splice(R,1),yt.splice(R,1),tt--,V>tt&&(V=tt),this.setPage(V))},Nn=function(R){R>0&&R<=tt&&(V=R)},jn=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Se.length-1},$r=function(R,J,pe){var we,Te=void 0;return pe=pe||{},R=R!==void 0?R:At[Mt].fontName,J=J!==void 0?J:At[Mt].fontStyle,we=R.toLowerCase(),mn[we]!==void 0&&mn[we][J]!==void 0?Te=mn[we][J]:mn[R]!==void 0&&mn[R][J]!==void 0?Te=mn[R][J]:pe.disableWarning===!1&&jr.warn("Unable to look up font label for font '"+R+"', '"+J+"'. Refer to getFontList() for available fonts."),Te||pe.noFallback||(Te=mn.times[J])==null&&(Te=mn.times.normal),Te},dr=m.__private__.putInfo=function(){var R=dn(),J=function(we){return we};for(var pe in u!==null&&(J=Kr.encryptor(R,0)),se("<<"),se("/Producer ("+qi(J("jsPDF "+Zt.version))+")"),Lt)Lt.hasOwnProperty(pe)&&Lt[pe]&&se("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+qi(J(Lt[pe]))+")");se("/CreationDate ("+qi(J(Y))+")"),se(">>"),se("endobj")},qa=m.__private__.putCatalog=function(R){var J=(R=R||{}).rootDictionaryObjId||Rs;switch(dn(),se("<<"),se("/Type /Catalog"),se("/Pages "+J+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+lt;pe.substr(pe.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+D(lt)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}St&&se("/PageMode /"+St),ge.publish("putCatalog"),se(">>"),se("endobj")},Pr=m.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ue+1)),se("/Root "+ue+" 0 R"),se("/Info "+(ue-1)+" 0 R"),u!==null&&se("/Encrypt "+Kr.oid+" 0 R"),se("/ID [ <"+ne+"> <"+ne+"> ]"),se(">>")},Ui=m.__private__.putHeader=function(){se("%PDF-"+b),se("%")},Hi=m.__private__.putXRef=function(){var R="0000000000";se("xref"),se("0 "+(ue+1)),se("0000000000 65535 f ");for(var J=1;J<=ue;J++)typeof he[J]=="function"?se((R+he[J]()).slice(-10)+" 00000 n "):he[J]!==void 0?se((R+he[J]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Io=m.__private__.buildDocument=function(){var R;ue=0,le=0,me=[],he=[],be=[],Rs=yr(),jo=yr(),Ne(me),ge.publish("buildDocument"),Ui(),Sa(),(function(){ge.publish("putAdditionalObjects");for(var pe=0;pe<be.length;pe++){var we=be[pe];Br(we.objId,!0),se(we.content),se("endobj")}ge.publish("postPutAdditionalObjects")})(),R=[],(function(){for(var pe in At)At.hasOwnProperty(pe)&&(f===!1||f===!0&&g.hasOwnProperty(pe))&&js(At[pe])})(),(function(){var pe;for(pe in un)un.hasOwnProperty(pe)&&id(un[pe])})(),(function(){for(var pe in nt)nt.hasOwnProperty(pe)&&vl(nt[pe])})(),(function(pe){var we;for(we in Jt)Jt.hasOwnProperty(we)&&(Jt[we]instanceof lh?vo(Jt[we]):Jt[we]instanceof tm&&yl(Jt[we],pe))})(R),ge.publish("putResources"),R.forEach(br),br({resourcesOid:jo,objectOid:Number.MAX_SAFE_INTEGER}),ge.publish("postPutResources"),u!==null&&(Kr.oid=dn(),se("<<"),se("/Filter /Standard"),se("/V "+Kr.v),se("/R "+Kr.r),se("/U <"+Kr.toHexString(Kr.U)+">"),se("/O <"+Kr.toHexString(Kr.O)+">"),se("/P "+Kr.P),se(">>"),se("endobj")),dr(),qa();var J=le;return Hi(),Pr(),se("startxref"),se(""+J),se("%%EOF"),Ne(Se[V]),me.join(`
`)},Xo=m.__private__.getBlob=function(R){return new Blob([st(R)],{type:"application/pdf"})},ro=m.output=m.__private__.output=(Kn=function(R,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",R){case void 0:return Io();case"save":m.save(J.filename);break;case"arraybuffer":return st(Io());case"blob":return Xo(Io());case"bloburi":case"bloburl":if(Sn.URL!==void 0&&typeof Sn.URL.createObjectURL=="function")return Sn.URL&&Sn.URL.createObjectURL(Xo(Io()))||void 0;jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",we=Io();try{pe=hB(we)}catch{pe=hB(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+J.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Te=J.pdfObjectUrl,Ue="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Dt=Sn.open();return Dt!==null&&Dt.document.write(Xe),Dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Sn)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',bn=Sn.open();if(bn!==null){bn.document.write(Wt);var xn=this;bn.document.documentElement.querySelector("#pdfViewer").onload=function(){bn.document.title=J.filename,bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xn.output("bloburl"))}}return bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Yr=Sn.open();if(Yr!==null&&(Yr.document.write(Qn),Yr.document.title=J.filename),Yr||typeof safari>"u")return Yr;break;case"datauri":case"dataurl":return Sn.document.location.href=this.output("datauristring",J);default:return null}},Kn.foo=function(){try{return Kn.apply(this,arguments)}catch(pe){var R=pe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var J="Error in function "+R.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Sn.console)throw new Error(J);Sn.console.error(J,pe),Sn.alert&&alert(J)}},Kn.foo.bar=Kn,Kn.foo),bl=function(R){return Array.isArray(qe)===!0&&qe.indexOf(R)>-1};switch(r){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=bl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Gt=r}var Kr=null;X(),G();var xl=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[R].objId,pageNumber:R,pageContext:yt[R]}},ad=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in yt)if(yt[J].objId===R)break;return xl(J)},Ls=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:yt[V].objId,pageNumber:V,pageContext:yt[V]}};m.addPage=function(){return it.apply(this,arguments),this},m.setPage=function(){return Nn.apply(this,arguments),Ne.call(this,Se[V]),this},m.insertPage=function(R){return this.addPage(),this.movePage(V,R),this},m.movePage=function(R,J){var pe,we;if(R>J){pe=Se[R],we=yt[R];for(var Te=R;Te>J;Te--)Se[Te]=Se[Te-1],yt[Te]=yt[Te-1];Se[J]=pe,yt[J]=we,this.setPage(J)}else if(R<J){pe=Se[R],we=yt[R];for(var Ue=R;Ue<J;Ue++)Se[Ue]=Se[Ue+1],yt[Ue]=yt[Ue+1];Se[J]=pe,yt[J]=we,this.setPage(J)}return this},m.deletePage=function(){return qt.apply(this,arguments),this},m.__private__.text=m.text=function(R,J,pe,we,Te){var Ue,Xe,Dt,Wt,bn,xn,Qn,Yr,bi,kr=(we=we||{}).scope||this;if(typeof R=="number"&&typeof J=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Pi=pe;pe=J,J=R,R=Pi}if(arguments[3]instanceof ht==0?(Dt=arguments[4],Wt=arguments[5],Ar(Qn=arguments[3])==="object"&&Qn!==null||(typeof Dt=="string"&&(Wt=Dt,Dt=null),typeof Qn=="string"&&(Wt=Qn,Qn=null),typeof Qn=="number"&&(Dt=Qn,Qn=null),we={flags:Qn,angle:Dt,align:Wt})):(M("The transform parameter of text() with a Matrix value"),bi=Te),isNaN(J)||isNaN(pe)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return kr;var di,io="",Ka=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:_t,Jo=kr.internal.scaleFactor;function ap(Jn){return Jn=Jn.split("	").join(Array(we.TabLen||9).join(" ")),qi(Jn,Qn)}function fc(Jn){for(var fr,ii=Jn.concat(),xi=[],ps=ii.length;ps--;)typeof(fr=ii.shift())=="string"?xi.push(fr):Array.isArray(Jn)&&(fr.length===1||fr[1]===void 0&&fr[2]===void 0)?xi.push(fr[0]):xi.push([fr[0],fr[1],fr[2]]);return xi}function iu(Jn,fr){var ii;if(typeof Jn=="string")ii=fr(Jn)[0];else if(Array.isArray(Jn)){for(var xi,ps,Df=Jn.concat(),md=[],Ol=Df.length;Ol--;)typeof(xi=Df.shift())=="string"?md.push(fr(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(ps=fr(xi[0],xi[1],xi[2]),md.push([ps[0],ps[1],ps[2]]));ii=md}return ii}var hc=!1,ou=!0;if(typeof R=="string")hc=!0;else if(Array.isArray(R)){var pc=R.concat();Xe=[];for(var au,bo=pc.length;bo--;)(typeof(au=pc.shift())!="string"||Array.isArray(au)&&typeof au[0]!="string")&&(ou=!1);hc=ou}if(hc===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var su=Fe/kr.internal.scaleFactor,lu=su*(Ka-1);switch(we.baseline){case"bottom":pe-=lu;break;case"top":pe+=su-lu;break;case"hanging":pe+=su-2*lu;break;case"middle":pe+=su/2-lu}if((xn=we.maxWidth||0)>0&&(typeof R=="string"?R=kr.splitTextToSize(R,xn):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Jn,fr){return Jn.concat(kr.splitTextToSize(fr,xn))},[]))),Ue={text:R,x:J,y:pe,options:we,mutex:{pdfEscape:qi,activeFontKey:Mt,fonts:At,activeFontSize:Fe}},ge.publish("preProcessText",Ue),R=Ue.text,Dt=(we=Ue.options).angle,bi instanceof ht==0&&Dt&&typeof Dt=="number"){Dt*=Math.PI/180,we.rotationDirection===0&&(Dt=-Dt),A===k&&(Dt=-Dt);var If=Math.cos(Dt),Lf=Math.sin(Dt);bi=new ht(If,Lf,-Lf,If,0,0)}else Dt&&Dt instanceof ht&&(bi=Dt);A!==k||bi||(bi=ft),(bn=we.charSpace||ds)!==void 0&&(io+=C(z(bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yr=we.horizontalScale)!==void 0&&(io+=C(100*Yr)+` Tz
`),we.lang;var ni=-1,fs=we.renderingMode!==void 0?we.renderingMode:we.stroke,$s=kr.internal.getCurrentPageInfo().pageContext;switch(fs){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var sp=$s.usedRenderingMode!==void 0?$s.usedRenderingMode:-1;ni!==-1?io+=ni+` Tr
`:sp!==-1&&(io+=`0 Tr
`),ni!==-1&&($s.usedRenderingMode=ni),Wt=we.align||"left";var Na,mc=Fe*Ka,dd=kr.internal.pageSize.getWidth(),fd=At[Mt];bn=we.charSpace||ds,xn=we.maxWidth||0,Qn=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Al=[],Ga=function(Jn){return kr.getStringUnitWidth(Jn,{font:fd,charSpace:bn,fontSize:Fe,doKerning:!1})*Fe/Jo};if(Object.prototype.toString.call(R)==="[object Array]"){var Aa;Xe=fc(R),Wt!=="left"&&(Na=Xe.map(Ga));var ka,gc=0;if(Wt==="right"){J-=Na[0],R=[],bo=Xe.length;for(var zs=0;zs<bo;zs++)zs===0?(ka=Ea(J),Aa=_l(pe)):(ka=z(gc-Na[zs]),Aa=-mc),R.push([Xe[zs],ka,Aa]),gc=Na[zs]}else if(Wt==="center"){J-=Na[0]/2,R=[],bo=Xe.length;for(var kl=0;kl<bo;kl++)kl===0?(ka=Ea(J),Aa=_l(pe)):(ka=z((gc-Na[kl])/2),Aa=-mc),R.push([Xe[kl],ka,Aa]),gc=Na[kl]}else if(Wt==="left"){R=[],bo=Xe.length;for(var Cl=0;Cl<bo;Cl++)R.push(Xe[Cl])}else if(Wt==="justify"&&fd.encoding==="Identity-H"){R=[],bo=Xe.length,xn=xn!==0?xn:dd;for(var qs=0,fi=0;fi<bo;fi++)if(Aa=fi===0?_l(pe):-mc,ka=fi===0?Ea(J):qs,fi<bo-1){var cu=z((xn-Na[fi])/(Xe[fi].split(" ").length-1)),Us=Xe[fi].split(" ");R.push([Us[0]+" ",ka,Aa]),qs=0;for(var hs=1;hs<Us.length;hs++){var uu=(Ga(Us[hs-1]+" "+Us[hs])-Ga(Us[hs]))*Jo+cu;hs==Us.length-1?R.push([Us[hs],uu,0]):R.push([Us[hs]+" ",uu,0]),qs-=uu}}else R.push([Xe[fi],ka,Aa]);R.push(["",qs,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],bo=Xe.length,xn=xn!==0?xn:dd,fi=0;fi<bo;fi++){Aa=fi===0?_l(pe):-mc,ka=fi===0?Ea(J):0;var du=Xe[fi].split(" ").length-1,hd=du>0?(xn-Na[fi])/du:0;fi<bo-1?Al.push(C(z(hd))):Al.push(0),R.push([Xe[fi],ka,Aa])}}}(typeof we.R2L=="boolean"?we.R2L:Et)===!0&&(R=iu(R,function(Jn,fr,ii){return[Jn.split("").reverse().join(""),fr,ii]})),Ue={text:R,x:J,y:pe,options:we,mutex:{pdfEscape:qi,activeFontKey:Mt,fonts:At,activeFontSize:Fe}},ge.publish("postProcessText",Ue),R=Ue.text,di=Ue.mutex.isHex||!1;var pd=At[Mt].encoding;pd!=="WinAnsiEncoding"&&pd!=="StandardEncoding"||(R=iu(R,function(Jn,fr,ii){return[ap(Jn),fr,ii]})),Xe=fc(R),R=[];for(var Tl,vc,yc,fu=Array.isArray(Xe[0])?1:0,bc="",hu=function(Jn,fr,ii){var xi="";return ii instanceof ht?(ii=typeof we.angle=="number"?ct(ii,new ht(1,0,0,1,Jn,fr)):ct(new ht(1,0,0,1,Jn,fr),ii),A===k&&(ii=ct(new ht(1,0,0,-1,0,0),ii)),xi=ii.join(" ")+` Tm
`):xi=C(Jn)+" "+C(fr)+` Td
`,xi},ri=0;ri<Xe.length;ri++){switch(bc="",fu){case 1:yc=(di?"<":"(")+Xe[ri][0]+(di?">":")"),Tl=parseFloat(Xe[ri][1]),vc=parseFloat(Xe[ri][2]);break;case 0:yc=(di?"<":"(")+Xe[ri]+(di?">":")"),Tl=Ea(J),vc=_l(pe)}Al!==void 0&&Al[ri]!==void 0&&(bc=Al[ri]+` Tw
`),ri===0?R.push(bc+hu(Tl,vc,bi)+yc):fu===0?R.push(bc+yc):fu===1&&R.push(bc+hu(Tl,vc,bi)+yc)}R=fu===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Zo=`BT
/`;return Zo+=Mt+" "+Fe+` Tf
`,Zo+=C(Fe*Ka)+` TL
`,Zo+=us+`
`,Zo+=io,Zo+=R,se(Zo+="ET"),g[Mt]=!0,kr};var Ds=m.__private__.clip=m.clip=function(R){return se(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ds("evenodd")},m.__private__.discardPath=m.discardPath=function(){return se("n"),this};var ui=m.__private__.isValidStyle=function(R){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(J=!0),J};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return ui(R)&&(c=R),this};var dc=m.__private__.getStyle=m.getStyle=function(R){var J=c;switch(R){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=R}return J},zn=m.close=function(){return se("h"),this};m.stroke=function(){return se("S"),this},m.fill=function(R){return on("f",R),this},m.fillEvenOdd=function(R){return on("f*",R),this},m.fillStroke=function(R){return on("B",R),this},m.fillStrokeEvenOdd=function(R){return on("B*",R),this};var on=function(R,J){Ar(J)==="object"?Xn(J,R):se(R)},wl=function(R){R===null||A===k&&R===void 0||(R=dc(R),se(R))};function Gr(R,J,pe,we,Te){var Ue=new tm(J||this.boundingBox,pe||this.xStep,we||this.yStep,this.gState,Te||this.matrix);Ue.stream=this.stream;var Xe=R+"$$"+this.cloneIndex+++"$$";return Pt(Xe,Ue),Ue}var Xn=function(R,J){var pe=En[R.key],we=Jt[pe];if(we instanceof lh)se("q"),se(Sl(J)),we.gState&&m.setGState(we.gState),se(R.matrix.toString()+" cm"),se("/"+pe+" sh"),se("Q");else if(we instanceof tm){var Te=new ht(1,0,0,-1,0,Va());R.matrix&&(Te=Te.multiply(R.matrix||ft),pe=Gr.call(we,R.key,R.boundingBox,R.xStep,R.yStep,Te).id),se("q"),se("/Pattern cs"),se("/"+pe+" scn"),we.gState&&m.setGState(we.gState),se(J),se("Q")}},Sl=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qo=m.moveTo=function(R,J){return se(C(z(R))+" "+C(U(J))+" m"),this},_a=m.lineTo=function(R,J){return se(C(z(R))+" "+C(U(J))+" l"),this},Lo=m.curveTo=function(R,J,pe,we,Te,Ue){return se([C(z(R)),C(U(J)),C(z(pe)),C(U(we)),C(z(Te)),C(U(Ue)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,J,pe,we,Te){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(we)||!ui(Te))throw new Error("Invalid arguments passed to jsPDF.line");return A===N?this.lines([[pe-R,we-J]],R,J,[1,1],Te||"S"):this.lines([[pe-R,we-J]],R,J,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,J,pe,we,Te,Ue){var Xe,Dt,Wt,bn,xn,Qn,Yr,bi,kr,Pi,di,io;if(typeof R=="number"&&(io=pe,pe=J,J=R,R=io),we=we||[1,1],Ue=Ue||!1,isNaN(J)||isNaN(pe)||!Array.isArray(R)||!Array.isArray(we)||!ui(Te)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qo(J,pe),Xe=we[0],Dt=we[1],bn=R.length,Pi=J,di=pe,Wt=0;Wt<bn;Wt++)(xn=R[Wt]).length===2?(Pi=xn[0]*Xe+Pi,di=xn[1]*Dt+di,_a(Pi,di)):(Qn=xn[0]*Xe+Pi,Yr=xn[1]*Dt+di,bi=xn[2]*Xe+Pi,kr=xn[3]*Dt+di,Pi=xn[4]*Xe+Pi,di=xn[5]*Dt+di,Lo(Qn,Yr,bi,kr,Pi,di));return Ue&&zn(),wl(Te),this},m.path=function(R){for(var J=0;J<R.length;J++){var pe=R[J],we=pe.c;switch(pe.op){case"m":Qo(we[0],we[1]);break;case"l":_a(we[0],we[1]);break;case"c":Lo.apply(this,we);break;case"h":zn()}}return this},m.__private__.rect=m.rect=function(R,J,pe,we,Te){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(we)||!ui(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return A===N&&(we=-we),se([C(z(R)),C(U(J)),C(z(pe)),C(z(we)),"re"].join(" ")),wl(Te),this},m.__private__.triangle=m.triangle=function(R,J,pe,we,Te,Ue,Xe){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(we)||isNaN(Te)||isNaN(Ue)||!ui(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-R,we-J],[Te-pe,Ue-we],[R-Te,J-Ue]],R,J,[1,1],Xe,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,J,pe,we,Te,Ue,Xe){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(we)||isNaN(Te)||isNaN(Ue)||!ui(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Dt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*pe),Ue=Math.min(Ue,.5*we),this.lines([[pe-2*Te,0],[Te*Dt,0,Te,Ue-Ue*Dt,Te,Ue],[0,we-2*Ue],[0,Ue*Dt,-Te*Dt,Ue,-Te,Ue],[2*Te-pe,0],[-Te*Dt,0,-Te,-Ue*Dt,-Te,-Ue],[0,2*Ue-we],[0,-Ue*Dt,Te*Dt,-Ue,Te,-Ue]],R+Te,J,[1,1],Xe,!0),this},m.__private__.ellipse=m.ellipse=function(R,J,pe,we,Te){if(isNaN(R)||isNaN(J)||isNaN(pe)||isNaN(we)||!ui(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*pe,Xe=4/3*(Math.SQRT2-1)*we;return Qo(R+pe,J),Lo(R+pe,J-Xe,R+Ue,J-we,R,J-we),Lo(R-Ue,J-we,R-pe,J-Xe,R-pe,J),Lo(R-pe,J+Xe,R-Ue,J+we,R,J+we),Lo(R+Ue,J+we,R+pe,J+Xe,R+pe,J),wl(Te),this},m.__private__.circle=m.circle=function(R,J,pe,we){if(isNaN(R)||isNaN(J)||isNaN(pe)||!ui(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,J,pe,pe,we)},m.setFont=function(R,J,pe){return pe&&(J=L(J,pe)),Mt=$r(R,J,{disableWarning:!1}),this};var ut=m.__private__.getFont=m.getFont=function(){return At[$r.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,J,pe={};for(R in mn)if(mn.hasOwnProperty(R))for(J in pe[R]=[],mn[R])mn[R].hasOwnProperty(J)&&pe[R].push(J);return pe},m.addFont=function(R,J,pe,we,Te){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(pe=L(pe,we)),uc.call(this,R,J,pe,Te=Te||"Identity-H")};var _t,ln=t.lineWidth||.200025,mt=m.__private__.getLineWidth=m.getLineWidth=function(){return ln},zr=m.__private__.setLineWidth=m.setLineWidth=function(R){return ln=R,se(C(z(R))+" w"),this};m.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(R,J){if(R=R||[],J=J||0,isNaN(J)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(pe){return C(z(pe))}).join(" "),J=C(z(J)),se("["+R+"] "+J+" d"),this};var yi=m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*_t};m.__private__.getLineHeight=m.getLineHeight=function(){return Fe*_t};var Tf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(_t=R),this},sd=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return _t};Tf(t.lineHeight);var Ea=m.__private__.getHorizontalCoordinate=function(R){return z(R)},_l=m.__private__.getVerticalCoordinate=function(R){return A===k?R:yt[V].mediaBox.topRightY-yt[V].mediaBox.bottomLeftY-z(R)},op=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return C(Ea(R))},ld=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return C(_l(R))},eu=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return $a(eu)},m.__private__.setStrokeColor=m.setDrawColor=function(R,J,pe,we){return eu=Mi({ch1:R,ch2:J,ch3:pe,ch4:we,pdfColorType:"draw",precision:2}),se(eu),this};var Of=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return $a(Of)},m.__private__.setFillColor=m.setFillColor=function(R,J,pe,we){return Of=Mi({ch1:R,ch2:J,ch3:pe,ch4:we,pdfColorType:"fill",precision:2}),se(Of),this};var us=t.textColor||"0 g",Fs=m.__private__.getTextColor=m.getTextColor=function(){return $a(us)};m.__private__.setTextColor=m.setTextColor=function(R,J,pe,we){return us=Mi({ch1:R,ch2:J,ch3:pe,ch4:we,pdfColorType:"text",precision:3}),this};var ds=t.charSpace,cd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ds||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ds=R,this};var Mf=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var J=m.CapJoinStyles[R];if(J===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mf=J,se(J+" J"),this};var Pf=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var J=m.CapJoinStyles[R];if(J===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pf=J,se(J+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(C(z(R))+" M"),this},m.GState=Sx,m.setGState=function(R){(R=typeof R=="string"?un[ur[R]]:El(null,R)).equals(ye)||(se("/"+R.id+" gs"),ye=R)};var El=function(R,J){if(!R||!ur[R]){var pe=!1;for(var we in un)if(un.hasOwnProperty(we)&&un[we].equals(J)){pe=!0;break}if(pe)J=un[we];else{var Te="GS"+(Object.keys(un).length+1).toString(10);un[Te]=J,J.id=Te}return R&&(ur[R]=J.id),ge.publish("addGState",J),J}};m.addGState=function(R,J){return El(R,J),this},m.saveGraphicsState=function(){return se("q"),Gn.push({key:Mt,size:Fe,color:us}),this},m.restoreGraphicsState=function(){se("Q");var R=Gn.pop();return Mt=R.key,Fe=R.size,us=R.color,ye=null,this},m.setCurrentTransformationMatrix=function(R){return se(R.toString()+" cm"),this},m.comment=function(R){return se("#"+R),this};var Bs=function(R,J){var pe=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Ue){isNaN(Ue)||(pe=parseFloat(Ue))}});var we=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Ue){isNaN(Ue)||(we=parseFloat(Ue))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ue){Te=Ue.toString()}}),this},tu=function(R,J,pe,we){Bs.call(this,R,J),this.type="rect";var Te=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(Xe){isNaN(Xe)||(Te=parseFloat(Xe))}});var Ue=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Xe){isNaN(Xe)||(Ue=parseFloat(Xe))}}),this},nu=function(){this.page=tt,this.currentPage=V,this.pages=Se.slice(0),this.pagesContext=yt.slice(0),this.x=wt,this.y=_n,this.matrix=Cn,this.width=ru(V),this.height=Ha(V),this.outputDestination=Le,this.id="",this.objectNumber=-1};nu.prototype.restore=function(){tt=this.page,V=this.currentPage,yt=this.pagesContext,Se=this.pages,wt=this.x,_n=this.y,Cn=this.matrix,Rf(V,this.width),Wa(V,this.height),Le=this.outputDestination};var Ua=function(R,J,pe,we,Te){Ln.push(new nu),tt=V=0,Se=[],wt=R,_n=J,Cn=Te,Is([pe,we])};for(var Nl in m.beginFormObject=function(R,J,pe,we,Te){return Ua(R,J,pe,we,Te),this},m.endFormObject=function(R){return(function(J){if(Xt[J])Ln.pop().restore();else{var pe=new nu,we="Xo"+(Object.keys(nt).length+1).toString(10);pe.id=we,Xt[J]=we,nt[we]=pe,ge.publish("addFormObject",pe),Ln.pop().restore()}})(R),this},m.doFormObject=function(R,J){var pe=nt[Xt[R]];return se("q"),se(J.toString()+" cm"),se("/"+pe.id+" Do"),se("Q"),this},m.getFormObject=function(R){var J=nt[Xt[R]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},m.save=function(R,J){return R=R||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(ah(Xo(Io()),R),typeof ah.unload=="function"&&Sn.setTimeout&&setTimeout(ah.unload,911),this):new Promise(function(pe,we){try{var Te=ah(Xo(Io()),R);typeof ah.unload=="function"&&Sn.setTimeout&&setTimeout(ah.unload,911),pe(Te)}catch(Ue){we(Ue.message)}})},Zt.API)Zt.API.hasOwnProperty(Nl)&&(Nl==="events"&&Zt.API.events.length?(function(R,J){var pe,we,Te;for(Te=J.length-1;Te!==-1;Te--)pe=J[Te][0],we=J[Te][1],R.subscribe.apply(R,[pe].concat(typeof we=="function"?[we]:we))})(ge,Zt.API.events):m[Nl]=Zt.API[Nl]);function ru(R){return yt[R].mediaBox.topRightX-yt[R].mediaBox.bottomLeftX}function Rf(R,J){yt[R].mediaBox.topRightX=J+yt[R].mediaBox.bottomLeftX}function Ha(R){return yt[R].mediaBox.topRightY-yt[R].mediaBox.bottomLeftY}function Wa(R,J){yt[R].mediaBox.topRightY=J+yt[R].mediaBox.bottomLeftY}var jf=m.getPageWidth=function(R){return ru(R=R||V)/Gt},yo=m.setPageWidth=function(R,J){Rf(R,J*Gt)},Va=m.getPageHeight=function(R){return Ha(R=R||V)/Gt},ud=m.setPageHeight=function(R,J){Wa(R,J*Gt)};return m.internal={pdfEscape:qi,getStyle:dc,getFont:ut,getFontSize:Ze,getCharSpace:cd,getTextColor:Fs,getLineHeight:yi,getLineHeightFactor:sd,getLineWidth:mt,write:ze,getHorizontalCoordinate:Ea,getVerticalCoordinate:_l,getCoordinateString:op,getVerticalCoordinateString:ld,collections:{},newObject:dn,newAdditionalObject:wa,newObjectDeferred:yr,newObjectDeferredBegin:Br,getFilters:Yo,putStream:go,events:ge,scaleFactor:Gt,pageSize:{getWidth:function(){return jf(V)},setWidth:function(R){yo(V,R)},getHeight:function(){return Va(V)},setHeight:function(R){ud(V,R)}},encryptionOptions:u,encryption:Kr,getEncryptor:function(R){return u!==null?Kr.encryptor(R,0):function(J){return J}},output:ro,getNumberOfPages:jn,pages:Se,out:se,f2:D,f3:I,getPageInfo:xl,getPageInfoByObjId:ad,getCurrentPageInfo:Ls,getPDFVersion:v,Point:Bs,Rectangle:tu,Matrix:ht,hasHotfix:bl},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return jf(V)},set:function(R){yo(V,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Va(V)},set:function(R){ud(V,R)},enumerable:!0,configurable:!0}),(function(R){for(var J=0,pe=Ge.length;J<pe;J++){var we=uc.call(this,R[J][0],R[J][1],R[J][2],Ge[J][3],!0);f===!1&&(g[we]=!0);var Te=R[J][0].split("-");od({id:we,fontName:Te[0],fontStyle:Te[1]||""})}ge.publish("addFonts",{fonts:At,dictionary:mn})}).call(m,Ge),Mt="F1",it(i,n),ge.publish("initialized"),m}Hp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Hp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Hp.prototype.processOwnerPassword=function(t,e){return vT(gT(e).substr(0,5),t)},Hp.prototype.encryptor=function(t,e){var n=gT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return vT(n,r)}},Sx.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ar(t)!==Ar(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Zt.API={events:[]},Zt.version="3.0.3";var Ai=Zt.API,xP=1,rp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},On=function(t){return t.toFixed(2)},Dd=function(t){return t.toFixed(5)};Ai.__acroform__={};var cs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},vB=function(t){return t*xP},kc=function(t){var e=new GG,n=$t.internal.getHeight(t)||0,r=$t.internal.getWidth(t)||0;return e.BBox=[0,0,Number(On(r)),Number(On(n))],e},aNe=Ai.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},sNe=Ai.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},lNe=Ai.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Li=Ai.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lNe(t,e-1)},Di=Ai.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aNe(t,e-1)},Fi=Ai.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sNe(t,e-1)},cNe=Ai.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],a=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+s)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(o)||0,[Number(On(l.lowerLeft_X)),Number(On(l.lowerLeft_Y)),Number(On(l.upperRight_X)),Number(On(l.upperRight_Y))]},uNe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=yT(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+On(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=kc(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},yT=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var o=n,a=$t.internal.getHeight(t)||0;a=a<0?-a:a;var s=$t.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(D,I,z){if(D+1<i.length){var U=I+" "+i[D+1][0];return wb(U,t,z).width<=s-4}return!1};o++;e:for(;o>0;){e="",o--;var c,u,f=wb("3",t,o).height,g=t.multiline?a-o:(a-f)/2,m=g+=2,b=0,v=0,y=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+wb(e,t,o=12).width+", FieldWidth:"+s+`
`;break}for(var w="",N=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var A=!1;if(i[k].length!==1&&y!==i[k].length-1){if((f+2)*(N+2)+2>a)continue e;w+=i[k][y],A=!0,v=k,k--}else{w=(w+=i[k][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var T=parseInt(k),P=l(T,w,o),L=k>=i.length-1;if(P&&!L){w+=" ",y=0;continue}if(P||L){if(L)v=T;else if(t.multiline&&(f+2)*(N+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(N+2)+2>a)continue e;v=T}}for(var C="",M=b;M<=v;M++){var q=i[M];if(t.multiline){if(M===v){C+=q[y]+" ",y=(y+1)%q.length;continue}if(M===b){C+=q[q.length-1]+" ";continue}}C+=q[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=wb(C,t,o).width,t.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;default:c=2}e+=On(c)+" "+On(m)+` Td
`,e+="("+rp(C)+`) Tj
`,e+=-On(c)+` 0 Td
`,m=-(o+2),u=0,b=A?v:v+1,N++,w=""}break}return r.text=e,r.fontSize=o,r},wb=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},dNe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fNe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},hNe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ac.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(dNe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xP=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new YG,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&fNe(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var s=r[a],l=[],c=s.Rect;if(s.Rect&&(s.Rect=cNe(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=$t.createDefaultAppearanceStream(s),Ar(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var u=uNe(s);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(s.appearanceStreamContent){var f="";for(var g in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(g)){var m=s.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var b=m[a];typeof b=="function"&&(b=b.call(i,s)),f+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(i,s)),f+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}o&&(function(v,y){for(var w in v)if(v.hasOwnProperty(w)){var N=w,k=v[w];y.internal.newObjectDeferredBegin(k.objId,!0),Ar(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete v[N]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},KG=Ai.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Ar(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+rp(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},A5=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+rp(r(t))+")"},Dc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dc.prototype.toString=function(){return this.objId+" 0 R"},Dc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Dc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:KG(i,this.objId,this.scope)}):i instanceof Dc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var GG=function(){Dc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};cs(GG,Dc);var YG=function(){Dc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+rp(n(t))+")"}},set:function(n){t=n}})};cs(YG,Dc);var ac=function t(){Dc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Li(e,3)},set:function(w){w?this.F=Di(e,3):this.F=Fi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof _x)return;o="FieldObject"+t.FieldNum++}var w=function(N){return N};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+rp(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/xP:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof _x||this instanceof Sh))return A5(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ko==0?A5(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof ko==0?w.substr(0,1)==="("?Dp(w.substr(1,w.length-2)):Dp(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ko==1?Dp(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof ko==1?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ko==0?A5(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof ko==0?w.substr(0,1)==="("?Dp(w.substr(1,w.length-2)):Dp(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ko==1?Dp(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof ko==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(w){w=!!w,v=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,1)},set:function(w){w?this.Ff=Di(this.Ff,1):this.Ff=Fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,2)},set:function(w){w?this.Ff=Di(this.Ff,2):this.Ff=Fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,3)},set:function(w){w?this.Ff=Di(this.Ff,3):this.Ff=Fi(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};cs(ac,Dc);var fm=function(){ac.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return KG(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(o,a,s){s||(s=1);for(var l,c=[];l=a.exec(o);)c.push(l[s]);return c})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,18)},set:function(n){n?this.Ff=Di(this.Ff,18):this.Ff=Fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Di(this.Ff,19):this.Ff=Fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,20)},set:function(n){n?(this.Ff=Di(this.Ff,20),e.sort()):this.Ff=Fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,22)},set:function(n){n?this.Ff=Di(this.Ff,22):this.Ff=Fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(n){n?this.Ff=Di(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,27)},set:function(n){n?this.Ff=Di(this.Ff,27):this.Ff=Fi(this.Ff,27)}}),this.hasAppearanceStream=!1};cs(fm,ac);var hm=function(){fm.call(this),this.fontName="helvetica",this.combo=!1};cs(hm,fm);var pm=function(){hm.call(this),this.combo=!0};cs(pm,hm);var n1=function(){pm.call(this),this.edit=!0};cs(n1,pm);var ko=function(){ac.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,15)},set:function(n){n?this.Ff=Di(this.Ff,15):this.Ff=Fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,16)},set:function(n){n?this.Ff=Di(this.Ff,16):this.Ff=Fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,17)},set:function(n){n?this.Ff=Di(this.Ff,17):this.Ff=Fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(n){n?this.Ff=Di(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+rp(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ar(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};cs(ko,ac);var r1=function(){ko.call(this),this.pushButton=!0};cs(r1,ko);var mm=function(){ko.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};cs(mm,ko);var _x=function(){var t,e;ac.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+rp(i(r[o]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Ar(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cs(_x,ac),mm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},mm.prototype.createOption=function(t){var e=new _x;return e.Parent=this,e.optionName=t,this.Kids.push(e),pNe.call(this.scope,e),e};var i1=function(){ko.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};cs(i1,ko);var Sh=function(){ac.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,13)},set:function(e){e?this.Ff=Di(this.Ff,13):this.Ff=Fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,21)},set:function(e){e?this.Ff=Di(this.Ff,21):this.Ff=Fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,23)},set:function(e){e?this.Ff=Di(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,24)},set:function(e){e?this.Ff=Di(this.Ff,24):this.Ff=Fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,25)},set:function(e){e?this.Ff=Di(this.Ff,25):this.Ff=Fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,26)},set:function(e){e?this.Ff=Di(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cs(Sh,ac);var o1=function(){Sh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Li(this.Ff,14)},set:function(t){t?this.Ff=Di(this.Ff,14):this.Ff=Fi(this.Ff,14)}}),this.password=!0};cs(o1,Sh);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=kc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=yT(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+On($t.internal.getWidth(t))+" "+On($t.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+On(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=kc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=$t.internal.getHeight(t),a=$t.internal.getWidth(t),s=yT(t,t.caption);return i.push("1 g"),i.push("0 0 "+On(a)+" "+On(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+On(a-1)+" "+On(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+On(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=kc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+On($t.internal.getWidth(t))+" "+On($t.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Circle.YesNormal,e.D[t]=$t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=kc(t);e.scope=t.scope;var n=[],r=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=$t.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Dd($t.internal.getWidth(t)/2)+" "+Dd($t.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=kc(t);e.scope=t.scope;var n=[],r=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*$t.internal.Bezier_C).toFixed(5)),a=Number((r*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Dd($t.internal.getWidth(t)/2)+" "+Dd($t.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Dd($t.internal.getWidth(t)/2)+" "+Dd($t.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=kc(t);e.scope=t.scope;var n=[],r=$t.internal.getWidth(t)<=$t.internal.getHeight(t)?$t.internal.getWidth(t)/4:$t.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Dd($t.internal.getWidth(t)/2)+" "+Dd($t.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$t.RadioButton.Cross.YesNormal,e.D[t]=$t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=kc(t);e.scope=t.scope;var n=[],r=$t.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+On($t.internal.getWidth(t)-2)+" "+On($t.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(On(r.x1.x)+" "+On(r.x1.y)+" m"),n.push(On(r.x2.x)+" "+On(r.x2.y)+" l"),n.push(On(r.x4.x)+" "+On(r.x4.y)+" m"),n.push(On(r.x3.x)+" "+On(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=kc(t);e.scope=t.scope;var n=$t.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+On($t.internal.getWidth(t))+" "+On($t.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+On($t.internal.getWidth(t)-2)+" "+On($t.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(On(n.x1.x)+" "+On(n.x1.y)+" m"),r.push(On(n.x2.x)+" "+On(n.x2.y)+" l"),r.push(On(n.x4.x)+" "+On(n.x4.y)+" m"),r.push(On(n.x3.x)+" "+On(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=kc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+On($t.internal.getWidth(t))+" "+On($t.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};$t.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$t.internal.getWidth(t),n=$t.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},$t.internal.getWidth=function(t){var e=0;return Ar(t)==="object"&&(e=vB(t.Rect[2])),e},$t.internal.getHeight=function(t){var e=0;return Ar(t)==="object"&&(e=vB(t.Rect[3])),e};var pNe=Ai.addField=function(t){if(hNe(this,t),!(t instanceof ac))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=fm,Ai.AcroFormListBox=hm,Ai.AcroFormComboBox=pm,Ai.AcroFormEditBox=n1,Ai.AcroFormButton=ko,Ai.AcroFormPushButton=r1,Ai.AcroFormRadioButton=mm,Ai.AcroFormCheckBox=i1,Ai.AcroFormTextField=Sh,Ai.AcroFormPasswordField=o1,Ai.AcroFormAppearance=$t,Ai.AcroForm={ChoiceField:fm,ListBox:hm,ComboBox:pm,EditBox:n1,Button:ko,PushButton:r1,RadioButton:mm,CheckBox:i1,TextField:Sh,PasswordField:o1,Appearance:$t},Zt.AcroForm={ChoiceField:fm,ListBox:hm,ComboBox:pm,EditBox:n1,Button:ko,PushButton:r1,RadioButton:mm,CheckBox:i1,TextField:Sh,PasswordField:o1,Appearance:$t};Zt.AcroForm;function XG(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(D,I){var z,U,Y,ne,W,G=n;if((I=I||n)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(P(D))for(W in r)for(Y=r[W],z=0;z<Y.length;z+=1){for(ne=!0,U=0;U<Y[z].length;U+=1)if(Y[z][U]!==void 0&&Y[z][U]!==D[U]){ne=!1;break}if(ne===!0){G=W;break}}else for(W in r)for(Y=r[W],z=0;z<Y.length;z+=1){for(ne=!0,U=0;U<Y[z].length;U+=1)if(Y[z][U]!==void 0&&Y[z][U]!==D.charCodeAt(U)){ne=!1;break}if(ne===!0){G=W;break}}return G===n&&I!==n&&(G=I),G},o=function D(I){for(var z=this.internal.write,U=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:I.width}),ne.push({key:"Height",value:I.height}),I.colorSpace===w.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===w.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var W="",G=0,K=I.transparency.length;G<K;G++)W+=I.transparency[G]+" "+I.transparency[G]+" ";ne.push({key:"Mask",value:"["+W+"]"})}I.sMask!==void 0&&ne.push({key:"SMask",value:I.objectId+1+" 0 R"});var fe=I.filter!==void 0?["/"+I.filter]:void 0;if(U({data:I.data,additionalKeyValues:ne,alreadyAppliedFilters:fe,objectId:I.objectId}),z("endobj"),"sMask"in I&&I.sMask!==void 0){var X,F=(X=I.sMaskBitsPerComponent)!==null&&X!==void 0?X:I.bitsPerComponent,V={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:I.sMask};"filter"in I&&(V.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(I.width),V.filter=I.filter),D.call(this,V)}if(I.colorSpace===w.INDEXED){var ee=this.internal.newObject();U({data:C(new Uint8Array(I.palette)),objectId:ee}),z("endobj")}},a=function(){var D=this.internal.collections[e+"images"];for(var I in D)o.call(this,D[I])},s=function(){var D,I=this.internal.collections[e+"images"],z=this.internal.write;for(var U in I)z("/I"+(D=I[U]).index,D.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var D=this.internal.collections[e+"images"];return l.call(this),D},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(D){return typeof t["process"+D.toUpperCase()]=="function"},g=function(D){return Ar(D)==="object"&&D.nodeType===1},m=function(D,I){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var z=""+D.getAttribute("src");if(z.indexOf("data:image/")===0)return t1(unescape(z).split("base64,").pop());var U=t.loadFile(z,!0);if(U!==void 0)return U}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Y;switch(I){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return t1(D.toDataURL(Y,1).split("base64,").pop())}},b=function(D){var I=this.internal.collections[e+"images"];if(I){for(var z in I)if(D===I[z].alias)return I[z]}},v=function(D,I,z){return D||I||(D=-96,I=-96),D<0&&(D=-1*z.width*72/D/this.internal.scaleFactor),I<0&&(I=-1*z.height*72/I/this.internal.scaleFactor),D===0&&(D=I*z.width/z.height),I===0&&(I=D*z.height/z.width),[D,I]},y=function(D,I,z,U,Y,ne){var W=v.call(this,z,U,Y),G=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,fe=c.call(this);if(z=W[0],U=W[1],fe[Y.index]=Y,ne){ne*=Math.PI/180;var X=Math.cos(ne),F=Math.sin(ne),V=function(ie){return ie.toFixed(4)},ee=[V(X),V(F),V(-1*F),V(X),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,G(D),K(I+U),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([G(z),"0","0",G(U),"0","0","cm"].join(" "))):this.internal.write([G(z),"0","0",G(U),G(D),K(I+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(D){var I,z,U=0;if(typeof D=="string")for(z=D.length,I=0;I<z;I++)U=(U<<5)-U+D.charCodeAt(I),U|=0;else if(P(D))for(z=D.byteLength/2,I=0;I<z;I++)U=(U<<5)-U+D[I],U|=0;return U},A=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var I=!0;return D.length===0&&(I=!1),D.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(I=!1),I},T=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var I=D.indexOf(",");return I<0?null:D.substring(0,I).trim().endsWith("base64")?D.substring(I+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},L=t.__addimage__.binaryStringToUint8Array=function(D){for(var I=D.length,z=new Uint8Array(I),U=0;U<I;U++)z[U]=D.charCodeAt(U);return z},C=t.__addimage__.arrayBufferToBinaryString=function(D){for(var I="",z=P(D)?D:new Uint8Array(D),U=0;U<z.length;U+=8192)I+=String.fromCharCode.apply(null,z.subarray(U,U+8192));return I};t.addImage=function(){var D,I,z,U,Y,ne,W,G,K;if(typeof arguments[1]=="number"?(I=n,z=arguments[1],U=arguments[2],Y=arguments[3],ne=arguments[4],W=arguments[5],G=arguments[6],K=arguments[7]):(I=arguments[1],z=arguments[2],U=arguments[3],Y=arguments[4],ne=arguments[5],W=arguments[6],G=arguments[7],K=arguments[8]),Ar(D=arguments[0])==="object"&&!g(D)&&"imageData"in D){var fe=D;D=fe.imageData,I=fe.format||I||n,z=fe.x||z||0,U=fe.y||U||0,Y=fe.w||fe.width||Y,ne=fe.h||fe.height||ne,W=fe.alias||W,G=fe.compression||G,K=fe.rotation||fe.angle||K}var X=this.internal.getFilters();if(G===void 0&&X.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(z)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=M.call(this,D,I,W,G);return y.call(this,z,U,Y,ne,F,K),this};var M=function(D,I,z,U){var Y,ne,W;if(typeof D=="string"&&i(D)===n){D=unescape(D);var G=q(D,!1);(G!==""||(G=t.loadFile(D,!0))!==void 0)&&(D=G)}if(g(D)&&(D=m(D,I)),I=i(D,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((W=z)==null||W.length===0)&&(z=(function(K){return typeof K=="string"||P(K)?k(K):P(K.data)?k(K.data):null})(D)),(Y=b.call(this,z))||(D instanceof Uint8Array||I==="RGBA"||(ne=D,D=L(D)),Y=this["process"+I.toUpperCase()](D,u.call(this),z,(function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:N.NONE})(U),ne)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},q=t.__addimage__.convertBase64ToBinaryString=function(D,I){I=typeof I!="boolean"||I;var z,U="";if(typeof D=="string"){var Y;z=(Y=T(D))!==null&&Y!==void 0?Y:D;try{U=t1(z)}catch(ne){if(I)throw A(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};t.getImageProperties=function(D){var I,z,U="";if(g(D)&&(D=m(D)),typeof D=="string"&&i(D)===n&&((U=q(D,!1))===""&&(U=t.loadFile(D)||""),D=U),z=i(D),!f(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(D instanceof Uint8Array||(D=L(D)),!(I=this["process"+z.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=z,I}})(Zt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Zt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(v.objId),N=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",o+=" /Popup "+y.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+m(w(N))+") >>",v.content=o;var k=v.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(o+=" /Open true"),o+=" >>",y.content=o,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(b(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var T=this.annotations._nameMap[r.options.name];r.options.pageNumber=T.page,r.options.top=T.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var P=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+P+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,a){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+o)},options:a,type:"link"})},t.textWithLink=function(n,r,i,o){var a,s,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){s=o.maxWidth;var u=this.splitTextToSize(n,s).length;a=Math.ceil(c*u)}else s=l,a=c;return this.text(n,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,s,a,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Zt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},s=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&o(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var y=0,w=n,N="",k=0;for(y=0;y<v.length;y+=1)w[v.charCodeAt(y)]!==void 0?(k++,typeof(w=w[v.charCodeAt(y)])=="number"&&(N+=String.fromCharCode(w),w=n,k=0),y===v.length-1&&(w=n,N+=v.charAt(y-(k-1)),y-=k-1,k=0)):(w=n,N+=v.charAt(y-k),y-=k,k=0);return N};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(v,y,w){return a(v)?o(v)===!1?-1:!c(v)||!a(y)&&!a(w)||!a(w)&&s(y)||s(v)&&!a(y)||s(v)&&l(y)||s(v)&&s(y)?0:u(v)&&a(y)&&!s(y)&&a(w)&&c(w)?3:s(v)||!a(w)?1:2:-1},m=function(v){var y=0,w=0,N=0,k="",A="",T="",P=(v=v||"").split("\\s+"),L=[];for(y=0;y<P.length;y+=1){for(L.push(""),w=0;w<P[y].length;w+=1)k=P[y][w],A=P[y][w-1],T=P[y][w+1],a(k)?(N=g(k,A,T),L[y]+=N!==-1?String.fromCharCode(e[k.charCodeAt(0)][N]):k):L[y]+=k;L[y]=f(L[y])}return L.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var N=0;for(w=[],N=0;N<y.length;N+=1)Array.isArray(y[N])?w.push([m(y[N][0]),y[N][1],y[N][2]]):w.push([m(y[N])]);v=w}else v=m(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",b])})(Zt.API),Zt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(s){o=s}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Zt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,m=0,b=0,v=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,A){return k.concat(y.splitTextToSize(A,w))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)m<(v=this.getStringUnitWidth(l[N],{font:f})*u)&&(m=v);return m!==0&&(b=l.length),{w:m/=g,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,g){if(r.call(this),!u)throw new Error("No data for PDF table.");var m,b,v,y,w=[],N=[],k=[],A={},T={},P=[],L=[],C=(g=g||{}).autoSize||!1,M=g.printHeaders!==!1,q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,D=g.margins||Object.assign({width:this.getPageWidth()},e),I=typeof g.padding=="number"?g.padding:3,z=g.headerBackgroundColor||"#c8c8c8",U=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=U,this.setFontSize(q),f==null)N=w=Object.keys(u[0]),k=w.map(function(){return"left"});else if(Array.isArray(f)&&Ar(f[0])==="object")for(w=f.map(function(fe){return fe.name}),N=f.map(function(fe){return fe.prompt||fe.name||""}),k=f.map(function(fe){return fe.align||"left"}),m=0;m<f.length;m+=1)T[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(N=w=f,k=w.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<w.length;m+=1){for(A[y=w[m]]=u.map(function(fe){return fe[y]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=A[y],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)P.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[y]=Math.max.apply(null,P)+I+I,P=[]}if(M){var Y={};for(m=0;m<w.length;m+=1)Y[w[m]]={},Y[w[m]].text=N[m],Y[w[m]].align=k[m];var ne=s.call(this,Y,T);L=w.map(function(fe){return new o(l,c,T[fe],ne,Y[fe].text,void 0,Y[fe].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var W=f.reduce(function(fe,X){return fe[X.name]=X.align,fe},{});for(m=0;m<u.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:u[m]},this);var G=s.call(this,u[m],T);for(v=0;v<w.length;v+=1){var K=u[m][w[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:v,data:K},this),a.call(this,new o(l,c,T[w[v]],G,K,m+2,W[w[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var b=l[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/g+u+u},this).reduce(function(m,b){return Math.max(m,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(Zt.API);var QG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},JG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bT=XG(JG),ZG=[100,200,300,400,500,600,700,800,900],mNe=XG(ZG);function k5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return QG[o=o||"normal"]?o:"normal"})(t.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof bT[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function yB(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var gNe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function wB(t){return t.trimLeft()}function vNe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function yNe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Sb,SB,_B,Fp,_b,EB,NB,AB,C5=["times"];function kB(t,e,n,r,i){var o=4,a=TB;switch(i){case Zt.API.image_compression.FAST:o=1,a=CB;break;case Zt.API.image_compression.MEDIUM:o=6,a=OB;break;case Zt.API.image_compression.SLOW:o=9,a=MB}t=(function(l,c,u,f){for(var g,m=l.length/c,b=new Uint8Array(l.length+m),v=[bNe,CB,TB,OB,MB],y=0;y<m;y+=1){var w=y*c,N=l.subarray(w,w+c);if(f)b.set(f(N,u,g),w+y);else{for(var k=v.length,A=[],T=0;T<k;T+=1)A[T]=v[T](N,u,g);var P=wNe(A.concat());b.set(A[P],w+y)}g=N}return b})(t,e,Math.ceil(n*r/8),a);var s=fT(t,{level:o});return Zt.API.__addimage__.arrayBufferToBinaryString(s)}function bNe(t){var e=Array.apply([],t);return e.unshift(0),e}function CB(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function TB(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var a=n&&n[o]||0;i[o+1]=t[o]-a+256&255}return i}function OB(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var a=t[o-e]||0,s=n&&n[o]||0;i[o+1]=t[o]+256-(a+s>>>1)&255}return i}function MB(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var a=xNe(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-a+256&255}return i}function xNe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function wNe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function T5(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),a=(1<<n)-1;return eY(t,i)>>o&a}function PB(t,e,n,r){var i=n*r,o=Math.floor(i/8),a=16-(i-8*o+r),s=(1<<r)-1,l=(e&s)<<a;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var g=f>>8&255;c.setUint8(u,g)}})(t,o,eY(t,o)&~(s<<a)&65535|l)}function eY(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function SNe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,a=1<<1+(7&i);t[e++],t[e++];var s=null,l=null;o&&(s=e,l=a,e+=3*a);var c=!0,u=[],f=0,g=null,m=0,b=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,g=t[e++],1&v||(g=null),m=v>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,A=t[e++],T=A>>6&1,P=1<<1+(7&A),L=s,C=l,M=!1;A>>7&&(M=!0,L=e,C=P,e+=3*P);var q=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}u.push({x:y,y:w,width:N,height:k,has_local_palette:M,palette_offset:L,palette_size:C,data_offset:q,data_length:e-q,transparent_index:g,interlaced:!!T,delay:f,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,z){var U=this.frameInfo(I),Y=U.width*U.height,ne=new Uint8Array(Y);RB(t,U.data_offset,ne,Y);var W=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var K=U.width,fe=n-K,X=K,F=4*(U.y*n+U.x),V=4*((U.y+U.height)*n+U.x),ee=F,ie=4*fe;U.interlaced===!0&&(ie+=4*n*7);for(var ue=8,he=0,me=ne.length;he<me;++he){var le=ne[he];if(X===0&&(X=K,(ee+=ie)>=V&&(ie=4*fe+4*n*(ue-1),ee=F+(K+fe)*(ue<<1),ue>>=1)),le===G)ee+=4;else{var be=t[W+3*le],Se=t[W+3*le+1],xe=t[W+3*le+2];z[ee++]=xe,z[ee++]=Se,z[ee++]=be,z[ee++]=255}--X}},this.decodeAndBlitFrameRGBA=function(I,z){var U=this.frameInfo(I),Y=U.width*U.height,ne=new Uint8Array(Y);RB(t,U.data_offset,ne,Y);var W=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var K=U.width,fe=n-K,X=K,F=4*(U.y*n+U.x),V=4*((U.y+U.height)*n+U.x),ee=F,ie=4*fe;U.interlaced===!0&&(ie+=4*n*7);for(var ue=8,he=0,me=ne.length;he<me;++he){var le=ne[he];if(X===0&&(X=K,(ee+=ie)>=V&&(ie=4*fe+4*n*(ue-1),ee=F+(K+fe)*(ue<<1),ue>>=1)),le===G)ee+=4;else{var be=t[W+3*le],Se=t[W+3*le+1],xe=t[W+3*le+2];z[ee++]=be,z[ee++]=Se,z[ee++]=xe,z[ee++]=255}--X}}}function RB(t,e,n,r){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,l=i+1,c=(1<<l)-1,u=0,f=0,g=0,m=t[e++],b=new Int32Array(4096),v=null;;){for(;u<16&&m!==0;)f|=t[e++]<<u,u+=8,m===1?m=t[e++]:--m;if(u<l)break;var y=f&c;if(f>>=l,u-=l,y!==o){if(y===a)break;for(var w=y<s?y:v,N=0,k=w;k>o;)k=b[k]>>8,++N;var A=k;if(g+N+(w!==y?1:0)>r)return void jr.log("Warning, gif stream longer than expected.");n[g++]=A;var T=g+=N;for(w!==y&&(n[g++]=A),k=w;N--;)k=b[k],n[--T]=255&k,k>>=8;v!==null&&s<4096&&(b[s++]=v<<8|A,s>=c+1&&l<12&&(++l,c=c<<1|1)),v=y}else s=a+1,c=(1<<(l=i+1))-1,v=null}return g!==r&&jr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function O5(t){var e,n,r,i,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),g=new Array(65535),m=new Array(64),b=new Array(64),v=[],y=0,w=7,N=new Array(64),k=new Array(64),A=new Array(64),T=new Array(256),P=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(F,V){for(var ee=0,ie=0,ue=new Array,he=1;he<=16;he++){for(var me=1;me<=F[he];me++)ue[V[ie]]=[],ue[V[ie]][0]=ee,ue[V[ie]][1]=he,ie++,ee++;ee*=2}return ue}function W(F){for(var V=F[0],ee=F[1]-1;ee>=0;)V&1<<ee&&(y|=1<<w),ee--,--w<0&&(y==255?(G(255),G(0)):G(y),w=7,y=0)}function G(F){v.push(F)}function K(F){G(F>>8&255),G(255&F)}function fe(F,V,ee,ie,ue){for(var he,me=ue[0],le=ue[240],be=(function(Fe,lt){var Ze,Et,St,It,Tt,xt,rn,Lt,Mt,Gt,wt=0;for(Mt=0;Mt<8;++Mt){Ze=Fe[wt],Et=Fe[wt+1],St=Fe[wt+2],It=Fe[wt+3],Tt=Fe[wt+4],xt=Fe[wt+5],rn=Fe[wt+6];var _n=Ze+(Lt=Fe[wt+7]),Cn=Ze-Lt,At=Et+rn,mn=Et-rn,Gn=St+xt,Jt=St-xt,En=It+Tt,un=It-Tt,ur=_n+En,ye=_n-En,tt=At+Gn,yt=At-Gn;Fe[wt]=ur+tt,Fe[wt+4]=ur-tt;var ge=.707106781*(yt+ye);Fe[wt+2]=ye+ge,Fe[wt+6]=ye-ge;var qe=.382683433*((ur=un+Jt)-(yt=mn+Cn)),nt=.5411961*ur+qe,Xt=1.306562965*yt+qe,Ln=.707106781*(tt=Jt+mn),ht=Cn+Ln,ct=Cn-Ln;Fe[wt+5]=ct+nt,Fe[wt+3]=ct-nt,Fe[wt+1]=ht+Xt,Fe[wt+7]=ht-Xt,wt+=8}for(wt=0,Mt=0;Mt<8;++Mt){Ze=Fe[wt],Et=Fe[wt+8],St=Fe[wt+16],It=Fe[wt+24],Tt=Fe[wt+32],xt=Fe[wt+40],rn=Fe[wt+48];var ft=Ze+(Lt=Fe[wt+56]),Pt=Ze-Lt,Kn=Et+rn,dn=Et-rn,yr=St+xt,Br=St-xt,wa=It+Tt,Rs=It-Tt,jo=ft+wa,$a=ft-wa,Mi=Kn+yr,Yo=Kn-yr;Fe[wt]=jo+Mi,Fe[wt+32]=jo-Mi;var go=.707106781*(Yo+$a);Fe[wt+16]=$a+go,Fe[wt+48]=$a-go;var za=.382683433*((jo=Rs+Br)-(Yo=dn+Pt)),Sa=.5411961*jo+za,js=1.306562965*Yo+za,vl=.707106781*(Mi=Br+dn),vo=Pt+vl,yl=Pt-vl;Fe[wt+40]=yl+Sa,Fe[wt+24]=yl-Sa,Fe[wt+8]=vo+js,Fe[wt+56]=vo-js,wt++}for(Mt=0;Mt<64;++Mt)Gt=Fe[Mt]*lt[Mt],m[Mt]=Gt>0?Gt+.5|0:Gt-.5|0;return m})(F,V),Se=0;Se<64;++Se)b[L[Se]]=be[Se];var xe=b[0]-ee;ee=b[0],xe==0?W(ie[0]):(W(ie[g[he=32767+xe]]),W(f[he]));for(var Le=63;Le>0&&b[Le]==0;)Le--;if(Le==0)return W(me),ee;for(var Ne,se=1;se<=Le;){for(var ze=se;b[se]==0&&se<=Le;)++se;var st=se-ze;if(st>=16){Ne=st>>4;for(var Ge=1;Ge<=Ne;++Ge)W(le);st&=15}he=32767+b[se],W(ue[(st<<4)+g[he]]),W(f[he]),se++}return Le!=63&&W(me),ee}function X(F){F=Math.min(Math.max(F,1),100),o!=F&&((function(V){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ue=a((ee[ie]*V+50)/100);ue=Math.min(Math.max(ue,1),255),s[L[ie]]=ue}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var le=a((he[me]*V+50)/100);le=Math.min(Math.max(le,1),255),l[L[me]]=le}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,xe=0;xe<8;xe++)for(var Le=0;Le<8;Le++)c[Se]=1/(s[L[Se]]*be[xe]*be[Le]*8),u[Se]=1/(l[L[Se]]*be[xe]*be[Le]*8),Se++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),o=F)}this.encode=function(F,V){V&&X(V),v=new Array,y=0,w=7,K(65496),K(65504),K(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),K(1),K(1),G(0),G(0),(function(){K(65499),K(132),G(0);for(var Et=0;Et<64;Et++)G(s[Et]);G(1);for(var St=0;St<64;St++)G(l[St])})(),(function(Et,St){K(65472),K(17),G(8),K(St),K(Et),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})(F.width,F.height),(function(){K(65476),K(418),G(0);for(var Et=0;Et<16;Et++)G(C[Et+1]);for(var St=0;St<=11;St++)G(M[St]);G(16);for(var It=0;It<16;It++)G(q[It+1]);for(var Tt=0;Tt<=161;Tt++)G(D[Tt]);G(1);for(var xt=0;xt<16;xt++)G(I[xt+1]);for(var rn=0;rn<=11;rn++)G(z[rn]);G(17);for(var Lt=0;Lt<16;Lt++)G(U[Lt+1]);for(var Mt=0;Mt<=161;Mt++)G(Y[Mt])})(),K(65498),K(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var ee=0,ie=0,ue=0;y=0,w=7,this.encode.displayName="_encode_";for(var he,me,le,be,Se,xe,Le,Ne,se,ze=F.data,st=F.width,Ge=F.height,Fe=4*st,lt=0;lt<Ge;){for(he=0;he<Fe;){for(Se=Fe*lt+he,Le=-1,Ne=0,se=0;se<64;se++)xe=Se+(Ne=se>>3)*Fe+(Le=4*(7&se)),lt+Ne>=Ge&&(xe-=Fe*(lt+1+Ne-Ge)),he+Le>=Fe&&(xe-=he+Le-Fe+4),me=ze[xe++],le=ze[xe++],be=ze[xe++],N[se]=(P[me]+P[le+256|0]+P[be+512|0]>>16)-128,k[se]=(P[me+768|0]+P[le+1024|0]+P[be+1280|0]>>16)-128,A[se]=(P[me+1280|0]+P[le+1536|0]+P[be+1792|0]>>16)-128;ee=fe(N,c,ee,e,r),ie=fe(k,u,ie,n,i),ue=fe(A,u,ue,n,i),he+=32}lt+=8}if(w>=0){var Ze=[];Ze[1]=w+1,Ze[0]=(1<<w+1)-1,W(Ze)}return K(65497),new Uint8Array(v)},t=t||50,(function(){for(var F=String.fromCharCode,V=0;V<256;V++)T[V]=F(V)})(),e=ne(C,M),n=ne(I,z),r=ne(q,D),i=ne(U,Y),(function(){for(var F=1,V=2,ee=1;ee<=15;ee++){for(var ie=F;ie<V;ie++)g[32767+ie]=ee,f[32767+ie]=[],f[32767+ie][1]=ee,f[32767+ie][0]=ie;for(var ue=-(V-1);ue<=-F;ue++)g[32767+ue]=ee,f[32767+ue]=[],f[32767+ue][1]=ee,f[32767+ue][0]=V-1+ue;F<<=1,V<<=1}})(),(function(){for(var F=0;F<256;F++)P[F]=19595*F,P[F+256|0]=38470*F,P[F+512|0]=7471*F+32768,P[F+768|0]=-11059*F,P[F+1024|0]=-21709*F,P[F+1280|0]=32768*F+8421375,P[F+1536|0]=-27439*F,P[F+1792|0]=-5329*F})(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jB(t){function e(M){if(!M)throw Error("assert :P")}function n(M,q,D){for(var I=0;4>I;I++)if(M[q+I]!=D.charCodeAt(I))return!0;return!1}function r(M,q,D,I,z){for(var U=0;U<z;U++)M[q+U]=D[I+U]}function i(M,q,D,I){for(var z=0;z<I;z++)M[q+z]=D}function o(M){return new Int32Array(M)}function a(M,q){for(var D=[],I=0;I<M;I++)D.push(new q);return D}function s(M,q){var D=[];return(function I(z,U,Y){for(var ne=Y[U],W=0;W<ne&&(z.push(Y.length>U+1?[]:new q),!(Y.length<U+1));W++)I(z[W],U+1,Y)})(D,0,M),D}var l=function(){var M=this;function q(S,E){for(var B=1<<E-1>>>0;S&B;)B>>>=1;return B?(S&B-1)+B:S}function D(S,E,B,H,Q){e(!(H%B));do S[E+(H-=B)]=Q;while(0<H)}function I(S,E,B,H,Q){if(e(2328>=Q),512>=Q)var te=o(512);else if((te=o(Q))==null)return 0;return(function(re,oe,ae,ce,_e,Me){var de,Ae,Oe=oe,$e=1<<ae,Re=o(16),De=o(16);for(e(_e!=0),e(ce!=null),e(re!=null),e(0<ae),Ae=0;Ae<_e;++Ae){if(15<ce[Ae])return 0;++Re[ce[Ae]]}if(Re[0]==_e)return 0;for(De[1]=0,de=1;15>de;++de){if(Re[de]>1<<de)return 0;De[de+1]=De[de]+Re[de]}for(Ae=0;Ae<_e;++Ae)de=ce[Ae],0<ce[Ae]&&(Me[De[de]++]=Ae);if(De[15]==1)return(ce=new z).g=0,ce.value=Me[0],D(re,Oe,1,$e,ce),$e;var Be,We=-1,Ke=$e-1,Vt=0,kt=1,An=1,Ft=1<<ae;for(Ae=0,de=1,_e=2;de<=ae;++de,_e<<=1){if(kt+=An<<=1,0>(An-=Re[de]))return 0;for(;0<Re[de];--Re[de])(ce=new z).g=de,ce.value=Me[Ae++],D(re,Oe+Vt,_e,Ft,ce),Vt=q(Vt,de)}for(de=ae+1,_e=2;15>=de;++de,_e<<=1){if(kt+=An<<=1,0>(An-=Re[de]))return 0;for(;0<Re[de];--Re[de]){if(ce=new z,(Vt&Ke)!=We){for(Oe+=Ft,Be=1<<(We=de)-ae;15>We&&!(0>=(Be-=Re[We]));)++We,Be<<=1;$e+=Ft=1<<(Be=We-ae),re[oe+(We=Vt&Ke)].g=Be+ae,re[oe+We].value=Oe-oe-We}ce.g=de-ae,ce.value=Me[Ae++],D(re,Oe+(Vt>>ae),_e,Ft,ce),Vt=q(Vt,de)}}return kt!=2*De[15]-1?0:$e})(S,E,B,H,Q,te)}function z(){this.value=this.g=0}function U(){this.value=this.g=0}function Y(){this.G=a(5,z),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ga,U)}function ne(S,E,B,H){e(S!=null),e(E!=null),e(2147483648>H),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=E,S.pa=B,S.Jd=E,S.Yc=B+H,S.Zc=4<=H?B+H-4+1:B,me(S)}function W(S,E){for(var B=0;0<E--;)B|=be(S,128)<<E;return B}function G(S,E){var B=W(S,E);return le(S)?-B:B}function K(S,E,B,H){var Q,te=0;for(e(S!=null),e(E!=null),e(4294967288>H),S.Sb=H,S.Ra=0,S.u=0,S.h=0,4<H&&(H=4),Q=0;Q<H;++Q)te+=E[B+Q]<<8*Q;S.Ra=te,S.bb=H,S.oa=E,S.pa=B}function fe(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<gc-8>>>0,++S.bb,S.u-=8;ie(S)&&(S.h=1,S.u=0)}function X(S,E){if(e(0<=E),!S.h&&E<=ka){var B=ee(S)&Aa[E];return S.u+=E,fe(S),B}return S.h=1,S.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(S){return S.Ra>>>(S.u&gc-1)>>>0}function ie(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>gc}function ue(S,E){S.u=E,S.h=ie(S)}function he(S){S.u>=zs&&(e(S.u>=zs),fe(S))}function me(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function le(S){return W(S,1)}function be(S,E){var B=S.Ca;0>S.b&&me(S);var H=S.b,Q=B*E>>>8,te=(S.I>>>H>Q)+0;for(te?(B-=Q,S.I-=Q+1<<H>>>0):B=Q+1,H=B,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+kl[H],S.b-=H,S.Ca=(B<<H)-1,te}function Se(S,E,B){S[E+0]=B>>24&255,S[E+1]=B>>16&255,S[E+2]=B>>8&255,S[E+3]=255&B}function xe(S,E){return S[E+0]|S[E+1]<<8}function Le(S,E){return xe(S,E)|S[E+2]<<16}function Ne(S,E){return xe(S,E)|xe(S,E+2)<<16}function se(S,E){var B=1<<E;return e(S!=null),e(0<E),S.X=o(B),S.X==null?0:(S.Mb=32-E,S.Xa=E,1)}function ze(S,E){e(S!=null),e(E!=null),e(S.Xa==E.Xa),r(E.X,0,S.X,0,1<<E.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function Ge(S,E,B,H){e(B!=null),e(H!=null);var Q=B[0],te=H[0];return Q==0&&(Q=(S*te+E/2)/E),te==0&&(te=(E*Q+S/2)/S),0>=Q||0>=te?0:(B[0]=Q,H[0]=te,1)}function Fe(S,E){return S+(1<<E)-1>>>E}function lt(S,E){return((4278255360&S)+(4278255360&E)>>>0&4278255360)+((16711935&S)+(16711935&E)>>>0&16711935)>>>0}function Ze(S,E){M[E]=function(B,H,Q,te,re,oe,ae){var ce;for(ce=0;ce<re;++ce){var _e=M[S](oe[ae+ce-1],Q,te+ce);oe[ae+ce]=lt(B[H+ce],_e)}}}function Et(){this.ud=this.hd=this.jd=0}function St(S,E){return((4278124286&(S^E))>>>1)+(S&E)>>>0}function It(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Tt(S,E){return It(S+(S-E+.5>>1))}function xt(S,E,B){return Math.abs(E-B)-Math.abs(S-B)}function rn(S,E,B,H,Q,te,re){for(H=te[re-1],B=0;B<Q;++B)te[re+B]=H=lt(S[E+B],H)}function Lt(S,E,B,H,Q){var te;for(te=0;te<B;++te){var re=S[E+te],oe=re>>8&255,ae=16711935&(ae=(ae=16711935&re)+((oe<<16)+oe));H[Q+te]=(4278255360&re)+ae>>>0}}function Mt(S,E){E.jd=255&S,E.hd=S>>8&255,E.ud=S>>16&255}function Gt(S,E,B,H,Q,te){var re;for(re=0;re<H;++re){var oe=E[B+re],ae=oe>>>8,ce=oe,_e=255&(_e=(_e=oe>>>16)+((S.jd<<24>>24)*(ae<<24>>24)>>>5));ce=255&(ce=(ce+=(S.hd<<24>>24)*(ae<<24>>24)>>>5)+((S.ud<<24>>24)*(_e<<24>>24)>>>5)),Q[te+re]=(4278255360&oe)+(_e<<16)+ce}}function wt(S,E,B,H,Q){M[E]=function(te,re,oe,ae,ce,_e,Me,de,Ae){for(ae=Me;ae<de;++ae)for(Me=0;Me<Ae;++Me)ce[_e++]=Q(oe[H(te[re++])])},M[S]=function(te,re,oe,ae,ce,_e,Me){var de=8>>te.b,Ae=te.Ea,Oe=te.K[0],$e=te.w;if(8>de)for(te=(1<<te.b)-1,$e=(1<<de)-1;re<oe;++re){var Re,De=0;for(Re=0;Re<Ae;++Re)Re&te||(De=H(ae[ce++])),_e[Me++]=Q(Oe[De&$e]),De>>=de}else M["VP8LMapColor"+B](ae,ce,Oe,$e,_e,Me,re,oe,Ae)}}function _n(S,E,B,H,Q){for(B=E+B;E<B;){var te=S[E++];H[Q++]=te>>16&255,H[Q++]=te>>8&255,H[Q++]=255&te}}function Cn(S,E,B,H,Q){for(B=E+B;E<B;){var te=S[E++];H[Q++]=te>>16&255,H[Q++]=te>>8&255,H[Q++]=255&te,H[Q++]=te>>24&255}}function At(S,E,B,H,Q){for(B=E+B;E<B;){var te=(re=S[E++])>>16&240|re>>12&15,re=240&re|re>>28&15;H[Q++]=te,H[Q++]=re}}function mn(S,E,B,H,Q){for(B=E+B;E<B;){var te=(re=S[E++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;H[Q++]=te,H[Q++]=re}}function Gn(S,E,B,H,Q){for(B=E+B;E<B;){var te=S[E++];H[Q++]=255&te,H[Q++]=te>>8&255,H[Q++]=te>>16&255}}function Jt(S,E,B,H,Q,te){if(te==0)for(B=E+B;E<B;)Se(H,((te=S[E++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Q+=32;else r(H,Q,S,E,B)}function En(S,E){M[E][0]=M[S+"0"],M[E][1]=M[S+"1"],M[E][2]=M[S+"2"],M[E][3]=M[S+"3"],M[E][4]=M[S+"4"],M[E][5]=M[S+"5"],M[E][6]=M[S+"6"],M[E][7]=M[S+"7"],M[E][8]=M[S+"8"],M[E][9]=M[S+"9"],M[E][10]=M[S+"10"],M[E][11]=M[S+"11"],M[E][12]=M[S+"12"],M[E][13]=M[S+"13"],M[E][14]=M[S+"0"],M[E][15]=M[S+"0"]}function un(S){return S==yd||S==gu||S==qf||S==Uf}function ur(){this.eb=[],this.size=this.A=this.fb=0}function ye(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ur,this.f.kb=new ye,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ge(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qe(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function nt(S,E){var B=S.T,H=E.ba.f.RGBA,Q=H.eb,te=H.fb+S.ka*H.A,re=ta[E.ba.S],oe=S.y,ae=S.O,ce=S.f,_e=S.N,Me=S.ea,de=S.W,Ae=E.cc,Oe=E.dc,$e=E.Mc,Re=E.Nc,De=S.ka,Be=S.ka+S.T,We=S.U,Ke=We+1>>1;for(De==0?re(oe,ae,null,null,ce,_e,Me,de,ce,_e,Me,de,Q,te,null,null,We):(re(E.ec,E.fc,oe,ae,Ae,Oe,$e,Re,ce,_e,Me,de,Q,te-H.A,Q,te,We),++B);De+2<Be;De+=2)Ae=ce,Oe=_e,$e=Me,Re=de,_e+=S.Rc,de+=S.Rc,te+=2*H.A,re(oe,(ae+=2*S.fa)-S.fa,oe,ae,Ae,Oe,$e,Re,ce,_e,Me,de,Q,te-H.A,Q,te,We);return ae+=S.fa,S.j+Be<S.o?(r(E.ec,E.fc,oe,ae,We),r(E.cc,E.dc,ce,_e,Ke),r(E.Mc,E.Nc,Me,de,Ke),B--):1&Be||re(oe,ae,null,null,ce,_e,Me,de,ce,_e,Me,de,Q,te+H.A,null,null,We),B}function Xt(S,E,B){var H=S.F,Q=[S.J];if(H!=null){var te=S.U,re=E.ba.S,oe=re==zf||re==qf;E=E.ba.f.RGBA;var ae=[0],ce=S.ka;ae[0]=S.T,S.Kb&&(ce==0?--ae[0]:(--ce,Q[0]-=S.width),S.j+S.ka+S.T==S.o&&(ae[0]=S.o-S.j-ce));var _e=E.eb;ce=E.fb+ce*E.A,S=Bf(H,Q[0],S.width,te,ae,_e,ce+(oe?0:3),E.A),e(B==ae),S&&un(re)&&mu(_e,ce,oe,te,ae,E.A)}return 0}function Ln(S){var E=S.ma,B=E.ba.S,H=11>B,Q=B==xc||B==$f||B==zf||B==xr||B==12||un(B);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!dd(E.Oa,S,Q?11:12))return 0;if(Q&&un(B)&&ap(),S.da)alert("todo:use_scaling");else{if(H){if(E.Ib=qe,S.Kb){if(B=S.U+1>>1,E.memory=o(S.U+2*B),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+S.U,E.Mc=E.cc,E.Nc=E.dc+B,E.Ib=nt,ap()}}else alert("todo:EmitYUV");Q&&(E.Jb=Xt,H&&Ka())}if(H&&!oo){for(S=0;256>S;++S)na[S]=89858*(S-128)+ms>>Ml,ra[S]=-22014*(S-128)+ms,Sd[S]=-45773*(S-128),xu[S]=113618*(S-128)+ms>>Ml;for(S=ar;S<hr;++S)E=76283*(S-16)+ms>>Ml,pp[S-ar]=ni(E,255),m0[S-ar]=ni(E+8>>4,15);oo=1}return 1}function ht(S){var E=S.ma,B=S.U,H=S.T;return e(!(1&S.ka)),0>=B||0>=H?0:(B=E.Ib(S,E),E.Jb!=null&&E.Jb(S,E,B),E.Dc+=B,1)}function ct(S){S.ma.memory=null}function ft(S,E,B,H){return X(S,8)!=47?0:(E[0]=X(S,14)+1,B[0]=X(S,14)+1,H[0]=X(S,1),X(S,3)!=0?0:!S.h)}function Pt(S,E){if(4>S)return S+1;var B=S-2>>1;return(2+(1&S)<<B)+X(E,B)+1}function Kn(S,E){return 120<E?E-120:1<=(B=((B=Q2[E-1])>>4)*S+(8-(15&B)))?B:1;var B}function dn(S,E,B){var H=ee(B),Q=S[E+=255&H].g-8;return 0<Q&&(ue(B,B.u+8),H=ee(B),E+=S[E].value,E+=H&(1<<Q)-1),ue(B,B.u+S[E].g),S[E].value}function yr(S,E,B){return B.g+=S.g,B.value+=S.value<<E>>>0,e(8>=B.g),S.g}function Br(S,E,B){var H=S.xc;return e((E=H==0?0:S.vc[S.md*(B>>H)+(E>>H)])<S.Wb),S.Ya[E]}function wa(S,E,B,H){var Q=S.ab,te=S.c*E,re=S.C;E=re+E;var oe=B,ae=H;for(H=S.Ta,B=S.Ua;0<Q--;){var ce=S.gc[Q],_e=re,Me=E,de=oe,Ae=ae,Oe=(ae=H,oe=B,ce.Ea);switch(e(_e<Me),e(Me<=ce.nc),ce.hc){case 2:fi(de,Ae,(Me-_e)*Oe,ae,oe);break;case 0:var $e=_e,Re=Me,De=ae,Be=oe,We=(Ft=ce).Ea;$e==0&&(Cl(de,Ae,null,null,1,De,Be),rn(de,Ae+1,0,0,We-1,De,Be+1),Ae+=We,Be+=We,++$e);for(var Ke=1<<Ft.b,Vt=Ke-1,kt=Fe(We,Ft.b),An=Ft.K,Ft=Ft.w+($e>>Ft.b)*kt;$e<Re;){var qn=An,oi=Ft,Tn=1;for(qs(de,Ae,De,Be-We,1,De,Be);Tn<We;){var Ct=(Tn&~Vt)+Ke;Ct>We&&(Ct=We),(0,du[qn[oi++]>>8&15])(de,Ae+ +Tn,De,Be+Tn-We,Ct-Tn,De,Be+Tn),Tn=Ct}Ae+=We,Be+=We,++$e&Vt||(Ft+=kt)}Me!=ce.nc&&r(ae,oe-Oe,ae,oe+(Me-_e-1)*Oe,Oe);break;case 1:for(Oe=de,Re=Ae,We=(de=ce.Ea)-(Be=de&~(De=(Ae=1<<ce.b)-1)),$e=Fe(de,ce.b),Ke=ce.K,ce=ce.w+(_e>>ce.b)*$e;_e<Me;){for(Vt=Ke,kt=ce,An=new Et,Ft=Re+Be,qn=Re+de;Re<Ft;)Mt(Vt[kt++],An),hd(An,Oe,Re,Ae,ae,oe),Re+=Ae,oe+=Ae;Re<qn&&(Mt(Vt[kt++],An),hd(An,Oe,Re,We,ae,oe),Re+=We,oe+=We),++_e&De||(ce+=$e)}break;case 3:if(de==ae&&Ae==oe&&0<ce.b){for(Re=ae,de=Oe=oe+(Me-_e)*Oe-(Be=(Me-_e)*Fe(ce.Ea,ce.b)),Ae=ae,De=oe,$e=[],Be=(We=Be)-1;0<=Be;--Be)$e[Be]=Ae[De+Be];for(Be=We-1;0<=Be;--Be)Re[de+Be]=$e[Be];cu(ce,_e,Me,ae,Oe,ae,oe)}else cu(ce,_e,Me,de,Ae,ae,oe)}oe=H,ae=B}ae!=B&&r(H,B,oe,ae,te)}function Rs(S,E){var B=S.V,H=S.Ba+S.c*S.C,Q=E-S.C;if(e(E<=S.l.o),e(16>=Q),0<Q){var te=S.l,re=S.Ta,oe=S.Ua,ae=te.width;if(wa(S,Q,B,H),Q=oe=[oe],e((B=S.C)<(H=E)),e(te.v<te.va),H>te.o&&(H=te.o),B<te.j){var ce=te.j-B;B=te.j,Q[0]+=ce*ae}if(B>=H?B=0:(Q[0]+=4*te.v,te.ka=B-te.j,te.U=te.va-te.v,te.T=H-B,B=1),B){if(oe=oe[0],11>(B=S.ca).S){var _e=B.f.RGBA,Me=(H=B.S,Q=te.U,te=te.T,ce=_e.eb,_e.A),de=te;for(_e=_e.fb+S.Ma*_e.A;0<de--;){var Ae=re,Oe=oe,$e=Q,Re=ce,De=_e;switch(H){case up:pd(Ae,Oe,$e,Re,De);break;case xc:Tl(Ae,Oe,$e,Re,De);break;case yd:Tl(Ae,Oe,$e,Re,De),mu(Re,De,0,$e,1,0);break;case u0:fu(Ae,Oe,$e,Re,De);break;case $f:Jt(Ae,Oe,$e,Re,De,1);break;case gu:Jt(Ae,Oe,$e,Re,De,1),mu(Re,De,0,$e,1,0);break;case zf:Jt(Ae,Oe,$e,Re,De,0);break;case qf:Jt(Ae,Oe,$e,Re,De,0),mu(Re,De,1,$e,1,0);break;case xr:vc(Ae,Oe,$e,Re,De);break;case Uf:vc(Ae,Oe,$e,Re,De),wg(Re,De,$e,1,0);break;case dp:yc(Ae,Oe,$e,Re,De);break;default:e(0)}oe+=ae,_e+=Me}S.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=B.height)}}S.C=E,e(S.C<=S.i)}function jo(S){var E;if(0<S.ua)return 0;for(E=0;E<S.Wb;++E){var B=S.Ya[E].G,H=S.Ya[E].H;if(0<B[1][H[1]+0].g||0<B[2][H[2]+0].g||0<B[3][H[3]+0].g)return 0}return 1}function $a(S,E,B,H,Q,te){if(S.Z!=0){var re=S.qd,oe=S.rd;for(e(xo[S.Z]!=null);E<B;++E)xo[S.Z](re,oe,H,Q,H,Q,te),re=H,oe=Q,Q+=te;S.qd=re,S.rd=oe}}function Mi(S,E){var B=S.l.ma,H=B.Z==0||B.Z==1?S.l.j:S.C;if(H=S.C<H?H:S.C,e(E<=S.l.o),E>H){var Q=S.l.width,te=B.ca,re=B.tb+Q*H,oe=S.V,ae=S.Ba+S.c*H,ce=S.gc;e(S.ab==1),e(ce[0].hc==3),hs(ce[0],H,E,oe,ae,te,re),$a(B,H,E,te,re,Q)}S.C=S.Ma=E}function Yo(S,E,B,H,Q,te,re){var oe=S.$/H,ae=S.$%H,ce=S.m,_e=S.s,Me=B+S.$,de=Me;Q=B+H*Q;var Ae=B+H*te,Oe=280+_e.ua,$e=S.Pb?oe:16777216,Re=0<_e.ua?_e.Wa:null,De=_e.wc,Be=Me<Ae?Br(_e,ae,oe):null;e(S.C<te),e(Ae<=Q);var We=!1;e:for(;;){for(;We||Me<Ae;){var Ke=0;if(oe>=$e){var Vt=Me-B;e(($e=S).Pb),$e.wd=$e.m,$e.xd=Vt,0<$e.s.ua&&ze($e.s.Wa,$e.s.vb),$e=oe+hp}if(ae&De||(Be=Br(_e,ae,oe)),e(Be!=null),Be.Qb&&(E[Me]=Be.qb,We=!0),!We)if(he(ce),Be.jc){Ke=ce,Vt=E;var kt=Me,An=Be.pd[ee(Ke)&Ga-1];e(Be.jc),256>An.g?(ue(Ke,Ke.u+An.g),Vt[kt]=An.value,Ke=0):(ue(Ke,Ke.u+An.g-256),e(256<=An.value),Ke=An.value),Ke==0&&(We=!0)}else Ke=dn(Be.G[0],Be.H[0],ce);if(ce.h)break;if(We||256>Ke){if(!We)if(Be.nd)E[Me]=(Be.qb|Ke<<8)>>>0;else{if(he(ce),We=dn(Be.G[1],Be.H[1],ce),he(ce),Vt=dn(Be.G[2],Be.H[2],ce),kt=dn(Be.G[3],Be.H[3],ce),ce.h)break;E[Me]=(kt<<24|We<<16|Ke<<8|Vt)>>>0}if(We=!1,++Me,++ae>=H&&(ae=0,++oe,re!=null&&oe<=te&&!(oe%16)&&re(S,oe),Re!=null))for(;de<Me;)Ke=E[de++],Re.X[(506832829*Ke&4294967295)>>>Re.Mb]=Ke}else if(280>Ke){if(Ke=Pt(Ke-256,ce),Vt=dn(Be.G[4],Be.H[4],ce),he(ce),Vt=Kn(H,Vt=Pt(Vt,ce)),ce.h)break;if(Me-B<Vt||Q-Me<Ke)break e;for(kt=0;kt<Ke;++kt)E[Me+kt]=E[Me+kt-Vt];for(Me+=Ke,ae+=Ke;ae>=H;)ae-=H,++oe,re!=null&&oe<=te&&!(oe%16)&&re(S,oe);if(e(Me<=Q),ae&De&&(Be=Br(_e,ae,oe)),Re!=null)for(;de<Me;)Ke=E[de++],Re.X[(506832829*Ke&4294967295)>>>Re.Mb]=Ke}else{if(!(Ke<Oe))break e;for(We=Ke-280,e(Re!=null);de<Me;)Ke=E[de++],Re.X[(506832829*Ke&4294967295)>>>Re.Mb]=Ke;Ke=Me,e(!(We>>>(Vt=Re).Xa)),E[Ke]=Vt.X[We],We=!0}We||e(ce.h==ie(ce))}if(S.Pb&&ce.h&&Me<Q)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&ze(S.s.vb,S.s.Wa);else{if(ce.h)break e;re?.(S,oe>te?te:oe),S.a=0,S.$=Me-B}return 1}return S.a=3,0}function go(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var E=S.Wa;E!=null&&(E.X=null),S.vb=null,e(S!=null)}function za(){var S=new Wt;return S==null?null:(S.a=0,S.xb=xd,En("Predictor","VP8LPredictors"),En("Predictor","VP8LPredictors_C"),En("PredictorAdd","VP8LPredictorsAdd"),En("PredictorAdd","VP8LPredictorsAdd_C"),fi=Lt,hd=Gt,pd=_n,Tl=Cn,vc=At,yc=mn,fu=Gn,M.VP8LMapColor32b=Us,M.VP8LMapColor8b=uu,S)}function Sa(S,E,B,H,Q){var te=1,re=[S],oe=[E],ae=H.m,ce=H.s,_e=null,Me=0;e:for(;;){if(B)for(;te&&X(ae,1);){var de=re,Ae=oe,Oe=H,$e=1,Re=Oe.m,De=Oe.gc[Oe.ab],Be=X(Re,2);if(Oe.Oc&1<<Be)te=0;else{switch(Oe.Oc|=1<<Be,De.hc=Be,De.Ea=de[0],De.nc=Ae[0],De.K=[null],++Oe.ab,e(4>=Oe.ab),Be){case 0:case 1:De.b=X(Re,3)+2,$e=Sa(Fe(De.Ea,De.b),Fe(De.nc,De.b),0,Oe,De.K),De.K=De.K[0];break;case 3:var We,Ke=X(Re,8)+1,Vt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(de[0]=Fe(De.Ea,Vt),De.b=Vt,We=$e=Sa(Ke,1,0,Oe,De.K)){var kt,An=Ke,Ft=De,qn=1<<(8>>Ft.b),oi=o(qn);if(oi==null)We=0;else{var Tn=Ft.K[0],Ct=Ft.w;for(oi[0]=Ft.K[0][0],kt=1;kt<1*An;++kt)oi[kt]=lt(Tn[Ct+kt],oi[kt-1]);for(;kt<4*qn;++kt)oi[kt]=0;Ft.K[0]=null,Ft.K[0]=oi,We=1}}$e=We;break;case 2:break;default:e(0)}te=$e}}if(re=re[0],oe=oe[0],te&&X(ae,1)&&!(te=1<=(Me=X(ae,4))&&11>=Me)){H.a=3;break e}var pt;if(pt=te)t:{var hi,gn,Bn,Cr=H,Wi=re,wi=oe,Xr=Me,Ri=B,Vi=Cr.m,qr=Cr.s,Vn=[null],Zn=1,Ur=0,er=f0[Xr];n:for(;;){if(Ri&&X(Vi,1)){var ai=X(Vi,3)+2,si=Fe(Wi,ai),wr=Fe(wi,ai),wo=si*wr;if(!Sa(si,wr,0,Cr,Vn))break n;for(Vn=Vn[0],qr.xc=ai,hi=0;hi<wo;++hi){var pr=Vn[hi]>>8&65535;Vn[hi]=pr,pr>=Zn&&(Zn=pr+1)}}if(Vi.h)break n;for(gn=0;5>gn;++gn){var Sr=vu[gn];!gn&&0<Xr&&(Sr+=1<<Xr),Ur<Sr&&(Ur=Sr)}var Si=a(Zn*er,z),ao=Zn,ia=a(ao,Y);if(ia==null)var pi=null;else e(65536>=ao),pi=ia;var mi=o(Ur);if(pi==null||mi==null||Si==null){Cr.a=1;break n}var So=Si;for(hi=Bn=0;hi<Zn;++hi){var _r=pi[hi],_o=_r.G,Qa=_r.H,gs=0,Ki=1,gi=0;for(gn=0;5>gn;++gn){Sr=vu[gn],_o[gn]=So,Qa[gn]=Bn,!gn&&0<Xr&&(Sr+=1<<Xr);i:{var _c,Rl=Sr,_d=Cr,Vs=mi,v0=So,Rg=Bn,Rr=0,vs=_d.m,jg=X(vs,1);if(i(Vs,0,0,Rl),jg){var Ig=X(vs,1)+1,mp=X(vs,1),gp=X(vs,mp==0?1:8);Vs[gp]=1,Ig==2&&(Vs[gp=X(vs,8)]=1);var Ks=1}else{var Hr=o(19),_i=X(vs,4)+4;if(19<_i){_d.a=3;var vi=0;break i}for(_c=0;_c<_i;++_c)Hr[X2[_c]]=X(vs,3);var Ed=void 0,jl=void 0,Nd=_d,nS=Hr,ji=Rl,vp=Vs,Gf=0,Gs=Nd.m,ys=8,Ca=a(128,z);r:for(;I(Ca,0,7,nS,19);){if(X(Gs,1)){var Yf=2+2*X(Gs,3);if((Ed=2+X(Gs,Yf))>ji)break r}else Ed=ji;for(jl=0;jl<ji&&Ed--;){he(Gs);var yp=Ca[0+(127&ee(Gs))];ue(Gs,Gs.u+yp.g);var Ec=yp.value;if(16>Ec)vp[jl++]=Ec,Ec!=0&&(ys=Ec);else{var y0=Ec==16,Lg=Ec-16,b0=fp[Lg],Dg=X(Gs,Hf[Lg])+b0;if(jl+Dg>ji)break r;for(var x0=y0?ys:0;0<Dg--;)vp[jl++]=x0}}Gf=1;break r}Gf||(Nd.a=3),Ks=Gf}(Ks=Ks&&!vs.h)&&(Rr=I(v0,Rg,8,Vs,Rl)),Ks&&Rr!=0?vi=Rr:(_d.a=3,vi=0)}if(vi==0)break n;if(Ki&&d0[gn]==1&&(Ki=So[Bn].g==0),gs+=So[Bn].g,Bn+=vi,3>=gn){var Ad,bp=mi[0];for(Ad=1;Ad<Sr;++Ad)mi[Ad]>bp&&(bp=mi[Ad]);gi+=bp}}if(_r.nd=Ki,_r.Qb=0,Ki&&(_r.qb=(_o[3][Qa[3]+0].value<<24|_o[1][Qa[1]+0].value<<16|_o[2][Qa[2]+0].value)>>>0,gs==0&&256>_o[0][Qa[0]+0].value&&(_r.Qb=1,_r.qb+=_o[0][Qa[0]+0].value<<8)),_r.jc=!_r.Qb&&6>gi,_r.jc){var Xf,Ta=_r;for(Xf=0;Xf<Ga;++Xf){var Il=Xf,bs=Ta.pd[Il],Su=Ta.G[0][Ta.H[0]+Il];256<=Su.value?(bs.g=Su.g+256,bs.value=Su.value):(bs.g=0,bs.value=0,Il>>=yr(Su,8,bs),Il>>=yr(Ta.G[1][Ta.H[1]+Il],16,bs),Il>>=yr(Ta.G[2][Ta.H[2]+Il],0,bs),yr(Ta.G[3][Ta.H[3]+Il],24,bs))}}}qr.vc=Vn,qr.Wb=Zn,qr.Ya=pi,qr.yc=Si,pt=1;break t}pt=0}if(!(te=pt)){H.a=3;break e}if(0<Me){if(ce.ua=1<<Me,!se(ce.Wa,Me)){H.a=1,te=0;break e}}else ce.ua=0;var xp=H,wp=re,w0=oe,Sp=xp.s,_p=Sp.xc;if(xp.c=wp,xp.i=w0,Sp.md=Fe(wp,_p),Sp.wc=_p==0?-1:(1<<_p)-1,B){H.xb=Ws;break e}if((_e=o(re*oe))==null){H.a=1,te=0;break e}te=(te=Yo(H,_e,0,re,oe,oe,null))&&!ae.h;break e}return te?(Q!=null?Q[0]=_e:(e(_e==null),e(B)),H.$=0,B||go(ce)):go(ce),te}function js(S,E){var B=S.c*S.i,H=B+E+16*E;return e(S.c<=E),S.V=o(H),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+B+E,1)}function vl(S,E){var B=S.C,H=E-B,Q=S.V,te=S.Ba+S.c*B;for(e(E<=S.l.o);0<H;){var re=16<H?16:H,oe=S.l.ma,ae=S.l.width,ce=ae*re,_e=oe.ca,Me=oe.tb+ae*B,de=S.Ta,Ae=S.Ua;wa(S,re,Q,te),Sg(de,Ae,_e,Me,ce),$a(oe,B,B+re,_e,Me,ae),H-=re,Q+=re*S.c,B+=re}e(B==E),S.C=S.Ma=E}function vo(){this.ub=this.yd=this.td=this.Rb=0}function yl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function id(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function br(){this.Yb=(function(){var S=[];return(function E(B,H,Q){for(var te=Q[H],re=0;re<te&&(B.push(Q.length>H+1?[]:0),!(Q.length<H+1));re++)E(B[re],H+1,Q)})(S,0,[3,11]),S})()}function od(){this.jb=o(3),this.Wc=s([4,8],br),this.Xc=s([4,17],br)}function uc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function qi(){this.ld=this.La=this.dd=this.tc=0}function Is(){this.Na=this.la=0}function it(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qt(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nn(){this.uc=this.M=this.Nb=0,this.wa=Array(new qi),this.Y=0,this.ya=Array(new qt),this.aa=0,this.l=new dr}function jn(){this.y=o(16),this.f=o(8),this.ea=o(8)}function $r(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new vo,this.Kc=new yl,this.ed=new uc,this.Qa=new id,this.Ic=this.$c=this.Aa=0,this.D=new Nn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,F),this.ia=0,this.pb=a(4,it),this.Pa=new od,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jn),this.Hd=0,this.rb=Array(new Is),this.sb=0,this.wa=Array(new qi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qt),this.L=this.aa=0,this.gd=s([4,2],qi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function dr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qa(){var S=new $r;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,yu||(yu=Io)),S}function Pr(S,E,B){return S.a==0&&(S.a=E,S.sc=B,S.cb=0),0}function Ui(S,E,B){return 3<=B&&S[E+0]==157&&S[E+1]==1&&S[E+2]==42}function Hi(S,E){if(S==null)return 0;if(S.a=0,S.sc="OK",E==null)return Pr(S,2,"null VP8Io passed to VP8GetHeaders()");var B=E.data,H=E.w,Q=E.ha;if(4>Q)return Pr(S,7,"Truncated header.");var te=B[H+0]|B[H+1]<<8|B[H+2]<<16,re=S.Od;if(re.Rb=!(1&te),re.td=te>>1&7,re.yd=te>>4&1,re.ub=te>>5,3<re.td)return Pr(S,3,"Incorrect keyframe parameters.");if(!re.yd)return Pr(S,4,"Frame not displayable.");H+=3,Q-=3;var oe=S.Kc;if(re.Rb){if(7>Q)return Pr(S,7,"cannot parse picture header");if(!Ui(B,H,Q))return Pr(S,3,"Bad code word");oe.c=16383&(B[H+4]<<8|B[H+3]),oe.Td=B[H+4]>>6,oe.i=16383&(B[H+6]<<8|B[H+5]),oe.Ud=B[H+6]>>6,H+=7,Q-=7,S.za=oe.c+15>>4,S.Ub=oe.i+15>>4,E.width=oe.c,E.height=oe.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((te=S.Pa).jb,0,255,te.jb.length),e((te=S.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(re.ub>Q)return Pr(S,7,"bad partition length");ne(te=S.m,B,H,re.ub),H+=re.ub,Q-=re.ub,re.Rb&&(oe.Ld=le(te),oe.Kd=le(te)),oe=S.Qa;var ae,ce=S.Pa;if(e(te!=null),e(oe!=null),oe.Cb=le(te),oe.Cb){if(oe.Bb=le(te),le(te)){for(oe.Fb=le(te),ae=0;4>ae;++ae)oe.Zb[ae]=le(te)?G(te,7):0;for(ae=0;4>ae;++ae)oe.Lb[ae]=le(te)?G(te,6):0}if(oe.Bb)for(ae=0;3>ae;++ae)ce.jb[ae]=le(te)?W(te,8):255}else oe.Bb=0;if(te.Ka)return Pr(S,3,"cannot parse segment header");if((oe=S.ed).zd=le(te),oe.Tb=W(te,6),oe.wb=W(te,3),oe.Pc=le(te),oe.Pc&&le(te)){for(ce=0;4>ce;++ce)le(te)&&(oe.vd[ce]=G(te,6));for(ce=0;4>ce;++ce)le(te)&&(oe.od[ce]=G(te,6))}if(S.L=oe.Tb==0?0:oe.zd?1:2,te.Ka)return Pr(S,3,"cannot parse filter header");var _e=Q;if(Q=ae=H,H=ae+_e,oe=_e,S.Xb=(1<<W(S.m,2))-1,_e<3*(ce=S.Xb))B=7;else{for(ae+=3*ce,oe-=3*ce,_e=0;_e<ce;++_e){var Me=B[Q+0]|B[Q+1]<<8|B[Q+2]<<16;Me>oe&&(Me=oe),ne(S.Jc[+_e],B,ae,Me),ae+=Me,oe-=Me,Q+=3}ne(S.Jc[+ce],B,ae,oe),B=ae<H?0:5}if(B!=0)return Pr(S,B,"cannot parse partitions");for(B=W(ae=S.m,7),Q=le(ae)?G(ae,4):0,H=le(ae)?G(ae,4):0,oe=le(ae)?G(ae,4):0,ce=le(ae)?G(ae,4):0,ae=le(ae)?G(ae,4):0,_e=S.Qa,Me=0;4>Me;++Me){if(_e.Cb){var de=_e.Zb[Me];_e.Fb||(de+=B)}else{if(0<Me){S.pb[Me]=S.pb[0];continue}de=B}var Ae=S.pb[Me];Ae.Sc[0]=bd[ni(de+Q,127)],Ae.Sc[1]=Wf[ni(de+0,127)],Ae.Eb[0]=2*bd[ni(de+H,127)],Ae.Eb[1]=101581*Wf[ni(de+oe,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=bd[ni(de+ce,117)],Ae.Qc[1]=Wf[ni(de+ae,127)],Ae.lc=de+ae}if(!re.Rb)return Pr(S,4,"Not a key frame.");for(le(te),re=S.Pa,B=0;4>B;++B){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(oe=0;11>oe;++oe)ce=be(te,Z2[B][Q][H][oe])?W(te,8):p0[B][Q][H][oe],re.Wc[B][Q].Yb[H][oe]=ce;for(Q=0;17>Q;++Q)re.Xc[B][Q]=re.Wc[B][Og[Q]]}return S.kc=le(te),S.kc&&(S.Bd=W(te,8)),S.cb=1}function Io(S,E,B,H,Q,te,re){var oe=E[Q].Yb[B];for(B=0;16>Q;++Q){if(!be(S,oe[B+0]))return Q;for(;!be(S,oe[B+1]);)if(oe=E[++Q].Yb[0],B=0,Q==16)return 16;var ae=E[Q+1].Yb;if(be(S,oe[B+2])){var ce=S,_e=0;if(be(ce,(de=oe)[(Me=B)+3]))if(be(ce,de[Me+6])){for(oe=0,Me=2*(_e=be(ce,de[Me+8]))+(de=be(ce,de[Me+9+_e])),_e=0,de=Cg[Me];de[oe];++oe)_e+=_e+be(ce,de[oe]);_e+=3+(8<<Me)}else be(ce,de[Me+7])?(_e=7+2*be(ce,165),_e+=be(ce,145)):_e=5+be(ce,159);else _e=be(ce,de[Me+4])?3+be(ce,de[Me+5]):2;oe=ae[2]}else _e=1,oe=ae[1];ae=re+Tg[Q],0>(ce=S).b&&me(ce);var Me,de=ce.b,Ae=(Me=ce.Ca>>1)-(ce.I>>de)>>31;--ce.b,ce.Ca+=Ae,ce.Ca|=1,ce.I-=(Me+1&Ae)<<de,te[ae]=((_e^Ae)-Ae)*H[(0<Q)+0]}return 16}function Xo(S){var E=S.rb[S.sb-1];E.la=0,E.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function ro(S,E,B,H,Q){Q=S[E+B+32*H]+(Q>>3),S[E+B+32*H]=-256&Q?0>Q?0:255:Q}function bl(S,E,B,H,Q,te){ro(S,E,0,B,H+Q),ro(S,E,1,B,H+te),ro(S,E,2,B,H-te),ro(S,E,3,B,H-Q)}function Kr(S){return(20091*S>>16)+S}function xl(S,E,B,H){var Q,te=0,re=o(16);for(Q=0;4>Q;++Q){var oe=S[E+0]+S[E+8],ae=S[E+0]-S[E+8],ce=(35468*S[E+4]>>16)-Kr(S[E+12]),_e=Kr(S[E+4])+(35468*S[E+12]>>16);re[te+0]=oe+_e,re[te+1]=ae+ce,re[te+2]=ae-ce,re[te+3]=oe-_e,te+=4,E++}for(Q=te=0;4>Q;++Q)oe=(S=re[te+0]+4)+re[te+8],ae=S-re[te+8],ce=(35468*re[te+4]>>16)-Kr(re[te+12]),ro(B,H,0,0,oe+(_e=Kr(re[te+4])+(35468*re[te+12]>>16))),ro(B,H,1,0,ae+ce),ro(B,H,2,0,ae-ce),ro(B,H,3,0,oe-_e),te++,H+=32}function ad(S,E,B,H){var Q=S[E+0]+4,te=35468*S[E+4]>>16,re=Kr(S[E+4]),oe=35468*S[E+1]>>16;bl(B,H,0,Q+re,S=Kr(S[E+1]),oe),bl(B,H,1,Q+te,S,oe),bl(B,H,2,Q-te,S,oe),bl(B,H,3,Q-re,S,oe)}function Ls(S,E,B,H,Q){xl(S,E,B,H),Q&&xl(S,E+16,B,H+4)}function Ds(S,E,B,H){hu(S,E+0,B,H,1),hu(S,E+32,B,H+128,1)}function ui(S,E,B,H){var Q;for(S=S[E+0]+4,Q=0;4>Q;++Q)for(E=0;4>E;++E)ro(B,H,E,Q,S)}function dc(S,E,B,H){S[E+0]&&Jn(S,E+0,B,H),S[E+16]&&Jn(S,E+16,B,H+4),S[E+32]&&Jn(S,E+32,B,H+128),S[E+48]&&Jn(S,E+48,B,H+128+4)}function zn(S,E,B,H){var Q,te=o(16);for(Q=0;4>Q;++Q){var re=S[E+0+Q]+S[E+12+Q],oe=S[E+4+Q]+S[E+8+Q],ae=S[E+4+Q]-S[E+8+Q],ce=S[E+0+Q]-S[E+12+Q];te[0+Q]=re+oe,te[8+Q]=re-oe,te[4+Q]=ce+ae,te[12+Q]=ce-ae}for(Q=0;4>Q;++Q)re=(S=te[0+4*Q]+3)+te[3+4*Q],oe=te[1+4*Q]+te[2+4*Q],ae=te[1+4*Q]-te[2+4*Q],ce=S-te[3+4*Q],B[H+0]=re+oe>>3,B[H+16]=ce+ae>>3,B[H+32]=re-oe>>3,B[H+48]=ce-ae>>3,H+=64}function on(S,E,B){var H,Q=E-32,te=Do,re=255-S[Q-1];for(H=0;H<B;++H){var oe,ae=te,ce=re+S[E-1];for(oe=0;oe<B;++oe)S[E+oe]=ae[ce+S[Q+oe]];E+=32}}function wl(S,E){on(S,E,4)}function Gr(S,E){on(S,E,8)}function Xn(S,E){on(S,E,16)}function Sl(S,E){var B;for(B=0;16>B;++B)r(S,E+32*B,S,E-32,16)}function Qo(S,E){var B;for(B=16;0<B;--B)i(S,E,S[E-1],16),E+=32}function _a(S,E,B){var H;for(H=0;16>H;++H)i(E,B+32*H,S,16)}function Lo(S,E){var B,H=16;for(B=0;16>B;++B)H+=S[E-1+32*B]+S[E+B-32];_a(H>>5,S,E)}function ut(S,E){var B,H=8;for(B=0;16>B;++B)H+=S[E-1+32*B];_a(H>>4,S,E)}function _t(S,E){var B,H=8;for(B=0;16>B;++B)H+=S[E+B-32];_a(H>>4,S,E)}function ln(S,E){_a(128,S,E)}function mt(S,E,B){return S+2*E+B+2>>2}function zr(S,E){var B,H=E-32;for(H=new Uint8Array([mt(S[H-1],S[H+0],S[H+1]),mt(S[H+0],S[H+1],S[H+2]),mt(S[H+1],S[H+2],S[H+3]),mt(S[H+2],S[H+3],S[H+4])]),B=0;4>B;++B)r(S,E+32*B,H,0,H.length)}function yi(S,E){var B=S[E-1],H=S[E-1+32],Q=S[E-1+64],te=S[E-1+96];Se(S,E+0,16843009*mt(S[E-1-32],B,H)),Se(S,E+32,16843009*mt(B,H,Q)),Se(S,E+64,16843009*mt(H,Q,te)),Se(S,E+96,16843009*mt(Q,te,te))}function Tf(S,E){var B,H=4;for(B=0;4>B;++B)H+=S[E+B-32]+S[E-1+32*B];for(H>>=3,B=0;4>B;++B)i(S,E+32*B,H,4)}function sd(S,E){var B=S[E-1+0],H=S[E-1+32],Q=S[E-1+64],te=S[E-1-32],re=S[E+0-32],oe=S[E+1-32],ae=S[E+2-32],ce=S[E+3-32];S[E+0+96]=mt(H,Q,S[E-1+96]),S[E+1+96]=S[E+0+64]=mt(B,H,Q),S[E+2+96]=S[E+1+64]=S[E+0+32]=mt(te,B,H),S[E+3+96]=S[E+2+64]=S[E+1+32]=S[E+0+0]=mt(re,te,B),S[E+3+64]=S[E+2+32]=S[E+1+0]=mt(oe,re,te),S[E+3+32]=S[E+2+0]=mt(ae,oe,re),S[E+3+0]=mt(ce,ae,oe)}function Ea(S,E){var B=S[E+1-32],H=S[E+2-32],Q=S[E+3-32],te=S[E+4-32],re=S[E+5-32],oe=S[E+6-32],ae=S[E+7-32];S[E+0+0]=mt(S[E+0-32],B,H),S[E+1+0]=S[E+0+32]=mt(B,H,Q),S[E+2+0]=S[E+1+32]=S[E+0+64]=mt(H,Q,te),S[E+3+0]=S[E+2+32]=S[E+1+64]=S[E+0+96]=mt(Q,te,re),S[E+3+32]=S[E+2+64]=S[E+1+96]=mt(te,re,oe),S[E+3+64]=S[E+2+96]=mt(re,oe,ae),S[E+3+96]=mt(oe,ae,ae)}function _l(S,E){var B=S[E-1+0],H=S[E-1+32],Q=S[E-1+64],te=S[E-1-32],re=S[E+0-32],oe=S[E+1-32],ae=S[E+2-32],ce=S[E+3-32];S[E+0+0]=S[E+1+64]=te+re+1>>1,S[E+1+0]=S[E+2+64]=re+oe+1>>1,S[E+2+0]=S[E+3+64]=oe+ae+1>>1,S[E+3+0]=ae+ce+1>>1,S[E+0+96]=mt(Q,H,B),S[E+0+64]=mt(H,B,te),S[E+0+32]=S[E+1+96]=mt(B,te,re),S[E+1+32]=S[E+2+96]=mt(te,re,oe),S[E+2+32]=S[E+3+96]=mt(re,oe,ae),S[E+3+32]=mt(oe,ae,ce)}function op(S,E){var B=S[E+0-32],H=S[E+1-32],Q=S[E+2-32],te=S[E+3-32],re=S[E+4-32],oe=S[E+5-32],ae=S[E+6-32],ce=S[E+7-32];S[E+0+0]=B+H+1>>1,S[E+1+0]=S[E+0+64]=H+Q+1>>1,S[E+2+0]=S[E+1+64]=Q+te+1>>1,S[E+3+0]=S[E+2+64]=te+re+1>>1,S[E+0+32]=mt(B,H,Q),S[E+1+32]=S[E+0+96]=mt(H,Q,te),S[E+2+32]=S[E+1+96]=mt(Q,te,re),S[E+3+32]=S[E+2+96]=mt(te,re,oe),S[E+3+64]=mt(re,oe,ae),S[E+3+96]=mt(oe,ae,ce)}function ld(S,E){var B=S[E-1+0],H=S[E-1+32],Q=S[E-1+64],te=S[E-1+96];S[E+0+0]=B+H+1>>1,S[E+2+0]=S[E+0+32]=H+Q+1>>1,S[E+2+32]=S[E+0+64]=Q+te+1>>1,S[E+1+0]=mt(B,H,Q),S[E+3+0]=S[E+1+32]=mt(H,Q,te),S[E+3+32]=S[E+1+64]=mt(Q,te,te),S[E+3+64]=S[E+2+64]=S[E+0+96]=S[E+1+96]=S[E+2+96]=S[E+3+96]=te}function eu(S,E){var B=S[E-1+0],H=S[E-1+32],Q=S[E-1+64],te=S[E-1+96],re=S[E-1-32],oe=S[E+0-32],ae=S[E+1-32],ce=S[E+2-32];S[E+0+0]=S[E+2+32]=B+re+1>>1,S[E+0+32]=S[E+2+64]=H+B+1>>1,S[E+0+64]=S[E+2+96]=Q+H+1>>1,S[E+0+96]=te+Q+1>>1,S[E+3+0]=mt(oe,ae,ce),S[E+2+0]=mt(re,oe,ae),S[E+1+0]=S[E+3+32]=mt(B,re,oe),S[E+1+32]=S[E+3+64]=mt(H,B,re),S[E+1+64]=S[E+3+96]=mt(Q,H,B),S[E+1+96]=mt(te,Q,H)}function Of(S,E){var B;for(B=0;8>B;++B)r(S,E+32*B,S,E-32,8)}function us(S,E){var B;for(B=0;8>B;++B)i(S,E,S[E-1],8),E+=32}function Fs(S,E,B){var H;for(H=0;8>H;++H)i(E,B+32*H,S,8)}function ds(S,E){var B,H=8;for(B=0;8>B;++B)H+=S[E+B-32]+S[E-1+32*B];Fs(H>>4,S,E)}function cd(S,E){var B,H=4;for(B=0;8>B;++B)H+=S[E+B-32];Fs(H>>3,S,E)}function Mf(S,E){var B,H=4;for(B=0;8>B;++B)H+=S[E-1+32*B];Fs(H>>3,S,E)}function Pf(S,E){Fs(128,S,E)}function El(S,E,B){var H=S[E-B],Q=S[E+0],te=3*(Q-H)+Hs[1020+S[E-2*B]-S[E+B]],re=vd[112+(te+4>>3)];S[E-B]=Do[255+H+vd[112+(te+3>>3)]],S[E+0]=Do[255+Q-re]}function Bs(S,E,B,H){var Q=S[E+0],te=S[E+B];return Ya[255+S[E-2*B]-S[E-B]]>H||Ya[255+te-Q]>H}function tu(S,E,B,H){return 4*Ya[255+S[E-B]-S[E+0]]+Ya[255+S[E-2*B]-S[E+B]]<=H}function nu(S,E,B,H,Q){var te=S[E-3*B],re=S[E-2*B],oe=S[E-B],ae=S[E+0],ce=S[E+B],_e=S[E+2*B],Me=S[E+3*B];return 4*Ya[255+oe-ae]+Ya[255+re-ce]>H?0:Ya[255+S[E-4*B]-te]<=Q&&Ya[255+te-re]<=Q&&Ya[255+re-oe]<=Q&&Ya[255+Me-_e]<=Q&&Ya[255+_e-ce]<=Q&&Ya[255+ce-ae]<=Q}function Ua(S,E,B,H){var Q=2*H+1;for(H=0;16>H;++H)tu(S,E+H,B,Q)&&El(S,E+H,B)}function Nl(S,E,B,H){var Q=2*H+1;for(H=0;16>H;++H)tu(S,E+H*B,1,Q)&&El(S,E+H*B,1)}function ru(S,E,B,H){var Q;for(Q=3;0<Q;--Q)Ua(S,E+=4*B,B,H)}function Rf(S,E,B,H){var Q;for(Q=3;0<Q;--Q)Nl(S,E+=4,B,H)}function Ha(S,E,B,H,Q,te,re,oe){for(te=2*te+1;0<Q--;){if(nu(S,E,B,te,re))if(Bs(S,E,B,oe))El(S,E,B);else{var ae=S,ce=E,_e=B,Me=ae[ce-2*_e],de=ae[ce-_e],Ae=ae[ce+0],Oe=ae[ce+_e],$e=ae[ce+2*_e],Re=27*(Be=Hs[1020+3*(Ae-de)+Hs[1020+Me-Oe]])+63>>7,De=18*Be+63>>7,Be=9*Be+63>>7;ae[ce-3*_e]=Do[255+ae[ce-3*_e]+Be],ae[ce-2*_e]=Do[255+Me+De],ae[ce-_e]=Do[255+de+Re],ae[ce+0]=Do[255+Ae-Re],ae[ce+_e]=Do[255+Oe-De],ae[ce+2*_e]=Do[255+$e-Be]}E+=H}}function Wa(S,E,B,H,Q,te,re,oe){for(te=2*te+1;0<Q--;){if(nu(S,E,B,te,re))if(Bs(S,E,B,oe))El(S,E,B);else{var ae=S,ce=E,_e=B,Me=ae[ce-_e],de=ae[ce+0],Ae=ae[ce+_e],Oe=vd[112+(4+($e=3*(de-Me))>>3)],$e=vd[112+($e+3>>3)],Re=Oe+1>>1;ae[ce-2*_e]=Do[255+ae[ce-2*_e]+Re],ae[ce-_e]=Do[255+Me+$e],ae[ce+0]=Do[255+de-Oe],ae[ce+_e]=Do[255+Ae-Re]}E+=H}}function jf(S,E,B,H,Q,te){Ha(S,E,B,1,16,H,Q,te)}function yo(S,E,B,H,Q,te){Ha(S,E,1,B,16,H,Q,te)}function Va(S,E,B,H,Q,te){var re;for(re=3;0<re;--re)Wa(S,E+=4*B,B,1,16,H,Q,te)}function ud(S,E,B,H,Q,te){var re;for(re=3;0<re;--re)Wa(S,E+=4,1,B,16,H,Q,te)}function R(S,E,B,H,Q,te,re,oe){Ha(S,E,Q,1,8,te,re,oe),Ha(B,H,Q,1,8,te,re,oe)}function J(S,E,B,H,Q,te,re,oe){Ha(S,E,1,Q,8,te,re,oe),Ha(B,H,1,Q,8,te,re,oe)}function pe(S,E,B,H,Q,te,re,oe){Wa(S,E+4*Q,Q,1,8,te,re,oe),Wa(B,H+4*Q,Q,1,8,te,re,oe)}function we(S,E,B,H,Q,te,re,oe){Wa(S,E+4,1,Q,8,te,re,oe),Wa(B,H+4,1,Q,8,te,re,oe)}function Te(){this.ba=new tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ge,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new z}function Wt(){this.xb=this.a=0,this.l=new dr,this.ca=new tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=a(4,Xe),this.Oc=0}function bn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(S,E,B,H,Q,te,re){for(S=S==null?0:S[E+0],E=0;E<re;++E)Q[te+E]=S+B[H+E]&255,S=Q[te+E]}function Qn(S,E,B,H,Q,te,re){var oe;if(S==null)xn(null,null,B,H,Q,te,re);else for(oe=0;oe<re;++oe)Q[te+oe]=S[E+oe]+B[H+oe]&255}function Yr(S,E,B,H,Q,te,re){if(S==null)xn(null,null,B,H,Q,te,re);else{var oe,ae=S[E+0],ce=ae,_e=ae;for(oe=0;oe<re;++oe)ce=_e+(ae=S[E+oe])-ce,_e=B[H+oe]+(-256&ce?0>ce?0:255:ce)&255,ce=ae,Q[te+oe]=_e}}function bi(S,E,B,H){var Q=E.width,te=E.o;if(e(S!=null&&E!=null),0>B||0>=H||B+H>te)return null;if(!S.Cc){if(S.ga==null){var re;if(S.ga=new bn,(re=S.ga==null)||(re=E.width*E.o,e(S.Gb.length==0),S.Gb=o(re),S.Uc=0,S.Gb==null?re=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,re=1),re=!re),!re){re=S.ga;var oe=S.Fa,ae=S.P,ce=S.qc,_e=S.mb,Me=S.nb,de=ae+1,Ae=ce-1,Oe=re.l;if(e(oe!=null&&_e!=null&&E!=null),xo[0]=null,xo[1]=xn,xo[2]=Qn,xo[3]=Yr,re.ca=_e,re.tb=Me,re.c=E.width,re.i=E.height,e(0<re.c&&0<re.i),1>=ce)E=0;else if(re.$a=3&oe[ae+0],re.Z=oe[ae+0]>>2&3,re.Lc=oe[ae+0]>>4&3,ae=oe[ae+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ae)E=0;else if(Oe.put=ht,Oe.ac=Ln,Oe.bc=ct,Oe.ma=re,Oe.width=E.width,Oe.height=E.height,Oe.Da=E.Da,Oe.v=E.v,Oe.va=E.va,Oe.j=E.j,Oe.o=E.o,re.$a)e:{e(re.$a==1),E=za();t:for(;;){if(E==null){E=0;break e}if(e(re!=null),re.mc=E,E.c=re.c,E.i=re.i,E.l=re.l,E.l.ma=re,E.l.width=re.c,E.l.height=re.i,E.a=0,K(E.m,oe,de,Ae),!Sa(re.c,re.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&jo(E.s)?(re.ic=1,oe=E.c*E.i,E.Ta=null,E.Ua=0,E.V=o(oe),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(re.ic=0,E=js(E,re.c)),!E))break t;E=1;break e}re.mc=null,E=0}else E=Ae>=re.c*re.i;re=!E}if(re)return null;S.ga.Lc!=1?S.Ga=0:H=te-B}e(S.ga!=null),e(B+H<=te);e:{if(E=(oe=S.ga).c,te=oe.l.o,oe.$a==0){if(de=S.rc,Ae=S.Vc,Oe=S.Fa,ae=S.P+1+B*E,ce=S.mb,_e=S.nb+B*E,e(ae<=S.P+S.qc),oe.Z!=0)for(e(xo[oe.Z]!=null),re=0;re<H;++re)xo[oe.Z](de,Ae,Oe,ae,ce,_e,E),de=ce,Ae=_e,_e+=E,ae+=E;else for(re=0;re<H;++re)r(ce,_e,Oe,ae,E),de=ce,Ae=_e,_e+=E,ae+=E;S.rc=de,S.Vc=Ae}else{if(e(oe.mc!=null),E=B+H,e((re=oe.mc)!=null),e(E<=re.i),re.C>=E)E=1;else if(oe.ic||Ka(),oe.ic){oe=re.V,de=re.Ba,Ae=re.c;var $e=re.i,Re=(Oe=1,ae=re.$/Ae,ce=re.$%Ae,_e=re.m,Me=re.s,re.$),De=Ae*$e,Be=Ae*E,We=Me.wc,Ke=Re<Be?Br(Me,ce,ae):null;e(Re<=De),e(E<=$e),e(jo(Me));t:for(;;){for(;!_e.h&&Re<Be;){if(ce&We||(Ke=Br(Me,ce,ae)),e(Ke!=null),he(_e),256>($e=dn(Ke.G[0],Ke.H[0],_e)))oe[de+Re]=$e,++Re,++ce>=Ae&&(ce=0,++ae<=E&&!(ae%16)&&Mi(re,ae));else{if(!(280>$e)){Oe=0;break t}$e=Pt($e-256,_e);var Vt,kt=dn(Ke.G[4],Ke.H[4],_e);if(he(_e),!(Re>=(kt=Kn(Ae,kt=Pt(kt,_e)))&&De-Re>=$e)){Oe=0;break t}for(Vt=0;Vt<$e;++Vt)oe[de+Re+Vt]=oe[de+Re+Vt-kt];for(Re+=$e,ce+=$e;ce>=Ae;)ce-=Ae,++ae<=E&&!(ae%16)&&Mi(re,ae);Re<Be&&ce&We&&(Ke=Br(Me,ce,ae))}e(_e.h==ie(_e))}Mi(re,ae>E?E:ae);break t}!Oe||_e.h&&Re<De?(Oe=0,re.a=_e.h?5:3):re.$=Re,E=Oe}else E=Yo(re,re.V,re.Ba,re.c,re.i,E,vl);if(!E){H=0;break e}}B+H>=te&&(S.Cc=1),H=1}if(!H)return null;if(S.Cc&&((H=S.ga)!=null&&(H.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+B*Q}function kr(S,E,B,H,Q,te){for(;0<Q--;){var re,oe=S,ae=E+(B?1:0),ce=S,_e=E+(B?0:3);for(re=0;re<H;++re){var Me=ce[_e+4*re];Me!=255&&(Me*=32897,oe[ae+4*re+0]=oe[ae+4*re+0]*Me>>23,oe[ae+4*re+1]=oe[ae+4*re+1]*Me>>23,oe[ae+4*re+2]=oe[ae+4*re+2]*Me>>23)}E+=te}}function Pi(S,E,B,H,Q){for(;0<H--;){var te;for(te=0;te<B;++te){var re=S[E+2*te+0],oe=15&(ce=S[E+2*te+1]),ae=4369*oe,ce=(240&ce|ce>>4)*ae>>16;S[E+2*te+0]=(240&re|re>>4)*ae>>16&240|(15&re|re<<4)*ae>>16>>4&15,S[E+2*te+1]=240&ce|oe}E+=Q}}function di(S,E,B,H,Q,te,re,oe){var ae,ce,_e=255;for(ce=0;ce<Q;++ce){for(ae=0;ae<H;++ae){var Me=S[E+ae];te[re+4*ae]=Me,_e&=Me}E+=B,re+=oe}return _e!=255}function io(S,E,B,H,Q){var te;for(te=0;te<Q;++te)B[H+te]=S[E+te]>>8}function Ka(){mu=kr,wg=Pi,Bf=di,Sg=io}function Jo(S,E,B){M[S]=function(H,Q,te,re,oe,ae,ce,_e,Me,de,Ae,Oe,$e,Re,De,Be,We){var Ke,Vt=We-1>>1,kt=oe[ae+0]|ce[_e+0]<<16,An=Me[de+0]|Ae[Oe+0]<<16;e(H!=null);var Ft=3*kt+An+131074>>2;for(E(H[Q+0],255&Ft,Ft>>16,$e,Re),te!=null&&(Ft=3*An+kt+131074>>2,E(te[re+0],255&Ft,Ft>>16,De,Be)),Ke=1;Ke<=Vt;++Ke){var qn=oe[ae+Ke]|ce[_e+Ke]<<16,oi=Me[de+Ke]|Ae[Oe+Ke]<<16,Tn=kt+qn+An+oi+524296,Ct=Tn+2*(qn+An)>>3;Ft=Ct+kt>>1,kt=(Tn=Tn+2*(kt+oi)>>3)+qn>>1,E(H[Q+2*Ke-1],255&Ft,Ft>>16,$e,Re+(2*Ke-1)*B),E(H[Q+2*Ke-0],255&kt,kt>>16,$e,Re+(2*Ke-0)*B),te!=null&&(Ft=Tn+An>>1,kt=Ct+oi>>1,E(te[re+2*Ke-1],255&Ft,Ft>>16,De,Be+(2*Ke-1)*B),E(te[re+2*Ke+0],255&kt,kt>>16,De,Be+(2*Ke+0)*B)),kt=qn,An=oi}1&We||(Ft=3*kt+An+131074>>2,E(H[Q+We-1],255&Ft,Ft>>16,$e,Re+(We-1)*B),te!=null&&(Ft=3*An+kt+131074>>2,E(te[re+We-1],255&Ft,Ft>>16,De,Be+(We-1)*B)))}}function ap(){ta[up]=eS,ta[xc]=wc,ta[u0]=tS,ta[$f]=wd,ta[zf]=bu,ta[xr]=Vf,ta[dp]=Mg,ta[yd]=wc,ta[gu]=wd,ta[qf]=bu,ta[Uf]=Vf}function fc(S){return S&-16384?0>S?0:255:S>>Sc}function iu(S,E){return fc((19077*S>>8)+(26149*E>>8)-14234)}function hc(S,E,B){return fc((19077*S>>8)-(6419*E>>8)-(13320*B>>8)+8708)}function ou(S,E){return fc((19077*S>>8)+(33050*E>>8)-17685)}function pc(S,E,B,H,Q){H[Q+0]=iu(S,B),H[Q+1]=hc(S,E,B),H[Q+2]=ou(S,E)}function au(S,E,B,H,Q){H[Q+0]=ou(S,E),H[Q+1]=hc(S,E,B),H[Q+2]=iu(S,B)}function bo(S,E,B,H,Q){var te=hc(S,E,B);E=te<<3&224|ou(S,E)>>3,H[Q+0]=248&iu(S,B)|te>>5,H[Q+1]=E}function su(S,E,B,H,Q){var te=240&ou(S,E)|15;H[Q+0]=240&iu(S,B)|hc(S,E,B)>>4,H[Q+1]=te}function lu(S,E,B,H,Q){H[Q+0]=255,pc(S,E,B,H,Q+1)}function If(S,E,B,H,Q){au(S,E,B,H,Q),H[Q+3]=255}function Lf(S,E,B,H,Q){pc(S,E,B,H,Q),H[Q+3]=255}function ni(S,E){return 0>S?0:S>E?E:S}function fs(S,E,B){M[S]=function(H,Q,te,re,oe,ae,ce,_e,Me){for(var de=_e+(-2&Me)*B;_e!=de;)E(H[Q+0],te[re+0],oe[ae+0],ce,_e),E(H[Q+1],te[re+0],oe[ae+0],ce,_e+B),Q+=2,++re,++ae,_e+=2*B;1&Me&&E(H[Q+0],te[re+0],oe[ae+0],ce,_e)}}function $s(S,E,B){return B==0?S==0?E==0?6:5:E==0?4:0:B}function sp(S,E,B,H,Q){switch(S>>>30){case 3:hu(E,B,H,Q,0);break;case 2:ri(E,B,H,Q);break;case 1:Jn(E,B,H,Q)}}function Na(S,E){var B,H,Q=E.M,te=E.Nb,re=S.oc,oe=S.pc+40,ae=S.oc,ce=S.pc+584,_e=S.oc,Me=S.pc+600;for(B=0;16>B;++B)re[oe+32*B-1]=129;for(B=0;8>B;++B)ae[ce+32*B-1]=129,_e[Me+32*B-1]=129;for(0<Q?re[oe-1-32]=ae[ce-1-32]=_e[Me-1-32]=129:(i(re,oe-32-1,127,21),i(ae,ce-32-1,127,9),i(_e,Me-32-1,127,9)),H=0;H<S.za;++H){var de=E.ya[E.aa+H];if(0<H){for(B=-1;16>B;++B)r(re,oe+32*B-4,re,oe+32*B+12,4);for(B=-1;8>B;++B)r(ae,ce+32*B-4,ae,ce+32*B+4,4),r(_e,Me+32*B-4,_e,Me+32*B+4,4)}var Ae=S.Gd,Oe=S.Hd+H,$e=de.ad,Re=de.Hc;if(0<Q&&(r(re,oe-32,Ae[Oe].y,0,16),r(ae,ce-32,Ae[Oe].f,0,8),r(_e,Me-32,Ae[Oe].ea,0,8)),de.Za){var De=re,Be=oe-32+16;for(0<Q&&(H>=S.za-1?i(De,Be,Ae[Oe].y[15],4):r(De,Be,Ae[Oe+1].y,0,4)),B=0;4>B;B++)De[Be+128+B]=De[Be+256+B]=De[Be+384+B]=De[Be+0+B];for(B=0;16>B;++B,Re<<=2)De=re,Be=oe+Pg[B],Xa[de.Ob[B]](De,Be),sp(Re,$e,16*+B,De,Be)}else if(De=$s(H,Q,de.Ob[0]),Fo[De](re,oe),Re!=0)for(B=0;16>B;++B,Re<<=2)sp(Re,$e,16*+B,re,oe+Pg[B]);for(B=de.Gc,De=$s(H,Q,de.Dd),ea[De](ae,ce),ea[De](_e,Me),Re=$e,De=ae,Be=ce,255&(de=0|B)&&(170&de?Zo(Re,256,De,Be):fr(Re,256,De,Be)),de=_e,Re=Me,255&(B>>=8)&&(170&B?Zo($e,320,de,Re):fr($e,320,de,Re)),Q<S.Ub-1&&(r(Ae[Oe].y,0,re,oe+480,16),r(Ae[Oe].f,0,ae,ce+224,8),r(Ae[Oe].ea,0,_e,Me+224,8)),B=8*te*S.B,Ae=S.sa,Oe=S.ta+16*H+16*te*S.R,$e=S.qa,de=S.ra+8*H+B,Re=S.Ha,De=S.Ia+8*H+B,B=0;16>B;++B)r(Ae,Oe+B*S.R,re,oe+32*B,16);for(B=0;8>B;++B)r($e,de+B*S.B,ae,ce+32*B,8),r(Re,De+B*S.B,_e,Me+32*B,8)}}function mc(S,E,B,H,Q,te,re,oe,ae){var ce=[0],_e=[0],Me=0,de=ae!=null?ae.kd:0,Ae=ae??new Ue;if(S==null||12>B)return 7;Ae.data=S,Ae.w=E,Ae.ha=B,E=[E],B=[B],Ae.gb=[Ae.gb];e:{var Oe=E,$e=B,Re=Ae.gb;if(e(S!=null),e($e!=null),e(Re!=null),Re[0]=0,12<=$e[0]&&!n(S,Oe[0],"RIFF")){if(n(S,Oe[0]+8,"WEBP")){Re=3;break e}var De=Ne(S,Oe[0]+4);if(12>De||4294967286<De){Re=3;break e}if(de&&De>$e[0]-8){Re=7;break e}Re[0]=De,Oe[0]+=12,$e[0]-=12}Re=0}if(Re!=0)return Re;for(De=0<Ae.gb[0],B=B[0];;){e:{var Be=S;$e=E,Re=B;var We=ce,Ke=_e,Vt=Oe=[0];if((Ft=Me=[Me])[0]=0,8>Re[0])Re=7;else{if(!n(Be,$e[0],"VP8X")){if(Ne(Be,$e[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var kt=Ne(Be,$e[0]+8),An=1+Le(Be,$e[0]+12);if(2147483648<=An*(Be=1+Le(Be,$e[0]+15))){Re=3;break e}Vt!=null&&(Vt[0]=kt),We!=null&&(We[0]=An),Ke!=null&&(Ke[0]=Be),$e[0]+=18,Re[0]-=18,Ft[0]=1}Re=0}}if(Me=Me[0],Oe=Oe[0],Re!=0)return Re;if($e=!!(2&Oe),!De&&Me)return 3;if(te!=null&&(te[0]=!!(16&Oe)),re!=null&&(re[0]=$e),oe!=null&&(oe[0]=0),re=ce[0],Oe=_e[0],Me&&$e&&ae==null){Re=0;break}if(4>B){Re=7;break}if(De&&Me||!De&&!Me&&!n(S,E[0],"ALPH")){B=[B],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{kt=S,Re=E,De=B;var Ft=Ae.gb;We=Ae.na,Ke=Ae.P,Vt=Ae.Sa,An=22,e(kt!=null),e(De!=null),Be=Re[0];var qn=De[0];for(e(We!=null),e(Vt!=null),We[0]=null,Ke[0]=null,Vt[0]=0;;){if(Re[0]=Be,De[0]=qn,8>qn){Re=7;break e}var oi=Ne(kt,Be+4);if(4294967286<oi){Re=3;break e}var Tn=8+oi+1&-2;if(An+=Tn,0<Ft&&An>Ft){Re=3;break e}if(!n(kt,Be,"VP8 ")||!n(kt,Be,"VP8L")){Re=0;break e}if(qn[0]<Tn){Re=7;break e}n(kt,Be,"ALPH")||(We[0]=kt,Ke[0]=Be+8,Vt[0]=oi),Be+=Tn,qn-=Tn}}if(B=B[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],Re!=0)break}B=[B],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(Ft=S,Re=E,De=B,We=Ae.gb[0],Ke=Ae.Ja,Vt=Ae.xa,kt=Re[0],Be=!n(Ft,kt,"VP8 "),An=!n(Ft,kt,"VP8L"),e(Ft!=null),e(De!=null),e(Ke!=null),e(Vt!=null),8>De[0])Re=7;else{if(Be||An){if(Ft=Ne(Ft,kt+4),12<=We&&Ft>We-12){Re=3;break e}if(de&&Ft>De[0]-8){Re=7;break e}Ke[0]=Ft,Re[0]+=8,De[0]-=8,Vt[0]=An}else Vt[0]=5<=De[0]&&Ft[kt+0]==47&&!(Ft[kt+4]>>5),Ke[0]=De[0];Re=0}if(B=B[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],E=E[0],Re!=0)break;if(4294967286<Ae.Ja)return 3;if(oe==null||$e||(oe[0]=Ae.xa?2:1),re=[re],Oe=[Oe],Ae.xa){if(5>B){Re=7;break}oe=re,de=Oe,$e=te,S==null||5>B?S=0:5<=B&&S[E+0]==47&&!(S[E+4]>>5)?(De=[0],Ft=[0],We=[0],K(Ke=new V,S,E,B),ft(Ke,De,Ft,We)?(oe!=null&&(oe[0]=De[0]),de!=null&&(de[0]=Ft[0]),$e!=null&&($e[0]=We[0]),S=1):S=0):S=0}else{if(10>B){Re=7;break}oe=Oe,S==null||10>B||!Ui(S,E+3,B-3)?S=0:(de=S[E+0]|S[E+1]<<8|S[E+2]<<16,$e=16383&(S[E+7]<<8|S[E+6]),S=16383&(S[E+9]<<8|S[E+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=Ae.Ja||!$e||!S?S=0:(re&&(re[0]=$e),oe&&(oe[0]=S),S=1))}if(!S||(re=re[0],Oe=Oe[0],Me&&(ce[0]!=re||_e[0]!=Oe)))return 3;ae!=null&&(ae[0]=Ae,ae.offset=E-ae.w,e(4294967286>E-ae.w),e(ae.offset==ae.ha-B));break}return Re==0||Re==7&&Me&&ae==null?(te!=null&&(te[0]|=Ae.na!=null&&0<Ae.na.length),H!=null&&(H[0]=re),Q!=null&&(Q[0]=Oe),0):Re}function dd(S,E,B){var H=E.width,Q=E.height,te=0,re=0,oe=H,ae=Q;if(E.Da=S!=null&&0<S.Da,E.Da&&(oe=S.cd,ae=S.bd,te=S.v,re=S.j,11>B||(te&=-2,re&=-2),0>te||0>re||0>=oe||0>=ae||te+oe>H||re+ae>Q))return 0;if(E.v=te,E.j=re,E.va=te+oe,E.o=re+ae,E.U=oe,E.T=ae,E.da=S!=null&&0<S.da,E.da){if(!Ge(oe,ae,B=[S.ib],te=[S.hb]))return 0;E.ib=B[0],E.hb=te[0]}return E.ob=S!=null&&S.ob,E.Kb=S==null||!S.Sd,E.da&&(E.ob=E.ib<3*H/4&&E.hb<3*Q/4,E.Kb=0),1}function fd(S){if(S==null)return 2;if(11>S.S){var E=S.f.RGBA;E.fb+=(S.height-1)*E.A,E.A=-E.A}else E=S.f.kb,S=S.height,E.O+=(S-1)*E.fa,E.fa=-E.fa,E.N+=(S-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(S-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(S-1)*E.lb,E.lb=-E.lb);return 0}function Al(S,E,B,H){if(H==null||0>=S||0>=E)return 2;if(B!=null){if(B.Da){var Q=B.cd,te=B.bd,re=-2&B.v,oe=-2&B.j;if(0>re||0>oe||0>=Q||0>=te||re+Q>S||oe+te>E)return 2;S=Q,E=te}if(B.da){if(!Ge(S,E,Q=[B.ib],te=[B.hb]))return 2;S=Q[0],E=te[0]}}H.width=S,H.height=E;e:{var ae=H.width,ce=H.height;if(S=H.S,0>=ae||0>=ce||!(S>=up&&13>S))S=2;else{if(0>=H.Rd&&H.sd==null){re=te=Q=E=0;var _e=(oe=ae*Kf[S])*ce;if(11>S||(te=(ce+1)/2*(E=(ae+1)/2),S==12&&(re=(Q=ae)*ce)),(ce=o(_e+2*te+re))==null){S=1;break e}H.sd=ce,11>S?((ae=H.f.RGBA).eb=ce,ae.fb=0,ae.A=oe,ae.size=_e):((ae=H.f.kb).y=ce,ae.O=0,ae.fa=oe,ae.Fd=_e,ae.f=ce,ae.N=0+_e,ae.Ab=E,ae.Cd=te,ae.ea=ce,ae.W=0+_e+te,ae.Db=E,ae.Ed=te,S==12&&(ae.F=ce,ae.J=0+_e+2*te),ae.Tc=re,ae.lb=Q)}if(E=1,Q=H.S,te=H.width,re=H.height,Q>=up&&13>Q)if(11>Q)S=H.f.RGBA,E&=(oe=Math.abs(S.A))*(re-1)+te<=S.size,E&=oe>=te*Kf[Q],E&=S.eb!=null;else{S=H.f.kb,oe=(te+1)/2,_e=(re+1)/2,ae=Math.abs(S.fa),ce=Math.abs(S.Ab);var Me=Math.abs(S.Db),de=Math.abs(S.lb),Ae=de*(re-1)+te;E&=ae*(re-1)+te<=S.Fd,E&=ce*(_e-1)+oe<=S.Cd,E=(E&=Me*(_e-1)+oe<=S.Ed)&ae>=te&ce>=oe&Me>=oe,E&=S.y!=null,E&=S.f!=null,E&=S.ea!=null,Q==12&&(E&=de>=te,E&=Ae<=S.Tc,E&=S.F!=null)}else E=0;S=E?0:2}}return S!=0||B!=null&&B.fd&&(S=fd(H)),S}var Ga=64,Aa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ka=24,gc=32,zs=8,kl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(S){return S},M.Predictor2=function(S,E,B){return E[B+0]},M.Predictor3=function(S,E,B){return E[B+1]},M.Predictor4=function(S,E,B){return E[B-1]},M.Predictor5=function(S,E,B){return St(St(S,E[B+1]),E[B+0])},M.Predictor6=function(S,E,B){return St(S,E[B-1])},M.Predictor7=function(S,E,B){return St(S,E[B+0])},M.Predictor8=function(S,E,B){return St(E[B-1],E[B+0])},M.Predictor9=function(S,E,B){return St(E[B+0],E[B+1])},M.Predictor10=function(S,E,B){return St(St(S,E[B-1]),St(E[B+0],E[B+1]))},M.Predictor11=function(S,E,B){var H=E[B+0];return 0>=xt(H>>24&255,S>>24&255,(E=E[B-1])>>24&255)+xt(H>>16&255,S>>16&255,E>>16&255)+xt(H>>8&255,S>>8&255,E>>8&255)+xt(255&H,255&S,255&E)?H:S},M.Predictor12=function(S,E,B){var H=E[B+0];return(It((S>>24&255)+(H>>24&255)-((E=E[B-1])>>24&255))<<24|It((S>>16&255)+(H>>16&255)-(E>>16&255))<<16|It((S>>8&255)+(H>>8&255)-(E>>8&255))<<8|It((255&S)+(255&H)-(255&E)))>>>0},M.Predictor13=function(S,E,B){var H=E[B-1];return(Tt((S=St(S,E[B+0]))>>24&255,H>>24&255)<<24|Tt(S>>16&255,H>>16&255)<<16|Tt(S>>8&255,H>>8&255)<<8|Tt(255&S,255&H))>>>0};var Cl=M.PredictorAdd0;M.PredictorAdd1=rn,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var qs=M.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var fi,cu=M.ColorIndexInverseTransform,Us=M.MapARGB,hs=M.VP8LColorIndexInverseTransformAlpha,uu=M.MapAlpha,du=M.VP8LPredictorsAdd=[];du.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var hd,pd,Tl,vc,yc,fu,bc,hu,ri,Zo,Jn,fr,ii,xi,ps,Df,md,Ol,lp,gd,cp,xg,Ff,pu,mu,wg,Bf,Sg,_g=o(511),Eg=o(2041),Ng=o(225),Ag=o(767),kg=0,Hs=Eg,vd=Ng,Do=Ag,Ya=_g,up=0,xc=1,u0=2,$f=3,zf=4,xr=5,dp=6,yd=7,gu=8,qf=9,Uf=10,Hf=[2,3,7],fp=[3,3,11],vu=[280,256,256,256,40],d0=[0,1,1,1,0],X2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Q2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],f0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hp=8,bd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,Cg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],h0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],p0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],J2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Z2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Og=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fo=[],Xa=[],ea=[],Ws=1,xd=2,xo=[],ta=[];Jo("UpsampleRgbLinePair",pc,3),Jo("UpsampleBgrLinePair",au,3),Jo("UpsampleRgbaLinePair",Lf,4),Jo("UpsampleBgraLinePair",If,4),Jo("UpsampleArgbLinePair",lu,4),Jo("UpsampleRgba4444LinePair",su,2),Jo("UpsampleRgb565LinePair",bo,2);var eS=M.UpsampleRgbLinePair,tS=M.UpsampleBgrLinePair,wc=M.UpsampleRgbaLinePair,wd=M.UpsampleBgraLinePair,bu=M.UpsampleArgbLinePair,Vf=M.UpsampleRgba4444LinePair,Mg=M.UpsampleRgb565LinePair,Ml=16,ms=1<<Ml-1,ar=-227,hr=482,Sc=6,oo=0,na=o(256),xu=o(256),Sd=o(256),ra=o(256),pp=o(hr-ar),m0=o(hr-ar);fs("YuvToRgbRow",pc,3),fs("YuvToBgrRow",au,3),fs("YuvToRgbaRow",Lf,4),fs("YuvToBgraRow",If,4),fs("YuvToArgbRow",lu,4),fs("YuvToRgba4444Row",su,2),fs("YuvToRgb565Row",bo,2);var Pg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wu=[0,2,8],g0=[8,7,6,4,4,2,2,2,1,1,1,1],Pl=1;this.WebPDecodeRGBA=function(S,E,B,H,Q){var te=xc,re=new Te,oe=new tt;re.ba=oe,oe.S=te,oe.width=[oe.width],oe.height=[oe.height];var ae=oe.width,ce=oe.height,_e=new yt;if(_e==null||S==null)var Me=2;else e(_e!=null),Me=mc(S,E,B,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Me!=0?ae=0:(ae!=null&&(ae[0]=_e.width[0]),ce!=null&&(ce[0]=_e.height[0]),ae=1),ae){oe.width=oe.width[0],oe.height=oe.height[0],H!=null&&(H[0]=oe.width),Q!=null&&(Q[0]=oe.height);e:{if(H=new dr,(Q=new Ue).data=S,Q.w=E,Q.ha=B,Q.kd=1,E=[0],e(Q!=null),((S=mc(Q.data,Q.w,Q.ha,null,null,null,E,null,Q))==0||S==7)&&E[0]&&(S=4),(E=S)==0){if(e(re!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=ht,H.ac=Ln,H.bc=ct,H.ma=re,Q.xa){if((S=za())==null){re=1;break e}if((function(de,Ae){var Oe=[0],$e=[0],Re=[0];t:for(;;){if(de==null)return 0;if(Ae==null)return de.a=2,0;if(de.l=Ae,de.a=0,K(de.m,Ae.data,Ae.w,Ae.ha),!ft(de.m,Oe,$e,Re)){de.a=3;break t}if(de.xb=xd,Ae.width=Oe[0],Ae.height=$e[0],!Sa(Oe[0],$e[0],1,de,null))break t;return 1}return e(de.a!=0),0})(S,H)){if(H=(E=Al(H.width,H.height,re.Oa,re.ba))==0){t:{H=S;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((B=H.l)!=null),e((Q=B.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,e(H.ca!=null),!dd(Q.Oa,B,$f)){H.a=2;break n}if(!js(H,B.width)||B.da)break n;if((B.da||un(H.ca.S))&&Ka(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ka()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!se(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Yo(H,H.V,H.Ba,H.c,H.i,B.o,Rs))break n;Q.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(E=S.a)}else E=S.a}else{if((S=new qa)==null){re=1;break e}if(S.Fa=Q.na,S.P=Q.P,S.qc=Q.Sa,Hi(S,H)){if((E=Al(H.width,H.height,re.Oa,re.ba))==0){if(S.Aa=0,B=re.Oa,e((Q=S)!=null),B!=null){if(0<(ae=0>(ae=B.Md)?0:100<ae?255:255*ae/100)){for(ce=_e=0;4>ce;++ce)12>(Me=Q.pb[ce]).lc&&(Me.ia=ae*g0[0>Me.lc?0:Me.lc]>>3),_e|=Me.ia;_e&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=B.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(de,Ae){if(de==null)return 0;if(Ae==null)return Pr(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!Hi(de,Ae))return 0;if(e(de.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(de.L=0);var Oe=wu[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=Ae.v-Oe>>4,de.zb=Ae.j-Oe>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=Ae.o+15+Oe>>4,de.Hb=Ae.va+15+Oe>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var $e=de.ed;for(Oe=0;4>Oe;++Oe){var Re;if(de.Qa.Cb){var De=de.Qa.Lb[Oe];de.Qa.Fb||(De+=$e.Tb)}else De=$e.Tb;for(Re=0;1>=Re;++Re){var Be=de.gd[Oe][Re],We=De;if($e.Pc&&(We+=$e.vd[0],Re&&(We+=$e.od[0])),0<(We=0>We?0:63<We?63:We)){var Ke=We;0<$e.wb&&(Ke=4<$e.wb?Ke>>2:Ke>>1)>9-$e.wb&&(Ke=9-$e.wb),1>Ke&&(Ke=1),Be.dd=Ke,Be.tc=2*We+Ke,Be.ld=40<=We?2:15<=We?1:0}else Be.tc=0;Be.La=Re}}}Oe=0}else Pr(de,6,"Frame setup failed"),Oe=de.a;if(Oe=Oe==0){if(Oe){de.$c=0,0<de.Aa||(de.Ic=Pl);t:{Oe=de.Ic,$e=4*(Ke=de.za);var Vt=32*Ke,kt=Ke+1,An=0<de.L?Ke*(0<de.Aa?2:1):0,Ft=(de.Aa==2?2:1)*Ke;if((Be=$e+832+(Re=3*(16*Oe+wu[de.L])/2*Vt)+(De=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=Be)Oe=0;else{if(Be>de.Vb){if(de.Vb=0,de.Ec=o(Be),de.Fc=0,de.Ec==null){Oe=Pr(de,1,"no memory during frame initialization.");break t}de.Vb=Be}Be=de.Ec,We=de.Fc,de.Ac=Be,de.Bc=We,We+=$e,de.Gd=a(Vt,jn),de.Hd=0,de.rb=a(kt+1,Is),de.sb=1,de.wa=An?a(An,qi):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=Ke),e(!0),de.oc=Be,de.pc=We,We+=832,de.ya=a(Ft,qt),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=Ke),de.R=16*Ke,de.B=8*Ke,Ke=(Vt=wu[de.L])*de.R,Vt=Vt/2*de.B,de.sa=Be,de.ta=We+Ke,de.qa=de.sa,de.ra=de.ta+16*Oe*de.R+Vt,de.Ha=de.qa,de.Ia=de.ra+8*Oe*de.B+Vt,de.$c=0,We+=Re,de.mb=De?Be:null,de.nb=De?We:null,e(We+De<=de.Fc+de.Vb),Xo(de),i(de.Ac,de.Bc,0,$e),Oe=1}}if(Oe){if(Ae.ka=0,Ae.y=de.sa,Ae.O=de.ta,Ae.f=de.qa,Ae.N=de.ra,Ae.ea=de.Ha,Ae.Vd=de.Ia,Ae.fa=de.R,Ae.Rc=de.B,Ae.F=null,Ae.J=0,!kg){for(Oe=-255;255>=Oe;++Oe)_g[255+Oe]=0>Oe?-Oe:Oe;for(Oe=-1020;1020>=Oe;++Oe)Eg[1020+Oe]=-128>Oe?-128:127<Oe?127:Oe;for(Oe=-112;112>=Oe;++Oe)Ng[112+Oe]=-16>Oe?-16:15<Oe?15:Oe;for(Oe=-255;510>=Oe;++Oe)Ag[255+Oe]=0>Oe?0:255<Oe?255:Oe;kg=1}bc=zn,hu=Ls,Zo=Ds,Jn=ui,fr=dc,ri=ad,ii=jf,xi=yo,ps=R,Df=J,md=Va,Ol=ud,lp=pe,gd=we,cp=Ua,xg=Nl,Ff=ru,pu=Rf,Xa[0]=Tf,Xa[1]=wl,Xa[2]=zr,Xa[3]=yi,Xa[4]=sd,Xa[5]=_l,Xa[6]=Ea,Xa[7]=op,Xa[8]=eu,Xa[9]=ld,Fo[0]=Lo,Fo[1]=Xn,Fo[2]=Sl,Fo[3]=Qo,Fo[4]=ut,Fo[5]=_t,Fo[6]=ln,ea[0]=ds,ea[1]=Gr,ea[2]=Of,ea[3]=us,ea[4]=Mf,ea[5]=cd,ea[6]=Pf,Oe=1}else Oe=0}Oe&&(Oe=(function(qn,oi){for(qn.M=0;qn.M<qn.Va;++qn.M){var Tn,Ct=qn.Jc[qn.M&qn.Xb],pt=qn.m,hi=qn;for(Tn=0;Tn<hi.za;++Tn){var gn=pt,Bn=hi,Cr=Bn.Ac,Wi=Bn.Bc+4*Tn,wi=Bn.zc,Xr=Bn.ya[Bn.aa+Tn];if(Bn.Qa.Bb?Xr.$b=be(gn,Bn.Pa.jb[0])?2+be(gn,Bn.Pa.jb[2]):be(gn,Bn.Pa.jb[1]):Xr.$b=0,Bn.kc&&(Xr.Ad=be(gn,Bn.Bd)),Xr.Za=!be(gn,145)+0,Xr.Za){var Ri=Xr.Ob,Vi=0;for(Bn=0;4>Bn;++Bn){var qr,Vn=wi[0+Bn];for(qr=0;4>qr;++qr){Vn=J2[Cr[Wi+qr]][Vn];for(var Zn=h0[be(gn,Vn[0])];0<Zn;)Zn=h0[2*Zn+be(gn,Vn[Zn])];Vn=-Zn,Cr[Wi+qr]=Vn}r(Ri,Vi,Cr,Wi,4),Vi+=4,wi[0+Bn]=Vn}}else Vn=be(gn,156)?be(gn,128)?1:3:be(gn,163)?2:0,Xr.Ob[0]=Vn,i(Cr,Wi,Vn,4),i(wi,0,Vn,4);Xr.Dd=be(gn,142)?be(gn,114)?be(gn,183)?1:3:2:0}if(hi.m.Ka)return Pr(qn,7,"Premature end-of-partition0 encountered.");for(;qn.ja<qn.za;++qn.ja){if(hi=Ct,gn=(pt=qn).rb[pt.sb-1],Cr=pt.rb[pt.sb+pt.ja],Tn=pt.ya[pt.aa+pt.ja],Wi=pt.kc?Tn.Ad:0)gn.la=Cr.la=0,Tn.Za||(gn.Na=Cr.Na=0),Tn.Hc=0,Tn.Gc=0,Tn.ia=0;else{var Ur,er;if(gn=Cr,Cr=hi,Wi=pt.Pa.Xc,wi=pt.ya[pt.aa+pt.ja],Xr=pt.pb[wi.$b],Bn=wi.ad,Ri=0,Vi=pt.rb[pt.sb-1],Vn=qr=0,i(Bn,Ri,0,384),wi.Za)var ai=0,si=Wi[3];else{Zn=o(16);var wr=gn.Na+Vi.Na;if(wr=yu(Cr,Wi[1],wr,Xr.Eb,0,Zn,0),gn.Na=Vi.Na=(0<wr)+0,1<wr)bc(Zn,0,Bn,Ri);else{var wo=Zn[0]+3>>3;for(Zn=0;256>Zn;Zn+=16)Bn[Ri+Zn]=wo}ai=1,si=Wi[0]}var pr=15&gn.la,Sr=15&Vi.la;for(Zn=0;4>Zn;++Zn){var Si=1&Sr;for(wo=er=0;4>wo;++wo)pr=pr>>1|(Si=(wr=yu(Cr,si,wr=Si+(1&pr),Xr.Sc,ai,Bn,Ri))>ai)<<7,er=er<<2|(3<wr?3:1<wr?2:Bn[Ri+0]!=0),Ri+=16;pr>>=4,Sr=Sr>>1|Si<<7,qr=(qr<<8|er)>>>0}for(si=pr,ai=Sr>>4,Ur=0;4>Ur;Ur+=2){for(er=0,pr=gn.la>>4+Ur,Sr=Vi.la>>4+Ur,Zn=0;2>Zn;++Zn){for(Si=1&Sr,wo=0;2>wo;++wo)wr=Si+(1&pr),pr=pr>>1|(Si=0<(wr=yu(Cr,Wi[2],wr,Xr.Qc,0,Bn,Ri)))<<3,er=er<<2|(3<wr?3:1<wr?2:Bn[Ri+0]!=0),Ri+=16;pr>>=2,Sr=Sr>>1|Si<<5}Vn|=er<<4*Ur,si|=pr<<4<<Ur,ai|=(240&Sr)<<Ur}gn.la=si,Vi.la=ai,wi.Hc=qr,wi.Gc=Vn,wi.ia=43690&Vn?0:Xr.ia,Wi=!(qr|Vn)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[Tn.$b][Tn.Za],pt.wa[pt.Y+pt.ja].La|=!Wi),hi.Ka)return Pr(qn,7,"Premature end-of-file encountered.")}if(Xo(qn),pt=oi,hi=1,Tn=(Ct=qn).D,gn=0<Ct.L&&Ct.M>=Ct.zb&&Ct.M<=Ct.Va,Ct.Aa==0)t:{if(Tn.M=Ct.M,Tn.uc=gn,Na(Ct,Tn),hi=1,Tn=(er=Ct.D).Nb,gn=(Vn=wu[Ct.L])*Ct.R,Cr=Vn/2*Ct.B,Zn=16*Tn*Ct.R,wo=8*Tn*Ct.B,Wi=Ct.sa,wi=Ct.ta-gn+Zn,Xr=Ct.qa,Bn=Ct.ra-Cr+wo,Ri=Ct.Ha,Vi=Ct.Ia-Cr+wo,Sr=(pr=er.M)==0,qr=pr>=Ct.Va-1,Ct.Aa==2&&Na(Ct,er),er.uc)for(Si=(wr=Ct).D.M,e(wr.D.uc),er=wr.yb;er<wr.Hb;++er){ai=er,si=Si;var ao=(ia=(gi=wr).D).Nb;Ur=gi.R;var ia=ia.wa[ia.Y+ai],pi=gi.sa,mi=gi.ta+16*ao*Ur+16*ai,So=ia.dd,_r=ia.tc;if(_r!=0)if(e(3<=_r),gi.L==1)0<ai&&xg(pi,mi,Ur,_r+4),ia.La&&pu(pi,mi,Ur,_r),0<si&&cp(pi,mi,Ur,_r+4),ia.La&&Ff(pi,mi,Ur,_r);else{var _o=gi.B,Qa=gi.qa,gs=gi.ra+8*ao*_o+8*ai,Ki=gi.Ha,gi=gi.Ia+8*ao*_o+8*ai;ao=ia.ld,0<ai&&(xi(pi,mi,Ur,_r+4,So,ao),Df(Qa,gs,Ki,gi,_o,_r+4,So,ao)),ia.La&&(Ol(pi,mi,Ur,_r,So,ao),gd(Qa,gs,Ki,gi,_o,_r,So,ao)),0<si&&(ii(pi,mi,Ur,_r+4,So,ao),ps(Qa,gs,Ki,gi,_o,_r+4,So,ao)),ia.La&&(md(pi,mi,Ur,_r,So,ao),lp(Qa,gs,Ki,gi,_o,_r,So,ao))}}if(Ct.ia&&alert("todo:DitherRow"),pt.put!=null){if(er=16*pr,pr=16*(pr+1),Sr?(pt.y=Ct.sa,pt.O=Ct.ta+Zn,pt.f=Ct.qa,pt.N=Ct.ra+wo,pt.ea=Ct.Ha,pt.W=Ct.Ia+wo):(er-=Vn,pt.y=Wi,pt.O=wi,pt.f=Xr,pt.N=Bn,pt.ea=Ri,pt.W=Vi),qr||(pr-=Vn),pr>pt.o&&(pr=pt.o),pt.F=null,pt.J=null,Ct.Fa!=null&&0<Ct.Fa.length&&er<pr&&(pt.J=bi(Ct,pt,er,pr-er),pt.F=Ct.mb,pt.F==null&&pt.F.length==0)){hi=Pr(Ct,3,"Could not decode alpha data.");break t}er<pt.j&&(Vn=pt.j-er,er=pt.j,e(!(1&Vn)),pt.O+=Ct.R*Vn,pt.N+=Ct.B*(Vn>>1),pt.W+=Ct.B*(Vn>>1),pt.F!=null&&(pt.J+=pt.width*Vn)),er<pr&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=er-pt.j,pt.U=pt.va-pt.v,pt.T=pr-er,hi=pt.put(pt))}Tn+1!=Ct.Ic||qr||(r(Ct.sa,Ct.ta-gn,Wi,wi+16*Ct.R,gn),r(Ct.qa,Ct.ra-Cr,Xr,Bn+8*Ct.B,Cr),r(Ct.Ha,Ct.Ia-Cr,Ri,Vi+8*Ct.B,Cr))}if(!hi)return Pr(qn,6,"Output aborted.")}return 1})(de,Ae)),Ae.bc!=null&&Ae.bc(Ae),Oe&=1}return Oe?(de.cb=0,Oe):0})(S,H)||(E=S.a)}}else E=S.a}E==0&&re.Oa!=null&&re.Oa.fd&&(E=fd(re.ba))}re=E}te=re!=0?null:11>te?oe.f.RGBA.eb:oe.f.kb.y}else te=null;return te};var Kf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(M,q){for(var D="",I=0;I<4;I++)D+=String.fromCharCode(M[q++]);return D}function u(M,q){return M[q+0]|M[q+1]<<8}function f(M,q){return(M[q+0]|M[q+1]<<8|M[q+2]<<16)>>>0}function g(M,q){return(M[q+0]|M[q+1]<<8|M[q+2]<<16|M[q+3]<<24)>>>0}new l;var m=[0],b=[0],v=[],y=new l,w=t,N=(function(M,q){var D={},I=0,z=!1,U=0,Y=0;if(D.frames=[],!(function(F,V){for(var ee=0;ee<4;ee++)if(F[V+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(M,q)){for(g(M,q+=4),q+=8;q<M.length;){var ne=c(M,q),W=g(M,q+=4);q+=4;var G=W+(1&W);switch(ne){case"VP8 ":case"VP8L":D.frames[I]===void 0&&(D.frames[I]={}),(X=D.frames[I]).src_off=z?Y:q-8,X.src_size=U+W+8,I++,z&&(z=!1,U=0,Y=0);break;case"VP8X":(X=D.header={}).feature_flags=M[q];var K=q+4;X.canvas_width=1+f(M,K),K+=3,X.canvas_height=1+f(M,K),K+=3;break;case"ALPH":z=!0,U=G+8,Y=q-8;break;case"ANIM":(X=D.header).bgcolor=g(M,q),K=q+4,X.loop_count=u(M,K),K+=2;break;case"ANMF":var fe,X;(X=D.frames[I]={}).offset_x=2*f(M,q),q+=3,X.offset_y=2*f(M,q),q+=3,X.width=1+f(M,q),q+=3,X.height=1+f(M,q),q+=3,X.duration=f(M,q),q+=3,fe=M[q++],X.dispose=1&fe,X.blend=fe>>1&1}ne!="ANMF"&&(q+=G)}return D}})(w,0);N.response=w,N.rgbaoutput=!0,N.dataurl=!1;var k=N.header?N.header:null,A=N.frames?N.frames:null;if(k){k.loop_counter=k.loop_count,m=[k.canvas_height],b=[k.canvas_width];for(var T=0;T<A.length&&A[T].blend!=0;T++);}var P=A[0],L=y.WebPDecodeRGBA(w,P.src_off,P.src_size,b,m);P.rgba=L,P.imgwidth=b[0],P.imgheight=m[0];for(var C=0;C<b[0]*m[0]*4;C++)v[C]=L[C];return this.width=b,this.height=m,this.data=v,this}(function(t){var e,n,r,i,o,a,s,l,c,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=F;Object.defineProperty(this,"pdf",{get:function(){return V}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Ne){ee=!!Ne}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Ne){ie=!!Ne}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ne){isNaN(Ne)||(ue=Ne)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Ne){isNaN(Ne)||(he=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ne){var se;typeof Ne=="number"?se=[Ne,Ne,Ne,Ne]:((se=new Array(4))[0]=Ne[0],se[1]=Ne.length>=2?Ne[1]:se[0],se[2]=Ne.length>=3?Ne[2]:se[0],se[3]=Ne.length>=4?Ne[3]:se[1]),c.margin=se}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Ne){me=Ne}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(Ne){le=Ne}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Ne){be=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ne){Ne instanceof u&&(c=Ne)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ne){c.path=Ne}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(Ne){Se=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var se;se=g(Ne),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var se=g(Ne);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var xe=null,Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(Ne){xe=null,Le=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var se;if(this.ctx.font=Ne,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var ze=se[1];se[2];var st=se[3],Ge=se[4];se[5];var Fe=se[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(lt==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var Ze=(function(Gt){var wt,_n,Cn=[],At=Gt.trim();if(At==="")return C5;if(At in bB)return[bB[At]];for(;At!=="";){switch(_n=null,wt=(At=wB(At)).charAt(0)){case'"':case"'":_n=vNe(At.substring(1),wt);break;default:_n=yNe(At)}if(_n===null||(Cn.push(_n[0]),(At=wB(_n[1]))!==""&&At.charAt(0)!==","))return C5;At=At.replace(/^,/,"")}return Cn})(Fe);if(this.fontFaces){var Et=(function(Gt,wt){if(xe===null){var _n=(function(Cn){var At=[];return Object.keys(Cn).forEach(function(mn){Cn[mn].forEach(function(Gn){var Jt=null;switch(Gn){case"bold":Jt={family:mn,weight:"bold"};break;case"italic":Jt={family:mn,style:"italic"};break;case"bolditalic":Jt={family:mn,weight:"bold",style:"italic"};break;case"":case"normal":Jt={family:mn}}Jt!==null&&(Jt.ref={name:mn,style:Gn},At.push(Jt))})}),At})(Gt.getFontList());xe=(function(Cn){for(var At={},mn=0;mn<Cn.length;++mn){var Gn=k5(Cn[mn]),Jt=Gn.family,En=Gn.stretch,un=Gn.style,ur=Gn.weight;At[Jt]=At[Jt]||{},At[Jt][En]=At[Jt][En]||{},At[Jt][En][un]=At[Jt][En][un]||{},At[Jt][En][un][ur]=Gn}return At})(_n.concat(wt))}return xe})(this.pdf,this.fontFaces),St=Ze.map(function(Gt){return{family:Gt,stretch:"normal",weight:st,style:ze}}),It=(function(Gt,wt,_n){for(var Cn=(_n=_n||{}).defaultFontFamily||"times",At=Object.assign({},gNe,_n.genericFontFamilies||{}),mn=null,Gn=null,Jt=0;Jt<wt.length;++Jt)if(At[(mn=k5(wt[Jt])).family]&&(mn.family=At[mn.family]),Gt.hasOwnProperty(mn.family)){Gn=Gt[mn.family];break}if(!(Gn=Gn||Gt[Cn]))throw new Error("Could not find a font-family for the rule '"+xB(mn)+"' and default family '"+Cn+"'.");if(Gn=(function(En,un){if(un[En])return un[En];var ur=bT[En],ye=ur<=bT.normal?-1:1,tt=yB(un,JG,ur,ye);if(!tt)throw new Error("Could not find a matching font-stretch value for "+En);return tt})(mn.stretch,Gn),Gn=(function(En,un){if(un[En])return un[En];for(var ur=QG[En],ye=0;ye<ur.length;++ye)if(un[ur[ye]])return un[ur[ye]];throw new Error("Could not find a matching font-style for "+En)})(mn.style,Gn),!(Gn=(function(En,un){if(un[En])return un[En];if(En===400&&un[500])return un[500];if(En===500&&un[400])return un[400];var ur=mNe[En],ye=yB(un,ZG,ur,En<400?-1:1);if(!ye)throw new Error("Could not find a matching font-weight for value "+En);return ye})(mn.weight,Gn)))throw new Error("Failed to resolve a font for the rule '"+xB(mn)+"'.");return Gn})(Et,St);this.pdf.setFont(It.ref.name,It.ref.style)}else{var Tt="";(st==="bold"||parseInt(st,10)>=700||ze==="bold")&&(Tt="bold"),ze==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var xt="",rn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Lt=0;Lt<Ze.length;Lt++){if(this.pdf.internal.getFont(Ze[Lt],Tt,{noFallback:!0,disableWarning:!0})!==void 0){xt=Ze[Lt];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(Ze[Lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=Ze[Lt],Tt="bold";else if(this.pdf.internal.getFont(Ze[Lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=Ze[Lt],Tt="normal";break}}if(xt===""){for(var Mt=0;Mt<Ze.length;Mt++)if(rn[Ze[Mt]]){xt=rn[Ze[Mt]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,V){if(isNaN(F)||isNaN(V))throw jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new a(F,V));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(F,V)},f.prototype.closePath=function(){var F=new a(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Ar(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){F=new a(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},f.prototype.lineTo=function(F,V){if(isNaN(F)||isNaN(V))throw jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new a(F,V));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,V,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(F)||isNaN(V))throw jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new a(ee,ie)),he=this.ctx.transform.applyToPoint(new a(F,V));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},f.prototype.bezierCurveTo=function(F,V,ee,ie,ue,he){if(isNaN(ue)||isNaN(he)||isNaN(F)||isNaN(V)||isNaN(ee)||isNaN(ie))throw jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(ue,he)),le=this.ctx.transform.applyToPoint(new a(F,V)),be=this.ctx.transform.applyToPoint(new a(ee,ie));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:be.x,y2:be.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},f.prototype.arc=function(F,V,ee,ie,ue,he){if(isNaN(F)||isNaN(V)||isNaN(ee)||isNaN(ie)||isNaN(ue))throw jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(F,V));F=me.x,V=me.y;var le=this.ctx.transform.applyToPoint(new a(0,ee)),be=this.ctx.transform.applyToPoint(new a(0,0));ee=Math.sqrt(Math.pow(le.x-be.x,2)+Math.pow(le.y-be.y,2))}Math.abs(ue-ie)>=2*Math.PI&&(ie=0,ue=2*Math.PI),this.path.push({type:"arc",x:F,y:V,radius:ee,startAngle:ie,endAngle:ue,counterclockwise:he})},f.prototype.arcTo=function(F,V,ee,ie,ue){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,V,ee,ie){if(isNaN(F)||isNaN(V)||isNaN(ee)||isNaN(ie))throw jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,V),this.lineTo(F+ee,V),this.lineTo(F+ee,V+ie),this.lineTo(F,V+ie),this.lineTo(F,V),this.lineTo(F+ee,V),this.lineTo(F,V)},f.prototype.fillRect=function(F,V,ee,ie){if(isNaN(F)||isNaN(V)||isNaN(ee)||isNaN(ie))throw jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,V,ee,ie),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},f.prototype.strokeRect=function(F,V,ee,ie){if(isNaN(F)||isNaN(V)||isNaN(ee)||isNaN(ie))throw jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(F,V,ee,ie),this.stroke())},f.prototype.clearRect=function(F,V,ee,ie){if(isNaN(F)||isNaN(V)||isNaN(ee)||isNaN(ie))throw jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,V,ee,ie))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(V),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var V,ee,ie,ue;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))V=0,ee=0,ie=0,ue=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(he!==null)V=parseInt(he[1]),ee=parseInt(he[2]),ie=parseInt(he[3]),ue=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)V=parseInt(he[1]),ee=parseInt(he[2]),ie=parseInt(he[3]),ue=parseFloat(he[4]);else{if(ue=1,typeof F=="string"&&F.charAt(0)!=="#"){var me=new HG(F);F=me.ok?me.toHex():"#000000"}F.length===4?(V=F.substring(1,2),V+=V,ee=F.substring(2,3),ee+=ee,ie=F.substring(3,4),ie+=ie):(V=F.substring(1,3),ee=F.substring(3,5),ie=F.substring(5,7)),V=parseInt(V,16),ee=parseInt(ee,16),ie=parseInt(ie,16)}}return{r:V,g:ee,b:ie,a:ue,style:F}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,V,ee,ie){if(isNaN(V)||isNaN(ee)||typeof F!="string")throw jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!m.call(this)){var ue=G(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:F,x:V,y:ee,scale:he,angle:ue,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(F,V,ee,ie){if(isNaN(V)||isNaN(ee)||typeof F!="string")throw jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ie=isNaN(ie)?void 0:ie;var ue=G(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:F,x:V,y:ee,scale:he,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(F){if(typeof F!="string")throw jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,ee=this.pdf.internal.scaleFactor,ie=V.internal.getFontSize(),ue=V.getStringUnitWidth(F)*ie/V.internal.scaleFactor;return new function(he){var me=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ue*=Math.round(96*ee/72*1e4)/1e4})},f.prototype.scale=function(F,V){if(isNaN(F)||isNaN(V))throw jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(F,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.rotate=function(F){if(isNaN(F))throw jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(F,V){if(isNaN(F)||isNaN(V))throw jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,F,V);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.transform=function(F,V,ee,ie,ue,he){if(isNaN(F)||isNaN(V)||isNaN(ee)||isNaN(ie)||isNaN(ue)||isNaN(he))throw jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(F,V,ee,ie,ue,he);this.ctx.transform=this.ctx.transform.multiply(me)},f.prototype.setTransform=function(F,V,ee,ie,ue,he){F=isNaN(F)?1:F,V=isNaN(V)?0:V,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?1:ie,ue=isNaN(ue)?0:ue,he=isNaN(he)?0:he,this.ctx.transform=new l(F,V,ee,ie,ue,he)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,V,ee,ie,ue,he,me,le,be){var Se=this.pdf.getImageProperties(F),xe=1,Le=1,Ne=1,se=1;ie!==void 0&&le!==void 0&&(Ne=le/ie,se=be/ue,xe=Se.width/ie*le/ie,Le=Se.height/ue*be/ue),he===void 0&&(he=V,me=ee,V=0,ee=0),ie!==void 0&&le===void 0&&(le=ie,be=ue),ie===void 0&&le===void 0&&(le=Se.width,be=Se.height);for(var ze,st=this.ctx.transform.decompose(),Ge=G(st.rotate.shx),Fe=new l,lt=(Fe=(Fe=(Fe=Fe.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new s(he-V*Ne,me-ee*se,ie*xe,ue*Le)),Ze=y.call(this,lt),Et=[],St=0;St<Ze.length;St+=1)Et.indexOf(Ze[St])===-1&&Et.push(Ze[St]);if(k(Et),this.autoPaging)for(var It=Et[0],Tt=Et[Et.length-1],xt=It;xt<Tt+1;xt++){this.pdf.setPage(xt);var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=xt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=xt===1?0:Mt+(xt-2)*Gt;if(this.ctx.clip_path.length!==0){var _n=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ze,this.posX+this.margin[3],-wt+Lt+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=_n}var Cn=JSON.parse(JSON.stringify(lt));Cn=N([Cn],this.posX+this.margin[3],-wt+Lt+this.ctx.prevPageLastElemOffset)[0];var At=(xt>It||xt<Tt)&&v.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,Gt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Cn.x,Cn.y,Cn.w,Cn.h,null,null,Ge),At&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,Ge)};var y=function(F,V,ee){var ie=[];V=V||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ie.push(Math.floor((F.y+ue)/ee)+1);break;case"arc":ie.push(Math.floor((F.y+ue-F.radius)/ee)+1),ie.push(Math.floor((F.y+ue+F.radius)/ee)+1);break;case"qct":var he=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ie.push(Math.floor((he.y+ue)/ee)+1),ie.push(Math.floor((he.y+he.h+ue)/ee)+1);break;case"bct":var me=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ie.push(Math.floor((me.y+ue)/ee)+1),ie.push(Math.floor((me.y+me.h+ue)/ee)+1);break;case"rect":ie.push(Math.floor((F.y+ue)/ee)+1),ie.push(Math.floor((F.y+F.h+ue)/ee)+1)}for(var le=0;le<ie.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<ie[le];)w.call(this);return ie},w=function(){var F=this.fillStyle,V=this.strokeStyle,ee=this.font,ie=this.lineCap,ue=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=V,this.font=ee,this.lineCap=ie,this.lineWidth=ue,this.lineJoin=he},N=function(F,V,ee){for(var ie=0;ie<F.length;ie++)switch(F[ie].type){case"bct":F[ie].x2+=V,F[ie].y2+=ee;case"qct":F[ie].x1+=V,F[ie].y1+=ee;default:F[ie].x+=V,F[ie].y+=ee}return F},k=function(F){return F.sort(function(V,ee){return V-ee})},A=function(F,V){for(var ee,ie,ue=this.fillStyle,he=this.strokeStyle,me=this.lineCap,le=this.lineWidth,be=Math.abs(le*this.ctx.transform.scaleX),Se=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),Ne=[],se=0;se<Le.length;se++)if(Le[se].x!==void 0)for(var ze=y.call(this,Le[se]),st=0;st<ze.length;st+=1)Ne.indexOf(ze[st])===-1&&Ne.push(ze[st]);for(var Ge=0;Ge<Ne.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Ne[Ge];)w.call(this);if(k(Ne),this.autoPaging)for(var Fe=Ne[0],lt=Ne[Ne.length-1],Ze=Fe;Ze<lt+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=ue,this.strokeStyle=he,this.lineCap=me,this.lineWidth=be,this.lineJoin=Se;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=Ze===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Ze===1?0:It+(Ze-2)*Tt;if(this.ctx.clip_path.length!==0){var rn=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ee,this.posX+this.margin[3],-xt+St+this.ctx.prevPageLastElemOffset),T.call(this,F,!0),this.path=rn}if(ie=JSON.parse(JSON.stringify(xe)),this.path=N(ie,this.posX+this.margin[3],-xt+St+this.ctx.prevPageLastElemOffset),V===!1||Ze===0){var Lt=(Ze>Fe||Ze<lt)&&v.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Tt,null).clip().discardPath()),T.call(this,F,V),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=be,T.call(this,F,V),this.lineWidth=le;this.path=xe},T=function(F,V){if((F!=="stroke"||V||!b.call(this))&&(F==="stroke"||V||!m.call(this))){for(var ee,ie,ue=[],he=this.path,me=0;me<he.length;me++){var le=he[me];switch(le.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:le,deltas:[],abs:[]});break;case"lt":var be=ue.length;if(he[me-1]&&!isNaN(he[me-1].x)&&(ee=[le.x-he[me-1].x,le.y-he[me-1].y],be>0)){for(;be>=0;be--)if(ue[be-1].close!==!0&&ue[be-1].begin!==!0){ue[be-1].deltas.push(ee),ue[be-1].abs.push(le);break}}break;case"bct":ee=[le.x1-he[me-1].x,le.y1-he[me-1].y,le.x2-he[me-1].x,le.y2-he[me-1].y,le.x-he[me-1].x,le.y-he[me-1].y],ue[ue.length-1].deltas.push(ee);break;case"qct":var Se=he[me-1].x+2/3*(le.x1-he[me-1].x),xe=he[me-1].y+2/3*(le.y1-he[me-1].y),Le=le.x+2/3*(le.x1-le.x),Ne=le.y+2/3*(le.y1-le.y),se=le.x,ze=le.y;ee=[Se-he[me-1].x,xe-he[me-1].y,Le-he[me-1].x,Ne-he[me-1].y,se-he[me-1].x,ze-he[me-1].y],ue[ue.length-1].deltas.push(ee);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(le)}}ie=V?null:F==="stroke"?"stroke":"fill";for(var st=!1,Ge=0;Ge<ue.length;Ge++)if(ue[Ge].arc)for(var Fe=ue[Ge].abs,lt=0;lt<Fe.length;lt++){var Ze=Fe[lt];Ze.type==="arc"?C.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,V,!st):z.call(this,Ze.x,Ze.y),st=!0}else if(ue[Ge].close===!0)this.pdf.internal.out("h"),st=!1;else if(ue[Ge].begin!==!0){var Et=ue[Ge].start.x,St=ue[Ge].start.y;U.call(this,ue[Ge].deltas,Et,St),st=!0}ie&&M.call(this,ie),V&&q.call(this)}},P=function(F){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ee;case"top":return F+V-ee;case"hanging":return F+V-2*ee;case"middle":return F+V/2-ee;default:return F}},L=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(V,ee){this.colorStops.push([V,ee])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(F,V,ee,ie,ue,he,me,le,be){for(var Se=ne.call(this,ee,ie,ue,he),xe=0;xe<Se.length;xe++){var Le=Se[xe];xe===0&&(be?D.call(this,Le.x1+F,Le.y1+V):z.call(this,Le.x1+F,Le.y1+V)),Y.call(this,F,V,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}le?q.call(this):M.call(this,me)},M=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(F,V){this.pdf.internal.out(n(F)+" "+r(V)+" m")},I=function(F){var V;switch(F.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var ee=this.pdf.getTextDimensions(F.text),ie=P.call(this,F.y),ue=L.call(this,ie)-ee.h,he=this.ctx.transform.applyToPoint(new a(F.x,ie)),me=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var be,Se,xe,Le=this.ctx.transform.applyToRectangle(new s(F.x,ie,ee.w,ee.h)),Ne=le.applyToRectangle(new s(F.x,ue,ee.w,ee.h)),se=y.call(this,Ne),ze=[],st=0;st<se.length;st+=1)ze.indexOf(se[st])===-1&&ze.push(se[st]);if(k(ze),this.autoPaging)for(var Ge=ze[0],Fe=ze[ze.length-1],lt=Ge;lt<Fe+1;lt++){this.pdf.setPage(lt);var Ze=lt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],It=St-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],xt=Tt-this.margin[3],rn=lt===1?0:Et+(lt-2)*It;if(this.ctx.clip_path.length!==0){var Lt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(be,this.posX+this.margin[3],-1*rn+Ze),T.call(this,"fill",!0),this.path=Lt}var Mt=N([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-rn+Ze+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*F.scale),xe=this.lineWidth,this.lineWidth=xe*F.scale);var Gt=this.autoPaging!=="text";if(Gt||Mt.y+Mt.h<=St){if(Gt||Mt.y>=Ze&&Mt.x<=Tt){var wt=Gt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Tt-Mt.x)[0],_n=N([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-rn+Ze+this.ctx.prevPageLastElemOffset)[0],Cn=Gt&&(lt>Ge||lt<Fe)&&v.call(this);Cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,It,null).clip().discardPath()),this.pdf.text(wt,_n.x,_n.y,{angle:F.angle,align:V,renderingMode:F.renderingMode}),Cn&&this.pdf.restoreGraphicsState()}}else Mt.y<St&&(this.ctx.prevPageLastElemOffset+=St-Mt.y);F.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=xe)}else F.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*F.scale),xe=this.lineWidth,this.lineWidth=xe*F.scale),this.pdf.text(F.text,he.x+this.posX,he.y+this.posY,{angle:F.angle,align:V,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=xe)},z=function(F,V,ee,ie){ee=ee||0,ie=ie||0,this.pdf.internal.out(n(F+ee)+" "+r(V+ie)+" l")},U=function(F,V,ee){return this.pdf.lines(F,V,ee,null,null)},Y=function(F,V,ee,ie,ue,he,me,le){this.pdf.internal.out([e(i(ee+F)),e(o(ie+V)),e(i(ue+F)),e(o(he+V)),e(i(me+F)),e(o(le+V)),"c"].join(" "))},ne=function(F,V,ee,ie){for(var ue=2*Math.PI,he=Math.PI/2;V>ee;)V-=ue;var me=Math.abs(ee-V);me<ue&&ie&&(me=ue-me);for(var le=[],be=ie?-1:1,Se=V;me>1e-5;){var xe=Se+be*Math.min(me,he);le.push(W.call(this,F,Se,xe)),me-=Math.abs(xe-Se),Se=xe}return le},W=function(F,V,ee){var ie=(ee-V)/2,ue=F*Math.cos(ie),he=F*Math.sin(ie),me=ue,le=-he,be=me*me+le*le,Se=be+me*ue+le*he,xe=4/3*(Math.sqrt(2*be*Se)-Se)/(me*he-le*ue),Le=me-xe*le,Ne=le+xe*me,se=Le,ze=-Ne,st=ie+V,Ge=Math.cos(st),Fe=Math.sin(st);return{x1:F*Math.cos(V),y1:F*Math.sin(V),x2:Le*Ge-Ne*Fe,y2:Le*Fe+Ne*Ge,x3:se*Ge-ze*Fe,y3:se*Fe+ze*Ge,x4:F*Math.cos(ee),y4:F*Math.sin(ee)}},G=function(F){return 180*F/Math.PI},K=function(F,V,ee,ie,ue,he){var me=F+.5*(ee-F),le=V+.5*(ie-V),be=ue+.5*(ee-ue),Se=he+.5*(ie-he),xe=Math.min(F,ue,me,be),Le=Math.max(F,ue,me,be),Ne=Math.min(V,he,le,Se),se=Math.max(V,he,le,Se);return new s(xe,Ne,Le-xe,se-Ne)},fe=function(F,V,ee,ie,ue,he,me,le){var be,Se,xe,Le,Ne,se,ze,st,Ge,Fe,lt,Ze,Et,St,It=ee-F,Tt=ie-V,xt=ue-ee,rn=he-ie,Lt=me-ue,Mt=le-he;for(Se=0;Se<41;Se++)Ge=(ze=(xe=F+(be=Se/40)*It)+be*((Ne=ee+be*xt)-xe))+be*(Ne+be*(ue+be*Lt-Ne)-ze),Fe=(st=(Le=V+be*Tt)+be*((se=ie+be*rn)-Le))+be*(se+be*(he+be*Mt-se)-st),Se==0?(lt=Ge,Ze=Fe,Et=Ge,St=Fe):(lt=Math.min(lt,Ge),Ze=Math.min(Ze,Fe),Et=Math.max(Et,Ge),St=Math.max(St,Fe));return new s(Math.round(lt),Math.round(Ze),Math.round(Et-lt),Math.round(St-Ze))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,V,ee=(F=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:V}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Zt.API),(function(t){var e=function(a){var s,l,c,u,f,g,m,b,v,y;for(l=[],c=0,u=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(f=((f=((f=((f=(f-(y=f%85))/85)-(v=f%85))/85)-(b=f%85))/85)-(m=f%85))/85)%85,l.push(g+33,m+33,b+33,v+33,y+33)):l.push(122);return(function(w,N){for(var k=N;k>0;k--)w.pop()})(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var s,l,c,u,f,g=String,m="length",b=255,v="charCodeAt",y="slice",w="replace";for(a[y](-2),a=a[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,f=(a+=s="uuuuu"[y](a[m]%5||5))[m];f>u;u+=5)l=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return(function(N,k){for(var A=k;A>0;A--)N.pop()})(c,s[m]),g.fromCharCode.apply(g,c)},r=function(a){return a.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},o=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return(s=fT(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,s){var l=0,c=a||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Zt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var s=void 0;try{s=(function(l,c,u){var f=new XMLHttpRequest,g=0,m=function(b){var v=b.length,y=[],w=String.fromCharCode;for(g=0;g<v;g+=1)y.push(w(255&b.charCodeAt(g)));return y.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(m(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return m(f.responseText)})(i,o,a)}catch{}return s})(e,n,r)},t.loadImageFile=t.loadFile})(Zt.API),(function(t){function e(){return(Sn.html2canvas?Promise.resolve(Sn.html2canvas):c5(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(Sn.DOMPurify?Promise.resolve(Sn.DOMPurify):c5(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=Ar(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function s(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(s(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return(u=u.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||(function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var b=u[m],v=b.src.find(function(y){return y.format==="truetype"});v&&c.addFont(v.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,c,u){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,u){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,f).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then;var u=this;s&&(s=s.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),g=c.call(f,s,l);return a.convert(g,u.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Zt.getPageSize=function(s,l,c){if(Ar(s)==="object"){var u=s;s=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var f,g=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var b,v=0,y=0;if(m.hasOwnProperty(g))v=m[g][1]/f,y=m[g][0]/f;else try{v=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",y>v&&(b=y,y=v,v=b);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",v>y&&(b=y,y=v,v=b)}return{width:y,height:v,unit:l,k:f,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(k5):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}})(Zt.API),Zt.API.addJS=function(t){return _B=t,this.internal.events.subscribe("postPutResources",function(){Sb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_B+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sb!==void 0&&SB!==void 0&&this.internal.out("/Names <</JavaScript "+Sb+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var a=i[o],s=r.exec(a);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var f=n.internal.newObject();u.push(f);var g=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<u.length;o++)n.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var a={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var a=r.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(Zt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,a,s){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=(function(f){for(var g,m=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,v={width:0,height:0,numcomponents:1},y=4;y<b;y+=2){if(y+=m,e.indexOf(f.charCodeAt(y+1))!==-1){g=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),v={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:g,numcomponents:f.charCodeAt(y+9)};break}m=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return v})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}})(Zt.API),Zt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=tNe(t,{checkCrc:!0}),a=o.width,s=o.height,l=o.channels,c=o.palette,u=o.depth;i=c&&l===1?(function(C){for(var M=C.width,q=C.height,D=C.data,I=C.palette,z=C.depth,U=!1,Y=[],ne=[],W=void 0,G=!1,K=0,fe=0;fe<I.length;fe++){var X=kF(I[fe],4),F=X[0],V=X[1],ee=X[2],ie=X[3];Y.push(F,V,ee),ie!=null&&(ie===0?(K++,ne.length<1&&ne.push(fe)):ie<255&&(G=!0))}if(G||K>1){U=!0,ne=void 0;var ue=M*q;W=new Uint8Array(ue);for(var he=new DataView(D.buffer),me=0;me<ue;me++){var le=T5(he,me,z),be=kF(I[le],4)[3];W[me]=be}}else K===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:D,alphaBytes:W,needSMask:U,palette:Y,mask:ne}})(o):l===2||l===4?(function(C){for(var M=C.data,q=C.width,D=C.height,I=C.channels,z=C.depth,U=I===2?"DeviceGray":"DeviceRGB",Y=I-1,ne=q*D,W=Y,G=ne*W,K=1*ne,fe=Math.ceil(G*z/8),X=Math.ceil(K*z/8),F=new Uint8Array(fe),V=new Uint8Array(X),ee=new DataView(M.buffer),ie=new DataView(F.buffer),ue=new DataView(V.buffer),he=!1,me=0;me<ne;me++){for(var le=me*I,be=0;be<W;be++)PB(ie,T5(ee,le+be,z),me*W+be,z);var Se=T5(ee,le+W,z);Se<(1<<z)-1&&(he=!0),PB(ue,Se,1*me,z)}return{colorSpace:U,colorsPerPixel:Y,sMaskBitsPerComponent:he?z:void 0,colorBytes:F,alphaBytes:V,needSMask:he}})(o):(function(C){var M=C.data,q=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(D){for(var I=D.length,z=new Uint8Array(2*I),U=new DataView(z.buffer,z.byteOffset,z.byteLength),Y=0;Y<I;Y++)U.setUint16(2*Y,D[Y],!1);return z})(M):M,needSMask:!1}})(o);var f,g,m,b=i,v=b.colorSpace,y=b.colorsPerPixel,w=b.sMaskBitsPerComponent,N=b.colorBytes,k=b.alphaBytes,A=b.needSMask,T=b.palette,P=b.mask,L=null;return r!==Zt.API.image_compression.NONE&&typeof fT=="function"?(L=(function(C){var M;switch(C){case Zt.API.image_compression.FAST:M=11;break;case Zt.API.image_compression.MEDIUM:M=13;break;case Zt.API.image_compression.SLOW:M=14;break;default:M=12}return M})(r),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(L," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(a),t=kB(N,Math.ceil(a*y*u/8),y,u,r),A&&(m=kB(k,Math.ceil(a*w/8),1,w,r))):(f=void 0,g=void 0,t=N,A&&(m=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:f,decodeParameters:g,transparency:P,palette:T,sMask:m,predictor:L,width:a,height:s,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:v}}},(function(t){t.processGIF89A=function(e,n,r,i){var o=new SNe(e),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},u=new O5(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A})(Zt.API),zl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){jr.log("bit decode error:"+n)}},zl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}n!==0&&(this.pos+=4-n)}},zl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},zl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},zl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},zl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=t}},zl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},zl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},zl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var o=new zl(e,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new O5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(Zt.API),jB.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var o=new jB(e),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new O5(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}})(Zt.API),Zt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],g=r[c+2],m=r[c+3];o[s++]=u,o[s++]=f,o[s++]=g,a[l++]=m}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Zt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fp=Zt.API,_b=Fp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,g=0,m=t.length,b=0,v=s[0]||l,y=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(g=f&&Ar(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/u:0,y.push((s[r]||v)/l+g)),b=r;return y},EB=Fp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Fp.processArabic&&(t=Fp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:_b.apply(this,arguments).reduce(function(o,a){return o+a},0)},NB=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var l=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},AB=function(t,e,n){n||(n={});var r,i,o,a,s,l,c,u=[],f=[u],g=n.textIndent||0,m=0,b=0,v=t.split(" "),y=_b.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),N=[];v.map(function(A){(A=A.split(/\s*\n/)).length>1?N=N.concat(A.map(function(T,P){return(P&&T.length?`
`:"")+T})):N.push(A[0])}),v=N,l=EB.apply(this,[w,n])}for(o=0,a=v.length;o<a;o++){var k=0;if(r=v[o],l&&r[0]==`
`&&(r=r.substr(1),k=1),g+m+(b=(i=_b.apply(this,[r,n])).reduce(function(A,T){return A+T},0))>e||k){if(b>e){for(s=NB.apply(this,[r,i,e-(g+m),e]),u.push(s.shift()),u=[s.pop()];s.length;)f.push([s.shift()]);b=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(A,T){return A+T},0)}else u=[r];f.push(u),g=b+l,m=y}else u.push(r),g+=m+b,m=y}return c=l?function(A,T){return(T?w:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(c)},Fp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(AB.apply(this,[r[s],a,o]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var a=function(g){return"0x"+parseInt(g,10).toString(16)},s=t.__fontmetrics__.compress=function(g){var m,b,v,y,w=["{"];for(var N in g){if(m=g[N],isNaN(parseInt(N,10))?b="'"+N+"'":(N=parseInt(N,10),b=(b=a(N).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof m=="number")m<0?(v=a(m).slice(3),y="-"):(v=a(m).slice(2),y=""),v=y+v.slice(0,-1)+i[v.slice(-1)];else{if(Ar(m)!=="object")throw new Error("Don't know what to do with value type "+Ar(m)+".");v=s(m)}w.push(b+v)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,v,y,w={},N=1,k=w,A=[],T="",P="",L=g.length-1,C=1;C<L;C+=1)(y=g[C])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(y):y=="{"?(A.push([k,v]),k={},v=void 0):y=="}"?((b=A.pop())[0][b[1]]=k,v=void 0,k=b[0]):y=="-"?N=-1:v===void 0?r.hasOwnProperty(y)?(T+=r[y],v=parseInt(T,16)*N,N=1,T=""):T+=y:r.hasOwnProperty(y)?(P+=r[y],k[v]=parseInt(P,16)*N,N=1,v=void 0,P=""):P+=y;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var m=g.font,b=f.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var v=u.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])})(Zt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(t1(s)),a.metadata=t.API.TTFFont.open(s),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(Zt),Zt.API.addSvgAsImage=function(t,e,n,r,i,o,a,s){if(isNaN(e)||isNaN(n))throw jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Sn.canvg?Promise.resolve(Sn.canvg):c5(()=>import("./index.es-beMAzFhD.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,s)})},Zt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Zt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],c=0,u=0,f=0;function g(b,v){var y,w=!1;for(y=0;y<b.length;y+=1)b[y]===v&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=s.length;for(f=0;f<m;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(Ar(t)==="object"){for(i in t)if(o=t[i],g(s,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&g(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?v.push("/"+b+" /"+n[b].value):v.push("/"+b+" "+n[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+a.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+a+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Zt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(o,a){for(var s,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,g=o.length;f<g;++f){if(s=a.metadata.characterToGlyph(o.charCodeAt(f)),a.metadata.glyIdsUsed.push(s),a.metadata.toUnicode[s]=o.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(a.metadata.widthOfGlyph(s),10)])),s=="0")return u.join("");s=s.toString(16),u.push(c[4-s.length],s)}return u.join("")},r=function(o){var a,s,l,c,u,f,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(s=Object.keys(o).sort(function(m,b){return m-b})).length;f<g;f++)a=s[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(c=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,g=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),m="",b=0;b<g.length;b++)m+=String.fromCharCode(g[b]);var v=c();u({data:m,addLength1:!0,objectId:v}),l("endobj");var y=c();u({data:r(s.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wp(s.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var N=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wp(s.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Wp(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);var b=c();u({data:g,addLength1:!0,objectId:b}),l("endobj");var v=c();u({data:r(s.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Wp(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var w=0;w<s.metadata.hmtx.widths.length;w++)s.metadata.hmtx.widths[w]=parseInt(s.metadata.hmtx.widths[w]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Wp(s.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]);var i=function(o){var a,s=o.text||"",l=o.x,c=o.y,u=o.options||{},f=o.mutex||{},g=f.pdfEscape,m=f.activeFontKey,b=f.fonts,v=m,y="",w=0,N="",k=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:s,x:l,y:c,options:u,mutex:f};for(N=s,v=m,Array.isArray(s)&&(N=s[0]),w=0;w<N.length;w+=1)b[v].metadata.hasOwnProperty("cmap")&&(a=b[v].metadata.cmap.unicode.codeMap[N[w].charCodeAt(0)]),a||N[w].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?y+=N[w]:y+="";var A="";return parseInt(v.slice(1))<14||k==="WinAnsiEncoding"?A=g(y,v).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(A=n(y,b[v])),f.isHex=!0,{text:A,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(o){var a=o.text||"",s=[],l={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?s.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):s.push(i(Object.assign({},l,{text:a[c]})).text);o.text=s}else o.text=i(Object.assign({},l,{text:a})).text}])})(Zt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Zt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,a,s,l,c,u,f=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,k=0;this.__bidiEngine__={};var A=function(D){var I=D.charCodeAt(),z=I>>8,U=v[z];return U!==void 0?f[256*U+(255&I)]:z===252||z===253?"AL":w.test(z)?"L":z===8?"R":"N"},T=function(D){for(var I,z=0;z<D.length;z++){if((I=A(D.charAt(z)))==="L")return!1;if(I==="R")return!0}return!1},P=function(D,I,z,U){var Y,ne,W,G,K=I[U];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(K="AN");break;case"AL":N=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":U<1||U+1>=I.length||(Y=z[U-1])!=="EN"&&Y!=="AN"||(ne=I[U+1])!=="EN"&&ne!=="AN"?K="N":N&&(ne="AN"),K=ne===Y?ne:"N";break;case"ES":K=(Y=U>0?z[U-1]:"B")==="EN"&&U+1<I.length&&I[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&z[U-1]==="EN"){K="EN";break}if(N){K="N";break}for(W=U+1,G=I.length;W<G&&I[W]==="ET";)W++;K=W<G&&I[W]==="EN"?"EN":"N";break;case"NSM":if(a&&!s){for(G=I.length,W=U+1;W<G&&I[W]==="NSM";)W++;if(W<G){var fe=D[U],X=fe>=1425&&fe<=2303||fe===64286;if(Y=I[W],X&&(Y==="R"||Y==="AL")){K="R";break}}}K=U<1||(Y=I[U-1])==="B"?"N":z[U-1];break;case"B":N=!1,i=!0,K=k;break;case"S":o=!0,K="N"}return K},L=function(D,I,z){var U=D.split("");return z&&C(U,z,{hiLevel:k}),U.reverse(),I&&I.reverse(),U.join("")},C=function(D,I,z){var U,Y,ne,W,G,K=-1,fe=D.length,X=0,F=[],V=k?m:g,ee=[];for(N=!1,i=!1,o=!1,Y=0;Y<fe;Y++)ee[Y]=A(D[Y]);for(ne=0;ne<fe;ne++){if(G=X,F[ne]=P(D,ee,F,ne),U=240&(X=V[G][b[F[ne]]]),X&=15,I[ne]=W=V[X][5],U>0)if(U===16){for(Y=K;Y<ne;Y++)I[Y]=1;K=-1}else K=-1;if(V[X][6])K===-1&&(K=ne);else if(K>-1){for(Y=K;Y<ne;Y++)I[Y]=W;K=-1}ee[ne]==="B"&&(I[ne]=0),z.hiLevel|=W}o&&(function(ie,ue,he){for(var me=0;me<he;me++)if(ie[me]==="S"){ue[me]=k;for(var le=me-1;le>=0&&ie[le]==="WS";le--)ue[le]=k}})(ee,I,fe)},M=function(D,I,z,U,Y){if(!(Y.hiLevel<D)){if(D===1&&k===1&&!i)return I.reverse(),void(z&&z.reverse());for(var ne,W,G,K,fe=I.length,X=0;X<fe;){if(U[X]>=D){for(G=X+1;G<fe&&U[G]>=D;)G++;for(K=X,W=G-1;K<W;K++,W--)ne=I[K],I[K]=I[W],I[W]=ne,z&&(ne=z[K],z[K]=z[W],z[W]=ne);X=G}X++}}},q=function(D,I,z){var U=D.split(""),Y={hiLevel:k};return z||(z=[]),C(U,z,Y),(function(ne,W,G){if(G.hiLevel!==0&&u)for(var K,fe=0;fe<ne.length;fe++)W[fe]===1&&(K=y.indexOf(ne[fe]))>=0&&(ne[fe]=y[K+1])})(U,z,Y),M(2,U,I,z,Y),M(1,U,I,z,Y),U.join("")};return this.__bidiEngine__.doBidiReorder=function(D,I,z){if((function(Y,ne){if(ne)for(var W=0;W<Y.length;W++)ne[W]=W;s===void 0&&(s=T(Y)),c===void 0&&(c=T(Y))})(D,I),a||!l||c)if(a&&l&&s^c)k=s?1:0,D=L(D,I,z);else if(!a&&l&&c)k=s?1:0,D=q(D,I,z),D=L(D,I);else if(!a||s||l||c){if(a&&!l&&s^c)D=L(D,I),s?(k=0,D=q(D,I,z)):(k=1,D=q(D,I,z),D=L(D,I));else if(a&&s&&!l&&c)k=1,D=q(D,I,z),D=L(D,I);else if(!a&&!l&&s^c){var U=u;s?(k=1,D=q(D,I,z),k=0,u=!1,D=q(D,I,z),u=U):(k=0,D=q(D,I,z),D=L(D,I),k=1,u=!1,D=q(D,I,z),u=U,D=L(D,I))}}else k=0,D=q(D,I,z);else k=s?1:0,D=q(D,I,z);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,l=D.isOutputVisual,s=D.isInputRtl,c=D.isOutputRtl,u=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var a=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(a=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?a.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):a.push([n.doBidiReorder(i[s])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Zt),Zt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new gf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new DNe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _Ne(this.contents),this.head=new NNe(this),this.name=new ONe(this),this.cmap=new tY(this),this.toUnicode={},this.hhea=new ANe(this),this.maxp=new MNe(this),this.hmtx=new PNe(this),this.post=new CNe(this),this.os2=new kNe(this),this.loca=new LNe(this),this.glyf=new RNe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,s,l,c;for(c=[],a=0,s=(l=this.bbox).length;a<s;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,a,s;for(a=0,o=0,s=(e=""+e).length;0<=s?o<s:o>s;o=0<=s?++o:--o)i=e.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var sc,gf=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,a,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^a)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*a+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t})(),_Ne=(function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,a,s,l,c,u,f,g,m,b,v;for(v in m=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(m)/l),a=Math.floor(f/l),u=16*m-f,(i=new gf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(f),i.writeShort(a),i.writeShort(u),o=16*m,c=i.pos+o,s=null,b=[],n)for(g=n[v],i.writeString(v),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),b=b.concat(g),v==="head"&&(s=c),c+=g.length;c%4;)b.push(0),c++;return i.write(b),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,a;for(n=nY.call(n);n.length%4;)n.push(0);for(o=new gf(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),ENe={}.hasOwnProperty,Jc=function(t,e){for(var n in e)ENe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};sc=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var NNe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new gf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),IB=(function(){function t(e,n){var r,i,o,a,s,l,c,u,f,g,m,b,v,y,w,N,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,o=(function(){var A,T;for(T=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)T.push(e.readUInt16());return T})(),e.pos+=2,v=(function(){var A,T;for(T=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)T.push(e.readUInt16());return T})(),c=(function(){var A,T;for(T=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)T.push(e.readUInt16());return T})(),u=(function(){var A,T;for(T=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)T.push(e.readUInt16());return T})(),i=(this.length-e.pos+this.offset)/2,s=(function(){var A,T;for(T=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)T.push(e.readUInt16());return T})(),l=w=0,k=o.length;w<k;l=++w)for(y=o[l],r=N=b=v[l];b<=y?N<=y:N>=y;r=b<=y?++N:--N)u[l]===0?a=r+c[l]:(a=s[u[l]/2+(r-b)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,i,o,a,s,l,c,u,f,g,m,b,v,y,w,N,k,A,T,P,L,C,M,q,D,I,z,U,Y,ne,W,G,K,fe,X,F,V,ee,ie,ue,he,me,le,be,Se,xe;switch(U=new gf,a=Object.keys(e).sort(function(Le,Ne){return Le-Ne}),n){case"macroman":for(v=0,y=(function(){var Le=[];for(b=0;b<256;++b)Le.push(0);return Le})(),N={0:0},o={},Y=0,K=a.length;Y<K;Y++)N[le=e[i=a[Y]]]==null&&(N[le]=++v),o[i]={old:e[i],new:N[e[i]]},y[i]=N[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(y),{charMap:o,subtable:U.data,maxGlyphID:v+1};case"unicode":for(I=[],f=[],k=0,N={},r={},w=c=null,ne=0,fe=a.length;ne<fe;ne++)N[T=e[i=a[ne]]]==null&&(N[T]=++k),r[i]={old:T,new:N[T]},s=N[T]-i,w!=null&&s===c||(w&&f.push(w),I.push(i),c=s),w=i;for(w&&f.push(w),f.push(65535),I.push(65535),q=2*(M=I.length),C=2*Math.pow(Math.log(M)/Math.LN2,2),g=Math.log(C/2)/Math.LN2,L=2*M-C,l=[],P=[],m=[],b=W=0,X=I.length;W<X;b=++W){if(D=I[b],u=f[b],D===65535){l.push(0),P.push(0);break}if(D-(z=r[D].new)>=32768)for(l.push(0),P.push(2*(m.length+M-b)),i=G=D;D<=u?G<=u:G>=u;i=D<=u?++G:--G)m.push(r[i].new);else l.push(z-D),P.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*M+2*m.length),U.writeUInt16(0),U.writeUInt16(q),U.writeUInt16(C),U.writeUInt16(g),U.writeUInt16(L),he=0,F=f.length;he<F;he++)i=f[he],U.writeUInt16(i);for(U.writeUInt16(0),me=0,V=I.length;me<V;me++)i=I[me],U.writeUInt16(i);for(be=0,ee=l.length;be<ee;be++)s=l[be],U.writeUInt16(s);for(Se=0,ie=P.length;Se<ie;Se++)A=P[Se],U.writeUInt16(A);for(xe=0,ue=m.length;xe<ue;xe++)v=m[xe],U.writeUInt16(v);return{charMap:r,subtable:U.data,maxGlyphID:k+1}}},t})(),tY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new IB(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=IB.encode(e,n),(i=new gf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),ANe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),kNe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),CNe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,s,l;for(l=[],o=a=0,s=this.file.maxp.numGlyphs;0<=s?a<s:a>s;o=0<=s?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t})(),TNe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ONe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,a,s,l,c,u,f,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),s=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(l={},o=u=0,f=r.length;u<f;o=++u)i=r[o],e.pos=i.offset,c=e.readString(i.length),a=new TNe(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),MNe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),PNe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,a,s,l;for(e.pos=this.offset,this.metrics=[],n=0,s=this.file.hhea.numberOfMetrics;0<=s?n<s:n>s;n=0<=s?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,f,g;for(g=[],c=0,u=(f=this.metrics).length;c<u;c++)o=f[c],g.push(o.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),nY=[].slice,RNe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,a,s,l,c,u,f;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(s=new gf(n.read(i))).readShort(),c=s.readShort(),f=s.readShort(),l=s.readShort(),u=s.readShort(),this.cache[e]=a===-1?new INe(s,c,f,l,u):new jNe(s,a,c,f,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,a,s,l;for(a=[],o=[],s=0,l=n.length;s<l;s++)i=e[n[s]],o.push(a.length),i&&(a=a.concat(i.encode(r)));return o.push(a.length),{table:a,offsets:o}},t})(),jNe=(function(){function t(e,n,r,i,o,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),INe=(function(){function t(e,n,r,i,o){var a,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new gf(nY.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),LNe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Jc(t,sc),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,a=0;a<r.length;++a)if(r[a]=i,o<n.length&&n[o]==a){++o,r[a]=i;var s=this.offsets[a],l=this.offsets[a+1]-s;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t})(),DNe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,a,s,l;for(i={},a=0,s=e.length;a<s;a++)i[o=e[a]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,a,s,l,c,u,f,g,m,b,v,y,w;for(i in r=tY.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},w=r.charMap)m[(l=w[i]).old]=l.new;for(b in g=r.maxGlyphID,a)b in m||(m[b]=g++);return u=(function(N){var k,A;for(k in A={},N)A[N[k]]=k;return A})(m),f=Object.keys(u).sort(function(N,k){return N-k}),v=(function(){var N,k,A;for(A=[],N=0,k=f.length;N<k;N++)s=f[N],A.push(u[s]);return A})(),o=this.font.glyf.encode(a,v,m),c=this.font.loca.encode(o.offsets,v),y={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t})();Zt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+(function(){var s,l,c;for(c=[],s=0,l=n.length;s<l;s++)r=n[s],c.push(e.convert(r));return c})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+e.convert(a));return o.push(">>"),o.join(`
`)}return""+n},e})();function FNe(){const t=dO(),[,e]=Xm(),{user:n}=ig(),{data:r,isLoading:i}=$n({queryKey:["/api/manuals",t.id]}),{data:o=[]}=$n({queryKey:["/api/manuals",t.id,"attachments"],enabled:!!t.id}),a=n?.role==="ADMIN"||n?.role==="GESTOR",s=c=>c<1024?c+" B":c<1024*1024?(c/1024).toFixed(1)+" KB":(c/(1024*1024)).toFixed(1)+" MB",l=()=>{if(!r)return;const c=new Zt;c.setFontSize(20),c.text(r.titulo,20,20),c.setFontSize(12);const u=r.contenidoHtml.replace(/<[^>]*>/g,""),f=c.splitTextToSize(u,170);c.text(f,20,40),c.save(`${r.titulo}.pdf`)};return i?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx(nr,{className:"h-9 w-48"}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx(nr,{className:"h-8 w-3/4"})}),h.jsx(nn,{children:h.jsx(nr,{className:"h-64 w-full"})})]})]}):r?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>e("/manuales"),"data-testid":"button-back",children:h.jsx(Lz,{className:"h-4 w-4"})}),h.jsx("div",{className:"flex-1",children:h.jsx("h1",{className:"text-3xl font-display font-bold",children:r.titulo})}),h.jsxs(Ve,{variant:"outline",onClick:l,"data-testid":"button-export-pdf",children:[h.jsx(m1,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),a&&h.jsxs(Ve,{onClick:()=>e(`/manuales/${r.id}/editar`),"data-testid":"button-edit",children:[h.jsx(nf,{className:"h-4 w-4 mr-2"}),"Editar"]})]}),h.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_300px]",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Fn,{className:"text-2xl",children:r.titulo}),r.categoria&&h.jsx("p",{className:"text-muted-foreground",children:r.categoria})]}),r.publicado?h.jsx(Rn,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):h.jsx(Rn,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),r.etiquetas&&r.etiquetas.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.etiquetas.map(c=>h.jsx(Rn,{variant:"secondary",children:c},c))})]}),h.jsxs(nn,{children:[h.jsx("div",{className:"prose prose-sm max-w-none [&_.editor-table]:border-collapse [&_.editor-table]:w-full [&_.editor-table]:my-4 [&_.editor-table_th]:border-2 [&_.editor-table_th]:border-black [&_.editor-table_th]:p-2 [&_.editor-table_th]:bg-muted [&_.editor-table_th]:font-semibold [&_.editor-table_th]:text-left [&_.editor-table_td]:border-2 [&_.editor-table_td]:border-black [&_.editor-table_td]:p-2",dangerouslySetInnerHTML:{__html:r.contenidoHtml}}),h.jsxs("div",{className:"mt-8 pt-4 border-t text-sm text-muted-foreground",children:["Creado el ",new Date(r.fechaCreacion).toLocaleDateString(),r.fechaActualizacion!==r.fechaCreacion&&h.jsxs(h.Fragment,{children:["  Actualizado el ",new Date(r.fechaActualizacion).toLocaleDateString()]})]})]})]}),o.length>0&&h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"text-lg flex items-center gap-2",children:[h.jsx(g1,{className:"h-4 w-4"}),"Adjuntos (",o.length,")"]})}),h.jsx(nn,{children:h.jsx("div",{className:"space-y-2",children:o.map(c=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate cursor-pointer",onClick:()=>window.open(c.filePath,"_blank"),"data-testid":`attachment-${c.id}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(g1,{className:"h-4 w-4 text-muted-foreground"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:c.originalName}),h.jsx("p",{className:"text-xs text-muted-foreground",children:s(c.fileSize)})]})]}),h.jsx(m1,{className:"h-4 w-4 text-muted-foreground"})]},c.id))})})]})]}),h.jsx("div",{className:"lg:sticky lg:top-8 lg:h-fit",children:h.jsx(KSe,{htmlContent:r.contenidoHtml})})]})]}):h.jsx("div",{className:"p-8",children:h.jsx(tn,{children:h.jsxs(nn,{className:"flex flex-col items-center justify-center py-16",children:[h.jsx("h3",{className:"text-lg font-medium mb-2",children:"Manual no encontrado"}),h.jsx(Ve,{onClick:()=>e("/manuales"),children:"Volver a Manuales"})]})})})}function Uo(t){this.content=t}Uo.prototype={constructor:Uo,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Uo(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Uo(n)},addToStart:function(t,e){return new Uo([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Uo(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Uo(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Uo.from(t),t.size?new Uo(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Uo.from(t),t.size?new Uo(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Uo.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Uo.from=function(t){if(t instanceof Uo)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Uo(e)};function rY(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){let a=rY(i.content,o.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function iY(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let a=t.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){n-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let c=0,u=Math.min(a.text.length,s.text.length);for(;c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let c=iY(a.content,s.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Ye{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let a=0,s=0;s<n;a++){let l=this.content[a],c=s+l.nodeSize;if(c>e&&r(l,i+s,o||null,a)!==!1&&l.content.size){let u=s+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}s=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",a=!0;return this.nodesBetween(e,n,(s,l)=>{let c=s.isText?s.text.slice(Math.max(e,l)-l,n-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&r&&(a?a=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Ye(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,a=0;a<n;o++){let s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>n)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,n-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new Ye(r,i)}cutByIndex(e,n){return e==n?Ye.empty:e==0&&n==this.content.length?this:new Ye(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Ye(i,o)}addToStart(e){return new Ye([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ye(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return rY(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return iY(this,e,n,r)}findIndex(e){if(e==0)return Eb(0,e);if(e==this.size)return Eb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?Eb(n+1,o):Eb(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Ye.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ye(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ye.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Ye(n||e,r)}static from(e){if(!e)return Ye.empty;if(e instanceof Ye)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ye([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ye.empty=new Ye([],0);const M5={index:0,offset:0};function Eb(t,e){return M5.index=t,M5.offset=e,M5}function Ex(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Ex(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Ex(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Lr=class xT{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ex(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xT.none;if(e instanceof xT)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Lr.none=[];class Nx extends Error{}class bt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=aY(this.content,e+this.openStart,n);return r&&new bt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new bt(oY(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return bt.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new bt(Ye.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new bt(e,r,i)}}bt.empty=new bt(Ye.empty,0,0);function oY(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(oY(o.content,e-i-1,n-i-1)))}function aY(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let s=aY(a.content,e-o-1,n,a);return s&&t.replaceChild(i,a.copy(s))}function BNe(t,e,n){if(n.openStart>t.depth)throw new Nx("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Nx("Inconsistent open depths");return sY(t,e,n,0)}function sY(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=sY(t,e,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,s=a.content;return Eh(a,s.cut(0,t.parentOffset).append(n.content).append(s.cut(e.parentOffset)))}else{let{start:a,end:s}=$Ne(n,t);return Eh(o,cY(t,a,s,e,r))}else return Eh(o,Ax(t,e,r))}function lY(t,e){if(!e.type.compatibleContent(t.type))throw new Nx("Cannot join "+e.type.name+" onto "+t.type.name)}function wT(t,e,n){let r=t.node(n);return lY(r,e.node(n)),r}function _h(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function kv(t,e,n,r){let i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(_h(t.nodeAfter,r),o++));for(let s=o;s<a;s++)_h(i.child(s),r);e&&e.depth==n&&e.textOffset&&_h(e.nodeBefore,r)}function Eh(t,e){return t.type.checkContent(e),t.copy(e)}function cY(t,e,n,r,i){let o=t.depth>i&&wT(t,e,i+1),a=r.depth>i&&wT(n,r,i+1),s=[];return kv(null,t,i,s),o&&a&&e.index(i)==n.index(i)?(lY(o,a),_h(Eh(o,cY(t,e,n,r,i+1)),s)):(o&&_h(Eh(o,Ax(t,e,i+1)),s),kv(e,n,i,s),a&&_h(Eh(a,Ax(n,r,i+1)),s)),kv(r,null,i,s),new Ye(s)}function Ax(t,e,n){let r=[];if(kv(null,t,n,r),t.depth>n){let i=wT(t,e,n+1);_h(Eh(i,Ax(t,e,n+1)),r)}return kv(e,null,n,r),new Ye(r)}function $Ne(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(Ye.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Cy{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Lr.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new kx(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=e;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(r.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new Cy(n,r,o)}static resolveCached(e,n){let r=LB.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else LB.set(e,r=new zNe);let i=r.elts[r.i]=Cy.resolve(e,n);return r.i=(r.i+1)%qNe,i}}class zNe{constructor(){this.elts=[],this.i=0}}const qNe=12,LB=new WeakMap;class kx{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const UNe=Object.create(null);let sf=class ST{constructor(e,n,r,i=Lr.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Ye.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Ex(this.attrs,n||e.defaultAttrs||UNe)&&Lr.sameSet(this.marks,r||Lr.none)}copy(e=null){return e==this.content?this:new ST(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ST(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return bt.empty;let i=this.resolve(e),o=this.resolve(n),a=r?0:i.sharedDepth(n),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new bt(c,i.depth-a,o.depth-a)}replace(e,n,r){return BNe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Cy.resolveCached(this,e)}resolveNoCache(e){return Cy.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),uY(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Ye.empty,i=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Lr.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Lr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Ye.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};sf.prototype.text=void 0;class Cx extends sf{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):uY(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Cx(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Cx(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function uY(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Hh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new HNe(e,n);if(r.next==null)return Hh.empty;let i=dY(r);r.next&&r.err("Unexpected trailing text");let o=QNe(XNe(i));return JNe(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(e,r);if(l&&(!n||l.validEnd))return Ye.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:f}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let g=o(f,s.concat(u));if(g)return g}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}Hh.empty=new Hh(!0);class HNe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function dY(t){let e=[];do e.push(WNe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function WNe(t){let e=[];do e.push(VNe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function VNe(t){let e=YNe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=KNe(t,e);else break;return e}function DB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function KNe(t,e){let n=DB(t),r=n;return t.eat(",")&&(t.next!="}"?r=DB(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function GNe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let a=n[o];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function YNe(t){if(t.eat("(")){let e=dY(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=GNe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function XNe(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(a,s,l){let c={term:l,to:s};return e[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=n())}else if(a.type=="star"){let l=n();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let u=n();i(o(a.expr,l),u),l=u}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=n();r(l,u),i(o(a.expr,l),u),l=u}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function fY(t,e){return e-t}function FB(t,e){let n=[];return r(e),n.sort(fY);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&n.indexOf(l)==-1&&r(l)}}}function QNe(t){let e=Object.create(null);return n(FB(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let u=0;u<i.length;u++)i[u][0]==s&&(c=i[u][1]);FB(t,l).forEach(u=>{c||i.push([s,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new Hh(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(fY);o.next.push({type:i[a][0],next:e[s.join(",")]||n(s)})}return o}}function JNe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function hY(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function pY(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function mY(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function gY(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new eAe(t,r,e[r]);return n}let BB=class vY{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=gY(e,r.attrs),this.defaultAttrs=hY(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Hh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:pY(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new sf(this,this.computeAttrs(e),Ye.from(n),Lr.setFrom(r))}createChecked(e=null,n,r){return n=Ye.from(n),this.checkContent(n),new sf(this,this.computeAttrs(e),n,Lr.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Ye.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Ye.empty,!0);return o?new sf(this,e,n.append(o),Lr.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){mY(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Lr.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,a)=>r[o]=new vY(o,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ZNe(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class eAe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ZNe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class R2{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=gY(e,i.attrs),this.excluded=null;let o=hY(this.attrs);this.instance=o?new Lr(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Lr(this,pY(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,a)=>r[o]=new R2(o,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){mY(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class yY{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Uo.from(e.nodes),n.marks=Uo.from(e.marks||{}),this.nodes=BB.compile(this.spec.nodes,this),this.marks=R2.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=Hh.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?$B(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:$B(this,a.split(" "))}this.nodeFromJSON=i=>sf.fromJSON(this,i),this.markFromJSON=i=>Lr.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof BB){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Cx(r,r.defaultAttrs,e,Lr.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function $B(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],a=o;if(o)n.push(o);else for(let s in t.marks){let l=t.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function tAe(t){return t.tag!=null}function nAe(t){return t.style!=null}let Cv=class _T{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(tAe(i))this.tags.push(i);else if(nAe(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new qB(this,n,!1);return r.addAll(e,Lr.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new qB(this,n,!0);return r.addAll(e,Lr.none,n.from,n.to),bt.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(oAe(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let s=n[a];if((s.priority==null?50:s.priority)<o)break}n.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=UB(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=UB(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new _T(e,_T.schemaRules(e)))}};const bY={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rAe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},xY={ol:!0,ul:!0},Ty=1,ET=2,Tv=4;function zB(t,e,n){return e!=null?(e?Ty:0)|(e==="full"?ET:0):t&&t.whitespace=="pre"?Ty|ET:n&~Tv}class Nb{constructor(e,n,r,i,o,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Lr.none,this.match=o||(a&Tv?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ye.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ty)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Ye.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Ye.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!bY.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class qB{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,a=zB(null,n.preserveWhitespace,0)|(r?Tv:0);i?o=new Nb(i.type,i.attrs,Lr.none,!0,n.topMatch||i.type.contentMatch,a):r?o=new Nb(null,null,Lr.none,!0,null,a):o=new Nb(e.schema.topNodeType,null,Lr.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&ET?"full":this.localPreserveWS||(i.options&Ty)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],s=e.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),s;xY.hasOwnProperty(a)&&this.parser.normalizeLists&&iAe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));e:if(l?l.ignore:rAe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(bY.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=l&&l.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return n}addElementByRule(e,n,r,i){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(s)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,s=i==null?null:e.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=Lr.none;for(let s of i.concat(e.marks))(o.type?o.type.allowsMarkType(s.type):HB(s.type,e.type))&&(a=s.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let s=zB(e,o,a.options);a.options&Tv&&a.content.length==0&&(s|=Tv);let l=Lr.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):HB(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Nb(e,n,l,i,null,s)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ty)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=n[s];if(c==""){if(s==n.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function iAe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&xY.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function oAe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function UB(t){let e={};for(let n in t)e[n]=t[n];return e}function HB(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:u}=s.edge(l);if(c==e||o.indexOf(u)<0&&a(u))return!0}};if(a(i.contentMatch))return!0}}class ip{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=P5(n).createDocumentFragment());let i=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=a1(P5(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&a1(P5(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return a1(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ip(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=WB(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return WB(e.marks)}}function WB(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function P5(t){return t.document||window.document}const VB=new WeakMap;function aAe(t){let e=VB.get(t);return e===void 0&&VB.set(t,e=sAe(t)),e}function sAe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function a1(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=aAe(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let s,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let g=f.indexOf(" ");g>0?l.setAttributeNS(f.slice(0,g),f.slice(g+1),c[f]):f=="style"&&l.style?l.style.cssText=c[f]:l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let g=e[f];if(g===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:b}=a1(t,g,n,r);if(l.appendChild(m),b){if(s)throw new RangeError("Multiple content holes");s=b}}}return{dom:l,contentDOM:s}}const wY=65535,SY=Math.pow(2,16);function lAe(t,e){return t+e*SY}function KB(t){return t&wY}function cAe(t){return(t-(t&wY))/SY}const _Y=1,EY=2,s1=4,NY=8;class NT{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&NY)>0}get deletedBefore(){return(this.delInfo&(_Y|s1))>0}get deletedAfter(){return(this.delInfo&(EY|s1))>0}get deletedAcross(){return(this.delInfo&s1)>0}}class ks{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ks.empty)return ks.empty}recover(e){let n=0,r=KB(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+cAe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[s+o],u=this.ranges[s+a],f=l+c;if(e<=f){let g=c?e==l?-1:e==f?1:n:n,m=l+i+(g<0?0:u);if(r)return m;let b=e==(n<0?l:f)?null:lAe(s/3,e-l),v=e==l?EY:e==f?_Y:s1;return(n<0?e!=l:e!=f)&&(v|=NY),new NT(m,v,b)}i+=u-c}return r?e+i:new NT(e+i,0,null)}touches(e,n){let r=0,i=KB(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[s+o],u=l+c;if(e<=u&&s==i*3)return!0;r+=this.ranges[s+a]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(s,s+c,l,l+u),o+=u-c}}invert(){return new ks(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ks.empty:new ks(e<0?[0,-e,0]:[0,0,e])}}ks.empty=new ks([]);class Oy{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Oy(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Oy;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(e,n);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return r?e:new NT(e,i,null)}}const R5=Object.create(null);class xa{getMap(){return ks.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=R5[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in R5)throw new RangeError("Duplicate use of step JSON ID "+e);return R5[e]=n,n.prototype.jsonID=e,n}}class eo{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new eo(e,null)}static fail(e){return new eo(null,e)}static fromReplace(e,n,r,i){try{return eo.ok(e.replace(n,r,i))}catch(o){if(o instanceof Nx)return eo.fail(o.message);throw o}}}function wP(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(wP(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return Ye.fromArray(r)}class Jd extends xa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new bt(wP(n.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return eo.fromReplace(e,this.from,this.to,o)}invert(){return new Jl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Jd(n.pos,r.pos,this.mark)}merge(e){return e instanceof Jd&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jd(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Jd(n.from,n.to,e.markFromJSON(n.mark))}}xa.jsonID("addMark",Jd);class Jl extends xa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new bt(wP(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return eo.fromReplace(e,this.from,this.to,r)}invert(){return new Jd(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Jl(n.pos,r.pos,this.mark)}merge(e){return e instanceof Jl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Jl(n.from,n.to,e.markFromJSON(n.mark))}}xa.jsonID("removeMark",Jl);class Zd extends xa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return eo.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return eo.fromReplace(e,this.pos,this.pos+1,new bt(Ye.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Zd(this.pos,n.marks[i]);return new Zd(this.pos,this.mark)}}return new Wh(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Zd(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Zd(n.pos,e.markFromJSON(n.mark))}}xa.jsonID("addNodeMark",Zd);class Wh extends xa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return eo.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return eo.fromReplace(e,this.pos,this.pos+1,new bt(Ye.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Zd(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wh(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Wh(n.pos,e.markFromJSON(n.mark))}}xa.jsonID("removeNodeMark",Wh);class Co extends xa{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&AT(e,this.from,this.to)?eo.fail("Structure replace would overwrite content"):eo.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ks([this.from,this.to-this.from,this.slice.size])}invert(e){return new Co(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Co(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Co)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?bt.empty:new bt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Co(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?bt.empty:new bt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Co(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Co(n.from,n.to,bt.fromJSON(e,n.slice),!!n.structure)}}xa.jsonID("replace",Co);class Oo extends xa{constructor(e,n,r,i,o,a,s=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(e){if(this.structure&&(AT(e,this.from,this.gapFrom)||AT(e,this.gapTo,this.to)))return eo.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return eo.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?eo.fromReplace(e,this.from,this.to,r):eo.fail("Content does not fit in gap")}getMap(){return new ks([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Oo(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Oo(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Oo(n.from,n.to,n.gapFrom,n.gapTo,bt.fromJSON(e,n.slice),n.insert,!!n.structure)}}xa.jsonID("replaceAround",Oo);function AT(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function uAe(t,e,n,r){let i=[],o=[],a,s;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let g=Math.max(c,e),m=Math.min(c+l.nodeSize,n),b=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(b)||(a&&a.to==g&&a.mark.eq(f[v])?a.to=m:i.push(a=new Jl(g,m,f[v])));s&&s.to==g?s.to=m:o.push(s=new Jd(g,m,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function dAe(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof R2){let c=a.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,n);for(let u=0;u<l.length;u++){let f=l[u],g;for(let m=0;m<i.length;m++){let b=i[m];b.step==o-1&&f.eq(i[m].style)&&(g=b)}g?(g.to=c,g.step=o):i.push({style:f,from:Math.max(s,e),to:c,step:o})}}}),i.forEach(a=>t.step(new Jl(a.from,a.to,a.style)))}function SP(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),a=[],s=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=s+c.nodeSize,f=r.matchType(c.type);if(!f)a.push(new Co(s,u,bt.empty));else{r=f;for(let g=0;g<c.marks.length;g++)n.allowsMarkType(c.marks[g].type)||t.step(new Jl(s,u,c.marks[g]));if(i&&c.isText&&n.whitespace!="pre"){let g,m=/\r?\n|\r/g,b;for(;g=m.exec(c.text);)b||(b=new bt(Ye.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new Co(s+g.index,s+g.index+g[0].length,b))}}s=u}if(!r.validEnd){let l=r.fillBefore(Ye.empty,!0);t.replace(s,s,new bt(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function fAe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function yg(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,a,n))return r;if(r==0||i.type.spec.isolating||!fAe(i,o,a))break}return null}function hAe(t,e,n){let{$from:r,$to:i,depth:o}=e,a=r.before(o+1),s=i.after(o+1),l=a,c=s,u=Ye.empty,f=0;for(let b=o,v=!1;b>n;b--)v||r.index(b)>0?(v=!0,u=Ye.from(r.node(b).copy(u)),f++):l--;let g=Ye.empty,m=0;for(let b=o,v=!1;b>n;b--)v||i.after(b+1)<i.end(b)?(v=!0,g=Ye.from(i.node(b).copy(g)),m++):c++;t.step(new Oo(l,c,a,s,new bt(u.append(g),f,m),u.size-f,!0))}function _P(t,e,n=null,r=t){let i=pAe(t,e),o=i&&mAe(r,e);return o?i.map(GB).concat({type:e,attrs:n}).concat(o.map(GB)):null}function GB(t){return{type:t,attrs:null}}function pAe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}function mAe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:a}function gAe(t,e,n){let r=Ye.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let s=n[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ye.from(n[a].type.create(n[a].attrs,r))}let i=e.start,o=e.end;t.step(new Oo(i,o,i,o,new bt(r,0,0),n.length,!0))}function vAe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&yAe(t.doc,t.mapping.slice(o).map(s),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!b?c=!1:!m&&b&&(c=!0)}c===!1&&kY(t,a,s,o),SP(t,t.mapping.slice(o).map(s,1),r,void 0,c===null);let u=t.mapping.slice(o),f=u.map(s,1),g=u.map(s+a.nodeSize,1);return t.step(new Oo(f,g,f+1,g-1,new bt(Ye.from(r.create(l,null,a.marks)),0,0),1,!0)),c===!0&&AY(t,a,s,o),!1}})}function AY(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function kY(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+o);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function yAe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function bAe(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Oo(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new bt(Ye.from(a),0,0),1,!0))}function Hu(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let f=i.node(c),g=i.index(c);if(f.type.spec.isolating)return!1;let m=f.content.cutByIndex(g,f.childCount),b=r&&r[u+1];b&&(m=m.replaceChild(0,b.type.create(b.attrs)));let v=r&&r[u]||f;if(!f.canReplace(g+1,f.childCount)||!v.type.validContent(m))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function xAe(t,e,n=1,r){let i=t.doc.resolve(e),o=Ye.empty,a=Ye.empty;for(let s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=Ye.from(i.node(s).copy(o));let u=r&&r[c];a=Ye.from(u?u.type.create(u.attrs,a):i.node(s).copy(a))}t.step(new Co(e,e,new bt(o.append(a),n,n),!0))}function kf(t,e){let n=t.resolve(e),r=n.index();return CY(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function wAe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),a=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function CY(t,e){return!!(t&&e&&!t.isLeaf&&wAe(t,e))}function j2(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,a,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&CY(o,a)&&r.node(i).canReplace(s,s+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function SAe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),a=o.node().type;if(i&&a.inlineContent){let u=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);u&&!f?r=!1:!u&&f&&(r=!0)}let s=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);kY(t,u.node(),u.before(),s)}a.inlineContent&&SP(t,e+n-1,a,o.node().contentMatchAt(o.index()),r==null);let l=t.mapping.slice(s),c=l.map(e-n);if(t.step(new Co(c,l.map(e+n,-1),bt.empty,!0)),r===!0){let u=t.doc.resolve(c);AY(t,u.node(),u.before(),t.steps.length)}return t}function _Ae(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function TY(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),c=r.node(a),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function I2(t,e,n=e,r=bt.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return OY(i,o,r)?new Co(e,n,r):new EAe(i,o,r).fit()}function OY(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class EAe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ye.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ye.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,a=r.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new bt(o,a,s);return e>-1?new Oo(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Co(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=j5(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],u,f=null;if(n==1&&(a?c.matchType(a.type)||(f=c.fillBefore(Ye.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:f};if(n==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=j5(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new bt(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=j5(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new bt(gv(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new bt(gv(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-e,c=0,u=[],{match:f,type:g}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)u.push(i.child(v));f=f.matchFragment(i)}let m=s.size+e-(a.content.size-a.openEnd);for(;c<s.childCount;){let v=s.child(c),y=f.matchType(v.type);if(!y)break;c++,(c>1||l==0||v.content.size)&&(f=y,u.push(MY(v.mark(g.allowedMarks(v.marks)),c==1?l:0,c==s.childCount?m:-1)))}let b=c==s.childCount;b||(m=-1),this.placed=vv(this.placed,n,Ye.from(u)),this.frontier[n].match=f,b&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,y=s;v<m;v++){let w=y.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),y=w.content}this.unplaced=b?e==0?bt.empty:new bt(gv(a.content,e-1,1),e-1,m<0?a.openEnd:e-1):new bt(gv(a.content,e,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!I5(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=I5(e,n,i,r,o);if(a){for(let s=n-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],u=I5(e,s,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:a,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vv(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=vv(this.placed,this.depth,Ye.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ye.empty,!0);n.childCount&&(this.placed=vv(this.placed,this.frontier.length,n))}}function gv(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(gv(t.firstChild.content,e-1,n)))}function vv(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(vv(t.lastChild.content,e-1,n)))}function j5(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function MY(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,MY(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Ye.empty,!0)))),t.copy(r)}function I5(t,e,n,r,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!NAe(n,o.content,a)?s:null}function NAe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function AAe(t){return t.spec.defining||t.spec.definingForContent}function kAe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(OY(i,o,r))return t.step(new Co(e,n,r));let a=RY(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let g=i.depth,m=i.pos-1;g>0;g--,m--){let b=i.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(g)>-1?s=g:i.before(g)==m&&a.splice(1,0,-g)}let l=a.indexOf(s),c=[],u=r.openStart;for(let g=r.content,m=0;;m++){let b=g.firstChild;if(c.push(b),m==r.openStart)break;g=b.content}for(let g=u-1;g>=0;g--){let m=c[g],b=AAe(m.type);if(b&&!m.sameMarkup(i.node(Math.abs(s)-1)))u=g;else if(b||!m.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let m=(g+u+1)%(r.openStart+1),b=c[m];if(b)for(let v=0;v<a.length;v++){let y=a[(v+l)%a.length],w=!0;y<0&&(w=!1,y=-y);let N=i.node(y-1),k=i.index(y-1);if(N.canReplaceWith(k,k,b.type,b.marks))return t.replace(i.before(y),w?o.after(y):n,new bt(PY(r.content,0,r.openStart,m),m,r.openEnd))}}let f=t.steps.length;for(let g=a.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>f));g--){let m=a[g];m<0||(e=i.before(m),n=o.after(m))}}function PY(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(PY(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(Ye.empty,!0))}return t}function CAe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=_Ae(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new bt(Ye.from(r),0,0))}function TAe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=RY(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return t.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return t.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function RY(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class gm extends xa{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return eo.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return eo.fromReplace(e,this.pos,this.pos+1,new bt(Ye.from(i),0,n.isLeaf?0:1))}getMap(){return ks.empty}invert(e){return new gm(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gm(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gm(n.pos,n.attr,n.value)}}xa.jsonID("attr",gm);class My extends xa{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return eo.ok(r)}getMap(){return ks.empty}invert(e){return new My(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new My(n.attr,n.value)}}xa.jsonID("docAttr",My);let Hm=class extends Error{};Hm=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Hm.prototype=Object.create(Error.prototype);Hm.prototype.constructor=Hm;Hm.prototype.name="TransformError";class EP{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Oy}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Hm(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=bt.empty){let i=I2(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new bt(Ye.from(r),0,0))}delete(e,n){return this.replace(e,n,bt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return kAe(this,e,n,r),this}replaceRangeWith(e,n,r){return CAe(this,e,n,r),this}deleteRange(e,n){return TAe(this,e,n),this}lift(e,n){return hAe(this,e,n),this}join(e,n=1){return SAe(this,e,n),this}wrap(e,n){return gAe(this,e,n),this}setBlockType(e,n=e,r,i=null){return vAe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return bAe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new gm(e,n,r)),this}setDocAttribute(e,n){return this.step(new My(e,n)),this}addNodeMark(e,n){return this.step(new Zd(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Lr)n.isInSet(r.marks)&&this.step(new Wh(e,n));else{let i=r.marks,o,a=[];for(;o=n.isInSet(i);)a.push(new Wh(e,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(e,n=1,r){return xAe(this,e,n,r),this}addMark(e,n,r){return uAe(this,e,n,r),this}removeMark(e,n,r){return dAe(this,e,n,r),this}clearIncompatible(e,n,r){return SP(this,e,n,r),this}}const L5=Object.create(null);class yn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new jY(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=bt.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),s?bt.empty:n),s==0&&QB(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=e.mapping.slice(r),c=l.map(a.pos),u=l.map(s.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),QB(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new cn(e):Vp(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=n<0?Vp(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Vp(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ms(e.node(0))}static atStart(e){return Vp(e,e,0,0,1)||new Ms(e)}static atEnd(e){return Vp(e,e,e.content.size,e.childCount,-1)||new Ms(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=L5[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in L5)throw new RangeError("Duplicate use of selection JSON ID "+e);return L5[e]=n,n.prototype.jsonID=e,n}getBookmark(){return cn.between(this.$anchor,this.$head).getBookmark()}}yn.prototype.visible=!0;class jY{constructor(e,n){this.$from=e,this.$to=n}}let YB=!1;function XB(t){!YB&&!t.parent.inlineContent&&(YB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class cn extends yn{constructor(e,n=e){XB(e),XB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return yn.near(r);let i=e.resolve(n.map(this.anchor));return new cn(i.parent.inlineContent?i:r,r)}replace(e,n=bt.empty){if(super.replace(e,n),n==bt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof cn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new L2(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new cn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=yn.findFrom(n,r,!0)||yn.findFrom(n,-r,!0);if(o)n=o.$head;else return yn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(yn.findFrom(e,-r,!0)||yn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new cn(e,n)}}yn.jsonID("text",cn);class L2{constructor(e,n){this.anchor=e,this.head=n}map(e){return new L2(e.map(this.anchor),e.map(this.head))}resolve(e){return cn.between(e.resolve(this.anchor),e.resolve(this.head))}}class sn extends yn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?yn.near(o):new sn(o)}content(){return new bt(Ye.from(this.node),0,0)}eq(e){return e instanceof sn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NP(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new sn(e.resolve(n.anchor))}static create(e,n){return new sn(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}sn.prototype.visible=!1;yn.jsonID("node",sn);class NP{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new L2(r,r):new NP(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&sn.isSelectable(r)?new sn(n):yn.near(n)}}class Ms extends yn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=bt.empty){if(n==bt.empty){e.delete(0,e.doc.content.size);let r=yn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ms(e)}map(e){return new Ms(e)}eq(e){return e instanceof Ms}getBookmark(){return OAe}}yn.jsonID("all",Ms);const OAe={map(){return this},resolve(t){return new Ms(t)}};function Vp(t,e,n,r,i,o=!1){if(e.inlineContent)return cn.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let s=e.child(a);if(s.isAtom){if(!o&&sn.isSelectable(s))return sn.create(t,n-(i<0?s.nodeSize:0))}else{let l=Vp(t,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function QB(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Co||i instanceof Oo))return;let o=t.mapping.maps[r],a;o.forEach((s,l,c,u)=>{a==null&&(a=u)}),t.setSelection(yn.near(t.doc.resolve(a),n))}const JB=1,Ab=2,ZB=4;class MAe extends EP{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|JB)&~Ab,this.storedMarks=null,this}get selectionSet(){return(this.updated&JB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ab,this}ensureMarks(e){return Lr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ab)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ab,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Lr.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(yn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ZB,this}get scrolledIntoView(){return(this.updated&ZB)>0}}function e$(t,e){return!e||!t?t:t.bind(e)}class yv{constructor(e,n,r){this.name=e,this.init=e$(n.init,r),this.apply=e$(n.apply,r)}}const PAe=[new yv("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new yv("selection",{init(t,e){return t.selection||yn.atStart(e.doc)},apply(t){return t.selection}}),new yv("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new yv("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class D5{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=PAe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new yv(r.key,r.spec.state,r))})}}class nm{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,u=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new nm(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new MAe(this)}static create(e){let n=new D5(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new nm(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new D5(this.schema,e.plugins),r=n.fields,i=new nm(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new D5(e.schema,e.plugins),o=new nm(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=sf.fromJSON(e.schema,n.doc);else if(a.name=="selection")o.selection=yn.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[a.name]=c.fromJSON.call(l,e,n[s],o);return}}o[a.name]=a.init(e,o)}}),o}}function IY(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=IY(i,e,{})),n[r]=i}return n}class ti{constructor(e){this.spec=e,this.props={},e.props&&IY(e.props,this,this.props),this.key=e.key?e.key.key:LY("plugin")}getState(e){return e[this.key]}}const F5=Object.create(null);function LY(t){return t in F5?t+"$"+ ++F5[t]:(F5[t]=0,t+"$")}class Oi{constructor(e="key"){this.key=LY(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const AP=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function DY(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const FY=(t,e,n)=>{let r=DY(t,n);if(!r)return!1;let i=kP(r);if(!i){let a=r.blockRange(),s=a&&yg(a);return s==null?!1:(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(KY(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Wm(o,"end")||sn.isSelectable(o)))for(let a=r.depth;;a--){let s=I2(t.doc,r.before(a),r.after(a),bt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Wm(o,"end")?yn.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):sn.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},RAe=(t,e,n)=>{let r=DY(t,n);if(!r)return!1;let i=kP(r);return i?BY(t,i,e):!1},jAe=(t,e,n)=>{let r=zY(t,n);if(!r)return!1;let i=CP(r);return i?BY(t,i,e):!1};function BY(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let a=e.nodeAfter,s=a,l=e.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let u=s.firstChild;if(!u)return!1;s=u}let c=I2(t.doc,o,l,bt.empty);if(!c||c.from!=o||c instanceof Co&&c.slice.size>=l-o)return!1;if(n){let u=t.tr.step(c);u.setSelection(cn.create(u.doc,o)),n(u.scrollIntoView())}return!0}function Wm(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const $Y=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=kP(r)}let a=o&&o.nodeBefore;return!a||!sn.isSelectable(a)?!1:(e&&e(t.tr.setSelection(sn.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function kP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function zY(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const qY=(t,e,n)=>{let r=zY(t,n);if(!r)return!1;let i=CP(r);if(!i)return!1;let o=i.nodeAfter;if(KY(t,i,e,1))return!0;if(r.parent.content.size==0&&(Wm(o,"start")||sn.isSelectable(o))){let a=I2(t.doc,r.before(),r.after(),bt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=t.tr.step(a);s.setSelection(Wm(o,"start")?yn.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):sn.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},UY=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=CP(r)}let a=o&&o.nodeAfter;return!a||!sn.isSelectable(a)?!1:(e&&e(t.tr.setSelection(sn.create(t.doc,o.pos)).scrollIntoView()),!0)};function CP(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const IAe=(t,e)=>{let n=t.selection,r=n instanceof sn,i;if(r){if(n.node.isTextblock||!kf(t.doc,n.from))return!1;i=n.from}else if(i=j2(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(sn.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},LAe=(t,e)=>{let n=t.selection,r;if(n instanceof sn){if(n.node.isTextblock||!kf(t.doc,n.to))return!1;r=n.to}else if(r=j2(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},DAe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&yg(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},HY=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function TP(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const FAe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=TP(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let s=n.after(),l=t.tr.replaceWith(s,s,a.createAndFill());l.setSelection(yn.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},WY=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Ms||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=TP(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=t.tr.insert(a,o.createAndFill());s.setSelection(cn.create(s.doc,a+1)),e(s.scrollIntoView())}return!0},VY=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Hu(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&yg(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function BAe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof sn&&e.selection.node.isBlock)return!r.parentOffset||!Hu(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let m=r.depth;;m--)if(r.node(m).isBlock){l=r.end(m)==r.pos+(r.depth-m),c=r.start(m)==r.pos-(r.depth-m),s=TP(r.node(m-1).contentMatchAt(r.indexAfter(m-1))),o.unshift(l&&s?{type:s}:null),a=m;break}else{if(m==1)return!1;o.unshift(null)}let u=e.tr;(e.selection instanceof cn||e.selection instanceof Ms)&&u.deleteSelection();let f=u.mapping.map(r.pos),g=Hu(u.doc,f,o.length,o);if(g||(o[0]=s?{type:s}:null,g=Hu(u.doc,f,o.length,o)),!g)return!1;if(u.split(f,o.length,o),!l&&c&&r.node(a).type!=s){let m=u.mapping.map(r.before(a)),b=u.doc.resolve(m);s&&r.node(a-1).canReplaceWith(b.index(),b.index()+1,s)&&u.setNodeMarkup(u.mapping.map(r.before(a)),s)}return n&&n(u.scrollIntoView()),!0}}const $Ae=BAe(),zAe=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(sn.create(t.doc,i))),!0)};function qAe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||kf(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function KY(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&qAe(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(n){let m=e.pos+o.nodeSize,b=Ye.empty;for(let w=a.length-1;w>=0;w--)b=Ye.from(a[w].create(null,b));b=Ye.from(i.copy(b));let v=t.tr.step(new Oo(e.pos-1,m,e.pos,m,new bt(b,1,0),a.length,!0)),y=v.doc.resolve(m+2*a.length);y.nodeAfter&&y.nodeAfter.type==i.type&&kf(v.doc,y.pos)&&v.join(y.pos),n(v.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:yn.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),g=f&&yg(f);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(f,g).scrollIntoView()),!0;if(c&&Wm(o,"start",!0)&&Wm(i,"end")){let m=i,b=[];for(;b.push(m),!m.isTextblock;)m=m.lastChild;let v=o,y=1;for(;!v.isTextblock;v=v.firstChild)y++;if(m.canReplace(m.childCount,m.childCount,v.content)){if(n){let w=Ye.empty;for(let k=b.length-1;k>=0;k--)w=Ye.from(b[k].copy(w));let N=t.tr.step(new Oo(e.pos-b.length,e.pos+o.nodeSize,e.pos+y,e.pos+o.nodeSize-y,new bt(w,b.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function GY(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(cn.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const UAe=GY(-1),HAe=GY(1);function WAe(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&_P(a,t,e);return s?(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0):!1}}function t$(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];o.setBlockType(s,l,t,e)}r(o.scrollIntoView())}return!0}}function OP(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}OP(AP,FY,$Y);OP(AP,qY,UY);OP(HY,WY,VY,$Ae);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function VAe(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o);if(!a)return!1;let s=r?n.tr:null;return KAe(s,a,t,e)?(r&&r(s.scrollIntoView()),!0):!1}}function KAe(t,e,n,r=null){let i=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=a.resolve(e.start-2);o=new kx(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new kx(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let s=_P(o,n,r,e);return s?(t&&GAe(t,e,s,i,n),!0):!1}function GAe(t,e,n,r,i){let o=Ye.empty;for(let u=n.length-1;u>=0;u--)o=Ye.from(n[u].type.create(n[u].attrs,o));t.step(new Oo(e.start-(r?2:0),e.end,e.start,e.end,new bt(o,0,0),n.length,!0));let a=0;for(let u=0;u<n.length;u++)n[u].type==i&&(a=u+1);let s=n.length-a,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,g=!0;u<f;u++,g=!1)!g&&Hu(t.doc,l,s)&&(t.split(l,s),l+=2*s),l+=c.child(u).nodeSize;return t}function YAe(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?XAe(e,n,t,o):QAe(e,n,o):!0:!1}}function XAe(t,e,n,r){let i=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new Oo(o-1,a,o,a,new bt(Ye.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new kx(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=yg(r);if(s==null)return!1;i.lift(r,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return kf(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function QAe(t,e,n){let r=t.tr,i=n.parent;for(let m=n.end,b=n.endIndex-1,v=n.startIndex;b>v;b--)m-=i.child(b).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?Ye.empty:Ye.from(i))))return!1;let f=o.pos,g=f+a.nodeSize;return r.step(new Oo(f-(s?1:0),g+(l?1:0),f+1,g-1,new bt((s?Ye.empty:Ye.from(i.copy(Ye.empty))).append(l?Ye.empty:Ye.from(i.copy(Ye.empty))),s?0:1,l?0:1),s?0:1)),e(r.scrollIntoView()),!0}function JAe(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==s.type,u=Ye.from(c?t.create():null),f=new bt(Ye.from(t.create(null,Ye.from(s.type.create(null,u)))),c?3:1,0),g=o.start,m=o.end;n(e.tr.step(new Oo(g-(c?3:1),m,g,m,f,1,!0)).scrollIntoView())}return!0}}const Wo=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Vm=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let kT=null;const Iu=function(t,e,n){let r=kT||(kT=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},ZAe=function(){kT=null},Vh=function(t,e,n,r){return n&&(n$(t,e,n,r,-1)||n$(t,e,n,r,1))},e5e=/^(img|br|input|textarea|hr)$/i;function n$(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:al(t))){let a=t.parentNode;if(!a||a.nodeType!=1||a0(t)||e5e.test(t.nodeName)||t.contentEditable=="false")return!1;e=Wo(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?al(t):0}else return!1}}function al(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function t5e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=al(t)}else if(t.parentNode&&!a0(t))e=Wo(t),t=t.parentNode;else return null}}function n5e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!a0(t))e=Wo(t)+1,t=t.parentNode;else return null}}function r5e(t,e,n){for(let r=e==0,i=e==al(t);r||i;){if(t==n)return!0;let o=Wo(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==al(t)}}function a0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const D2=function(t){return t.focusNode&&Vh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ch(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function i5e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function o5e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(al(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(al(r.startContainer),r.startOffset)}}}const Kc=typeof navigator<"u"?navigator:null,r$=typeof document<"u"?document:null,Cf=Kc&&Kc.userAgent||"",CT=/Edge\/(\d+)/.exec(Cf),YY=/MSIE \d/.exec(Cf),TT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cf),is=!!(YY||TT||CT),lf=YY?document.documentMode:TT?+TT[1]:CT?+CT[1]:0,ul=!is&&/gecko\/(\d+)/i.test(Cf);ul&&+(/Firefox\/(\d+)/.exec(Cf)||[0,0])[1];const OT=!is&&/Chrome\/(\d+)/.exec(Cf),ya=!!OT,XY=OT?+OT[1]:0,Da=!is&&!!Kc&&/Apple Computer/.test(Kc.vendor),Km=Da&&(/Mobile\/\w+/.test(Cf)||!!Kc&&Kc.maxTouchPoints>2),rl=Km||(Kc?/Mac/.test(Kc.platform):!1),a5e=Kc?/Win/.test(Kc.platform):!1,$u=/Android \d/.test(Cf),s0=!!r$&&"webkitFontSmoothing"in r$.documentElement.style,s5e=s0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function l5e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Tu(t,e){return typeof t=="number"?t:t[e]}function c5e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function i$(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Vm(a);continue}let s=a,l=s==o.body,c=l?l5e(o):c5e(s),u=0,f=0;if(e.top<c.top+Tu(r,"top")?f=-(c.top-e.top+Tu(i,"top")):e.bottom>c.bottom-Tu(r,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+Tu(i,"top")-c.top:e.bottom-c.bottom+Tu(i,"bottom")),e.left<c.left+Tu(r,"left")?u=-(c.left-e.left+Tu(i,"left")):e.right>c.right-Tu(r,"right")&&(u=e.right-c.right+Tu(i,"right")),u||f)if(l)o.defaultView.scrollBy(u,f);else{let m=s.scrollLeft,b=s.scrollTop;f&&(s.scrollTop+=f),u&&(s.scrollLeft+=u);let v=s.scrollLeft-m,y=s.scrollTop-b;e={left:e.left-v,top:e.top-y,right:e.right-v,bottom:e.bottom-y}}let g=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:Vm(a)}}function u5e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let s=t.root.elementFromPoint(o,a);if(!s||s==t.dom||!t.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:QY(t.dom)}}function QY(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Vm(r));return e}function d5e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;JY(n,r==0?0:r-e)}function JY(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Bp=null;function f5e(t){if(t.setActive)return t.setActive();if(Bp)return t.focus(Bp);let e=QY(t);t.focus(Bp==null?{get preventScroll(){return Bp={preventScroll:!0},!0}}:void 0),Bp||(Bp=!1,JY(e,0))}function ZY(t,e){let n,r=2e8,i,o=0,a=e.top,s=e.top,l,c;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let g;if(u.nodeType==1)g=u.getClientRects();else if(u.nodeType==3)g=Iu(u).getClientRects();else continue;for(let m=0;m<g.length;m++){let b=g[m];if(b.top<=a&&b.bottom>=s){a=Math.max(b.bottom,a),s=Math.min(b.top,s);let v=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(v<r){n=u,r=v,i=v&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,u.nodeType==1&&v&&(o=f+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!l&&b.left<=e.left&&b.right>=e.left&&(l=u,c={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(o=f+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?h5e(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:ZY(n,i)}function h5e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=zd(r,1);if(o.top!=o.bottom&&MP(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function MP(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function p5e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function m5e(t,e,n){let{node:r,offset:i}=ZY(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function g5e(t,e,n,r){let i=-1;for(let o=e,a=!1;o!=t.dom;){let s=t.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?i=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function eX(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=t.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(MP(e,c))return eX(a,e,c)}}if((o=(o+1)%r)==i)break}return t}function v5e(t,e){let n=t.dom.ownerDocument,r,i=0,o=o5e(n,e.left,e.top);o&&({node:r,offset:i}=o);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=t.dom.getBoundingClientRect();if(!MP(e,c)||(a=eX(t.dom,e,c),!a))return null}if(Da)for(let c=a;r&&c;c=Vm(c))c.draggable&&(r=void 0);if(a=p5e(a,e),r){if(ul&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let c;s0&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=g5e(t,r,i,e))}s==null&&(s=m5e(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function o$(t){return t.top<t.bottom||t.left<t.right}function zd(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(o$(r))return r}return Array.prototype.find.call(n,o$)||t.getBoundingClientRect()}const y5e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tX(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=s0||ul;if(r.nodeType==3)if(a&&(y5e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=zd(Iu(r,i,i),n);if(ul&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=zd(Iu(r,i-1,i-1),-1);if(c.top==l.top){let u=zd(Iu(r,i,i+1),-1);if(u.top!=l.top)return av(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,av(zd(Iu(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==al(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return B5(l.getBoundingClientRect(),!1)}if(o==null&&i<al(r)){let l=r.childNodes[i];if(l.nodeType==1)return B5(l.getBoundingClientRect(),!0)}return B5(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==al(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Iu(l,al(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return av(zd(c,1),!1)}if(o==null&&i<al(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Iu(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return av(zd(c,-1),!0)}return av(zd(r.nodeType==3?Iu(r):r,-n),n>=0)}function av(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function B5(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function nX(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function b5e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return nX(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=t.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=tX(t,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Iu(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const x5e=/[\u0590-\u08ac]/;function w5e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=t.domSelection();return s?!x5e.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:a:nX(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=t.domSelectionRange(),g=s.caretBidiLevel;s.modify("move",n,"character");let m=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:v}=t.domSelectionRange(),y=b&&!m.contains(b.nodeType==1?b:b.parentNode)||l==b&&c==v;try{s.collapse(u,f),l&&(l!=u||c!=f)&&s.extend&&s.extend(l,c)}catch{}return g!=null&&(s.caretBidiLevel=g),y}):r.pos==r.start()||r.pos==r.end()}let a$=null,s$=null,l$=!1;function S5e(t,e,n){return a$==e&&s$==n?l$:(a$=e,s$=n,l$=n=="up"||n=="down"?b5e(t,e,n):w5e(t,e,n))}const dl=0,c$=1,mh=2,Gc=3;class l0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=dl,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Wo(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],s=o+a.size;if(s>e||a instanceof iX){i=e-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof rX&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Wo(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Wo(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&e<=c){let u=a+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=a;for(let f=s;f>0;f--){let g=this.children[f-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=Wo(g.dom)+1;break}e-=g.size}i==-1&&(i=0)}if(i>-1&&(c>n||s==this.children.length-1)){n=c;for(let u=s+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Wo(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),a=Math.max(e,n);for(let m=0,b=0;m<this.children.length;m++){let v=this.children[m],y=b+v.size;if(o>b&&a<y)return v.setSelection(e-b-v.border,n-b-v.border,r,i);b=y}let s=this.domFromPos(e,e?-1:1),l=n==e?s:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),f=!1;if((ul||Da)&&e==n){let{node:m,offset:b}=s;if(m.nodeType==3){if(f=!!(b&&m.nodeValue[b-1]==`
`),f&&b==m.nodeValue.length)for(let v=m,y;v;v=v.parentNode){if(y=v.nextSibling){y.nodeName=="BR"&&(s=l={node:y.parentNode,offset:Wo(y)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=m.childNodes[b-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(ul&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let m=u.focusNode.childNodes[u.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||f&&Da)&&Vh(s.node,s.offset,u.anchorNode,u.anchorOffset)&&Vh(l.node,l.offset,u.focusNode,u.focusOffset))return;let g=!1;if((c.extend||e==n)&&!(f&&ul)){c.collapse(s.node,s.offset);try{e!=n&&c.extend(l.node,l.offset),g=!0}catch{}}if(!g){if(e>n){let b=s;s=l,l=b}let m=document.createRange();m.setEnd(l.node,l.offset),m.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let s=r+o.border,l=a-o.border;if(e>=s&&n<=l){this.dirty=e==r||n==a?mh:c$,e==s&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Gc:o.markDirty(e-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?mh:Gc}r=a}this.dirty=mh}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?mh:c$;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class rX extends l0{constructor(e,n,r,i){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==dl&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class _5e extends l0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Kh extends l0{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=ip.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Kh(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Gc||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Gc&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=dl){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=dl}}slice(e,n,r){let i=Kh.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=PT(o,n,a,r)),e>0&&(o=PT(o,0,e,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class cf extends l0{constructor(e,n,r,i,o,a,s,l,c){super(e,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(e,n,r,i,o,a){let s=o.nodeViews[n.type.name],l,c=s&&s(n,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=ip.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let g=u;return u=sX(u,r,n),c?l=new E5e(e,n,r,i,u,f||null,g,c,o,a+1):n.isText?new F2(e,n,r,i,u,g,o):new cf(e,n,r,i,u,f||null,g,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ye.empty)}return e}matchesNode(e,n,r){return this.dirty==dl&&e.eq(this.node)&&Tx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new A5e(this,a&&a.node,e);T5e(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?Lr.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,f,g)=>{l.syncToMarks(c.marks,r,e);let m;l.findNodeMatch(c,u,f,g)||s&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(m=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,f,m,e)||l.updateNextNode(c,u,f,e,g,i)||l.addNode(c,u,f,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==mh)&&(a&&this.protectLocalComposition(e,a),oX(this.contentDOM,this.children,e),Km&&O5e(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof cn)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=M5e(this.node.content,a,r-n,i-n);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new _5e(this,o,n,i);e.input.compositionNodes.push(a),this.children=PT(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==Gc||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=dl}updateOuterDeco(e){if(Tx(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=aX(this.dom,this.nodeDOM,MT(this.outerDeco,this.node,n),MT(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function u$(t,e,n,r,i){sX(r,e,t);let o=new cf(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class F2 extends cf{constructor(e,n,r,i,o,a,s){super(e,n,r,i,o,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Gc||this.dirty!=dl&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=dl||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=dl,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new F2(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Gc)}get domAtom(){return!1}isText(e){return this.node.text==e}}class iX extends l0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==dl&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class E5e extends cf{constructor(e,n,r,i,o,a,s,l,c,u){super(e,n,r,i,o,a,s,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Gc)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function oX(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=r;)r=d$(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(a instanceof Kh){let l=r?r.previousSibling:t.lastChild;oX(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=d$(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ov=function(t){t&&(this.nodeName=t)};Ov.prototype=Object.create(null);const gh=[new Ov];function MT(t,e,n){if(t.length==0)return gh;let r=n?gh[0]:new Ov,i=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&i.push(r=new Ov(a.nodeName));for(let s in a){let l=a[s];l!=null&&(n&&i.length==1&&i.push(r=new Ov(e.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function aX(t,e,n,r){if(n==gh&&r==gh)return e;let i=e;for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=gh[0]),i=l}N5e(i,s||gh[0],a)}return i}function N5e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function sX(t,e,n){return aX(t,t,gh,MT(e,n,t.nodeType!=1))}function Tx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function d$(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class A5e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=k5e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=dl,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Kh.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let a=this.top.children[i];return a.dirty==Gc&&a.dom==a.contentDOM&&(a.dirty=mh),a.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof cf){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,f,g=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Gc&&Tx(n,l.outerDeco));if(!g&&l.update(e,n,r,i))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!g&&(f=this.recreateWrapper(l,e,n,r,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=mh,f.updateChildren(i,a+1),f.dirty=dl),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Tx(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let s=cf.create(this.top,n,r,i,o,a);if(s.contentDOM){s.children=e.children,e.children=[];for(let l of s.children)l.parent=s}return e.destroy(),s}addNode(e,n,r,i,o){let a=cf.create(this.top,e,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new rX(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Kh;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof F2)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Da||ya)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new iX(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function k5e(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let c=n.children[r-1];if(c instanceof Kh)n=c,r=c.children.length;else{s=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function C5e(t,e){return t.type.side-e.type.side}function T5e(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,f;for(;a<i.length&&i[a].to==o;){let y=i[a++];y.widget&&(u?(f||(f=[u])).push(y):u=y)}if(u)if(f){f.sort(C5e);for(let y=0;y<f.length;y++)n(f[y],c,!!l)}else n(u,c,!!l);let g,m;if(l)m=-1,g=l,l=null;else if(c<t.childCount)m=c,g=t.child(c++);else break;for(let y=0;y<s.length;y++)s[y].to<=o&&s.splice(y--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let b=o+g.nodeSize;if(g.isText){let y=b;a<i.length&&i[a].from<y&&(y=i[a].from);for(let w=0;w<s.length;w++)s[w].to<y&&(y=s[w].to);y<b&&(l=g.cut(y-o),g=g.cut(0,y-o),b=y,m=-1)}else for(;a<i.length&&i[a].to<b;)a++;let v=g.isInline&&!g.isLeaf?s.filter(y=>!y.inline):s.slice();r(g,v,e.forChild(o,g),m),o=b}}function O5e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function M5e(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-s,r-s)==e)return r-e.length;let c=s<r?l.lastIndexOf(e,r-s-1):-1;if(c>=0&&c+e.length+s>=n)return s+c;if(n==r&&l.length>=r+e.length-s&&l.slice(r-s,r-s+e.length)==e)return r}}return-1}function PT(t,e,n,r,i){let o=[];for(let a=0,s=0;a<t.length;a++){let l=t[a],c=s,u=s+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function PP(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,c;if(D2(n)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&sn.isSelectable(f)&&i.parent&&!(f.isInline&&r5e(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;c=new sn(a==g?s:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,g=a;for(let m=0;m<n.rangeCount;m++){let b=n.getRangeAt(m);f=Math.min(f,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(f<0)return null;[l,a]=g==t.state.selection.anchor?[g,f]:[f,g],s=r.resolve(a)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let f=e=="pointer"||t.state.selection.head<s.pos&&!o?1:-1;c=RP(t,u,s,f)}return c}function lX(t){return t.editable?t.hasFocus():uX(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Wu(t,e=!1){let n=t.state.selection;if(cX(t,n),!!lX(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ya){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Vh(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)R5e(t);else{let{anchor:r,head:i}=n,o,a;f$&&!(n instanceof cn)&&(n.$from.parent.inlineContent||(o=h$(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=h$(t,n.to))),t.docView.setSelection(r,i,t,e),f$&&(o&&p$(o),a&&p$(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&P5e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const f$=Da||ya&&XY<63;function h$(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Da&&i&&i.contentEditable=="false")return $5(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return $5(i);if(o)return $5(o)}}function $5(t){return t.contentEditable="true",Da&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function p$(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function P5e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lX(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function R5e(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Wo(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&is&&lf<=11&&(n.disabled=!0,n.disabled=!1)}function cX(t,e){if(e instanceof sn){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(m$(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else m$(t)}function m$(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function RP(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||cn.between(e,n,r)}function g$(t){return t.editable&&!t.hasFocus()?!1:uX(t)}function uX(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function j5e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Vh(e.node,e.offset,n.anchorNode,n.anchorOffset)}function RT(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&yn.findFrom(o,e)}function Ud(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function v$(t,e,n){let r=t.state.selection;if(r instanceof cn)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Ud(t,new cn(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=RT(t.state,e);return i&&i instanceof sn?Ud(t,i):!1}else if(!(rl&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=t.docView.descAt(s))&&!a.contentDOM?sn.isSelectable(o)?Ud(t,new sn(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):s0?Ud(t,new cn(t.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof sn&&r.node.isInline)return Ud(t,new cn(e>0?r.$to:r.$from));{let i=RT(t.state,e);return i?Ud(t,i):!1}}}function Ox(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Mv(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function $p(t,e){return e<0?I5e(t):L5e(t)}function I5e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;for(ul&&n.nodeType==1&&r<Ox(n)&&Mv(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(Mv(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(dX(n))break;{let s=n.previousSibling;for(;s&&Mv(s,-1);)i=n.parentNode,o=Wo(s),s=s.previousSibling;if(s)n=s,r=Ox(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?jT(t,n,r):i&&jT(t,i,o)}function L5e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Ox(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(Mv(s,1))o=n,a=++r;else break}else{if(dX(n))break;{let s=n.nextSibling;for(;s&&Mv(s,1);)o=s.parentNode,a=Wo(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=Ox(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&jT(t,o,a)}function dX(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function D5e(t,e){for(;t&&e==t.childNodes.length&&!a0(t);)e=Wo(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function F5e(t,e){for(;t&&!e&&!a0(t);)e=Wo(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function jT(t,e,n){if(e.nodeType!=3){let o,a;(a=D5e(e,n))?(e=a,n=0):(o=F5e(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(D2(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Wu(t)},50)}function y$(t,e){let n=t.state.doc.resolve(e);if(!(ya||a5e)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function b$(t,e,n){let r=t.state.selection;if(r instanceof cn&&!r.empty||n.indexOf("s")>-1||rl&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=RT(t.state,e);if(a&&a instanceof sn)return Ud(t,a)}if(!i.parent.inlineContent){let a=e<0?i:o,s=r instanceof Ms?yn.near(a,e):yn.findFrom(a,e);return s?Ud(t,s):!1}return!1}function x$(t,e){if(!(t.state.selection instanceof cn))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),t.dispatch(a),!0}return!1}function w$(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function B5e(t){if(!Da||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;w$(t,r,"true"),setTimeout(()=>w$(t,r,"false"),20)}return!1}function $5e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function z5e(t,e){let n=e.keyCode,r=$5e(e);if(n==8||rl&&n==72&&r=="c")return x$(t,-1)||$p(t,-1);if(n==46&&!e.shiftKey||rl&&n==68&&r=="c")return x$(t,1)||$p(t,1);if(n==13||n==27)return!0;if(n==37||rl&&n==66&&r=="c"){let i=n==37?y$(t,t.state.selection.from)=="ltr"?-1:1:-1;return v$(t,i,r)||$p(t,i)}else if(n==39||rl&&n==70&&r=="c"){let i=n==39?y$(t,t.state.selection.from)=="ltr"?1:-1:1;return v$(t,i,r)||$p(t,i)}else{if(n==38||rl&&n==80&&r=="c")return b$(t,-1,r)||$p(t,-1);if(n==40||rl&&n==78&&r=="c")return B5e(t)||b$(t,1,r)||$p(t,1);if(r==(rl?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function jP(t,e){t.someProp("transformCopied",m=>{e=m(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let a=t.someProp("clipboardSerializer")||ip.fromSchema(t.state.schema),s=vX(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=gX[c.nodeName.toLowerCase()]);){for(let m=u.length-1;m>=0;m--){let b=s.createElement(u[m]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",m=>m(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:g,slice:e}}function fX(t,e,n,r,i){let o=i.parent.type.spec.code,a,s;if(!n&&!e)return null;let l=!!e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",g=>{e=g(e,o||r,t)}),o)return s=new bt(Ye.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{s=g(s,t,!0)}),s;let f=t.someProp("clipboardTextParser",g=>g(e,i,r,t));if(f)s=f;else{let g=i.marks(),{schema:m}=t.state,b=ip.fromSchema(m);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let y=a.appendChild(document.createElement("p"));v&&y.appendChild(b.serializeNode(m.text(v,g)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=W5e(n),s0&&V5e(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(s||(s=(t.someProp("clipboardParser")||t.someProp("domParser")||Cv.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!q5e.test(g.parentNode.nodeName)?{ignore:!0}:null}})),u)s=K5e(S$(s,+u[1],+u[2]),u[4]);else if(s=bt.maxOpen(U5e(s.content,i),!0),s.openStart||s.openEnd){let f=0,g=0;for(let m=s.content.firstChild;f<s.openStart&&!m.type.spec.isolating;f++,m=m.firstChild);for(let m=s.content.lastChild;g<s.openEnd&&!m.type.spec.isolating;g++,m=m.lastChild);s=S$(s,f,g)}return t.someProp("transformPasted",f=>{s=f(s,t,l)}),s}const q5e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function U5e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(t.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&pX(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=mX(a[a.length-1],o.length));let u=hX(s,l);a.push(u),i=i.matchType(u.type),o=l}}),a)return Ye.from(a)}return t}function hX(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Ye.from(t));return t}function pX(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=pX(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Ye.from(hX(n,t,i+1))))}}function mX(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,mX(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Ye.empty,!0);return t.copy(n.append(r))}function IT(t,e,n,r,i,o){let a=e<0?t.firstChild:t.lastChild,s=a.content;return t.childCount>1&&(o=0),i<r-1&&(s=IT(s,e,n,r,i+1,o)),i>=n&&(s=e<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Ye.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}function S$(t,e,n){return e<t.openStart&&(t=new bt(IT(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new bt(IT(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const gX={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _$=null;function vX(){return _$||(_$=document.implementation.createHTMLDocument("title"))}let z5=null;function H5e(t){let e=window.trustedTypes;return e?(z5||(z5=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),z5.createHTML(t)):t}function W5e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=vX().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&gX[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=H5e(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function V5e(t){let e=t.querySelectorAll(ya?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function K5e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:a}=t;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=Ye.from(l.create(r[s+1],i)),o++,a++}return new bt(i,o,a)}const Fa={},Ba={},G5e={touchstart:!0,touchmove:!0};class Y5e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function X5e(t){for(let e in Fa){let n=Fa[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{J5e(t,r)&&!IP(t,r)&&(t.editable||!(r.type in Ba))&&n(t,r)},G5e[e]?{passive:!0}:void 0)}Da&&t.dom.addEventListener("input",()=>null),LT(t)}function ef(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Q5e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function LT(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>IP(t,r))})}function IP(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function J5e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Z5e(t,e){!IP(t,e)&&Fa[e.type]&&(t.editable||!(e.type in Ba))&&Fa[e.type](t,e)}Ba.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!bX(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!($u&&ya&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Km&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ch(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||z5e(t,n)?n.preventDefault():ef(t,"key")};Ba.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ba.keypress=(t,e)=>{let n=e;if(bX(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||rl&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof cn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function B2(t){return{left:t.clientX,top:t.clientY}}function eke(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function LP(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,s=>a>o.depth?s(t,n,o.nodeAfter,o.before(a),i,!0):s(t,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function vm(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function tke(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&sn.isSelectable(r)?(vm(t,new sn(n)),!0):!1}function nke(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof sn&&(r=n.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(sn.isSelectable(s)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(vm(t,sn.create(t.state.doc,i)),!0):!1}function rke(t,e,n,r,i){return LP(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?nke(t,n):tke(t,n))}function ike(t,e,n,r){return LP(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function oke(t,e,n,r){return LP(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||ake(t,n,r)}function ake(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(vm(t,cn.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)vm(t,cn.create(r,s+1,s+1+a.content.size));else if(sn.isSelectable(a))vm(t,sn.create(r,s));else continue;return!0}}function DP(t){return Mx(t)}const yX=rl?"metaKey":"ctrlKey";Fa.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=DP(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&eke(n,t.input.lastClick)&&!n[yX]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=t.posAtCoords(B2(n));a&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new ske(t,a,n,!!r)):(o=="doubleClick"?ike:oke)(t,a.pos,a.inside,n)?n.preventDefault():ef(t,"pointer"))};class ske{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[yX],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,a=u.depth?u.before():0}const s=i?null:r.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof sn&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ul&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ef(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Wu(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(B2(e))),this.updateAllowDefault(e),this.allowDefault||!n?ef(this.view,"pointer"):rke(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Da&&this.mightDrag&&!this.mightDrag.node.isAtom||ya&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vm(this.view,yn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ef(this.view,"pointer")}move(e){this.updateAllowDefault(e),ef(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Fa.touchstart=t=>{t.input.lastTouch=Date.now(),DP(t),ef(t,"pointer")};Fa.touchmove=t=>{t.input.lastTouch=Date.now(),ef(t,"pointer")};Fa.contextmenu=t=>DP(t);function bX(t,e){return t.composing?!0:Da&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const lke=$u?5e3:-1;Ba.compositionstart=Ba.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof cn&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Mx(t,!0),t.markCursor=null;else if(Mx(t,!e.selection.empty),ul&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=t.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}t.input.composing=!0}xX(t,lke)};Ba.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,xX(t,20))};function xX(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Mx(t),e))}function wX(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uke());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function cke(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=t5e(e.focusNode,e.focusOffset),r=n5e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function uke(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Mx(t,e=!1){if(!($u&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),wX(t),e||t.docView&&t.docView.dirty){let n=PP(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function dke(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Py=is&&lf<15||Km&&s5e<604;Fa.copy=Ba.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Py?null:n.clipboardData,a=r.content(),{dom:s,text:l}=jP(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):dke(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fke(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function hke(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ry(t,r.value,null,i,e):Ry(t,r.textContent,r.innerHTML,i,e)},50)}function Ry(t,e,n,r,i){let o=fX(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||bt.empty)))return!0;if(!o)return!1;let a=fke(o),s=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function SX(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ba.paste=(t,e)=>{let n=e;if(t.composing&&!$u)return;let r=Py?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ry(t,SX(r),r.getData("text/html"),i,n)?n.preventDefault():hke(t,n)};class _X{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const pke=rl?"altKey":"ctrlKey";function EX(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[pke]}Fa.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(B2(n)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof sn?i.to-1:i.to))){if(r&&r.mightDrag)a=sn.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=sn.create(t.state.doc,f.posBefore))}}let s=(a||t.state.selection).content(),{dom:l,text:c,slice:u}=jP(t,s);(!n.dataTransfer.files.length||!ya||XY>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Py?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Py||n.dataTransfer.setData("text/plain",c),t.dragging=new _X(u,EX(t,n),a)};Fa.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ba.dragover=Ba.dragenter=(t,e)=>e.preventDefault();Ba.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(B2(n));if(!i)return;let o=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",b=>{a=b(a,t,!1)}):a=fX(t,SX(n.dataTransfer),Py?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&EX(t,n));if(t.someProp("handleDrop",b=>b(t,n,a||bt.empty,s))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?TY(t.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=t.state.tr;if(s){let{node:b}=r;b?b.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=c.doc;if(f?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(g))return;let m=c.doc.resolve(u);if(f&&sn.isSelectable(a.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new sn(m));else{let b=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,y,w,N)=>b=N),c.setSelection(RP(t,m,c.doc.resolve(b)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Fa.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Wu(t)},20))};Fa.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Fa.beforeinput=(t,e)=>{if(ya&&$u&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ch(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ba)Fa[t]=Ba[t];function jy(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Px{constructor(e,n){this.toDOM=e,this.spec=n||Nh,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new po(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Px&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&jy(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class uf{constructor(e,n){this.attrs=e,this.spec=n||Nh}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new po(o,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof uf&&jy(this.attrs,e.attrs)&&jy(this.spec,e.spec)}static is(e){return e.type instanceof uf}destroy(){}}class FP{constructor(e,n){this.attrs=e,this.spec=n||Nh}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new po(o.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof FP&&jy(this.attrs,e.attrs)&&jy(this.spec,e.spec)}destroy(){}}class po{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new po(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new po(e,e,new Px(n,r))}static inline(e,n,r,i){return new po(e,n,new uf(r,i))}static node(e,n,r,i){return new po(e,n,new FP(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof uf}get widget(){return this.type instanceof Px}}const Kp=[],Nh={};class Ir{constructor(e,n){this.local=e.length?e:Kp,this.children=n.length?n:Kp}static create(e,n){return n.length?Rx(n,e,0,Nh):fa}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=n&&s.to>=e&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,n-s,r,i+s,o)}}map(e,n,r){return this==fa||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Nh)}mapInner(e,n,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?mke(this.children,a||[],e,n,r,i,o):a?new Ir(a.sort(Ah),Kp):fa}add(e,n){return n.length?this==fa?Ir.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((s,l)=>{let c=l+r,u;if(u=AX(n,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,u,c+1):i.splice(o,0,l,l+s.nodeSize,Rx(u,s,c+1,Nh)),o+=3}});let a=NX(o?kX(n):n,-r);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new Ir(a.length?this.local.concat(a).sort(Ah):this.local,i||this.children)}remove(e){return e.length==0||this==fa?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+n,l=r[o+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>s&&f.to<l&&(e[u]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(a,s+1);c!=fa?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let s=0;s<i.length;s++)i[s].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ir(i,r):fa}forChild(e,n){if(this==fa)return this;if(n.isLeaf)return Ir.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(r=this.children[s+2]);break}let o=e+1,a=o+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof uf){let c=Math.max(o,l.from)-o,u=Math.min(a,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let s=new Ir(i.sort(Ah),Kp);return r?new Kd([s,r]):s}return r||fa}eq(e){if(this==e)return!0;if(!(e instanceof Ir)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return BP(this.localsInner(e))}localsInner(e){if(this==fa)return Kp;if(e.inlineContent||!this.local.some(uf.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof uf||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ir.empty=new Ir([],[]);Ir.removeOverlap=BP;const fa=Ir.empty;class Kd{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Nh));return Kd.from(r)}forChild(e,n){if(n.isLeaf)return Ir.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=fa&&(o instanceof Kd?r=r.concat(o.members):r.push(o))}return Kd.from(r)}eq(e){if(!(e instanceof Kd)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?BP(r?n:n.sort(Ah)):Kp}static from(e){switch(e.length){case 0:return fa;case 1:return e[0];default:return new Kd(e.every(n=>n instanceof Ir)?e:e.reduce((n,r)=>n.concat(r instanceof Ir?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function mke(t,e,n,r,i,o,a){let s=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let f=0;n.maps[c].forEach((g,m,b,v)=>{let y=v-b-(m-g);for(let w=0;w<s.length;w+=3){let N=s[w+1];if(N<0||g>N+u-f)continue;let k=s[w]+u-f;m>=k?s[w+1]=g<=k?-2:-1:g>=u&&y&&(s[w]+=y,s[w+1]+=y)}f+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let u=n.map(t[c]+o),f=u-i;if(f<0||f>=r.content.size){l=!0;continue}let g=n.map(t[c+1]+o,-1),m=g-i,{index:b,offset:v}=r.content.findIndex(f),y=r.maybeChild(b);if(y&&v==f&&v+y.nodeSize==m){let w=s[c+2].mapInner(n,y,u+1,t[c]+o+1,a);w!=fa?(s[c]=f,s[c+1]=m,s[c+2]=w):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=gke(s,t,e,n,i,o,a),u=Rx(c,r,0,a);e=u.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,g=0;f<u.children.length;f+=3){let m=u.children[f];for(;g<s.length&&s[g]<m;)g+=3;s.splice(g,0,u.children[f],u.children[f+1],u.children[f+2])}}return new Ir(e.sort(Ah),s)}function NX(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new po(i.from+e,i.to+e,i.type))}return n}function gke(t,e,n,r,i,o,a){function s(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?n.push(f):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)s(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&s(t[l+2],e[l]+o+1);return n}function AX(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[o]=null);return i}function kX(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Rx(t,e,n,r){let i=[],o=!1;e.forEach((s,l)=>{let c=AX(t,s,l+n);if(c){o=!0;let u=Rx(c,s,n+l+1,r);u!=fa&&i.push(l,l+s.nodeSize,u)}});let a=NX(o?kX(t):t,-n).sort(Ah);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Ir(a,i):fa}function Ah(t,e){return t.from-e.from||t.to-e.to}function BP(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),E$(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),E$(e,i,r.copy(o.from,r.to)));break}}}return e}function E$(t,e,n){for(;e<t.length&&Ah(n,t[e])>0;)e++;t.splice(e,0,n)}function q5(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=fa&&e.push(r)}),t.cursorWrapper&&e.push(Ir.create(t.state.doc,[t.cursorWrapper.deco])),Kd.from(e)}const vke={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yke=is&&lf<=11;class bke{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class xke{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new bke,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);is&&lf<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),yke&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vke)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(g$(this.view)){if(this.suppressingSelectionUpdates)return Wu(this.view);if(is&&lf<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Vh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Vm(o))n.add(o);for(let o=e.anchorNode;o;o=Vm(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&g$(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,s=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let f=this.registerMutation(n[u],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(ul&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,g]=u;f.parentNode&&f.parentNode.parentNode==g.parentNode?g.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let g of u){let m=g.parentNode;m&&m.nodeName=="LI"&&(!f||_ke(e,f)!=m)&&g.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&D2(r)&&(c=PP(e))&&c.eq(yn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Wu(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),wke(e)),this.handleDOMChange(o,a,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Wu(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(is&&lf<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:g}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g)}let a=i&&i.parentNode==e.target?Wo(i)+1:0,s=r.localPosFromDOM(e.target,a,-1),l=o&&o.parentNode==e.target?Wo(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:s,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let N$=new WeakMap,A$=!1;function wke(t){if(!N$.has(t)&&(N$.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ul,A$)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),A$=!0}}function k$(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Vh(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Ske(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return k$(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?k$(t,n):null}function _ke(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Eke(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],D2(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ya&&t.input.lastKeyCode===8)for(let y=o;y>i;y--){let w=r.childNodes[y-1],N=w.pmViewDesc;if(w.nodeName=="BR"&&!N){o=y;break}if(!N||N.size)break}let f=t.state.doc,g=t.someProp("domParser")||Cv.fromSchema(t.state.schema),m=f.resolve(a),b=null,v=g.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Nke,context:m});if(c&&c[0].pos!=null){let y=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=y),b={anchor:y+a,head:w+a}}return{doc:v,sel:b,from:a,to:s}}function Nke(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Da&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Da&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ake=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function kke(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,C=PP(t,L);if(C&&!t.state.selection.eq(C)){if(ya&&$u&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",q=>q(t,ch(13,"Enter"))))return;let M=t.state.tr.setSelection(C);L=="pointer"?M.setMeta("pointer",!0):L=="key"&&M.scrollIntoView(),o&&M.setMeta("composition",o),t.dispatch(M)}return}let a=t.state.doc.resolve(e),s=a.sharedDepth(n);e=a.before(s+1),n=t.state.doc.resolve(n).after(s+1);let l=t.state.selection,c=Eke(t,e,n),u=t.state.doc,f=u.slice(c.from,c.to),g,m;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,m="end"):(g=t.state.selection.from,m="start"),t.input.lastKeyCode=null;let b=Oke(f.content,c.doc.content,c.from,g,m);if(b&&t.input.domChangeCount++,(Km&&t.input.lastIOSEnter>Date.now()-225||$u)&&i.some(L=>L.nodeType==1&&!Ake.test(L.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",L=>L(t,ch(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&l instanceof cn&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let L=C$(t,t.state.doc,c.sel);if(L&&!L.eq(t.state.selection)){let C=t.state.tr.setSelection(L);o&&C.setMeta("composition",o),t.dispatch(C)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof cn&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),is&&lf<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>c.from&&c.doc.textBetween(b.start-c.from-1,b.start-c.from+1)==" "&&(b.start--,b.endA--,b.endB--);let v=c.doc.resolveNoCache(b.start-c.from),y=c.doc.resolveNoCache(b.endB-c.from),w=u.resolve(b.start),N=v.sameParent(y)&&v.parent.inlineContent&&w.end()>=b.endA;if((Km&&t.input.lastIOSEnter>Date.now()-225&&(!N||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!N&&v.pos<c.doc.content.size&&(!v.sameParent(y)||!v.parent.inlineContent)&&v.pos<y.pos&&!/\S/.test(c.doc.textBetween(v.pos,y.pos,"","")))&&t.someProp("handleKeyDown",L=>L(t,ch(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&Tke(u,b.start,b.endA,v,y)&&t.someProp("handleKeyDown",L=>L(t,ch(8,"Backspace")))){$u&&ya&&t.domObserver.suppressSelectionUpdates();return}ya&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),$u&&!N&&v.start()!=y.start()&&y.parentOffset==0&&v.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==b.endA&&(b.endB-=2,y=c.doc.resolveNoCache(b.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,ch(13,"Enter"))})},20));let k=b.start,A=b.endA,T=L=>{let C=L||t.state.tr.replace(k,A,c.doc.slice(b.start-c.from,b.endB-c.from));if(c.sel){let M=C$(t,C.doc,c.sel);M&&!(ya&&t.composing&&M.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(M.head==k||M.head==C.mapping.map(A)-1)||is&&M.empty&&M.head==k)&&C.setSelection(M)}return o&&C.setMeta("composition",o),C.scrollIntoView()},P;if(N)if(v.pos==y.pos){is&&lf<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Wu(t),20));let L=T(t.state.tr.delete(k,A)),C=u.resolve(b.start).marksAcross(u.resolve(b.endA));C&&L.ensureMarks(C),t.dispatch(L)}else if(b.endA==b.endB&&(P=Cke(v.parent.content.cut(v.parentOffset,y.parentOffset),w.parent.content.cut(w.parentOffset,b.endA-w.start())))){let L=T(t.state.tr);P.type=="add"?L.addMark(k,A,P.mark):L.removeMark(k,A,P.mark),t.dispatch(L)}else if(v.parent.child(v.index()).isText&&v.index()==y.index()-(y.textOffset?0:1)){let L=v.parent.textBetween(v.parentOffset,y.parentOffset),C=()=>T(t.state.tr.insertText(L,k,A));t.someProp("handleTextInput",M=>M(t,k,A,L,C))||t.dispatch(C())}else t.dispatch(T());else t.dispatch(T())}function C$(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:RP(t,e.resolve(n.anchor),e.resolve(n.head))}function Cke(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,a,s,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=u=>u.mark(s.addToSet(u.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=u=>u.mark(s.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(Ye.from(c).eq(t))return{mark:s,type:a}}function Tke(t,e,n,r,i){if(n-e<=i.pos-r.pos||U5(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==e+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(U5(o,!0,!0));return!a.parent.isTextblock||a.pos>n||U5(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function U5(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Oke(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&t.size<e.size){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&T$(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<t.size&&T$(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function T$(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class CX{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Y5e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(j$),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=P$(this),M$(this),this.nodeViews=R$(this),this.docView=u$(this.state.doc,O$(this),q5(this),this.dom,this),this.domObserver=new xke(this,(r,i,o,a)=>kke(this,r,i,o,a)),this.domObserver.start(),X5e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&LT(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(j$),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(wX(this),a=!0),this.state=e;let s=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=R$(this);Pke(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&LT(this),this.editable=P$(this),M$(this);let l=q5(this),c=O$(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(i.selection))&&(a=!0);let g=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&u5e(this);if(a){this.domObserver.stop();let m=f&&(is||ya)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Mke(i.selection,e.selection);if(f){let b=ya?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=cke(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=u$(e.doc,c,l,this.dom,this)),b&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&j5e(this))?Wu(this,m):(cX(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():g&&d5e(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof sn){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&i$(this,n.getBoundingClientRect(),e)}else i$(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new _X(e.slice,e.move,i<0?void 0:sn.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[e];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[e];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(is){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&f5e(this.dom),Wu(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return v5e(this,e)}coordsAtPos(e,n=1){return tX(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return S5e(this,n||this.state,e)}pasteHTML(e,n){return Ry(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ry(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return jP(this,e)}destroy(){this.docView&&(Q5e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],q5(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ZAe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Z5e(this,e)}domSelectionRange(){let e=this.domSelection();return e?Da&&this.root.nodeType===11&&i5e(this.dom.ownerDocument)==this.dom&&Ske(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}CX.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function O$(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[po.node(0,t.state.doc.content.size,e)]}function M$(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:po.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function P$(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Mke(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function R$(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Pke(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function j$(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var vf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},jx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Rke=typeof navigator<"u"&&/Mac/.test(navigator.platform),jke=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Vo=0;Vo<10;Vo++)vf[48+Vo]=vf[96+Vo]=String(Vo);for(var Vo=1;Vo<=24;Vo++)vf[Vo+111]="F"+Vo;for(var Vo=65;Vo<=90;Vo++)vf[Vo]=String.fromCharCode(Vo+32),jx[Vo]=String.fromCharCode(Vo);for(var H5 in vf)jx.hasOwnProperty(H5)||(jx[H5]=vf[H5]);function Ike(t){var e=Rke&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||jke&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?jx:vf)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Lke=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Dke=typeof navigator<"u"&&/Win/.test(navigator.platform);function Fke(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Lke?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Bke(t){let e=Object.create(null);for(let n in t)e[Fke(n)]=t[n];return e}function W5(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function $ke(t){return new ti({props:{handleKeyDown:$P(t)}})}function $P(t){let e=Bke(t);return function(n,r){let i=Ike(r),o,a=e[W5(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=e[W5(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Dke&&r.ctrlKey&&r.altKey)&&(o=vf[r.keyCode])&&o!=i){let s=e[W5(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var zke=Object.defineProperty,zP=(t,e)=>{for(var n in e)zke(t,n,{get:e[n],enumerable:!0})};function $2(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var z2=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,s])=>[a,(...c)=>{const u=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],s=!!t,l=t||i.tr,c=()=>(!s&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(n).map(([f,g])=>[f,(...b)=>{const v=this.buildProps(l,e),y=g(...b)(v);return a.push(y),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a={tr:t,editor:r,view:o,state:$2({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},TX={};zP(TX,{blur:()=>qke,clearContent:()=>Uke,clearNodes:()=>Hke,command:()=>Wke,createParagraphNear:()=>Vke,cut:()=>Kke,deleteCurrentNode:()=>Gke,deleteNode:()=>Yke,deleteRange:()=>Xke,deleteSelection:()=>Qke,enter:()=>Jke,exitCode:()=>Zke,extendMarkRange:()=>eCe,first:()=>tCe,focus:()=>rCe,forEach:()=>iCe,insertContent:()=>oCe,insertContentAt:()=>lCe,joinBackward:()=>dCe,joinDown:()=>uCe,joinForward:()=>fCe,joinItemBackward:()=>hCe,joinItemForward:()=>pCe,joinTextblockBackward:()=>mCe,joinTextblockForward:()=>gCe,joinUp:()=>cCe,keyboardShortcut:()=>yCe,lift:()=>bCe,liftEmptyBlock:()=>xCe,liftListItem:()=>wCe,newlineInCode:()=>SCe,resetAttributes:()=>_Ce,scrollIntoView:()=>ECe,selectAll:()=>NCe,selectNodeBackward:()=>ACe,selectNodeForward:()=>kCe,selectParentNode:()=>CCe,selectTextblockEnd:()=>TCe,selectTextblockStart:()=>OCe,setContent:()=>MCe,setMark:()=>GCe,setMeta:()=>YCe,setNode:()=>XCe,setNodeSelection:()=>QCe,setTextSelection:()=>JCe,sinkListItem:()=>ZCe,splitBlock:()=>eTe,splitListItem:()=>tTe,toggleList:()=>nTe,toggleMark:()=>rTe,toggleNode:()=>iTe,toggleWrap:()=>oTe,undoInputRule:()=>aTe,unsetAllMarks:()=>sTe,unsetMark:()=>lTe,updateAttributes:()=>cTe,wrapIn:()=>uTe,wrapInList:()=>dTe});var qke=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Uke=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Hke=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:a})=>{t.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),g=c.resolve(u.map(l+s.nodeSize)),m=f.blockRange(g);if(!m)return;const b=yg(m);if(s.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(m.start,v)}(b||b===0)&&e.lift(m,b)})}),!0},Wke=t=>e=>t(e),Vke=()=>({state:t,dispatch:e})=>WY(t,e),Kke=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new cn(r.doc.resolve(Math.max(a-1,0)))),!0},Gke=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const s=i.before(o),l=i.after(o);t.delete(s,l).scrollIntoView()}return!0}return!1};function no(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Yke=t=>({tr:e,state:n,dispatch:r})=>{const i=no(t,n.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const l=o.before(a),c=o.after(a);e.delete(l,c).scrollIntoView()}return!0}return!1},Xke=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Qke=()=>({state:t,dispatch:e})=>AP(t,e),Jke=()=>({commands:t})=>t.keyboardShortcut("Enter"),Zke=()=>({state:t,dispatch:e})=>FAe(t,e);function qP(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ix(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:qP(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function OX(t,e,n={}){return t.find(r=>r.type===e&&Ix(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function I$(t,e,n={}){return!!OX(t,e,n)}function UP(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!OX([...i.node.marks],e,n)))return;let a=i.index,s=t.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&I$([...t.parent.child(a-1).marks],e,n);)a-=1,s-=t.parent.child(a).nodeSize;for(;l<t.parent.childCount&&I$([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function nd(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var eCe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=nd(t,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(i){const f=UP(l,o,e);if(f&&f.from<=c&&f.to>=u){const g=cn.create(a,f.from,f.to);n.setSelection(g)}}return!0},tCe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function MX(t){return t instanceof cn}function vh(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function PX(t,e=null){if(!e)return null;const n=yn.atStart(t),r=yn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?cn.create(t,vh(0,i,o),vh(t.content.size,i,o)):cn.create(t,vh(e,i,o),vh(e,i,o))}function nCe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function HP(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var rCe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(HP()||nCe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!MX(n.state.selection))return a(),!0;const s=PX(i.doc,t)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},iCe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),oCe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),RX=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&RX(r)}return t};function kb(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return RX(n)}function Iy(t,e,n){if(t instanceof sf||t instanceof Ye)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Ye.fromArray(t.map(s=>e.nodeFromJSON(s)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Iy("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,s="";const l=new yY({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Cv.fromSchema(l).parseSlice(kb(t),n.parseOptions):Cv.fromSchema(l).parse(kb(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=Cv.fromSchema(e);return n.slice?o.parseSlice(kb(t),n.parseOptions).content:o.parse(kb(t),n.parseOptions)}return Iy("",e,n)}function aCe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Co||i instanceof Oo))return;const o=t.mapping.maps[r];let a=0;o.forEach((s,l,c,u)=>{a===0&&(a=u)}),t.setSelection(yn.near(t.doc.resolve(a),n))}var sCe=t=>!("type"in t),lCe=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let s;const l=y=>{o.emit("contentError",{editor:o,error:y,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Iy(e,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{s=Iy(e,o.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,m=!0;if((sCe(s)?s:[s]).forEach(y=>{y.check(),g=g?y.isText&&y.marks.length===0:!1,m=m?y.isBlock:!1}),u===f&&m){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,f+=1)}let v;if(g){if(Array.isArray(e))v=e.map(y=>y.text||"").join("");else if(e instanceof Ye){let y="";e.forEach(w=>{w.text&&(y+=w.text)}),v=y}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,u,f)}else{v=s;const y=r.doc.resolve(u),w=y.node(),N=y.parentOffset===0,k=w.isText||w.isTextblock,A=w.content.size>0;N&&k&&A&&(u=Math.max(0,u-1)),r.replaceWith(u,f,v)}n.updateSelection&&aCe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:v})}return!0},cCe=()=>({state:t,dispatch:e})=>IAe(t,e),uCe=()=>({state:t,dispatch:e})=>LAe(t,e),dCe=()=>({state:t,dispatch:e})=>FY(t,e),fCe=()=>({state:t,dispatch:e})=>qY(t,e),hCe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=j2(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},pCe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=j2(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},mCe=()=>({state:t,dispatch:e})=>RAe(t,e),gCe=()=>({state:t,dispatch:e})=>jAe(t,e);function jX(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function vCe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<e.length-1;s+=1){const l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))HP()||jX()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var yCe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=vCe(t).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,s))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function yf(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,a=e?no(e,t.schema):null,s=[];t.doc.nodesBetween(r,i,(f,g)=>{if(f.isText)return;const m=Math.max(r,g),b=Math.min(i,g+f.nodeSize);s.push({node:f,from:m,to:b})});const l=i-r,c=s.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>Ix(f.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((f,g)=>f+g.to-g.from,0)>=l}var bCe=(t,e={})=>({state:n,dispatch:r})=>{const i=no(t,n.schema);return yf(n,i,e)?DAe(n,r):!1},xCe=()=>({state:t,dispatch:e})=>VY(t,e),wCe=t=>({state:e,dispatch:n})=>{const r=no(t,e.schema);return YAe(r)(e,n)},SCe=()=>({state:t,dispatch:e})=>HY(t,e);function q2(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function L$(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var _Ce=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=q2(typeof t=="string"?t:t.name,r.schema);return s?(s==="node"&&(o=no(t,r.schema)),s==="mark"&&(a=nd(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,L$(c.attrs,e)),a&&c.marks.length&&c.marks.forEach(f=>{a===f.type&&n.addMark(u,u+c.nodeSize,a.create(L$(f.attrs,e)))})})}),!0):!1},ECe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),NCe=()=>({tr:t,dispatch:e})=>{if(e){const n=new Ms(t.doc);t.setSelection(n)}return!0},ACe=()=>({state:t,dispatch:e})=>$Y(t,e),kCe=()=>({state:t,dispatch:e})=>UY(t,e),CCe=()=>({state:t,dispatch:e})=>zAe(t,e),TCe=()=>({state:t,dispatch:e})=>HAe(t,e),OCe=()=>({state:t,dispatch:e})=>UAe(t,e);function DT(t,e,n={},r={}){return Iy(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var MCe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=DT(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function IX(t,e){const n=nd(e,t.schema),{from:r,to:i,empty:o}=t.selection,a=[];o?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function LX(t,e){const n=new EP(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function PCe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function FT(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function RCe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function DX(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function U2(t){return e=>DX(e.$from,t)}function en(t,e,n){return t.config[e]===void 0&&t.parent?en(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?en(t.parent,e,n):null}):t.config[e]}function WP(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=en(e,"addExtensions",n);return r?[e,...WP(r())]:e}).flat(10)}function VP(t,e){const n=ip.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function FX(t){return typeof t=="function"}function vr(t,e=void 0,...n){return FX(t)?e?t.bind(e)(...n):t(...n):t}function jCe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ly(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function BX(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ly(t),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=en(a,"addGlobalAttributes",s);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([g,m])=>{e.push({type:f,name:g,attribute:{...o,...m}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=en(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const g={...o,...f};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,e.push({type:a.name,name:u,attribute:g})})}),e}function Fr(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=s.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,g]=u.split(":").map(m=>m.trim());c.set(f,g)}),s.forEach(u=>{const[f,g]=u.split(":").map(m=>m.trim());c.set(f,g)}),r[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else r[i]=o}),r},{})}function Lx(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Fr(n,r),{})}function ICe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function D$(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(n):ICe(n.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...r,...i}}}}function F$(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&jCe(n)?!1:n!=null))}function LCe(t,e){var n;const r=BX(t),{nodeExtensions:i,markExtensions:o}=Ly(t),a=(n=i.find(c=>en(c,"topNode")))==null?void 0:n.name,s=Object.fromEntries(i.map(c=>{const u=r.filter(w=>w.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},g=t.reduce((w,N)=>{const k=en(N,"extendNodeSchema",f);return{...w,...k?k(c):{}}},{}),m=F$({...g,content:vr(en(c,"content",f)),marks:vr(en(c,"marks",f)),group:vr(en(c,"group",f)),inline:vr(en(c,"inline",f)),atom:vr(en(c,"atom",f)),selectable:vr(en(c,"selectable",f)),draggable:vr(en(c,"draggable",f)),code:vr(en(c,"code",f)),whitespace:vr(en(c,"whitespace",f)),linebreakReplacement:vr(en(c,"linebreakReplacement",f)),defining:vr(en(c,"defining",f)),isolating:vr(en(c,"isolating",f)),attrs:Object.fromEntries(u.map(w=>{var N,k;return[w.name,{default:(N=w?.attribute)==null?void 0:N.default,validate:(k=w?.attribute)==null?void 0:k.validate}]}))}),b=vr(en(c,"parseHTML",f));b&&(m.parseDOM=b.map(w=>D$(w,u)));const v=en(c,"renderHTML",f);v&&(m.toDOM=w=>v({node:w,HTMLAttributes:Lx(w,u)}));const y=en(c,"renderText",f);return y&&(m.toText=y),[c.name,m]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(y=>y.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},g=t.reduce((y,w)=>{const N=en(w,"extendMarkSchema",f);return{...y,...N?N(c):{}}},{}),m=F$({...g,inclusive:vr(en(c,"inclusive",f)),excludes:vr(en(c,"excludes",f)),group:vr(en(c,"group",f)),spanning:vr(en(c,"spanning",f)),code:vr(en(c,"code",f)),attrs:Object.fromEntries(u.map(y=>{var w,N;return[y.name,{default:(w=y?.attribute)==null?void 0:w.default,validate:(N=y?.attribute)==null?void 0:N.validate}]}))}),b=vr(en(c,"parseHTML",f));b&&(m.parseDOM=b.map(y=>D$(y,u)));const v=en(c,"renderHTML",f);return v&&(m.toDOM=y=>v({mark:y,HTMLAttributes:Lx(y,u)})),[c.name,m]}));return new yY({topNode:a,nodes:s,marks:l})}function DCe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function KP(t){return t.sort((n,r)=>{const i=en(n,"priority")||100,o=en(r,"priority")||100;return i>o?-1:i<o?1:0})}function $X(t){const e=KP(WP(t)),n=DCe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function zX(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let s="";return t.nodesBetween(r,i,(l,c,u,f)=>{var g;l.isBlock&&c>r&&(s+=o);const m=a?.[l.type.name];if(m)return u&&(s+=m({node:l,pos:c,parent:u,index:f,range:e})),!1;l.isText&&(s+=(g=l?.text)==null?void 0:g.slice(Math.max(r,c)-c,i-c))}),s}function FCe(t,e){const n={from:0,to:t.content.size};return zX(t,n,e)}function qX(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function BCe(t,e){const n=no(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===n.name);return a?{...a.attrs}:{}}function UX(t,e){const n=q2(typeof e=="string"?e:e.name,t.schema);return n==="node"?BCe(t,e):n==="mark"?IX(t,e):{}}function $Ce(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function zCe(t){const e=$Ce(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function HX(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=n[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=e.slice(o).map(s,-1),u=e.slice(o).map(l),f=e.invert().map(c,-1),g=e.invert().map(u);r.push({oldRange:{from:f,to:g},newRange:{from:c,to:u}})})}),zCe(r)}function GP(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),a=UP(o,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}var qCe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,a=null;for(;o>0&&a===null;){const s=i.node(o);s?.type.name===e?a=s:o-=1}return[a,o]};function V5(t,e){return e.nodes[t]||e.marks[t]||null}function l1(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var UCe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,a,s)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),n};function BT(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?nd(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>Ix(f.attrs,n,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:f,$to:g})=>{const m=f.pos,b=g.pos;t.doc.nodesBetween(m,b,(v,y)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(m,y),N=Math.min(b,y+v.nodeSize),k=N-w;a+=k,s.push(...v.marks.map(A=>({mark:A,from:w,to:N})))})}),a===0)return!1;const l=s.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>Ix(f.mark.attrs,n,{strict:!1})).reduce((f,g)=>f+g.to-g.from,0),c=s.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,g)=>f+g.to-g.from,0);return(l>0?l+c:l)>=a}function HCe(t,e,n={}){if(!e)return yf(t,null,n)||BT(t,null,n);const r=q2(e,t.schema);return r==="node"?yf(t,e,n):r==="mark"?BT(t,e,n):!1}var WCe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=U2(s=>s.type.name===e)(t.selection);if(!o)return!1;const a=t.doc.resolve(o.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},VCe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function B$(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function $$(t,e){const{nodeExtensions:n}=Ly(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=vr(en(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function H2(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(H2(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function WX(t){return t instanceof sn}function KCe(t,e,n){var r;const{selection:i}=e;let o=null;if(MX(i)&&(o=i.$cursor),o){const s=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(s)||!s.some(c=>c.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(s.pos,l.pos,(u,f,g)=>{if(c)return!1;if(u.isInline){const m=!g||g.type.allowsMarkType(n),b=!!n.isInSet(u.marks)||!u.marks.some(v=>v.type.excludes(n));c=m&&b}return!c}),c})}var GCe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:a,ranges:s}=o,l=nd(t,r.schema);if(i)if(a){const c=IX(r,l);n.addStoredMark(l.create({...c,...e}))}else s.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(g,m)=>{const b=Math.max(m,u),v=Math.min(m+g.nodeSize,f);g.marks.find(w=>w.type===l)?g.marks.forEach(w=>{l===w.type&&n.addMark(b,v,l.create({...w.attrs,...e}))}):n.addMark(b,v,l.create(e))})});return KCe(r,n,l)},YCe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),XCe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=no(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>t$(o,{...a,...e})(n)?!0:s.clearNodes()).command(({state:s})=>t$(o,{...a,...e})(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},QCe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=vh(t,0,r.content.size),o=sn.create(r,i);e.setSelection(o)}return!0},JCe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,a=cn.atStart(r).from,s=cn.atEnd(r).to,l=vh(i,a,s),c=vh(o,a,s),u=cn.create(r,l,c);e.setSelection(u)}return!0},ZCe=t=>({state:e,dispatch:n})=>{const r=no(t,e.schema);return JAe(r)(e,n)};function z$(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var eTe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:a}=e,{$from:s,$to:l}=o,c=i.extensionManager.attributes,u=l1(c,s.node().type.name,s.node().attrs);if(o instanceof sn&&o.node.isBlock)return!s.parentOffset||!Hu(a,s.pos)?!1:(r&&(t&&z$(n,i.extensionManager.splittableMarks),e.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,g=s.depth===0?void 0:PCe(s.node(-1).contentMatchAt(s.indexAfter(-1)));let m=f&&g?[{type:g,attrs:u}]:void 0,b=Hu(e.doc,e.mapping.map(s.pos),1,m);if(!m&&!b&&Hu(e.doc,e.mapping.map(s.pos),1,g?[{type:g}]:void 0)&&(b=!0,m=g?[{type:g,attrs:u}]:void 0),r){if(b&&(o instanceof cn&&e.deleteSelection(),e.split(e.mapping.map(s.pos),1,m),g&&!f&&!s.parentOffset&&s.parent.type!==g)){const v=e.mapping.map(s.before()),y=e.doc.resolve(v);s.node(-1).canReplaceWith(y.index(),y.index()+1,g)&&e.setNodeMarkup(e.mapping.map(s.before()),g)}t&&z$(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},tTe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;const s=no(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==s)return!1;const g=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let w=Ye.empty;const N=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-N;C>=l.depth-3;C-=1)w=Ye.from(l.node(C).copy(w));const k=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,A={...l1(g,l.node().type.name,l.node().attrs),...e},T=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(A))||void 0;w=w.append(Ye.from(s.createAndFill(null,T)||void 0));const P=l.before(l.depth-(N-1));n.replace(P,l.after(-k),new bt(w,4-N,0));let L=-1;n.doc.nodesBetween(P,n.doc.content.size,(C,M)=>{if(L>-1)return!1;C.isTextblock&&C.content.size===0&&(L=M+1)}),L>-1&&n.setSelection(cn.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const m=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,b={...l1(g,f.type.name,f.attrs),...e},v={...l1(g,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=m?[{type:s,attrs:b},{type:m,attrs:v}]:[{type:s,attrs:b}];if(!Hu(n.doc,l.pos,2))return!1;if(i){const{selection:w,storedMarks:N}=r,{splittableMarks:k}=o.extensionManager,A=N||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!A||!i)return!0;const T=A.filter(P=>k.includes(P.type.name));n.ensureMarks(T)}return!0},K5=(t,e)=>{const n=U2(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&kf(t.doc,n.pos)&&t.join(n.pos),!0},G5=(t,e)=>{const n=U2(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&kf(t.doc,r)&&t.join(r),!0},nTe=(t,e,n,r={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:g}=i.extensionManager,m=no(t,a.schema),b=no(e,a.schema),{selection:v,storedMarks:y}=a,{$from:w,$to:N}=v,k=w.blockRange(N),A=y||v.$to.parentOffset&&v.$from.marks();if(!k)return!1;const T=U2(P=>$$(P.type.name,f))(v);if(k.depth>=1&&T&&k.depth-T.depth<=1){if(T.node.type===m)return c.liftListItem(b);if($$(T.node.type.name,f)&&m.validContent(T.node.content)&&s)return l().command(()=>(o.setNodeMarkup(T.pos,m),!0)).command(()=>K5(o,m)).command(()=>G5(o,m)).run()}return!n||!A||!s?l().command(()=>u().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>K5(o,m)).command(()=>G5(o,m)).run():l().command(()=>{const P=u().wrapInList(m,r),L=A.filter(C=>g.includes(C.type.name));return o.ensureMarks(L),P?!0:c.clearNodes()}).wrapInList(m,r).command(()=>K5(o,m)).command(()=>G5(o,m)).run()},rTe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,a=nd(t,r.schema);return BT(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,e)},iTe=(t,e,n={})=>({state:r,commands:i})=>{const o=no(t,r.schema),a=no(e,r.schema),s=yf(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...n})},oTe=(t,e={})=>({state:n,commands:r})=>{const i=no(t,n.schema);return yf(n,i,e)?r.lift(i):r.wrapIn(i,e)},aTe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const a=t.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},sTe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},lTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:s}=n,l=nd(t,r.schema),{$from:c,empty:u,ranges:f}=s;if(!i)return!0;if(u&&a){let{from:g,to:m}=s;const b=(o=c.marks().find(y=>y.type===l))==null?void 0:o.attrs,v=UP(c,l,b);v&&(g=v.from,m=v.to),n.removeMark(g,m,l)}else f.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,l)});return n.removeStoredMark(l),!0},cTe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=q2(typeof t=="string"?t:t.name,r.schema);return s?(s==="node"&&(o=no(t,r.schema)),s==="mark"&&(a=nd(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,g,m,b;n.selection.empty?r.doc.nodesBetween(c,u,(v,y)=>{o&&o===v.type&&(m=Math.max(y,c),b=Math.min(y+v.nodeSize,u),f=y,g=v)}):r.doc.nodesBetween(c,u,(v,y)=>{y<c&&o&&o===v.type&&(m=Math.max(y,c),b=Math.min(y+v.nodeSize,u),f=y,g=v),y>=c&&y<=u&&(o&&o===v.type&&n.setNodeMarkup(y,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(w=>{if(a===w.type){const N=Math.max(y,c),k=Math.min(y+v.nodeSize,u);n.addMark(N,k,a.create({...w.attrs,...e}))}}))}),g&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...g.attrs,...e}),a&&g.marks.length&&g.marks.forEach(v=>{a===v.type&&n.addMark(m,b,a.create({...v.attrs,...e}))}))}),!0):!1},uTe=(t,e={})=>({state:n,dispatch:r})=>{const i=no(t,n.schema);return WAe(i,e)(n,r)},dTe=(t,e={})=>({state:n,dispatch:r})=>{const i=no(t,n.schema);return VAe(i,e)(n,r)},fTe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},W2=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},hTe=(t,e)=>{if(qP(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Cb(t){var e;const{editor:n,from:r,to:i,text:o,rules:a,plugin:s}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let u=!1;const f=UCe(c)+o;return a.forEach(g=>{if(u)return;const m=hTe(f,g.find);if(!m)return;const b=l.state.tr,v=$2({state:l.state,transaction:b}),y={from:r-(m[0].length-o.length),to:i},{commands:w,chain:N,can:k}=new z2({editor:n,state:v});g.handler({state:v,range:y,match:m,commands:w,chain:N,can:k})===null||!b.steps.length||(g.undoable&&b.setMeta(s,{transform:b,from:r,to:i,text:o}),l.dispatch(b),u=!0)}),u}function pTe(t){const{editor:e,rules:n}=t,r=new ti({state:{init(){return null},apply(i,o,a){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=VP(Ye.from(u),a.schema);const{from:f}=l,g=f+u.length;Cb({editor:e,from:f,to:g,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return Cb({editor:e,from:o,to:a,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Cb({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Cb({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function mTe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Tb(t){return mTe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function VX(t,e){const n={...t};return Tb(t)&&Tb(e)&&Object.keys(e).forEach(r=>{Tb(e[r])&&Tb(t[r])?n[r]=VX(t[r],e[r]):n[r]=e[r]}),n}var YP=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...vr(en(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...vr(en(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>VX(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},rd=class KX extends YP{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new KX(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function gTe(t){return typeof t=="number"}var vTe=class{constructor(t){this.find=t.find,this.handler=t.handler}},yTe=(t,e,n)=>{if(qP(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function bTe(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:a,dropEvent:s}=t,{commands:l,chain:c,can:u}=new z2({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(m,b)=>{var v,y,w,N,k;if((y=(v=m.type)==null?void 0:v.spec)!=null&&y.code||!(m.isText||m.isTextblock||m.isInline))return;const A=(k=(N=(w=m.content)==null?void 0:w.size)!=null?N:m.nodeSize)!=null?k:0,T=Math.max(r,b),P=Math.min(i,b+A);if(T>=P)return;const L=m.isText?m.text||"":m.textBetween(T-b,P-b,void 0,"");yTe(L,o.find,a).forEach(M=>{if(M.index===void 0)return;const q=T+M.index+1,D=q+M[0].length,I={from:n.tr.mapping.map(q),to:n.tr.mapping.map(D)},z=o.handler({state:n,range:I,match:M,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});f.push(z)})}),f.every(m=>m!==null)}var Ob=null,xTe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function wTe(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:u,from:f,to:g,rule:m,pasteEvt:b})=>{const v=u.tr,y=$2({state:u,transaction:v});if(!(!bTe({editor:e,state:y,from:Math.max(f-1,0),to:g.b-1,rule:m,pasteEvent:b,dropEvent:s})||!v.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(u=>new ti({view(f){const g=b=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(b.target)?f.dom.parentElement:null,r&&(Ob=e)},m=()=>{Ob&&(Ob=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(f,g)=>{if(o=r===f.dom.parentElement,s=g,!o){const m=Ob;m?.isEditable&&setTimeout(()=>{const b=m.state.selection;b&&m.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(f,g)=>{var m;const b=(m=g.clipboardData)==null?void 0:m.getData("text/html");return a=g,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(f,g,m)=>{const b=f[0],v=b.getMeta("uiEvent")==="paste"&&!i,y=b.getMeta("uiEvent")==="drop"&&!o,w=b.getMeta("applyPasteRules"),N=!!w;if(!v&&!y&&!N)return;if(N){let{text:T}=w;typeof T=="string"?T=T:T=VP(Ye.from(T),m.schema);const{from:P}=w,L=P+T.length,C=xTe(T);return l({rule:u,state:m,from:P,to:{b:L},pasteEvt:C})}const k=g.doc.content.findDiffStart(m.doc.content),A=g.doc.content.findDiffEnd(m.doc.content);if(!(!gTe(k)||!A||k===A.b))return l({rule:u,state:m,from:k,to:A,pasteEvt:a})}}))}var V2=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=$X(t),this.schema=LCe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:V5(e.name,this.schema)},r=en(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return KP([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:V5(r.name,this.schema)},o=[],a=en(r,"addKeyboardShortcuts",i);let s={};if(r.type==="mark"&&en(r,"exitable",i)&&(s.ArrowRight=()=>rd.handleExit({editor:t,mark:r})),a){const g=Object.fromEntries(Object.entries(a()).map(([m,b])=>[m,()=>b({editor:t})]));s={...s,...g}}const l=$ke(s);o.push(l);const c=en(r,"addInputRules",i);if(B$(r,t.options.enableInputRules)&&c){const g=c();if(g&&g.length){const m=pTe({editor:t,rules:g}),b=Array.isArray(m)?m:[m];o.push(...b)}}const u=en(r,"addPasteRules",i);if(B$(r,t.options.enablePasteRules)&&u){const g=u();if(g&&g.length){const m=wTe({editor:t,rules:g});o.push(...m)}}const f=en(r,"addProseMirrorPlugins",i);if(f){const g=f();o.push(...g)}return o})}get attributes(){return BX(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Ly(this.extensions);return Object.fromEntries(e.filter(n=>!!en(n,"addNodeView")).map(n=>{const r=this.attributes.filter(s=>s.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:no(n.name,this.schema)},o=en(n,"addNodeView",i);if(!o)return[];const a=(s,l,c,u,f)=>{const g=Lx(s,r);return o()({node:s,view:l,getPos:c,decorations:u,innerDecorations:f,editor:t,extension:n,HTMLAttributes:g})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Ly(this.extensions);return Object.fromEntries(e.filter(n=>!!en(n,"addMarkView")).map(n=>{const r=this.attributes.filter(s=>s.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:nd(n.name,this.schema)},o=en(n,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const u=Lx(s,r);return o()({mark:s,view:l,inline:c,editor:t,extension:n,HTMLAttributes:u,updateAttributes:f=>{jTe(s,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:V5(e.name,this.schema)};e.type==="mark"&&((n=vr(en(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=en(e,"onBeforeCreate",r),o=en(e,"onCreate",r),a=en(e,"onUpdate",r),s=en(e,"onSelectionUpdate",r),l=en(e,"onTransaction",r),c=en(e,"onFocus",r),u=en(e,"onBlur",r),f=en(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}};V2.resolve=$X;V2.sort=KP;V2.flatten=WP;var STe={};zP(STe,{ClipboardTextSerializer:()=>YX,Commands:()=>XX,Delete:()=>QX,Drop:()=>JX,Editable:()=>ZX,FocusEvents:()=>tQ,Keymap:()=>nQ,Paste:()=>rQ,Tabindex:()=>iQ,focusEventsPluginKey:()=>eQ});var Mr=class GX extends YP{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new GX(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},YX=Mr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ti({key:new Oi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,a=Math.min(...o.map(u=>u.$from.pos)),s=Math.max(...o.map(u=>u.$to.pos)),l=qX(n);return zX(r,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),XX=Mr.create({name:"commands",addCommands(){return{...TX}}}),QX=Mr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,t))!=null?c:t.getMeta("y-sync$"))return;const u=LX(t.before,[t,...e]);HX(u).forEach(m=>{u.mapping.mapResult(m.oldRange.from).deletedAfter&&u.mapping.mapResult(m.oldRange.to).deletedBefore&&u.before.nodesBetween(m.oldRange.from,m.oldRange.to,(b,v)=>{const y=v+b.nodeSize-2,w=m.oldRange.from<=v&&y<=m.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:v,to:y,newFrom:u.mapping.map(v),newTo:u.mapping.map(y),deletedRange:m.oldRange,newRange:m.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:u})})});const g=u.mapping;u.steps.forEach((m,b)=>{var v,y;if(m instanceof Jl){const w=g.slice(b).map(m.from,-1),N=g.slice(b).map(m.to),k=g.invert().map(w,-1),A=g.invert().map(N),T=(v=u.doc.nodeAt(w-1))==null?void 0:v.marks.some(L=>L.eq(m.mark)),P=(y=u.doc.nodeAt(N))==null?void 0:y.marks.some(L=>L.eq(m.mark));this.editor.emit("delete",{type:"mark",mark:m.mark,from:m.from,to:m.to,deletedRange:{from:k,to:A},newRange:{from:w,to:N},partial:!!(P||T),editor:this.editor,transaction:t,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),JX=Mr.create({name:"drop",addProseMirrorPlugins(){return[new ti({key:new Oi("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),ZX=Mr.create({name:"editable",addProseMirrorPlugins(){return[new ti({key:new Oi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),eQ=new Oi("focusEvents"),tQ=Mr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ti({key:eQ,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),nQ=Mr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:f}=l,{pos:g,parent:m}=f,b=f.parent.isTextblock&&g>0?s.doc.resolve(g-1):f,v=b.parent.type.spec.isolating,y=f.pos-f.parentOffset,w=v&&b.parent.childCount===1?y===f.pos:yn.atStart(c).from===g;return!u||!m.type.isTextblock||m.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return HP()||jX()?o:i},addProseMirrorPlugins(){return[new ti({key:new Oi("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:a,to:s}=e.selection,l=yn.atStart(e.doc).from,c=yn.atEnd(e.doc).to;if(o||!(a===l&&s===c)||!H2(n.doc))return;const g=n.tr,m=$2({state:n,transaction:g}),{commands:b}=new z2({editor:this.editor,state:m});if(b.clearNodes(),!!g.steps.length)return g}})]}}),rQ=Mr.create({name:"paste",addProseMirrorPlugins(){return[new ti({key:new Oi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),iQ=Mr.create({name:"tabindex",addProseMirrorPlugins(){return[new ti({key:new Oi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),_Te=class Gp{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Gp(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Gp(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Gp(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new Gp(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Gp(s,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&o.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},ETe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function NTe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var ATe=class extends fTe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=PX(e,this.options.autofocus);this.editorState=nm.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=NTe(ETe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=FX(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[ZX,YX.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),XX,tQ,nQ,iQ,JX,rQ,QX].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new V2(r,this)}createCommandManager(){this.commandManager=new z2({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=DT(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=DT(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new CX(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a?.getMeta("focus"),l=a?.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return UX(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return HCe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return VP(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return FCe(this.state.doc,{blockSeparator:e,textSerializers:{...qX(this.schema),...n}})}get isEmpty(){return H2(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new _Te(e,this)}get $doc(){return this.$pos(0)}};function Gh(t){return new W2({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vr(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],s=r[0];if(a){const l=s.search(/\S/),c=n.from+s.indexOf(a),u=c+a.length;if(GP(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(v=>v===t.type&&v!==m.mark.type)).filter(m=>m.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const g=n.from+l+a.length;o.addMark(n.from+l,g,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function oQ(t){return new W2({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vr(t.getAttributes,void 0,r)||{},{tr:o}=e,a=n.from;let s=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=a+c;u>s?u=s:s=u+r[1].length;const f=r[0][r[0].length-1];o.insertText(f,a+r[0].length-1),o.replaceWith(u,s,l)}else if(r[0]){const c=t.type.isInline?a:a-1;o.insert(c,t.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()},undoable:t.undoable})}function $T(t){return new W2({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=vr(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function Gm(t){return new W2({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=vr(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),c=l&&_P(l,t.type,o);if(!c)return null;if(a.wrap(l,c),t.keepMarks&&t.editor){const{selection:f,storedMarks:g}=e,{splittableMarks:m}=t.editor.extensionManager,b=g||f.$to.parentOffset&&f.$from.marks();if(b){const v=b.filter(y=>m.includes(y.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const u=a.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&kf(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&a.join(n.from-1)},undoable:t.undoable})}function kTe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof sn){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var CTe={};zP(CTe,{createAtomBlockMarkdownSpec:()=>TTe,createBlockMarkdownSpec:()=>OTe,createInlineMarkdownSpec:()=>RTe,parseAttributes:()=>XP,parseIndentedBlocks:()=>zT,renderNestedMarkdownContent:()=>JP,serializeAttributes:()=>QP});function XP(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));e.class=c.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var f;const g=parseInt(((f=u.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),m=n[g];m&&(e[c]=m.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(e[u]=!0)}),e}function QP(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function TTe(t){const{nodeName:e,name:n,parseAttributes:r=XP,serializeAttributes:i=QP,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=t,l=n||e,c=u=>{if(!s)return u;const f={};return s.forEach(g=>{g in u&&(f[g]=u[g])}),f};return{parseMarkdown:(u,f)=>{const g={...o,...u.attributes};return f.createNode(e,g,[])},markdownTokenizer:{name:e,level:"block",start(u){var f;const g=new RegExp(`^:::${l}(?:\\s|$)`,"m"),m=(f=u.match(g))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(u,f,g){const m=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=u.match(m);if(!b)return;const v=b[1]||"",y=r(v);if(!a.find(N=>!(N in y)))return{type:e,raw:b[0],attributes:y}}},renderMarkdown:u=>{const f=c(u.attrs||{}),g=i(f),m=g?` {${g}}`:"";return`:::${l}${m} :::`}}}function OTe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=XP,serializeAttributes:o=QP,defaultAttributes:a={},content:s="block",allowedAttributes:l}=t,c=n||e,u=f=>{if(!l)return f;const g={};return l.forEach(m=>{m in f&&(g[m]=f[m])}),g};return{parseMarkdown:(f,g)=>{let m;if(r){const v=r(f);m=typeof v=="string"?[{type:"text",text:v}]:v}else s==="block"?m=g.parseChildren(f.tokens||[]):m=g.parseInline(f.tokens||[]);const b={...a,...f.attributes};return g.createNode(e,b,m)},markdownTokenizer:{name:e,level:"block",start(f){var g;const m=new RegExp(`^:::${c}`,"m"),b=(g=f.match(m))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(f,g,m){var b;const v=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=f.match(v);if(!y)return;const[w,N=""]=y,k=i(N);let A=1;const T=w.length;let P="";const L=/^:::([\w-]*)(\s.*)?/gm,C=f.slice(T);for(L.lastIndex=0;;){const M=L.exec(C);if(M===null)break;const q=M.index,D=M[1];if(!((b=M[2])!=null&&b.endsWith(":::"))){if(D)A+=1;else if(A-=1,A===0){const I=C.slice(0,q);P=I.trim();const z=f.slice(0,T+q+M[0].length);let U=[];if(P)if(s==="block")for(U=m.blockTokens(I),U.forEach(Y=>{Y.text&&(!Y.tokens||Y.tokens.length===0)&&(Y.tokens=m.inlineTokens(Y.text))});U.length>0;){const Y=U[U.length-1];if(Y.type==="paragraph"&&(!Y.text||Y.text.trim()===""))U.pop();else break}else U=m.inlineTokens(P);return{type:e,raw:z,attributes:k,content:P,tokens:U}}}}}},renderMarkdown:(f,g)=>{const m=u(f.attrs||{}),b=o(m),v=b?` {${b}}`:"",y=g.renderChildren(f.content||[],`

`);return`:::${c}${v}

${y}

:::`}}}function MTe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,o,a]=r;e[i]=o||a,r=n.exec(t)}return e}function PTe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function RTe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=MTe,serializeAttributes:o=PTe,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=t,c=n||e,u=g=>{if(!l)return g;const m={};return l.forEach(b=>{b in g&&(m[b]=g[b])}),m},f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,m)=>{const b={...a,...g.attributes};if(s)return m.createNode(e,b);const v=r?r(g):g.content||"";return v?m.createNode(e,b,[m.createTextNode(v)]):m.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(g){const m=s?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),b=g.match(m),v=b?.index;return v!==void 0?v:-1},tokenize(g,m,b){const v=s?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),y=g.match(v);if(!y)return;let w="",N="";if(s){const[,A]=y;N=A}else{const[,A,T]=y;N=A,w=T||""}const k=i(N.trim());return{type:e,raw:y[0],content:w.trim(),attributes:k}}},renderMarkdown:g=>{let m="";r?m=r(g):g.content&&g.content.length>0&&(m=g.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const b=u(g.attrs||{}),v=o(b),y=v?` ${v}`:"";return s?`[${c}${y}]`:`[${c}${y}]${m}[/${c}]`}}}function zT(t,e,n){var r,i,o,a;const s=t.split(`
`),l=[];let c="",u=0;const f=e.baseIndentSize||2;for(;u<s.length;){const g=s[u],m=g.match(e.itemPattern);if(!m){if(l.length>0)break;if(g.trim()===""){u+=1;continue}else return}const b=e.extractItemData(m),{indentLevel:v,mainContent:y}=b;c=`${c}${g}
`;const w=[y];for(u+=1;u<s.length;){const T=s[u];if(T.trim()===""){const L=s.slice(u+1).findIndex(q=>q.trim()!=="");if(L===-1)break;if((((i=(r=s[u+1+L].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>v){w.push(T),c=`${c}${T}
`,u+=1;continue}else break}if((((a=(o=T.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>v)w.push(T),c=`${c}${T}
`,u+=1;else break}let N;const k=w.slice(1);if(k.length>0){const T=k.map(P=>P.slice(v+f)).join(`
`);T.trim()&&(e.customNestedParser?N=e.customNestedParser(T):N=n.blockTokens(T))}const A=e.createToken(b,N);l.push(A)}if(l.length!==0)return{items:l,raw:c.trim()}}function JP(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[o,...a]=t.content,s=e.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const u=e.renderChildren([c]);if(u){const f=u.split(`
`).map(g=>g?e.indent(g):"").join(`
`);l.push(f)}}),l.join(`
`)}function jTe(t,e,n={}){const{state:r}=e,{doc:i,tr:o}=r,a=t;i.descendants((s,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+s.nodeSize;let f=null;if(s.marks.forEach(m=>{if(m!==a)return!1;f=m}),!f)return;let g=!1;if(Object.keys(n).forEach(m=>{n[m]!==f.attrs[m]&&(g=!0)}),g){const m=t.type.create({...t.attrs,...n});o.removeMark(c,u,t.type),o.addMark(c,u,m)}}),o.docChanged&&e.view.dispatch(o)}var Ro=class aQ extends YP{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new aQ(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function bf(t){return new vTe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=vr(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:a}=e,s=r[r.length-1],l=r[0];let c=n.to;if(s){const u=l.search(/\S/),f=n.from+l.indexOf(s),g=f+s.length;if(GP(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(y=>y===t.type&&y!==b.mark.type)).filter(b=>b.to>f).length)return null;g<n.to&&a.delete(g,n.to),f>n.from&&a.delete(n.from+u,f),c=n.from+u+s.length,a.addMark(n.from+u,c,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}var Y5,q$;function ITe(){return q$||(q$=1,Y5=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),Y5}var LTe=ITe();const DTe=cr(LTe);var X5={exports:{}},Q5={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U$;function FTe(){if(U$)return Q5;U$=1;var t=zy(),e=F7();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,s=t.useMemo,l=t.useDebugValue;return Q5.useSyncExternalStoreWithSelector=function(c,u,f,g,m){var b=o(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=s(function(){function w(P){if(!N){if(N=!0,k=P,P=g(P),m!==void 0&&v.hasValue){var L=v.value;if(m(L,P))return A=L}return A=P}if(L=A,r(k,P))return L;var C=g(P);return m!==void 0&&m(L,C)?(k=P,L):(k=P,A=C)}var N=!1,k,A,T=f===void 0?null:f;return[function(){return w(u())},T===null?void 0:function(){return w(T())}]},[u,f,g,m]);var y=i(c,b[0],b[1]);return a(function(){v.hasValue=!0,v.value=y},[y]),l(y),y},Q5}var H$;function BTe(){return H$||(H$=1,X5.exports=FTe()),X5.exports}var $Te=BTe(),zTe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},qTe=({contentComponent:t})=>{const e=mw.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return h.jsx(h.Fragment,{children:Object.values(e)})};function UTe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:sz.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var HTe=class extends Ce.Component{constructor(t){var e;super(t),this.editorContentRef=Ce.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=UTe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:zTe(e,this.editorContentRef),...n}),t?.contentComponent&&h.jsx(qTe,{contentComponent:t.contentComponent})]})}},WTe=O.forwardRef((t,e)=>{const n=Ce.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ce.createElement(HTe,{key:n,innerRef:e,...t})}),VTe=Ce.memo(WTe),KTe=typeof window<"u"?O.useLayoutEffect:O.useEffect,GTe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function YTe(t){var e;const[n]=O.useState(()=>new GTe(t.editor)),r=$Te.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:DTe);return KTe(()=>n.watch(t.editor),[t.editor,n]),O.useDebugValue(r),r}var XTe=!1,qT=typeof window>"u",QTe=qT||!!(typeof window<"u"&&window.next),JTe=class sQ{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?qT||QTe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new ATe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var a;return i===((a=n.extensions)==null?void 0:a[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?sQ.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function ZTe(t={},e=[]){const n=O.useRef(t);n.current=t;const[r]=O.useState(()=>new JTe(n)),i=mw.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return O.useDebugValue(i),O.useEffect(r.onRender(e)),YTe({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var eOe=O.createContext({editor:null});eOe.Consumer;var tOe=O.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),nOe=()=>O.useContext(tOe);Ce.forwardRef((t,e)=>{const{onDragStart:n}=nOe(),r=t.as||"div";return h.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ce.createContext({markViewContentRef:()=>{}});var Dx=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},rOe=/^\s*>\s$/,iOe=Ro.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Dx("blockquote",{...Fr(this.options.HTMLAttributes,t),children:Dx("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(i=>{const a=e.renderChildren(i).split(`
`).map(s=>`> ${s}`).join(`
`);n.push(a)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Gm({find:rOe,type:this.type})]}}),oOe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,aOe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sOe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,lOe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,cOe=rd.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Dx("strong",{...Fr(this.options.HTMLAttributes,t),children:Dx("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Gh({find:oOe,type:this.type}),Gh({find:sOe,type:this.type})]},addPasteRules(){return[bf({find:aOe,type:this.type}),bf({find:lOe,type:this.type})]}}),uOe=/(^|[^`])`([^`]+)`(?!`)$/,dOe=/(^|[^`])`([^`]+)`(?!`)/g,fOe=rd.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Gh({find:uOe,type:this.type})]},addPasteRules(){return[bf({find:dOe,type:this.type})]}}),J5=4,hOe=/^```([a-z]+)?[\s\n]$/,pOe=/^~~~([a-z]+)?[\s\n]$/,lQ=Ro.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:J5,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Fr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:J5,{state:r}=t,{selection:i}=r,{$from:o,empty:a}=i;if(o.parent.type!==this.type)return!1;const s=" ".repeat(n);return a?t.commands.insertContent(s):t.commands.command(({tr:l})=>{const{from:c,to:u}=i,m=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(b=>s+b).join(`
`);return l.replaceWith(c,u,r.schema.text(m)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:J5,{state:r}=t,{selection:i}=r,{$from:o,empty:a}=i;return o.parent.type!==this.type?!1:a?t.commands.command(({tr:s})=>{var l;const{pos:c}=o,u=o.start(),f=o.end(),m=r.doc.textBetween(u,f,`
`,`
`).split(`
`);let b=0,v=0;const y=c-u;for(let P=0;P<m.length;P+=1){if(v+m[P].length>=y){b=P;break}v+=m[P].length+1}const N=((l=m[b].match(/^ */))==null?void 0:l[0])||"",k=Math.min(N.length,n);if(k===0)return!0;let A=u;for(let P=0;P<b;P+=1)A+=m[P].length+1;return s.delete(A,A+k),c-A<=k&&s.setSelection(cn.create(s.doc,A)),!0}):t.commands.command(({tr:s})=>{const{from:l,to:c}=i,g=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(m=>{var b;const v=((b=m.match(/^ */))==null?void 0:b[0])||"",y=Math.min(v.length,n);return m.slice(y)}).join(`
`);return s.replaceWith(l,c,r.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:t.chain().command(({tr:s})=>(s.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0?!1:r.nodeAt(s)?t.commands.command(({tr:c})=>(c.setSelection(yn.near(r.resolve(s))),!0)):t.commands.exitCode()}}},addInputRules(){return[$T({find:hOe,type:this.type,getAttributes:t=>({language:t[1]})}),$T({find:pOe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ti({key:new Oi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:a,schema:s}=t.state,l=s.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(cn.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),mOe=lQ,gOe=Ro.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),vOe=Ro.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Fr(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&a){const f=l.filter(g=>s.includes(g.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),yOe=Ro.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Fr(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>$T({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),bOe=Ro.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Fr(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!kTe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return WX(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:a,dispatch:s})=>{if(s){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(cn.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(sn.create(a.doc,l.pos)):a.setSelection(cn.create(a.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,f=u?.create();f&&(a.insert(c,f),a.setSelection(cn.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[oQ({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xOe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,wOe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,SOe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,_Oe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,EOe=rd.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Fr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Gh({find:xOe,type:this.type}),Gh({find:SOe,type:this.type})]},addPasteRules(){return[bf({find:wOe,type:this.type}),bf({find:_Oe,type:this.type})]}});const NOe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",AOe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",UT="numeric",HT="ascii",WT="alpha",Pv="asciinumeric",bv="alphanumeric",VT="domain",cQ="emoji",kOe="scheme",COe="slashscheme",Z5="whitespace";function TOe(t,e){return t in e||(e[t]=[]),e[t]}function yh(t,e,n){e[UT]&&(e[Pv]=!0,e[bv]=!0),e[HT]&&(e[Pv]=!0,e[WT]=!0),e[Pv]&&(e[bv]=!0),e[WT]&&(e[bv]=!0),e[bv]&&(e[VT]=!0),e[cQ]&&(e[VT]=!0);for(const r in e){const i=TOe(r,n);i.indexOf(t)<0&&i.push(t)}}function OOe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ns(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ns.groups={};ns.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||ns.groups;let i;return e&&e.j?i=e:(i=new ns(e),n&&r&&yh(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(t[a]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||ns.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let a,s=i.go(t);if(s?(a=new ns,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new ns,o){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(OOe(a.t,r),n);yh(o,l,r)}else n&&yh(o,n,r);a.t=o}return i.j[t]=a,a}};const Dn=(t,e,n,r,i)=>t.ta(e,n,r,i),Ni=(t,e,n,r,i)=>t.tr(e,n,r,i),W$=(t,e,n,r,i)=>t.ts(e,n,r,i),ot=(t,e,n,r,i)=>t.tt(e,n,r,i),Ru="WORD",KT="UWORD",uQ="ASCIINUMERICAL",dQ="ALPHANUMERICAL",Dy="LOCALHOST",GT="TLD",YT="UTLD",c1="SCHEME",Yp="SLASH_SCHEME",ZP="NUM",XT="WS",eR="NL",Rv="OPENBRACE",jv="CLOSEBRACE",Fx="OPENBRACKET",Bx="CLOSEBRACKET",$x="OPENPAREN",zx="CLOSEPAREN",qx="OPENANGLEBRACKET",Ux="CLOSEANGLEBRACKET",Hx="FULLWIDTHLEFTPAREN",Wx="FULLWIDTHRIGHTPAREN",Vx="LEFTCORNERBRACKET",Kx="RIGHTCORNERBRACKET",Gx="LEFTWHITECORNERBRACKET",Yx="RIGHTWHITECORNERBRACKET",Xx="FULLWIDTHLESSTHAN",Qx="FULLWIDTHGREATERTHAN",Jx="AMPERSAND",Zx="APOSTROPHE",ew="ASTERISK",Hd="AT",tw="BACKSLASH",nw="BACKTICK",rw="CARET",Gd="COLON",tR="COMMA",iw="DOLLAR",Tc="DOT",ow="EQUALS",nR="EXCLAMATION",tl="HYPHEN",Iv="PERCENT",aw="PIPE",sw="PLUS",lw="POUND",Lv="QUERY",rR="QUOTE",fQ="FULLWIDTHMIDDLEDOT",iR="SEMI",Oc="SLASH",Dv="TILDE",cw="UNDERSCORE",hQ="EMOJI",uw="SYM";var pQ=Object.freeze({__proto__:null,ALPHANUMERICAL:dQ,AMPERSAND:Jx,APOSTROPHE:Zx,ASCIINUMERICAL:uQ,ASTERISK:ew,AT:Hd,BACKSLASH:tw,BACKTICK:nw,CARET:rw,CLOSEANGLEBRACKET:Ux,CLOSEBRACE:jv,CLOSEBRACKET:Bx,CLOSEPAREN:zx,COLON:Gd,COMMA:tR,DOLLAR:iw,DOT:Tc,EMOJI:hQ,EQUALS:ow,EXCLAMATION:nR,FULLWIDTHGREATERTHAN:Qx,FULLWIDTHLEFTPAREN:Hx,FULLWIDTHLESSTHAN:Xx,FULLWIDTHMIDDLEDOT:fQ,FULLWIDTHRIGHTPAREN:Wx,HYPHEN:tl,LEFTCORNERBRACKET:Vx,LEFTWHITECORNERBRACKET:Gx,LOCALHOST:Dy,NL:eR,NUM:ZP,OPENANGLEBRACKET:qx,OPENBRACE:Rv,OPENBRACKET:Fx,OPENPAREN:$x,PERCENT:Iv,PIPE:aw,PLUS:sw,POUND:lw,QUERY:Lv,QUOTE:rR,RIGHTCORNERBRACKET:Kx,RIGHTWHITECORNERBRACKET:Yx,SCHEME:c1,SEMI:iR,SLASH:Oc,SLASH_SCHEME:Yp,SYM:uw,TILDE:Dv,TLD:GT,UNDERSCORE:cw,UTLD:YT,UWORD:KT,WORD:Ru,WS:XT});const Ou=/[a-z]/,sv=new RegExp("\\p{L}","u"),ek=new RegExp("\\p{Emoji}","u"),Mu=/\d/,tk=/\s/,V$="\r",nk=`
`,MOe="",POe="",rk="";let Mb=null,Pb=null;function ROe(t=[]){const e={};ns.groups=e;const n=new ns;Mb==null&&(Mb=K$(NOe)),Pb==null&&(Pb=K$(AOe)),ot(n,"'",Zx),ot(n,"{",Rv),ot(n,"}",jv),ot(n,"[",Fx),ot(n,"]",Bx),ot(n,"(",$x),ot(n,")",zx),ot(n,"<",qx),ot(n,">",Ux),ot(n,"",Hx),ot(n,"",Wx),ot(n,"",Vx),ot(n,"",Kx),ot(n,"",Gx),ot(n,"",Yx),ot(n,"",Xx),ot(n,"",Qx),ot(n,"&",Jx),ot(n,"*",ew),ot(n,"@",Hd),ot(n,"`",nw),ot(n,"^",rw),ot(n,":",Gd),ot(n,",",tR),ot(n,"$",iw),ot(n,".",Tc),ot(n,"=",ow),ot(n,"!",nR),ot(n,"-",tl),ot(n,"%",Iv),ot(n,"|",aw),ot(n,"+",sw),ot(n,"#",lw),ot(n,"?",Lv),ot(n,'"',rR),ot(n,"/",Oc),ot(n,";",iR),ot(n,"~",Dv),ot(n,"_",cw),ot(n,"\\",tw),ot(n,"",fQ);const r=Ni(n,Mu,ZP,{[UT]:!0});Ni(r,Mu,r);const i=Ni(r,Ou,uQ,{[Pv]:!0}),o=Ni(r,sv,dQ,{[bv]:!0}),a=Ni(n,Ou,Ru,{[HT]:!0});Ni(a,Mu,i),Ni(a,Ou,a),Ni(i,Mu,i),Ni(i,Ou,i);const s=Ni(n,sv,KT,{[WT]:!0});Ni(s,Ou),Ni(s,Mu,o),Ni(s,sv,s),Ni(o,Mu,o),Ni(o,Ou),Ni(o,sv,o);const l=ot(n,nk,eR,{[Z5]:!0}),c=ot(n,V$,XT,{[Z5]:!0}),u=Ni(n,tk,XT,{[Z5]:!0});ot(n,rk,u),ot(c,nk,l),ot(c,rk,u),Ni(c,tk,u),ot(u,V$),ot(u,nk),Ni(u,tk,u),ot(u,rk,u);const f=Ni(n,ek,hQ,{[cQ]:!0});ot(f,"#"),Ni(f,ek,f),ot(f,MOe,f);const g=ot(f,POe);ot(g,"#"),Ni(g,ek,f);const m=[[Ou,a],[Mu,i]],b=[[Ou,null],[sv,s],[Mu,o]];for(let v=0;v<Mb.length;v++)Fd(n,Mb[v],GT,Ru,m);for(let v=0;v<Pb.length;v++)Fd(n,Pb[v],YT,KT,b);yh(GT,{tld:!0,ascii:!0},e),yh(YT,{utld:!0,alpha:!0},e),Fd(n,"file",c1,Ru,m),Fd(n,"mailto",c1,Ru,m),Fd(n,"http",Yp,Ru,m),Fd(n,"https",Yp,Ru,m),Fd(n,"ftp",Yp,Ru,m),Fd(n,"ftps",Yp,Ru,m),yh(c1,{scheme:!0,ascii:!0},e),yh(Yp,{slashscheme:!0,ascii:!0},e),t=t.sort((v,y)=>v[0]>y[0]?1:-1);for(let v=0;v<t.length;v++){const y=t[v][0],N=t[v][1]?{[kOe]:!0}:{[COe]:!0};y.indexOf("-")>=0?N[VT]=!0:Ou.test(y)?Mu.test(y)?N[Pv]=!0:N[HT]=!0:N[UT]=!0,W$(n,y,y,N)}return W$(n,"localhost",Dy,{ascii:!0}),n.jd=new ns(uw),{start:n,tokens:Object.assign({groups:e},pQ)}}function mQ(t,e){const n=jOe(e.replace(/[A-Z]/g,s=>s.toLowerCase())),r=n.length,i=[];let o=0,a=0;for(;a<r;){let s=t,l=null,c=0,u=null,f=-1,g=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(f=0,g=0,u=s):f>=0&&(f+=n[a].length,g++),c+=n[a].length,o+=n[a].length,a++;o-=f,a-=g,c-=f,i.push({t:u.t,v:e.slice(o-c,o),s:o-c,e:o})}return i}function jOe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,a=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Fd(t,e,n,r,i){let o;const a=e.length;for(let s=0;s<a-1;s++){const l=e[s];t.j[l]?o=t.j[l]:(o=new ns(r),o.jr=i.slice(),t.j[l]=o),t=o}return o=new ns(n),o.jr=i.slice(),t.j[e[a-1]]=o,o}function K$(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Fy={defaultProtocol:"http",events:null,format:G$,formatHref:G$,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function oR(t,e=null){let n=Object.assign({},Fy);t&&(n=Object.assign(n,t instanceof oR?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}oR.prototype={o:Fy,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Fy[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function G$(t){return t}function gQ(t,e){this.t="token",this.v=t,this.tk=e}gQ.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Fy.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),a={},s=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:i,attributes:a,content:o,eventListeners:f}}};function K2(t,e){class n extends gQ{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Y$=K2("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),X$=K2("text"),IOe=K2("nl"),Rb=K2("url",{isLink:!0,toHref(t=Fy.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Dy&&t[1].t===Gd}}),el=t=>new ns(t);function LOe({groups:t}){const e=t.domain.concat([Jx,ew,Hd,tw,nw,rw,iw,ow,tl,ZP,Iv,aw,sw,lw,Oc,uw,Dv,cw]),n=[Zx,Gd,tR,Tc,nR,Iv,Lv,rR,iR,qx,Ux,Rv,jv,Bx,Fx,$x,zx,Hx,Wx,Vx,Kx,Gx,Yx,Xx,Qx],r=[Jx,Zx,ew,tw,nw,rw,iw,ow,tl,Rv,jv,Iv,aw,sw,lw,Lv,Oc,uw,Dv,cw],i=el(),o=ot(i,Dv);Dn(o,r,o),Dn(o,t.domain,o);const a=el(),s=el(),l=el();Dn(i,t.domain,a),Dn(i,t.scheme,s),Dn(i,t.slashscheme,l),Dn(a,r,o),Dn(a,t.domain,a);const c=ot(a,Hd);ot(o,Hd,c),ot(s,Hd,c),ot(l,Hd,c);const u=ot(o,Tc);Dn(u,r,o),Dn(u,t.domain,o);const f=el();Dn(c,t.domain,f),Dn(f,t.domain,f);const g=ot(f,Tc);Dn(g,t.domain,f);const m=el(Y$);Dn(g,t.tld,m),Dn(g,t.utld,m),ot(c,Dy,m);const b=ot(f,tl);ot(b,tl,b),Dn(b,t.domain,f),Dn(m,t.domain,f),ot(m,Tc,g),ot(m,tl,b);const v=ot(m,Gd);Dn(v,t.numeric,Y$);const y=ot(a,tl),w=ot(a,Tc);ot(y,tl,y),Dn(y,t.domain,a),Dn(w,r,o),Dn(w,t.domain,a);const N=el(Rb);Dn(w,t.tld,N),Dn(w,t.utld,N),Dn(N,t.domain,a),Dn(N,r,o),ot(N,Tc,w),ot(N,tl,y),ot(N,Hd,c);const k=ot(N,Gd),A=el(Rb);Dn(k,t.numeric,A);const T=el(Rb),P=el();Dn(T,e,T),Dn(T,n,P),Dn(P,e,T),Dn(P,n,P),ot(N,Oc,T),ot(A,Oc,T);const L=ot(s,Gd),C=ot(l,Gd),M=ot(C,Oc),q=ot(M,Oc);Dn(s,t.domain,a),ot(s,Tc,w),ot(s,tl,y),Dn(l,t.domain,a),ot(l,Tc,w),ot(l,tl,y),Dn(L,t.domain,T),ot(L,Oc,T),ot(L,Lv,T),Dn(q,t.domain,T),Dn(q,e,T),ot(q,Oc,T);const D=[[Rv,jv],[Fx,Bx],[$x,zx],[qx,Ux],[Hx,Wx],[Vx,Kx],[Gx,Yx],[Xx,Qx]];for(let I=0;I<D.length;I++){const[z,U]=D[I],Y=ot(T,z);ot(P,z,Y),ot(Y,U,T);const ne=el(Rb);Dn(Y,e,ne);const W=el();Dn(Y,n),Dn(ne,e,ne),Dn(ne,n,W),Dn(W,e,ne),Dn(W,n,W),ot(ne,U,T),ot(W,U,T)}return ot(i,Dy,N),ot(i,eR,IOe),{start:i,tokens:pQ}}function DOe(t,e,n){let r=n.length,i=0,o=[],a=[];for(;i<r;){let s=t,l=null,c=null,u=0,f=null,g=-1;for(;i<r&&!(l=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||s.go(n[i].t));)l=null,s=c,s.accepts()?(g=0,f=s):g>=0&&g++,i++,u++;if(g<0)i-=u,i<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(ik(X$,e,a)),a=[]),i-=g,u-=g;const m=f.t,b=n.slice(i-u,i);o.push(ik(m,e,b))}}return a.length>0&&o.push(ik(X$,e,a)),o}function ik(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const FOe=typeof console<"u"&&console&&console.warn||(()=>{}),BOe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Jr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function $Oe(){return ns.groups={},Jr.scanner=null,Jr.parser=null,Jr.tokenQueue=[],Jr.pluginQueue=[],Jr.customSchemes=[],Jr.initialized=!1,Jr}function Q$(t,e=!1){if(Jr.initialized&&FOe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${BOe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Jr.customSchemes.push([t,e])}function zOe(){Jr.scanner=ROe(Jr.customSchemes);for(let t=0;t<Jr.tokenQueue.length;t++)Jr.tokenQueue[t][1]({scanner:Jr.scanner});Jr.parser=LOe(Jr.scanner.tokens);for(let t=0;t<Jr.pluginQueue.length;t++)Jr.pluginQueue[t][1]({scanner:Jr.scanner,parser:Jr.parser});return Jr.initialized=!0,Jr}function aR(t){return Jr.initialized||zOe(),DOe(Jr.parser.start,t,mQ(Jr.scanner.start,t))}aR.scan=mQ;function vQ(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new oR(n),i=aR(t),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!e||s.t===e)&&r.check(s)&&o.push(s.toFormattedObject(r))}return o}var sR="[\0- -\u2029]",qOe=new RegExp(sR),UOe=new RegExp(`${sR}$`),HOe=new RegExp(sR,"g");function WOe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function VOe(t){return new ti({key:new Oi("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=e.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,s=LX(n.doc,[...e]);if(HX(s).forEach(({newRange:c})=>{const u=RCe(r.doc,c,m=>m.isTextblock);let f,g;if(u.length>1)f=u[0],g=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(u.length){const m=r.doc.textBetween(c.from,c.to," "," ");if(!UOe.test(m))return;f=u[0],g=r.doc.textBetween(f.pos,c.to,void 0," ")}if(f&&g){const m=g.split(qOe).filter(Boolean);if(m.length<=0)return!1;const b=m[m.length-1],v=f.pos+g.lastIndexOf(b);if(!b)return!1;const y=aR(b).map(w=>w.toObject(t.defaultProtocol));if(!WOe(y))return!1;y.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{GP(w.from,w.to,r.doc).some(N=>N.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function KOe(t){return new ti({key:new Oi("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let u=r.target;const f=[];for(;u.nodeName!=="DIV";)f.push(u),u=u.parentNode;a=f.find(g=>g.nodeName==="A")}if(!a)return!1;const s=UX(e.state,t.type.name),l=(i=a?.href)!=null?i:s.href,c=(o=a?.target)!=null?o:s.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&l?(window.open(l,c),!0):!1}}})}function GOe(t){return new ti({key:new Oi("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=vQ(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function rh(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(HOe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var yQ=rd.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Q$(t);return}Q$(t.scheme,t.optionalSlashes)})},onDestroy(){$Oe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!rh(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!rh(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!rh(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Fr(this.options.HTMLAttributes,t),0]:["a",Fr(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!rh(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!rh(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[bf({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=vQ(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!rh(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(VOe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!rh(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(KOe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(GOe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),YOe=Object.defineProperty,XOe=(t,e)=>{for(var n in e)YOe(t,n,{get:e[n],enumerable:!0})},QOe="listItem",J$="textStyle",Z$=/^\s*([-+*])\s$/,bQ=Ro.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(QOe,this.editor.getAttributes(J$)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Gm({find:Z$,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Gm({find:Z$,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(J$),editor:this.editor})),[t]}}),xQ=Ro.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),s=e.parseChildren(a);n.push(...s)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>JP(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),JOe={};XOe(JOe,{findListItemPos:()=>c0,getNextListDepth:()=>lR,handleBackspace:()=>QT,handleDelete:()=>JT,hasListBefore:()=>wQ,hasListItemAfter:()=>ZOe,hasListItemBefore:()=>SQ,listItemHasSubList:()=>_Q,nextListIsDeeper:()=>EQ,nextListIsHigher:()=>NQ});var c0=(t,e)=>{const{$from:n}=e.selection,r=no(t,e.schema);let i=null,o=n.depth,a=n.pos,s=null;for(;o>0&&s===null;)i=n.node(o),i.type===r?s=o:(o-=1,a-=1);return s===null?null:{$pos:e.doc.resolve(a),depth:s}},lR=(t,e)=>{const n=c0(t,e);if(!n)return!1;const[,r]=qCe(e,t,n.$pos.pos+4);return r},wQ=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},SQ=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},_Q=(t,e,n)=>{if(!n)return!1;const r=no(t,e.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},QT=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!yf(t.state,e)&&wQ(t.state,e,n)){const{$anchor:s}=t.state.selection,l=t.state.doc.resolve(s.before()-1),c=[];l.node().descendants((g,m)=>{g.type.name===e&&c.push({node:g,pos:m})});const u=c.at(-1);if(!u)return!1;const f=t.state.doc.resolve(l.start()+u.pos+1);return t.chain().cut({from:s.start()-1,to:s.end()+1},f.end()).joinForward().run()}if(!yf(t.state,e)||!VCe(t.state))return!1;const r=c0(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=_Q(e,t.state,o);return SQ(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},EQ=(t,e)=>{const n=lR(t,e),r=c0(t,e);return!r||!n?!1:n>r.depth},NQ=(t,e)=>{const n=lR(t,e),r=c0(t,e);return!r||!n?!1:n<r.depth},JT=(t,e)=>{if(!yf(t.state,e)||!WCe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:EQ(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():NQ(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},ZOe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},AQ=Mr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&JT(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&JT(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&QT(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&QT(t,n,r)&&(e=!0)}),e}}}}),e7=/^(\s*)(\d+)\.\s+(.*)$/,eMe=/^\s/;function tMe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],o=i.match(e7);if(!o)break;const[,a,s,l]=o,c=a.length;let u=l,f=n+1;const g=[i];for(;f<t.length;){const m=t[f];if(m.match(e7))break;if(m.trim()==="")g.push(m),u+=`
`,f+=1;else if(m.match(eMe))g.push(m),u+=`
${m.slice(c+2)}`,f+=1;else break}e.push({indent:c,number:parseInt(s,10),content:u.trim(),raw:g.join(`
`)}),r=f,n=f}return[e,r]}function kQ(t,e,n){var r;const i=[];let o=0;for(;o<t.length;){const a=t[o];if(a.indent===e){const s=a.content.split(`
`),l=((r=s[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=s.slice(1).join(`
`).trim();if(u){const m=n.blockTokens(u);c.push(...m)}let f=o+1;const g=[];for(;f<t.length&&t[f].indent>e;)g.push(t[f]),f+=1;if(g.length>0){const m=Math.min(...g.map(v=>v.indent)),b=kQ(g,m,n);c.push({type:"list",ordered:!0,start:g[0].number,items:b,raw:g.map(v=>v.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),o=f}else o+=1}return i}function nMe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var rMe="listItem",t7="textStyle",n7=/^(\d+)\.\s$/,CQ=Ro.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Fr(this.options.HTMLAttributes,n),0]:["ol",Fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?nMe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[o,a]=tMe(i);if(o.length===0)return;const s=kQ(o,0,n);return s.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:s,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(rMe,this.editor.getAttributes(t7)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Gm({find:n7,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Gm({find:n7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(t7)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),iMe=/^\s*(\[([( |x])?\])\s$/,oMe=Ro.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Fr(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return JP(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=u=>{var f,g;s.ariaLabel=((g=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:g.call(f,u,s.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(t),o.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",u=>u.preventDefault()),s.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}const{checked:f}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const m=n();if(typeof m!="number")return!1;const b=g.doc.nodeAt(m);return g.setNodeMarkup(m,void 0,{...b?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,f])=>{i.setAttribute(u,f)}),i.dataset.checked=t.attrs.checked,s.checked=t.attrs.checked,o.append(s,a),i.append(o,l),Object.entries(e).forEach(([u,f])=>{i.setAttribute(u,f)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,s.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Gm({find:iMe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),aMe=Ro.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Fr(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const a=zT(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,l)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:l}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(o)},i=zT(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Mr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(bQ.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(xQ.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(AQ.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(CQ.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(oMe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(aMe.configure(this.options.taskList)),t}});var sMe=Ro.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Fr(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),lMe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,cMe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,uMe=rd.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Fr(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Gh({find:lMe,type:this.type})]},addPasteRules(){return[bf({find:cMe,type:this.type})]}}),dMe=Ro.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),fMe=rd.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Fr(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function hMe(t={}){return new ti({view(e){return new pMe(e,t)}})}class pMe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){let f=e.nodeBefore,g=e.nodeAfter;if(f||g){let m=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(m){let b=m.getBoundingClientRect(),v=f?b.bottom:b.top;f&&g&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*s;r={left:b.left,right:b.right,top:v-y,bottom:v+y}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;r={left:f.left-g,right:f.left+g,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let f=l.getBoundingClientRect(),g=f.width/l.offsetWidth,m=f.height/l.offsetHeight;c=f.left-l.scrollLeft*g,u=f.top-l.scrollTop*m}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-u)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=TY(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ci extends yn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ci.valid(r)?new Ci(r):yn.near(r)}content(){return bt.empty}eq(e){return e instanceof Ci&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ci(e.resolve(n.pos))}getBookmark(){return new cR(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!mMe(e)||!gMe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ci.valid(e))return e;let i=e.pos,o=null;for(let a=e.depth;;a--){let s=e.node(a);if(n>0?e.indexAfter(a)<s.childCount:e.index(a)>0){o=s.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let l=e.doc.resolve(i);if(Ci.valid(l))return l}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!sn.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=a,i+=n;let s=e.doc.resolve(i);if(Ci.valid(s))return s}return null}}}Ci.prototype.visible=!1;Ci.findFrom=Ci.findGapCursorFrom;yn.jsonID("gapcursor",Ci);class cR{constructor(e){this.pos=e}map(e){return new cR(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ci.valid(n)?new Ci(n):yn.near(n)}}function TQ(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function mMe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||TQ(i.type))return!0;if(i.inlineContent)return!1}}return!0}function gMe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||TQ(i.type))return!0;if(i.inlineContent)return!1}}return!0}function vMe(){return new ti({props:{decorations:wMe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ci.valid(n)?new Ci(n):null},handleClick:bMe,handleKeyDown:yMe,handleDOMEvents:{beforeinput:xMe}}})}const yMe=$P({ArrowLeft:jb("horiz",-1),ArrowRight:jb("horiz",1),ArrowUp:jb("vert",-1),ArrowDown:jb("vert",1)});function jb(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let a=r.selection,s=e>0?a.$to:a.$from,l=a.empty;if(a instanceof cn){if(!o.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(e>0?s.after():s.before())}let c=Ci.findGapCursorFrom(s,e,l);return c?(i&&i(r.tr.setSelection(new Ci(c))),!0):!1}}function bMe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ci.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&sn.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ci(r))),!0)}function xMe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ci))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Ye.empty;for(let a=r.length-1;a>=0;a--)i=Ye.from(r[a].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new bt(i,0,0));return o.setSelection(cn.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function wMe(t){if(!(t.selection instanceof Ci))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ir.create(t.doc,[po.widget(t.selection.head,e,{key:"gapcursor"})])}var dw=200,Mo=function(){};Mo.prototype.append=function(e){return e.length?(e=Mo.from(e),!this.length&&e||e.length<dw&&this.leafAppend(e)||this.length<dw&&e.leafPrepend(this)||this.appendInner(e)):this};Mo.prototype.prepend=function(e){return e.length?Mo.from(e).append(this):this};Mo.prototype.appendInner=function(e){return new SMe(this,e)};Mo.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Mo.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Mo.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Mo.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Mo.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},n,r),i};Mo.from=function(e){return e instanceof Mo?e:e&&e.length?new OQ(e):Mo.empty};var OQ=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=dw)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=dw)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Mo);Mo.empty=new OQ([]);var SMe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Mo);const _Me=500;class Kl{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=e.tr,s,l,c=[],u=[];return this.items.forEach((f,g)=>{if(!f.step){i||(i=this.remapping(r,g+1),o=i.maps.length),o--,u.push(f);return}if(i){u.push(new Mc(f.map));let m=f.step.map(i.slice(o)),b;m&&a.maybeStep(m).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],c.push(new Mc(b,void 0,void 0,c.length+u.length))),o--,b&&i.appendMap(b,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new Kl(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(e,n,r,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),g=new Mc(e.mapping.maps[u],f,n),m;(m=l&&l.merge(g))&&(g=m,u?o.pop():s=s.slice(0,s.length-1)),o.push(g),n&&(a++,n=void 0),i||(l=g)}let c=a-r.depth;return c>NMe&&(s=EMe(s,c),a-=c),new Kl(s.append(o),a)}remapping(e,n){let r=new Oy;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Kl(this.items.append(e.map(n=>new Mc(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(g=>{g.selection&&s--},i);let l=n;this.items.forEach(g=>{let m=o.getMirror(--l);if(m==null)return;a=Math.min(a,m);let b=o.maps[m];if(g.step){let v=e.steps[m].invert(e.docs[m]),y=g.selection&&g.selection.map(o.slice(l+1,m));y&&s++,r.push(new Mc(b,v,y))}else r.push(new Mc(b))},i);let c=[];for(let g=n;g<a;g++)c.push(new Mc(o.maps[g]));let u=this.items.slice(0,i).append(c).append(r),f=new Kl(u,s);return f.emptyItemCount()>_Me&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=e)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=a.selection&&a.selection.map(n.slice(r));u&&o++;let f=new Mc(c.invert(),l,u),g,m=i.length-1;(g=i.length&&i[m].merge(f))?i[m]=g:i.push(f)}}else a.map&&r--},this.items.length,0),new Kl(Mo.from(i.reverse()),o)}}Kl.empty=new Kl(Mo.empty,0);function EMe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Mc{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Mc(n.getMap().invert(),n,this.selection)}}}class Wd{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const NMe=20;function AMe(t,e,n,r){let i=n.getMeta(kh),o;if(i)return i.historyState;n.getMeta(TMe)&&(t=new Wd(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(kh))return a.getMeta(kh).redo?new Wd(t.done.addTransform(n,void 0,r,u1(e)),t.undone,r7(n.mapping.maps),t.prevTime,t.prevComposition):new Wd(t.done,t.undone.addTransform(n,void 0,r,u1(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!kMe(n,t.prevRanges)),c=a?ok(t.prevRanges,n.mapping):r7(n.mapping.maps);return new Wd(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,u1(e)),Kl.empty,c,n.time,s??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Wd(t.done.rebased(n,o),t.undone.rebased(n,o),ok(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Wd(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ok(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function kMe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function r7(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,a)=>e.push(o,a));return e}function ok(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function CMe(t,e,n){let r=u1(e),i=kh.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Wd(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(kh,{redo:n,historyState:l})}let ak=!1,i7=null;function u1(t){let e=t.plugins;if(i7!=e){ak=!1,i7=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ak=!0;break}}return ak}const kh=new Oi("history"),TMe=new Oi("closeHistory");function OMe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ti({key:kh,state:{init(){return new Wd(Kl.empty,Kl.empty,null,0,-1)},apply(e,n,r){return AMe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?PQ:r=="historyRedo"?RQ:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function MQ(t,e){return(n,r)=>{let i=kh.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=CMe(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const PQ=MQ(!1,!0),RQ=MQ(!0,!0);Mr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ti({key:new Oi("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(s,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const s=e.selection.$head.pos,l=o-r,c=s-l,u=s;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>r)}})]}});var MMe=Mr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hMe(this.options)]}});Mr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ti({key:new Oi("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return Ir.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(po.node(c,c+l.nodeSize,{class:this.options.className}))}),Ir.create(t,o)}}})]}});var PMe=Mr.create({name:"gapCursor",addProseMirrorPlugins(){return[vMe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=vr(en(t,"allowGapCursor",n)))!=null?e:null}}});Mr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ti({key:new Oi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((a,s)=>{const l=r>=s&&r<=s+a.nodeSize,c=!a.isLeaf&&H2(a);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const f=po.node(s,s+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),Ir.create(t,i)}}})]}});Mr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new ti({key:new Oi("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||WX(n.selection)||t.view.dragging?null:Ir.create(n.doc,[po.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function o7({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var RMe=Mr.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Oi(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new ti({key:e,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,u=e.getState(a),f=s.content.size,g=c.nodes[n];if(u)return l.insert(f,g.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!o7({node:a,types:r})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!o7({node:a,types:r})}}})]}}),jMe=Mr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>PQ(t,e),redo:()=>({state:t,dispatch:e})=>RQ(t,e)}},addProseMirrorPlugins(){return[OMe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),IMe=Mr.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(cOe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(iOe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(bQ.configure(this.options.bulletList)),this.options.code!==!1&&i.push(fOe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(lQ.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(gOe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(MMe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(PMe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(vOe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(yOe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(jMe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(bOe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(EOe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(xQ.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(AQ.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(yQ.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(CQ.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(sMe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(uMe.configure(this.options.strike)),this.options.text!==!1&&i.push(dMe.configure(this.options.text)),this.options.underline!==!1&&i.push(fMe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(RMe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),LMe=IMe,DMe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,FMe=Ro.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Fr(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,o,a;const s=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",c=(a=(o=t.attrs)==null?void 0:o.title)!=null?a:"";return c?`![${l}](${s} "${c}")`:`![${l}](${s})`},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[oQ({find:DMe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),BMe=Mr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),$Me=20,jQ=(t,e=0)=>{const n=[];return!t.children.length||e>$Me||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...jQ(r,e+1))}),n},zMe=t=>{if(!t.children.length)return;const e=jQ(t);e&&e.forEach(n=>{var r,i;const o=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${o}`)})},IQ=rd.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&zMe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Fr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),qMe=Mr.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="background-color")return s.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),LQ=Mr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="color")return s.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),UMe=Mr.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),HMe=Mr.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),WMe=Mr.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Mr.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(qMe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(LQ.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(UMe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(HMe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(WMe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(IQ.configure(this.options.textStyle)),t}});var VMe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,KMe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,GMe=rd.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Fr(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const o=i[2].trim(),a=n.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Gh({find:VMe,type:this.type})]},addPasteRules(){return[bf({find:KMe,type:this.type})]}}),sk,a7;function YMe(){if(a7)return sk;a7=1;function t(ge){return ge instanceof Map?ge.clear=ge.delete=ge.set=function(){throw new Error("map is read-only")}:ge instanceof Set&&(ge.add=ge.clear=ge.delete=function(){throw new Error("set is read-only")}),Object.freeze(ge),Object.getOwnPropertyNames(ge).forEach(qe=>{const nt=ge[qe],Xt=typeof nt;(Xt==="object"||Xt==="function")&&!Object.isFrozen(nt)&&t(nt)}),ge}class e{constructor(qe){qe.data===void 0&&(qe.data={}),this.data=qe.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(ge){return ge.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(ge,...qe){const nt=Object.create(null);for(const Xt in ge)nt[Xt]=ge[Xt];return qe.forEach(function(Xt){for(const Ln in Xt)nt[Ln]=Xt[Ln]}),nt}const i="</span>",o=ge=>!!ge.scope,a=(ge,{prefix:qe})=>{if(ge.startsWith("language:"))return ge.replace("language:","language-");if(ge.includes(".")){const nt=ge.split(".");return[`${qe}${nt.shift()}`,...nt.map((Xt,Ln)=>`${Xt}${"_".repeat(Ln+1)}`)].join(" ")}return`${qe}${ge}`};class s{constructor(qe,nt){this.buffer="",this.classPrefix=nt.classPrefix,qe.walk(this)}addText(qe){this.buffer+=n(qe)}openNode(qe){if(!o(qe))return;const nt=a(qe.scope,{prefix:this.classPrefix});this.span(nt)}closeNode(qe){o(qe)&&(this.buffer+=i)}value(){return this.buffer}span(qe){this.buffer+=`<span class="${qe}">`}}const l=(ge={})=>{const qe={children:[]};return Object.assign(qe,ge),qe};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(qe){this.top.children.push(qe)}openNode(qe){const nt=l({scope:qe});this.add(nt),this.stack.push(nt)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(qe){return this.constructor._walk(qe,this.rootNode)}static _walk(qe,nt){return typeof nt=="string"?qe.addText(nt):nt.children&&(qe.openNode(nt),nt.children.forEach(Xt=>this._walk(qe,Xt)),qe.closeNode(nt)),qe}static _collapse(qe){typeof qe!="string"&&qe.children&&(qe.children.every(nt=>typeof nt=="string")?qe.children=[qe.children.join("")]:qe.children.forEach(nt=>{c._collapse(nt)}))}}class u extends c{constructor(qe){super(),this.options=qe}addText(qe){qe!==""&&this.add(qe)}startScope(qe){this.openNode(qe)}endScope(){this.closeNode()}__addSublanguage(qe,nt){const Xt=qe.root;nt&&(Xt.scope=`language:${nt}`),this.add(Xt)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function f(ge){return ge?typeof ge=="string"?ge:ge.source:null}function g(ge){return v("(?=",ge,")")}function m(ge){return v("(?:",ge,")*")}function b(ge){return v("(?:",ge,")?")}function v(...ge){return ge.map(nt=>f(nt)).join("")}function y(ge){const qe=ge[ge.length-1];return typeof qe=="object"&&qe.constructor===Object?(ge.splice(ge.length-1,1),qe):{}}function w(...ge){return"("+(y(ge).capture?"":"?:")+ge.map(Xt=>f(Xt)).join("|")+")"}function N(ge){return new RegExp(ge.toString()+"|").exec("").length-1}function k(ge,qe){const nt=ge&&ge.exec(qe);return nt&&nt.index===0}const A=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function T(ge,{joinWith:qe}){let nt=0;return ge.map(Xt=>{nt+=1;const Ln=nt;let ht=f(Xt),ct="";for(;ht.length>0;){const ft=A.exec(ht);if(!ft){ct+=ht;break}ct+=ht.substring(0,ft.index),ht=ht.substring(ft.index+ft[0].length),ft[0][0]==="\\"&&ft[1]?ct+="\\"+String(Number(ft[1])+Ln):(ct+=ft[0],ft[0]==="("&&nt++)}return ct}).map(Xt=>`(${Xt})`).join(qe)}const P=/\b\B/,L="[a-zA-Z]\\w*",C="[a-zA-Z_]\\w*",M="\\b\\d+(\\.\\d+)?",q="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",D="\\b(0b[01]+)",I="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",z=(ge={})=>{const qe=/^#![ ]*\//;return ge.binary&&(ge.begin=v(qe,/.*\b/,ge.binary,/\b.*/)),r({scope:"meta",begin:qe,end:/$/,relevance:0,"on:begin":(nt,Xt)=>{nt.index!==0&&Xt.ignoreMatch()}},ge)},U={begin:"\\\\[\\s\\S]",relevance:0},Y={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[U]},ne={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[U]},W={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},G=function(ge,qe,nt={}){const Xt=r({scope:"comment",begin:ge,end:qe,contains:[]},nt);Xt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Ln=w("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Xt.contains.push({begin:v(/[ ]+/,"(",Ln,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Xt},K=G("//","$"),fe=G("/\\*","\\*/"),X=G("#","$"),F={scope:"number",begin:M,relevance:0},V={scope:"number",begin:q,relevance:0},ee={scope:"number",begin:D,relevance:0},ie={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[U,{begin:/\[/,end:/\]/,relevance:0,contains:[U]}]},ue={scope:"title",begin:L,relevance:0},he={scope:"title",begin:C,relevance:0},me={begin:"\\.\\s*"+C,relevance:0};var be=Object.freeze({__proto__:null,APOS_STRING_MODE:Y,BACKSLASH_ESCAPE:U,BINARY_NUMBER_MODE:ee,BINARY_NUMBER_RE:D,COMMENT:G,C_BLOCK_COMMENT_MODE:fe,C_LINE_COMMENT_MODE:K,C_NUMBER_MODE:V,C_NUMBER_RE:q,END_SAME_AS_BEGIN:function(ge){return Object.assign(ge,{"on:begin":(qe,nt)=>{nt.data._beginMatch=qe[1]},"on:end":(qe,nt)=>{nt.data._beginMatch!==qe[1]&&nt.ignoreMatch()}})},HASH_COMMENT_MODE:X,IDENT_RE:L,MATCH_NOTHING_RE:P,METHOD_GUARD:me,NUMBER_MODE:F,NUMBER_RE:M,PHRASAL_WORDS_MODE:W,QUOTE_STRING_MODE:ne,REGEXP_MODE:ie,RE_STARTERS_RE:I,SHEBANG:z,TITLE_MODE:ue,UNDERSCORE_IDENT_RE:C,UNDERSCORE_TITLE_MODE:he});function Se(ge,qe){ge.input[ge.index-1]==="."&&qe.ignoreMatch()}function xe(ge,qe){ge.className!==void 0&&(ge.scope=ge.className,delete ge.className)}function Le(ge,qe){qe&&ge.beginKeywords&&(ge.begin="\\b("+ge.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",ge.__beforeBegin=Se,ge.keywords=ge.keywords||ge.beginKeywords,delete ge.beginKeywords,ge.relevance===void 0&&(ge.relevance=0))}function Ne(ge,qe){Array.isArray(ge.illegal)&&(ge.illegal=w(...ge.illegal))}function se(ge,qe){if(ge.match){if(ge.begin||ge.end)throw new Error("begin & end are not supported with match");ge.begin=ge.match,delete ge.match}}function ze(ge,qe){ge.relevance===void 0&&(ge.relevance=1)}const st=(ge,qe)=>{if(!ge.beforeMatch)return;if(ge.starts)throw new Error("beforeMatch cannot be used with starts");const nt=Object.assign({},ge);Object.keys(ge).forEach(Xt=>{delete ge[Xt]}),ge.keywords=nt.keywords,ge.begin=v(nt.beforeMatch,g(nt.begin)),ge.starts={relevance:0,contains:[Object.assign(nt,{endsParent:!0})]},ge.relevance=0,delete nt.beforeMatch},Ge=["of","and","for","in","not","or","if","then","parent","list","value"],Fe="keyword";function lt(ge,qe,nt=Fe){const Xt=Object.create(null);return typeof ge=="string"?Ln(nt,ge.split(" ")):Array.isArray(ge)?Ln(nt,ge):Object.keys(ge).forEach(function(ht){Object.assign(Xt,lt(ge[ht],qe,ht))}),Xt;function Ln(ht,ct){qe&&(ct=ct.map(ft=>ft.toLowerCase())),ct.forEach(function(ft){const Pt=ft.split("|");Xt[Pt[0]]=[ht,Ze(Pt[0],Pt[1])]})}}function Ze(ge,qe){return qe?Number(qe):Et(ge)?0:1}function Et(ge){return Ge.includes(ge.toLowerCase())}const St={},It=ge=>{console.error(ge)},Tt=(ge,...qe)=>{console.log(`WARN: ${ge}`,...qe)},xt=(ge,qe)=>{St[`${ge}/${qe}`]||(console.log(`Deprecated as of ${ge}. ${qe}`),St[`${ge}/${qe}`]=!0)},rn=new Error;function Lt(ge,qe,{key:nt}){let Xt=0;const Ln=ge[nt],ht={},ct={};for(let ft=1;ft<=qe.length;ft++)ct[ft+Xt]=Ln[ft],ht[ft+Xt]=!0,Xt+=N(qe[ft-1]);ge[nt]=ct,ge[nt]._emit=ht,ge[nt]._multi=!0}function Mt(ge){if(Array.isArray(ge.begin)){if(ge.skip||ge.excludeBegin||ge.returnBegin)throw It("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),rn;if(typeof ge.beginScope!="object"||ge.beginScope===null)throw It("beginScope must be object"),rn;Lt(ge,ge.begin,{key:"beginScope"}),ge.begin=T(ge.begin,{joinWith:""})}}function Gt(ge){if(Array.isArray(ge.end)){if(ge.skip||ge.excludeEnd||ge.returnEnd)throw It("skip, excludeEnd, returnEnd not compatible with endScope: {}"),rn;if(typeof ge.endScope!="object"||ge.endScope===null)throw It("endScope must be object"),rn;Lt(ge,ge.end,{key:"endScope"}),ge.end=T(ge.end,{joinWith:""})}}function wt(ge){ge.scope&&typeof ge.scope=="object"&&ge.scope!==null&&(ge.beginScope=ge.scope,delete ge.scope)}function _n(ge){wt(ge),typeof ge.beginScope=="string"&&(ge.beginScope={_wrap:ge.beginScope}),typeof ge.endScope=="string"&&(ge.endScope={_wrap:ge.endScope}),Mt(ge),Gt(ge)}function Cn(ge){function qe(ct,ft){return new RegExp(f(ct),"m"+(ge.case_insensitive?"i":"")+(ge.unicodeRegex?"u":"")+(ft?"g":""))}class nt{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ft,Pt){Pt.position=this.position++,this.matchIndexes[this.matchAt]=Pt,this.regexes.push([Pt,ft]),this.matchAt+=N(ft)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ft=this.regexes.map(Pt=>Pt[1]);this.matcherRe=qe(T(ft,{joinWith:"|"}),!0),this.lastIndex=0}exec(ft){this.matcherRe.lastIndex=this.lastIndex;const Pt=this.matcherRe.exec(ft);if(!Pt)return null;const Kn=Pt.findIndex((yr,Br)=>Br>0&&yr!==void 0),dn=this.matchIndexes[Kn];return Pt.splice(0,Kn),Object.assign(Pt,dn)}}class Xt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ft){if(this.multiRegexes[ft])return this.multiRegexes[ft];const Pt=new nt;return this.rules.slice(ft).forEach(([Kn,dn])=>Pt.addRule(Kn,dn)),Pt.compile(),this.multiRegexes[ft]=Pt,Pt}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ft,Pt){this.rules.push([ft,Pt]),Pt.type==="begin"&&this.count++}exec(ft){const Pt=this.getMatcher(this.regexIndex);Pt.lastIndex=this.lastIndex;let Kn=Pt.exec(ft);if(this.resumingScanAtSamePosition()&&!(Kn&&Kn.index===this.lastIndex)){const dn=this.getMatcher(0);dn.lastIndex=this.lastIndex+1,Kn=dn.exec(ft)}return Kn&&(this.regexIndex+=Kn.position+1,this.regexIndex===this.count&&this.considerAll()),Kn}}function Ln(ct){const ft=new Xt;return ct.contains.forEach(Pt=>ft.addRule(Pt.begin,{rule:Pt,type:"begin"})),ct.terminatorEnd&&ft.addRule(ct.terminatorEnd,{type:"end"}),ct.illegal&&ft.addRule(ct.illegal,{type:"illegal"}),ft}function ht(ct,ft){const Pt=ct;if(ct.isCompiled)return Pt;[xe,se,_n,st].forEach(dn=>dn(ct,ft)),ge.compilerExtensions.forEach(dn=>dn(ct,ft)),ct.__beforeBegin=null,[Le,Ne,ze].forEach(dn=>dn(ct,ft)),ct.isCompiled=!0;let Kn=null;return typeof ct.keywords=="object"&&ct.keywords.$pattern&&(ct.keywords=Object.assign({},ct.keywords),Kn=ct.keywords.$pattern,delete ct.keywords.$pattern),Kn=Kn||/\w+/,ct.keywords&&(ct.keywords=lt(ct.keywords,ge.case_insensitive)),Pt.keywordPatternRe=qe(Kn,!0),ft&&(ct.begin||(ct.begin=/\B|\b/),Pt.beginRe=qe(Pt.begin),!ct.end&&!ct.endsWithParent&&(ct.end=/\B|\b/),ct.end&&(Pt.endRe=qe(Pt.end)),Pt.terminatorEnd=f(Pt.end)||"",ct.endsWithParent&&ft.terminatorEnd&&(Pt.terminatorEnd+=(ct.end?"|":"")+ft.terminatorEnd)),ct.illegal&&(Pt.illegalRe=qe(ct.illegal)),ct.contains||(ct.contains=[]),ct.contains=[].concat(...ct.contains.map(function(dn){return mn(dn==="self"?ct:dn)})),ct.contains.forEach(function(dn){ht(dn,Pt)}),ct.starts&&ht(ct.starts,ft),Pt.matcher=Ln(Pt),Pt}if(ge.compilerExtensions||(ge.compilerExtensions=[]),ge.contains&&ge.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return ge.classNameAliases=r(ge.classNameAliases||{}),ht(ge)}function At(ge){return ge?ge.endsWithParent||At(ge.starts):!1}function mn(ge){return ge.variants&&!ge.cachedVariants&&(ge.cachedVariants=ge.variants.map(function(qe){return r(ge,{variants:null},qe)})),ge.cachedVariants?ge.cachedVariants:At(ge)?r(ge,{starts:ge.starts?r(ge.starts):null}):Object.isFrozen(ge)?r(ge):ge}var Gn="11.11.1";class Jt extends Error{constructor(qe,nt){super(qe),this.name="HTMLInjectionError",this.html=nt}}const En=n,un=r,ur=Symbol("nomatch"),ye=7,tt=function(ge){const qe=Object.create(null),nt=Object.create(null),Xt=[];let Ln=!0;const ht="Could not find the language '{}', did you forget to load/include a language module?",ct={disableAutodetect:!0,name:"Plain text",contains:[]};let ft={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function Pt(it){return ft.noHighlightRe.test(it)}function Kn(it){let qt=it.className+" ";qt+=it.parentNode?it.parentNode.className:"";const Nn=ft.languageDetectRe.exec(qt);if(Nn){const jn=vo(Nn[1]);return jn||(Tt(ht.replace("{}",Nn[1])),Tt("Falling back to no-highlight mode for this block.",it)),jn?Nn[1]:"no-highlight"}return qt.split(/\s+/).find(jn=>Pt(jn)||vo(jn))}function dn(it,qt,Nn){let jn="",$r="";typeof qt=="object"?(jn=it,Nn=qt.ignoreIllegals,$r=qt.language):(xt("10.7.0","highlight(lang, code, ...args) has been deprecated."),xt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),$r=it,jn=qt),Nn===void 0&&(Nn=!0);const dr={code:jn,language:$r};qi("before:highlight",dr);const qa=dr.result?dr.result:yr(dr.language,dr.code,Nn);return qa.code=dr.code,qi("after:highlight",qa),qa}function yr(it,qt,Nn,jn){const $r=Object.create(null);function dr(ut,_t){return ut.keywords[_t]}function qa(){if(!on.keywords){Gr.addText(Xn);return}let ut=0;on.keywordPatternRe.lastIndex=0;let _t=on.keywordPatternRe.exec(Xn),ln="";for(;_t;){ln+=Xn.substring(ut,_t.index);const mt=ui.case_insensitive?_t[0].toLowerCase():_t[0],zr=dr(on,mt);if(zr){const[yi,Tf]=zr;if(Gr.addText(ln),ln="",$r[mt]=($r[mt]||0)+1,$r[mt]<=ye&&(Sl+=Tf),yi.startsWith("_"))ln+=_t[0];else{const sd=ui.classNameAliases[yi]||yi;Hi(_t[0],sd)}}else ln+=_t[0];ut=on.keywordPatternRe.lastIndex,_t=on.keywordPatternRe.exec(Xn)}ln+=Xn.substring(ut),Gr.addText(ln)}function Pr(){if(Xn==="")return;let ut=null;if(typeof on.subLanguage=="string"){if(!qe[on.subLanguage]){Gr.addText(Xn);return}ut=yr(on.subLanguage,Xn,!0,wl[on.subLanguage]),wl[on.subLanguage]=ut._top}else ut=wa(Xn,on.subLanguage.length?on.subLanguage:null);on.relevance>0&&(Sl+=ut.relevance),Gr.__addSublanguage(ut._emitter,ut.language)}function Ui(){on.subLanguage!=null?Pr():qa(),Xn=""}function Hi(ut,_t){ut!==""&&(Gr.startScope(_t),Gr.addText(ut),Gr.endScope())}function Io(ut,_t){let ln=1;const mt=_t.length-1;for(;ln<=mt;){if(!ut._emit[ln]){ln++;continue}const zr=ui.classNameAliases[ut[ln]]||ut[ln],yi=_t[ln];zr?Hi(yi,zr):(Xn=yi,qa(),Xn=""),ln++}}function Xo(ut,_t){return ut.scope&&typeof ut.scope=="string"&&Gr.openNode(ui.classNameAliases[ut.scope]||ut.scope),ut.beginScope&&(ut.beginScope._wrap?(Hi(Xn,ui.classNameAliases[ut.beginScope._wrap]||ut.beginScope._wrap),Xn=""):ut.beginScope._multi&&(Io(ut.beginScope,_t),Xn="")),on=Object.create(ut,{parent:{value:on}}),on}function ro(ut,_t,ln){let mt=k(ut.endRe,ln);if(mt){if(ut["on:end"]){const zr=new e(ut);ut["on:end"](_t,zr),zr.isMatchIgnored&&(mt=!1)}if(mt){for(;ut.endsParent&&ut.parent;)ut=ut.parent;return ut}}if(ut.endsWithParent)return ro(ut.parent,_t,ln)}function bl(ut){return on.matcher.regexIndex===0?(Xn+=ut[0],1):(Lo=!0,0)}function Kr(ut){const _t=ut[0],ln=ut.rule,mt=new e(ln),zr=[ln.__beforeBegin,ln["on:begin"]];for(const yi of zr)if(yi&&(yi(ut,mt),mt.isMatchIgnored))return bl(_t);return ln.skip?Xn+=_t:(ln.excludeBegin&&(Xn+=_t),Ui(),!ln.returnBegin&&!ln.excludeBegin&&(Xn=_t)),Xo(ln,ut),ln.returnBegin?0:_t.length}function xl(ut){const _t=ut[0],ln=qt.substring(ut.index),mt=ro(on,ut,ln);if(!mt)return ur;const zr=on;on.endScope&&on.endScope._wrap?(Ui(),Hi(_t,on.endScope._wrap)):on.endScope&&on.endScope._multi?(Ui(),Io(on.endScope,ut)):zr.skip?Xn+=_t:(zr.returnEnd||zr.excludeEnd||(Xn+=_t),Ui(),zr.excludeEnd&&(Xn=_t));do on.scope&&Gr.closeNode(),!on.skip&&!on.subLanguage&&(Sl+=on.relevance),on=on.parent;while(on!==mt.parent);return mt.starts&&Xo(mt.starts,ut),zr.returnEnd?0:_t.length}function ad(){const ut=[];for(let _t=on;_t!==ui;_t=_t.parent)_t.scope&&ut.unshift(_t.scope);ut.forEach(_t=>Gr.openNode(_t))}let Ls={};function Ds(ut,_t){const ln=_t&&_t[0];if(Xn+=ut,ln==null)return Ui(),0;if(Ls.type==="begin"&&_t.type==="end"&&Ls.index===_t.index&&ln===""){if(Xn+=qt.slice(_t.index,_t.index+1),!Ln){const mt=new Error(`0 width match regex (${it})`);throw mt.languageName=it,mt.badRule=Ls.rule,mt}return 1}if(Ls=_t,_t.type==="begin")return Kr(_t);if(_t.type==="illegal"&&!Nn){const mt=new Error('Illegal lexeme "'+ln+'" for mode "'+(on.scope||"<unnamed>")+'"');throw mt.mode=on,mt}else if(_t.type==="end"){const mt=xl(_t);if(mt!==ur)return mt}if(_t.type==="illegal"&&ln==="")return Xn+=`
`,1;if(_a>1e5&&_a>_t.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Xn+=ln,ln.length}const ui=vo(it);if(!ui)throw It(ht.replace("{}",it)),new Error('Unknown language: "'+it+'"');const dc=Cn(ui);let zn="",on=jn||dc;const wl={},Gr=new ft.__emitter(ft);ad();let Xn="",Sl=0,Qo=0,_a=0,Lo=!1;try{if(ui.__emitTokens)ui.__emitTokens(qt,Gr);else{for(on.matcher.considerAll();;){_a++,Lo?Lo=!1:on.matcher.considerAll(),on.matcher.lastIndex=Qo;const ut=on.matcher.exec(qt);if(!ut)break;const _t=qt.substring(Qo,ut.index),ln=Ds(_t,ut);Qo=ut.index+ln}Ds(qt.substring(Qo))}return Gr.finalize(),zn=Gr.toHTML(),{language:it,value:zn,relevance:Sl,illegal:!1,_emitter:Gr,_top:on}}catch(ut){if(ut.message&&ut.message.includes("Illegal"))return{language:it,value:En(qt),illegal:!0,relevance:0,_illegalBy:{message:ut.message,index:Qo,context:qt.slice(Qo-100,Qo+100),mode:ut.mode,resultSoFar:zn},_emitter:Gr};if(Ln)return{language:it,value:En(qt),illegal:!1,relevance:0,errorRaised:ut,_emitter:Gr,_top:on};throw ut}}function Br(it){const qt={value:En(it),illegal:!1,relevance:0,_top:ct,_emitter:new ft.__emitter(ft)};return qt._emitter.addText(it),qt}function wa(it,qt){qt=qt||ft.languages||Object.keys(qe);const Nn=Br(it),jn=qt.filter(vo).filter(id).map(Ui=>yr(Ui,it,!1));jn.unshift(Nn);const $r=jn.sort((Ui,Hi)=>{if(Ui.relevance!==Hi.relevance)return Hi.relevance-Ui.relevance;if(Ui.language&&Hi.language){if(vo(Ui.language).supersetOf===Hi.language)return 1;if(vo(Hi.language).supersetOf===Ui.language)return-1}return 0}),[dr,qa]=$r,Pr=dr;return Pr.secondBest=qa,Pr}function Rs(it,qt,Nn){const jn=qt&&nt[qt]||Nn;it.classList.add("hljs"),it.classList.add(`language-${jn}`)}function jo(it){let qt=null;const Nn=Kn(it);if(Pt(Nn))return;if(qi("before:highlightElement",{el:it,language:Nn}),it.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",it);return}if(it.children.length>0&&(ft.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(it)),ft.throwUnescapedHTML))throw new Jt("One of your code blocks includes unescaped HTML.",it.innerHTML);qt=it;const jn=qt.textContent,$r=Nn?dn(jn,{language:Nn,ignoreIllegals:!0}):wa(jn);it.innerHTML=$r.value,it.dataset.highlighted="yes",Rs(it,Nn,$r.language),it.result={language:$r.language,re:$r.relevance,relevance:$r.relevance},$r.secondBest&&(it.secondBest={language:$r.secondBest.language,relevance:$r.secondBest.relevance}),qi("after:highlightElement",{el:it,result:$r,text:jn})}function $a(it){ft=un(ft,it)}const Mi=()=>{za(),xt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Yo(){za(),xt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let go=!1;function za(){function it(){za()}if(document.readyState==="loading"){go||window.addEventListener("DOMContentLoaded",it,!1),go=!0;return}document.querySelectorAll(ft.cssSelector).forEach(jo)}function Sa(it,qt){let Nn=null;try{Nn=qt(ge)}catch(jn){if(It("Language definition for '{}' could not be registered.".replace("{}",it)),Ln)It(jn);else throw jn;Nn=ct}Nn.name||(Nn.name=it),qe[it]=Nn,Nn.rawDefinition=qt.bind(null,ge),Nn.aliases&&yl(Nn.aliases,{languageName:it})}function js(it){delete qe[it];for(const qt of Object.keys(nt))nt[qt]===it&&delete nt[qt]}function vl(){return Object.keys(qe)}function vo(it){return it=(it||"").toLowerCase(),qe[it]||qe[nt[it]]}function yl(it,{languageName:qt}){typeof it=="string"&&(it=[it]),it.forEach(Nn=>{nt[Nn.toLowerCase()]=qt})}function id(it){const qt=vo(it);return qt&&!qt.disableAutodetect}function br(it){it["before:highlightBlock"]&&!it["before:highlightElement"]&&(it["before:highlightElement"]=qt=>{it["before:highlightBlock"](Object.assign({block:qt.el},qt))}),it["after:highlightBlock"]&&!it["after:highlightElement"]&&(it["after:highlightElement"]=qt=>{it["after:highlightBlock"](Object.assign({block:qt.el},qt))})}function od(it){br(it),Xt.push(it)}function uc(it){const qt=Xt.indexOf(it);qt!==-1&&Xt.splice(qt,1)}function qi(it,qt){const Nn=it;Xt.forEach(function(jn){jn[Nn]&&jn[Nn](qt)})}function Is(it){return xt("10.7.0","highlightBlock will be removed entirely in v12.0"),xt("10.7.0","Please use highlightElement now."),jo(it)}Object.assign(ge,{highlight:dn,highlightAuto:wa,highlightAll:za,highlightElement:jo,highlightBlock:Is,configure:$a,initHighlighting:Mi,initHighlightingOnLoad:Yo,registerLanguage:Sa,unregisterLanguage:js,listLanguages:vl,getLanguage:vo,registerAliases:yl,autoDetection:id,inherit:un,addPlugin:od,removePlugin:uc}),ge.debugMode=function(){Ln=!1},ge.safeMode=function(){Ln=!0},ge.versionString=Gn,ge.regex={concat:v,lookahead:g,either:w,optional:b,anyNumberOfTimes:m};for(const it in be)typeof be[it]=="object"&&t(be[it]);return Object.assign(ge,be),ge},yt=tt({});return yt.newInstance=()=>tt({}),sk=yt,yt.HighlightJS=yt,yt.default=yt,sk}var XMe=YMe();const DQ=cr(XMe);function FQ(t,e=[]){return t.flatMap(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?FQ(n.children,r):{text:n.value,classes:r}})}function s7(t){return t.value||t.children||[]}function QMe(t){return!!DQ.getLanguage(t)}function l7({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return FT(t,o=>o.type.name===e).forEach(o=>{var a;let s=o.pos+1;const l=o.node.attrs.language||r,c=n.listLanguages(),u=l&&(c.includes(l)||QMe(l)||(a=n.registered)!=null&&a.call(n,l))?s7(n.highlight(l,o.node.textContent)):s7(n.highlightAuto(o.node.textContent));FQ(u).forEach(f=>{const g=s+f.text.length;if(f.classes.length){const m=po.inline(s,g,{class:f.classes.join(" ")});i.push(m)}s=g})}),Ir.create(t,i)}function JMe(t){return typeof t=="function"}function ZMe({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>JMe(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new ti({key:new Oi("lowlight"),state:{init:(i,{doc:o})=>l7({doc:o,name:t,lowlight:e,defaultLanguage:n}),apply:(i,o,a,s)=>{const l=a.selection.$head.parent.type.name,c=s.selection.$head.parent.type.name,u=FT(a.doc,g=>g.type.name===t),f=FT(s.doc,g=>g.type.name===t);return i.docChanged&&([l,c].includes(t)||f.length!==u.length||i.steps.some(g=>g.from!==void 0&&g.to!==void 0&&u.some(m=>m.pos>=g.from&&m.pos+m.node.nodeSize<=g.to)))?l7({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):o.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var ePe=mOe.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],ZMe({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function tPe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},m=e.optional(i)+t.IDENT_RE+"\\s*\\(",b=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],w=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],A={type:v,keyword:b,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},T={className:"function.dispatch",relevance:0,keywords:{_hint:w},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},P=[T,f,s,n,t.C_BLOCK_COMMENT_MODE,u,c],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:A,contains:P.concat([{begin:/\(/,end:/\)/,keywords:A,contains:P.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+a+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:A,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:A,relevance:0},{begin:m,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,s,{begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,s]}]},s,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:A,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,C,T,P,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:A,contains:["self",s]},{begin:t.IDENT_RE+"::",keywords:A},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function nPe(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=tPe(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function rPe(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},o=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],m=t.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),b={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],y=["true","false"],w={match:/(\/[a-z._-]+)+/},N=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],k=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],A=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],T=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:y,built_in:[...N,...k,"set","shopt",...A,...T]},contains:[m,t.SHEBANG(),b,f,o,a,w,s,l,c,u,n]}}function iPe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",s={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},m=e.optional(i)+t.IDENT_RE+"\\s*\\(",y={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},w=[f,s,n,t.C_BLOCK_COMMENT_MODE,u,c],N={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:w.concat([{begin:/\(/,end:/\)/,keywords:y,contains:w.concat(["self"]),relevance:0}]),relevance:0},k={begin:"("+a+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:y,relevance:0},{begin:m,returnBegin:!0,contains:[t.inherit(g,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,s,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,s]}]},s,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C",aliases:["h"],keywords:y,disableAutodetect:!0,illegal:"</",contains:[].concat(N,k,w,[f,{begin:t.IDENT_RE+"::",keywords:y},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:f,strings:c,keywords:y}}}function oPe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},m=e.optional(i)+t.IDENT_RE+"\\s*\\(",b=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],w=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],A={type:v,keyword:b,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},T={className:"function.dispatch",relevance:0,keywords:{_hint:w},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},P=[T,f,s,n,t.C_BLOCK_COMMENT_MODE,u,c],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:A,contains:P.concat([{begin:/\(/,end:/\)/,keywords:A,contains:P.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+a+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:A,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:A,relevance:0},{begin:m,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,s,{begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,s]}]},s,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:A,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,C,T,P,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:A,contains:["self",s]},{begin:t.IDENT_RE+"::",keywords:A},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function aPe(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(o),built_in:e,literal:r},s=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=t.inherit(u,{illegal:/\n/}),g={className:"subst",begin:/\{/,end:/\}/,keywords:a},m=t.inherit(g,{illegal:/\n/}),b={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,m]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]},y=t.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]});g.contains=[v,b,u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.C_BLOCK_COMMENT_MODE],m.contains=[y,b,f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const w={variants:[c,v,b,u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},N={begin:"<",end:">",contains:[{beginKeywords:"in out"},s]},k=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",A={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},w,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},s,N,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,N,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+k+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,N],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[w,l,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},A]}}const sPe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),lPe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],cPe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],uPe=[...lPe,...cPe],dPe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),fPe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),hPe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),pPe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function mPe(t){const e=t.regex,n=sPe(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",o=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",s=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+fPe.join("|")+")"},{begin:":(:)?("+hPe.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+pPe.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:dPe.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+uPe.join("|")+")\\b"}]}}function gPe(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function vPe(t){const o={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:o,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:o,illegal:/["']/}]}]}}function yPe(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function bPe(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},s={begin:/\[/,end:/\]/,contains:[r,o,i,a,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,u=/'[^']*'/,f=e.either(l,c,u),g=e.concat(f,"(\\s*\\.\\s*",f,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:g,className:"attr",starts:{end:/$/,contains:[r,s,o,i,a,n]}}]}}var Xp="[0-9](_*[0-9])*",Ib=`\\.(${Xp})`,Lb="[0-9a-fA-F](_*[0-9a-fA-F])*",c7={className:"number",variants:[{begin:`(\\b(${Xp})((${Ib})|\\.)?|(${Ib}))[eE][+-]?(${Xp})[fFdD]?\\b`},{begin:`\\b(${Xp})((${Ib})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ib})[fFdD]?\\b`},{begin:`\\b(${Xp})[fFdD]\\b`},{begin:`\\b0[xX]((${Lb})\\.?|(${Lb})?\\.(${Lb}))[pP][+-]?(${Xp})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Lb})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function BQ(t,e,n){return n===-1?"":t.replace(e,r=>BQ(t,e,n-1))}function xPe(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+BQ("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,c7,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},c7,c]}}const u7="[A-Za-z$_][0-9A-Za-z$_]*",wPe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],SPe=["true","false","null","undefined","NaN","Infinity"],$Q=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],zQ=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],qQ=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],_Pe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],EPe=[].concat(qQ,$Q,zQ);function NPe(t){const e=t.regex,n=(G,{after:K})=>{const fe="</"+G[0].slice(1);return G.input.indexOf(fe,K)!==-1},r=u7,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(G,K)=>{const fe=G[0].length+G.index,X=G.input[fe];if(X==="<"||X===","){K.ignoreMatch();return}X===">"&&(n(G,{after:fe})||K.ignoreMatch());let F;const V=G.input.substring(fe);if(F=V.match(/^\s*=/)){K.ignoreMatch();return}if((F=V.match(/^\s+extends\s+/))&&F.index===0){K.ignoreMatch();return}}},s={$pattern:u7,keyword:wPe,literal:SPe,built_in:EPe,"variable.language":_Pe},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,g],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,g]},N={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},k=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,b,v,y,{match:/\$\d+/},f];g.contains=k.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(k)});const A=[].concat(N,g.contains),T=A.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(A)}]),P={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:T},L={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...$Q,...zQ]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},q={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},D={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(G){return e.concat("(?!",G.join("|"),")")}const z={match:e.concat(/\b/,I([...qQ,"super","import"].map(G=>`${G}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},U={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Y={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},ne="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(ne)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:T,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,b,v,y,N,{match:/\$\d+/},f,C,{scope:"attr",match:r+e.lookahead(":"),relevance:0},W,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[N,t.REGEXP_MODE,{className:"function",begin:ne,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:T}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},q,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},U,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},z,D,L,Y,{match:/\$[(.]/}]}}function APe(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Qp="[0-9](_*[0-9])*",Db=`\\.(${Qp})`,Fb="[0-9a-fA-F](_*[0-9a-fA-F])*",kPe={className:"number",variants:[{begin:`(\\b(${Qp})((${Db})|\\.)?|(${Db}))[eE][+-]?(${Qp})[fFdD]?\\b`},{begin:`\\b(${Qp})((${Db})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Db})[fFdD]?\\b`},{begin:`\\b(${Qp})[fFdD]\\b`},{begin:`\\b0[xX]((${Fb})\\.?|(${Fb})?\\.(${Fb}))[pP][+-]?(${Qp})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Fb})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function CPe(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,o,i]}]};i.contains.push(a);const s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(a,{className:"string"}),"self"]}]},c=kPe,u=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),f={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},g=f;return g.variants[1].contains=[f],f.variants[1].contains=[g],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,u,n,r,s,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[f,t.C_LINE_COMMENT_MODE,u],relevance:0},t.C_LINE_COMMENT_MODE,u,s,l,a,t.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},s,l]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const TPe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),OPe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],MPe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],PPe=[...OPe,...MPe],RPe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),UQ=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),HQ=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),jPe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),IPe=UQ.concat(HQ).sort().reverse();function LPe(t){const e=TPe(t),n=IPe,r="and or not only",i="[\\w-]+",o="("+i+"|@\\{"+i+"\\})",a=[],s=[],l=function(k){return{className:"string",begin:"~?"+k+".*?"+k}},c=function(k,A,T){return{className:k,begin:A,relevance:T}},u={$pattern:/[a-z-]+/,keyword:r,attribute:RPe.join(" ")},f={begin:"\\(",end:"\\)",contains:s,keywords:u,relevance:0};s.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,f,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const g=s.concat({begin:/\{/,end:/\}/,contains:a}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},b={begin:o+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+jPe.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:s,relevance:0}},y={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:g}},w={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:o,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,m,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+PPe.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",o,0),c("selector-id","#"+o),c("selector-class","\\."+o,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+UQ.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+HQ.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:g},{begin:"!important"},e.FUNCTION_DISPATCH]},N={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[w]};return a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,v,y,N,b,w,m,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function DPe(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function FPe(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,o,a]}}function BPe(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},o={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=t.inherit(c,{contains:[]}),g=t.inherit(u,{contains:[]});c.contains.push(g),u.contains.push(f);let m=[n,l];return[c,u,f,g].forEach(w=>{w.contains=w.contains.concat(m)}),m=m.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:m},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:m}]}]},n,o,c,u,{className:"quote",begin:"^>\\s+",contains:m,end:"$"},i,r,l,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function $Pe(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,s={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:s,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function zPe(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},o={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},s={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[s]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},u=[t.BACKSLASH_ESCAPE,o,l],f=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],g=(v,y,w="\\1")=>{const N=w==="\\1"?w:e.concat(w,y);return e.concat(e.concat("(?:",v,")"),y,/(?:\\.|[^\\\/])*?/,N,/(?:\\.|[^\\\/])*?/,w,r)},m=(v,y,w)=>e.concat(e.concat("(?:",v,")"),y,/(?:\\.|[^\\\/])*?/,w,r),b=[l,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:g("s|tr|y",e.either(...f,{capture:!0}))},{begin:g("s|tr|y","\\(","\\)")},{begin:g("s|tr|y","\\[","\\]")},{begin:g("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:m("(?:m|qr)?",/\//,/\//)},{begin:m("m|qr",e.either(...f,{capture:!0}),/\1/)},{begin:m("m|qr",/\(/,/\)/)},{begin:m("m|qr",/\[/,/\]/)},{begin:m("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,s]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,s,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return o.contains=b,a.contains=b,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:b}}function qPe(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o=e.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},s={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),u=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),f={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(U,Y)=>{Y.data._beginMatch=U[1]||U[2]},"on:end":(U,Y)=>{Y.data._beginMatch!==U[1]&&Y.ignoreMatch()}},g=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),m=`[ 	
]`,b={scope:"string",variants:[u,c,f,g]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},y=["false","null","true"],w=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],N=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],A={keyword:w,literal:(U=>{const Y=[];return U.forEach(ne=>{Y.push(ne),ne.toLowerCase()===ne?Y.push(ne.toUpperCase()):Y.push(ne.toLowerCase())}),Y})(y),built_in:N},T=U=>U.map(Y=>Y.replace(/\|\d+$/,"")),P={variants:[{match:[/new/,e.concat(m,"+"),e.concat("(?!",T(N).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},L=e.concat(r,"\\b(?!\\()"),C={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),L],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),L],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},M={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},q={relevance:0,begin:/\(/,end:/\)/,keywords:A,contains:[M,a,C,t.C_BLOCK_COMMENT_MODE,b,v,P]},D={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",T(w).join("\\b|"),"|",T(N).join("\\b|"),"\\b)"),r,e.concat(m,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[q]};q.contains.push(D);const I=[M,C,t.C_BLOCK_COMMENT_MODE,b,v,P],z={begin:e.concat(/#\[\s*\\?/,e.either(i,o)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:y,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:y,keyword:["new","array"]},contains:["self",...I]},...I,{scope:"meta",variants:[{match:i},{match:o}]}]};return{case_insensitive:!1,keywords:A,contains:[z,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},s,{scope:"variable.language",match:/\$this\b/},a,D,C,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},P,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:A,contains:["self",z,a,C,t.C_BLOCK_COMMENT_MODE,b,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},b,v]}}function UPe(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function HPe(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function WPe(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],s={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:s,illegal:/#/},u={begin:/\{\{/,relevance:0},f={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,u,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",m=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,b=`\\b|${r.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${m}))[eE][+-]?(${g})[jJ]?(?=${b})`},{begin:`(${m})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${b})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${b})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${b})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${b})`},{begin:`\\b(${g})[jJ](?=${b})`}]},y={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:s,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},w={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:["self",l,v,f,t.HASH_COMMENT_MODE]}]};return c.contains=[f,v,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:s,illegal:/(<\/|\?)|=>/,contains:[l,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,y,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[w]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,w,f]}]}}function VPe(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function KPe(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function GPe(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[s]}),t.COMMENT("^=begin","^=end",{contains:[s],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:a},f={className:"string",contains:[t.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,u]})]}]},g="[1-9](_?[0-9])*|0",m="[0-9](_?[0-9])*",b={className:"number",relevance:0,variants:[{begin:`\\b(${g})(\\.(${m}))?([eE][+-]?(${m})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},P=[f,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[f,{begin:n}],relevance:0},b,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);u.contains=P,v.contains=P;const q=[{begin:/^\s*=>/,starts:{end:"$",contains:P}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:P}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(q).concat(c).concat(P)}}function YPe(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",s=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],u=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:u,keyword:s,literal:l,built_in:c},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:u}},{className:"punctuation",begin:"->"},o]}}const XPe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),QPe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],JPe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],ZPe=[...QPe,...JPe],eRe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),tRe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),nRe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),rRe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function iRe(t){const e=XPe(t),n=nRe,r=tRe,i="@[a-z-]+",o="and or not only",s={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+ZPe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},s,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+rRe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,s,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:eRe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},s,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function oRe(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function aRe(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},o=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],s=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],m=u,b=[...c,...l].filter(T=>!u.includes(T)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},y={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},w={match:e.concat(/\b/,e.either(...m),/\s*\(/),relevance:0,keywords:{built_in:m}};function N(T){return e.concat(/\b/,e.either(...T.map(P=>P.replace(/\s+/,"\\s+"))),/\b/)}const k={scope:"keyword",match:N(g),relevance:0};function A(T,{exceptions:P,when:L}={}){const C=L;return P=P||[],T.map(M=>M.match(/\|\d+$/)||P.includes(M)?M:C(M)?`${M}|0`:M)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:A(b,{when:T=>T.length<3}),literal:o,type:s,built_in:f},contains:[{scope:"type",match:N(a)},k,w,v,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,y]}}function WQ(t){return t?typeof t=="string"?t:t.source:null}function lv(t){return Tr("(?=",t,")")}function Tr(...t){return t.map(n=>WQ(n)).join("")}function sRe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Pa(...t){return"("+(sRe(t).capture?"":"?:")+t.map(r=>WQ(r)).join("|")+")"}const uR=t=>Tr(/\b/,t,/\w$/.test(t)?/\b/:/\B/),lRe=["Protocol","Type"].map(uR),d7=["init","self"].map(uR),cRe=["Any","Self"],lk=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],f7=["false","nil","true"],uRe=["assignment","associativity","higherThan","left","lowerThan","none","right"],dRe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],h7=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],VQ=Pa(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),KQ=Pa(VQ,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),ck=Tr(VQ,KQ,"*"),GQ=Pa(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),fw=Pa(GQ,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Cc=Tr(GQ,fw,"*"),Bb=Tr(/[A-Z]/,fw,"*"),fRe=["attached","autoclosure",Tr(/convention\(/,Pa("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Tr(/objc\(/,Cc,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],hRe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function pRe(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,Pa(...lRe,...d7)],className:{2:"keyword"}},o={match:Tr(/\./,Pa(...lk)),relevance:0},a=lk.filter(ze=>typeof ze=="string").concat(["_|0"]),s=lk.filter(ze=>typeof ze!="string").concat(cRe).map(uR),l={variants:[{className:"keyword",match:Pa(...s,...d7)}]},c={$pattern:Pa(/\b\w+/,/#\w+/),keyword:a.concat(dRe),literal:f7},u=[i,o,l],f={match:Tr(/\./,Pa(...h7)),relevance:0},g={className:"built_in",match:Tr(/\b/,Pa(...h7),/(?=\()/)},m=[f,g],b={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:ck},{match:`\\.(\\.|${KQ})+`}]},y=[b,v],w="([0-9]_*)+",N="([0-9a-fA-F]_*)+",k={className:"number",relevance:0,variants:[{match:`\\b(${w})(\\.(${w}))?([eE][+-]?(${w}))?\\b`},{match:`\\b0x(${N})(\\.(${N}))?([pP][+-]?(${w}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},A=(ze="")=>({className:"subst",variants:[{match:Tr(/\\/,ze,/[0\\tnr"']/)},{match:Tr(/\\/,ze,/u\{[0-9a-fA-F]{1,8}\}/)}]}),T=(ze="")=>({className:"subst",match:Tr(/\\/,ze,/[\t ]*(?:[\r\n]|\r\n)/)}),P=(ze="")=>({className:"subst",label:"interpol",begin:Tr(/\\/,ze,/\(/),end:/\)/}),L=(ze="")=>({begin:Tr(ze,/"""/),end:Tr(/"""/,ze),contains:[A(ze),T(ze),P(ze)]}),C=(ze="")=>({begin:Tr(ze,/"/),end:Tr(/"/,ze),contains:[A(ze),P(ze)]}),M={className:"string",variants:[L(),L("#"),L("##"),L("###"),C(),C("#"),C("##"),C("###")]},q=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],D={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:q},I=ze=>{const st=Tr(ze,/\//),Ge=Tr(/\//,ze);return{begin:st,end:Ge,contains:[...q,{scope:"comment",begin:`#(?!.*${Ge})`,end:/$/}]}},z={scope:"regexp",variants:[I("###"),I("##"),I("#"),D]},U={match:Tr(/`/,Cc,/`/)},Y={className:"variable",match:/\$\d+/},ne={className:"variable",match:`\\$${fw}+`},W=[U,Y,ne],G={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:hRe,contains:[...y,k,M]}]}},K={scope:"keyword",match:Tr(/@/,Pa(...fRe),lv(Pa(/\(/,/\s+/)))},fe={scope:"meta",match:Tr(/@/,Cc)},X=[G,K,fe],F={match:lv(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Tr(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,fw,"+")},{className:"type",match:Bb,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Tr(/\s+&\s+/,lv(Bb)),relevance:0}]},V={begin:/</,end:/>/,keywords:c,contains:[...r,...u,...X,b,F]};F.contains.push(V);const ee={match:Tr(Cc,/\s*:/),keywords:"_|0",relevance:0},ie={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",ee,...r,z,...u,...m,...y,k,M,...W,...X,F]},ue={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,F]},he={begin:Pa(lv(Tr(Cc,/\s*:/)),lv(Tr(Cc,/\s+/,Cc,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Cc}]},me={begin:/\(/,end:/\)/,keywords:c,contains:[he,...r,...u,...y,k,M,...X,F,ie],endsParent:!0,illegal:/["']/},le={match:[/(func|macro)/,/\s+/,Pa(U.match,Cc,ck)],className:{1:"keyword",3:"title.function"},contains:[ue,me,e],illegal:[/\[/,/%/]},be={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ue,me,e],illegal:/\[|%/},Se={match:[/operator/,/\s+/,ck],className:{1:"keyword",3:"title"}},xe={begin:[/precedencegroup/,/\s+/,Bb],className:{1:"keyword",3:"title"},contains:[F],keywords:[...uRe,...f7],end:/}/},Le={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Ne={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},se={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Cc,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[ue,...u,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:Bb},...u],relevance:0}]};for(const ze of M.variants){const st=ze.contains.find(Fe=>Fe.label==="interpol");st.keywords=c;const Ge=[...u,...m,...y,k,M,...W];st.contains=[...Ge,{begin:/\(/,end:/\)/,contains:["self",...Ge]}]}return{name:"Swift",keywords:c,contains:[...r,le,be,Le,Ne,se,Se,xe,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},z,...u,...m,...y,k,M,...W,...X,F,ie]}}const hw="[A-Za-z$_][0-9A-Za-z$_]*",YQ=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],XQ=["true","false","null","undefined","NaN","Infinity"],QQ=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],JQ=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],ZQ=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],eJ=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],tJ=[].concat(ZQ,QQ,JQ);function mRe(t){const e=t.regex,n=(G,{after:K})=>{const fe="</"+G[0].slice(1);return G.input.indexOf(fe,K)!==-1},r=hw,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(G,K)=>{const fe=G[0].length+G.index,X=G.input[fe];if(X==="<"||X===","){K.ignoreMatch();return}X===">"&&(n(G,{after:fe})||K.ignoreMatch());let F;const V=G.input.substring(fe);if(F=V.match(/^\s*=/)){K.ignoreMatch();return}if((F=V.match(/^\s+extends\s+/))&&F.index===0){K.ignoreMatch();return}}},s={$pattern:hw,keyword:YQ,literal:XQ,built_in:tJ,"variable.language":eJ},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,g],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,g]},N={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},k=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,b,v,y,{match:/\$\d+/},f];g.contains=k.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(k)});const A=[].concat(N,g.contains),T=A.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(A)}]),P={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:T},L={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...QQ,...JQ]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},q={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},D={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(G){return e.concat("(?!",G.join("|"),")")}const z={match:e.concat(/\b/,I([...ZQ,"super","import"].map(G=>`${G}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},U={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Y={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},ne="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(ne)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:T,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,b,v,y,N,{match:/\$\d+/},f,C,{scope:"attr",match:r+e.lookahead(":"),relevance:0},W,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[N,t.REGEXP_MODE,{className:"function",begin:ne,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:T}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},q,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},U,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},z,D,L,Y,{match:/\$[(.]/}]}}function gRe(t){const e=t.regex,n=mRe(t),r=hw,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:hw,keyword:YQ.concat(l),literal:XQ,built_in:tJ.concat(i),"variable.language":eJ},u={className:"meta",begin:"@"+r},f=(v,y,w)=>{const N=v.contains.findIndex(k=>k.label===y);if(N===-1)throw new Error("can not find mode to replace");v.contains.splice(N,1,w)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(u);const g=n.contains.find(v=>v.scope==="attr"),m=Object.assign({},g,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,g,m]),n.contains=n.contains.concat([u,o,a,m]),f(n,"shebang",t.SHEBANG()),f(n,"use_strict",s);const b=n.contains.find(v=>v.label==="func.def");return b.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function vRe(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,o=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,s=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(o,i),/ *#/)},{begin:e.concat(/# */,s,/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,e.either(o,i),/ +/,e.either(a,s),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},u={className:"label",begin:/^\w+:/},f=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),g=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,c,u,f,g,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[g]}]}}function yRe(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},o={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},s={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},o,a,i,t.QUOTE_STRING_MODE,l,c,s]}}function bRe(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=t.inherit(o,{begin:/\(/,end:/\)/}),s=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,l,s,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,a,l,s]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function xRe(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},o={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},s=t.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),g={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},m={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},b={begin:/\{/,end:/\}/,contains:[m],illegal:"\\n",relevance:0},v={begin:"\\[",end:"\\]",contains:[m],illegal:"\\n",relevance:0},y=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},g,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},b,v,o,a],w=[...y];return w.pop(),w.push(s),m.contains=w,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:y}}const wRe={arduino:nPe,bash:rPe,c:iPe,cpp:oPe,csharp:aPe,css:mPe,diff:gPe,go:vPe,graphql:yPe,ini:bPe,java:xPe,javascript:NPe,json:APe,kotlin:CPe,less:LPe,lua:DPe,makefile:FPe,markdown:BPe,objectivec:$Pe,perl:zPe,php:qPe,"php-template":UPe,plaintext:HPe,python:WPe,"python-repl":VPe,r:KPe,ruby:GPe,rust:YPe,scss:iRe,shell:oRe,sql:aRe,swift:pRe,typescript:gRe,vbnet:vRe,wasm:yRe,xml:bRe,yaml:xRe},p7={},SRe="hljs-";function _Re(t){const e=DQ.newInstance();return t&&o(t),{highlight:n,highlightAuto:r,listLanguages:i,register:o,registerAlias:a,registered:s};function n(l,c,u){const f=u||p7,g=typeof f.prefix=="string"?f.prefix:SRe;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:ERe,classPrefix:g});const m=e.highlight(c,{ignoreIllegals:!0,language:l});if(m.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:m.errorRaised});const b=m._emitter.root,v=b.data;return v.language=m.language,v.relevance=m.relevance,b}function r(l,c){const f=(c||p7).subset||i();let g=-1,m=0,b;for(;++g<f.length;){const v=f[g];if(!e.getLanguage(v))continue;const y=n(v,l,c);y.data&&y.data.relevance!==void 0&&y.data.relevance>m&&(m=y.data.relevance,b=y)}return b||{type:"root",children:[],data:{language:void 0,relevance:m}}}function i(){return e.listLanguages()}function o(l,c){if(typeof l=="string")e.registerLanguage(l,c);else{let u;for(u in l)Object.hasOwn(l,u)&&e.registerLanguage(u,l[u])}}function a(l,c){if(typeof l=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let u;for(u in l)if(Object.hasOwn(l,u)){const f=l[u];e.registerAliases(typeof f=="string"?f:[...f],{languageName:u})}}}function s(l){return!!e.getLanguage(l)}}class ERe{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(a,s){return s?a+"_".repeat(s):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}var ZT,eO;if(typeof WeakMap<"u"){let t=new WeakMap;ZT=e=>t.get(e),eO=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;ZT=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},eO=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Ti=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,a=i+1;for(let s=1;o<this.width&&this.map[e+s]==n;s++)o++;for(let s=1;a<this.height&&this.map[e+this.width*s]==n;s++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:a,right:s,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,!(i==t.left&&i&&this.map[o-1]==a||r==t.top&&r&&this.map[o-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const s=(t+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(t){return ZT(t)||eO(t,NRe(t))}};function NRe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=ARe(t),n=t.childCount,r=[];let i=0,o=null;const a=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const f=t.child(c);u++;for(let b=0;;b++){for(;i<r.length&&r[i]!=0;)i++;if(b==f.childCount)break;const v=f.child(b),{colspan:y,rowspan:w,colwidth:N}=v.attrs;for(let k=0;k<w;k++){if(k+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:w-k});break}const A=i+k*e;for(let T=0;T<y;T++){r[A+T]==0?r[A+T]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:y-T});const P=N&&N[T];if(P){const L=(A+T)%e*2,C=a[L];C==null||C!=P&&a[L+1]==1?(a[L]=P,a[L+1]=1):C==P&&a[L+1]++}}}i+=y,u+=v.nodeSize}const g=(c+1)*e;let m=0;for(;i<g;)r[i++]==0&&m++;m&&(o||(o=[])).push({type:"missing",row:c,n:m}),u++}(e===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const s=new Ti(e,n,r,o);let l=!1;for(let c=0;!l&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(l=!0);return l&&kRe(s,a,t),s}function ARe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let a=0;a<r;a++){const s=t.child(a);for(let l=0;l<s.childCount;l++){const c=s.child(l);a+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function kRe(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%t.width,f=e[u*2];f!=null&&(!l.colwidth||l.colwidth[c]!=f)&&((s||(s=CRe(l)))[c]=f)}s&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function CRe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function ba(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var Yd=new Oi("selectingCells");function bg(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function TRe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function lc(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function G2(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=bg(e.$head)||ORe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function ORe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function tO(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function MRe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function dR(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function nJ(t,e,n){const r=t.node(-1),i=Ti.get(r),o=t.start(-1),a=i.nextCell(t.pos-o,e,n);return a==null?null:t.node(0).resolve(o+a)}function Yh(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function rJ(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function PRe(t,e,n){const r=ba(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var Vr=class ju extends yn{constructor(e,n=e){const r=e.node(-1),i=Ti.get(r),o=e.start(-1),a=i.rectBetween(e.pos-o,n.pos-o),s=e.node(0),l=i.cellsInRect(a).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const f=r.nodeAt(u);if(!f)throw RangeError(`No cell with offset ${u} found`);const g=o+u+1;return new jY(s.resolve(g),s.resolve(g+f.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(tO(r)&&tO(i)&&dR(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?ju.rowSelection(r,i):o&&this.isColSelection()?ju.colSelection(r,i):new ju(r,i)}return cn.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Ti.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},a=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,f=i.left;f<i.right;f++,u++){const g=n.map[u];if(o[g])continue;o[g]=!0;const m=n.findCell(g);let b=e.nodeAt(g);if(!b)throw RangeError(`No cell with offset ${g} found`);const v=i.left-m.left,y=m.right-i.right;if(v>0||y>0){let w=b.attrs;if(v>0&&(w=Yh(w,0,v)),y>0&&(w=Yh(w,w.colspan-y,y)),m.left<i.left){if(b=b.type.createAndFill(w),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else b=b.type.create(w,b.content)}if(m.top<i.top||m.bottom>i.bottom){const w={...b.attrs,rowspan:Math.min(m.bottom,i.bottom)-Math.max(m.top,i.top)};m.top<i.top?b=b.type.createAndFill(w):b=b.type.create(w,b.content)}c.push(b)}a.push(e.child(l).copy(Ye.from(c)))}const s=this.isColSelection()&&this.isRowSelection()?e:a;return new bt(Ye.from(s),1,1)}replace(e,n=bt.empty){const r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:s,$to:l}=i[a],c=e.mapping.slice(r);e.replace(c.map(s.pos),c.map(l.pos),a?bt.empty:n)}const o=yn.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new bt(Ye.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Ti.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)e(n.nodeAt(o[a]),i+o[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Ti.get(r),o=e.start(-1),a=i.findCell(e.pos-o),s=i.findCell(n.pos-o),l=e.node(0);return a.top<=s.top?(a.top>0&&(e=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(e=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new ju(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Ti.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==n.width}eq(e){return e instanceof ju&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Ti.get(r),o=e.start(-1),a=i.findCell(e.pos-o),s=i.findCell(n.pos-o),l=e.node(0);return a.left<=s.left?(a.left>0&&(e=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(e=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new ju(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new ju(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new ju(e.resolve(n),e.resolve(r))}getBookmark(){return new RRe(this.$anchorCell.pos,this.$headCell.pos)}};Vr.prototype.visible=!1;yn.jsonID("cell",Vr);var RRe=class iJ{constructor(e,n){this.anchor=e,this.head=n}map(e){return new iJ(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&dR(n,r)?new Vr(n,r):yn.near(r,1)}};function jRe(t){if(!(t.selection instanceof Vr))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(po.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Ir.create(t.doc,e)}function IRe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function LRe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function DRe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,a;if(r instanceof sn&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=Vr.create(i,r.from);else if(a=="row"){const s=i.resolve(r.from+1);o=Vr.rowSelection(s,s)}else if(!n){const s=Ti.get(r.node),l=r.from+1,c=l+s.map[s.width*s.height-1];o=Vr.create(i,l+1,c)}}else r instanceof cn&&IRe(r)?o=cn.create(i,r.from):r instanceof cn&&LRe(r)&&(o=cn.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}var FRe=new Oi("fix-tables");function oJ(t,e,n,r){const i=t.childCount,o=e.childCount;e:for(let a=0,s=0;a<o;a++){const l=e.child(a);for(let c=s,u=Math.min(i,a+3);c<u;c++)if(t.child(c)==l){s=c+1,n+=l.nodeSize;continue e}r(l,n),s<i&&t.child(s).sameMarkup(l)?oJ(t.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function aJ(t,e){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=BRe(t,i,o,n))};return e?e.doc!=t.doc&&oJ(e.doc,t.doc,0,r):t.doc.descendants(r),n}function BRe(t,e,n,r){const i=Ti.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const f=u.attrs;for(let g=0;g<f.rowspan;g++)o[c.row+g]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,Yh(f,f.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=r.mapping.map(n);r.delete(u,u+e.nodeSize)}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,c=n+1;l<i.height;l++){const u=e.child(l),f=c+u.nodeSize,g=o[l];if(g>0){let m="cell";u.firstChild&&(m=u.firstChild.type.spec.tableRole);const b=[];for(let y=0;y<g;y++){const w=ba(t.schema)[m].createAndFill();w&&b.push(w)}const v=(l==0||a==l-1)&&s==l?c+1:f-1;r.insert(r.mapping.map(v),b)}c=f}return r.setMeta(FRe,{fixTables:!0})}function Zc(t){const e=t.selection,n=G2(t),r=n.node(-1),i=n.start(-1),o=Ti.get(r);return{...e instanceof Vr?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function sJ(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;PRe(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const s=a*e.width+i;if(i>0&&i<e.width&&e.map[s-1]==e.map[s]){const l=e.map[s],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,rJ(c.attrs,i-e.colCount(l))),a+=c.attrs.rowspan-1}else{const l=o==null?ba(r.type.schema).cell:r.nodeAt(e.map[s+o]).type,c=e.positionAt(a,i,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function $Re(t,e){if(!lc(t))return!1;if(e){const n=Zc(t);e(sJ(t.tr,n,n.left))}return!0}function zRe(t,e){if(!lc(t))return!1;if(e){const n=Zc(t);e(sJ(t.tr,n,n.right))}return!0}function qRe(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let a=0;a<e.height;){const s=a*e.width+i,l=e.map[s],c=n.nodeAt(l),u=c.attrs;if(i>0&&e.map[s-1]==l||i<e.width-1&&e.map[s+1]==l)t.setNodeMarkup(t.mapping.slice(o).map(r+l),null,Yh(u,i-e.colCount(l)));else{const f=t.mapping.slice(o).map(r+l);t.delete(f,f+c.nodeSize)}a+=u.rowspan}}function URe(t,e){if(!lc(t))return!1;if(e){const n=Zc(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;qRe(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Ti.get(o)}e(r)}return!0}function HRe(t,e,n){var r;const i=ba(e.type.schema).header_cell;for(let o=0;o<t.width;o++)if(((r=e.nodeAt(t.map[o+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function lJ(t,{map:e,tableStart:n,table:r},i){var o;let a=n;for(let c=0;c<i;c++)a+=r.child(c).nodeSize;const s=[];let l=i>0?-1:0;HRe(e,r,i+l)&&(l=i==0||i==e.height?null:0);for(let c=0,u=e.width*i;c<e.width;c++,u++)if(i>0&&i<e.height&&e.map[u]==e.map[u-e.width]){const f=e.map[u],g=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...g,rowspan:g.rowspan+1}),c+=g.colspan-1}else{const f=l==null?ba(r.type.schema).cell:(o=r.nodeAt(e.map[u+l*e.width]))==null?void 0:o.type,g=f?.createAndFill();g&&s.push(g)}return t.insert(a,ba(r.type.schema).row.create(null,s)),t}function WRe(t,e){if(!lc(t))return!1;if(e){const n=Zc(t);e(lJ(t.tr,n,n.top))}return!0}function VRe(t,e){if(!lc(t))return!1;if(e){const n=Zc(t);e(lJ(t.tr,n,n.bottom))}return!0}function KRe(t,{map:e,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const a=o+n.child(i).nodeSize,s=t.mapping.maps.length;t.delete(o+r,a+r);const l=new Set;for(let c=0,u=i*e.width;c<e.width;c++,u++){const f=e.map[u];if(!l.has(f)){if(l.add(f),i>0&&f==e.map[u-e.width]){const g=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(s).map(f+r),null,{...g,rowspan:g.rowspan-1}),c+=g.colspan-1}else if(i<e.height&&f==e.map[u+e.width]){const g=n.nodeAt(f),m=g.attrs,b=g.type.create({...m,rowspan:g.attrs.rowspan-1},g.content),v=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(s).map(r+v),b),c+=m.colspan-1}}}}function GRe(t,e){if(!lc(t))return!1;if(e){const n=Zc(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;KRe(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Ti.get(n.table)}e(r)}return!0}function m7(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function YRe({width:t,height:e,map:n},r){let i=r.top*t+r.left,o=i,a=(r.bottom-1)*t+r.left,s=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<t&&n[s]==n[s+1])return!0;o+=t,s+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[a]==n[a+t])return!0;i++,a++}return!1}function g7(t,e){const n=t.selection;if(!(n instanceof Vr)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Zc(t),{map:i}=r;if(YRe(i,r))return!1;if(e){const o=t.tr,a={};let s=Ye.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let f=r.left;f<r.right;f++){const g=i.map[u*i.width+f],m=r.table.nodeAt(g);if(!(a[g]||!m))if(a[g]=!0,l==null)l=g,c=m;else{m7(m)||(s=s.append(m.content));const b=o.mapping.map(g+r.tableStart);o.delete(b,b+m.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...rJ(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),s.size){const u=l+1+c.content.size,f=m7(c)?l+1:u;o.replaceWith(f+r.tableStart,u+r.tableStart,s)}o.setSelection(new Vr(o.doc.resolve(l+r.tableStart))),e(o)}return!0}function v7(t,e){const n=ba(t.schema);return XRe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function XRe(t){return(e,n)=>{var r;const i=e.selection;let o,a;if(i instanceof Vr){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=TRe(i.$from),!o)return!1;a=(r=bg(i.$from))==null?void 0:r.pos}if(o==null||a==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let s=o.attrs;const l=[],c=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});const u=Zc(e),f=e.tr;for(let m=0;m<u.right-u.left;m++)l.push(c?{...s,colwidth:c&&c[m]?[c[m]]:null}:s);let g;for(let m=u.top;m<u.bottom;m++){let b=u.map.positionAt(m,u.left,u.table);m==u.top&&(b+=o.nodeSize);for(let v=u.left,y=0;v<u.right;v++,y++)v==u.left&&m==u.top||f.insert(g=f.mapping.map(b+u.tableStart,1),t({node:o,row:m,col:v}).createAndFill(l[y]))}f.setNodeMarkup(a,t({node:o,row:u.top,col:u.left}),l[0]),i instanceof Vr&&f.setSelection(new Vr(f.doc.resolve(i.$anchorCell.pos),g?f.doc.resolve(g):void 0)),n(f)}return!0}}function QRe(t,e){return function(n,r){if(!lc(n))return!1;const i=G2(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof Vr?n.selection.forEachCell((a,s)=>{a.attrs[t]!==e&&o.setNodeMarkup(s,null,{...a.attrs,[t]:e})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(o)}return!0}}function JRe(t){return function(e,n){if(!lc(e))return!1;if(n){const r=ba(e.schema),i=Zc(e),o=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],r.header_cell,s[l].attrs);n(o)}return!0}}function y7(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function By(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?JRe(t):function(n,r){if(!lc(n))return!1;if(r){const i=ba(n.schema),o=Zc(n),a=n.tr,s=y7("row",o,i),l=y7("column",o,i),u=(t==="column"?s:t==="row"?l:!1)?1:0,f=t=="column"?{left:0,top:u,right:1,bottom:o.map.height}:t=="row"?{left:u,top:0,right:o.map.width,bottom:1}:o,g=t=="column"?l?i.cell:i.header_cell:t=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(f).forEach(m=>{const b=m+o.tableStart,v=a.doc.nodeAt(b);v&&a.setNodeMarkup(b,g,v.attrs)}),r(a)}return!0}}By("row",{useDeprecatedLogic:!0});By("column",{useDeprecatedLogic:!0});var ZRe=By("cell",{useDeprecatedLogic:!0});function eje(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const o=t.node(-1).child(r),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function b7(t){return function(e,n){if(!lc(e))return!1;const r=eje(G2(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(cn.between(i,MRe(i))).scrollIntoView())}return!0}}function tje(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function $b(t,e){const n=t.selection;if(!(n instanceof Vr))return!1;if(e){const r=t.tr,i=ba(t.schema).cell.createAndFill().content;n.forEachCell((o,a)=>{o.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+o.nodeSize-1),new bt(i,0,0))}),r.docChanged&&e(r)}return!0}function nje(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),f=l<e.childCount-1?0:Math.max(0,r-1);(u||f)&&(c=nO(ba(a).row,new bt(c,u,f)).content),s.push(c)}else if(o=="cell"||o=="header_cell")s.push(n||r?nO(ba(a).row,new bt(e,n,r)).content:e);else return null;return rje(a,s)}function rje(t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i];for(let a=o.childCount-1;a>=0;a--){const{rowspan:s,colspan:l}=o.child(a).attrs;for(let c=i;c<i+s;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(Ye.empty),n[i]<r){const o=ba(t).cell.createAndFill(),a=[];for(let s=n[i];s<r;s++)a.push(o);e[i]=e[i].append(Ye.from(a))}return{height:e.length,width:r,rows:e}}function nO(t,e){const n=t.createAndFill();return new EP(n).replace(0,n.content.size,e).doc}function ije({width:t,height:e,rows:n},r,i){if(t!=r){const o=[],a=[];for(let s=0;s<n.length;s++){const l=n[s],c=[];for(let u=o[s]||0,f=0;u<r;f++){let g=l.child(f%l.childCount);u+g.attrs.colspan>r&&(g=g.type.createChecked(Yh(g.attrs,g.attrs.colspan,u+g.attrs.colspan-r),g.content)),c.push(g),u+=g.attrs.colspan;for(let m=1;m<g.attrs.rowspan;m++)o[s+m]=(o[s+m]||0)+g.attrs.colspan}a.push(Ye.from(c))}n=a,t=r}if(e!=i){const o=[];for(let a=0,s=0;a<i;a++,s++){const l=[],c=n[s%e];for(let u=0;u<c.childCount;u++){let f=c.child(u);a+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),l.push(f)}o.push(Ye.from(l))}n=o,e=i}return{width:t,height:e,rows:n}}function oje(t,e,n,r,i,o,a){const s=t.doc.type.schema,l=ba(s);let c,u;if(i>e.width)for(let f=0,g=0;f<e.height;f++){const m=n.child(f);g+=m.nodeSize;const b=[];let v;m.lastChild==null||m.lastChild.type==l.cell?v=c||(c=l.cell.createAndFill()):v=u||(u=l.header_cell.createAndFill());for(let y=e.width;y<i;y++)b.push(v);t.insert(t.mapping.slice(a).map(g-1+r),b)}if(o>e.height){const f=[];for(let b=0,v=(e.height-1)*e.width;b<Math.max(e.width,i);b++){const y=b>=e.width?!1:n.nodeAt(e.map[v+b]).type==l.header_cell;f.push(y?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const g=l.row.create(null,Ye.from(f)),m=[];for(let b=e.height;b<o;b++)m.push(g);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),m)}return!!(c||u)}function x7(t,e,n,r,i,o,a,s){if(a==0||a==e.height)return!1;let l=!1;for(let c=i;c<o;c++){const u=a*e.width+c,f=e.map[u];if(e.map[u-e.width]==f){l=!0;const g=n.nodeAt(f),{top:m,left:b}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(s).map(f+r),null,{...g.attrs,rowspan:a-m}),t.insert(t.mapping.slice(s).map(e.positionAt(a,b,n)),g.type.createAndFill({...g.attrs,rowspan:m+g.attrs.rowspan-a})),c+=g.attrs.colspan-1}}return l}function w7(t,e,n,r,i,o,a,s){if(a==0||a==e.width)return!1;let l=!1;for(let c=i;c<o;c++){const u=c*e.width+a,f=e.map[u];if(e.map[u-1]==f){l=!0;const g=n.nodeAt(f),m=e.colCount(f),b=t.mapping.slice(s).map(f+r);t.setNodeMarkup(b,null,Yh(g.attrs,a-m,g.attrs.colspan-(a-m))),t.insert(b+g.nodeSize,g.type.createAndFill(Yh(g.attrs,0,a-m))),c+=g.attrs.rowspan-1}}return l}function S7(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let a=Ti.get(o);const{top:s,left:l}=r,c=l+i.width,u=s+i.height,f=t.tr;let g=0;function m(){if(o=n?f.doc.nodeAt(n-1):f.doc,!o)throw new Error("No table found");a=Ti.get(o),g=f.mapping.maps.length}oje(f,a,o,n,c,u,g)&&m(),x7(f,a,o,n,l,c,s,g)&&m(),x7(f,a,o,n,l,c,u,g)&&m(),w7(f,a,o,n,s,u,l,g)&&m(),w7(f,a,o,n,s,u,c,g)&&m();for(let b=s;b<u;b++){const v=a.positionAt(b,l,o),y=a.positionAt(b,c,o);f.replace(f.mapping.slice(g).map(v+n),f.mapping.slice(g).map(y+n),new bt(i.rows[b-s],0,0))}m(),f.setSelection(new Vr(f.doc.resolve(n+a.positionAt(s,l,o)),f.doc.resolve(n+a.positionAt(u-1,c-1,o)))),e(f)}var aje=$P({ArrowLeft:zb("horiz",-1),ArrowRight:zb("horiz",1),ArrowUp:zb("vert",-1),ArrowDown:zb("vert",1),"Shift-ArrowLeft":qb("horiz",-1),"Shift-ArrowRight":qb("horiz",1),"Shift-ArrowUp":qb("vert",-1),"Shift-ArrowDown":qb("vert",1),Backspace:$b,"Mod-Backspace":$b,Delete:$b,"Mod-Delete":$b});function d1(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function zb(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Vr)return d1(n,r,yn.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const a=cJ(i,t,e);if(a==null)return!1;if(t=="horiz")return d1(n,r,yn.near(n.doc.resolve(o.head+e),e));{const s=n.doc.resolve(a),l=nJ(s,t,e);let c;return l?c=yn.near(l,1):e<0?c=yn.near(n.doc.resolve(s.before(-1)),-1):c=yn.near(n.doc.resolve(s.after(-1)),1),d1(n,r,c)}}}function qb(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let a;if(o instanceof Vr)a=o;else{const l=cJ(i,t,e);if(l==null)return!1;a=new Vr(n.doc.resolve(l))}const s=nJ(a.$headCell,t,e);return s?d1(n,r,new Vr(a.$anchorCell,s)):!1}}function sje(t,e){const n=t.state.doc,r=bg(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Vr(r))),!0):!1}function lje(t,e,n){if(!lc(t.state))return!1;let r=nje(n);const i=t.state.selection;if(i instanceof Vr){r||(r={width:1,height:1,rows:[Ye.from(nO(ba(t.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=Ti.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=ije(r,s.right-s.left,s.bottom-s.top),S7(t.state,t.dispatch,a,s,r),!0}else if(r){const o=G2(t.state),a=o.start(-1);return S7(t.state,t.dispatch,a,Ti.get(o.node(-1)).findCell(o.pos-a),r),!0}else return!1}function cje(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=_7(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Vr)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=bg(t.state.selection.$anchor))!=null&&((n=uk(t,e))==null?void 0:n.pos)!=i.pos)o(i,e),e.preventDefault();else if(!r)return;function o(l,c){let u=uk(t,c);const f=Yd.getState(t.state)==null;if(!u||!dR(l,u))if(f)u=l;else return;const g=new Vr(l,u);if(f||!t.state.selection.eq(g)){const m=t.state.tr.setSelection(g);f&&m.setMeta(Yd,l.pos),t.dispatch(m)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",s),Yd.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Yd,-1))}function s(l){const c=l,u=Yd.getState(t.state);let f;if(u!=null)f=t.state.doc.resolve(u);else if(_7(t,c.target)!=r&&(f=uk(t,e),!f))return a();f&&o(f,c)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",s)}function cJ(t,e,n){if(!(t.state.selection instanceof cn))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?s:null}}return null}function _7(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function uk(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?bg(t.state.doc.resolve(n.pos)):null}var uje=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),rO(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,rO(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function rO(t,e,n,r,i,o){var a;let s=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let f=0,g=0;f<u.childCount;f++){const{colspan:m,colwidth:b}=u.child(f).attrs;for(let v=0;v<m;v++,g++){const y=i==g?o:b&&b[v],w=y?y+"px":"";if(s+=y||r,y||(l=!1),c)c.style.width!=w&&(c.style.width=w),c=c.nextSibling;else{const N=document.createElement("col");N.style.width=w,e.appendChild(N)}}}for(;c;){const f=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=f}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var Cs=new Oi("tableColumnResizing");function dje({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=uje,lastColumnResizable:i=!0}={}){const o=new ti({key:Cs,state:{init(a,s){var l,c;const u=(c=(l=o.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,f=ba(s.schema).table.name;return r&&u&&(u[f]=(g,m)=>new r(g,n,m)),new fje(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{const s=Cs.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{hje(a,s,t,i)},mouseleave:a=>{pje(a)},mousedown:(a,s)=>{mje(a,s,e,n)}},decorations:a=>{const s=Cs.getState(a);if(s&&s.activeHandle>-1)return xje(a,s.activeHandle)},nodeViews:{}}});return o}var fje=class f1{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Cs);if(r&&r.setHandle!=null)return new f1(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new f1(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return tO(e.doc.resolve(i))||(i=-1),new f1(i,n.dragging)}return n}};function hje(t,e,n,r){if(!t.editable)return;const i=Cs.getState(t.state);if(i&&!i.dragging){const o=vje(e.target);let a=-1;if(o){const{left:s,right:l}=o.getBoundingClientRect();e.clientX-s<=n?a=E7(t,e,"left",n):l-e.clientX<=n&&(a=E7(t,e,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const s=t.state.doc.resolve(a),l=s.node(-1),c=Ti.get(l),u=s.start(-1);if(c.colCount(s.pos-u)+s.nodeAfter.attrs.colspan-1==c.width-1)return}uJ(t,a)}}}function pje(t){if(!t.editable)return;const e=Cs.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&uJ(t,-1)}function mje(t,e,n,r){var i;if(!t.editable)return!1;const o=(i=t.dom.ownerDocument.defaultView)!=null?i:window,a=Cs.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const s=t.state.doc.nodeAt(a.activeHandle),l=gje(t,a.activeHandle,s.attrs);t.dispatch(t.state.tr.setMeta(Cs,{setDragging:{startX:e.clientX,startWidth:l}}));function c(f){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",u);const g=Cs.getState(t.state);g?.dragging&&(yje(t,g.activeHandle,N7(g.dragging,f,n)),t.dispatch(t.state.tr.setMeta(Cs,{setDragging:null})))}function u(f){if(!f.which)return c(f);const g=Cs.getState(t.state);if(g&&g.dragging){const m=N7(g.dragging,f,n);A7(t,g.activeHandle,m,r)}}return A7(t,a.activeHandle,l,r),o.addEventListener("mouseup",c),o.addEventListener("mousemove",u),e.preventDefault(),!0}function gje(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let s=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(s-=r[c],l--);return s/l}function vje(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function E7(t,e,n,r){const i=n=="right"?-r:r,o=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!o)return-1;const{pos:a}=o,s=bg(t.state.doc.resolve(a));if(!s)return-1;if(n=="right")return s.pos;const l=Ti.get(s.node(-1)),c=s.start(-1),u=l.map.indexOf(s.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function N7(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function uJ(t,e){t.dispatch(t.state.tr.setMeta(Cs,{setHandle:e}))}function yje(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=Ti.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+s;if(c&&o.map[u]==o.map[u-o.width])continue;const f=o.map[u],g=i.nodeAt(f).attrs,m=g.colspan==1?0:s-o.colCount(f);if(g.colwidth&&g.colwidth[m]==n)continue;const b=g.colwidth?g.colwidth.slice():bje(g.colspan);b[m]=n,l.setNodeMarkup(a+f,null,{...g,colwidth:b})}l.docChanged&&t.dispatch(l)}function A7(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),a=i.start(-1),s=Ti.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&rO(o,l.firstChild,l,r,s,n)}function bje(t){return Array(t).fill(0)}function xje(t,e){var n;const r=[],i=t.doc.resolve(e),o=i.node(-1);if(!o)return Ir.empty;const a=Ti.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<a.height;c++){const u=l+c*a.width;if((l==a.width-1||a.map[u]!=a.map[u+1])&&(c==0||a.map[u]!=a.map[u-a.width])){const f=a.map[u],g=s+f+o.nodeAt(f).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",(n=Cs.getState(t))!=null&&n.dragging&&r.push(po.node(s+f,s+f+o.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),r.push(po.widget(g,m))}}return Ir.create(t.doc,r)}function wje({allowTableNodeSelection:t=!1}={}){return new ti({key:Yd,state:{init(){return null},apply(e,n){const r=e.getMeta(Yd);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:jRe,handleDOMEvents:{mousedown:cje},createSelectionBetween(e){return Yd.getState(e.state)!=null?e.state.selection:null},handleTripleClick:sje,handleKeyDown:aje,handlePaste:lje},appendTransaction(e,n,r){return DRe(r,aJ(r,n),t)}})}var dJ=Ro.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),i=r?r.split(",").map(o=>parseInt(o,10)):null;if(!i){const o=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&o&&o[a]){const s=o[a].getAttribute("width");return s?[parseInt(s,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Fr(this.options.HTMLAttributes,t),0]}}),fJ=Ro.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Fr(this.options.HTMLAttributes,t),0]}}),hJ=Ro.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Fr(this.options.HTMLAttributes,t),0]}});function iO(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function k7(t,e,n,r,i,o){var a;let s=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u!==null)for(let f=0,g=0;f<u.childCount;f+=1){const{colspan:m,colwidth:b}=u.child(f).attrs;for(let v=0;v<m;v+=1,g+=1){const y=i===g?o:b&&b[v],w=y?`${y}px`:"";if(s+=y||r,y||(l=!1),c){if(c.style.width!==w){const[N,k]=iO(r,y);c.style.setProperty(N,k)}c=c.nextSibling}else{const N=document.createElement("col"),[k,A]=iO(r,y);N.style.setProperty(k,A),e.appendChild(N)}}}for(;c;){const f=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=f}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}var Sje=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),k7(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,k7(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function _je(t,e,n,r){let i=0,o=!0;const a=[],s=t.firstChild;if(!s)return{};for(let f=0,g=0;f<s.childCount;f+=1){const{colspan:m,colwidth:b}=s.child(f).attrs;for(let v=0;v<m;v+=1,g+=1){const y=n===g?r:b&&b[v];i+=y||e,y||(o=!1);const[w,N]=iO(e,y);a.push(["col",{style:`${w}: ${N}`}])}}const l=o?`${i}px`:"",c=o?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:c}}function C7(t,e){return t.createAndFill()}function Eje(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function Nje(t,e,n,r,i){const o=Eje(t),a=[],s=[];for(let c=0;c<n;c+=1){const u=C7(o.cell);if(u&&s.push(u),r){const f=C7(o.header_cell);f&&a.push(f)}}const l=[];for(let c=0;c<e;c+=1)l.push(o.row.createChecked(null,r&&c===0?a:s));return o.table.createChecked(null,l)}function Aje(t){return t instanceof Vr}var Ub=({editor:t})=>{const{selection:e}=t.state;if(!Aje(e))return!1;let n=0;const r=DX(e.ranges[0].$from,o=>o.type.name==="table");return r?.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},kje="";function Cje(t){return(t||"").replace(/\s+/g," ").trim()}function Tje(t,e,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:kje;if(!t||!t.content||t.content.length===0)return"";const o=[];t.content.forEach(b=>{const v=[];b.content&&b.content.forEach(y=>{let w="";y.content&&Array.isArray(y.content)&&y.content.length>1?w=y.content.map(T=>e.renderChildren(T)).join(i):w=y.content?e.renderChildren(y.content):"";const N=Cje(w),k=y.type==="tableHeader";v.push({text:N,isHeader:k})}),o.push(v)});const a=o.reduce((b,v)=>Math.max(b,v.length),0);if(a===0)return"";const s=new Array(a).fill(0);o.forEach(b=>{var v;for(let y=0;y<a;y+=1){const N=(((v=b[y])==null?void 0:v.text)||"").length;N>s[y]&&(s[y]=N),s[y]<3&&(s[y]=3)}});const l=(b,v)=>b+" ".repeat(Math.max(0,v-b.length)),c=o[0],u=c.some(b=>b.isHeader);let f=`
`;const g=new Array(a).fill(0).map((b,v)=>u&&c[v]&&c[v].text||"");return f+=`| ${g.map((b,v)=>l(b,s[v])).join(" | ")} |
`,f+=`| ${s.map(b=>"-".repeat(Math.max(3,b))).join(" | ")} |
`,(u?o.slice(1):o).forEach(b=>{f+=`| ${new Array(a).fill(0).map((v,y)=>l(b[y]&&b[y].text||"",s[y])).join(" | ")} |
`}),f}var Oje=Tje,pJ=Ro.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Sje,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=_je(t,this.options.cellMinWidth);return["table",Fr(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(i=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const i=[];r.forEach(o=>{i.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(o.tokens)}]))}),n.push(e.createNode("tableRow",{},i))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>Oje(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const a=Nje(o.schema,t,e,n);if(i){const s=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(cn.near(r.doc.resolve(s)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>$Re(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>zRe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>URe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>WRe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>VRe(t,e),deleteRow:()=>({state:t,dispatch:e})=>GRe(t,e),deleteTable:()=>({state:t,dispatch:e})=>tje(t,e),mergeCells:()=>({state:t,dispatch:e})=>g7(t,e),splitCell:()=>({state:t,dispatch:e})=>v7(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>By("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>By("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>ZRe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>g7(t,e)?!0:v7(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>QRe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>b7(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>b7(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&aJ(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Vr.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Ub,"Mod-Backspace":Ub,Delete:Ub,"Mod-Delete":Ub}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[dje({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],wje({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:vr(en(t,"tableRole",e))}}});Mr.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(pJ.configure(this.options.table)),this.options.tableCell!==!1&&t.push(dJ.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(fJ.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(hJ.configure(this.options.tableRow)),t}});function Mje({initialData:t,onSave:e,onCancel:n}){const[r,i]=O.useState(t?.length||3),[o,a]=O.useState(t?.[0]?.length||3),[s,l]=O.useState(t||Array(3).fill(null).map(()=>Array(3).fill("")));O.useEffect(()=>{t&&(l(t),i(t.length),a(t[0]?.length||3))},[t]);const c=(v,y,w)=>{const N=[...s];N[v][y]=w,l(N)},u=()=>{const v=[...s,Array(o).fill("")];l(v),i(r+1)},f=()=>{if(r>1){const v=s.slice(0,-1);l(v),i(r-1)}},g=()=>{const v=s.map(y=>[...y,""]);l(v),a(o+1)},m=()=>{if(o>1){const v=s.map(y=>y.slice(0,-1));l(v),a(o-1)}},b=()=>{e(s)};return h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[h.jsxs("div",{className:"flex gap-1 items-center",children:[h.jsx(Qe,{className:"text-sm",children:"Filas:"}),h.jsx(Ve,{size:"icon",variant:"outline",onClick:f,disabled:r<=1,className:"h-8 w-8","data-testid":"button-remove-row",children:h.jsx(Qj,{className:"h-4 w-4"})}),h.jsx(zt,{type:"number",value:r,readOnly:!0,className:"w-16 h-8 text-center"}),h.jsx(Ve,{size:"icon",variant:"outline",onClick:u,className:"h-8 w-8","data-testid":"button-add-row",children:h.jsx(ll,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"flex gap-1 items-center",children:[h.jsx(Qe,{className:"text-sm",children:"Columnas:"}),h.jsx(Ve,{size:"icon",variant:"outline",onClick:m,disabled:o<=1,className:"h-8 w-8","data-testid":"button-remove-column",children:h.jsx(Qj,{className:"h-4 w-4"})}),h.jsx(zt,{type:"number",value:o,readOnly:!0,className:"w-16 h-8 text-center"}),h.jsx(Ve,{size:"icon",variant:"outline",onClick:g,className:"h-8 w-8","data-testid":"button-add-column",children:h.jsx(ll,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"border rounded-md overflow-auto max-h-[400px]","data-testid":"excel-table-grid",children:h.jsx("table",{className:"w-full border-collapse",children:h.jsx("tbody",{children:s.map((v,y)=>h.jsx("tr",{children:v.map((w,N)=>h.jsx("td",{className:"border p-0",children:h.jsx(zt,{value:w,onChange:k=>c(y,N,k.target.value),className:"border-0 rounded-none focus-visible:ring-0 focus-visible:ring-offset-0","data-testid":`cell-${y}-${N}`,placeholder:y===0?`Columna ${N+1}`:""})},N))},y))})})}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx(Ve,{variant:"outline",onClick:n,"data-testid":"button-cancel-table",children:"Cancelar"}),h.jsx(Ve,{onClick:b,"data-testid":"button-save-table",children:"Insertar Tabla"})]})]})}const Pje=_Re(wRe);function mJ({content:t,onChange:e,manualId:n}){const{toast:r}=as(),[i,o]=O.useState(!1),[a,s]=O.useState(!1),[l,c]=O.useState(!1),[u,f]=O.useState(void 0),[g,m]=O.useState(null),[b,v]=O.useState(null),[y,w]=O.useState(""),[N,k]=O.useState(""),[A,T]=O.useState(!1),[P,L]=O.useState(!1),C=ZTe({extensions:[LMe.configure({codeBlock:!1}),FMe.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"editor-image"}}),yQ.configure({openOnClick:!1}),BMe.configure({types:["heading","paragraph"]}),IQ,LQ,GMe.configure({multicolor:!0}),ePe.configure({lowlight:Pje}),pJ.configure({resizable:!1,HTMLAttributes:{class:"editor-table"}}),hJ,fJ,dJ],content:t,onUpdate:({editor:U})=>{e(U.getHTML())},editorProps:{handleDrop:(U,Y,ne,W)=>{if(!W&&Y.dataTransfer&&Y.dataTransfer.files&&Y.dataTransfer.files[0]){const G=Y.dataTransfer.files[0];if(G.type.startsWith("image/"))return Y.preventDefault(),M(G),!0}return!1},handlePaste:(U,Y)=>{const ne=Y.clipboardData?.items;if(ne){const W=Array.from(ne);for(const G of W)if(G.type.startsWith("image/")){Y.preventDefault();const K=G.getAsFile();return K&&M(K),!0}}return!1}}});if(!C)return null;const M=async U=>{if(!n){r({title:"Error",description:"Debes guardar el manual primero",variant:"destructive"});return}const Y=new FormData;Y.append("image",U);try{const ne=await fetch("/api/manuals/upload-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:Y});if(!ne.ok)throw new Error("Error al subir imagen");const W=await ne.json();C.chain().focus().setImage({src:W.url}).run(),r({title:"Imagen insertada correctamente"})}catch{r({title:"Error al subir imagen",variant:"destructive"})}},q=async()=>{if(!b||!n){r({title:"Error",description:"Selecciona una imagen primero",variant:"destructive"});return}await M(b),o(!1),v(null)},D=()=>{y&&(N?C.chain().focus().insertContent(`<a href="${y}">${N}</a>`).run():C.chain().focus().setLink({href:y}).run(),s(!1),w(""),k(""))},I=["#000000","#374151","#6B7280","#9CA3AF","#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899"],z=U=>{const Y=document.createElement("div");Y.innerHTML=U;const ne=Y.querySelector("table");if(!ne)return[];const W=[];return ne.querySelectorAll("tr").forEach(G=>{const K=[];G.querySelectorAll("th, td").forEach(fe=>{K.push(fe.textContent||"")}),K.length>0&&W.push(K)}),W};return h.jsxs("div",{className:"border rounded-lg",children:[h.jsxs("div",{className:"border-b p-2 flex flex-wrap gap-1 items-center bg-muted/30",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>C.chain().focus().undo().run(),disabled:!C.can().undo(),"data-testid":"button-undo",children:h.jsx(Ute,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>C.chain().focus().redo().run(),disabled:!C.can().redo(),"data-testid":"button-redo",children:h.jsx(Lte,{className:"h-4 w-4"})}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsx(Ve,{variant:C.isActive("bold")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleBold().run(),"data-testid":"button-bold",children:h.jsx(dte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive("italic")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleItalic().run(),"data-testid":"button-italic",children:h.jsx(Ete,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive("strike")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleStrike().run(),"data-testid":"button-strike",children:h.jsx(Bte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive("code")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleCode().run(),"data-testid":"button-code",children:h.jsx(pte,{className:"h-4 w-4"})}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsx(Ve,{variant:C.isActive("heading",{level:1})?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleHeading({level:1}).run(),"data-testid":"button-h1",children:h.jsx(bte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive("heading",{level:2})?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleHeading({level:2}).run(),"data-testid":"button-h2",children:h.jsx(xte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive("heading",{level:3})?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleHeading({level:3}).run(),"data-testid":"button-h3",children:h.jsx(wte,{className:"h-4 w-4"})}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsx(Ve,{variant:C.isActive("bulletList")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleBulletList().run(),"data-testid":"button-bullet-list",children:h.jsx(Uz,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive("orderedList")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleOrderedList().run(),"data-testid":"button-ordered-list",children:h.jsx(Tte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive("blockquote")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleBlockquote().run(),"data-testid":"button-blockquote",children:h.jsx(Ite,{className:"h-4 w-4"})}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsx(Ve,{variant:C.isActive({textAlign:"left"})?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().setTextAlign("left").run(),"data-testid":"button-align-left",children:h.jsx(lte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive({textAlign:"center"})?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().setTextAlign("center").run(),"data-testid":"button-align-center",children:h.jsx(ate,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive({textAlign:"right"})?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().setTextAlign("right").run(),"data-testid":"button-align-right",children:h.jsx(cte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:C.isActive({textAlign:"justify"})?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().setTextAlign("justify").run(),"data-testid":"button-align-justify",children:h.jsx(ste,{className:"h-4 w-4"})}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsxs("div",{className:"relative",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>T(!A),"data-testid":"button-text-color",children:h.jsx("div",{className:"h-4 w-4 border-2 border-current",style:{backgroundColor:C.getAttributes("textStyle").color||"#000"}})}),A&&h.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:I.map(U=>h.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:U},onClick:()=>{C.chain().focus().setColor(U).run(),T(!1)}},U))})]}),h.jsxs("div",{className:"relative",children:[h.jsx(Ve,{variant:C.isActive("highlight")?"default":"ghost",size:"icon",onClick:()=>L(!P),"data-testid":"button-highlight",children:h.jsx(Ste,{className:"h-4 w-4"})}),P&&h.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:I.slice(4).map(U=>h.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:U},onClick:()=>{C.chain().focus().toggleHighlight({color:U}).run(),L(!1)}},U))})]}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsx(Ve,{variant:C.isActive("codeBlock")?"default":"ghost",size:"icon",onClick:()=>C.chain().focus().toggleCodeBlock().run(),"data-testid":"button-code-block",children:h.jsx($z,{className:"h-4 w-4"})}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>{const Y=C.getHTML().match(/<table[\s\S]*?<\/table>/);if(Y){const ne=z(Y[0]);f(ne),m(Y[0])}else f(void 0),m(null);c(!0)},"data-testid":"button-insert-table",title:"Insertar/Editar tabla",children:h.jsx(zte,{className:"h-4 w-4"})}),h.jsx(Pu,{orientation:"vertical",className:"h-6 mx-1"}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>o(!0),"data-testid":"button-insert-image",title:"Insertar imagen",children:h.jsx(_te,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>s(!0),"data-testid":"button-insert-link",title:"Insertar enlace",children:h.jsx(Cte,{className:"h-4 w-4"})})]}),h.jsx("style",{children:`
        .ProseMirror {
          outline: none;
          padding: 1rem;
          min-height: 400px;
        }

        /* Estilos de tabla profesionales tipo Word */
        .ProseMirror .editor-table {
          border-collapse: collapse;
          table-layout: fixed;
          width: 100%;
          margin: 1rem 0;
          overflow: hidden;
        }

        .ProseMirror .editor-table td,
        .ProseMirror .editor-table th {
          min-width: 1em;
          border: 2px solid #000000;
          padding: 0.5rem;
          vertical-align: top;
          box-sizing: border-box;
          position: relative;
          background-color: hsl(var(--background));
        }

        .ProseMirror .editor-table th {
          font-weight: 600;
          text-align: left;
          background-color: hsl(var(--muted));
          border: 2px solid #000000;
        }

        .ProseMirror .editor-table .selectedCell {
          background-color: hsl(var(--accent) / 0.3);
        }

        /* Handle de redimensionamiento de columna */
        .ProseMirror .editor-table .column-resize-handle {
          position: absolute;
          right: -2px;
          top: 0;
          bottom: 0;
          width: 4px;
          background-color: hsl(var(--primary));
          cursor: col-resize;
          z-index: 20;
        }

        /* Estilos de imagen mejorados */
        .ProseMirror .editor-image {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 1rem 0;
          border-radius: 0.375rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .ProseMirror .editor-image:hover {
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .ProseMirror .editor-image.ProseMirror-selectednode {
          outline: 2px solid hsl(var(--primary));
          outline-offset: 2px;
        }

        /* Indicador de arrastre */
        .ProseMirror.dragging {
          background-color: hsl(var(--accent) / 0.1);
        }

        /* Estilos de prose mejorados */
        .ProseMirror p {
          margin: 0.5rem 0;
        }

        .ProseMirror h1, .ProseMirror h2, .ProseMirror h3 {
          margin-top: 1.5rem;
          margin-bottom: 0.5rem;
        }

        .ProseMirror ul, .ProseMirror ol {
          padding-left: 1.5rem;
        }

        .ProseMirror blockquote {
          border-left: 3px solid hsl(var(--border));
          padding-left: 1rem;
          margin-left: 0;
          font-style: italic;
        }

        .ProseMirror code {
          background-color: hsl(var(--muted));
          padding: 0.125rem 0.25rem;
          border-radius: 0.25rem;
          font-size: 0.875em;
        }

        .ProseMirror pre {
          background-color: hsl(var(--muted));
          border-radius: 0.5rem;
          padding: 1rem;
          overflow-x: auto;
        }

        .ProseMirror pre code {
          background-color: transparent;
          padding: 0;
        }
      `}),h.jsx(VTe,{editor:C,className:"focus:outline-none"}),h.jsx(ma,{open:i,onOpenChange:o,children:h.jsxs(Ko,{children:[h.jsxs(ga,{children:[h.jsx(va,{children:"Insertar Imagen"}),h.jsx(ja,{children:"Sube una imagen desde tu ordenador o arrastra y suelta directamente en el editor"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"image-file",children:"Seleccionar imagen"}),h.jsx(zt,{id:"image-file",type:"file",accept:"image/*",onChange:U=>v(U.target.files?.[0]||null),"data-testid":"input-image-file"})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:" Tambin puedes arrastrar imgenes directamente al editor o pegarlas con Ctrl+V"})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),h.jsx(Ve,{onClick:q,"data-testid":"button-upload-image",children:"Insertar"})]})]})}),h.jsx(ma,{open:a,onOpenChange:s,children:h.jsxs(Ko,{children:[h.jsxs(ga,{children:[h.jsx(va,{children:"Insertar Enlace"}),h.jsx(ja,{children:"Aade un enlace al documento"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"link-url",children:"URL"}),h.jsx(zt,{id:"link-url",type:"url",placeholder:"https://example.com",value:y,onChange:U=>w(U.target.value),"data-testid":"input-link-url"})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"link-text",children:"Texto (opcional)"}),h.jsx(zt,{id:"link-text",type:"text",placeholder:"Texto del enlace",value:N,onChange:U=>k(U.target.value),"data-testid":"input-link-text"})]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),h.jsx(Ve,{onClick:D,"data-testid":"button-insert-link-confirm",children:"Insertar"})]})]})}),h.jsx(ma,{open:l,onOpenChange:c,children:h.jsxs(Ko,{className:"max-w-4xl",children:[h.jsxs(ga,{children:[h.jsx(va,{children:g?"Editar Tabla":"Insertar Tabla"}),h.jsxs(ja,{children:[g?"Modifica la tabla existente.":"Crea una nueva tabla."," La primera fila ser el encabezado con fondo gris."]})]}),h.jsx(Mje,{initialData:u,onSave:U=>{if(U.length!==0){if(g){const Y=Rje(U),W=C.getHTML().replace(g,Y);C.commands.setContent(W)}else{const Y=U.length,ne=U[0]?.length||2;C.chain().focus().insertTable({rows:Y,cols:ne,withHeaderRow:!0}).run(),U.forEach((W,G)=>{W.forEach((K,fe)=>{C.commands.goToNextCell(),K&&C.commands.insertContent(K)})})}c(!1),f(void 0),m(null)}},onCancel:()=>{c(!1),f(void 0),m(null)}})]})})]})}function Rje(t){if(t.length===0)return"";let e='<table class="editor-table">';return t.forEach((n,r)=>{e+="<tr>",n.forEach(i=>{r===0?e+=`<th>${i||""}</th>`:e+=`<td>${i||""}</td>`}),e+="</tr>"}),e+="</table>",e}const jje=[{id:"procedimiento-basico",nombre:"Procedimiento Bsico",descripcion:"Plantilla para documentar un procedimiento paso a paso",categoria:"General",etiquetas:["procedimiento"],contenidoHtml:`
      <h1>Ttulo del Procedimiento</h1>
      <p><strong>Objetivo:</strong> Describir el objetivo del procedimiento</p>
      <p><strong>Alcance:</strong> Definir el alcance y limitaciones</p>
      
      <h2>Requisitos Previos</h2>
      <ul>
        <li>Requisito 1</li>
        <li>Requisito 2</li>
        <li>Requisito 3</li>
      </ul>

      <h2>Procedimiento</h2>
      <ol>
        <li><strong>Paso 1:</strong> Descripcin detallada del primer paso</li>
        <li><strong>Paso 2:</strong> Descripcin detallada del segundo paso</li>
        <li><strong>Paso 3:</strong> Descripcin detallada del tercer paso</li>
      </ol>

      <h2>Resultados Esperados</h2>
      <p>Describir los resultados que se deben obtener al completar el procedimiento</p>

      <h2>Solucin de Problemas</h2>
      <table>
        <thead>
          <tr>
            <th>Problema</th>
            <th>Causa</th>
            <th>Solucin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Problema 1</td>
            <td>Causa probable</td>
            <td>Solucin recomendada</td>
          </tr>
        </tbody>
      </table>
    `},{id:"modelo-fiscal",nombre:"Gua Modelo Fiscal",descripcion:"Plantilla para documentar la presentacin de modelos fiscales",categoria:"Fiscal",etiquetas:["fiscal","impuestos"],contenidoHtml:`
      <h1>Modelo [Nmero] - [Nombre del Modelo]</h1>
      
      <h2>Informacin General</h2>
      <p><strong>Descripcin:</strong> Breve descripcin del modelo fiscal</p>
      <p><strong>Periodicidad:</strong> Trimestral / Mensual / Anual</p>
      <p><strong>Plazo de presentacin:</strong> Especificar fechas lmite</p>

      <h2>Quin debe presentarlo?</h2>
      <ul>
        <li>Tipo de contribuyente 1</li>
        <li>Tipo de contribuyente 2</li>
      </ul>

      <h2>Documentacin Necesaria</h2>
      <ol>
        <li>Documento 1</li>
        <li>Documento 2</li>
        <li>Documento 3</li>
      </ol>

      <h2>Procedimiento de Clculo</h2>
      <h3>Paso 1: Clculo de Base Imponible</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 2: Aplicacin de Tipos</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 3: Deducciones</h3>
      <p>Explicacin detallada</p>

      <h2>Presentacin Telemtica</h2>
      <ol>
        <li>Acceder a la sede electrnica</li>
        <li>Seleccionar el modelo correspondiente</li>
        <li>Completar los datos requeridos</li>
        <li>Revisar y confirmar</li>
      </ol>

      <h2>Notas Importantes</h2>
      <blockquote>
        <p> Consideraciones especiales y advertencias</p>
      </blockquote>
    `},{id:"normativa-laboral",nombre:"Normativa Laboral",descripcion:"Plantilla para documentar normativa y procedimientos laborales",categoria:"Laboral",etiquetas:["laboral","normativa"],contenidoHtml:`
      <h1>Normativa Laboral - [Ttulo]</h1>
      
      <h2>Marco Legal</h2>
      <p><strong>Normativa aplicable:</strong></p>
      <ul>
        <li>Ley / Real Decreto 1</li>
        <li>Ley / Real Decreto 2</li>
      </ul>

      <h2>mbito de Aplicacin</h2>
      <p>Definir a quin aplica esta normativa</p>

      <h2>Obligaciones del Empresario</h2>
      <ol>
        <li>Obligacin 1: Descripcin</li>
        <li>Obligacin 2: Descripcin</li>
        <li>Obligacin 3: Descripcin</li>
      </ol>

      <h2>Derechos del Trabajador</h2>
      <ol>
        <li>Derecho 1: Descripcin</li>
        <li>Derecho 2: Descripcin</li>
        <li>Derecho 3: Descripcin</li>
      </ol>

      <h2>Procedimiento</h2>
      <h3>Paso 1: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h3>Paso 2: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h2>Sanciones</h2>
      <table>
        <thead>
          <tr>
            <th>Infraccin</th>
            <th>Tipo</th>
            <th>Sancin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Infraccin leve</td>
            <td>Leve</td>
            <td>Multa de X a Y </td>
          </tr>
          <tr>
            <td>Infraccin grave</td>
            <td>Grave</td>
            <td>Multa de X a Y </td>
          </tr>
        </tbody>
      </table>
    `},{id:"guia-rapida",nombre:"Gua Rpida",descripcion:"Plantilla para crear guas rpidas de referencia",categoria:"General",etiquetas:["gua","referencia"],contenidoHtml:`
      <h1>Gua Rpida - [Ttulo]</h1>
      
      <h2>Resumen</h2>
      <p>Breve descripcin de lo que cubre esta gua</p>

      <h2>Acciones Frecuentes</h2>
      <h3>Accin 1: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h3>Accin 2: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h2>Shortcuts / Atajos</h2>
      <table>
        <thead>
          <tr>
            <th>Accin</th>
            <th>Mtodo Rpido</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Accin 1</td>
            <td>Descripcin del atajo</td>
          </tr>
          <tr>
            <td>Accin 2</td>
            <td>Descripcin del atajo</td>
          </tr>
        </tbody>
      </table>

      <h2>Preguntas Frecuentes</h2>
      <h3>Pregunta 1?</h3>
      <p>Respuesta 1</p>

      <h3>Pregunta 2?</h3>
      <p>Respuesta 2</p>

      <h2>Enlaces tiles</h2>
      <ul>
        <li><a href="#">Recurso 1</a></li>
        <li><a href="#">Recurso 2</a></li>
      </ul>
    `},{id:"politica-empresa",nombre:"Poltica de Empresa",descripcion:"Plantilla para documentar polticas internas",categoria:"Organizacin",etiquetas:["poltica","normativa"],contenidoHtml:`
      <h1>Poltica de [Ttulo]</h1>
      
      <h2>Propsito</h2>
      <p>Descripcin del propsito de esta poltica</p>

      <h2>Alcance</h2>
      <p>Define a quin aplica esta poltica</p>

      <h2>Definiciones</h2>
      <ul>
        <li><strong>Trmino 1:</strong> Definicin</li>
        <li><strong>Trmino 2:</strong> Definicin</li>
      </ul>

      <h2>Poltica</h2>
      <h3>Principios Generales</h3>
      <ol>
        <li>Principio 1</li>
        <li>Principio 2</li>
        <li>Principio 3</li>
      </ol>

      <h3>Normas Especficas</h3>
      <ol>
        <li>Norma 1: Descripcin detallada</li>
        <li>Norma 2: Descripcin detallada</li>
      </ol>

      <h2>Responsabilidades</h2>
      <table>
        <thead>
          <tr>
            <th>Rol</th>
            <th>Responsabilidad</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Direccin</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
          <tr>
            <td>Empleados</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
        </tbody>
      </table>

      <h2>Incumplimiento</h2>
      <p>Consecuencias del incumplimiento de esta poltica</p>

      <h2>Revisin</h2>
      <p>Esta poltica ser revisada [periodicidad]</p>
    `}];function T7(){const t=dO(),[e,n]=Xm(),{toast:r}=as(),i=e==="/manuales/nuevo"||t.id==="nuevo",[o,a]=O.useState({titulo:"",categoria:"",etiquetas:[],publicado:!1,contenidoHtml:""}),[s,l]=O.useState(""),[c,u]=O.useState(null),[f,g]=O.useState(!1),{data:m}=$n({queryKey:["/api/manuals",t.id],enabled:!i}),{data:b=[]}=$n({queryKey:["/api/manuals",t.id,"attachments"],enabled:!i}),{data:v=[]}=$n({queryKey:["/api/manuals",t.id,"versions"],enabled:!i});O.useEffect(()=>{m&&!i&&a({titulo:m.titulo,categoria:m.categoria||"",etiquetas:m.etiquetas||[],publicado:m.publicado,contenidoHtml:m.contenidoHtml})},[m,i]);const y=kn({mutationFn:async q=>i?await vn("POST","/api/manuals",q):await vn("PATCH",`/api/manuals/${t.id}`,q),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/manuals"]}),r({title:i?"Manual creado exitosamente":"Manual actualizado exitosamente"}),n("/manuales")}}),w=kn({mutationFn:async q=>{const D=new FormData;D.append("file",q);const I=await fetch(`/api/manuals/${t.id}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:D});if(!I.ok)throw new Error("Error al subir adjunto");return I.json()},onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto subido correctamente"}),u(null)}}),N=kn({mutationFn:async q=>{await vn("DELETE",`/api/manuals/${t.id}/attachments/${q}`)},onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto eliminado"})}}),k=kn({mutationFn:async q=>await vn("POST",`/api/manuals/${t.id}/versions/restore/${q}`),onSuccess:q=>{Mn.invalidateQueries({queryKey:["/api/manuals"]}),a({titulo:q.titulo,categoria:q.categoria||"",etiquetas:q.etiquetas||[],publicado:q.publicado,contenidoHtml:q.contenidoHtml}),r({title:"Versin restaurada correctamente"})}}),A=(q=!1)=>{if(!o.titulo){r({title:"Error",description:"El ttulo es requerido",variant:"destructive"});return}y.mutate({...o,createVersion:q})},T=()=>{s&&!o.etiquetas.includes(s)&&(a({...o,etiquetas:[...o.etiquetas,s]}),l(""))},P=q=>{a({...o,etiquetas:o.etiquetas.filter(D=>D!==q)})},L=()=>{c&&w.mutate(c)},C=q=>q<1024?q+" B":q<1024*1024?(q/1024).toFixed(1)+" KB":(q/(1024*1024)).toFixed(1)+" MB",M=q=>{a({...o,titulo:o.titulo||q.nombre,categoria:q.categoria,etiquetas:Array.from(new Set([...o.etiquetas,...q.etiquetas])),contenidoHtml:q.contenidoHtml}),g(!1),r({title:"Plantilla aplicada correctamente"})};return h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>n("/manuales"),"data-testid":"button-back",children:h.jsx(Lz,{className:"h-4 w-4"})}),h.jsx("div",{className:"flex-1",children:h.jsx("h1",{className:"text-3xl font-display font-bold",children:i?"Nuevo Manual":"Editar Manual"})}),i&&h.jsxs(ma,{open:f,onOpenChange:g,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{variant:"outline","data-testid":"button-use-template",children:[h.jsx($z,{className:"h-4 w-4 mr-2"}),"Usar Plantilla"]})}),h.jsxs(Ko,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[h.jsxs(ga,{children:[h.jsx(va,{children:"Seleccionar Plantilla"}),h.jsx(ja,{children:"Elige una plantilla predefinida para comenzar tu manual"})]}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:jje.map(q=>h.jsx(tn,{className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>M(q),"data-testid":`template-${q.id}`,children:h.jsxs(nn,{className:"p-4",children:[h.jsx("h3",{className:"font-semibold mb-2",children:q.nombre}),h.jsx(Qh,{className:"text-sm mb-3",children:q.descripcion}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Rn,{variant:"outline",children:q.categoria}),q.etiquetas.slice(0,2).map(D=>h.jsx(Rn,{variant:"secondary",children:D},D))]})]})},q.id))})]})]}),h.jsx(Ve,{variant:"outline",onClick:()=>A(!0),disabled:i,"data-testid":"button-save-version",children:"Guardar Versin"}),h.jsxs(Ve,{onClick:()=>A(!1),"data-testid":"button-save",children:[h.jsx(Vz,{className:"h-4 w-4 mr-2"}),"Guardar"]})]}),h.jsxs(Xy,{defaultValue:"editor",className:"space-y-4",children:[h.jsxs(lg,{children:[h.jsxs(uo,{value:"editor","data-testid":"tab-editor",children:[h.jsx(ec,{className:"h-4 w-4 mr-2"}),"Editor"]}),!i&&h.jsxs(h.Fragment,{children:[h.jsxs(uo,{value:"attachments","data-testid":"tab-attachments",children:[h.jsx(g1,{className:"h-4 w-4 mr-2"}),"Adjuntos (",b.length,")"]}),h.jsxs(uo,{value:"versions","data-testid":"tab-versions",children:[h.jsx(_k,{className:"h-4 w-4 mr-2"}),"Versiones (",v.length,")"]})]})]}),h.jsx(Ho,{value:"editor",className:"space-y-6",children:h.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[h.jsx(tn,{className:"md:col-span-2",children:h.jsxs(nn,{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"titulo",children:"Ttulo *"}),h.jsx(zt,{id:"titulo",value:o.titulo,onChange:q=>a({...o,titulo:q.target.value}),placeholder:"Ttulo del manual...","data-testid":"input-titulo"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Editor de Contenido"}),h.jsx(mJ,{content:o.contenidoHtml,onChange:q=>a({...o,contenidoHtml:q}),manualId:t.id})]})]})}),h.jsx(tn,{children:h.jsxs(nn,{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"categoria",children:"Categora"}),h.jsx(zt,{id:"categoria",value:o.categoria,onChange:q=>a({...o,categoria:q.target.value}),placeholder:"ej: Fiscal, Laboral","data-testid":"input-categoria"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"etiquetas",children:"Etiquetas"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(zt,{id:"etiquetas",value:s,onChange:q=>l(q.target.value),onKeyPress:q=>q.key==="Enter"&&(q.preventDefault(),T()),placeholder:"Aadir etiqueta","data-testid":"input-tag"}),h.jsx(Ve,{type:"button",onClick:T,"data-testid":"button-add-tag",children:"+"})]}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.etiquetas.map(q=>h.jsxs(Rn,{variant:"secondary",className:"cursor-pointer hover-elevate",onClick:()=>P(q),"data-testid":`badge-tag-${q}`,children:[q," "]},q))})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Qe,{htmlFor:"publicado",children:"Publicado"}),h.jsx(zh,{id:"publicado",checked:o.publicado,onCheckedChange:q=>a({...o,publicado:q}),"data-testid":"switch-publicado"})]})]})})]})}),h.jsx(Ho,{value:"attachments",className:"space-y-4",children:h.jsx(tn,{children:h.jsxs(nn,{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-end gap-4",children:[h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsx(Qe,{htmlFor:"attachment-file",children:"Subir Adjunto"}),h.jsx(zt,{id:"attachment-file",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.txt",onChange:q=>u(q.target.files?.[0]||null),"data-testid":"input-attachment-file"})]}),h.jsxs(Ve,{onClick:L,disabled:!c||w.isPending,"data-testid":"button-upload-attachment",children:[h.jsx(Hte,{className:"h-4 w-4 mr-2"}),"Subir"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs(Qe,{children:["Adjuntos (",b.length,")"]}),h.jsxs("div",{className:"space-y-2",children:[b.map(q=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate","data-testid":`attachment-${q.id}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(g1,{className:"h-4 w-4 text-muted-foreground"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:q.originalName}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:[C(q.fileSize),"  ",new Date(q.uploadedAt).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>window.open(q.filePath,"_blank"),"data-testid":`button-download-${q.id}`,children:h.jsx(m1,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>N.mutate(q.id),"data-testid":`button-delete-${q.id}`,children:h.jsx(Fc,{className:"h-4 w-4 text-destructive"})})]})]},q.id)),b.length===0&&h.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay adjuntos todava"})]})]})]})})}),h.jsx(Ho,{value:"versions",className:"space-y-4",children:h.jsx(tn,{children:h.jsxs(nn,{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsxs(Qe,{children:["Historial de Versiones (",v.length,")"]}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Restaura una versin anterior del manual"})]}),h.jsxs("div",{className:"space-y-2",children:[v.map((q,D)=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`version-${q.id}`,children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-medium",children:["Versin ",q.versionNumber," - ",q.titulo]}),h.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(q.createdAt).toLocaleString()})]}),h.jsxs(Ve,{variant:"outline",size:"sm",onClick:()=>k.mutate(q.id),disabled:D===0,"data-testid":`button-restore-${q.id}`,children:[h.jsx(_k,{className:"h-4 w-4 mr-2"}),D===0?"Versin Actual":"Restaurar"]})]},q.id)),v.length===0&&h.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No hay versiones guardadas. Usa "Guardar Versin" para crear una.'})]})]})})})]})]})}function Ije(){const[t,e]=O.useState([]),{socket:n}=i9();O.useEffect(()=>{if(!n)return;const o=a=>{e(s=>[...s,a])};return n.on("system:log",o),()=>{n.off("system:log",o)}},[n]);const r=o=>{switch(o){case"success":return h.jsx(bw,{className:"h-4 w-4 text-green-500"});case"error":return h.jsx(eg,{className:"h-4 w-4 text-red-500"});case"warning":return h.jsx(qte,{className:"h-4 w-4 text-yellow-500"});default:return h.jsx(Xj,{className:"h-4 w-4 text-blue-500"})}},i=o=>{switch(o){case"success":return"default";case"error":return"destructive";case"warning":return"secondary";default:return"outline"}};return t.length===0?null:h.jsxs(tn,{className:"mt-4",children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"flex items-center gap-2",children:[h.jsx(Xj,{className:"h-5 w-5"}),"Logs del Sistema"]})}),h.jsx(nn,{children:h.jsx(mP,{className:"h-[300px] w-full rounded-md border p-4",children:h.jsx("div",{className:"space-y-2",children:t.map((o,a)=>h.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-md hover-elevate","data-testid":`log-item-${a}`,children:[h.jsx("div",{className:"flex-shrink-0 mt-1",children:r(o.level)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(Rn,{variant:i(o.level),className:"text-xs",children:o.type.toUpperCase()}),h.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(o.timestamp).toLocaleTimeString("es-ES")})]}),h.jsx("p",{className:"text-sm","data-testid":`log-message-${a}`,children:o.message}),o.details&&h.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`log-details-${a}`,children:o.details}),o.progress!==void 0&&h.jsx("div",{className:"mt-2 w-full bg-muted rounded-full h-2",children:h.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${o.progress}%`},"data-testid":`log-progress-${a}`})})]})]},a))})})})]})}function Lje(){const{toast:t}=as(),[e,n]=O.useState(!1),[r,i]=O.useState(null),[o,a]=O.useState({username:"",email:"",password:"",roleId:""}),[s,l]=O.useState(!1),[c,u]=O.useState(null),[f,g]=O.useState({name:"",description:""}),[m,b]=O.useState([]),[v,y]=O.useState(!1),[w,N]=O.useState(null),[k,A]=O.useState({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),[T,P]=O.useState(!1),{data:L,isLoading:C}=$n({queryKey:["/api/users"]}),{data:M,isLoading:q}=$n({queryKey:["/api/activity-logs"]}),{data:D}=$n({queryKey:["/api/admin/system-settings"]}),{data:I,isLoading:z}=$n({queryKey:["/api/roles"]}),{data:U}=$n({queryKey:["/api/permissions"]}),{data:Y,isLoading:ne}=$n({queryKey:["/api/admin/smtp-accounts"]}),{data:W}=$n({queryKey:["/api/system/config"]}),[G,K]=O.useState({backup_db_pattern:"",backup_files_pattern:""});O.useEffect(()=>{if(W){const ye=W.find(yt=>yt.key==="backup_db_pattern"),tt=W.find(yt=>yt.key==="backup_files_pattern");K({backup_db_pattern:ye?.value||"",backup_files_pattern:tt?.value||""})}},[W]);const[fe,X]=O.useState(!1),[F,V]=O.useState(null),{data:ee}=$n({queryKey:["/api/system/version"]}),{data:ie,isLoading:ue}=$n({queryKey:["/api/system/backups"]}),he=kn({mutationFn:async ye=>await vn("POST","/api/users",ye),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario creado exitosamente"}),n(!1),Lt()}}),me=kn({mutationFn:async({id:ye,data:tt})=>await vn("PATCH",`/api/users/${ye}`,tt),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario actualizado exitosamente"}),n(!1),Lt()}}),le=kn({mutationFn:async ye=>await vn("DELETE",`/api/users/${ye}`,{}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario eliminado exitosamente"})},onError:ye=>{t({title:"Error al eliminar usuario",description:ye.message,variant:"destructive"})}}),be=kn({mutationFn:async ye=>await vn("PATCH",`/api/users/${ye}/toggle-active`,{}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Estado del usuario actualizado"})},onError:ye=>{t({title:"Error al cambiar estado",description:ye.message,variant:"destructive"})}}),Se=kn({mutationFn:async ye=>await vn("PATCH","/api/admin/system-settings",{registrationEnabled:ye}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/admin/system-settings"]}),t({title:"Configuracin actualizada exitosamente"})},onError:ye=>{t({title:"Error al actualizar configuracin",description:ye.message,variant:"destructive"})}}),xe=kn({mutationFn:async ye=>{const tt=await vn("POST","/api/roles",ye);return m.length>0&&await vn("POST",`/api/roles/${tt.id}/permissions`,{permissionIds:m}),tt},onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol creado exitosamente"}),l(!1),wt()}}),Le=kn({mutationFn:async({id:ye,data:tt})=>{const yt=await vn("PATCH",`/api/roles/${ye}`,tt);return await vn("POST",`/api/roles/${ye}/permissions`,{permissionIds:m}),yt},onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol actualizado exitosamente"}),l(!1),wt()}}),Ne=kn({mutationFn:async ye=>await vn("DELETE",`/api/roles/${ye}`,{}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol eliminado exitosamente"})},onError:ye=>{t({title:"Error al eliminar rol",description:ye.message,variant:"destructive"})}}),se=kn({mutationFn:async ye=>await vn("POST","/api/admin/smtp-accounts",ye),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP creada exitosamente"}),y(!1),_n()}}),ze=kn({mutationFn:async({id:ye,data:tt})=>await vn("PATCH",`/api/admin/smtp-accounts/${ye}`,tt),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP actualizada exitosamente"}),y(!1),_n()}}),st=kn({mutationFn:async ye=>await vn("DELETE",`/api/admin/smtp-accounts/${ye}`,{}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP eliminada exitosamente"})}}),Ge=kn({mutationFn:async ye=>await vn("POST","/api/admin/smtp-accounts/test",ye),onSuccess:()=>{t({title:"Conexin SMTP exitosa",description:"La configuracin es vlida"})},onError:ye=>{t({title:"Error de conexin SMTP",description:ye.message,variant:"destructive"})}}),Fe=kn({mutationFn:async({key:ye,value:tt})=>await vn("PUT",`/api/system/config/${ye}`,{value:tt}),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/system/config"]}),t({title:"Patrn de backup actualizado exitosamente"})},onError:ye=>{t({title:"Error al actualizar patrn",description:ye.message,variant:"destructive"})}}),[lt,Ze]=O.useState({repoUrl:"",branch:"main"}),{data:Et}=$n({queryKey:["/api/admin/github-config"]});O.useEffect(()=>{Et&&Ze({repoUrl:Et.repoUrl||"",branch:Et.branch||"main"})},[Et]);const St=kn({mutationFn:async ye=>await vn("PUT","/api/admin/github-config",ye),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/admin/github-config"]}),Mn.invalidateQueries({queryKey:["/api/system/version"]}),t({title:"Configuracin de GitHub guardada exitosamente"})},onError:ye=>{t({title:"Error al guardar configuracin",description:ye.message,variant:"destructive"})}}),It=kn({mutationFn:async()=>(X(!0),await vn("GET","/api/system/version")),onSuccess:ye=>{X(!1),Mn.invalidateQueries({queryKey:["/api/system/version"]}),ye.updateAvailable?(V({version:ye.latestVersion,changelog:ye.changelog}),t({title:"Actualizacin disponible",description:`Versin ${ye.latestVersion} disponible`})):t({title:"Sistema actualizado",description:"Ya tienes la ltima versin instalada"})},onError:ye=>{X(!1),t({title:"Error al comprobar actualizaciones",description:ye.message,variant:"destructive"})}}),Tt=kn({mutationFn:async()=>await vn("POST","/api/system/update",{}),onSuccess:()=>{t({title:"Actualizacin iniciada",description:"El sistema se actualizar y reiniciar automticamente"}),V(null),Mn.invalidateQueries({queryKey:["/api/system/version"]})},onError:ye=>{t({title:"Error al actualizar",description:ye.message,variant:"destructive"})}}),xt=kn({mutationFn:async ye=>await vn("POST",`/api/system/restore/${ye}`,{}),onSuccess:()=>{t({title:"Restauracin iniciada",description:"El sistema se restaurar y reiniciar automticamente"}),Mn.invalidateQueries({queryKey:["/api/system/backups"]})},onError:ye=>{t({title:"Error al restaurar",description:ye.message,variant:"destructive"})}}),rn=ye=>{if(!ye)return"";const tt=new Date;function yt(ht){const ct=new Date(ht.getTime());ct.setHours(0,0,0,0),ct.setDate(ct.getDate()+4-(ct.getDay()||7));const ft=new Date(ct.getFullYear(),0,1);return Math.ceil(((ct.getTime()-ft.getTime())/864e5+1)/7)}function ge(ht){const ft=new Date(ht.getFullYear(),ht.getMonth(),1).getDay(),Kn=1+(ft===0?1:ft===1?0:8-ft),dn=ht.getDate();return dn<Kn?0:Math.floor((dn-Kn)/7)+1}const qe=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],nt=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],Xt={"{fecha}":tt.toISOString().split("T")[0].replace(/-/g,""),"{hora}":tt.toTimeString().split(" ")[0].replace(/:/g,""),"{version}":"1.0.0","{timestamp}":Date.now().toString(),"{YEAR_4}":tt.getFullYear().toString(),"{YEAR_2}":tt.getFullYear().toString().slice(-2),"{MONTH_NUMBER}":(tt.getMonth()+1).toString().padStart(2,"0"),"{MONTH_NAME}":qe[tt.getMonth()],"{MONTH_DAY_NUMBER}":tt.getDate().toString().padStart(2,"0"),"{WEEK_DAY_NUMBER}":(tt.getDay()||7).toString(),"{WEEK_DAY_NAME}":nt[tt.getDay()],"{HOURS}":tt.getHours().toString().padStart(2,"0"),"{MINUTES}":tt.getMinutes().toString().padStart(2,"0"),"{SECONDS}":tt.getSeconds().toString().padStart(2,"0"),"{WEEK_NUMBER}":yt(tt).toString(),"{WEEK_NUMBER_IN_THE_MONTH}":ge(tt).toString()};let Ln=ye;return Object.entries(Xt).forEach(([ht,ct])=>{Ln=Ln.replaceAll(ht,ct)}),Ln},Lt=()=>{a({username:"",email:"",password:"",roleId:I?.[0]?.id||""}),i(null)},Mt=ye=>{i(ye),a({username:ye.username,email:ye.email,password:"",roleId:ye.roleId||""}),n(!0)},Gt=ye=>{if(ye.preventDefault(),r){const tt={username:o.username,email:o.email,roleId:o.roleId};o.password&&(tt.password=o.password),me.mutate({id:r.id,data:tt})}else he.mutate(o)},wt=()=>{g({name:"",description:""}),b([]),u(null)},_n=()=>{A({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),N(null)},Cn=ye=>{N(ye),A({nombre:ye.nombre,host:ye.host,port:ye.port.toString(),user:ye.user,password:"",isPredeterminada:ye.isPredeterminada,activa:ye.activa}),y(!0)},At=ye=>{if(ye.preventDefault(),w){const tt={...k};tt.password||delete tt.password,ze.mutate({id:w.id,data:tt})}else se.mutate(k)},mn=()=>{P(!0),Ge.mutate({host:k.host,port:k.port,user:k.user,password:k.password},{onSettled:()=>P(!1)})},Gn=ye=>{u(ye),g({name:ye.name,description:ye.description||""});const tt=ye.permissions?.map(yt=>yt.permission.id)||[];b(tt),l(!0)},Jt=ye=>{ye.preventDefault(),c?Le.mutate({id:c.id,data:f}):xe.mutate(f)},En=ye=>{b(tt=>tt.includes(ye)?tt.filter(yt=>yt!==ye):[...tt,ye])},un=ye=>{if(!ye)return h.jsx(Rn,{variant:"outline",children:"Sin rol"});const tt=I?.find(ge=>ge.id===ye);if(!tt)return h.jsx(Rn,{variant:"outline",children:"Sin rol"});const yt=tt.isSystem?"text-primary bg-primary/10":"text-chart-2 bg-chart-2/10";return h.jsx(Rn,{variant:"outline",className:yt,children:tt.name})},ur=ye=>{const tt={clientes:"text-chart-1 bg-chart-1/10",impuestos:"text-chart-2 bg-chart-2/10",tareas:"text-chart-3 bg-chart-3/10",manuales:"text-chart-4 bg-chart-4/10",usuarios:"text-chart-5 bg-chart-5/10"};return h.jsx(Rn,{variant:"outline",className:tt[ye]||"text-muted-foreground bg-muted",children:ye})};return C||q?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx(nr,{className:"h-9 w-48"}),h.jsx("div",{className:"space-y-4",children:[...Array(5)].map((ye,tt)=>h.jsx(nr,{className:"h-16"},tt))})]}):h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold",children:"Administracin"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de usuarios y configuracin del sistema"})]}),h.jsxs(Xy,{defaultValue:"users",className:"space-y-6",children:[h.jsxs(lg,{className:"h-auto grid grid-cols-2 md:grid-cols-4 gap-1 p-1",children:[h.jsxs(uo,{value:"users","data-testid":"tab-users",children:[h.jsx(AO,{className:"h-4 w-4 mr-2"}),"Usuarios"]}),h.jsxs(uo,{value:"roles","data-testid":"tab-roles",children:[h.jsx(Gz,{className:"h-4 w-4 mr-2"}),"Roles y Permisos"]}),h.jsxs(uo,{value:"logs","data-testid":"tab-logs",children:[h.jsx(ote,{className:"h-4 w-4 mr-2"}),"Logs de Actividad"]}),h.jsxs(uo,{value:"settings","data-testid":"tab-settings",children:[h.jsx(Kz,{className:"h-4 w-4 mr-2"}),"Configuracin"]}),h.jsxs(uo,{value:"smtp-accounts","data-testid":"tab-smtp-accounts",children:[h.jsx(Hz,{className:"h-4 w-4 mr-2"}),"Cuentas SMTP"]}),h.jsxs(uo,{value:"system-updates","data-testid":"tab-system-updates",children:[h.jsx(Jj,{className:"h-4 w-4 mr-2"}),"Actualizaciones"]}),h.jsxs(uo,{value:"storage","data-testid":"tab-storage",children:[h.jsx(wk,{className:"h-4 w-4 mr-2"}),"Almacenamiento"]})]}),h.jsxs(Ho,{value:"users",className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Usuarios"}),h.jsxs(ma,{open:e,onOpenChange:n,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:Lt,"data-testid":"button-add-user",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),h.jsxs(Ko,{children:[h.jsxs(ga,{children:[h.jsx(va,{children:r?"Editar Usuario":"Nuevo Usuario"}),h.jsx(ja,{children:r?"Actualiza los datos del usuario":"Crea un nuevo usuario del sistema"})]}),h.jsxs("form",{onSubmit:Gt,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"username",children:"Usuario *"}),h.jsx(zt,{id:"username",value:o.username,onChange:ye=>a({...o,username:ye.target.value}),required:!0,"data-testid":"input-username"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"email",children:"Email *"}),h.jsx(zt,{id:"email",type:"email",value:o.email,onChange:ye=>a({...o,email:ye.target.value}),required:!0,"data-testid":"input-email"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"password",children:r?"Nueva Contrasea (dejar en blanco para no cambiar)":"Contrasea *"}),h.jsx(zt,{id:"password",type:"password",value:o.password,onChange:ye=>a({...o,password:ye.target.value}),required:!r,"data-testid":"input-password"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"role",children:"Rol *"}),h.jsxs(Qi,{value:o.roleId,onValueChange:ye=>a({...o,roleId:ye}),children:[h.jsx(Bi,{"data-testid":"select-role",children:h.jsx(Ji,{placeholder:"Selecciona un rol"})}),h.jsx($i,{children:I?.map(ye=>h.jsx(an,{value:ye.id,children:ye.name},ye.id))})]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{n(!1),Lt()},children:"Cancelar"}),h.jsx(Ve,{type:"submit","data-testid":"button-submit-user",children:r?"Actualizar":"Crear"})]})]})]})]})]}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{children:["Usuarios del Sistema (",L?.length||0,")"]})}),h.jsx(nn,{children:h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Usuario"}),h.jsx(Qt,{children:"Email"}),h.jsx(Qt,{children:"Rol"}),h.jsx(Qt,{children:"Estado"}),h.jsx(Qt,{children:"Fecha de Creacin"}),h.jsx(Qt,{className:"text-right",children:"Acciones"})]})}),h.jsx(Ql,{children:!L||L.length===0?h.jsx(Nr,{children:h.jsx(Ot,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No hay usuarios registrados"})}):L.map(ye=>h.jsxs(Nr,{"data-testid":`row-user-${ye.id}`,children:[h.jsx(Ot,{className:"font-medium",children:ye.username}),h.jsx(Ot,{children:ye.email}),h.jsx(Ot,{children:un(ye.roleId)}),h.jsx(Ot,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Rn,{variant:ye.isActive?"default":"secondary","data-testid":`badge-status-${ye.id}`,children:ye.isActive?"Activo":"Inactivo"}),h.jsx(zh,{checked:ye.isActive,onCheckedChange:()=>be.mutate(ye.id),disabled:be.isPending,"data-testid":`switch-active-${ye.id}`})]})}),h.jsx(Ot,{children:new Date(ye.createdAt).toLocaleDateString()}),h.jsx(Ot,{className:"text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>Mt(ye),"data-testid":`button-edit-${ye.id}`,children:h.jsx(nf,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>le.mutate(ye.id),"data-testid":`button-delete-${ye.id}`,children:h.jsx(Fc,{className:"h-4 w-4"})})]})})]},ye.id))})]})})]})]}),h.jsxs(Ho,{value:"roles",className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Roles y Permisos"}),h.jsxs(ma,{open:s,onOpenChange:l,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:wt,"data-testid":"button-add-role",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nuevo Rol"]})}),h.jsxs(Ko,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsxs(ga,{children:[h.jsx(va,{children:c?"Editar Rol":"Nuevo Rol"}),h.jsx(ja,{children:c?"Actualiza el rol y sus permisos":"Crea un nuevo rol personalizado con permisos especficos"})]}),h.jsxs("form",{onSubmit:Jt,className:"space-y-6",children:[h.jsxs("div",{className:"grid gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"role-name",children:"Nombre del Rol *"}),h.jsx(zt,{id:"role-name",value:f.name,onChange:ye=>g({...f,name:ye.target.value}),required:!0,disabled:c?.isSystem,placeholder:"Ej: Contable Senior","data-testid":"input-role-name"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"role-description",children:"Descripcin"}),h.jsx(zt,{id:"role-description",value:f.description,onChange:ye=>g({...f,description:ye.target.value}),placeholder:"Descripcin del rol...","data-testid":"input-role-description"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Qe,{className:"text-base font-semibold",children:"Permisos"}),h.jsx("div",{className:"border rounded-lg p-4 space-y-4 max-h-96 overflow-y-auto",children:Object.entries(U?.reduce((ye,tt)=>(ye[tt.resource]||(ye[tt.resource]=[]),ye[tt.resource].push(tt),ye),{})||{}).map(([ye,tt])=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:"font-medium capitalize text-sm",children:ye}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pl-4",children:tt.map(yt=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(um,{id:yt.id,checked:m.includes(yt.id),onCheckedChange:()=>En(yt.id),"data-testid":`checkbox-permission-${yt.resource}-${yt.action}`}),h.jsx(Qe,{htmlFor:yt.id,className:"text-sm font-normal cursor-pointer",children:yt.action})]},yt.id))})]},ye))}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.length," permiso(s) seleccionado(s)"]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{l(!1),wt()},children:"Cancelar"}),h.jsx(Ve,{type:"submit","data-testid":"button-submit-role",children:c?"Actualizar":"Crear"})]})]})]})]})]}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{children:["Roles del Sistema (",I?.length||0,")"]})}),h.jsx(nn,{children:h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Nombre del Rol"}),h.jsx(Qt,{children:"Descripcin"}),h.jsx(Qt,{children:"Usuarios"}),h.jsx(Qt,{children:"Permisos"}),h.jsx(Qt,{className:"text-right",children:"Acciones"})]})}),h.jsx(Ql,{children:!I||I.length===0?h.jsx(Nr,{children:h.jsx(Ot,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No hay roles configurados"})}):I.map(ye=>h.jsxs(Nr,{"data-testid":`row-role-${ye.id}`,children:[h.jsx(Ot,{className:"font-medium",children:h.jsxs("div",{className:"flex items-center gap-2",children:[ye.name,ye.isSystem&&h.jsxs(Rn,{variant:"outline",className:"text-xs",children:[h.jsx(Ek,{className:"h-3 w-3 mr-1"}),"Sistema"]})]})}),h.jsx(Ot,{className:"text-muted-foreground",children:ye.description||"-"}),h.jsx(Ot,{children:h.jsxs(Rn,{variant:"outline",children:[ye._count?.users||0," usuarios"]})}),h.jsx(Ot,{children:h.jsxs(Rn,{variant:"outline",children:[ye.permissions?.length||0," permisos"]})}),h.jsx(Ot,{className:"text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>Gn(ye),"data-testid":`button-edit-role-${ye.id}`,children:h.jsx(nf,{className:"h-4 w-4"})}),!ye.isSystem&&h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>Ne.mutate(ye.id),"data-testid":`button-delete-role-${ye.id}`,children:h.jsx(Fc,{className:"h-4 w-4"})})]})})]},ye.id))})]})})]})]}),h.jsxs(Ho,{value:"logs",className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Registro de Actividad"}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx(Fn,{children:"Actividad Reciente"})}),h.jsx(nn,{className:"p-0",children:!M||M.length===0?h.jsx("div",{className:"text-center text-muted-foreground py-12",children:"No hay actividad registrada"}):h.jsx("div",{className:"divide-y",children:M.slice(0,50).map(ye=>h.jsx("div",{className:"p-4 hover-elevate","data-testid":`row-log-${ye.id}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[h.jsx("p",{className:"font-medium",children:ye.user?.username||"Usuario desconocido"}),ur(ye.modulo)]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:ye.accion}),ye.detalles&&h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ye.detalles})]}),h.jsx("time",{className:"text-sm text-muted-foreground",children:new Date(ye.fecha).toLocaleString()})]})},ye.id))})})]})]}),h.jsxs(Ho,{value:"settings",className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin del Sistema"}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx(Fn,{children:"Control de Acceso"})}),h.jsx(nn,{className:"space-y-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(Qe,{htmlFor:"registration-enabled",children:"Permitir registro de nuevos usuarios"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Cuando est deshabilitado, solo los administradores pueden crear usuarios"})]}),h.jsx(zh,{id:"registration-enabled",checked:D?.registrationEnabled??!0,onCheckedChange:ye=>Se.mutate(ye),"data-testid":"switch-registration"})]})})]}),h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Configuracin de Backups"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Personaliza los patrones de nombres para los archivos de respaldo"})]}),h.jsxs(nn,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"backup-db-pattern",children:"Patrn para Backup de Base de Datos"}),h.jsx(zt,{id:"backup-db-pattern",value:G.backup_db_pattern,onChange:ye=>K({...G,backup_db_pattern:ye.target.value}),placeholder:"backup_db_{fecha}_{hora}","data-testid":"input-backup-db-pattern"}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",h.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[rn(G.backup_db_pattern),".sql"]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"backup-files-pattern",children:"Patrn para Backup de Archivos"}),h.jsx(zt,{id:"backup-files-pattern",value:G.backup_files_pattern,onChange:ye=>K({...G,backup_files_pattern:ye.target.value}),placeholder:"backup_files_{fecha}_{hora}","data-testid":"input-backup-files-pattern"}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",h.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[rn(G.backup_files_pattern),".zip"]})]})]})]}),h.jsxs("div",{className:"bg-muted/50 p-4 rounded-md space-y-2",children:[h.jsx("p",{className:"text-sm font-medium",children:"Variables disponibles:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{fecha}"})," - Fecha actual (YYYYMMDD)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{hora}"})," - Hora actual (HHMMSS)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{version}"})," - Versin del sistema"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{timestamp}"})," - Timestamp Unix"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_4}"})," - Ao 4 dgitos (2025)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_2}"})," - Ao 2 dgitos (25)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NUMBER}"})," - Mes numrico (01-12)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NAME}"})," - Nombre del mes (Enero-Diciembre)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_DAY_NUMBER}"})," - Da del mes (01-31)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NUMBER}"})," - Da semana numrico (1-7)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NAME}"})," - Da de la semana (Lunes-Domingo)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{HOURS}"})," - Hora en formato 24h (00-23)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MINUTES}"})," - Minutos (00-59)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{SECONDS}"})," - Segundos (00-59)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER}"})," - Semana ISO-8601 del ao (1-53)"]}),h.jsxs("div",{children:[h.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER_IN_THE_MONTH}"})," - Semana del mes (0-5)"]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ve,{onClick:()=>{Fe.mutate({key:"backup_db_pattern",value:G.backup_db_pattern})},disabled:!G.backup_db_pattern,"data-testid":"button-save-db-pattern",children:"Guardar Patrn BD"}),h.jsx(Ve,{onClick:()=>{Fe.mutate({key:"backup_files_pattern",value:G.backup_files_pattern})},disabled:!G.backup_files_pattern,"data-testid":"button-save-files-pattern",variant:"outline",children:"Guardar Patrn Archivos"})]})]})]}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx(Fn,{children:"Personalizacin"})}),h.jsxs(nn,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"company-name",children:"Nombre de la Empresa"}),h.jsx(zt,{id:"company-name",defaultValue:"Asesora La Llave","data-testid":"input-company-name"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"logo",children:"Logo de la Empresa"}),h.jsx(zt,{id:"logo",type:"file",accept:"image/*","data-testid":"input-logo"})]}),h.jsx(Ve,{"data-testid":"button-save-branding",children:"Guardar Cambios"})]})]})]}),h.jsxs(Ho,{value:"smtp-accounts",className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Cuentas SMTP"}),h.jsxs(ma,{open:v,onOpenChange:y,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:()=>_n(),"data-testid":"button-add-smtp-account",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nueva Cuenta SMTP"]})}),h.jsxs(Ko,{className:"sm:max-w-[600px]",children:[h.jsxs(ga,{children:[h.jsxs(va,{children:[w?"Editar":"Nueva"," Cuenta SMTP"]}),h.jsx(ja,{children:"Configure una cuenta SMTP para el envo de notificaciones"})]}),h.jsxs("form",{onSubmit:At,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"col-span-2",children:[h.jsx(Qe,{htmlFor:"smtp-nombre",children:"Nombre de la Cuenta *"}),h.jsx(zt,{id:"smtp-nombre",value:k.nombre,onChange:ye=>A({...k,nombre:ye.target.value}),placeholder:"Ej: Gmail Principal",required:!0,"data-testid":"input-smtp-nombre"})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"smtp-form-host",children:"Servidor SMTP *"}),h.jsx(zt,{id:"smtp-form-host",value:k.host,onChange:ye=>A({...k,host:ye.target.value}),placeholder:"smtp.gmail.com",required:!0,"data-testid":"input-smtp-form-host"})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"smtp-form-port",children:"Puerto *"}),h.jsx(zt,{id:"smtp-form-port",type:"number",value:k.port,onChange:ye=>A({...k,port:ye.target.value}),placeholder:"587",required:!0,"data-testid":"input-smtp-form-port"})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"smtp-form-user",children:"Usuario *"}),h.jsx(zt,{id:"smtp-form-user",value:k.user,onChange:ye=>A({...k,user:ye.target.value}),placeholder:"usuario@gmail.com",required:!0,"data-testid":"input-smtp-form-user"})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"smtp-form-password",children:"Contrasea *"}),h.jsx(zt,{id:"smtp-form-password",type:"password",value:k.password,onChange:ye=>A({...k,password:ye.target.value}),placeholder:w?"(dejar vaco para mantener)":"",required:!w,"data-testid":"input-smtp-form-password"})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(um,{id:"smtp-predeterminada",checked:k.isPredeterminada,onCheckedChange:ye=>A({...k,isPredeterminada:!!ye}),"data-testid":"checkbox-smtp-predeterminada"}),h.jsx(Qe,{htmlFor:"smtp-predeterminada",className:"text-sm",children:"Cuenta Predeterminada"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(um,{id:"smtp-activa",checked:k.activa,onCheckedChange:ye=>A({...k,activa:!!ye}),"data-testid":"checkbox-smtp-activa"}),h.jsx(Qe,{htmlFor:"smtp-activa",className:"text-sm",children:"Activa"})]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:mn,disabled:!k.host||!k.port||!k.user||!k.password||T,"data-testid":"button-test-smtp",children:T?"Probando...":"Probar Conexin"}),h.jsxs(Ve,{type:"submit","data-testid":"button-submit-smtp",children:[w?"Actualizar":"Crear"," Cuenta"]})]})]})]})]})]}),h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Cuentas SMTP Configuradas"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona mltiples cuentas SMTP para el envo de notificaciones"})]}),h.jsx(nn,{children:ne?h.jsxs("div",{className:"space-y-2",children:[h.jsx(nr,{className:"h-12 w-full"}),h.jsx(nr,{className:"h-12 w-full"})]}):Y&&Y.length>0?h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Nombre"}),h.jsx(Qt,{children:"Servidor"}),h.jsx(Qt,{children:"Puerto"}),h.jsx(Qt,{children:"Usuario"}),h.jsx(Qt,{children:"Estado"}),h.jsx(Qt,{children:"Acciones"})]})}),h.jsx(Ql,{children:Y.map(ye=>h.jsxs(Nr,{children:[h.jsxs(Ot,{className:"font-medium",children:[ye.nombre,ye.isPredeterminada&&h.jsx(Rn,{variant:"secondary",className:"ml-2",children:"Predeterminada"})]}),h.jsx(Ot,{children:ye.host}),h.jsx(Ot,{children:ye.port}),h.jsx(Ot,{children:ye.user}),h.jsx(Ot,{children:h.jsx(Rn,{variant:ye.activa?"default":"secondary",children:ye.activa?"Activa":"Inactiva"})}),h.jsx(Ot,{children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>Cn(ye),"data-testid":`button-edit-smtp-${ye.id}`,children:h.jsx(nf,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>st.mutate(ye.id),"data-testid":`button-delete-smtp-${ye.id}`,children:h.jsx(Fc,{className:"h-4 w-4"})})]})})]},ye.id))})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay cuentas SMTP configuradas. Crea una para empezar."})})]})]}),h.jsxs(Ho,{value:"system-updates",className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Actualizaciones del Sistema"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gestiona las actualizaciones automticas del sistema"})]}),h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Configuracin de Repositorio GitHub"}),h.jsx(Qh,{children:"Configura el repositorio de GitHub para comprobar y descargar actualizaciones automticas"})]}),h.jsxs(nn,{className:"space-y-4",children:[h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"github-repo",children:"Repositorio (owner/repo)"}),h.jsx(zt,{id:"github-repo",placeholder:"ejemplo: usuario/repositorio",value:lt.repoUrl,onChange:ye=>Ze({...lt,repoUrl:ye.target.value}),"data-testid":"input-github-repo"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Formato: owner/repo o URL completa de GitHub"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"github-branch",children:"Rama"}),h.jsx(zt,{id:"github-branch",placeholder:"main",value:lt.branch,onChange:ye=>Ze({...lt,branch:ye.target.value}),"data-testid":"input-github-branch"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Rama a usar para actualizaciones (por defecto: main)"})]})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs(Ve,{onClick:()=>St.mutate(lt),disabled:St.isPending||!lt.repoUrl,"data-testid":"button-save-github-config",children:[h.jsx(Vz,{className:"h-4 w-4 mr-2"}),St.isPending?"Guardando...":"Guardar Configuracin"]})})]})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx(Fn,{children:"Versin Actual"})}),h.jsxs(nn,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin instalada"}),h.jsx("p",{className:"text-2xl font-bold","data-testid":"text-current-version",children:ee?.currentVersion||"Cargando..."})]}),h.jsxs(Ve,{onClick:()=>It.mutate(),disabled:fe||It.isPending,className:"w-full","data-testid":"button-check-updates",children:[h.jsx(Jj,{className:`h-4 w-4 mr-2 ${fe?"animate-spin":""}`}),fe?"Comprobando...":"Comprobar Actualizaciones"]})]})]}),ee?.updateAvailable&&h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx(Fn,{children:"Actualizacin Disponible"})}),h.jsxs(nn,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva versin"}),h.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-latest-version",children:ee.latestVersion})]}),ee.changelog&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium mb-1",children:"Novedades:"}),h.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-changelog",children:ee.changelog})]}),h.jsxs(ma,{children:[h.jsx(ol,{asChild:!0,children:h.jsx(Ve,{variant:"default",className:"w-full","data-testid":"button-update-now",children:"Actualizar Ahora"})}),h.jsxs(Ko,{children:[h.jsxs(ga,{children:[h.jsx(va,{children:"Confirmar Actualizacin"}),h.jsxs(ja,{children:["Esta accin actualizar el sistema a la versin ",ee.latestVersion,". Se crear un backup automtico antes de la actualizacin. El sistema se reiniciar automticamente cuando termine."]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{variant:"outline",onClick:ye=>{ye.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":"button-cancel-update",children:"Cancelar"}),h.jsx(Ve,{onClick:()=>{Tt.mutate(),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:Tt.isPending,"data-testid":"button-confirm-update",children:Tt.isPending?"Actualizando...":"Confirmar Actualizacin"})]})]})]})]})]}),!ee?.updateAvailable&&ee?.currentVersion&&h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx(Fn,{children:"Sistema Actualizado"})}),h.jsx(nn,{children:h.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu sistema est ejecutando la ltima versin disponible."})})]})]}),h.jsx(Ije,{}),h.jsxs(tn,{className:"mt-6",children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Backups del Sistema"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Historial de backups automticos y manuales"})]}),h.jsx(nn,{children:ue?h.jsx("div",{className:"space-y-2",children:[...Array(3)].map((ye,tt)=>h.jsx(nr,{className:"h-12"},tt))}):ie&&ie.length>0?h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Fecha"}),h.jsx(Qt,{children:"Versin"}),h.jsx(Qt,{children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(qz,{className:"h-3 w-3"}),h.jsx("span",{children:"BD"})]})}),h.jsx(Qt,{children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Sk,{className:"h-3 w-3"}),h.jsx("span",{children:"Archivos"})]})}),h.jsx(Qt,{className:"text-right",children:"Acciones"})]})}),h.jsx(Ql,{children:ie.map(ye=>h.jsxs(Nr,{"data-testid":`row-backup-${ye.id}`,children:[h.jsx(Ot,{children:new Date(ye.createdAt).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),h.jsx(Ot,{children:h.jsxs(Rn,{variant:"outline","data-testid":`badge-version-${ye.id}`,children:["v",ye.version]})}),h.jsx(Ot,{"data-testid":`text-db-size-${ye.id}`,children:ye.dbSize}),h.jsx(Ot,{"data-testid":`text-files-size-${ye.id}`,children:ye.filesSize}),h.jsx(Ot,{className:"text-right",children:h.jsxs(ma,{children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{variant:"outline",size:"sm","data-testid":`button-restore-${ye.id}`,children:[h.jsx(Dte,{className:"h-4 w-4 mr-2"}),"Restaurar"]})}),h.jsxs(Ko,{children:[h.jsxs(ga,{children:[h.jsx(va,{children:"Confirmar Restauracin"}),h.jsxs(ja,{children:["Esta accin restaurar el sistema al estado del backup creado el"," ",new Date(ye.createdAt).toLocaleString("es-ES"),".",h.jsx("br",{}),h.jsx("br",{}),h.jsx("strong",{children:"Advertencia:"})," Esta operacin sobrescribir todos los datos actuales y el sistema se reiniciar automticamente."]})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{variant:"outline",onClick:tt=>{tt.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":`button-cancel-restore-${ye.id}`,children:"Cancelar"}),h.jsx(Ve,{variant:"destructive",onClick:()=>{xt.mutate(ye.id),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:xt.isPending,"data-testid":`button-confirm-restore-${ye.id}`,children:xt.isPending?"Restaurando...":"Confirmar Restauracin"})]})]})]})})]},ye.id))})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay backups disponibles. Se crean automticamente durante las actualizaciones."})})]})]}),h.jsx(Ho,{value:"storage",className:"space-y-4",children:h.jsx(Dje,{})})]})]})}function Dje(){const{toast:t}=as(),[e,n]=O.useState("LOCAL"),[r,i]=O.useState(!1),[o,a]=O.useState(!1),[s,l]=O.useState({host:"",port:"21",username:"",password:"",basePath:"/uploads"}),[c,u]=O.useState({host:"",shareName:"",username:"",password:"",domain:"",basePath:"/uploads"}),{data:f,isLoading:g}=$n({queryKey:["/api/admin/storage-config"]});O.useEffect(()=>{f&&(n(f.type),i(f.active),f.type==="FTP"&&f.config?l({host:f.config.host||"",port:(f.config.port||21).toString(),username:f.config.username||"",password:"",basePath:f.config.basePath||"/uploads"}):f.type==="SMB"&&f.config&&u({host:f.config.host||"",shareName:f.config.shareName||"",username:f.config.username||"",password:"",domain:f.config.domain||"",basePath:f.config.basePath||"/uploads"}))},[f]);const m=kn({mutationFn:async y=>vn("POST","/api/admin/storage-config",y),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/admin/storage-config"]}),t({title:"Configuracin guardada",description:"La configuracin de almacenamiento se ha actualizado correctamente"})},onError:y=>{t({title:"Error",description:y.message||"No se pudo guardar la configuracin",variant:"destructive"})}}),b=async()=>{a(!0);try{const w=await vn("POST","/api/admin/storage-config/test",{type:e,config:e==="FTP"?s:e==="SMB"?c:null});t({title:"Conexin exitosa",description:w.message||"La conexin se estableci correctamente"})}catch(y){t({title:"Error de conexin",description:y.message||"No se pudo conectar al servidor",variant:"destructive"})}finally{a(!1)}},v=()=>{const y=e==="LOCAL"?null:e==="FTP"?{...s,port:parseInt(s.port)}:c;m.mutate({type:e,active:r,config:y})};return g?h.jsxs("div",{className:"space-y-4",children:[h.jsx(nr,{className:"h-8 w-64"}),h.jsx(nr,{className:"h-32"})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin de Almacenamiento"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configura dnde se almacenan los archivos del sistema"})]}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Proveedor de Almacenamiento"}),f&&h.jsx(Rn,{variant:f.active?"default":"secondary",children:f.active?"Activo":"Inactivo"})]})}),h.jsxs(nn,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Tipo de Almacenamiento"}),h.jsxs(Qi,{value:e,onValueChange:y=>n(y),children:[h.jsx(Bi,{"data-testid":"select-storage-type",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"LOCAL",children:"Local (Servidor)"}),h.jsx(an,{value:"FTP",children:"FTP"}),h.jsx(an,{value:"SMB",children:"SMB/CIFS (NAS)"})]})]})]}),e==="LOCAL"&&h.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(qz,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"font-medium",children:"Almacenamiento Local"}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Los archivos se guardan en el servidor en: ",h.jsx("code",{className:"px-1 py-0.5 bg-background rounded text-xs",children:"/uploads"})]}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No requiere configuracin adicional."})]})]})}),e==="FTP"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"ftp-host",children:"Servidor FTP *"}),h.jsx(zt,{id:"ftp-host",value:s.host,onChange:y=>l({...s,host:y.target.value}),placeholder:"ftp.ejemplo.com","data-testid":"input-ftp-host"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"ftp-port",children:"Puerto *"}),h.jsx(zt,{id:"ftp-port",type:"number",value:s.port,onChange:y=>l({...s,port:y.target.value}),placeholder:"21","data-testid":"input-ftp-port"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"ftp-username",children:"Usuario *"}),h.jsx(zt,{id:"ftp-username",value:s.username,onChange:y=>l({...s,username:y.target.value}),"data-testid":"input-ftp-username"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"ftp-password",children:"Contrasea *"}),h.jsx(zt,{id:"ftp-password",type:"password",value:s.password,onChange:y=>l({...s,password:y.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-ftp-password"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"ftp-basePath",children:"Ruta Base"}),h.jsx(zt,{id:"ftp-basePath",value:s.basePath,onChange:y=>l({...s,basePath:y.target.value}),placeholder:"/uploads","data-testid":"input-ftp-basepath"})]})]}),e==="SMB"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"smb-host",children:"Servidor SMB *"}),h.jsx(zt,{id:"smb-host",value:c.host,onChange:y=>u({...c,host:y.target.value}),placeholder:"192.168.1.100","data-testid":"input-smb-host"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"smb-share",children:"Nombre del Recurso Compartido *"}),h.jsx(zt,{id:"smb-share",value:c.shareName,onChange:y=>u({...c,shareName:y.target.value}),placeholder:"archivos","data-testid":"input-smb-share"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"smb-username",children:"Usuario *"}),h.jsx(zt,{id:"smb-username",value:c.username,onChange:y=>u({...c,username:y.target.value}),"data-testid":"input-smb-username"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"smb-password",children:"Contrasea *"}),h.jsx(zt,{id:"smb-password",type:"password",value:c.password,onChange:y=>u({...c,password:y.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-smb-password"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"smb-domain",children:"Dominio (opcional)"}),h.jsx(zt,{id:"smb-domain",value:c.domain,onChange:y=>u({...c,domain:y.target.value}),placeholder:"WORKGROUP","data-testid":"input-smb-domain"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"smb-basePath",children:"Ruta Base"}),h.jsx(zt,{id:"smb-basePath",value:c.basePath,onChange:y=>u({...c,basePath:y.target.value}),placeholder:"/uploads","data-testid":"input-smb-basepath"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsx(Qe,{htmlFor:"storage-active",className:"font-medium",children:"Activar Configuracin"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Esta configuracin est activa y se usa para nuevos archivos":"Activa esta configuracin para empezar a usarla"})]}),h.jsx(zh,{id:"storage-active",checked:r,onCheckedChange:i,"data-testid":"switch-storage-active"})]}),h.jsxs("div",{className:"flex gap-2",children:[e!=="LOCAL"&&h.jsx(Ve,{variant:"outline",onClick:b,disabled:o,"data-testid":"button-test-connection",children:o?h.jsxs(h.Fragment,{children:[h.jsx(Ote,{className:"h-4 w-4 mr-2 animate-spin"}),"Probando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(bw,{className:"h-4 w-4 mr-2"}),"Probar Conexin"]})}),h.jsx(Ve,{onClick:v,disabled:m.isPending,"data-testid":"button-save-storage-config",children:m.isPending?"Guardando...":"Guardar Configuracin"})]})]})]}),f&&f.type!==e&&h.jsxs(tn,{className:"border-orange-200 dark:border-orange-900",children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400",children:[h.jsx(Sk,{className:"h-5 w-5"}),"Migracin de Archivos"]})}),h.jsxs(nn,{children:[h.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Al cambiar el tipo de almacenamiento, los archivos existentes permanecern en ",f.type,". Puedes migrarlos al nuevo almacenamiento desde la seccin de mantenimiento."]}),h.jsxs(Ve,{variant:"outline",disabled:!0,children:[h.jsx(Sk,{className:"h-4 w-4 mr-2"}),"Migrar Archivos (Prximamente)"]})]})]})]})}function cc(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Xh(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const gJ=6048e5,Fje=864e5;let Bje={};function Y2(){return Bje}function $y(t,e){const n=Y2(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=cc(t),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function pw(t){return $y(t,{weekStartsOn:1})}function vJ(t){const e=cc(t),n=e.getFullYear(),r=Xh(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=pw(r),o=Xh(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=pw(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function O7(t){const e=cc(t);return e.setHours(0,0,0,0),e}function M7(t){const e=cc(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $je(t,e){const n=O7(t),r=O7(e),i=+n-M7(n),o=+r-M7(r);return Math.round((i-o)/Fje)}function zje(t){const e=vJ(t),n=Xh(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),pw(n)}function qje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Uje(t){if(!qje(t)&&typeof t!="number")return!1;const e=cc(t);return!isNaN(Number(e))}function Hje(t){const e=cc(t),n=Xh(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Wje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vje=(t,e,n)=>{let r;const i=Wje[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ym(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Kje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xje={date:ym({formats:Kje,defaultWidth:"full"}),time:ym({formats:Gje,defaultWidth:"full"}),dateTime:ym({formats:Yje,defaultWidth:"full"})},Qje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jje=(t,e,n,r)=>Qje[t];function Rc(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=n?.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=n?.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const Zje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eIe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tIe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nIe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rIe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iIe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oIe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aIe={ordinalNumber:oIe,era:Rc({values:Zje,defaultWidth:"wide"}),quarter:Rc({values:eIe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rc({values:tIe,defaultWidth:"wide"}),day:Rc({values:nIe,defaultWidth:"wide"}),dayPeriod:Rc({values:rIe,defaultWidth:"wide",formattingValues:iIe,defaultFormattingWidth:"wide"})};function jc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?lIe(s,f=>f.test(a)):sIe(s,f=>f.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function sIe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lIe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const cIe=/^(\d+)(th|st|nd|rd)?/i,uIe=/\d+/i,dIe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fIe={any:[/^b/i,/^(a|c)/i]},hIe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pIe={any:[/1/i,/2/i,/3/i,/4/i]},mIe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gIe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vIe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yIe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bIe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xIe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wIe={ordinalNumber:yJ({matchPattern:cIe,parsePattern:uIe,valueCallback:t=>parseInt(t,10)}),era:jc({matchPatterns:dIe,defaultMatchWidth:"wide",parsePatterns:fIe,defaultParseWidth:"any"}),quarter:jc({matchPatterns:hIe,defaultMatchWidth:"wide",parsePatterns:pIe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jc({matchPatterns:mIe,defaultMatchWidth:"wide",parsePatterns:gIe,defaultParseWidth:"any"}),day:jc({matchPatterns:vIe,defaultMatchWidth:"wide",parsePatterns:yIe,defaultParseWidth:"any"}),dayPeriod:jc({matchPatterns:bIe,defaultMatchWidth:"any",parsePatterns:xIe,defaultParseWidth:"any"})},SIe={code:"en-US",formatDistance:Vje,formatLong:Xje,formatRelative:Jje,localize:aIe,match:wIe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _Ie(t){const e=cc(t);return $je(e,Hje(e))+1}function EIe(t){const e=cc(t),n=+pw(e)-+zje(e);return Math.round(n/gJ)+1}function bJ(t,e){const n=cc(t),r=n.getFullYear(),i=Y2(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Xh(t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=$y(a,e),l=Xh(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=$y(l,e);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function NIe(t,e){const n=Y2(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=bJ(t,e),o=Xh(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),$y(o,e)}function AIe(t,e){const n=cc(t),r=+$y(n,e)-+NIe(n,e);return Math.round(r/gJ)+1}function Er(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Bd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Er(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Er(n+1,2)},d(t,e){return Er(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Er(t.getHours()%12||12,e.length)},H(t,e){return Er(t.getHours(),e.length)},m(t,e){return Er(t.getMinutes(),e.length)},s(t,e){return Er(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Er(i,e.length)}},zp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},P7={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Bd.y(t,e)},Y:function(t,e,n,r){const i=bJ(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return Er(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Er(o,e.length)},R:function(t,e){const n=vJ(t);return Er(n,e.length)},u:function(t,e){const n=t.getFullYear();return Er(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Er(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Er(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Bd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Er(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=AIe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Er(i,e.length)},I:function(t,e,n){const r=EIe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Er(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Bd.d(t,e)},D:function(t,e,n){const r=_Ie(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Er(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Er(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Er(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Er(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=zp.noon:r===0?i=zp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=zp.evening:r>=12?i=zp.afternoon:r>=4?i=zp.morning:i=zp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Bd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Bd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Er(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Er(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Bd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Bd.s(t,e)},S:function(t,e){return Bd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return j7(r);case"XXXX":case"XX":return sh(r);case"XXXXX":case"XXX":default:return sh(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return j7(r);case"xxxx":case"xx":return sh(r);case"xxxxx":case"xxx":default:return sh(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+R7(r,":");case"OOOO":default:return"GMT"+sh(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+R7(r,":");case"zzzz":default:return"GMT"+sh(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Er(r,e.length)},T:function(t,e,n){const r=t.getTime();return Er(r,e.length)}};function R7(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Er(o,2)}function j7(t,e){return t%60===0?(t>0?"-":"+")+Er(Math.abs(t)/60,2):sh(t,e)}function sh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Er(Math.trunc(r/60),2),o=Er(r%60,2);return n+i+e+o}const I7=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xJ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kIe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return I7(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",I7(r,e)).replace("{{time}}",xJ(i,e))},CIe={p:xJ,P:kIe},TIe=/^D+$/,OIe=/^Y+$/,MIe=["D","DD","YY","YYYY"];function PIe(t){return TIe.test(t)}function RIe(t){return OIe.test(t)}function jIe(t,e,n){const r=IIe(t,e,n);if(console.warn(r),MIe.includes(t))throw new RangeError(r)}function IIe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LIe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DIe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FIe=/^'([^]*?)'?$/,BIe=/''/g,$Ie=/[a-zA-Z]/;function oO(t,e,n){const r=Y2(),i=n?.locale??r.locale??SIe,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=cc(t);if(!Uje(s))throw new RangeError("Invalid time value");let l=e.match(DIe).map(u=>{const f=u[0];if(f==="p"||f==="P"){const g=CIe[f];return g(u,i.formatLong)}return u}).join("").match(LIe).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const f=u[0];if(f==="'")return{isToken:!1,value:zIe(u)};if(P7[f])return{isToken:!0,value:u};if(f.match($Ie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const f=u.value;(!n?.useAdditionalWeekYearTokens&&RIe(f)||!n?.useAdditionalDayOfYearTokens&&PIe(f))&&jIe(f,e,String(t));const g=P7[f[0]];return g(s,f,i.localize,c)}).join("")}function zIe(t){const e=t.match(FIe);return e?e[1].replace(BIe,"'"):t}const qIe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},UIe=(t,e,n)=>{let r;const i=qIe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},HIe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},WIe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},VIe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KIe={date:ym({formats:HIe,defaultWidth:"full"}),time:ym({formats:WIe,defaultWidth:"full"}),dateTime:ym({formats:VIe,defaultWidth:"full"})},GIe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},YIe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},XIe=(t,e,n,r)=>e.getHours()!==1?YIe[t]:GIe[t],QIe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},JIe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ZIe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},e3e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},t3e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},n3e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},r3e=(t,e)=>Number(t)+"",i3e={ordinalNumber:r3e,era:Rc({values:QIe,defaultWidth:"wide"}),quarter:Rc({values:JIe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Rc({values:ZIe,defaultWidth:"wide"}),day:Rc({values:e3e,defaultWidth:"wide"}),dayPeriod:Rc({values:t3e,defaultWidth:"wide",formattingValues:n3e,defaultFormattingWidth:"wide"})},o3e=/^(\d+)()?/i,a3e=/\d+/i,s3e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},l3e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},c3e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},u3e={any:[/1/i,/2/i,/3/i,/4/i]},d3e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},f3e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},h3e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},p3e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},m3e={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},g3e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},v3e={ordinalNumber:yJ({matchPattern:o3e,parsePattern:a3e,valueCallback:function(t){return parseInt(t,10)}}),era:jc({matchPatterns:s3e,defaultMatchWidth:"wide",parsePatterns:l3e,defaultParseWidth:"any"}),quarter:jc({matchPatterns:c3e,defaultMatchWidth:"wide",parsePatterns:u3e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jc({matchPatterns:d3e,defaultMatchWidth:"wide",parsePatterns:f3e,defaultParseWidth:"any"}),day:jc({matchPatterns:h3e,defaultMatchWidth:"wide",parsePatterns:p3e,defaultParseWidth:"any"}),dayPeriod:jc({matchPatterns:m3e,defaultMatchWidth:"any",parsePatterns:g3e,defaultParseWidth:"any"})},aO={code:"es",formatDistance:UIe,formatLong:KIe,formatRelative:XIe,localize:i3e,match:v3e,options:{weekStartsOn:1,firstWeekContainsDate:1}},y3e={clients:"Clientes",tasks:"Tareas",client_tax:"Impuestos",manuals:"Manuales",users:"Usuarios"},b3e={CREATE:"default",UPDATE:"secondary",DELETE:"destructive"},x3e={CREATE:"Creacin",UPDATE:"Actualizacin",DELETE:"Eliminacin"};function w3e(){const[t,e]=O.useState("all"),{data:n=[],isLoading:r}=$n({queryKey:["/api/audit",t],queryFn:async()=>{const o=new URLSearchParams;t!=="all"&&o.append("table",t);const a=await fetch(`/api/audit?${o.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw new Error("Error al cargar auditora");return a.json()}}),i=({anterior:o,nuevo:a})=>{if(!o&&!a)return null;const s=o?JSON.parse(o):{},l=a?JSON.parse(a):{};return h.jsx("div",{className:"mt-2 space-y-1",children:Object.keys({...s,...l}).map(c=>{if(["id","fechaActualizacion","fechaCreacion","created_at","updated_at"].includes(c))return null;const u=s[c],f=l[c];return u===f?null:h.jsxs("div",{className:"text-sm",children:[h.jsxs("span",{className:"font-medium text-muted-foreground",children:[c,":"]})," ",u!==void 0&&h.jsx("span",{className:"line-through text-destructive",children:String(u)}),u!==void 0&&f!==void 0&&"  ",f!==void 0&&h.jsx("span",{className:"text-primary",children:String(f)})]},c)})})};return h.jsxs("div",{className:"container mx-auto py-6 px-4",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold",children:"Auditora del Sistema"}),h.jsx("p",{className:"text-muted-foreground",children:"Registro completo de cambios y modificaciones"})]}),h.jsx("div",{className:"mb-6 flex gap-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(zz,{className:"h-4 w-4 text-muted-foreground"}),h.jsxs(Qi,{value:t,onValueChange:e,children:[h.jsx(Bi,{className:"w-[200px]","data-testid":"select-filter-table",children:h.jsx(Ji,{placeholder:"Filtrar por mdulo"})}),h.jsxs($i,{children:[h.jsx(an,{value:"all",children:"Todos los mdulos"}),h.jsx(an,{value:"clients",children:"Clientes"}),h.jsx(an,{value:"tasks",children:"Tareas"}),h.jsx(an,{value:"client_tax",children:"Impuestos"}),h.jsx(an,{value:"manuals",children:"Manuales"}),h.jsx(an,{value:"users",children:"Usuarios"})]})]})]})}),r?h.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),h.jsx(nn,{children:h.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})})]},o))}):n.length===0?h.jsx(tn,{children:h.jsxs(nn,{className:"py-10 text-center",children:[h.jsx(ec,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No se encontraron registros de auditora"})]})}):h.jsx("div",{className:"space-y-4",children:n.map(o=>h.jsxs(tn,{"data-testid":`audit-entry-${o.id}`,children:[h.jsx(Pn,{children:h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{children:[h.jsxs(Fn,{className:"text-lg flex items-center gap-2",children:[h.jsx(Rn,{variant:b3e[o.accion],children:x3e[o.accion]}),h.jsx("span",{children:y3e[o.tabla]||o.tabla})]}),h.jsx(Qh,{className:"mt-2",children:o.cambios||"Sin descripcin de cambios"})]})})}),h.jsx(nn,{children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(NO,{className:"h-4 w-4"}),h.jsx("span",{children:o.usuario?.username||"Usuario desconocido"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(_O,{className:"h-4 w-4"}),h.jsx("span",{children:oO(new Date(o.fecha),"d 'de' MMMM 'de' yyyy, HH:mm",{locale:aO})})]})]}),(o.valorAnterior||o.valorNuevo)&&h.jsx(i,{anterior:o.valorAnterior,nuevo:o.valorNuevo})]})})]},o.id))})]})}function S3e(){const{toast:t}=as(),[e,n]=O.useState(""),[r,i]=O.useState(!1),[o,a]=O.useState(null),[s,l]=O.useState(!1),[c,u]=O.useState(null),[f,g]=O.useState({impuestoId:"",periodicidad:"TRIMESTRAL",diaVencimiento:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:"",activo:!0}),{data:m=[],isLoading:b}=$n({queryKey:["/api/clients"]}),{data:v=[],isLoading:y}=$n({queryKey:["/api/impuestos"]}),{data:w=[],isLoading:N}=$n({queryKey:[`/api/obligaciones-fiscales/cliente/${e}`],enabled:!!e}),k=kn({mutationFn:async z=>{const U={clienteId:e,impuestoId:z.impuestoId,periodicidad:z.periodicidad,diaVencimiento:z.diaVencimiento?parseInt(z.diaVencimiento):null,fechaInicio:z.fechaInicio,fechaFin:z.fechaFin||null,activo:z.activo};return await vn("POST","/api/obligaciones-fiscales",U)},onSuccess:()=>{Mn.invalidateQueries({queryKey:[`/api/obligaciones-fiscales/cliente/${e}`]}),t({title:"Obligacin fiscal creada exitosamente"}),i(!1),P()},onError:z=>{t({title:"Error al crear obligacin fiscal",description:z.message,variant:"destructive"})}}),A=kn({mutationFn:async({id:z,data:U})=>{const Y={periodicidad:U.periodicidad,diaVencimiento:U.diaVencimiento?parseInt(U.diaVencimiento):null,fechaInicio:U.fechaInicio,fechaFin:U.fechaFin||null,activo:U.activo};return await vn("PATCH",`/api/obligaciones-fiscales/${z}`,Y)},onSuccess:()=>{Mn.invalidateQueries({queryKey:[`/api/obligaciones-fiscales/cliente/${e}`]}),t({title:"Obligacin fiscal actualizada exitosamente"}),i(!1),P()},onError:z=>{t({title:"Error al actualizar obligacin fiscal",description:z.message,variant:"destructive"})}}),T=kn({mutationFn:async z=>await vn("DELETE",`/api/obligaciones-fiscales/${z}`),onSuccess:()=>{Mn.invalidateQueries({queryKey:[`/api/obligaciones-fiscales/cliente/${e}`]}),t({title:"Obligacin fiscal eliminada exitosamente"}),l(!1),u(null)},onError:z=>{t({title:"Error al eliminar obligacin fiscal",description:z.message,variant:"destructive"})}}),P=()=>{g({impuestoId:"",periodicidad:"TRIMESTRAL",diaVencimiento:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:"",activo:!0}),a(null)},L=z=>{a(z),g({impuestoId:z.impuestoId,periodicidad:z.periodicidad,diaVencimiento:z.diaVencimiento?.toString()||"",fechaInicio:z.fechaInicio,fechaFin:z.fechaFin||"",activo:z.activo}),i(!0)},C=z=>{u(z),l(!0)},M=z=>{z.preventDefault(),o?A.mutate({id:o.id,data:f}):k.mutate(f)},q=z=>{const Y={MENSUAL:{variant:"default",label:"Mensual"},TRIMESTRAL:{variant:"secondary",label:"Trimestral"},ANUAL:{variant:"outline",label:"Anual"}}[z]||{variant:"outline",label:z};return h.jsx(Rn,{variant:Y.variant,"data-testid":`badge-periodicidad-${z.toLowerCase()}`,children:Y.label})},D=m.find(z=>z.id===e),I=v.filter(z=>z.activo);return b||y?h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx(nr,{className:"h-9 w-64"}),h.jsx("div",{className:"space-y-4",children:[...Array(3)].map((z,U)=>h.jsx(nr,{className:"h-20"},U))})]}):h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-display font-bold",children:"Obligaciones Fiscales"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de impuestos asignados por cliente"})]})}),h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"flex items-center gap-2",children:[h.jsx(Dz,{className:"h-5 w-5"}),"Seleccionar Cliente"]})}),h.jsx(nn,{children:h.jsxs(Qi,{value:e,onValueChange:n,children:[h.jsx(Bi,{"data-testid":"select-client",children:h.jsx(Ji,{placeholder:"Selecciona un cliente"})}),h.jsx($i,{children:m.map(z=>h.jsxs(an,{value:z.id,children:[z.razonSocial," (",z.nifCif,")"]},z.id))})]})})]}),e&&h.jsxs(tn,{children:[h.jsx(Pn,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(Fn,{children:"Obligaciones Fiscales"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D?.razonSocial})]}),h.jsxs(ma,{open:r,onOpenChange:z=>{i(z),z||P()},children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:P,"data-testid":"button-add-obligacion",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nueva Obligacin"]})}),h.jsxs(Ko,{children:[h.jsxs(ga,{children:[h.jsx(va,{children:o?"Editar Obligacin Fiscal":"Nueva Obligacin Fiscal"}),h.jsx(ja,{children:o?"Modifica los datos de la obligacin fiscal":"Asigna un nuevo impuesto al cliente"})]}),h.jsxs("form",{onSubmit:M,className:"space-y-4",children:[!o&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"impuesto",children:"Impuesto *"}),h.jsxs(Qi,{value:f.impuestoId,onValueChange:z=>g({...f,impuestoId:z}),children:[h.jsx(Bi,{"data-testid":"select-impuesto",children:h.jsx(Ji,{placeholder:"Selecciona un impuesto"})}),h.jsx($i,{children:I.map(z=>h.jsxs(an,{value:z.id,children:[z.modelo," - ",z.nombre]},z.id))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"periodicidad",children:"Periodicidad *"}),h.jsxs(Qi,{value:f.periodicidad,onValueChange:z=>g({...f,periodicidad:z}),children:[h.jsx(Bi,{"data-testid":"select-periodicidad",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"MENSUAL",children:"Mensual"}),h.jsx(an,{value:"TRIMESTRAL",children:"Trimestral"}),h.jsx(an,{value:"ANUAL",children:"Anual"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"diaVencimiento",children:"Da de Vencimiento (opcional)"}),h.jsx(zt,{id:"diaVencimiento",type:"number",min:"1",max:"31",value:f.diaVencimiento,onChange:z=>g({...f,diaVencimiento:z.target.value}),placeholder:"Ej: 20","data-testid":"input-dia-vencimiento"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Da del mes en que vence la declaracin (si es distinto al calendario AEAT)"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"fechaInicio",children:"Fecha Inicio *"}),h.jsx(zt,{id:"fechaInicio",type:"date",value:f.fechaInicio,onChange:z=>g({...f,fechaInicio:z.target.value}),required:!0,"data-testid":"input-fecha-inicio"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"fechaFin",children:"Fecha Fin (opcional)"}),h.jsx(zt,{id:"fechaFin",type:"date",value:f.fechaFin,onChange:z=>g({...f,fechaFin:z.target.value}),"data-testid":"input-fecha-fin"})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"checkbox",id:"activo",checked:f.activo,onChange:z=>g({...f,activo:z.target.checked}),className:"rounded border-gray-300","data-testid":"checkbox-activo"}),h.jsx(Qe,{htmlFor:"activo",className:"text-sm font-normal",children:"Obligacin activa"})]}),h.jsxs(Ns,{children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{i(!1),P()},children:"Cancelar"}),h.jsx(Ve,{type:"submit",disabled:k.isPending||A.isPending,"data-testid":"button-submit-obligacion",children:k.isPending||A.isPending?"Guardando...":o?"Actualizar":"Crear"})]})]})]})]})]})}),h.jsx(nn,{children:N?h.jsx("div",{className:"space-y-4",children:[...Array(3)].map((z,U)=>h.jsx(nr,{className:"h-24"},U))}):w.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(eg,{className:"mx-auto h-12 w-12 text-muted-foreground"}),h.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay obligaciones fiscales"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Comienza asignando un impuesto a este cliente"})]}):h.jsx("div",{className:"space-y-4",children:w.map(z=>{const U=v.find(Y=>Y.id===z.impuestoId);return h.jsx(tn,{"data-testid":`card-obligacion-${z.id}`,children:h.jsx(nn,{className:"p-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-2 flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("h4",{className:"font-semibold text-lg",children:[U?.modelo," - ",U?.nombre]}),q(z.periodicidad),h.jsx(Rn,{variant:z.activo?"default":"secondary","data-testid":`badge-estado-${z.id}`,children:z.activo?"Activa":"Inactiva"})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bv,{className:"h-4 w-4"}),"Inicio: ",new Date(z.fechaInicio).toLocaleDateString()]}),z.fechaFin&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bv,{className:"h-4 w-4"}),"Fin: ",new Date(z.fechaFin).toLocaleDateString()]}),z.diaVencimiento&&h.jsxs("span",{children:["Vencimiento da ",z.diaVencimiento]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ve,{variant:"outline",size:"icon",onClick:()=>L(z),"data-testid":`button-edit-${z.id}`,children:h.jsx(Wz,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"outline",size:"icon",onClick:()=>C(z.id),"data-testid":`button-delete-${z.id}`,children:h.jsx(Fc,{className:"h-4 w-4"})})]})]})})},z.id)})})})]}),h.jsx(uP,{open:s,onOpenChange:l,children:h.jsxs(S2,{children:[h.jsxs(_2,{children:[h.jsx(N2,{children:"Eliminar obligacin fiscal?"}),h.jsx(A2,{children:"Esta accin no se puede deshacer. Se eliminar la obligacin fiscal y todas sus declaraciones asociadas."})]}),h.jsxs(E2,{children:[h.jsx(C2,{children:"Cancelar"}),h.jsx(k2,{onClick:()=>c&&T.mutate(c),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Eliminar"})]})]})})]})}const _3e={MENSUAL:"bg-blue-500",TRIMESTRAL:"bg-green-500",ANUAL:"bg-purple-500"};function E3e(){const{toast:t}=as(),[e,n]=O.useState(new Date().getFullYear().toString()),[r,i]=O.useState("all"),[o,a]=O.useState("all"),[s,l]=O.useState(!1),[c,u]=O.useState(!1),[f,g]=O.useState(null),[m,b]=O.useState(null),[v,y]=O.useState({modelo:"",periodicidad:"MENSUAL",periodoContable:"",fechaInicio:"",fechaFin:""}),{data:w=[],isLoading:N}=$n({queryKey:["/api/impuestos"]}),{data:k=[],isLoading:A}=$n({queryKey:["/api/calendario-aeat",e,r,o],queryFn:async()=>{const K=new URLSearchParams;e&&e!=="all"&&K.append("anio",e),r&&r!=="all"&&K.append("modelo",r),o&&o!=="all"&&K.append("periodicidad",o);const fe=`/api/calendario-aeat${K.toString()?`?${K.toString()}`:""}`,X=await fetch(fe);if(!X.ok)throw new Error("Error al cargar calendarios");return X.json()}}),T=N||A,P=kn({mutationFn:async K=>await vn("/api/calendario-aeat","POST",K),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/calendario-aeat"]}),l(!1),M(),t({title:"Calendario creado",description:"El perodo del calendario AEAT ha sido creado correctamente."})},onError:K=>{t({title:"Error",description:K.message||"No se pudo crear el calendario",variant:"destructive"})}}),L=kn({mutationFn:async({id:K,data:fe})=>await vn(`/api/calendario-aeat/${K}`,"PATCH",fe),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/calendario-aeat"]}),l(!1),g(null),M(),t({title:"Calendario actualizado",description:"Las fechas del calendario han sido actualizadas correctamente."})},onError:K=>{t({title:"Error",description:K.message||"No se pudo actualizar el calendario",variant:"destructive"})}}),C=kn({mutationFn:async K=>await vn(`/api/calendario-aeat/${K}`,"DELETE"),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/calendario-aeat"]}),u(!1),b(null),t({title:"Calendario eliminado",description:"El perodo del calendario ha sido eliminado correctamente."})},onError:K=>{t({title:"Error",description:K.message||"No se pudo eliminar el calendario",variant:"destructive"})}}),M=()=>{y({modelo:"",periodicidad:"MENSUAL",periodoContable:"",fechaInicio:"",fechaFin:""})},q=K=>{if(K.preventDefault(),!v.modelo||!v.periodoContable||!v.fechaInicio||!v.fechaFin){t({title:"Error",description:"Todos los campos son requeridos",variant:"destructive"});return}f?L.mutate({id:f.id,data:{fechaInicio:v.fechaInicio,fechaFin:v.fechaFin}}):P.mutate(v)},D=K=>{g(K),y({modelo:K.modelo,periodicidad:K.periodicidad,periodoContable:K.periodoContable,fechaInicio:K.fechaInicio.split("T")[0],fechaFin:K.fechaFin.split("T")[0]}),l(!0)},I=K=>{b(K),u(!0)},z=()=>{m&&C.mutate(m)},U=()=>{g(null),M(),l(!0)},Y=()=>{l(!1),g(null),M()},ne=new Date().getFullYear(),W=Array.from({length:11},(K,fe)=>(ne-5+fe).toString()),G=K=>{const fe=w.find(X=>X.modelo===K);return fe?`${K} - ${fe.nombre}`:K};return h.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[h.jsx(Bv,{className:"h-8 w-8"}),"Calendario AEAT"]}),h.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestin de perodos fiscales y fechas lmite oficiales de la AEAT"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsxs(tn,{className:"lg:col-span-1",children:[h.jsx(Pn,{children:h.jsxs(Fn,{className:"flex items-center gap-2",children:[h.jsx(zz,{className:"h-5 w-5"}),"Filtros"]})}),h.jsxs(nn,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"filter-year",children:"Ejercicio Fiscal"}),h.jsxs(Qi,{value:e,onValueChange:n,children:[h.jsx(Bi,{id:"filter-year","data-testid":"select-year",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"all",children:"Todos los aos"}),W.map(K=>h.jsx(an,{value:K,children:K},K))]})]})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"filter-modelo",children:"Modelo"}),h.jsxs(Qi,{value:r,onValueChange:i,children:[h.jsx(Bi,{id:"filter-modelo","data-testid":"select-modelo",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"all",children:"Todos los modelos"}),w.filter(K=>K.activo).map(K=>h.jsxs(an,{value:K.modelo,children:[K.modelo," - ",K.nombre]},K.id))]})]})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"filter-periodicidad",children:"Periodicidad"}),h.jsxs(Qi,{value:o,onValueChange:a,children:[h.jsx(Bi,{id:"filter-periodicidad","data-testid":"select-periodicidad",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"all",children:"Todas"}),h.jsx(an,{value:"MENSUAL",children:"Mensual"}),h.jsx(an,{value:"TRIMESTRAL",children:"Trimestral"}),h.jsx(an,{value:"ANUAL",children:"Anual"})]})]})]}),h.jsx(Ve,{variant:"outline",className:"w-full",onClick:()=>{n(ne.toString()),i("all"),a("all")},"data-testid":"button-reset-filters",children:"Limpiar filtros"})]})]}),h.jsxs(tn,{className:"lg:col-span-3",children:[h.jsx(Pn,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(Fn,{children:"Perodos del Calendario"}),h.jsxs(ma,{open:s,onOpenChange:l,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:U,"data-testid":"button-create-periodo",children:[h.jsx(ll,{className:"mr-2 h-4 w-4"}),"Nuevo Perodo"]})}),h.jsxs(Ko,{className:"max-w-md",children:[h.jsx(ga,{children:h.jsx(va,{children:f?"Editar Perodo":"Nuevo Perodo del Calendario"})}),h.jsxs("form",{onSubmit:q,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"modelo",children:"Modelo *"}),h.jsxs(Qi,{value:v.modelo,onValueChange:K=>y({...v,modelo:K}),disabled:!!f,children:[h.jsx(Bi,{id:"modelo","data-testid":"input-modelo",children:h.jsx(Ji,{placeholder:"Seleccionar modelo"})}),h.jsx($i,{children:w.filter(K=>K.activo).map(K=>h.jsxs(an,{value:K.modelo,children:[K.modelo," - ",K.nombre]},K.id))})]})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"periodicidad",children:"Periodicidad *"}),h.jsxs(Qi,{value:v.periodicidad,onValueChange:K=>y({...v,periodicidad:K}),disabled:!!f,children:[h.jsx(Bi,{id:"periodicidad","data-testid":"input-periodicidad",children:h.jsx(Ji,{})}),h.jsxs($i,{children:[h.jsx(an,{value:"MENSUAL",children:"Mensual"}),h.jsx(an,{value:"TRIMESTRAL",children:"Trimestral"}),h.jsx(an,{value:"ANUAL",children:"Anual"})]})]})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"periodoContable",children:"Perodo Contable *"}),h.jsx(zt,{id:"periodoContable","data-testid":"input-periodo-contable",value:v.periodoContable,onChange:K=>y({...v,periodoContable:K.target.value}),placeholder:"Ej: 2025-Q1, 2025-04, 2025",disabled:!!f}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Formato: YYYY-QN (trimestral), YYYY-MM (mensual), YYYY (anual)"})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"fechaInicio",children:"Fecha de Inicio *"}),h.jsx(zt,{id:"fechaInicio","data-testid":"input-fecha-inicio",type:"date",value:v.fechaInicio,onChange:K=>y({...v,fechaInicio:K.target.value})})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"fechaFin",children:"Fecha Lmite de Presentacin *"}),h.jsx(zt,{id:"fechaFin","data-testid":"input-fecha-fin",type:"date",value:v.fechaFin,onChange:K=>y({...v,fechaFin:K.target.value})})]}),h.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:Y,"data-testid":"button-cancel",children:"Cancelar"}),h.jsx(Ve,{type:"submit",disabled:P.isPending||L.isPending,"data-testid":"button-submit",children:f?"Actualizar":"Crear"})]})]})]})]})]})}),h.jsx(nn,{children:T?h.jsx("div",{className:"space-y-4",children:[...Array(5)].map((K,fe)=>h.jsx(nr,{className:"h-24"},fe))}):k.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(eg,{className:"mx-auto h-12 w-12 text-muted-foreground"}),h.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay perodos"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No se encontraron perodos del calendario con los filtros seleccionados"})]}):h.jsx("div",{className:"space-y-4",children:k.map(K=>h.jsx(tn,{"data-testid":`card-calendario-${K.id}`,children:h.jsx(nn,{className:"p-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("h3",{className:"font-semibold text-lg",children:G(K.modelo)}),h.jsx(Rn,{className:`${_3e[K.periodicidad]} text-white`,"data-testid":`badge-periodicidad-${K.id}`,children:K.periodicidad})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Perodo"}),h.jsx("p",{className:"font-medium","data-testid":`text-periodo-${K.id}`,children:K.periodoContable})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Inicio"}),h.jsx("p",{className:"font-medium","data-testid":`text-inicio-${K.id}`,children:oO(new Date(K.fechaInicio),"dd/MM/yyyy",{locale:aO})})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Lmite Presentacin"}),h.jsx("p",{className:"font-medium text-red-600","data-testid":`text-limite-${K.id}`,children:oO(new Date(K.fechaFin),"dd/MM/yyyy",{locale:aO})})]})]})]}),h.jsxs("div",{className:"flex gap-2 ml-4",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>D(K),"data-testid":`button-edit-${K.id}`,children:h.jsx(jte,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>I(K.id),"data-testid":`button-delete-${K.id}`,children:h.jsx(Fc,{className:"h-4 w-4"})})]})]})})},K.id))})})]})]}),h.jsx(uP,{open:c,onOpenChange:u,children:h.jsxs(S2,{children:[h.jsxs(_2,{children:[h.jsx(N2,{children:"Eliminar perodo del calendario?"}),h.jsxs(A2,{children:["Esta accin no se puede deshacer. El perodo ser eliminado permanentemente del calendario AEAT.",h.jsx("br",{}),h.jsx("br",{}),h.jsx("strong",{className:"text-yellow-600",children:"Advertencia:"})," Si existen declaraciones asociadas a este perodo, podran quedar hurfanas."]})]}),h.jsxs(E2,{children:[h.jsx(C2,{"data-testid":"button-cancel-delete",children:"Cancelar"}),h.jsx(k2,{onClick:z,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Eliminar"})]})]})})]})}const L7=[{key:"{nombre_cliente}",description:"Nombre del cliente"},{key:"{email_cliente}",description:"Email del cliente"},{key:"{fecha_vencimiento}",description:"Fecha de vencimiento"}];function N3e(){const[t,e]=O.useState("plantillas"),{toast:n}=as(),[r,i]=O.useState(!1),[o,a]=O.useState(null),[s,l]=O.useState({nombre:"",asunto:"",contenidoHTML:""}),[c,u]=O.useState(""),[f,g]=O.useState("all"),[m,b]=O.useState(""),[v,y]=O.useState(!1),{data:w,isLoading:N}=$n({queryKey:["/api/notification-templates"]}),{data:k}=$n({queryKey:["/api/admin/smtp-accounts"]}),{data:A,isLoading:T}=$n({queryKey:["/api/notifications/history"],enabled:t==="historial"}),{data:P,isLoading:L}=$n({queryKey:["/api/notifications/scheduled"],enabled:t==="programadas"}),C=kn({mutationFn:async W=>await vn("POST","/api/notification-templates",W),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),I(),n({title:"Plantilla creada",description:"La plantilla se ha creado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo crear la plantilla.",variant:"destructive"})}}),M=kn({mutationFn:async({id:W,data:G})=>await vn("PATCH",`/api/notification-templates/${W}`,G),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),I(),n({title:"Plantilla actualizada",description:"La plantilla se ha actualizado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo actualizar la plantilla.",variant:"destructive"})}}),q=kn({mutationFn:async W=>await vn("DELETE",`/api/notification-templates/${W}`),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/notification-templates"]}),n({title:"Plantilla eliminada",description:"La plantilla se ha eliminado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo eliminar la plantilla.",variant:"destructive"})}}),D=kn({mutationFn:async W=>v?await vn("POST","/api/notifications/schedule",W):await vn("POST","/api/notifications/send",W),onSuccess:()=>{Mn.invalidateQueries({queryKey:["/api/notifications/history"]}),Mn.invalidateQueries({queryKey:["/api/notifications/scheduled"]}),u(""),g("all"),b(""),y(!1),n({title:v?"Notificacin programada":"Notificacin enviada",description:v?"La notificacin se ha programado correctamente.":"La notificacin se ha enviado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo enviar la notificacin.",variant:"destructive"})}}),I=()=>{l({nombre:"",asunto:"",contenidoHTML:""}),a(null)},z=()=>{if(!c)return;const W=w?.find(G=>String(G.id)===c);W&&D.mutate({plantillaId:c,smtpAccountId:m||null,destinatarios:f,asunto:W.asunto,contenido:W.contenidoHTML})},U=W=>{a(W),l({nombre:W.nombre,asunto:W.asunto,contenidoHTML:W.contenidoHTML}),i(!0)},Y=W=>{W.preventDefault(),o?M.mutate({id:o.id,data:s}):C.mutate(s)},ne=W=>{const G=s.contenidoHTML+" "+W+" ";l({...s,contenidoHTML:G})};return h.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx("h1",{className:"text-3xl font-display font-bold",children:"Sistema de Notificaciones"})}),h.jsxs(Xy,{value:t,onValueChange:e,className:"space-y-4",children:[h.jsxs(lg,{children:[h.jsxs(uo,{value:"plantillas","data-testid":"tab-plantillas",children:[h.jsx(ec,{className:"h-4 w-4 mr-2"}),"Plantillas"]}),h.jsxs(uo,{value:"enviar","data-testid":"tab-enviar",children:[h.jsx(Fte,{className:"h-4 w-4 mr-2"}),"Enviar Notificacin"]}),h.jsxs(uo,{value:"historial","data-testid":"tab-historial",children:[h.jsx(_k,{className:"h-4 w-4 mr-2"}),"Historial"]}),h.jsxs(uo,{value:"programadas","data-testid":"tab-programadas",children:[h.jsx(_O,{className:"h-4 w-4 mr-2"}),"Programadas"]})]}),h.jsxs(Ho,{value:"plantillas",className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-display font-semibold",children:"Plantillas de Notificacin"}),h.jsxs(ma,{open:r,onOpenChange:i,children:[h.jsx(ol,{asChild:!0,children:h.jsxs(Ve,{onClick:()=>I(),"data-testid":"button-add-template",children:[h.jsx(ll,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),h.jsxs(Ko,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[h.jsxs(ga,{children:[h.jsxs(va,{children:[o?"Editar":"Nueva"," Plantilla"]}),h.jsx(ja,{children:"Crea plantillas de notificacin reutilizables con variables dinmicas"})]}),h.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"template-nombre",children:"Nombre de la Plantilla *"}),h.jsx(zt,{id:"template-nombre",value:s.nombre,onChange:W=>l({...s,nombre:W.target.value}),placeholder:"Ej: Recordatorio de vencimiento",required:!0,"data-testid":"input-template-nombre"})]}),h.jsxs("div",{children:[h.jsx(Qe,{htmlFor:"template-asunto",children:"Asunto del Email *"}),h.jsx(zt,{id:"template-asunto",value:s.asunto,onChange:W=>l({...s,asunto:W.target.value}),placeholder:"Ej: Recordatorio: Vencimiento prximo",required:!0,"data-testid":"input-template-asunto"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{children:"Variables Disponibles"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:L7.map(W=>h.jsxs(Ve,{type:"button",variant:"outline",size:"sm",onClick:()=>ne(W.key),"data-testid":`button-variable-${W.key}`,children:[h.jsx(mte,{className:"h-3 w-3 mr-1"}),W.key]},W.key))}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Haz clic en una variable para insertarla en el contenido"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"template-contenido",children:"Contenido HTML *"}),h.jsx(mJ,{content:s.contenidoHTML,onChange:W=>l({...s,contenidoHTML:W})})]}),h.jsx(Ns,{children:h.jsxs(Ve,{type:"submit","data-testid":"button-submit-template",children:[o?"Actualizar":"Crear"," Plantilla"]})})]})]})]})]}),h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Plantillas Creadas"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus plantillas de notificacin reutilizables"})]}),h.jsx(nn,{children:N?h.jsxs("div",{className:"space-y-2",children:[h.jsx(nr,{className:"h-12 w-full"}),h.jsx(nr,{className:"h-12 w-full"})]}):w&&w.length>0?h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Nombre"}),h.jsx(Qt,{children:"Asunto"}),h.jsx(Qt,{children:"Tipo"}),h.jsx(Qt,{children:"Variables Usadas"}),h.jsx(Qt,{children:"Acciones"})]})}),h.jsx(Ql,{children:w.map(W=>{const G=L7.filter(K=>W.contenidoHTML.includes(K.key));return h.jsxs(Nr,{children:[h.jsx(Ot,{className:"font-medium","data-testid":`text-template-nombre-${W.id}`,children:W.nombre}),h.jsx(Ot,{"data-testid":`text-template-asunto-${W.id}`,children:W.asunto}),h.jsx(Ot,{"data-testid":`text-template-tipo-${W.id}`,children:h.jsx(Rn,{variant:W.tipo==="RECORDATORIO"?"default":W.tipo==="URGENTE"?"destructive":"secondary",className:"text-xs",children:W.tipo})}),h.jsx(Ot,{"data-testid":`text-template-variables-${W.id}`,children:h.jsx("div",{className:"flex flex-wrap gap-1",children:G.length>0?G.map(K=>h.jsx(Rn,{variant:"secondary",className:"text-xs","data-testid":`badge-variable-${K.key.replace(/[{}]/g,"")}-${W.id}`,children:K.key},K.key)):h.jsx("span",{className:"text-sm text-muted-foreground",children:"Sin variables"})})}),h.jsx(Ot,{children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>U(W),"data-testid":`button-edit-template-${W.id}`,children:h.jsx(nf,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"icon",onClick:()=>q.mutate(W.id),"data-testid":`button-delete-template-${W.id}`,children:h.jsx(Fc,{className:"h-4 w-4"})})]})})]},W.id)})})]}):h.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay plantillas creadas. Crea una para empezar."})})]})]}),h.jsx(Ho,{value:"enviar",className:"space-y-4",children:h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Enviar Notificacin"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Enva notificaciones inmediatas o programadas a tus clientes."})]}),h.jsx(nn,{className:"space-y-6",children:h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"template-select","data-testid":"label-template-select",children:"Plantilla"}),h.jsxs("select",{id:"template-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-template",value:c,onChange:W=>u(W.target.value),children:[h.jsx("option",{value:"",children:"Selecciona una plantilla"}),w?.map(W=>h.jsx("option",{value:W.id,"data-testid":`option-template-${W.id}`,children:W.nombre},W.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{"data-testid":"label-recipients",children:"Destinatarios"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"radio",id:"all-clients",name:"recipients",value:"all",checked:f==="all",onChange:W=>g(W.target.value),"data-testid":"radio-recipients-all"}),h.jsx(Qe,{htmlFor:"all-clients",className:"font-normal cursor-pointer",children:"Todos los clientes activos"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"radio",id:"autonomos",name:"recipients",value:"AUTONOMO",checked:f==="AUTONOMO",onChange:W=>g(W.target.value),"data-testid":"radio-recipients-autonomo"}),h.jsx(Qe,{htmlFor:"autonomos",className:"font-normal cursor-pointer",children:"Solo autnomos"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"radio",id:"empresas",name:"recipients",value:"EMPRESA",checked:f==="EMPRESA",onChange:W=>g(W.target.value),"data-testid":"radio-recipients-empresa"}),h.jsx(Qe,{htmlFor:"empresas",className:"font-normal cursor-pointer",children:"Solo empresas"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{htmlFor:"smtp-select","data-testid":"label-smtp-select",children:"Cuenta SMTP"}),h.jsxs("select",{id:"smtp-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-smtp",value:m,onChange:W=>b(W.target.value),children:[h.jsx("option",{value:"",children:"Usar cuenta predeterminada"}),k?.map(W=>h.jsxs("option",{value:W.id,"data-testid":`option-smtp-${W.id}`,children:[W.nombre," ",W.isPredeterminada?"(Predeterminada)":""]},W.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Qe,{"data-testid":"label-preview",children:"Vista Previa"}),h.jsx("div",{className:"border rounded-md p-4 bg-muted/50 min-h-[200px]","data-testid":"div-preview",children:c?h.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:h.jsx("div",{dangerouslySetInnerHTML:{__html:w?.find(W=>String(W.id)===c)?.contenidoHTML?.replace(/{nombre_cliente}/g,'<strong class="text-primary">Cliente Ejemplo</strong>')?.replace(/{email_cliente}/g,'<strong class="text-primary">ejemplo@email.com</strong>')?.replace(/{fecha_vencimiento}/g,'<strong class="text-primary">31/12/2025</strong>')||'<p class="text-sm text-muted-foreground">No se encontr la plantilla</p>'}})}):h.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona una plantilla para ver la vista previa"})})]}),h.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"schedule-send","data-testid":"checkbox-schedule",checked:v,onChange:W=>y(W.target.checked)}),h.jsx(Qe,{htmlFor:"schedule-send",className:"font-normal cursor-pointer",children:"Programar envo"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs(Ve,{variant:"default","data-testid":"button-send-notification",disabled:!c||D.isPending,onClick:z,children:[h.jsx(Hz,{className:"h-4 w-4 mr-2"}),D.isPending?"Enviando...":v?"Programar Envo":"Enviar Ahora"]}),h.jsx(Ve,{variant:"outline","data-testid":"button-cancel-send",onClick:()=>{u(""),g("all"),b(""),y(!1)},children:"Cancelar"})]})]})]})})]})}),h.jsx(Ho,{value:"historial",className:"space-y-4",children:h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Historial de Notificaciones"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Consulta todas las notificaciones enviadas y su estado."})]}),h.jsxs(nn,{children:[h.jsxs("div",{className:"flex gap-3 mb-6",children:[h.jsx("div",{className:"flex-1",children:h.jsx(zt,{placeholder:"Buscar por destinatario...","data-testid":"input-search-history"})}),h.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2","data-testid":"select-status-filter",children:[h.jsx("option",{value:"",children:"Todos los estados"}),h.jsx("option",{value:"ENVIADO",children:"Enviado"}),h.jsx("option",{value:"ERROR",children:"Error"}),h.jsx("option",{value:"PENDIENTE",children:"Pendiente"})]})]}),h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Fecha"}),h.jsx(Qt,{children:"Plantilla"}),h.jsx(Qt,{children:"Destinatario"}),h.jsx(Qt,{children:"Estado"}),h.jsx(Qt,{children:"Cuenta SMTP"})]})}),h.jsx(Ql,{children:T?h.jsx(Nr,{children:h.jsx(Ot,{colSpan:5,className:"text-center py-8",children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):A?.length>0?A.map(W=>h.jsxs(Nr,{"data-testid":`row-history-${W.id}`,children:[h.jsx(Ot,{"data-testid":`text-history-date-${W.id}`,children:new Date(W.fechaEnvio).toLocaleDateString("es-ES")}),h.jsx(Ot,{"data-testid":`text-history-template-${W.id}`,children:W.template?.nombre||"N/A"}),h.jsx(Ot,{"data-testid":`text-history-recipients-${W.id}`,children:W.destinatarios==="all"?"Todos":W.destinatarios}),h.jsx(Ot,{"data-testid":`text-history-status-${W.id}`,children:h.jsx(Rn,{variant:W.estado==="ENVIADO"?"default":"destructive",children:W.estado})}),h.jsx(Ot,{"data-testid":`text-history-smtp-${W.id}`,children:W.smtpAccount?.nombre||"Predeterminada"})]},W.id)):h.jsx(Nr,{children:h.jsx(Ot,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-history",children:"No hay notificaciones en el historial"})})})]})]})]})}),h.jsx(Ho,{value:"programadas",className:"space-y-4",children:h.jsxs(tn,{children:[h.jsxs(Pn,{children:[h.jsx(Fn,{children:"Notificaciones Programadas"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona y consulta las notificaciones que estn programadas para envo futuro."})]}),h.jsx(nn,{children:h.jsxs(Yl,{children:[h.jsx(Xl,{children:h.jsxs(Nr,{children:[h.jsx(Qt,{children:"Fecha Programada"}),h.jsx(Qt,{children:"Plantilla"}),h.jsx(Qt,{children:"Destinatarios"}),h.jsx(Qt,{children:"Estado"}),h.jsx(Qt,{children:"Acciones"})]})}),h.jsx(Ql,{children:L?h.jsx(Nr,{children:h.jsx(Ot,{colSpan:5,className:"text-center py-8",children:h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):P?.length>0?P.map(W=>h.jsxs(Nr,{"data-testid":`row-scheduled-${W.id}`,children:[h.jsx(Ot,{"data-testid":`text-scheduled-date-${W.id}`,children:new Date(W.fechaProgramada).toLocaleDateString("es-ES")}),h.jsx(Ot,{"data-testid":`text-scheduled-template-${W.id}`,children:W.template?.nombre||"N/A"}),h.jsx(Ot,{"data-testid":`text-scheduled-recipients-${W.id}`,children:W.destinatariosSeleccionados==="all"?"Todos":W.destinatariosSeleccionados}),h.jsx(Ot,{"data-testid":`text-scheduled-status-${W.id}`,children:h.jsx(Rn,{variant:"secondary",children:W.estado})}),h.jsx(Ot,{"data-testid":`div-scheduled-actions-${W.id}`,children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ve,{size:"sm",variant:"outline","data-testid":`button-edit-scheduled-${W.id}`,children:h.jsx(nf,{className:"h-3 w-3"})}),h.jsx(Ve,{size:"sm",variant:"outline","data-testid":`button-cancel-scheduled-${W.id}`,children:h.jsx(Fc,{className:"h-3 w-3"})})]})})]},W.id)):h.jsx(Nr,{children:h.jsx(Ot,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-scheduled",children:"No hay notificaciones programadas"})})})]})})]})})]})]})}function A3e(){const{connected:t,onlineUsers:e}=i9();return h.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:t?h.jsxs(h.Fragment,{children:[h.jsx(Vte,{className:"h-4 w-4 text-green-500"}),h.jsxs("span",{className:"hidden sm:inline",children:["Conectado (",e,")"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Wte,{className:"h-4 w-4 text-red-500"}),h.jsx("span",{className:"hidden sm:inline",children:"Desconectado"})]})})}function k3e(){return h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function C3e(){const{user:t,isLoading:e}=ig();if(e)return h.jsx(k3e,{});if(!t)return h.jsxs(Oj,{children:[h.jsx(zo,{path:"/",component:PI}),h.jsx(zo,{path:"/:rest*",children:h.jsx(Mj,{to:"/"})})]});const n={"--sidebar-width":"20rem","--sidebar-width-icon":"4rem"};return h.jsx(kae,{style:n,children:h.jsxs("div",{className:"flex h-screen w-full",children:[h.jsx(Vae,{}),h.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[h.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[h.jsx(Tae,{"data-testid":"button-sidebar-toggle"}),h.jsx("div",{className:"flex-1 max-w-xl mx-4",children:h.jsx(wse,{})}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(Sse,{}),h.jsx(A3e,{}),h.jsx(Kae,{})]})]}),h.jsx("main",{className:"flex-1 overflow-auto",children:h.jsxs(Oj,{children:[h.jsx(zo,{path:"/",component:S2e}),h.jsx(zo,{path:"/auth",component:PI}),h.jsx(zo,{path:"/clientes",component:vSe}),h.jsx(zo,{path:"/impuestos",component:MSe}),h.jsx(zo,{path:"/control-impuestos",component:S3e}),h.jsx(zo,{path:"/calendario-aeat",component:E3e}),h.jsx(zo,{path:"/tareas",component:PSe}),h.jsx(zo,{path:"/manuales",component:RSe}),h.jsx(zo,{path:"/manuales/nuevo",component:T7}),h.jsx(zo,{path:"/manuales/:id/editar",component:T7}),h.jsx(zo,{path:"/manuales/:id",component:FNe}),h.jsx(zo,{path:"/notificaciones",component:N3e}),h.jsx(zo,{path:"/admin",children:t?.roleName==="Administrador"?h.jsx(Lje,{}):h.jsx(Mj,{to:"/"})}),h.jsx(zo,{path:"/auditoria",component:w3e}),h.jsx(zo,{component:Ese})]})})]})]})})}function T3e(){return h.jsx(XZ,{client:Mn,children:h.jsxs(Bq,{children:[h.jsx(mie,{defaultTheme:"light",children:h.jsx(vie,{children:h.jsx(doe,{children:h.jsx(C3e,{})})})}),h.jsx(Cne,{})]})})}sZ.createRoot(document.getElementById("root")).render(h.jsx(T3e,{}));export{Ar as _,H0 as c,cr as g};
