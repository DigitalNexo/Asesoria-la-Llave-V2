var Fne=Object.defineProperty;var E4=e=>{throw TypeError(e)};var Bne=(e,t,n)=>t in e?Fne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var On=(e,t,n)=>Bne(e,typeof t!="symbol"?t+"":t,n),qN=(e,t,n)=>t.has(e)||E4("Cannot "+n);var me=(e,t,n)=>(qN(e,t,"read from private field"),n?n.call(e):t.get(e)),Mt=(e,t,n)=>t.has(e)?E4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),it=(e,t,n,r)=>(qN(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Zt=(e,t,n)=>(qN(e,t,"access private method"),n);var E1=(e,t,n,r)=>({set _(i){it(e,t,i,n)},get _(){return me(e,t,r)}});function zne(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mz={exports:{}},r_={},gz={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb=Symbol.for("react.element"),Une=Symbol.for("react.portal"),Hne=Symbol.for("react.fragment"),qne=Symbol.for("react.strict_mode"),Wne=Symbol.for("react.profiler"),Vne=Symbol.for("react.provider"),Kne=Symbol.for("react.context"),Gne=Symbol.for("react.forward_ref"),Yne=Symbol.for("react.suspense"),Xne=Symbol.for("react.memo"),Qne=Symbol.for("react.lazy"),N4=Symbol.iterator;function Zne(e){return e===null||typeof e!="object"?null:(e=N4&&e[N4]||e["@@iterator"],typeof e=="function"?e:null)}var vz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yz=Object.assign,bz={};function ug(e,t,n){this.props=e,this.context=t,this.refs=bz,this.updater=n||vz}ug.prototype.isReactComponent={};ug.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ug.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xz(){}xz.prototype=ug.prototype;function CM(e,t,n){this.props=e,this.context=t,this.refs=bz,this.updater=n||vz}var TM=CM.prototype=new xz;TM.constructor=CM;yz(TM,ug.prototype);TM.isPureReactComponent=!0;var A4=Array.isArray,wz=Object.prototype.hasOwnProperty,OM={current:null},Sz={key:!0,ref:!0,__self:!0,__source:!0};function _z(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)wz.call(t,r)&&!Sz.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:hb,type:e,key:o,ref:a,props:i,_owner:OM.current}}function Jne(e,t){return{$$typeof:hb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function MM(e){return typeof e=="object"&&e!==null&&e.$$typeof===hb}function ere(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var k4=/\/+/g;function WN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ere(""+e.key):t.toString(36)}function Hx(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case hb:case Une:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+WN(a,0):r,A4(i)?(n="",e!=null&&(n=e.replace(k4,"$&/")+"/"),Hx(i,t,n,"",function(c){return c})):i!=null&&(MM(i)&&(i=Jne(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(k4,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",A4(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+WN(o,s);a+=Hx(o,t,n,l,i)}else if(l=Zne(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+WN(o,s++),a+=Hx(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function N1(e,t,n){if(e==null)return e;var r=[],i=0;return Hx(e,r,"","",function(o){return t.call(n,o,i++)}),r}function tre(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ao={current:null},qx={transition:null},nre={ReactCurrentDispatcher:Ao,ReactCurrentBatchConfig:qx,ReactCurrentOwner:OM};function Ez(){throw Error("act(...) is not supported in production builds of React.")}on.Children={map:N1,forEach:function(e,t,n){N1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N1(e,function(){t++}),t},toArray:function(e){return N1(e,function(t){return t})||[]},only:function(e){if(!MM(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};on.Component=ug;on.Fragment=Hne;on.Profiler=Wne;on.PureComponent=CM;on.StrictMode=qne;on.Suspense=Yne;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nre;on.act=Ez;on.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yz({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=OM.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)wz.call(t,l)&&!Sz.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:hb,type:e.type,key:i,ref:o,props:r,_owner:a}};on.createContext=function(e){return e={$$typeof:Kne,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vne,_context:e},e.Consumer=e};on.createElement=_z;on.createFactory=function(e){var t=_z.bind(null,e);return t.type=e,t};on.createRef=function(){return{current:null}};on.forwardRef=function(e){return{$$typeof:Gne,render:e}};on.isValidElement=MM;on.lazy=function(e){return{$$typeof:Qne,_payload:{_status:-1,_result:e},_init:tre}};on.memo=function(e,t){return{$$typeof:Xne,type:e,compare:t===void 0?null:t}};on.startTransition=function(e){var t=qx.transition;qx.transition={};try{e()}finally{qx.transition=t}};on.unstable_act=Ez;on.useCallback=function(e,t){return Ao.current.useCallback(e,t)};on.useContext=function(e){return Ao.current.useContext(e)};on.useDebugValue=function(){};on.useDeferredValue=function(e){return Ao.current.useDeferredValue(e)};on.useEffect=function(e,t){return Ao.current.useEffect(e,t)};on.useId=function(){return Ao.current.useId()};on.useImperativeHandle=function(e,t,n){return Ao.current.useImperativeHandle(e,t,n)};on.useInsertionEffect=function(e,t){return Ao.current.useInsertionEffect(e,t)};on.useLayoutEffect=function(e,t){return Ao.current.useLayoutEffect(e,t)};on.useMemo=function(e,t){return Ao.current.useMemo(e,t)};on.useReducer=function(e,t,n){return Ao.current.useReducer(e,t,n)};on.useRef=function(e){return Ao.current.useRef(e)};on.useState=function(e){return Ao.current.useState(e)};on.useSyncExternalStore=function(e,t,n){return Ao.current.useSyncExternalStore(e,t,n)};on.useTransition=function(){return Ao.current.useTransition()};on.version="18.3.1";gz.exports=on;var A=gz.exports;const ve=wn(A),Nz=zne({__proto__:null,default:ve},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rre=A,ire=Symbol.for("react.element"),ore=Symbol.for("react.fragment"),are=Object.prototype.hasOwnProperty,sre=rre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lre={key:!0,ref:!0,__self:!0,__source:!0};function Az(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)are.call(t,r)&&!lre.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ire,type:e,key:o,ref:a,props:i,_owner:sre.current}}r_.Fragment=ore;r_.jsx=Az;r_.jsxs=Az;mz.exports=r_;var f=mz.exports,kz={exports:{}},ba={},Cz={exports:{}},Tz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,B){var te=F.length;F.push(B);e:for(;0<te;){var K=te-1>>>1,R=F[K];if(0<i(R,B))F[K]=B,F[te]=R,te=K;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],te=F.pop();if(te!==B){F[0]=te;e:for(var K=0,R=F.length,U=R>>>1;K<U;){var Y=2*(K+1)-1,Z=F[Y],ae=Y+1,se=F[ae];if(0>i(Z,te))ae<R&&0>i(se,Z)?(F[K]=se,F[ae]=te,K=ae):(F[K]=Z,F[Y]=te,K=Y);else if(ae<R&&0>i(se,te))F[K]=se,F[ae]=te,K=ae;else break e}}return B}function i(F,B){var te=F.sortIndex-B.sortIndex;return te!==0?te:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,p=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=F)r(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(c)}}function _(F){if(g=!1,w(F),!m)if(n(l)!==null)m=!0,z(N);else{var B=n(c);B!==null&&W(_,B.startTime-F)}}function N(F,B){m=!1,g&&(g=!1,y(E),E=-1),h=!0;var te=p;try{for(w(B),d=n(l);d!==null&&(!(d.expirationTime>B)||F&&!M());){var K=d.callback;if(typeof K=="function"){d.callback=null,p=d.priorityLevel;var R=K(d.expirationTime<=B);B=e.unstable_now(),typeof R=="function"?d.callback=R:d===n(l)&&r(l),w(B)}else r(l);d=n(l)}if(d!==null)var U=!0;else{var Y=n(c);Y!==null&&W(_,Y.startTime-B),U=!1}return U}finally{d=null,p=te,h=!1}}var k=!1,O=null,E=-1,C=5,L=-1;function M(){return!(e.unstable_now()-L<C)}function I(){if(O!==null){var F=e.unstable_now();L=F;var B=!0;try{B=O(!0,F)}finally{B?j():(k=!1,O=null)}}else k=!1}var j;if(typeof x=="function")j=function(){x(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=I,j=function(){q.postMessage(null)}}else j=function(){v(I,0)};function z(F){O=F,k||(k=!0,j())}function W(F,B){E=v(function(){F(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,z(N))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var te=p;p=B;try{return F()}finally{p=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=p;p=F;try{return B()}finally{p=te}},e.unstable_scheduleCallback=function(F,B,te){var K=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?K+te:K):te=K,F){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=te+R,F={id:u++,callback:B,priorityLevel:F,startTime:te,expirationTime:R,sortIndex:-1},te>K?(F.sortIndex=te,t(c,F),n(l)===null&&F===n(c)&&(g?(y(E),E=-1):g=!0,W(_,te-K))):(F.sortIndex=R,t(l,F),m||h||(m=!0,z(N))),F},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(F){var B=p;return function(){var te=p;p=B;try{return F.apply(this,arguments)}finally{p=te}}}})(Tz);Cz.exports=Tz;var cre=Cz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ure=A,ya=cre;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oz=new Set,Ly={};function _h(e,t){Sm(e,t),Sm(e+"Capture",t)}function Sm(e,t){for(Ly[e]=t,e=0;e<t.length;e++)Oz.add(t[e])}var Nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bk=Object.prototype.hasOwnProperty,dre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C4={},T4={};function fre(e){return bk.call(T4,e)?!0:bk.call(C4,e)?!1:dre.test(e)?T4[e]=!0:(C4[e]=!0,!1)}function hre(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pre(e,t,n,r){if(t===null||typeof t>"u"||hre(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ko(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fi[e]=new ko(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fi[t]=new ko(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fi[e]=new ko(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fi[e]=new ko(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fi[e]=new ko(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fi[e]=new ko(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fi[e]=new ko(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fi[e]=new ko(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fi[e]=new ko(e,5,!1,e.toLowerCase(),null,!1,!1)});var PM=/[\-:]([a-z])/g;function jM(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PM,jM);Fi[t]=new ko(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PM,jM);Fi[t]=new ko(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PM,jM);Fi[t]=new ko(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fi[e]=new ko(e,1,!1,e.toLowerCase(),null,!1,!1)});Fi.xlinkHref=new ko("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fi[e]=new ko(e,1,!1,e.toLowerCase(),null,!0,!0)});function RM(e,t,n,r){var i=Fi.hasOwnProperty(t)?Fi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pre(t,n,i,r)&&(n=null),r||i===null?fre(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ic=ure.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A1=Symbol.for("react.element"),wp=Symbol.for("react.portal"),Sp=Symbol.for("react.fragment"),IM=Symbol.for("react.strict_mode"),xk=Symbol.for("react.profiler"),Mz=Symbol.for("react.provider"),Pz=Symbol.for("react.context"),LM=Symbol.for("react.forward_ref"),wk=Symbol.for("react.suspense"),Sk=Symbol.for("react.suspense_list"),DM=Symbol.for("react.memo"),mu=Symbol.for("react.lazy"),jz=Symbol.for("react.offscreen"),O4=Symbol.iterator;function gv(e){return e===null||typeof e!="object"?null:(e=O4&&e[O4]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,VN;function Wv(e){if(VN===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);VN=t&&t[1]||""}return`
`+VN+e}var KN=!1;function GN(e,t){if(!e||KN)return"";KN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{KN=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wv(e):""}function mre(e){switch(e.tag){case 5:return Wv(e.type);case 16:return Wv("Lazy");case 13:return Wv("Suspense");case 19:return Wv("SuspenseList");case 0:case 2:case 15:return e=GN(e.type,!1),e;case 11:return e=GN(e.type.render,!1),e;case 1:return e=GN(e.type,!0),e;default:return""}}function _k(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sp:return"Fragment";case wp:return"Portal";case xk:return"Profiler";case IM:return"StrictMode";case wk:return"Suspense";case Sk:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pz:return(e.displayName||"Context")+".Consumer";case Mz:return(e._context.displayName||"Context")+".Provider";case LM:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case DM:return t=e.displayName||null,t!==null?t:_k(e.type)||"Memo";case mu:t=e._payload,e=e._init;try{return _k(e(t))}catch{}}return null}function gre(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _k(t);case 8:return t===IM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rz(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vre(e){var t=Rz(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function k1(e){e._valueTracker||(e._valueTracker=vre(e))}function Iz(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rz(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Nw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ek(e,t){var n=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function M4(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fd(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lz(e,t){t=t.checked,t!=null&&RM(e,"checked",t,!1)}function Nk(e,t){Lz(e,t);var n=fd(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ak(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ak(e,t.type,fd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function P4(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ak(e,t,n){(t!=="number"||Nw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vv=Array.isArray;function $p(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fd(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kk(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function j4(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(We(92));if(Vv(n)){if(1<n.length)throw Error(We(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fd(n)}}function Dz(e,t){var n=fd(t.value),r=fd(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function R4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $z(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ck(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$z(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var C1,Fz=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(C1=C1||document.createElement("div"),C1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=C1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dy(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yre=["Webkit","ms","Moz","O"];Object.keys(sy).forEach(function(e){yre.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sy[t]=sy[e]})});function Bz(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sy.hasOwnProperty(e)&&sy[e]?(""+t).trim():t+"px"}function zz(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bz(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bre=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tk(e,t){if(t){if(bre[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function Ok(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mk=null;function $M(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pk=null,Fp=null,Bp=null;function I4(e){if(e=gb(e)){if(typeof Pk!="function")throw Error(We(280));var t=e.stateNode;t&&(t=l_(t),Pk(e.stateNode,e.type,t))}}function Uz(e){Fp?Bp?Bp.push(e):Bp=[e]:Fp=e}function Hz(){if(Fp){var e=Fp,t=Bp;if(Bp=Fp=null,I4(e),t)for(e=0;e<t.length;e++)I4(t[e])}}function qz(e,t){return e(t)}function Wz(){}var YN=!1;function Vz(e,t,n){if(YN)return e(t,n);YN=!0;try{return qz(e,t,n)}finally{YN=!1,(Fp!==null||Bp!==null)&&(Wz(),Hz())}}function $y(e,t){var n=e.stateNode;if(n===null)return null;var r=l_(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(We(231,t,typeof n));return n}var jk=!1;if(Nc)try{var vv={};Object.defineProperty(vv,"passive",{get:function(){jk=!0}}),window.addEventListener("test",vv,vv),window.removeEventListener("test",vv,vv)}catch{jk=!1}function xre(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ly=!1,Aw=null,kw=!1,Rk=null,wre={onError:function(e){ly=!0,Aw=e}};function Sre(e,t,n,r,i,o,a,s,l){ly=!1,Aw=null,xre.apply(wre,arguments)}function _re(e,t,n,r,i,o,a,s,l){if(Sre.apply(this,arguments),ly){if(ly){var c=Aw;ly=!1,Aw=null}else throw Error(We(198));kw||(kw=!0,Rk=c)}}function Eh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kz(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L4(e){if(Eh(e)!==e)throw Error(We(188))}function Ere(e){var t=e.alternate;if(!t){if(t=Eh(e),t===null)throw Error(We(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return L4(i),e;if(o===r)return L4(i),t;o=o.sibling}throw Error(We(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(We(189))}}if(n.alternate!==r)throw Error(We(190))}if(n.tag!==3)throw Error(We(188));return n.stateNode.current===n?e:t}function Gz(e){return e=Ere(e),e!==null?Yz(e):null}function Yz(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yz(e);if(t!==null)return t;e=e.sibling}return null}var Xz=ya.unstable_scheduleCallback,D4=ya.unstable_cancelCallback,Nre=ya.unstable_shouldYield,Are=ya.unstable_requestPaint,Pr=ya.unstable_now,kre=ya.unstable_getCurrentPriorityLevel,FM=ya.unstable_ImmediatePriority,Qz=ya.unstable_UserBlockingPriority,Cw=ya.unstable_NormalPriority,Cre=ya.unstable_LowPriority,Zz=ya.unstable_IdlePriority,i_=null,yl=null;function Tre(e){if(yl&&typeof yl.onCommitFiberRoot=="function")try{yl.onCommitFiberRoot(i_,e,void 0,(e.current.flags&128)===128)}catch{}}var js=Math.clz32?Math.clz32:Pre,Ore=Math.log,Mre=Math.LN2;function Pre(e){return e>>>=0,e===0?32:31-(Ore(e)/Mre|0)|0}var T1=64,O1=4194304;function Kv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Kv(s):(o&=a,o!==0&&(r=Kv(o)))}else a=n&~i,a!==0?r=Kv(a):o!==0&&(r=Kv(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-js(t),i=1<<n,r|=e[n],t&=~i;return r}function jre(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rre(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-js(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=jre(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Ik(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jz(){var e=T1;return T1<<=1,!(T1&4194240)&&(T1=64),e}function XN(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-js(t),e[t]=n}function Ire(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-js(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function BM(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-js(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rn=0;function e9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var t9,zM,n9,r9,i9,Lk=!1,M1=[],Vu=null,Ku=null,Gu=null,Fy=new Map,By=new Map,wu=[],Lre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $4(e,t){switch(e){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Gu=null;break;case"pointerover":case"pointerout":Fy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":By.delete(t.pointerId)}}function yv(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=gb(t),t!==null&&zM(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dre(e,t,n,r,i){switch(t){case"focusin":return Vu=yv(Vu,e,t,n,r,i),!0;case"dragenter":return Ku=yv(Ku,e,t,n,r,i),!0;case"mouseover":return Gu=yv(Gu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fy.set(o,yv(Fy.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,By.set(o,yv(By.get(o)||null,e,t,n,r,i)),!0}return!1}function o9(e){var t=vf(e.target);if(t!==null){var n=Eh(t);if(n!==null){if(t=n.tag,t===13){if(t=Kz(n),t!==null){e.blockedOn=t,i9(e.priority,function(){n9(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mk=r,n.target.dispatchEvent(r),Mk=null}else return t=gb(n),t!==null&&zM(t),e.blockedOn=n,!1;t.shift()}return!0}function F4(e,t,n){Wx(e)&&n.delete(t)}function $re(){Lk=!1,Vu!==null&&Wx(Vu)&&(Vu=null),Ku!==null&&Wx(Ku)&&(Ku=null),Gu!==null&&Wx(Gu)&&(Gu=null),Fy.forEach(F4),By.forEach(F4)}function bv(e,t){e.blockedOn===t&&(e.blockedOn=null,Lk||(Lk=!0,ya.unstable_scheduleCallback(ya.unstable_NormalPriority,$re)))}function zy(e){function t(i){return bv(i,e)}if(0<M1.length){bv(M1[0],e);for(var n=1;n<M1.length;n++){var r=M1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vu!==null&&bv(Vu,e),Ku!==null&&bv(Ku,e),Gu!==null&&bv(Gu,e),Fy.forEach(t),By.forEach(t),n=0;n<wu.length;n++)r=wu[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wu.length&&(n=wu[0],n.blockedOn===null);)o9(n),n.blockedOn===null&&wu.shift()}var zp=Ic.ReactCurrentBatchConfig,Ow=!0;function Fre(e,t,n,r){var i=Rn,o=zp.transition;zp.transition=null;try{Rn=1,UM(e,t,n,r)}finally{Rn=i,zp.transition=o}}function Bre(e,t,n,r){var i=Rn,o=zp.transition;zp.transition=null;try{Rn=4,UM(e,t,n,r)}finally{Rn=i,zp.transition=o}}function UM(e,t,n,r){if(Ow){var i=Dk(e,t,n,r);if(i===null)aA(e,t,r,Mw,n),$4(e,r);else if(Dre(i,e,t,n,r))r.stopPropagation();else if($4(e,r),t&4&&-1<Lre.indexOf(e)){for(;i!==null;){var o=gb(i);if(o!==null&&t9(o),o=Dk(e,t,n,r),o===null&&aA(e,t,r,Mw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else aA(e,t,r,null,n)}}var Mw=null;function Dk(e,t,n,r){if(Mw=null,e=$M(r),e=vf(e),e!==null)if(t=Eh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Kz(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mw=e,null}function a9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kre()){case FM:return 1;case Qz:return 4;case Cw:case Cre:return 16;case Zz:return 536870912;default:return 16}default:return 16}}var Du=null,HM=null,Vx=null;function s9(){if(Vx)return Vx;var e,t=HM,n=t.length,r,i="value"in Du?Du.value:Du.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Vx=i.slice(e,1<r?1-r:void 0)}function Kx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function P1(){return!0}function B4(){return!1}function xa(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?P1:B4,this.isPropagationStopped=B4,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=P1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=P1)},persist:function(){},isPersistent:P1}),t}var dg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qM=xa(dg),mb=pr({},dg,{view:0,detail:0}),zre=xa(mb),QN,ZN,xv,o_=pr({},mb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WM,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xv&&(xv&&e.type==="mousemove"?(QN=e.screenX-xv.screenX,ZN=e.screenY-xv.screenY):ZN=QN=0,xv=e),QN)},movementY:function(e){return"movementY"in e?e.movementY:ZN}}),z4=xa(o_),Ure=pr({},o_,{dataTransfer:0}),Hre=xa(Ure),qre=pr({},mb,{relatedTarget:0}),JN=xa(qre),Wre=pr({},dg,{animationName:0,elapsedTime:0,pseudoElement:0}),Vre=xa(Wre),Kre=pr({},dg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gre=xa(Kre),Yre=pr({},dg,{data:0}),U4=xa(Yre),Xre={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qre={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zre={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zre[e])?!!t[e]:!1}function WM(){return Jre}var eie=pr({},mb,{key:function(e){if(e.key){var t=Xre[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qre[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WM,charCode:function(e){return e.type==="keypress"?Kx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tie=xa(eie),nie=pr({},o_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H4=xa(nie),rie=pr({},mb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WM}),iie=xa(rie),oie=pr({},dg,{propertyName:0,elapsedTime:0,pseudoElement:0}),aie=xa(oie),sie=pr({},o_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lie=xa(sie),cie=[9,13,27,32],VM=Nc&&"CompositionEvent"in window,cy=null;Nc&&"documentMode"in document&&(cy=document.documentMode);var uie=Nc&&"TextEvent"in window&&!cy,l9=Nc&&(!VM||cy&&8<cy&&11>=cy),q4=" ",W4=!1;function c9(e,t){switch(e){case"keyup":return cie.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _p=!1;function die(e,t){switch(e){case"compositionend":return u9(t);case"keypress":return t.which!==32?null:(W4=!0,q4);case"textInput":return e=t.data,e===q4&&W4?null:e;default:return null}}function fie(e,t){if(_p)return e==="compositionend"||!VM&&c9(e,t)?(e=s9(),Vx=HM=Du=null,_p=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return l9&&t.locale!=="ko"?null:t.data;default:return null}}var hie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hie[e.type]:t==="textarea"}function d9(e,t,n,r){Uz(r),t=Pw(t,"onChange"),0<t.length&&(n=new qM("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var uy=null,Uy=null;function pie(e){S9(e,0)}function a_(e){var t=Ap(e);if(Iz(t))return e}function mie(e,t){if(e==="change")return t}var f9=!1;if(Nc){var eA;if(Nc){var tA="oninput"in document;if(!tA){var K4=document.createElement("div");K4.setAttribute("oninput","return;"),tA=typeof K4.oninput=="function"}eA=tA}else eA=!1;f9=eA&&(!document.documentMode||9<document.documentMode)}function G4(){uy&&(uy.detachEvent("onpropertychange",h9),Uy=uy=null)}function h9(e){if(e.propertyName==="value"&&a_(Uy)){var t=[];d9(t,Uy,e,$M(e)),Vz(pie,t)}}function gie(e,t,n){e==="focusin"?(G4(),uy=t,Uy=n,uy.attachEvent("onpropertychange",h9)):e==="focusout"&&G4()}function vie(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return a_(Uy)}function yie(e,t){if(e==="click")return a_(t)}function bie(e,t){if(e==="input"||e==="change")return a_(t)}function xie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ls=typeof Object.is=="function"?Object.is:xie;function Hy(e,t){if(Ls(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bk.call(t,i)||!Ls(e[i],t[i]))return!1}return!0}function Y4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X4(e,t){var n=Y4(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y4(n)}}function p9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?p9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function m9(){for(var e=window,t=Nw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nw(e.document)}return t}function KM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wie(e){var t=m9(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&p9(n.ownerDocument.documentElement,n)){if(r!==null&&KM(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=X4(n,o);var a=X4(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sie=Nc&&"documentMode"in document&&11>=document.documentMode,Ep=null,$k=null,dy=null,Fk=!1;function Q4(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fk||Ep==null||Ep!==Nw(r)||(r=Ep,"selectionStart"in r&&KM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dy&&Hy(dy,r)||(dy=r,r=Pw($k,"onSelect"),0<r.length&&(t=new qM("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ep)))}function j1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Np={animationend:j1("Animation","AnimationEnd"),animationiteration:j1("Animation","AnimationIteration"),animationstart:j1("Animation","AnimationStart"),transitionend:j1("Transition","TransitionEnd")},nA={},g9={};Nc&&(g9=document.createElement("div").style,"AnimationEvent"in window||(delete Np.animationend.animation,delete Np.animationiteration.animation,delete Np.animationstart.animation),"TransitionEvent"in window||delete Np.transitionend.transition);function s_(e){if(nA[e])return nA[e];if(!Np[e])return e;var t=Np[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in g9)return nA[e]=t[n];return e}var v9=s_("animationend"),y9=s_("animationiteration"),b9=s_("animationstart"),x9=s_("transitionend"),w9=new Map,Z4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ed(e,t){w9.set(e,t),_h(t,[e])}for(var rA=0;rA<Z4.length;rA++){var iA=Z4[rA],_ie=iA.toLowerCase(),Eie=iA[0].toUpperCase()+iA.slice(1);Ed(_ie,"on"+Eie)}Ed(v9,"onAnimationEnd");Ed(y9,"onAnimationIteration");Ed(b9,"onAnimationStart");Ed("dblclick","onDoubleClick");Ed("focusin","onFocus");Ed("focusout","onBlur");Ed(x9,"onTransitionEnd");Sm("onMouseEnter",["mouseout","mouseover"]);Sm("onMouseLeave",["mouseout","mouseover"]);Sm("onPointerEnter",["pointerout","pointerover"]);Sm("onPointerLeave",["pointerout","pointerover"]);_h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_h("onBeforeInput",["compositionend","keypress","textInput","paste"]);_h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nie=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gv));function J4(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_re(r,t,void 0,e),e.currentTarget=null}function S9(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;J4(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;J4(i,s,c),o=l}}}if(kw)throw e=Rk,kw=!1,Rk=null,e}function er(e,t){var n=t[qk];n===void 0&&(n=t[qk]=new Set);var r=e+"__bubble";n.has(r)||(_9(t,e,2,!1),n.add(r))}function oA(e,t,n){var r=0;t&&(r|=4),_9(n,e,r,t)}var R1="_reactListening"+Math.random().toString(36).slice(2);function qy(e){if(!e[R1]){e[R1]=!0,Oz.forEach(function(n){n!=="selectionchange"&&(Nie.has(n)||oA(n,!1,e),oA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[R1]||(t[R1]=!0,oA("selectionchange",!1,t))}}function _9(e,t,n,r){switch(a9(t)){case 1:var i=Fre;break;case 4:i=Bre;break;default:i=UM}n=i.bind(null,t,n,e),i=void 0,!jk||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function aA(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=vf(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Vz(function(){var c=o,u=$M(n),d=[];e:{var p=w9.get(e);if(p!==void 0){var h=qM,m=e;switch(e){case"keypress":if(Kx(n)===0)break e;case"keydown":case"keyup":h=tie;break;case"focusin":m="focus",h=JN;break;case"focusout":m="blur",h=JN;break;case"beforeblur":case"afterblur":h=JN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=z4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Hre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=iie;break;case v9:case y9:case b9:h=Vre;break;case x9:h=aie;break;case"scroll":h=zre;break;case"wheel":h=lie;break;case"copy":case"cut":case"paste":h=Gre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=H4}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var x=c,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=$y(x,y),_!=null&&g.push(Wy(x,_,w)))),v)break;x=x.return}0<g.length&&(p=new h(p,m,null,n,u),d.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Mk&&(m=n.relatedTarget||n.fromElement)&&(vf(m)||m[Ac]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?vf(m):null,m!==null&&(v=Eh(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(g=z4,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=H4,_="onPointerLeave",y="onPointerEnter",x="pointer"),v=h==null?p:Ap(h),w=m==null?p:Ap(m),p=new g(_,x+"leave",h,n,u),p.target=v,p.relatedTarget=w,_=null,vf(u)===c&&(g=new g(y,x+"enter",m,n,u),g.target=w,g.relatedTarget=v,_=g),v=_,h&&m)t:{for(g=h,y=m,x=0,w=g;w;w=Yh(w))x++;for(w=0,_=y;_;_=Yh(_))w++;for(;0<x-w;)g=Yh(g),x--;for(;0<w-x;)y=Yh(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Yh(g),y=Yh(y)}g=null}else g=null;h!==null&&eI(d,p,h,g,!1),m!==null&&v!==null&&eI(d,v,m,g,!0)}}e:{if(p=c?Ap(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var N=mie;else if(V4(p))if(f9)N=bie;else{N=vie;var k=gie}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=yie);if(N&&(N=N(e,c))){d9(d,N,n,u);break e}k&&k(e,p,c),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Ak(p,"number",p.value)}switch(k=c?Ap(c):window,e){case"focusin":(V4(k)||k.contentEditable==="true")&&(Ep=k,$k=c,dy=null);break;case"focusout":dy=$k=Ep=null;break;case"mousedown":Fk=!0;break;case"contextmenu":case"mouseup":case"dragend":Fk=!1,Q4(d,n,u);break;case"selectionchange":if(Sie)break;case"keydown":case"keyup":Q4(d,n,u)}var O;if(VM)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _p?c9(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(l9&&n.locale!=="ko"&&(_p||E!=="onCompositionStart"?E==="onCompositionEnd"&&_p&&(O=s9()):(Du=u,HM="value"in Du?Du.value:Du.textContent,_p=!0)),k=Pw(c,E),0<k.length&&(E=new U4(E,e,null,n,u),d.push({event:E,listeners:k}),O?E.data=O:(O=u9(n),O!==null&&(E.data=O)))),(O=uie?die(e,n):fie(e,n))&&(c=Pw(c,"onBeforeInput"),0<c.length&&(u=new U4("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=O))}S9(d,t)})}function Wy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$y(e,n),o!=null&&r.unshift(Wy(e,o,i)),o=$y(e,t),o!=null&&r.push(Wy(e,o,i))),e=e.return}return r}function Yh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eI(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=$y(n,o),l!=null&&a.unshift(Wy(n,l,s))):i||(l=$y(n,o),l!=null&&a.push(Wy(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Aie=/\r\n?/g,kie=/\u0000|\uFFFD/g;function tI(e){return(typeof e=="string"?e:""+e).replace(Aie,`
`).replace(kie,"")}function I1(e,t,n){if(t=tI(t),tI(e)!==t&&n)throw Error(We(425))}function jw(){}var Bk=null,zk=null;function Uk(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hk=typeof setTimeout=="function"?setTimeout:void 0,Cie=typeof clearTimeout=="function"?clearTimeout:void 0,nI=typeof Promise=="function"?Promise:void 0,Tie=typeof queueMicrotask=="function"?queueMicrotask:typeof nI<"u"?function(e){return nI.resolve(null).then(e).catch(Oie)}:Hk;function Oie(e){setTimeout(function(){throw e})}function sA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zy(t)}function Yu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fg=Math.random().toString(36).slice(2),dl="__reactFiber$"+fg,Vy="__reactProps$"+fg,Ac="__reactContainer$"+fg,qk="__reactEvents$"+fg,Mie="__reactListeners$"+fg,Pie="__reactHandles$"+fg;function vf(e){var t=e[dl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ac]||n[dl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rI(e);e!==null;){if(n=e[dl])return n;e=rI(e)}return t}e=n,n=e.parentNode}return null}function gb(e){return e=e[dl]||e[Ac],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ap(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function l_(e){return e[Vy]||null}var Wk=[],kp=-1;function Nd(e){return{current:e}}function or(e){0>kp||(e.current=Wk[kp],Wk[kp]=null,kp--)}function Yn(e,t){kp++,Wk[kp]=e.current,e.current=t}var hd={},io=Nd(hd),Fo=Nd(!1),Xf=hd;function _m(e,t){var n=e.type.contextTypes;if(!n)return hd;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bo(e){return e=e.childContextTypes,e!=null}function Rw(){or(Fo),or(io)}function iI(e,t,n){if(io.current!==hd)throw Error(We(168));Yn(io,t),Yn(Fo,n)}function E9(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(We(108,gre(e)||"Unknown",i));return pr({},n,r)}function Iw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hd,Xf=io.current,Yn(io,e),Yn(Fo,Fo.current),!0}function oI(e,t,n){var r=e.stateNode;if(!r)throw Error(We(169));n?(e=E9(e,t,Xf),r.__reactInternalMemoizedMergedChildContext=e,or(Fo),or(io),Yn(io,e)):or(Fo),Yn(Fo,n)}var cc=null,c_=!1,lA=!1;function N9(e){cc===null?cc=[e]:cc.push(e)}function jie(e){c_=!0,N9(e)}function Ad(){if(!lA&&cc!==null){lA=!0;var e=0,t=Rn;try{var n=cc;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cc=null,c_=!1}catch(i){throw cc!==null&&(cc=cc.slice(e+1)),Xz(FM,Ad),i}finally{Rn=t,lA=!1}}return null}var Cp=[],Tp=0,Lw=null,Dw=0,Da=[],$a=0,Qf=null,hc=1,pc="";function lf(e,t){Cp[Tp++]=Dw,Cp[Tp++]=Lw,Lw=e,Dw=t}function A9(e,t,n){Da[$a++]=hc,Da[$a++]=pc,Da[$a++]=Qf,Qf=e;var r=hc;e=pc;var i=32-js(r)-1;r&=~(1<<i),n+=1;var o=32-js(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,hc=1<<32-js(t)+i|n<<i|r,pc=o+e}else hc=1<<o|n<<i|r,pc=e}function GM(e){e.return!==null&&(lf(e,1),A9(e,1,0))}function YM(e){for(;e===Lw;)Lw=Cp[--Tp],Cp[Tp]=null,Dw=Cp[--Tp],Cp[Tp]=null;for(;e===Qf;)Qf=Da[--$a],Da[$a]=null,pc=Da[--$a],Da[$a]=null,hc=Da[--$a],Da[$a]=null}var ga=null,ha=null,lr=!1,Es=null;function k9(e,t){var n=Ha(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function aI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ga=e,ha=Yu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ga=e,ha=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qf!==null?{id:hc,overflow:pc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ha(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ga=e,ha=null,!0):!1;default:return!1}}function Vk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kk(e){if(lr){var t=ha;if(t){var n=t;if(!aI(e,t)){if(Vk(e))throw Error(We(418));t=Yu(n.nextSibling);var r=ga;t&&aI(e,t)?k9(r,n):(e.flags=e.flags&-4097|2,lr=!1,ga=e)}}else{if(Vk(e))throw Error(We(418));e.flags=e.flags&-4097|2,lr=!1,ga=e}}}function sI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ga=e}function L1(e){if(e!==ga)return!1;if(!lr)return sI(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uk(e.type,e.memoizedProps)),t&&(t=ha)){if(Vk(e))throw C9(),Error(We(418));for(;t;)k9(e,t),t=Yu(t.nextSibling)}if(sI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ha=Yu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ha=null}}else ha=ga?Yu(e.stateNode.nextSibling):null;return!0}function C9(){for(var e=ha;e;)e=Yu(e.nextSibling)}function Em(){ha=ga=null,lr=!1}function XM(e){Es===null?Es=[e]:Es.push(e)}var Rie=Ic.ReactCurrentBatchConfig;function wv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(We(309));var r=n.stateNode}if(!r)throw Error(We(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(We(284));if(!n._owner)throw Error(We(290,e))}return e}function D1(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lI(e){var t=e._init;return t(e._payload)}function T9(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Ju(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,_){return x===null||x.tag!==6?(x=mA(w,y.mode,_),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,_){var N=w.type;return N===Sp?u(y,x,w.props.children,_,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===mu&&lI(N)===x.type)?(_=i(x,w.props),_.ref=wv(y,x,w),_.return=y,_):(_=ew(w.type,w.key,w.props,null,y.mode,_),_.ref=wv(y,x,w),_.return=y,_)}function c(y,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=gA(w,y.mode,_),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function u(y,x,w,_,N){return x===null||x.tag!==7?(x=Ff(w,y.mode,_,N),x.return=y,x):(x=i(x,w),x.return=y,x)}function d(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=mA(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case A1:return w=ew(x.type,x.key,x.props,null,y.mode,w),w.ref=wv(y,null,x),w.return=y,w;case wp:return x=gA(x,y.mode,w),x.return=y,x;case mu:var _=x._init;return d(y,_(x._payload),w)}if(Vv(x)||gv(x))return x=Ff(x,y.mode,w,null),x.return=y,x;D1(y,x)}return null}function p(y,x,w,_){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:s(y,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A1:return w.key===N?l(y,x,w,_):null;case wp:return w.key===N?c(y,x,w,_):null;case mu:return N=w._init,p(y,x,N(w._payload),_)}if(Vv(w)||gv(w))return N!==null?null:u(y,x,w,_,null);D1(y,w)}return null}function h(y,x,w,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,s(x,y,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case A1:return y=y.get(_.key===null?w:_.key)||null,l(x,y,_,N);case wp:return y=y.get(_.key===null?w:_.key)||null,c(x,y,_,N);case mu:var k=_._init;return h(y,x,w,k(_._payload),N)}if(Vv(_)||gv(_))return y=y.get(w)||null,u(x,y,_,N,null);D1(x,_)}return null}function m(y,x,w,_){for(var N=null,k=null,O=x,E=x=0,C=null;O!==null&&E<w.length;E++){O.index>E?(C=O,O=null):C=O.sibling;var L=p(y,O,w[E],_);if(L===null){O===null&&(O=C);break}e&&O&&L.alternate===null&&t(y,O),x=o(L,x,E),k===null?N=L:k.sibling=L,k=L,O=C}if(E===w.length)return n(y,O),lr&&lf(y,E),N;if(O===null){for(;E<w.length;E++)O=d(y,w[E],_),O!==null&&(x=o(O,x,E),k===null?N=O:k.sibling=O,k=O);return lr&&lf(y,E),N}for(O=r(y,O);E<w.length;E++)C=h(O,y,E,w[E],_),C!==null&&(e&&C.alternate!==null&&O.delete(C.key===null?E:C.key),x=o(C,x,E),k===null?N=C:k.sibling=C,k=C);return e&&O.forEach(function(M){return t(y,M)}),lr&&lf(y,E),N}function g(y,x,w,_){var N=gv(w);if(typeof N!="function")throw Error(We(150));if(w=N.call(w),w==null)throw Error(We(151));for(var k=N=null,O=x,E=x=0,C=null,L=w.next();O!==null&&!L.done;E++,L=w.next()){O.index>E?(C=O,O=null):C=O.sibling;var M=p(y,O,L.value,_);if(M===null){O===null&&(O=C);break}e&&O&&M.alternate===null&&t(y,O),x=o(M,x,E),k===null?N=M:k.sibling=M,k=M,O=C}if(L.done)return n(y,O),lr&&lf(y,E),N;if(O===null){for(;!L.done;E++,L=w.next())L=d(y,L.value,_),L!==null&&(x=o(L,x,E),k===null?N=L:k.sibling=L,k=L);return lr&&lf(y,E),N}for(O=r(y,O);!L.done;E++,L=w.next())L=h(O,y,E,L.value,_),L!==null&&(e&&L.alternate!==null&&O.delete(L.key===null?E:L.key),x=o(L,x,E),k===null?N=L:k.sibling=L,k=L);return e&&O.forEach(function(I){return t(y,I)}),lr&&lf(y,E),N}function v(y,x,w,_){if(typeof w=="object"&&w!==null&&w.type===Sp&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case A1:e:{for(var N=w.key,k=x;k!==null;){if(k.key===N){if(N=w.type,N===Sp){if(k.tag===7){n(y,k.sibling),x=i(k,w.props.children),x.return=y,y=x;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===mu&&lI(N)===k.type){n(y,k.sibling),x=i(k,w.props),x.ref=wv(y,k,w),x.return=y,y=x;break e}n(y,k);break}else t(y,k);k=k.sibling}w.type===Sp?(x=Ff(w.props.children,y.mode,_,w.key),x.return=y,y=x):(_=ew(w.type,w.key,w.props,null,y.mode,_),_.ref=wv(y,x,w),_.return=y,y=_)}return a(y);case wp:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=gA(w,y.mode,_),x.return=y,y=x}return a(y);case mu:return k=w._init,v(y,x,k(w._payload),_)}if(Vv(w))return m(y,x,w,_);if(gv(w))return g(y,x,w,_);D1(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=mA(w,y.mode,_),x.return=y,y=x),a(y)):n(y,x)}return v}var Nm=T9(!0),O9=T9(!1),$w=Nd(null),Fw=null,Op=null,QM=null;function ZM(){QM=Op=Fw=null}function JM(e){var t=$w.current;or($w),e._currentValue=t}function Gk(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Up(e,t){Fw=e,QM=Op=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lo=!0),e.firstContext=null)}function Qa(e){var t=e._currentValue;if(QM!==e)if(e={context:e,memoizedValue:t,next:null},Op===null){if(Fw===null)throw Error(We(308));Op=e,Fw.dependencies={lanes:0,firstContext:e}}else Op=Op.next=e;return t}var yf=null;function eP(e){yf===null?yf=[e]:yf.push(e)}function M9(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,eP(t)):(n.next=i.next,i.next=n),t.interleaved=n,kc(e,r)}function kc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gu=!1;function tP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,mn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,kc(e,n)}return i=r.interleaved,i===null?(t.next=t,eP(r)):(t.next=i.next,i.next=t),r.interleaved=t,kc(e,n)}function Gx(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,BM(e,n)}}function cI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bw(e,t,n,r){var i=e.updateQueue;gu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var p=s.lane,h=s.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(p=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,p=typeof m=="function"?m.call(h,d,p):m,p==null)break e;d=pr({},d,p);break e;case 2:gu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Jf|=a,e.lanes=a,e.memoizedState=d}}function uI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(We(191,i));i.call(r)}}}var vb={},bl=Nd(vb),Ky=Nd(vb),Gy=Nd(vb);function bf(e){if(e===vb)throw Error(We(174));return e}function nP(e,t){switch(Yn(Gy,t),Yn(Ky,e),Yn(bl,vb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ck(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ck(t,e)}or(bl),Yn(bl,t)}function Am(){or(bl),or(Ky),or(Gy)}function j9(e){bf(Gy.current);var t=bf(bl.current),n=Ck(t,e.type);t!==n&&(Yn(Ky,e),Yn(bl,n))}function rP(e){Ky.current===e&&(or(bl),or(Ky))}var fr=Nd(0);function zw(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cA=[];function iP(){for(var e=0;e<cA.length;e++)cA[e]._workInProgressVersionPrimary=null;cA.length=0}var Yx=Ic.ReactCurrentDispatcher,uA=Ic.ReactCurrentBatchConfig,Zf=0,hr=null,ri=null,pi=null,Uw=!1,fy=!1,Yy=0,Iie=0;function Ui(){throw Error(We(321))}function oP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ls(e[n],t[n]))return!1;return!0}function aP(e,t,n,r,i,o){if(Zf=o,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yx.current=e===null||e.memoizedState===null?Fie:Bie,e=n(r,i),fy){o=0;do{if(fy=!1,Yy=0,25<=o)throw Error(We(301));o+=1,pi=ri=null,t.updateQueue=null,Yx.current=zie,e=n(r,i)}while(fy)}if(Yx.current=Hw,t=ri!==null&&ri.next!==null,Zf=0,pi=ri=hr=null,Uw=!1,t)throw Error(We(300));return e}function sP(){var e=Yy!==0;return Yy=0,e}function rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?hr.memoizedState=pi=e:pi=pi.next=e,pi}function Za(){if(ri===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=ri.next;var t=pi===null?hr.memoizedState:pi.next;if(t!==null)pi=t,ri=e;else{if(e===null)throw Error(We(310));ri=e,e={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},pi===null?hr.memoizedState=pi=e:pi=pi.next=e}return pi}function Xy(e,t){return typeof t=="function"?t(e):t}function dA(e){var t=Za(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=ri,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((Zf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,hr.lanes|=u,Jf|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Ls(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,hr.lanes|=o,Jf|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fA(e){var t=Za(),n=t.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ls(o,t.memoizedState)||(Lo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function R9(){}function I9(e,t){var n=hr,r=Za(),i=t(),o=!Ls(r.memoizedState,i);if(o&&(r.memoizedState=i,Lo=!0),r=r.queue,lP($9.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||pi!==null&&pi.memoizedState.tag&1){if(n.flags|=2048,Qy(9,D9.bind(null,n,r,i,t),void 0,null),yi===null)throw Error(We(349));Zf&30||L9(n,t,i)}return i}function L9(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function D9(e,t,n,r){t.value=n,t.getSnapshot=r,F9(t)&&B9(e)}function $9(e,t,n){return n(function(){F9(t)&&B9(e)})}function F9(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ls(e,n)}catch{return!0}}function B9(e){var t=kc(e,1);t!==null&&Rs(t,e,1,-1)}function dI(e){var t=rl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:e},t.queue=e,e=e.dispatch=$ie.bind(null,hr,e),[t.memoizedState,e]}function Qy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function z9(){return Za().memoizedState}function Xx(e,t,n,r){var i=rl();hr.flags|=e,i.memoizedState=Qy(1|t,n,void 0,r===void 0?null:r)}function u_(e,t,n,r){var i=Za();r=r===void 0?null:r;var o=void 0;if(ri!==null){var a=ri.memoizedState;if(o=a.destroy,r!==null&&oP(r,a.deps)){i.memoizedState=Qy(t,n,o,r);return}}hr.flags|=e,i.memoizedState=Qy(1|t,n,o,r)}function fI(e,t){return Xx(8390656,8,e,t)}function lP(e,t){return u_(2048,8,e,t)}function U9(e,t){return u_(4,2,e,t)}function H9(e,t){return u_(4,4,e,t)}function q9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function W9(e,t,n){return n=n!=null?n.concat([e]):null,u_(4,4,q9.bind(null,t,e),n)}function cP(){}function V9(e,t){var n=Za();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oP(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function K9(e,t){var n=Za();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oP(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function G9(e,t,n){return Zf&21?(Ls(n,t)||(n=Jz(),hr.lanes|=n,Jf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lo=!0),e.memoizedState=n)}function Lie(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=uA.transition;uA.transition={};try{e(!1),t()}finally{Rn=n,uA.transition=r}}function Y9(){return Za().memoizedState}function Die(e,t,n){var r=Zu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X9(e))Q9(t,n);else if(n=M9(e,t,n,r),n!==null){var i=wo();Rs(n,e,r,i),Z9(n,t,r)}}function $ie(e,t,n){var r=Zu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X9(e))Q9(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ls(s,a)){var l=t.interleaved;l===null?(i.next=i,eP(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=M9(e,t,i,r),n!==null&&(i=wo(),Rs(n,e,r,i),Z9(n,t,r))}}function X9(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function Q9(e,t){fy=Uw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z9(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,BM(e,n)}}var Hw={readContext:Qa,useCallback:Ui,useContext:Ui,useEffect:Ui,useImperativeHandle:Ui,useInsertionEffect:Ui,useLayoutEffect:Ui,useMemo:Ui,useReducer:Ui,useRef:Ui,useState:Ui,useDebugValue:Ui,useDeferredValue:Ui,useTransition:Ui,useMutableSource:Ui,useSyncExternalStore:Ui,useId:Ui,unstable_isNewReconciler:!1},Fie={readContext:Qa,useCallback:function(e,t){return rl().memoizedState=[e,t===void 0?null:t],e},useContext:Qa,useEffect:fI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xx(4194308,4,q9.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xx(4,2,e,t)},useMemo:function(e,t){var n=rl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Die.bind(null,hr,e),[r.memoizedState,e]},useRef:function(e){var t=rl();return e={current:e},t.memoizedState=e},useState:dI,useDebugValue:cP,useDeferredValue:function(e){return rl().memoizedState=e},useTransition:function(){var e=dI(!1),t=e[0];return e=Lie.bind(null,e[1]),rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hr,i=rl();if(lr){if(n===void 0)throw Error(We(407));n=n()}else{if(n=t(),yi===null)throw Error(We(349));Zf&30||L9(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,fI($9.bind(null,r,o,e),[e]),r.flags|=2048,Qy(9,D9.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=rl(),t=yi.identifierPrefix;if(lr){var n=pc,r=hc;n=(r&~(1<<32-js(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Iie++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bie={readContext:Qa,useCallback:V9,useContext:Qa,useEffect:lP,useImperativeHandle:W9,useInsertionEffect:U9,useLayoutEffect:H9,useMemo:K9,useReducer:dA,useRef:z9,useState:function(){return dA(Xy)},useDebugValue:cP,useDeferredValue:function(e){var t=Za();return G9(t,ri.memoizedState,e)},useTransition:function(){var e=dA(Xy)[0],t=Za().memoizedState;return[e,t]},useMutableSource:R9,useSyncExternalStore:I9,useId:Y9,unstable_isNewReconciler:!1},zie={readContext:Qa,useCallback:V9,useContext:Qa,useEffect:lP,useImperativeHandle:W9,useInsertionEffect:U9,useLayoutEffect:H9,useMemo:K9,useReducer:fA,useRef:z9,useState:function(){return fA(Xy)},useDebugValue:cP,useDeferredValue:function(e){var t=Za();return ri===null?t.memoizedState=e:G9(t,ri.memoizedState,e)},useTransition:function(){var e=fA(Xy)[0],t=Za().memoizedState;return[e,t]},useMutableSource:R9,useSyncExternalStore:I9,useId:Y9,unstable_isNewReconciler:!1};function ys(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Yk(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var d_={isMounted:function(e){return(e=e._reactInternals)?Eh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wo(),i=Zu(e),o=bc(r,i);o.payload=t,n!=null&&(o.callback=n),t=Xu(e,o,i),t!==null&&(Rs(t,e,i,r),Gx(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wo(),i=Zu(e),o=bc(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Xu(e,o,i),t!==null&&(Rs(t,e,i,r),Gx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wo(),r=Zu(e),i=bc(n,r);i.tag=2,t!=null&&(i.callback=t),t=Xu(e,i,r),t!==null&&(Rs(t,e,r,n),Gx(t,e,r))}};function hI(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Hy(n,r)||!Hy(i,o):!0}function J9(e,t,n){var r=!1,i=hd,o=t.contextType;return typeof o=="object"&&o!==null?o=Qa(o):(i=Bo(t)?Xf:io.current,r=t.contextTypes,o=(r=r!=null)?_m(e,i):hd),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=d_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function pI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&d_.enqueueReplaceState(t,t.state,null)}function Xk(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},tP(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Qa(o):(o=Bo(t)?Xf:io.current,i.context=_m(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Yk(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&d_.enqueueReplaceState(i,i.state,null),Bw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function km(e,t){try{var n="",r=t;do n+=mre(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function hA(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qk(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uie=typeof WeakMap=="function"?WeakMap:Map;function eU(e,t,n){n=bc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ww||(Ww=!0,sC=r),Qk(e,t)},n}function tU(e,t,n){n=bc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qk(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qk(e,t),typeof r!="function"&&(Qu===null?Qu=new Set([this]):Qu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function mI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uie;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=noe.bind(null,e,t,n),t.then(e,e))}function gI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bc(-1,1),t.tag=2,Xu(n,t,1))),n.lanes|=1),e)}var Hie=Ic.ReactCurrentOwner,Lo=!1;function vo(e,t,n,r){t.child=e===null?O9(t,null,n,r):Nm(t,e.child,n,r)}function yI(e,t,n,r,i){n=n.render;var o=t.ref;return Up(t,i),r=aP(e,t,n,r,o,i),n=sP(),e!==null&&!Lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cc(e,t,i)):(lr&&n&&GM(t),t.flags|=1,vo(e,t,r,i),t.child)}function bI(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!vP(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,nU(e,t,o,r,i)):(e=ew(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hy,n(a,r)&&e.ref===t.ref)return Cc(e,t,i)}return t.flags|=1,e=Ju(o,r),e.ref=t.ref,e.return=t,t.child=e}function nU(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Hy(o,r)&&e.ref===t.ref)if(Lo=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Lo=!0);else return t.lanes=e.lanes,Cc(e,t,i)}return Zk(e,t,n,r,i)}function rU(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(Pp,aa),aa|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yn(Pp,aa),aa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Yn(Pp,aa),aa|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Yn(Pp,aa),aa|=r;return vo(e,t,i,n),t.child}function iU(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zk(e,t,n,r,i){var o=Bo(n)?Xf:io.current;return o=_m(t,o),Up(t,i),n=aP(e,t,n,r,o,i),r=sP(),e!==null&&!Lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cc(e,t,i)):(lr&&r&&GM(t),t.flags|=1,vo(e,t,n,i),t.child)}function xI(e,t,n,r,i){if(Bo(n)){var o=!0;Iw(t)}else o=!1;if(Up(t,i),t.stateNode===null)Qx(e,t),J9(t,n,r),Xk(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qa(c):(c=Bo(n)?Xf:io.current,c=_m(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&pI(t,a,r,c),gu=!1;var p=t.memoizedState;a.state=p,Bw(t,r,a,i),l=t.memoizedState,s!==r||p!==l||Fo.current||gu?(typeof u=="function"&&(Yk(t,n,u,r),l=t.memoizedState),(s=gu||hI(t,n,s,r,p,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,P9(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ys(t.type,s),a.props=c,d=t.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qa(l):(l=Bo(n)?Xf:io.current,l=_m(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==l)&&pI(t,a,r,l),gu=!1,p=t.memoizedState,a.state=p,Bw(t,r,a,i);var m=t.memoizedState;s!==d||p!==m||Fo.current||gu?(typeof h=="function"&&(Yk(t,n,h,r),m=t.memoizedState),(c=gu||hI(t,n,c,r,p,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Jk(e,t,n,r,o,i)}function Jk(e,t,n,r,i,o){iU(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&oI(t,n,!1),Cc(e,t,o);r=t.stateNode,Hie.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Nm(t,e.child,null,o),t.child=Nm(t,null,s,o)):vo(e,t,s,o),t.memoizedState=r.state,i&&oI(t,n,!0),t.child}function oU(e){var t=e.stateNode;t.pendingContext?iI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iI(e,t.context,!1),nP(e,t.containerInfo)}function wI(e,t,n,r,i){return Em(),XM(i),t.flags|=256,vo(e,t,n,r),t.child}var eC={dehydrated:null,treeContext:null,retryLane:0};function tC(e){return{baseLanes:e,cachePool:null,transitions:null}}function aU(e,t,n){var r=t.pendingProps,i=fr.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yn(fr,i&1),e===null)return Kk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=p_(a,r,0,null),e=Ff(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=tC(n),t.memoizedState=eC,e):uP(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return qie(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ju(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ju(s,o):(o=Ff(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?tC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=eC,r}return o=e.child,e=o.sibling,r=Ju(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uP(e,t){return t=p_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $1(e,t,n,r){return r!==null&&XM(r),Nm(t,e.child,null,n),e=uP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qie(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=hA(Error(We(422))),$1(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=p_({mode:"visible",children:r.children},i,0,null),o=Ff(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Nm(t,e.child,null,a),t.child.memoizedState=tC(a),t.memoizedState=eC,o);if(!(t.mode&1))return $1(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(We(419)),r=hA(o,r,void 0),$1(e,t,a,r)}if(s=(a&e.childLanes)!==0,Lo||s){if(r=yi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kc(e,i),Rs(r,e,i,-1))}return gP(),r=hA(Error(We(421))),$1(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=roe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ha=Yu(i.nextSibling),ga=t,lr=!0,Es=null,e!==null&&(Da[$a++]=hc,Da[$a++]=pc,Da[$a++]=Qf,hc=e.id,pc=e.overflow,Qf=t),t=uP(t,r.children),t.flags|=4096,t)}function SI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gk(e.return,t,n)}function pA(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function sU(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(vo(e,t,r.children,n),r=fr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SI(e,n,t);else if(e.tag===19)SI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yn(fr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zw(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),pA(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zw(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}pA(t,!0,n,null,o);break;case"together":pA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,n=Ju(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ju(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wie(e,t,n){switch(t.tag){case 3:oU(t),Em();break;case 5:j9(t);break;case 1:Bo(t.type)&&Iw(t);break;case 4:nP(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Yn($w,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yn(fr,fr.current&1),t.flags|=128,null):n&t.child.childLanes?aU(e,t,n):(Yn(fr,fr.current&1),e=Cc(e,t,n),e!==null?e.sibling:null);Yn(fr,fr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sU(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(fr,fr.current),r)break;return null;case 22:case 23:return t.lanes=0,rU(e,t,n)}return Cc(e,t,n)}var lU,nC,cU,uU;lU=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nC=function(){};cU=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,bf(bl.current);var o=null;switch(n){case"input":i=Ek(e,i),r=Ek(e,r),o=[];break;case"select":i=pr({},i,{value:void 0}),r=pr({},r,{value:void 0}),o=[];break;case"textarea":i=kk(e,i),r=kk(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jw)}Tk(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ly.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ly.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&er("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};uU=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sv(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vie(e,t,n){var r=t.pendingProps;switch(YM(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(t),null;case 1:return Bo(t.type)&&Rw(),Hi(t),null;case 3:return r=t.stateNode,Am(),or(Fo),or(io),iP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(L1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Es!==null&&(uC(Es),Es=null))),nC(e,t),Hi(t),null;case 5:rP(t);var i=bf(Gy.current);if(n=t.type,e!==null&&t.stateNode!=null)cU(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(We(166));return Hi(t),null}if(e=bf(bl.current),L1(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[dl]=t,r[Vy]=o,e=(t.mode&1)!==0,n){case"dialog":er("cancel",r),er("close",r);break;case"iframe":case"object":case"embed":er("load",r);break;case"video":case"audio":for(i=0;i<Gv.length;i++)er(Gv[i],r);break;case"source":er("error",r);break;case"img":case"image":case"link":er("error",r),er("load",r);break;case"details":er("toggle",r);break;case"input":M4(r,o),er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},er("invalid",r);break;case"textarea":j4(r,o),er("invalid",r)}Tk(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&I1(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&I1(r.textContent,s,e),i=["children",""+s]):Ly.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&er("scroll",r)}switch(n){case"input":k1(r),P4(r,o,!0);break;case"textarea":k1(r),R4(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$z(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[dl]=t,e[Vy]=r,lU(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ok(n,r),n){case"dialog":er("cancel",e),er("close",e),i=r;break;case"iframe":case"object":case"embed":er("load",e),i=r;break;case"video":case"audio":for(i=0;i<Gv.length;i++)er(Gv[i],e);i=r;break;case"source":er("error",e),i=r;break;case"img":case"image":case"link":er("error",e),er("load",e),i=r;break;case"details":er("toggle",e),i=r;break;case"input":M4(e,r),i=Ek(e,r),er("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pr({},r,{value:void 0}),er("invalid",e);break;case"textarea":j4(e,r),i=kk(e,r),er("invalid",e);break;default:i=r}Tk(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?zz(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fz(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dy(e,l):typeof l=="number"&&Dy(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ly.hasOwnProperty(o)?l!=null&&o==="onScroll"&&er("scroll",e):l!=null&&RM(e,o,l,a))}switch(n){case"input":k1(e),P4(e,r,!1);break;case"textarea":k1(e),R4(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fd(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$p(e,!!r.multiple,o,!1):r.defaultValue!=null&&$p(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=jw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hi(t),null;case 6:if(e&&t.stateNode!=null)uU(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(We(166));if(n=bf(Gy.current),bf(bl.current),L1(t)){if(r=t.stateNode,n=t.memoizedProps,r[dl]=t,(o=r.nodeValue!==n)&&(e=ga,e!==null))switch(e.tag){case 3:I1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&I1(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dl]=t,t.stateNode=r}return Hi(t),null;case 13:if(or(fr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&ha!==null&&t.mode&1&&!(t.flags&128))C9(),Em(),t.flags|=98560,o=!1;else if(o=L1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(We(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(We(317));o[dl]=t}else Em(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hi(t),o=!1}else Es!==null&&(uC(Es),Es=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fr.current&1?ai===0&&(ai=3):gP())),t.updateQueue!==null&&(t.flags|=4),Hi(t),null);case 4:return Am(),nC(e,t),e===null&&qy(t.stateNode.containerInfo),Hi(t),null;case 10:return JM(t.type._context),Hi(t),null;case 17:return Bo(t.type)&&Rw(),Hi(t),null;case 19:if(or(fr),o=t.memoizedState,o===null)return Hi(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Sv(o,!1);else{if(ai!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=zw(e),a!==null){for(t.flags|=128,Sv(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yn(fr,fr.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pr()>Cm&&(t.flags|=128,r=!0,Sv(o,!1),t.lanes=4194304)}else{if(!r)if(e=zw(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!lr)return Hi(t),null}else 2*Pr()-o.renderingStartTime>Cm&&n!==1073741824&&(t.flags|=128,r=!0,Sv(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pr(),t.sibling=null,n=fr.current,Yn(fr,r?n&1|2:n&1),t):(Hi(t),null);case 22:case 23:return mP(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?aa&1073741824&&(Hi(t),t.subtreeFlags&6&&(t.flags|=8192)):Hi(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function Kie(e,t){switch(YM(t),t.tag){case 1:return Bo(t.type)&&Rw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Am(),or(Fo),or(io),iP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rP(t),null;case 13:if(or(fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));Em()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(fr),null;case 4:return Am(),null;case 10:return JM(t.type._context),null;case 22:case 23:return mP(),null;case 24:return null;default:return null}}var F1=!1,Qi=!1,Gie=typeof WeakSet=="function"?WeakSet:Set,at=null;function Mp(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wr(e,t,r)}else n.current=null}function rC(e,t,n){try{n()}catch(r){wr(e,t,r)}}var _I=!1;function Yie(e,t){if(Bk=Ow,e=m9(),KM(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=e,p=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===i&&(s=a),p===o&&++u===r&&(l=a),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zk={focusedElem:e,selectionRange:n},Ow=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){t=at;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ys(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(_){wr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}return m=_I,_I=!1,m}function hy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&rC(t,n,o)}i=i.next}while(i!==r)}}function f_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dU(e){var t=e.alternate;t!==null&&(e.alternate=null,dU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dl],delete t[Vy],delete t[qk],delete t[Mie],delete t[Pie])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fU(e){return e.tag===5||e.tag===3||e.tag===4}function EI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jw));else if(r!==4&&(e=e.child,e!==null))for(oC(e,t,n),e=e.sibling;e!==null;)oC(e,t,n),e=e.sibling}function aC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(aC(e,t,n),e=e.sibling;e!==null;)aC(e,t,n),e=e.sibling}var Oi=null,xs=!1;function ou(e,t,n){for(n=n.child;n!==null;)hU(e,t,n),n=n.sibling}function hU(e,t,n){if(yl&&typeof yl.onCommitFiberUnmount=="function")try{yl.onCommitFiberUnmount(i_,n)}catch{}switch(n.tag){case 5:Qi||Mp(n,t);case 6:var r=Oi,i=xs;Oi=null,ou(e,t,n),Oi=r,xs=i,Oi!==null&&(xs?(e=Oi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oi.removeChild(n.stateNode));break;case 18:Oi!==null&&(xs?(e=Oi,n=n.stateNode,e.nodeType===8?sA(e.parentNode,n):e.nodeType===1&&sA(e,n),zy(e)):sA(Oi,n.stateNode));break;case 4:r=Oi,i=xs,Oi=n.stateNode.containerInfo,xs=!0,ou(e,t,n),Oi=r,xs=i;break;case 0:case 11:case 14:case 15:if(!Qi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&rC(n,t,a),i=i.next}while(i!==r)}ou(e,t,n);break;case 1:if(!Qi&&(Mp(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wr(n,t,s)}ou(e,t,n);break;case 21:ou(e,t,n);break;case 22:n.mode&1?(Qi=(r=Qi)||n.memoizedState!==null,ou(e,t,n),Qi=r):ou(e,t,n);break;default:ou(e,t,n)}}function NI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gie),t.forEach(function(r){var i=ioe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ps(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Oi=s.stateNode,xs=!1;break e;case 3:Oi=s.stateNode.containerInfo,xs=!0;break e;case 4:Oi=s.stateNode.containerInfo,xs=!0;break e}s=s.return}if(Oi===null)throw Error(We(160));hU(o,a,i),Oi=null,xs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){wr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pU(t,e),t=t.sibling}function pU(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ps(t,e),Js(e),r&4){try{hy(3,e,e.return),f_(3,e)}catch(g){wr(e,e.return,g)}try{hy(5,e,e.return)}catch(g){wr(e,e.return,g)}}break;case 1:ps(t,e),Js(e),r&512&&n!==null&&Mp(n,n.return);break;case 5:if(ps(t,e),Js(e),r&512&&n!==null&&Mp(n,n.return),e.flags&32){var i=e.stateNode;try{Dy(i,"")}catch(g){wr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Lz(i,o),Ok(s,a);var c=Ok(s,o);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?zz(i,d):u==="dangerouslySetInnerHTML"?Fz(i,d):u==="children"?Dy(i,d):RM(i,u,d,c)}switch(s){case"input":Nk(i,o);break;case"textarea":Dz(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?$p(i,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?$p(i,!!o.multiple,o.defaultValue,!0):$p(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vy]=o}catch(g){wr(e,e.return,g)}}break;case 6:if(ps(t,e),Js(e),r&4){if(e.stateNode===null)throw Error(We(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){wr(e,e.return,g)}}break;case 3:if(ps(t,e),Js(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zy(t.containerInfo)}catch(g){wr(e,e.return,g)}break;case 4:ps(t,e),Js(e);break;case 13:ps(t,e),Js(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hP=Pr())),r&4&&NI(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Qi=(c=Qi)||u,ps(t,e),Qi=c):ps(t,e),Js(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(at=e,u=e.child;u!==null;){for(d=at=u;at!==null;){switch(p=at,h=p.child,p.tag){case 0:case 11:case 14:case 15:hy(4,p,p.return);break;case 1:Mp(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){wr(r,n,g)}}break;case 5:Mp(p,p.return);break;case 22:if(p.memoizedState!==null){kI(d);continue}}h!==null?(h.return=p,at=h):kI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Bz("display",a))}catch(g){wr(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){wr(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ps(t,e),Js(e),r&4&&NI(e);break;case 21:break;default:ps(t,e),Js(e)}}function Js(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fU(n)){var r=n;break e}n=n.return}throw Error(We(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dy(i,""),r.flags&=-33);var o=EI(e);aC(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=EI(e);oC(e,s,a);break;default:throw Error(We(161))}}catch(l){wr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xie(e,t,n){at=e,mU(e)}function mU(e,t,n){for(var r=(e.mode&1)!==0;at!==null;){var i=at,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||F1;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qi;s=F1;var c=Qi;if(F1=a,(Qi=l)&&!c)for(at=i;at!==null;)a=at,l=a.child,a.tag===22&&a.memoizedState!==null?CI(i):l!==null?(l.return=a,at=l):CI(i);for(;o!==null;)at=o,mU(o),o=o.sibling;at=i,F1=s,Qi=c}AI(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,at=o):AI(e)}}function AI(e){for(;at!==null;){var t=at;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qi||f_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ys(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&uI(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uI(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&zy(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Qi||t.flags&512&&iC(t)}catch(p){wr(t,t.return,p)}}if(t===e){at=null;break}if(n=t.sibling,n!==null){n.return=t.return,at=n;break}at=t.return}}function kI(e){for(;at!==null;){var t=at;if(t===e){at=null;break}var n=t.sibling;if(n!==null){n.return=t.return,at=n;break}at=t.return}}function CI(e){for(;at!==null;){var t=at;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{f_(4,t)}catch(l){wr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){wr(t,i,l)}}var o=t.return;try{iC(t)}catch(l){wr(t,o,l)}break;case 5:var a=t.return;try{iC(t)}catch(l){wr(t,a,l)}}}catch(l){wr(t,t.return,l)}if(t===e){at=null;break}var s=t.sibling;if(s!==null){s.return=t.return,at=s;break}at=t.return}}var Qie=Math.ceil,qw=Ic.ReactCurrentDispatcher,dP=Ic.ReactCurrentOwner,Wa=Ic.ReactCurrentBatchConfig,mn=0,yi=null,Ur=null,$i=0,aa=0,Pp=Nd(0),ai=0,Zy=null,Jf=0,h_=0,fP=0,py=null,Ro=null,hP=0,Cm=1/0,sc=null,Ww=!1,sC=null,Qu=null,B1=!1,$u=null,Vw=0,my=0,lC=null,Zx=-1,Jx=0;function wo(){return mn&6?Pr():Zx!==-1?Zx:Zx=Pr()}function Zu(e){return e.mode&1?mn&2&&$i!==0?$i&-$i:Rie.transition!==null?(Jx===0&&(Jx=Jz()),Jx):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:a9(e.type)),e):1}function Rs(e,t,n,r){if(50<my)throw my=0,lC=null,Error(We(185));pb(e,n,r),(!(mn&2)||e!==yi)&&(e===yi&&(!(mn&2)&&(h_|=n),ai===4&&Su(e,$i)),zo(e,r),n===1&&mn===0&&!(t.mode&1)&&(Cm=Pr()+500,c_&&Ad()))}function zo(e,t){var n=e.callbackNode;Rre(e,t);var r=Tw(e,e===yi?$i:0);if(r===0)n!==null&&D4(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&D4(n),t===1)e.tag===0?jie(TI.bind(null,e)):N9(TI.bind(null,e)),Tie(function(){!(mn&6)&&Ad()}),n=null;else{switch(e9(r)){case 1:n=FM;break;case 4:n=Qz;break;case 16:n=Cw;break;case 536870912:n=Zz;break;default:n=Cw}n=_U(n,gU.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gU(e,t){if(Zx=-1,Jx=0,mn&6)throw Error(We(327));var n=e.callbackNode;if(Hp()&&e.callbackNode!==n)return null;var r=Tw(e,e===yi?$i:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kw(e,r);else{t=r;var i=mn;mn|=2;var o=yU();(yi!==e||$i!==t)&&(sc=null,Cm=Pr()+500,$f(e,t));do try{eoe();break}catch(s){vU(e,s)}while(!0);ZM(),qw.current=o,mn=i,Ur!==null?t=0:(yi=null,$i=0,t=ai)}if(t!==0){if(t===2&&(i=Ik(e),i!==0&&(r=i,t=cC(e,i))),t===1)throw n=Zy,$f(e,0),Su(e,r),zo(e,Pr()),n;if(t===6)Su(e,r);else{if(i=e.current.alternate,!(r&30)&&!Zie(i)&&(t=Kw(e,r),t===2&&(o=Ik(e),o!==0&&(r=o,t=cC(e,o))),t===1))throw n=Zy,$f(e,0),Su(e,r),zo(e,Pr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(We(345));case 2:cf(e,Ro,sc);break;case 3:if(Su(e,r),(r&130023424)===r&&(t=hP+500-Pr(),10<t)){if(Tw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){wo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hk(cf.bind(null,e,Ro,sc),t);break}cf(e,Ro,sc);break;case 4:if(Su(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-js(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qie(r/1960))-r,10<r){e.timeoutHandle=Hk(cf.bind(null,e,Ro,sc),r);break}cf(e,Ro,sc);break;case 5:cf(e,Ro,sc);break;default:throw Error(We(329))}}}return zo(e,Pr()),e.callbackNode===n?gU.bind(null,e):null}function cC(e,t){var n=py;return e.current.memoizedState.isDehydrated&&($f(e,t).flags|=256),e=Kw(e,t),e!==2&&(t=Ro,Ro=n,t!==null&&uC(t)),e}function uC(e){Ro===null?Ro=e:Ro.push.apply(Ro,e)}function Zie(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ls(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Su(e,t){for(t&=~fP,t&=~h_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-js(t),r=1<<n;e[n]=-1,t&=~r}}function TI(e){if(mn&6)throw Error(We(327));Hp();var t=Tw(e,0);if(!(t&1))return zo(e,Pr()),null;var n=Kw(e,t);if(e.tag!==0&&n===2){var r=Ik(e);r!==0&&(t=r,n=cC(e,r))}if(n===1)throw n=Zy,$f(e,0),Su(e,t),zo(e,Pr()),n;if(n===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cf(e,Ro,sc),zo(e,Pr()),null}function pP(e,t){var n=mn;mn|=1;try{return e(t)}finally{mn=n,mn===0&&(Cm=Pr()+500,c_&&Ad())}}function eh(e){$u!==null&&$u.tag===0&&!(mn&6)&&Hp();var t=mn;mn|=1;var n=Wa.transition,r=Rn;try{if(Wa.transition=null,Rn=1,e)return e()}finally{Rn=r,Wa.transition=n,mn=t,!(mn&6)&&Ad()}}function mP(){aa=Pp.current,or(Pp)}function $f(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cie(n)),Ur!==null)for(n=Ur.return;n!==null;){var r=n;switch(YM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rw();break;case 3:Am(),or(Fo),or(io),iP();break;case 5:rP(r);break;case 4:Am();break;case 13:or(fr);break;case 19:or(fr);break;case 10:JM(r.type._context);break;case 22:case 23:mP()}n=n.return}if(yi=e,Ur=e=Ju(e.current,null),$i=aa=t,ai=0,Zy=null,fP=h_=Jf=0,Ro=py=null,yf!==null){for(t=0;t<yf.length;t++)if(n=yf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}yf=null}return e}function vU(e,t){do{var n=Ur;try{if(ZM(),Yx.current=Hw,Uw){for(var r=hr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uw=!1}if(Zf=0,pi=ri=hr=null,fy=!1,Yy=0,dP.current=null,n===null||n.return===null){ai=1,Zy=t,Ur=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=$i,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=gI(a);if(h!==null){h.flags&=-257,vI(h,a,s,o,t),h.mode&1&&mI(o,c,t),t=h,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){mI(o,c,t),gP();break e}l=Error(We(426))}}else if(lr&&s.mode&1){var v=gI(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vI(v,a,s,o,t),XM(km(l,s));break e}}o=l=km(l,s),ai!==4&&(ai=2),py===null?py=[o]:py.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=eU(o,l,t);cI(o,y);break e;case 1:s=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qu===null||!Qu.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=tU(o,s,t);cI(o,_);break e}}o=o.return}while(o!==null)}xU(n)}catch(N){t=N,Ur===n&&n!==null&&(Ur=n=n.return);continue}break}while(!0)}function yU(){var e=qw.current;return qw.current=Hw,e===null?Hw:e}function gP(){(ai===0||ai===3||ai===2)&&(ai=4),yi===null||!(Jf&268435455)&&!(h_&268435455)||Su(yi,$i)}function Kw(e,t){var n=mn;mn|=2;var r=yU();(yi!==e||$i!==t)&&(sc=null,$f(e,t));do try{Jie();break}catch(i){vU(e,i)}while(!0);if(ZM(),mn=n,qw.current=r,Ur!==null)throw Error(We(261));return yi=null,$i=0,ai}function Jie(){for(;Ur!==null;)bU(Ur)}function eoe(){for(;Ur!==null&&!Nre();)bU(Ur)}function bU(e){var t=SU(e.alternate,e,aa);e.memoizedProps=e.pendingProps,t===null?xU(e):Ur=t,dP.current=null}function xU(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kie(n,t),n!==null){n.flags&=32767,Ur=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ai=6,Ur=null;return}}else if(n=Vie(n,t,aa),n!==null){Ur=n;return}if(t=t.sibling,t!==null){Ur=t;return}Ur=t=e}while(t!==null);ai===0&&(ai=5)}function cf(e,t,n){var r=Rn,i=Wa.transition;try{Wa.transition=null,Rn=1,toe(e,t,n,r)}finally{Wa.transition=i,Rn=r}return null}function toe(e,t,n,r){do Hp();while($u!==null);if(mn&6)throw Error(We(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ire(e,o),e===yi&&(Ur=yi=null,$i=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||B1||(B1=!0,_U(Cw,function(){return Hp(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wa.transition,Wa.transition=null;var a=Rn;Rn=1;var s=mn;mn|=4,dP.current=null,Yie(e,n),pU(n,e),wie(zk),Ow=!!Bk,zk=Bk=null,e.current=n,Xie(n),Are(),mn=s,Rn=a,Wa.transition=o}else e.current=n;if(B1&&(B1=!1,$u=e,Vw=i),o=e.pendingLanes,o===0&&(Qu=null),Tre(n.stateNode),zo(e,Pr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ww)throw Ww=!1,e=sC,sC=null,e;return Vw&1&&e.tag!==0&&Hp(),o=e.pendingLanes,o&1?e===lC?my++:(my=0,lC=e):my=0,Ad(),null}function Hp(){if($u!==null){var e=e9(Vw),t=Wa.transition,n=Rn;try{if(Wa.transition=null,Rn=16>e?16:e,$u===null)var r=!1;else{if(e=$u,$u=null,Vw=0,mn&6)throw Error(We(331));var i=mn;for(mn|=4,at=e.current;at!==null;){var o=at,a=o.child;if(at.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(at=c;at!==null;){var u=at;switch(u.tag){case 0:case 11:case 15:hy(8,u,o)}var d=u.child;if(d!==null)d.return=u,at=d;else for(;at!==null;){u=at;var p=u.sibling,h=u.return;if(dU(u),u===c){at=null;break}if(p!==null){p.return=h,at=p;break}at=h}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}at=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,at=a;else e:for(;at!==null;){if(o=at,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hy(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,at=y;break e}at=o.return}}var x=e.current;for(at=x;at!==null;){a=at;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,at=w;else e:for(a=x;at!==null;){if(s=at,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:f_(9,s)}}catch(N){wr(s,s.return,N)}if(s===a){at=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,at=_;break e}at=s.return}}if(mn=i,Ad(),yl&&typeof yl.onPostCommitFiberRoot=="function")try{yl.onPostCommitFiberRoot(i_,e)}catch{}r=!0}return r}finally{Rn=n,Wa.transition=t}}return!1}function OI(e,t,n){t=km(n,t),t=eU(e,t,1),e=Xu(e,t,1),t=wo(),e!==null&&(pb(e,1,t),zo(e,t))}function wr(e,t,n){if(e.tag===3)OI(e,e,n);else for(;t!==null;){if(t.tag===3){OI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qu===null||!Qu.has(r))){e=km(n,e),e=tU(t,e,1),t=Xu(t,e,1),e=wo(),t!==null&&(pb(t,1,e),zo(t,e));break}}t=t.return}}function noe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wo(),e.pingedLanes|=e.suspendedLanes&n,yi===e&&($i&n)===n&&(ai===4||ai===3&&($i&130023424)===$i&&500>Pr()-hP?$f(e,0):fP|=n),zo(e,t)}function wU(e,t){t===0&&(e.mode&1?(t=O1,O1<<=1,!(O1&130023424)&&(O1=4194304)):t=1);var n=wo();e=kc(e,t),e!==null&&(pb(e,t,n),zo(e,n))}function roe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wU(e,n)}function ioe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(t),wU(e,n)}var SU;SU=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fo.current)Lo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lo=!1,Wie(e,t,n);Lo=!!(e.flags&131072)}else Lo=!1,lr&&t.flags&1048576&&A9(t,Dw,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qx(e,t),e=t.pendingProps;var i=_m(t,io.current);Up(t,n),i=aP(null,t,r,e,i,n);var o=sP();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bo(r)?(o=!0,Iw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tP(t),i.updater=d_,t.stateNode=i,i._reactInternals=t,Xk(t,r,e,n),t=Jk(null,t,r,!0,o,n)):(t.tag=0,lr&&o&&GM(t),vo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qx(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=aoe(r),e=ys(r,e),i){case 0:t=Zk(null,t,r,e,n);break e;case 1:t=xI(null,t,r,e,n);break e;case 11:t=yI(null,t,r,e,n);break e;case 14:t=bI(null,t,r,ys(r.type,e),n);break e}throw Error(We(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ys(r,i),Zk(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ys(r,i),xI(e,t,r,i,n);case 3:e:{if(oU(t),e===null)throw Error(We(387));r=t.pendingProps,o=t.memoizedState,i=o.element,P9(e,t),Bw(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=km(Error(We(423)),t),t=wI(e,t,r,n,i);break e}else if(r!==i){i=km(Error(We(424)),t),t=wI(e,t,r,n,i);break e}else for(ha=Yu(t.stateNode.containerInfo.firstChild),ga=t,lr=!0,Es=null,n=O9(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Em(),r===i){t=Cc(e,t,n);break e}vo(e,t,r,n)}t=t.child}return t;case 5:return j9(t),e===null&&Kk(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Uk(r,i)?a=null:o!==null&&Uk(r,o)&&(t.flags|=32),iU(e,t),vo(e,t,a,n),t.child;case 6:return e===null&&Kk(t),null;case 13:return aU(e,t,n);case 4:return nP(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nm(t,null,r,n):vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ys(r,i),yI(e,t,r,i,n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:return vo(e,t,t.pendingProps.children,n),t.child;case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Yn($w,r._currentValue),r._currentValue=a,o!==null)if(Ls(o.value,a)){if(o.children===i.children&&!Fo.current){t=Cc(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=bc(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Gk(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(We(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Gk(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Up(t,n),i=Qa(i),r=r(i),t.flags|=1,vo(e,t,r,n),t.child;case 14:return r=t.type,i=ys(r,t.pendingProps),i=ys(r.type,i),bI(e,t,r,i,n);case 15:return nU(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ys(r,i),Qx(e,t),t.tag=1,Bo(r)?(e=!0,Iw(t)):e=!1,Up(t,n),J9(t,r,i),Xk(t,r,i,n),Jk(null,t,r,!0,e,n);case 19:return sU(e,t,n);case 22:return rU(e,t,n)}throw Error(We(156,t.tag))};function _U(e,t){return Xz(e,t)}function ooe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(e,t,n,r){return new ooe(e,t,n,r)}function vP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aoe(e){if(typeof e=="function")return vP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===LM)return 11;if(e===DM)return 14}return 2}function Ju(e,t){var n=e.alternate;return n===null?(n=Ha(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ew(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")vP(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Sp:return Ff(n.children,i,o,t);case IM:a=8,i|=8;break;case xk:return e=Ha(12,n,t,i|2),e.elementType=xk,e.lanes=o,e;case wk:return e=Ha(13,n,t,i),e.elementType=wk,e.lanes=o,e;case Sk:return e=Ha(19,n,t,i),e.elementType=Sk,e.lanes=o,e;case jz:return p_(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mz:a=10;break e;case Pz:a=9;break e;case LM:a=11;break e;case DM:a=14;break e;case mu:a=16,r=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Ha(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ff(e,t,n,r){return e=Ha(7,e,r,t),e.lanes=n,e}function p_(e,t,n,r){return e=Ha(22,e,r,t),e.elementType=jz,e.lanes=n,e.stateNode={isHidden:!1},e}function mA(e,t,n){return e=Ha(6,e,null,t),e.lanes=n,e}function gA(e,t,n){return t=Ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function soe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=XN(0),this.expirationTimes=XN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=XN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yP(e,t,n,r,i,o,a,s,l){return e=new soe(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ha(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tP(o),e}function loe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function EU(e){if(!e)return hd;e=e._reactInternals;e:{if(Eh(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var n=e.type;if(Bo(n))return E9(e,n,t)}return t}function NU(e,t,n,r,i,o,a,s,l){return e=yP(n,r,!0,e,i,o,a,s,l),e.context=EU(null),n=e.current,r=wo(),i=Zu(n),o=bc(r,i),o.callback=t??null,Xu(n,o,i),e.current.lanes=i,pb(e,i,r),zo(e,r),e}function m_(e,t,n,r){var i=t.current,o=wo(),a=Zu(i);return n=EU(n),t.context===null?t.context=n:t.pendingContext=n,t=bc(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xu(i,t,a),e!==null&&(Rs(e,i,a,o),Gx(e,i,a)),a}function Gw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bP(e,t){MI(e,t),(e=e.alternate)&&MI(e,t)}function coe(){return null}var AU=typeof reportError=="function"?reportError:function(e){console.error(e)};function xP(e){this._internalRoot=e}g_.prototype.render=xP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));m_(e,t,null,null)};g_.prototype.unmount=xP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eh(function(){m_(null,e,null,null)}),t[Ac]=null}};function g_(e){this._internalRoot=e}g_.prototype.unstable_scheduleHydration=function(e){if(e){var t=r9();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wu.length&&t!==0&&t<wu[n].priority;n++);wu.splice(n,0,e),n===0&&o9(e)}};function wP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function PI(){}function uoe(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Gw(a);o.call(c)}}var a=NU(t,r,e,0,null,!1,!1,"",PI);return e._reactRootContainer=a,e[Ac]=a.current,qy(e.nodeType===8?e.parentNode:e),eh(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Gw(l);s.call(c)}}var l=yP(e,0,!1,null,null,!1,!1,"",PI);return e._reactRootContainer=l,e[Ac]=l.current,qy(e.nodeType===8?e.parentNode:e),eh(function(){m_(t,l,n,r)}),l}function y_(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Gw(a);s.call(l)}}m_(t,a,e,i)}else a=uoe(n,t,e,i,r);return Gw(a)}t9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kv(t.pendingLanes);n!==0&&(BM(t,n|1),zo(t,Pr()),!(mn&6)&&(Cm=Pr()+500,Ad()))}break;case 13:eh(function(){var r=kc(e,1);if(r!==null){var i=wo();Rs(r,e,1,i)}}),bP(e,1)}};zM=function(e){if(e.tag===13){var t=kc(e,134217728);if(t!==null){var n=wo();Rs(t,e,134217728,n)}bP(e,134217728)}};n9=function(e){if(e.tag===13){var t=Zu(e),n=kc(e,t);if(n!==null){var r=wo();Rs(n,e,t,r)}bP(e,t)}};r9=function(){return Rn};i9=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};Pk=function(e,t,n){switch(t){case"input":if(Nk(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=l_(r);if(!i)throw Error(We(90));Iz(r),Nk(r,i)}}}break;case"textarea":Dz(e,n);break;case"select":t=n.value,t!=null&&$p(e,!!n.multiple,t,!1)}};qz=pP;Wz=eh;var doe={usingClientEntryPoint:!1,Events:[gb,Ap,l_,Uz,Hz,pP]},_v={findFiberByHostInstance:vf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},foe={bundleType:_v.bundleType,version:_v.version,rendererPackageName:_v.rendererPackageName,rendererConfig:_v.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ic.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gz(e),e===null?null:e.stateNode},findFiberByHostInstance:_v.findFiberByHostInstance||coe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z1.isDisabled&&z1.supportsFiber)try{i_=z1.inject(foe),yl=z1}catch{}}ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=doe;ba.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wP(t))throw Error(We(200));return loe(e,t,null,n)};ba.createRoot=function(e,t){if(!wP(e))throw Error(We(299));var n=!1,r="",i=AU;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=yP(e,1,!1,null,null,n,!1,r,i),e[Ac]=t.current,qy(e.nodeType===8?e.parentNode:e),new xP(t)};ba.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=Gz(t),e=e===null?null:e.stateNode,e};ba.flushSync=function(e){return eh(e)};ba.hydrate=function(e,t,n){if(!v_(t))throw Error(We(200));return y_(null,e,t,!0,n)};ba.hydrateRoot=function(e,t,n){if(!wP(e))throw Error(We(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=AU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=NU(t,null,e,1,n??null,i,!1,o,a),e[Ac]=t.current,qy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new g_(t)};ba.render=function(e,t,n){if(!v_(t))throw Error(We(200));return y_(null,e,t,!1,n)};ba.unmountComponentAtNode=function(e){if(!v_(e))throw Error(We(40));return e._reactRootContainer?(eh(function(){y_(null,null,e,!1,function(){e._reactRootContainer=null,e[Ac]=null})}),!0):!1};ba.unstable_batchedUpdates=pP;ba.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!v_(n))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return y_(e,t,n,!1,r)};ba.version="18.3.1-next-f1338f8080-20240426";function kU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kU)}catch(e){console.error(e)}}kU(),kz.exports=ba;var Nh=kz.exports;const CU=wn(Nh);var TU,jI=Nh;TU=jI.createRoot,jI.hydrateRoot;function hoe(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,a=[],s="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(a.push(n),s+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~r?r:~o?o:i.length)),s+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~r?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}var OU={exports:{}},MU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=A;function poe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var moe=typeof Object.is=="function"?Object.is:poe,goe=Tm.useState,voe=Tm.useEffect,yoe=Tm.useLayoutEffect,boe=Tm.useDebugValue;function xoe(e,t){var n=t(),r=goe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return yoe(function(){i.value=n,i.getSnapshot=t,vA(i)&&o({inst:i})},[e,n,t]),voe(function(){return vA(i)&&o({inst:i}),e(function(){vA(i)&&o({inst:i})})},[e]),boe(n),n}function vA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!moe(e,n)}catch{return!0}}function woe(e,t){return t()}var Soe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?woe:xoe;MU.useSyncExternalStore=Tm.useSyncExternalStore!==void 0?Tm.useSyncExternalStore:Soe;OU.exports=MU;var b_=OU.exports;const _oe=Nz.useInsertionEffect,Eoe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PU=Eoe?A.useLayoutEffect:A.useEffect,Noe=_oe||PU,SP=e=>{const t=A.useRef([e,(...n)=>t[0](...n)]).current;return Noe(()=>{t[0]=e}),t[1]},Aoe="popstate",_P="pushState",EP="replaceState",koe="hashchange",RI=[Aoe,_P,EP,koe],Coe=e=>{for(const t of RI)addEventListener(t,e);return()=>{for(const t of RI)removeEventListener(t,e)}},jU=(e,t)=>b_.useSyncExternalStore(Coe,e,t),Toe=()=>location.search,Ooe=({ssrSearch:e=""}={})=>jU(Toe,()=>e),II=()=>location.pathname,Moe=({ssrPath:e}={})=>jU(II,e?()=>e:II),Poe=(e,{replace:t=!1,state:n=null}={})=>history[t?EP:_P](n,"",e),joe=(e={})=>[Moe(e),Poe],LI=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[LI]>"u"){for(const e of[_P,EP]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,LI,{value:!0})}const Roe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",RU=(e="")=>e==="/"?"":e,Ioe=(e,t)=>e[0]==="~"?e.slice(1):RU(t)+e,Loe=(e="",t)=>Roe(DI(RU(e)),DI(t)),DI=e=>{try{return decodeURI(e)}catch{return e}},IU={hook:joe,searchHook:Ooe,parser:hoe,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},LU=A.createContext(IU),yb=()=>A.useContext(LU),DU={},$U=A.createContext(DU),NP=()=>A.useContext($U),x_=e=>{const[t,n]=e.hook(e);return[Loe(e.base,t),SP((r,i)=>n(Ioe(r,e.base),i))]},Ah=()=>x_(yb()),FU=(e,t,n,r)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=i.exec(n)||[],[s,...l]=a;return s!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((d,p)=>[d,l[p]])):a.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[s]:[]]:[!1,null]},Doe=({children:e,...t})=>{var u,d;const n=yb(),r=t.hook?IU:n;let i=r;const[o,a]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=o),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let s=A.useRef({}),l=s.current,c=l;for(let p in r){const h=p==="base"?r[p]+(t[p]||""):t[p]||r[p];l===c&&h!==c[p]&&(s.current=c={...c}),c[p]=h,h!==r[p]&&(i=c)}return A.createElement(LU.Provider,{value:i,children:e})},$I=({children:e,component:t},n)=>t?A.createElement(t,{params:n}):typeof e=="function"?e(n):e,$oe=e=>{let t=A.useRef(DU),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Ci=({path:e,nest:t,match:n,...r})=>{const i=yb(),[o]=x_(i),[a,s,l]=n??FU(i.parser,e,o,t),c=$oe({...NP(),...s});if(!a)return null;const u=l?A.createElement(Doe,{base:l},$I(r,c)):$I(r,c);return A.createElement($U.Provider,{value:c,children:u})},Foe=A.forwardRef((e,t)=>{const n=yb(),[r,i]=x_(n),{to:o="",href:a=o,onClick:s,asChild:l,children:c,className:u,replace:d,state:p,...h}=e,m=SP(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(s==null||s(v),v.defaultPrevented||(v.preventDefault(),i(a,e)))}),g=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return l&&A.isValidElement(c)?A.cloneElement(c,{onClick:m,href:g}):A.createElement("a",{...h,onClick:m,href:g,className:u!=null&&u.call?u(r===a):u,children:c,ref:t})}),BU=e=>Array.isArray(e)?e.flatMap(t=>BU(t&&t.type===A.Fragment?t.props.children:t)):[e],FI=({children:e,location:t})=>{const n=yb(),[r]=x_(n);for(const i of BU(e)){let o=0;if(A.isValidElement(i)&&(o=FU(n.parser,i.props.path,t||r,i.props.nest))[0])return A.cloneElement(i,{match:o})}return null},BI=e=>{const{to:t,href:n=t}=e,[,r]=Ah(),i=SP(()=>r(t||n,e));return PU(()=>{i()},[]),null};var hg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},th=typeof window>"u"||"Deno"in globalThis;function Ia(){}function Boe(e,t){return typeof e=="function"?e(t):e}function dC(e){return typeof e=="number"&&e>=0&&e!==1/0}function zU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qp(e,t){return typeof e=="function"?e(t):e}function Ns(e,t){return typeof e=="function"?e(t):e}function zI(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=e;if(a){if(r){if(t.queryHash!==AP(a,t.options))return!1}else if(!Jy(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||o&&!o(t))}function UI(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(nh(t.options.mutationKey)!==nh(o))return!1}else if(!Jy(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function AP(e,t){return((t==null?void 0:t.queryKeyHashFn)||nh)(e)}function nh(e){return JSON.stringify(e,(t,n)=>fC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jy(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Jy(e[n],t[n])):!1}function UU(e,t){if(e===t)return e;const n=HI(e)&&HI(t);if(n||fC(e)&&fC(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),a=o.length,s=n?[]:{};let l=0;for(let c=0;c<a;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(s[u]=void 0,l++):(s[u]=UU(e[u],t[u]),s[u]===e[u]&&e[u]!==void 0&&l++)}return i===a&&l===i?e:s}return t}function Yw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function HI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fC(e){if(!qI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!qI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qI(e){return Object.prototype.toString.call(e)==="[object Object]"}function zoe(e){return new Promise(t=>{setTimeout(t,e)})}function hC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?UU(e,t):t}function Uoe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Hoe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var kP=Symbol();function HU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===kP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Mf,Cu,cm,oz,qoe=(oz=class extends hg{constructor(){super();Mt(this,Mf);Mt(this,Cu);Mt(this,cm);it(this,cm,t=>{if(!th&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){me(this,Cu)||this.setEventListener(me(this,cm))}onUnsubscribe(){var t;this.hasListeners()||((t=me(this,Cu))==null||t.call(this),it(this,Cu,void 0))}setEventListener(t){var n;it(this,cm,t),(n=me(this,Cu))==null||n.call(this),it(this,Cu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){me(this,Mf)!==t&&(it(this,Mf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof me(this,Mf)=="boolean"?me(this,Mf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Mf=new WeakMap,Cu=new WeakMap,cm=new WeakMap,oz),CP=new qoe,um,Tu,dm,az,Woe=(az=class extends hg{constructor(){super();Mt(this,um,!0);Mt(this,Tu);Mt(this,dm);it(this,dm,t=>{if(!th&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){me(this,Tu)||this.setEventListener(me(this,dm))}onUnsubscribe(){var t;this.hasListeners()||((t=me(this,Tu))==null||t.call(this),it(this,Tu,void 0))}setEventListener(t){var n;it(this,dm,t),(n=me(this,Tu))==null||n.call(this),it(this,Tu,t(this.setOnline.bind(this)))}setOnline(t){me(this,um)!==t&&(it(this,um,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return me(this,um)}},um=new WeakMap,Tu=new WeakMap,dm=new WeakMap,az),Xw=new Woe;function pC(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function Voe(e){return Math.min(1e3*2**e,3e4)}function qU(e){return(e??"online")==="online"?Xw.isOnline():!0}var WU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yA(e){return e instanceof WU}function VU(e){let t=!1,n=0,r=!1,i;const o=pC(),a=g=>{var v;r||(p(new WU(g)),(v=e.abort)==null||v.call(e))},s=()=>{t=!0},l=()=>{t=!1},c=()=>CP.isFocused()&&(e.networkMode==="always"||Xw.isOnline())&&e.canRun(),u=()=>qU(e.networkMode)&&e.canRun(),d=g=>{var v;r||(r=!0,(v=e.onSuccess)==null||v.call(e,g),i==null||i(),o.resolve(g))},p=g=>{var v;r||(r=!0,(v=e.onError)==null||v.call(e,g),i==null||i(),o.reject(g))},h=()=>new Promise(g=>{var v;i=y=>{(r||c())&&g(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;i=void 0,r||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(r)return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var k;if(r)return;const x=e.retry??(th?0:3),w=e.retryDelay??Voe,_=typeof w=="function"?w(n,y):w,N=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!N){p(y);return}n++,(k=e.onFail)==null||k.call(e,n,y),zoe(_).then(()=>c()?void 0:h()).then(()=>{t?p(y):m()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?m():h().then(m),o)}}function Koe(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const o=s=>{t?e.push(s):i(()=>{n(s)})},a=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var oi=Koe(),Pf,sz,KU=(sz=class{constructor(){Mt(this,Pf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dC(this.gcTime)&&it(this,Pf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(th?1/0:5*60*1e3))}clearGcTimeout(){me(this,Pf)&&(clearTimeout(me(this,Pf)),it(this,Pf,void 0))}},Pf=new WeakMap,sz),fm,hm,Ra,Gi,cb,jf,bs,rc,lz,Goe=(lz=class extends KU{constructor(t){super();Mt(this,bs);Mt(this,fm);Mt(this,hm);Mt(this,Ra);Mt(this,Gi);Mt(this,cb);Mt(this,jf);it(this,jf,!1),it(this,cb,t.defaultOptions),this.setOptions(t.options),this.observers=[],it(this,Ra,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,it(this,fm,Yoe(this.options)),this.state=t.state??me(this,fm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=me(this,Gi))==null?void 0:t.promise}setOptions(t){this.options={...me(this,cb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&me(this,Ra).remove(this)}setData(t,n){const r=hC(this.state.data,t,this.options);return Zt(this,bs,rc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Zt(this,bs,rc).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=me(this,Gi))==null?void 0:r.promise;return(i=me(this,Gi))==null||i.cancel(t),n?n.then(Ia).catch(Ia):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(me(this,fm))}isActive(){return this.observers.some(t=>Ns(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!zU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=me(this,Gi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=me(this,Gi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),me(this,Ra).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(me(this,Gi)&&(me(this,jf)?me(this,Gi).cancel({revert:!0}):me(this,Gi).cancelRetry()),this.scheduleGc()),me(this,Ra).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,bs,rc).call(this,{type:"invalidate"})}fetch(t,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(me(this,Gi))return me(this,Gi).continueRetry(),me(this,Gi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(it(this,jf,!0),r.signal)})},o=()=>{const d=HU(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return i(p),it(this,jf,!1),this.options.persister?this.options.persister(d,p,this):d(p)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),it(this,hm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Zt(this,bs,rc).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const s=d=>{var p,h,m,g;yA(d)&&d.silent||Zt(this,bs,rc).call(this,{type:"error",error:d}),yA(d)||((h=(p=me(this,Ra).config).onError)==null||h.call(p,d,this),(g=(m=me(this,Ra).config).onSettled)==null||g.call(m,this.state.data,d,this)),this.scheduleGc()};return it(this,Gi,VU({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var p,h,m,g;if(d===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){s(v);return}(h=(p=me(this,Ra).config).onSuccess)==null||h.call(p,d,this),(g=(m=me(this,Ra).config).onSettled)==null||g.call(m,d,this.state.error,this),this.scheduleGc()},onError:s,onFail:(d,p)=>{Zt(this,bs,rc).call(this,{type:"failed",failureCount:d,error:p})},onPause:()=>{Zt(this,bs,rc).call(this,{type:"pause"})},onContinue:()=>{Zt(this,bs,rc).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),me(this,Gi).start()}},fm=new WeakMap,hm=new WeakMap,Ra=new WeakMap,Gi=new WeakMap,cb=new WeakMap,jf=new WeakMap,bs=new WeakSet,rc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...GU(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return yA(i)&&i.revert&&me(this,hm)?{...me(this,hm),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),oi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),me(this,Ra).notify({query:this,type:"updated",action:t})})},lz);function GU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Yoe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sl,cz,Xoe=(cz=class extends hg{constructor(t={}){super();Mt(this,sl);this.config=t,it(this,sl,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??AP(i,n);let a=this.get(o);return a||(a=new Goe({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){me(this,sl).has(t.queryHash)||(me(this,sl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=me(this,sl).get(t.queryHash);n&&(t.destroy(),n===t&&me(this,sl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){oi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return me(this,sl).get(t)}getAll(){return[...me(this,sl).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zI(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>zI(t,r)):n}notify(t){oi.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){oi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){oi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sl=new WeakMap,cz),ll,po,Rf,cl,fu,uz,Qoe=(uz=class extends KU{constructor(t){super();Mt(this,cl);Mt(this,ll);Mt(this,po);Mt(this,Rf);this.mutationId=t.mutationId,it(this,po,t.mutationCache),it(this,ll,[]),this.state=t.state||YU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){me(this,ll).includes(t)||(me(this,ll).push(t),this.clearGcTimeout(),me(this,po).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){it(this,ll,me(this,ll).filter(n=>n!==t)),this.scheduleGc(),me(this,po).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){me(this,ll).length||(this.state.status==="pending"?this.scheduleGc():me(this,po).remove(this))}continue(){var t;return((t=me(this,Rf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,s,l,c,u,d,p,h,m,g,v,y,x,w,_,N,k,O;it(this,Rf,VU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,C)=>{Zt(this,cl,fu).call(this,{type:"failed",failureCount:E,error:C})},onPause:()=>{Zt(this,cl,fu).call(this,{type:"pause"})},onContinue:()=>{Zt(this,cl,fu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>me(this,po).canRun(this)}));const n=this.state.status==="pending",r=!me(this,Rf).canStart();try{if(!n){Zt(this,cl,fu).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=me(this,po).config).onMutate)==null?void 0:o.call(i,t,this));const C=await((s=(a=this.options).onMutate)==null?void 0:s.call(a,t));C!==this.state.context&&Zt(this,cl,fu).call(this,{type:"pending",context:C,variables:t,isPaused:r})}const E=await me(this,Rf).start();return await((c=(l=me(this,po).config).onSuccess)==null?void 0:c.call(l,E,t,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,E,t,this.state.context)),await((h=(p=me(this,po).config).onSettled)==null?void 0:h.call(p,E,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,E,null,t,this.state.context)),Zt(this,cl,fu).call(this,{type:"success",data:E}),E}catch(E){try{throw await((y=(v=me(this,po).config).onError)==null?void 0:y.call(v,E,t,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,E,t,this.state.context)),await((N=(_=me(this,po).config).onSettled)==null?void 0:N.call(_,void 0,E,this.state.variables,this.state.context,this)),await((O=(k=this.options).onSettled)==null?void 0:O.call(k,void 0,E,t,this.state.context)),E}finally{Zt(this,cl,fu).call(this,{type:"error",error:E})}}finally{me(this,po).runNext(this)}}},ll=new WeakMap,po=new WeakMap,Rf=new WeakMap,cl=new WeakSet,fu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),oi.batch(()=>{me(this,ll).forEach(r=>{r.onMutationUpdate(t)}),me(this,po).notify({mutation:this,type:"updated",action:t})})},uz);function YU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oa,ub,dz,Zoe=(dz=class extends hg{constructor(t={}){super();Mt(this,oa);Mt(this,ub);this.config=t,it(this,oa,new Map),it(this,ub,Date.now())}build(t,n,r){const i=new Qoe({mutationCache:this,mutationId:++E1(this,ub)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=U1(t),r=me(this,oa).get(n)??[];r.push(t),me(this,oa).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=U1(t);if(me(this,oa).has(n)){const i=(r=me(this,oa).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?me(this,oa).delete(n):me(this,oa).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=me(this,oa).get(U1(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=me(this,oa).get(U1(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){oi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...me(this,oa).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>UI(n,r))}findAll(t={}){return this.getAll().filter(n=>UI(t,n))}notify(t){oi.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return oi.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ia))))}},oa=new WeakMap,ub=new WeakMap,dz);function U1(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function WI(e){return{onFetch:(t,n)=>{var u,d,p,h,m;const r=t.options,i=(p=(d=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,o=((h=t.state.data)==null?void 0:h.pages)||[],a=((m=t.state.data)==null?void 0:m.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=HU(t.options,t.fetchOptions),x=async(w,_,N)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};v(k);const O=await y(k),{maxPages:E}=t.options,C=N?Hoe:Uoe;return{pages:C(w.pages,O,E),pageParams:C(w.pageParams,_,E)}};if(i&&o.length){const w=i==="backward",_=w?Joe:VI,N={pages:o,pageParams:a},k=_(r,N);s=await x(N,k,w)}else{const w=e??o.length;do{const _=l===0?a[0]??r.initialPageParam:VI(r,s);if(l>0&&_==null)break;s=await x(s,_),l++}while(l<w)}return s};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function VI(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Joe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var br,Ou,Mu,pm,mm,Pu,gm,vm,fz,eae=(fz=class{constructor(e={}){Mt(this,br);Mt(this,Ou);Mt(this,Mu);Mt(this,pm);Mt(this,mm);Mt(this,Pu);Mt(this,gm);Mt(this,vm);it(this,br,e.queryCache||new Xoe),it(this,Ou,e.mutationCache||new Zoe),it(this,Mu,e.defaultOptions||{}),it(this,pm,new Map),it(this,mm,new Map),it(this,Pu,0)}mount(){E1(this,Pu)._++,me(this,Pu)===1&&(it(this,gm,CP.subscribe(async e=>{e&&(await this.resumePausedMutations(),me(this,br).onFocus())})),it(this,vm,Xw.subscribe(async e=>{e&&(await this.resumePausedMutations(),me(this,br).onOnline())})))}unmount(){var e,t;E1(this,Pu)._--,me(this,Pu)===0&&((e=me(this,gm))==null||e.call(this),it(this,gm,void 0),(t=me(this,vm))==null||t.call(this),it(this,vm,void 0))}isFetching(e){return me(this,br).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return me(this,Ou).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=me(this,br).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=me(this,br).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(qp(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return me(this,br).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=me(this,br).get(r.queryHash),o=i==null?void 0:i.state.data,a=Boe(t,o);if(a!==void 0)return me(this,br).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return oi.batch(()=>me(this,br).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=me(this,br).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=me(this,br);oi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=me(this,br),r={type:"active",...e};return oi.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=oi.batch(()=>me(this,br).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ia).catch(Ia)}invalidateQueries(e={},t={}){return oi.batch(()=>{if(me(this,br).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=oi.batch(()=>me(this,br).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ia)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ia)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=me(this,br).build(this,t);return n.isStaleByTime(qp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ia).catch(Ia)}fetchInfiniteQuery(e){return e.behavior=WI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ia).catch(Ia)}ensureInfiniteQueryData(e){return e.behavior=WI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xw.isOnline()?me(this,Ou).resumePausedMutations():Promise.resolve()}getQueryCache(){return me(this,br)}getMutationCache(){return me(this,Ou)}getDefaultOptions(){return me(this,Mu)}setDefaultOptions(e){it(this,Mu,e)}setQueryDefaults(e,t){me(this,pm).set(nh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...me(this,pm).values()];let n={};return t.forEach(r=>{Jy(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){me(this,mm).set(nh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...me(this,mm).values()];let n={};return t.forEach(r=>{Jy(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...me(this,Mu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=AP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===kP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...me(this,Mu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){me(this,br).clear(),me(this,Ou).clear()}},br=new WeakMap,Ou=new WeakMap,Mu=new WeakMap,pm=new WeakMap,mm=new WeakMap,Pu=new WeakMap,gm=new WeakMap,vm=new WeakMap,fz),Po,cn,db,mo,If,ym,ju,ul,fb,bm,xm,Lf,Df,Ru,wm,An,Yv,mC,gC,vC,yC,bC,xC,wC,XU,hz,tae=(hz=class extends hg{constructor(t,n){super();Mt(this,An);Mt(this,Po);Mt(this,cn);Mt(this,db);Mt(this,mo);Mt(this,If);Mt(this,ym);Mt(this,ju);Mt(this,ul);Mt(this,fb);Mt(this,bm);Mt(this,xm);Mt(this,Lf);Mt(this,Df);Mt(this,Ru);Mt(this,wm,new Set);this.options=n,it(this,Po,t),it(this,ul,null),it(this,ju,pC()),this.options.experimental_prefetchInRender||me(this,ju).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(me(this,cn).addObserver(this),KI(me(this,cn),this.options)?Zt(this,An,Yv).call(this):this.updateResult(),Zt(this,An,yC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return SC(me(this,cn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return SC(me(this,cn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Zt(this,An,bC).call(this),Zt(this,An,xC).call(this),me(this,cn).removeObserver(this)}setOptions(t,n){const r=this.options,i=me(this,cn);if(this.options=me(this,Po).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ns(this.options.enabled,me(this,cn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Zt(this,An,wC).call(this),me(this,cn).setOptions(this.options),r._defaulted&&!Yw(this.options,r)&&me(this,Po).getQueryCache().notify({type:"observerOptionsUpdated",query:me(this,cn),observer:this});const o=this.hasListeners();o&&GI(me(this,cn),i,this.options,r)&&Zt(this,An,Yv).call(this),this.updateResult(n),o&&(me(this,cn)!==i||Ns(this.options.enabled,me(this,cn))!==Ns(r.enabled,me(this,cn))||qp(this.options.staleTime,me(this,cn))!==qp(r.staleTime,me(this,cn)))&&Zt(this,An,mC).call(this);const a=Zt(this,An,gC).call(this);o&&(me(this,cn)!==i||Ns(this.options.enabled,me(this,cn))!==Ns(r.enabled,me(this,cn))||a!==me(this,Ru))&&Zt(this,An,vC).call(this,a)}getOptimisticResult(t){const n=me(this,Po).getQueryCache().build(me(this,Po),t),r=this.createResult(n,t);return rae(this,r)&&(it(this,mo,r),it(this,ym,this.options),it(this,If,me(this,cn).state)),r}getCurrentResult(){return me(this,mo)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){me(this,wm).add(t)}getCurrentQuery(){return me(this,cn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=me(this,Po).defaultQueryOptions(t),r=me(this,Po).getQueryCache().build(me(this,Po),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Zt(this,An,Yv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),me(this,mo)))}createResult(t,n){var E;const r=me(this,cn),i=this.options,o=me(this,mo),a=me(this,If),s=me(this,ym),c=t!==r?t.state:me(this,db),{state:u}=t;let d={...u},p=!1,h;if(n._optimisticResults){const C=this.hasListeners(),L=!C&&KI(t,n),M=C&&GI(t,r,n,i);(L||M)&&(d={...d,...GU(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:v}=d;if(n.select&&d.data!==void 0)if(o&&d.data===(a==null?void 0:a.data)&&n.select===me(this,fb))h=me(this,bm);else try{it(this,fb,n.select),h=n.select(d.data),h=hC(o==null?void 0:o.data,h,n),it(this,bm,h),it(this,ul,null)}catch(C){it(this,ul,C)}else h=d.data;if(n.placeholderData!==void 0&&h===void 0&&v==="pending"){let C;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))C=o.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((E=me(this,xm))==null?void 0:E.state.data,me(this,xm)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),it(this,ul,null)}catch(L){it(this,ul,L)}C!==void 0&&(v="success",h=hC(o==null?void 0:o.data,C,n),p=!0)}me(this,ul)&&(m=me(this,ul),h=me(this,bm),g=Date.now(),v="error");const y=d.fetchStatus==="fetching",x=v==="pending",w=v==="error",_=x&&y,N=h!==void 0,O={status:v,fetchStatus:d.fetchStatus,isPending:x,isSuccess:v==="success",isError:w,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:w&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&N,isStale:TP(t,n),refetch:this.refetch,promise:me(this,ju)};if(this.options.experimental_prefetchInRender){const C=I=>{O.status==="error"?I.reject(O.error):O.data!==void 0&&I.resolve(O.data)},L=()=>{const I=it(this,ju,O.promise=pC());C(I)},M=me(this,ju);switch(M.status){case"pending":t.queryHash===r.queryHash&&C(M);break;case"fulfilled":(O.status==="error"||O.data!==M.value)&&L();break;case"rejected":(O.status!=="error"||O.error!==M.reason)&&L();break}}return O}updateResult(t){const n=me(this,mo),r=this.createResult(me(this,cn),this.options);if(it(this,If,me(this,cn).state),it(this,ym,this.options),me(this,If).data!==void 0&&it(this,xm,me(this,cn)),Yw(r,n))return;it(this,mo,r);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!me(this,wm).size)return!0;const l=new Set(s??me(this,wm));return this.options.throwOnError&&l.add("error"),Object.keys(me(this,mo)).some(c=>{const u=c;return me(this,mo)[u]!==n[u]&&l.has(u)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),Zt(this,An,XU).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Zt(this,An,yC).call(this)}},Po=new WeakMap,cn=new WeakMap,db=new WeakMap,mo=new WeakMap,If=new WeakMap,ym=new WeakMap,ju=new WeakMap,ul=new WeakMap,fb=new WeakMap,bm=new WeakMap,xm=new WeakMap,Lf=new WeakMap,Df=new WeakMap,Ru=new WeakMap,wm=new WeakMap,An=new WeakSet,Yv=function(t){Zt(this,An,wC).call(this);let n=me(this,cn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ia)),n},mC=function(){Zt(this,An,bC).call(this);const t=qp(this.options.staleTime,me(this,cn));if(th||me(this,mo).isStale||!dC(t))return;const r=zU(me(this,mo).dataUpdatedAt,t)+1;it(this,Lf,setTimeout(()=>{me(this,mo).isStale||this.updateResult()},r))},gC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(me(this,cn)):this.options.refetchInterval)??!1},vC=function(t){Zt(this,An,xC).call(this),it(this,Ru,t),!(th||Ns(this.options.enabled,me(this,cn))===!1||!dC(me(this,Ru))||me(this,Ru)===0)&&it(this,Df,setInterval(()=>{(this.options.refetchIntervalInBackground||CP.isFocused())&&Zt(this,An,Yv).call(this)},me(this,Ru)))},yC=function(){Zt(this,An,mC).call(this),Zt(this,An,vC).call(this,Zt(this,An,gC).call(this))},bC=function(){me(this,Lf)&&(clearTimeout(me(this,Lf)),it(this,Lf,void 0))},xC=function(){me(this,Df)&&(clearInterval(me(this,Df)),it(this,Df,void 0))},wC=function(){const t=me(this,Po).getQueryCache().build(me(this,Po),this.options);if(t===me(this,cn))return;const n=me(this,cn);it(this,cn,t),it(this,db,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},XU=function(t){oi.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(me(this,mo))}),me(this,Po).getQueryCache().notify({query:me(this,cn),type:"observerResultsUpdated"})})},hz);function nae(e,t){return Ns(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function KI(e,t){return nae(e,t)||e.state.data!==void 0&&SC(e,t,t.refetchOnMount)}function SC(e,t,n){if(Ns(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&TP(e,t)}return!1}function GI(e,t,n,r){return(e!==t||Ns(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&TP(e,n)}function TP(e,t){return Ns(t.enabled,e)!==!1&&e.isStaleByTime(qp(t.staleTime,e))}function rae(e,t){return!Yw(e.getCurrentResult(),t)}var Iu,Lu,jo,fc,Ec,tw,_C,pz,iae=(pz=class extends hg{constructor(n,r){super();Mt(this,Ec);Mt(this,Iu);Mt(this,Lu);Mt(this,jo);Mt(this,fc);it(this,Iu,n),this.setOptions(r),this.bindMethods(),Zt(this,Ec,tw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=me(this,Iu).defaultMutationOptions(n),Yw(this.options,r)||me(this,Iu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:me(this,jo),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&nh(r.mutationKey)!==nh(this.options.mutationKey)?this.reset():((i=me(this,jo))==null?void 0:i.state.status)==="pending"&&me(this,jo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=me(this,jo))==null||n.removeObserver(this)}onMutationUpdate(n){Zt(this,Ec,tw).call(this),Zt(this,Ec,_C).call(this,n)}getCurrentResult(){return me(this,Lu)}reset(){var n;(n=me(this,jo))==null||n.removeObserver(this),it(this,jo,void 0),Zt(this,Ec,tw).call(this),Zt(this,Ec,_C).call(this)}mutate(n,r){var i;return it(this,fc,r),(i=me(this,jo))==null||i.removeObserver(this),it(this,jo,me(this,Iu).getMutationCache().build(me(this,Iu),this.options)),me(this,jo).addObserver(this),me(this,jo).execute(n)}},Iu=new WeakMap,Lu=new WeakMap,jo=new WeakMap,fc=new WeakMap,Ec=new WeakSet,tw=function(){var r;const n=((r=me(this,jo))==null?void 0:r.state)??YU();it(this,Lu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},_C=function(n){oi.batch(()=>{var r,i,o,a,s,l,c,u;if(me(this,fc)&&this.hasListeners()){const d=me(this,Lu).variables,p=me(this,Lu).context;(n==null?void 0:n.type)==="success"?((i=(r=me(this,fc)).onSuccess)==null||i.call(r,n.data,d,p),(a=(o=me(this,fc)).onSettled)==null||a.call(o,n.data,null,d,p)):(n==null?void 0:n.type)==="error"&&((l=(s=me(this,fc)).onError)==null||l.call(s,n.error,d,p),(u=(c=me(this,fc)).onSettled)==null||u.call(c,void 0,n.error,d,p))}this.listeners.forEach(d=>{d(me(this,Lu))})})},pz),QU=A.createContext(void 0),OP=e=>{const t=A.useContext(QU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oae=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(QU.Provider,{value:e,children:t})),ZU=A.createContext(!1),aae=()=>A.useContext(ZU);ZU.Provider;function sae(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lae=A.createContext(sae()),cae=()=>A.useContext(lae);function JU(e,t){return typeof e=="function"?e(...t):!!e}function EC(){}var uae=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dae=e=>{A.useEffect(()=>{e.clearReset()},[e])},fae=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&JU(n,[e.error,r]),hae=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},pae=(e,t)=>e.isLoading&&e.isFetching&&!t,mae=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,YI=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function gae(e,t,n){var u,d,p,h,m;const r=OP(),i=aae(),o=cae(),a=r.defaultQueryOptions(e);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,a),a._optimisticResults=i?"isRestoring":"optimistic",hae(a),uae(a,o),dae(o);const s=!r.getQueryCache().get(a.queryHash),[l]=A.useState(()=>new t(r,a)),c=l.getOptimisticResult(a);if(A.useSyncExternalStore(A.useCallback(g=>{const v=i?EC:l.subscribe(oi.batchCalls(g));return l.updateResult(),v},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),mae(a,c))throw YI(a,l,o);if(fae({result:c,errorResetBoundary:o,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw c.error;if((h=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||h.call(p,a,c),a.experimental_prefetchInRender&&!th&&pae(c,i)){const g=s?YI(a,l,o):(m=r.getQueryCache().get(a.queryHash))==null?void 0:m.promise;g==null||g.catch(EC).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function tn(e,t){return gae(e,tae)}function Bt(e,t){const n=OP(),[r]=A.useState(()=>new iae(n,e));A.useEffect(()=>{r.setOptions(e)},[r,e]);const i=A.useSyncExternalStore(A.useCallback(a=>r.subscribe(oi.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=A.useCallback((a,s)=>{r.mutate(a,s).catch(EC)},[r]);if(i.error&&JU(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}async function eH(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function jt(e,t,n,r){const i=localStorage.getItem("token"),o={};n&&(o["Content-Type"]="application/json"),i&&(o.Authorization=`Bearer ${i}`);const a=new AbortController;try{const s=await fetch(t,{method:e,headers:o,body:n?JSON.stringify(n):void 0,credentials:"include",signal:a.signal});return await eH(s),s.json()}catch(s){throw s.name==="AbortError"?new Error(`La peticin tard ms de ${0/1e3}s y fue cancelada`):s}finally{}}const tH=({on401:e})=>async({queryKey:t})=>{const n=localStorage.getItem("token"),r={};n&&(r.Authorization=`Bearer ${n}`);const i=await fetch(t.join("/"),{headers:r,credentials:"include"});return e==="returnNull"&&i.status===401?null:(await eH(i),await i.json())},Ht=new eae({defaultOptions:{queries:{queryFn:tH({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),vae=1,yae=1e6;let bA=0;function bae(){return bA=(bA+1)%Number.MAX_SAFE_INTEGER,bA.toString()}const xA=new Map,XI=e=>{if(xA.has(e))return;const t=setTimeout(()=>{xA.delete(e),gy({type:"REMOVE_TOAST",toastId:e})},yae);xA.set(e,t)},xae=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vae)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?XI(n):e.toasts.forEach(r=>{XI(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},nw=[];let rw={toasts:[]};function gy(e){rw=xae(rw,e),nw.forEach(t=>{t(rw)})}function wae({...e}){const t=bae(),n=i=>gy({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>gy({type:"DISMISS_TOAST",toastId:t});return gy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Ho(){const[e,t]=A.useState(rw);return A.useEffect(()=>(nw.push(t),()=>{const n=nw.indexOf(t);n>-1&&nw.splice(n,1)}),[e]),{...e,toast:wae,dismiss:n=>gy({type:"DISMISS_TOAST",toastId:n})}}function gt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function QI(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rh(...e){return t=>{let n=!1;const r=e.map(i=>{const o=QI(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():QI(e[i],null)}}}}function sn(...e){return A.useCallback(rh(...e),e)}function Sae(e,t){const n=A.createContext(t),r=o=>{const{children:a,...s}=o,l=A.useMemo(()=>s,Object.values(s));return f.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(o){const a=A.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function wa(e,t=[]){let n=[];function r(o,a){const s=A.createContext(a),l=n.length;n=[...n,a];const c=d=>{var y;const{scope:p,children:h,...m}=d,g=((y=p==null?void 0:p[e])==null?void 0:y[l])||s,v=A.useMemo(()=>m,Object.values(m));return f.jsx(g.Provider,{value:v,children:h})};c.displayName=o+"Provider";function u(d,p){var g;const h=((g=p==null?void 0:p[e])==null?void 0:g[l])||s,m=A.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>A.createContext(a));return function(s){const l=(s==null?void 0:s[e])||o;return A.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,_ae(i,...t)]}function _ae(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Om(e){const t=Eae(e),n=A.forwardRef((r,i)=>{const{children:o,...a}=r,s=A.Children.toArray(o),l=s.find(Nae);if(l){const c=l.props.children,u=s.map(d=>d===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:d);return f.jsx(t,{...a,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return f.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var MP=Om("Slot");function Eae(e){const t=A.forwardRef((n,r)=>{const{children:i,...o}=n;if(A.isValidElement(i)){const a=kae(i),s=Aae(o,i.props);return i.type!==A.Fragment&&(s.ref=r?rh(r,a):a),A.cloneElement(i,s)}return A.Children.count(i)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nH=Symbol("radix.slottable");function rH(e){const t=({children:n})=>f.jsx(f.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=nH,t}function Nae(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nH}function Aae(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function kae(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function PP(e){const t=e+"CollectionProvider",[n,r]=wa(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:y}=g,x=ve.useRef(null),w=ve.useRef(new Map).current;return f.jsx(i,{scope:v,itemMap:w,collectionRef:x,children:y})};a.displayName=t;const s=e+"CollectionSlot",l=Om(s),c=ve.forwardRef((g,v)=>{const{scope:y,children:x}=g,w=o(s,y),_=sn(v,w.collectionRef);return f.jsx(l,{ref:_,children:x})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",p=Om(u),h=ve.forwardRef((g,v)=>{const{scope:y,children:x,...w}=g,_=ve.useRef(null),N=sn(v,_),k=o(u,y);return ve.useEffect(()=>(k.itemMap.set(_,{ref:_,...w}),()=>void k.itemMap.delete(_))),f.jsx(p,{[d]:"",ref:N,children:x})});h.displayName=u;function m(g){const v=o(e+"CollectionConsumer",g);return ve.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((k,O)=>w.indexOf(k.ref.current)-w.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},m,r]}var Cae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vt=Cae.reduce((e,t)=>{const n=Om(`Primitive.${t}`),r=A.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function iH(e,t){e&&Nh.flushSync(()=>e.dispatchEvent(t))}function Nr(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Tae(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Oae="DismissableLayer",NC="dismissableLayer.update",Mae="dismissableLayer.pointerDownOutside",Pae="dismissableLayer.focusOutside",ZI,oH=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bb=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,c=A.useContext(oH),[u,d]=A.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=A.useState({}),m=sn(t,O=>d(O)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),x=u?g.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,N=Rae(O=>{const E=O.target,C=[...c.branches].some(L=>L.contains(E));!_||C||(i==null||i(O),a==null||a(O),O.defaultPrevented||s==null||s())},p),k=Iae(O=>{const E=O.target;[...c.branches].some(L=>L.contains(E))||(o==null||o(O),a==null||a(O),O.defaultPrevented||s==null||s())},p);return Tae(O=>{x===c.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&s&&(O.preventDefault(),s()))},p),A.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ZI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),JI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ZI)}},[u,p,n,c]),A.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),JI())},[u,c]),A.useEffect(()=>{const O=()=>h({});return document.addEventListener(NC,O),()=>document.removeEventListener(NC,O)},[]),f.jsx(vt.div,{...l,ref:m,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,k.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,N.onPointerDownCapture)})});bb.displayName=Oae;var jae="DismissableLayerBranch",aH=A.forwardRef((e,t)=>{const n=A.useContext(oH),r=A.useRef(null),i=sn(t,r);return A.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),f.jsx(vt.div,{...e,ref:i})});aH.displayName=jae;function Rae(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){sH(Mae,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Iae(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e),r=A.useRef(!1);return A.useEffect(()=>{const i=o=>{o.target&&!r.current&&sH(Pae,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function JI(){const e=new CustomEvent(NC);document.dispatchEvent(e)}function sH(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?iH(i,o):i.dispatchEvent(o)}var Lae=bb,Dae=aH,Gr=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},$ae="Portal",w_=A.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,o]=A.useState(!1);Gr(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?CU.createPortal(f.jsx(vt.div,{...r,ref:t}),a):null});w_.displayName=$ae;function Fae(e,t){return A.useReducer((n,r)=>t[n][r]??n,e)}var ts=e=>{const{present:t,children:n}=e,r=Bae(t),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),o=sn(r.ref,zae(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:o}):null};ts.displayName="Presence";function Bae(e){const[t,n]=A.useState(),r=A.useRef({}),i=A.useRef(e),o=A.useRef("none"),a=e?"mounted":"unmounted",[s,l]=Fae(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=H1(r.current);o.current=s==="mounted"?c:"none"},[s]),Gr(()=>{const c=r.current,u=i.current;if(u!==e){const p=o.current,h=H1(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Gr(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const g=H1(r.current).includes(h.animationName);if(h.target===t&&g&&(l("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=h=>{h.target===t&&(o.current=H1(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:A.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function H1(e){return(e==null?void 0:e.animationName)||"none"}function zae(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Tc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Uae({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,s=Nr(n),l=A.useCallback(c=>{if(o){const d=typeof c=="function"?c(e):c;d!==e&&s(d)}else i(c)},[o,e,i,s]);return[a,l]}function Uae({defaultProp:e,onChange:t}){const n=A.useState(e),[r]=n,i=A.useRef(r),o=Nr(t);return A.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var Hae="VisuallyHidden",xb=A.forwardRef((e,t)=>f.jsx(vt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xb.displayName=Hae;var qae=xb,jP="ToastProvider",[RP,Wae,Vae]=PP("Toast"),[lH,MYe]=wa("Toast",[Vae]),[Kae,S_]=lH(jP),cH=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=e,[s,l]=A.useState(null),[c,u]=A.useState(0),d=A.useRef(!1),p=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jP}\`. Expected non-empty \`string\`.`),f.jsx(RP.Provider,{scope:t,children:f.jsx(Kae,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:A.useCallback(()=>u(h=>h+1),[]),onToastRemove:A.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:a})})};cH.displayName=jP;var uH="ToastViewport",Gae=["F8"],AC="toast.viewportPause",kC="toast.viewportResume",dH=A.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Gae,label:i="Notifications ({hotkey})",...o}=e,a=S_(uH,n),s=Wae(n),l=A.useRef(null),c=A.useRef(null),u=A.useRef(null),d=A.useRef(null),p=sn(t,d,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;A.useEffect(()=>{const v=y=>{var w;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),A.useEffect(()=>{const v=l.current,y=d.current;if(m&&v&&y){const x=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(AC);y.dispatchEvent(k),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(kC);y.dispatchEvent(k),a.isClosePausedRef.current=!1}},_=k=>{!v.contains(k.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[m,a.isClosePausedRef]);const g=A.useCallback(({tabbingDirection:v})=>{const x=s().map(w=>{const _=w.ref.current,N=[_,...sse(_)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?x.reverse():x).flat()},[s]);return A.useEffect(()=>{const v=d.current;if(v){const y=x=>{var N,k,O;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const E=document.activeElement,C=x.shiftKey;if(x.target===v&&C){(N=c.current)==null||N.focus();return}const I=g({tabbingDirection:C?"backwards":"forwards"}),j=I.findIndex(D=>D===E);wA(I.slice(j+1))?x.preventDefault():C?(k=c.current)==null||k.focus():(O=u.current)==null||O.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[s,g]),f.jsxs(Dae,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&f.jsx(CC,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});wA(v)}}),f.jsx(RP.Slot,{scope:n,children:f.jsx(vt.ol,{tabIndex:-1,...o,ref:p})}),m&&f.jsx(CC,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});wA(v)}})]})});dH.displayName=uH;var fH="ToastFocusProxy",CC=A.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=S_(fH,n);return f.jsx(xb,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&r()}})});CC.displayName=fH;var __="Toast",Yae="toast.swipeStart",Xae="toast.swipeMove",Qae="toast.swipeCancel",Zae="toast.swipeEnd",hH=A.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=e,[s=!0,l]=Tc({prop:r,defaultProp:i,onChange:o});return f.jsx(ts,{present:n||s,children:f.jsx(tse,{open:s,...a,ref:t,onClose:()=>l(!1),onPause:Nr(e.onPause),onResume:Nr(e.onResume),onSwipeStart:gt(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gt(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:gt(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gt(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});hH.displayName=__;var[Jae,ese]=lH(__,{onClose(){}}),tse=A.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:h,...m}=e,g=S_(__,n),[v,y]=A.useState(null),x=sn(t,D=>y(D)),w=A.useRef(null),_=A.useRef(null),N=i||g.duration,k=A.useRef(0),O=A.useRef(N),E=A.useRef(0),{onToastAdd:C,onToastRemove:L}=g,M=Nr(()=>{var q;(v==null?void 0:v.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),a()}),I=A.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(M,D))},[M]);A.useEffect(()=>{const D=g.viewport;if(D){const q=()=>{I(O.current),c==null||c()},z=()=>{const W=new Date().getTime()-k.current;O.current=O.current-W,window.clearTimeout(E.current),l==null||l()};return D.addEventListener(AC,z),D.addEventListener(kC,q),()=>{D.removeEventListener(AC,z),D.removeEventListener(kC,q)}}},[g.viewport,N,l,c,I]),A.useEffect(()=>{o&&!g.isClosePausedRef.current&&I(N)},[o,N,g.isClosePausedRef,I]),A.useEffect(()=>(C(),()=>L()),[C,L]);const j=A.useMemo(()=>v?xH(v):null,[v]);return g.viewport?f.jsxs(f.Fragment,{children:[j&&f.jsx(nse,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),f.jsx(Jae,{scope:n,onClose:M,children:Nh.createPortal(f.jsx(RP.ItemSlot,{scope:n,children:f.jsx(Lae,{asChild:!0,onEscapeKeyDown:gt(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(vt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:gt(e.onKeyDown,D=>{D.key==="Escape"&&(s==null||s(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:gt(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:gt(e.onPointerMove,D=>{if(!w.current)return;const q=D.clientX-w.current.x,z=D.clientY-w.current.y,W=!!_.current,F=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,te=F?B(0,q):0,K=F?0:B(0,z),R=D.pointerType==="touch"?10:2,U={x:te,y:K},Y={originalEvent:D,delta:U};W?(_.current=U,q1(Xae,d,Y,{discrete:!1})):eL(U,g.swipeDirection,R)?(_.current=U,q1(Yae,u,Y,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(q)>R||Math.abs(z)>R)&&(w.current=null)}),onPointerUp:gt(e.onPointerUp,D=>{const q=_.current,z=D.target;if(z.hasPointerCapture(D.pointerId)&&z.releasePointerCapture(D.pointerId),_.current=null,w.current=null,q){const W=D.currentTarget,F={originalEvent:D,delta:q};eL(q,g.swipeDirection,g.swipeThreshold)?q1(Zae,h,F,{discrete:!0}):q1(Qae,p,F,{discrete:!0}),W.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),nse=e=>{const{__scopeToast:t,children:n,...r}=e,i=S_(__,t),[o,a]=A.useState(!1),[s,l]=A.useState(!1);return ose(()=>a(!0)),A.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:f.jsx(w_,{asChild:!0,children:f.jsx(xb,{...r,children:o&&f.jsxs(f.Fragment,{children:[i.label," ",n]})})})},rse="ToastTitle",pH=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(vt.div,{...r,ref:t})});pH.displayName=rse;var ise="ToastDescription",mH=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(vt.div,{...r,ref:t})});mH.displayName=ise;var gH="ToastAction",vH=A.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?f.jsx(bH,{altText:n,asChild:!0,children:f.jsx(IP,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${gH}\`. Expected non-empty \`string\`.`),null)});vH.displayName=gH;var yH="ToastClose",IP=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=ese(yH,n);return f.jsx(bH,{asChild:!0,children:f.jsx(vt.button,{type:"button",...r,ref:t,onClick:gt(e.onClick,i.onClose)})})});IP.displayName=yH;var bH=A.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return f.jsx(vt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function xH(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ase(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...xH(r))}}),t}function q1(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?iH(i,o):i.dispatchEvent(o)}var eL=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function ose(e=()=>{}){const t=Nr(e);Gr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ase(e){return e.nodeType===e.ELEMENT_NODE}function sse(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wA(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var lse=cH,wH=dH,SH=hH,_H=pH,EH=mH,NH=vH,AH=IP;function kH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kH(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kH(e))&&(r&&(r+=" "),r+=t);return r}const tL=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nL=gn,pg=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return nL(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const p=tL(u)||tL(d);return i[c][p]}),s=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...h}=u;return Object.entries(h).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...o,...s}[g]):{...o,...s}[g]===v})?[...c,d,p]:c},[]);return nL(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CH=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var use={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>A.createElement("svg",{ref:l,...use,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:CH("lucide",i),...s},[...a.map(([c,u])=>A.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(dse,{ref:o,iconNode:t,className:CH(`lucide-${cse(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=Ye("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=Ye("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=Ye("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=Ye("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=Ye("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Ye("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=Ye("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=Ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=Ye("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Ye("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=Ye("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=Ye("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=Ye("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=Ye("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=Ye("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=Ye("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=Ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=Ye("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=Ye("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=Ye("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=Ye("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=Ye("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=Ye("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Ye("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=Ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=Ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=Ye("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=Ye("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=Ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=Ye("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=Ye("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=Ye("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=Ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=Ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),UP="-",ele=e=>{const t=nle(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const s=a.split(UP);return s[0]===""&&s.length!==1&&s.shift(),HH(s,t)||tle(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},HH=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?HH(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(UP);return(a=t.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},sL=/^\[(.+)\]$/,tle=e=>{if(sL.test(e)){const t=sL.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nle=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ile(Object.entries(e.classGroups),n).forEach(([o,a])=>{jC(a,r,o,t)}),r},jC=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:lL(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(rle(i)){jC(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{jC(a,lL(t,o),n,r)})})},lL=(e,t)=>{let n=e;return t.split(UP).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rle=e=>e.isThemeGetter,ile=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[t+a,s])):o);return[n,i]}):e,ole=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},qH="!",ale=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=s=>{const l=[];let c=0,u=0,d;for(let v=0;v<s.length;v++){let y=s[v];if(c===0){if(y===i&&(r||s.slice(v,v+o)===t)){l.push(s.slice(u,v)),u=v+o;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?s:s.substring(u),h=p.startsWith(qH),m=h?p.substring(1):p,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}};return n?s=>n({className:s,parseClassName:a}):a},sle=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},lle=e=>({cache:ole(e.cacheSize),parseClassName:ale(e),...ele(e)}),cle=/\s+/,ule=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(cle);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:h}=n(c);let m=!!h,g=r(m?p.substring(0,h):p);if(!g){if(!m){s=c+(s.length>0?" "+s:s);continue}if(g=r(p),!g){s=c+(s.length>0?" "+s:s);continue}m=!1}const v=sle(u).join(":"),y=d?v+qH:v,x=y+g;if(o.includes(x))continue;o.push(x);const w=i(g,m);for(let _=0;_<w.length;++_){const N=w[_];o.push(y+N)}s=c+(s.length>0?" "+s:s)}return s};function dle(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=WH(t))&&(r&&(r+=" "),r+=n);return r}const WH=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=WH(e[r]))&&(n&&(n+=" "),n+=t);return n};function fle(e,...t){let n,r,i,o=a;function a(l){const c=t.reduce((u,d)=>d(u),e());return n=lle(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=ule(l,n);return i(l,u),u}return function(){return o(dle.apply(null,arguments))}}const Jn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},VH=/^\[(?:([a-z-]+):)?(.+)\]$/i,hle=/^\d+\/\d+$/,ple=new Set(["px","full","screen"]),mle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ble=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xl=e=>Wp(e)||ple.has(e)||hle.test(e),au=e=>gg(e,"length",kle),Wp=e=>!!e&&!Number.isNaN(Number(e)),SA=e=>gg(e,"number",Wp),Ev=e=>!!e&&Number.isInteger(Number(e)),xle=e=>e.endsWith("%")&&Wp(e.slice(0,-1)),Qt=e=>VH.test(e),su=e=>mle.test(e),wle=new Set(["length","size","percentage"]),Sle=e=>gg(e,wle,KH),_le=e=>gg(e,"position",KH),Ele=new Set(["image","url"]),Nle=e=>gg(e,Ele,Tle),Ale=e=>gg(e,"",Cle),Nv=()=>!0,gg=(e,t,n)=>{const r=VH.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},kle=e=>gle.test(e)&&!vle.test(e),KH=()=>!1,Cle=e=>yle.test(e),Tle=e=>ble.test(e),Ole=()=>{const e=Jn("colors"),t=Jn("spacing"),n=Jn("blur"),r=Jn("brightness"),i=Jn("borderColor"),o=Jn("borderRadius"),a=Jn("borderSpacing"),s=Jn("borderWidth"),l=Jn("contrast"),c=Jn("grayscale"),u=Jn("hueRotate"),d=Jn("invert"),p=Jn("gap"),h=Jn("gradientColorStops"),m=Jn("gradientColorStopPositions"),g=Jn("inset"),v=Jn("margin"),y=Jn("opacity"),x=Jn("padding"),w=Jn("saturate"),_=Jn("scale"),N=Jn("sepia"),k=Jn("skew"),O=Jn("space"),E=Jn("translate"),C=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Qt,t],I=()=>[Qt,t],j=()=>["",Xl,au],D=()=>["auto",Wp,Qt],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Qt],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Wp,Qt];return{cacheSize:500,separator:":",theme:{colors:[Nv],spacing:[Xl,au],blur:["none","",su,Qt],brightness:K(),borderColor:[e],borderRadius:["none","","full",su,Qt],borderSpacing:I(),borderWidth:j(),contrast:K(),grayscale:B(),hueRotate:K(),invert:B(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[xle,au],inset:M(),margin:M(),opacity:K(),padding:I(),saturate:K(),scale:K(),sepia:B(),skew:K(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Qt]}],container:["container"],columns:[{columns:[su]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Qt]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ev,Qt]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ev,Qt]}],"grid-cols":[{"grid-cols":[Nv]}],"col-start-end":[{col:["auto",{span:["full",Ev,Qt]},Qt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Nv]}],"row-start-end":[{row:["auto",{span:[Ev,Qt]},Qt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qt,t]}],"min-w":[{"min-w":[Qt,t,"min","max","fit"]}],"max-w":[{"max-w":[Qt,t,"none","full","min","max","fit","prose",{screen:[su]},su]}],h:[{h:[Qt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",su,au]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",SA]}],"font-family":[{font:[Nv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qt]}],"line-clamp":[{"line-clamp":["none",Wp,SA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xl,Qt]}],"list-image":[{"list-image":["none",Qt]}],"list-style-type":[{list:["none","disc","decimal",Qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xl,au]}],"underline-offset":[{"underline-offset":["auto",Xl,Qt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),_le]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sle]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nle]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Xl,Qt]}],"outline-w":[{outline:[Xl,au]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Xl,au]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",su,Ale]}],"shadow-color":[{shadow:[Nv]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",su,Qt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qt]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Qt]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ev,Qt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xl,au,SA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mle=fle(Ole);function Ge(...e){return Mle(gn(e))}const Ple=lse,GH=A.forwardRef(({className:e,...t},n)=>f.jsx(wH,{ref:n,className:Ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));GH.displayName=wH.displayName;const jle=pg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YH=A.forwardRef(({className:e,variant:t,...n},r)=>f.jsx(SH,{ref:r,className:Ge(jle({variant:t}),e),...n}));YH.displayName=SH.displayName;const Rle=A.forwardRef(({className:e,...t},n)=>f.jsx(NH,{ref:n,className:Ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Rle.displayName=NH.displayName;const XH=A.forwardRef(({className:e,...t},n)=>f.jsx(AH,{ref:n,className:Ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(zP,{className:"h-4 w-4"})}));XH.displayName=AH.displayName;const QH=A.forwardRef(({className:e,...t},n)=>f.jsx(_H,{ref:n,className:Ge("text-sm font-semibold",e),...t}));QH.displayName=_H.displayName;const ZH=A.forwardRef(({className:e,...t},n)=>f.jsx(EH,{ref:n,className:Ge("text-sm opacity-90",e),...t}));ZH.displayName=EH.displayName;function Ile(){const{toasts:e}=Ho();return f.jsxs(Ple,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return f.jsxs(YH,{...o,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(QH,{children:n}),r&&f.jsx(ZH,{children:r})]}),i,f.jsx(XH,{})]},t)}),f.jsx(GH,{})]})}var Lle=Nz[" useId ".trim().toString()]||(()=>{}),Dle=0;function So(e){const[t,n]=A.useState(Lle());return Gr(()=>{n(r=>r??String(Dle++))},[e]),t?`radix-${t}`:""}const $le=["top","right","bottom","left"],pd=Math.min,la=Math.max,Jw=Math.round,W1=Math.floor,wl=e=>({x:e,y:e}),Fle={left:"right",right:"left",bottom:"top",top:"bottom"},Ble={start:"end",end:"start"};function RC(e,t,n){return la(e,pd(t,n))}function Oc(e,t){return typeof e=="function"?e(t):e}function Mc(e){return e.split("-")[0]}function vg(e){return e.split("-")[1]}function HP(e){return e==="x"?"y":"x"}function qP(e){return e==="y"?"height":"width"}function md(e){return["top","bottom"].includes(Mc(e))?"y":"x"}function WP(e){return HP(md(e))}function zle(e,t,n){n===void 0&&(n=!1);const r=vg(e),i=WP(e),o=qP(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=e2(a)),[a,e2(a)]}function Ule(e){const t=e2(e);return[IC(e),t,IC(t)]}function IC(e){return e.replace(/start|end/g,t=>Ble[t])}function Hle(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function qle(e,t,n,r){const i=vg(e);let o=Hle(Mc(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(IC)))),o}function e2(e){return e.replace(/left|right|bottom|top/g,t=>Fle[t])}function Wle(e){return{top:0,right:0,bottom:0,left:0,...e}}function JH(e){return typeof e!="number"?Wle(e):{top:e,right:e,bottom:e,left:e}}function t2(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function cL(e,t,n){let{reference:r,floating:i}=e;const o=md(t),a=WP(t),s=qP(a),l=Mc(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(vg(t)){case"start":h[a]-=p*(n&&c?-1:1);break;case"end":h[a]+=p*(n&&c?-1:1);break}return h}const Vle=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=cL(c,r,l),p=r,h={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:y}=s[g],{x,y:w,data:_,reset:N}=await y({x:u,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:e,floating:t}});u=x??u,d=w??d,h={...h,[v]:{...h[v],..._}},N&&m<=50&&(m++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:u,y:d}=cL(c,p,l)),g=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:h}};async function t0(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=Oc(t,e),m=JH(h),v=s[p?d==="floating"?"reference":"floating":d],y=t2(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=t2(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-N.top+m.top)/_.y,bottom:(N.bottom-y.bottom+m.bottom)/_.y,left:(y.left-N.left+m.left)/_.x,right:(N.right-y.right+m.right)/_.x}}const Kle=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Oc(e,t)||{};if(c==null)return{};const d=JH(u),p={x:n,y:r},h=WP(i),m=qP(h),g=await a.getDimensions(c),v=h==="y",y=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=o.reference[m]+o.reference[h]-p[h]-o.floating[m],N=p[h]-o.reference[h],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let O=k?k[w]:0;(!O||!await(a.isElement==null?void 0:a.isElement(k)))&&(O=s.floating[w]||o.floating[m]);const E=_/2-N/2,C=O/2-g[m]/2-1,L=pd(d[y],C),M=pd(d[x],C),I=L,j=O-g[m]-M,D=O/2-g[m]/2+E,q=RC(I,D,j),z=!l.arrow&&vg(i)!=null&&D!==q&&o.reference[m]/2-(D<I?L:M)-g[m]/2<0,W=z?D<I?D-I:D-j:0;return{[h]:p[h]+W,data:{[h]:q,centerOffset:D-q-W,...z&&{alignmentOffset:W}},reset:z}}}),Gle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Oc(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Mc(i),x=md(s),w=Mc(s)===s,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(w||!g?[e2(s)]:Ule(s)),k=m!=="none";!p&&k&&N.push(...qle(s,g,m,_));const O=[s,...N],E=await t0(t,v),C=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&C.push(E[y]),d){const D=zle(i,a,_);C.push(E[D[0]],E[D[1]])}if(L=[...L,{placement:i,overflows:C}],!C.every(D=>D<=0)){var M,I;const D=(((M=o.flip)==null?void 0:M.index)||0)+1,q=O[D];if(q)return{data:{index:D,overflows:L},reset:{placement:q}};let z=(I=L.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!z)switch(h){case"bestFit":{var j;const W=(j=L.filter(F=>{if(k){const B=md(F.placement);return B===x||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,te)=>B+te,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:j[0];W&&(z=W);break}case"initialPlacement":z=s;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function uL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dL(e){return $le.some(t=>e[t]>=0)}const Yle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Oc(e,t);switch(r){case"referenceHidden":{const o=await t0(t,{...i,elementContext:"reference"}),a=uL(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:dL(a)}}}case"escaped":{const o=await t0(t,{...i,altBoundary:!0}),a=uL(o,n.floating);return{data:{escapedOffsets:a,escaped:dL(a)}}}default:return{}}}}};async function Xle(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Mc(n),s=vg(n),l=md(n)==="y",c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=Oc(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}const Qle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await Xle(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Zle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...l}=Oc(e,t),c={x:n,y:r},u=await t0(t,l),d=md(Mc(i)),p=HP(d);let h=c[p],m=c[d];if(o){const v=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=h+u[v],w=h-u[y];h=RC(x,h,w)}if(a){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=m+u[v],w=m-u[y];m=RC(x,m,w)}const g=s.fn({...t,[p]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:o,[d]:a}}}}}},Jle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Oc(e,t),u={x:n,y:r},d=md(i),p=HP(d);let h=u[p],m=u[d];const g=Oc(s,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=p==="y"?"height":"width",_=o.reference[p]-o.floating[w]+v.mainAxis,N=o.reference[p]+o.reference[w]-v.mainAxis;h<_?h=_:h>N&&(h=N)}if(c){var y,x;const w=p==="y"?"width":"height",_=["top","left"].includes(Mc(i)),N=o.reference[d]-o.floating[w]+(_&&((y=a.offset)==null?void 0:y[d])||0)+(_?0:v.crossAxis),k=o.reference[d]+o.reference[w]+(_?0:((x=a.offset)==null?void 0:x[d])||0)-(_?v.crossAxis:0);m<N?m=N:m>k&&(m=k)}return{[p]:h,[d]:m}}}},ece=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=Oc(e,t),u=await t0(t,c),d=Mc(i),p=vg(i),h=md(i)==="y",{width:m,height:g}=o.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=d,v=p==="end"?"top":"bottom");const x=g-u.top-u.bottom,w=m-u.left-u.right,_=pd(g-u[v],x),N=pd(m-u[y],w),k=!t.middlewareData.shift;let O=_,E=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=x),k&&!p){const L=la(u.left,0),M=la(u.right,0),I=la(u.top,0),j=la(u.bottom,0);h?E=m-2*(L!==0||M!==0?L+M:la(u.left,u.right)):O=g-2*(I!==0||j!==0?I+j:la(u.top,u.bottom))}await l({...t,availableWidth:E,availableHeight:O});const C=await a.getDimensions(s.floating);return m!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function A_(){return typeof window<"u"}function yg(e){return eq(e)?(e.nodeName||"").toLowerCase():"#document"}function va(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jl(e){var t;return(t=(eq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eq(e){return A_()?e instanceof Node||e instanceof va(e).Node:!1}function $s(e){return A_()?e instanceof Element||e instanceof va(e).Element:!1}function kl(e){return A_()?e instanceof HTMLElement||e instanceof va(e).HTMLElement:!1}function fL(e){return!A_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof va(e).ShadowRoot}function wb(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Fs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function tce(e){return["table","td","th"].includes(yg(e))}function k_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function VP(e){const t=KP(),n=$s(e)?Fs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nce(e){let t=gd(e);for(;kl(t)&&!Mm(t);){if(VP(t))return t;if(k_(t))return null;t=gd(t)}return null}function KP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Mm(e){return["html","body","#document"].includes(yg(e))}function Fs(e){return va(e).getComputedStyle(e)}function C_(e){return $s(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gd(e){if(yg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fL(e)&&e.host||jl(e);return fL(t)?t.host:t}function tq(e){const t=gd(e);return Mm(t)?e.ownerDocument?e.ownerDocument.body:e.body:kl(t)&&wb(t)?t:tq(t)}function n0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=tq(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=va(i);if(o){const s=LC(a);return t.concat(a,a.visualViewport||[],wb(i)?i:[],s&&n?n0(s):[])}return t.concat(i,n0(i,[],n))}function LC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nq(e){const t=Fs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=kl(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Jw(n)!==o||Jw(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function GP(e){return $s(e)?e:e.contextElement}function Vp(e){const t=GP(e);if(!kl(t))return wl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=nq(t);let a=(o?Jw(n.width):n.width)/r,s=(o?Jw(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const rce=wl(0);function rq(e){const t=va(e);return!KP()||!t.visualViewport?rce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ice(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==va(e)?!1:t}function ih(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=GP(e);let a=wl(1);t&&(r?$s(r)&&(a=Vp(r)):a=Vp(e));const s=ice(o,n,r)?rq(o):wl(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const p=va(o),h=r&&$s(r)?va(r):r;let m=p,g=LC(m);for(;g&&r&&h!==m;){const v=Vp(g),y=g.getBoundingClientRect(),x=Fs(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=w,c+=_,m=va(g),g=LC(m)}}return t2({width:u,height:d,x:l,y:c})}function YP(e,t){const n=C_(e).scrollLeft;return t?t.left+n:ih(jl(e)).left+n}function iq(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:YP(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function oce(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=jl(r),s=t?k_(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=wl(1);const u=wl(0),d=kl(r);if((d||!d&&!o)&&((yg(r)!=="body"||wb(a))&&(l=C_(r)),kl(r))){const h=ih(r);c=Vp(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const p=a&&!d&&!o?iq(a,l,!0):wl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function ace(e){return Array.from(e.getClientRects())}function sce(e){const t=jl(e),n=C_(e),r=e.ownerDocument.body,i=la(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=la(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+YP(e);const s=-n.scrollTop;return Fs(r).direction==="rtl"&&(a+=la(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function lce(e,t){const n=va(e),r=jl(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=KP();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function cce(e,t){const n=ih(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=kl(e)?Vp(e):wl(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function hL(e,t,n){let r;if(t==="viewport")r=lce(e,n);else if(t==="document")r=sce(jl(e));else if($s(t))r=cce(t,n);else{const i=rq(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return t2(r)}function oq(e,t){const n=gd(e);return n===t||!$s(n)||Mm(n)?!1:Fs(n).position==="fixed"||oq(n,t)}function uce(e,t){const n=t.get(e);if(n)return n;let r=n0(e,[],!1).filter(s=>$s(s)&&yg(s)!=="body"),i=null;const o=Fs(e).position==="fixed";let a=o?gd(e):e;for(;$s(a)&&!Mm(a);){const s=Fs(a),l=VP(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||wb(a)&&!l&&oq(e,a))?r=r.filter(u=>u!==a):i=s,a=gd(a)}return t.set(e,r),r}function dce(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?k_(t)?[]:uce(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const d=hL(t,u,i);return c.top=la(d.top,c.top),c.right=pd(d.right,c.right),c.bottom=pd(d.bottom,c.bottom),c.left=la(d.left,c.left),c},hL(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fce(e){const{width:t,height:n}=nq(e);return{width:t,height:n}}function hce(e,t,n){const r=kl(t),i=jl(t),o=n==="fixed",a=ih(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=wl(0);if(r||!r&&!o)if((yg(t)!=="body"||wb(i))&&(s=C_(t)),r){const p=ih(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&(l.x=YP(i));const c=i&&!r&&!o?iq(i,s):wl(0),u=a.left+s.scrollLeft-l.x-c.x,d=a.top+s.scrollTop-l.y-c.y;return{x:u,y:d,width:a.width,height:a.height}}function _A(e){return Fs(e).position==="static"}function pL(e,t){if(!kl(e)||Fs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jl(e)===n&&(n=n.ownerDocument.body),n}function aq(e,t){const n=va(e);if(k_(e))return n;if(!kl(e)){let i=gd(e);for(;i&&!Mm(i);){if($s(i)&&!_A(i))return i;i=gd(i)}return n}let r=pL(e,t);for(;r&&tce(r)&&_A(r);)r=pL(r,t);return r&&Mm(r)&&_A(r)&&!VP(r)?n:r||nce(e)||n}const pce=async function(e){const t=this.getOffsetParent||aq,n=this.getDimensions,r=await n(e.floating);return{reference:hce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mce(e){return Fs(e).direction==="rtl"}const gce={convertOffsetParentRelativeRectToViewportRelativeRect:oce,getDocumentElement:jl,getClippingRect:dce,getOffsetParent:aq,getElementRects:pce,getClientRects:ace,getDimensions:fce,getScale:Vp,isElement:$s,isRTL:mce};function sq(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vce(e,t){let n=null,r;const i=jl(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:h}=c;if(s||t(),!p||!h)return;const m=W1(d),g=W1(i.clientWidth-(u+p)),v=W1(i.clientHeight-(d+h)),y=W1(u),w={rootMargin:-m+"px "+-g+"px "+-v+"px "+-y+"px",threshold:la(0,pd(1,l))||1};let _=!0;function N(k){const O=k[0].intersectionRatio;if(O!==l){if(!_)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!sq(c,e.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return a(!0),o}function yce(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=GP(e),u=i||o?[...c?n0(c):[],...n0(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const d=c&&s?vce(c,n):null;let p=-1,h=null;a&&(h=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let m,g=l?ih(e):null;l&&v();function v(){const y=ih(e);g&&!sq(g,y)&&n(),g=y,m=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(x=>{i&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const bce=Qle,xce=Zle,wce=Gle,Sce=ece,_ce=Yle,mL=Kle,Ece=Jle,Nce=(e,t,n)=>{const r=new Map,i={platform:gce,...n},o={...i.platform,_c:r};return Vle(e,t,{...i,platform:o})};var iw=typeof document<"u"?A.useLayoutEffect:A.useEffect;function n2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!n2(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!n2(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function lq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gL(e,t){const n=lq(e);return Math.round(t*n)/n}function EA(e){const t=A.useRef(e);return iw(()=>{t.current=e}),t}function Ace(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=A.useState(r);n2(p,r)||h(r);const[m,g]=A.useState(null),[v,y]=A.useState(null),x=A.useCallback(F=>{F!==k.current&&(k.current=F,g(F))},[]),w=A.useCallback(F=>{F!==O.current&&(O.current=F,y(F))},[]),_=o||m,N=a||v,k=A.useRef(null),O=A.useRef(null),E=A.useRef(u),C=l!=null,L=EA(l),M=EA(i),I=EA(c),j=A.useCallback(()=>{if(!k.current||!O.current)return;const F={placement:t,strategy:n,middleware:p};M.current&&(F.platform=M.current),Nce(k.current,O.current,F).then(B=>{const te={...B,isPositioned:I.current!==!1};D.current&&!n2(E.current,te)&&(E.current=te,Nh.flushSync(()=>{d(te)}))})},[p,t,n,M,I]);iw(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[c]);const D=A.useRef(!1);iw(()=>(D.current=!0,()=>{D.current=!1}),[]),iw(()=>{if(_&&(k.current=_),N&&(O.current=N),_&&N){if(L.current)return L.current(_,N,j);j()}},[_,N,j,L,C]);const q=A.useMemo(()=>({reference:k,floating:O,setReference:x,setFloating:w}),[x,w]),z=A.useMemo(()=>({reference:_,floating:N}),[_,N]),W=A.useMemo(()=>{const F={position:n,left:0,top:0};if(!z.floating)return F;const B=gL(z.floating,u.x),te=gL(z.floating,u.y);return s?{...F,transform:"translate("+B+"px, "+te+"px)",...lq(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:te}},[n,s,z.floating,u.x,u.y]);return A.useMemo(()=>({...u,update:j,refs:q,elements:z,floatingStyles:W}),[u,j,q,z,W])}const kce=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mL({element:r.current,padding:i}).fn(n):{}:r?mL({element:r,padding:i}).fn(n):{}}}},Cce=(e,t)=>({...bce(e),options:[e,t]}),Tce=(e,t)=>({...xce(e),options:[e,t]}),Oce=(e,t)=>({...Ece(e),options:[e,t]}),Mce=(e,t)=>({...wce(e),options:[e,t]}),Pce=(e,t)=>({...Sce(e),options:[e,t]}),jce=(e,t)=>({..._ce(e),options:[e,t]}),Rce=(e,t)=>({...kce(e),options:[e,t]});var Ice="Arrow",cq=A.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return f.jsx(vt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});cq.displayName=Ice;var Lce=cq;function XP(e){const[t,n]=A.useState(void 0);return Gr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var QP="Popper",[uq,T_]=wa(QP),[Dce,dq]=uq(QP),fq=e=>{const{__scopePopper:t,children:n}=e,[r,i]=A.useState(null);return f.jsx(Dce,{scope:t,anchor:r,onAnchorChange:i,children:n})};fq.displayName=QP;var hq="PopperAnchor",pq=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=dq(hq,n),a=A.useRef(null),s=sn(t,a);return A.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:f.jsx(vt.div,{...i,ref:s})});pq.displayName=hq;var ZP="PopperContent",[$ce,Fce]=uq(ZP),mq=A.forwardRef((e,t)=>{var se,ce,ne,de,he,ue;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:m,...g}=e,v=dq(ZP,n),[y,x]=A.useState(null),w=sn(t,Ne=>x(Ne)),[_,N]=A.useState(null),k=XP(_),O=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,C=r+(o!=="center"?"-"+o:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],I=M.length>0,j={padding:L,boundary:M.filter(zce),altBoundary:I},{refs:D,floatingStyles:q,placement:z,isPositioned:W,middlewareData:F}=Ace({strategy:"fixed",placement:C,whileElementsMounted:(...Ne)=>yce(...Ne,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[Cce({mainAxis:i+E,alignmentAxis:a}),l&&Tce({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Oce():void 0,...j}),l&&Mce({...j}),Pce({...j,apply:({elements:Ne,rects:pe,availableWidth:J,availableHeight:ke})=>{const{width:Ke,height:_e}=pe.reference,Ae=Ne.floating.style;Ae.setProperty("--radix-popper-available-width",`${J}px`),Ae.setProperty("--radix-popper-available-height",`${ke}px`),Ae.setProperty("--radix-popper-anchor-width",`${Ke}px`),Ae.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),_&&Rce({element:_,padding:s}),Uce({arrowWidth:O,arrowHeight:E}),p&&jce({strategy:"referenceHidden",...j})]}),[B,te]=yq(z),K=Nr(m);Gr(()=>{W&&(K==null||K())},[W,K]);const R=(se=F.arrow)==null?void 0:se.x,U=(ce=F.arrow)==null?void 0:ce.y,Y=((ne=F.arrow)==null?void 0:ne.centerOffset)!==0,[Z,ae]=A.useState();return Gr(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),f.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(de=F.transformOrigin)==null?void 0:de.x,(he=F.transformOrigin)==null?void 0:he.y].join(" "),...((ue=F.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx($ce,{scope:n,placedSide:B,onArrowChange:N,arrowX:R,arrowY:U,shouldHideArrow:Y,children:f.jsx(vt.div,{"data-side":B,"data-align":te,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});mq.displayName=ZP;var gq="PopperArrow",Bce={top:"bottom",right:"left",bottom:"top",left:"right"},vq=A.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=Fce(gq,r),a=Bce[o.placedSide];return f.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:f.jsx(Lce,{...i,ref:n,style:{...i.style,display:"block"}})})});vq.displayName=gq;function zce(e){return e!==null}var Uce=e=>({name:"transformOrigin",options:e,fn(t){var v,y,x;const{placement:n,rects:r,middlewareData:i}=t,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,u]=yq(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,h=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=a?d:`${p}px`,g=`${-l}px`):c==="top"?(m=a?d:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=a?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=a?d:`${h}px`),{data:{x:m,y:g}}}});function yq(e){const[t,n="center"]=e.split("-");return[t,n]}var bq=fq,xq=pq,wq=mq,Sq=vq,[O_,PYe]=wa("Tooltip",[T_]),M_=T_(),_q="TooltipProvider",Hce=700,DC="tooltip.open",[qce,JP]=O_(_q),Eq=e=>{const{__scopeTooltip:t,delayDuration:n=Hce,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=A.useRef(!0),s=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(qce,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:A.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};Eq.displayName=_q;var P_="Tooltip",[Wce,j_]=O_(P_),Nq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=e,l=JP(P_,e.__scopeTooltip),c=M_(t),[u,d]=A.useState(null),p=So(),h=A.useRef(0),m=a??l.disableHoverableContent,g=s??l.delayDuration,v=A.useRef(!1),[y=!1,x]=Tc({prop:r,defaultProp:i,onChange:O=>{O?(l.onOpen(),document.dispatchEvent(new CustomEvent(DC))):l.onClose(),o==null||o(O)}}),w=A.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),_=A.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,x(!0)},[x]),N=A.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),k=A.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,x(!0),h.current=0},g)},[g,x]);return A.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),f.jsx(bq,{...c,children:f.jsx(Wce,{scope:t,contentId:p,open:y,stateAttribute:w,trigger:u,onTriggerChange:d,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?k():_()},[l.isOpenDelayedRef,k,_]),onTriggerLeave:A.useCallback(()=>{m?N():(window.clearTimeout(h.current),h.current=0)},[N,m]),onOpen:_,onClose:N,disableHoverableContent:m,children:n})})};Nq.displayName=P_;var $C="TooltipTrigger",Aq=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=j_($C,n),o=JP($C,n),a=M_(n),s=A.useRef(null),l=sn(t,s,i.onTriggerChange),c=A.useRef(!1),u=A.useRef(!1),d=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(xq,{asChild:!0,...a,children:f.jsx(vt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:gt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:gt(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:gt(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:gt(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:gt(e.onBlur,i.onClose),onClick:gt(e.onClick,i.onClose)})})});Aq.displayName=$C;var Vce="TooltipPortal",[jYe,Kce]=O_(Vce,{forceMount:void 0}),Pm="TooltipContent",kq=A.forwardRef((e,t)=>{const n=Kce(Pm,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=j_(Pm,e.__scopeTooltip);return f.jsx(ts,{present:r||a.open,children:a.disableHoverableContent?f.jsx(Cq,{side:i,...o,ref:t}):f.jsx(Gce,{side:i,...o,ref:t})})}),Gce=A.forwardRef((e,t)=>{const n=j_(Pm,e.__scopeTooltip),r=JP(Pm,e.__scopeTooltip),i=A.useRef(null),o=sn(t,i),[a,s]=A.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,p=A.useCallback(()=>{s(null),d(!1)},[d]),h=A.useCallback((m,g)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},x=Jce(y,v.getBoundingClientRect()),w=eue(y,x),_=tue(g.getBoundingClientRect()),N=rue([...w,..._]);s(N),d(!0)},[d]);return A.useEffect(()=>()=>p(),[p]),A.useEffect(()=>{if(l&&u){const m=v=>h(v,u),g=v=>h(v,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,h,p]),A.useEffect(()=>{if(a){const m=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),w=!nue(y,a);x?p():w&&(p(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,a,c,p]),f.jsx(Cq,{...e,ref:o})}),[Yce,Xce]=O_(P_,{isInside:!1}),Qce=rH("TooltipContent"),Cq=A.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=e,l=j_(Pm,n),c=M_(n),{onClose:u}=l;return A.useEffect(()=>(document.addEventListener(DC,u),()=>document.removeEventListener(DC,u)),[u]),A.useEffect(()=>{if(l.trigger){const d=p=>{const h=p.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),f.jsx(bb,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:f.jsxs(wq,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(Qce,{children:r}),f.jsx(Yce,{scope:n,isInside:!0,children:f.jsx(qae,{id:l.contentId,role:"tooltip",children:i||r})})]})})});kq.displayName=Pm;var Tq="TooltipArrow",Zce=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=M_(n);return Xce(Tq,n).isInside?null:f.jsx(Sq,{...i,...r,ref:t})});Zce.displayName=Tq;function Jce(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eue(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function tue(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function nue(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o].x,l=t[o].y,c=t[a].x,u=t[a].y;l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(i=!i)}return i}function rue(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iue(t)}function iue(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var oue=Eq,aue=Nq,sue=Aq,Oq=kq;const Mq=oue,Pq=aue,jq=sue,ej=A.forwardRef(({className:e,sideOffset:t=4,...n},r)=>f.jsx(Oq,{ref:r,sideOffset:t,className:Ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));ej.displayName=Oq.displayName;const lue={theme:"light",setTheme:()=>null,toggleTheme:()=>null},Rq=A.createContext(lue);function cue({children:e,defaultTheme:t="light",...n}){const[r,i]=A.useState(()=>localStorage.getItem("theme")||t);A.useEffect(()=>{const s=document.documentElement;s.classList.remove("light","dark"),s.classList.add(r),localStorage.setItem("theme",r)},[r]);const a={theme:r,setTheme:i,toggleTheme:()=>{i(r==="light"?"dark":"light")}};return f.jsx(Rq.Provider,{...n,value:a,children:e})}const uue=()=>{const e=A.useContext(Rq);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Iq=A.createContext(void 0);function due({children:e}){const t=OP(),{data:n,isLoading:r}=tn({queryKey:["/api/auth/profile"],queryFn:tH({on401:"returnNull"}),retry:!1,enabled:!0}),i=Bt({mutationFn:async({username:u,password:d})=>await jt("POST","/api/auth/login",{username:u,password:d}),onSuccess:u=>{localStorage.setItem("token",u.token),t.setQueryData(["/api/auth/profile"],u.user)}}),o=Bt({mutationFn:async({username:u,email:d,password:p,role:h})=>await jt("POST","/api/auth/register",{username:u,email:d,password:p,role:h}),onSuccess:u=>{localStorage.setItem("token",u.token),t.setQueryData(["/api/auth/profile"],u.user)}}),a=Bt({mutationFn:async()=>{await jt("POST","/api/auth/logout",{})},onSuccess:()=>{localStorage.removeItem("token"),t.setQueryData(["/api/auth/profile"],null),t.clear()}}),s=async(u,d)=>{await i.mutateAsync({username:u,password:d})},l=async(u,d,p,h)=>{await o.mutateAsync({username:u,email:d,password:p,role:h})},c=async()=>{await a.mutateAsync()};return f.jsx(Iq.Provider,{value:{user:n??null,isLoading:r,login:s,register:l,logout:c},children:e})}function bg(){const e=A.useContext(Iq);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Cl=Object.create(null);Cl.open="0";Cl.close="1";Cl.ping="2";Cl.pong="3";Cl.message="4";Cl.upgrade="5";Cl.noop="6";const ow=Object.create(null);Object.keys(Cl).forEach(e=>{ow[Cl[e]]=e});const FC={type:"error",data:"parser error"},Lq=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dq=typeof ArrayBuffer=="function",$q=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,tj=({type:e,data:t},n,r)=>Lq&&t instanceof Blob?n?r(t):vL(t,r):Dq&&(t instanceof ArrayBuffer||$q(t))?n?r(t):vL(new Blob([t]),r):r(Cl[e]+(t||"")),vL=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function yL(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let NA;function fue(e,t){if(Lq&&e.data instanceof Blob)return e.data.arrayBuffer().then(yL).then(t);if(Dq&&(e.data instanceof ArrayBuffer||$q(e.data)))return t(yL(e.data));tj(e,!1,n=>{NA||(NA=new TextEncoder),t(NA.encode(n))})}const bL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<bL.length;e++)Xv[bL.charCodeAt(e)]=e;const hue=e=>{let t=e.length*.75,n=e.length,r,i=0,o,a,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(r=0;r<n;r+=4)o=Xv[e.charCodeAt(r)],a=Xv[e.charCodeAt(r+1)],s=Xv[e.charCodeAt(r+2)],l=Xv[e.charCodeAt(r+3)],u[i++]=o<<2|a>>4,u[i++]=(a&15)<<4|s>>2,u[i++]=(s&3)<<6|l&63;return c},pue=typeof ArrayBuffer=="function",nj=(e,t)=>{if(typeof e!="string")return{type:"message",data:Fq(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:mue(e.substring(1),t)}:ow[n]?e.length>1?{type:ow[n],data:e.substring(1)}:{type:ow[n]}:FC},mue=(e,t)=>{if(pue){const n=hue(e);return Fq(n,t)}else return{base64:!0,data:e}},Fq=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Bq="",gue=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((o,a)=>{tj(o,!1,s=>{r[a]=s,++i===n&&t(r.join(Bq))})})},vue=(e,t)=>{const n=e.split(Bq),r=[];for(let i=0;i<n.length;i++){const o=nj(n[i],t);if(r.push(o),o.type==="error")break}return r};function yue(){return new TransformStream({transform(e,t){fue(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let AA;function V1(e){return e.reduce((t,n)=>t+n.length,0)}function K1(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function bue(e,t){AA||(AA=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(r===0){if(V1(n)<1)break;const l=K1(n,1);o=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(V1(n)<2)break;const l=K1(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(V1(n)<8)break;const l=K1(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(FC);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(V1(n)<i)break;const l=K1(n,i);s.enqueue(nj(o?l:AA.decode(l),t)),r=0}if(i===0||i>e){s.enqueue(FC);break}}}})}const zq=4;function Wr(e){if(e)return xue(e)}function xue(e){for(var t in Wr.prototype)e[t]=Wr.prototype[t];return e}Wr.prototype.on=Wr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Wr.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Wr.prototype.off=Wr.prototype.removeListener=Wr.prototype.removeAllListeners=Wr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Wr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};Wr.prototype.emitReserved=Wr.prototype.emit;Wr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Wr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const R_=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Fa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wue="arraybuffer";function Uq(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Sue=Fa.setTimeout,_ue=Fa.clearTimeout;function I_(e,t){t.useNativeTimers?(e.setTimeoutFn=Sue.bind(Fa),e.clearTimeoutFn=_ue.bind(Fa)):(e.setTimeoutFn=Fa.setTimeout.bind(Fa),e.clearTimeoutFn=Fa.clearTimeout.bind(Fa))}const Eue=1.33;function Nue(e){return typeof e=="string"?Aue(e):Math.ceil((e.byteLength||e.size)*Eue)}function Aue(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Hq(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function kue(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Cue(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class Tue extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class rj extends Wr{constructor(t){super(),this.writable=!1,I_(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Tue(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=nj(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=kue(t);return n.length?"?"+n:""}}class Oue extends rj{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};vue(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,gue(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Hq()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let qq=!1;try{qq=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Mue=qq;function Pue(){}class jue extends Oue{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Sl extends Wr{constructor(t,n,r){super(),this.createRequest=t,I_(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Uq(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Sl.requestsCount++,Sl.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Pue,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Sl.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Sl.requestsCount=0;Sl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xL);else if(typeof addEventListener=="function"){const e="onpagehide"in Fa?"pagehide":"unload";addEventListener(e,xL,!1)}}function xL(){for(let e in Sl.requests)Sl.requests.hasOwnProperty(e)&&Sl.requests[e].abort()}const Rue=function(){const e=Wq({xdomain:!1});return e&&e.responseType!==null}();class Iue extends jue{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Rue&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Sl(Wq,this.uri(),t)}}function Wq(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Mue))return new XMLHttpRequest}catch{}if(!t)try{return new Fa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Vq=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Lue extends rj{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Vq?{}:Uq(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;tj(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&R_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Hq()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const kA=Fa.WebSocket||Fa.MozWebSocket;let Due=class extends Lue{createSocket(t,n,r){return Vq?new kA(t,n,r):n?new kA(t,n):new kA(t)}doWrite(t,n){this.ws.send(n)}};class $ue extends rj{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=bue(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=yue();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const o=()=>{r.read().then(({done:s,value:l})=>{s||(this.onPacket(l),o())}).catch(s=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this._writer.write(r).then(()=>{i&&R_(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Fue={websocket:Due,webtransport:$ue,polling:Iue},Bue=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function BC(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Bue.exec(e||""),o={},a=14;for(;a--;)o[zue[a]]=i[a]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Uue(o,o.path),o.queryKey=Hue(o,o.query),o}function Uue(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Hue(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}const zC=typeof addEventListener=="function"&&typeof removeEventListener=="function",aw=[];zC&&addEventListener("offline",()=>{aw.forEach(e=>e())},!1);class td extends Wr{constructor(t,n){if(super(),this.binaryType=wue,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=BC(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=BC(n.host).host);I_(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Cue(this.opts.query)),zC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},aw.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=zq,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&td.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",td.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Nue(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,R_(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(td.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=aw.indexOf(this._offlineEventListener);r!==-1&&aw.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}td.protocol=zq;class que extends td{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;td.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;td.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}const a=d=>{const p=new Error("probe error: "+d);p.transport=n.name,o(),this.emitReserved("upgradeError",p)};function s(){a("transport closed")}function l(){a("socket closed")}function c(d){n&&d.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",s),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",a),n.once("close",s),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Wue=class extends que{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Fue[i]).filter(i=>!!i)),super(t,r)}};function Vue(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=BC(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const Kue=typeof ArrayBuffer=="function",Gue=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Kq=Object.prototype.toString,Yue=typeof Blob=="function"||typeof Blob<"u"&&Kq.call(Blob)==="[object BlobConstructor]",Xue=typeof File=="function"||typeof File<"u"&&Kq.call(File)==="[object FileConstructor]";function ij(e){return Kue&&(e instanceof ArrayBuffer||Gue(e))||Yue&&e instanceof Blob||Xue&&e instanceof File}function sw(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(sw(e[n]))return!0;return!1}if(ij(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return sw(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&sw(e[n]))return!0;return!1}function Que(e){const t=[],n=e.data,r=e;return r.data=UC(n,t),r.attachments=t.length,{packet:r,buffers:t}}function UC(e,t){if(!e)return e;if(ij(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=UC(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=UC(e[r],t));return n}return e}function Zue(e,t){return e.data=HC(e.data,t),delete e.attachments,e}function HC(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=HC(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=HC(e[n],t));return e}const Jue=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ede=5;var un;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(un||(un={}));class tde{constructor(t){this.replacer=t}encode(t){return(t.type===un.EVENT||t.type===un.ACK)&&sw(t)?this.encodeAsBinary({type:t.type===un.EVENT?un.BINARY_EVENT:un.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===un.BINARY_EVENT||t.type===un.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Que(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function wL(e){return Object.prototype.toString.call(e)==="[object Object]"}class oj extends Wr{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===un.BINARY_EVENT;r||n.type===un.BINARY_ACK?(n.type=r?un.EVENT:un.ACK,this.reconstructor=new nde(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ij(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(un[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===un.BINARY_EVENT||r.type===un.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(o,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(oj.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case un.CONNECT:return wL(n);case un.DISCONNECT:return n===void 0;case un.CONNECT_ERROR:return typeof n=="string"||wL(n);case un.EVENT:case un.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Jue.indexOf(n[0])===-1);case un.ACK:case un.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class nde{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Zue(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const rde=Object.freeze(Object.defineProperty({__proto__:null,Decoder:oj,Encoder:tde,get PacketType(){return un},protocol:ede},Symbol.toStringTag,{value:"Module"}));function ws(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ide=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Gq extends Wr{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ws(t,"open",this.onopen.bind(this)),ws(t,"packet",this.onpacket.bind(this)),ws(t,"error",this.onerror.bind(this)),ws(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,i,o;if(ide.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:un.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,d=n.pop();this._registerAckCallback(u,d),a.id=u}const s=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!s||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},i),a=(...s)=>{this.io.clearTimeoutFn(o),n.apply(this,s)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...n){return new Promise((r,i)=>{const o=(a,s)=>a?i(a):r(s);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:un.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case un.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case un.EVENT:case un.BINARY_EVENT:this.onevent(t);break;case un.ACK:case un.BINARY_ACK:this.onack(t);break;case un.DISCONNECT:this.ondisconnect();break;case un.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:un.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:un.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function xg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}xg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};xg.prototype.reset=function(){this.attempts=0};xg.prototype.setMin=function(e){this.ms=e};xg.prototype.setMax=function(e){this.max=e};xg.prototype.setJitter=function(e){this.jitter=e};class qC extends Wr{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,I_(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new xg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||rde;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Wue(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ws(n,"open",function(){r.onopen(),t&&t()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},a=ws(n,"error",o);if(this._timeout!==!1){const s=this._timeout,l=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},s);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ws(t,"ping",this.onping.bind(this)),ws(t,"data",this.ondata.bind(this)),ws(t,"error",this.onerror.bind(this)),ws(t,"close",this.onclose.bind(this)),ws(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){R_(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Gq(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Av={};function lw(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Vue(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Av[i]&&o in Av[i].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let l;return s?l=new qC(r,t):(Av[i]||(Av[i]=new qC(r,t)),l=Av[i]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(lw,{Manager:qC,Socket:Gq,io:lw,connect:lw});const Yq=A.createContext({socket:null,connected:!1,onlineUsers:0}),Xq=()=>A.useContext(Yq);function ode({children:e}){const[t,n]=A.useState(null),[r,i]=A.useState(!1),[o,a]=A.useState(0),{toast:s}=Ho(),[l,c]=A.useState(localStorage.getItem("token"));return A.useEffect(()=>{const u=()=>{const p=localStorage.getItem("token");c(p)};window.addEventListener("storage",u);const d=setInterval(u,1e3);return()=>{window.removeEventListener("storage",u),clearInterval(d)}},[]),A.useEffect(()=>{if(!l){t&&(t.close(),n(null),i(!1));return}const u=lw(window.location.origin,{auth:{token:l}});return u.on("connect",()=>{console.log("WebSocket conectado"),i(!0)}),u.on("disconnect",()=>{console.log("WebSocket desconectado"),i(!1)}),u.on("notification",d=>{console.log("Notificacin recibida:",d),s({title:d.title,description:d.message,variant:d.action==="deleted"?"destructive":"default"})}),u.on("user:connected",()=>{a(d=>d+1)}),u.on("user:disconnected",()=>{a(d=>Math.max(0,d-1))}),u.on("connect_error",d=>{console.error("Error de conexin WebSocket:",d),i(!1)}),n(u),()=>{u.close()}},[l,s]),f.jsx(Yq.Provider,{value:{socket:t,connected:r,onlineUsers:o},children:e})}const CA=768;function ade(){const[e,t]=A.useState(void 0);return A.useEffect(()=>{const n=window.matchMedia(`(max-width: ${CA-1}px)`),r=()=>{t(window.innerWidth<CA)};return n.addEventListener("change",r),t(window.innerWidth<CA),()=>n.removeEventListener("change",r)},[]),!!e}const aj=pg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Re=A.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const a=r?MP:"button";return f.jsx(a,{className:Ge(aj({variant:t,size:n,className:e})),ref:o,...i})});Re.displayName="Button";const dt=A.forwardRef(({className:e,type:t,...n},r)=>f.jsx("input",{type:t,className:Ge("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));dt.displayName="Input";var sde="Separator",SL="horizontal",lde=["horizontal","vertical"],Qq=A.forwardRef((e,t)=>{const{decorative:n,orientation:r=SL,...i}=e,o=cde(r)?r:SL,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return f.jsx(vt.div,{"data-orientation":o,...s,...i,ref:t})});Qq.displayName=sde;function cde(e){return lde.includes(e)}var Zq=Qq;const ic=A.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>f.jsx(Zq,{ref:i,decorative:n,orientation:t,className:Ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ic.displayName=Zq.displayName;var TA="focusScope.autoFocusOnMount",OA="focusScope.autoFocusOnUnmount",_L={bubbles:!1,cancelable:!0},ude="FocusScope",sj=A.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=A.useState(null),c=Nr(i),u=Nr(o),d=A.useRef(null),p=sn(t,g=>l(g)),h=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let g=function(w){if(h.paused||!s)return;const _=w.target;s.contains(_)?d.current=_:hu(d.current,{select:!0})},v=function(w){if(h.paused||!s)return;const _=w.relatedTarget;_!==null&&(s.contains(_)||hu(d.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&hu(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(y);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[r,s,h.paused]),A.useEffect(()=>{if(s){NL.add(h);const g=document.activeElement;if(!s.contains(g)){const y=new CustomEvent(TA,_L);s.addEventListener(TA,c),s.dispatchEvent(y),y.defaultPrevented||(dde(gde(Jq(s)),{select:!0}),document.activeElement===g&&hu(s))}return()=>{s.removeEventListener(TA,c),setTimeout(()=>{const y=new CustomEvent(OA,_L);s.addEventListener(OA,u),s.dispatchEvent(y),y.defaultPrevented||hu(g??document.body,{select:!0}),s.removeEventListener(OA,u),NL.remove(h)},0)}}},[s,c,u,h]);const m=A.useCallback(g=>{if(!n&&!r||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const x=g.currentTarget,[w,_]=fde(x);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),n&&hu(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&hu(_,{select:!0})):y===x&&g.preventDefault()}},[n,r,h.paused]);return f.jsx(vt.div,{tabIndex:-1,...a,ref:p,onKeyDown:m})});sj.displayName=ude;function dde(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(hu(r,{select:t}),document.activeElement!==n)return}function fde(e){const t=Jq(e),n=EL(t,e),r=EL(t.reverse(),e);return[n,r]}function Jq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function EL(e,t){for(const n of e)if(!hde(n,{upTo:t}))return n}function hde(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pde(e){return e instanceof HTMLInputElement&&"select"in e}function hu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pde(e)&&t&&e.select()}}var NL=mde();function mde(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=AL(e,t),e.unshift(t)},remove(t){var n;e=AL(e,t),(n=e[0])==null||n.resume()}}}function AL(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function gde(e){return e.filter(t=>t.tagName!=="A")}var MA=0;function eW(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kL()),document.body.insertAdjacentElement("beforeend",e[1]??kL()),MA++,()=>{MA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),MA--}},[])}function kL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fl=function(){return fl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fl.apply(this,arguments)};function tW(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vde(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var cw="right-scroll-bar-position",uw="width-before-scroll-bar",yde="with-scroll-bars-hidden",bde="--removed-body-scroll-bar-size";function PA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xde(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var wde=typeof window<"u"?A.useLayoutEffect:A.useEffect,CL=new WeakMap;function Sde(e,t){var n=xde(null,function(r){return e.forEach(function(i){return PA(i,r)})});return wde(function(){var r=CL.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(s){o.has(s)||PA(s,null)}),o.forEach(function(s){i.has(s)||PA(s,a)})}CL.set(n,e)},[e]),n}function _de(e){return e}function Ede(e,t){t===void 0&&(t=_de);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function Nde(e){e===void 0&&(e={});var t=Ede(null);return t.options=fl({async:!0,ssr:!1},e),t}var nW=function(e){var t=e.sideCar,n=tW(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,fl({},n))};nW.isSideCarExport=!0;function Ade(e,t){return e.useMedium(t),nW}var rW=Nde(),jA=function(){},L_=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:jA,onWheelCapture:jA,onTouchMoveCapture:jA}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,p=e.sideCar,h=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,x=e.gapMode,w=tW(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,N=Sde([n,t]),k=fl(fl({},w),i);return A.createElement(A.Fragment,null,u&&A.createElement(_,{sideCar:rW,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:x}),a?A.cloneElement(A.Children.only(s),fl(fl({},k),{ref:N})):A.createElement(y,fl({},k,{className:l,ref:N}),s))});L_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};L_.classNames={fullWidth:uw,zeroRight:cw};var kde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cde(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kde();return t&&e.setAttribute("nonce",t),e}function Tde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ode(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Mde=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Cde())&&(Tde(t,n),Ode(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Pde=function(){var e=Mde();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},iW=function(){var e=Pde(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},jde={left:0,top:0,right:0,gap:0},RA=function(e){return parseInt(e||"",10)||0},Rde=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[RA(n),RA(r),RA(i)]},Ide=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jde;var t=Rde(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Lde=iW(),Kp="data-scroll-locked",Dde=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yde,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Kp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cw,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(uw,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(cw," .").concat(cw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uw," .").concat(uw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kp,`] {
    `).concat(bde,": ").concat(s,`px;
  }
`)},TL=function(){var e=parseInt(document.body.getAttribute(Kp)||"0",10);return isFinite(e)?e:0},$de=function(){A.useEffect(function(){return document.body.setAttribute(Kp,(TL()+1).toString()),function(){var e=TL()-1;e<=0?document.body.removeAttribute(Kp):document.body.setAttribute(Kp,e.toString())}},[])},Fde=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;$de();var o=A.useMemo(function(){return Ide(i)},[i]);return A.createElement(Lde,{styles:Dde(o,!t,i,n?"":"!important")})},WC=!1;if(typeof window<"u")try{var G1=Object.defineProperty({},"passive",{get:function(){return WC=!0,!0}});window.addEventListener("test",G1,G1),window.removeEventListener("test",G1,G1)}catch{WC=!1}var Xh=WC?{passive:!1}:!1,Bde=function(e){return e.tagName==="TEXTAREA"},oW=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Bde(e)&&n[t]==="visible")},zde=function(e){return oW(e,"overflowY")},Ude=function(e){return oW(e,"overflowX")},OL=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=aW(e,r);if(i){var o=sW(e,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Hde=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},qde=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},aW=function(e,t){return e==="v"?zde(t):Ude(t)},sW=function(e,t){return e==="v"?Hde(t):qde(t)},Wde=function(e,t){return e==="h"&&t==="rtl"?-1:1},Vde=function(e,t,n,r,i){var o=Wde(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,p=0;do{var h=sW(e,s),m=h[0],g=h[1],v=h[2],y=g-v-o*m;(m||y)&&aW(e,s)&&(d+=y,p+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(p)<1||!i))&&(c=!0),c},Y1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ML=function(e){return[e.deltaX,e.deltaY]},PL=function(e){return e&&"current"in e?e.current:e},Kde=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Gde=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yde=0,Qh=[];function Xde(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(Yde++)[0],o=A.useState(iW)[0],a=A.useRef(e);A.useEffect(function(){a.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=vde([e.lockRef.current],(e.shards||[]).map(PL),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=A.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=Y1(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-y[0],_="deltaY"in g?g.deltaY:x[1]-y[1],N,k=g.target,O=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&O==="h"&&k.type==="range")return!1;var E=OL(O,k);if(!E)return!0;if(E?N=O:(N=O==="v"?"h":"v",E=OL(O,k)),!E)return!1;if(!r.current&&"changedTouches"in g&&(w||_)&&(r.current=N),!N)return!0;var C=r.current||N;return Vde(C,v,g,C==="h"?w:_,!0)},[]),l=A.useCallback(function(g){var v=g;if(!(!Qh.length||Qh[Qh.length-1]!==o)){var y="deltaY"in v?ML(v):Y1(v),x=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&Kde(N.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(PL).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=w.length>0?s(v,w[0]):!a.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),c=A.useCallback(function(g,v,y,x){var w={name:g,delta:v,target:y,should:x,shadowParent:Qde(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),u=A.useCallback(function(g){n.current=Y1(g),r.current=void 0},[]),d=A.useCallback(function(g){c(g.type,ML(g),g.target,s(g,e.lockRef.current))},[]),p=A.useCallback(function(g){c(g.type,Y1(g),g.target,s(g,e.lockRef.current))},[]);A.useEffect(function(){return Qh.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Xh),document.addEventListener("touchmove",l,Xh),document.addEventListener("touchstart",u,Xh),function(){Qh=Qh.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Xh),document.removeEventListener("touchmove",l,Xh),document.removeEventListener("touchstart",u,Xh)}},[]);var h=e.removeScrollBar,m=e.inert;return A.createElement(A.Fragment,null,m?A.createElement(o,{styles:Gde(i)}):null,h?A.createElement(Fde,{gapMode:e.gapMode}):null)}function Qde(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Zde=Ade(rW,Xde);var lj=A.forwardRef(function(e,t){return A.createElement(L_,fl({},e,{ref:t,sideCar:Zde}))});lj.classNames=L_.classNames;var Jde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zh=new WeakMap,X1=new WeakMap,Q1={},IA=0,lW=function(e){return e&&(e.host||lW(e.parentNode))},efe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=lW(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},tfe=function(e,t,n,r){var i=efe(t,Array.isArray(e)?e:[e]);Q1[n]||(Q1[n]=new WeakMap);var o=Q1[n],a=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(s.has(p))u(p);else try{var h=p.getAttribute(r),m=h!==null&&h!=="false",g=(Zh.get(p)||0)+1,v=(o.get(p)||0)+1;Zh.set(p,g),o.set(p,v),a.push(p),g===1&&m&&X1.set(p,!0),v===1&&p.setAttribute(n,"true"),m||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return u(t),s.clear(),IA++,function(){a.forEach(function(d){var p=Zh.get(d)-1,h=o.get(d)-1;Zh.set(d,p),o.set(d,h),p||(X1.has(d)||d.removeAttribute(r),X1.delete(d)),h||d.removeAttribute(n)}),IA--,IA||(Zh=new WeakMap,Zh=new WeakMap,X1=new WeakMap,Q1={})}},cW=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Jde(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),tfe(r,i,n,"aria-hidden")):function(){return null}},cj="Dialog",[uW,dW]=wa(cj),[nfe,zs]=uW(cj),fW=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=A.useRef(null),l=A.useRef(null),[c=!1,u]=Tc({prop:r,defaultProp:i,onChange:o});return f.jsx(nfe,{scope:t,triggerRef:s,contentRef:l,contentId:So(),titleId:So(),descriptionId:So(),open:c,onOpenChange:u,onOpenToggle:A.useCallback(()=>u(d=>!d),[u]),modal:a,children:n})};fW.displayName=cj;var hW="DialogTrigger",pW=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zs(hW,n),o=sn(t,i.triggerRef);return f.jsx(vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fj(i.open),...r,ref:o,onClick:gt(e.onClick,i.onOpenToggle)})});pW.displayName=hW;var uj="DialogPortal",[rfe,mW]=uW(uj,{forceMount:void 0}),gW=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=zs(uj,t);return f.jsx(rfe,{scope:t,forceMount:n,children:A.Children.map(r,a=>f.jsx(ts,{present:n||o.open,children:f.jsx(w_,{asChild:!0,container:i,children:a})}))})};gW.displayName=uj;var r2="DialogOverlay",vW=A.forwardRef((e,t)=>{const n=mW(r2,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=zs(r2,e.__scopeDialog);return o.modal?f.jsx(ts,{present:r||o.open,children:f.jsx(ofe,{...i,ref:t})}):null});vW.displayName=r2;var ife=Om("DialogOverlay.RemoveScroll"),ofe=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zs(r2,n);return f.jsx(lj,{as:ife,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(vt.div,{"data-state":fj(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),oh="DialogContent",yW=A.forwardRef((e,t)=>{const n=mW(oh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=zs(oh,e.__scopeDialog);return f.jsx(ts,{present:r||o.open,children:o.modal?f.jsx(afe,{...i,ref:t}):f.jsx(sfe,{...i,ref:t})})});yW.displayName=oh;var afe=A.forwardRef((e,t)=>{const n=zs(oh,e.__scopeDialog),r=A.useRef(null),i=sn(t,n.contentRef,r);return A.useEffect(()=>{const o=r.current;if(o)return cW(o)},[]),f.jsx(bW,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:gt(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:gt(e.onFocusOutside,o=>o.preventDefault())})}),sfe=A.forwardRef((e,t)=>{const n=zs(oh,e.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return f.jsx(bW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),bW=A.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=zs(oh,n),l=A.useRef(null),c=sn(t,l);return eW(),f.jsxs(f.Fragment,{children:[f.jsx(sj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:f.jsx(bb,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":fj(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(cfe,{titleId:s.titleId}),f.jsx(dfe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),dj="DialogTitle",xW=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zs(dj,n);return f.jsx(vt.h2,{id:i.titleId,...r,ref:t})});xW.displayName=dj;var wW="DialogDescription",SW=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zs(wW,n);return f.jsx(vt.p,{id:i.descriptionId,...r,ref:t})});SW.displayName=wW;var _W="DialogClose",EW=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zs(_W,n);return f.jsx(vt.button,{type:"button",...r,ref:t,onClick:gt(e.onClick,()=>i.onOpenChange(!1))})});EW.displayName=_W;function fj(e){return e?"open":"closed"}var NW="DialogTitleWarning",[lfe,AW]=Sae(NW,{contentName:oh,titleName:dj,docsSlug:"dialog"}),cfe=({titleId:e})=>{const t=AW(NW),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ufe="DialogDescriptionWarning",dfe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AW(ufe).contentName}}.`;return A.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},D_=fW,kW=pW,$_=gW,wg=vW,Sg=yW,Sb=xW,_b=SW,F_=EW;const ffe=D_,hfe=$_,CW=A.forwardRef(({className:e,...t},n)=>f.jsx(wg,{className:Ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));CW.displayName=wg.displayName;const pfe=pg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),TW=A.forwardRef(({side:e="right",className:t,children:n,...r},i)=>f.jsxs(hfe,{children:[f.jsx(CW,{}),f.jsxs(Sg,{ref:i,className:Ge(pfe({side:e}),t),...r,children:[n,f.jsxs(F_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[f.jsx(zP,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));TW.displayName=Sg.displayName;const OW=({className:e,...t})=>f.jsx("div",{className:Ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});OW.displayName="SheetHeader";const MW=A.forwardRef(({className:e,...t},n)=>f.jsx(Sb,{ref:n,className:Ge("text-lg font-semibold text-foreground",e),...t}));MW.displayName=Sb.displayName;const PW=A.forwardRef(({className:e,...t},n)=>f.jsx(_b,{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));PW.displayName=_b.displayName;function pn({className:e,...t}){return f.jsx("div",{className:Ge("animate-pulse rounded-md bg-muted",e),...t})}const mfe="sidebar_state",gfe=60*60*24*7,vfe="16rem",yfe="18rem",bfe="3rem",xfe="b",jW=A.createContext(null);function hj(){const e=A.useContext(jW);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function wfe({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:o,...a}){const s=ade(),[l,c]=A.useState(!1),[u,d]=A.useState(e),p=t??u,h=A.useCallback(y=>{const x=typeof y=="function"?y(p):y;n?n(x):d(x),document.cookie=`${mfe}=${x}; path=/; max-age=${gfe}`},[n,p]),m=A.useCallback(()=>s?c(y=>!y):h(y=>!y),[s,h,c]);A.useEffect(()=>{const y=x=>{x.key===xfe&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),m())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[m]);const g=p?"expanded":"collapsed",v=A.useMemo(()=>({state:g,open:p,setOpen:h,isMobile:s,openMobile:l,setOpenMobile:c,toggleSidebar:m}),[g,p,h,s,l,c,m]);return f.jsx(jW.Provider,{value:v,children:f.jsx(Mq,{delayDuration:0,children:f.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":vfe,"--sidebar-width-icon":bfe,...i},className:Ge("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...a,children:o})})})}function Sfe({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...o}){const{isMobile:a,state:s,openMobile:l,setOpenMobile:c}=hj();return n==="none"?f.jsx("div",{"data-slot":"sidebar",className:Ge("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...o,children:i}):a?f.jsx(ffe,{open:l,onOpenChange:c,...o,children:f.jsxs(TW,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":yfe},side:e,children:[f.jsxs(OW,{className:"sr-only",children:[f.jsx(MW,{children:"Sidebar"}),f.jsx(PW,{children:"Displays the mobile sidebar."})]}),f.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):f.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":s,"data-collapsible":s==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[f.jsx("div",{"data-slot":"sidebar-gap",className:Ge("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),f.jsx("div",{"data-slot":"sidebar-container",className:Ge("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:f.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function _fe({className:e,onClick:t,...n}){const{toggleSidebar:r}=hj();return f.jsxs(Re,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Ge("h-7 w-7",e),onClick:i=>{t==null||t(i),r()},...n,children:[f.jsx(Bse,{}),f.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Efe({className:e,...t}){return f.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Ge("flex flex-col gap-2 p-2",e),...t})}function Nfe({className:e,...t}){return f.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Ge("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function Afe({className:e,...t}){return f.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Ge("relative flex w-full min-w-0 flex-col p-2",e),...t})}function kfe({className:e,asChild:t=!1,...n}){const r=t?MP:"div";return f.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Ge("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function Cfe({className:e,...t}){return f.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Ge("w-full text-sm",e),...t})}function Tfe({className:e,...t}){return f.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Ge("flex w-full min-w-0 flex-col gap-1",e),...t})}function Ofe({className:e,...t}){return f.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Ge("group/menu-item relative",e),...t})}const Mfe=pg("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Pfe({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:o,...a}){const s=e?MP:"button",{isMobile:l,state:c}=hj(),u=f.jsx(s,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:Ge(Mfe({variant:n,size:r}),o),...a});return i?(typeof i=="string"&&(i={children:i}),f.jsxs(Pq,{children:[f.jsx(jq,{asChild:!0,children:u}),f.jsx(ej,{side:"right",align:"center",hidden:c!=="collapsed"||l,...i})]})):u}var pj="Avatar",[jfe,LYe]=wa(pj),[Rfe,RW]=jfe(pj),IW=A.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=A.useState("idle");return f.jsx(Rfe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:f.jsx(vt.span,{...r,ref:t})})});IW.displayName=pj;var LW="AvatarImage",DW=A.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,a=RW(LW,n),s=Ife(r,o),l=Nr(c=>{i(c),a.onImageLoadingStatusChange(c)});return Gr(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?f.jsx(vt.img,{...o,ref:t,src:r}):null});DW.displayName=LW;var $W="AvatarFallback",FW=A.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=RW($W,n),[a,s]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?f.jsx(vt.span,{...i,ref:t}):null});FW.displayName=$W;function jL(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ife(e,{referrerPolicy:t,crossOrigin:n}){const r=Dfe(),i=A.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[a,s]=A.useState(()=>jL(o,e));return Gr(()=>{s(jL(o,e))},[o,e]),Gr(()=>{const l=d=>()=>{s(d)};if(!o)return;const c=l("loaded"),u=l("error");return o.addEventListener("load",c),o.addEventListener("error",u),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,n,t]),a}function Lfe(){return()=>{}}function Dfe(){return A.useSyncExternalStore(Lfe,()=>!0,()=>!1)}var BW=IW,zW=DW,UW=FW;const HW=A.forwardRef(({className:e,...t},n)=>f.jsx(BW,{ref:n,className:Ge(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));HW.displayName=BW.displayName;const $fe=A.forwardRef(({className:e,...t},n)=>f.jsx(zW,{ref:n,className:Ge("aspect-square h-full w-full",e),...t}));$fe.displayName=zW.displayName;const qW=A.forwardRef(({className:e,...t},n)=>f.jsx(UW,{ref:n,className:Ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));qW.displayName=UW.displayName;const Ffe=[{title:"Dashboard",url:"/",icon:Pse,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Clientes",url:"/clientes",icon:BP,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Impuestos",url:"/impuestos",icon:Ds,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Control Impuestos",url:"/control-impuestos",icon:Nse,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Calendario AEAT",url:"/calendario-aeat",icon:e0,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Tareas",url:"/tareas",icon:$P,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Manuales",url:"/manuales",icon:LP,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Notificaciones",url:"/notificaciones",icon:vse,roles:["Administrador","Gestor"]},{title:"Auditora",url:"/auditoria",icon:zH,roles:["Administrador","Gestor"]},{title:"Administracin",url:"/admin",icon:BH,roles:["Administrador"]}];function Bfe(){const[e]=Ah(),{user:t,logout:n}=bg(),r=Ffe.filter(o=>t&&t.roleName&&o.roles.includes(t.roleName)),i=o=>o.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return f.jsxs(Sfe,{children:[f.jsxs(Nfe,{children:[f.jsx("div",{className:"p-6",children:f.jsx("h1",{className:"text-xl font-display font-bold text-primary",children:"Asesora La Llave"})}),f.jsxs(Afe,{children:[f.jsx(kfe,{children:"Navegacin"}),f.jsx(Cfe,{children:f.jsx(Tfe,{children:r.map(o=>f.jsx(Ofe,{children:f.jsx(Pfe,{asChild:!0,isActive:e===o.url,children:f.jsxs(Foe,{href:o.url,"data-testid":`link-${o.title.toLowerCase()}`,children:[f.jsx(o.icon,{className:"h-4 w-4"}),f.jsx("span",{children:o.title})]})})},o.title))})})]})]}),f.jsxs(Efe,{className:"p-4",children:[t&&f.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[f.jsx(HW,{className:"h-9 w-9",children:f.jsx(qW,{className:"bg-primary text-primary-foreground text-sm",children:i(t.username)})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium truncate",children:t.username}),f.jsx("p",{className:"text-xs text-muted-foreground",children:t.roleName||"Sin rol"})]})]}),f.jsxs(Re,{variant:"ghost",className:"w-full justify-start",onClick:n,"data-testid":"button-logout",children:[f.jsx($se,{className:"h-4 w-4 mr-2"}),"Cerrar Sesin"]})]})]})}function zfe(){const{theme:e,toggleTheme:t}=uue();return f.jsxs(Re,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-theme-toggle",children:[e==="light"?f.jsx(Fse,{className:"h-5 w-5"}):f.jsx(Kse,{className:"h-5 w-5"}),f.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var RL=1,Ufe=.9,Hfe=.8,qfe=.17,LA=.1,DA=.999,Wfe=.9999,Vfe=.99,Kfe=/[\\\/_+.#"@\[\(\{&]/,Gfe=/[\\\/_+.#"@\[\(\{&]/g,Yfe=/[\s-]/,WW=/[\s-]/g;function VC(e,t,n,r,i,o,a){if(o===t.length)return i===e.length?RL:Vfe;var s=`${i},${o}`;if(a[s]!==void 0)return a[s];for(var l=r.charAt(o),c=n.indexOf(l,i),u=0,d,p,h,m;c>=0;)d=VC(e,t,n,r,c+1,o+1,a),d>u&&(c===i?d*=RL:Kfe.test(e.charAt(c-1))?(d*=Hfe,h=e.slice(i,c-1).match(Gfe),h&&i>0&&(d*=Math.pow(DA,h.length))):Yfe.test(e.charAt(c-1))?(d*=Ufe,m=e.slice(i,c-1).match(WW),m&&i>0&&(d*=Math.pow(DA,m.length))):(d*=qfe,i>0&&(d*=Math.pow(DA,c-i))),e.charAt(c)!==t.charAt(o)&&(d*=Wfe)),(d<LA&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(p=VC(e,t,n,r,c+1,o+2,a),p*LA>d&&(d=p*LA)),d>u&&(u=d),c=n.indexOf(l,c+1);return a[s]=u,u}function IL(e){return e.toLowerCase().replace(WW," ")}function Xfe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,VC(e,t,IL(e),IL(t),0,0,{})}var kv='[cmdk-group=""]',$A='[cmdk-group-items=""]',Qfe='[cmdk-group-heading=""]',VW='[cmdk-item=""]',LL=`${VW}:not([aria-disabled="true"])`,KC="cmdk-item-select",dp="data-value",Zfe=(e,t,n)=>Xfe(e,t,n),KW=A.createContext(void 0),Eb=()=>A.useContext(KW),GW=A.createContext(void 0),mj=()=>A.useContext(GW),YW=A.createContext(void 0),XW=A.forwardRef((e,t)=>{let n=fp(()=>{var R,U;return{search:"",value:(U=(R=e.value)!=null?R:e.defaultValue)!=null?U:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=fp(()=>new Set),i=fp(()=>new Map),o=fp(()=>new Map),a=fp(()=>new Set),s=QW(e),{label:l,children:c,value:u,onValueChange:d,filter:p,shouldFilter:h,loop:m,disablePointerSelection:g=!1,vimBindings:v=!0,...y}=e,x=So(),w=So(),_=So(),N=A.useRef(null),k=che();ah(()=>{if(u!==void 0){let R=u.trim();n.current.value=R,O.emit()}},[u]),ah(()=>{k(6,j)},[]);let O=A.useMemo(()=>({subscribe:R=>(a.current.add(R),()=>a.current.delete(R)),snapshot:()=>n.current,setState:(R,U,Y)=>{var Z,ae,se,ce;if(!Object.is(n.current[R],U)){if(n.current[R]=U,R==="search")I(),L(),k(1,M);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ne=document.getElementById(_);ne?ne.focus():(Z=document.getElementById(x))==null||Z.focus()}if(k(7,()=>{var ne;n.current.selectedItemId=(ne=D())==null?void 0:ne.id,O.emit()}),Y||k(5,j),((ae=s.current)==null?void 0:ae.value)!==void 0){let ne=U??"";(ce=(se=s.current).onValueChange)==null||ce.call(se,ne);return}}O.emit()}},emit:()=>{a.current.forEach(R=>R())}}),[]),E=A.useMemo(()=>({value:(R,U,Y)=>{var Z;U!==((Z=o.current.get(R))==null?void 0:Z.value)&&(o.current.set(R,{value:U,keywords:Y}),n.current.filtered.items.set(R,C(U,Y)),k(2,()=>{L(),O.emit()}))},item:(R,U)=>(r.current.add(R),U&&(i.current.has(U)?i.current.get(U).add(R):i.current.set(U,new Set([R]))),k(3,()=>{I(),L(),n.current.value||M(),O.emit()}),()=>{o.current.delete(R),r.current.delete(R),n.current.filtered.items.delete(R);let Y=D();k(4,()=>{I(),(Y==null?void 0:Y.getAttribute("id"))===R&&M(),O.emit()})}),group:R=>(i.current.has(R)||i.current.set(R,new Set),()=>{o.current.delete(R),i.current.delete(R)}),filter:()=>s.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:x,inputId:_,labelId:w,listInnerRef:N}),[]);function C(R,U){var Y,Z;let ae=(Z=(Y=s.current)==null?void 0:Y.filter)!=null?Z:Zfe;return R?ae(R,n.current.search,U):0}function L(){if(!n.current.search||s.current.shouldFilter===!1)return;let R=n.current.filtered.items,U=[];n.current.filtered.groups.forEach(Z=>{let ae=i.current.get(Z),se=0;ae.forEach(ce=>{let ne=R.get(ce);se=Math.max(ne,se)}),U.push([Z,se])});let Y=N.current;q().sort((Z,ae)=>{var se,ce;let ne=Z.getAttribute("id"),de=ae.getAttribute("id");return((se=R.get(de))!=null?se:0)-((ce=R.get(ne))!=null?ce:0)}).forEach(Z=>{let ae=Z.closest($A);ae?ae.appendChild(Z.parentElement===ae?Z:Z.closest(`${$A} > *`)):Y.appendChild(Z.parentElement===Y?Z:Z.closest(`${$A} > *`))}),U.sort((Z,ae)=>ae[1]-Z[1]).forEach(Z=>{var ae;let se=(ae=N.current)==null?void 0:ae.querySelector(`${kv}[${dp}="${encodeURIComponent(Z[0])}"]`);se==null||se.parentElement.appendChild(se)})}function M(){let R=q().find(Y=>Y.getAttribute("aria-disabled")!=="true"),U=R==null?void 0:R.getAttribute(dp);O.setState("value",U||void 0)}function I(){var R,U,Y,Z;if(!n.current.search||s.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let se of r.current){let ce=(U=(R=o.current.get(se))==null?void 0:R.value)!=null?U:"",ne=(Z=(Y=o.current.get(se))==null?void 0:Y.keywords)!=null?Z:[],de=C(ce,ne);n.current.filtered.items.set(se,de),de>0&&ae++}for(let[se,ce]of i.current)for(let ne of ce)if(n.current.filtered.items.get(ne)>0){n.current.filtered.groups.add(se);break}n.current.filtered.count=ae}function j(){var R,U,Y;let Z=D();Z&&(((R=Z.parentElement)==null?void 0:R.firstChild)===Z&&((Y=(U=Z.closest(kv))==null?void 0:U.querySelector(Qfe))==null||Y.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function D(){var R;return(R=N.current)==null?void 0:R.querySelector(`${VW}[aria-selected="true"]`)}function q(){var R;return Array.from(((R=N.current)==null?void 0:R.querySelectorAll(LL))||[])}function z(R){let U=q()[R];U&&O.setState("value",U.getAttribute(dp))}function W(R){var U;let Y=D(),Z=q(),ae=Z.findIndex(ce=>ce===Y),se=Z[ae+R];(U=s.current)!=null&&U.loop&&(se=ae+R<0?Z[Z.length-1]:ae+R===Z.length?Z[0]:Z[ae+R]),se&&O.setState("value",se.getAttribute(dp))}function F(R){let U=D(),Y=U==null?void 0:U.closest(kv),Z;for(;Y&&!Z;)Y=R>0?she(Y,kv):lhe(Y,kv),Z=Y==null?void 0:Y.querySelector(LL);Z?O.setState("value",Z.getAttribute(dp)):W(R)}let B=()=>z(q().length-1),te=R=>{R.preventDefault(),R.metaKey?B():R.altKey?F(1):W(1)},K=R=>{R.preventDefault(),R.metaKey?z(0):R.altKey?F(-1):W(-1)};return A.createElement(vt.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:R=>{var U;(U=y.onKeyDown)==null||U.call(y,R);let Y=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||Y))switch(R.key){case"n":case"j":{v&&R.ctrlKey&&te(R);break}case"ArrowDown":{te(R);break}case"p":case"k":{v&&R.ctrlKey&&K(R);break}case"ArrowUp":{K(R);break}case"Home":{R.preventDefault(),z(0);break}case"End":{R.preventDefault(),B();break}case"Enter":{R.preventDefault();let Z=D();if(Z){let ae=new Event(KC);Z.dispatchEvent(ae)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:dhe},l),B_(e,R=>A.createElement(GW.Provider,{value:O},A.createElement(KW.Provider,{value:E},R))))}),Jfe=A.forwardRef((e,t)=>{var n,r;let i=So(),o=A.useRef(null),a=A.useContext(YW),s=Eb(),l=QW(e),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:a==null?void 0:a.forceMount;ah(()=>{if(!c)return s.item(i,a==null?void 0:a.id)},[c]);let u=ZW(i,o,[e.value,e.children,o],e.keywords),d=mj(),p=vd(k=>k.value&&k.value===u.current),h=vd(k=>c||s.filter()===!1?!0:k.search?k.filtered.items.get(i)>0:!0);A.useEffect(()=>{let k=o.current;if(!(!k||e.disabled))return k.addEventListener(KC,m),()=>k.removeEventListener(KC,m)},[h,e.onSelect,e.disabled]);function m(){var k,O;g(),(O=(k=l.current).onSelect)==null||O.call(k,u.current)}function g(){d.setState("value",u.current,!0)}if(!h)return null;let{disabled:v,value:y,onSelect:x,forceMount:w,keywords:_,...N}=e;return A.createElement(vt.div,{ref:rh(o,t),...N,id:i,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||s.getDisablePointerSelection()?void 0:g,onClick:v?void 0:m},e.children)}),ehe=A.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,a=So(),s=A.useRef(null),l=A.useRef(null),c=So(),u=Eb(),d=vd(h=>i||u.filter()===!1?!0:h.search?h.filtered.groups.has(a):!0);ah(()=>u.group(a),[]),ZW(a,s,[e.value,e.heading,l]);let p=A.useMemo(()=>({id:a,forceMount:i}),[i]);return A.createElement(vt.div,{ref:rh(s,t),...o,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&A.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),B_(e,h=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},A.createElement(YW.Provider,{value:p},h))))}),the=A.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=A.useRef(null),o=vd(a=>!a.search);return!n&&!o?null:A.createElement(vt.div,{ref:rh(i,t),...r,"cmdk-separator":"",role:"separator"})}),nhe=A.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=mj(),a=vd(c=>c.search),s=vd(c=>c.selectedItemId),l=Eb();return A.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),A.createElement(vt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":s,id:l.inputId,type:"text",value:i?e.value:a,onChange:c=>{i||o.setState("search",c.target.value),n==null||n(c.target.value)}})}),rhe=A.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=A.useRef(null),a=A.useRef(null),s=vd(c=>c.selectedItemId),l=Eb();return A.useEffect(()=>{if(a.current&&o.current){let c=a.current,u=o.current,d,p=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let h=c.offsetHeight;u.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return p.observe(c),()=>{cancelAnimationFrame(d),p.unobserve(c)}}},[]),A.createElement(vt.div,{ref:rh(o,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":r,id:l.listId},B_(e,c=>A.createElement("div",{ref:rh(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),ihe=A.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:a,...s}=e;return A.createElement(D_,{open:n,onOpenChange:r},A.createElement($_,{container:a},A.createElement(wg,{"cmdk-overlay":"",className:i}),A.createElement(Sg,{"aria-label":e.label,"cmdk-dialog":"",className:o},A.createElement(XW,{ref:t,...s}))))}),ohe=A.forwardRef((e,t)=>vd(n=>n.filtered.count===0)?A.createElement(vt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),ahe=A.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return A.createElement(vt.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},B_(e,a=>A.createElement("div",{"aria-hidden":!0},a)))}),qo=Object.assign(XW,{List:rhe,Item:Jfe,Input:nhe,Group:ehe,Separator:the,Dialog:ihe,Empty:ohe,Loading:ahe});function she(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function lhe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function QW(e){let t=A.useRef(e);return ah(()=>{t.current=e}),t}var ah=typeof window>"u"?A.useEffect:A.useLayoutEffect;function fp(e){let t=A.useRef();return t.current===void 0&&(t.current=e()),t}function vd(e){let t=mj(),n=()=>e(t.snapshot());return A.useSyncExternalStore(t.subscribe,n,n)}function ZW(e,t,n,r=[]){let i=A.useRef(),o=Eb();return ah(()=>{var a;let s=(()=>{var c;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());o.value(e,s,l),(a=t.current)==null||a.setAttribute(dp,s),i.current=s}),i}var che=()=>{let[e,t]=A.useState(),n=fp(()=>new Map);return ah(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function uhe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function B_({asChild:e,children:t},n){return e&&A.isValidElement(t)?A.cloneElement(uhe(t),{ref:t.ref},n(t.props.children)):n(t)}var dhe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const eo=D_,Ba=kW,fhe=$_,JW=A.forwardRef(({className:e,...t},n)=>f.jsx(wg,{ref:n,className:Ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));JW.displayName=wg.displayName;const Li=A.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(fhe,{children:[f.jsx(JW,{}),f.jsxs(Sg,{ref:r,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,f.jsxs(F_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(zP,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Li.displayName=Sg.displayName;const to=({className:e,...t})=>f.jsx("div",{className:Ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});to.displayName="DialogHeader";const ca=({className:e,...t})=>f.jsx("div",{className:Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ca.displayName="DialogFooter";const no=A.forwardRef(({className:e,...t},n)=>f.jsx(Sb,{ref:n,className:Ge("text-lg font-semibold leading-none tracking-tight",e),...t}));no.displayName=Sb.displayName;const yo=A.forwardRef(({className:e,...t},n)=>f.jsx(_b,{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));yo.displayName=_b.displayName;const eV=A.forwardRef(({className:e,...t},n)=>f.jsx(qo,{ref:n,className:Ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));eV.displayName=qo.displayName;const hhe=({children:e,...t})=>f.jsx(eo,{...t,children:f.jsx(Li,{className:"overflow-hidden p-0 shadow-lg",children:f.jsx(eV,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),tV=A.forwardRef(({className:e,...t},n)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(N_,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(qo.Input,{ref:n,className:Ge("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));tV.displayName=qo.Input.displayName;const nV=A.forwardRef(({className:e,...t},n)=>f.jsx(qo.List,{ref:n,className:Ge("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));nV.displayName=qo.List.displayName;const rV=A.forwardRef((e,t)=>f.jsx(qo.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));rV.displayName=qo.Empty.displayName;const Qv=A.forwardRef(({className:e,...t},n)=>f.jsx(qo.Group,{ref:n,className:Ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Qv.displayName=qo.Group.displayName;const phe=A.forwardRef(({className:e,...t},n)=>f.jsx(qo.Separator,{ref:n,className:Ge("-mx-1 h-px bg-border",e),...t}));phe.displayName=qo.Separator.displayName;const Zv=A.forwardRef(({className:e,...t},n)=>f.jsx(qo.Item,{ref:n,className:Ge("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));Zv.displayName=qo.Item.displayName;function mhe(){const[e,t]=A.useState(!1),[n,r]=A.useState(""),[,i]=Ah();A.useEffect(()=>{const s=l=>{l.key==="k"&&(l.metaKey||l.ctrlKey)&&(l.preventDefault(),t(c=>!c))};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]);const{data:o}=tn({queryKey:["/api/search",n],enabled:n.length>=2,queryFn:async()=>{const s=await fetch(`/api/search?q=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.ok)throw new Error("Error en bsqueda");return s.json()}}),a=(s,l)=>{t(!1),r(""),s==="cliente"?i("/clientes"):s==="tarea"?i("/tareas"):s==="impuesto"?i("/impuestos"):s==="manual"&&i(`/manuales/${l}`)};return f.jsxs(f.Fragment,{children:[f.jsxs(Re,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64",onClick:()=>t(!0),"data-testid":"button-global-search",children:[f.jsx(N_,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"hidden lg:inline-flex",children:"Buscar..."}),f.jsx("span",{className:"inline-flex lg:hidden",children:"Buscar"}),f.jsxs("kbd",{className:"pointer-events-none absolute right-1.5 top-2 hidden h-6 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[f.jsx("span",{className:"text-xs",children:""}),"K"]})]}),f.jsxs(hhe,{open:e,onOpenChange:t,children:[f.jsx(tV,{placeholder:"Buscar clientes, tareas, impuestos, manuales...",value:n,onValueChange:r,"data-testid":"input-global-search"}),f.jsxs(nV,{children:[f.jsx(rV,{children:n.length<2?"Escribe al menos 2 caracteres para buscar":"No se encontraron resultados"}),o&&o.clientes.length>0&&f.jsx(Qv,{heading:"Clientes",children:o.clientes.map(s=>f.jsxs(Zv,{onSelect:()=>a("cliente",s.id),"data-testid":`search-result-client-${s.id}`,children:[f.jsx(FP,{className:"mr-2 h-4 w-4"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{children:s.razonSocial}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s.nifCif})]})]},s.id))}),o&&o.tareas.length>0&&f.jsx(Qv,{heading:"Tareas",children:o.tareas.map(s=>f.jsxs(Zv,{onSelect:()=>a("tarea",s.id),"data-testid":`search-result-task-${s.id}`,children:[f.jsx($P,{className:"mr-2 h-4 w-4"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{children:s.titulo}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s.estado})]})]},s.id))}),o&&o.impuestos.length>0&&f.jsx(Qv,{heading:"Impuestos",children:o.impuestos.map(s=>{var l,c;return f.jsxs(Zv,{onSelect:()=>a("impuesto",s.id),"data-testid":`search-result-tax-${s.id}`,children:[f.jsx(Ds,{className:"mr-2 h-4 w-4"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{children:[(l=s.client)==null?void 0:l.razonSocial," - Modelo ",(c=s.model)==null?void 0:c.nombre]}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s.estado})]})]},s.id)})}),o&&o.manuales.length>0&&f.jsx(Qv,{heading:"Manuales",children:o.manuales.map(s=>f.jsxs(Zv,{onSelect:()=>a("manual",s.id),"data-testid":`search-result-manual-${s.id}`,children:[f.jsx(LP,{className:"mr-2 h-4 w-4"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{children:s.titulo}),f.jsx("span",{className:"text-xs text-muted-foreground",children:s.categoria})]})]},s.id))})]})]})]})}function ghe(){const{data:e,isLoading:t}=tn({queryKey:["/api/health"],refetchInterval:3e4,retry:2}),n=(e==null?void 0:e.status)==="healthy"&&(e==null?void 0:e.database)==="connected";return t?f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(TC,{className:"h-4 w-4 animate-pulse"}),f.jsx("span",{className:"hidden sm:inline",children:"Verificando..."})]}):f.jsxs(Pq,{children:[f.jsx(jq,{asChild:!0,children:f.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-help",children:n?f.jsxs(f.Fragment,{children:[f.jsx(_se,{className:"h-4 w-4 text-green-500","data-testid":"icon-db-connected"}),f.jsx("span",{className:"hidden sm:inline",children:"DB Activa"})]}):f.jsxs(f.Fragment,{children:[f.jsx(TC,{className:"h-4 w-4 text-red-500","data-testid":"icon-db-disconnected"}),f.jsx("span",{className:"hidden sm:inline",children:"DB Desconectada"})]})})}),f.jsx(ej,{children:f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"font-semibold",children:["Estado: ",n?"Conectada":"Desconectada"]}),(e==null?void 0:e.timestamp)&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima verificacin: ",new Date(e.timestamp).toLocaleTimeString()]})]})})]})}const Nt=A.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:Ge("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Nt.displayName="Card";const Vt=A.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:Ge("flex flex-col space-y-1.5 p-6",e),...t}));Vt.displayName="CardHeader";const en=A.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:Ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));en.displayName="CardTitle";const kh=A.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));kh.displayName="CardDescription";const At=A.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:Ge("p-6 pt-0",e),...t}));At.displayName="CardContent";const vhe=A.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:Ge("flex items-center p-6 pt-0",e),...t}));vhe.displayName="CardFooter";function yhe(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(Nt,{className:"w-full max-w-md mx-4",children:f.jsxs(At,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(mg,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var bhe="Label",iV=A.forwardRef((e,t)=>f.jsx(vt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iV.displayName=bhe;var oV=iV;const xhe=pg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=A.forwardRef(({className:e,...t},n)=>f.jsx(oV,{ref:n,className:Ge(xhe(),e),...t}));Fe.displayName=oV.displayName;var whe=A.createContext(void 0);function z_(e){const t=A.useContext(whe);return e||t||"ltr"}var FA="rovingFocusGroup.onEntryFocus",She={bubbles:!1,cancelable:!0},U_="RovingFocusGroup",[GC,aV,_he]=PP(U_),[Ehe,sV]=wa(U_,[_he]),[Nhe,Ahe]=Ehe(U_),lV=A.forwardRef((e,t)=>f.jsx(GC.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(GC.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(khe,{...e,ref:t})})}));lV.displayName=U_;var khe=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,p=A.useRef(null),h=sn(t,p),m=z_(o),[g=null,v]=Tc({prop:a,defaultProp:s,onChange:l}),[y,x]=A.useState(!1),w=Nr(c),_=aV(n),N=A.useRef(!1),[k,O]=A.useState(0);return A.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(FA,w),()=>E.removeEventListener(FA,w)},[w]),f.jsx(Nhe,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:A.useCallback(E=>v(E),[v]),onItemShiftTab:A.useCallback(()=>x(!0),[]),onFocusableItemAdd:A.useCallback(()=>O(E=>E+1),[]),onFocusableItemRemove:A.useCallback(()=>O(E=>E-1),[]),children:f.jsx(vt.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:gt(e.onMouseDown,()=>{N.current=!0}),onFocus:gt(e.onFocus,E=>{const C=!N.current;if(E.target===E.currentTarget&&C&&!y){const L=new CustomEvent(FA,She);if(E.currentTarget.dispatchEvent(L),!L.defaultPrevented){const M=_().filter(z=>z.focusable),I=M.find(z=>z.active),j=M.find(z=>z.id===g),q=[I,j,...M].filter(Boolean).map(z=>z.ref.current);dV(q,u)}}N.current=!1}),onBlur:gt(e.onBlur,()=>x(!1))})})}),cV="RovingFocusGroupItem",uV=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...a}=e,s=So(),l=o||s,c=Ahe(cV,n),u=c.currentTabStopId===l,d=aV(n),{onFocusableItemAdd:p,onFocusableItemRemove:h}=c;return A.useEffect(()=>{if(r)return p(),()=>h()},[r,p,h]),f.jsx(GC.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:f.jsx(vt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...a,ref:t,onMouseDown:gt(e.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:gt(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:gt(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=Ohe(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=d().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const x=y.indexOf(m.currentTarget);y=c.loop?Mhe(y,x+1):y.slice(x+1)}setTimeout(()=>dV(y))}})})})});uV.displayName=cV;var Che={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function The(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ohe(e,t,n){const r=The(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Che[r]}function dV(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Mhe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Phe=lV,jhe=uV,gj="Tabs",[Rhe,DYe]=wa(gj,[sV]),fV=sV(),[Ihe,vj]=Rhe(gj),hV=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=z_(s),[d,p]=Tc({prop:r,onChange:i,defaultProp:o});return f.jsx(Ihe,{scope:n,baseId:So(),value:d,onValueChange:p,orientation:a,dir:u,activationMode:l,children:f.jsx(vt.div,{dir:u,"data-orientation":a,...c,ref:t})})});hV.displayName=gj;var pV="TabsList",mV=A.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=vj(pV,n),a=fV(n);return f.jsx(Phe,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:f.jsx(vt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});mV.displayName=pV;var gV="TabsTrigger",vV=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,a=vj(gV,n),s=fV(n),l=xV(a.baseId,r),c=wV(a.baseId,r),u=r===a.value;return f.jsx(jhe,{asChild:!0,...s,focusable:!i,active:u,children:f.jsx(vt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:gt(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:gt(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:gt(e.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!i&&d&&a.onValueChange(r)})})})});vV.displayName=gV;var yV="TabsContent",bV=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=e,s=vj(yV,n),l=xV(s.baseId,r),c=wV(s.baseId,r),u=r===s.value,d=A.useRef(u);return A.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(ts,{present:i||u,children:({present:p})=>f.jsx(vt.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&o})})});bV.displayName=yV;function xV(e,t){return`${e}-trigger-${t}`}function wV(e,t){return`${e}-content-${t}`}var Lhe=hV,SV=mV,_V=vV,EV=bV;const Nb=Lhe,_g=A.forwardRef(({className:e,...t},n)=>f.jsx(SV,{ref:n,className:Ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_g.displayName=SV.displayName;const ii=A.forwardRef(({className:e,...t},n)=>f.jsx(_V,{ref:n,className:Ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ii.displayName=_V.displayName;const ji=A.forwardRef(({className:e,...t},n)=>f.jsx(EV,{ref:n,className:Ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ji.displayName=EV.displayName;function DL(){const[,e]=Ah(),{login:t,register:n,logout:r,user:i}=bg(),{toast:o}=Ho(),[a,s]=A.useState({username:"",password:""}),[l,c]=A.useState({username:"",email:"",password:"",confirmPassword:""}),{data:u}=tn({queryKey:["/api/admin/system-settings"]});A.useEffect(()=>{i&&r()},[i,r]);const d=async h=>{h.preventDefault();try{await t(a.username,a.password),o({title:"Inicio de sesin exitoso",description:"Bienvenido de nuevo"}),e("/")}catch(m){o({title:"Error",description:m.message||"Credenciales incorrectas",variant:"destructive"})}},p=async h=>{if(h.preventDefault(),l.password!==l.confirmPassword){o({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}try{await n(l.username,l.email,l.password),o({title:"Registro exitoso",description:"Tu cuenta ha sido creada"}),e("/")}catch(m){o({title:"Error",description:m.message||"Error al crear la cuenta",variant:"destructive"})}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-ring/5 p-4",children:f.jsxs(Nt,{className:"w-full max-w-md",children:[f.jsxs(Vt,{className:"space-y-1",children:[f.jsx(en,{className:"text-3xl font-display font-bold text-center text-primary",children:"Asesora La Llave"}),f.jsx(kh,{className:"text-center",children:"Sistema de gestin profesional"})]}),f.jsx(At,{children:f.jsxs(Nb,{defaultValue:"login",className:"w-full",children:[f.jsxs(_g,{className:`grid w-full ${(u==null?void 0:u.registrationEnabled)??!0?"grid-cols-2":"grid-cols-1"} mb-6`,children:[f.jsx(ii,{value:"login",children:"Iniciar Sesin"}),((u==null?void 0:u.registrationEnabled)??!0)&&f.jsx(ii,{value:"register",children:"Registrarse"})]}),f.jsx(ji,{value:"login",children:f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"login-username",children:"Usuario"}),f.jsx(dt,{id:"login-username",type:"text",placeholder:"tu_usuario",value:a.username,onChange:h=>s({...a,username:h.target.value}),required:!0,"data-testid":"input-login-username"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"login-password",children:"Contrasea"}),f.jsx(dt,{id:"login-password",type:"password",placeholder:"",value:a.password,onChange:h=>s({...a,password:h.target.value}),required:!0,"data-testid":"input-login-password"})]}),f.jsx(Re,{type:"submit",className:"w-full","data-testid":"button-login-submit",children:"Iniciar Sesin"})]})}),((u==null?void 0:u.registrationEnabled)??!0)&&f.jsx(ji,{value:"register",children:f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"register-username",children:"Usuario"}),f.jsx(dt,{id:"register-username",type:"text",placeholder:"tu_usuario",value:l.username,onChange:h=>c({...l,username:h.target.value}),required:!0,"data-testid":"input-register-username"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"register-email",children:"Email"}),f.jsx(dt,{id:"register-email",type:"email",placeholder:"tu@email.com",value:l.email,onChange:h=>c({...l,email:h.target.value}),required:!0,"data-testid":"input-register-email"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"register-password",children:"Contrasea"}),f.jsx(dt,{id:"register-password",type:"password",placeholder:"",value:l.password,onChange:h=>c({...l,password:h.target.value}),required:!0,"data-testid":"input-register-password"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"register-confirm-password",children:"Confirmar Contrasea"}),f.jsx(dt,{id:"register-confirm-password",type:"password",placeholder:"",value:l.confirmPassword,onChange:h=>c({...l,confirmPassword:h.target.value}),required:!0,"data-testid":"input-register-confirm-password"})]}),f.jsx(Re,{type:"submit",className:"w-full","data-testid":"button-register-submit",children:"Crear Cuenta"})]})})]})})]})})}var Dhe=Array.isArray,Wo=Dhe,$he=typeof qv=="object"&&qv&&qv.Object===Object&&qv,NV=$he,Fhe=NV,Bhe=typeof self=="object"&&self&&self.Object===Object&&self,zhe=Fhe||Bhe||Function("return this")(),Rl=zhe,Uhe=Rl,Hhe=Uhe.Symbol,Ab=Hhe,$L=Ab,AV=Object.prototype,qhe=AV.hasOwnProperty,Whe=AV.toString,Cv=$L?$L.toStringTag:void 0;function Vhe(e){var t=qhe.call(e,Cv),n=e[Cv];try{e[Cv]=void 0;var r=!0}catch{}var i=Whe.call(e);return r&&(t?e[Cv]=n:delete e[Cv]),i}var Khe=Vhe,Ghe=Object.prototype,Yhe=Ghe.toString;function Xhe(e){return Yhe.call(e)}var Qhe=Xhe,FL=Ab,Zhe=Khe,Jhe=Qhe,epe="[object Null]",tpe="[object Undefined]",BL=FL?FL.toStringTag:void 0;function npe(e){return e==null?e===void 0?tpe:epe:BL&&BL in Object(e)?Zhe(e):Jhe(e)}var Lc=npe;function rpe(e){return e!=null&&typeof e=="object"}var Dc=rpe,ipe=Lc,ope=Dc,ape="[object Symbol]";function spe(e){return typeof e=="symbol"||ope(e)&&ipe(e)==ape}var Eg=spe,lpe=Wo,cpe=Eg,upe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dpe=/^\w*$/;function fpe(e,t){if(lpe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||cpe(e)?!0:dpe.test(e)||!upe.test(e)||t!=null&&e in Object(t)}var yj=fpe;function hpe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var kd=hpe;const Ng=wn(kd);var ppe=Lc,mpe=kd,gpe="[object AsyncFunction]",vpe="[object Function]",ype="[object GeneratorFunction]",bpe="[object Proxy]";function xpe(e){if(!mpe(e))return!1;var t=ppe(e);return t==vpe||t==ype||t==gpe||t==bpe}var bj=xpe;const nn=wn(bj);var wpe=Rl,Spe=wpe["__core-js_shared__"],_pe=Spe,BA=_pe,zL=function(){var e=/[^.]+$/.exec(BA&&BA.keys&&BA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Epe(e){return!!zL&&zL in e}var Npe=Epe,Ape=Function.prototype,kpe=Ape.toString;function Cpe(e){if(e!=null){try{return kpe.call(e)}catch{}try{return e+""}catch{}}return""}var kV=Cpe,Tpe=bj,Ope=Npe,Mpe=kd,Ppe=kV,jpe=/[\\^$.*+?()[\]{}|]/g,Rpe=/^\[object .+?Constructor\]$/,Ipe=Function.prototype,Lpe=Object.prototype,Dpe=Ipe.toString,$pe=Lpe.hasOwnProperty,Fpe=RegExp("^"+Dpe.call($pe).replace(jpe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bpe(e){if(!Mpe(e)||Ope(e))return!1;var t=Tpe(e)?Fpe:Rpe;return t.test(Ppe(e))}var zpe=Bpe;function Upe(e,t){return e==null?void 0:e[t]}var Hpe=Upe,qpe=zpe,Wpe=Hpe;function Vpe(e,t){var n=Wpe(e,t);return qpe(n)?n:void 0}var Ch=Vpe,Kpe=Ch,Gpe=Kpe(Object,"create"),H_=Gpe,UL=H_;function Ype(){this.__data__=UL?UL(null):{},this.size=0}var Xpe=Ype;function Qpe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Zpe=Qpe,Jpe=H_,eme="__lodash_hash_undefined__",tme=Object.prototype,nme=tme.hasOwnProperty;function rme(e){var t=this.__data__;if(Jpe){var n=t[e];return n===eme?void 0:n}return nme.call(t,e)?t[e]:void 0}var ime=rme,ome=H_,ame=Object.prototype,sme=ame.hasOwnProperty;function lme(e){var t=this.__data__;return ome?t[e]!==void 0:sme.call(t,e)}var cme=lme,ume=H_,dme="__lodash_hash_undefined__";function fme(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ume&&t===void 0?dme:t,this}var hme=fme,pme=Xpe,mme=Zpe,gme=ime,vme=cme,yme=hme;function Ag(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ag.prototype.clear=pme;Ag.prototype.delete=mme;Ag.prototype.get=gme;Ag.prototype.has=vme;Ag.prototype.set=yme;var bme=Ag;function xme(){this.__data__=[],this.size=0}var wme=xme;function Sme(e,t){return e===t||e!==e&&t!==t}var xj=Sme,_me=xj;function Eme(e,t){for(var n=e.length;n--;)if(_me(e[n][0],t))return n;return-1}var q_=Eme,Nme=q_,Ame=Array.prototype,kme=Ame.splice;function Cme(e){var t=this.__data__,n=Nme(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kme.call(t,n,1),--this.size,!0}var Tme=Cme,Ome=q_;function Mme(e){var t=this.__data__,n=Ome(t,e);return n<0?void 0:t[n][1]}var Pme=Mme,jme=q_;function Rme(e){return jme(this.__data__,e)>-1}var Ime=Rme,Lme=q_;function Dme(e,t){var n=this.__data__,r=Lme(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var $me=Dme,Fme=wme,Bme=Tme,zme=Pme,Ume=Ime,Hme=$me;function kg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kg.prototype.clear=Fme;kg.prototype.delete=Bme;kg.prototype.get=zme;kg.prototype.has=Ume;kg.prototype.set=Hme;var W_=kg,qme=Ch,Wme=Rl,Vme=qme(Wme,"Map"),wj=Vme,HL=bme,Kme=W_,Gme=wj;function Yme(){this.size=0,this.__data__={hash:new HL,map:new(Gme||Kme),string:new HL}}var Xme=Yme;function Qme(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Zme=Qme,Jme=Zme;function ege(e,t){var n=e.__data__;return Jme(t)?n[typeof t=="string"?"string":"hash"]:n.map}var V_=ege,tge=V_;function nge(e){var t=tge(this,e).delete(e);return this.size-=t?1:0,t}var rge=nge,ige=V_;function oge(e){return ige(this,e).get(e)}var age=oge,sge=V_;function lge(e){return sge(this,e).has(e)}var cge=lge,uge=V_;function dge(e,t){var n=uge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var fge=dge,hge=Xme,pge=rge,mge=age,gge=cge,vge=fge;function Cg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cg.prototype.clear=hge;Cg.prototype.delete=pge;Cg.prototype.get=mge;Cg.prototype.has=gge;Cg.prototype.set=vge;var Sj=Cg,CV=Sj,yge="Expected a function";function _j(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(yge);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(_j.Cache||CV),n}_j.Cache=CV;var TV=_j;const bge=wn(TV);var xge=TV,wge=500;function Sge(e){var t=xge(e,function(r){return n.size===wge&&n.clear(),r}),n=t.cache;return t}var _ge=Sge,Ege=_ge,Nge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Age=/\\(\\)?/g,kge=Ege(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nge,function(n,r,i,o){t.push(i?o.replace(Age,"$1"):r||n)}),t}),Cge=kge;function Tge(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ej=Tge,qL=Ab,Oge=Ej,Mge=Wo,Pge=Eg,jge=1/0,WL=qL?qL.prototype:void 0,VL=WL?WL.toString:void 0;function OV(e){if(typeof e=="string")return e;if(Mge(e))return Oge(e,OV)+"";if(Pge(e))return VL?VL.call(e):"";var t=e+"";return t=="0"&&1/e==-jge?"-0":t}var Rge=OV,Ige=Rge;function Lge(e){return e==null?"":Ige(e)}var MV=Lge,Dge=Wo,$ge=yj,Fge=Cge,Bge=MV;function zge(e,t){return Dge(e)?e:$ge(e,t)?[e]:Fge(Bge(e))}var PV=zge,Uge=Eg,Hge=1/0;function qge(e){if(typeof e=="string"||Uge(e))return e;var t=e+"";return t=="0"&&1/e==-Hge?"-0":t}var K_=qge,Wge=PV,Vge=K_;function Kge(e,t){t=Wge(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Vge(t[n++])];return n&&n==r?e:void 0}var Nj=Kge,Gge=Nj;function Yge(e,t,n){var r=e==null?void 0:Gge(e,t);return r===void 0?n:r}var jV=Yge;const Ka=wn(jV);function Xge(e){return e==null}var Qge=Xge;const Nn=wn(Qge);var Zge=Lc,Jge=Wo,eve=Dc,tve="[object String]";function nve(e){return typeof e=="string"||!Jge(e)&&eve(e)&&Zge(e)==tve}var rve=nve;const kb=wn(rve);var RV={exports:{}},In={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj=Symbol.for("react.element"),kj=Symbol.for("react.portal"),G_=Symbol.for("react.fragment"),Y_=Symbol.for("react.strict_mode"),X_=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),ive=Symbol.for("react.server_context"),J_=Symbol.for("react.forward_ref"),eE=Symbol.for("react.suspense"),tE=Symbol.for("react.suspense_list"),nE=Symbol.for("react.memo"),rE=Symbol.for("react.lazy"),ove=Symbol.for("react.offscreen"),IV;IV=Symbol.for("react.module.reference");function ns(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Aj:switch(e=e.type,e){case G_:case X_:case Y_:case eE:case tE:return e;default:switch(e=e&&e.$$typeof,e){case ive:case Z_:case J_:case rE:case nE:case Q_:return e;default:return t}}case kj:return t}}}In.ContextConsumer=Z_;In.ContextProvider=Q_;In.Element=Aj;In.ForwardRef=J_;In.Fragment=G_;In.Lazy=rE;In.Memo=nE;In.Portal=kj;In.Profiler=X_;In.StrictMode=Y_;In.Suspense=eE;In.SuspenseList=tE;In.isAsyncMode=function(){return!1};In.isConcurrentMode=function(){return!1};In.isContextConsumer=function(e){return ns(e)===Z_};In.isContextProvider=function(e){return ns(e)===Q_};In.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Aj};In.isForwardRef=function(e){return ns(e)===J_};In.isFragment=function(e){return ns(e)===G_};In.isLazy=function(e){return ns(e)===rE};In.isMemo=function(e){return ns(e)===nE};In.isPortal=function(e){return ns(e)===kj};In.isProfiler=function(e){return ns(e)===X_};In.isStrictMode=function(e){return ns(e)===Y_};In.isSuspense=function(e){return ns(e)===eE};In.isSuspenseList=function(e){return ns(e)===tE};In.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===G_||e===X_||e===Y_||e===eE||e===tE||e===ove||typeof e=="object"&&e!==null&&(e.$$typeof===rE||e.$$typeof===nE||e.$$typeof===Q_||e.$$typeof===Z_||e.$$typeof===J_||e.$$typeof===IV||e.getModuleId!==void 0)};In.typeOf=ns;RV.exports=In;var ave=RV.exports,sve=Lc,lve=Dc,cve="[object Number]";function uve(e){return typeof e=="number"||lve(e)&&sve(e)==cve}var LV=uve;const dve=wn(LV);var fve=LV;function hve(e){return fve(e)&&e!=+e}var pve=hve;const Cb=wn(pve);var Cs=function(t){return t===0?0:t>0?1:-1},xf=function(t){return kb(t)&&t.indexOf("%")===t.length-1},Qe=function(t){return dve(t)&&!Cb(t)},si=function(t){return Qe(t)||kb(t)},mve=0,iE=function(t){var n=++mve;return"".concat(t||"").concat(n)},sh=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&!kb(t))return r;var o;if(xf(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return Cb(o)&&(o=r),i&&o>n&&(o=n),o},_u=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},gve=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Jh=function(t,n){return Qe(t)&&Qe(n)?function(r){return t+r*(n-t)}:function(){return n}};function YC(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ka(r,t))===n})}function Gp(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function XC(e){"@babel/helpers - typeof";return XC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XC(e)}var vve=["viewBox","children"],yve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KL=["points","pathLength"],zA={svg:vve,polygon:KL,polyline:KL},Cj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],i2=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),!Ng(r))return null;var i={};return Object.keys(r).forEach(function(o){Cj.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},bve=function(t,n,r){return function(i){return t(n,r,i),null}},o2=function(t,n,r){if(!Ng(t)||XC(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];Cj.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=bve(a,n,r))}),i},xve=["children"],wve=["children"];function GL(e,t){if(e==null)return{};var n=Sve(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Sve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var YL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},XL=null,UA=null,Tj=function e(t){if(t===XL&&Array.isArray(UA))return UA;var n=[];return A.Children.forEach(t,function(r){Nn(r)||(ave.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),UA=n,XL=t,n};function Is(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return xc(i)}):r=[xc(t)],Tj(e).forEach(function(i){var o=Ka(i,"type.displayName")||Ka(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function sa(e,t){var n=Is(e,t);return n&&n[0]}var QL=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Qe(r)||r<=0||!Qe(i)||i<=0)},_ve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Eve=function(t){return t&&t.type&&kb(t.type)&&_ve.indexOf(t.type)>=0},Nve=function(t,n,r,i){var o,a=(o=zA==null?void 0:zA[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!nn(t)&&(i&&a.includes(n)||yve.includes(n))||r&&Cj.includes(n)},xn=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(A.isValidElement(t)&&(i=t.props),!Ng(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Nve((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},QC=function e(t,n){if(t===n)return!0;var r=A.Children.count(t);if(r!==A.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ZL(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!ZL(o,a))return!1}return!0},ZL=function(t,n){if(Nn(t)&&Nn(n))return!0;if(!Nn(t)&&!Nn(n)){var r=t.props||{},i=r.children,o=GL(r,xve),a=n.props||{},s=a.children,l=GL(a,wve);return i&&s?Gp(o,l)&&QC(i,s):!i&&!s?Gp(o,l):!1}return!1},JL=function(t,n){var r=[],i={};return Tj(t).forEach(function(o,a){if(Eve(o))r.push(o);else if(o){var s=xc(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(o,s,a);r.push(d),i[s]=!0}}}),r},Ave=function(t){var n=t&&t.type;return n&&YL[n]?YL[n]:null},kve=function(t,n){return Tj(n).indexOf(t)},Cve=["children","width","height","viewBox","className","style","title","desc"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZC.apply(this,arguments)}function Tve(e,t){if(e==null)return{};var n=Ove(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ove(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function JC(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,c=Tve(e,Cve),u=i||{width:n,height:r,x:0,y:0},d=gn("recharts-surface",o);return ve.createElement("svg",ZC({},xn(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ve.createElement("title",null,s),ve.createElement("desc",null,l),t)}var Mve=["children","className"];function eT(){return eT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eT.apply(this,arguments)}function Pve(e,t){if(e==null)return{};var n=jve(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vi=ve.forwardRef(function(e,t){var n=e.children,r=e.className,i=Pve(e,Mve),o=gn("recharts-layer",r);return ve.createElement("g",eT({className:o},xn(i,!0),{ref:t}),n)}),wc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Rve(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var Ive=Rve,Lve=Ive;function Dve(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Lve(e,t,n)}var $ve=Dve,Fve="\\ud800-\\udfff",Bve="\\u0300-\\u036f",zve="\\ufe20-\\ufe2f",Uve="\\u20d0-\\u20ff",Hve=Bve+zve+Uve,qve="\\ufe0e\\ufe0f",Wve="\\u200d",Vve=RegExp("["+Wve+Fve+Hve+qve+"]");function Kve(e){return Vve.test(e)}var DV=Kve;function Gve(e){return e.split("")}var Yve=Gve,$V="\\ud800-\\udfff",Xve="\\u0300-\\u036f",Qve="\\ufe20-\\ufe2f",Zve="\\u20d0-\\u20ff",Jve=Xve+Qve+Zve,eye="\\ufe0e\\ufe0f",tye="["+$V+"]",tT="["+Jve+"]",nT="\\ud83c[\\udffb-\\udfff]",nye="(?:"+tT+"|"+nT+")",FV="[^"+$V+"]",BV="(?:\\ud83c[\\udde6-\\uddff]){2}",zV="[\\ud800-\\udbff][\\udc00-\\udfff]",rye="\\u200d",UV=nye+"?",HV="["+eye+"]?",iye="(?:"+rye+"(?:"+[FV,BV,zV].join("|")+")"+HV+UV+")*",oye=HV+UV+iye,aye="(?:"+[FV+tT+"?",tT,BV,zV,tye].join("|")+")",sye=RegExp(nT+"(?="+nT+")|"+aye+oye,"g");function lye(e){return e.match(sye)||[]}var cye=lye,uye=Yve,dye=DV,fye=cye;function hye(e){return dye(e)?fye(e):uye(e)}var pye=hye,mye=$ve,gye=DV,vye=pye,yye=MV;function bye(e){return function(t){t=yye(t);var n=gye(t)?vye(t):void 0,r=n?n[0]:t.charAt(0),i=n?mye(n,1).join(""):t.slice(1);return r[e]()+i}}var xye=bye,wye=xye,Sye=wye("toUpperCase"),_ye=Sye;const oE=wn(_ye);function Gn(e){return function(){return e}}const qV=Math.cos,a2=Math.sin,Us=Math.sqrt,s2=Math.PI,aE=2*s2,rT=Math.PI,iT=2*rT,uf=1e-6,Eye=iT-uf;function WV(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Nye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WV;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Aye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WV:Nye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,c=i-n,u=a-t,d=s-n,p=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>uf)if(!(Math.abs(d*l-c*u)>uf)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,m=i-s,g=l*l+c*c,v=h*h+m*m,y=Math.sqrt(g),x=Math.sqrt(p),w=o*Math.tan((rT-Math.acos((g+p-v)/(2*y*x)))/2),_=w/x,N=w/y;Math.abs(_-1)>uf&&this._append`L${t+_*u},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>u*m)},${this._x1=t+N*l},${this._y1=n+N*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,d=1^a,p=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>uf||Math.abs(this._y1-u)>uf)&&this._append`L${c},${u}`,r&&(p<0&&(p=p%iT+iT),p>Eye?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:p>uf&&this._append`A${r},${r},0,${+(p>=rT)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Oj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Aye(t)}function Mj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VV(e){this._context=e}VV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sE(e){return new VV(e)}function KV(e){return e[0]}function GV(e){return e[1]}function YV(e,t){var n=Gn(!0),r=null,i=sE,o=null,a=Oj(s);e=typeof e=="function"?e:e===void 0?KV:Gn(e),t=typeof t=="function"?t:t===void 0?GV:Gn(t);function s(l){var c,u=(l=Mj(l)).length,d,p=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(d,c,l),+t(d,c,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Gn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Gn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Gn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Z1(e,t,n){var r=null,i=Gn(!0),o=null,a=sE,s=null,l=Oj(c);e=typeof e=="function"?e:e===void 0?KV:Gn(+e),t=typeof t=="function"?t:Gn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?GV:Gn(+n);function c(d){var p,h,m,g=(d=Mj(d)).length,v,y=!1,x,w=new Array(g),_=new Array(g);for(o==null&&(s=a(x=l())),p=0;p<=g;++p){if(!(p<g&&i(v=d[p],p,d))===y)if(y=!y)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=p-1;m>=h;--m)s.point(w[m],_[m]);s.lineEnd(),s.areaEnd()}y&&(w[p]=+e(v,p,d),_[p]=+t(v,p,d),s.point(r?+r(v,p,d):w[p],n?+n(v,p,d):_[p]))}if(x)return s=null,x+""||null}function u(){return YV().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Gn(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Gn(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Gn(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Gn(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Gn(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Gn(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Gn(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),c):o},c}class XV{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kye(e){return new XV(e,!0)}function Cye(e){return new XV(e,!1)}const Pj={draw(e,t){const n=Us(t/s2);e.moveTo(n,0),e.arc(0,0,n,0,aE)}},Tye={draw(e,t){const n=Us(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},QV=Us(1/3),Oye=QV*2,Mye={draw(e,t){const n=Us(t/Oye),r=n*QV;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Pye={draw(e,t){const n=Us(t),r=-n/2;e.rect(r,r,n,n)}},jye=.8908130915292852,ZV=a2(s2/10)/a2(7*s2/10),Rye=a2(aE/10)*ZV,Iye=-qV(aE/10)*ZV,Lye={draw(e,t){const n=Us(t*jye),r=Rye*n,i=Iye*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=aE*o/5,s=qV(a),l=a2(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},HA=Us(3),Dye={draw(e,t){const n=-Us(t/(HA*3));e.moveTo(0,n*2),e.lineTo(-HA*n,-n),e.lineTo(HA*n,-n),e.closePath()}},Ta=-.5,Oa=Us(3)/2,oT=1/Us(12),$ye=(oT/2+1)*3,Fye={draw(e,t){const n=Us(t/$ye),r=n/2,i=n*oT,o=r,a=n*oT+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Ta*r-Oa*i,Oa*r+Ta*i),e.lineTo(Ta*o-Oa*a,Oa*o+Ta*a),e.lineTo(Ta*s-Oa*l,Oa*s+Ta*l),e.lineTo(Ta*r+Oa*i,Ta*i-Oa*r),e.lineTo(Ta*o+Oa*a,Ta*a-Oa*o),e.lineTo(Ta*s+Oa*l,Ta*l-Oa*s),e.closePath()}};function Bye(e,t){let n=null,r=Oj(i);e=typeof e=="function"?e:Gn(e||Pj),t=typeof t=="function"?t:Gn(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Gn(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Gn(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function l2(){}function c2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function JV(e){this._context=e}JV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zye(e){return new JV(e)}function eK(e){this._context=e}eK.prototype={areaStart:l2,areaEnd:l2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uye(e){return new eK(e)}function tK(e){this._context=e}tK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hye(e){return new tK(e)}function nK(e){this._context=e}nK.prototype={areaStart:l2,areaEnd:l2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qye(e){return new nK(e)}function eD(e){return e<0?-1:1}function tD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(eD(o)+eD(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function nD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qA(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function u2(e){this._context=e}u2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qA(this,this._t0,nD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qA(this,nD(this,n=tD(this,e,t)),n);break;default:qA(this,this._t0,n=tD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function rK(e){this._context=new iK(e)}(rK.prototype=Object.create(u2.prototype)).point=function(e,t){u2.prototype.point.call(this,t,e)};function iK(e){this._context=e}iK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Wye(e){return new u2(e)}function Vye(e){return new rK(e)}function oK(e){this._context=e}oK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=rD(e),i=rD(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rD(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Kye(e){return new oK(e)}function lE(e,t){this._context=e,this._t=t}lE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Gye(e){return new lE(e,.5)}function Yye(e){return new lE(e,0)}function Xye(e){return new lE(e,1)}function jm(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aT(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Qye(e,t){return e[t]}function Zye(e){const t=[];return t.key=e,t}function Jye(){var e=Gn([]),t=aT,n=jm,r=Qye;function i(o){var a=Array.from(e.apply(this,arguments),Zye),s,l=a.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(d,a[s].key,c,o)]).data=d;for(s=0,u=Mj(t(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Gn(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Gn(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?aT:typeof o=="function"?o:Gn(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??jm,i):n},i}function e0e(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}jm(e,t)}}function t0e(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}jm(e,t)}}function n0e(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[r][1]||0,p=u[r-1][1]||0,h=(d-p)/2,m=0;m<s;++m){var g=e[t[m]],v=g[r][1]||0,y=g[r-1][1]||0;h+=v-y}l+=d,c+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,jm(e,t)}}function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}var r0e=["type","size","sizeType"];function sT(){return sT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sT.apply(this,arguments)}function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(n),!0).forEach(function(r){i0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i0e(e,t,n){return t=o0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o0e(e){var t=a0e(e,"string");return r0(t)=="symbol"?t:t+""}function a0e(e,t){if(r0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(r0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0e(e,t){if(e==null)return{};var n=l0e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var aK={symbolCircle:Pj,symbolCross:Tye,symbolDiamond:Mye,symbolSquare:Pye,symbolStar:Lye,symbolTriangle:Dye,symbolWye:Fye},c0e=Math.PI/180,u0e=function(t){var n="symbol".concat(oE(t));return aK[n]||Pj},d0e=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*c0e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},f0e=function(t,n){aK["symbol".concat(oE(t))]=n},jj=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=s0e(t,r0e),c=oD(oD({},l),{},{type:r,size:o,sizeType:s}),u=function(){var v=u0e(r),y=Bye().type(v).size(d0e(o,s,r));return y()},d=c.className,p=c.cx,h=c.cy,m=xn(c,!0);return p===+p&&h===+h&&o===+o?ve.createElement("path",sT({},m,{className:gn("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};jj.registerSymbol=f0e;function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function lT(){return lT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lT.apply(this,arguments)}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){i0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lK(r.key),r)}}function g0e(e,t,n){return t&&m0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v0e(e,t,n){return t=d2(t),y0e(e,sK()?Reflect.construct(t,n||[],d2(e).constructor):t.apply(e,n))}function y0e(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b0e(e)}function b0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sK=function(){return!!e})()}function d2(e){return d2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d2(e)}function x0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cT(e,t)}function cT(e,t){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cT(e,t)}function i0(e,t,n){return t=lK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=w0e(e,"string");return Rm(t)=="symbol"?t:t+""}function w0e(e,t){if(Rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ma=32,Rj=function(e){function t(){return p0e(this,t),v0e(this,t,arguments)}return x0e(t,e),g0e(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Ma/2,a=Ma/6,s=Ma/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ve.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Ma,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return ve.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Ma,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return ve.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ma/8,"h").concat(Ma,"v").concat(Ma*3/4,"h").concat(-Ma,"z"),className:"recharts-legend-icon"});if(ve.isValidElement(r.legendIcon)){var c=h0e({},r);return delete c.legendIcon,ve.cloneElement(r.legendIcon,c)}return ve.createElement(jj,{fill:l,cx:o,cy:o,size:Ma,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ma,height:Ma},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,m){var g=h.formatter||l,v=gn(i0(i0({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=nn(h.value)?null:h.value;wc(!nn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?c:h.color;return ve.createElement("li",lT({className:v,style:d,key:"legend-item-".concat(m)},o2(r.props,h,m)),ve.createElement(JC,{width:a,height:a,viewBox:u,style:p},r.renderIcon(h)),ve.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,h,m):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return ve.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(A.PureComponent);i0(Rj,"displayName","Legend");i0(Rj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var S0e=W_;function _0e(){this.__data__=new S0e,this.size=0}var E0e=_0e;function N0e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var A0e=N0e;function k0e(e){return this.__data__.get(e)}var C0e=k0e;function T0e(e){return this.__data__.has(e)}var O0e=T0e,M0e=W_,P0e=wj,j0e=Sj,R0e=200;function I0e(e,t){var n=this.__data__;if(n instanceof M0e){var r=n.__data__;if(!P0e||r.length<R0e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new j0e(r)}return n.set(e,t),this.size=n.size,this}var L0e=I0e,D0e=W_,$0e=E0e,F0e=A0e,B0e=C0e,z0e=O0e,U0e=L0e;function Tg(e){var t=this.__data__=new D0e(e);this.size=t.size}Tg.prototype.clear=$0e;Tg.prototype.delete=F0e;Tg.prototype.get=B0e;Tg.prototype.has=z0e;Tg.prototype.set=U0e;var cK=Tg,H0e="__lodash_hash_undefined__";function q0e(e){return this.__data__.set(e,H0e),this}var W0e=q0e;function V0e(e){return this.__data__.has(e)}var K0e=V0e,G0e=Sj,Y0e=W0e,X0e=K0e;function f2(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new G0e;++t<n;)this.add(e[t])}f2.prototype.add=f2.prototype.push=Y0e;f2.prototype.has=X0e;var uK=f2;function Q0e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var dK=Q0e;function Z0e(e,t){return e.has(t)}var fK=Z0e,J0e=uK,ebe=dK,tbe=fK,nbe=1,rbe=2;function ibe(e,t,n,r,i,o){var a=n&nbe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=n&rbe?new J0e:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var m=e[d],g=t[d];if(r)var v=a?r(g,m,d,t,e,o):r(m,g,d,e,t,o);if(v!==void 0){if(v)continue;p=!1;break}if(h){if(!ebe(t,function(y,x){if(!tbe(h,x)&&(m===y||i(m,y,n,r,o)))return h.push(x)})){p=!1;break}}else if(!(m===g||i(m,g,n,r,o))){p=!1;break}}return o.delete(e),o.delete(t),p}var hK=ibe,obe=Rl,abe=obe.Uint8Array,sbe=abe;function lbe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var cbe=lbe;function ube(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Ij=ube,sD=Ab,lD=sbe,dbe=xj,fbe=hK,hbe=cbe,pbe=Ij,mbe=1,gbe=2,vbe="[object Boolean]",ybe="[object Date]",bbe="[object Error]",xbe="[object Map]",wbe="[object Number]",Sbe="[object RegExp]",_be="[object Set]",Ebe="[object String]",Nbe="[object Symbol]",Abe="[object ArrayBuffer]",kbe="[object DataView]",cD=sD?sD.prototype:void 0,WA=cD?cD.valueOf:void 0;function Cbe(e,t,n,r,i,o,a){switch(n){case kbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Abe:return!(e.byteLength!=t.byteLength||!o(new lD(e),new lD(t)));case vbe:case ybe:case wbe:return dbe(+e,+t);case bbe:return e.name==t.name&&e.message==t.message;case Sbe:case Ebe:return e==t+"";case xbe:var s=hbe;case _be:var l=r&mbe;if(s||(s=pbe),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=gbe,a.set(e,t);var u=fbe(s(e),s(t),r,i,o,a);return a.delete(e),u;case Nbe:if(WA)return WA.call(e)==WA.call(t)}return!1}var Tbe=Cbe;function Obe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var pK=Obe,Mbe=pK,Pbe=Wo;function jbe(e,t,n){var r=t(e);return Pbe(e)?r:Mbe(r,n(e))}var Rbe=jbe;function Ibe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var Lbe=Ibe;function Dbe(){return[]}var $be=Dbe,Fbe=Lbe,Bbe=$be,zbe=Object.prototype,Ube=zbe.propertyIsEnumerable,uD=Object.getOwnPropertySymbols,Hbe=uD?function(e){return e==null?[]:(e=Object(e),Fbe(uD(e),function(t){return Ube.call(e,t)}))}:Bbe,qbe=Hbe;function Wbe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Vbe=Wbe,Kbe=Lc,Gbe=Dc,Ybe="[object Arguments]";function Xbe(e){return Gbe(e)&&Kbe(e)==Ybe}var Qbe=Xbe,dD=Qbe,Zbe=Dc,mK=Object.prototype,Jbe=mK.hasOwnProperty,e1e=mK.propertyIsEnumerable,t1e=dD(function(){return arguments}())?dD:function(e){return Zbe(e)&&Jbe.call(e,"callee")&&!e1e.call(e,"callee")},Lj=t1e,h2={exports:{}};function n1e(){return!1}var r1e=n1e;h2.exports;(function(e,t){var n=Rl,r=r1e,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c})(h2,h2.exports);var gK=h2.exports,i1e=9007199254740991,o1e=/^(?:0|[1-9]\d*)$/;function a1e(e,t){var n=typeof e;return t=t??i1e,!!t&&(n=="number"||n!="symbol"&&o1e.test(e))&&e>-1&&e%1==0&&e<t}var Dj=a1e,s1e=9007199254740991;function l1e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=s1e}var $j=l1e,c1e=Lc,u1e=$j,d1e=Dc,f1e="[object Arguments]",h1e="[object Array]",p1e="[object Boolean]",m1e="[object Date]",g1e="[object Error]",v1e="[object Function]",y1e="[object Map]",b1e="[object Number]",x1e="[object Object]",w1e="[object RegExp]",S1e="[object Set]",_1e="[object String]",E1e="[object WeakMap]",N1e="[object ArrayBuffer]",A1e="[object DataView]",k1e="[object Float32Array]",C1e="[object Float64Array]",T1e="[object Int8Array]",O1e="[object Int16Array]",M1e="[object Int32Array]",P1e="[object Uint8Array]",j1e="[object Uint8ClampedArray]",R1e="[object Uint16Array]",I1e="[object Uint32Array]",tr={};tr[k1e]=tr[C1e]=tr[T1e]=tr[O1e]=tr[M1e]=tr[P1e]=tr[j1e]=tr[R1e]=tr[I1e]=!0;tr[f1e]=tr[h1e]=tr[N1e]=tr[p1e]=tr[A1e]=tr[m1e]=tr[g1e]=tr[v1e]=tr[y1e]=tr[b1e]=tr[x1e]=tr[w1e]=tr[S1e]=tr[_1e]=tr[E1e]=!1;function L1e(e){return d1e(e)&&u1e(e.length)&&!!tr[c1e(e)]}var D1e=L1e;function $1e(e){return function(t){return e(t)}}var vK=$1e,p2={exports:{}};p2.exports;(function(e,t){var n=NV,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(p2,p2.exports);var F1e=p2.exports,B1e=D1e,z1e=vK,fD=F1e,hD=fD&&fD.isTypedArray,U1e=hD?z1e(hD):B1e,yK=U1e,H1e=Vbe,q1e=Lj,W1e=Wo,V1e=gK,K1e=Dj,G1e=yK,Y1e=Object.prototype,X1e=Y1e.hasOwnProperty;function Q1e(e,t){var n=W1e(e),r=!n&&q1e(e),i=!n&&!r&&V1e(e),o=!n&&!r&&!i&&G1e(e),a=n||r||i||o,s=a?H1e(e.length,String):[],l=s.length;for(var c in e)(t||X1e.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||K1e(c,l)))&&s.push(c);return s}var Z1e=Q1e,J1e=Object.prototype;function exe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||J1e;return e===n}var txe=exe;function nxe(e,t){return function(n){return e(t(n))}}var bK=nxe,rxe=bK,ixe=rxe(Object.keys,Object),oxe=ixe,axe=txe,sxe=oxe,lxe=Object.prototype,cxe=lxe.hasOwnProperty;function uxe(e){if(!axe(e))return sxe(e);var t=[];for(var n in Object(e))cxe.call(e,n)&&n!="constructor"&&t.push(n);return t}var dxe=uxe,fxe=bj,hxe=$j;function pxe(e){return e!=null&&hxe(e.length)&&!fxe(e)}var Tb=pxe,mxe=Z1e,gxe=dxe,vxe=Tb;function yxe(e){return vxe(e)?mxe(e):gxe(e)}var cE=yxe,bxe=Rbe,xxe=qbe,wxe=cE;function Sxe(e){return bxe(e,wxe,xxe)}var _xe=Sxe,pD=_xe,Exe=1,Nxe=Object.prototype,Axe=Nxe.hasOwnProperty;function kxe(e,t,n,r,i,o){var a=n&Exe,s=pD(e),l=s.length,c=pD(t),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var p=s[d];if(!(a?p in t:Axe.call(t,p)))return!1}var h=o.get(e),m=o.get(t);if(h&&m)return h==t&&m==e;var g=!0;o.set(e,t),o.set(t,e);for(var v=a;++d<l;){p=s[d];var y=e[p],x=t[p];if(r)var w=a?r(x,y,p,t,e,o):r(y,x,p,e,t,o);if(!(w===void 0?y===x||i(y,x,n,r,o):w)){g=!1;break}v||(v=p=="constructor")}if(g&&!v){var _=e.constructor,N=t.constructor;_!=N&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof N=="function"&&N instanceof N)&&(g=!1)}return o.delete(e),o.delete(t),g}var Cxe=kxe,Txe=Ch,Oxe=Rl,Mxe=Txe(Oxe,"DataView"),Pxe=Mxe,jxe=Ch,Rxe=Rl,Ixe=jxe(Rxe,"Promise"),Lxe=Ixe,Dxe=Ch,$xe=Rl,Fxe=Dxe($xe,"Set"),xK=Fxe,Bxe=Ch,zxe=Rl,Uxe=Bxe(zxe,"WeakMap"),Hxe=Uxe,uT=Pxe,dT=wj,fT=Lxe,hT=xK,pT=Hxe,wK=Lc,Og=kV,mD="[object Map]",qxe="[object Object]",gD="[object Promise]",vD="[object Set]",yD="[object WeakMap]",bD="[object DataView]",Wxe=Og(uT),Vxe=Og(dT),Kxe=Og(fT),Gxe=Og(hT),Yxe=Og(pT),df=wK;(uT&&df(new uT(new ArrayBuffer(1)))!=bD||dT&&df(new dT)!=mD||fT&&df(fT.resolve())!=gD||hT&&df(new hT)!=vD||pT&&df(new pT)!=yD)&&(df=function(e){var t=wK(e),n=t==qxe?e.constructor:void 0,r=n?Og(n):"";if(r)switch(r){case Wxe:return bD;case Vxe:return mD;case Kxe:return gD;case Gxe:return vD;case Yxe:return yD}return t});var Xxe=df,VA=cK,Qxe=hK,Zxe=Tbe,Jxe=Cxe,xD=Xxe,wD=Wo,SD=gK,ewe=yK,twe=1,_D="[object Arguments]",ED="[object Array]",J1="[object Object]",nwe=Object.prototype,ND=nwe.hasOwnProperty;function rwe(e,t,n,r,i,o){var a=wD(e),s=wD(t),l=a?ED:xD(e),c=s?ED:xD(t);l=l==_D?J1:l,c=c==_D?J1:c;var u=l==J1,d=c==J1,p=l==c;if(p&&SD(e)){if(!SD(t))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new VA),a||ewe(e)?Qxe(e,t,n,r,i,o):Zxe(e,t,l,n,r,i,o);if(!(n&twe)){var h=u&&ND.call(e,"__wrapped__"),m=d&&ND.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,v=m?t.value():t;return o||(o=new VA),i(g,v,n,r,o)}}return p?(o||(o=new VA),Jxe(e,t,n,r,i,o)):!1}var iwe=rwe,owe=iwe,AD=Dc;function SK(e,t,n,r,i){return e===t?!0:e==null||t==null||!AD(e)&&!AD(t)?e!==e&&t!==t:owe(e,t,n,r,SK,i)}var Fj=SK,awe=cK,swe=Fj,lwe=1,cwe=2;function uwe(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in e))return!1}else{var d=new awe;if(r)var p=r(c,u,l,e,t,d);if(!(p===void 0?swe(u,c,lwe|cwe,r,d):p))return!1}}return!0}var dwe=uwe,fwe=kd;function hwe(e){return e===e&&!fwe(e)}var _K=hwe,pwe=_K,mwe=cE;function gwe(e){for(var t=mwe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,pwe(i)]}return t}var vwe=gwe;function ywe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var EK=ywe,bwe=dwe,xwe=vwe,wwe=EK;function Swe(e){var t=xwe(e);return t.length==1&&t[0][2]?wwe(t[0][0],t[0][1]):function(n){return n===e||bwe(n,e,t)}}var _we=Swe;function Ewe(e,t){return e!=null&&t in Object(e)}var Nwe=Ewe,Awe=PV,kwe=Lj,Cwe=Wo,Twe=Dj,Owe=$j,Mwe=K_;function Pwe(e,t,n){t=Awe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Mwe(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Owe(i)&&Twe(a,i)&&(Cwe(e)||kwe(e)))}var jwe=Pwe,Rwe=Nwe,Iwe=jwe;function Lwe(e,t){return e!=null&&Iwe(e,t,Rwe)}var Dwe=Lwe,$we=Fj,Fwe=jV,Bwe=Dwe,zwe=yj,Uwe=_K,Hwe=EK,qwe=K_,Wwe=1,Vwe=2;function Kwe(e,t){return zwe(e)&&Uwe(t)?Hwe(qwe(e),t):function(n){var r=Fwe(n,e);return r===void 0&&r===t?Bwe(n,e):$we(t,r,Wwe|Vwe)}}var Gwe=Kwe;function Ywe(e){return e}var Mg=Ywe;function Xwe(e){return function(t){return t==null?void 0:t[e]}}var Qwe=Xwe,Zwe=Nj;function Jwe(e){return function(t){return Zwe(t,e)}}var e2e=Jwe,t2e=Qwe,n2e=e2e,r2e=yj,i2e=K_;function o2e(e){return r2e(e)?t2e(i2e(e)):n2e(e)}var a2e=o2e,s2e=_we,l2e=Gwe,c2e=Mg,u2e=Wo,d2e=a2e;function f2e(e){return typeof e=="function"?e:e==null?c2e:typeof e=="object"?u2e(e)?l2e(e[0],e[1]):s2e(e):d2e(e)}var Cd=f2e;function h2e(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var NK=h2e;function p2e(e){return e!==e}var m2e=p2e;function g2e(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var v2e=g2e,y2e=NK,b2e=m2e,x2e=v2e;function w2e(e,t,n){return t===t?x2e(e,t,n):y2e(e,b2e,n)}var S2e=w2e,_2e=S2e;function E2e(e,t){var n=e==null?0:e.length;return!!n&&_2e(e,t,0)>-1}var N2e=E2e;function A2e(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var k2e=A2e;function C2e(){}var T2e=C2e,KA=xK,O2e=T2e,M2e=Ij,P2e=1/0,j2e=KA&&1/M2e(new KA([,-0]))[1]==P2e?function(e){return new KA(e)}:O2e,R2e=j2e,I2e=uK,L2e=N2e,D2e=k2e,$2e=fK,F2e=R2e,B2e=Ij,z2e=200;function U2e(e,t,n){var r=-1,i=L2e,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=D2e;else if(o>=z2e){var c=t?null:F2e(e);if(c)return B2e(c);a=!1,i=$2e,l=new I2e}else l=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,a&&d===d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}var H2e=U2e,q2e=Cd,W2e=H2e;function V2e(e,t){return e&&e.length?W2e(e,q2e(t)):[]}var K2e=V2e;const kD=wn(K2e);function AK(e,t,n){return t===!0?kD(e,n):nn(t)?kD(e,t):e}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var G2e=["ref"];function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){uE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CK(r.key),r)}}function X2e(e,t,n){return t&&TD(e.prototype,t),n&&TD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q2e(e,t,n){return t=m2(t),Z2e(e,kK()?Reflect.construct(t,n||[],m2(e).constructor):t.apply(e,n))}function Z2e(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J2e(e)}function J2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!e})()}function m2(e){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m2(e)}function eSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mT(e,t)}function mT(e,t){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mT(e,t)}function uE(e,t,n){return t=CK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CK(e){var t=tSe(e,"string");return Im(t)=="symbol"?t:t+""}function tSe(e,t){if(Im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nSe(e,t){if(e==null)return{};var n=rSe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iSe(e){return e.value}function oSe(e,t){if(ve.isValidElement(e))return ve.cloneElement(e,t);if(typeof e=="function")return ve.createElement(e,t);t.ref;var n=nSe(t,G2e);return ve.createElement(Rj,n)}var OD=1,Yp=function(e){function t(){var n;Y2e(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Q2e(this,t,[].concat(i)),uE(n,"lastBoundingBox",{width:-1,height:-1}),n}return eSe(t,e),X2e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>OD||Math.abs(i.height-this.lastBoundingBox.height)>OD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ql({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();p={top:((u||0)-m.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ql(Ql({},d),p)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Ql(Ql({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ve.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},oSe(o,Ql(Ql({},this.props),{},{payload:AK(u,c,iSe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ql(Ql({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Qe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(A.PureComponent);uE(Yp,"displayName","Legend");uE(Yp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MD=Ab,aSe=Lj,sSe=Wo,PD=MD?MD.isConcatSpreadable:void 0;function lSe(e){return sSe(e)||aSe(e)||!!(PD&&e&&e[PD])}var cSe=lSe,uSe=pK,dSe=cSe;function TK(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=dSe),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?TK(s,t-1,n,r,i):uSe(i,s):r||(i[i.length]=s)}return i}var OK=TK;function fSe(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}var hSe=fSe,pSe=hSe,mSe=pSe(),gSe=mSe,vSe=gSe,ySe=cE;function bSe(e,t){return e&&vSe(e,t,ySe)}var MK=bSe,xSe=Tb;function wSe(e,t){return function(n,r){if(n==null)return n;if(!xSe(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var SSe=wSe,_Se=MK,ESe=SSe,NSe=ESe(_Se),Bj=NSe,ASe=Bj,kSe=Tb;function CSe(e,t){var n=-1,r=kSe(e)?Array(e.length):[];return ASe(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var PK=CSe;function TSe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var OSe=TSe,jD=Eg;function MSe(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=jD(e),a=t!==void 0,s=t===null,l=t===t,c=jD(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var PSe=MSe,jSe=PSe;function RSe(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=jSe(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}var ISe=RSe,GA=Ej,LSe=Nj,DSe=Cd,$Se=PK,FSe=OSe,BSe=vK,zSe=ISe,USe=Mg,HSe=Wo;function qSe(e,t,n){t.length?t=GA(t,function(o){return HSe(o)?function(a){return LSe(a,o.length===1?o[0]:o)}:o}):t=[USe];var r=-1;t=GA(t,BSe(DSe));var i=$Se(e,function(o,a,s){var l=GA(t,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return FSe(i,function(o,a){return zSe(o,a,n)})}var WSe=qSe;function VSe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var KSe=VSe,GSe=KSe,RD=Math.max;function YSe(e,t,n){return t=RD(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=RD(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),GSe(e,this,s)}}var XSe=YSe;function QSe(e){return function(){return e}}var ZSe=QSe,JSe=Ch,e_e=function(){try{var e=JSe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jK=e_e,t_e=ZSe,ID=jK,n_e=Mg,r_e=ID?function(e,t){return ID(e,"toString",{configurable:!0,enumerable:!1,value:t_e(t),writable:!0})}:n_e,i_e=r_e,o_e=800,a_e=16,s_e=Date.now;function l_e(e){var t=0,n=0;return function(){var r=s_e(),i=a_e-(r-n);if(n=r,i>0){if(++t>=o_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var c_e=l_e,u_e=i_e,d_e=c_e,f_e=d_e(u_e),h_e=f_e,p_e=Mg,m_e=XSe,g_e=h_e;function v_e(e,t){return g_e(m_e(e,t,p_e),e+"")}var y_e=v_e,b_e=xj,x_e=Tb,w_e=Dj,S_e=kd;function __e(e,t,n){if(!S_e(n))return!1;var r=typeof t;return(r=="number"?x_e(n)&&w_e(t,n.length):r=="string"&&t in n)?b_e(n[t],e):!1}var dE=__e,E_e=OK,N_e=WSe,A_e=y_e,LD=dE,k_e=A_e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&LD(e,t[0],t[1])?t=[]:n>2&&LD(t[0],t[1],t[2])&&(t=[t[0]]),N_e(e,E_e(t,1),[])}),C_e=k_e;const zj=wn(C_e);function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function gT(){return gT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gT.apply(this,arguments)}function T_e(e,t){return j_e(e)||P_e(e,t)||M_e(e,t)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M_e(e,t){if(e){if(typeof e=="string")return DD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DD(e,t)}}function DD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function j_e(e){if(Array.isArray(e))return e}function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(r){R_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R_e(e,t,n){return t=I_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_e(e){var t=L_e(e,"string");return o0(t)=="symbol"?t:t+""}function L_e(e,t){if(o0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(o0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_e(e){return Array.isArray(e)&&si(e[0])&&si(e[1])?e.join(" ~ "):e}var $_e=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,p=t.itemSorter,h=t.wrapperClassName,m=t.labelClassName,g=t.label,v=t.labelFormatter,y=t.accessibilityLayer,x=y===void 0?!1:y,w=function(){if(u&&u.length){var I={padding:0,margin:0},j=(p?zj(u,p):u).map(function(D,q){if(D.type==="none")return null;var z=YA({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},s),W=D.formatter||d||D_e,F=D.value,B=D.name,te=F,K=B;if(W&&te!=null&&K!=null){var R=W(F,B,D,q,u);if(Array.isArray(R)){var U=T_e(R,2);te=U[0],K=U[1]}else te=R}return ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:z},si(K)?ve.createElement("span",{className:"recharts-tooltip-item-name"},K):null,si(K)?ve.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ve.createElement("span",{className:"recharts-tooltip-item-value"},te),ve.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return ve.createElement("ul",{className:"recharts-tooltip-item-list",style:I},j)}return null},_=YA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=YA({margin:0},c),k=!Nn(g),O=k?g:"",E=gn("recharts-default-tooltip",h),C=gn("recharts-tooltip-label",m);k&&v&&u!==void 0&&u!==null&&(O=v(g,u));var L=x?{role:"status","aria-live":"assertive"}:{};return ve.createElement("div",gT({className:E,style:_},L),ve.createElement("p",{className:C,style:N},ve.isValidElement(O)?O:"".concat(O)),w())};function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function ex(e,t,n){return t=F_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F_e(e){var t=B_e(e,"string");return a0(t)=="symbol"?t:t+""}function B_e(e,t){if(a0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(a0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tv="recharts-tooltip-wrapper",z_e={visibility:"hidden"};function U_e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return gn(Tv,ex(ex(ex(ex({},"".concat(Tv,"-right"),Qe(n)&&t&&Qe(t.x)&&n>=t.x),"".concat(Tv,"-left"),Qe(n)&&t&&Qe(t.x)&&n<t.x),"".concat(Tv,"-bottom"),Qe(r)&&t&&Qe(t.y)&&r>=t.y),"".concat(Tv,"-top"),Qe(r)&&t&&Qe(t.y)&&r<t.y))}function FD(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&Qe(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;if(t[r])return a[r]?u:d;if(a[r]){var p=u,h=l[r];return p<h?Math.max(d,l[r]):Math.max(u,l[r])}var m=d+s,g=l[r]+c;return m>g?Math.max(u,l[r]):Math.max(d,l[r])}function H_e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function q_e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,c,u,d;return a.height>0&&a.width>0&&n?(u=FD({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=FD({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=H_e({translateX:u,translateY:d,useTranslate3d:s})):c=z_e,{cssProperties:c,cssClasses:U_e({translateX:u,translateY:d,coordinate:n})}}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(r){yT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IK(r.key),r)}}function K_e(e,t,n){return t&&V_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G_e(e,t,n){return t=g2(t),Y_e(e,RK()?Reflect.construct(t,n||[],g2(e).constructor):t.apply(e,n))}function Y_e(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(e)}function X_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RK=function(){return!!e})()}function g2(e){return g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g2(e)}function Q_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vT(e,t)}function vT(e,t){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vT(e,t)}function yT(e,t,n){return t=IK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IK(e){var t=Z_e(e,"string");return Lm(t)=="symbol"?t:t+""}function Z_e(e,t){if(Lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UD=1,J_e=function(e){function t(){var n;W_e(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=G_e(this,t,[].concat(i)),yT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yT(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return Q_e(t,e),K_e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>UD||Math.abs(r.height-this.state.lastBoundingBox.height)>UD)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,h=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,w=q_e({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=w.cssClasses,N=w.cssProperties,k=zD(zD({transition:p&&o?"transform ".concat(s,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return ve.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(E){r.wrapperNode=E}},c)}}])}(A.PureComponent),eEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nd={isSsr:eEe(),get:function(t){return nd[t]},set:function(t,n){if(typeof t=="string")nd[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){nd[i]=t[i]})}}};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function HD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(n),!0).forEach(function(r){Uj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DK(r.key),r)}}function rEe(e,t,n){return t&&nEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iEe(e,t,n){return t=v2(t),oEe(e,LK()?Reflect.construct(t,n||[],v2(e).constructor):t.apply(e,n))}function oEe(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(e)}function aEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LK=function(){return!!e})()}function v2(e){return v2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v2(e)}function sEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bT(e,t)}function bT(e,t){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bT(e,t)}function Uj(e,t,n){return t=DK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DK(e){var t=lEe(e,"string");return Dm(t)=="symbol"?t:t+""}function lEe(e,t){if(Dm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cEe(e){return e.dataKey}function uEe(e,t){return ve.isValidElement(e)?ve.cloneElement(e,t):typeof e=="function"?ve.createElement(e,t):ve.createElement($_e,t)}var Ss=function(e){function t(){return tEe(this,t),iEe(this,t,arguments)}return sEe(t,e),rEe(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,p=i.isAnimationActive,h=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,N=m??[];d&&N.length&&(N=AK(m.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),g,cEe));var k=N.length>0;return ve.createElement(J_e,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:p,active:o,coordinate:u,hasPayload:k,offset:h,position:v,reverseDirection:y,useTranslate3d:x,viewBox:w,wrapperStyle:_},uEe(c,qD(qD({},this.props),{},{payload:N})))}}])}(A.PureComponent);Uj(Ss,"displayName","Tooltip");Uj(Ss,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dEe=Rl,fEe=function(){return dEe.Date.now()},hEe=fEe,pEe=/\s/;function mEe(e){for(var t=e.length;t--&&pEe.test(e.charAt(t)););return t}var gEe=mEe,vEe=gEe,yEe=/^\s+/;function bEe(e){return e&&e.slice(0,vEe(e)+1).replace(yEe,"")}var xEe=bEe,wEe=xEe,WD=kd,SEe=Eg,VD=NaN,_Ee=/^[-+]0x[0-9a-f]+$/i,EEe=/^0b[01]+$/i,NEe=/^0o[0-7]+$/i,AEe=parseInt;function kEe(e){if(typeof e=="number")return e;if(SEe(e))return VD;if(WD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=WD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wEe(e);var n=EEe.test(e);return n||NEe.test(e)?AEe(e.slice(2),n?2:8):_Ee.test(e)?VD:+e}var $K=kEe,CEe=kd,XA=hEe,KD=$K,TEe="Expected a function",OEe=Math.max,MEe=Math.min;function PEe(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(TEe);t=KD(t)||0,CEe(n)&&(u=!!n.leading,d="maxWait"in n,o=d?OEe(KD(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function h(k){var O=r,E=i;return r=i=void 0,c=k,a=e.apply(E,O),a}function m(k){return c=k,s=setTimeout(y,t),u?h(k):a}function g(k){var O=k-l,E=k-c,C=t-O;return d?MEe(C,o-E):C}function v(k){var O=k-l,E=k-c;return l===void 0||O>=t||O<0||d&&E>=o}function y(){var k=XA();if(v(k))return x(k);s=setTimeout(y,g(k))}function x(k){return s=void 0,p&&r?h(k):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function _(){return s===void 0?a:x(XA())}function N(){var k=XA(),O=v(k);if(r=arguments,i=this,l=k,O){if(s===void 0)return m(l);if(d)return clearTimeout(s),s=setTimeout(y,t),h(l)}return s===void 0&&(s=setTimeout(y,t)),a}return N.cancel=w,N.flush=_,N}var jEe=PEe,REe=jEe,IEe=kd,LEe="Expected a function";function DEe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(LEe);return IEe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),REe(e,t,{leading:r,maxWait:t,trailing:i})}var $Ee=DEe;const FK=wn($Ee);function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){FEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FEe(e,t,n){return t=BEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BEe(e){var t=zEe(e,"string");return s0(t)=="symbol"?t:t+""}function zEe(e,t){if(s0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UEe(e,t){return VEe(e)||WEe(e,t)||qEe(e,t)||HEe()}function HEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(e,t){if(e){if(typeof e=="string")return YD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YD(e,t)}}function YD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function VEe(e){if(Array.isArray(e))return e}var XD=A.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,p=e.maxHeight,h=e.children,m=e.debounce,g=m===void 0?0:m,v=e.id,y=e.className,x=e.onResize,w=e.style,_=w===void 0?{}:w,N=A.useRef(null),k=A.useRef();k.current=x,A.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var O=A.useState({containerWidth:i.width,containerHeight:i.height}),E=UEe(O,2),C=E[0],L=E[1],M=A.useCallback(function(j,D){L(function(q){var z=Math.round(j),W=Math.round(D);return q.containerWidth===z&&q.containerHeight===W?q:{containerWidth:z,containerHeight:W}})},[]);A.useEffect(function(){var j=function(B){var te,K=B[0].contentRect,R=K.width,U=K.height;M(R,U),(te=k.current)===null||te===void 0||te.call(k,R,U)};g>0&&(j=FK(j,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(j),q=N.current.getBoundingClientRect(),z=q.width,W=q.height;return M(z,W),D.observe(N.current),function(){D.disconnect()}},[M,g]);var I=A.useMemo(function(){var j=C.containerWidth,D=C.containerHeight;if(j<0||D<0)return null;wc(xf(a)||xf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),wc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=xf(a)?j:a,z=xf(l)?D:l;n&&n>0&&(q?z=q/n:z&&(q=z*n),p&&z>p&&(z=p)),wc(q>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,z,a,l,u,d,n);var W=!Array.isArray(h)&&xc(h.type).endsWith("Chart");return ve.Children.map(h,function(F){return ve.isValidElement(F)?A.cloneElement(F,tx({width:q,height:z},W?{style:tx({height:"100%",width:"100%",maxHeight:z,maxWidth:q},F.props.style)}:{})):F})},[n,h,l,p,d,u,C,a]);return ve.createElement("div",{id:v?"".concat(v):void 0,className:gn("recharts-responsive-container",y),style:tx(tx({},_),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:p}),ref:N},I)}),y2=function(t){return null};y2.displayName="Cell";function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(n),!0).forEach(function(r){KEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KEe(e,t,n){return t=GEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GEe(e){var t=YEe(e,"string");return l0(t)=="symbol"?t:t+""}function YEe(e,t){if(l0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ep={widthCache:{},cacheCount:0},XEe=2e3,QEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZD="recharts_measurement_span";function ZEe(e){var t=xT({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var vy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nd.isSsr)return{width:0,height:0};var r=ZEe(n),i=JSON.stringify({text:t,copyStyle:r});if(ep.widthCache[i])return ep.widthCache[i];try{var o=document.getElementById(ZD);o||(o=document.createElement("span"),o.setAttribute("id",ZD),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=xT(xT({},QEe),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ep.widthCache[i]=l,++ep.cacheCount>XEe&&(ep.cacheCount=0,ep.widthCache={}),l}catch{return{width:0,height:0}}},JEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function b2(e,t){return rNe(e)||nNe(e,t)||tNe(e,t)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tNe(e,t){if(e){if(typeof e=="string")return JD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JD(e,t)}}function JD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function rNe(e){if(Array.isArray(e))return e}function iNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aNe(r.key),r)}}function oNe(e,t,n){return t&&e6(e.prototype,t),n&&e6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aNe(e){var t=sNe(e,"string");return c0(t)=="symbol"?t:t+""}function sNe(e,t){if(c0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(c0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uNe=Object.keys(BK),jp="NaN";function dNe(e,t){return e*BK[t]}var nx=function(){function e(t,n){iNe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!lNe.test(n)&&(this.num=NaN,this.unit=""),uNe.includes(n)&&(this.num=dNe(t,n),this.unit="px")}return oNe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=cNe.exec(n))!==null&&r!==void 0?r:[],o=b2(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])}();function zK(e){if(e.includes(jp))return jp;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=t6.exec(t))!==null&&n!==void 0?n:[],i=b2(r,4),o=i[1],a=i[2],s=i[3],l=nx.parse(o??""),c=nx.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return jp;t=t.replace(t6,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=n6.exec(t))!==null&&d!==void 0?d:[],h=b2(p,4),m=h[1],g=h[2],v=h[3],y=nx.parse(m??""),x=nx.parse(v??""),w=g==="+"?y.add(x):y.subtract(x);if(w.isNaN())return jp;t=t.replace(n6,w.toString())}return t}var r6=/\(([^()]*)\)/;function fNe(e){for(var t=e;t.includes("(");){var n=r6.exec(t),r=b2(n,2),i=r[1];t=t.replace(r6,zK(i))}return t}function hNe(e){var t=e.replace(/\s+/g,"");return t=fNe(t),t=zK(t),t}function pNe(e){try{return hNe(e)}catch{return jp}}function QA(e){var t=pNe(e.slice(5,-1));return t===jp?"":t}var mNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gNe=["dx","dy","angle","className","breakAll"];function wT(){return wT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wT.apply(this,arguments)}function i6(e,t){if(e==null)return{};var n=vNe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function o6(e,t){return wNe(e)||xNe(e,t)||bNe(e,t)||yNe()}function yNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bNe(e,t){if(e){if(typeof e=="string")return a6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a6(e,t)}}function a6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function wNe(e){if(Array.isArray(e))return e}var UK=/[ \f\n\r\t\v\u2028\u2029]+/,HK=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];Nn(n)||(r?o=n.toString().split(""):o=n.toString().split(UK));var a=o.map(function(l){return{word:l,width:vy(l,i).width}}),s=r?0:vy("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},SNe=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,c=t.breakAll,u=Qe(a),d=s,p=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(z,W){var F=W.word,B=W.width,te=z[z.length-1];if(te&&(i==null||o||te.width+B+r<Number(i)))te.words.push(F),te.width+=B+r;else{var K={words:[F],width:B};z.push(K)}return z},[])},h=p(n),m=function(q){return q.reduce(function(z,W){return z.width>W.width?z:W})};if(!u)return h;for(var g="",v=function(q){var z=d.slice(0,q),W=HK({breakAll:c,style:l,children:z+g}).wordsWithComputedWidth,F=p(W),B=F.length>a||m(F).width>Number(i);return[B,F]},y=0,x=d.length-1,w=0,_;y<=x&&w<=d.length-1;){var N=Math.floor((y+x)/2),k=N-1,O=v(k),E=o6(O,2),C=E[0],L=E[1],M=v(N),I=o6(M,1),j=I[0];if(!C&&!j&&(y=N+1),C&&j&&(x=N-1),!C&&j){_=L;break}w++}return _||h},s6=function(t){var n=Nn(t)?[]:t.toString().split(UK);return[{words:n}]},_Ne=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!nd.isSsr){var l,c,u=HK({breakAll:a,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,p=u.spaceWidth;l=d,c=p}else return s6(i);return SNe({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return s6(i)},l6="#808080",x2=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,p=t.textAnchor,h=p===void 0?"start":p,m=t.verticalAnchor,g=m===void 0?"end":m,v=t.fill,y=v===void 0?l6:v,x=i6(t,mNe),w=A.useMemo(function(){return _Ne({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),_=x.dx,N=x.dy,k=x.angle,O=x.className,E=x.breakAll,C=i6(x,gNe);if(!si(r)||!si(o))return null;var L=r+(Qe(_)?_:0),M=o+(Qe(N)?N:0),I;switch(g){case"start":I=QA("calc(".concat(c,")"));break;case"middle":I=QA("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:I=QA("calc(".concat(w.length-1," * -").concat(s,")"));break}var j=[];if(d){var D=w[0].width,q=x.width;j.push("scale(".concat((Qe(q)?q/D:1)/D,")"))}return k&&j.push("rotate(".concat(k,", ").concat(L,", ").concat(M,")")),j.length&&(C.transform=j.join(" ")),ve.createElement("text",wT({},xn(C,!0),{x:L,y:M,className:gn("recharts-text",O),textAnchor:h,fill:y.includes("url")?l6:y}),w.map(function(z,W){var F=z.words.join(E?"":" ");return ve.createElement("tspan",{x:L,dy:W===0?I:s,key:"".concat(F,"-").concat(W)},F)}))};function rd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ENe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hj(e){let t,n,r;e.length!==2?(t=rd,n=(s,l)=>rd(e(s),l),r=(s,l)=>e(s)-l):(t=e===rd||e===ENe?e:NNe,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function NNe(){return 0}function qK(e){return e===null?NaN:+e}function*ANe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const kNe=Hj(rd),Ob=kNe.right;Hj(qK).center;class c6 extends Map{constructor(t,n=ONe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(u6(this,t))}has(t){return super.has(u6(this,t))}set(t,n){return super.set(CNe(this,t),n)}delete(t){return super.delete(TNe(this,t))}}function u6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function CNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function TNe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ONe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MNe(e=rd){if(e===rd)return WK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function WK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PNe=Math.sqrt(50),jNe=Math.sqrt(10),RNe=Math.sqrt(2);function w2(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=PNe?10:o>=jNe?5:o>=RNe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?w2(e,t,n*2):[s,l,c]}function ST(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?w2(t,e,n):w2(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function _T(e,t,n){return t=+t,e=+e,n=+n,w2(e,t,n)[2]}function ET(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?_T(t,e,n):_T(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function d6(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function f6(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function VK(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?WK:MNe(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*d/l+p)),m=Math.min(r,Math.floor(t+(l-c)*d/l+p));VK(e,t,h,m,i)}const o=e[t];let a=n,s=r;for(Ov(e,n,t),i(e[r],o)>0&&Ov(e,n,r);a<s;){for(Ov(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Ov(e,n,s):(++s,Ov(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ov(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function INe(e,t,n){if(e=Float64Array.from(ANe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return f6(e);if(t>=1)return d6(e);var r,i=(r-1)*t,o=Math.floor(i),a=d6(VK(e,o).subarray(0,o+1)),s=f6(e.subarray(o+1));return a+(s-a)*(i-o)}}function LNe(e,t,n=qK){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function DNe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function rs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $c(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const NT=Symbol("implicit");function qj(){var e=new c6,t=[],n=[],r=NT;function i(o){let a=e.get(o);if(a===void 0){if(r!==NT)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new c6;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qj(t,n).unknown(r)},rs.apply(i,arguments),i}function u0(){var e=qj().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var p=t().length,h=i<r,m=h?i:r,g=h?r:i;o=(g-m)/Math.max(1,p-l+c*2),s&&(o=Math.floor(o)),m+=(g-m-o*(p-l))*u,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var v=DNe(p).map(function(y){return m+o*y});return n(h?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),d()):u},e.copy=function(){return u0(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},rs.apply(d(),arguments)}function KK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KK(t())},e}function yy(){return KK(u0.apply(null,arguments).paddingInner(1))}function Wj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function GK(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Mb(){}var d0=.7,S2=1/d0,Xp="\\s*([+-]?\\d+)\\s*",f0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Ne=/^#([0-9a-f]{3,8})$/,FNe=new RegExp(`^rgb\\(${Xp},${Xp},${Xp}\\)$`),BNe=new RegExp(`^rgb\\(${_l},${_l},${_l}\\)$`),zNe=new RegExp(`^rgba\\(${Xp},${Xp},${Xp},${f0}\\)$`),UNe=new RegExp(`^rgba\\(${_l},${_l},${_l},${f0}\\)$`),HNe=new RegExp(`^hsl\\(${f0},${_l},${_l}\\)$`),qNe=new RegExp(`^hsla\\(${f0},${_l},${_l},${f0}\\)$`),h6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wj(Mb,h0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:p6,formatHex:p6,formatHex8:WNe,formatHsl:VNe,formatRgb:m6,toString:m6});function p6(){return this.rgb().formatHex()}function WNe(){return this.rgb().formatHex8()}function VNe(){return YK(this).formatHsl()}function m6(){return this.rgb().formatRgb()}function h0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$Ne.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?g6(t):n===3?new Do(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FNe.exec(e))?new Do(t[1],t[2],t[3],1):(t=BNe.exec(e))?new Do(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zNe.exec(e))?rx(t[1],t[2],t[3],t[4]):(t=UNe.exec(e))?rx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=HNe.exec(e))?b6(t[1],t[2]/100,t[3]/100,1):(t=qNe.exec(e))?b6(t[1],t[2]/100,t[3]/100,t[4]):h6.hasOwnProperty(e)?g6(h6[e]):e==="transparent"?new Do(NaN,NaN,NaN,0):null}function g6(e){return new Do(e>>16&255,e>>8&255,e&255,1)}function rx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Do(e,t,n,r)}function KNe(e){return e instanceof Mb||(e=h0(e)),e?(e=e.rgb(),new Do(e.r,e.g,e.b,e.opacity)):new Do}function AT(e,t,n,r){return arguments.length===1?KNe(e):new Do(e,t,n,r??1)}function Do(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Wj(Do,AT,GK(Mb,{brighter(e){return e=e==null?S2:Math.pow(S2,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?d0:Math.pow(d0,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Do(Bf(this.r),Bf(this.g),Bf(this.b),_2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v6,formatHex:v6,formatHex8:GNe,formatRgb:y6,toString:y6}));function v6(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}`}function GNe(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}${wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function y6(){const e=_2(this.opacity);return`${e===1?"rgb(":"rgba("}${Bf(this.r)}, ${Bf(this.g)}, ${Bf(this.b)}${e===1?")":`, ${e})`}`}function _2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wf(e){return e=Bf(e),(e<16?"0":"")+e.toString(16)}function b6(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new As(e,t,n,r)}function YK(e){if(e instanceof As)return new As(e.h,e.s,e.l,e.opacity);if(e instanceof Mb||(e=h0(e)),!e)return new As;if(e instanceof As)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new As(a,s,l,e.opacity)}function YNe(e,t,n,r){return arguments.length===1?YK(e):new As(e,t,n,r??1)}function As(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wj(As,YNe,GK(Mb,{brighter(e){return e=e==null?S2:Math.pow(S2,e),new As(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?d0:Math.pow(d0,e),new As(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Do(ZA(e>=240?e-240:e+120,i,r),ZA(e,i,r),ZA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new As(x6(this.h),ix(this.s),ix(this.l),_2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_2(this.opacity);return`${e===1?"hsl(":"hsla("}${x6(this.h)}, ${ix(this.s)*100}%, ${ix(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x6(e){return e=(e||0)%360,e<0?e+360:e}function ix(e){return Math.max(0,Math.min(1,e||0))}function ZA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vj=e=>()=>e;function XNe(e,t){return function(n){return e+n*t}}function QNe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ZNe(e){return(e=+e)==1?XK:function(t,n){return n-t?QNe(t,n,e):Vj(isNaN(t)?n:t)}}function XK(e,t){var n=t-e;return n?XNe(e,n):Vj(isNaN(e)?t:e)}const w6=function e(t){var n=ZNe(t);function r(i,o){var a=n((i=AT(i)).r,(o=AT(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=XK(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function JNe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function eAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tAe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Pg(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function nAe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function E2(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rAe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var kT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JA=new RegExp(kT.source,"g");function iAe(e){return function(){return e}}function oAe(e){return function(t){return e(t)+""}}function aAe(e,t){var n=kT.lastIndex=JA.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=kT.exec(e))&&(i=JA.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:E2(r,i)})),n=JA.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?oAe(l[0].x):iAe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Pg(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vj(t):(n==="number"?E2:n==="string"?(r=h0(t))?(t=r,w6):aAe:t instanceof h0?w6:t instanceof Date?nAe:eAe(t)?JNe:Array.isArray(t)?tAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rAe:E2)(e,t)}function Kj(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sAe(e,t){t===void 0&&(t=e,e=Pg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function lAe(e){return function(){return e}}function N2(e){return+e}var S6=[0,1];function bo(e){return e}function CT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lAe(isNaN(t)?NaN:.5)}function cAe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function uAe(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=CT(i,r),o=n(a,o)):(r=CT(r,i),o=n(o,a)),function(s){return o(r(s))}}function dAe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=CT(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Ob(e,s,1,r)-1;return o[l](i[l](s))}}function Pb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fE(){var e=S6,t=S6,n=Pg,r,i,o,a=bo,s,l,c;function u(){var p=Math.min(e.length,t.length);return a!==bo&&(a=cAe(e[0],e[p-1])),s=p>2?dAe:uAe,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?o:(l||(l=s(e.map(r),t,n)))(r(a(p)))}return d.invert=function(p){return a(i((c||(c=s(t,e.map(r),E2)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,N2),u()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),n=Kj,u()},d.clamp=function(p){return arguments.length?(a=p?!0:bo,u()):a!==bo},d.interpolate=function(p){return arguments.length?(n=p,u()):n},d.unknown=function(p){return arguments.length?(o=p,d):o},function(p,h){return r=p,i=h,u()}}function Gj(){return fE()(bo,bo)}function fAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function A2(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $m(e){return e=A2(Math.abs(e)),e?e[1]:NaN}function hAe(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function pAe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p0(e){if(!(t=mAe.exec(e)))throw new Error("invalid format: "+e);var t;return new Yj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}p0.prototype=Yj.prototype;function Yj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gAe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var QK;function vAe(e,t){var n=A2(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(QK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+A2(e,Math.max(0,t+o-1))[0]}function _6(e,t){var n=A2(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const E6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_6(e*100,t),r:_6,s:vAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N6(e){return e}var A6=Array.prototype.map,k6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yAe(e){var t=e.grouping===void 0||e.thousands===void 0?N6:hAe(A6.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?N6:pAe(A6.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=p0(d);var p=d.fill,h=d.align,m=d.sign,g=d.symbol,v=d.zero,y=d.width,x=d.comma,w=d.precision,_=d.trim,N=d.type;N==="n"?(x=!0,N="g"):E6[N]||(w===void 0&&(w=12),_=!0,N="g"),(v||p==="0"&&h==="=")&&(v=!0,p="0",h="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",O=g==="$"?r:/[%p]/.test(N)?a:"",E=E6[N],C=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(M){var I=k,j=O,D,q,z;if(N==="c")j=E(M)+j,M="";else{M=+M;var W=M<0||1/M<0;if(M=isNaN(M)?l:E(Math.abs(M),w),_&&(M=gAe(M)),W&&+M==0&&m!=="+"&&(W=!1),I=(W?m==="("?m:s:m==="-"||m==="("?"":m)+I,j=(N==="s"?k6[8+QK/3]:"")+j+(W&&m==="("?")":""),C){for(D=-1,q=M.length;++D<q;)if(z=M.charCodeAt(D),48>z||z>57){j=(z===46?i+M.slice(D+1):M.slice(D))+j,M=M.slice(0,D);break}}}x&&!v&&(M=t(M,1/0));var F=I.length+M.length+j.length,B=F<y?new Array(y-F+1).join(p):"";switch(x&&v&&(M=t(B+M,B.length?y-j.length:1/0),B=""),h){case"<":M=I+M+j+B;break;case"=":M=I+B+M+j;break;case"^":M=B.slice(0,F=B.length>>1)+I+M+j+B.slice(F);break;default:M=B+I+M+j;break}return o(M)}return L.toString=function(){return d+""},L}function u(d,p){var h=c((d=p0(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor($m(p)/3)))*3,g=Math.pow(10,-m),v=k6[8+m/3];return function(y){return h(g*y)+v}}return{format:c,formatPrefix:u}}var ox,Xj,ZK;bAe({thousands:",",grouping:[3],currency:["$",""]});function bAe(e){return ox=yAe(e),Xj=ox.format,ZK=ox.formatPrefix,ox}function xAe(e){return Math.max(0,-$m(Math.abs(e)))}function wAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($m(t)/3)))*3-$m(Math.abs(e)))}function SAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$m(t)-$m(e))+1}function JK(e,t,n,r){var i=ET(e,t,n),o;switch(r=p0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=wAe(i,a))&&(r.precision=o),ZK(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=SAe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=xAe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Xj(r)}function Td(e){var t=e.domain;return e.ticks=function(n){var r=t();return ST(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return JK(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=_T(a,s,n),c===l)return r[i]=a,r[o]=s,t(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function k2(){var e=Gj();return e.copy=function(){return Pb(e,k2())},rs.apply(e,arguments),Td(e)}function eG(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,N2),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return eG(e).unknown(t)},e=arguments.length?Array.from(e,N2):[0,1],Td(n)}function tG(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function C6(e){return Math.log(e)}function T6(e){return Math.exp(e)}function _Ae(e){return-Math.log(-e)}function EAe(e){return-Math.exp(-e)}function NAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AAe(e){return e===10?NAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function O6(e){return(t,n)=>-e(-t,n)}function Qj(e){const t=e(C6,T6),n=t.domain;let r=10,i,o;function a(){return i=kAe(r),o=AAe(r),n()[0]<0?(i=O6(i),o=O6(o),e(_Ae,EAe)):e(C6,T6),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let p=i(c),h=i(u),m,g;const v=s==null?10:+s;let y=[];if(!(r%1)&&h-p<v){if(p=Math.floor(p),h=Math.ceil(h),c>0){for(;p<=h;++p)for(m=1;m<r;++m)if(g=p<0?m/o(-p):m*o(p),!(g<c)){if(g>u)break;y.push(g)}}else for(;p<=h;++p)for(m=r-1;m>=1;--m)if(g=p>0?m/o(-p):m*o(p),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=ST(c,u,v))}else y=ST(p,h,Math.min(h-p,v)).map(o);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=p0(l)).precision==null&&(l.trim=!0),l=Xj(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(tG(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function nG(){const e=Qj(fE()).domain([1,10]);return e.copy=()=>Pb(e,nG()).base(e.base()),rs.apply(e,arguments),e}function M6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function P6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zj(e){var t=1,n=e(M6(t),P6(t));return n.constant=function(r){return arguments.length?e(M6(t=+r),P6(t)):t},Td(n)}function rG(){var e=Zj(fE());return e.copy=function(){return Pb(e,rG()).constant(e.constant())},rs.apply(e,arguments)}function j6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TAe(e){return e<0?-e*e:e*e}function Jj(e){var t=e(bo,bo),n=1;function r(){return n===1?e(bo,bo):n===.5?e(CAe,TAe):e(j6(n),j6(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Td(t)}function e3(){var e=Jj(fE());return e.copy=function(){return Pb(e,e3()).exponent(e.exponent())},rs.apply(e,arguments),e}function OAe(){return e3.apply(null,arguments).exponent(.5)}function R6(e){return Math.sign(e)*e*e}function MAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iG(){var e=Gj(),t=[0,1],n=!1,r;function i(o){var a=MAe(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(R6(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,N2)).map(R6)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return iG(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},rs.apply(i,arguments),Td(i)}function oG(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=LNe(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Ob(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(rd),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return oG().domain(e).range(t).unknown(r)},rs.apply(o,arguments)}function aG(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ob(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return aG().domain([e,t]).range(i).unknown(o)},rs.apply(Td(a),arguments)}function sG(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Ob(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return sG().domain(e).range(t).unknown(n)},rs.apply(i,arguments)}const e5=new Date,t5=new Date;function ci(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),t(o,s),e(o);while(c<o&&o<a);return l},i.filter=o=>ci(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(e5.setTime(+o),t5.setTime(+a),e(e5),e(t5),Math.floor(n(e5,t5))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const C2=ci(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);C2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ci(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):C2);C2.range;const mc=1e3,qa=mc*60,gc=qa*60,Pc=gc*24,t3=Pc*7,I6=Pc*30,n5=Pc*365,Sf=ci(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mc)},(e,t)=>(t-e)/mc,e=>e.getUTCSeconds());Sf.range;const n3=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mc)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getMinutes());n3.range;const r3=ci(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getUTCMinutes());r3.range;const i3=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mc-e.getMinutes()*qa)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getHours());i3.range;const o3=ci(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCHours());o3.range;const jb=ci(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qa)/Pc,e=>e.getDate()-1);jb.range;const hE=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pc,e=>e.getUTCDate()-1);hE.range;const lG=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pc,e=>Math.floor(e/Pc));lG.range;function Th(e){return ci(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qa)/t3)}const pE=Th(0),T2=Th(1),PAe=Th(2),jAe=Th(3),Fm=Th(4),RAe=Th(5),IAe=Th(6);pE.range;T2.range;PAe.range;jAe.range;Fm.range;RAe.range;IAe.range;function Oh(e){return ci(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/t3)}const mE=Oh(0),O2=Oh(1),LAe=Oh(2),DAe=Oh(3),Bm=Oh(4),$Ae=Oh(5),FAe=Oh(6);mE.range;O2.range;LAe.range;DAe.range;Bm.range;$Ae.range;FAe.range;const a3=ci(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());a3.range;const s3=ci(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());s3.range;const jc=ci(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});jc.range;const Rc=ci(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rc.range;function cG(e,t,n,r,i,o){const a=[[Sf,1,mc],[Sf,5,5*mc],[Sf,15,15*mc],[Sf,30,30*mc],[o,1,qa],[o,5,5*qa],[o,15,15*qa],[o,30,30*qa],[i,1,gc],[i,3,3*gc],[i,6,6*gc],[i,12,12*gc],[r,1,Pc],[r,2,2*Pc],[n,1,t3],[t,1,I6],[t,3,3*I6],[e,1,n5]];function s(c,u,d){const p=u<c;p&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),m=h?h.range(c,+u+1):[];return p?m.reverse():m}function l(c,u,d){const p=Math.abs(u-c)/d,h=Hj(([,,v])=>v).right(a,p);if(h===a.length)return e.every(ET(c/n5,u/n5,d));if(h===0)return C2.every(Math.max(ET(c,u,d),1));const[m,g]=a[p/a[h-1][2]<a[h][2]/p?h-1:h];return m.every(g)}return[s,l]}const[BAe,zAe]=cG(Rc,s3,mE,lG,o3,r3),[UAe,HAe]=cG(jc,a3,pE,jb,i3,n3);function r5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qAe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Pv(i),u=jv(i),d=Pv(o),p=jv(o),h=Pv(a),m=jv(a),g=Pv(s),v=jv(s),y=Pv(l),x=jv(l),w={a:W,A:F,b:B,B:te,c:null,d:z6,e:z6,f:h5e,g:_5e,G:N5e,H:u5e,I:d5e,j:f5e,L:uG,m:p5e,M:m5e,p:K,q:R,Q:q6,s:W6,S:g5e,u:v5e,U:y5e,V:b5e,w:x5e,W:w5e,x:null,X:null,y:S5e,Y:E5e,Z:A5e,"%":H6},_={a:U,A:Y,b:Z,B:ae,c:null,d:U6,e:U6,f:O5e,g:B5e,G:U5e,H:k5e,I:C5e,j:T5e,L:fG,m:M5e,M:P5e,p:se,q:ce,Q:q6,s:W6,S:j5e,u:R5e,U:I5e,V:L5e,w:D5e,W:$5e,x:null,X:null,y:F5e,Y:z5e,Z:H5e,"%":H6},N={a:L,A:M,b:I,B:j,c:D,d:F6,e:F6,f:a5e,g:$6,G:D6,H:B6,I:B6,j:n5e,L:o5e,m:t5e,M:r5e,p:C,q:e5e,Q:l5e,s:c5e,S:i5e,u:YAe,U:XAe,V:QAe,w:GAe,W:ZAe,x:q,X:z,y:$6,Y:D6,Z:JAe,"%":s5e};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(ne,de){return function(he){var ue=[],Ne=-1,pe=0,J=ne.length,ke,Ke,_e;for(he instanceof Date||(he=new Date(+he));++Ne<J;)ne.charCodeAt(Ne)===37&&(ue.push(ne.slice(pe,Ne)),(Ke=L6[ke=ne.charAt(++Ne)])!=null?ke=ne.charAt(++Ne):Ke=ke==="e"?" ":"0",(_e=de[ke])&&(ke=_e(he,Ke)),ue.push(ke),pe=Ne+1);return ue.push(ne.slice(pe,Ne)),ue.join("")}}function O(ne,de){return function(he){var ue=Mv(1900,void 0,1),Ne=E(ue,ne,he+="",0),pe,J;if(Ne!=he.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(de&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(pe=i5(Mv(ue.y,0,1)),J=pe.getUTCDay(),pe=J>4||J===0?O2.ceil(pe):O2(pe),pe=hE.offset(pe,(ue.V-1)*7),ue.y=pe.getUTCFullYear(),ue.m=pe.getUTCMonth(),ue.d=pe.getUTCDate()+(ue.w+6)%7):(pe=r5(Mv(ue.y,0,1)),J=pe.getDay(),pe=J>4||J===0?T2.ceil(pe):T2(pe),pe=jb.offset(pe,(ue.V-1)*7),ue.y=pe.getFullYear(),ue.m=pe.getMonth(),ue.d=pe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),J="Z"in ue?i5(Mv(ue.y,0,1)).getUTCDay():r5(Mv(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(J+5)%7:ue.w+ue.U*7-(J+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,i5(ue)):r5(ue)}}function E(ne,de,he,ue){for(var Ne=0,pe=de.length,J=he.length,ke,Ke;Ne<pe;){if(ue>=J)return-1;if(ke=de.charCodeAt(Ne++),ke===37){if(ke=de.charAt(Ne++),Ke=N[ke in L6?de.charAt(Ne++):ke],!Ke||(ue=Ke(ne,he,ue))<0)return-1}else if(ke!=he.charCodeAt(ue++))return-1}return ue}function C(ne,de,he){var ue=c.exec(de.slice(he));return ue?(ne.p=u.get(ue[0].toLowerCase()),he+ue[0].length):-1}function L(ne,de,he){var ue=h.exec(de.slice(he));return ue?(ne.w=m.get(ue[0].toLowerCase()),he+ue[0].length):-1}function M(ne,de,he){var ue=d.exec(de.slice(he));return ue?(ne.w=p.get(ue[0].toLowerCase()),he+ue[0].length):-1}function I(ne,de,he){var ue=y.exec(de.slice(he));return ue?(ne.m=x.get(ue[0].toLowerCase()),he+ue[0].length):-1}function j(ne,de,he){var ue=g.exec(de.slice(he));return ue?(ne.m=v.get(ue[0].toLowerCase()),he+ue[0].length):-1}function D(ne,de,he){return E(ne,t,de,he)}function q(ne,de,he){return E(ne,n,de,he)}function z(ne,de,he){return E(ne,r,de,he)}function W(ne){return a[ne.getDay()]}function F(ne){return o[ne.getDay()]}function B(ne){return l[ne.getMonth()]}function te(ne){return s[ne.getMonth()]}function K(ne){return i[+(ne.getHours()>=12)]}function R(ne){return 1+~~(ne.getMonth()/3)}function U(ne){return a[ne.getUTCDay()]}function Y(ne){return o[ne.getUTCDay()]}function Z(ne){return l[ne.getUTCMonth()]}function ae(ne){return s[ne.getUTCMonth()]}function se(ne){return i[+(ne.getUTCHours()>=12)]}function ce(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var de=k(ne+="",w);return de.toString=function(){return ne},de},parse:function(ne){var de=O(ne+="",!1);return de.toString=function(){return ne},de},utcFormat:function(ne){var de=k(ne+="",_);return de.toString=function(){return ne},de},utcParse:function(ne){var de=O(ne+="",!0);return de.toString=function(){return ne},de}}}var L6={"-":"",_:" ",0:"0"},wi=/^\s*\d+/,WAe=/^%/,VAe=/[\\^$*+?|[\]().{}]/g;function vn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function KAe(e){return e.replace(VAe,"\\$&")}function Pv(e){return new RegExp("^(?:"+e.map(KAe).join("|")+")","i")}function jv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function GAe(e,t,n){var r=wi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function YAe(e,t,n){var r=wi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function XAe(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function QAe(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ZAe(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function D6(e,t,n){var r=wi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $6(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function JAe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function e5e(e,t,n){var r=wi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function t5e(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function F6(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function n5e(e,t,n){var r=wi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function B6(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function r5e(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function i5e(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function o5e(e,t,n){var r=wi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function a5e(e,t,n){var r=wi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function s5e(e,t,n){var r=WAe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function l5e(e,t,n){var r=wi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function c5e(e,t,n){var r=wi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function z6(e,t){return vn(e.getDate(),t,2)}function u5e(e,t){return vn(e.getHours(),t,2)}function d5e(e,t){return vn(e.getHours()%12||12,t,2)}function f5e(e,t){return vn(1+jb.count(jc(e),e),t,3)}function uG(e,t){return vn(e.getMilliseconds(),t,3)}function h5e(e,t){return uG(e,t)+"000"}function p5e(e,t){return vn(e.getMonth()+1,t,2)}function m5e(e,t){return vn(e.getMinutes(),t,2)}function g5e(e,t){return vn(e.getSeconds(),t,2)}function v5e(e){var t=e.getDay();return t===0?7:t}function y5e(e,t){return vn(pE.count(jc(e)-1,e),t,2)}function dG(e){var t=e.getDay();return t>=4||t===0?Fm(e):Fm.ceil(e)}function b5e(e,t){return e=dG(e),vn(Fm.count(jc(e),e)+(jc(e).getDay()===4),t,2)}function x5e(e){return e.getDay()}function w5e(e,t){return vn(T2.count(jc(e)-1,e),t,2)}function S5e(e,t){return vn(e.getFullYear()%100,t,2)}function _5e(e,t){return e=dG(e),vn(e.getFullYear()%100,t,2)}function E5e(e,t){return vn(e.getFullYear()%1e4,t,4)}function N5e(e,t){var n=e.getDay();return e=n>=4||n===0?Fm(e):Fm.ceil(e),vn(e.getFullYear()%1e4,t,4)}function A5e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function U6(e,t){return vn(e.getUTCDate(),t,2)}function k5e(e,t){return vn(e.getUTCHours(),t,2)}function C5e(e,t){return vn(e.getUTCHours()%12||12,t,2)}function T5e(e,t){return vn(1+hE.count(Rc(e),e),t,3)}function fG(e,t){return vn(e.getUTCMilliseconds(),t,3)}function O5e(e,t){return fG(e,t)+"000"}function M5e(e,t){return vn(e.getUTCMonth()+1,t,2)}function P5e(e,t){return vn(e.getUTCMinutes(),t,2)}function j5e(e,t){return vn(e.getUTCSeconds(),t,2)}function R5e(e){var t=e.getUTCDay();return t===0?7:t}function I5e(e,t){return vn(mE.count(Rc(e)-1,e),t,2)}function hG(e){var t=e.getUTCDay();return t>=4||t===0?Bm(e):Bm.ceil(e)}function L5e(e,t){return e=hG(e),vn(Bm.count(Rc(e),e)+(Rc(e).getUTCDay()===4),t,2)}function D5e(e){return e.getUTCDay()}function $5e(e,t){return vn(O2.count(Rc(e)-1,e),t,2)}function F5e(e,t){return vn(e.getUTCFullYear()%100,t,2)}function B5e(e,t){return e=hG(e),vn(e.getUTCFullYear()%100,t,2)}function z5e(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function U5e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Bm(e):Bm.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function H5e(){return"+0000"}function H6(){return"%"}function q6(e){return+e}function W6(e){return Math.floor(+e/1e3)}var tp,pG,mG;q5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function q5e(e){return tp=qAe(e),pG=tp.format,tp.parse,mG=tp.utcFormat,tp.utcParse,tp}function W5e(e){return new Date(e)}function V5e(e){return e instanceof Date?+e:+new Date(+e)}function l3(e,t,n,r,i,o,a,s,l,c){var u=Gj(),d=u.invert,p=u.domain,h=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),w=c("%B"),_=c("%Y");function N(k){return(l(k)<k?h:s(k)<k?m:a(k)<k?g:o(k)<k?v:r(k)<k?i(k)<k?y:x:n(k)<k?w:_)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?p(Array.from(k,V5e)):p().map(W5e)},u.ticks=function(k){var O=p();return e(O[0],O[O.length-1],k??10)},u.tickFormat=function(k,O){return O==null?N:c(O)},u.nice=function(k){var O=p();return(!k||typeof k.range!="function")&&(k=t(O[0],O[O.length-1],k??10)),k?p(tG(O,k)):u},u.copy=function(){return Pb(u,l3(e,t,n,r,i,o,a,s,l,c))},u}function K5e(){return rs.apply(l3(UAe,HAe,jc,a3,pE,jb,i3,n3,Sf,pG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function G5e(){return rs.apply(l3(BAe,zAe,Rc,s3,mE,hE,o3,r3,Sf,mG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gE(){var e=0,t=1,n,r,i,o,a=bo,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(p){var h,m;return arguments.length?([h,m]=p,a=d(h,m),c):[a(0),a(1)]}}return c.range=u(Pg),c.rangeRound=u(Kj),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function Od(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gG(){var e=Td(gE()(bo));return e.copy=function(){return Od(e,gG())},$c.apply(e,arguments)}function vG(){var e=Qj(gE()).domain([1,10]);return e.copy=function(){return Od(e,vG()).base(e.base())},$c.apply(e,arguments)}function yG(){var e=Zj(gE());return e.copy=function(){return Od(e,yG()).constant(e.constant())},$c.apply(e,arguments)}function c3(){var e=Jj(gE());return e.copy=function(){return Od(e,c3()).exponent(e.exponent())},$c.apply(e,arguments)}function Y5e(){return c3.apply(null,arguments).exponent(.5)}function bG(){var e=[],t=bo;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ob(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(rd),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>INe(e,o/r))},n.copy=function(){return bG(t).domain(e)},$c.apply(n,arguments)}function vE(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,c=bo,u,d=!1,p;function h(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-o)*(r*g<r*o?s:l),c(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),o=u(t=+t),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,c=sAe(g,[y,x,w]),h):[c(0),c(.5),c(1)]}}return h.range=m(Pg),h.rangeRound=m(Kj),h.unknown=function(g){return arguments.length?(p=g,h):p},function(g){return u=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function xG(){var e=Td(vE()(bo));return e.copy=function(){return Od(e,xG())},$c.apply(e,arguments)}function wG(){var e=Qj(vE()).domain([.1,1,10]);return e.copy=function(){return Od(e,wG()).base(e.base())},$c.apply(e,arguments)}function SG(){var e=Zj(vE());return e.copy=function(){return Od(e,SG()).constant(e.constant())},$c.apply(e,arguments)}function u3(){var e=Jj(vE());return e.copy=function(){return Od(e,u3()).exponent(e.exponent())},$c.apply(e,arguments)}function X5e(){return u3.apply(null,arguments).exponent(.5)}const V6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:u0,scaleDiverging:xG,scaleDivergingLog:wG,scaleDivergingPow:u3,scaleDivergingSqrt:X5e,scaleDivergingSymlog:SG,scaleIdentity:eG,scaleImplicit:NT,scaleLinear:k2,scaleLog:nG,scaleOrdinal:qj,scalePoint:yy,scalePow:e3,scaleQuantile:oG,scaleQuantize:aG,scaleRadial:iG,scaleSequential:gG,scaleSequentialLog:vG,scaleSequentialPow:c3,scaleSequentialQuantile:bG,scaleSequentialSqrt:Y5e,scaleSequentialSymlog:yG,scaleSqrt:OAe,scaleSymlog:rG,scaleThreshold:sG,scaleTime:K5e,scaleUtc:G5e,tickFormat:JK},Symbol.toStringTag,{value:"Module"}));var Q5e=Eg;function Z5e(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!Q5e(a):n(a,s)))var s=a,l=o}return l}var _G=Z5e;function J5e(e,t){return e>t}var eke=J5e,tke=_G,nke=eke,rke=Mg;function ike(e){return e&&e.length?tke(e,rke,nke):void 0}var oke=ike;const yE=wn(oke);function ake(e,t){return e<t}var ske=ake,lke=_G,cke=ske,uke=Mg;function dke(e){return e&&e.length?lke(e,uke,cke):void 0}var fke=dke;const bE=wn(fke);var hke=Ej,pke=Cd,mke=PK,gke=Wo;function vke(e,t){var n=gke(e)?hke:mke;return n(e,pke(t))}var yke=vke,bke=OK,xke=yke;function wke(e,t){return bke(xke(e,t),1)}var Ske=wke;const _ke=wn(Ske);var Eke=Fj;function Nke(e,t){return Eke(e,t)}var Ake=Nke;const d3=wn(Ake);var jg=1e9,kke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},h3,cr=!0,Ja="[DecimalError] ",zf=Ja+"Invalid argument: ",f3=Ja+"Exponent out of range: ",Rg=Math.floor,ff=Math.pow,Cke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ua,hi=1e7,rr=7,EG=9007199254740991,M2=Rg(EG/rr),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*rr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return Sc(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return qn(Sc(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Kr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ua))throw Error(Ja+"NaN");if(n.s<1)throw Error(Ja+(n.s?"NaN":"-Infinity"));return n.eq(ua)?new r(0):(cr=!1,t=Sc(m0(n,o),m0(e,o),o),cr=!0,qn(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kG(t,e):NG(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ja+"NaN");return n.s?(cr=!1,t=Sc(n,e,0,1).times(e),cr=!0,n.minus(t)):qn(new r(n),i)};st.naturalExponential=st.exp=function(){return AG(this)};st.naturalLogarithm=st.ln=function(){return m0(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NG(t,e):kG(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zf+e);if(t=Kr(i)+1,r=i.d.length-1,n=r*rr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ja+"NaN")}for(e=Kr(s),cr=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=gl(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Sc(s,o,a+2)).times(.5),gl(o.d).slice(0,a)===(t=gl(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(qn(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return cr=!0,qn(r,n)};st.times=st.mul=function(e){var t,n,r,i,o,a,s,l,c,u=this,d=u.constructor,p=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,l=p.length,c=h.length,l<c&&(o=p,p=h,h=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+h[r]*p[i-r-1]+t,o[i--]=s%hi|0,t=s/hi|0;o[i]=(o[i]+t)%hi|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,cr?qn(e,d.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Tl(e,0,jg),t===void 0?t=r.rounding:Tl(t,0,8),qn(n,e+Kr(n)+1,t))};st.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=lh(r,!0):(Tl(e,0,jg),t===void 0?t=i.rounding:Tl(t,0,8),r=qn(new i(r),e+1,t),n=lh(r,!0,e+1)),n};st.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?lh(i):(Tl(e,0,jg),t===void 0?t=o.rounding:Tl(t,0,8),r=qn(new o(i),e+Kr(i)+1,t),n=lh(r.abs(),!1,e+Kr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return qn(new t(e),Kr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(ua);if(s=new l(s),!s.s){if(e.s<1)throw Error(Ja+"Infinity");return s}if(s.eq(ua))return s;if(r=l.precision,e.eq(ua))return qn(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=u<0?-u:u)<=EG){for(i=new l(ua),t=Math.ceil(r/rr+4),cr=!1;n%2&&(i=i.times(s),G6(i.d,t)),n=Rg(n/2),n!==0;)s=s.times(s),G6(s.d,t);return cr=!0,e.s<0?new l(ua).div(i):qn(i,r)}}else if(o<0)throw Error(Ja+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,cr=!1,i=e.times(m0(s,r+c)),cr=!0,i=AG(i),i.s=o,i};st.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Kr(i),r=lh(i,n<=o.toExpNeg||n>=o.toExpPos)):(Tl(e,1,jg),t===void 0?t=o.rounding:Tl(t,0,8),i=qn(new o(i),e,t),n=Kr(i),r=lh(i,e<=n||n<=o.toExpNeg,e)),r};st.toSignificantDigits=st.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Tl(e,1,jg),t===void 0?t=r.rounding:Tl(t,0,8)),qn(new r(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kr(e),n=e.constructor;return lh(e,t<=n.toExpNeg||t>=n.toExpPos)};function NG(e,t){var n,r,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),cr?qn(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(d/rr),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/hi|0,l[o]%=hi;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,cr?qn(t,d):t}function Tl(e,t,n){if(e!==~~e||e<t||e>n)throw Error(zf+e)}function gl(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=rr-r.length,n&&(o+=vu(n)),o+=r;a=e[t],r=a+"",n=rr-r.length,n&&(o+=vu(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Sc=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%hi|0,a=o/hi|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*hi+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,d,p,h,m,g,v,y,x,w,_,N,k,O,E,C=r.constructor,L=r.s==i.s?1:-1,M=r.d,I=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Ja+"Division by zero");for(l=r.e-i.e,O=I.length,N=M.length,h=new C(L),m=h.d=[],c=0;I[c]==(M[c]||0);)++c;if(I[c]>(M[c]||0)&&--l,o==null?x=o=C.precision:a?x=o+(Kr(r)-Kr(i))+1:x=o,x<0)return new C(0);if(x=x/rr+2|0,c=0,O==1)for(u=0,I=I[0],x++;(c<N||u)&&x--;c++)w=u*hi+(M[c]||0),m[c]=w/I|0,u=w%I|0;else{for(u=hi/(I[0]+1)|0,u>1&&(I=e(I,u),M=e(M,u),O=I.length,N=M.length),_=O,g=M.slice(0,O),v=g.length;v<O;)g[v++]=0;E=I.slice(),E.unshift(0),k=I[0],I[1]>=hi/2&&++k;do u=0,s=t(I,g,O,v),s<0?(y=g[0],O!=v&&(y=y*hi+(g[1]||0)),u=y/k|0,u>1?(u>=hi&&(u=hi-1),d=e(I,u),p=d.length,v=g.length,s=t(d,g,p,v),s==1&&(u--,n(d,O<p?E:I,p))):(u==0&&(s=u=1),d=I.slice()),p=d.length,p<v&&d.unshift(0),n(g,d,v),s==-1&&(v=g.length,s=t(I,g,O,v),s<1&&(u++,n(g,O<v?E:I,v))),v=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[v++]=M[_]||0:(g=[M[_]],v=1);while((_++<N||g[0]!==void 0)&&x--)}return m[0]||m.shift(),h.e=l,qn(h,a?o+Kr(h)+1:o)}}();function AG(e,t){var n,r,i,o,a,s,l=0,c=0,u=e.constructor,d=u.precision;if(Kr(e)>16)throw Error(f3+Kr(e));if(!e.s)return new u(ua);for(t==null?(cr=!1,s=d):s=t,a=new u(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(r=Math.log(ff(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(ua),u.precision=s;;){if(i=qn(i.times(e),s),n=n.times(++l),a=o.plus(Sc(i,n,s)),gl(a.d).slice(0,s)===gl(o.d).slice(0,s)){for(;c--;)o=qn(o.times(o),s);return u.precision=d,t==null?(cr=!0,qn(o,d)):o}o=a}}function Kr(e){for(var t=e.e*rr,n=e.d[0];n>=10;n/=10)t++;return t}function o5(e,t,n){if(t>e.LN10.sd())throw cr=!0,n&&(e.precision=n),Error(Ja+"LN10 precision limit exceeded");return qn(new e(e.LN10),t)}function vu(e){for(var t="";e--;)t+="0";return t}function m0(e,t){var n,r,i,o,a,s,l,c,u,d=1,p=10,h=e,m=h.d,g=h.constructor,v=g.precision;if(h.s<1)throw Error(Ja+(h.s?"NaN":"-Infinity"));if(h.eq(ua))return new g(0);if(t==null?(cr=!1,c=v):c=t,h.eq(10))return t==null&&(cr=!0),o5(g,c);if(c+=p,g.precision=c,n=gl(m),r=n.charAt(0),o=Kr(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=gl(h.d),r=n.charAt(0),d++;o=Kr(h),r>1?(h=new g("0."+n),o++):h=new g(r+"."+n.slice(1))}else return l=o5(g,c+2,v).times(o+""),h=m0(new g(r+"."+n.slice(1)),c-p).plus(l),g.precision=v,t==null?(cr=!0,qn(h,v)):h;for(s=a=h=Sc(h.minus(ua),h.plus(ua),c),u=qn(h.times(h),c),i=3;;){if(a=qn(a.times(u),c),l=s.plus(Sc(a,new g(i),c)),gl(l.d).slice(0,c)===gl(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(o5(g,c+2,v).times(o+""))),s=Sc(s,new g(d),c),g.precision=v,t==null?(cr=!0,qn(s,v)):s;s=l,i+=2}}function K6(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Rg(n/rr),e.d=[],r=(n+1)%rr,n<0&&(r+=rr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=rr;r<i;)e.d.push(+t.slice(r,r+=rr));t=t.slice(r),r=rr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),cr&&(e.e>M2||e.e<-M2))throw Error(f3+n)}else e.s=0,e.e=0,e.d=[0];return e}function qn(e,t,n){var r,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=rr,i=t,c=d[u=0];else{if(u=Math.ceil((r+1)/rr),o=d.length,u>=o)return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;r%=rr,i=r-rr+a}if(n!==void 0&&(o=ff(10,a-i-1),s=c/o%10|0,l=t<0||d[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/ff(10,a-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=Kr(e),d.length=1,t=t-o-1,d[0]=ff(10,(rr-t%rr)%rr),e.e=Rg(-t/rr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=ff(10,rr-r),d[u]=i>0?(c/ff(10,a-i)%ff(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==hi&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=hi)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(cr&&(e.e>M2||e.e<-M2))throw Error(f3+Kr(e));return e}function kG(e,t){var n,r,i,o,a,s,l,c,u,d,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),cr?qn(t,h):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(h/rr),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=hi-1;--l[o],l[i]+=hi}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,cr?qn(t,h):t):new p(0)}function lh(e,t,n){var r,i=Kr(e),o=gl(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+vu(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+vu(-i-1)+o,n&&(r=n-a)>0&&(o+=vu(r))):i>=a?(o+=vu(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+vu(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=vu(r))),e.s<0?"-"+o:o}function G6(e,t){if(e.length>t)return e.length=t,!0}function CG(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(zf+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return K6(a,o.toString())}else if(typeof o!="string")throw Error(zf+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Cke.test(o))K6(a,o);else throw Error(zf+o)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CG,i.config=i.set=Tke,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Tke(e){if(!e||typeof e!="object")throw Error(Ja+"Object expected");var t,n,r,i=["precision",1,jg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Rg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(zf+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(zf+n+": "+r);return this}var h3=CG(kke);ua=new h3(1);const Dn=h3;function Oke(e){return Rke(e)||jke(e)||Pke(e)||Mke()}function Mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pke(e,t){if(e){if(typeof e=="string")return TT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TT(e,t)}}function jke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Rke(e){if(Array.isArray(e))return TT(e)}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ike=function(t){return t},TG={"@@functional/placeholder":!0},OG=function(t){return t===TG},Y6=function(t){return function n(){return arguments.length===0||arguments.length===1&&OG(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Lke=function e(t,n){return t===1?n:Y6(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==TG}).length;return a>=t?n.apply(void 0,i):e(t-a,Y6(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return OG(d)?l.shift():d});return n.apply(void 0,Oke(u).concat(l))}))})},xE=function(t){return Lke(t.length,t)},OT=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Dke=xE(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),$ke=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Ike;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},MT=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},MG=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function Fke(e){var t;return e===0?t=1:t=Math.floor(new Dn(e).abs().log(10).toNumber())+1,t}function Bke(e,t,n){for(var r=new Dn(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var zke=xE(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Uke=xE(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Hke=xE(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const wE={rangeStep:Bke,getDigitCount:Fke,interpolateNumber:zke,uninterpolateNumber:Uke,uninterpolateTruncation:Hke};function PT(e){return Vke(e)||Wke(e)||PG(e)||qke()}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Vke(e){if(Array.isArray(e))return jT(e)}function g0(e,t){return Yke(e)||Gke(e,t)||PG(e,t)||Kke()}function Kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(e,t){if(e){if(typeof e=="string")return jT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jT(e,t)}}function jT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Yke(e){if(Array.isArray(e))return e}function jG(e){var t=g0(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function RG(e,t,n){if(e.lte(0))return new Dn(0);var r=wE.getDigitCount(e.toNumber()),i=new Dn(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new Dn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new Dn(Math.ceil(l))}function Xke(e,t,n){var r=1,i=new Dn(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Dn(10).pow(wE.getDigitCount(e)-1),i=new Dn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Dn(Math.floor(e)))}else e===0?i=new Dn(Math.floor((t-1)/2)):n||(i=new Dn(Math.floor(e)));var a=Math.floor((t-1)/2),s=$ke(Dke(function(l){return i.add(new Dn(l-a).mul(r)).toNumber()}),OT);return s(0,t)}function IG(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Dn(0),tickMin:new Dn(0),tickMax:new Dn(0)};var o=RG(new Dn(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new Dn(0):(a=new Dn(e).add(t).div(2),a=a.sub(new Dn(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new Dn(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?IG(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new Dn(s).mul(o)),tickMax:a.add(new Dn(l).mul(o))})}function Qke(e){var t=g0(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=jG([n,r]),l=g0(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(PT(OT(0,i-1).map(function(){return 1/0}))):[].concat(PT(OT(0,i-1).map(function(){return-1/0})),[u]);return n>r?MT(d):d}if(c===u)return Xke(c,i,o);var p=IG(c,u,a,o),h=p.step,m=p.tickMin,g=p.tickMax,v=wE.rangeStep(m,g.add(new Dn(.1).mul(h)),h);return n>r?MT(v):v}function Zke(e,t){var n=g0(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=jG([r,i]),s=g0(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(t,2),d=RG(new Dn(c).sub(l).div(u-1),o,0),p=[].concat(PT(wE.rangeStep(new Dn(l),new Dn(c).sub(new Dn(.99).mul(d)),d)),[c]);return r>i?MT(p):p}var Jke=MG(Qke),eCe=MG(Zke),tCe="Invariant failed";function ch(e,t){throw new Error(tCe)}var nCe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P2.apply(this,arguments)}function rCe(e,t){return sCe(e)||aCe(e,t)||oCe(e,t)||iCe()}function iCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oCe(e,t){if(e){if(typeof e=="string")return X6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X6(e,t)}}function X6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function sCe(e){if(Array.isArray(e))return e}function lCe(e,t){if(e==null)return{};var n=cCe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$G(r.key),r)}}function fCe(e,t,n){return t&&dCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hCe(e,t,n){return t=j2(t),pCe(e,LG()?Reflect.construct(t,n||[],j2(e).constructor):t.apply(e,n))}function pCe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCe(e)}function mCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LG=function(){return!!e})()}function j2(e){return j2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j2(e)}function gCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RT(e,t)}function RT(e,t){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RT(e,t)}function DG(e,t,n){return t=$G(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $G(e){var t=vCe(e,"string");return zm(t)=="symbol"?t:t+""}function vCe(e,t){if(zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SE=function(e){function t(){return uCe(this,t),hCe(this,t,arguments)}return gCe(t,e),fCe(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,p=lCe(r,nCe),h=xn(p,!1);this.props.direction==="x"&&u.type!=="number"&&ch();var m=l.map(function(g){var v=c(g,s),y=v.x,x=v.y,w=v.value,_=v.errorVal;if(!_)return null;var N=[],k,O;if(Array.isArray(_)){var E=rCe(_,2);k=E[0],O=E[1]}else k=O=_;if(o==="vertical"){var C=u.scale,L=x+i,M=L+a,I=L-a,j=C(w-k),D=C(w+O);N.push({x1:D,y1:M,x2:D,y2:I}),N.push({x1:j,y1:L,x2:D,y2:L}),N.push({x1:j,y1:M,x2:j,y2:I})}else if(o==="horizontal"){var q=d.scale,z=y+i,W=z-a,F=z+a,B=q(w-k),te=q(w+O);N.push({x1:W,y1:te,x2:F,y2:te}),N.push({x1:z,y1:B,x2:z,y2:te}),N.push({x1:W,y1:B,x2:F,y2:B})}return ve.createElement(vi,P2({className:"recharts-errorBar",key:"bar-".concat(N.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},h),N.map(function(K){return ve.createElement("line",P2({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return ve.createElement(vi,{className:"recharts-errorBars"},m)}}])}(ve.Component);DG(SE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});DG(SE,"displayName","ErrorBar");function v0(e){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v0(e)}function Q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(n),!0).forEach(function(r){yCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yCe(e,t,n){return t=bCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bCe(e){var t=xCe(e,"string");return v0(t)=="symbol"?t:t+""}function xCe(e,t){if(v0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(v0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FG=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=sa(n,Yp);if(!a)return null;var s=Yp.defaultProps,l=s!==void 0?af(af({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,d){var p=d.item,h=d.props,m=h.sectors||h.data||[];return u.concat(m.map(function(g){return{type:a.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var d=u.item,p=d.type.defaultProps,h=p!==void 0?af(af({},p),d.props):{},m=h.dataKey,g=h.name,v=h.legendType,y=h.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:p3(d),value:g||m,payload:h}}),af(af(af({},l),Yp.getWithHeight(a,i)),{},{payload:c,item:a})};function y0(e){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y0(e)}function Z6(e){return ECe(e)||_Ce(e)||SCe(e)||wCe()}function wCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(e,t){if(e){if(typeof e=="string")return IT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(e,t)}}function _Ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ECe(e){if(Array.isArray(e))return IT(e)}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(n),!0).forEach(function(r){Qp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qp(e,t,n){return t=NCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NCe(e){var t=ACe(e,"string");return y0(t)=="symbol"?t:t+""}function ACe(e,t){if(y0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ol(e,t,n){return Nn(e)||Nn(t)?n:si(t)?Ka(e,t,n):nn(t)?t(e):n}function by(e,t,n,r){var i=_ke(e,function(s){return Ol(s,t)});if(n==="number"){var o=i.filter(function(s){return Qe(s)||parseFloat(s)});return o.length?[bE(o),yE(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Nn(s)}):i;return a.map(function(s){return si(s)||s instanceof Date?s:""})}var kCe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,p=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(Cs(d-u)!==Cs(p-d)){var m=[];if(Cs(p-d)===Cs(l[1]-l[0])){h=p;var g=d+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var v=p+l[1]-l[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){a=i[c].index;break}}else{var x=Math.min(u,p),w=Math.max(u,p);if(t>(x+d)/2&&t<=(w+d)/2){a=i[c].index;break}}}else for(var _=0;_<s;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===s-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){a=r[_].index;break}return a},p3=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Sr(Sr({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},CCe=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,d=Object.keys(u),p=0,h=d.length;p<h;p++){var m=u[d[p]],g=m.items,v=m.cateAxisId,y=g.filter(function(O){return xc(O.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,w=x!==void 0?Sr(Sr({},x),y[0].props):y[0].props,_=w.barSize,N=w[v];a[N]||(a[N]=[]);var k=Nn(_)?n:_;a[N].push({item:y[0],stackList:y.slice(1),barSize:Nn(k)?void 0:sh(k,r,0)})}}return a},TCe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var c=sh(n,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var p=!1,h=i/l,m=a.reduce(function(_,N){return _+N.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&h>0&&(p=!0,h*=.9,m=l*h);var g=(i-m)/2>>0,v={offset:g-c,size:0};u=a.reduce(function(_,N){var k={item:N.item,position:{offset:v.offset+v.size+c,size:p?h:N.barSize}},O=[].concat(Z6(_),[k]);return v=O[O.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){O.push({item:E,position:v})}),O},d)}else{var y=sh(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var x=(i-2*y-(l-1)*c)/l;x>1&&(x>>=0);var w=s===+s?Math.min(x,s):x;u=a.reduce(function(_,N,k){var O=[].concat(Z6(_),[{item:N.item,position:{offset:y+(x+c)*k+(x-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){O.push({item:E,position:O[O.length-1].position})}),O},d)}return u},OCe=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=FG({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,p=u.height,h=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&h!=="center"&&Qe(t[h]))return Sr(Sr({},t),{},Qp({},h,t[h]+(d||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&m!=="middle"&&Qe(t[m]))return Sr(Sr({},t),{},Qp({},m,t[m]+(p||0)))}return t},MCe=function(t,n,r){return Nn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},BG=function(t,n,r,i,o){var a=n.props.children,s=Is(a,SE).filter(function(c){return MCe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=Ol(u,r);if(Nn(d))return c;var p=Array.isArray(d)?[bE(d),yE(d)]:[d,d],h=l.reduce(function(m,g){var v=Ol(u,g,0),y=p[0]-Math.abs(Array.isArray(v)?v[0]:v),x=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},PCe=function(t,n,r,i,o){var a=n.map(function(s){return BG(t,s,r,o,i)}).filter(function(s){return!Nn(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},zG=function(t,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&BG(t,l,c,i)||by(t,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},UG=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},HG=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},vc=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Cs(s[0]-s[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var p=o?o.indexOf(d):d;return{coordinate:i(p)+c,value:d,offset:c}});return u.filter(function(d){return!Cb(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,p){return{coordinate:i(d)+c,value:d,index:p,offset:c}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,p){return{coordinate:i(d)+c,value:o?o[d]:d,index:p,offset:c}})},a5=new WeakMap,ax=function(t,n){if(typeof n!="function")return t;a5.has(t)||a5.set(t,new WeakMap);var r=a5.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},jCe=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:u0(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:k2(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yy(),realScaleType:"point"}:o==="category"?{scale:u0(),realScaleType:"band"}:{scale:k2(),realScaleType:"linear"};if(kb(i)){var l="scale".concat(oE(i));return{scale:(V6[l]||yy)(),realScaleType:V6[l]?l:"point"}}return nn(i)?{scale:i}:{scale:yy(),realScaleType:"point"}},e$=1e-4,RCe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-e$,a=Math.max(i[0],i[1])+e$,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},ICe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},LCe=function(t,n){if(!n||n.length!==2||!Qe(n[0])||!Qe(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!Qe(t[0])||t[0]<r)&&(o[0]=r),(!Qe(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},DCe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Cb(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},$Ce=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Cb(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},FCe={sign:DCe,expand:e0e,none:jm,silhouette:t0e,wiggle:n0e,positive:$Ce},BCe=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=FCe[r],a=Jye().keys(i).value(function(s,l){return+Ol(s,l,0)}).order(aT).offset(o);return a(t)},zCe=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(d,p){var h,m=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Sr(Sr({},p.type.defaultProps),p.props):p.props,g=m.stackId,v=m.hide;if(v)return d;var y=m[r],x=d[y]||{hasStack:!1,stackGroups:{}};if(si(g)){var w=x.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(p),x.hasStack=!0,x.stackGroups[g]=w}else x.stackGroups[iE("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Sr(Sr({},d),{},Qp({},y,x))},l),u={};return Object.keys(c).reduce(function(d,p){var h=c[p];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,v){var y=h.stackGroups[v];return Sr(Sr({},g),{},Qp({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:BCe(t,y.items,o)}))},m)}return Sr(Sr({},d),{},Qp({},p,h))},u)},UCe=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Jke(c,o,s);return t.domain([bE(u),yE(u)]),{niceTicks:u}}if(o&&i==="number"){var d=t.domain(),p=eCe(d,o,s);return{niceTicks:p}}return null},t$=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Ol(a,n.dataKey,n.domain[s]);return Nn(l)?null:n.scale(l)-o/2+i},HCe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},qCe=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Sr(Sr({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(si(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},WCe=function(t){return t.reduce(function(n,r){return[bE(r.concat([n[0]]).filter(Qe)),yE(r.concat([n[1]]).filter(Qe))]},[1/0,-1/0])},qG=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(c,u){var d=WCe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},n$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LT=function(t,n,r){if(nn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Qe(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(n$.test(t[0])){var o=+n$.exec(t[0])[1];i[0]=n[0]-o}else nn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Qe(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(r$.test(t[1])){var a=+r$.exec(t[1])[1];i[1]=n[1]+a}else nn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},R2=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=zj(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},i$=function(t,n,r){return!t||!t.length||d3(t,Ka(r,"type.defaultProps.domain"))?n:t},WG=function(t,n){var r=t.type.defaultProps?Sr(Sr({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Sr(Sr({},xn(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:p3(t),value:Ol(n,i),type:l,payload:n,chartType:c,hide:u})};function b0(e){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b0(e)}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(r){VCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VCe(e,t,n){return t=KCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KCe(e){var t=GCe(e,"string");return b0(t)=="symbol"?t:t+""}function GCe(e,t){if(b0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I2=Math.PI/180,YCe=function(t){return t*180/Math.PI},Di=function(t,n,r,i){return{x:t+Math.cos(-I2*i)*r,y:n+Math.sin(-I2*i)*r}},XCe=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},QCe=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=XCe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:YCe(c),angleInRadian:c}},ZCe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},JCe=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},s$=function(t,n){var r=t.x,i=t.y,o=QCe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=ZCe(n),d=u.startAngle,p=u.endAngle,h=s,m;if(d<=p){for(;h>p;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=p}else{for(;h>d;)h-=360;for(;h<p;)h+=360;m=h>=p&&h<=d}return m?a$(a$({},n),{},{radius:a,angle:JCe(h,n)}):null};function x0(e){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x0(e)}var eTe=["offset"];function tTe(e){return oTe(e)||iTe(e)||rTe(e)||nTe()}function nTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rTe(e,t){if(e){if(typeof e=="string")return DT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DT(e,t)}}function iTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oTe(e){if(Array.isArray(e))return DT(e)}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aTe(e,t){if(e==null)return{};var n=sTe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(n),!0).forEach(function(r){lTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lTe(e,t,n){return t=cTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cTe(e){var t=uTe(e,"string");return x0(t)=="symbol"?t:t+""}function uTe(e,t){if(x0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(this,arguments)}var dTe=function(t){var n=t.value,r=t.formatter,i=Nn(t.children)?n:t.children;return nn(r)?r(i):i},fTe=function(t,n){var r=Cs(n-t),i=Math.min(Math.abs(n-t),360);return r*i},hTe=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,p=l.outerRadius,h=l.startAngle,m=l.endAngle,g=l.clockWise,v=(d+p)/2,y=fTe(h,m),x=y>=0?1:-1,w,_;i==="insideStart"?(w=h+x*a,_=g):i==="insideEnd"?(w=m-x*a,_=!g):i==="end"&&(w=m+x*a,_=g),_=y<=0?_:!_;var N=Di(c,u,v,w),k=Di(c,u,v,w+(_?1:-1)*359),O="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Nn(t.id)?iE("recharts-radial-line-"):t.id;return ve.createElement("text",w0({},r,{dominantBaseline:"central",className:gn("recharts-radial-bar-label",s)}),ve.createElement("defs",null,ve.createElement("path",{id:E,d:O})),ve.createElement("textPath",{xlinkHref:"#".concat(E)},n))},pTe=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,p=(u+d)/2;if(i==="outside"){var h=Di(a,s,c+r,p),m=h.x,g=h.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Di(a,s,v,p),x=y.x,w=y.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},mTe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,p=d*i,h=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,v=g*i,y=g>0?"end":"start",x=g>0?"start":"end";if(o==="top"){var w={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return ni(ni({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var _={x:s+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:m};return ni(ni({},_),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var N={x:s-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return ni(ni({},N),r?{width:Math.max(N.x-r.x,0),height:u}:{})}if(o==="right"){var k={x:s+c+v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return ni(ni({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:u}:{})}var O=r?{width:c,height:u}:{};return o==="insideLeft"?ni({x:s+v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},O):o==="insideRight"?ni({x:s+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},O):o==="insideTop"?ni({x:s+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},O):o==="insideBottom"?ni({x:s+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:h},O):o==="insideTopLeft"?ni({x:s+v,y:l+p,textAnchor:x,verticalAnchor:m},O):o==="insideTopRight"?ni({x:s+c-v,y:l+p,textAnchor:y,verticalAnchor:m},O):o==="insideBottomLeft"?ni({x:s+v,y:l+u-p,textAnchor:x,verticalAnchor:h},O):o==="insideBottomRight"?ni({x:s+c-v,y:l+u-p,textAnchor:y,verticalAnchor:h},O):Ng(o)&&(Qe(o.x)||xf(o.x))&&(Qe(o.y)||xf(o.y))?ni({x:s+sh(o.x,c),y:l+sh(o.y,u),textAnchor:"end",verticalAnchor:"end"},O):ni({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},gTe=function(t){return"cx"in t&&Qe(t.cx)};function Zi(e){var t=e.offset,n=t===void 0?5:t,r=aTe(e,eTe),i=ni({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,p=i.textBreakAll;if(!o||Nn(s)&&Nn(l)&&!A.isValidElement(c)&&!nn(c))return null;if(A.isValidElement(c))return A.cloneElement(c,i);var h;if(nn(c)){if(h=A.createElement(c,i),A.isValidElement(h))return h}else h=dTe(i);var m=gTe(o),g=xn(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return hTe(i,h,g);var v=m?pTe(i):mTe(i);return ve.createElement(x2,w0({className:gn("recharts-label",d)},g,v,{breakAll:p}),h)}Zi.displayName="Label";var VG=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,p=t.y,h=t.top,m=t.left,g=t.width,v=t.height,y=t.clockWise,x=t.labelViewBox;if(x)return x;if(Qe(g)&&Qe(v)){if(Qe(d)&&Qe(p))return{x:d,y:p,width:g,height:v};if(Qe(h)&&Qe(m))return{x:h,y:m,width:g,height:v}}return Qe(d)&&Qe(p)?{x:d,y:p,width:0,height:0}:Qe(n)&&Qe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:t.viewBox?t.viewBox:{}},vTe=function(t,n){return t?t===!0?ve.createElement(Zi,{key:"label-implicit",viewBox:n}):si(t)?ve.createElement(Zi,{key:"label-implicit",viewBox:n,value:t}):A.isValidElement(t)?t.type===Zi?A.cloneElement(t,{key:"label-implicit",viewBox:n}):ve.createElement(Zi,{key:"label-implicit",content:t,viewBox:n}):nn(t)?ve.createElement(Zi,{key:"label-implicit",content:t,viewBox:n}):Ng(t)?ve.createElement(Zi,w0({viewBox:n},t,{key:"label-implicit"})):null:null},yTe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=VG(t),a=Is(i,Zi).map(function(l,c){return A.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=vTe(t.label,n||o);return[s].concat(tTe(a))};Zi.parseViewBox=VG;Zi.renderCallByParent=yTe;function bTe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var xTe=bTe;const wTe=wn(xTe);function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}var STe=["valueAccessor"],_Te=["data","dataKey","clockWise","id","textBreakAll"];function ETe(e){return CTe(e)||kTe(e)||ATe(e)||NTe()}function NTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ATe(e,t){if(e){if(typeof e=="string")return $T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $T(e,t)}}function kTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CTe(e){if(Array.isArray(e))return $T(e)}function $T(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L2.apply(this,arguments)}function c$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(n),!0).forEach(function(r){TTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TTe(e,t,n){return t=OTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OTe(e){var t=MTe(e,"string");return S0(t)=="symbol"?t:t+""}function MTe(e,t){if(S0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d$(e,t){if(e==null)return{};var n=PTe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var jTe=function(t){return Array.isArray(t.value)?wTe(t.value):t.value};function Uf(e){var t=e.valueAccessor,n=t===void 0?jTe:t,r=d$(e,STe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=d$(r,_Te);return!i||!i.length?null:ve.createElement(vi,{className:"recharts-label-list"},i.map(function(u,d){var p=Nn(o)?n(u,d):Ol(u&&u.payload,o),h=Nn(s)?{}:{id:"".concat(s,"-").concat(d)};return ve.createElement(Zi,L2({},xn(u,!0),c,h,{parentViewBox:u.parentViewBox,value:p,textBreakAll:l,viewBox:Zi.parseViewBox(Nn(a)?u:u$(u$({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Uf.displayName="LabelList";function RTe(e,t){return e?e===!0?ve.createElement(Uf,{key:"labelList-implicit",data:t}):ve.isValidElement(e)||nn(e)?ve.createElement(Uf,{key:"labelList-implicit",data:t,content:e}):Ng(e)?ve.createElement(Uf,L2({data:t},e,{key:"labelList-implicit"})):null:null}function ITe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Is(r,Uf).map(function(a,s){return A.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=RTe(e.label,t);return[o].concat(ETe(i))}Uf.renderCallByParent=ITe;function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FT.apply(this,arguments)}function f$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(n),!0).forEach(function(r){LTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LTe(e,t,n){return t=DTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DTe(e){var t=$Te(e,"string");return _0(t)=="symbol"?t:t+""}function $Te(e,t){if(_0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FTe=function(t,n){var r=Cs(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},sx=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/I2,p=c?o:o+a*d,h=Di(n,r,u,p),m=Di(n,r,i,p),g=c?o-a*d:o,v=Di(n,r,u*Math.cos(d*I2),g);return{center:h,circleTangency:m,lineTangency:v,theta:d}},KG=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=FTe(a,s),c=a+l,u=Di(n,r,o,a),d=Di(n,r,o,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=Di(n,r,i,a),m=Di(n,r,i,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},BTe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=Cs(u-c),p=sx({cx:n,cy:r,radius:o,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),h=p.circleTangency,m=p.lineTangency,g=p.theta,v=sx({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),y=v.circleTangency,x=v.lineTangency,w=v.theta,_=l?Math.abs(c-u):Math.abs(c-u)-g-w;if(_<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):KG({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var N="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var k=sx({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=k.circleTangency,E=k.lineTangency,C=k.theta,L=sx({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=L.circleTangency,I=L.lineTangency,j=L.theta,D=l?Math.abs(c-u):Math.abs(c-u)-C-j;if(D<0&&a===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},zTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GG=function(t){var n=h$(h$({},zTe),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,p=n.className;if(a<o||u===d)return null;var h=gn("recharts-sector",p),m=a-o,g=sh(s,m,0,!0),v;return g>0&&Math.abs(u-d)<360?v=BTe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=KG({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),ve.createElement("path",FT({},xn(n,!0),{className:h,d:v,role:"img"}))};function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function BT(){return BT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BT.apply(this,arguments)}function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(n),!0).forEach(function(r){UTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UTe(e,t,n){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HTe(e){var t=qTe(e,"string");return E0(t)=="symbol"?t:t+""}function qTe(e,t){if(E0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(E0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g$={curveBasisClosed:Uye,curveBasisOpen:Hye,curveBasis:zye,curveBumpX:kye,curveBumpY:Cye,curveLinearClosed:qye,curveLinear:sE,curveMonotoneX:Wye,curveMonotoneY:Vye,curveNatural:Kye,curveStep:Gye,curveStepAfter:Xye,curveStepBefore:Yye},lx=function(t){return t.x===+t.x&&t.y===+t.y},Rv=function(t){return t.x},Iv=function(t){return t.y},WTe=function(t,n){if(nn(t))return t;var r="curve".concat(oE(t));return(r==="curveMonotone"||r==="curveBump")&&n?g$["".concat(r).concat(n==="vertical"?"Y":"X")]:g$[r]||sE},VTe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=WTe(r,s),d=c?o.filter(function(g){return lx(g)}):o,p;if(Array.isArray(a)){var h=c?a.filter(function(g){return lx(g)}):a,m=d.map(function(g,v){return m$(m$({},g),{},{base:h[v]})});return s==="vertical"?p=Z1().y(Iv).x1(Rv).x0(function(g){return g.base.x}):p=Z1().x(Rv).y1(Iv).y0(function(g){return g.base.y}),p.defined(lx).curve(u),p(m)}return s==="vertical"&&Qe(a)?p=Z1().y(Iv).x1(Rv).x0(a):Qe(a)?p=Z1().x(Rv).y1(Iv).y0(a):p=YV().x(Rv).y(Iv),p.defined(lx).curve(u),p(d)},v$=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?VTe(t):i;return ve.createElement("path",BT({},xn(t,!1),i2(t),{className:gn("recharts-curve",n),d:a,ref:o}))},YG={exports:{}},KTe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GTe=KTe,YTe=GTe;function XG(){}function QG(){}QG.resetWarningCache=XG;var XTe=function(){function e(r,i,o,a,s,l){if(l!==YTe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:QG,resetWarningCache:XG};return n.PropTypes=n,n};YG.exports=XTe();var QTe=YG.exports;const _n=wn(QTe);var ZTe=Object.getOwnPropertyNames,JTe=Object.getOwnPropertySymbols,eOe=Object.prototype.hasOwnProperty;function y$(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function cx(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=e(n,r,i);return o.delete(n),o.delete(r),l}}function b$(e){return ZTe(e).concat(JTe(e))}var tOe=Object.hasOwn||function(e,t){return eOe.call(e,t)};function Mh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var nOe="__v",rOe="__o",iOe="_owner",x$=Object.getOwnPropertyDescriptor,w$=Object.keys;function oOe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function aOe(e,t){return Mh(e.getTime(),t.getTime())}function sOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lOe(e,t){return e===t}function S$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var p=a.value,h=s.value;if(n.equals(p[0],h[0],l,d,e,t,n)&&n.equals(p[1],h[1],p[0],h[0],e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var cOe=Mh;function uOe(e,t,n){var r=w$(e),i=r.length;if(w$(t).length!==i)return!1;for(;i-- >0;)if(!ZG(e,t,n,r[i]))return!1;return!0}function Lv(e,t,n){var r=b$(e),i=r.length;if(b$(t).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!ZG(e,t,n,o)||(a=x$(e,o),s=x$(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function dOe(e,t){return Mh(e.valueOf(),t.valueOf())}function fOe(e,t){return e.source===t.source&&e.flags===t.flags}function _$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.values(),a,s;(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function hOe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function pOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ZG(e,t,n,r){return(r===iOe||r===rOe||r===nOe)&&(e.$$typeof||t.$$typeof)?!0:tOe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var mOe="[object Arguments]",gOe="[object Boolean]",vOe="[object Date]",yOe="[object Error]",bOe="[object Map]",xOe="[object Number]",wOe="[object Object]",SOe="[object RegExp]",_Oe="[object Set]",EOe="[object String]",NOe="[object URL]",AOe=Array.isArray,E$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,N$=Object.assign,kOe=Object.prototype.toString.call.bind(Object.prototype.toString);function COe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var y=typeof m;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?a(m,g,v):y==="function"?i(m,g,v):!1;var x=m.constructor;if(x!==g.constructor)return!1;if(x===Object)return s(m,g,v);if(AOe(m))return t(m,g,v);if(E$!=null&&E$(m))return d(m,g,v);if(x===Date)return n(m,g,v);if(x===RegExp)return c(m,g,v);if(x===Map)return o(m,g,v);if(x===Set)return u(m,g,v);var w=kOe(m);return w===vOe?n(m,g,v):w===SOe?c(m,g,v):w===bOe?o(m,g,v):w===_Oe?u(m,g,v):w===wOe?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):w===NOe?p(m,g,v):w===yOe?r(m,g,v):w===mOe?s(m,g,v):w===gOe||w===xOe||w===EOe?l(m,g,v):!1}}function TOe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Lv:oOe,areDatesEqual:aOe,areErrorsEqual:sOe,areFunctionsEqual:lOe,areMapsEqual:r?y$(S$,Lv):S$,areNumbersEqual:cOe,areObjectsEqual:r?Lv:uOe,arePrimitiveWrappersEqual:dOe,areRegExpsEqual:fOe,areSetsEqual:r?y$(_$,Lv):_$,areTypedArraysEqual:r?Lv:hOe,areUrlsEqual:pOe};if(n&&(i=N$({},i,n(i))),t){var o=cx(i.areArraysEqual),a=cx(i.areMapsEqual),s=cx(i.areObjectsEqual),l=cx(i.areSetsEqual);i=N$({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function OOe(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function MOe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(l,c){var u=r(),d=u.cache,p=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return n(l,c,{cache:p,equals:i,meta:h,strict:o})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var POe=Md();Md({strict:!0});Md({circular:!0});Md({circular:!0,strict:!0});Md({createInternalComparator:function(){return Mh}});Md({strict:!0,createInternalComparator:function(){return Mh}});Md({circular:!0,createInternalComparator:function(){return Mh}});Md({circular:!0,createInternalComparator:function(){return Mh},strict:!0});function Md(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,a=o===void 0?!1:o,s=TOe(e),l=COe(s),c=r?r(l):OOe(l);return MOe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function jOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function A$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):jOe(i)};requestAnimationFrame(r)}function zT(e){"@babel/helpers - typeof";return zT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zT(e)}function ROe(e){return $Oe(e)||DOe(e)||LOe(e)||IOe()}function IOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(e,t){if(e){if(typeof e=="string")return k$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k$(e,t)}}function k$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Oe(e){if(Array.isArray(e))return e}function FOe(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=ROe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){A$(i.bind(null,c),l);return}i(l),A$(i.bind(null,c));return}zT(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function C$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C$(Object(n),!0).forEach(function(r){JG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JG(e,t,n){return t=BOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BOe(e){var t=zOe(e,"string");return N0(t)==="symbol"?t:String(t)}function zOe(e,t){if(N0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(N0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UOe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},HOe=function(t){return t},qOe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xy=function(t,n){return Object.keys(n).reduce(function(r,i){return T$(T$({},r),{},JG({},i,t(i,n[i])))},{})},O$=function(t,n,r){return t.map(function(i){return"".concat(qOe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function WOe(e,t){return GOe(e)||KOe(e,t)||eY(e,t)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function GOe(e){if(Array.isArray(e))return e}function YOe(e){return ZOe(e)||QOe(e)||eY(e)||XOe()}function XOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(e,t){if(e){if(typeof e=="string")return UT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UT(e,t)}}function QOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZOe(e){if(Array.isArray(e))return UT(e)}function UT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D2=1e-4,tY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},nY=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},M$=function(t,n){return function(r){var i=tY(t,n);return nY(i,r)}},JOe=function(t,n){return function(r){var i=tY(t,n),o=[].concat(YOe(i.map(function(a,s){return a*s}).slice(1)),[0]);return nY(o,r)}},P$=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=WOe(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var d=M$(i,a),p=M$(o,s),h=JOe(i,a),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,w=x,_=0;_<8;++_){var N=d(w)-x,k=h(w);if(Math.abs(N-x)<D2||k<D2)return p(w);w=m(w-N/k)}return p(w)};return g.isStepper=!1,g},eMe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(u,d,p){var h=-(u-d)*r,m=p*o,g=p+(h-m)*s/1e3,v=p*s/1e3+u;return Math.abs(v-d)<D2&&Math.abs(g)<D2?[d,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},tMe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return P$(i);case"spring":return eMe();default:if(i.split("(")[0]==="cubic-bezier")return P$(i)}return typeof i=="function"?i:null};function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function j$(e){return iMe(e)||rMe(e)||rY(e)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iMe(e){if(Array.isArray(e))return qT(e)}function R$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ti(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R$(Object(n),!0).forEach(function(r){HT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HT(e,t,n){return t=oMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oMe(e){var t=aMe(e,"string");return A0(t)==="symbol"?t:String(t)}function aMe(e,t){if(A0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(A0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sMe(e,t){return uMe(e)||cMe(e,t)||rY(e,t)||lMe()}function lMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rY(e,t){if(e){if(typeof e=="string")return qT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qT(e,t)}}function qT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function uMe(e){if(Array.isArray(e))return e}var $2=function(t,n,r){return t+(n-t)*r},WT=function(t){var n=t.from,r=t.to;return n!==r},dMe=function e(t,n,r){var i=xy(function(o,a){if(WT(a)){var s=t(a.from,a.to,a.velocity),l=sMe(s,2),c=l[0],u=l[1];return Ti(Ti({},a),{},{from:c,velocity:u})}return a},n);return r<1?xy(function(o,a){return WT(a)?Ti(Ti({},a),{},{velocity:$2(a.velocity,i[o].velocity,r),from:$2(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const fMe=function(e,t,n,r,i){var o=UOe(e,t),a=o.reduce(function(v,y){return Ti(Ti({},v),{},HT({},y,[e[y],t[y]]))},{}),s=o.reduce(function(v,y){return Ti(Ti({},v),{},HT({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},p=function(){return xy(function(y,x){return x.from},s)},h=function(){return!Object.values(s).filter(WT).length},m=function(y){c||(c=y);var x=y-c,w=x/n.dt;s=dMe(n,s,w),i(Ti(Ti(Ti({},e),t),p())),c=y,h()||(l=requestAnimationFrame(d))},g=function(y){u||(u=y);var x=(y-u)/r,w=xy(function(N,k){return $2.apply(void 0,j$(k).concat([n(x)]))},a);if(i(Ti(Ti(Ti({},e),t),w)),x<1)l=requestAnimationFrame(d);else{var _=xy(function(N,k){return $2.apply(void 0,j$(k).concat([n(1)]))},a);i(Ti(Ti(Ti({},e),t),_))}};return d=n.isStepper?m:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var hMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pMe(e,t){if(e==null)return{};var n=mMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mMe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function s5(e){return bMe(e)||yMe(e)||vMe(e)||gMe()}function gMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vMe(e,t){if(e){if(typeof e=="string")return VT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VT(e,t)}}function yMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bMe(e){if(Array.isArray(e))return VT(e)}function VT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(n),!0).forEach(function(r){Jv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jv(e,t,n){return t=iY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iY(r.key),r)}}function SMe(e,t,n){return t&&wMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iY(e){var t=_Me(e,"string");return Um(t)==="symbol"?t:String(t)}function _Me(e,t){if(Um(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Um(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KT(e,t)}function KT(e,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KT(e,t)}function NMe(e){var t=AMe();return function(){var r=F2(e),i;if(t){var o=F2(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return GT(this,i)}}function GT(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YT(e)}function YT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F2(e){return F2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F2(e)}var yd=function(e){EMe(n,e);var t=NMe(n);function n(r,i){var o;xMe(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,p=a.children,h=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(YT(o)),o.changeStyle=o.changeStyle.bind(YT(o)),!s||h<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:u}),GT(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof p=="function")return o.state={style:c},GT(o);o.state={style:l?Jv({},l,c):c}}else o.state={style:{}};return o}return SMe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,p=this.state.style;if(s){if(!a){var h={style:l?Jv({},l,u):u};this.state&&p&&(l&&p[l]!==u||!l&&p!==u)&&this.setState(h);return}if(!(POe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?d:i.to;if(this.state&&p){var v={style:l?Jv({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(v)}this.runAnimation(ms(ms({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,h=fMe(a,s,tMe(c),l,this.changeStyle),m=function(){o.stopJSAnimation=h()};this.manager.start([p,u,m,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,p=d===void 0?0:d,h=function(g,v,y){if(y===0)return g;var x=v.duration,w=v.easing,_=w===void 0?"ease":w,N=v.style,k=v.properties,O=v.onAnimationEnd,E=y>0?a[y-1]:v,C=k||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(s5(g),[o.runJSAnimation.bind(o,{from:E.style,to:N,duration:x,easing:_}),x]);var L=O$(C,x,_),M=ms(ms(ms({},E.style),N),{},{transition:L});return[].concat(s5(g),[M,x,O]).filter(HOe)};return this.manager.start([l].concat(s5(a.reduce(h,[u,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=FOe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=s?Jv({},s,l):l,v=O$(Object.keys(g),a,c);m.start([u,o,ms(ms({},g),{},{transition:v}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=pMe(i,hMe),c=A.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var d=function(h){var m=h.props,g=m.style,v=g===void 0?{}:g,y=m.className,x=A.cloneElement(h,ms(ms({},l),{},{style:ms(ms({},v),u),className:y}));return x};return c===1?d(A.Children.only(o)):ve.createElement("div",null,A.Children.map(o,function(p){return d(p)}))}}]),n}(A.PureComponent);yd.displayName="Animate";yd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yd.propTypes={from:_n.oneOfType([_n.object,_n.string]),to:_n.oneOfType([_n.object,_n.string]),attributeName:_n.string,duration:_n.number,begin:_n.number,easing:_n.oneOfType([_n.string,_n.func]),steps:_n.arrayOf(_n.shape({duration:_n.number.isRequired,style:_n.object.isRequired,easing:_n.oneOfType([_n.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_n.func]),properties:_n.arrayOf("string"),onAnimationEnd:_n.func})),children:_n.oneOfType([_n.node,_n.func]),isActive:_n.bool,canBegin:_n.bool,onAnimationEnd:_n.func,shouldReAnimate:_n.bool,onAnimationStart:_n.func,onAnimationReStart:_n.func};function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B2.apply(this,arguments)}function kMe(e,t){return MMe(e)||OMe(e,t)||TMe(e,t)||CMe()}function CMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TMe(e,t){if(e){if(typeof e=="string")return L$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L$(e,t)}}function L$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function MMe(e){if(Array.isArray(e))return e}function D$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(n),!0).forEach(function(r){PMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PMe(e,t,n){return t=jMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jMe(e){var t=RMe(e,"string");return k0(t)=="symbol"?t:t+""}function RMe(e,t){if(k0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F$=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],p=0,h=4;p<h;p++)d[p]=o[p]>a?a:o[p];u="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(n)),u+="L ".concat(t+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+s*d[1])),u+="L ".concat(t+r,",").concat(n+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-l*d[2],",").concat(n+i)),u+="L ".concat(t+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+i-s*d[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);u="M ".concat(t,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(n,`
            L `).concat(t+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(n+s*m,`
            L `).concat(t+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(n+i,`
            L `).concat(t+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(n+i-s*m," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},IMe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(a,a+l),p=Math.max(a,a+l);return r>=c&&r<=u&&i>=d&&i<=p}return!1},LMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m3=function(t){var n=$$($$({},LMe),t),r=A.useRef(),i=A.useState(-1),o=kMe(i,2),a=o[0],s=o[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,p=n.radius,h=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=gn("recharts-rectangle",h);return x?ve.createElement(yd,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(_){var N=_.width,k=_.height,O=_.x,E=_.y;return ve.createElement(yd,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:m},ve.createElement("path",B2({},xn(n,!0),{className:w,d:F$(O,E,N,k,p),ref:r})))}):ve.createElement("path",B2({},xn(n,!0),{className:w,d:F$(l,c,u,d,p)}))};function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XT.apply(this,arguments)}var oY=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=gn("recharts-dot",o);return n===+n&&r===+r&&i===+i?ve.createElement("circle",XT({},xn(t,!1),i2(t),{className:a,cx:n,cy:r,r:i})):null};function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var DMe=["x","y","top","left","width","height","className"];function QT(){return QT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QT.apply(this,arguments)}function B$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(n),!0).forEach(function(r){FMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FMe(e,t,n){return t=BMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BMe(e){var t=zMe(e,"string");return C0(t)=="symbol"?t:t+""}function zMe(e,t){if(C0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UMe(e,t){if(e==null)return{};var n=HMe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qMe=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},WMe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,p=t.height,h=p===void 0?0:p,m=t.className,g=UMe(t,DMe),v=$Me({x:r,y:o,top:s,left:c,width:d,height:h},g);return!Qe(r)||!Qe(o)||!Qe(d)||!Qe(h)||!Qe(s)||!Qe(c)?null:ve.createElement("path",QT({},xn(v,!0),{className:gn("recharts-cross",m),d:qMe(r,o,d,h,s,c)}))},VMe=bK,KMe=VMe(Object.getPrototypeOf,Object),GMe=KMe,YMe=Lc,XMe=GMe,QMe=Dc,ZMe="[object Object]",JMe=Function.prototype,ePe=Object.prototype,aY=JMe.toString,tPe=ePe.hasOwnProperty,nPe=aY.call(Object);function rPe(e){if(!QMe(e)||YMe(e)!=ZMe)return!1;var t=XMe(e);if(t===null)return!0;var n=tPe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&aY.call(n)==nPe}var iPe=rPe;const oPe=wn(iPe);var aPe=Lc,sPe=Dc,lPe="[object Boolean]";function cPe(e){return e===!0||e===!1||sPe(e)&&aPe(e)==lPe}var uPe=cPe;const dPe=wn(uPe);function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z2.apply(this,arguments)}function fPe(e,t){return gPe(e)||mPe(e,t)||pPe(e,t)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pPe(e,t){if(e){if(typeof e=="string")return z$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z$(e,t)}}function z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function gPe(e){if(Array.isArray(e))return e}function U$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(n),!0).forEach(function(r){vPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vPe(e,t,n){return t=yPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yPe(e){var t=bPe(e,"string");return T0(t)=="symbol"?t:t+""}function bPe(e,t){if(T0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q$=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},xPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wPe=function(t){var n=H$(H$({},xPe),t),r=A.useRef(),i=A.useState(-1),o=fPe(i,2),a=o[0],s=o[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,p=n.height,h=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||p!==+p||u===0&&d===0||p===0)return null;var x=gn("recharts-trapezoid",h);return y?ve.createElement(yd,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:p,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(w){var _=w.upperWidth,N=w.lowerWidth,k=w.height,O=w.x,E=w.y;return ve.createElement(yd,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},ve.createElement("path",z2({},xn(n,!0),{className:x,d:q$(O,E,_,N,k),ref:r})))}):ve.createElement("g",null,ve.createElement("path",z2({},xn(n,!0),{className:x,d:q$(l,c,u,d,p)})))},SPe=["option","shapeType","propTransformer","activeClassName","isActive"];function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}function _Pe(e,t){if(e==null)return{};var n=EPe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function W$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W$(Object(n),!0).forEach(function(r){NPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NPe(e,t,n){return t=APe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function APe(e){var t=kPe(e,"string");return O0(t)=="symbol"?t:t+""}function kPe(e,t){if(O0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CPe(e,t){return U2(U2({},t),e)}function TPe(e,t){return e==="symbols"}function V$(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return ve.createElement(m3,n);case"trapezoid":return ve.createElement(wPe,n);case"sector":return ve.createElement(GG,n);case"symbols":if(TPe(t))return ve.createElement(jj,n);break;default:return null}}function OPe(e){return A.isValidElement(e)?e.props:e}function MPe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?CPe:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=_Pe(e,SPe),c;if(A.isValidElement(t))c=A.cloneElement(t,U2(U2({},l),OPe(t)));else if(nn(t))c=t(l);else if(oPe(t)&&!dPe(t)){var u=i(t,l);c=ve.createElement(V$,{shapeType:n,elementProps:u})}else{var d=l;c=ve.createElement(V$,{shapeType:n,elementProps:d})}return s?ve.createElement(vi,{className:a},c):c}function _E(e,t){return t!=null&&"trapezoids"in e.props}function EE(e,t){return t!=null&&"sectors"in e.props}function M0(e,t){return t!=null&&"points"in e.props}function PPe(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function jPe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function RPe(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function IPe(e,t){var n;return _E(e,t)?n=PPe:EE(e,t)?n=jPe:M0(e,t)&&(n=RPe),n}function LPe(e,t){var n;return _E(e,t)?n="trapezoids":EE(e,t)?n="sectors":M0(e,t)&&(n="points"),n}function DPe(e,t){if(_E(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(EE(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return M0(e,t)?t.payload:{}}function $Pe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=LPe(n,t),o=DPe(n,t),a=r.filter(function(l,c){var u=d3(o,l),d=n.props[i].filter(function(m){var g=IPe(n,t);return g(m,t)}),p=n.props[i].indexOf(d[d.length-1]),h=c===p;return u&&h}),s=r.indexOf(a[a.length-1]);return s}var FPe=Math.ceil,BPe=Math.max;function zPe(e,t,n,r){for(var i=-1,o=BPe(FPe((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var UPe=zPe,HPe=$K,K$=1/0,qPe=17976931348623157e292;function WPe(e){if(!e)return e===0?e:0;if(e=HPe(e),e===K$||e===-K$){var t=e<0?-1:1;return t*qPe}return e===e?e:0}var sY=WPe,VPe=UPe,KPe=dE,l5=sY;function GPe(e){return function(t,n,r){return r&&typeof r!="number"&&KPe(t,n,r)&&(n=r=void 0),t=l5(t),n===void 0?(n=t,t=0):n=l5(n),r=r===void 0?t<n?1:-1:l5(r),VPe(t,n,r,e)}}var YPe=GPe,XPe=YPe,QPe=XPe(),ZPe=QPe;const H2=wn(ZPe);function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function G$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(n),!0).forEach(function(r){lY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lY(e,t,n){return t=JPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JPe(e){var t=eje(e,"string");return P0(t)=="symbol"?t:t+""}function eje(e,t){if(P0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tje=["Webkit","Moz","O","ms"],nje=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=tje.reduce(function(o,a){return Y$(Y$({},o),{},lY({},a+r,n))},{});return i[t]=n,i};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q2.apply(this,arguments)}function X$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(n),!0).forEach(function(r){ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uY(r.key),r)}}function ije(e,t,n){return t&&Q$(e.prototype,t),n&&Q$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oje(e,t,n){return t=W2(t),aje(e,cY()?Reflect.construct(t,n||[],W2(e).constructor):t.apply(e,n))}function aje(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sje(e)}function sje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cY=function(){return!!e})()}function W2(e){return W2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W2(e)}function lje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZT(e,t)}function ZT(e,t){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZT(e,t)}function ra(e,t,n){return t=uY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uY(e){var t=cje(e,"string");return Hm(t)=="symbol"?t:t+""}function cje(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uje=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=yy().domain(H2(0,l)).range([o,o+a-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},Z$=function(t){return t.changedTouches&&!!t.changedTouches.length},qm=function(e){function t(n){var r;return rje(this,t),r=oje(this,t,[n]),ra(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ra(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ra(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),ra(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ra(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ra(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ra(r,"handleSlideDragStart",function(i){var o=Z$(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lje(t,e),ije(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,o),p=Math.max(i,o),h=t.getIndexInRange(a,d),m=t.getIndexInRange(a,p);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Ol(o[r],s,r);return nn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,p=l.startIndex,h=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+u-d-s,c+u-d-a):g<0&&(g=Math.max(g,c-a,c-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==p||v.endIndex!==h)&&m&&m(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=Z$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,p=u.width,h=u.travellerWidth,m=u.onChange,g=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+p-h-c):x<0&&(x=Math.max(x,d-c)),y[a]=c+x;var w=this.getIndex(y),_=w.startIndex,N=w.endIndex,k=function(){var E=v.length-1;return a==="startX"&&(s>l?_%g===0:N%g===0)||s<l&&N===E||a==="endX"&&(s>l?N%g===0:_%g===0)||s>l&&N===E};this.setState(ra(ra({},a,c+x),"brushMoveStartX",r.pageX),function(){m&&k()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var p=d+r;if(!(p===-1||p>=s.length)){var h=s[p];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(ra({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return ve.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,d=A.Children.only(c);return d?ve.cloneElement(d,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,p=l.traveller,h=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),x=c5(c5({},xn(this.props,!1)),{},{x:y,y:c,width:u,height:d}),w=h||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[v])===null||a===void 0?void 0:a.name);return ve.createElement(vi,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),s.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,p=u.endX,h=5,m={pointerEvents:"none",fill:c};return ve.createElement(vi,{className:"recharts-brush-texts"},ve.createElement(x2,q2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-h,y:a+s/2},m),this.getTextOfTick(i)),ve.createElement(x2,q2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+h,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,p=this.state,h=p.startX,m=p.endX,g=p.isTextActive,v=p.isSlideMoving,y=p.isTravellerMoving,x=p.isTravellerFocused;if(!i||!i.length||!Qe(s)||!Qe(l)||!Qe(c)||!Qe(u)||c<=0||u<=0)return null;var w=gn("recharts-brush",o),_=ve.Children.count(a)===1,N=nje("userSelect","none");return ve.createElement(vi,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||y||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return ve.createElement(ve.Fragment,null,ve.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),ve.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),ve.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return ve.isValidElement(r)?o=ve.cloneElement(r,i):nn(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return c5({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?uje({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(A.PureComponent);ra(qm,"displayName","Brush");ra(qm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dje=Bj;function fje(e,t){var n;return dje(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var hje=fje,pje=dK,mje=Cd,gje=hje,vje=Wo,yje=dE;function bje(e,t,n){var r=vje(e)?pje:gje;return n&&yje(e,t,n)&&(t=void 0),r(e,mje(t))}var xje=bje;const wje=wn(xje);var El=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},J$=jK;function Sje(e,t,n){t=="__proto__"&&J$?J$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var _je=Sje,Eje=_je,Nje=MK,Aje=Cd;function kje(e,t){var n={};return t=Aje(t),Nje(e,function(r,i,o){Eje(n,i,t(r,i,o))}),n}var Cje=kje;const Tje=wn(Cje);function Oje(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Mje=Oje,Pje=Bj;function jje(e,t){var n=!0;return Pje(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Rje=jje,Ije=Mje,Lje=Rje,Dje=Cd,$je=Wo,Fje=dE;function Bje(e,t,n){var r=$je(e)?Ije:Lje;return n&&Fje(e,t,n)&&(t=void 0),r(e,Dje(t))}var zje=Bje;const dY=wn(zje);var Uje=["x","y"];function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JT.apply(this,arguments)}function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(r){Hje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hje(e,t,n){return t=qje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qje(e){var t=Wje(e,"string");return j0(t)=="symbol"?t:t+""}function Wje(e,t){if(j0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vje(e,t){if(e==null)return{};var n=Kje(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Gje(e,t){var n=e.x,r=e.y,i=Vje(e,Uje),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),p=parseInt(d,10);return Dv(Dv(Dv(Dv(Dv({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function t8(e){return ve.createElement(MPe,JT({shapeType:"rectangle",propTransformer:Gje,activeClassName:"recharts-active-bar"},e))}var Yje=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=typeof r=="number";return o?t(r,i):(o||ch(),n)}},Xje=["value","background"],fY;function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function Qje(e,t){if(e==null)return{};var n=Zje(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V2.apply(this,arguments)}function n8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(n),!0).forEach(function(r){Fu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pY(r.key),r)}}function e3e(e,t,n){return t&&r8(e.prototype,t),n&&r8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t3e(e,t,n){return t=K2(t),n3e(e,hY()?Reflect.construct(t,n||[],K2(e).constructor):t.apply(e,n))}function n3e(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r3e(e)}function r3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hY=function(){return!!e})()}function K2(e){return K2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K2(e)}function i3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eO(e,t)}function eO(e,t){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eO(e,t)}function Fu(e,t,n){return t=pY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pY(e){var t=o3e(e,"string");return Wm(t)=="symbol"?t:t+""}function o3e(e,t){if(Wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bd=function(e){function t(){var n;Jje(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=t3e(this,t,[].concat(i)),Fu(n,"state",{isAnimationFinished:!1}),Fu(n,"id",iE("recharts-bar-")),Fu(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Fu(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return i3e(t,e),e3e(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=xn(this.props,!1);return r&&r.map(function(d,p){var h=p===l,m=h?c:a,g=zr(zr(zr({},u),d),{},{isActive:h,option:m,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ve.createElement(vi,V2({className:"recharts-bar-rectangle"},o2(i.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),ve.createElement(t8,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,p=this.state.prevData;return ve.createElement(yd,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,g=o.map(function(v,y){var x=p&&p[y];if(x){var w=Jh(x.x,v.x),_=Jh(x.y,v.y),N=Jh(x.width,v.width),k=Jh(x.height,v.height);return zr(zr({},v),{},{x:w(m),y:_(m),width:N(m),height:k(m)})}if(a==="horizontal"){var O=Jh(0,v.height),E=O(m);return zr(zr({},v),{},{y:v.y+v.height-E,height:E})}var C=Jh(0,v.width),L=C(m);return zr(zr({},v),{},{width:L})});return ve.createElement(vi,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!d3(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=xn(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,p=Qje(c,Xje);if(!d)return null;var h=zr(zr(zr(zr(zr({},p),{},{fill:"#eee"},d),l),o2(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return ve.createElement(t8,V2({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=Is(u,SE);if(!d)return null;var p=c==="vertical"?a[0].height/2:a[0].width/2,h=function(v,y){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Ol(v,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ve.createElement(vi,m,d.map(function(g){return ve.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,p=r.height,h=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=gn("recharts-bar",a),x=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,_=x||w,N=Nn(g)?this.id:g;return ve.createElement(vi,{className:y},x||w?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(N)},ve.createElement("rect",{x:x?c:c-d/2,y:w?u:u-p/2,width:x?d:d*2,height:w?p:p*2}))):null,ve.createElement(vi,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!h||v)&&Uf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(A.PureComponent);fY=bd;Fu(bd,"displayName","Bar");Fu(bd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fu(bd,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,h=ICe(r,n);if(!h)return null;var m=t.layout,g=n.type.defaultProps,v=g!==void 0?zr(zr({},g),n.props):n.props,y=v.dataKey,x=v.children,w=v.minPointSize,_=m==="horizontal"?a:o,N=c?_.scale.domain():null,k=HCe({numericAxis:_}),O=Is(x,y2),E=d.map(function(C,L){var M,I,j,D,q,z;c?M=LCe(c[u+L],N):(M=Ol(C,y),Array.isArray(M)||(M=[k,M]));var W=Yje(w,fY.defaultProps.minPointSize)(M[1],L);if(m==="horizontal"){var F,B=[a.scale(M[0]),a.scale(M[1])],te=B[0],K=B[1];I=t$({axis:o,ticks:s,bandSize:i,offset:h.offset,entry:C,index:L}),j=(F=K??te)!==null&&F!==void 0?F:void 0,D=h.size;var R=te-K;if(q=Number.isNaN(R)?0:R,z={x:I,y:a.y,width:D,height:a.height},Math.abs(W)>0&&Math.abs(q)<Math.abs(W)){var U=Cs(q||W)*(Math.abs(W)-Math.abs(q));j-=U,q+=U}}else{var Y=[o.scale(M[0]),o.scale(M[1])],Z=Y[0],ae=Y[1];if(I=Z,j=t$({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:C,index:L}),D=ae-Z,q=h.size,z={x:o.x,y:j,width:o.width,height:q},Math.abs(W)>0&&Math.abs(D)<Math.abs(W)){var se=Cs(D||W)*(Math.abs(W)-Math.abs(D));D+=se}}return zr(zr(zr({},C),{},{x:I,y:j,width:D,height:q,value:c?M:M[1],payload:C,background:z},O&&O[L]&&O[L].props),{},{tooltipPayload:[WG(n,C)],tooltipPosition:{x:I+D/2,y:j+q/2}})});return zr({data:E,layout:m},p)});function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function a3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mY(r.key),r)}}function s3e(e,t,n){return t&&i8(e.prototype,t),n&&i8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(n),!0).forEach(function(r){NE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NE(e,t,n){return t=mY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=l3e(e,"string");return R0(t)=="symbol"?t:t+""}function l3e(e,t){if(R0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c3e=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!sa(c,bd);return u.reduce(function(h,m){var g=n[m],v=g.orientation,y=g.domain,x=g.padding,w=x===void 0?{}:x,_=g.mirror,N=g.reversed,k="".concat(v).concat(_?"Mirror":""),O,E,C,L,M;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=y[1]-y[0],j=1/0,D=g.categoricalDomain.sort();if(D.forEach(function(Y,Z){Z>0&&(j=Math.min((Y||0)-(D[Z-1]||0),j))}),Number.isFinite(j)){var q=j/I,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(O=q*z/2),g.padding==="no-gap"){var W=sh(t.barCategoryGap,q*z),F=q*z/2;O=F-W-(F-W)/z*W}}}i==="xAxis"?E=[r.left+(w.left||0)+(O||0),r.left+r.width-(w.right||0)-(O||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(O||0),r.top+r.height-(w.bottom||0)-(O||0)]:E=g.range,N&&(E=[E[1],E[0]]);var B=jCe(g,o,p),te=B.scale,K=B.realScaleType;te.domain(y).range(E),RCe(te);var R=UCe(te,_s(_s({},g),{},{realScaleType:K}));i==="xAxis"?(M=v==="top"&&!_||v==="bottom"&&_,C=r.left,L=d[k]-M*g.height):i==="yAxis"&&(M=v==="left"&&!_||v==="right"&&_,C=d[k]-M*g.width,L=r.top);var U=_s(_s(_s({},g),R),{},{realScaleType:K,x:C,y:L,scale:te,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return U.bandSize=R2(U,R),!g.hide&&i==="xAxis"?d[k]+=(M?-1:1)*U.height:g.hide||(d[k]+=(M?-1:1)*U.width),_s(_s({},h),{},NE({},m,U))},{})},gY=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},u3e=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return gY({x:n,y:r},{x:i,y:o})},vY=function(){function e(t){a3e(this,e),this.scale=t}return s3e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();NE(vY,"EPS",1e-4);var g3=function(t){var n=Object.keys(t).reduce(function(r,i){return _s(_s({},r),{},NE({},i,vY.create(t[i])))},{});return _s(_s({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Tje(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return dY(i,function(o,a){return n[a].isInRange(o)})}})};function d3e(e){return(e%180+180)%180}var f3e=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=d3e(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},h3e=Cd,p3e=Tb,m3e=cE;function g3e(e){return function(t,n,r){var i=Object(t);if(!p3e(t)){var o=h3e(n);t=m3e(t),n=function(s){return o(i[s],s,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var v3e=g3e,y3e=sY;function b3e(e){var t=y3e(e),n=t%1;return t===t?n?t-n:t:0}var x3e=b3e,w3e=NK,S3e=Cd,_3e=x3e,E3e=Math.max;function N3e(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:_3e(n);return i<0&&(i=E3e(r+i,0)),w3e(e,S3e(t),i)}var A3e=N3e,k3e=v3e,C3e=A3e,T3e=k3e(C3e),O3e=T3e;const M3e=wn(O3e);var P3e=bge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),v3=A.createContext(void 0),y3=A.createContext(void 0),yY=A.createContext(void 0),bY=A.createContext({}),xY=A.createContext(void 0),wY=A.createContext(0),SY=A.createContext(0),a8=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,u=P3e(o);return ve.createElement(v3.Provider,{value:r},ve.createElement(y3.Provider,{value:i},ve.createElement(bY.Provider,{value:o},ve.createElement(yY.Provider,{value:u},ve.createElement(xY.Provider,{value:a},ve.createElement(wY.Provider,{value:c},ve.createElement(SY.Provider,{value:l},s)))))))},j3e=function(){return A.useContext(xY)},_Y=function(t){var n=A.useContext(v3);n==null&&ch();var r=n[t];return r==null&&ch(),r},R3e=function(){var t=A.useContext(v3);return _u(t)},I3e=function(){var t=A.useContext(y3),n=M3e(t,function(r){return dY(r.domain,Number.isFinite)});return n||_u(t)},EY=function(t){var n=A.useContext(y3);n==null&&ch();var r=n[t];return r==null&&ch(),r},L3e=function(){var t=A.useContext(yY);return t},D3e=function(){return A.useContext(bY)},b3=function(){return A.useContext(SY)},x3=function(){return A.useContext(wY)};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function $3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F3e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AY(r.key),r)}}function B3e(e,t,n){return t&&F3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z3e(e,t,n){return t=G2(t),U3e(e,NY()?Reflect.construct(t,n||[],G2(e).constructor):t.apply(e,n))}function U3e(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3e(e)}function H3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NY=function(){return!!e})()}function G2(e){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G2(e)}function q3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tO(e,t)}function tO(e,t){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tO(e,t)}function s8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s8(Object(n),!0).forEach(function(r){w3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w3(e,t,n){return t=AY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AY(e){var t=W3e(e,"string");return Vm(t)=="symbol"?t:t+""}function W3e(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V3e(e,t){return X3e(e)||Y3e(e,t)||G3e(e,t)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3e(e,t){if(e){if(typeof e=="string")return c8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c8(e,t)}}function c8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function X3e(e){if(Array.isArray(e))return e}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nO.apply(this,arguments)}var Q3e=function(t,n){var r;return ve.isValidElement(t)?r=ve.cloneElement(t,n):nn(t)?r=t(n):r=ve.createElement("line",nO({},n,{className:"recharts-reference-line-line"})),r},Z3e=function(t,n,r,i,o,a,s,l,c){var u=o.x,d=o.y,p=o.width,h=o.height;if(r){var m=c.y,g=t.y.apply(m,{position:a});if(El(c,"discard")&&!t.y.isInRange(g))return null;var v=[{x:u+p,y:g},{x:u,y:g}];return l==="left"?v.reverse():v}if(n){var y=c.x,x=t.x.apply(y,{position:a});if(El(c,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:d+h},{x,y:d}];return s==="top"?w.reverse():w}if(i){var _=c.segment,N=_.map(function(k){return t.apply(k,{position:a})});return El(c,"discard")&&wje(N,function(k){return!t.isInRange(k)})?null:N}return null};function J3e(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,c=j3e(),u=_Y(i),d=EY(o),p=L3e();if(!c||!p)return null;wc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=g3({x:u.scale,y:d.scale}),m=si(t),g=si(n),v=r&&r.length===2,y=Z3e(h,m,g,v,p,e.position,u.orientation,d.orientation,e);if(!y)return null;var x=V3e(y,2),w=x[0],_=w.x,N=w.y,k=x[1],O=k.x,E=k.y,C=El(e,"hidden")?"url(#".concat(c,")"):void 0,L=l8(l8({clipPath:C},xn(e,!0)),{},{x1:_,y1:N,x2:O,y2:E});return ve.createElement(vi,{className:gn("recharts-reference-line",s)},Q3e(a,L),Zi.renderCallByParent(e,u3e({x1:_,y1:N,x2:O,y2:E})))}var S3=function(e){function t(){return $3e(this,t),z3e(this,t,arguments)}return q3e(t,e),B3e(t,[{key:"render",value:function(){return ve.createElement(J3e,this.props)}}])}(ve.Component);w3(S3,"displayName","ReferenceLine");w3(S3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rO.apply(this,arguments)}function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function u8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(n),!0).forEach(function(r){AE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CY(r.key),r)}}function nRe(e,t,n){return t&&tRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rRe(e,t,n){return t=Y2(t),iRe(e,kY()?Reflect.construct(t,n||[],Y2(e).constructor):t.apply(e,n))}function iRe(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oRe(e)}function oRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kY=function(){return!!e})()}function Y2(e){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y2(e)}function aRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iO(e,t)}function iO(e,t){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iO(e,t)}function AE(e,t,n){return t=CY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CY(e){var t=sRe(e,"string");return Km(t)=="symbol"?t:t+""}function sRe(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lRe=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=g3({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return El(t,"discard")&&!a.isInRange(s)?null:s},kE=function(e){function t(){return eRe(this,t),rRe(this,t,arguments)}return aRe(t,e),nRe(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=si(i),u=si(o);if(wc(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=lRe(this.props);if(!d)return null;var p=d.x,h=d.y,m=this.props,g=m.shape,v=m.className,y=El(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=d8(d8({clipPath:y},xn(this.props,!0)),{},{cx:p,cy:h});return ve.createElement(vi,{className:gn("recharts-reference-dot",v)},t.renderDot(g,x),Zi.renderCallByParent(this.props,{x:p-a,y:h-a,width:2*a,height:2*a}))}}])}(ve.Component);AE(kE,"displayName","ReferenceDot");AE(kE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});AE(kE,"renderDot",function(e,t){var n;return ve.isValidElement(e)?n=ve.cloneElement(e,t):nn(e)?n=e(t):n=ve.createElement(oY,rO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oO.apply(this,arguments)}function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(r){CE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OY(r.key),r)}}function dRe(e,t,n){return t&&uRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fRe(e,t,n){return t=X2(t),hRe(e,TY()?Reflect.construct(t,n||[],X2(e).constructor):t.apply(e,n))}function hRe(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pRe(e)}function pRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TY=function(){return!!e})()}function X2(e){return X2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X2(e)}function mRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aO(e,t)}function aO(e,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aO(e,t)}function CE(e,t,n){return t=OY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OY(e){var t=gRe(e,"string");return Gm(t)=="symbol"?t:t+""}function gRe(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vRe=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var p=g3({x:u.scale,y:d.scale}),h={x:t?p.x.apply(a,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},m={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(c,{position:"end"}):p.y.rangeMax};return El(o,"discard")&&(!p.isInRange(h)||!p.isInRange(m))?null:gY(h,m)},TE=function(e){function t(){return cRe(this,t),fRe(this,t,arguments)}return mRe(t,e),dRe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;wc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=si(i),p=si(o),h=si(a),m=si(s),g=this.props.shape;if(!d&&!p&&!h&&!m&&!g)return null;var v=vRe(d,p,h,m,this.props);if(!v&&!g)return null;var y=El(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ve.createElement(vi,{className:gn("recharts-reference-area",l)},t.renderRect(g,h8(h8({clipPath:y},xn(this.props,!0)),v)),Zi.renderCallByParent(this.props,v))}}])}(ve.Component);CE(TE,"displayName","ReferenceArea");CE(TE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});CE(TE,"renderRect",function(e,t){var n;return ve.isValidElement(e)?n=ve.cloneElement(e,t):nn(e)?n=e(t):n=ve.createElement(m3,oO({},t,{className:"recharts-reference-area-rect"})),n});function MY(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function yRe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return f3e(r,n)}function bRe(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Q2(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function xRe(e,t){return MY(e,t+1)}function wRe(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,c=1,u=a,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:MY(r,c)};var g=l,v,y=function(){return v===void 0&&(v=n(m,g)),v},x=m.coordinate,w=l===0||Q2(e,x,y,u,s);w||(l=0,u=a,c+=1),w&&(u=x+e*(y()/2+i),l+=c)},p;c<=o.length;)if(p=d(),p)return p.v;return[]}function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function p8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(r){SRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SRe(e,t,n){return t=_Re(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Re(e){var t=ERe(e,"string");return I0(t)=="symbol"?t:t+""}function ERe(e,t){if(I0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NRe(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(p){var h=o[p],m,g=function(){return m===void 0&&(m=n(h,p)),m};if(p===a-1){var v=e*(h.coordinate+e*g()/2-l);o[p]=h=Yi(Yi({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else o[p]=h=Yi(Yi({},h),{},{tickCoord:h.coordinate});var y=Q2(e,h.tickCoord,g,s,l);y&&(l=h.tickCoord-e*(g()/2+i),o[p]=Yi(Yi({},h),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function ARe(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),p=e*(u.coordinate+e*d/2-c);a[s-1]=u=Yi(Yi({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var h=Q2(e,u.tickCoord,function(){return d},l,c);h&&(c=u.tickCoord-e*(d/2+i),a[s-1]=Yi(Yi({},u),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(x){var w=a[x],_,N=function(){return _===void 0&&(_=n(w,x)),_};if(x===0){var k=e*(w.coordinate-e*N()/2-l);a[x]=w=Yi(Yi({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else a[x]=w=Yi(Yi({},w),{},{tickCoord:w.coordinate});var O=Q2(e,w.tickCoord,N,l,c);O&&(l=w.tickCoord+e*(N()/2+i),a[x]=Yi(Yi({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return a}function _3(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Qe(l)||nd.isSsr)return xRe(i,typeof l=="number"&&Qe(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",m=u&&h==="width"?vy(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(w,_){var N=nn(c)?c(w.value,_):w.value;return h==="width"?yRe(vy(N,{fontSize:t,letterSpacing:n}),m,d):vy(N,{fontSize:t,letterSpacing:n})[h]},v=i.length>=2?Cs(i[1].coordinate-i[0].coordinate):1,y=bRe(o,v,h);return l==="equidistantPreserveStart"?wRe(v,y,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=ARe(v,y,g,i,a,l==="preserveStartEnd"):p=NRe(v,y,g,i,a),p.filter(function(x){return x.isShow}))}var kRe=["viewBox"],CRe=["viewBox"],TRe=["ticks"];function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rp.apply(this,arguments)}function m8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(n),!0).forEach(function(r){E3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u5(e,t){if(e==null)return{};var n=ORe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ORe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jY(r.key),r)}}function PRe(e,t,n){return t&&g8(e.prototype,t),n&&g8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jRe(e,t,n){return t=Z2(t),RRe(e,PY()?Reflect.construct(t,n||[],Z2(e).constructor):t.apply(e,n))}function RRe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IRe(e)}function IRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PY=function(){return!!e})()}function Z2(e){return Z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z2(e)}function LRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sO(e,t)}function sO(e,t){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sO(e,t)}function E3(e,t,n){return t=jY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jY(e){var t=DRe(e,"string");return Ym(t)=="symbol"?t:t+""}function DRe(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ig=function(e){function t(n){var r;return MRe(this,t),r=jRe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return LRe(t,e),PRe(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=u5(r,kRe),s=this.props,l=s.viewBox,c=u5(s,CRe);return!Gp(o,l)||!Gp(a,c)||!Gp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,p=i.tickMargin,h,m,g,v,y,x,w=d?-1:1,_=r.tickSize||u,N=Qe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=m=r.coordinate,v=a+ +!d*l,g=v-w*_,x=g-w*p,y=N;break;case"left":g=v=r.coordinate,m=o+ +!d*s,h=m-w*_,y=h-w*p,x=N;break;case"right":g=v=r.coordinate,m=o+ +d*s,h=m+w*_,y=h+w*p,x=N;break;default:h=m=r.coordinate,v=a+ +d*l,g=v+w*_,x=g+w*p,y=N;break}return{line:{x1:h,y1:g,x2:m,y2:v},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=ho(ho(ho({},xn(this.props,!1)),xn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);d=ho(ho({},d),{},{x1:i,y1:o+p*s,x2:i+a,y2:o+p*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=ho(ho({},d),{},{x1:i+h*a,y1:o,x2:i+h*a,y2:o+s})}return ve.createElement("line",Rp({},d,{className:gn("recharts-cartesian-axis-line",Ka(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,p=s.unit,h=_3(ho(ho({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=xn(this.props,!1),y=xn(u,!1),x=ho(ho({},v),{},{fill:"none"},xn(l,!1)),w=h.map(function(_,N){var k=a.getTickLineCoord(_),O=k.line,E=k.tick,C=ho(ho(ho(ho({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:c},y),E),{},{index:N,payload:_,visibleTicksCount:h.length,tickFormatter:d});return ve.createElement(vi,Rp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},o2(a.props,_,N)),l&&ve.createElement("line",Rp({},x,O,{className:gn("recharts-cartesian-axis-tick-line",Ka(l,"className"))})),u&&t.renderTickItem(u,C,"".concat(nn(d)?d(_.value,N):_.value).concat(p||"")))});return ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,p=d.ticks,h=u5(d,TRe),m=p;return nn(l)&&(m=p&&p.length>0?l(this.props):l(h)),a<=0||s<=0||!m||!m.length?null:ve.createElement(vi,{className:gn("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Zi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return ve.isValidElement(r)?a=ve.cloneElement(r,i):nn(r)?a=r(i):a=ve.createElement(x2,Rp({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(A.Component);E3(Ig,"displayName","CartesianAxis");E3(Ig,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Re=["x1","y1","x2","y2","key"],FRe=["offset"];function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function v8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(n),!0).forEach(function(r){BRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BRe(e,t,n){return t=zRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zRe(e){var t=URe(e,"string");return uh(t)=="symbol"?t:t+""}function URe(e,t){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_f.apply(this,arguments)}function y8(e,t){if(e==null)return{};var n=HRe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qRe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return ve.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RY(e,t){var n;if(ve.isValidElement(e))n=ve.cloneElement(e,t);else if(nn(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=y8(t,$Re),c=xn(l,!1);c.offset;var u=y8(c,FRe);n=ve.createElement("line",_f({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function WRe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Ji(Ji({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return RY(i,c)});return ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function VRe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Ji(Ji({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return RY(i,c)});return ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function KRe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==u[0]&&u.unshift(0);var d=u.map(function(p,h){var m=!u[h+1],g=m?i+a-p:u[h+1]-p;if(g<=0)return null;var v=h%t.length;return ve.createElement("rect",{key:"react-".concat(h),y:p,x:r,height:g,width:o,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function GRe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(p){return Math.round(p+o-o)}).sort(function(p,h){return p-h});o!==u[0]&&u.unshift(0);var d=u.map(function(p,h){var m=!u[h+1],g=m?o+s-p:u[h+1]-p;if(g<=0)return null;var v=h%r.length;return ve.createElement("rect",{key:"react-".concat(h),x:p,y:a,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var YRe=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return HG(_3(Ji(Ji(Ji({},Ig.defaultProps),r),{},{ticks:vc(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},XRe=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return HG(_3(Ji(Ji(Ji({},Ig.defaultProps),r),{},{ticks:vc(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},np={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lO(e){var t,n,r,i,o,a,s=b3(),l=x3(),c=D3e(),u=Ji(Ji({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:np.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:np.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:np.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:np.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:np.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:np.verticalFill,x:Qe(e.x)?e.x:c.left,y:Qe(e.y)?e.y:c.top,width:Qe(e.width)?e.width:c.width,height:Qe(e.height)?e.height:c.height}),d=u.x,p=u.y,h=u.width,m=u.height,g=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,x=R3e(),w=I3e();if(!Qe(h)||h<=0||!Qe(m)||m<=0||!Qe(d)||d!==+d||!Qe(p)||p!==+p)return null;var _=u.verticalCoordinatesGenerator||YRe,N=u.horizontalCoordinatesGenerator||XRe,k=u.horizontalPoints,O=u.verticalPoints;if((!k||!k.length)&&nn(N)){var E=v&&v.length,C=N({yAxis:w?Ji(Ji({},w),{},{ticks:E?v:w.ticks}):void 0,width:s,height:l,offset:c},E?!0:g);wc(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uh(C),"]")),Array.isArray(C)&&(k=C)}if((!O||!O.length)&&nn(_)){var L=y&&y.length,M=_({xAxis:x?Ji(Ji({},x),{},{ticks:L?y:x.ticks}):void 0,width:s,height:l,offset:c},L?!0:g);wc(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uh(M),"]")),Array.isArray(M)&&(O=M)}return ve.createElement("g",{className:"recharts-cartesian-grid"},ve.createElement(qRe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ve.createElement(WRe,_f({},u,{offset:c,horizontalPoints:k,xAxis:x,yAxis:w})),ve.createElement(VRe,_f({},u,{offset:c,verticalPoints:O,xAxis:x,yAxis:w})),ve.createElement(KRe,_f({},u,{horizontalPoints:k})),ve.createElement(GRe,_f({},u,{verticalPoints:O})))}lO.displayName="CartesianGrid";function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function QRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DY(r.key),r)}}function JRe(e,t,n){return t&&ZRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e4e(e,t,n){return t=J2(t),t4e(e,IY()?Reflect.construct(t,n||[],J2(e).constructor):t.apply(e,n))}function t4e(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4e(e)}function n4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IY=function(){return!!e})()}function J2(e){return J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J2(e)}function r4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cO(e,t)}function cO(e,t){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cO(e,t)}function LY(e,t,n){return t=DY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DY(e){var t=i4e(e,"string");return Xm(t)=="symbol"?t:t+""}function i4e(e,t){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uO.apply(this,arguments)}function o4e(e){var t=e.xAxisId,n=b3(),r=x3(),i=_Y(t);return i==null?null:ve.createElement(Ig,uO({},i,{className:gn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return vc(a,!0)}}))}var L0=function(e){function t(){return QRe(this,t),e4e(this,t,arguments)}return r4e(t,e),JRe(t,[{key:"render",value:function(){return ve.createElement(o4e,this.props)}}])}(ve.Component);LY(L0,"displayName","XAxis");LY(L0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function a4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s4e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BY(r.key),r)}}function l4e(e,t,n){return t&&s4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c4e(e,t,n){return t=eS(t),u4e(e,$Y()?Reflect.construct(t,n||[],eS(e).constructor):t.apply(e,n))}function u4e(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d4e(e)}function d4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Y=function(){return!!e})()}function eS(e){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eS(e)}function f4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dO(e,t)}function dO(e,t){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dO(e,t)}function FY(e,t,n){return t=BY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BY(e){var t=h4e(e,"string");return Qm(t)=="symbol"?t:t+""}function h4e(e,t){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fO.apply(this,arguments)}var p4e=function(t){var n=t.yAxisId,r=b3(),i=x3(),o=EY(n);return o==null?null:ve.createElement(Ig,fO({},o,{className:gn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return vc(s,!0)}}))},D0=function(e){function t(){return a4e(this,t),c4e(this,t,arguments)}return f4e(t,e),l4e(t,[{key:"render",value:function(){return ve.createElement(p4e,this.props)}}])}(ve.Component);FY(D0,"displayName","YAxis");FY(D0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function b8(e){return y4e(e)||v4e(e)||g4e(e)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g4e(e,t){if(e){if(typeof e=="string")return hO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hO(e,t)}}function v4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y4e(e){if(Array.isArray(e))return hO(e)}function hO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pO=function(t,n,r,i,o){var a=Is(t,S3),s=Is(t,kE),l=[].concat(b8(a),b8(s)),c=Is(t,TE),u="".concat(i,"Id"),d=i[0],p=n;if(l.length&&(p=l.reduce(function(g,v){if(v.props[u]===r&&El(v.props,"extendDomain")&&Qe(v.props[d])){var y=v.props[d];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},p)),c.length){var h="".concat(d,"1"),m="".concat(d,"2");p=c.reduce(function(g,v){if(v.props[u]===r&&El(v.props,"extendDomain")&&Qe(v.props[h])&&Qe(v.props[m])){var y=v.props[h],x=v.props[m];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},p)}return o&&o.length&&(p=o.reduce(function(g,v){return Qe(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},p)),p},zY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,p),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,h=d.length,m=new Array(h);p<h;p++)m[p]=d[p].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,p,h,m){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,p),!0;case 5:return v.fn.call(v.context,u,d,p,h),!0;case 6:return v.fn.call(v.context,u,d,p,h,m),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,N;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,p);break;default:if(!x)for(N=1,x=new Array(y-1);N<y;N++)x[N-1]=arguments[N];v[w].fn.apply(v[w].context,x)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,p){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!p||m.once)&&(!d||m.context===d)&&a(this,h);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||p&&!m[g].once||d&&m[g].context!==d)&&v.push(m[g]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(zY);var b4e=zY.exports;const x4e=wn(b4e);var d5=new x4e,f5="recharts.syncMouseEvents";function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function w4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UY(r.key),r)}}function _4e(e,t,n){return t&&S4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h5(e,t,n){return t=UY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UY(e){var t=E4e(e,"string");return $0(t)=="symbol"?t:t+""}function E4e(e,t){if($0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var N4e=function(){function e(){w4e(this,e),h5(this,"activeIndex",0),h5(this,"coordinateList",[]),h5(this,"layout","horizontal")}return _4e(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,p=n.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+c,p=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])}();function A4e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Qe(r)&&Qe(i))return!0}return!1}function k4e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function HY(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=Di(t,n,r,i),s=Di(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function C4e(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,p=Di(s,l,c,d),h=Di(s,l,u,d);r=p.x,i=p.y,o=h.x,a=h.y}else return HY(t);return[{x:r,y:i},{x:o,y:a}]}function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function x8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(r){T4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T4e(e,t,n){return t=O4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O4e(e){var t=M4e(e,"string");return F0(t)=="symbol"?t:t+""}function M4e(e,t){if(F0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P4e(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,h=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!a||p!=="ScatterChart"&&i!=="axis")return null;var m,g=v$;if(p==="ScatterChart")m=a,g=WMe;else if(p==="BarChart")m=k4e(d,a,l,u),g=m3;else if(d==="radial"){var v=HY(a),y=v.cx,x=v.cy,w=v.radius,_=v.startAngle,N=v.endAngle;m={cx:y,cy:x,startAngle:_,endAngle:N,innerRadius:w,outerRadius:w},g=GG}else m={points:C4e(d,a,l)},g=v$;var k=ux(ux(ux(ux({stroke:"#ccc",pointerEvents:"none"},l),m),xn(h,!1)),{},{payload:s,payloadIndex:c,className:gn("recharts-tooltip-cursor",h.className)});return A.isValidElement(h)?A.cloneElement(h,k):A.createElement(g,k)}var j4e=["item"],R4e=["children","className","width","height","style","compact","title","desc"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip.apply(this,arguments)}function w8(e,t){return D4e(e)||L4e(e,t)||WY(e,t)||I4e()}function I4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function D4e(e){if(Array.isArray(e))return e}function S8(e,t){if(e==null)return{};var n=$4e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function F4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B4e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VY(r.key),r)}}function z4e(e,t,n){return t&&B4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U4e(e,t,n){return t=tS(t),H4e(e,qY()?Reflect.construct(t,n||[],tS(e).constructor):t.apply(e,n))}function H4e(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q4e(e)}function q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qY=function(){return!!e})()}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tS(e)}function W4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mO(e,t)}function Jm(e){return G4e(e)||K4e(e)||WY(e)||V4e()}function V4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WY(e,t){if(e){if(typeof e=="string")return gO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gO(e,t)}}function K4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G4e(e){if(Array.isArray(e))return gO(e)}function gO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){Pt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pt(e,t,n){return t=VY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=Y4e(e,"string");return Zm(t)=="symbol"?t:t+""}function Y4e(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X4e={xAxis:["bottom","top"],yAxis:["left","right"]},Q4e={width:"100%",height:"100%"},KY={x:0,y:0};function dx(e){return e}var Z4e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},J4e=function(t,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return Te(Te(Te({},i),Di(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Te(Te(Te({},i),Di(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return KY},OE=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Jm(s),Jm(c)):s},[]);return a.length>0?a:t&&t.length&&Qe(i)&&Qe(o)?t.slice(i,o+1):[]};function GY(e){return e==="number"?[0,"auto"]:void 0}var vO=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=OE(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(a.dataKey&&!a.allowDuplicatedCategory){var h=d===void 0?s:d;p=YC(h,a.dataKey,i)}else p=d&&d[r]||s[r];return p?[].concat(Jm(l),[WG(c,p)]):l},[])},E8=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=Z4e(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=kCe(a,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,p=vO(t,n,u,d),h=J4e(r,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:p,activeCoordinate:h}}return null},eIe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,d=t.children,p=t.stackOffset,h=UG(u,o);return r.reduce(function(m,g){var v,y=g.type.defaultProps!==void 0?Te(Te({},g.type.defaultProps),g.props):g.props,x=y.type,w=y.dataKey,_=y.allowDataOverflow,N=y.allowDuplicatedCategory,k=y.scale,O=y.ticks,E=y.includeHidden,C=y[a];if(m[C])return m;var L=OE(t.data,{graphicalItems:i.filter(function(R){var U,Y=a in R.props?R.props[a]:(U=R.type.defaultProps)===null||U===void 0?void 0:U[a];return Y===C}),dataStartIndex:l,dataEndIndex:c}),M=L.length,I,j,D;A4e(y.domain,_,x)&&(I=LT(y.domain,null,_),h&&(x==="number"||k!=="auto")&&(D=by(L,w,"category")));var q=GY(x);if(!I||I.length===0){var z,W=(z=y.domain)!==null&&z!==void 0?z:q;if(w){if(I=by(L,w,x),x==="category"&&h){var F=gve(I);N&&F?(j=I,I=H2(0,M)):N||(I=i$(W,I,g).reduce(function(R,U){return R.indexOf(U)>=0?R:[].concat(Jm(R),[U])},[]))}else if(x==="category")N?I=I.filter(function(R){return R!==""&&!Nn(R)}):I=i$(W,I,g).reduce(function(R,U){return R.indexOf(U)>=0||U===""||Nn(U)?R:[].concat(Jm(R),[U])},[]);else if(x==="number"){var B=PCe(L,i.filter(function(R){var U,Y,Z=a in R.props?R.props[a]:(U=R.type.defaultProps)===null||U===void 0?void 0:U[a],ae="hide"in R.props?R.props.hide:(Y=R.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return Z===C&&(E||!ae)}),w,o,u);B&&(I=B)}h&&(x==="number"||k!=="auto")&&(D=by(L,w,"category"))}else h?I=H2(0,M):s&&s[C]&&s[C].hasStack&&x==="number"?I=p==="expand"?[0,1]:qG(s[C].stackGroups,l,c):I=zG(L,i.filter(function(R){var U=a in R.props?R.props[a]:R.type.defaultProps[a],Y="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return U===C&&(E||!Y)}),x,u,!0);if(x==="number")I=pO(d,I,C,o,O),W&&(I=LT(W,I,_));else if(x==="category"&&W){var te=W,K=I.every(function(R){return te.indexOf(R)>=0});K&&(I=te)}}return Te(Te({},m),{},Pt({},C,Te(Te({},y),{},{axisType:o,domain:I,categoricalDomain:D,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:q,isCategorical:h,layout:u})))},{})},tIe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.layout,d=t.children,p=OE(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=p.length,m=UG(u,o),g=-1;return r.reduce(function(v,y){var x=y.type.defaultProps!==void 0?Te(Te({},y.type.defaultProps),y.props):y.props,w=x[a],_=GY("number");if(!v[w]){g++;var N;return m?N=H2(0,h):s&&s[w]&&s[w].hasStack?(N=qG(s[w].stackGroups,l,c),N=pO(d,N,w,o)):(N=LT(_,zG(p,r.filter(function(k){var O,E,C=a in k.props?k.props[a]:(O=k.type.defaultProps)===null||O===void 0?void 0:O[a],L="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===w&&!L}),"number",u),i.defaultProps.allowDataOverflow),N=pO(d,N,w,o)),Te(Te({},v),{},Pt({},w,Te(Te({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ka(X4e,"".concat(o,".").concat(g%2),null),domain:N,originalDomain:_,isCategorical:m,layout:u})))}return v},{})},nIe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=t.children,d="".concat(i,"Id"),p=Is(u,o),h={};return p&&p.length?h=eIe(t,{axes:p,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(h=tIe(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},rIe=function(t){var n=_u(t),r=vc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:zj(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:R2(n,r)}},N8=function(t){var n=t.children,r=t.defaultShowTooltip,i=sa(n,qm),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},iIe=function(t){return!t||!t.length?!1:t.some(function(n){var r=xc(n&&n.type);return r&&r.indexOf("Bar")>=0})},A8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oIe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,d=r.children,p=r.margin||{},h=sa(d,qm),m=sa(d,Yp),g=Object.keys(l).reduce(function(N,k){var O=l[k],E=O.orientation;return!O.mirror&&!O.hide?Te(Te({},N),{},Pt({},E,N[E]+O.width)):N},{left:p.left||0,right:p.right||0}),v=Object.keys(a).reduce(function(N,k){var O=a[k],E=O.orientation;return!O.mirror&&!O.hide?Te(Te({},N),{},Pt({},E,Ka(N,"".concat(E))+O.height)):N},{top:p.top||0,bottom:p.bottom||0}),y=Te(Te({},v),g),x=y.bottom;h&&(y.bottom+=h.props.height||qm.defaultProps.height),m&&n&&(y=OCe(y,i,r,n));var w=c-y.left-y.right,_=u-y.top-y.bottom;return Te(Te({brushBottom:x},y),{},{width:Math.max(w,0),height:Math.max(_,0)})},aIe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},sIe=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,p=function(y,x){var w=x.graphicalItems,_=x.stackGroups,N=x.offset,k=x.updateId,O=x.dataStartIndex,E=x.dataEndIndex,C=y.barSize,L=y.layout,M=y.barGap,I=y.barCategoryGap,j=y.maxBarSize,D=A8(L),q=D.numericAxisName,z=D.cateAxisName,W=iIe(w),F=[];return w.forEach(function(B,te){var K=OE(y.data,{graphicalItems:[B],dataStartIndex:O,dataEndIndex:E}),R=B.type.defaultProps!==void 0?Te(Te({},B.type.defaultProps),B.props):B.props,U=R.dataKey,Y=R.maxBarSize,Z=R["".concat(q,"Id")],ae=R["".concat(z,"Id")],se={},ce=l.reduce(function(je,nt){var et=x["".concat(nt.axisType,"Map")],xt=R["".concat(nt.axisType,"Id")];et&&et[xt]||nt.axisType==="zAxis"||ch();var lt=et[xt];return Te(Te({},je),{},Pt(Pt({},nt.axisType,lt),"".concat(nt.axisType,"Ticks"),vc(lt)))},se),ne=ce[z],de=ce["".concat(z,"Ticks")],he=_&&_[Z]&&_[Z].hasStack&&qCe(B,_[Z].stackGroups),ue=xc(B.type).indexOf("Bar")>=0,Ne=R2(ne,de),pe=[],J=W&&CCe({barSize:C,stackGroups:_,totalSize:aIe(ce,z)});if(ue){var ke,Ke,_e=Nn(Y)?j:Y,Ae=(ke=(Ke=R2(ne,de,!0))!==null&&Ke!==void 0?Ke:_e)!==null&&ke!==void 0?ke:0;pe=TCe({barGap:M,barCategoryGap:I,bandSize:Ae!==Ne?Ae:Ne,sizeList:J[ae],maxBarSize:_e}),Ae!==Ne&&(pe=pe.map(function(je){return Te(Te({},je),{},{position:Te(Te({},je.position),{},{offset:je.position.offset-Ae/2})})}))}var He=B&&B.type&&B.type.getComposedData;He&&F.push({props:Te(Te({},He(Te(Te({},ce),{},{displayedData:K,props:y,dataKey:U,item:B,bandSize:Ne,barPosition:pe,offset:N,stackedData:he,layout:L,dataStartIndex:O,dataEndIndex:E}))),{},Pt(Pt(Pt({key:B.key||"item-".concat(te)},q,ce[q]),z,ce[z]),"animationId",k)),childIndex:kve(B,y.children),item:B})}),F},h=function(y,x){var w=y.props,_=y.dataStartIndex,N=y.dataEndIndex,k=y.updateId;if(!QL({props:w}))return null;var O=w.children,E=w.layout,C=w.stackOffset,L=w.data,M=w.reverseStackOrder,I=A8(E),j=I.numericAxisName,D=I.cateAxisName,q=Is(O,r),z=zCe(L,q,"".concat(j,"Id"),"".concat(D,"Id"),C,M),W=l.reduce(function(R,U){var Y="".concat(U.axisType,"Map");return Te(Te({},R),{},Pt({},Y,nIe(w,Te(Te({},U),{},{graphicalItems:q,stackGroups:U.axisType===j&&z,dataStartIndex:_,dataEndIndex:N}))))},{}),F=oIe(Te(Te({},W),{},{props:w,graphicalItems:q}),x==null?void 0:x.legendBBox);Object.keys(W).forEach(function(R){W[R]=u(w,W[R],F,R.replace("Map",""),n)});var B=W["".concat(D,"Map")],te=rIe(B),K=p(w,Te(Te({},W),{},{dataStartIndex:_,dataEndIndex:N,updateId:k,graphicalItems:q,stackGroups:z,offset:F}));return Te(Te({formattedGraphicalItems:K,graphicalItems:q,offset:F,stackGroups:z},te),W)},m=function(v){function y(x){var w,_,N;return F4e(this,y),N=U4e(this,y,[x]),Pt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pt(N,"accessibilityManager",new N4e),Pt(N,"handleLegendBBoxUpdate",function(k){if(k){var O=N.state,E=O.dataStartIndex,C=O.dataEndIndex,L=O.updateId;N.setState(Te({legendBBox:k},h({props:N.props,dataStartIndex:E,dataEndIndex:C,updateId:L},Te(Te({},N.state),{},{legendBBox:k}))))}}),Pt(N,"handleReceiveSyncEvent",function(k,O,E){if(N.props.syncId===k){if(E===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(O)}}),Pt(N,"handleBrushChange",function(k){var O=k.startIndex,E=k.endIndex;if(O!==N.state.dataStartIndex||E!==N.state.dataEndIndex){var C=N.state.updateId;N.setState(function(){return Te({dataStartIndex:O,dataEndIndex:E},h({props:N.props,dataStartIndex:O,dataEndIndex:E,updateId:C},N.state))}),N.triggerSyncEvent({dataStartIndex:O,dataEndIndex:E})}}),Pt(N,"handleMouseEnter",function(k){var O=N.getMouseInfo(k);if(O){var E=Te(Te({},O),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var C=N.props.onMouseEnter;nn(C)&&C(E,k)}}),Pt(N,"triggeredAfterMouseMove",function(k){var O=N.getMouseInfo(k),E=O?Te(Te({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var C=N.props.onMouseMove;nn(C)&&C(E,k)}),Pt(N,"handleItemMouseEnter",function(k){N.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Pt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Pt(N,"handleMouseMove",function(k){k.persist(),N.throttleTriggeredAfterMouseMove(k)}),Pt(N,"handleMouseLeave",function(k){N.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var E=N.props.onMouseLeave;nn(E)&&E(O,k)}),Pt(N,"handleOuterEvent",function(k){var O=Ave(k),E=Ka(N.props,"".concat(O));if(O&&nn(E)){var C,L;/.*touch.*/i.test(O)?L=N.getMouseInfo(k.changedTouches[0]):L=N.getMouseInfo(k),E((C=L)!==null&&C!==void 0?C:{},k)}}),Pt(N,"handleClick",function(k){var O=N.getMouseInfo(k);if(O){var E=Te(Te({},O),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var C=N.props.onClick;nn(C)&&C(E,k)}}),Pt(N,"handleMouseDown",function(k){var O=N.props.onMouseDown;if(nn(O)){var E=N.getMouseInfo(k);O(E,k)}}),Pt(N,"handleMouseUp",function(k){var O=N.props.onMouseUp;if(nn(O)){var E=N.getMouseInfo(k);O(E,k)}}),Pt(N,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Pt(N,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseDown(k.changedTouches[0])}),Pt(N,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseUp(k.changedTouches[0])}),Pt(N,"handleDoubleClick",function(k){var O=N.props.onDoubleClick;if(nn(O)){var E=N.getMouseInfo(k);O(E,k)}}),Pt(N,"handleContextMenu",function(k){var O=N.props.onContextMenu;if(nn(O)){var E=N.getMouseInfo(k);O(E,k)}}),Pt(N,"triggerSyncEvent",function(k){N.props.syncId!==void 0&&d5.emit(f5,N.props.syncId,k,N.eventEmitterSymbol)}),Pt(N,"applySyncEvent",function(k){var O=N.props,E=O.layout,C=O.syncMethod,L=N.state.updateId,M=k.dataStartIndex,I=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)N.setState(Te({dataStartIndex:M,dataEndIndex:I},h({props:N.props,dataStartIndex:M,dataEndIndex:I,updateId:L},N.state)));else if(k.activeTooltipIndex!==void 0){var j=k.chartX,D=k.chartY,q=k.activeTooltipIndex,z=N.state,W=z.offset,F=z.tooltipTicks;if(!W)return;if(typeof C=="function")q=C(F,k);else if(C==="value"){q=-1;for(var B=0;B<F.length;B++)if(F[B].value===k.activeLabel){q=B;break}}var te=Te(Te({},W),{},{x:W.left,y:W.top}),K=Math.min(j,te.x+te.width),R=Math.min(D,te.y+te.height),U=F[q]&&F[q].value,Y=vO(N.state,N.props.data,q),Z=F[q]?{x:E==="horizontal"?F[q].coordinate:K,y:E==="horizontal"?R:F[q].coordinate}:KY;N.setState(Te(Te({},k),{},{activeLabel:U,activeCoordinate:Z,activePayload:Y,activeTooltipIndex:q}))}else N.setState(k)}),Pt(N,"renderCursor",function(k){var O,E=N.state,C=E.isTooltipActive,L=E.activeCoordinate,M=E.activePayload,I=E.offset,j=E.activeTooltipIndex,D=E.tooltipAxisBandSize,q=N.getTooltipEventType(),z=(O=k.props.active)!==null&&O!==void 0?O:C,W=N.props.layout,F=k.key||"_recharts-cursor";return ve.createElement(P4e,{key:F,activeCoordinate:L,activePayload:M,activeTooltipIndex:j,chartName:n,element:k,isActive:z,layout:W,offset:I,tooltipAxisBandSize:D,tooltipEventType:q})}),Pt(N,"renderPolarAxis",function(k,O,E){var C=Ka(k,"type.axisType"),L=Ka(N.state,"".concat(C,"Map")),M=k.type.defaultProps,I=M!==void 0?Te(Te({},M),k.props):k.props,j=L&&L[I["".concat(C,"Id")]];return A.cloneElement(k,Te(Te({},j),{},{className:gn(C,j.className),key:k.key||"".concat(O,"-").concat(E),ticks:vc(j,!0)}))}),Pt(N,"renderPolarGrid",function(k){var O=k.props,E=O.radialLines,C=O.polarAngles,L=O.polarRadius,M=N.state,I=M.radiusAxisMap,j=M.angleAxisMap,D=_u(I),q=_u(j),z=q.cx,W=q.cy,F=q.innerRadius,B=q.outerRadius;return A.cloneElement(k,{polarAngles:Array.isArray(C)?C:vc(q,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(L)?L:vc(D,!0).map(function(te){return te.coordinate}),cx:z,cy:W,innerRadius:F,outerRadius:B,key:k.key||"polar-grid",radialLines:E})}),Pt(N,"renderLegend",function(){var k=N.state.formattedGraphicalItems,O=N.props,E=O.children,C=O.width,L=O.height,M=N.props.margin||{},I=C-(M.left||0)-(M.right||0),j=FG({children:E,formattedGraphicalItems:k,legendWidth:I,legendContent:c});if(!j)return null;var D=j.item,q=S8(j,j4e);return A.cloneElement(D,Te(Te({},q),{},{chartWidth:C,chartHeight:L,margin:M,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Pt(N,"renderTooltip",function(){var k,O=N.props,E=O.children,C=O.accessibilityLayer,L=sa(E,Ss);if(!L)return null;var M=N.state,I=M.isTooltipActive,j=M.activeCoordinate,D=M.activePayload,q=M.activeLabel,z=M.offset,W=(k=L.props.active)!==null&&k!==void 0?k:I;return A.cloneElement(L,{viewBox:Te(Te({},z),{},{x:z.left,y:z.top}),active:W,label:q,payload:W?D:[],coordinate:j,accessibilityLayer:C})}),Pt(N,"renderBrush",function(k){var O=N.props,E=O.margin,C=O.data,L=N.state,M=L.offset,I=L.dataStartIndex,j=L.dataEndIndex,D=L.updateId;return A.cloneElement(k,{key:k.key||"_recharts-brush",onChange:ax(N.handleBrushChange,k.props.onChange),data:C,x:Qe(k.props.x)?k.props.x:M.left,y:Qe(k.props.y)?k.props.y:M.top+M.height+M.brushBottom-(E.bottom||0),width:Qe(k.props.width)?k.props.width:M.width,startIndex:I,endIndex:j,updateId:"brush-".concat(D)})}),Pt(N,"renderReferenceElement",function(k,O,E){if(!k)return null;var C=N,L=C.clipPathId,M=N.state,I=M.xAxisMap,j=M.yAxisMap,D=M.offset,q=k.type.defaultProps||{},z=k.props,W=z.xAxisId,F=W===void 0?q.xAxisId:W,B=z.yAxisId,te=B===void 0?q.yAxisId:B;return A.cloneElement(k,{key:k.key||"".concat(O,"-").concat(E),xAxis:I[F],yAxis:j[te],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:L})}),Pt(N,"renderActivePoints",function(k){var O=k.item,E=k.activePoint,C=k.basePoint,L=k.childIndex,M=k.isRange,I=[],j=O.props.key,D=O.item.type.defaultProps!==void 0?Te(Te({},O.item.type.defaultProps),O.item.props):O.item.props,q=D.activeDot,z=D.dataKey,W=Te(Te({index:L,dataKey:z,cx:E.x,cy:E.y,r:4,fill:p3(O.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},xn(q,!1)),i2(q));return I.push(y.renderActiveDot(q,W,"".concat(j,"-activePoint-").concat(L))),C?I.push(y.renderActiveDot(q,Te(Te({},W),{},{cx:C.x,cy:C.y}),"".concat(j,"-basePoint-").concat(L))):M&&I.push(null),I}),Pt(N,"renderGraphicChild",function(k,O,E){var C=N.filterFormatItem(k,O,E);if(!C)return null;var L=N.getTooltipEventType(),M=N.state,I=M.isTooltipActive,j=M.tooltipAxis,D=M.activeTooltipIndex,q=M.activeLabel,z=N.props.children,W=sa(z,Ss),F=C.props,B=F.points,te=F.isRange,K=F.baseLine,R=C.item.type.defaultProps!==void 0?Te(Te({},C.item.type.defaultProps),C.item.props):C.item.props,U=R.activeDot,Y=R.hide,Z=R.activeBar,ae=R.activeShape,se=!!(!Y&&I&&W&&(U||Z||ae)),ce={};L!=="axis"&&W&&W.props.trigger==="click"?ce={onClick:ax(N.handleItemMouseEnter,k.props.onClick)}:L!=="axis"&&(ce={onMouseLeave:ax(N.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:ax(N.handleItemMouseEnter,k.props.onMouseEnter)});var ne=A.cloneElement(k,Te(Te({},C.props),ce));function de(nt){return typeof j.dataKey=="function"?j.dataKey(nt.payload):null}if(se)if(D>=0){var he,ue;if(j.dataKey&&!j.allowDuplicatedCategory){var Ne=typeof j.dataKey=="function"?de:"payload.".concat(j.dataKey.toString());he=YC(B,Ne,q),ue=te&&K&&YC(K,Ne,q)}else he=B==null?void 0:B[D],ue=te&&K&&K[D];if(ae||Z){var pe=k.props.activeIndex!==void 0?k.props.activeIndex:D;return[A.cloneElement(k,Te(Te(Te({},C.props),ce),{},{activeIndex:pe})),null,null]}if(!Nn(he))return[ne].concat(Jm(N.renderActivePoints({item:C,activePoint:he,basePoint:ue,childIndex:D,isRange:te})))}else{var J,ke=(J=N.getItemByXY(N.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:ne},Ke=ke.graphicalItem,_e=Ke.item,Ae=_e===void 0?k:_e,He=Ke.childIndex,je=Te(Te(Te({},C.props),ce),{},{activeIndex:He});return[A.cloneElement(Ae,je),null,null]}return te?[ne,null,null]:[ne,null]}),Pt(N,"renderCustomized",function(k,O,E){return A.cloneElement(k,Te(Te({key:"recharts-customized-".concat(E)},N.props),N.state))}),Pt(N,"renderMap",{CartesianGrid:{handler:dx,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:dx},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:dx},YAxis:{handler:dx},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:iE("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=FK(N.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return W4e(y,v),z4e(y,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,N=w.data,k=w.height,O=w.layout,E=sa(_,Ss);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,M=vO(this.state,N,C,L),I=this.state.tooltipTicks[C].coordinate,j=(this.state.offset.top+k)/2,D=O==="horizontal",q=D?{x:I,y:j}:{y:I,x:j},z=this.state.formattedGraphicalItems.find(function(F){var B=F.item;return B.type.name==="Scatter"});z&&(q=Te(Te({},q),z.props.points[C].tooltipPosition),M=z.props.points[C].tooltipPayload);var W={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:L,activePayload:M,activeCoordinate:q};this.setState(W),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,k;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){QC([sa(w.children,Ss)],[sa(this.props.children,Ss)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=sa(this.props.children,Ss);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return s.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),k=JEe(N),O={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},E=N.width/_.offsetWidth||1,C=this.inRange(O.chartX,O.chartY,E);if(!C)return null;var L=this.state,M=L.xAxisMap,I=L.yAxisMap,j=this.getTooltipEventType(),D=E8(this.state,this.props.data,this.props.layout,C);if(j!=="axis"&&M&&I){var q=_u(M).scale,z=_u(I).scale,W=q&&q.invert?q.invert(O.chartX):null,F=z&&z.invert?z.invert(O.chartY):null;return Te(Te({},O),{},{xValue:W,yValue:F},D)}return D?Te(Te({},O),D):null}},{key:"inRange",value:function(w,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,O=w/N,E=_/N;if(k==="horizontal"||k==="vertical"){var C=this.state.offset,L=O>=C.left&&O<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return L?{x:O,y:E}:null}var M=this.state,I=M.angleAxisMap,j=M.radiusAxisMap;if(I&&j){var D=_u(I);return s$({x:O,y:E},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),N=sa(w,Ss),k={};N&&_==="axis"&&(N.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=i2(this.props,this.handleOuterEvent);return Te(Te({},O),k)}},{key:"addListener",value:function(){d5.on(f5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d5.removeListener(f5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,N){for(var k=this.state.formattedGraphicalItems,O=0,E=k.length;O<E;O++){var C=k[O];if(C.item===w||C.props.key===w.key||_===xc(C.item.type)&&N===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,N=_.left,k=_.top,O=_.height,E=_.width;return ve.createElement("defs",null,ve.createElement("clipPath",{id:w},ve.createElement("rect",{x:N,y:k,height:O,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,N){var k=w8(N,2),O=k[0],E=k[1];return Te(Te({},_),{},Pt({},O,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,N){var k=w8(N,2),O=k[0],E=k[1];return Te(Te({},_),{},Pt({},O,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,N=_.formattedGraphicalItems,k=_.activeItem;if(N&&N.length)for(var O=0,E=N.length;O<E;O++){var C=N[O],L=C.props,M=C.item,I=M.type.defaultProps!==void 0?Te(Te({},M.type.defaultProps),M.props):M.props,j=xc(M.type);if(j==="Bar"){var D=(L.data||[]).find(function(F){return IMe(w,F)});if(D)return{graphicalItem:C,payload:D}}else if(j==="RadialBar"){var q=(L.data||[]).find(function(F){return s$(w,F)});if(q)return{graphicalItem:C,payload:q}}else if(_E(C,k)||EE(C,k)||M0(C,k)){var z=$Pe({graphicalItem:C,activeTooltipItem:k,itemData:I.data}),W=I.activeIndex===void 0?z:I.activeIndex;return{graphicalItem:Te(Te({},C),{},{childIndex:W}),payload:M0(C,k)?I.data[z]:C.props.data[z]}}}return null}},{key:"render",value:function(){var w=this;if(!QL(this))return null;var _=this.props,N=_.children,k=_.className,O=_.width,E=_.height,C=_.style,L=_.compact,M=_.title,I=_.desc,j=S8(_,R4e),D=xn(j,!1);if(L)return ve.createElement(a8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement(JC,Ip({},D,{width:O,height:E,title:M,desc:I}),this.renderClipPath(),JL(N,this.renderMap)));if(this.props.accessibilityLayer){var q,z;D.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,D.role=(z=this.props.role)!==null&&z!==void 0?z:"application",D.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},D.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return ve.createElement(a8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement("div",Ip({className:gn("recharts-wrapper",k),style:Te({position:"relative",cursor:"default",width:O,height:E},C)},W,{ref:function(B){w.container=B}}),ve.createElement(JC,Ip({},D,{width:O,height:E,title:M,desc:I,style:Q4e}),this.renderClipPath(),JL(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Pt(m,"displayName",n),Pt(m,"defaultProps",Te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Pt(m,"getDerivedStateFromProps",function(v,y){var x=v.dataKey,w=v.data,_=v.children,N=v.width,k=v.height,O=v.layout,E=v.stackOffset,C=v.margin,L=y.dataStartIndex,M=y.dataEndIndex;if(y.updateId===void 0){var I=N8(v);return Te(Te(Te({},I),{},{updateId:0},h(Te(Te({props:v},I),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:k,prevLayout:O,prevStackOffset:E,prevMargin:C,prevChildren:_})}if(x!==y.prevDataKey||w!==y.prevData||N!==y.prevWidth||k!==y.prevHeight||O!==y.prevLayout||E!==y.prevStackOffset||!Gp(C,y.prevMargin)){var j=N8(v),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},q=Te(Te({},E8(y,w,O)),{},{updateId:y.updateId+1}),z=Te(Te(Te({},j),D),q);return Te(Te(Te({},z),h(Te({props:v},z),y)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:k,prevLayout:O,prevStackOffset:E,prevMargin:C,prevChildren:_})}if(!QC(_,y.prevChildren)){var W,F,B,te,K=sa(_,qm),R=K&&(W=(F=K.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:L,U=K&&(B=(te=K.props)===null||te===void 0?void 0:te.endIndex)!==null&&B!==void 0?B:M,Y=R!==L||U!==M,Z=!Nn(w),ae=Z&&!Y?y.updateId:y.updateId+1;return Te(Te({updateId:ae},h(Te(Te({props:v},y),{},{updateId:ae,dataStartIndex:R,dataEndIndex:U}),y)),{},{prevChildren:_,dataStartIndex:R,dataEndIndex:U})}return null}),Pt(m,"renderActiveDot",function(v,y,x){var w;return A.isValidElement(v)?w=A.cloneElement(v,y):nn(v)?w=v(y):w=ve.createElement(oY,y),ve.createElement(vi,{className:"recharts-active-dot",key:x},w)});var g=A.forwardRef(function(y,x){return ve.createElement(m,Ip({},y,{ref:x}))});return g.displayName=m.displayName,g},k8=sIe({chartName:"BarChart",GraphicalChild:bd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:L0},{axisType:"yAxis",AxisComp:D0}],formatAxisMap:c3e});function lIe(){const{data:e,isLoading:t}=tn({queryKey:["/api/dashboard/stats"]}),n=e?[{name:"Pendientes",value:e.impuestosPendientes,fill:"hsl(var(--chart-4))"},{name:"Calculados",value:e.impuestosCalculados,fill:"hsl(var(--chart-2))"},{name:"Realizados",value:e.impuestosRealizados,fill:"hsl(var(--chart-3))"}]:[],r=e?[{name:"Pendientes",value:e.tareasPendientes,fill:"hsl(var(--chart-4))"},{name:"En Progreso",value:e.tareasEnProgreso,fill:"hsl(var(--chart-2))"},{name:"Completadas",value:e.tareasCompletadas,fill:"hsl(var(--chart-3))"}]:[];return t?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsx(pn,{className:"h-9 w-48 mb-2"}),f.jsx(pn,{className:"h-5 w-96"})]}),f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,o)=>f.jsxs(Nt,{children:[f.jsxs(Vt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[f.jsx(pn,{className:"h-4 w-32"}),f.jsx(pn,{className:"h-4 w-4"})]}),f.jsxs(At,{children:[f.jsx(pn,{className:"h-8 w-16 mb-2"}),f.jsx(pn,{className:"h-3 w-24"})]})]},o))})]}):f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Dashboard"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen general de la actividad"})]}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[f.jsxs(Nt,{className:"hover-elevate",children:[f.jsxs(Vt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[f.jsx(en,{className:"text-sm font-medium",children:"Clientes Activos"}),f.jsx(BP,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(At,{children:[f.jsx("div",{className:"text-3xl font-bold",children:(e==null?void 0:e.clientesActivos)||0}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",(e==null?void 0:e.totalClientes)||0," totales"]})]})]}),f.jsxs(Nt,{className:"hover-elevate",children:[f.jsxs(Vt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[f.jsx(en,{className:"text-sm font-medium",children:"Impuestos Pendientes"}),f.jsx(mg,{className:"h-4 w-4 text-chart-4"})]}),f.jsxs(At,{children:[f.jsx("div",{className:"text-3xl font-bold text-chart-4",children:(e==null?void 0:e.impuestosPendientes)||0}),f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"requieren atencin"})]})]}),f.jsxs(Nt,{className:"hover-elevate",children:[f.jsxs(Vt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[f.jsx(en,{className:"text-sm font-medium",children:"Tareas Activas"}),f.jsx($P,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(At,{children:[f.jsx("div",{className:"text-3xl font-bold",children:((e==null?void 0:e.tareasPendientes)||0)+((e==null?void 0:e.tareasEnProgreso)||0)}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(e==null?void 0:e.tareasGenerales)||0," generales, ",(e==null?void 0:e.tareasPersonales)||0," personales"]})]})]}),f.jsxs(Nt,{className:"hover-elevate",children:[f.jsxs(Vt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[f.jsx(en,{className:"text-sm font-medium",children:"Manuales"}),f.jsx(LP,{className:"h-4 w-4 text-muted-foreground"})]}),f.jsxs(At,{children:[f.jsx("div",{className:"text-3xl font-bold",children:(e==null?void 0:e.manualesPublicados)||0}),f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",(e==null?void 0:e.manualesTotal)||0," publicados"]})]})]})]}),f.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{className:"flex items-center gap-2",children:[f.jsx(Ds,{className:"h-5 w-5"}),"Estado de Impuestos"]})}),f.jsx(At,{children:f.jsx(XD,{width:"100%",height:300,children:f.jsxs(k8,{data:n,children:[f.jsx(lO,{strokeDasharray:"3 3",className:"stroke-muted"}),f.jsx(L0,{dataKey:"name",className:"text-xs"}),f.jsx(D0,{className:"text-xs"}),f.jsx(Ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),f.jsx(bd,{dataKey:"value",radius:[8,8,0,0],children:n.map((i,o)=>f.jsx(y2,{fill:i.fill},`cell-${o}`))})]})})})]}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{className:"flex items-center gap-2",children:[f.jsx(UH,{className:"h-5 w-5"}),"Distribucin de Tareas"]})}),f.jsx(At,{children:f.jsx(XD,{width:"100%",height:300,children:f.jsxs(k8,{data:r,children:[f.jsx(lO,{strokeDasharray:"3 3",className:"stroke-muted"}),f.jsx(L0,{dataKey:"name",className:"text-xs"}),f.jsx(D0,{className:"text-xs"}),f.jsx(Ss,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),f.jsx(bd,{dataKey:"value",radius:[8,8,0,0],children:r.map((i,o)=>f.jsx(y2,{fill:i.fill},`cell-${o}`))})]})})})]})]})]})}const Ts=A.forwardRef(({className:e,...t},n)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:n,className:Ge("w-full caption-bottom text-sm",e),...t})}));Ts.displayName="Table";const Os=A.forwardRef(({className:e,...t},n)=>f.jsx("thead",{ref:n,className:Ge("[&_tr]:border-b",e),...t}));Os.displayName="TableHeader";const Ms=A.forwardRef(({className:e,...t},n)=>f.jsx("tbody",{ref:n,className:Ge("[&_tr:last-child]:border-0",e),...t}));Ms.displayName="TableBody";const cIe=A.forwardRef(({className:e,...t},n)=>f.jsx("tfoot",{ref:n,className:Ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));cIe.displayName="TableFooter";const Pn=A.forwardRef(({className:e,...t},n)=>f.jsx("tr",{ref:n,className:Ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pn.displayName="TableRow";const bt=A.forwardRef(({className:e,...t},n)=>f.jsx("th",{ref:n,className:Ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));bt.displayName="TableHead";const ot=A.forwardRef(({className:e,...t},n)=>f.jsx("td",{ref:n,className:Ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ot.displayName="TableCell";const uIe=A.forwardRef(({className:e,...t},n)=>f.jsx("caption",{ref:n,className:Ge("mt-4 text-sm text-muted-foreground",e),...t}));uIe.displayName="TableCaption";const dIe=pg("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Kt({className:e,variant:t,...n}){return f.jsx("div",{className:Ge(dIe({variant:t}),e),...n})}function yO(e,[t,n]){return Math.min(n,Math.max(t,e))}function N3(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fIe=[" ","Enter","ArrowUp","ArrowDown"],hIe=[" ","Enter"],Rb="Select",[ME,PE,pIe]=PP(Rb),[Lg,$Ye]=wa(Rb,[pIe,T_]),jE=T_(),[mIe,Pd]=Lg(Rb),[gIe,vIe]=Lg(Rb),YY=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:h,form:m}=e,g=jE(t),[v,y]=A.useState(null),[x,w]=A.useState(null),[_,N]=A.useState(!1),k=z_(c),[O=!1,E]=Tc({prop:r,defaultProp:i,onChange:o}),[C,L]=Tc({prop:a,defaultProp:s,onChange:l}),M=A.useRef(null),I=v?m||!!v.closest("form"):!0,[j,D]=A.useState(new Set),q=Array.from(j).map(z=>z.props.value).join(";");return f.jsx(bq,{...g,children:f.jsxs(mIe,{required:h,scope:t,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:So(),value:C,onValueChange:L,open:O,onOpenChange:E,dir:k,triggerPointerDownPosRef:M,disabled:p,children:[f.jsx(ME.Provider,{scope:t,children:f.jsx(gIe,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(z=>{D(W=>new Set(W).add(z))},[]),onNativeOptionRemove:A.useCallback(z=>{D(W=>{const F=new Set(W);return F.delete(z),F})},[]),children:n})}),I?f.jsxs(xX,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:C,onChange:z=>L(z.target.value),disabled:p,form:m,children:[C===void 0?f.jsx("option",{value:""}):null,Array.from(j)]},q):null]})})};YY.displayName=Rb;var XY="SelectTrigger",QY=A.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=jE(n),a=Pd(XY,n),s=a.disabled||r,l=sn(t,a.onTriggerChange),c=PE(n),u=A.useRef("touch"),[d,p,h]=wX(g=>{const v=c().filter(w=>!w.disabled),y=v.find(w=>w.value===a.value),x=SX(v,g,y);x!==void 0&&a.onValueChange(x.value)}),m=g=>{s||(a.onOpenChange(!0),h()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return f.jsx(xq,{asChild:!0,...o,children:f.jsx(vt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":bX(a.value)?"":void 0,...i,ref:l,onClick:gt(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:gt(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:gt(i.onKeyDown,g=>{const v=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&fIe.includes(g.key)&&(m(),g.preventDefault())})})})});QY.displayName=XY;var ZY="SelectValue",JY=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=e,l=Pd(ZY,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,d=sn(t,l.onValueNodeChange);return Gr(()=>{c(u)},[c,u]),f.jsx(vt.span,{...s,ref:d,style:{pointerEvents:"none"},children:bX(l.value)?f.jsx(f.Fragment,{children:a}):o})});JY.displayName=ZY;var yIe="SelectIcon",eX=A.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return f.jsx(vt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});eX.displayName=yIe;var bIe="SelectPortal",tX=e=>f.jsx(w_,{asChild:!0,...e});tX.displayName=bIe;var dh="SelectContent",nX=A.forwardRef((e,t)=>{const n=Pd(dh,e.__scopeSelect),[r,i]=A.useState();if(Gr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Nh.createPortal(f.jsx(rX,{scope:e.__scopeSelect,children:f.jsx(ME.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),o):null}return f.jsx(iX,{...e,ref:t})});nX.displayName=dh;var vs=10,[rX,jd]=Lg(dh),xIe="SelectContentImpl",wIe=Om("SelectContent.RemoveScroll"),iX=A.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=e,x=Pd(dh,n),[w,_]=A.useState(null),[N,k]=A.useState(null),O=sn(t,se=>_(se)),[E,C]=A.useState(null),[L,M]=A.useState(null),I=PE(n),[j,D]=A.useState(!1),q=A.useRef(!1);A.useEffect(()=>{if(w)return cW(w)},[w]),eW();const z=A.useCallback(se=>{const[ce,...ne]=I().map(ue=>ue.ref.current),[de]=ne.slice(-1),he=document.activeElement;for(const ue of se)if(ue===he||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===ce&&N&&(N.scrollTop=0),ue===de&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==he))return},[I,N]),W=A.useCallback(()=>z([E,w]),[z,E,w]);A.useEffect(()=>{j&&W()},[j,W]);const{onOpenChange:F,triggerPointerDownPosRef:B}=x;A.useEffect(()=>{if(w){let se={x:0,y:0};const ce=de=>{var he,ue;se={x:Math.abs(Math.round(de.pageX)-(((he=B.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ue=B.current)==null?void 0:ue.y)??0))}},ne=de=>{se.x<=10&&se.y<=10?de.preventDefault():w.contains(de.target)||F(!1),document.removeEventListener("pointermove",ce),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,F,B]),A.useEffect(()=>{const se=()=>F(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[F]);const[te,K]=wX(se=>{const ce=I().filter(he=>!he.disabled),ne=ce.find(he=>he.ref.current===document.activeElement),de=SX(ce,se,ne);de&&setTimeout(()=>de.ref.current.focus())}),R=A.useCallback((se,ce,ne)=>{const de=!q.current&&!ne;(x.value!==void 0&&x.value===ce||de)&&(C(se),de&&(q.current=!0))},[x.value]),U=A.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=A.useCallback((se,ce,ne)=>{const de=!q.current&&!ne;(x.value!==void 0&&x.value===ce||de)&&M(se)},[x.value]),Z=r==="popper"?bO:oX,ae=Z===bO?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return f.jsx(rX,{scope:n,content:w,viewport:N,onViewportChange:k,itemRefCallback:R,selectedItem:E,onItemLeave:U,itemTextRefCallback:Y,focusSelectedItem:W,selectedItemText:L,position:r,isPositioned:j,searchRef:te,children:f.jsx(lj,{as:wIe,allowPinchZoom:!0,children:f.jsx(sj,{asChild:!0,trapped:x.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:gt(i,se=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),se.preventDefault()}),children:f.jsx(bb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:f.jsx(Z,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:se=>se.preventDefault(),...y,...ae,onPlaced:()=>D(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:gt(y.onKeyDown,se=>{const ce=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ce&&se.key.length===1&&K(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let de=I().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(se.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const he=se.target,ue=de.indexOf(he);de=de.slice(ue+1)}setTimeout(()=>z(de)),se.preventDefault()}})})})})})})});iX.displayName=xIe;var SIe="SelectItemAlignedPosition",oX=A.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Pd(dh,n),a=jd(dh,n),[s,l]=A.useState(null),[c,u]=A.useState(null),d=sn(t,O=>u(O)),p=PE(n),h=A.useRef(!1),m=A.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=a,w=A.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&g&&v&&y){const O=o.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),L=y.getBoundingClientRect();if(o.dir!=="rtl"){const he=L.left-E.left,ue=C.left-he,Ne=O.left-ue,pe=O.width+Ne,J=Math.max(pe,E.width),ke=window.innerWidth-vs,Ke=yO(ue,[vs,Math.max(vs,ke-J)]);s.style.minWidth=pe+"px",s.style.left=Ke+"px"}else{const he=E.right-L.right,ue=window.innerWidth-C.right-he,Ne=window.innerWidth-O.right-ue,pe=O.width+Ne,J=Math.max(pe,E.width),ke=window.innerWidth-vs,Ke=yO(ue,[vs,Math.max(vs,ke-J)]);s.style.minWidth=pe+"px",s.style.right=Ke+"px"}const M=p(),I=window.innerHeight-vs*2,j=g.scrollHeight,D=window.getComputedStyle(c),q=parseInt(D.borderTopWidth,10),z=parseInt(D.paddingTop,10),W=parseInt(D.borderBottomWidth,10),F=parseInt(D.paddingBottom,10),B=q+z+j+F+W,te=Math.min(v.offsetHeight*5,B),K=window.getComputedStyle(g),R=parseInt(K.paddingTop,10),U=parseInt(K.paddingBottom,10),Y=O.top+O.height/2-vs,Z=I-Y,ae=v.offsetHeight/2,se=v.offsetTop+ae,ce=q+z+se,ne=B-ce;if(ce<=Y){const he=M.length>0&&v===M[M.length-1].ref.current;s.style.bottom="0px";const ue=c.clientHeight-g.offsetTop-g.offsetHeight,Ne=Math.max(Z,ae+(he?U:0)+ue+W),pe=ce+Ne;s.style.height=pe+"px"}else{const he=M.length>0&&v===M[0].ref.current;s.style.top="0px";const Ne=Math.max(Y,q+g.offsetTop+(he?R:0)+ae)+ne;s.style.height=Ne+"px",g.scrollTop=ce-Y+g.offsetTop}s.style.margin=`${vs}px 0`,s.style.minHeight=te+"px",s.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,o.trigger,o.valueNode,s,c,g,v,y,o.dir,r]);Gr(()=>w(),[w]);const[_,N]=A.useState();Gr(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const k=A.useCallback(O=>{O&&m.current===!0&&(w(),x==null||x(),m.current=!1)},[w,x]);return f.jsx(EIe,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:f.jsx(vt.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});oX.displayName=SIe;var _Ie="SelectPopperPosition",bO=A.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=vs,...o}=e,a=jE(n);return f.jsx(wq,{...a,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bO.displayName=_Ie;var[EIe,A3]=Lg(dh,{}),xO="SelectViewport",aX=A.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=jd(xO,n),a=A3(xO,n),s=sn(t,o.onViewportChange),l=A.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(ME.Slot,{scope:n,children:f.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:gt(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&d){const h=Math.abs(l.current-u.scrollTop);if(h>0){const m=window.innerHeight-vs*2,g=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),y=Math.max(g,v);if(y<m){const x=y+h,w=Math.min(m,x),_=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});aX.displayName=xO;var sX="SelectGroup",[NIe,AIe]=Lg(sX),kIe=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=So();return f.jsx(NIe,{scope:n,id:i,children:f.jsx(vt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});kIe.displayName=sX;var lX="SelectLabel",cX=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=AIe(lX,n);return f.jsx(vt.div,{id:i.id,...r,ref:t})});cX.displayName=lX;var nS="SelectItem",[CIe,uX]=Lg(nS),dX=A.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,s=Pd(nS,n),l=jd(nS,n),c=s.value===r,[u,d]=A.useState(o??""),[p,h]=A.useState(!1),m=sn(t,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,i)}),g=So(),v=A.useRef("touch"),y=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(CIe,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:A.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:f.jsx(ME.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:f.jsx(vt.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:gt(a.onFocus,()=>h(!0)),onBlur:gt(a.onBlur,()=>h(!1)),onClick:gt(a.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:gt(a.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:gt(a.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:gt(a.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gt(a.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:gt(a.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(hIe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});dX.displayName=nS;var ey="SelectItemText",fX=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=Pd(ey,n),s=jd(ey,n),l=uX(ey,n),c=vIe(ey,n),[u,d]=A.useState(null),p=sn(t,y=>d(y),l.onItemTextChange,y=>{var x;return(x=s.itemTextRefCallback)==null?void 0:x.call(s,y,l.value,l.disabled)}),h=u==null?void 0:u.textContent,m=A.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return Gr(()=>(g(m),()=>v(m)),[g,v,m]),f.jsxs(f.Fragment,{children:[f.jsx(vt.span,{id:l.textId,...o,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Nh.createPortal(o.children,a.valueNode):null]})});fX.displayName=ey;var hX="SelectItemIndicator",pX=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return uX(hX,n).isSelected?f.jsx(vt.span,{"aria-hidden":!0,...r,ref:t}):null});pX.displayName=hX;var wO="SelectScrollUpButton",mX=A.forwardRef((e,t)=>{const n=jd(wO,e.__scopeSelect),r=A3(wO,e.__scopeSelect),[i,o]=A.useState(!1),a=sn(t,r.onScrollButtonChange);return Gr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?f.jsx(vX,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});mX.displayName=wO;var SO="SelectScrollDownButton",gX=A.forwardRef((e,t)=>{const n=jd(SO,e.__scopeSelect),r=A3(SO,e.__scopeSelect),[i,o]=A.useState(!1),a=sn(t,r.onScrollButtonChange);return Gr(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?f.jsx(vX,{...e,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});gX.displayName=SO;var vX=A.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=jd("SelectScrollButton",n),a=A.useRef(null),s=PE(n),l=A.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),Gr(()=>{var u;const c=s().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),f.jsx(vt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:gt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:gt(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:gt(i.onPointerLeave,()=>{l()})})}),TIe="SelectSeparator",yX=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.jsx(vt.div,{"aria-hidden":!0,...r,ref:t})});yX.displayName=TIe;var _O="SelectArrow",OIe=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=jE(n),o=Pd(_O,n),a=jd(_O,n);return o.open&&a.position==="popper"?f.jsx(Sq,{...i,...r,ref:t}):null});OIe.displayName=_O;function bX(e){return e===""||e===void 0}var xX=A.forwardRef((e,t)=>{const{value:n,...r}=e,i=A.useRef(null),o=sn(t,i),a=N3(n);return A.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&u){const d=new Event("change",{bubbles:!0});u.call(s,n),s.dispatchEvent(d)}},[a,n]),f.jsx(xb,{asChild:!0,children:f.jsx("select",{...r,ref:o,defaultValue:n})})});xX.displayName="BubbleSelect";function wX(e){const t=Nr(e),n=A.useRef(""),r=A.useRef(0),i=A.useCallback(a=>{const s=n.current+a;t(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[t]),o=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function SX(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=MIe(e,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function MIe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var PIe=YY,_X=QY,jIe=JY,RIe=eX,IIe=tX,EX=nX,LIe=aX,NX=cX,AX=dX,DIe=fX,$Ie=pX,kX=mX,CX=gX,TX=yX;const Hr=PIe,qr=jIe,Lr=A.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(_X,{ref:r,className:Ge("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,f.jsx(RIe,{asChild:!0,children:f.jsx(PH,{className:"h-4 w-4 opacity-50"})})]}));Lr.displayName=_X.displayName;const OX=A.forwardRef(({className:e,...t},n)=>f.jsx(kX,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(bse,{className:"h-4 w-4"})}));OX.displayName=kX.displayName;const MX=A.forwardRef(({className:e,...t},n)=>f.jsx(CX,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(PH,{className:"h-4 w-4"})}));MX.displayName=CX.displayName;const Dr=A.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>f.jsx(IIe,{children:f.jsxs(EX,{ref:i,className:Ge("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[f.jsx(OX,{}),f.jsx(LIe,{className:Ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(MX,{})]})}));Dr.displayName=EX.displayName;const FIe=A.forwardRef(({className:e,...t},n)=>f.jsx(NX,{ref:n,className:Ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));FIe.displayName=NX.displayName;const kt=A.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(AX,{ref:r,className:Ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx($Ie,{children:f.jsx(MH,{className:"h-4 w-4"})})}),f.jsx(DIe,{children:t})]}));kt.displayName=AX.displayName;const BIe=A.forwardRef(({className:e,...t},n)=>f.jsx(TX,{ref:n,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));BIe.displayName=TX.displayName;var k3="Checkbox",[zIe,FYe]=wa(k3),[UIe,HIe]=zIe(k3),PX=A.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[p,h]=A.useState(null),m=sn(t,_=>h(_)),g=A.useRef(!1),v=p?u||!!p.closest("form"):!0,[y=!1,x]=Tc({prop:i,defaultProp:o,onChange:c}),w=A.useRef(y);return A.useEffect(()=>{const _=p==null?void 0:p.form;if(_){const N=()=>x(w.current);return _.addEventListener("reset",N),()=>_.removeEventListener("reset",N)}},[p,x]),f.jsxs(UIe,{scope:n,state:y,disabled:s,children:[f.jsx(vt.button,{type:"button",role:"checkbox","aria-checked":id(y)?"mixed":y,"aria-required":a,"data-state":IX(y),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:m,onKeyDown:gt(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:gt(e.onClick,_=>{x(N=>id(N)?!0:!N),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&f.jsx(qIe,{control:p,bubbles:!g.current,name:r,value:l,checked:y,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:id(o)?!1:o})]})});PX.displayName=k3;var jX="CheckboxIndicator",RX=A.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=HIe(jX,n);return f.jsx(ts,{present:r||id(o.state)||o.state===!0,children:f.jsx(vt.span,{"data-state":IX(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});RX.displayName=jX;var qIe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...o}=e,a=A.useRef(null),s=N3(n),l=XP(t);A.useEffect(()=>{const u=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==n&&h){const m=new Event("click",{bubbles:r});u.indeterminate=id(n),h.call(u,id(n)?!1:n),u.dispatchEvent(m)}},[s,n,r]);const c=A.useRef(id(n)?!1:n);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...o,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function id(e){return e==="indeterminate"}function IX(e){return id(e)?"indeterminate":e?"checked":"unchecked"}var LX=PX,WIe=RX;const Zp=A.forwardRef(({className:e,...t},n)=>f.jsx(LX,{ref:n,className:Ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:f.jsx(WIe,{className:Ge("flex items-center justify-center text-current"),children:f.jsx(MH,{className:"h-4 w-4"})})}));Zp.displayName=LX.displayName;var C3="Switch",[VIe,BYe]=wa(C3),[KIe,GIe]=VIe(C3),DX=A.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[p,h]=A.useState(null),m=sn(t,w=>h(w)),g=A.useRef(!1),v=p?u||!!p.closest("form"):!0,[y=!1,x]=Tc({prop:i,defaultProp:o,onChange:c});return f.jsxs(KIe,{scope:n,checked:y,disabled:s,children:[f.jsx(vt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":BX(y),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:m,onClick:gt(e.onClick,w=>{x(_=>!_),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&f.jsx(YIe,{control:p,bubbles:!g.current,name:r,value:l,checked:y,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});DX.displayName=C3;var $X="SwitchThumb",FX=A.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=GIe($X,n);return f.jsx(vt.span,{"data-state":BX(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});FX.displayName=$X;var YIe=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=A.useRef(null),a=N3(n),s=XP(t);return A.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==n&&d){const p=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(p)}},[a,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function BX(e){return e?"checked":"unchecked"}var zX=DX,XIe=FX;const fh=A.forwardRef(({className:e,...t},n)=>f.jsx(zX,{className:Ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:f.jsx(XIe,{className:Ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fh.displayName=zX.displayName;const C8={100:["AUTONOMO","PARTICULAR"],111:["AUTONOMO","EMPRESA"],130:["AUTONOMO"],131:["AUTONOMO"],180:["AUTONOMO","EMPRESA"],190:["AUTONOMO","EMPRESA"],200:["EMPRESA"],303:["AUTONOMO","EMPRESA"],347:["AUTONOMO","EMPRESA"],349:["AUTONOMO","EMPRESA"],390:["AUTONOMO","EMPRESA"],720:["AUTONOMO","EMPRESA"]};function QIe(e){return Object.keys(C8).filter(t=>C8[t].includes(e))}const ZIe=[{codigo:"100",nombre:"IRPF - Declaracin de la Renta",periodicidad:"anual"},{codigo:"111",nombre:"Retenciones - Trimestral",periodicidad:"trimestral"},{codigo:"130",nombre:"IRPF - Pago fraccionado (actividades econmicas)",periodicidad:"trimestral"},{codigo:"131",nombre:"IRPF - Pago fraccionado (estimacin directa)",periodicidad:"trimestral"},{codigo:"180",nombre:"Retenciones - Alquileres",periodicidad:"trimestral"},{codigo:"190",nombre:"Retenciones - Resumen anual",periodicidad:"anual"},{codigo:"200",nombre:"Impuesto sobre Sociedades",periodicidad:"anual"},{codigo:"303",nombre:"IVA - Autoliquidacin",periodicidad:"trimestral"},{codigo:"347",nombre:"Operaciones con terceras personas",periodicidad:"anual"},{codigo:"349",nombre:"Operaciones intracomunitarias",periodicidad:"mensual"},{codigo:"390",nombre:"IVA - Resumen anual",periodicidad:"anual"},{codigo:"720",nombre:"Bienes en el extranjero",periodicidad:"anual"}];var UX={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(qv,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,s={},l=0,c={};function u(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var L=N(C);L.chunkSize=parseInt(L.chunkSize),C.step||C.chunk||(L.chunkSize=null),this._handle=new g(L),(this._handle.streamer=this)._config=L}).call(this,E),this.parseChunk=function(C,L){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let j=this._config.newline;j||(I=this._config.quoteChar||'"',j=this._handle.guessLineEndings(C,I)),C=[...C.split(j).slice(M)].join(j)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(C))!==void 0&&(C=I),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+C,I=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=I.meta.cursor,M=(this._finished||(this._partialLine=M.substring(C-this._baseIndex),this._baseIndex=C),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:I,workerId:c.WORKER_ID,finished:M});else if(O(this._config.chunk)&&!L){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!M||!O(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(C){O(this._config.error)?this._config.error(C):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:C,finished:!1})}}function d(E){var C;(E=E||{}).chunkSize||(E.chunkSize=c.RemoteChunkSize),u.call(this,E),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),o||(C.onload=k(this._chunkLoaded,this),C.onerror=k(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var L,M=this._config.downloadRequestHeaders;for(L in M)C.setRequestHeader(L,M[L])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+I));try{C.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}o&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(L=>(L=L.getResponseHeader("Content-Range"))!==null?parseInt(L.substring(L.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(L){L=C.statusText||L,this._sendError(new Error(L))}}function p(E){(E=E||{}).chunkSize||(E.chunkSize=c.LocalChunkSize),u.call(this,E);var C,L,M=typeof FileReader<"u";this.stream=function(I){this._input=I,L=I.slice||I.webkitSlice||I.mozSlice,M?((C=new FileReader).onload=k(this._chunkLoaded,this),C.onerror=k(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),I=L.call(I,this._start,j)),C.readAsText(I,this._config.encoding));M||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(C.error)}}function h(E){var C;u.call(this,E=E||{}),this.stream=function(L){return C=L,this._nextChunk()},this._nextChunk=function(){var L,M;if(!this._finished)return L=this._config.chunkSize,C=L?(M=C.substring(0,L),C.substring(L)):(M=C,""),this._finished=!C,this.parseChunk(M)}}function m(E){u.call(this,E=E||{});var C=[],L=!0,M=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):L=!0},this._streamData=k(function(I){try{C.push(typeof I=="string"?I:I.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(j){this._streamError(j)}},this),this._streamError=k(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=k(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(E){var C,L,M,I,j=Math.pow(2,53),D=-j,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,F=0,B=0,te=!1,K=!1,R=[],U={data:[],errors:[],meta:{}};function Y(ce){return E.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function Z(){if(U&&M&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),M=!1),E.skipEmptyLines&&(U.data=U.data.filter(function(he){return!Y(he)})),ae()){let he=function(ue,Ne){O(E.transformHeader)&&(ue=E.transformHeader(ue,Ne)),R.push(ue)};if(U)if(Array.isArray(U.data[0])){for(var ce=0;ae()&&ce<U.data.length;ce++)U.data[ce].forEach(he);U.data.splice(0,1)}else U.data.forEach(he)}function ne(he,ue){for(var Ne=E.header?{}:[],pe=0;pe<he.length;pe++){var J=pe,ke=he[pe],ke=((Ke,_e)=>(Ae=>(E.dynamicTypingFunction&&E.dynamicTyping[Ae]===void 0&&(E.dynamicTyping[Ae]=E.dynamicTypingFunction(Ae)),(E.dynamicTyping[Ae]||E.dynamicTyping)===!0))(Ke)?_e==="true"||_e==="TRUE"||_e!=="false"&&_e!=="FALSE"&&((Ae=>{if(q.test(Ae)&&(Ae=parseFloat(Ae),D<Ae&&Ae<j))return 1})(_e)?parseFloat(_e):z.test(_e)?new Date(_e):_e===""?null:_e):_e)(J=E.header?pe>=R.length?"__parsed_extra":R[pe]:J,ke=E.transform?E.transform(ke,J):ke);J==="__parsed_extra"?(Ne[J]=Ne[J]||[],Ne[J].push(ke)):Ne[J]=ke}return E.header&&(pe>R.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+pe,B+ue):pe<R.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+pe,B+ue)),Ne}var de;U&&(E.header||E.dynamicTyping||E.transform)&&(de=1,!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(ne),de=U.data.length):U.data=ne(U.data,0),E.header&&U.meta&&(U.meta.fields=R),B+=de)}function ae(){return E.header&&R.length===0}function se(ce,ne,de,he){ce={type:ce,code:ne,message:de},he!==void 0&&(ce.row=he),U.errors.push(ce)}O(E.step)&&(I=E.step,E.step=function(ce){U=ce,ae()?Z():(Z(),U.data.length!==0&&(F+=ce.data.length,E.preview&&F>E.preview?L.abort():(U.data=U.data[0],I(U,W))))}),this.parse=function(ce,ne,de){var he=E.quoteChar||'"',he=(E.newline||(E.newline=this.guessLineEndings(ce,he)),M=!1,E.delimiter?O(E.delimiter)&&(E.delimiter=E.delimiter(ce),U.meta.delimiter=E.delimiter):((he=((ue,Ne,pe,J,ke)=>{var Ke,_e,Ae,He;ke=ke||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var je=0;je<ke.length;je++){for(var nt,et=ke[je],xt=0,lt=0,Ee=0,$e=(Ae=void 0,new y({comments:J,delimiter:et,newline:Ne,preview:10}).parse(ue)),ze=0;ze<$e.data.length;ze++)pe&&Y($e.data[ze])?Ee++:(nt=$e.data[ze].length,lt+=nt,Ae===void 0?Ae=nt:0<nt&&(xt+=Math.abs(nt-Ae),Ae=nt));0<$e.data.length&&(lt/=$e.data.length-Ee),(_e===void 0||xt<=_e)&&(He===void 0||He<lt)&&1.99<lt&&(_e=xt,Ke=et,He=lt)}return{successful:!!(E.delimiter=Ke),bestDelimiter:Ke}})(ce,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=he.bestDelimiter:(M=!0,E.delimiter=c.DefaultDelimiter),U.meta.delimiter=E.delimiter),N(E));return E.preview&&E.header&&he.preview++,C=ce,L=new y(he),U=L.parse(C,ne,de),Z(),te?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,L.abort(),C=O(E.chunk)?"":C.substring(L.getCharIndex())},this.resume=function(){W.streamer._halted?(te=!1,W.streamer.parseChunk(C,!0)):setTimeout(W.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,L.abort(),U.meta.aborted=!0,O(E.complete)&&E.complete(U),C=""},this.guessLineEndings=function(ue,he){ue=ue.substring(0,1048576);var he=new RegExp(v(he)+"([^]*?)"+v(he),"gm"),de=(ue=ue.replace(he,"")).split("\r"),he=ue.split(`
`),ue=1<he.length&&he[0].length<de[0].length;if(de.length===1||ue)return`
`;for(var Ne=0,pe=0;pe<de.length;pe++)de[pe][0]===`
`&&Ne++;return Ne>=de.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(E){var C=(E=E||{}).delimiter,L=E.newline,M=E.comments,I=E.step,j=E.preview,D=E.fastMode,q=null,z=!1,W=E.quoteChar==null?'"':E.quoteChar,F=W;if(E.escapeChar!==void 0&&(F=E.escapeChar),(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=","),M===C)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<c.BAD_DELIMITERS.indexOf(M))&&(M=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var B=0,te=!1;this.parse=function(K,R,U){if(typeof K!="string")throw new Error("Input must be a string");var Y=K.length,Z=C.length,ae=L.length,se=M.length,ce=O(I),ne=[],de=[],he=[],ue=B=0;if(!K)return xt();if(D||D!==!1&&K.indexOf(W)===-1){for(var Ne=K.split(L),pe=0;pe<Ne.length;pe++){if(he=Ne[pe],B+=he.length,pe!==Ne.length-1)B+=L.length;else if(U)return xt();if(!M||he.substring(0,se)!==M){if(ce){if(ne=[],He(he.split(C)),lt(),te)return xt()}else He(he.split(C));if(j&&j<=pe)return ne=ne.slice(0,j),xt(!0)}}return xt()}for(var J=K.indexOf(C,B),ke=K.indexOf(L,B),Ke=new RegExp(v(F)+v(W),"g"),_e=K.indexOf(W,B);;)if(K[B]===W)for(_e=B,B++;;){if((_e=K.indexOf(W,_e+1))===-1)return U||de.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:B}),nt();if(_e===Y-1)return nt(K.substring(B,_e).replace(Ke,W));if(W===F&&K[_e+1]===F)_e++;else if(W===F||_e===0||K[_e-1]!==F){J!==-1&&J<_e+1&&(J=K.indexOf(C,_e+1));var Ae=je((ke=ke!==-1&&ke<_e+1?K.indexOf(L,_e+1):ke)===-1?J:Math.min(J,ke));if(K.substr(_e+1+Ae,Z)===C){he.push(K.substring(B,_e).replace(Ke,W)),K[B=_e+1+Ae+Z]!==W&&(_e=K.indexOf(W,B)),J=K.indexOf(C,B),ke=K.indexOf(L,B);break}if(Ae=je(ke),K.substring(_e+1+Ae,_e+1+Ae+ae)===L){if(he.push(K.substring(B,_e).replace(Ke,W)),et(_e+1+Ae+ae),J=K.indexOf(C,B),_e=K.indexOf(W,B),ce&&(lt(),te))return xt();if(j&&ne.length>=j)return xt(!0);break}de.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:B}),_e++}}else if(M&&he.length===0&&K.substring(B,B+se)===M){if(ke===-1)return xt();B=ke+ae,ke=K.indexOf(L,B),J=K.indexOf(C,B)}else if(J!==-1&&(J<ke||ke===-1))he.push(K.substring(B,J)),B=J+Z,J=K.indexOf(C,B);else{if(ke===-1)break;if(he.push(K.substring(B,ke)),et(ke+ae),ce&&(lt(),te))return xt();if(j&&ne.length>=j)return xt(!0)}return nt();function He(Ee){ne.push(Ee),ue=B}function je(Ee){var $e=0;return $e=Ee!==-1&&(Ee=K.substring(_e+1,Ee))&&Ee.trim()===""?Ee.length:$e}function nt(Ee){return U||(Ee===void 0&&(Ee=K.substring(B)),he.push(Ee),B=Y,He(he),ce&&lt()),xt()}function et(Ee){B=Ee,He(he),he=[],ke=K.indexOf(L,B)}function xt(Ee){if(E.header&&!R&&ne.length&&!z){var $e=ne[0],ze=Object.create(null),Ve=new Set($e);let rt=!1;for(let Je=0;Je<$e.length;Je++){let qt=$e[Je];if(ze[qt=O(E.transformHeader)?E.transformHeader(qt,Je):qt]){let Gt,ft=ze[qt];for(;Gt=qt+"_"+ft,ft++,Ve.has(Gt););Ve.add(Gt),$e[Je]=Gt,ze[qt]++,rt=!0,(q=q===null?{}:q)[Gt]=qt}else ze[qt]=1,$e[Je]=qt;Ve.add(qt)}rt&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:ne,errors:de,meta:{delimiter:C,linebreak:L,aborted:te,truncated:!!Ee,cursor:ue+(R||0),renamedHeaders:q}}}function lt(){I(xt()),ne=[],de=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return B}}function x(E){var C=E.data,L=s[C.workerId],M=!1;if(C.error)L.userError(C.error,C.file);else if(C.results&&C.results.data){var I={abort:function(){M=!0,w(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(O(L.userStep)){for(var j=0;j<C.results.data.length&&(L.userStep({data:C.results.data[j],errors:C.results.errors,meta:C.results.meta},I),!M);j++);delete C.results}else O(L.userChunk)&&(L.userChunk(C.results,I,C.file),delete C.results)}C.finished&&!M&&w(C.workerId,C.results)}function w(E,C){var L=s[E];O(L.userComplete)&&L.userComplete(C),L.terminate(),delete s[E]}function _(){throw new Error("Not implemented.")}function N(E){if(typeof E!="object"||E===null)return E;var C,L=Array.isArray(E)?[]:{};for(C in E)L[C]=N(E[C]);return L}function k(E,C){return function(){E.apply(C,arguments)}}function O(E){return typeof E=="function"}return c.parse=function(E,C){var L=(C=C||{}).dynamicTyping||!1;if(O(L)&&(C.dynamicTypingFunction=L,L={}),C.dynamicTyping=L,C.transform=!!O(C.transform)&&C.transform,!C.worker||!c.WORKERS_SUPPORTED)return L=null,c.NODE_STREAM_INPUT,typeof E=="string"?(E=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(E),L=new(C.download?d:h)(C)):E.readable===!0&&O(E.read)&&O(E.on)?L=new m(C):(r.File&&E instanceof File||E instanceof Object)&&(L=new p(C)),L.stream(E);(L=(()=>{var M;return!!c.WORKERS_SUPPORTED&&(M=(()=>{var I=r.URL||r.webkitURL||null,j=n.toString();return c.BLOB_URL||(c.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(M=new r.Worker(M)).onmessage=x,M.id=l++,s[M.id]=M)})()).userStep=C.step,L.userChunk=C.chunk,L.userComplete=C.complete,L.userError=C.error,C.step=O(C.step),C.chunk=O(C.chunk),C.complete=O(C.complete),C.error=O(C.error),delete C.worker,L.postMessage({input:E,config:C,workerId:L.id})},c.unparse=function(E,C){var L=!1,M=!0,I=",",j=`\r
`,D='"',q=D+D,z=!1,W=null,F=!1,B=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||c.BAD_DELIMITERS.filter(function(R){return C.delimiter.indexOf(R)!==-1}).length||(I=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(L=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(z=C.skipEmptyLines),typeof C.newline=="string"&&(j=C.newline),typeof C.quoteChar=="string"&&(D=C.quoteChar),typeof C.header=="boolean"&&(M=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");W=C.columns}C.escapeChar!==void 0&&(q=C.escapeChar+D),C.escapeFormulae instanceof RegExp?F=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(D),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return te(null,E,z);if(typeof E[0]=="object")return te(W||Object.keys(E[0]),E,z)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||W),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),te(E.fields||[],E.data||[],z);throw new Error("Unable to serialize unrecognized input");function te(R,U,Y){var Z="",ae=(typeof R=="string"&&(R=JSON.parse(R)),typeof U=="string"&&(U=JSON.parse(U)),Array.isArray(R)&&0<R.length),se=!Array.isArray(U[0]);if(ae&&M){for(var ce=0;ce<R.length;ce++)0<ce&&(Z+=I),Z+=K(R[ce],ce);0<U.length&&(Z+=j)}for(var ne=0;ne<U.length;ne++){var de=(ae?R:U[ne]).length,he=!1,ue=ae?Object.keys(U[ne]).length===0:U[ne].length===0;if(Y&&!ae&&(he=Y==="greedy"?U[ne].join("").trim()==="":U[ne].length===1&&U[ne][0].length===0),Y==="greedy"&&ae){for(var Ne=[],pe=0;pe<de;pe++){var J=se?R[pe]:pe;Ne.push(U[ne][J])}he=Ne.join("").trim()===""}if(!he){for(var ke=0;ke<de;ke++){0<ke&&!ue&&(Z+=I);var Ke=ae&&se?R[ke]:ke;Z+=K(U[ne][Ke],ke)}ne<U.length-1&&(!Y||0<de&&!ue)&&(Z+=j)}}return Z}function K(R,U){var Y,Z;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(Z=!1,F&&typeof R=="string"&&F.test(R)&&(R="'"+R,Z=!0),Y=R.toString().replace(B,q),(Z=Z||L===!0||typeof L=="function"&&L(R,U)||Array.isArray(L)&&L[U]||((ae,se)=>{for(var ce=0;ce<se.length;ce++)if(-1<ae.indexOf(se[ce]))return!0;return!1})(Y,c.BAD_DELIMITERS)||-1<Y.indexOf(I)||Y.charAt(0)===" "||Y.charAt(Y.length-1)===" ")?D+Y+D:Y)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!o&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=g,c.NetworkStreamer=d,c.FileStreamer=p,c.StringStreamer=h,c.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(E){var C=E.config||{},L=[];return this.each(function(j){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)L.push({file:this.files[D],inputElem:this,instanceConfig:i.extend({},C)})}),M(),this;function M(){if(L.length===0)O(E.complete)&&E.complete();else{var j,D,q,z,W=L[0];if(O(E.before)){var F=E.before(W.file,W.inputElem);if(typeof F=="object"){if(F.action==="abort")return j="AbortError",D=W.file,q=W.inputElem,z=F.reason,void(O(E.error)&&E.error({name:j},D,q,z));if(F.action==="skip")return void I();typeof F.config=="object"&&(W.instanceConfig=i.extend(W.instanceConfig,F.config))}else if(F==="skip")return void I()}var B=W.instanceConfig.complete;W.instanceConfig.complete=function(te){O(B)&&B(te,W.file,W.inputElem),I()},c.parse(W.file,W.instanceConfig)}}function I(){L.splice(0,1),M()}}),a&&(r.onmessage=function(E){E=E.data,c.WORKER_ID===void 0&&E&&(c.WORKER_ID=E.workerId),typeof E.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(E.input,E.config),finished:!0}):(r.File&&E.input instanceof File||E.input instanceof Object)&&(E=c.parse(E.input,E.config))&&r.postMessage({workerId:c.WORKER_ID,results:E,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(p.prototype=Object.create(u.prototype)).constructor=p,(h.prototype=Object.create(h.prototype)).constructor=h,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(UX);var JIe=UX.exports;const eLe=wn(JIe);function tLe(){var I;const{toast:e}=Ho(),[t,n]=A.useState(""),[r,i]=A.useState("todos"),[o,a]=A.useState(!1),[s,l]=A.useState(null),[c,u]=A.useState([]),[d,p]=A.useState(""),[h,m]=A.useState({razonSocial:"",nifCif:"",tipo:"autonomo",email:"",telefono:"",direccion:"",responsableAsignado:"",taxModels:[],isActive:!0}),{data:g,isLoading:v}=tn({queryKey:["/api/clients"]}),{data:y}=tn({queryKey:["/api/users"]}),x=Bt({mutationFn:async j=>await jt("POST","/api/clients",j),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/clients"]}),e({title:"Cliente creado exitosamente"}),a(!1),O()}}),w=Bt({mutationFn:async({id:j,data:D})=>await jt("PATCH",`/api/clients/${j}`,D),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/clients"]}),e({title:"Cliente actualizado exitosamente"}),a(!1),O()}}),_=Bt({mutationFn:async j=>await jt("DELETE",`/api/clients/${j}`,{}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/clients"]}),e({title:"Cliente eliminado exitosamente"})}}),N=Bt({mutationFn:async j=>await jt("PATCH",`/api/clients/${j}/toggle-active`,{}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/clients"]}),e({title:"Estado del cliente actualizado"})},onError:()=>{e({title:"Error al cambiar el estado del cliente",variant:"destructive"})}}),k=(g==null?void 0:g.filter(j=>{const D=j.razonSocial.toLowerCase().includes(t.toLowerCase())||j.nifCif.toLowerCase().includes(t.toLowerCase()),q=r==="todos"||j.tipo===r;return D&&q}))||[],O=()=>{m({razonSocial:"",nifCif:"",tipo:"autonomo",email:"",telefono:"",direccion:"",responsableAsignado:"",taxModels:[],isActive:!0}),u([]),p(""),l(null)},E=j=>{var z,W,F;l(j),m({razonSocial:j.razonSocial,nifCif:j.nifCif,tipo:j.tipo,email:j.email||"",telefono:j.telefono||"",direccion:j.direccion||"",responsableAsignado:j.responsableAsignado||"",taxModels:j.taxModels||[],isActive:j.isActive!==!1});const D=((z=j.employees)==null?void 0:z.map(B=>B.userId))||[],q=((F=(W=j.employees)==null?void 0:W.find(B=>B.isPrimary))==null?void 0:F.userId)||"";u(D),p(q),a(!0)},C=Bt({mutationFn:async({clientId:j,employeeIds:D,primaryId:q})=>await jt("PUT",`/api/clients/${j}/employees`,{employeeIds:D,primaryEmployeeId:q}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/clients"]})}}),L=async j=>{j.preventDefault();try{let D=s==null?void 0:s.id;s?(await w.mutateAsync({id:s.id,data:h}),D=s.id):D=(await x.mutateAsync(h)).id,D&&await C.mutateAsync({clientId:D,employeeIds:c,primaryId:c.length>0?d||c[0]:""}),e({title:s?"Cliente actualizado exitosamente":"Cliente creado exitosamente"}),a(!1),O()}catch(D){e({title:"Error",description:D instanceof Error?D.message:"Error al guardar el cliente",variant:"destructive"})}},M=()=>{if(!g||g.length===0)return;const j=eLe.unparse(g),D=new Blob([j],{type:"text/csv"}),q=window.URL.createObjectURL(D),z=document.createElement("a");z.href=q,z.download=`clientes_${new Date().toISOString().split("T")[0]}.csv`,z.click(),e({title:"Exportacin completada"})};return v?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx(pn,{className:"h-9 w-48"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx(pn,{className:"h-10 flex-1"}),f.jsx(pn,{className:"h-10 w-32"}),f.jsx(pn,{className:"h-10 w-32"})]}),f.jsx(Nt,{children:f.jsx(At,{className:"p-6",children:[...Array(5)].map((j,D)=>f.jsx(pn,{className:"h-12 w-full mb-2"},D))})})]}):f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold",children:"Clientes"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de clientes y contactos"})]}),f.jsxs(eo,{open:o,onOpenChange:a,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:O,"data-testid":"button-add-client",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nuevo Cliente"]})}),f.jsxs(Li,{className:"max-w-2xl",children:[f.jsxs(to,{children:[f.jsx(no,{children:s?"Editar Cliente":"Nuevo Cliente"}),f.jsx(yo,{children:s?"Actualiza los datos del cliente":"Completa la informacin del nuevo cliente"})]}),f.jsxs("form",{onSubmit:L,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"razonSocial",children:"Razn Social *"}),f.jsx(dt,{id:"razonSocial",value:h.razonSocial,onChange:j=>m({...h,razonSocial:j.target.value}),required:!0,"data-testid":"input-razon-social"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"nifCif",children:"NIF/CIF *"}),f.jsx(dt,{id:"nifCif",value:h.nifCif,onChange:j=>m({...h,nifCif:j.target.value}),required:!0,"data-testid":"input-nif-cif"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"tipo",children:"Tipo *"}),f.jsxs(Hr,{value:h.tipo,onValueChange:j=>{m({...h,tipo:j,taxModels:[]})},children:[f.jsx(Lr,{"data-testid":"select-tipo",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"autonomo",children:"Autnomo"}),f.jsx(kt,{value:"empresa",children:"Empresa"}),f.jsx(kt,{value:"particular",children:"Particular"})]})]})]}),f.jsxs("div",{className:"space-y-3 col-span-2",children:[f.jsxs(Fe,{className:"flex items-center gap-2",children:[f.jsx(rL,{className:"h-4 w-4"}),"Empleados Asignados"]}),f.jsx("div",{className:"border rounded-md p-4 space-y-3 max-h-48 overflow-y-auto",children:y==null?void 0:y.filter(j=>j.role!=="LECTURA").map(j=>{const D=c.includes(j.id),q=d===j.id;return f.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 rounded-md hover-elevate",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Zp,{id:`employee-${j.id}`,checked:D,onCheckedChange:z=>{if(z){const W=[...c,j.id];u(W),W.length===1&&p(j.id)}else if(u(c.filter(W=>W!==j.id)),q){const W=c.filter(F=>F!==j.id);p(W[0]||"")}},"data-testid":`checkbox-employee-${j.id}`}),f.jsxs(Fe,{htmlFor:`employee-${j.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[j.username,q&&f.jsx(Kt,{variant:"default",className:"text-xs",children:"Primario"})]})]}),D&&!q&&f.jsx(Re,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(j.id),"data-testid":`button-set-primary-${j.id}`,children:"Marcar como primario"})]},j.id)})}),c.length===0&&f.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecciona al menos un empleado para asignar al cliente"}),c.length>0&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.length," empleado",c.length>1?"s":""," seleccionado",c.length>1?"s":"",d&&`  ${(I=y==null?void 0:y.find(j=>j.id===d))==null?void 0:I.username} es el responsable principal`]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"email",children:"Email"}),f.jsx(dt,{id:"email",type:"email",value:h.email,onChange:j=>m({...h,email:j.target.value}),"data-testid":"input-email"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"telefono",children:"Telfono"}),f.jsx(dt,{id:"telefono",value:h.telefono,onChange:j=>m({...h,telefono:j.target.value}),"data-testid":"input-telefono"})]}),f.jsxs("div",{className:"space-y-2 col-span-2",children:[f.jsx(Fe,{htmlFor:"direccion",children:"Direccin"}),f.jsx(dt,{id:"direccion",value:h.direccion,onChange:j=>m({...h,direccion:j.target.value}),"data-testid":"input-direccion"})]}),f.jsxs("div",{className:"space-y-3 col-span-2",children:[f.jsxs(Fe,{className:"flex items-center gap-2",children:[f.jsx(Ds,{className:"h-4 w-4"}),"Modelos Fiscales Asignados"]}),f.jsx("div",{className:"flex flex-wrap gap-4",children:QIe(h.tipo.toUpperCase()).map(j=>{const D=ZIe.find(q=>q.codigo===j);return f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Zp,{id:`tax-model-${j}`,checked:h.taxModels.includes(j),onCheckedChange:q=>{m(q?{...h,taxModels:[...h.taxModels,j]}:{...h,taxModels:h.taxModels.filter(z=>z!==j)})},"data-testid":`checkbox-tax-model-${j}`}),f.jsx(Fe,{htmlFor:`tax-model-${j}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",title:D==null?void 0:D.nombre,children:j})]},j)})}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Los impuestos se generarn automticamente para todos los perodos de los modelos seleccionados"})]})]}),f.jsxs(ca,{children:[f.jsx(Re,{type:"button",variant:"outline",onClick:()=>{a(!1),O()},children:"Cancelar"}),f.jsx(Re,{type:"submit","data-testid":"button-submit-client",children:s?"Actualizar":"Crear"})]})]})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("div",{className:"relative flex-1 min-w-[300px]",children:[f.jsx(N_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(dt,{placeholder:"Buscar por razn social o NIF/CIF...",value:t,onChange:j=>n(j.target.value),className:"pl-10","data-testid":"input-search-clients"})]}),f.jsxs(Hr,{value:r,onValueChange:i,children:[f.jsx(Lr,{className:"w-[180px]","data-testid":"select-filter-tipo",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"todos",children:"Todos los tipos"}),f.jsx(kt,{value:"autonomo",children:"Autnomos"}),f.jsx(kt,{value:"empresa",children:"Empresas"}),f.jsx(kt,{value:"particular",children:"Particulares"})]})]}),f.jsxs(Re,{variant:"outline",onClick:M,"data-testid":"button-export-csv",children:[f.jsx(Qw,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{children:["Lista de Clientes (",k.length,")"]})}),f.jsx(At,{children:f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Razn Social"}),f.jsx(bt,{children:"NIF/CIF"}),f.jsx(bt,{children:"Tipo"}),f.jsx(bt,{children:"Modelos Fiscales"}),f.jsx(bt,{children:"Estado"}),f.jsx(bt,{children:"Responsable"}),f.jsx(bt,{className:"text-right",children:"Acciones"})]})}),f.jsx(Ms,{children:k.length===0?f.jsx(Pn,{children:f.jsx(ot,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay clientes registrados"})}):k.map(j=>f.jsxs(Pn,{"data-testid":`row-client-${j.id}`,children:[f.jsx(ot,{className:"font-medium",children:j.razonSocial}),f.jsx(ot,{children:j.nifCif}),f.jsx(ot,{children:f.jsxs(Kt,{variant:"outline",className:"gap-1",children:[j.tipo==="autonomo"&&f.jsx(FP,{className:"h-3 w-3"}),j.tipo==="empresa"&&f.jsx(OH,{className:"h-3 w-3"}),j.tipo==="particular"&&f.jsx(rL,{className:"h-3 w-3"}),j.tipo==="autonomo"&&"Autnomo",j.tipo==="empresa"&&"Empresa",j.tipo==="particular"&&"Particular"]})}),f.jsx(ot,{children:j.taxModels&&j.taxModels.length>0?f.jsx("div",{className:"flex flex-wrap gap-1",children:j.taxModels.map(D=>f.jsx(Kt,{variant:"secondary",className:"text-xs",children:D},D))}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Sin modelos"})}),f.jsx(ot,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Kt,{variant:j.isActive!==!1?"default":"secondary",className:"gap-1","data-testid":`badge-status-${j.id}`,children:j.isActive!==!1?f.jsxs(f.Fragment,{children:[f.jsx(E_,{className:"h-3 w-3"}),"Activo"]}):f.jsxs(f.Fragment,{children:[f.jsx(xse,{className:"h-3 w-3"}),"Inactivo"]})}),f.jsx(fh,{checked:j.isActive!==!1,onCheckedChange:()=>N.mutate(j.id),disabled:N.isPending,"data-testid":`switch-active-${j.id}`})]})}),f.jsx(ot,{children:j.employees&&j.employees.length>0?f.jsx("div",{className:"flex flex-wrap gap-1",children:j.employees.map(D=>f.jsxs(Kt,{variant:D.isPrimary?"default":"secondary",className:"text-xs","data-testid":`badge-employee-${D.userId}`,children:[D.user.username,D.isPrimary&&" "]},D.userId))}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"Sin asignar"})}),f.jsx(ot,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>E(j),"data-testid":`button-edit-${j.id}`,children:f.jsx(ed,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>_.mutate(j.id),"data-testid":`button-delete-${j.id}`,children:f.jsx(xl,{className:"h-4 w-4"})})]})})]},j.id))})]})})]})]})}const T3=A.forwardRef(({className:e,...t},n)=>f.jsx("textarea",{className:Ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));T3.displayName="Textarea";var HX="AlertDialog",[nLe,zYe]=wa(HX,[dW]),Fc=dW(),qX=e=>{const{__scopeAlertDialog:t,...n}=e,r=Fc(t);return f.jsx(D_,{...r,...n,modal:!0})};qX.displayName=HX;var rLe="AlertDialogTrigger",iLe=A.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fc(n);return f.jsx(kW,{...i,...r,ref:t})});iLe.displayName=rLe;var oLe="AlertDialogPortal",WX=e=>{const{__scopeAlertDialog:t,...n}=e,r=Fc(t);return f.jsx($_,{...r,...n})};WX.displayName=oLe;var aLe="AlertDialogOverlay",VX=A.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fc(n);return f.jsx(wg,{...i,...r,ref:t})});VX.displayName=aLe;var Jp="AlertDialogContent",[sLe,lLe]=nLe(Jp),cLe=rH("AlertDialogContent"),KX=A.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Fc(n),a=A.useRef(null),s=sn(t,a),l=A.useRef(null);return f.jsx(lfe,{contentName:Jp,titleName:GX,docsSlug:"alert-dialog",children:f.jsx(sLe,{scope:n,cancelRef:l,children:f.jsxs(Sg,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:gt(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(cLe,{children:r}),f.jsx(dLe,{contentRef:a})]})})})});KX.displayName=Jp;var GX="AlertDialogTitle",YX=A.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fc(n);return f.jsx(Sb,{...i,...r,ref:t})});YX.displayName=GX;var XX="AlertDialogDescription",QX=A.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fc(n);return f.jsx(_b,{...i,...r,ref:t})});QX.displayName=XX;var uLe="AlertDialogAction",ZX=A.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fc(n);return f.jsx(F_,{...i,...r,ref:t})});ZX.displayName=uLe;var JX="AlertDialogCancel",eQ=A.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=lLe(JX,n),o=Fc(n),a=sn(t,i);return f.jsx(F_,{...o,...r,ref:a})});eQ.displayName=JX;var dLe=({contentRef:e})=>{const t=`\`${Jp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Jp}\` by passing a \`${XX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Jp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},fLe=qX,hLe=WX,tQ=VX,nQ=KX,rQ=ZX,iQ=eQ,oQ=YX,aQ=QX;const O3=fLe,pLe=hLe,sQ=A.forwardRef(({className:e,...t},n)=>f.jsx(tQ,{className:Ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));sQ.displayName=tQ.displayName;const RE=A.forwardRef(({className:e,...t},n)=>f.jsxs(pLe,{children:[f.jsx(sQ,{}),f.jsx(nQ,{ref:n,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));RE.displayName=nQ.displayName;const IE=({className:e,...t})=>f.jsx("div",{className:Ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});IE.displayName="AlertDialogHeader";const LE=({className:e,...t})=>f.jsx("div",{className:Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});LE.displayName="AlertDialogFooter";const DE=A.forwardRef(({className:e,...t},n)=>f.jsx(oQ,{ref:n,className:Ge("text-lg font-semibold",e),...t}));DE.displayName=oQ.displayName;const $E=A.forwardRef(({className:e,...t},n)=>f.jsx(aQ,{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));$E.displayName=aQ.displayName;const FE=A.forwardRef(({className:e,...t},n)=>f.jsx(rQ,{ref:n,className:Ge(aj(),e),...t}));FE.displayName=rQ.displayName;const BE=A.forwardRef(({className:e,...t},n)=>f.jsx(iQ,{ref:n,className:Ge(aj({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));BE.displayName=iQ.displayName;function mLe(){const{toast:e}=Ho(),[t,n]=A.useState(!1),[r,i]=A.useState(null),[o,a]=A.useState(!1),[s,l]=A.useState(null),[c,u]=A.useState({modelo:"",nombre:"",descripcion:"",tipo:"",periodicidad:"TRIMESTRAL",activo:!0}),{data:d,isLoading:p}=tn({queryKey:["/api/impuestos"]}),{data:h}=tn({queryKey:["/api/calendario-aeat"]}),m=Bt({mutationFn:async E=>await jt("POST","/api/impuestos",E),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/impuestos"]}),e({title:"Impuesto creado exitosamente"}),n(!1),y()},onError:E=>{e({title:"Error al crear impuesto",description:E.message||"Ocurri un error inesperado",variant:"destructive"})}}),g=Bt({mutationFn:async({id:E,data:C})=>await jt("PATCH",`/api/impuestos/${E}`,C),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/impuestos"]}),e({title:"Impuesto actualizado exitosamente"}),n(!1),i(null),y()},onError:E=>{e({title:"Error al actualizar impuesto",description:E.message||"Ocurri un error inesperado",variant:"destructive"})}}),v=Bt({mutationFn:async E=>await jt("DELETE",`/api/impuestos/${E}`),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/impuestos"]}),e({title:"Impuesto eliminado exitosamente"}),a(!1),l(null)},onError:E=>{e({title:"Error al eliminar impuesto",description:E.message||"No se puede eliminar porque tiene obligaciones asociadas",variant:"destructive"})}}),y=()=>{u({modelo:"",nombre:"",descripcion:"",tipo:"",periodicidad:"TRIMESTRAL",activo:!0}),i(null)},x=E=>{i(E),u({modelo:E.modelo,nombre:E.nombre,descripcion:E.descripcion||"",tipo:E.tipo||"",periodicidad:E.periodicidad,activo:E.activo}),n(!0)},w=E=>{l(E),a(!0)},_=()=>{s&&v.mutate(s)},N=E=>{E.preventDefault(),r?g.mutate({id:r.id,data:c}):m.mutate(c)},k=E=>(h==null?void 0:h.filter(C=>C.impuestoId===E).length)||0,O=E=>{if(!E)return f.jsx("span",{className:"text-muted-foreground text-sm",children:"-"});const L={MENSUAL:{variant:"default",label:"Mensual"},TRIMESTRAL:{variant:"secondary",label:"Trimestral"},ANUAL:{variant:"outline",label:"Anual"}}[E]||{variant:"outline",label:E};return f.jsx(Kt,{variant:L.variant,"data-testid":`badge-periodicidad-${E.toLowerCase()}`,children:L.label})};return p?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx(pn,{className:"h-9 w-64"}),f.jsx("div",{className:"space-y-4",children:[...Array(5)].map((E,C)=>f.jsx(pn,{className:"h-20"},C))})]}):f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold",children:"Catlogo de Impuestos"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de modelos fiscales AEAT"})]}),f.jsxs(eo,{open:t,onOpenChange:E=>{n(E),E||y()},children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:y,"data-testid":"button-add-impuesto",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nuevo Impuesto"]})}),f.jsxs(Li,{children:[f.jsxs(to,{children:[f.jsx(no,{children:r?"Editar Impuesto":"Nuevo Impuesto"}),f.jsx(yo,{children:r?"Modifica los datos del modelo fiscal":"Registra un nuevo modelo fiscal AEAT"})]}),f.jsxs("form",{onSubmit:N,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"modelo",children:"Modelo AEAT *"}),f.jsx(dt,{id:"modelo",value:c.modelo,onChange:E=>u({...c,modelo:E.target.value}),placeholder:"Ej: 303, 390, 130...",required:!0,"data-testid":"input-modelo"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"nombre",children:"Nombre del Impuesto *"}),f.jsx(dt,{id:"nombre",value:c.nombre,onChange:E=>u({...c,nombre:E.target.value}),placeholder:"Ej: IVA - Autoliquidacin",required:!0,"data-testid":"input-nombre"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"tipo",children:"Tipo de Impuesto"}),f.jsxs(Hr,{value:c.tipo,onValueChange:E=>u({...c,tipo:E}),children:[f.jsx(Lr,{"data-testid":"select-tipo",children:f.jsx(qr,{placeholder:"Selecciona el tipo"})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"IVA",children:"IVA"}),f.jsx(kt,{value:"IRPF",children:"IRPF"}),f.jsx(kt,{value:"IS",children:"Impuesto sobre Sociedades"}),f.jsx(kt,{value:"IRNR",children:"IRNR"}),f.jsx(kt,{value:"OTRO",children:"Otro"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"periodicidad",children:"Periodicidad *"}),f.jsxs(Hr,{value:c.periodicidad,onValueChange:E=>u({...c,periodicidad:E}),children:[f.jsx(Lr,{"data-testid":"select-periodicidad",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"MENSUAL",children:"Mensual"}),f.jsx(kt,{value:"TRIMESTRAL",children:"Trimestral"}),f.jsx(kt,{value:"ANUAL",children:"Anual"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"descripcion",children:"Descripcin"}),f.jsx(T3,{id:"descripcion",value:c.descripcion,onChange:E=>u({...c,descripcion:E.target.value}),placeholder:"Descripcin detallada del impuesto...","data-testid":"textarea-descripcion"})]}),f.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx(Fe,{htmlFor:"activo",children:"Estado"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:c.activo?"Impuesto activo y disponible":"Impuesto desactivado"})]}),f.jsx(fh,{id:"activo",checked:c.activo,onCheckedChange:E=>u({...c,activo:E}),"data-testid":"switch-activo"})]}),f.jsxs(ca,{children:[f.jsx(Re,{type:"button",variant:"outline",onClick:()=>{n(!1),y()},children:"Cancelar"}),f.jsx(Re,{type:"submit",disabled:m.isPending||g.isPending,"data-testid":"button-submit-impuesto",children:m.isPending||g.isPending?"Guardando...":r?"Actualizar":"Crear"})]})]})]})]})]}),f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsxs(en,{className:"flex items-center gap-2",children:[f.jsx(Ds,{className:"h-5 w-5"}),"Modelos Fiscales Registrados"]}),f.jsxs(kh,{children:[(d==null?void 0:d.length)||0," impuestos configurados en el sistema"]})]}),f.jsx(At,{children:!d||d.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Ds,{className:"h-12 w-12 mx-auto text-muted-foreground/50"}),f.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay impuestos registrados"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Comienza creando tu primer modelo fiscal"})]}):f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Modelo"}),f.jsx(bt,{children:"Nombre"}),f.jsx(bt,{children:"Tipo"}),f.jsx(bt,{children:"Periodicidad"}),f.jsxs(bt,{className:"text-center",children:[f.jsx(e0,{className:"h-4 w-4 inline mr-1"}),"Calendarios"]}),f.jsx(bt,{children:"Estado"}),f.jsx(bt,{className:"text-right",children:"Acciones"})]})}),f.jsx(Ms,{children:d.map(E=>f.jsxs(Pn,{"data-testid":`row-impuesto-${E.id}`,children:[f.jsx(ot,{className:"font-mono font-semibold","data-testid":`text-modelo-${E.id}`,children:E.modelo}),f.jsx(ot,{"data-testid":`text-nombre-${E.id}`,children:f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:E.nombre}),E.descripcion&&f.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:E.descripcion})]})}),f.jsx(ot,{children:E.tipo?f.jsx(Kt,{variant:"outline","data-testid":`badge-tipo-${E.id}`,children:E.tipo}):f.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),f.jsx(ot,{children:O(E.periodicidad)}),f.jsx(ot,{className:"text-center","data-testid":`text-calendarios-${E.id}`,children:f.jsx(Kt,{variant:"secondary",children:k(E.id)})}),f.jsx(ot,{children:E.activo?f.jsx(Kt,{variant:"default",className:"bg-green-600 hover:bg-green-700","data-testid":`badge-activo-${E.id}`,children:"Activo"}):f.jsx(Kt,{variant:"secondary","data-testid":`badge-inactivo-${E.id}`,children:"Inactivo"})}),f.jsx(ot,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>x(E),"data-testid":`button-edit-${E.id}`,children:f.jsx($H,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>w(E.id),"data-testid":`button-delete-${E.id}`,children:f.jsx(xl,{className:"h-4 w-4 text-destructive"})})]})})]},E.id))})]})})]}),f.jsx(O3,{open:o,onOpenChange:a,children:f.jsxs(RE,{children:[f.jsxs(IE,{children:[f.jsxs(DE,{className:"flex items-center gap-2",children:[f.jsx(mg,{className:"h-5 w-5 text-destructive"}),"Eliminar impuesto?"]}),f.jsx($E,{children:"Esta accin no se puede deshacer. El impuesto ser eliminado permanentemente del sistema. Si tiene obligaciones fiscales o calendarios asociados, no podr eliminarse."})]}),f.jsxs(LE,{children:[f.jsx(BE,{"data-testid":"button-cancel-delete",children:"Cancelar"}),f.jsx(FE,{onClick:_,className:"bg-destructive hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Eliminar"})]})]})})]})}function gLe(){const{toast:e}=Ho(),{user:t}=bg(),[n,r]=A.useState("table"),[i,o]=A.useState(!1),[a,s]=A.useState({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""}),{data:l,isLoading:c}=tn({queryKey:["/api/tasks"]}),{data:u}=tn({queryKey:["/api/clients"]}),{data:d}=tn({queryKey:["/api/users"]}),p=Bt({mutationFn:async _=>await jt("POST","/api/tasks",_),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/tasks"]}),e({title:"Tarea creada exitosamente"}),o(!1),g()}}),h=Bt({mutationFn:async({id:_,estado:N})=>await jt("PATCH",`/api/tasks/${_}`,{estado:N}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/tasks"]})}}),m=(l==null?void 0:l.filter(_=>_.visibilidad==="GENERAL"?!0:_.visibilidad==="PERSONAL"?(t==null?void 0:t.role)==="ADMIN"||_.asignadoA===(t==null?void 0:t.id):!1))||[],g=()=>{s({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""})},v=_=>{_.preventDefault(),p.mutate(a)},y=_=>{const N={BAJA:"text-muted-foreground bg-muted",MEDIA:"text-chart-2 bg-chart-2/10",ALTA:"text-destructive bg-destructive/10"};return f.jsx(Kt,{variant:"outline",className:N[_],children:_})},x=_=>{const N={PENDIENTE:{color:"text-muted-foreground bg-muted",icon:DP},EN_PROGRESO:{color:"text-chart-2 bg-chart-2/10",icon:UH},COMPLETADA:{color:"text-chart-3 bg-chart-3/10",icon:E_}},k=N[_]||N.PENDIENTE,O=k.icon;return f.jsxs(Kt,{variant:"outline",className:k.color,children:[f.jsx(O,{className:"h-3 w-3 mr-1"}),_.replace("_"," ")]})},w=[{id:"PENDIENTE",title:"Pendientes"},{id:"EN_PROGRESO",title:"En Progreso"},{id:"COMPLETADA",title:"Completadas"}];return c?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx(pn,{className:"h-9 w-48"}),f.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((_,N)=>f.jsx(pn,{className:"h-64"},N))})]}):f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold",children:"Tareas"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de tareas generales y personales"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Nb,{value:n,onValueChange:_=>r(_),children:f.jsxs(_g,{children:[f.jsxs(ii,{value:"table","data-testid":"button-view-table",children:[f.jsx(Rse,{className:"h-4 w-4 mr-2"}),"Tabla"]}),f.jsxs(ii,{value:"kanban","data-testid":"button-view-kanban",children:[f.jsx(jse,{className:"h-4 w-4 mr-2"}),"Tablero"]})]})}),f.jsxs(eo,{open:i,onOpenChange:o,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:g,"data-testid":"button-add-task",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nueva Tarea"]})}),f.jsxs(Li,{className:"max-w-2xl",children:[f.jsxs(to,{children:[f.jsx(no,{children:"Nueva Tarea"}),f.jsx(yo,{children:"Crea una nueva tarea general o personal"})]}),f.jsxs("form",{onSubmit:v,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2 col-span-2",children:[f.jsx(Fe,{htmlFor:"titulo",children:"Ttulo *"}),f.jsx(dt,{id:"titulo",value:a.titulo,onChange:_=>s({...a,titulo:_.target.value}),required:!0,"data-testid":"input-titulo"})]}),f.jsxs("div",{className:"space-y-2 col-span-2",children:[f.jsx(Fe,{htmlFor:"descripcion",children:"Descripcin"}),f.jsx(T3,{id:"descripcion",value:a.descripcion,onChange:_=>s({...a,descripcion:_.target.value}),"data-testid":"textarea-descripcion"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"cliente",children:"Cliente"}),f.jsxs(Hr,{value:a.clienteId||"none",onValueChange:_=>s({...a,clienteId:_==="none"?"":_}),children:[f.jsx(Lr,{"data-testid":"select-cliente",children:f.jsx(qr,{placeholder:"Sin cliente"})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"none",children:"Sin cliente"}),u==null?void 0:u.map(_=>f.jsx(kt,{value:_.id,children:_.razonSocial},_.id))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"asignado",children:"Asignado a"}),f.jsxs(Hr,{value:a.asignadoA||"none",onValueChange:_=>s({...a,asignadoA:_==="none"?"":_}),children:[f.jsx(Lr,{"data-testid":"select-asignado",children:f.jsx(qr,{placeholder:"Sin asignar"})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"none",children:"Sin asignar"}),d==null?void 0:d.map(_=>f.jsx(kt,{value:_.id,children:_.username},_.id))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"prioridad",children:"Prioridad"}),f.jsxs(Hr,{value:a.prioridad,onValueChange:_=>s({...a,prioridad:_}),children:[f.jsx(Lr,{"data-testid":"select-prioridad",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"BAJA",children:"Baja"}),f.jsx(kt,{value:"MEDIA",children:"Media"}),f.jsx(kt,{value:"ALTA",children:"Alta"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"visibilidad",children:"Visibilidad"}),f.jsxs(Hr,{value:a.visibilidad,onValueChange:_=>s({...a,visibilidad:_}),children:[f.jsx(Lr,{"data-testid":"select-visibilidad",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"GENERAL",children:"General"}),f.jsx(kt,{value:"PERSONAL",children:"Personal"})]})]})]}),f.jsxs("div",{className:"space-y-2 col-span-2",children:[f.jsx(Fe,{htmlFor:"fechaVencimiento",children:"Fecha de Vencimiento"}),f.jsx(dt,{id:"fechaVencimiento",type:"date",value:a.fechaVencimiento,onChange:_=>s({...a,fechaVencimiento:_.target.value}),"data-testid":"input-fecha-vencimiento"})]})]}),f.jsxs(ca,{children:[f.jsx(Re,{type:"button",variant:"outline",onClick:()=>{o(!1),g()},children:"Cancelar"}),f.jsx(Re,{type:"submit","data-testid":"button-submit-task",children:"Crear Tarea"})]})]})]})]})]})]}),n==="table"?f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{children:["Lista de Tareas (",m.length,")"]})}),f.jsx(At,{children:f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Ttulo"}),f.jsx(bt,{children:"Cliente"}),f.jsx(bt,{children:"Asignado"}),f.jsx(bt,{children:"Prioridad"}),f.jsx(bt,{children:"Estado"}),f.jsx(bt,{children:"Vencimiento"}),f.jsx(bt,{className:"text-right",children:"Acciones"})]})}),f.jsx(Ms,{children:m.length===0?f.jsx(Pn,{children:f.jsx(ot,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay tareas registradas"})}):m.map(_=>{var N,k;return f.jsxs(Pn,{"data-testid":`row-task-${_.id}`,children:[f.jsx(ot,{className:"font-medium",children:f.jsxs("div",{className:"flex items-center gap-2",children:[_.visibilidad==="PERSONAL"&&f.jsx(PC,{className:"h-3 w-3 text-muted-foreground"}),_.titulo]})}),f.jsx(ot,{children:((N=_.client)==null?void 0:N.razonSocial)||"-"}),f.jsx(ot,{children:((k=_.assignedUser)==null?void 0:k.username)||"-"}),f.jsx(ot,{children:y(_.prioridad)}),f.jsx(ot,{children:x(_.estado)}),f.jsx(ot,{children:_.fechaVencimiento?new Date(_.fechaVencimiento).toLocaleDateString():"-"}),f.jsx(ot,{className:"text-right",children:f.jsxs(Hr,{value:_.estado,onValueChange:O=>h.mutate({id:_.id,estado:O}),children:[f.jsx(Lr,{className:"w-[140px]","data-testid":`select-estado-${_.id}`,children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"PENDIENTE",children:"Pendiente"}),f.jsx(kt,{value:"EN_PROGRESO",children:"En Progreso"}),f.jsx(kt,{value:"COMPLETADA",children:"Completada"})]})]})})]},_.id)})})]})})]}):f.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:w.map(_=>{const N=m.filter(k=>k.estado===_.id);return f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{className:"text-lg flex items-center justify-between",children:[_.title,f.jsx(Kt,{variant:"secondary",children:N.length})]})}),f.jsx(At,{className:"space-y-3",children:N.length===0?f.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay tareas"}):N.map(k=>f.jsx(Nt,{className:"hover-elevate cursor-pointer","data-testid":`card-task-${k.id}`,children:f.jsxs(At,{className:"p-4 space-y-2",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[k.visibilidad==="PERSONAL"&&f.jsx(PC,{className:"h-3 w-3"}),k.titulo]}),y(k.prioridad)]}),k.descripcion&&f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:k.descripcion}),k.client&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cliente: ",k.client.razonSocial]}),k.assignedUser&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Asignado: ",k.assignedUser.username]}),k.fechaVencimiento&&f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vence: ",new Date(k.fechaVencimiento).toLocaleDateString()]})]})},k.id))})]},_.id)})})]})}function vLe(){Ho();const{user:e}=bg(),[,t]=Ah(),[n,r]=A.useState(""),{data:i,isLoading:o}=tn({queryKey:["/api/manuals"]}),a=Array.isArray(e==null?void 0:e.permissions)&&e.permissions.includes("manuals:create"),s=(i==null?void 0:i.filter(l=>{var u;return l.titulo.toLowerCase().includes(n.toLowerCase())||((u=l.categoria)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))}))||[];return o?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx(pn,{className:"h-9 w-48"}),f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((l,c)=>f.jsx(pn,{className:"h-48"},c))})]}):f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold",children:"Manuales"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Base de conocimientos y documentacin interna"})]}),a&&f.jsxs(Re,{onClick:()=>t("/manuales/nuevo"),"data-testid":"button-nuevo-manual",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nuevo Manual"]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(N_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(dt,{placeholder:"Buscar manuales...",value:n,onChange:l=>r(l.target.value),className:"pl-10","data-testid":"input-search-manuals"})]}),s.length===0?f.jsx(Nt,{children:f.jsxs(At,{className:"flex flex-col items-center justify-center py-16",children:[f.jsx(Ds,{className:"h-16 w-16 text-muted-foreground mb-4"}),f.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay manuales disponibles"}),f.jsx("p",{className:"text-muted-foreground text-center mb-4",children:a?"Comienza creando tu primer manual":"An no se han publicado manuales"})]})}):f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(l=>f.jsxs(Nt,{className:"hover-elevate cursor-pointer",onClick:()=>t(`/manuales/${l.id}`),"data-testid":`card-manual-${l.id}`,children:[f.jsxs(Vt,{children:[f.jsxs("div",{className:"flex items-start justify-between gap-2",children:[f.jsx(Ds,{className:"h-8 w-8 text-primary"}),l.publicado?f.jsx(Kt,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):f.jsx(Kt,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),f.jsx(en,{className:"mt-4",children:l.titulo}),f.jsx(kh,{children:l.categoria||"Sin categora"})]}),f.jsxs(At,{children:[l.etiquetas&&l.etiquetas.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:l.etiquetas.slice(0,3).map(c=>f.jsx(Kt,{variant:"secondary",className:"text-xs",children:c},c))}),f.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[f.jsx("span",{children:new Date(l.fechaCreacion).toLocaleDateString()}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:c=>{c.stopPropagation(),t(`/manuales/${l.id}`)},"data-testid":`button-view-${l.id}`,children:f.jsx(Ese,{className:"h-4 w-4"})}),a&&f.jsx(Re,{variant:"ghost",size:"icon",onClick:c=>{c.stopPropagation(),t(`/manuales/${l.id}/editar`)},"data-testid":`button-edit-${l.id}`,children:f.jsx(ed,{className:"h-4 w-4"})})]})]})]})]},l.id))})]})}function yLe(e,t){return A.useReducer((n,r)=>t[n][r]??n,e)}var M3="ScrollArea",[lQ,UYe]=wa(M3),[bLe,is]=lQ(M3),cQ=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=e,[s,l]=A.useState(null),[c,u]=A.useState(null),[d,p]=A.useState(null),[h,m]=A.useState(null),[g,v]=A.useState(null),[y,x]=A.useState(0),[w,_]=A.useState(0),[N,k]=A.useState(!1),[O,E]=A.useState(!1),C=sn(t,M=>l(M)),L=z_(i);return f.jsx(bLe,{scope:n,type:r,dir:L,scrollHideDelay:o,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:O,onScrollbarYEnabledChange:E,onCornerWidthChange:x,onCornerHeightChange:_,children:f.jsx(vt.div,{dir:L,...a,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});cQ.displayName=M3;var uQ="ScrollAreaViewport",dQ=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,a=is(uQ,n),s=A.useRef(null),l=sn(t,s,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(vt.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:f.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});dQ.displayName=uQ;var Il="ScrollAreaScrollbar",P3=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=is(Il,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,s=e.orientation==="horizontal";return A.useEffect(()=>(s?o(!0):a(!0),()=>{s?o(!1):a(!1)}),[s,o,a]),i.type==="hover"?f.jsx(xLe,{...r,ref:t,forceMount:n}):i.type==="scroll"?f.jsx(wLe,{...r,ref:t,forceMount:n}):i.type==="auto"?f.jsx(fQ,{...r,ref:t,forceMount:n}):i.type==="always"?f.jsx(j3,{...r,ref:t}):null});P3.displayName=Il;var xLe=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=is(Il,e.__scopeScrollArea),[o,a]=A.useState(!1);return A.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(ts,{present:n||o,children:f.jsx(fQ,{"data-state":o?"visible":"hidden",...r,ref:t})})}),wLe=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=is(Il,e.__scopeScrollArea),o=e.orientation==="horizontal",a=UE(()=>l("SCROLL_END"),100),[s,l]=yLe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),A.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let d=c[u];const p=()=>{const h=c[u];d!==h&&(l("SCROLL"),a()),d=h};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,o,l,a]),f.jsx(ts,{present:n||s!=="hidden",children:f.jsx(j3,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:gt(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:gt(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),fQ=A.forwardRef((e,t)=>{const n=is(Il,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,a]=A.useState(!1),s=e.orientation==="horizontal",l=UE(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(s?c:u)}},10);return eg(n.viewport,l),eg(n.content,l),f.jsx(ts,{present:r||o,children:f.jsx(j3,{"data-state":o?"visible":"hidden",...i,ref:t})})}),j3=A.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=is(Il,e.__scopeScrollArea),o=A.useRef(null),a=A.useRef(0),[s,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=vQ(s.viewport,s.content),u={...r,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function d(p,h){return kLe(p,a.current,s,h)}return n==="horizontal"?f.jsx(SLe,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,h=T8(p,s,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=d(p,i.dir))}}):n==="vertical"?f.jsx(_Le,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,h=T8(p,s);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=d(p))}}):null}),SLe=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=is(Il,e.__scopeScrollArea),[a,s]=A.useState(),l=A.useRef(null),c=sn(t,l,o.onScrollbarXChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(pQ,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zE(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),bQ(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:iS(a.paddingLeft),paddingEnd:iS(a.paddingRight)}})}})}),_Le=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=is(Il,e.__scopeScrollArea),[a,s]=A.useState(),l=A.useRef(null),c=sn(t,l,o.onScrollbarYChange);return A.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),f.jsx(pQ,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zE(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),bQ(p,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:iS(a.paddingTop),paddingEnd:iS(a.paddingBottom)}})}})}),[ELe,hQ]=lQ(Il),pQ=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...p}=e,h=is(Il,n),[m,g]=A.useState(null),v=sn(t,C=>g(C)),y=A.useRef(null),x=A.useRef(""),w=h.viewport,_=r.content-r.viewport,N=Nr(u),k=Nr(l),O=UE(d,10);function E(C){if(y.current){const L=C.clientX-y.current.left,M=C.clientY-y.current.top;c({x:L,y:M})}}return A.useEffect(()=>{const C=L=>{const M=L.target;(m==null?void 0:m.contains(M))&&N(L,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,m,_,N]),A.useEffect(k,[r,k]),eg(m,O),eg(h.content,O),f.jsx(ELe,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Nr(o),onThumbPointerUp:Nr(a),onThumbPositionChange:k,onThumbPointerDown:Nr(s),children:f.jsx(vt.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:gt(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(C))}),onPointerMove:gt(e.onPointerMove,E),onPointerUp:gt(e.onPointerUp,C=>{const L=C.target;L.hasPointerCapture(C.pointerId)&&L.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),rS="ScrollAreaThumb",mQ=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=hQ(rS,e.__scopeScrollArea);return f.jsx(ts,{present:n||i.hasThumb,children:f.jsx(NLe,{ref:t,...r})})}),NLe=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=is(rS,n),a=hQ(rS,n),{onThumbPositionChange:s}=a,l=sn(t,d=>a.onThumbChange(d)),c=A.useRef(void 0),u=UE(()=>{c.current&&(c.current(),c.current=void 0)},100);return A.useEffect(()=>{const d=o.viewport;if(d){const p=()=>{if(u(),!c.current){const h=CLe(d,s);c.current=h,s()}};return s(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[o.viewport,u,s]),f.jsx(vt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:gt(e.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),m=d.clientX-h.left,g=d.clientY-h.top;a.onThumbPointerDown({x:m,y:g})}),onPointerUp:gt(e.onPointerUp,a.onThumbPointerUp)})});mQ.displayName=rS;var R3="ScrollAreaCorner",gQ=A.forwardRef((e,t)=>{const n=is(R3,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(ALe,{...e,ref:t}):null});gQ.displayName=R3;var ALe=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=is(R3,n),[o,a]=A.useState(0),[s,l]=A.useState(0),c=!!(o&&s);return eg(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),eg(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?f.jsx(vt.div,{...r,ref:t,style:{width:o,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function iS(e){return e?parseInt(e,10):0}function vQ(e,t){const n=e/t;return isNaN(n)?0:n}function zE(e){const t=vQ(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function kLe(e,t,n,r="ltr"){const i=zE(n),o=i/2,a=t||o,s=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return yQ([l,c],d)(e)}function T8(e,t,n="ltr"){const r=zE(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,s=o-r,l=n==="ltr"?[0,a]:[a*-1,0],c=yO(e,l);return yQ([0,a],[0,s])(c)}function yQ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function bQ(e,t){return e>0&&e<t}var CLe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,s=n.top!==o.top;(a||s)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function UE(e,t){const n=Nr(e),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function eg(e,t){const n=Nr(t);Gr(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var xQ=cQ,TLe=dQ,OLe=gQ;const I3=A.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(xQ,{ref:r,className:Ge("relative overflow-hidden",e),...n,children:[f.jsx(TLe,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(wQ,{}),f.jsx(OLe,{})]}));I3.displayName=xQ.displayName;const wQ=A.forwardRef(({className:e,orientation:t="vertical",...n},r)=>f.jsx(P3,{ref:r,orientation:t,className:Ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:f.jsx(mQ,{className:"relative flex-1 rounded-full bg-border"})}));wQ.displayName=P3.displayName;function MLe({htmlContent:e}){const[t,n]=A.useState([]),[r,i]=A.useState("");A.useEffect(()=>{const l=new DOMParser().parseFromString(e,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6"),c=[];l.forEach((d,p)=>{const h=parseInt(d.tagName.substring(1)),m=d.textContent||"";let g=d.id;g||(g=`heading-${p}-${m.toLowerCase().replace(/\s+/g,"-").slice(0,30)}`,d.id=g),c.push({id:g,text:m,level:h})}),n(c);const u=new IntersectionObserver(d=>{d.forEach(p=>{p.isIntersecting&&i(p.target.id)})},{rootMargin:"-20% 0px -35% 0px"});return l.forEach(d=>u.observe(d)),()=>u.disconnect()},[e]);const o=a=>{const s=document.getElementById(a);s&&s.scrollIntoView({behavior:"smooth",block:"start"})};return t.length===0?null:f.jsxs(Nt,{className:"sticky top-4",children:[f.jsx(Vt,{className:"pb-3",children:f.jsxs(en,{className:"text-sm font-medium flex items-center gap-2",children:[f.jsx(LH,{className:"h-4 w-4"}),"Tabla de Contenidos"]})}),f.jsx(At,{children:f.jsx(I3,{className:"h-[400px] pr-4",children:f.jsx("div",{className:"space-y-1",children:t.map(a=>f.jsx("button",{onClick:()=>o(a.id),className:`
                  w-full text-left text-sm py-1 px-2 rounded transition-colors
                  ${a.level===1?"font-semibold":""}
                  ${a.level===2?"pl-4":""}
                  ${a.level===3?"pl-8":""}
                  ${a.level>=4?"pl-12":""}
                  ${r===a.id?"bg-primary text-primary-foreground":"hover-elevate text-muted-foreground hover:text-foreground"}
                `,"data-testid":`toc-item-${a.id}`,children:a.text},a.id))})})})]})}const PLe="modulepreload",jLe=function(e){return"/"+e},O8={},p5=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=jLe(l),l in O8)return;O8[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":PLe,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((p,h)=>{d.addEventListener("load",p),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})};function jn(e){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(e)}var Bs=Uint8Array,pa=Uint16Array,L3=Int32Array,D3=new Bs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$3=new Bs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M8=new Bs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SQ=function(e,t){for(var n=new pa(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new L3(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},_Q=SQ(D3,2),RLe=_Q.b,EO=_Q.r;RLe[28]=258,EO[258]=28;var ILe=SQ($3,0),P8=ILe.r,NO=new pa(32768);for(var ir=0;ir<32768;++ir){var lu=(ir&43690)>>1|(ir&21845)<<1;lu=(lu&52428)>>2|(lu&13107)<<2,lu=(lu&61680)>>4|(lu&3855)<<4,NO[ir]=((lu&65280)>>8|(lu&255)<<8)>>1}var wy=function(e,t,n){for(var r=e.length,i=0,o=new pa(t);i<r;++i)e[i]&&++o[e[i]-1];var a=new pa(t);for(i=1;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;var s;if(n){s=new pa(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)s[NO[d]>>l]=c}else for(s=new pa(r),i=0;i<r;++i)e[i]&&(s[i]=NO[a[e[i]-1]++]>>15-e[i]);return s},hh=new Bs(288);for(var ir=0;ir<144;++ir)hh[ir]=8;for(var ir=144;ir<256;++ir)hh[ir]=9;for(var ir=256;ir<280;++ir)hh[ir]=7;for(var ir=280;ir<288;++ir)hh[ir]=8;var oS=new Bs(32);for(var ir=0;ir<32;++ir)oS[ir]=5;var LLe=wy(hh,9,0),DLe=wy(oS,5,0),EQ=function(e){return(e+7)/8|0},$Le=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Bs(e.subarray(t,n))},Zl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},$v=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},m5=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return{t:AQ,l:0};if(i==1){var a=new Bs(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(N,k){return N.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=o[0].s,r=1;r<i;++r)o[r].s>p&&(p=o[r].s);var h=new pa(p+1),m=AO(n[u-1],h,0);if(m>t){var r=0,g=0,v=m-t,y=1<<v;for(o.sort(function(k,O){return h[O.s]-h[k.s]||k.f-O.f});r<i;++r){var x=o[r].s;if(h[x]>t)g+=y-(1<<m-h[x]),h[x]=t;else break}for(g>>=v;g>0;){var w=o[r].s;h[w]<t?g-=1<<t-h[w]++-1:++r}for(;r>=0&&g;--r){var _=o[r].s;h[_]==t&&(--h[_],++g)}m=t}return{t:new Bs(h),l:m}},AO=function(e,t,n){return e.s==-1?Math.max(AO(e.l,t,n+1),AO(e.r,t,n+1)):t[e.s]=n},j8=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new pa(++t),r=0,i=e[0],o=1,a=function(l){n[r++]=l},s=1;s<=t;++s)if(e[s]==i&&s!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(i),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(i);o=1,i=e[s]}return{c:n.subarray(0,r),n:t}},Fv=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},NQ=function(e,t,n){var r=n.length,i=EQ(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var o=0;o<r;++o)e[i+o+4]=n[o];return(i+4+r)*8},R8=function(e,t,n,r,i,o,a,s,l,c,u){Zl(t,u++,n),++i[256];for(var d=m5(i,15),p=d.t,h=d.l,m=m5(o,15),g=m.t,v=m.l,y=j8(p),x=y.c,w=y.n,_=j8(g),N=_.c,k=_.n,O=new pa(19),E=0;E<x.length;++E)++O[x[E]&31];for(var E=0;E<N.length;++E)++O[N[E]&31];for(var C=m5(O,7),L=C.t,M=C.l,I=19;I>4&&!L[M8[I-1]];--I);var j=c+5<<3,D=Fv(i,hh)+Fv(o,oS)+a,q=Fv(i,p)+Fv(o,g)+a+14+3*I+Fv(O,L)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&j<=D&&j<=q)return NQ(t,u,e.subarray(l,l+c));var z,W,F,B;if(Zl(t,u,1+(q<D)),u+=2,q<D){z=wy(p,h,0),W=p,F=wy(g,v,0),B=g;var te=wy(L,M,0);Zl(t,u,w-257),Zl(t,u+5,k-1),Zl(t,u+10,I-4),u+=14;for(var E=0;E<I;++E)Zl(t,u+3*E,L[M8[E]]);u+=3*I;for(var K=[x,N],R=0;R<2;++R)for(var U=K[R],E=0;E<U.length;++E){var Y=U[E]&31;Zl(t,u,te[Y]),u+=L[Y],Y>15&&(Zl(t,u,U[E]>>5&127),u+=U[E]>>12)}}else z=LLe,W=hh,F=DLe,B=oS;for(var E=0;E<s;++E){var Z=r[E];if(Z>255){var Y=Z>>18&31;$v(t,u,z[Y+257]),u+=W[Y+257],Y>7&&(Zl(t,u,Z>>23&31),u+=D3[Y]);var ae=Z&31;$v(t,u,F[ae]),u+=B[ae],ae>3&&($v(t,u,Z>>5&8191),u+=$3[ae])}else $v(t,u,z[Z]),u+=W[Z]}return $v(t,u,z[256]),u+W[256]},FLe=new L3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AQ=new Bs(0),BLe=function(e,t,n,r,i,o){var a=o.z||e.length,s=new Bs(r+a+5*(1+Math.ceil(a/7e3))+i),l=s.subarray(r,s.length-i),c=o.l,u=(o.r||0)&7;if(t){u&&(l[0]=o.r>>3);for(var d=FLe[t-1],p=d>>13,h=d&8191,m=(1<<n)-1,g=o.p||new pa(32768),v=o.h||new pa(m+1),y=Math.ceil(n/3),x=2*y,w=function(pe){return(e[pe]^e[pe+1]<<y^e[pe+2]<<x)&m},_=new L3(25e3),N=new pa(288),k=new pa(32),O=0,E=0,C=o.i||0,L=0,M=o.w||0,I=0;C+2<a;++C){var j=w(C),D=C&32767,q=v[j];if(g[D]=q,v[j]=D,M<=C){var z=a-C;if((O>7e3||L>24576)&&(z>423||!c)){u=R8(e,l,0,_,N,k,E,L,I,C-I,u),L=O=E=0,I=C;for(var W=0;W<286;++W)N[W]=0;for(var W=0;W<30;++W)k[W]=0}var F=2,B=0,te=h,K=D-q&32767;if(z>2&&j==w(C-K))for(var R=Math.min(p,z)-1,U=Math.min(32767,C),Y=Math.min(258,z);K<=U&&--te&&D!=q;){if(e[C+F]==e[C+F-K]){for(var Z=0;Z<Y&&e[C+Z]==e[C+Z-K];++Z);if(Z>F){if(F=Z,B=K,Z>R)break;for(var ae=Math.min(K,Z-2),se=0,W=0;W<ae;++W){var ce=C-K+W&32767,ne=g[ce],de=ce-ne&32767;de>se&&(se=de,q=ce)}}}D=q,q=g[D],K+=D-q&32767}if(B){_[L++]=268435456|EO[F]<<18|P8[B];var he=EO[F]&31,ue=P8[B]&31;E+=D3[he]+$3[ue],++N[257+he],++k[ue],M=C+F,++O}else _[L++]=e[C],++N[e[C]]}}for(C=Math.max(C,M);C<a;++C)_[L++]=e[C],++N[e[C]];u=R8(e,l,c,_,N,k,E,L,I,C-I,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=v,o.p=g,o.i=C,o.w=M)}else{for(var C=o.w||0;C<a+c;C+=65535){var Ne=C+65535;Ne>=a&&(l[u/8|0]=c,Ne=a),u=NQ(l,u+1,e.subarray(C,Ne))}o.i=a}return $Le(s,0,r+EQ(u)+i)},kQ=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length|0,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},zLe=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new Bs(o.length+e.length);a.set(o),a.set(e,o.length),e=a,i.w=o.length}return BLe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},CQ=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},ULe=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=kQ();i.p(t.dictionary),CQ(e,2,i.d())}};function kO(e,t){t||(t={});var n=kQ();n.p(e);var r=zLe(e,t,t.dictionary?6:2,4);return ULe(r,t),CQ(r,r.length-4,n.d()),r}var HLe=typeof TextDecoder<"u"&&new TextDecoder,qLe=0;try{HLe.decode(AQ,{stream:!0}),qLe=1}catch{}function WLe(e){if(Array.isArray(e))return e}function VLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function I8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function KLe(e,t){if(e){if(typeof e=="string")return I8(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I8(e,t):void 0}}function GLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8(e,t){return WLe(e)||VLe(e,t)||KLe(e,t)||GLe()}function D8(e,t="utf8"){return new TextDecoder(t).decode(e)}const YLe=new TextEncoder;function XLe(e){return YLe.encode(e)}const QLe=1024*8,ZLe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),g5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class F3{constructor(t=QLe,n={}){On(this,"buffer");On(this,"byteLength");On(this,"byteOffset");On(this,"length");On(this,"offset");On(this,"lastWrittenByte");On(this,"littleEndian");On(this,"_data");On(this,"_mark");On(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,o=t.byteLength-i;let a=i;(ArrayBuffer.isView(t)||t instanceof F3)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=g5[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===ZLe&&n!=="uint8"&&n!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+r));s.reverse();const l=new g5[n](s.buffer);return this.offset+=r,l.reverse(),l}const a=new g5[n](o);return this.offset+=r,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return D8(this.readBytes(t))}decodeText(t=1,n="utf8"){return D8(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(XLe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const JLe=4,$8=0,F8=1,eDe=2;function Dg(e){let t=e.length;for(;--t>=0;)e[t]=0}const tDe=0,TQ=1,nDe=2,rDe=3,iDe=258,B3=29,Ib=256,B0=Ib+1+B3,em=30,z3=19,OQ=2*B0+1,Ef=15,v5=16,oDe=7,U3=256,MQ=16,PQ=17,jQ=18,CO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),dw=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),aDe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),RQ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sDe=512,uc=new Array((B0+2)*2);Dg(uc);const Sy=new Array(em*2);Dg(Sy);const z0=new Array(sDe);Dg(z0);const U0=new Array(iDe-rDe+1);Dg(U0);const H3=new Array(B3);Dg(H3);const aS=new Array(em);Dg(aS);function y5(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let IQ,LQ,DQ;function b5(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const $Q=e=>e<256?z0[e]:z0[256+(e>>>7)],H0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},$o=(e,t,n)=>{e.bi_valid>v5-n?(e.bi_buf|=t<<e.bi_valid&65535,H0(e,e.bi_buf),e.bi_buf=t>>v5-e.bi_valid,e.bi_valid+=n-v5):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},hl=(e,t,n)=>{$o(e,n[t*2],n[t*2+1])},FQ=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},lDe=e=>{e.bi_valid===16?(H0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},cDe=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,p,h,m,g=0;for(p=0;p<=Ef;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<OQ;c++)u=e.heap[c],p=n[n[u*2+1]*2+1]+1,p>l&&(p=l,g++),n[u*2+1]=p,!(u>r)&&(e.bl_count[p]++,h=0,u>=s&&(h=a[u-s]),m=n[u*2],e.opt_len+=m*(p+h),o&&(e.static_len+=m*(i[u*2+1]+h)));if(g!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(p=l;p!==0;p--)for(u=e.bl_count[p];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==p&&(e.opt_len+=(p-n[d*2+1])*n[d*2],n[d*2+1]=p),u--)}},BQ=(e,t,n)=>{const r=new Array(Ef+1);let i=0,o,a;for(o=1;o<=Ef;o++)i=i+n[o-1]<<1,r[o]=i;for(a=0;a<=t;a++){let s=e[a*2+1];s!==0&&(e[a*2]=FQ(r[s]++,s))}},uDe=()=>{let e,t,n,r,i;const o=new Array(Ef+1);for(n=0,r=0;r<B3-1;r++)for(H3[r]=n,e=0;e<1<<CO[r];e++)U0[n++]=r;for(U0[n-1]=r,i=0,r=0;r<16;r++)for(aS[r]=i,e=0;e<1<<dw[r];e++)z0[i++]=r;for(i>>=7;r<em;r++)for(aS[r]=i<<7,e=0;e<1<<dw[r]-7;e++)z0[256+i++]=r;for(t=0;t<=Ef;t++)o[t]=0;for(e=0;e<=143;)uc[e*2+1]=8,e++,o[8]++;for(;e<=255;)uc[e*2+1]=9,e++,o[9]++;for(;e<=279;)uc[e*2+1]=7,e++,o[7]++;for(;e<=287;)uc[e*2+1]=8,e++,o[8]++;for(BQ(uc,B0+1,o),e=0;e<em;e++)Sy[e*2+1]=5,Sy[e*2]=FQ(e,5);IQ=new y5(uc,CO,Ib+1,B0,Ef),LQ=new y5(Sy,dw,0,em,Ef),DQ=new y5(new Array(0),aDe,0,z3,oDe)},zQ=e=>{let t;for(t=0;t<B0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<em;t++)e.dyn_dtree[t*2]=0;for(t=0;t<z3;t++)e.bl_tree[t*2]=0;e.dyn_ltree[U3*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},UQ=e=>{e.bi_valid>8?H0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},B8=(e,t,n,r)=>{const i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},x5=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&B8(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!B8(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},z8=(e,t,n)=>{let r,i,o=0,a,s;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+o++]&255,r+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],r===0?hl(e,i,t):(a=U0[i],hl(e,a+Ib+1,t),s=CO[a],s!==0&&(i-=H3[a],$o(e,i,s)),r--,a=$Q(r),hl(e,a,n),s=dw[a],s!==0&&(r-=aS[a],$o(e,r,s)));while(o<e.sym_next);hl(e,U3,t)},TO=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,l=-1,c;for(e.heap_len=0,e.heap_max=OQ,a=0;a<o;a++)n[a*2]!==0?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[a*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)x5(e,n,a);c=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],x5(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[c*2]=n[a*2]+n[s*2],e.depth[c]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[a*2+1]=n[s*2+1]=c,e.heap[1]=c++,x5(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],cDe(e,t),BQ(n,l,e.bl_count)},U8=(e,t,n)=>{let r,i=-1,o,a=t[0*2+1],s=0,l=7,c=4;for(a===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=a,a=t[(r+1)*2+1],!(++s<l&&o===a)&&(s<c?e.bl_tree[o*2]+=s:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[MQ*2]++):s<=10?e.bl_tree[PQ*2]++:e.bl_tree[jQ*2]++,s=0,i=o,a===0?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))},H8=(e,t,n)=>{let r,i=-1,o,a=t[0*2+1],s=0,l=7,c=4;for(a===0&&(l=138,c=3),r=0;r<=n;r++)if(o=a,a=t[(r+1)*2+1],!(++s<l&&o===a)){if(s<c)do hl(e,o,e.bl_tree);while(--s!==0);else o!==0?(o!==i&&(hl(e,o,e.bl_tree),s--),hl(e,MQ,e.bl_tree),$o(e,s-3,2)):s<=10?(hl(e,PQ,e.bl_tree),$o(e,s-3,3)):(hl(e,jQ,e.bl_tree),$o(e,s-11,7));s=0,i=o,a===0?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}},dDe=e=>{let t;for(U8(e,e.dyn_ltree,e.l_desc.max_code),U8(e,e.dyn_dtree,e.d_desc.max_code),TO(e,e.bl_desc),t=z3-1;t>=3&&e.bl_tree[RQ[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},fDe=(e,t,n,r)=>{let i;for($o(e,t-257,5),$o(e,n-1,5),$o(e,r-4,4),i=0;i<r;i++)$o(e,e.bl_tree[RQ[i]*2+1],3);H8(e,e.dyn_ltree,t-1),H8(e,e.dyn_dtree,n-1)},hDe=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return $8;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return F8;for(n=32;n<Ib;n++)if(e.dyn_ltree[n*2]!==0)return F8;return $8};let q8=!1;const pDe=e=>{q8||(uDe(),q8=!0),e.l_desc=new b5(e.dyn_ltree,IQ),e.d_desc=new b5(e.dyn_dtree,LQ),e.bl_desc=new b5(e.bl_tree,DQ),e.bi_buf=0,e.bi_valid=0,zQ(e)},HQ=(e,t,n,r)=>{$o(e,(tDe<<1)+(r?1:0),3),UQ(e),H0(e,n),H0(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},mDe=e=>{$o(e,TQ<<1,3),hl(e,U3,uc),lDe(e)},gDe=(e,t,n,r)=>{let i,o,a=0;e.level>0?(e.strm.data_type===eDe&&(e.strm.data_type=hDe(e)),TO(e,e.l_desc),TO(e,e.d_desc),a=dDe(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?HQ(e,t,n,r):e.strategy===JLe||o===i?($o(e,(TQ<<1)+(r?1:0),3),z8(e,uc,Sy)):($o(e,(nDe<<1)+(r?1:0),3),fDe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),z8(e,e.dyn_ltree,e.dyn_dtree)),zQ(e),r&&UQ(e)},vDe=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(U0[n]+Ib+1)*2]++,e.dyn_dtree[$Q(t)*2]++),e.sym_next===e.sym_end);var yDe=pDe,bDe=HQ,xDe=gDe,wDe=vDe,SDe=mDe,_De={_tr_init:yDe,_tr_stored_block:bDe,_tr_flush_block:xDe,_tr_tally:wDe,_tr_align:SDe};const EDe=(e,t,n,r)=>{let i=e&65535|0,o=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0};var q0=EDe;const NDe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},ADe=new Uint32Array(NDe()),kDe=(e,t,n,r)=>{const i=ADe,o=r+n;e^=-1;for(let a=r;a<o;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var fi=kDe,tg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Lb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:CDe,_tr_stored_block:OO,_tr_flush_block:TDe,_tr_tally:od,_tr_align:ODe}=_De,{Z_NO_FLUSH:ad,Z_PARTIAL_FLUSH:MDe,Z_FULL_FLUSH:PDe,Z_FINISH:za,Z_BLOCK:W8,Z_OK:Mi,Z_STREAM_END:V8,Z_STREAM_ERROR:Nl,Z_DATA_ERROR:jDe,Z_BUF_ERROR:w5,Z_DEFAULT_COMPRESSION:RDe,Z_FILTERED:IDe,Z_HUFFMAN_ONLY:fx,Z_RLE:LDe,Z_FIXED:DDe,Z_DEFAULT_STRATEGY:$De,Z_UNKNOWN:FDe,Z_DEFLATED:HE}=Lb,BDe=9,zDe=15,UDe=8,HDe=29,qDe=256,MO=qDe+1+HDe,WDe=30,VDe=19,KDe=2*MO+1,GDe=15,dn=3,Bu=258,Al=Bu+dn+1,YDe=32,ng=42,q3=57,PO=69,jO=73,RO=91,IO=103,Nf=113,ty=666,xo=1,$g=2,ph=3,Fg=4,XDe=3,Af=(e,t)=>(e.msg=tg[t],t),K8=e=>e*2-(e>4?9:0),Eu=e=>{let t=e.length;for(;--t>=0;)e[t]=0},QDe=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let ZDe=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,sd=ZDe;const ia=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},ma=(e,t)=>{TDe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ia(e.strm)},bn=(e,t)=>{e.pending_buf[e.pending++]=t},Bv=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},LO=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=q0(e.adler,t,i,n):e.state.wrap===2&&(e.adler=fi(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},qQ=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,o,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-Al?e.strstart-(e.w_size-Al):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+Bu;let h=c[r+a-1],m=c[r+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=t,!(c[i+a]!==m||c[i+a-1]!==h||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<p);if(o=Bu-(p-r),r=p-Bu,o>a){if(e.match_start=t,a=o,o>=s)break;h=c[r+a-1],m=c[r+a]}}while((t=d[t&u])>l&&--n!==0);return a<=e.lookahead?a:e.lookahead},rg=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Al)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),QDe(e),r+=t),e.strm.avail_in===0)break;if(n=LO(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=dn)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=sd(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=sd(e,e.ins_h,e.window[i+dn-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<dn)););}while(e.lookahead<Al&&e.strm.avail_in!==0)},WQ=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,o,a=0,s=e.strm.avail_in;do{if(r=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&t!==za||t===ad||r!==i+e.strm.avail_in)))break;a=t===za&&r===i+e.strm.avail_in?1:0,OO(e,0,0,a),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ia(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(LO(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(a===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?Fg:t!==ad&&t!==za&&e.strm.avail_in===0&&e.strstart===e.block_start?$g:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(LO(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,n=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=n||(i||t===za)&&t!==ad&&e.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,a=t===za&&e.strm.avail_in===0&&r===i?1:0,OO(e,e.block_start,r,a),e.block_start+=r,ia(e.strm)),a?ph:xo)},S5=(e,t)=>{let n,r;for(;;){if(e.lookahead<Al){if(rg(e),e.lookahead<Al&&t===ad)return xo;if(e.lookahead===0)break}if(n=0,e.lookahead>=dn&&(e.ins_h=sd(e,e.ins_h,e.window[e.strstart+dn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Al&&(e.match_length=qQ(e,n)),e.match_length>=dn)if(r=od(e,e.strstart-e.match_start,e.match_length-dn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=dn){e.match_length--;do e.strstart++,e.ins_h=sd(e,e.ins_h,e.window[e.strstart+dn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=sd(e,e.ins_h,e.window[e.strstart+1]);else r=od(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ma(e,!1),e.strm.avail_out===0))return xo}return e.insert=e.strstart<dn-1?e.strstart:dn-1,t===za?(ma(e,!0),e.strm.avail_out===0?ph:Fg):e.sym_next&&(ma(e,!1),e.strm.avail_out===0)?xo:$g},rp=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Al){if(rg(e),e.lookahead<Al&&t===ad)return xo;if(e.lookahead===0)break}if(n=0,e.lookahead>=dn&&(e.ins_h=sd(e,e.ins_h,e.window[e.strstart+dn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=dn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Al&&(e.match_length=qQ(e,n),e.match_length<=5&&(e.strategy===IDe||e.match_length===dn&&e.strstart-e.match_start>4096)&&(e.match_length=dn-1)),e.prev_length>=dn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-dn,r=od(e,e.strstart-1-e.prev_match,e.prev_length-dn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=sd(e,e.ins_h,e.window[e.strstart+dn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=dn-1,e.strstart++,r&&(ma(e,!1),e.strm.avail_out===0))return xo}else if(e.match_available){if(r=od(e,0,e.window[e.strstart-1]),r&&ma(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return xo}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=od(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<dn-1?e.strstart:dn-1,t===za?(ma(e,!0),e.strm.avail_out===0?ph:Fg):e.sym_next&&(ma(e,!1),e.strm.avail_out===0)?xo:$g},JDe=(e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=Bu){if(rg(e),e.lookahead<=Bu&&t===ad)return xo;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=dn&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+Bu;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=Bu-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=dn?(n=od(e,1,e.match_length-dn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=od(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ma(e,!1),e.strm.avail_out===0))return xo}return e.insert=0,t===za?(ma(e,!0),e.strm.avail_out===0?ph:Fg):e.sym_next&&(ma(e,!1),e.strm.avail_out===0)?xo:$g},e6e=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(rg(e),e.lookahead===0)){if(t===ad)return xo;break}if(e.match_length=0,n=od(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ma(e,!1),e.strm.avail_out===0))return xo}return e.insert=0,t===za?(ma(e,!0),e.strm.avail_out===0?ph:Fg):e.sym_next&&(ma(e,!1),e.strm.avail_out===0)?xo:$g};function el(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const ny=[new el(0,0,0,0,WQ),new el(4,4,8,4,S5),new el(4,5,16,8,S5),new el(4,6,32,32,S5),new el(4,4,16,16,rp),new el(8,16,32,32,rp),new el(8,16,128,128,rp),new el(8,32,128,256,rp),new el(32,128,258,1024,rp),new el(32,258,258,4096,rp)],t6e=e=>{e.window_size=2*e.w_size,Eu(e.head),e.max_lazy_match=ny[e.level].max_lazy,e.good_match=ny[e.level].good_length,e.nice_match=ny[e.level].nice_length,e.max_chain_length=ny[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=dn-1,e.match_available=0,e.ins_h=0};function n6e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=HE,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(KDe*2),this.dyn_dtree=new Uint16Array((2*WDe+1)*2),this.bl_tree=new Uint16Array((2*VDe+1)*2),Eu(this.dyn_ltree),Eu(this.dyn_dtree),Eu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(GDe+1),this.heap=new Uint16Array(2*MO+1),Eu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*MO+1),Eu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Db=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ng&&t.status!==q3&&t.status!==PO&&t.status!==jO&&t.status!==RO&&t.status!==IO&&t.status!==Nf&&t.status!==ty?1:0},VQ=e=>{if(Db(e))return Af(e,Nl);e.total_in=e.total_out=0,e.data_type=FDe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?q3:t.wrap?ng:Nf,e.adler=t.wrap===2?0:1,t.last_flush=-2,CDe(t),Mi},KQ=e=>{const t=VQ(e);return t===Mi&&t6e(e.state),t},r6e=(e,t)=>Db(e)||e.state.wrap!==2?Nl:(e.state.gzhead=t,Mi),GQ=(e,t,n,r,i,o)=>{if(!e)return Nl;let a=1;if(t===RDe&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>BDe||n!==HE||r<8||r>15||t<0||t>9||o<0||o>DDe||r===8&&a!==1)return Af(e,Nl);r===8&&(r=9);const s=new n6e;return e.state=s,s.strm=e,s.status=ng,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+dn-1)/dn),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=n,KQ(e)},i6e=(e,t)=>GQ(e,t,HE,zDe,UDe,$De),o6e=(e,t)=>{if(Db(e)||t>W8||t<0)return e?Af(e,Nl):Nl;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===ty&&t!==za)return Af(e,e.avail_out===0?w5:Nl);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(ia(e),e.avail_out===0)return n.last_flush=-1,Mi}else if(e.avail_in===0&&K8(t)<=K8(r)&&t!==za)return Af(e,w5);if(n.status===ty&&e.avail_in!==0)return Af(e,w5);if(n.status===ng&&n.wrap===0&&(n.status=Nf),n.status===ng){let i=HE+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=fx||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=YDe),i+=31-i%31,Bv(n,i),n.strstart!==0&&(Bv(n,e.adler>>>16),Bv(n,e.adler&65535)),e.adler=1,n.status=Nf,ia(e),n.pending!==0)return n.last_flush=-1,Mi}if(n.status===q3){if(e.adler=0,bn(n,31),bn(n,139),bn(n,8),n.gzhead)bn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),bn(n,n.gzhead.time&255),bn(n,n.gzhead.time>>8&255),bn(n,n.gzhead.time>>16&255),bn(n,n.gzhead.time>>24&255),bn(n,n.level===9?2:n.strategy>=fx||n.level<2?4:0),bn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(bn(n,n.gzhead.extra.length&255),bn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=fi(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=PO;else if(bn(n,0),bn(n,0),bn(n,0),bn(n,0),bn(n,0),bn(n,n.level===9?2:n.strategy>=fx||n.level<2?4:0),bn(n,XDe),n.status=Nf,ia(e),n.pending!==0)return n.last_flush=-1,Mi}if(n.status===PO){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=fi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=s,ia(e),n.pending!==0)return n.last_flush=-1,Mi;i=0,o-=s}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(e.adler=fi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=jO}if(n.status===jO){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=fi(e.adler,n.pending_buf,n.pending-i,i)),ia(e),n.pending!==0)return n.last_flush=-1,Mi;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,bn(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=fi(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=RO}if(n.status===RO){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=fi(e.adler,n.pending_buf,n.pending-i,i)),ia(e),n.pending!==0)return n.last_flush=-1,Mi;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,bn(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=fi(e.adler,n.pending_buf,n.pending-i,i))}n.status=IO}if(n.status===IO){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ia(e),n.pending!==0))return n.last_flush=-1,Mi;bn(n,e.adler&255),bn(n,e.adler>>8&255),e.adler=0}if(n.status=Nf,ia(e),n.pending!==0)return n.last_flush=-1,Mi}if(e.avail_in!==0||n.lookahead!==0||t!==ad&&n.status!==ty){let i=n.level===0?WQ(n,t):n.strategy===fx?e6e(n,t):n.strategy===LDe?JDe(n,t):ny[n.level].func(n,t);if((i===ph||i===Fg)&&(n.status=ty),i===xo||i===ph)return e.avail_out===0&&(n.last_flush=-1),Mi;if(i===$g&&(t===MDe?ODe(n):t!==W8&&(OO(n,0,0,!1),t===PDe&&(Eu(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ia(e),e.avail_out===0))return n.last_flush=-1,Mi}return t!==za?Mi:n.wrap<=0?V8:(n.wrap===2?(bn(n,e.adler&255),bn(n,e.adler>>8&255),bn(n,e.adler>>16&255),bn(n,e.adler>>24&255),bn(n,e.total_in&255),bn(n,e.total_in>>8&255),bn(n,e.total_in>>16&255),bn(n,e.total_in>>24&255)):(Bv(n,e.adler>>>16),Bv(n,e.adler&65535)),ia(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Mi:V8)},a6e=e=>{if(Db(e))return Nl;const t=e.state.status;return e.state=null,t===Nf?Af(e,jDe):Mi},s6e=(e,t)=>{let n=t.length;if(Db(e))return Nl;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==ng||r.lookahead)return Nl;if(i===1&&(e.adler=q0(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Eu(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,rg(r);r.lookahead>=dn;){let l=r.strstart,c=r.lookahead-(dn-1);do r.ins_h=sd(r,r.ins_h,r.window[l+dn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=dn-1,rg(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=dn-1,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,Mi};var l6e=i6e,c6e=GQ,u6e=KQ,d6e=VQ,f6e=r6e,h6e=o6e,p6e=a6e,m6e=s6e,g6e="pako deflate (from Nodeca project)",_y={deflateInit:l6e,deflateInit2:c6e,deflateReset:u6e,deflateResetKeep:d6e,deflateSetHeader:f6e,deflate:h6e,deflateEnd:p6e,deflateSetDictionary:m6e,deflateInfo:g6e};const v6e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var y6e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)v6e(n,r)&&(e[r]=n[r])}}return e},b6e=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let a=e[r];n.set(a,i),i+=a.length}return n},qE={assign:y6e,flattenChunks:b6e};let YQ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{YQ=!1}const W0=new Uint8Array(256);for(let e=0;e<256;e++)W0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;W0[254]=W0[254]=1;var x6e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const w6e=(e,t)=>{if(t<65534&&e.subarray&&YQ)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var S6e=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let a=e[r++];if(a<128){o[i++]=a;continue}let s=W0[a];if(s>4){o[i++]=65533,r+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&r<n;)a=a<<6|e[r++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return w6e(o,i)},_6e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+W0[e[n]]>t?n:t},V0={string2buf:x6e,buf2string:S6e,utf8border:_6e};function E6e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var XQ=E6e;const QQ=Object.prototype.toString,{Z_NO_FLUSH:N6e,Z_SYNC_FLUSH:A6e,Z_FULL_FLUSH:k6e,Z_FINISH:C6e,Z_OK:sS,Z_STREAM_END:T6e,Z_DEFAULT_COMPRESSION:O6e,Z_DEFAULT_STRATEGY:M6e,Z_DEFLATED:P6e}=Lb;function W3(e){this.options=qE.assign({level:O6e,method:P6e,chunkSize:16384,windowBits:15,memLevel:8,strategy:M6e},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XQ,this.strm.avail_out=0;let n=_y.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==sS)throw new Error(tg[n]);if(t.header&&_y.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=V0.string2buf(t.dictionary):QQ.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=_y.deflateSetDictionary(this.strm,r),n!==sS)throw new Error(tg[n]);this._dict_set=!0}}W3.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?C6e:N6e,typeof e=="string"?n.input=V0.string2buf(e):QQ.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===A6e||o===k6e)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=_y.deflate(n,o),i===T6e)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=_y.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===sS;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};W3.prototype.onData=function(e){this.chunks.push(e)};W3.prototype.onEnd=function(e){e===sS&&(this.result=qE.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const hx=16209,j6e=16191;var R6e=function(t,n){let r,i,o,a,s,l,c,u,d,p,h,m,g,v,y,x,w,_,N,k,O,E,C,L;const M=t.state;r=t.next_in,C=t.input,i=r+(t.avail_in-5),o=t.next_out,L=t.output,a=o-(n-t.avail_out),s=o+(t.avail_out-257),l=M.dmax,c=M.wsize,u=M.whave,d=M.wnext,p=M.window,h=M.hold,m=M.bits,g=M.lencode,v=M.distcode,y=(1<<M.lenbits)-1,x=(1<<M.distbits)-1;e:do{m<15&&(h+=C[r++]<<m,m+=8,h+=C[r++]<<m,m+=8),w=g[h&y];t:for(;;){if(_=w>>>24,h>>>=_,m-=_,_=w>>>16&255,_===0)L[o++]=w&65535;else if(_&16){N=w&65535,_&=15,_&&(m<_&&(h+=C[r++]<<m,m+=8),N+=h&(1<<_)-1,h>>>=_,m-=_),m<15&&(h+=C[r++]<<m,m+=8,h+=C[r++]<<m,m+=8),w=v[h&x];n:for(;;){if(_=w>>>24,h>>>=_,m-=_,_=w>>>16&255,_&16){if(k=w&65535,_&=15,m<_&&(h+=C[r++]<<m,m+=8,m<_&&(h+=C[r++]<<m,m+=8)),k+=h&(1<<_)-1,k>l){t.msg="invalid distance too far back",M.mode=hx;break e}if(h>>>=_,m-=_,_=o-a,k>_){if(_=k-_,_>u&&M.sane){t.msg="invalid distance too far back",M.mode=hx;break e}if(O=0,E=p,d===0){if(O+=c-_,_<N){N-=_;do L[o++]=p[O++];while(--_);O=o-k,E=L}}else if(d<_){if(O+=c+d-_,_-=d,_<N){N-=_;do L[o++]=p[O++];while(--_);if(O=0,d<N){_=d,N-=_;do L[o++]=p[O++];while(--_);O=o-k,E=L}}}else if(O+=d-_,_<N){N-=_;do L[o++]=p[O++];while(--_);O=o-k,E=L}for(;N>2;)L[o++]=E[O++],L[o++]=E[O++],L[o++]=E[O++],N-=3;N&&(L[o++]=E[O++],N>1&&(L[o++]=E[O++]))}else{O=o-k;do L[o++]=L[O++],L[o++]=L[O++],L[o++]=L[O++],N-=3;while(N>2);N&&(L[o++]=L[O++],N>1&&(L[o++]=L[O++]))}}else if(_&64){t.msg="invalid distance code",M.mode=hx;break e}else{w=v[(w&65535)+(h&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){M.mode=j6e;break e}else{t.msg="invalid literal/length code",M.mode=hx;break e}else{w=g[(w&65535)+(h&(1<<_)-1)];continue t}break}}while(r<i&&o<s);N=m>>3,r-=N,m-=N<<3,h&=(1<<m)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=o<s?257+(s-o):257-(o-s),M.hold=h,M.bits=m};const ip=15,G8=852,Y8=592,X8=0,_5=1,Q8=2,I6e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),L6e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),D6e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$6e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),F6e=(e,t,n,r,i,o,a,s)=>{const l=s.bits;let c=0,u=0,d=0,p=0,h=0,m=0,g=0,v=0,y=0,x=0,w,_,N,k,O,E=null,C;const L=new Uint16Array(ip+1),M=new Uint16Array(ip+1);let I=null,j,D,q;for(c=0;c<=ip;c++)L[c]=0;for(u=0;u<r;u++)L[t[n+u]]++;for(h=l,p=ip;p>=1&&L[p]===0;p--);if(h>p&&(h=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(d=1;d<p&&L[d]===0;d++);for(h<d&&(h=d),v=1,c=1;c<=ip;c++)if(v<<=1,v-=L[c],v<0)return-1;if(v>0&&(e===X8||p!==1))return-1;for(M[1]=0,c=1;c<ip;c++)M[c+1]=M[c]+L[c];for(u=0;u<r;u++)t[n+u]!==0&&(a[M[t[n+u]]++]=u);if(e===X8?(E=I=a,C=20):e===_5?(E=I6e,I=L6e,C=257):(E=D6e,I=$6e,C=0),x=0,u=0,c=d,O=o,m=h,g=0,N=-1,y=1<<h,k=y-1,e===_5&&y>G8||e===Q8&&y>Y8)return 1;for(;;){j=c-g,a[u]+1<C?(D=0,q=a[u]):a[u]>=C?(D=I[a[u]-C],q=E[a[u]-C]):(D=96,q=0),w=1<<c-g,_=1<<m,d=_;do _-=w,i[O+(x>>g)+_]=j<<24|D<<16|q|0;while(_!==0);for(w=1<<c-1;x&w;)w>>=1;if(w!==0?(x&=w-1,x+=w):x=0,u++,--L[c]===0){if(c===p)break;c=t[n+a[u]]}if(c>h&&(x&k)!==N){for(g===0&&(g=h),O+=d,m=c-g,v=1<<m;m+g<p&&(v-=L[m+g],!(v<=0));)m++,v<<=1;if(y+=1<<m,e===_5&&y>G8||e===Q8&&y>Y8)return 1;N=x&k,i[N]=h<<24|m<<16|O-o|0}}return x!==0&&(i[O+x]=c-g<<24|64<<16|0),s.bits=h,0};var Ey=F6e;const B6e=0,ZQ=1,JQ=2,{Z_FINISH:Z8,Z_BLOCK:z6e,Z_TREES:px,Z_OK:mh,Z_STREAM_END:U6e,Z_NEED_DICT:H6e,Z_STREAM_ERROR:es,Z_DATA_ERROR:eZ,Z_MEM_ERROR:tZ,Z_BUF_ERROR:q6e,Z_DEFLATED:J8}=Lb,WE=16180,eF=16181,tF=16182,nF=16183,rF=16184,iF=16185,oF=16186,aF=16187,sF=16188,lF=16189,lS=16190,Jl=16191,E5=16192,cF=16193,N5=16194,uF=16195,dF=16196,fF=16197,hF=16198,mx=16199,gx=16200,pF=16201,mF=16202,gF=16203,vF=16204,yF=16205,A5=16206,bF=16207,xF=16208,sr=16209,nZ=16210,rZ=16211,W6e=852,V6e=592,K6e=15,G6e=K6e,wF=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Y6e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ph=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<WE||t.mode>rZ?1:0},iZ=e=>{if(Ph(e))return es;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=WE,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(W6e),t.distcode=t.distdyn=new Int32Array(V6e),t.sane=1,t.back=-1,mh},oZ=e=>{if(Ph(e))return es;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,iZ(e)},aZ=(e,t)=>{let n;if(Ph(e))return es;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?es:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,oZ(e))},sZ=(e,t)=>{if(!e)return es;const n=new Y6e;e.state=n,n.strm=e,n.window=null,n.mode=WE;const r=aZ(e,t);return r!==mh&&(e.state=null),r},X6e=e=>sZ(e,G6e);let SF=!0,k5,C5;const Q6e=e=>{if(SF){k5=new Int32Array(512),C5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ey(ZQ,e.lens,0,288,k5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ey(JQ,e.lens,0,32,C5,0,e.work,{bits:5}),SF=!1}e.lencode=k5,e.lenbits=9,e.distcode=C5,e.distbits=5},lZ=(e,t,n,r)=>{let i;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Z6e=(e,t)=>{let n,r,i,o,a,s,l,c,u,d,p,h,m,g,v=0,y,x,w,_,N,k,O,E;const C=new Uint8Array(4);let L,M;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ph(e)||!e.output||!e.input&&e.avail_in!==0)return es;n=e.state,n.mode===Jl&&(n.mode=E5),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,p=l,E=mh;e:for(;;)switch(n.mode){case WE:if(n.wrap===0){n.mode=E5;break}for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=c&255,C[1]=c>>>8&255,n.check=fi(n.check,C,2,0),c=0,u=0,n.mode=eF;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=sr;break}if((c&15)!==J8){e.msg="unknown compression method",n.mode=sr;break}if(c>>>=4,u-=4,O=(c&15)+8,n.wbits===0&&(n.wbits=O),O>15||O>n.wbits){e.msg="invalid window size",n.mode=sr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?lF:Jl,c=0,u=0;break;case eF:for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==J8){e.msg="unknown compression method",n.mode=sr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=sr;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=fi(n.check,C,2,0)),c=0,u=0,n.mode=tF;case tF:for(;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=fi(n.check,C,4,0)),c=0,u=0,n.mode=nF;case nF:for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=fi(n.check,C,2,0)),c=0,u=0,n.mode=rF;case rF:if(n.flags&1024){for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=fi(n.check,C,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=iF;case iF:if(n.flags&1024&&(h=n.length,h>s&&(h=s),h&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),O)),n.flags&512&&n.wrap&4&&(n.check=fi(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=oF;case oF:if(n.flags&2048){if(s===0)break e;h=0;do O=r[o+h++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O));while(O&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=fi(n.check,r,h,o)),s-=h,o+=h,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=aF;case aF:if(n.flags&4096){if(s===0)break e;h=0;do O=r[o+h++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O));while(O&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=fi(n.check,r,h,o)),s-=h,o+=h,O)break e}else n.head&&(n.head.comment=null);n.mode=sF;case sF:if(n.flags&512){for(;u<16;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=sr;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Jl;break;case lF:for(;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=wF(c),c=0,u=0,n.mode=lS;case lS:if(n.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,H6e;e.adler=n.check=1,n.mode=Jl;case Jl:if(t===z6e||t===px)break e;case E5:if(n.last){c>>>=u&7,u-=u&7,n.mode=A5;break}for(;u<3;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=cF;break;case 1:if(Q6e(n),n.mode=mx,t===px){c>>>=2,u-=2;break e}break;case 2:n.mode=dF;break;case 3:e.msg="invalid block type",n.mode=sr}c>>>=2,u-=2;break;case cF:for(c>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=sr;break}if(n.length=c&65535,c=0,u=0,n.mode=N5,t===px)break e;case N5:n.mode=uF;case uF:if(h=n.length,h){if(h>s&&(h=s),h>l&&(h=l),h===0)break e;i.set(r.subarray(o,o+h),a),s-=h,o+=h,l-=h,a+=h,n.length-=h;break}n.mode=Jl;break;case dF:for(;u<14;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=sr;break}n.have=0,n.mode=fF;case fF:for(;n.have<n.ncode;){for(;u<3;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.lens[I[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},E=Ey(B6e,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,E){e.msg="invalid code lengths set",n.mode=sr;break}n.have=0,n.mode=hF;case hF:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[c&(1<<n.lenbits)-1],y=v>>>24,x=v>>>16&255,w=v&65535,!(y<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(w<16)c>>>=y,u-=y,n.lens[n.have++]=w;else{if(w===16){for(M=y+2;u<M;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=y,u-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=sr;break}O=n.lens[n.have-1],h=3+(c&3),c>>>=2,u-=2}else if(w===17){for(M=y+3;u<M;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,O=0,h=3+(c&7),c>>>=3,u-=3}else{for(M=y+7;u<M;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,O=0,h=11+(c&127),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=sr;break}for(;h--;)n.lens[n.have++]=O}}if(n.mode===sr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=sr;break}if(n.lenbits=9,L={bits:n.lenbits},E=Ey(ZQ,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,E){e.msg="invalid literal/lengths set",n.mode=sr;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},E=Ey(JQ,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,E){e.msg="invalid distances set",n.mode=sr;break}if(n.mode=mx,t===px)break e;case mx:n.mode=gx;case gx:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,R6e(e,p),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===Jl&&(n.back=-1);break}for(n.back=0;v=n.lencode[c&(1<<n.lenbits)-1],y=v>>>24,x=v>>>16&255,w=v&65535,!(y<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(x&&!(x&240)){for(_=y,N=x,k=w;v=n.lencode[k+((c&(1<<_+N)-1)>>_)],y=v>>>24,x=v>>>16&255,w=v&65535,!(_+y<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=y,u-=y,n.back+=y,n.length=w,x===0){n.mode=yF;break}if(x&32){n.back=-1,n.mode=Jl;break}if(x&64){e.msg="invalid literal/length code",n.mode=sr;break}n.extra=x&15,n.mode=pF;case pF:if(n.extra){for(M=n.extra;u<M;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=mF;case mF:for(;v=n.distcode[c&(1<<n.distbits)-1],y=v>>>24,x=v>>>16&255,w=v&65535,!(y<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(!(x&240)){for(_=y,N=x,k=w;v=n.distcode[k+((c&(1<<_+N)-1)>>_)],y=v>>>24,x=v>>>16&255,w=v&65535,!(_+y<=u);){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=y,u-=y,n.back+=y,x&64){e.msg="invalid distance code",n.mode=sr;break}n.offset=w,n.extra=x&15,n.mode=gF;case gF:if(n.extra){for(M=n.extra;u<M;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=sr;break}n.mode=vF;case vF:if(l===0)break e;if(h=p-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=sr;break}h>n.wnext?(h-=n.wnext,m=n.wsize-h):m=n.wnext-h,h>n.length&&(h=n.length),g=n.window}else g=i,m=a-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[a++]=g[m++];while(--h);n.length===0&&(n.mode=gx);break;case yF:if(l===0)break e;i[a++]=n.length,l--,n.mode=gx;break;case A5:if(n.wrap){for(;u<32;){if(s===0)break e;s--,c|=r[o++]<<u,u+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?fi(n.check,i,p,a-p):q0(n.check,i,p,a-p)),p=l,n.wrap&4&&(n.flags?c:wF(c))!==n.check){e.msg="incorrect data check",n.mode=sr;break}c=0,u=0}n.mode=bF;case bF:if(n.wrap&&n.flags){for(;u<32;){if(s===0)break e;s--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=sr;break}c=0,u=0}n.mode=xF;case xF:E=U6e;break e;case sr:E=eZ;break e;case nZ:return tZ;case rZ:default:return es}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||p!==e.avail_out&&n.mode<sr&&(n.mode<A5||t!==Z8))&&lZ(e,e.output,e.next_out,p-e.avail_out),d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?fi(n.check,i,p,e.next_out-p):q0(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Jl?128:0)+(n.mode===mx||n.mode===N5?256:0),(d===0&&p===0||t===Z8)&&E===mh&&(E=q6e),E},J6e=e=>{if(Ph(e))return es;let t=e.state;return t.window&&(t.window=null),e.state=null,mh},e$e=(e,t)=>{if(Ph(e))return es;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,mh):es},t$e=(e,t)=>{const n=t.length;let r,i,o;return Ph(e)||(r=e.state,r.wrap!==0&&r.mode!==lS)?es:r.mode===lS&&(i=1,i=q0(i,t,n,0),i!==r.check)?eZ:(o=lZ(e,t,n,n),o?(r.mode=nZ,tZ):(r.havedict=1,mh))};var n$e=oZ,r$e=aZ,i$e=iZ,o$e=X6e,a$e=sZ,s$e=Z6e,l$e=J6e,c$e=e$e,u$e=t$e,d$e="pako inflate (from Nodeca project)",dc={inflateReset:n$e,inflateReset2:r$e,inflateResetKeep:i$e,inflateInit:o$e,inflateInit2:a$e,inflate:s$e,inflateEnd:l$e,inflateGetHeader:c$e,inflateSetDictionary:u$e,inflateInfo:d$e};function f$e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var h$e=f$e;const cZ=Object.prototype.toString,{Z_NO_FLUSH:p$e,Z_FINISH:m$e,Z_OK:K0,Z_STREAM_END:T5,Z_NEED_DICT:O5,Z_STREAM_ERROR:g$e,Z_DATA_ERROR:_F,Z_MEM_ERROR:v$e}=Lb;function $b(e){this.options=qE.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XQ,this.strm.avail_out=0;let n=dc.inflateInit2(this.strm,t.windowBits);if(n!==K0)throw new Error(tg[n]);if(this.header=new h$e,dc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=V0.string2buf(t.dictionary):cZ.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=dc.inflateSetDictionary(this.strm,t.dictionary),n!==K0)))throw new Error(tg[n])}$b.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?m$e:p$e,cZ.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=dc.inflate(n,a),o===O5&&i&&(o=dc.inflateSetDictionary(n,i),o===K0?o=dc.inflate(n,a):o===_F&&(o=O5));n.avail_in>0&&o===T5&&n.state.wrap>0&&e[n.next_in]!==0;)dc.inflateReset(n),o=dc.inflate(n,a);switch(o){case g$e:case _F:case O5:case v$e:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||o===T5))if(this.options.to==="string"){let l=V0.utf8border(n.output,n.next_out),c=n.next_out-l,u=V0.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===K0&&s===0)){if(o===T5)return o=dc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};$b.prototype.onData=function(e){this.chunks.push(e)};$b.prototype.onEnd=function(e){e===K0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qE.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function V3(e,t){const n=new $b(t);if(n.push(e),n.err)throw n.msg||tg[n.err];return n.result}function y$e(e,t){return t=t||{},t.raw=!0,V3(e,t)}var b$e=$b,x$e=V3,w$e=y$e,S$e=V3,_$e=Lb,E$e={Inflate:b$e,inflate:x$e,inflateRaw:w$e,ungzip:S$e,constants:_$e};const{Inflate:N$e,inflate:A$e,inflateRaw:HYe,ungzip:qYe}=E$e;var EF=N$e,k$e=A$e;const uZ=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;uZ[e]=t}const NF=4294967295;function C$e(e,t,n){let r=e;for(let i=0;i<n;i++)r=uZ[(r^t[i])&255]^r>>>8;return r}function T$e(e,t){return(C$e(NF,e,t)^NF)>>>0}function AF(e,t,n){const r=e.readUint32(),i=T$e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function dZ(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function fZ(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function hZ(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function pZ(e,t,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)t[o]=e[o];for(;o<r;o++)t[o]=e[o]+(t[o-i]>>1)&255}else{for(;o<i;o++)t[o]=e[o]+(n[o]>>1)&255;for(;o<r;o++)t[o]=e[o]+(t[o-i]+n[o]>>1)&255}}function mZ(e,t,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)t[o]=e[o];for(;o<r;o++)t[o]=e[o]+t[o-i]&255}else{for(;o<i;o++)t[o]=e[o]+n[o]&255;for(;o<r;o++)t[o]=e[o]+O$e(t[o-i],n[o],n[o-i])&255}}function O$e(e,t,n){const r=e+t-n,i=Math.abs(r-e),o=Math.abs(r-t),a=Math.abs(r-n);return i<=o&&i<=a?e:o<=a?t:n}function M$e(e,t,n,r,i,o){switch(e){case 0:dZ(t,n,i);break;case 1:fZ(t,n,i,o);break;case 2:hZ(t,n,r,i);break;case 3:pZ(t,n,r,i,o);break;case 4:mZ(t,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}const P$e=new Uint16Array([255]),j$e=new Uint8Array(P$e.buffer),R$e=j$e[0]===255;function I$e(e){const{data:t,width:n,height:r,channels:i,depth:o}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(o/8)*i,l=new Uint8Array(r*n*s);let c=0;for(let u=0;u<7;u++){const d=a[u],p=Math.ceil((n-d.x)/d.xStep),h=Math.ceil((r-d.y)/d.yStep);if(p<=0||h<=0)continue;const m=p*s,g=new Uint8Array(m);for(let v=0;v<h;v++){const y=t[c++],x=t.subarray(c,c+m);c+=m;const w=new Uint8Array(m);M$e(y,x,w,g,m,s),g.set(w);for(let _=0;_<p;_++){const N=d.x+_*d.xStep,k=d.y+v*d.yStep;if(!(N>=n||k>=r))for(let O=0;O<s;O++)l[(k*n+N)*s+O]=w[_*s+O]}}}if(o===16){const u=new Uint16Array(l.buffer);if(R$e)for(let d=0;d<u.length;d++)u[d]=L$e(u[d]);return u}else return l}function L$e(e){return(e&255)<<8|e>>8&255}const D$e=new Uint16Array([255]),$$e=new Uint8Array(D$e.buffer),F$e=$$e[0]===255,B$e=new Uint8Array(0);function kF(e){const{data:t,width:n,height:r,channels:i,depth:o}=e,a=Math.ceil(o/8)*i,s=Math.ceil(o/8*i*n),l=new Uint8Array(r*s);let c=B$e,u=0,d,p;for(let h=0;h<r;h++){switch(d=t.subarray(u+1,u+1+s),p=l.subarray(h*s,(h+1)*s),t[u]){case 0:dZ(d,p,s);break;case 1:fZ(d,p,s,a);break;case 2:hZ(d,p,c,s);break;case 3:pZ(d,p,c,s,a);break;case 4:mZ(d,p,c,s,a);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=p,u+=s+1}if(o===16){const h=new Uint16Array(l.buffer);if(F$e)for(let m=0;m<h.length;m++)h[m]=z$e(h[m]);return h}else return l}function z$e(e){return(e&255)<<8|e>>8&255}const fw=Uint8Array.of(137,80,78,71,13,10,26,10);function CF(e){if(!U$e(e.readBytes(fw.length)))throw new Error("wrong PNG signature")}function U$e(e){if(e.length<fw.length)return!1;for(let t=0;t<fw.length;t++)if(e[t]!==fw[t])return!1;return!0}const H$e="tEXt",q$e=0,gZ=new TextDecoder("latin1");function W$e(e){if(K$e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const V$e=/^[\u0000-\u00FF]*$/;function K$e(e){if(!V$e.test(e))throw new Error("invalid latin1 text")}function G$e(e,t,n){const r=vZ(t);e[r]=Y$e(t,n-r.length-1)}function vZ(e){for(e.mark();e.readByte()!==q$e;);const t=e.offset;e.reset();const n=gZ.decode(e.readBytes(t-e.offset-1));return e.skip(1),W$e(n),n}function Y$e(e,t){return gZ.decode(e.readBytes(t))}const na={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},M5={UNKNOWN:-1,DEFLATE:0},TF={UNKNOWN:-1,ADAPTIVE:0},P5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},vx={NONE:0,BACKGROUND:1,PREVIOUS:2},j5={SOURCE:0,OVER:1};class X$e extends F3{constructor(n,r={}){super(n);On(this,"_checkCrc");On(this,"_inflator");On(this,"_png");On(this,"_apng");On(this,"_end");On(this,"_hasPalette");On(this,"_palette");On(this,"_hasTransparency");On(this,"_transparency");On(this,"_compressionMethod");On(this,"_filterMethod");On(this,"_interlaceMethod");On(this,"_colorType");On(this,"_isAnimated");On(this,"_numberOfFrames");On(this,"_numberOfPlays");On(this,"_frames");On(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new EF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=M5.UNKNOWN,this._filterMethod=TF.UNKNOWN,this._interlaceMethod=P5.UNKNOWN,this._colorType=na.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(CF(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(CF(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case H$e:G$e(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AF(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?AF(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Q$e(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case na.GREYSCALE:i=1;break;case na.TRUECOLOUR:i=3;break;case na.INDEXED_COLOUR:i=1;break;case na.GREYSCALE_ALPHA:i=2;break;case na.TRUECOLOUR_ALPHA:i=4;break;case na.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==M5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<r;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case na.GREYSCALE:case na.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case na.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case na.UNKNOWN:case na.GREYSCALE_ALPHA:case na.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=vZ(this),i=this.readUint8();if(i!==M5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:k$e(o)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=kF({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(i,o,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case vx.NONE:break;case vx.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let a=0;a<this._png.width;a++){const s=(o*n.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[s+l]=0}break;case vx.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,o=(a,s)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,c=(a*r.width+s)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case j5.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=o(a,s);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case j5.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:c}=o(a,s);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/i,p=u%(this._png.channels-1)===0?1:r.data[c+u],h=Math.floor(d*p+(1-d)*n.data[l+u]);n.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==TF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===P5.NO_INTERLACE)this._png.data=kF({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===P5.ADAM7)this._png.data=I$e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:vx.NONE,blendOp:j5.SOURCE,data:n}),this._inflator=new EF,this._writingDataChunks=!1}}function Q$e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var OF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(OF||(OF={}));function Z$e(e,t){return new X$e(e,t).decode()}var It=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function R5(){It.console&&typeof It.console.log=="function"&&It.console.log.apply(It.console,arguments)}var zn={log:R5,warn:function(e){It.console&&(typeof It.console.warn=="function"?It.console.warn.apply(It.console,arguments):R5.call(null,arguments))},error:function(e){It.console&&(typeof It.console.error=="function"?It.console.error.apply(It.console,arguments):R5(e))}};function I5(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){hf(r.response,t,n)},r.onerror=function(){zn.error("could not download file")},r.send()}function MF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hf=It.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==It?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=It.URL||It.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?MF(i.href)?I5(e,t,n):yx(i,i.target="_blank"):yx(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){yx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(MF(e))I5(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){yx(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:jn(o)!=="object"&&(zn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return I5(e,t,n);var i=e.type==="application/octet-stream",o=/constructor/i.test(It.HTMLElement)||It.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var u=s.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},s.readAsDataURL(e)}else{var l=It.URL||It.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yZ(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,a=i.exec(e);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}var hw=It.atob.bind(It),PF=It.btoa.bind(It);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function L5(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=qi(n,r,i,o,t[0],7,-680876936),o=qi(o,n,r,i,t[1],12,-389564586),i=qi(i,o,n,r,t[2],17,606105819),r=qi(r,i,o,n,t[3],22,-1044525330),n=qi(n,r,i,o,t[4],7,-176418897),o=qi(o,n,r,i,t[5],12,1200080426),i=qi(i,o,n,r,t[6],17,-1473231341),r=qi(r,i,o,n,t[7],22,-45705983),n=qi(n,r,i,o,t[8],7,1770035416),o=qi(o,n,r,i,t[9],12,-1958414417),i=qi(i,o,n,r,t[10],17,-42063),r=qi(r,i,o,n,t[11],22,-1990404162),n=qi(n,r,i,o,t[12],7,1804603682),o=qi(o,n,r,i,t[13],12,-40341101),i=qi(i,o,n,r,t[14],17,-1502002290),n=Wi(n,r=qi(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=Wi(o,n,r,i,t[6],9,-1069501632),i=Wi(i,o,n,r,t[11],14,643717713),r=Wi(r,i,o,n,t[0],20,-373897302),n=Wi(n,r,i,o,t[5],5,-701558691),o=Wi(o,n,r,i,t[10],9,38016083),i=Wi(i,o,n,r,t[15],14,-660478335),r=Wi(r,i,o,n,t[4],20,-405537848),n=Wi(n,r,i,o,t[9],5,568446438),o=Wi(o,n,r,i,t[14],9,-1019803690),i=Wi(i,o,n,r,t[3],14,-187363961),r=Wi(r,i,o,n,t[8],20,1163531501),n=Wi(n,r,i,o,t[13],5,-1444681467),o=Wi(o,n,r,i,t[2],9,-51403784),i=Wi(i,o,n,r,t[7],14,1735328473),n=Vi(n,r=Wi(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=Vi(o,n,r,i,t[8],11,-2022574463),i=Vi(i,o,n,r,t[11],16,1839030562),r=Vi(r,i,o,n,t[14],23,-35309556),n=Vi(n,r,i,o,t[1],4,-1530992060),o=Vi(o,n,r,i,t[4],11,1272893353),i=Vi(i,o,n,r,t[7],16,-155497632),r=Vi(r,i,o,n,t[10],23,-1094730640),n=Vi(n,r,i,o,t[13],4,681279174),o=Vi(o,n,r,i,t[0],11,-358537222),i=Vi(i,o,n,r,t[3],16,-722521979),r=Vi(r,i,o,n,t[6],23,76029189),n=Vi(n,r,i,o,t[9],4,-640364487),o=Vi(o,n,r,i,t[12],11,-421815835),i=Vi(i,o,n,r,t[15],16,530742520),n=Ki(n,r=Vi(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=Ki(o,n,r,i,t[7],10,1126891415),i=Ki(i,o,n,r,t[14],15,-1416354905),r=Ki(r,i,o,n,t[5],21,-57434055),n=Ki(n,r,i,o,t[12],6,1700485571),o=Ki(o,n,r,i,t[3],10,-1894986606),i=Ki(i,o,n,r,t[10],15,-1051523),r=Ki(r,i,o,n,t[1],21,-2054922799),n=Ki(n,r,i,o,t[8],6,1873313359),o=Ki(o,n,r,i,t[15],10,-30611744),i=Ki(i,o,n,r,t[6],15,-1560198380),r=Ki(r,i,o,n,t[13],21,1309151649),n=Ki(n,r,i,o,t[4],6,-145523070),o=Ki(o,n,r,i,t[11],10,-1120210379),i=Ki(i,o,n,r,t[2],15,718787259),r=Ki(r,i,o,n,t[9],21,-343485551),e[0]=zu(n,e[0]),e[1]=zu(r,e[1]),e[2]=zu(i,e[2]),e[3]=zu(o,e[3])}function VE(e,t,n,r,i,o){return t=zu(zu(t,e),zu(r,o)),zu(t<<i|t>>>32-i,n)}function qi(e,t,n,r,i,o,a){return VE(t&n|~t&r,e,t,i,o,a)}function Wi(e,t,n,r,i,o,a){return VE(t&r|n&~r,e,t,i,o,a)}function Vi(e,t,n,r,i,o,a){return VE(t^n^r,e,t,i,o,a)}function Ki(e,t,n,r,i,o,a){return VE(n^(t|~r),e,t,i,o,a)}function bZ(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)L5(r,J$e(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(L5(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,L5(r,i),r}function J$e(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var jF="0123456789abcdef".split("");function e8e(e){for(var t="",n=0;n<4;n++)t+=jF[e>>8*n+4&15]+jF[e>>8*n&15];return t}function t8e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function DO(e){return bZ(e).map(t8e).join("")}var n8e=function(e){for(var t=0;t<e.length;t++)e[t]=e8e(e[t]);return e.join("")}(bZ("hello"))!="5d41402abc4b2a76b9719d911017c592";function zu(e,t){if(n8e){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $O(e,t){var n,r,i,o;if(e!==n){for(var a=(i=e,o=1+(256/e.length|0),new Array(o+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+a.charCodeAt(l))%256,s[l]=s[c],s[c]=u}n=e,r=s}else s=r;var d=t.length,p=0,h=0,m="";for(l=0;l<d;l++)h=(h+(u=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=u,a=s[(s[p]+s[h])%256],m+=String.fromCharCode(t.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var RF={print:4,modify:8,copy:16,"annot-forms":32};function hp(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(RF.perm!==void 0)throw new Error("Invalid permission: "+s);i+=RF[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^i)),this.encryptionKey=DO(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$O(this.encryptionKey,this.padding)}function pp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function IF(e){if(jn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var o=Math.random().toString(35);return t[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var a=t[n][o];try{a[0].apply(e,r)}catch(s){It.console&&zn.error("jsPDF PubSub Error",s.message,s)}a[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function cS(e){if(!(this instanceof cS))return new cS(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function xZ(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function mf(e,t,n,r,i){if(!(this instanceof mf))return new mf(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,xZ.call(this,r,i)}function Lp(e,t,n,r,i){if(!(this instanceof Lp))return new Lp(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,xZ.call(this,r,i)}function _t(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],a=[],s=1,l=16,c="S",u=null;jn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,o=e.compress||e.compressPdf||o,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(o===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=IF;var m="1.3",g=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(T){m=T};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var y=h.__private__.getPageFormat=function(T){return v[T]};i=i||"a4";var x="compat",w="advanced",_=x;function N(){this.saveGraphicsState(),J(new wt(rt,0,0,-rt,0,Kd()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),c="n",_=w}function k(){this.restoreGraphicsState(),c="S",_=x}var O=h.__private__.combineFontStyleAndFontWeight=function(T,H){if(T=="bold"&&H=="normal"||T=="bold"&&H==400||T=="normal"&&H=="italic"||T=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(T=H==400||H==="normal"?T==="italic"?"italic":"normal":H!=700&&H!=="bold"||T!=="normal"?(H==700?"bold":H)+""+T:"bold"),T};h.advancedAPI=function(T){var H=_===x;return H&&N.call(this),typeof T!="function"||(T(this),H&&k.call(this)),this},h.compatAPI=function(T){var H=_===w;return H&&k.call(this),typeof T!="function"||(T(this),H&&N.call(this)),this},h.isAdvancedAPI=function(){return _===w};var E,C=function(T){if(_!==w)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(T,H){var oe=t||H;if(isNaN(T)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(oe).replace(/0+$/,"")};E=h.hpf=h.__private__.hpf=typeof l=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return L(T,l)}:l==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return L(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return L(T,16)};var M=h.f2=h.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return L(T,2)},I=h.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return L(T,3)},j=h.scale=h.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return _===x?T*rt:_===w?T:void 0},D=function(T){return j(function(H){return _===x?Kd()-H:_===w?H:void 0}(T))};h.__private__.setPrecision=h.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(t=parseInt(T,10))};var q,z="00000000000000000000000000000000",W=h.__private__.getFileId=function(){return z},F=h.__private__.setFileId=function(T){return z=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(kr=new hp(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};h.setFileId=function(T){return F(T),this},h.getFileId=function(){return W()};var B=h.__private__.convertDateToPDFDate=function(T){var H=T.getTimezoneOffset(),oe=H<0?"+":"-",fe=Math.floor(Math.abs(H/60)),be=Math.abs(H%60),Me=[oe,Y(fe),"'",Y(be),"'"].join("");return["D:",T.getFullYear(),Y(T.getMonth()+1),Y(T.getDate()),Y(T.getHours()),Y(T.getMinutes()),Y(T.getSeconds()),Me].join("")},te=h.__private__.convertPDFDateToDate=function(T){var H=parseInt(T.substr(2,4),10),oe=parseInt(T.substr(6,2),10)-1,fe=parseInt(T.substr(8,2),10),be=parseInt(T.substr(10,2),10),Me=parseInt(T.substr(12,2),10),De=parseInt(T.substr(14,2),10);return new Date(H,oe,fe,be,Me,De,0)},K=h.__private__.setCreationDate=function(T){var H;if(T===void 0&&(T=new Date),T instanceof Date)H=B(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=T}return q=H},R=h.__private__.getCreationDate=function(T){var H=q;return T==="jsDate"&&(H=te(q)),H};h.setCreationDate=function(T){return K(T),this},h.getCreationDate=function(T){return R(T)};var U,Y=h.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},Z=h.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},ae=0,se=[],ce=[],ne=0,de=[],he=[],ue=!1,Ne=ce;h.__private__.setCustomOutputDestination=function(T){ue=!0,Ne=T};var pe=function(T){ue||(Ne=T)};h.__private__.resetCustomOutputDestination=function(){ue=!1,Ne=ce};var J=h.__private__.out=function(T){return T=T.toString(),ne+=T.length+1,Ne.push(T),Ne},ke=h.__private__.write=function(T){return J(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Ke=h.__private__.getArrayBuffer=function(T){for(var H=T.length,oe=new ArrayBuffer(H),fe=new Uint8Array(oe);H--;)fe[H]=T.charCodeAt(H);return oe},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return _e};var Ae=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(T){return Ae=_===w?T/rt:T,this};var He,je=h.__private__.getFontSize=h.getFontSize=function(){return _===x?Ae:Ae*rt},nt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(T){return nt=T,this},h.__private__.getR2L=h.getR2L=function(){return nt};var et,xt=h.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))He=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');He=T}else He=parseInt(T,10)};h.__private__.getZoomMode=function(){return He};var lt,Ee=h.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');et=T};h.__private__.getPageMode=function(){return et};var $e=h.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');lt=T};h.__private__.getLayoutMode=function(){return lt},h.__private__.setDisplayMode=h.setDisplayMode=function(T,H,oe){return xt(T),$e(H),Ee(oe),this};var ze={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(T){if(Object.keys(ze).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ze[T]},h.__private__.getDocumentProperties=function(){return ze},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(T){for(var H in ze)ze.hasOwnProperty(H)&&T[H]&&(ze[H]=T[H]);return this},h.__private__.setDocumentProperty=function(T,H){if(Object.keys(ze).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ze[T]=H};var Ve,rt,Je,qt,Gt,ft={},Dt={},kn=[],Ot={},rn={},$t={},ur={},le=null,Be=0,tt=[],an=new IF(h),$l=e.hotfixes||[],ui={},as={},Co=[],wt=function T(H,oe,fe,be,Me,De){if(!(this instanceof T))return new T(H,oe,fe,be,Me,De);isNaN(H)&&(H=1),isNaN(oe)&&(oe=0),isNaN(fe)&&(fe=0),isNaN(be)&&(be=1),isNaN(Me)&&(Me=0),isNaN(De)&&(De=0),this._matrix=[H,oe,fe,be,Me,De]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(T)},wt.prototype.multiply=function(T){var H=T.sx*this.sx+T.shy*this.shx,oe=T.sx*this.shy+T.shy*this.sy,fe=T.shx*this.sx+T.sy*this.shx,be=T.shx*this.shy+T.sy*this.sy,Me=T.tx*this.sx+T.ty*this.shx+this.tx,De=T.tx*this.shy+T.ty*this.sy+this.ty;return new wt(H,oe,fe,be,Me,De)},wt.prototype.decompose=function(){var T=this.sx,H=this.shy,oe=this.shx,fe=this.sy,be=this.tx,Me=this.ty,De=Math.sqrt(T*T+H*H),ht=(T/=De)*oe+(H/=De)*fe;oe-=T*ht,fe-=H*ht;var yt=Math.sqrt(oe*oe+fe*fe);return ht/=yt,T*(fe/=yt)<H*(oe/=yt)&&(T=-T,H=-H,ht=-ht,De=-De),{scale:new wt(De,0,0,yt,0,0),translate:new wt(1,0,0,1,be,Me),rotate:new wt(T,H,-H,T,0,0),skew:new wt(1,0,ht,1,0,0)}},wt.prototype.toString=function(T){return this.join(" ")},wt.prototype.inversed=function(){var T=this.sx,H=this.shy,oe=this.shx,fe=this.sy,be=this.tx,Me=this.ty,De=1/(T*fe-H*oe),ht=fe*De,yt=-H*De,Lt=-oe*De,zt=T*De;return new wt(ht,yt,Lt,zt,-ht*be-Lt*Me,-yt*be-zt*Me)},wt.prototype.applyToPoint=function(T){var H=T.x*this.sx+T.y*this.shx+this.tx,oe=T.x*this.shy+T.y*this.sy+this.ty;return new Wd(H,oe)},wt.prototype.applyToRectangle=function(T){var H=this.applyToPoint(T),oe=this.applyToPoint(new Wd(T.x+T.w,T.y+T.h));return new Zg(H.x,H.y,oe.x-H.x,oe.y-H.y)},wt.prototype.clone=function(){var T=this.sx,H=this.shy,oe=this.shx,fe=this.sy,be=this.tx,Me=this.ty;return new wt(T,H,oe,fe,be,Me)},h.Matrix=wt;var Xr=h.matrixMult=function(T,H){return H.multiply(T)},so=new wt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=so;var Ko=function(T,H){if(!rn[T]){var oe=(H instanceof mf?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);H.id=oe,rn[T]=oe,Ot[oe]=H,an.publish("addPattern",H)}};h.ShadingPattern=mf,h.TilingPattern=Lp,h.addShadingPattern=function(T,H){return C("addShadingPattern()"),Ko(T,H),this},h.beginTilingPattern=function(T){C("beginTilingPattern()"),Jg(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},h.endTilingPattern=function(T,H){C("endTilingPattern()"),H.stream=he[U].join(`
`),Ko(T,H),an.publish("endTilingPattern",H),Co.pop().restore()};var lo,Qn=h.__private__.newObject=function(){var T=di();return _i(T,!0),T},di=h.__private__.newObjectDeferred=function(){return ae++,se[ae]=function(){return ne},ae},_i=function(T,H){return H=typeof H=="boolean"&&H,se[T]=ne,H&&J(T+" 0 obj"),T},Ld=h.__private__.newAdditionalObject=function(){var T={objId:di(),content:""};return de.push(T),T},Uc=di(),ss=di(),Ks=h.__private__.decodeColorString=function(T){var H=T.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var oe=parseFloat(H[0]);H=[oe,oe,oe,"r"]}for(var fe="#",be=0;be<3;be++)fe+=("0"+Math.floor(255*parseFloat(H[be])).toString(16)).slice(-2);return fe},ls=h.__private__.encodeColorString=function(T){var H;typeof T=="string"&&(T={ch1:T});var oe=T.ch1,fe=T.ch2,be=T.ch3,Me=T.ch4,De=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var ht=new yZ(oe);if(ht.ok)oe=ht.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var yt=parseInt(oe.substr(1),16);oe=yt>>16&255,fe=yt>>8&255,be=255&yt}if(fe===void 0||Me===void 0&&oe===fe&&fe===be)H=typeof oe=="string"?oe+" "+De[0]:T.precision===2?M(oe/255)+" "+De[0]:I(oe/255)+" "+De[0];else if(Me===void 0||jn(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return["1.","1.","1.",De[1]].join(" ");H=typeof oe=="string"?[oe,fe,be,De[1]].join(" "):T.precision===2?[M(oe/255),M(fe/255),M(be/255),De[1]].join(" "):[I(oe/255),I(fe/255),I(be/255),De[1]].join(" ")}else H=typeof oe=="string"?[oe,fe,be,Me,De[2]].join(" "):T.precision===2?[M(oe),M(fe),M(be),M(Me),De[2]].join(" "):[I(oe),I(fe),I(be),I(Me),De[2]].join(" ");return H},cs=h.__private__.getFilters=function(){return a},Sa=h.__private__.putStream=function(T){var H=(T=T||{}).data||"",oe=T.filters||cs(),fe=T.alreadyAppliedFilters||[],be=T.addLength1||!1,Me=H.length,De=T.objectId,ht=function(Qr){return Qr};if(u!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ht=kr.encryptor(De,0));var yt={};oe===!0&&(oe=["FlateEncode"]);var Lt=T.additionalKeyValues||[],zt=(yt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(H,oe):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(yt.data.length!==0&&(Lt.push({key:"Length",value:yt.data.length}),be===!0&&Lt.push({key:"Length1",value:Me})),zt.length!=0)if(zt.split("/").length-1==1)Lt.push({key:"Filter",value:zt});else{Lt.push({key:"Filter",value:"["+zt+"]"});for(var yn=0;yn<Lt.length;yn+=1)if(Lt[yn].key==="DecodeParms"){for(var dr=[],Fr=0;Fr<yt.reverseChain.split("/").length-1;Fr+=1)dr.push("null");dr.push(Lt[yn].value),Lt[yn].value="["+dr.join(" ")+"]"}}J("<<");for(var Vn=0;Vn<Lt.length;Vn++)J("/"+Lt[Vn].key+" "+Lt[Vn].value);J(">>"),yt.data.length!==0&&(J("stream"),J(ht(yt.data)),J("endstream"))},Dd=h.__private__.putPage=function(T){var H=T.number,oe=T.data,fe=T.objId,be=T.contentsObjId;_i(fe,!0),J("<</Type /Page"),J("/Parent "+T.rootDictionaryObjId+" 0 R"),J("/Resources "+T.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(E(T.mediaBox.bottomLeftX))+" "+parseFloat(E(T.mediaBox.bottomLeftY))+" "+E(T.mediaBox.topRightX)+" "+E(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&J("/CropBox ["+E(T.cropBox.bottomLeftX)+" "+E(T.cropBox.bottomLeftY)+" "+E(T.cropBox.topRightX)+" "+E(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&J("/BleedBox ["+E(T.bleedBox.bottomLeftX)+" "+E(T.bleedBox.bottomLeftY)+" "+E(T.bleedBox.topRightX)+" "+E(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&J("/TrimBox ["+E(T.trimBox.bottomLeftX)+" "+E(T.trimBox.bottomLeftY)+" "+E(T.trimBox.topRightX)+" "+E(T.trimBox.topRightY)+"]"),T.artBox!==null&&J("/ArtBox ["+E(T.artBox.bottomLeftX)+" "+E(T.artBox.bottomLeftY)+" "+E(T.artBox.topRightX)+" "+E(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&J("/UserUnit "+T.userUnit),an.publish("putPage",{objId:fe,pageContext:tt[H],pageNumber:H,page:oe}),J("/Contents "+be+" 0 R"),J(">>"),J("endobj");var Me=oe.join(`
`);return _===w&&(Me+=`
Q`),_i(be,!0),Sa({data:Me,filters:cs(),objectId:be}),J("endobj"),fe},Gs=h.__private__.putPages=function(){var T,H,oe=[];for(T=1;T<=Be;T++)tt[T].objId=di(),tt[T].contentsObjId=di();for(T=1;T<=Be;T++)oe.push(Dd({number:T,data:he[T],objId:tt[T].objId,contentsObjId:tt[T].contentsObjId,mediaBox:tt[T].mediaBox,cropBox:tt[T].cropBox,bleedBox:tt[T].bleedBox,trimBox:tt[T].trimBox,artBox:tt[T].artBox,userUnit:tt[T].userUnit,rootDictionaryObjId:Uc,resourceDictionaryObjId:ss}));_i(Uc,!0),J("<</Type /Pages");var fe="/Kids [";for(H=0;H<Be;H++)fe+=oe[H]+" 0 R ";J(fe+"]"),J("/Count "+Be),J(">>"),J("endobj"),an.publish("postPutPages")},$d=function(T){an.publish("putFont",{font:T,out:J,newObject:Qn,putStream:Sa}),T.isAlreadyPutted!==!0&&(T.objectNumber=Qn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+pp(T.postScriptName)),J("/Subtype /Type1"),typeof T.encoding=="string"&&J("/Encoding /"+T.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Lh=function(T){T.objectNumber=Qn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[E(T.x),E(T.y),E(T.x+T.width),E(T.y+T.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var oe=T.pages[1].join(`
`);Sa({data:oe,additionalKeyValues:H,objectId:T.objectNumber}),J("endobj")},Dh=function(T,H){H||(H=21);var oe=Qn(),fe=function(De,ht){var yt,Lt=[],zt=1/(ht-1);for(yt=0;yt<1;yt+=zt)Lt.push(yt);if(Lt.push(1),De[0].offset!=0){var yn={offset:0,color:De[0].color};De.unshift(yn)}if(De[De.length-1].offset!=1){var dr={offset:1,color:De[De.length-1].color};De.push(dr)}for(var Fr="",Vn=0,Qr=0;Qr<Lt.length;Qr++){for(yt=Lt[Qr];yt>De[Vn+1].offset;)Vn++;var Br=De[Vn].offset,Ei=(yt-Br)/(De[Vn+1].offset-Br),Ea=De[Vn].color,To=De[Vn+1].color;Fr+=Z(Math.round((1-Ei)*Ea[0]+Ei*To[0]).toString(16))+Z(Math.round((1-Ei)*Ea[1]+Ei*To[1]).toString(16))+Z(Math.round((1-Ei)*Ea[2]+Ei*To[2]).toString(16))}return Fr.trim()}(T.colors,H),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+H+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sa({data:fe,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),J("endobj"),T.objectNumber=Qn(),J("<< /ShadingType "+T.type),J("/ColorSpace /DeviceRGB");var Me="/Coords ["+E(parseFloat(T.coords[0]))+" "+E(parseFloat(T.coords[1]))+" ";T.type===2?Me+=E(parseFloat(T.coords[2]))+" "+E(parseFloat(T.coords[3])):Me+=E(parseFloat(T.coords[2]))+" "+E(parseFloat(T.coords[3]))+" "+E(parseFloat(T.coords[4]))+" "+E(parseFloat(T.coords[5])),J(Me+="]"),T.matrix&&J("/Matrix ["+T.matrix.toString()+"]"),J("/Function "+oe+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},$h=function(T,H){var oe=di(),fe=Qn();H.push({resourcesOid:oe,objectOid:fe}),T.objectNumber=fe;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+T.boundingBox.map(E).join(" ")+"]"}),be.push({key:"XStep",value:E(T.xStep)}),be.push({key:"YStep",value:E(T.yStep)}),be.push({key:"Resources",value:oe+" 0 R"}),T.matrix&&be.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Sa({data:T.stream,additionalKeyValues:be,objectId:T.objectNumber}),J("endobj")},fN=function(T){for(var H in T.objectNumber=Qn(),J("<<"),T)switch(H){case"opacity":J("/ca "+M(T[H]));break;case"stroke-opacity":J("/CA "+M(T[H]))}J(">>"),J("endobj")},Ug=function(T){_i(T.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in J("/Font <<"),ft)ft.hasOwnProperty(H)&&(d===!1||d===!0&&p.hasOwnProperty(H))&&J("/"+H+" "+ft[H].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Ot).length>0){for(var H in J("/Shading <<"),Ot)Ot.hasOwnProperty(H)&&Ot[H]instanceof mf&&Ot[H].objectNumber>=0&&J("/"+H+" "+Ot[H].objectNumber+" 0 R");an.publish("putShadingPatternDict"),J(">>")}}(),function(H){if(Object.keys(Ot).length>0){for(var oe in J("/Pattern <<"),Ot)Ot.hasOwnProperty(oe)&&Ot[oe]instanceof h.TilingPattern&&Ot[oe].objectNumber>=0&&Ot[oe].objectNumber<H&&J("/"+oe+" "+Ot[oe].objectNumber+" 0 R");an.publish("putTilingPatternDict"),J(">>")}}(T.objectOid),function(){if(Object.keys($t).length>0){var H;for(H in J("/ExtGState <<"),$t)$t.hasOwnProperty(H)&&$t[H].objectNumber>=0&&J("/"+H+" "+$t[H].objectNumber+" 0 R");an.publish("putGStateDict"),J(">>")}}(),function(){for(var H in J("/XObject <<"),ui)ui.hasOwnProperty(H)&&ui[H].objectNumber>=0&&J("/"+H+" "+ui[H].objectNumber+" 0 R");an.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Hb=function(T){Dt[T.fontName]=Dt[T.fontName]||{},Dt[T.fontName][T.fontStyle]=T.id},qb=function(T,H,oe,fe,be){var Me={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:T,fontName:H,fontStyle:oe,encoding:fe,isStandardFont:be||!1,metadata:{}};return an.publish("addFont",{font:Me,instance:this}),ft[Me.id]=Me,Hb(Me),Me.id},_a=h.__private__.pdfEscape=h.pdfEscape=function(T,H){return function(oe,fe){var be,Me,De,ht,yt,Lt,zt,yn,dr;if(De=(fe=fe||{}).sourceEncoding||"Unicode",yt=fe.outputEncoding,(fe.autoencode||yt)&&ft[Ve].metadata&&ft[Ve].metadata[De]&&ft[Ve].metadata[De].encoding&&(ht=ft[Ve].metadata[De].encoding,!yt&&ft[Ve].encoding&&(yt=ft[Ve].encoding),!yt&&ht.codePages&&(yt=ht.codePages[0]),typeof yt=="string"&&(yt=ht[yt]),yt)){for(zt=!1,Lt=[],be=0,Me=oe.length;be<Me;be++)(yn=yt[oe.charCodeAt(be)])?Lt.push(String.fromCharCode(yn)):Lt.push(oe[be]),Lt[be].charCodeAt(0)>>8&&(zt=!0);oe=Lt.join("")}for(be=oe.length;zt===void 0&&be!==0;)oe.charCodeAt(be-1)>>8&&(zt=!0),be--;if(!zt)return oe;for(Lt=fe.noBOM?[]:[254,255],be=0,Me=oe.length;be<Me;be++){if((dr=(yn=oe.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+oe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(dr),Lt.push(yn-(dr<<8))}return String.fromCharCode.apply(void 0,Lt)}(T,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hg=h.__private__.beginPage=function(T){he[++Be]=[],tt[Be]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Vb(Be),pe(he[U])},Wb=function(T,H){var oe,fe,be;switch(n=H||n,typeof T=="string"&&(oe=y(T.toLowerCase()),Array.isArray(oe)&&(fe=oe[0],be=oe[1])),Array.isArray(T)&&(fe=T[0]*rt,be=T[1]*rt),isNaN(fe)&&(fe=i[0],be=i[1]),(fe>14400||be>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),be=Math.min(14400,be)),i=[fe,be],n.substr(0,1)){case"l":be>fe&&(i=[be,fe]);break;case"p":fe>be&&(i=[be,fe])}Hg(i),wN(Gg),J(Bh),Xg!==0&&J(Xg+" J"),Qg!==0&&J(Qg+" j"),an.publish("addPage",{pageNumber:Be})},qg=function(T){T>0&&T<=Be&&(he.splice(T,1),tt.splice(T,1),Be--,U>Be&&(U=Be),this.setPage(U))},Vb=function(T){T>0&&T<=Be&&(U=T)},Kb=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return he.length-1},Gb=function(T,H,oe){var fe,be=void 0;return oe=oe||{},T=T!==void 0?T:ft[Ve].fontName,H=H!==void 0?H:ft[Ve].fontStyle,fe=T.toLowerCase(),Dt[fe]!==void 0&&Dt[fe][H]!==void 0?be=Dt[fe][H]:Dt[T]!==void 0&&Dt[T][H]!==void 0?be=Dt[T][H]:oe.disableWarning===!1&&zn.warn("Unable to look up font label for font '"+T+"', '"+H+"'. Refer to getFontList() for available fonts."),be||oe.noFallback||(be=Dt.times[H])==null&&(be=Dt.times.normal),be},Fh=h.__private__.putInfo=function(){var T=Qn(),H=function(fe){return fe};for(var oe in u!==null&&(H=kr.encryptor(T,0)),J("<<"),J("/Producer ("+_a(H("jsPDF "+_t.version))+")"),ze)ze.hasOwnProperty(oe)&&ze[oe]&&J("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+_a(H(ze[oe]))+")");J("/CreationDate ("+_a(H(q))+")"),J(">>"),J("endobj")},hN=h.__private__.putCatalog=function(T){var H=(T=T||{}).rootDictionaryObjId||Uc;switch(Qn(),J("<<"),J("/Type /Catalog"),J("/Pages "+H+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+He;oe.substr(oe.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&J("/OpenAction [3 0 R /XYZ null null "+M(He)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}et&&J("/PageMode /"+et),an.publish("putCatalog"),J(">>"),J("endobj")},$r=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ae+1)),J("/Root "+ae+" 0 R"),J("/Info "+(ae-1)+" 0 R"),u!==null&&J("/Encrypt "+kr.oid+" 0 R"),J("/ID [ <"+z+"> <"+z+"> ]"),J(">>")},Yb=h.__private__.putHeader=function(){J("%PDF-"+m),J("%")},Xb=h.__private__.putXRef=function(){var T="0000000000";J("xref"),J("0 "+(ae+1)),J("0000000000 65535 f ");for(var H=1;H<=ae;H++)typeof se[H]=="function"?J((T+se[H]()).slice(-10)+" 00000 n "):se[H]!==void 0?J((T+se[H]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Fl=h.__private__.buildDocument=function(){var T;ae=0,ne=0,ce=[],se=[],de=[],Uc=di(),ss=di(),pe(ce),an.publish("buildDocument"),Yb(),Gs(),function(){an.publish("putAdditionalObjects");for(var oe=0;oe<de.length;oe++){var fe=de[oe];_i(fe.objId,!0),J(fe.content),J("endobj")}an.publish("postPutAdditionalObjects")}(),T=[],function(){for(var oe in ft)ft.hasOwnProperty(oe)&&(d===!1||d===!0&&p.hasOwnProperty(oe))&&$d(ft[oe])}(),function(){var oe;for(oe in $t)$t.hasOwnProperty(oe)&&fN($t[oe])}(),function(){for(var oe in ui)ui.hasOwnProperty(oe)&&Lh(ui[oe])}(),function(oe){var fe;for(fe in Ot)Ot.hasOwnProperty(fe)&&(Ot[fe]instanceof mf?Dh(Ot[fe]):Ot[fe]instanceof Lp&&$h(Ot[fe],oe))}(T),an.publish("putResources"),T.forEach(Ug),Ug({resourcesOid:ss,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources"),u!==null&&(kr.oid=Qn(),J("<<"),J("/Filter /Standard"),J("/V "+kr.v),J("/R "+kr.r),J("/U <"+kr.toHexString(kr.U)+">"),J("/O <"+kr.toHexString(kr.O)+">"),J("/P "+kr.P),J(">>"),J("endobj")),Fh(),hN();var H=ne;return Xb(),$r(),J("startxref"),J(""+H),J("%%EOF"),pe(he[U]),ce.join(`
`)},Fd=h.__private__.getBlob=function(T){return new Blob([Ke(T)],{type:"application/pdf"})},us=h.output=h.__private__.output=(lo=function(T,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",T){case void 0:return Fl();case"save":h.save(H.filename);break;case"arraybuffer":return Ke(Fl());case"blob":return Fd(Fl());case"bloburi":case"bloburl":if(It.URL!==void 0&&typeof It.URL.createObjectURL=="function")return It.URL&&It.URL.createObjectURL(Fd(Fl()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",fe=Fl();try{oe=PF(fe)}catch{oe=PF(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+H.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(be=H.pdfObjectUrl,Me="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ht=It.open();return ht!==null&&ht.document.write(De),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Lt=It.open();if(Lt!==null){Lt.document.write(yt);var zt=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=H.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(It)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',dr=It.open();if(dr!==null&&(dr.document.write(yn),dr.document.title=H.filename),dr||typeof safari>"u")return dr;break;case"datauri":case"dataurl":return It.document.location.href=this.output("datauristring",H);default:return null}},lo.foo=function(){try{return lo.apply(this,arguments)}catch(oe){var T=oe.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var H="Error in function "+T.split(`
`)[0].split("<")[0]+": "+oe.message;if(!It.console)throw new Error(H);It.console.error(H,oe),It.alert&&alert(H)}},lo.foo.bar=lo,lo.foo),Bd=function(T){return Array.isArray($l)===!0&&$l.indexOf(T)>-1};switch(r){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=Bd("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);rt=r}var kr=null;K(),F();var Wg=h.__private__.getPageInfo=h.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[T].objId,pageNumber:T,pageContext:tt[T]}},pN=h.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in tt)if(tt[H].objId===T)break;return Wg(H)},mN=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:tt[U].objId,pageNumber:U,pageContext:tt[U]}};h.addPage=function(){return Wb.apply(this,arguments),this},h.setPage=function(){return Vb.apply(this,arguments),pe.call(this,he[U]),this},h.insertPage=function(T){return this.addPage(),this.movePage(U,T),this},h.movePage=function(T,H){var oe,fe;if(T>H){oe=he[T],fe=tt[T];for(var be=T;be>H;be--)he[be]=he[be-1],tt[be]=tt[be-1];he[H]=oe,tt[H]=fe,this.setPage(H)}else if(T<H){oe=he[T],fe=tt[T];for(var Me=T;Me<H;Me++)he[Me]=he[Me+1],tt[Me]=tt[Me+1];he[H]=oe,tt[H]=fe,this.setPage(H)}return this},h.deletePage=function(){return qg.apply(this,arguments),this},h.__private__.text=h.text=function(T,H,oe,fe,be){var Me,De,ht,yt,Lt,zt,yn,dr,Fr,Vn=(fe=fe||{}).scope||this;if(typeof T=="number"&&typeof H=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Qr=oe;oe=H,H=T,T=Qr}if(arguments[3]instanceof wt==0?(ht=arguments[4],yt=arguments[5],jn(yn=arguments[3])==="object"&&yn!==null||(typeof ht=="string"&&(yt=ht,ht=null),typeof yn=="string"&&(yt=yn,yn=null),typeof yn=="number"&&(ht=yn,yn=null),fe={flags:yn,angle:ht,align:yt})):(C("The transform parameter of text() with a Matrix value"),Fr=be),isNaN(H)||isNaN(oe)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return Vn;var Br,Ei="",Ea=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Ud,To=Vn.internal.scaleFactor;function i1(Sn){return Sn=Sn.split("	").join(Array(fe.TabLen||9).join(" ")),_a(Sn,yn)}function qh(Sn){for(var Fn,Tr=Sn.concat(),Zr=[],Vl=Tr.length;Vl--;)typeof(Fn=Tr.shift())=="string"?Zr.push(Fn):Array.isArray(Sn)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?Zr.push(Fn[0]):Zr.push([Fn[0],Fn[1],Fn[2]]);return Zr}function Gd(Sn,Fn){var Tr;if(typeof Sn=="string")Tr=Fn(Sn)[0];else if(Array.isArray(Sn)){for(var Zr,Vl,cv=Sn.concat(),Kh=[],s1=cv.length;s1--;)typeof(Zr=cv.shift())=="string"?Kh.push(Fn(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Vl=Fn(Zr[0],Zr[1],Zr[2]),Kh.push([Vl[0],Vl[1],Vl[2]]));Tr=Kh}return Tr}var Wc=!1,Yd=!0;if(typeof T=="string")Wc=!0;else if(Array.isArray(T)){var Xd=T.concat();De=[];for(var Qd,Bi=Xd.length;Bi--;)(typeof(Qd=Xd.shift())!="string"||Array.isArray(Qd)&&typeof Qd[0]!="string")&&(Yd=!1);Wc=Yd}if(Wc===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Zd=Ae/Vn.internal.scaleFactor,Jd=Zd*(Ea-1);switch(fe.baseline){case"bottom":oe-=Jd;break;case"top":oe+=Zd-Jd;break;case"hanging":oe+=Zd-2*Jd;break;case"middle":oe+=Zd/2-Jd}if((zt=fe.maxWidth||0)>0&&(typeof T=="string"?T=Vn.splitTextToSize(T,zt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(Sn,Fn){return Sn.concat(Vn.splitTextToSize(Fn,zt))},[]))),Me={text:T,x:H,y:oe,options:fe,mutex:{pdfEscape:_a,activeFontKey:Ve,fonts:ft,activeFontSize:Ae}},an.publish("preProcessText",Me),T=Me.text,ht=(fe=Me.options).angle,Fr instanceof wt==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,fe.rotationDirection===0&&(ht=-ht),_===w&&(ht=-ht);var ev=Math.cos(ht),tv=Math.sin(ht);Fr=new wt(ev,tv,-tv,ev,0,0)}else ht&&ht instanceof wt&&(Fr=ht);_!==w||Fr||(Fr=so),(Lt=fe.charSpace||Uh)!==void 0&&(Ei+=E(j(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dr=fe.horizontalScale)!==void 0&&(Ei+=E(100*dr)+` Tz
`),fe.lang;var mr=-1,ql=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Wh=Vn.internal.getCurrentPageInfo().pageContext;switch(ql){case 0:case!1:case"fill":mr=0;break;case 1:case!0:case"stroke":mr=1;break;case 2:case"fillThenStroke":mr=2;break;case 3:case"invisible":mr=3;break;case 4:case"fillAndAddForClipping":mr=4;break;case 5:case"strokeAndAddPathForClipping":mr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mr=6;break;case 7:case"addToPathForClipping":mr=7}var o1=Wh.usedRenderingMode!==void 0?Wh.usedRenderingMode:-1;mr!==-1?Ei+=mr+` Tr
`:o1!==-1&&(Ei+=`0 Tr
`),mr!==-1&&(Wh.usedRenderingMode=mr),yt=fe.align||"left";var Na,ef=Ae*Ea,nv=Vn.internal.pageSize.getWidth(),rv=ft[Ve];Lt=fe.charSpace||Uh,zt=fe.maxWidth||0,yn=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Vc=[],tf=function(Sn){return Vn.getStringUnitWidth(Sn,{font:rv,charSpace:Lt,fontSize:Ae,doKerning:!1})*Ae/To};if(Object.prototype.toString.call(T)==="[object Array]"){var Go;De=qh(T),yt!=="left"&&(Na=De.map(tf));var Yo,Kc=0;if(yt==="right"){H-=Na[0],T=[],Bi=De.length;for(var Wl=0;Wl<Bi;Wl++)Wl===0?(Yo=Bl(H),Go=zl(oe)):(Yo=j(Kc-Na[Wl]),Go=-ef),T.push([De[Wl],Yo,Go]),Kc=Na[Wl]}else if(yt==="center"){H-=Na[0]/2,T=[],Bi=De.length;for(var Gc=0;Gc<Bi;Gc++)Gc===0?(Yo=Bl(H),Go=zl(oe)):(Yo=j((Kc-Na[Gc])/2),Go=-ef),T.push([De[Gc],Yo,Go]),Kc=Na[Gc]}else if(yt==="left"){T=[],Bi=De.length;for(var iv=0;iv<Bi;iv++)T.push(De[iv])}else if(yt==="justify"&&rv.encoding==="Identity-H"){T=[],Bi=De.length,zt=zt!==0?zt:nv;for(var Vh=0,Cr=0;Cr<Bi;Cr++)if(Go=Cr===0?zl(oe):-ef,Yo=Cr===0?Bl(H):Vh,Cr<Bi-1){var a1=j((zt-Na[Cr])/(De[Cr].split(" ").length-1)),Xs=De[Cr].split(" ");T.push([Xs[0]+" ",Yo,Go]),Vh=0;for(var Qs=1;Qs<Xs.length;Qs++){var ov=(tf(Xs[Qs-1]+" "+Xs[Qs])-tf(Xs[Qs]))*To+a1;Qs==Xs.length-1?T.push([Xs[Qs],ov,0]):T.push([Xs[Qs]+" ",ov,0]),Vh-=ov}}else T.push([De[Cr],Yo,Go]);T.push(["",Vh,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],Bi=De.length,zt=zt!==0?zt:nv,Cr=0;Cr<Bi;Cr++){Go=Cr===0?zl(oe):-ef,Yo=Cr===0?Bl(H):0;var av=De[Cr].split(" ").length-1,sv=av>0?(zt-Na[Cr])/av:0;Cr<Bi-1?Vc.push(E(j(sv))):Vc.push(0),T.push([De[Cr],Yo,Go])}}}(typeof fe.R2L=="boolean"?fe.R2L:nt)===!0&&(T=Gd(T,function(Sn,Fn,Tr){return[Sn.split("").reverse().join(""),Fn,Tr]})),Me={text:T,x:H,y:oe,options:fe,mutex:{pdfEscape:_a,activeFontKey:Ve,fonts:ft,activeFontSize:Ae}},an.publish("postProcessText",Me),T=Me.text,Br=Me.mutex.isHex||!1;var lv=ft[Ve].encoding;lv!=="WinAnsiEncoding"&&lv!=="StandardEncoding"||(T=Gd(T,function(Sn,Fn,Tr){return[i1(Sn),Fn,Tr]})),De=qh(T),T=[];for(var Yc,Xc,Qc,nf=Array.isArray(De[0])?1:0,Zc="",rf=function(Sn,Fn,Tr){var Zr="";return Tr instanceof wt?(Tr=typeof fe.angle=="number"?Xr(Tr,new wt(1,0,0,1,Sn,Fn)):Xr(new wt(1,0,0,1,Sn,Fn),Tr),_===w&&(Tr=Xr(new wt(1,0,0,-1,0,0),Tr)),Zr=Tr.join(" ")+` Tm
`):Zr=E(Sn)+" "+E(Fn)+` Td
`,Zr},Aa=0;Aa<De.length;Aa++){switch(Zc="",nf){case 1:Qc=(Br?"<":"(")+De[Aa][0]+(Br?">":")"),Yc=parseFloat(De[Aa][1]),Xc=parseFloat(De[Aa][2]);break;case 0:Qc=(Br?"<":"(")+De[Aa]+(Br?">":")"),Yc=Bl(H),Xc=zl(oe)}Vc!==void 0&&Vc[Aa]!==void 0&&(Zc=Vc[Aa]+` Tw
`),Aa===0?T.push(Zc+rf(Yc,Xc,Fr)+Qc):nf===0?T.push(Zc+Qc):nf===1&&T.push(Zc+rf(Yc,Xc,Fr)+Qc)}T=nf===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var Zs=`BT
/`;return Zs+=Ve+" "+Ae+` Tf
`,Zs+=E(Ae*Ea)+` TL
`,Zs+=Hd+`
`,Zs+=Ei,Zs+=T,J(Zs+="ET"),p[Ve]=!0,Vn};var gN=h.__private__.clip=h.clip=function(T){return J(T==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return gN("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var Ys=h.__private__.isValidStyle=function(T){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(H=!0),H};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(T){return Ys(T)&&(c=T),this};var Qb=h.__private__.getStyle=h.getStyle=function(T){var H=c;switch(T){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=T}return H},Zb=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(T){return Hc("f",T),this},h.fillEvenOdd=function(T){return Hc("f*",T),this},h.fillStroke=function(T){return Hc("B",T),this},h.fillStrokeEvenOdd=function(T){return Hc("B*",T),this};var Hc=function(T,H){jn(H)==="object"?yN(H,T):J(T)},Vg=function(T){T===null||_===w&&T===void 0||(T=Qb(T),J(T))};function vN(T,H,oe,fe,be){var Me=new Lp(H||this.boundingBox,oe||this.xStep,fe||this.yStep,this.gState,be||this.matrix);Me.stream=this.stream;var De=T+"$$"+this.cloneIndex+++"$$";return Ko(De,Me),Me}var yN=function(T,H){var oe=rn[T.key],fe=Ot[oe];if(fe instanceof mf)J("q"),J(bN(H)),fe.gState&&h.setGState(fe.gState),J(T.matrix.toString()+" cm"),J("/"+oe+" sh"),J("Q");else if(fe instanceof Lp){var be=new wt(1,0,0,-1,0,Kd());T.matrix&&(be=be.multiply(T.matrix||so),oe=vN.call(fe,T.key,T.boundingBox,T.xStep,T.yStep,be).id),J("q"),J("/Pattern cs"),J("/"+oe+" scn"),fe.gState&&h.setGState(fe.gState),J(H),J("Q")}},bN=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Kg=h.moveTo=function(T,H){return J(E(j(T))+" "+E(D(H))+" m"),this},zd=h.lineTo=function(T,H){return J(E(j(T))+" "+E(D(H))+" l"),this},qc=h.curveTo=function(T,H,oe,fe,be,Me){return J([E(j(T)),E(D(H)),E(j(oe)),E(D(fe)),E(j(be)),E(D(Me)),"c"].join(" ")),this};h.__private__.line=h.line=function(T,H,oe,fe,be){if(isNaN(T)||isNaN(H)||isNaN(oe)||isNaN(fe)||!Ys(be))throw new Error("Invalid arguments passed to jsPDF.line");return _===x?this.lines([[oe-T,fe-H]],T,H,[1,1],be||"S"):this.lines([[oe-T,fe-H]],T,H,[1,1]).stroke()},h.__private__.lines=h.lines=function(T,H,oe,fe,be,Me){var De,ht,yt,Lt,zt,yn,dr,Fr,Vn,Qr,Br,Ei;if(typeof T=="number"&&(Ei=oe,oe=H,H=T,T=Ei),fe=fe||[1,1],Me=Me||!1,isNaN(H)||isNaN(oe)||!Array.isArray(T)||!Array.isArray(fe)||!Ys(be)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kg(H,oe),De=fe[0],ht=fe[1],Lt=T.length,Qr=H,Br=oe,yt=0;yt<Lt;yt++)(zt=T[yt]).length===2?(Qr=zt[0]*De+Qr,Br=zt[1]*ht+Br,zd(Qr,Br)):(yn=zt[0]*De+Qr,dr=zt[1]*ht+Br,Fr=zt[2]*De+Qr,Vn=zt[3]*ht+Br,Qr=zt[4]*De+Qr,Br=zt[5]*ht+Br,qc(yn,dr,Fr,Vn,Qr,Br));return Me&&Zb(),Vg(be),this},h.path=function(T){for(var H=0;H<T.length;H++){var oe=T[H],fe=oe.c;switch(oe.op){case"m":Kg(fe[0],fe[1]);break;case"l":zd(fe[0],fe[1]);break;case"c":qc.apply(this,fe);break;case"h":Zb()}}return this},h.__private__.rect=h.rect=function(T,H,oe,fe,be){if(isNaN(T)||isNaN(H)||isNaN(oe)||isNaN(fe)||!Ys(be))throw new Error("Invalid arguments passed to jsPDF.rect");return _===x&&(fe=-fe),J([E(j(T)),E(D(H)),E(j(oe)),E(j(fe)),"re"].join(" ")),Vg(be),this},h.__private__.triangle=h.triangle=function(T,H,oe,fe,be,Me,De){if(isNaN(T)||isNaN(H)||isNaN(oe)||isNaN(fe)||isNaN(be)||isNaN(Me)||!Ys(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-T,fe-H],[be-oe,Me-fe],[T-be,H-Me]],T,H,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(T,H,oe,fe,be,Me,De){if(isNaN(T)||isNaN(H)||isNaN(oe)||isNaN(fe)||isNaN(be)||isNaN(Me)||!Ys(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*oe),Me=Math.min(Me,.5*fe),this.lines([[oe-2*be,0],[be*ht,0,be,Me-Me*ht,be,Me],[0,fe-2*Me],[0,Me*ht,-be*ht,Me,-be,Me],[2*be-oe,0],[-be*ht,0,-be,-Me*ht,-be,-Me],[0,2*Me-fe],[0,-Me*ht,be*ht,-Me,be,-Me]],T+be,H,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(T,H,oe,fe,be){if(isNaN(T)||isNaN(H)||isNaN(oe)||isNaN(fe)||!Ys(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*oe,De=4/3*(Math.SQRT2-1)*fe;return Kg(T+oe,H),qc(T+oe,H-De,T+Me,H-fe,T,H-fe),qc(T-Me,H-fe,T-oe,H-De,T-oe,H),qc(T-oe,H+De,T-Me,H+fe,T,H+fe),qc(T+Me,H+fe,T+oe,H+De,T+oe,H),Vg(be),this},h.__private__.circle=h.circle=function(T,H,oe,fe){if(isNaN(T)||isNaN(H)||isNaN(oe)||!Ys(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,H,oe,oe,fe)},h.setFont=function(T,H,oe){return oe&&(H=O(H,oe)),Ve=Gb(T,H,{disableWarning:!1}),this};var xN=h.__private__.getFont=h.getFont=function(){return ft[Gb.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var T,H,oe={};for(T in Dt)if(Dt.hasOwnProperty(T))for(H in oe[T]=[],Dt[T])Dt[T].hasOwnProperty(H)&&oe[T].push(H);return oe},h.addFont=function(T,H,oe,fe,be){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(oe=O(oe,fe)),qb.call(this,T,H,oe,be=be||"Identity-H")};var Ud,Gg=e.lineWidth||.200025,Ft=h.__private__.getLineWidth=h.getLineWidth=function(){return Gg},wN=h.__private__.setLineWidth=h.setLineWidth=function(T){return Gg=T,J(E(j(T))+" w"),this};h.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(T,H){if(T=T||[],H=H||0,isNaN(H)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(oe){return E(j(oe))}).join(" "),H=E(j(H)),J("["+T+"] "+H+" d"),this};var SN=h.__private__.getLineHeight=h.getLineHeight=function(){return Ae*Ud};h.__private__.getLineHeight=h.getLineHeight=function(){return Ae*Ud};var _N=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(Ud=T),this},EN=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Ud};_N(e.lineHeight);var Bl=h.__private__.getHorizontalCoordinate=function(T){return j(T)},zl=h.__private__.getVerticalCoordinate=function(T){return _===w?T:tt[U].mediaBox.topRightY-tt[U].mediaBox.bottomLeftY-j(T)},NN=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(T){return E(Bl(T))},AN=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(T){return E(zl(T))},Bh=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ks(Bh)},h.__private__.setStrokeColor=h.setDrawColor=function(T,H,oe,fe){return Bh=ls({ch1:T,ch2:H,ch3:oe,ch4:fe,pdfColorType:"draw",precision:2}),J(Bh),this};var Yg=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ks(Yg)},h.__private__.setFillColor=h.setFillColor=function(T,H,oe,fe){return Yg=ls({ch1:T,ch2:H,ch3:oe,ch4:fe,pdfColorType:"fill",precision:2}),J(Yg),this};var Hd=e.textColor||"0 g",zh=h.__private__.getTextColor=h.getTextColor=function(){return Ks(Hd)};h.__private__.setTextColor=h.setTextColor=function(T,H,oe,fe){return Hd=ls({ch1:T,ch2:H,ch3:oe,ch4:fe,pdfColorType:"text",precision:3}),this};var Uh=e.charSpace,kN=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Uh||0)};h.__private__.setCharSpace=h.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Uh=T,this};var Xg=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(T){var H=h.CapJoinStyles[T];if(H===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xg=H,J(H+" J"),this};var Qg=0;h.__private__.setLineJoin=h.setLineJoin=function(T){var H=h.CapJoinStyles[T];if(H===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qg=H,J(H+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(E(j(T))+" M"),this},h.GState=cS,h.setGState=function(T){(T=typeof T=="string"?$t[ur[T]]:qd(null,T)).equals(le)||(J("/"+T.id+" gs"),le=T)};var qd=function(T,H){if(!T||!ur[T]){var oe=!1;for(var fe in $t)if($t.hasOwnProperty(fe)&&$t[fe].equals(H)){oe=!0;break}if(oe)H=$t[fe];else{var be="GS"+(Object.keys($t).length+1).toString(10);$t[be]=H,H.id=be}return T&&(ur[T]=H.id),an.publish("addGState",H),H}};h.addGState=function(T,H){return qd(T,H),this},h.saveGraphicsState=function(){return J("q"),kn.push({key:Ve,size:Ae,color:Hd}),this},h.restoreGraphicsState=function(){J("Q");var T=kn.pop();return Ve=T.key,Ae=T.size,Hd=T.color,le=null,this},h.setCurrentTransformationMatrix=function(T){return J(T.toString()+" cm"),this},h.comment=function(T){return J("#"+T),this};var Wd=function(T,H){var oe=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(Me){isNaN(Me)||(oe=parseFloat(Me))}});var fe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Me){isNaN(Me)||(fe=parseFloat(Me))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Me){be=Me.toString()}}),this},Zg=function(T,H,oe,fe){Wd.call(this,T,H),this.type="rect";var be=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(De){isNaN(De)||(be=parseFloat(De))}});var Me=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(De){isNaN(De)||(Me=parseFloat(De))}}),this},Hh=function(){this.page=Be,this.currentPage=U,this.pages=he.slice(0),this.pagesContext=tt.slice(0),this.x=Je,this.y=qt,this.matrix=Gt,this.width=Jb(U),this.height=Ul(U),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Hh.prototype.restore=function(){Be=this.page,U=this.currentPage,tt=this.pagesContext,he=this.pages,Je=this.x,qt=this.y,Gt=this.matrix,e1(U,this.width),Hl(U,this.height),Ne=this.outputDestination};var Jg=function(T,H,oe,fe,be){Co.push(new Hh),Be=U=0,he=[],Je=T,qt=H,Gt=be,Hg([oe,fe])};for(var Vd in h.beginFormObject=function(T,H,oe,fe,be){return Jg(T,H,oe,fe,be),this},h.endFormObject=function(T){return function(H){if(as[H])Co.pop().restore();else{var oe=new Hh,fe="Xo"+(Object.keys(ui).length+1).toString(10);oe.id=fe,as[H]=fe,ui[fe]=oe,an.publish("addFormObject",oe),Co.pop().restore()}}(T),this},h.doFormObject=function(T,H){var oe=ui[as[T]];return J("q"),J(H.toString()+" cm"),J("/"+oe.id+" Do"),J("Q"),this},h.getFormObject=function(T){var H=ui[as[T]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},h.save=function(T,H){return T=T||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(hf(Fd(Fl()),T),typeof hf.unload=="function"&&It.setTimeout&&setTimeout(hf.unload,911),this):new Promise(function(oe,fe){try{var be=hf(Fd(Fl()),T);typeof hf.unload=="function"&&It.setTimeout&&setTimeout(hf.unload,911),oe(be)}catch(Me){fe(Me.message)}})},_t.API)_t.API.hasOwnProperty(Vd)&&(Vd==="events"&&_t.API.events.length?function(T,H){var oe,fe,be;for(be=H.length-1;be!==-1;be--)oe=H[be][0],fe=H[be][1],T.subscribe.apply(T,[oe].concat(typeof fe=="function"?[fe]:fe))}(an,_t.API.events):h[Vd]=_t.API[Vd]);function Jb(T){return tt[T].mediaBox.topRightX-tt[T].mediaBox.bottomLeftX}function e1(T,H){tt[T].mediaBox.topRightX=H+tt[T].mediaBox.bottomLeftX}function Ul(T){return tt[T].mediaBox.topRightY-tt[T].mediaBox.bottomLeftY}function Hl(T,H){tt[T].mediaBox.topRightY=H+tt[T].mediaBox.bottomLeftY}var t1=h.getPageWidth=function(T){return Jb(T=T||U)/rt},n1=h.setPageWidth=function(T,H){e1(T,H*rt)},Kd=h.getPageHeight=function(T){return Ul(T=T||U)/rt},r1=h.setPageHeight=function(T,H){Hl(T,H*rt)};return h.internal={pdfEscape:_a,getStyle:Qb,getFont:xN,getFontSize:je,getCharSpace:kN,getTextColor:zh,getLineHeight:SN,getLineHeightFactor:EN,getLineWidth:Ft,write:ke,getHorizontalCoordinate:Bl,getVerticalCoordinate:zl,getCoordinateString:NN,getVerticalCoordinateString:AN,collections:{},newObject:Qn,newAdditionalObject:Ld,newObjectDeferred:di,newObjectDeferredBegin:_i,getFilters:cs,putStream:Sa,events:an,scaleFactor:rt,pageSize:{getWidth:function(){return t1(U)},setWidth:function(T){n1(U,T)},getHeight:function(){return Kd(U)},setHeight:function(T){r1(U,T)}},encryptionOptions:u,encryption:kr,getEncryptor:function(T){return u!==null?kr.encryptor(T,0):function(H){return H}},output:us,getNumberOfPages:Kb,pages:he,out:J,f2:M,f3:I,getPageInfo:Wg,getPageInfoByObjId:pN,getCurrentPageInfo:mN,getPDFVersion:g,Point:Wd,Rectangle:Zg,Matrix:wt,hasHotfix:Bd},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return t1(U)},set:function(T){n1(U,T)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Kd(U)},set:function(T){r1(U,T)},enumerable:!0,configurable:!0}),(function(T){for(var H=0,oe=_e.length;H<oe;H++){var fe=qb.call(this,T[H][0],T[H][1],T[H][2],_e[H][3],!0);d===!1&&(p[fe]=!0);var be=T[H][0].split("-");Hb({id:fe,fontName:be[0],fontStyle:be[1]||""})}an.publish("addFonts",{fonts:ft,dictionary:Dt})}).call(h,_e),Ve="F1",Wb(i,n),an.publish("initialized"),h}hp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},hp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hp.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},hp.prototype.processOwnerPassword=function(e,t){return $O(DO(t).substr(0,5),e)},hp.prototype.encryptor=function(e,t){var n=DO(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return $O(n,r)}},cS.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||jn(e)!==jn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},_t.API={events:[]},_t.version="3.0.3";var xr=_t.API,K3=1,jh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},op=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ut=function(e){return e.toFixed(2)},cu=function(e){return e.toFixed(5)};xr.__acroform__={};var Vo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},LF=function(e){return e*K3},tl=function(e){var t=new SZ,n=ut.internal.getHeight(e)||0,r=ut.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ut(r)),Number(Ut(n))],t},r8e=xr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},i8e=xr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},o8e=xr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},jr=xr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return o8e(e,t-1)},Rr=xr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return r8e(e,t-1)},Ir=xr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return i8e(e,t-1)},a8e=xr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],a=e[2],s=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+s)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(o)||0,[Number(Ut(l.lowerLeft_X)),Number(Ut(l.lowerLeft_Y)),Number(Ut(l.upperRight_X)),Number(Ut(l.upperRight_Y))]},s8e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=FO(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Ut(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=tl(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},FO=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var o=n,a=ut.internal.getHeight(e)||0;a=a<0?-a:a;var s=ut.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(M,I,j){if(M+1<i.length){var D=I+" "+i[M+1][0];return bx(D,e,j).width<=s-4}return!1};o++;e:for(;o>0;){t="",o--;var c,u,d=bx("3",e,o).height,p=e.multiline?a-o:(a-d)/2,h=p+=2,m=0,g=0,v=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+bx(t,e,o=12).width+", FieldWidth:"+s+`
`;break}for(var y="",x=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var _=!1;if(i[w].length!==1&&v!==i[w].length-1){if((d+2)*(x+2)+2>a)continue e;y+=i[w][v],_=!0,g=w,w--}else{y=(y+=i[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(w),k=l(N,y,o),O=w>=i.length-1;if(k&&!O){y+=" ",v=0;continue}if(k||O){if(O)g=N;else if(e.multiline&&(d+2)*(x+2)+2>a)continue e}else{if(!e.multiline||(d+2)*(x+2)+2>a)continue e;g=N}}for(var E="",C=m;C<=g;C++){var L=i[C];if(e.multiline){if(C===g){E+=L[v]+" ",v=(v+1)%L.length;continue}if(C===m){E+=L[L.length-1]+" ";continue}}E+=L[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,u=bx(E,e,o).width,e.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;default:c=2}t+=Ut(c)+" "+Ut(h)+` Td
`,t+="("+jh(E)+`) Tj
`,t+=-Ut(c)+` 0 Td
`,h=-(o+2),u=0,m=_?g:g+1,x++,y=""}break}return r.text=t,r.fontSize=o,r},bx=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},l8e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},c8e=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},u8e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Hs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(l8e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new _Z,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&c8e(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var s=r[a],l=[],c=s.Rect;if(s.Rect&&(s.Rect=a8e(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=ut.createDefaultAppearanceStream(s),jn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var u=s8e(s);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(s.appearanceStreamContent){var d="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var m=h[a];typeof m=="function"&&(m=m.call(i,s)),d+="/"+a+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(i,s)),d+="/"+a+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}o&&function(g,v){for(var y in g)if(g.hasOwnProperty(y)){var x=y,w=g[y];v.internal.newObjectDeferredBegin(w.objId,!0),jn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[x]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},wZ=xr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(o!==0&&(i+=" "),jn(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+jh(r(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},D5=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+jh(r(e))+")"},vl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vl.prototype.toString=function(){return this.objId+" 0 R"},vl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},vl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:wZ(i,this.objId,this.scope)}):i instanceof vl?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var SZ=function(){vl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Vo(SZ,vl);var _Z=function(){vl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+jh(n(e))+")"}},set:function(n){e=n}})};Vo(_Z,vl);var Hs=function e(){vl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jr(t,3)},set:function(y){y?this.F=Rr(t,3):this.F=Ir(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof uS)return;o="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+jh(y(o))+")"},set:function(y){o=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(y){o=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/K3:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof uS||this instanceof Hf))return D5(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof mi==0?D5(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof mi==0?y.substr(0,1)==="("?op(y.substr(1,y.length-2)):op(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?op(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof mi==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof mi==0?D5(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof mi==0?y.substr(0,1)==="("?op(y.substr(1,y.length-2)):op(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?op(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof mi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,1)},set:function(y){y?this.Ff=Rr(this.Ff,1):this.Ff=Ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,2)},set:function(y){y?this.Ff=Rr(this.Ff,2):this.Ff=Ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,3)},set:function(y){y?this.Ff=Rr(this.Ff,3):this.Ff=Ir(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Vo(Hs,vl);var tm=function(){Hs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wZ(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,a,s){s||(s=1);for(var l,c=[];l=a.exec(o);)c.push(l[s]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,18)},set:function(n){n?this.Ff=Rr(this.Ff,18):this.Ff=Ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Rr(this.Ff,19):this.Ff=Ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,20)},set:function(n){n?(this.Ff=Rr(this.Ff,20),t.sort()):this.Ff=Ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,22)},set:function(n){n?this.Ff=Rr(this.Ff,22):this.Ff=Ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(n){n?this.Ff=Rr(this.Ff,23):this.Ff=Ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,27)},set:function(n){n?this.Ff=Rr(this.Ff,27):this.Ff=Ir(this.Ff,27)}}),this.hasAppearanceStream=!1};Vo(tm,Hs);var nm=function(){tm.call(this),this.fontName="helvetica",this.combo=!1};Vo(nm,tm);var rm=function(){nm.call(this),this.combo=!0};Vo(rm,nm);var pw=function(){rm.call(this),this.edit=!0};Vo(pw,rm);var mi=function(){Hs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,15)},set:function(n){n?this.Ff=Rr(this.Ff,15):this.Ff=Ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,16)},set:function(n){n?this.Ff=Rr(this.Ff,16):this.Ff=Ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,17)},set:function(n){n?this.Ff=Rr(this.Ff,17):this.Ff=Ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(n){n?this.Ff=Rr(this.Ff,26):this.Ff=Ir(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+jh(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){jn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Vo(mi,Hs);var mw=function(){mi.call(this),this.pushButton=!0};Vo(mw,mi);var im=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Vo(im,mi);var uS=function(){var e,t;Hs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+jh(i(r[o]))+")");return a.push(">>"),a.join(`
`)},set:function(i){jn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vo(uS,Hs),im.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},im.prototype.createOption=function(e){var t=new uS;return t.Parent=this,t.optionName=e,this.Kids.push(t),d8e.call(this.scope,t),t};var gw=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};Vo(gw,mi);var Hf=function(){Hs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,13)},set:function(t){t?this.Ff=Rr(this.Ff,13):this.Ff=Ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,21)},set:function(t){t?this.Ff=Rr(this.Ff,21):this.Ff=Ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(t){t?this.Ff=Rr(this.Ff,23):this.Ff=Ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,24)},set:function(t){t?this.Ff=Rr(this.Ff,24):this.Ff=Ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,25)},set:function(t){t?this.Ff=Rr(this.Ff,25):this.Ff=Ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(t){t?this.Ff=Rr(this.Ff,26):this.Ff=Ir(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vo(Hf,Hs);var vw=function(){Hf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,14)},set:function(e){e?this.Ff=Rr(this.Ff,14):this.Ff=Ir(this.Ff,14)}}),this.password=!0};Vo(vw,Hf);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=FO(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Ut(ut.internal.getWidth(e))+" "+Ut(ut.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ut(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=ut.internal.getHeight(e),a=ut.internal.getWidth(e),s=FO(e,e.caption);return i.push("1 g"),i.push("0 0 "+Ut(a)+" "+Ut(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ut(a-1)+" "+Ut(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Ut(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ut(ut.internal.getWidth(e))+" "+Ut(ut.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Circle.YesNormal,t.D[e]=ut.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var n=[],r=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=ut.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+cu(ut.internal.getWidth(e)/2)+" "+cu(ut.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var n=[],r=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ut.internal.Bezier_C).toFixed(5)),a=Number((r*ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cu(ut.internal.getWidth(e)/2)+" "+cu(ut.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+cu(ut.internal.getWidth(e)/2)+" "+cu(ut.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var n=[],r=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cu(ut.internal.getWidth(e)/2)+" "+cu(ut.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Cross.YesNormal,t.D[e]=ut.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=tl(e);t.scope=e.scope;var n=[],r=ut.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Ut(ut.internal.getWidth(e)-2)+" "+Ut(ut.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ut(r.x1.x)+" "+Ut(r.x1.y)+" m"),n.push(Ut(r.x2.x)+" "+Ut(r.x2.y)+" l"),n.push(Ut(r.x4.x)+" "+Ut(r.x4.y)+" m"),n.push(Ut(r.x3.x)+" "+Ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=tl(e);t.scope=e.scope;var n=ut.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ut(ut.internal.getWidth(e))+" "+Ut(ut.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ut(ut.internal.getWidth(e)-2)+" "+Ut(ut.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ut(n.x1.x)+" "+Ut(n.x1.y)+" m"),r.push(Ut(n.x2.x)+" "+Ut(n.x2.y)+" l"),r.push(Ut(n.x4.x)+" "+Ut(n.x4.y)+" m"),r.push(Ut(n.x3.x)+" "+Ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=tl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ut(ut.internal.getWidth(e))+" "+Ut(ut.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ut.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ut.internal.getWidth(e),n=ut.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},ut.internal.getWidth=function(e){var t=0;return jn(e)==="object"&&(t=LF(e.Rect[2])),t},ut.internal.getHeight=function(e){var t=0;return jn(e)==="object"&&(t=LF(e.Rect[3])),t};var d8e=xr.addField=function(e){if(u8e(this,e),!(e instanceof Hs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xr.AcroFormChoiceField=tm,xr.AcroFormListBox=nm,xr.AcroFormComboBox=rm,xr.AcroFormEditBox=pw,xr.AcroFormButton=mi,xr.AcroFormPushButton=mw,xr.AcroFormRadioButton=im,xr.AcroFormCheckBox=gw,xr.AcroFormTextField=Hf,xr.AcroFormPasswordField=vw,xr.AcroFormAppearance=ut,xr.AcroForm={ChoiceField:tm,ListBox:nm,ComboBox:rm,EditBox:pw,Button:mi,PushButton:mw,RadioButton:im,CheckBox:gw,TextField:Hf,PasswordField:vw,Appearance:ut},_t.AcroForm={ChoiceField:tm,ListBox:nm,ComboBox:rm,EditBox:pw,Button:mi,PushButton:mw,RadioButton:im,CheckBox:gw,TextField:Hf,PasswordField:vw,Appearance:ut};function EZ(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(M,I){var j,D,q,z,W,F=n;if((I=I||n)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(k(M))for(W in r)for(q=r[W],j=0;j<q.length;j+=1){for(z=!0,D=0;D<q[j].length;D+=1)if(q[j][D]!==void 0&&q[j][D]!==M[D]){z=!1;break}if(z===!0){F=W;break}}else for(W in r)for(q=r[W],j=0;j<q.length;j+=1){for(z=!0,D=0;D<q[j].length;D+=1)if(q[j][D]!==void 0&&q[j][D]!==M.charCodeAt(D)){z=!1;break}if(z===!0){F=W;break}}return F===n&&I!==n&&(F=I),F},o=function M(I){for(var j=this.internal.write,D=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:I.width}),z.push({key:"Height",value:I.height}),I.colorSpace===y.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===y.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var W="",F=0,B=I.transparency.length;F<B;F++)W+=I.transparency[F]+" "+I.transparency[F]+" ";z.push({key:"Mask",value:"["+W+"]"})}I.sMask!==void 0&&z.push({key:"SMask",value:I.objectId+1+" 0 R"});var te=I.filter!==void 0?["/"+I.filter]:void 0;if(D({data:I.data,additionalKeyValues:z,alreadyAppliedFilters:te,objectId:I.objectId}),j("endobj"),"sMask"in I&&I.sMask!==void 0){var K,R=(K=I.sMaskBitsPerComponent)!==null&&K!==void 0?K:I.bitsPerComponent,U={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:I.sMask};"filter"in I&&(U.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(I.width),U.filter=I.filter),M.call(this,U)}if(I.colorSpace===y.INDEXED){var Y=this.internal.newObject();D({data:E(new Uint8Array(I.palette)),objectId:Y}),j("endobj")}},a=function(){var M=this.internal.collections[t+"images"];for(var I in M)o.call(this,M[I])},s=function(){var M,I=this.internal.collections[t+"images"],j=this.internal.write;for(var D in I)j("/I"+(M=I[D]).index,M.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var M=this.internal.collections[t+"images"];return l.call(this),M},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(M){return typeof e["process"+M.toUpperCase()]=="function"},p=function(M){return jn(M)==="object"&&M.nodeType===1},h=function(M,I){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var j=""+M.getAttribute("src");if(j.indexOf("data:image/")===0)return hw(unescape(j).split("base64,").pop());var D=e.loadFile(j,!0);if(D!==void 0)return D}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var q;switch(I){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return hw(M.toDataURL(q,1).split("base64,").pop())}},m=function(M){var I=this.internal.collections[t+"images"];if(I){for(var j in I)if(M===I[j].alias)return I[j]}},g=function(M,I,j){return M||I||(M=-96,I=-96),M<0&&(M=-1*j.width*72/M/this.internal.scaleFactor),I<0&&(I=-1*j.height*72/I/this.internal.scaleFactor),M===0&&(M=I*j.width/j.height),I===0&&(I=M*j.height/j.width),[M,I]},v=function(M,I,j,D,q,z){var W=g.call(this,j,D,q),F=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,te=c.call(this);if(j=W[0],D=W[1],te[q.index]=q,z){z*=Math.PI/180;var K=Math.cos(z),R=Math.sin(z),U=function(Z){return Z.toFixed(4)},Y=[U(K),U(R),U(-1*R),U(K),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,F(M),B(I+D),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([F(j),"0","0",F(D),"0","0","cm"].join(" "))):this.internal.write([F(j),"0","0",F(D),F(M),B(I+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(M){var I,j,D=0;if(typeof M=="string")for(j=M.length,I=0;I<j;I++)D=(D<<5)-D+M.charCodeAt(I),D|=0;else if(k(M))for(j=M.byteLength/2,I=0;I<j;I++)D=(D<<5)-D+M[I],D|=0;return D},_=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var I=!0;return M.length===0&&(I=!1),M.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(I=!1),I},N=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var I=M.indexOf(",");return I<0?null:M.substring(0,I).trim().endsWith("base64")?M.substring(I+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var k=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},O=e.__addimage__.binaryStringToUint8Array=function(M){for(var I=M.length,j=new Uint8Array(I),D=0;D<I;D++)j[D]=M.charCodeAt(D);return j},E=e.__addimage__.arrayBufferToBinaryString=function(M){for(var I="",j=k(M)?M:new Uint8Array(M),D=0;D<j.length;D+=8192)I+=String.fromCharCode.apply(null,j.subarray(D,D+8192));return I};e.addImage=function(){var M,I,j,D,q,z,W,F,B;if(typeof arguments[1]=="number"?(I=n,j=arguments[1],D=arguments[2],q=arguments[3],z=arguments[4],W=arguments[5],F=arguments[6],B=arguments[7]):(I=arguments[1],j=arguments[2],D=arguments[3],q=arguments[4],z=arguments[5],W=arguments[6],F=arguments[7],B=arguments[8]),jn(M=arguments[0])==="object"&&!p(M)&&"imageData"in M){var te=M;M=te.imageData,I=te.format||I||n,j=te.x||j||0,D=te.y||D||0,q=te.w||te.width||q,z=te.h||te.height||z,W=te.alias||W,F=te.compression||F,B=te.rotation||te.angle||B}var K=this.internal.getFilters();if(F===void 0&&K.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(j)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=C.call(this,M,I,W,F);return v.call(this,j,D,q,z,R,B),this};var C=function(M,I,j,D){var q,z,W;if(typeof M=="string"&&i(M)===n){M=unescape(M);var F=L(M,!1);(F!==""||(F=e.loadFile(M,!0))!==void 0)&&(M=F)}if(p(M)&&(M=h(M,I)),I=i(M,I),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((W=j)==null||W.length===0)&&(j=function(B){return typeof B=="string"||k(B)?w(B):k(B.data)?w(B.data):null}(M)),(q=m.call(this,j))||(M instanceof Uint8Array||I==="RGBA"||(z=M,M=O(M)),q=this["process"+I.toUpperCase()](M,u.call(this),j,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in e.image_compression?B:x.NONE}(D),z)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},L=e.__addimage__.convertBase64ToBinaryString=function(M,I){I=typeof I!="boolean"||I;var j,D="";if(typeof M=="string"){var q;j=(q=N(M))!==null&&q!==void 0?q:M;try{D=hw(j)}catch(z){if(I)throw _(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};e.getImageProperties=function(M){var I,j,D="";if(p(M)&&(M=h(M)),typeof M=="string"&&i(M)===n&&((D=L(M,!1))===""&&(D=e.loadFile(M)||""),M=D),j=i(M),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(M instanceof Uint8Array||(M=O(M)),!(I=this["process"+j.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=j,I}})(_t.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};_t.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,o,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),x=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(y(r.contents))+")",o+=" /Popup "+v.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(y(x))+") >>",g.content=o;var w=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(o+=" /Open true"),o+=" >>",v.content=o,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+s(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(m(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,o,a){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+o)},options:a,type:"link"})},e.textWithLink=function(n,r,i,o){var a,s,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){s=o.maxWidth;var u=this.splitTextToSize(n,s).length;a=Math.ceil(c*u)}else s=l,a=c;return this.text(n,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,s,a,o),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(_t.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&o(g)&&t[g.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(g){var v=0,y=n,x="",w=0;for(v=0;v<g.length;v+=1)y[g.charCodeAt(v)]!==void 0?(w++,typeof(y=y[g.charCodeAt(v)])=="number"&&(x+=String.fromCharCode(y),y=n,w=0),v===g.length-1&&(y=n,x+=g.charAt(v-(w-1)),v-=w-1,w=0)):(y=n,x+=g.charAt(v-w),v-=w,w=0);return x};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,v,y){return a(g)?o(g)===!1?-1:!c(g)||!a(v)&&!a(y)||!a(y)&&s(v)||s(g)&&!a(v)||s(g)&&l(v)||s(g)&&s(v)?0:u(g)&&a(v)&&!s(v)&&a(y)&&c(y)?3:s(g)||!a(y)?1:2:-1},h=function(g){var v=0,y=0,x=0,w="",_="",N="",k=(g=g||"").split("\\s+"),O=[];for(v=0;v<k.length;v+=1){for(O.push(""),y=0;y<k[v].length;y+=1)w=k[v][y],_=k[v][y-1],N=k[v][y+1],a(w)?(x=p(w,_,N),O[v]+=x!==-1?String.fromCharCode(t[w.charCodeAt(0)][x]):w):O[v]+=w;O[v]=d(O[v])}return O.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var x=0;for(y=[],x=0;x<v.length;x+=1)Array.isArray(v[x])?y.push([h(v[x][0]),v[x][1],v[x][2]]):y.push([h(v[x])]);g=y}else g=h(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(_t.API),_t.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(s){o=s}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(_t.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,m=0,g=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,_){return w.concat(v.splitTextToSize(_,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)h<(g=this.getStringUnitWidth(l[x],{font:d})*u)&&(h=g);return h!==0&&(m=l.length),{w:h/=p,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,m,g,v,y=[],x=[],w=[],_={},N={},k=[],O=[],E=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,L=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,M=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,j=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=D,this.setFontSize(L),d==null)x=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(d)&&jn(d[0])==="object")for(y=d.map(function(te){return te.name}),x=d.map(function(te){return te.prompt||te.name||""}),w=d.map(function(te){return te.align||"left"}),h=0;h<d.length;h+=1)N[d[h].name]=.7499990551181103*d[h].width;else Array.isArray(d)&&typeof d[0]=="string"&&(x=y=d,w=y.map(function(){return"left"}));if(E||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<y.length;h+=1){for(_[v=y[h]]=u.map(function(te){return te[v]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=_[v],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)k.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,k)+I+I,k=[]}if(C){var q={};for(h=0;h<y.length;h+=1)q[y[h]]={},q[y[h]].text=x[h],q[y[h]].align=w[h];var z=s.call(this,q,N);O=y.map(function(te){return new o(l,c,N[te],z,q[te].text,void 0,q[te].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var W=d.reduce(function(te,K){return te[K.name]=K.align,te},{});for(h=0;h<u.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:u[h]},this);var F=s.call(this,u[h],N);for(g=0;g<y.length;g+=1){var B=u[h][y[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:B},this),a.call(this,new o(l,c,N[y[g]],F,B,h+2,W[y[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var m=l[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/p+u+u},this).reduce(function(h,m){return Math.max(h,m)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(_t.API);var NZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],BO=EZ(AZ),kZ=[100,200,300,400,500,600,700,800,900],f8e=EZ(kZ);function $5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return NZ[o=o||"normal"]?o:"normal"}(e.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(e.weight),i=function(o){return typeof BO[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function DF(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var h8e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$F={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function BF(e){return e.trimLeft()}function p8e(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function m8e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var xx,zF,UF,ap,wx,HF,qF,WF,F5=["times"];function VF(e,t,n,r,i){var o=4,a=GF;switch(i){case _t.API.image_compression.FAST:o=1,a=KF;break;case _t.API.image_compression.MEDIUM:o=6,a=YF;break;case _t.API.image_compression.SLOW:o=9,a=XF}e=function(l,c,u,d){for(var p,h=l.length/c,m=new Uint8Array(l.length+h),g=[g8e,KF,GF,YF,XF],v=0;v<h;v+=1){var y=v*c,x=l.subarray(y,y+c);if(d)m.set(d(x,u,p),y+v);else{for(var w=g.length,_=[],N=0;N<w;N+=1)_[N]=g[N](x,u,p);var k=y8e(_.concat());m.set(_[k],y+v)}p=x}return m}(e,t,Math.ceil(n*r/8),a);var s=kO(e,{level:o});return _t.API.__addimage__.arrayBufferToBinaryString(s)}function g8e(e){var t=Array.apply([],e);return t.unshift(0),t}function KF(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=e[i-t]||0;r[i+1]=e[i]-o+256&255}return r}function GF(e,t,n){var r=e.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var a=n&&n[o]||0;i[o+1]=e[o]-a+256&255}return i}function YF(e,t,n){var r=e.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var a=e[o-t]||0,s=n&&n[o]||0;i[o+1]=e[o]+256-(a+s>>>1)&255}return i}function XF(e,t,n){var r=e.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var a=v8e(e[o-t]||0,n&&n[o]||0,n&&n[o-t]||0);i[o+1]=e[o]-a+256&255}return i}function v8e(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n}function y8e(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function B5(e,t,n){var r=t*n,i=Math.floor(r/8),o=16-(r-8*i+n),a=(1<<n)-1;return CZ(e,i)>>o&a}function QF(e,t,n,r){var i=n*r,o=Math.floor(i/8),a=16-(i-8*o+r),s=(1<<r)-1,l=(t&s)<<a;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var p=d>>8&255;c.setUint8(u,p)}})(e,o,CZ(e,o)&~(s<<a)&65535|l)}function CZ(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function b8e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,a=1<<1+(7&i);e[t++],e[t++];var s=null,l=null;o&&(s=t,l=a,t+=3*a);var c=!0,u=[],d=0,p=null,h=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++],N=_>>6&1,k=1<<1+(7&_),O=s,E=l,C=!1;_>>7&&(C=!0,O=t,E=k,t+=3*k);var L=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}u.push({x:v,y,width:x,height:w,has_local_palette:C,palette_offset:O,palette_size:E,data_offset:L,data_length:t-L,transparent_index:p,interlaced:!!N,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,j){var D=this.frameInfo(I),q=D.width*D.height,z=new Uint8Array(q);ZF(e,D.data_offset,z,q);var W=D.palette_offset,F=D.transparent_index;F===null&&(F=256);var B=D.width,te=n-B,K=B,R=4*(D.y*n+D.x),U=4*((D.y+D.height)*n+D.x),Y=R,Z=4*te;D.interlaced===!0&&(Z+=4*n*7);for(var ae=8,se=0,ce=z.length;se<ce;++se){var ne=z[se];if(K===0&&(K=B,(Y+=Z)>=U&&(Z=4*te+4*n*(ae-1),Y=R+(B+te)*(ae<<1),ae>>=1)),ne===F)Y+=4;else{var de=e[W+3*ne],he=e[W+3*ne+1],ue=e[W+3*ne+2];j[Y++]=ue,j[Y++]=he,j[Y++]=de,j[Y++]=255}--K}},this.decodeAndBlitFrameRGBA=function(I,j){var D=this.frameInfo(I),q=D.width*D.height,z=new Uint8Array(q);ZF(e,D.data_offset,z,q);var W=D.palette_offset,F=D.transparent_index;F===null&&(F=256);var B=D.width,te=n-B,K=B,R=4*(D.y*n+D.x),U=4*((D.y+D.height)*n+D.x),Y=R,Z=4*te;D.interlaced===!0&&(Z+=4*n*7);for(var ae=8,se=0,ce=z.length;se<ce;++se){var ne=z[se];if(K===0&&(K=B,(Y+=Z)>=U&&(Z=4*te+4*n*(ae-1),Y=R+(B+te)*(ae<<1),ae>>=1)),ne===F)Y+=4;else{var de=e[W+3*ne],he=e[W+3*ne+1],ue=e[W+3*ne+2];j[Y++]=de,j[Y++]=he,j[Y++]=ue,j[Y++]=255}--K}}}function ZF(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,l=i+1,c=(1<<l)-1,u=0,d=0,p=0,h=e[t++],m=new Int32Array(4096),g=null;;){for(;u<16&&h!==0;)d|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<l)break;var v=d&c;if(d>>=l,u-=l,v!==o){if(v===a)break;for(var y=v<s?v:g,x=0,w=y;w>o;)w=m[w]>>8,++x;var _=w;if(p+x+(y!==v?1:0)>r)return void zn.log("Warning, gif stream longer than expected.");n[p++]=_;var N=p+=x;for(y!==v&&(n[p++]=_),w=y;x--;)w=m[w],n[--N]=255&w,w>>=8;g!==null&&s<4096&&(m[s++]=g<<8|_,s>=c+1&&l<12&&(++l,c=c<<1|1)),g=v}else s=a+1,c=(1<<(l=i+1))-1,g=null}return p!==r&&zn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function z5(e){var t,n,r,i,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),h=new Array(64),m=new Array(64),g=[],v=0,y=7,x=new Array(64),w=new Array(64),_=new Array(64),N=new Array(256),k=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(R,U){for(var Y=0,Z=0,ae=new Array,se=1;se<=16;se++){for(var ce=1;ce<=R[se];ce++)ae[U[Z]]=[],ae[U[Z]][0]=Y,ae[U[Z]][1]=se,Z++,Y++;Y*=2}return ae}function W(R){for(var U=R[0],Y=R[1]-1;Y>=0;)U&1<<Y&&(v|=1<<y),Y--,--y<0&&(v==255?(F(255),F(0)):F(v),y=7,v=0)}function F(R){g.push(R)}function B(R){F(R>>8&255),F(255&R)}function te(R,U,Y,Z,ae){for(var se,ce=ae[0],ne=ae[240],de=function(Ae,He){var je,nt,et,xt,lt,Ee,$e,ze,Ve,rt,Je=0;for(Ve=0;Ve<8;++Ve){je=Ae[Je],nt=Ae[Je+1],et=Ae[Je+2],xt=Ae[Je+3],lt=Ae[Je+4],Ee=Ae[Je+5],$e=Ae[Je+6];var qt=je+(ze=Ae[Je+7]),Gt=je-ze,ft=nt+$e,Dt=nt-$e,kn=et+Ee,Ot=et-Ee,rn=xt+lt,$t=xt-lt,ur=qt+rn,le=qt-rn,Be=ft+kn,tt=ft-kn;Ae[Je]=ur+Be,Ae[Je+4]=ur-Be;var an=.707106781*(tt+le);Ae[Je+2]=le+an,Ae[Je+6]=le-an;var $l=.382683433*((ur=$t+Ot)-(tt=Dt+Gt)),ui=.5411961*ur+$l,as=1.306562965*tt+$l,Co=.707106781*(Be=Ot+Dt),wt=Gt+Co,Xr=Gt-Co;Ae[Je+5]=Xr+ui,Ae[Je+3]=Xr-ui,Ae[Je+1]=wt+as,Ae[Je+7]=wt-as,Je+=8}for(Je=0,Ve=0;Ve<8;++Ve){je=Ae[Je],nt=Ae[Je+8],et=Ae[Je+16],xt=Ae[Je+24],lt=Ae[Je+32],Ee=Ae[Je+40],$e=Ae[Je+48];var so=je+(ze=Ae[Je+56]),Ko=je-ze,lo=nt+$e,Qn=nt-$e,di=et+Ee,_i=et-Ee,Ld=xt+lt,Uc=xt-lt,ss=so+Ld,Ks=so-Ld,ls=lo+di,cs=lo-di;Ae[Je]=ss+ls,Ae[Je+32]=ss-ls;var Sa=.707106781*(cs+Ks);Ae[Je+16]=Ks+Sa,Ae[Je+48]=Ks-Sa;var Dd=.382683433*((ss=Uc+_i)-(cs=Qn+Ko)),Gs=.5411961*ss+Dd,$d=1.306562965*cs+Dd,Lh=.707106781*(ls=_i+Qn),Dh=Ko+Lh,$h=Ko-Lh;Ae[Je+40]=$h+Gs,Ae[Je+24]=$h-Gs,Ae[Je+8]=Dh+$d,Ae[Je+56]=Dh-$d,Je++}for(Ve=0;Ve<64;++Ve)rt=Ae[Ve]*He[Ve],h[Ve]=rt>0?rt+.5|0:rt-.5|0;return h}(R,U),he=0;he<64;++he)m[O[he]]=de[he];var ue=m[0]-Y;Y=m[0],ue==0?W(Z[0]):(W(Z[p[se=32767+ue]]),W(d[se]));for(var Ne=63;Ne>0&&m[Ne]==0;)Ne--;if(Ne==0)return W(ce),Y;for(var pe,J=1;J<=Ne;){for(var ke=J;m[J]==0&&J<=Ne;)++J;var Ke=J-ke;if(Ke>=16){pe=Ke>>4;for(var _e=1;_e<=pe;++_e)W(ne);Ke&=15}se=32767+m[J],W(ae[(Ke<<4)+p[se]]),W(d[se]),J++}return Ne!=63&&W(ce),Y}function K(R){R=Math.min(Math.max(R,1),100),o!=R&&(function(U){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ae=a((Y[Z]*U+50)/100);ae=Math.min(Math.max(ae,1),255),s[O[Z]]=ae}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ne=a((se[ce]*U+50)/100);ne=Math.min(Math.max(ne,1),255),l[O[ce]]=ne}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],he=0,ue=0;ue<8;ue++)for(var Ne=0;Ne<8;Ne++)c[he]=1/(s[O[he]]*de[ue]*de[Ne]*8),u[he]=1/(l[O[he]]*de[ue]*de[Ne]*8),he++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,U){U&&K(U),g=new Array,v=0,y=7,B(65496),B(65504),B(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),B(1),B(1),F(0),F(0),function(){B(65499),B(132),F(0);for(var nt=0;nt<64;nt++)F(s[nt]);F(1);for(var et=0;et<64;et++)F(l[et])}(),function(nt,et){B(65472),B(17),F(8),B(et),B(nt),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}(R.width,R.height),function(){B(65476),B(418),F(0);for(var nt=0;nt<16;nt++)F(E[nt+1]);for(var et=0;et<=11;et++)F(C[et]);F(16);for(var xt=0;xt<16;xt++)F(L[xt+1]);for(var lt=0;lt<=161;lt++)F(M[lt]);F(1);for(var Ee=0;Ee<16;Ee++)F(I[Ee+1]);for(var $e=0;$e<=11;$e++)F(j[$e]);F(17);for(var ze=0;ze<16;ze++)F(D[ze+1]);for(var Ve=0;Ve<=161;Ve++)F(q[Ve])}(),B(65498),B(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var Y=0,Z=0,ae=0;v=0,y=7,this.encode.displayName="_encode_";for(var se,ce,ne,de,he,ue,Ne,pe,J,ke=R.data,Ke=R.width,_e=R.height,Ae=4*Ke,He=0;He<_e;){for(se=0;se<Ae;){for(he=Ae*He+se,Ne=-1,pe=0,J=0;J<64;J++)ue=he+(pe=J>>3)*Ae+(Ne=4*(7&J)),He+pe>=_e&&(ue-=Ae*(He+1+pe-_e)),se+Ne>=Ae&&(ue-=se+Ne-Ae+4),ce=ke[ue++],ne=ke[ue++],de=ke[ue++],x[J]=(k[ce]+k[ne+256|0]+k[de+512|0]>>16)-128,w[J]=(k[ce+768|0]+k[ne+1024|0]+k[de+1280|0]>>16)-128,_[J]=(k[ce+1280|0]+k[ne+1536|0]+k[de+1792|0]>>16)-128;Y=te(x,c,Y,t,r),Z=te(w,u,Z,n,i),ae=te(_,u,ae,n,i),se+=32}He+=8}if(y>=0){var je=[];je[1]=y+1,je[0]=(1<<y+1)-1,W(je)}return B(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,U=0;U<256;U++)N[U]=R(U)}(),t=z(E,C),n=z(I,j),r=z(L,M),i=z(D,q),function(){for(var R=1,U=2,Y=1;Y<=15;Y++){for(var Z=R;Z<U;Z++)p[32767+Z]=Y,d[32767+Z]=[],d[32767+Z][1]=Y,d[32767+Z][0]=Z;for(var ae=-(U-1);ae<=-R;ae++)p[32767+ae]=Y,d[32767+ae]=[],d[32767+ae][1]=Y,d[32767+ae][0]=U-1+ae;R<<=1,U<<=1}}(),function(){for(var R=0;R<256;R++)k[R]=19595*R,k[R+256|0]=38470*R,k[R+512|0]=7471*R+32768,k[R+768|0]=-11059*R,k[R+1024|0]=-21709*R,k[R+1280|0]=32768*R+8421375,k[R+1536|0]=-27439*R,k[R+1792|0]=-5329*R}(),K(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JF(e){function t(C){if(!C)throw Error("assert :P")}function n(C,L,M){for(var I=0;4>I;I++)if(C[L+I]!=M.charCodeAt(I))return!0;return!1}function r(C,L,M,I,j){for(var D=0;D<j;D++)C[L+D]=M[I+D]}function i(C,L,M,I){for(var j=0;j<I;j++)C[L+j]=M}function o(C){return new Int32Array(C)}function a(C,L){for(var M=[],I=0;I<C;I++)M.push(new L);return M}function s(C,L){var M=[];return function I(j,D,q){for(var z=q[D],W=0;W<z&&(j.push(q.length>D+1?[]:new L),!(q.length<D+1));W++)I(j[W],D+1,q)}(M,0,C),M}var l=function(){var C=this;function L(b,S){for(var P=1<<S-1>>>0;b&P;)P>>>=1;return P?(b&P-1)+P:b}function M(b,S,P,$,V){t(!($%P));do b[S+($-=P)]=V;while(0<$)}function I(b,S,P,$,V){if(t(2328>=V),512>=V)var G=o(512);else if((G=o(V))==null)return 0;return function(X,Q,ee,re,ge,Se){var ie,ye,xe=Q,Ce=1<<ee,we=o(16),Oe=o(16);for(t(ge!=0),t(re!=null),t(X!=null),t(0<ee),ye=0;ye<ge;++ye){if(15<re[ye])return 0;++we[re[ye]]}if(we[0]==ge)return 0;for(Oe[1]=0,ie=1;15>ie;++ie){if(we[ie]>1<<ie)return 0;Oe[ie+1]=Oe[ie]+we[ie]}for(ye=0;ye<ge;++ye)ie=re[ye],0<re[ye]&&(Se[Oe[ie]++]=ye);if(Oe[15]==1)return(re=new j).g=0,re.value=Se[0],M(X,xe,1,Ce,re),Ce;var Pe,Ue=-1,Le=Ce-1,St=0,ct=1,Yt=1,pt=1<<ee;for(ye=0,ie=1,ge=2;ie<=ee;++ie,ge<<=1){if(ct+=Yt<<=1,0>(Yt-=we[ie]))return 0;for(;0<we[ie];--we[ie])(re=new j).g=ie,re.value=Se[ye++],M(X,xe+St,ge,pt,re),St=L(St,ie)}for(ie=ee+1,ge=2;15>=ie;++ie,ge<<=1){if(ct+=Yt<<=1,0>(Yt-=we[ie]))return 0;for(;0<we[ie];--we[ie]){if(re=new j,(St&Le)!=Ue){for(xe+=pt,Pe=1<<(Ue=ie)-ee;15>Ue&&!(0>=(Pe-=we[Ue]));)++Ue,Pe<<=1;Ce+=pt=1<<(Pe=Ue-ee),X[Q+(Ue=St&Le)].g=Pe+ee,X[Q+Ue].value=xe-Q-Ue}re.g=ie-ee,re.value=Se[ye++],M(X,xe+(St>>ee),ge,pt,re),St=L(St,ie)}}return ct!=2*Oe[15]-1?0:Ce}(b,S,P,$,V,G)}function j(){this.value=this.g=0}function D(){this.value=this.g=0}function q(){this.G=a(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(tf,D)}function z(b,S,P,$){t(b!=null),t(S!=null),t(2147483648>$),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=S,b.pa=P,b.Jd=S,b.Yc=P+$,b.Zc=4<=$?P+$-4+1:P,ce(b)}function W(b,S){for(var P=0;0<S--;)P|=de(b,128)<<S;return P}function F(b,S){var P=W(b,S);return ne(b)?-P:P}function B(b,S,P,$){var V,G=0;for(t(b!=null),t(S!=null),t(4294967288>$),b.Sb=$,b.Ra=0,b.u=0,b.h=0,4<$&&($=4),V=0;V<$;++V)G+=S[P+V]<<8*V;b.Ra=G,b.bb=$,b.oa=S,b.pa=P}function te(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Kc-8>>>0,++b.bb,b.u-=8;Z(b)&&(b.h=1,b.u=0)}function K(b,S){if(t(0<=S),!b.h&&S<=Yo){var P=Y(b)&Go[S];return b.u+=S,te(b),P}return b.h=1,b.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(b){return b.Ra>>>(b.u&Kc-1)>>>0}function Z(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Kc}function ae(b,S){b.u=S,b.h=Z(b)}function se(b){b.u>=Wl&&(t(b.u>=Wl),te(b))}function ce(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ne(b){return W(b,1)}function de(b,S){var P=b.Ca;0>b.b&&ce(b);var $=b.b,V=P*S>>>8,G=(b.I>>>$>V)+0;for(G?(P-=V,b.I-=V+1<<$>>>0):P=V+1,$=P,V=0;256<=$;)V+=8,$>>=8;return $=7^V+Gc[$],b.b-=$,b.Ca=(P<<$)-1,G}function he(b,S,P){b[S+0]=P>>24&255,b[S+1]=P>>16&255,b[S+2]=P>>8&255,b[S+3]=255&P}function ue(b,S){return b[S+0]|b[S+1]<<8}function Ne(b,S){return ue(b,S)|b[S+2]<<16}function pe(b,S){return ue(b,S)|ue(b,S+2)<<16}function J(b,S){var P=1<<S;return t(b!=null),t(0<S),b.X=o(P),b.X==null?0:(b.Mb=32-S,b.Xa=S,1)}function ke(b,S){t(b!=null),t(S!=null),t(b.Xa==S.Xa),r(S.X,0,b.X,0,1<<S.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function _e(b,S,P,$){t(P!=null),t($!=null);var V=P[0],G=$[0];return V==0&&(V=(b*G+S/2)/S),G==0&&(G=(S*V+b/2)/b),0>=V||0>=G?0:(P[0]=V,$[0]=G,1)}function Ae(b,S){return b+(1<<S)-1>>>S}function He(b,S){return((4278255360&b)+(4278255360&S)>>>0&4278255360)+((16711935&b)+(16711935&S)>>>0&16711935)>>>0}function je(b,S){C[S]=function(P,$,V,G,X,Q,ee){var re;for(re=0;re<X;++re){var ge=C[b](Q[ee+re-1],V,G+re);Q[ee+re]=He(P[$+re],ge)}}}function nt(){this.ud=this.hd=this.jd=0}function et(b,S){return((4278124286&(b^S))>>>1)+(b&S)>>>0}function xt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function lt(b,S){return xt(b+(b-S+.5>>1))}function Ee(b,S,P){return Math.abs(S-P)-Math.abs(b-P)}function $e(b,S,P,$,V,G,X){for($=G[X-1],P=0;P<V;++P)G[X+P]=$=He(b[S+P],$)}function ze(b,S,P,$,V){var G;for(G=0;G<P;++G){var X=b[S+G],Q=X>>8&255,ee=16711935&(ee=(ee=16711935&X)+((Q<<16)+Q));$[V+G]=(4278255360&X)+ee>>>0}}function Ve(b,S){S.jd=255&b,S.hd=b>>8&255,S.ud=b>>16&255}function rt(b,S,P,$,V,G){var X;for(X=0;X<$;++X){var Q=S[P+X],ee=Q>>>8,re=Q,ge=255&(ge=(ge=Q>>>16)+((b.jd<<24>>24)*(ee<<24>>24)>>>5));re=255&(re=(re+=(b.hd<<24>>24)*(ee<<24>>24)>>>5)+((b.ud<<24>>24)*(ge<<24>>24)>>>5)),V[G+X]=(4278255360&Q)+(ge<<16)+re}}function Je(b,S,P,$,V){C[S]=function(G,X,Q,ee,re,ge,Se,ie,ye){for(ee=Se;ee<ie;++ee)for(Se=0;Se<ye;++Se)re[ge++]=V(Q[$(G[X++])])},C[b]=function(G,X,Q,ee,re,ge,Se){var ie=8>>G.b,ye=G.Ea,xe=G.K[0],Ce=G.w;if(8>ie)for(G=(1<<G.b)-1,Ce=(1<<ie)-1;X<Q;++X){var we,Oe=0;for(we=0;we<ye;++we)we&G||(Oe=$(ee[re++])),ge[Se++]=V(xe[Oe&Ce]),Oe>>=ie}else C["VP8LMapColor"+P](ee,re,xe,Ce,ge,Se,X,Q,ye)}}function qt(b,S,P,$,V){for(P=S+P;S<P;){var G=b[S++];$[V++]=G>>16&255,$[V++]=G>>8&255,$[V++]=255&G}}function Gt(b,S,P,$,V){for(P=S+P;S<P;){var G=b[S++];$[V++]=G>>16&255,$[V++]=G>>8&255,$[V++]=255&G,$[V++]=G>>24&255}}function ft(b,S,P,$,V){for(P=S+P;S<P;){var G=(X=b[S++])>>16&240|X>>12&15,X=240&X|X>>28&15;$[V++]=G,$[V++]=X}}function Dt(b,S,P,$,V){for(P=S+P;S<P;){var G=(X=b[S++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;$[V++]=G,$[V++]=X}}function kn(b,S,P,$,V){for(P=S+P;S<P;){var G=b[S++];$[V++]=255&G,$[V++]=G>>8&255,$[V++]=G>>16&255}}function Ot(b,S,P,$,V,G){if(G==0)for(P=S+P;S<P;)he($,((G=b[S++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),V+=32;else r($,V,b,S,P)}function rn(b,S){C[S][0]=C[b+"0"],C[S][1]=C[b+"1"],C[S][2]=C[b+"2"],C[S][3]=C[b+"3"],C[S][4]=C[b+"4"],C[S][5]=C[b+"5"],C[S][6]=C[b+"6"],C[S][7]=C[b+"7"],C[S][8]=C[b+"8"],C[S][9]=C[b+"9"],C[S][10]=C[b+"10"],C[S][11]=C[b+"11"],C[S][12]=C[b+"12"],C[S][13]=C[b+"13"],C[S][14]=C[b+"0"],C[S][15]=C[b+"0"]}function $t(b){return b==ON||b==MN||b==h1||b==PN}function ur(){this.eb=[],this.size=this.A=this.fb=0}function le(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Be(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ur,this.f.kb=new le,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $l(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function ui(b,S){var P=b.T,$=S.ba.f.RGBA,V=$.eb,G=$.fb+b.ka*$.A,X=Ca[S.ba.S],Q=b.y,ee=b.O,re=b.f,ge=b.N,Se=b.ea,ie=b.W,ye=S.cc,xe=S.dc,Ce=S.Mc,we=S.Nc,Oe=b.ka,Pe=b.ka+b.T,Ue=b.U,Le=Ue+1>>1;for(Oe==0?X(Q,ee,null,null,re,ge,Se,ie,re,ge,Se,ie,V,G,null,null,Ue):(X(S.ec,S.fc,Q,ee,ye,xe,Ce,we,re,ge,Se,ie,V,G-$.A,V,G,Ue),++P);Oe+2<Pe;Oe+=2)ye=re,xe=ge,Ce=Se,we=ie,ge+=b.Rc,ie+=b.Rc,G+=2*$.A,X(Q,(ee+=2*b.fa)-b.fa,Q,ee,ye,xe,Ce,we,re,ge,Se,ie,V,G-$.A,V,G,Ue);return ee+=b.fa,b.j+Pe<b.o?(r(S.ec,S.fc,Q,ee,Ue),r(S.cc,S.dc,re,ge,Le),r(S.Mc,S.Nc,Se,ie,Le),P--):1&Pe||X(Q,ee,null,null,re,ge,Se,ie,re,ge,Se,ie,V,G+$.A,null,null,Ue),P}function as(b,S,P){var $=b.F,V=[b.J];if($!=null){var G=b.U,X=S.ba.S,Q=X==f1||X==h1;S=S.ba.f.RGBA;var ee=[0],re=b.ka;ee[0]=b.T,b.Kb&&(re==0?--ee[0]:(--re,V[0]-=b.width),b.j+b.ka+b.T==b.o&&(ee[0]=b.o-b.j-re));var ge=S.eb;re=S.fb+re*S.A,b=KR($,V[0],b.width,G,ee,ge,re+(Q?0:3),S.A),t(P==ee),b&&$t(X)&&uv(ge,re,Q,G,ee,S.A)}return 0}function Co(b){var S=b.ma,P=S.ba.S,$=11>P,V=P==u1||P==d1||P==f1||P==TN||P==12||$t(P);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!nv(S.Oa,b,V?11:12))return 0;if(V&&$t(P)&&i1(),b.da)alert("todo:use_scaling");else{if($){if(S.Ib=$l,b.Kb){if(P=b.U+1>>1,S.memory=o(b.U+2*P),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+b.U,S.Mc=S.cc,S.Nc=S.dc+P,S.Ib=ui,i1()}}else alert("todo:EmitYUV");V&&(S.Jb=as,$&&Ea())}if($&&!u4){for(b=0;256>b;++b)xne[b]=89858*(b-128)+m1>>p1,_ne[b]=-22014*(b-128)+m1,Sne[b]=-45773*(b-128),wne[b]=113618*(b-128)+m1>>p1;for(b=fv;b<IN;++b)S=76283*(b-16)+m1>>p1,Ene[b-fv]=mr(S,255),Nne[b-fv]=mr(S+8>>4,15);u4=1}return 1}function wt(b){var S=b.ma,P=b.U,$=b.T;return t(!(1&b.ka)),0>=P||0>=$?0:(P=S.Ib(b,S),S.Jb!=null&&S.Jb(b,S,P),S.Dc+=P,1)}function Xr(b){b.ma.memory=null}function so(b,S,P,$){return K(b,8)!=47?0:(S[0]=K(b,14)+1,P[0]=K(b,14)+1,$[0]=K(b,1),K(b,3)!=0?0:!b.h)}function Ko(b,S){if(4>b)return b+1;var P=b-2>>1;return(2+(1&b)<<P)+K(S,P)+1}function lo(b,S){return 120<S?S-120:1<=(P=((P=ane[S-1])>>4)*b+(8-(15&P)))?P:1;var P}function Qn(b,S,P){var $=Y(P),V=b[S+=255&$].g-8;return 0<V&&(ae(P,P.u+8),$=Y(P),S+=b[S].value,S+=$&(1<<V)-1),ae(P,P.u+b[S].g),b[S].value}function di(b,S,P){return P.g+=b.g,P.value+=b.value<<S>>>0,t(8>=P.g),b.g}function _i(b,S,P){var $=b.xc;return t((S=$==0?0:b.vc[b.md*(P>>$)+(S>>$)])<b.Wb),b.Ya[S]}function Ld(b,S,P,$){var V=b.ab,G=b.c*S,X=b.C;S=X+S;var Q=P,ee=$;for($=b.Ta,P=b.Ua;0<V--;){var re=b.gc[V],ge=X,Se=S,ie=Q,ye=ee,xe=(ee=$,Q=P,re.Ea);switch(t(ge<Se),t(Se<=re.nc),re.hc){case 2:Cr(ie,ye,(Se-ge)*xe,ee,Q);break;case 0:var Ce=ge,we=Se,Oe=ee,Pe=Q,Ue=(pt=re).Ea;Ce==0&&(iv(ie,ye,null,null,1,Oe,Pe),$e(ie,ye+1,0,0,Ue-1,Oe,Pe+1),ye+=Ue,Pe+=Ue,++Ce);for(var Le=1<<pt.b,St=Le-1,ct=Ae(Ue,pt.b),Yt=pt.K,pt=pt.w+(Ce>>pt.b)*ct;Ce<we;){var ln=Yt,Jr=pt,Xt=1;for(Vh(ie,ye,Oe,Pe-Ue,1,Oe,Pe);Xt<Ue;){var mt=(Xt&~St)+Le;mt>Ue&&(mt=Ue),(0,av[ln[Jr++]>>8&15])(ie,ye+ +Xt,Oe,Pe+Xt-Ue,mt-Xt,Oe,Pe+Xt),Xt=mt}ye+=Ue,Pe+=Ue,++Ce&St||(pt+=ct)}Se!=re.nc&&r(ee,Q-xe,ee,Q+(Se-ge-1)*xe,xe);break;case 1:for(xe=ie,we=ye,Ue=(ie=re.Ea)-(Pe=ie&~(Oe=(ye=1<<re.b)-1)),Ce=Ae(ie,re.b),Le=re.K,re=re.w+(ge>>re.b)*Ce;ge<Se;){for(St=Le,ct=re,Yt=new nt,pt=we+Pe,ln=we+ie;we<pt;)Ve(St[ct++],Yt),sv(Yt,xe,we,ye,ee,Q),we+=ye,Q+=ye;we<ln&&(Ve(St[ct++],Yt),sv(Yt,xe,we,Ue,ee,Q),we+=Ue,Q+=Ue),++ge&Oe||(re+=Ce)}break;case 3:if(ie==ee&&ye==Q&&0<re.b){for(we=ee,ie=xe=Q+(Se-ge)*xe-(Pe=(Se-ge)*Ae(re.Ea,re.b)),ye=ee,Oe=Q,Ce=[],Pe=(Ue=Pe)-1;0<=Pe;--Pe)Ce[Pe]=ye[Oe+Pe];for(Pe=Ue-1;0<=Pe;--Pe)we[ie+Pe]=Ce[Pe];a1(re,ge,Se,ee,xe,ee,Q)}else a1(re,ge,Se,ie,ye,ee,Q)}Q=$,ee=P}ee!=P&&r($,P,Q,ee,G)}function Uc(b,S){var P=b.V,$=b.Ba+b.c*b.C,V=S-b.C;if(t(S<=b.l.o),t(16>=V),0<V){var G=b.l,X=b.Ta,Q=b.Ua,ee=G.width;if(Ld(b,V,P,$),V=Q=[Q],t((P=b.C)<($=S)),t(G.v<G.va),$>G.o&&($=G.o),P<G.j){var re=G.j-P;P=G.j,V[0]+=re*ee}if(P>=$?P=0:(V[0]+=4*G.v,G.ka=P-G.j,G.U=G.va-G.v,G.T=$-P,P=1),P){if(Q=Q[0],11>(P=b.ca).S){var ge=P.f.RGBA,Se=($=P.S,V=G.U,G=G.T,re=ge.eb,ge.A),ie=G;for(ge=ge.fb+b.Ma*ge.A;0<ie--;){var ye=X,xe=Q,Ce=V,we=re,Oe=ge;switch($){case c1:lv(ye,xe,Ce,we,Oe);break;case u1:Yc(ye,xe,Ce,we,Oe);break;case ON:Yc(ye,xe,Ce,we,Oe),uv(we,Oe,0,Ce,1,0);break;case e4:nf(ye,xe,Ce,we,Oe);break;case d1:Ot(ye,xe,Ce,we,Oe,1);break;case MN:Ot(ye,xe,Ce,we,Oe,1),uv(we,Oe,0,Ce,1,0);break;case f1:Ot(ye,xe,Ce,we,Oe,0);break;case h1:Ot(ye,xe,Ce,we,Oe,0),uv(we,Oe,1,Ce,1,0);break;case TN:Xc(ye,xe,Ce,we,Oe);break;case PN:Xc(ye,xe,Ce,we,Oe),VR(we,Oe,Ce,1,0);break;case t4:Qc(ye,xe,Ce,we,Oe);break;default:t(0)}Q+=ee,ge+=Se}b.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=P.height)}}b.C=S,t(b.C<=b.i)}function ss(b){var S;if(0<b.ua)return 0;for(S=0;S<b.Wb;++S){var P=b.Ya[S].G,$=b.Ya[S].H;if(0<P[1][$[1]+0].g||0<P[2][$[2]+0].g||0<P[3][$[3]+0].g)return 0}return 1}function Ks(b,S,P,$,V,G){if(b.Z!=0){var X=b.qd,Q=b.rd;for(t(eu[b.Z]!=null);S<P;++S)eu[b.Z](X,Q,$,V,$,V,G),X=$,Q=V,V+=G;b.qd=X,b.rd=Q}}function ls(b,S){var P=b.l.ma,$=P.Z==0||P.Z==1?b.l.j:b.C;if($=b.C<$?$:b.C,t(S<=b.l.o),S>$){var V=b.l.width,G=P.ca,X=P.tb+V*$,Q=b.V,ee=b.Ba+b.c*$,re=b.gc;t(b.ab==1),t(re[0].hc==3),Qs(re[0],$,S,Q,ee,G,X),Ks(P,$,S,G,X,V)}b.C=b.Ma=S}function cs(b,S,P,$,V,G,X){var Q=b.$/$,ee=b.$%$,re=b.m,ge=b.s,Se=P+b.$,ie=Se;V=P+$*V;var ye=P+$*G,xe=280+ge.ua,Ce=b.Pb?Q:16777216,we=0<ge.ua?ge.Wa:null,Oe=ge.wc,Pe=Se<ye?_i(ge,ee,Q):null;t(b.C<G),t(ye<=V);var Ue=!1;e:for(;;){for(;Ue||Se<ye;){var Le=0;if(Q>=Ce){var St=Se-P;t((Ce=b).Pb),Ce.wd=Ce.m,Ce.xd=St,0<Ce.s.ua&&ke(Ce.s.Wa,Ce.s.vb),Ce=Q+lne}if(ee&Oe||(Pe=_i(ge,ee,Q)),t(Pe!=null),Pe.Qb&&(S[Se]=Pe.qb,Ue=!0),!Ue)if(se(re),Pe.jc){Le=re,St=S;var ct=Se,Yt=Pe.pd[Y(Le)&tf-1];t(Pe.jc),256>Yt.g?(ae(Le,Le.u+Yt.g),St[ct]=Yt.value,Le=0):(ae(Le,Le.u+Yt.g-256),t(256<=Yt.value),Le=Yt.value),Le==0&&(Ue=!0)}else Le=Qn(Pe.G[0],Pe.H[0],re);if(re.h)break;if(Ue||256>Le){if(!Ue)if(Pe.nd)S[Se]=(Pe.qb|Le<<8)>>>0;else{if(se(re),Ue=Qn(Pe.G[1],Pe.H[1],re),se(re),St=Qn(Pe.G[2],Pe.H[2],re),ct=Qn(Pe.G[3],Pe.H[3],re),re.h)break;S[Se]=(ct<<24|Ue<<16|Le<<8|St)>>>0}if(Ue=!1,++Se,++ee>=$&&(ee=0,++Q,X!=null&&Q<=G&&!(Q%16)&&X(b,Q),we!=null))for(;ie<Se;)Le=S[ie++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else if(280>Le){if(Le=Ko(Le-256,re),St=Qn(Pe.G[4],Pe.H[4],re),se(re),St=lo($,St=Ko(St,re)),re.h)break;if(Se-P<St||V-Se<Le)break e;for(ct=0;ct<Le;++ct)S[Se+ct]=S[Se+ct-St];for(Se+=Le,ee+=Le;ee>=$;)ee-=$,++Q,X!=null&&Q<=G&&!(Q%16)&&X(b,Q);if(t(Se<=V),ee&Oe&&(Pe=_i(ge,ee,Q)),we!=null)for(;ie<Se;)Le=S[ie++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else{if(!(Le<xe))break e;for(Ue=Le-280,t(we!=null);ie<Se;)Le=S[ie++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le;Le=Se,t(!(Ue>>>(St=we).Xa)),S[Le]=St.X[Ue],Ue=!0}Ue||t(re.h==Z(re))}if(b.Pb&&re.h&&Se<V)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ke(b.s.vb,b.s.Wa);else{if(re.h)break e;X!=null&&X(b,Q>G?G:Q),b.a=0,b.$=Se-P}return 1}return b.a=3,0}function Sa(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var S=b.Wa;S!=null&&(S.X=null),b.vb=null,t(b!=null)}function Dd(){var b=new yt;return b==null?null:(b.a=0,b.xb=i4,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),Cr=ze,sv=rt,lv=qt,Yc=Gt,Xc=ft,Qc=Dt,nf=kn,C.VP8LMapColor32b=Xs,C.VP8LMapColor8b=ov,b)}function Gs(b,S,P,$,V){var G=1,X=[b],Q=[S],ee=$.m,re=$.s,ge=null,Se=0;e:for(;;){if(P)for(;G&&K(ee,1);){var ie=X,ye=Q,xe=$,Ce=1,we=xe.m,Oe=xe.gc[xe.ab],Pe=K(we,2);if(xe.Oc&1<<Pe)G=0;else{switch(xe.Oc|=1<<Pe,Oe.hc=Pe,Oe.Ea=ie[0],Oe.nc=ye[0],Oe.K=[null],++xe.ab,t(4>=xe.ab),Pe){case 0:case 1:Oe.b=K(we,3)+2,Ce=Gs(Ae(Oe.Ea,Oe.b),Ae(Oe.nc,Oe.b),0,xe,Oe.K),Oe.K=Oe.K[0];break;case 3:var Ue,Le=K(we,8)+1,St=16<Le?0:4<Le?1:2<Le?2:3;if(ie[0]=Ae(Oe.Ea,St),Oe.b=St,Ue=Ce=Gs(Le,1,0,xe,Oe.K)){var ct,Yt=Le,pt=Oe,ln=1<<(8>>pt.b),Jr=o(ln);if(Jr==null)Ue=0;else{var Xt=pt.K[0],mt=pt.w;for(Jr[0]=pt.K[0][0],ct=1;ct<1*Yt;++ct)Jr[ct]=He(Xt[mt+ct],Jr[ct-1]);for(;ct<4*ln;++ct)Jr[ct]=0;pt.K[0]=null,pt.K[0]=Jr,Ue=1}}Ce=Ue;break;case 2:break;default:t(0)}G=Ce}}if(X=X[0],Q=Q[0],G&&K(ee,1)&&!(G=1<=(Se=K(ee,4))&&11>=Se)){$.a=3;break e}var Xe;if(Xe=G)t:{var Or,Wt,fn,Zn=$,Ni=X,co=Q,gr=Se,zi=P,uo=Zn.m,ei=Zn.s,hn=[null],Cn=1,vr=0,Tn=sne[gr];n:for(;;){if(zi&&K(uo,1)){var Ai=K(uo,3)+2,fs=Ae(Ni,Ai),Mr=Ae(co,Ai),Oo=fs*Mr;if(!Gs(fs,Mr,0,Zn,hn))break n;for(hn=hn[0],ei.xc=Ai,Or=0;Or<Oo;++Or){var Bn=hn[Or]>>8&65535;hn[Or]=Bn,Bn>=Cn&&(Cn=Bn+1)}}if(uo.h)break n;for(Wt=0;5>Wt;++Wt){var ti=n4[Wt];!Wt&&0<gr&&(ti+=1<<gr),vr<ti&&(vr=ti)}var Qo=a(Cn*Tn,j),fo=Cn,Zo=a(fo,q);if(Zo==null)var Jo=null;else t(65536>=fo),Jo=Zo;var Mo=o(vr);if(Jo==null||Mo==null||Qo==null){Zn.a=1;break n}var ea=Qo;for(Or=fn=0;Or<Cn;++Or){var Kn=Jo[Or],ta=Kn.G,hs=Kn.H,of=0,Gl=1,ki=0;for(Wt=0;5>Wt;++Wt){ti=n4[Wt],ta[Wt]=ea,hs[Wt]=fn,!Wt&&0<gr&&(ti+=1<<gr);i:{var v1,LN=ti,y1=Zn,hv=Mo,Cne=ea,Tne=fn,DN=0,tu=y1.m,One=K(tu,1);if(i(hv,0,0,LN),One){var Mne=K(tu,1)+1,Pne=K(tu,1),h4=K(tu,Pne==0?1:8);hv[h4]=1,Mne==2&&(hv[h4=K(tu,8)]=1);var b1=1}else{var p4=o(19),m4=K(tu,4)+4;if(19<m4){y1.a=3;var x1=0;break i}for(v1=0;v1<m4;++v1)p4[one[v1]]=K(tu,3);var $N=void 0,pv=void 0,g4=y1,jne=p4,w1=LN,v4=hv,FN=0,nu=g4.m,y4=8,b4=a(128,j);r:for(;I(b4,0,7,jne,19);){if(K(nu,1)){var Rne=2+2*K(nu,3);if(($N=2+K(nu,Rne))>w1)break r}else $N=w1;for(pv=0;pv<w1&&$N--;){se(nu);var x4=b4[0+(127&Y(nu))];ae(nu,nu.u+x4.g);var Gh=x4.value;if(16>Gh)v4[pv++]=Gh,Gh!=0&&(y4=Gh);else{var Ine=Gh==16,w4=Gh-16,Lne=rne[w4],S4=K(nu,nne[w4])+Lne;if(pv+S4>w1)break r;for(var Dne=Ine?y4:0;0<S4--;)v4[pv++]=Dne}}FN=1;break r}FN||(g4.a=3),b1=FN}(b1=b1&&!tu.h)&&(DN=I(Cne,Tne,8,hv,LN)),b1&&DN!=0?x1=DN:(y1.a=3,x1=0)}if(x1==0)break n;if(Gl&&ine[Wt]==1&&(Gl=ea[fn].g==0),of+=ea[fn].g,fn+=x1,3>=Wt){var mv,BN=Mo[0];for(mv=1;mv<ti;++mv)Mo[mv]>BN&&(BN=Mo[mv]);ki+=BN}}if(Kn.nd=Gl,Kn.Qb=0,Gl&&(Kn.qb=(ta[3][hs[3]+0].value<<24|ta[1][hs[1]+0].value<<16|ta[2][hs[2]+0].value)>>>0,of==0&&256>ta[0][hs[0]+0].value&&(Kn.Qb=1,Kn.qb+=ta[0][hs[0]+0].value<<8)),Kn.jc=!Kn.Qb&&6>ki,Kn.jc){var S1,Yl=Kn;for(S1=0;S1<tf;++S1){var ru=S1,iu=Yl.pd[ru],_1=Yl.G[0][Yl.H[0]+ru];256<=_1.value?(iu.g=_1.g+256,iu.value=_1.value):(iu.g=0,iu.value=0,ru>>=di(_1,8,iu),ru>>=di(Yl.G[1][Yl.H[1]+ru],16,iu),ru>>=di(Yl.G[2][Yl.H[2]+ru],0,iu),di(Yl.G[3][Yl.H[3]+ru],24,iu))}}}ei.vc=hn,ei.Wb=Cn,ei.Ya=Jo,ei.yc=Qo,Xe=1;break t}Xe=0}if(!(G=Xe)){$.a=3;break e}if(0<Se){if(re.ua=1<<Se,!J(re.Wa,Se)){$.a=1,G=0;break e}}else re.ua=0;var zN=$,_4=X,$ne=Q,UN=zN.s,HN=UN.xc;if(zN.c=_4,zN.i=$ne,UN.md=Ae(_4,HN),UN.wc=HN==0?-1:(1<<HN)-1,P){$.xb=mne;break e}if((ge=o(X*Q))==null){$.a=1,G=0;break e}G=(G=cs($,ge,0,X,Q,Q,null))&&!ee.h;break e}return G?(V!=null?V[0]=ge:(t(ge==null),t(P)),$.$=0,P||Sa(re)):Sa(re),G}function $d(b,S){var P=b.c*b.i,$=P+S+16*S;return t(b.c<=S),b.V=o($),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+P+S,1)}function Lh(b,S){var P=b.C,$=S-P,V=b.V,G=b.Ba+b.c*P;for(t(S<=b.l.o);0<$;){var X=16<$?16:$,Q=b.l.ma,ee=b.l.width,re=ee*X,ge=Q.ca,Se=Q.tb+ee*P,ie=b.Ta,ye=b.Ua;Ld(b,X,V,G),GR(ie,ye,ge,Se,re),Ks(Q,P,P+X,ge,Se,ee),$-=X,V+=X*b.c,P+=X}t(P==S),b.C=b.Ma=S}function Dh(){this.ub=this.yd=this.td=this.Rb=0}function $h(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fN(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ug(){this.Yb=function(){var b=[];return function S(P,$,V){for(var G=V[$],X=0;X<G&&(P.push(V.length>$+1?[]:0),!(V.length<$+1));X++)S(P[X],$+1,V)}(b,0,[3,11]),b}()}function Hb(){this.jb=o(3),this.Wc=s([4,8],Ug),this.Xc=s([4,17],Ug)}function qb(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function _a(){this.ld=this.La=this.dd=this.tc=0}function Hg(){this.Na=this.la=0}function Wb(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qg(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vb(){this.uc=this.M=this.Nb=0,this.wa=Array(new _a),this.Y=0,this.ya=Array(new qg),this.aa=0,this.l=new Fh}function Kb(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Gb(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Dh,this.Kc=new $h,this.ed=new qb,this.Qa=new fN,this.Ic=this.$c=this.Aa=0,this.D=new Vb,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,R),this.ia=0,this.pb=a(4,Wb),this.Pa=new Hb,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kb),this.Hd=0,this.rb=Array(new Hg),this.sb=0,this.wa=Array(new _a),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qg),this.L=this.aa=0,this.gd=s([4,2],_a),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hN(){var b=new Gb;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,dv||(dv=Fl)),b}function $r(b,S,P){return b.a==0&&(b.a=S,b.sc=P,b.cb=0),0}function Yb(b,S,P){return 3<=P&&b[S+0]==157&&b[S+1]==1&&b[S+2]==42}function Xb(b,S){if(b==null)return 0;if(b.a=0,b.sc="OK",S==null)return $r(b,2,"null VP8Io passed to VP8GetHeaders()");var P=S.data,$=S.w,V=S.ha;if(4>V)return $r(b,7,"Truncated header.");var G=P[$+0]|P[$+1]<<8|P[$+2]<<16,X=b.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return $r(b,3,"Incorrect keyframe parameters.");if(!X.yd)return $r(b,4,"Frame not displayable.");$+=3,V-=3;var Q=b.Kc;if(X.Rb){if(7>V)return $r(b,7,"cannot parse picture header");if(!Yb(P,$,V))return $r(b,3,"Bad code word");Q.c=16383&(P[$+4]<<8|P[$+3]),Q.Td=P[$+4]>>6,Q.i=16383&(P[$+6]<<8|P[$+5]),Q.Ud=P[$+6]>>6,$+=7,V-=7,b.za=Q.c+15>>4,b.Ub=Q.i+15>>4,S.width=Q.c,S.height=Q.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((G=b.Pa).jb,0,255,G.jb.length),t((G=b.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(X.ub>V)return $r(b,7,"bad partition length");z(G=b.m,P,$,X.ub),$+=X.ub,V-=X.ub,X.Rb&&(Q.Ld=ne(G),Q.Kd=ne(G)),Q=b.Qa;var ee,re=b.Pa;if(t(G!=null),t(Q!=null),Q.Cb=ne(G),Q.Cb){if(Q.Bb=ne(G),ne(G)){for(Q.Fb=ne(G),ee=0;4>ee;++ee)Q.Zb[ee]=ne(G)?F(G,7):0;for(ee=0;4>ee;++ee)Q.Lb[ee]=ne(G)?F(G,6):0}if(Q.Bb)for(ee=0;3>ee;++ee)re.jb[ee]=ne(G)?W(G,8):255}else Q.Bb=0;if(G.Ka)return $r(b,3,"cannot parse segment header");if((Q=b.ed).zd=ne(G),Q.Tb=W(G,6),Q.wb=W(G,3),Q.Pc=ne(G),Q.Pc&&ne(G)){for(re=0;4>re;++re)ne(G)&&(Q.vd[re]=F(G,6));for(re=0;4>re;++re)ne(G)&&(Q.od[re]=F(G,6))}if(b.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return $r(b,3,"cannot parse filter header");var ge=V;if(V=ee=$,$=ee+ge,Q=ge,b.Xb=(1<<W(b.m,2))-1,ge<3*(re=b.Xb))P=7;else{for(ee+=3*re,Q-=3*re,ge=0;ge<re;++ge){var Se=P[V+0]|P[V+1]<<8|P[V+2]<<16;Se>Q&&(Se=Q),z(b.Jc[+ge],P,ee,Se),ee+=Se,Q-=Se,V+=3}z(b.Jc[+re],P,ee,Q),P=ee<$?0:5}if(P!=0)return $r(b,P,"cannot parse partitions");for(P=W(ee=b.m,7),V=ne(ee)?F(ee,4):0,$=ne(ee)?F(ee,4):0,Q=ne(ee)?F(ee,4):0,re=ne(ee)?F(ee,4):0,ee=ne(ee)?F(ee,4):0,ge=b.Qa,Se=0;4>Se;++Se){if(ge.Cb){var ie=ge.Zb[Se];ge.Fb||(ie+=P)}else{if(0<Se){b.pb[Se]=b.pb[0];continue}ie=P}var ye=b.pb[Se];ye.Sc[0]=jN[mr(ie+V,127)],ye.Sc[1]=RN[mr(ie+0,127)],ye.Eb[0]=2*jN[mr(ie+$,127)],ye.Eb[1]=101581*RN[mr(ie+Q,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=jN[mr(ie+re,117)],ye.Qc[1]=RN[mr(ie+ee,127)],ye.lc=ie+ee}if(!X.Rb)return $r(b,4,"Not a key frame.");for(ne(G),X=b.Pa,P=0;4>P;++P){for(V=0;8>V;++V)for($=0;3>$;++$)for(Q=0;11>Q;++Q)re=de(G,hne[P][V][$][Q])?W(G,8):dne[P][V][$][Q],X.Wc[P][V].Yb[$][Q]=re;for(V=0;17>V;++V)X.Xc[P][V]=X.Wc[P][pne[V]]}return b.kc=ne(G),b.kc&&(b.Bd=W(G,8)),b.cb=1}function Fl(b,S,P,$,V,G,X){var Q=S[V].Yb[P];for(P=0;16>V;++V){if(!de(b,Q[P+0]))return V;for(;!de(b,Q[P+1]);)if(Q=S[++V].Yb[0],P=0,V==16)return 16;var ee=S[V+1].Yb;if(de(b,Q[P+2])){var re=b,ge=0;if(de(re,(ie=Q)[(Se=P)+3]))if(de(re,ie[Se+6])){for(Q=0,Se=2*(ge=de(re,ie[Se+8]))+(ie=de(re,ie[Se+9+ge])),ge=0,ie=cne[Se];ie[Q];++Q)ge+=ge+de(re,ie[Q]);ge+=3+(8<<Se)}else de(re,ie[Se+7])?(ge=7+2*de(re,165),ge+=de(re,145)):ge=5+de(re,159);else ge=de(re,ie[Se+4])?3+de(re,ie[Se+5]):2;Q=ee[2]}else ge=1,Q=ee[1];ee=X+une[V],0>(re=b).b&&ce(re);var Se,ie=re.b,ye=(Se=re.Ca>>1)-(re.I>>ie)>>31;--re.b,re.Ca+=ye,re.Ca|=1,re.I-=(Se+1&ye)<<ie,G[ee]=((ge^ye)-ye)*$[(0<V)+0]}return 16}function Fd(b){var S=b.rb[b.sb-1];S.la=0,S.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function us(b,S,P,$,V){V=b[S+P+32*$]+(V>>3),b[S+P+32*$]=-256&V?0>V?0:255:V}function Bd(b,S,P,$,V,G){us(b,S,0,P,$+V),us(b,S,1,P,$+G),us(b,S,2,P,$-G),us(b,S,3,P,$-V)}function kr(b){return(20091*b>>16)+b}function Wg(b,S,P,$){var V,G=0,X=o(16);for(V=0;4>V;++V){var Q=b[S+0]+b[S+8],ee=b[S+0]-b[S+8],re=(35468*b[S+4]>>16)-kr(b[S+12]),ge=kr(b[S+4])+(35468*b[S+12]>>16);X[G+0]=Q+ge,X[G+1]=ee+re,X[G+2]=ee-re,X[G+3]=Q-ge,G+=4,S++}for(V=G=0;4>V;++V)Q=(b=X[G+0]+4)+X[G+8],ee=b-X[G+8],re=(35468*X[G+4]>>16)-kr(X[G+12]),us(P,$,0,0,Q+(ge=kr(X[G+4])+(35468*X[G+12]>>16))),us(P,$,1,0,ee+re),us(P,$,2,0,ee-re),us(P,$,3,0,Q-ge),G++,$+=32}function pN(b,S,P,$){var V=b[S+0]+4,G=35468*b[S+4]>>16,X=kr(b[S+4]),Q=35468*b[S+1]>>16;Bd(P,$,0,V+X,b=kr(b[S+1]),Q),Bd(P,$,1,V+G,b,Q),Bd(P,$,2,V-G,b,Q),Bd(P,$,3,V-X,b,Q)}function mN(b,S,P,$,V){Wg(b,S,P,$),V&&Wg(b,S+16,P,$+4)}function gN(b,S,P,$){rf(b,S+0,P,$,1),rf(b,S+32,P,$+128,1)}function Ys(b,S,P,$){var V;for(b=b[S+0]+4,V=0;4>V;++V)for(S=0;4>S;++S)us(P,$,S,V,b)}function Qb(b,S,P,$){b[S+0]&&Sn(b,S+0,P,$),b[S+16]&&Sn(b,S+16,P,$+4),b[S+32]&&Sn(b,S+32,P,$+128),b[S+48]&&Sn(b,S+48,P,$+128+4)}function Zb(b,S,P,$){var V,G=o(16);for(V=0;4>V;++V){var X=b[S+0+V]+b[S+12+V],Q=b[S+4+V]+b[S+8+V],ee=b[S+4+V]-b[S+8+V],re=b[S+0+V]-b[S+12+V];G[0+V]=X+Q,G[8+V]=X-Q,G[4+V]=re+ee,G[12+V]=re-ee}for(V=0;4>V;++V)X=(b=G[0+4*V]+3)+G[3+4*V],Q=G[1+4*V]+G[2+4*V],ee=G[1+4*V]-G[2+4*V],re=b-G[3+4*V],P[$+0]=X+Q>>3,P[$+16]=re+ee>>3,P[$+32]=X-Q>>3,P[$+48]=re-ee>>3,$+=64}function Hc(b,S,P){var $,V=S-32,G=Xo,X=255-b[V-1];for($=0;$<P;++$){var Q,ee=G,re=X+b[S-1];for(Q=0;Q<P;++Q)b[S+Q]=ee[re+b[V+Q]];S+=32}}function Vg(b,S){Hc(b,S,4)}function vN(b,S){Hc(b,S,8)}function yN(b,S){Hc(b,S,16)}function bN(b,S){var P;for(P=0;16>P;++P)r(b,S+32*P,b,S-32,16)}function Kg(b,S){var P;for(P=16;0<P;--P)i(b,S,b[S-1],16),S+=32}function zd(b,S,P){var $;for($=0;16>$;++$)i(S,P+32*$,b,16)}function qc(b,S){var P,$=16;for(P=0;16>P;++P)$+=b[S-1+32*P]+b[S+P-32];zd($>>5,b,S)}function xN(b,S){var P,$=8;for(P=0;16>P;++P)$+=b[S-1+32*P];zd($>>4,b,S)}function Ud(b,S){var P,$=8;for(P=0;16>P;++P)$+=b[S+P-32];zd($>>4,b,S)}function Gg(b,S){zd(128,b,S)}function Ft(b,S,P){return b+2*S+P+2>>2}function wN(b,S){var P,$=S-32;for($=new Uint8Array([Ft(b[$-1],b[$+0],b[$+1]),Ft(b[$+0],b[$+1],b[$+2]),Ft(b[$+1],b[$+2],b[$+3]),Ft(b[$+2],b[$+3],b[$+4])]),P=0;4>P;++P)r(b,S+32*P,$,0,$.length)}function SN(b,S){var P=b[S-1],$=b[S-1+32],V=b[S-1+64],G=b[S-1+96];he(b,S+0,16843009*Ft(b[S-1-32],P,$)),he(b,S+32,16843009*Ft(P,$,V)),he(b,S+64,16843009*Ft($,V,G)),he(b,S+96,16843009*Ft(V,G,G))}function _N(b,S){var P,$=4;for(P=0;4>P;++P)$+=b[S+P-32]+b[S-1+32*P];for($>>=3,P=0;4>P;++P)i(b,S+32*P,$,4)}function EN(b,S){var P=b[S-1+0],$=b[S-1+32],V=b[S-1+64],G=b[S-1-32],X=b[S+0-32],Q=b[S+1-32],ee=b[S+2-32],re=b[S+3-32];b[S+0+96]=Ft($,V,b[S-1+96]),b[S+1+96]=b[S+0+64]=Ft(P,$,V),b[S+2+96]=b[S+1+64]=b[S+0+32]=Ft(G,P,$),b[S+3+96]=b[S+2+64]=b[S+1+32]=b[S+0+0]=Ft(X,G,P),b[S+3+64]=b[S+2+32]=b[S+1+0]=Ft(Q,X,G),b[S+3+32]=b[S+2+0]=Ft(ee,Q,X),b[S+3+0]=Ft(re,ee,Q)}function Bl(b,S){var P=b[S+1-32],$=b[S+2-32],V=b[S+3-32],G=b[S+4-32],X=b[S+5-32],Q=b[S+6-32],ee=b[S+7-32];b[S+0+0]=Ft(b[S+0-32],P,$),b[S+1+0]=b[S+0+32]=Ft(P,$,V),b[S+2+0]=b[S+1+32]=b[S+0+64]=Ft($,V,G),b[S+3+0]=b[S+2+32]=b[S+1+64]=b[S+0+96]=Ft(V,G,X),b[S+3+32]=b[S+2+64]=b[S+1+96]=Ft(G,X,Q),b[S+3+64]=b[S+2+96]=Ft(X,Q,ee),b[S+3+96]=Ft(Q,ee,ee)}function zl(b,S){var P=b[S-1+0],$=b[S-1+32],V=b[S-1+64],G=b[S-1-32],X=b[S+0-32],Q=b[S+1-32],ee=b[S+2-32],re=b[S+3-32];b[S+0+0]=b[S+1+64]=G+X+1>>1,b[S+1+0]=b[S+2+64]=X+Q+1>>1,b[S+2+0]=b[S+3+64]=Q+ee+1>>1,b[S+3+0]=ee+re+1>>1,b[S+0+96]=Ft(V,$,P),b[S+0+64]=Ft($,P,G),b[S+0+32]=b[S+1+96]=Ft(P,G,X),b[S+1+32]=b[S+2+96]=Ft(G,X,Q),b[S+2+32]=b[S+3+96]=Ft(X,Q,ee),b[S+3+32]=Ft(Q,ee,re)}function NN(b,S){var P=b[S+0-32],$=b[S+1-32],V=b[S+2-32],G=b[S+3-32],X=b[S+4-32],Q=b[S+5-32],ee=b[S+6-32],re=b[S+7-32];b[S+0+0]=P+$+1>>1,b[S+1+0]=b[S+0+64]=$+V+1>>1,b[S+2+0]=b[S+1+64]=V+G+1>>1,b[S+3+0]=b[S+2+64]=G+X+1>>1,b[S+0+32]=Ft(P,$,V),b[S+1+32]=b[S+0+96]=Ft($,V,G),b[S+2+32]=b[S+1+96]=Ft(V,G,X),b[S+3+32]=b[S+2+96]=Ft(G,X,Q),b[S+3+64]=Ft(X,Q,ee),b[S+3+96]=Ft(Q,ee,re)}function AN(b,S){var P=b[S-1+0],$=b[S-1+32],V=b[S-1+64],G=b[S-1+96];b[S+0+0]=P+$+1>>1,b[S+2+0]=b[S+0+32]=$+V+1>>1,b[S+2+32]=b[S+0+64]=V+G+1>>1,b[S+1+0]=Ft(P,$,V),b[S+3+0]=b[S+1+32]=Ft($,V,G),b[S+3+32]=b[S+1+64]=Ft(V,G,G),b[S+3+64]=b[S+2+64]=b[S+0+96]=b[S+1+96]=b[S+2+96]=b[S+3+96]=G}function Bh(b,S){var P=b[S-1+0],$=b[S-1+32],V=b[S-1+64],G=b[S-1+96],X=b[S-1-32],Q=b[S+0-32],ee=b[S+1-32],re=b[S+2-32];b[S+0+0]=b[S+2+32]=P+X+1>>1,b[S+0+32]=b[S+2+64]=$+P+1>>1,b[S+0+64]=b[S+2+96]=V+$+1>>1,b[S+0+96]=G+V+1>>1,b[S+3+0]=Ft(Q,ee,re),b[S+2+0]=Ft(X,Q,ee),b[S+1+0]=b[S+3+32]=Ft(P,X,Q),b[S+1+32]=b[S+3+64]=Ft($,P,X),b[S+1+64]=b[S+3+96]=Ft(V,$,P),b[S+1+96]=Ft(G,V,$)}function Yg(b,S){var P;for(P=0;8>P;++P)r(b,S+32*P,b,S-32,8)}function Hd(b,S){var P;for(P=0;8>P;++P)i(b,S,b[S-1],8),S+=32}function zh(b,S,P){var $;for($=0;8>$;++$)i(S,P+32*$,b,8)}function Uh(b,S){var P,$=8;for(P=0;8>P;++P)$+=b[S+P-32]+b[S-1+32*P];zh($>>4,b,S)}function kN(b,S){var P,$=4;for(P=0;8>P;++P)$+=b[S+P-32];zh($>>3,b,S)}function Xg(b,S){var P,$=4;for(P=0;8>P;++P)$+=b[S-1+32*P];zh($>>3,b,S)}function Qg(b,S){zh(128,b,S)}function qd(b,S,P){var $=b[S-P],V=b[S+0],G=3*(V-$)+CN[1020+b[S-2*P]-b[S+P]],X=l1[112+(G+4>>3)];b[S-P]=Xo[255+$+l1[112+(G+3>>3)]],b[S+0]=Xo[255+V-X]}function Wd(b,S,P,$){var V=b[S+0],G=b[S+P];return ka[255+b[S-2*P]-b[S-P]]>$||ka[255+G-V]>$}function Zg(b,S,P,$){return 4*ka[255+b[S-P]-b[S+0]]+ka[255+b[S-2*P]-b[S+P]]<=$}function Hh(b,S,P,$,V){var G=b[S-3*P],X=b[S-2*P],Q=b[S-P],ee=b[S+0],re=b[S+P],ge=b[S+2*P],Se=b[S+3*P];return 4*ka[255+Q-ee]+ka[255+X-re]>$?0:ka[255+b[S-4*P]-G]<=V&&ka[255+G-X]<=V&&ka[255+X-Q]<=V&&ka[255+Se-ge]<=V&&ka[255+ge-re]<=V&&ka[255+re-ee]<=V}function Jg(b,S,P,$){var V=2*$+1;for($=0;16>$;++$)Zg(b,S+$,P,V)&&qd(b,S+$,P)}function Vd(b,S,P,$){var V=2*$+1;for($=0;16>$;++$)Zg(b,S+$*P,1,V)&&qd(b,S+$*P,1)}function Jb(b,S,P,$){var V;for(V=3;0<V;--V)Jg(b,S+=4*P,P,$)}function e1(b,S,P,$){var V;for(V=3;0<V;--V)Vd(b,S+=4,P,$)}function Ul(b,S,P,$,V,G,X,Q){for(G=2*G+1;0<V--;){if(Hh(b,S,P,G,X))if(Wd(b,S,P,Q))qd(b,S,P);else{var ee=b,re=S,ge=P,Se=ee[re-2*ge],ie=ee[re-ge],ye=ee[re+0],xe=ee[re+ge],Ce=ee[re+2*ge],we=27*(Pe=CN[1020+3*(ye-ie)+CN[1020+Se-xe]])+63>>7,Oe=18*Pe+63>>7,Pe=9*Pe+63>>7;ee[re-3*ge]=Xo[255+ee[re-3*ge]+Pe],ee[re-2*ge]=Xo[255+Se+Oe],ee[re-ge]=Xo[255+ie+we],ee[re+0]=Xo[255+ye-we],ee[re+ge]=Xo[255+xe-Oe],ee[re+2*ge]=Xo[255+Ce-Pe]}S+=$}}function Hl(b,S,P,$,V,G,X,Q){for(G=2*G+1;0<V--;){if(Hh(b,S,P,G,X))if(Wd(b,S,P,Q))qd(b,S,P);else{var ee=b,re=S,ge=P,Se=ee[re-ge],ie=ee[re+0],ye=ee[re+ge],xe=l1[112+(4+(Ce=3*(ie-Se))>>3)],Ce=l1[112+(Ce+3>>3)],we=xe+1>>1;ee[re-2*ge]=Xo[255+ee[re-2*ge]+we],ee[re-ge]=Xo[255+Se+Ce],ee[re+0]=Xo[255+ie-xe],ee[re+ge]=Xo[255+ye-we]}S+=$}}function t1(b,S,P,$,V,G){Ul(b,S,P,1,16,$,V,G)}function n1(b,S,P,$,V,G){Ul(b,S,1,P,16,$,V,G)}function Kd(b,S,P,$,V,G){var X;for(X=3;0<X;--X)Hl(b,S+=4*P,P,1,16,$,V,G)}function r1(b,S,P,$,V,G){var X;for(X=3;0<X;--X)Hl(b,S+=4,1,P,16,$,V,G)}function T(b,S,P,$,V,G,X,Q){Ul(b,S,V,1,8,G,X,Q),Ul(P,$,V,1,8,G,X,Q)}function H(b,S,P,$,V,G,X,Q){Ul(b,S,1,V,8,G,X,Q),Ul(P,$,1,V,8,G,X,Q)}function oe(b,S,P,$,V,G,X,Q){Hl(b,S+4*V,V,1,8,G,X,Q),Hl(P,$+4*V,V,1,8,G,X,Q)}function fe(b,S,P,$,V,G,X,Q){Hl(b,S+4,1,V,8,G,X,Q),Hl(P,$+4,1,V,8,G,X,Q)}function be(){this.ba=new Be,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Me(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function De(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ht(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new j}function yt(){this.xb=this.a=0,this.l=new Fh,this.ca=new Be,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ht,this.ab=0,this.gc=a(4,De),this.Oc=0}function Lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zt(b,S,P,$,V,G,X){for(b=b==null?0:b[S+0],S=0;S<X;++S)V[G+S]=b+P[$+S]&255,b=V[G+S]}function yn(b,S,P,$,V,G,X){var Q;if(b==null)zt(null,null,P,$,V,G,X);else for(Q=0;Q<X;++Q)V[G+Q]=b[S+Q]+P[$+Q]&255}function dr(b,S,P,$,V,G,X){if(b==null)zt(null,null,P,$,V,G,X);else{var Q,ee=b[S+0],re=ee,ge=ee;for(Q=0;Q<X;++Q)re=ge+(ee=b[S+Q])-re,ge=P[$+Q]+(-256&re?0>re?0:255:re)&255,re=ee,V[G+Q]=ge}}function Fr(b,S,P,$){var V=S.width,G=S.o;if(t(b!=null&&S!=null),0>P||0>=$||P+$>G)return null;if(!b.Cc){if(b.ga==null){var X;if(b.ga=new Lt,(X=b.ga==null)||(X=S.width*S.o,t(b.Gb.length==0),b.Gb=o(X),b.Uc=0,b.Gb==null?X=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,X=1),X=!X),!X){X=b.ga;var Q=b.Fa,ee=b.P,re=b.qc,ge=b.mb,Se=b.nb,ie=ee+1,ye=re-1,xe=X.l;if(t(Q!=null&&ge!=null&&S!=null),eu[0]=null,eu[1]=zt,eu[2]=yn,eu[3]=dr,X.ca=ge,X.tb=Se,X.c=S.width,X.i=S.height,t(0<X.c&&0<X.i),1>=re)S=0;else if(X.$a=3&Q[ee+0],X.Z=Q[ee+0]>>2&3,X.Lc=Q[ee+0]>>4&3,ee=Q[ee+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ee)S=0;else if(xe.put=wt,xe.ac=Co,xe.bc=Xr,xe.ma=X,xe.width=S.width,xe.height=S.height,xe.Da=S.Da,xe.v=S.v,xe.va=S.va,xe.j=S.j,xe.o=S.o,X.$a)e:{t(X.$a==1),S=Dd();t:for(;;){if(S==null){S=0;break e}if(t(X!=null),X.mc=S,S.c=X.c,S.i=X.i,S.l=X.l,S.l.ma=X,S.l.width=X.c,S.l.height=X.i,S.a=0,B(S.m,Q,ie,ye),!Gs(X.c,X.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&ss(S.s)?(X.ic=1,Q=S.c*S.i,S.Ta=null,S.Ua=0,S.V=o(Q),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(X.ic=0,S=$d(S,X.c)),!S))break t;S=1;break e}X.mc=null,S=0}else S=ye>=X.c*X.i;X=!S}if(X)return null;b.ga.Lc!=1?b.Ga=0:$=G-P}t(b.ga!=null),t(P+$<=G);e:{if(S=(Q=b.ga).c,G=Q.l.o,Q.$a==0){if(ie=b.rc,ye=b.Vc,xe=b.Fa,ee=b.P+1+P*S,re=b.mb,ge=b.nb+P*S,t(ee<=b.P+b.qc),Q.Z!=0)for(t(eu[Q.Z]!=null),X=0;X<$;++X)eu[Q.Z](ie,ye,xe,ee,re,ge,S),ie=re,ye=ge,ge+=S,ee+=S;else for(X=0;X<$;++X)r(re,ge,xe,ee,S),ie=re,ye=ge,ge+=S,ee+=S;b.rc=ie,b.Vc=ye}else{if(t(Q.mc!=null),S=P+$,t((X=Q.mc)!=null),t(S<=X.i),X.C>=S)S=1;else if(Q.ic||Ea(),Q.ic){Q=X.V,ie=X.Ba,ye=X.c;var Ce=X.i,we=(xe=1,ee=X.$/ye,re=X.$%ye,ge=X.m,Se=X.s,X.$),Oe=ye*Ce,Pe=ye*S,Ue=Se.wc,Le=we<Pe?_i(Se,re,ee):null;t(we<=Oe),t(S<=Ce),t(ss(Se));t:for(;;){for(;!ge.h&&we<Pe;){if(re&Ue||(Le=_i(Se,re,ee)),t(Le!=null),se(ge),256>(Ce=Qn(Le.G[0],Le.H[0],ge)))Q[ie+we]=Ce,++we,++re>=ye&&(re=0,++ee<=S&&!(ee%16)&&ls(X,ee));else{if(!(280>Ce)){xe=0;break t}Ce=Ko(Ce-256,ge);var St,ct=Qn(Le.G[4],Le.H[4],ge);if(se(ge),!(we>=(ct=lo(ye,ct=Ko(ct,ge)))&&Oe-we>=Ce)){xe=0;break t}for(St=0;St<Ce;++St)Q[ie+we+St]=Q[ie+we+St-ct];for(we+=Ce,re+=Ce;re>=ye;)re-=ye,++ee<=S&&!(ee%16)&&ls(X,ee);we<Pe&&re&Ue&&(Le=_i(Se,re,ee))}t(ge.h==Z(ge))}ls(X,ee>S?S:ee);break t}!xe||ge.h&&we<Oe?(xe=0,X.a=ge.h?5:3):X.$=we,S=xe}else S=cs(X,X.V,X.Ba,X.c,X.i,S,Lh);if(!S){$=0;break e}}P+$>=G&&(b.Cc=1),$=1}if(!$)return null;if(b.Cc&&(($=b.ga)!=null&&($.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+P*V}function Vn(b,S,P,$,V,G){for(;0<V--;){var X,Q=b,ee=S+(P?1:0),re=b,ge=S+(P?0:3);for(X=0;X<$;++X){var Se=re[ge+4*X];Se!=255&&(Se*=32897,Q[ee+4*X+0]=Q[ee+4*X+0]*Se>>23,Q[ee+4*X+1]=Q[ee+4*X+1]*Se>>23,Q[ee+4*X+2]=Q[ee+4*X+2]*Se>>23)}S+=G}}function Qr(b,S,P,$,V){for(;0<$--;){var G;for(G=0;G<P;++G){var X=b[S+2*G+0],Q=15&(re=b[S+2*G+1]),ee=4369*Q,re=(240&re|re>>4)*ee>>16;b[S+2*G+0]=(240&X|X>>4)*ee>>16&240|(15&X|X<<4)*ee>>16>>4&15,b[S+2*G+1]=240&re|Q}S+=V}}function Br(b,S,P,$,V,G,X,Q){var ee,re,ge=255;for(re=0;re<V;++re){for(ee=0;ee<$;++ee){var Se=b[S+ee];G[X+4*ee]=Se,ge&=Se}S+=P,X+=Q}return ge!=255}function Ei(b,S,P,$,V){var G;for(G=0;G<V;++G)P[$+G]=b[S+G]>>8}function Ea(){uv=Vn,VR=Qr,KR=Br,GR=Ei}function To(b,S,P){C[b]=function($,V,G,X,Q,ee,re,ge,Se,ie,ye,xe,Ce,we,Oe,Pe,Ue){var Le,St=Ue-1>>1,ct=Q[ee+0]|re[ge+0]<<16,Yt=Se[ie+0]|ye[xe+0]<<16;t($!=null);var pt=3*ct+Yt+131074>>2;for(S($[V+0],255&pt,pt>>16,Ce,we),G!=null&&(pt=3*Yt+ct+131074>>2,S(G[X+0],255&pt,pt>>16,Oe,Pe)),Le=1;Le<=St;++Le){var ln=Q[ee+Le]|re[ge+Le]<<16,Jr=Se[ie+Le]|ye[xe+Le]<<16,Xt=ct+ln+Yt+Jr+524296,mt=Xt+2*(ln+Yt)>>3;pt=mt+ct>>1,ct=(Xt=Xt+2*(ct+Jr)>>3)+ln>>1,S($[V+2*Le-1],255&pt,pt>>16,Ce,we+(2*Le-1)*P),S($[V+2*Le-0],255&ct,ct>>16,Ce,we+(2*Le-0)*P),G!=null&&(pt=Xt+Yt>>1,ct=mt+Jr>>1,S(G[X+2*Le-1],255&pt,pt>>16,Oe,Pe+(2*Le-1)*P),S(G[X+2*Le+0],255&ct,ct>>16,Oe,Pe+(2*Le+0)*P)),ct=ln,Yt=Jr}1&Ue||(pt=3*ct+Yt+131074>>2,S($[V+Ue-1],255&pt,pt>>16,Ce,we+(Ue-1)*P),G!=null&&(pt=3*Yt+ct+131074>>2,S(G[X+Ue-1],255&pt,pt>>16,Oe,Pe+(Ue-1)*P)))}}function i1(){Ca[c1]=gne,Ca[u1]=o4,Ca[e4]=vne,Ca[d1]=a4,Ca[f1]=s4,Ca[TN]=l4,Ca[t4]=yne,Ca[ON]=o4,Ca[MN]=a4,Ca[h1]=s4,Ca[PN]=l4}function qh(b){return b&~bne?0>b?0:255:b>>c4}function Gd(b,S){return qh((19077*b>>8)+(26149*S>>8)-14234)}function Wc(b,S,P){return qh((19077*b>>8)-(6419*S>>8)-(13320*P>>8)+8708)}function Yd(b,S){return qh((19077*b>>8)+(33050*S>>8)-17685)}function Xd(b,S,P,$,V){$[V+0]=Gd(b,P),$[V+1]=Wc(b,S,P),$[V+2]=Yd(b,S)}function Qd(b,S,P,$,V){$[V+0]=Yd(b,S),$[V+1]=Wc(b,S,P),$[V+2]=Gd(b,P)}function Bi(b,S,P,$,V){var G=Wc(b,S,P);S=G<<3&224|Yd(b,S)>>3,$[V+0]=248&Gd(b,P)|G>>5,$[V+1]=S}function Zd(b,S,P,$,V){var G=240&Yd(b,S)|15;$[V+0]=240&Gd(b,P)|Wc(b,S,P)>>4,$[V+1]=G}function Jd(b,S,P,$,V){$[V+0]=255,Xd(b,S,P,$,V+1)}function ev(b,S,P,$,V){Qd(b,S,P,$,V),$[V+3]=255}function tv(b,S,P,$,V){Xd(b,S,P,$,V),$[V+3]=255}function mr(b,S){return 0>b?0:b>S?S:b}function ql(b,S,P){C[b]=function($,V,G,X,Q,ee,re,ge,Se){for(var ie=ge+(-2&Se)*P;ge!=ie;)S($[V+0],G[X+0],Q[ee+0],re,ge),S($[V+1],G[X+0],Q[ee+0],re,ge+P),V+=2,++X,++ee,ge+=2*P;1&Se&&S($[V+0],G[X+0],Q[ee+0],re,ge)}}function Wh(b,S,P){return P==0?b==0?S==0?6:5:S==0?4:0:P}function o1(b,S,P,$,V){switch(b>>>30){case 3:rf(S,P,$,V,0);break;case 2:Aa(S,P,$,V);break;case 1:Sn(S,P,$,V)}}function Na(b,S){var P,$,V=S.M,G=S.Nb,X=b.oc,Q=b.pc+40,ee=b.oc,re=b.pc+584,ge=b.oc,Se=b.pc+600;for(P=0;16>P;++P)X[Q+32*P-1]=129;for(P=0;8>P;++P)ee[re+32*P-1]=129,ge[Se+32*P-1]=129;for(0<V?X[Q-1-32]=ee[re-1-32]=ge[Se-1-32]=129:(i(X,Q-32-1,127,21),i(ee,re-32-1,127,9),i(ge,Se-32-1,127,9)),$=0;$<b.za;++$){var ie=S.ya[S.aa+$];if(0<$){for(P=-1;16>P;++P)r(X,Q+32*P-4,X,Q+32*P+12,4);for(P=-1;8>P;++P)r(ee,re+32*P-4,ee,re+32*P+4,4),r(ge,Se+32*P-4,ge,Se+32*P+4,4)}var ye=b.Gd,xe=b.Hd+$,Ce=ie.ad,we=ie.Hc;if(0<V&&(r(X,Q-32,ye[xe].y,0,16),r(ee,re-32,ye[xe].f,0,8),r(ge,Se-32,ye[xe].ea,0,8)),ie.Za){var Oe=X,Pe=Q-32+16;for(0<V&&($>=b.za-1?i(Oe,Pe,ye[xe].y[15],4):r(Oe,Pe,ye[xe+1].y,0,4)),P=0;4>P;P++)Oe[Pe+128+P]=Oe[Pe+256+P]=Oe[Pe+384+P]=Oe[Pe+0+P];for(P=0;16>P;++P,we<<=2)Oe=X,Pe=Q+d4[P],ds[ie.Ob[P]](Oe,Pe),o1(we,Ce,16*+P,Oe,Pe)}else if(Oe=Wh($,V,ie.Ob[0]),Jc[Oe](X,Q),we!=0)for(P=0;16>P;++P,we<<=2)o1(we,Ce,16*+P,X,Q+d4[P]);for(P=ie.Gc,Oe=Wh($,V,ie.Dd),Kl[Oe](ee,re),Kl[Oe](ge,Se),we=Ce,Oe=ee,Pe=re,255&(ie=0|P)&&(170&ie?Zs(we,256,Oe,Pe):Fn(we,256,Oe,Pe)),ie=ge,we=Se,255&(P>>=8)&&(170&P?Zs(Ce,320,ie,we):Fn(Ce,320,ie,we)),V<b.Ub-1&&(r(ye[xe].y,0,X,Q+480,16),r(ye[xe].f,0,ee,re+224,8),r(ye[xe].ea,0,ge,Se+224,8)),P=8*G*b.B,ye=b.sa,xe=b.ta+16*$+16*G*b.R,Ce=b.qa,ie=b.ra+8*$+P,we=b.Ha,Oe=b.Ia+8*$+P,P=0;16>P;++P)r(ye,xe+P*b.R,X,Q+32*P,16);for(P=0;8>P;++P)r(Ce,ie+P*b.B,ee,re+32*P,8),r(we,Oe+P*b.B,ge,Se+32*P,8)}}function ef(b,S,P,$,V,G,X,Q,ee){var re=[0],ge=[0],Se=0,ie=ee!=null?ee.kd:0,ye=ee??new Me;if(b==null||12>P)return 7;ye.data=b,ye.w=S,ye.ha=P,S=[S],P=[P],ye.gb=[ye.gb];e:{var xe=S,Ce=P,we=ye.gb;if(t(b!=null),t(Ce!=null),t(we!=null),we[0]=0,12<=Ce[0]&&!n(b,xe[0],"RIFF")){if(n(b,xe[0]+8,"WEBP")){we=3;break e}var Oe=pe(b,xe[0]+4);if(12>Oe||4294967286<Oe){we=3;break e}if(ie&&Oe>Ce[0]-8){we=7;break e}we[0]=Oe,xe[0]+=12,Ce[0]-=12}we=0}if(we!=0)return we;for(Oe=0<ye.gb[0],P=P[0];;){e:{var Pe=b;Ce=S,we=P;var Ue=re,Le=ge,St=xe=[0];if((pt=Se=[Se])[0]=0,8>we[0])we=7;else{if(!n(Pe,Ce[0],"VP8X")){if(pe(Pe,Ce[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var ct=pe(Pe,Ce[0]+8),Yt=1+Ne(Pe,Ce[0]+12);if(2147483648<=Yt*(Pe=1+Ne(Pe,Ce[0]+15))){we=3;break e}St!=null&&(St[0]=ct),Ue!=null&&(Ue[0]=Yt),Le!=null&&(Le[0]=Pe),Ce[0]+=18,we[0]-=18,pt[0]=1}we=0}}if(Se=Se[0],xe=xe[0],we!=0)return we;if(Ce=!!(2&xe),!Oe&&Se)return 3;if(G!=null&&(G[0]=!!(16&xe)),X!=null&&(X[0]=Ce),Q!=null&&(Q[0]=0),X=re[0],xe=ge[0],Se&&Ce&&ee==null){we=0;break}if(4>P){we=7;break}if(Oe&&Se||!Oe&&!Se&&!n(b,S[0],"ALPH")){P=[P],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{ct=b,we=S,Oe=P;var pt=ye.gb;Ue=ye.na,Le=ye.P,St=ye.Sa,Yt=22,t(ct!=null),t(Oe!=null),Pe=we[0];var ln=Oe[0];for(t(Ue!=null),t(St!=null),Ue[0]=null,Le[0]=null,St[0]=0;;){if(we[0]=Pe,Oe[0]=ln,8>ln){we=7;break e}var Jr=pe(ct,Pe+4);if(4294967286<Jr){we=3;break e}var Xt=8+Jr+1&-2;if(Yt+=Xt,0<pt&&Yt>pt){we=3;break e}if(!n(ct,Pe,"VP8 ")||!n(ct,Pe,"VP8L")){we=0;break e}if(ln[0]<Xt){we=7;break e}n(ct,Pe,"ALPH")||(Ue[0]=ct,Le[0]=Pe+8,St[0]=Jr),Pe+=Xt,ln-=Xt}}if(P=P[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],we!=0)break}P=[P],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(pt=b,we=S,Oe=P,Ue=ye.gb[0],Le=ye.Ja,St=ye.xa,ct=we[0],Pe=!n(pt,ct,"VP8 "),Yt=!n(pt,ct,"VP8L"),t(pt!=null),t(Oe!=null),t(Le!=null),t(St!=null),8>Oe[0])we=7;else{if(Pe||Yt){if(pt=pe(pt,ct+4),12<=Ue&&pt>Ue-12){we=3;break e}if(ie&&pt>Oe[0]-8){we=7;break e}Le[0]=pt,we[0]+=8,Oe[0]-=8,St[0]=Yt}else St[0]=5<=Oe[0]&&pt[ct+0]==47&&!(pt[ct+4]>>5),Le[0]=Oe[0];we=0}if(P=P[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],S=S[0],we!=0)break;if(4294967286<ye.Ja)return 3;if(Q==null||Ce||(Q[0]=ye.xa?2:1),X=[X],xe=[xe],ye.xa){if(5>P){we=7;break}Q=X,ie=xe,Ce=G,b==null||5>P?b=0:5<=P&&b[S+0]==47&&!(b[S+4]>>5)?(Oe=[0],pt=[0],Ue=[0],B(Le=new U,b,S,P),so(Le,Oe,pt,Ue)?(Q!=null&&(Q[0]=Oe[0]),ie!=null&&(ie[0]=pt[0]),Ce!=null&&(Ce[0]=Ue[0]),b=1):b=0):b=0}else{if(10>P){we=7;break}Q=xe,b==null||10>P||!Yb(b,S+3,P-3)?b=0:(ie=b[S+0]|b[S+1]<<8|b[S+2]<<16,Ce=16383&(b[S+7]<<8|b[S+6]),b=16383&(b[S+9]<<8|b[S+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=ye.Ja||!Ce||!b?b=0:(X&&(X[0]=Ce),Q&&(Q[0]=b),b=1))}if(!b||(X=X[0],xe=xe[0],Se&&(re[0]!=X||ge[0]!=xe)))return 3;ee!=null&&(ee[0]=ye,ee.offset=S-ee.w,t(4294967286>S-ee.w),t(ee.offset==ee.ha-P));break}return we==0||we==7&&Se&&ee==null?(G!=null&&(G[0]|=ye.na!=null&&0<ye.na.length),$!=null&&($[0]=X),V!=null&&(V[0]=xe),0):we}function nv(b,S,P){var $=S.width,V=S.height,G=0,X=0,Q=$,ee=V;if(S.Da=b!=null&&0<b.Da,S.Da&&(Q=b.cd,ee=b.bd,G=b.v,X=b.j,11>P||(G&=-2,X&=-2),0>G||0>X||0>=Q||0>=ee||G+Q>$||X+ee>V))return 0;if(S.v=G,S.j=X,S.va=G+Q,S.o=X+ee,S.U=Q,S.T=ee,S.da=b!=null&&0<b.da,S.da){if(!_e(Q,ee,P=[b.ib],G=[b.hb]))return 0;S.ib=P[0],S.hb=G[0]}return S.ob=b!=null&&b.ob,S.Kb=b==null||!b.Sd,S.da&&(S.ob=S.ib<3*$/4&&S.hb<3*V/4,S.Kb=0),1}function rv(b){if(b==null)return 2;if(11>b.S){var S=b.f.RGBA;S.fb+=(b.height-1)*S.A,S.A=-S.A}else S=b.f.kb,b=b.height,S.O+=(b-1)*S.fa,S.fa=-S.fa,S.N+=(b-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(b-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(b-1)*S.lb,S.lb=-S.lb);return 0}function Vc(b,S,P,$){if($==null||0>=b||0>=S)return 2;if(P!=null){if(P.Da){var V=P.cd,G=P.bd,X=-2&P.v,Q=-2&P.j;if(0>X||0>Q||0>=V||0>=G||X+V>b||Q+G>S)return 2;b=V,S=G}if(P.da){if(!_e(b,S,V=[P.ib],G=[P.hb]))return 2;b=V[0],S=G[0]}}$.width=b,$.height=S;e:{var ee=$.width,re=$.height;if(b=$.S,0>=ee||0>=re||!(b>=c1&&13>b))b=2;else{if(0>=$.Rd&&$.sd==null){X=G=V=S=0;var ge=(Q=ee*f4[b])*re;if(11>b||(G=(re+1)/2*(S=(ee+1)/2),b==12&&(X=(V=ee)*re)),(re=o(ge+2*G+X))==null){b=1;break e}$.sd=re,11>b?((ee=$.f.RGBA).eb=re,ee.fb=0,ee.A=Q,ee.size=ge):((ee=$.f.kb).y=re,ee.O=0,ee.fa=Q,ee.Fd=ge,ee.f=re,ee.N=0+ge,ee.Ab=S,ee.Cd=G,ee.ea=re,ee.W=0+ge+G,ee.Db=S,ee.Ed=G,b==12&&(ee.F=re,ee.J=0+ge+2*G),ee.Tc=X,ee.lb=V)}if(S=1,V=$.S,G=$.width,X=$.height,V>=c1&&13>V)if(11>V)b=$.f.RGBA,S&=(Q=Math.abs(b.A))*(X-1)+G<=b.size,S&=Q>=G*f4[V],S&=b.eb!=null;else{b=$.f.kb,Q=(G+1)/2,ge=(X+1)/2,ee=Math.abs(b.fa),re=Math.abs(b.Ab);var Se=Math.abs(b.Db),ie=Math.abs(b.lb),ye=ie*(X-1)+G;S&=ee*(X-1)+G<=b.Fd,S&=re*(ge-1)+Q<=b.Cd,S=(S&=Se*(ge-1)+Q<=b.Ed)&ee>=G&re>=Q&Se>=Q,S&=b.y!=null,S&=b.f!=null,S&=b.ea!=null,V==12&&(S&=ie>=G,S&=ye<=b.Tc,S&=b.F!=null)}else S=0;b=S?0:2}}return b!=0||P!=null&&P.fd&&(b=rv($)),b}var tf=64,Go=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yo=24,Kc=32,Wl=8,Gc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(b){return b},C.Predictor2=function(b,S,P){return S[P+0]},C.Predictor3=function(b,S,P){return S[P+1]},C.Predictor4=function(b,S,P){return S[P-1]},C.Predictor5=function(b,S,P){return et(et(b,S[P+1]),S[P+0])},C.Predictor6=function(b,S,P){return et(b,S[P-1])},C.Predictor7=function(b,S,P){return et(b,S[P+0])},C.Predictor8=function(b,S,P){return et(S[P-1],S[P+0])},C.Predictor9=function(b,S,P){return et(S[P+0],S[P+1])},C.Predictor10=function(b,S,P){return et(et(b,S[P-1]),et(S[P+0],S[P+1]))},C.Predictor11=function(b,S,P){var $=S[P+0];return 0>=Ee($>>24&255,b>>24&255,(S=S[P-1])>>24&255)+Ee($>>16&255,b>>16&255,S>>16&255)+Ee($>>8&255,b>>8&255,S>>8&255)+Ee(255&$,255&b,255&S)?$:b},C.Predictor12=function(b,S,P){var $=S[P+0];return(xt((b>>24&255)+($>>24&255)-((S=S[P-1])>>24&255))<<24|xt((b>>16&255)+($>>16&255)-(S>>16&255))<<16|xt((b>>8&255)+($>>8&255)-(S>>8&255))<<8|xt((255&b)+(255&$)-(255&S)))>>>0},C.Predictor13=function(b,S,P){var $=S[P-1];return(lt((b=et(b,S[P+0]))>>24&255,$>>24&255)<<24|lt(b>>16&255,$>>16&255)<<16|lt(b>>8&255,$>>8&255)<<8|lt(255&b,255&$))>>>0};var iv=C.PredictorAdd0;C.PredictorAdd1=$e,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Vh=C.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Cr,a1=C.ColorIndexInverseTransform,Xs=C.MapARGB,Qs=C.VP8LColorIndexInverseTransformAlpha,ov=C.MapAlpha,av=C.VP8LPredictorsAdd=[];av.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var sv,lv,Yc,Xc,Qc,nf,Zc,rf,Aa,Zs,Sn,Fn,Tr,Zr,Vl,cv,Kh,s1,BR,zR,UR,HR,qR,WR,uv,VR,KR,GR,YR=o(511),XR=o(2041),QR=o(225),ZR=o(767),JR=0,CN=XR,l1=QR,Xo=ZR,ka=YR,c1=0,u1=1,e4=2,d1=3,f1=4,TN=5,t4=6,ON=7,MN=8,h1=9,PN=10,nne=[2,3,7],rne=[3,3,11],n4=[280,256,256,256,40],ine=[0,1,1,1,0],one=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ane=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sne=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lne=8,jN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],RN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dv=null,cne=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],une=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],r4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dne=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fne=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hne=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pne=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jc=[],ds=[],Kl=[],mne=1,i4=2,eu=[],Ca=[];To("UpsampleRgbLinePair",Xd,3),To("UpsampleBgrLinePair",Qd,3),To("UpsampleRgbaLinePair",tv,4),To("UpsampleBgraLinePair",ev,4),To("UpsampleArgbLinePair",Jd,4),To("UpsampleRgba4444LinePair",Zd,2),To("UpsampleRgb565LinePair",Bi,2);var gne=C.UpsampleRgbLinePair,vne=C.UpsampleBgrLinePair,o4=C.UpsampleRgbaLinePair,a4=C.UpsampleBgraLinePair,s4=C.UpsampleArgbLinePair,l4=C.UpsampleRgba4444LinePair,yne=C.UpsampleRgb565LinePair,p1=16,m1=1<<p1-1,fv=-227,IN=482,c4=6,bne=(256<<c4)-1,u4=0,xne=o(256),wne=o(256),Sne=o(256),_ne=o(256),Ene=o(IN-fv),Nne=o(IN-fv);ql("YuvToRgbRow",Xd,3),ql("YuvToBgrRow",Qd,3),ql("YuvToRgbaRow",tv,4),ql("YuvToBgraRow",ev,4),ql("YuvToArgbRow",Jd,4),ql("YuvToRgba4444Row",Zd,2),ql("YuvToRgb565Row",Bi,2);var d4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],g1=[0,2,8],Ane=[8,7,6,4,4,2,2,2,1,1,1,1],kne=1;this.WebPDecodeRGBA=function(b,S,P,$,V){var G=u1,X=new be,Q=new Be;X.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var ee=Q.width,re=Q.height,ge=new tt;if(ge==null||b==null)var Se=2;else t(ge!=null),Se=ef(b,S,P,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Se!=0?ee=0:(ee!=null&&(ee[0]=ge.width[0]),re!=null&&(re[0]=ge.height[0]),ee=1),ee){Q.width=Q.width[0],Q.height=Q.height[0],$!=null&&($[0]=Q.width),V!=null&&(V[0]=Q.height);e:{if($=new Fh,(V=new Me).data=b,V.w=S,V.ha=P,V.kd=1,S=[0],t(V!=null),((b=ef(V.data,V.w,V.ha,null,null,null,S,null,V))==0||b==7)&&S[0]&&(b=4),(S=b)==0){if(t(X!=null),$.data=V.data,$.w=V.w+V.offset,$.ha=V.ha-V.offset,$.put=wt,$.ac=Co,$.bc=Xr,$.ma=X,V.xa){if((b=Dd())==null){X=1;break e}if(function(ie,ye){var xe=[0],Ce=[0],we=[0];t:for(;;){if(ie==null)return 0;if(ye==null)return ie.a=2,0;if(ie.l=ye,ie.a=0,B(ie.m,ye.data,ye.w,ye.ha),!so(ie.m,xe,Ce,we)){ie.a=3;break t}if(ie.xb=i4,ye.width=xe[0],ye.height=Ce[0],!Gs(xe[0],Ce[0],1,ie,null))break t;return 1}return t(ie.a!=0),0}(b,$)){if($=(S=Vc($.width,$.height,X.Oa,X.ba))==0){t:{$=b;n:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((P=$.l)!=null),t((V=P.ma)!=null),$.xb!=0){if($.ca=V.ba,$.tb=V.tb,t($.ca!=null),!nv(V.Oa,P,d1)){$.a=2;break n}if(!$d($,P.width)||P.da)break n;if((P.da||$t($.ca.S))&&Ea(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Ea()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!J($.s.vb,$.s.Wa.Xa)){$.a=1;break n}$.xb=0}if(!cs($,$.V,$.Ba,$.c,$.i,P.o,Uc))break n;V.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(S=b.a)}else S=b.a}else{if((b=new hN)==null){X=1;break e}if(b.Fa=V.na,b.P=V.P,b.qc=V.Sa,Xb(b,$)){if((S=Vc($.width,$.height,X.Oa,X.ba))==0){if(b.Aa=0,P=X.Oa,t((V=b)!=null),P!=null){if(0<(ee=0>(ee=P.Md)?0:100<ee?255:255*ee/100)){for(re=ge=0;4>re;++re)12>(Se=V.pb[re]).lc&&(Se.ia=ee*Ane[0>Se.lc?0:Se.lc]>>3),ge|=Se.ia;ge&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=P.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ie,ye){if(ie==null)return 0;if(ye==null)return $r(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Xb(ie,ye))return 0;if(t(ie.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ie.L=0);var xe=g1[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=ye.v-xe>>4,ie.zb=ye.j-xe>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=ye.o+15+xe>>4,ie.Hb=ye.va+15+xe>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Ce=ie.ed;for(xe=0;4>xe;++xe){var we;if(ie.Qa.Cb){var Oe=ie.Qa.Lb[xe];ie.Qa.Fb||(Oe+=Ce.Tb)}else Oe=Ce.Tb;for(we=0;1>=we;++we){var Pe=ie.gd[xe][we],Ue=Oe;if(Ce.Pc&&(Ue+=Ce.vd[0],we&&(Ue+=Ce.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var Le=Ue;0<Ce.wb&&(Le=4<Ce.wb?Le>>2:Le>>1)>9-Ce.wb&&(Le=9-Ce.wb),1>Le&&(Le=1),Pe.dd=Le,Pe.tc=2*Ue+Le,Pe.ld=40<=Ue?2:15<=Ue?1:0}else Pe.tc=0;Pe.La=we}}}xe=0}else $r(ie,6,"Frame setup failed"),xe=ie.a;if(xe=xe==0){if(xe){ie.$c=0,0<ie.Aa||(ie.Ic=kne);t:{xe=ie.Ic,Ce=4*(Le=ie.za);var St=32*Le,ct=Le+1,Yt=0<ie.L?Le*(0<ie.Aa?2:1):0,pt=(ie.Aa==2?2:1)*Le;if((Pe=Ce+832+(we=3*(16*xe+g1[ie.L])/2*St)+(Oe=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Pe)xe=0;else{if(Pe>ie.Vb){if(ie.Vb=0,ie.Ec=o(Pe),ie.Fc=0,ie.Ec==null){xe=$r(ie,1,"no memory during frame initialization.");break t}ie.Vb=Pe}Pe=ie.Ec,Ue=ie.Fc,ie.Ac=Pe,ie.Bc=Ue,Ue+=Ce,ie.Gd=a(St,Kb),ie.Hd=0,ie.rb=a(ct+1,Hg),ie.sb=1,ie.wa=Yt?a(Yt,_a):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Le),t(!0),ie.oc=Pe,ie.pc=Ue,Ue+=832,ie.ya=a(pt,qg),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Le),ie.R=16*Le,ie.B=8*Le,Le=(St=g1[ie.L])*ie.R,St=St/2*ie.B,ie.sa=Pe,ie.ta=Ue+Le,ie.qa=ie.sa,ie.ra=ie.ta+16*xe*ie.R+St,ie.Ha=ie.qa,ie.Ia=ie.ra+8*xe*ie.B+St,ie.$c=0,Ue+=we,ie.mb=Oe?Pe:null,ie.nb=Oe?Ue:null,t(Ue+Oe<=ie.Fc+ie.Vb),Fd(ie),i(ie.Ac,ie.Bc,0,Ce),xe=1}}if(xe){if(ye.ka=0,ye.y=ie.sa,ye.O=ie.ta,ye.f=ie.qa,ye.N=ie.ra,ye.ea=ie.Ha,ye.Vd=ie.Ia,ye.fa=ie.R,ye.Rc=ie.B,ye.F=null,ye.J=0,!JR){for(xe=-255;255>=xe;++xe)YR[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)XR[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)QR[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)ZR[255+xe]=0>xe?0:255<xe?255:xe;JR=1}Zc=Zb,rf=mN,Zs=gN,Sn=Ys,Fn=Qb,Aa=pN,Tr=t1,Zr=n1,Vl=T,cv=H,Kh=Kd,s1=r1,BR=oe,zR=fe,UR=Jg,HR=Vd,qR=Jb,WR=e1,ds[0]=_N,ds[1]=Vg,ds[2]=wN,ds[3]=SN,ds[4]=EN,ds[5]=zl,ds[6]=Bl,ds[7]=NN,ds[8]=Bh,ds[9]=AN,Jc[0]=qc,Jc[1]=yN,Jc[2]=bN,Jc[3]=Kg,Jc[4]=xN,Jc[5]=Ud,Jc[6]=Gg,Kl[0]=Uh,Kl[1]=vN,Kl[2]=Yg,Kl[3]=Hd,Kl[4]=Xg,Kl[5]=kN,Kl[6]=Qg,xe=1}else xe=0}xe&&(xe=function(ln,Jr){for(ln.M=0;ln.M<ln.Va;++ln.M){var Xt,mt=ln.Jc[ln.M&ln.Xb],Xe=ln.m,Or=ln;for(Xt=0;Xt<Or.za;++Xt){var Wt=Xe,fn=Or,Zn=fn.Ac,Ni=fn.Bc+4*Xt,co=fn.zc,gr=fn.ya[fn.aa+Xt];if(fn.Qa.Bb?gr.$b=de(Wt,fn.Pa.jb[0])?2+de(Wt,fn.Pa.jb[2]):de(Wt,fn.Pa.jb[1]):gr.$b=0,fn.kc&&(gr.Ad=de(Wt,fn.Bd)),gr.Za=!de(Wt,145)+0,gr.Za){var zi=gr.Ob,uo=0;for(fn=0;4>fn;++fn){var ei,hn=co[0+fn];for(ei=0;4>ei;++ei){hn=fne[Zn[Ni+ei]][hn];for(var Cn=r4[de(Wt,hn[0])];0<Cn;)Cn=r4[2*Cn+de(Wt,hn[Cn])];hn=-Cn,Zn[Ni+ei]=hn}r(zi,uo,Zn,Ni,4),uo+=4,co[0+fn]=hn}}else hn=de(Wt,156)?de(Wt,128)?1:3:de(Wt,163)?2:0,gr.Ob[0]=hn,i(Zn,Ni,hn,4),i(co,0,hn,4);gr.Dd=de(Wt,142)?de(Wt,114)?de(Wt,183)?1:3:2:0}if(Or.m.Ka)return $r(ln,7,"Premature end-of-partition0 encountered.");for(;ln.ja<ln.za;++ln.ja){if(Or=mt,Wt=(Xe=ln).rb[Xe.sb-1],Zn=Xe.rb[Xe.sb+Xe.ja],Xt=Xe.ya[Xe.aa+Xe.ja],Ni=Xe.kc?Xt.Ad:0)Wt.la=Zn.la=0,Xt.Za||(Wt.Na=Zn.Na=0),Xt.Hc=0,Xt.Gc=0,Xt.ia=0;else{var vr,Tn;if(Wt=Zn,Zn=Or,Ni=Xe.Pa.Xc,co=Xe.ya[Xe.aa+Xe.ja],gr=Xe.pb[co.$b],fn=co.ad,zi=0,uo=Xe.rb[Xe.sb-1],hn=ei=0,i(fn,zi,0,384),co.Za)var Ai=0,fs=Ni[3];else{Cn=o(16);var Mr=Wt.Na+uo.Na;if(Mr=dv(Zn,Ni[1],Mr,gr.Eb,0,Cn,0),Wt.Na=uo.Na=(0<Mr)+0,1<Mr)Zc(Cn,0,fn,zi);else{var Oo=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)fn[zi+Cn]=Oo}Ai=1,fs=Ni[0]}var Bn=15&Wt.la,ti=15&uo.la;for(Cn=0;4>Cn;++Cn){var Qo=1&ti;for(Oo=Tn=0;4>Oo;++Oo)Bn=Bn>>1|(Qo=(Mr=dv(Zn,fs,Mr=Qo+(1&Bn),gr.Sc,Ai,fn,zi))>Ai)<<7,Tn=Tn<<2|(3<Mr?3:1<Mr?2:fn[zi+0]!=0),zi+=16;Bn>>=4,ti=ti>>1|Qo<<7,ei=(ei<<8|Tn)>>>0}for(fs=Bn,Ai=ti>>4,vr=0;4>vr;vr+=2){for(Tn=0,Bn=Wt.la>>4+vr,ti=uo.la>>4+vr,Cn=0;2>Cn;++Cn){for(Qo=1&ti,Oo=0;2>Oo;++Oo)Mr=Qo+(1&Bn),Bn=Bn>>1|(Qo=0<(Mr=dv(Zn,Ni[2],Mr,gr.Qc,0,fn,zi)))<<3,Tn=Tn<<2|(3<Mr?3:1<Mr?2:fn[zi+0]!=0),zi+=16;Bn>>=2,ti=ti>>1|Qo<<5}hn|=Tn<<4*vr,fs|=Bn<<4<<vr,Ai|=(240&ti)<<vr}Wt.la=fs,uo.la=Ai,co.Hc=ei,co.Gc=hn,co.ia=43690&hn?0:gr.ia,Ni=!(ei|hn)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[Xt.$b][Xt.Za],Xe.wa[Xe.Y+Xe.ja].La|=!Ni),Or.Ka)return $r(ln,7,"Premature end-of-file encountered.")}if(Fd(ln),Xe=Jr,Or=1,Xt=(mt=ln).D,Wt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Xt.M=mt.M,Xt.uc=Wt,Na(mt,Xt),Or=1,Xt=(Tn=mt.D).Nb,Wt=(hn=g1[mt.L])*mt.R,Zn=hn/2*mt.B,Cn=16*Xt*mt.R,Oo=8*Xt*mt.B,Ni=mt.sa,co=mt.ta-Wt+Cn,gr=mt.qa,fn=mt.ra-Zn+Oo,zi=mt.Ha,uo=mt.Ia-Zn+Oo,ti=(Bn=Tn.M)==0,ei=Bn>=mt.Va-1,mt.Aa==2&&Na(mt,Tn),Tn.uc)for(Qo=(Mr=mt).D.M,t(Mr.D.uc),Tn=Mr.yb;Tn<Mr.Hb;++Tn){Ai=Tn,fs=Qo;var fo=(Zo=(ki=Mr).D).Nb;vr=ki.R;var Zo=Zo.wa[Zo.Y+Ai],Jo=ki.sa,Mo=ki.ta+16*fo*vr+16*Ai,ea=Zo.dd,Kn=Zo.tc;if(Kn!=0)if(t(3<=Kn),ki.L==1)0<Ai&&HR(Jo,Mo,vr,Kn+4),Zo.La&&WR(Jo,Mo,vr,Kn),0<fs&&UR(Jo,Mo,vr,Kn+4),Zo.La&&qR(Jo,Mo,vr,Kn);else{var ta=ki.B,hs=ki.qa,of=ki.ra+8*fo*ta+8*Ai,Gl=ki.Ha,ki=ki.Ia+8*fo*ta+8*Ai;fo=Zo.ld,0<Ai&&(Zr(Jo,Mo,vr,Kn+4,ea,fo),cv(hs,of,Gl,ki,ta,Kn+4,ea,fo)),Zo.La&&(s1(Jo,Mo,vr,Kn,ea,fo),zR(hs,of,Gl,ki,ta,Kn,ea,fo)),0<fs&&(Tr(Jo,Mo,vr,Kn+4,ea,fo),Vl(hs,of,Gl,ki,ta,Kn+4,ea,fo)),Zo.La&&(Kh(Jo,Mo,vr,Kn,ea,fo),BR(hs,of,Gl,ki,ta,Kn,ea,fo))}}if(mt.ia&&alert("todo:DitherRow"),Xe.put!=null){if(Tn=16*Bn,Bn=16*(Bn+1),ti?(Xe.y=mt.sa,Xe.O=mt.ta+Cn,Xe.f=mt.qa,Xe.N=mt.ra+Oo,Xe.ea=mt.Ha,Xe.W=mt.Ia+Oo):(Tn-=hn,Xe.y=Ni,Xe.O=co,Xe.f=gr,Xe.N=fn,Xe.ea=zi,Xe.W=uo),ei||(Bn-=hn),Bn>Xe.o&&(Bn=Xe.o),Xe.F=null,Xe.J=null,mt.Fa!=null&&0<mt.Fa.length&&Tn<Bn&&(Xe.J=Fr(mt,Xe,Tn,Bn-Tn),Xe.F=mt.mb,Xe.F==null&&Xe.F.length==0)){Or=$r(mt,3,"Could not decode alpha data.");break t}Tn<Xe.j&&(hn=Xe.j-Tn,Tn=Xe.j,t(!(1&hn)),Xe.O+=mt.R*hn,Xe.N+=mt.B*(hn>>1),Xe.W+=mt.B*(hn>>1),Xe.F!=null&&(Xe.J+=Xe.width*hn)),Tn<Bn&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,Xe.F!=null&&(Xe.J+=Xe.v),Xe.ka=Tn-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=Bn-Tn,Or=Xe.put(Xe))}Xt+1!=mt.Ic||ei||(r(mt.sa,mt.ta-Wt,Ni,co+16*mt.R,Wt),r(mt.qa,mt.ra-Zn,gr,fn+8*mt.B,Zn),r(mt.Ha,mt.Ia-Zn,zi,uo+8*mt.B,Zn))}if(!Or)return $r(ln,6,"Output aborted.")}return 1}(ie,ye)),ye.bc!=null&&ye.bc(ye),xe&=1}return xe?(ie.cb=0,xe):0})(b,$)||(S=b.a)}}else S=b.a}S==0&&X.Oa!=null&&X.Oa.fd&&(S=rv(X.ba))}X=S}G=X!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var f4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,L){for(var M="",I=0;I<4;I++)M+=String.fromCharCode(C[L++]);return M}function u(C,L){return C[L+0]|C[L+1]<<8}function d(C,L){return(C[L+0]|C[L+1]<<8|C[L+2]<<16)>>>0}function p(C,L){return(C[L+0]|C[L+1]<<8|C[L+2]<<16|C[L+3]<<24)>>>0}new l;var h=[0],m=[0],g=[],v=new l,y=e,x=function(C,L){var M={},I=0,j=!1,D=0,q=0;if(M.frames=[],!function(R,U){for(var Y=0;Y<4;Y++)if(R[U+Y]!="RIFF".charCodeAt(Y))return!0;return!1}(C,L)){for(p(C,L+=4),L+=8;L<C.length;){var z=c(C,L),W=p(C,L+=4);L+=4;var F=W+(1&W);switch(z){case"VP8 ":case"VP8L":M.frames[I]===void 0&&(M.frames[I]={}),(K=M.frames[I]).src_off=j?q:L-8,K.src_size=D+W+8,I++,j&&(j=!1,D=0,q=0);break;case"VP8X":(K=M.header={}).feature_flags=C[L];var B=L+4;K.canvas_width=1+d(C,B),B+=3,K.canvas_height=1+d(C,B),B+=3;break;case"ALPH":j=!0,D=F+8,q=L-8;break;case"ANIM":(K=M.header).bgcolor=p(C,L),B=L+4,K.loop_count=u(C,B),B+=2;break;case"ANMF":var te,K;(K=M.frames[I]={}).offset_x=2*d(C,L),L+=3,K.offset_y=2*d(C,L),L+=3,K.width=1+d(C,L),L+=3,K.height=1+d(C,L),L+=3,K.duration=d(C,L),L+=3,te=C[L++],K.dispose=1&te,K.blend=te>>1&1}z!="ANMF"&&(L+=F)}return M}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,_=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],m=[w.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var k=_[0],O=v.WebPDecodeRGBA(y,k.src_off,k.src_size,m,h);k.rgba=O,k.imgwidth=m[0],k.imgheight=h[0];for(var E=0;E<m[0]*h[0]*4;E++)g[E]=O[E];return this.width=m,this.height=h,this.data=g,this}(function(e){var t,n,r,i,o,a,s,l,c,u=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new a,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new a,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=R;Object.defineProperty(this,"pdf",{get:function(){return U}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(pe){Y=!!pe}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(pe){Z=!!pe}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(pe){isNaN(pe)||(ae=pe)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(pe){isNaN(pe)||(se=pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(pe){var J;typeof pe=="number"?J=[pe,pe,pe,pe]:((J=new Array(4))[0]=pe[0],J[1]=pe.length>=2?pe[1]:J[0],J[2]=pe.length>=3?pe[2]:J[0],J[3]=pe.length>=4?pe[3]:J[1]),c.margin=J}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(pe){ce=pe}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(pe){ne=pe}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(pe){de=pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(pe){pe instanceof u&&(c=pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(pe){c.path=pe}});var he=[];Object.defineProperty(this,"ctxStack",{get:function(){return he},set:function(pe){he=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var J;J=p(pe),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var J=p(pe);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var ue=null,Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(pe){ue=null,Ne=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var J;if(this.ctx.font=pe,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var ke=J[1];J[2];var Ke=J[3],_e=J[4];J[5];var Ae=J[6],He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(He==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var je=function(rt){var Je,qt,Gt=[],ft=rt.trim();if(ft==="")return F5;if(ft in $F)return[$F[ft]];for(;ft!=="";){switch(qt=null,Je=(ft=BF(ft)).charAt(0)){case'"':case"'":qt=p8e(ft.substring(1),Je);break;default:qt=m8e(ft)}if(qt===null||(Gt.push(qt[0]),(ft=BF(qt[1]))!==""&&ft.charAt(0)!==","))return F5;ft=ft.replace(/^,/,"")}return Gt}(Ae);if(this.fontFaces){var nt=function(rt,Je){if(ue===null){var qt=function(Gt){var ft=[];return Object.keys(Gt).forEach(function(Dt){Gt[Dt].forEach(function(kn){var Ot=null;switch(kn){case"bold":Ot={family:Dt,weight:"bold"};break;case"italic":Ot={family:Dt,style:"italic"};break;case"bolditalic":Ot={family:Dt,weight:"bold",style:"italic"};break;case"":case"normal":Ot={family:Dt}}Ot!==null&&(Ot.ref={name:Dt,style:kn},ft.push(Ot))})}),ft}(rt.getFontList());ue=function(Gt){for(var ft={},Dt=0;Dt<Gt.length;++Dt){var kn=$5(Gt[Dt]),Ot=kn.family,rn=kn.stretch,$t=kn.style,ur=kn.weight;ft[Ot]=ft[Ot]||{},ft[Ot][rn]=ft[Ot][rn]||{},ft[Ot][rn][$t]=ft[Ot][rn][$t]||{},ft[Ot][rn][$t][ur]=kn}return ft}(qt.concat(Je))}return ue}(this.pdf,this.fontFaces),et=je.map(function(rt){return{family:rt,stretch:"normal",weight:Ke,style:ke}}),xt=function(rt,Je,qt){for(var Gt=(qt=qt||{}).defaultFontFamily||"times",ft=Object.assign({},h8e,qt.genericFontFamilies||{}),Dt=null,kn=null,Ot=0;Ot<Je.length;++Ot)if(ft[(Dt=$5(Je[Ot])).family]&&(Dt.family=ft[Dt.family]),rt.hasOwnProperty(Dt.family)){kn=rt[Dt.family];break}if(!(kn=kn||rt[Gt]))throw new Error("Could not find a font-family for the rule '"+FF(Dt)+"' and default family '"+Gt+"'.");if(kn=function(rn,$t){if($t[rn])return $t[rn];var ur=BO[rn],le=ur<=BO.normal?-1:1,Be=DF($t,AZ,ur,le);if(!Be)throw new Error("Could not find a matching font-stretch value for "+rn);return Be}(Dt.stretch,kn),kn=function(rn,$t){if($t[rn])return $t[rn];for(var ur=NZ[rn],le=0;le<ur.length;++le)if($t[ur[le]])return $t[ur[le]];throw new Error("Could not find a matching font-style for "+rn)}(Dt.style,kn),!(kn=function(rn,$t){if($t[rn])return $t[rn];if(rn===400&&$t[500])return $t[500];if(rn===500&&$t[400])return $t[400];var ur=f8e[rn],le=DF($t,kZ,ur,rn<400?-1:1);if(!le)throw new Error("Could not find a matching font-weight for value "+rn);return le}(Dt.weight,kn)))throw new Error("Failed to resolve a font for the rule '"+FF(Dt)+"'.");return kn}(nt,et);this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var lt="";(Ke==="bold"||parseInt(Ke,10)>=700||ke==="bold")&&(lt="bold"),ke==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var Ee="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<je.length;ze++){if(this.pdf.internal.getFont(je[ze],lt,{noFallback:!0,disableWarning:!0})!==void 0){Ee=je[ze];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(je[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ee=je[ze],lt="bold";else if(this.pdf.internal.getFont(je[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ee=je[ze],lt="normal";break}}if(Ee===""){for(var Ve=0;Ve<je.length;Ve++)if($e[je[Ve]]){Ee=$e[je[Ve]];break}}Ee=Ee===""?"Times":Ee,this.pdf.setFont(Ee,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};d.prototype.setLineDash=function(R){this.lineDash=R},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(R,U){if(isNaN(R)||isNaN(U))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(R,U));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(R,U)},d.prototype.closePath=function(){var R=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&jn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){R=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(R.x,R.y)},d.prototype.lineTo=function(R,U){if(isNaN(R)||isNaN(U))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(R,U));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(R,U,Y,Z){if(isNaN(Y)||isNaN(Z)||isNaN(R)||isNaN(U))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new a(Y,Z)),se=this.ctx.transform.applyToPoint(new a(R,U));this.path.push({type:"qct",x1:se.x,y1:se.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new a(ae.x,ae.y)},d.prototype.bezierCurveTo=function(R,U,Y,Z,ae,se){if(isNaN(ae)||isNaN(se)||isNaN(R)||isNaN(U)||isNaN(Y)||isNaN(Z))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new a(ae,se)),ne=this.ctx.transform.applyToPoint(new a(R,U)),de=this.ctx.transform.applyToPoint(new a(Y,Z));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:de.x,y2:de.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},d.prototype.arc=function(R,U,Y,Z,ae,se){if(isNaN(R)||isNaN(U)||isNaN(Y)||isNaN(Z)||isNaN(ae))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new a(R,U));R=ce.x,U=ce.y;var ne=this.ctx.transform.applyToPoint(new a(0,Y)),de=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(ne.x-de.x,2)+Math.pow(ne.y-de.y,2))}Math.abs(ae-Z)>=2*Math.PI&&(Z=0,ae=2*Math.PI),this.path.push({type:"arc",x:R,y:U,radius:Y,startAngle:Z,endAngle:ae,counterclockwise:se})},d.prototype.arcTo=function(R,U,Y,Z,ae){throw new Error("arcTo not implemented.")},d.prototype.rect=function(R,U,Y,Z){if(isNaN(R)||isNaN(U)||isNaN(Y)||isNaN(Z))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,U),this.lineTo(R+Y,U),this.lineTo(R+Y,U+Z),this.lineTo(R,U+Z),this.lineTo(R,U),this.lineTo(R+Y,U),this.lineTo(R,U)},d.prototype.fillRect=function(R,U,Y,Z){if(isNaN(R)||isNaN(U)||isNaN(Y)||isNaN(Z))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,U,Y,Z),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},d.prototype.strokeRect=function(R,U,Y,Z){if(isNaN(R)||isNaN(U)||isNaN(Y)||isNaN(Z))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(R,U,Y,Z),this.stroke())},d.prototype.clearRect=function(R,U,Y,Z){if(isNaN(R)||isNaN(U)||isNaN(Y)||isNaN(Z))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,U,Y,Z))},d.prototype.save=function(R){R=typeof R!="boolean"||R;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},d.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(U),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(R){var U,Y,Z,ae;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))U=0,Y=0,Z=0,ae=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(se!==null)U=parseInt(se[1]),Y=parseInt(se[2]),Z=parseInt(se[3]),ae=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)U=parseInt(se[1]),Y=parseInt(se[2]),Z=parseInt(se[3]),ae=parseFloat(se[4]);else{if(ae=1,typeof R=="string"&&R.charAt(0)!=="#"){var ce=new yZ(R);R=ce.ok?ce.toHex():"#000000"}R.length===4?(U=R.substring(1,2),U+=U,Y=R.substring(2,3),Y+=Y,Z=R.substring(3,4),Z+=Z):(U=R.substring(1,3),Y=R.substring(3,5),Z=R.substring(5,7)),U=parseInt(U,16),Y=parseInt(Y,16),Z=parseInt(Z,16)}}return{r:U,g:Y,b:Z,a:ae,style:R}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(R,U,Y,Z){if(isNaN(U)||isNaN(Y)||typeof R!="string")throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var ae=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:R,x:U,y:Y,scale:se,angle:ae,align:this.textAlign,maxWidth:Z})}},d.prototype.strokeText=function(R,U,Y,Z){if(isNaN(U)||isNaN(Y)||typeof R!="string")throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Z=isNaN(Z)?void 0:Z;var ae=F(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;I.call(this,{text:R,x:U,y:Y,scale:se,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Z})}},d.prototype.measureText=function(R){if(typeof R!="string")throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,Y=this.pdf.internal.scaleFactor,Z=U.internal.getFontSize(),ae=U.getStringUnitWidth(R)*Z/U.internal.scaleFactor;return new function(se){var ce=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:ae*=Math.round(96*Y/72*1e4)/1e4})},d.prototype.scale=function(R,U){if(isNaN(R)||isNaN(U))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(R,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.rotate=function(R){if(isNaN(R))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},d.prototype.translate=function(R,U){if(isNaN(R)||isNaN(U))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,R,U);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.transform=function(R,U,Y,Z,ae,se){if(isNaN(R)||isNaN(U)||isNaN(Y)||isNaN(Z)||isNaN(ae)||isNaN(se))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(R,U,Y,Z,ae,se);this.ctx.transform=this.ctx.transform.multiply(ce)},d.prototype.setTransform=function(R,U,Y,Z,ae,se){R=isNaN(R)?1:R,U=isNaN(U)?0:U,Y=isNaN(Y)?0:Y,Z=isNaN(Z)?1:Z,ae=isNaN(ae)?0:ae,se=isNaN(se)?0:se,this.ctx.transform=new l(R,U,Y,Z,ae,se)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(R,U,Y,Z,ae,se,ce,ne,de){var he=this.pdf.getImageProperties(R),ue=1,Ne=1,pe=1,J=1;Z!==void 0&&ne!==void 0&&(pe=ne/Z,J=de/ae,ue=he.width/Z*ne/Z,Ne=he.height/ae*de/ae),se===void 0&&(se=U,ce=Y,U=0,Y=0),Z!==void 0&&ne===void 0&&(ne=Z,de=ae),Z===void 0&&ne===void 0&&(ne=he.width,de=he.height);for(var ke,Ke=this.ctx.transform.decompose(),_e=F(Ke.rotate.shx),Ae=new l,He=(Ae=(Ae=(Ae=Ae.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new s(se-U*pe,ce-Y*J,Z*ue,ae*Ne)),je=v.call(this,He),nt=[],et=0;et<je.length;et+=1)nt.indexOf(je[et])===-1&&nt.push(je[et]);if(w(nt),this.autoPaging)for(var xt=nt[0],lt=nt[nt.length-1],Ee=xt;Ee<lt+1;Ee++){this.pdf.setPage(Ee);var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Ee===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=Ee===1?0:Ve+(Ee-2)*rt;if(this.ctx.clip_path.length!==0){var qt=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ke,this.posX+this.margin[3],-Je+ze+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=qt}var Gt=JSON.parse(JSON.stringify(He));Gt=x([Gt],this.posX+this.margin[3],-Je+ze+this.ctx.prevPageLastElemOffset)[0];var ft=(Ee>xt||Ee<lt)&&g.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,rt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,_e),ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",He.x,He.y,He.w,He.h,null,null,_e)};var v=function(R,U,Y){var Z=[];U=U||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":Z.push(Math.floor((R.y+ae)/Y)+1);break;case"arc":Z.push(Math.floor((R.y+ae-R.radius)/Y)+1),Z.push(Math.floor((R.y+ae+R.radius)/Y)+1);break;case"qct":var se=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);Z.push(Math.floor((se.y+ae)/Y)+1),Z.push(Math.floor((se.y+se.h+ae)/Y)+1);break;case"bct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);Z.push(Math.floor((ce.y+ae)/Y)+1),Z.push(Math.floor((ce.y+ce.h+ae)/Y)+1);break;case"rect":Z.push(Math.floor((R.y+ae)/Y)+1),Z.push(Math.floor((R.y+R.h+ae)/Y)+1)}for(var ne=0;ne<Z.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ne];)y.call(this);return Z},y=function(){var R=this.fillStyle,U=this.strokeStyle,Y=this.font,Z=this.lineCap,ae=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=U,this.font=Y,this.lineCap=Z,this.lineWidth=ae,this.lineJoin=se},x=function(R,U,Y){for(var Z=0;Z<R.length;Z++)switch(R[Z].type){case"bct":R[Z].x2+=U,R[Z].y2+=Y;case"qct":R[Z].x1+=U,R[Z].y1+=Y;default:R[Z].x+=U,R[Z].y+=Y}return R},w=function(R){return R.sort(function(U,Y){return U-Y})},_=function(R,U){for(var Y,Z,ae=this.fillStyle,se=this.strokeStyle,ce=this.lineCap,ne=this.lineWidth,de=Math.abs(ne*this.ctx.transform.scaleX),he=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),pe=[],J=0;J<Ne.length;J++)if(Ne[J].x!==void 0)for(var ke=v.call(this,Ne[J]),Ke=0;Ke<ke.length;Ke+=1)pe.indexOf(ke[Ke])===-1&&pe.push(ke[Ke]);for(var _e=0;_e<pe.length;_e++)for(;this.pdf.internal.getNumberOfPages()<pe[_e];)y.call(this);if(w(pe),this.autoPaging)for(var Ae=pe[0],He=pe[pe.length-1],je=Ae;je<He+1;je++){this.pdf.setPage(je),this.fillStyle=ae,this.strokeStyle=se,this.lineCap=ce,this.lineWidth=de,this.lineJoin=he;var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=je===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ee=je===1?0:xt+(je-2)*lt;if(this.ctx.clip_path.length!==0){var $e=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Y,this.posX+this.margin[3],-Ee+et+this.ctx.prevPageLastElemOffset),N.call(this,R,!0),this.path=$e}if(Z=JSON.parse(JSON.stringify(ue)),this.path=x(Z,this.posX+this.margin[3],-Ee+et+this.ctx.prevPageLastElemOffset),U===!1||je===0){var ze=(je>Ae||je<He)&&g.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,lt,null).clip().discardPath()),N.call(this,R,U),ze&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=de,N.call(this,R,U),this.lineWidth=ne;this.path=ue},N=function(R,U){if((R!=="stroke"||U||!m.call(this))&&(R==="stroke"||U||!h.call(this))){for(var Y,Z,ae=[],se=this.path,ce=0;ce<se.length;ce++){var ne=se[ce];switch(ne.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ne,deltas:[],abs:[]});break;case"lt":var de=ae.length;if(se[ce-1]&&!isNaN(se[ce-1].x)&&(Y=[ne.x-se[ce-1].x,ne.y-se[ce-1].y],de>0)){for(;de>=0;de--)if(ae[de-1].close!==!0&&ae[de-1].begin!==!0){ae[de-1].deltas.push(Y),ae[de-1].abs.push(ne);break}}break;case"bct":Y=[ne.x1-se[ce-1].x,ne.y1-se[ce-1].y,ne.x2-se[ce-1].x,ne.y2-se[ce-1].y,ne.x-se[ce-1].x,ne.y-se[ce-1].y],ae[ae.length-1].deltas.push(Y);break;case"qct":var he=se[ce-1].x+2/3*(ne.x1-se[ce-1].x),ue=se[ce-1].y+2/3*(ne.y1-se[ce-1].y),Ne=ne.x+2/3*(ne.x1-ne.x),pe=ne.y+2/3*(ne.y1-ne.y),J=ne.x,ke=ne.y;Y=[he-se[ce-1].x,ue-se[ce-1].y,Ne-se[ce-1].x,pe-se[ce-1].y,J-se[ce-1].x,ke-se[ce-1].y],ae[ae.length-1].deltas.push(Y);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ne)}}Z=U?null:R==="stroke"?"stroke":"fill";for(var Ke=!1,_e=0;_e<ae.length;_e++)if(ae[_e].arc)for(var Ae=ae[_e].abs,He=0;He<Ae.length;He++){var je=Ae[He];je.type==="arc"?E.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,U,!Ke):j.call(this,je.x,je.y),Ke=!0}else if(ae[_e].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(ae[_e].begin!==!0){var nt=ae[_e].start.x,et=ae[_e].start.y;D.call(this,ae[_e].deltas,nt,et),Ke=!0}Z&&C.call(this,Z),U&&L.call(this)}},k=function(R){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Y;case"top":return R+U-Y;case"hanging":return R+U-2*Y;case"middle":return R+U/2-Y;default:return R}},O=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(U,Y){this.colorStops.push([U,Y])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(R,U,Y,Z,ae,se,ce,ne,de){for(var he=z.call(this,Y,Z,ae,se),ue=0;ue<he.length;ue++){var Ne=he[ue];ue===0&&(de?M.call(this,Ne.x1+R,Ne.y1+U):j.call(this,Ne.x1+R,Ne.y1+U)),q.call(this,R,U,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ne?L.call(this):C.call(this,ce)},C=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(R,U){this.pdf.internal.out(n(R)+" "+r(U)+" m")},I=function(R){var U;switch(R.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var Y=this.pdf.getTextDimensions(R.text),Z=k.call(this,R.y),ae=O.call(this,Z)-Y.h,se=this.ctx.transform.applyToPoint(new a(R.x,Z)),ce=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var de,he,ue,Ne=this.ctx.transform.applyToRectangle(new s(R.x,Z,Y.w,Y.h)),pe=ne.applyToRectangle(new s(R.x,ae,Y.w,Y.h)),J=v.call(this,pe),ke=[],Ke=0;Ke<J.length;Ke+=1)ke.indexOf(J[Ke])===-1&&ke.push(J[Ke]);if(w(ke),this.autoPaging)for(var _e=ke[0],Ae=ke[ke.length-1],He=_e;He<Ae+1;He++){this.pdf.setPage(He);var je=He===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],xt=et-this.margin[0],lt=this.pdf.internal.pageSize.width-this.margin[1],Ee=lt-this.margin[3],$e=He===1?0:nt+(He-2)*xt;if(this.ctx.clip_path.length!==0){var ze=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(de,this.posX+this.margin[3],-1*$e+je),N.call(this,"fill",!0),this.path=ze}var Ve=x([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-$e+je+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*R.scale),ue=this.lineWidth,this.lineWidth=ue*R.scale);var rt=this.autoPaging!=="text";if(rt||Ve.y+Ve.h<=et){if(rt||Ve.y>=je&&Ve.x<=lt){var Je=rt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||lt-Ve.x)[0],qt=x([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-$e+je+this.ctx.prevPageLastElemOffset)[0],Gt=rt&&(He>_e||He<Ae)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,xt,null).clip().discardPath()),this.pdf.text(Je,qt.x,qt.y,{angle:R.angle,align:U,renderingMode:R.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else Ve.y<et&&(this.ctx.prevPageLastElemOffset+=et-Ve.y);R.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=ue)}else R.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*R.scale),ue=this.lineWidth,this.lineWidth=ue*R.scale),this.pdf.text(R.text,se.x+this.posX,se.y+this.posY,{angle:R.angle,align:U,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=ue)},j=function(R,U,Y,Z){Y=Y||0,Z=Z||0,this.pdf.internal.out(n(R+Y)+" "+r(U+Z)+" l")},D=function(R,U,Y){return this.pdf.lines(R,U,Y,null,null)},q=function(R,U,Y,Z,ae,se,ce,ne){this.pdf.internal.out([t(i(Y+R)),t(o(Z+U)),t(i(ae+R)),t(o(se+U)),t(i(ce+R)),t(o(ne+U)),"c"].join(" "))},z=function(R,U,Y,Z){for(var ae=2*Math.PI,se=Math.PI/2;U>Y;)U-=ae;var ce=Math.abs(Y-U);ce<ae&&Z&&(ce=ae-ce);for(var ne=[],de=Z?-1:1,he=U;ce>1e-5;){var ue=he+de*Math.min(ce,se);ne.push(W.call(this,R,he,ue)),ce-=Math.abs(ue-he),he=ue}return ne},W=function(R,U,Y){var Z=(Y-U)/2,ae=R*Math.cos(Z),se=R*Math.sin(Z),ce=ae,ne=-se,de=ce*ce+ne*ne,he=de+ce*ae+ne*se,ue=4/3*(Math.sqrt(2*de*he)-he)/(ce*se-ne*ae),Ne=ce-ue*ne,pe=ne+ue*ce,J=Ne,ke=-pe,Ke=Z+U,_e=Math.cos(Ke),Ae=Math.sin(Ke);return{x1:R*Math.cos(U),y1:R*Math.sin(U),x2:Ne*_e-pe*Ae,y2:Ne*Ae+pe*_e,x3:J*_e-ke*Ae,y3:J*Ae+ke*_e,x4:R*Math.cos(Y),y4:R*Math.sin(Y)}},F=function(R){return 180*R/Math.PI},B=function(R,U,Y,Z,ae,se){var ce=R+.5*(Y-R),ne=U+.5*(Z-U),de=ae+.5*(Y-ae),he=se+.5*(Z-se),ue=Math.min(R,ae,ce,de),Ne=Math.max(R,ae,ce,de),pe=Math.min(U,se,ne,he),J=Math.max(U,se,ne,he);return new s(ue,pe,Ne-ue,J-pe)},te=function(R,U,Y,Z,ae,se,ce,ne){var de,he,ue,Ne,pe,J,ke,Ke,_e,Ae,He,je,nt,et,xt=Y-R,lt=Z-U,Ee=ae-Y,$e=se-Z,ze=ce-ae,Ve=ne-se;for(he=0;he<41;he++)_e=(ke=(ue=R+(de=he/40)*xt)+de*((pe=Y+de*Ee)-ue))+de*(pe+de*(ae+de*ze-pe)-ke),Ae=(Ke=(Ne=U+de*lt)+de*((J=Z+de*$e)-Ne))+de*(J+de*(se+de*Ve-J)-Ke),he==0?(He=_e,je=Ae,nt=_e,et=Ae):(He=Math.min(He,_e),je=Math.min(je,Ae),nt=Math.max(nt,_e),et=Math.max(et,Ae));return new s(Math.round(He),Math.round(je),Math.round(nt-He),Math.round(et-je))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,U,Y=(R=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:U}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(_t.API),function(e){var t=function(a){var s,l,c,u,d,p,h,m,g,v;for(l=[],c=0,u=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(d=((d=((d=((d=(d-(v=d%85))/85)-(g=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,l.push(p+33,h+33,m+33,g+33,v+33)):l.push(122);return function(y,x){for(var w=x;w>0;w--)y.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var s,l,c,u,d,p=String,h="length",m=255,g="charCodeAt",v="slice",y="replace";for(a[v](-2),a=a[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,d=(a+=s="uuuuu"[v](a[h]%5||5))[h];d>u;u+=5)l=52200625*(a[g](u)-33)+614125*(a[g](u+1)-33)+7225*(a[g](u+2)-33)+85*(a[g](u+3)-33)+(a[g](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(x,w){for(var _=w;_>0;_--)x.pop()}(c,s[h]),p.fromCharCode.apply(p,c)},r=function(a){return a.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},o=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return(s=kO(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,s){var l=0,c=a||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(_t.API),function(e){e.loadFile=function(t,n,r){return function(i,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var s=void 0;try{s=function(l,c,u){var d=new XMLHttpRequest,p=0,h=function(m){var g=m.length,v=[],y=String.fromCharCode;for(p=0;p<g;p+=1)v.push(y(255&m.charCodeAt(p)));return v.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(i,o,a)}catch{}return s}(t,n,r)},e.loadImageFile=e.loadFile}(_t.API),function(e){function t(){return(It.html2canvas?Promise.resolve(It.html2canvas):p5(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(It.DOMPurify?Promise.resolve(It.DOMPurify):p5(()=>import("./purify.es-sOfw8HaZ.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=jn(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function s(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(s(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return(u=u.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],g=m.src.find(function(v){return v.format==="truetype"});g&&c.addFont(g.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,c,u){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,u){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,d).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then;var u=this;s&&(s=s.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),p=c.call(d,s,l);return a.convert(p,u.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,_t.getPageSize=function(s,l,c){if(jn(s)==="object"){var u=s;s=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var d,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var m,g=0,v=0;if(h.hasOwnProperty(p))g=h[p][1]/d,v=h[p][0]/d;else try{g=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",v>g&&(m=v,v=g,g=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>v&&(m=v,v=g,g=m)}return{width:v,height:g,unit:l,k:d,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($5):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}}(_t.API),_t.API.addJS=function(e){return UF=e,this.internal.events.subscribe("postPutResources",function(){xx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+UF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xx!==void 0&&zF!==void 0&&this.internal.out("/Names <</JavaScript "+xx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var a=i[o],s=r.exec(a);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var d=n.internal.newObject();u.push(d);var p=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<u.length;o++)n.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var a={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var a=r.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(_t.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,o,a,s){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var p,h=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=h,t.indexOf(d.charCodeAt(v+1))!==-1){p=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),g={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:p,numcomponents:d.charCodeAt(v+9)};break}h=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(_t.API),_t.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,o=Z$e(e,{checkCrc:!0}),a=o.width,s=o.height,l=o.channels,c=o.palette,u=o.depth;i=c&&l===1?function(E){for(var C=E.width,L=E.height,M=E.data,I=E.palette,j=E.depth,D=!1,q=[],z=[],W=void 0,F=!1,B=0,te=0;te<I.length;te++){var K=L8(I[te],4),R=K[0],U=K[1],Y=K[2],Z=K[3];q.push(R,U,Y),Z!=null&&(Z===0?(B++,z.length<1&&z.push(te)):Z<255&&(F=!0))}if(F||B>1){D=!0,z=void 0;var ae=C*L;W=new Uint8Array(ae);for(var se=new DataView(M.buffer),ce=0;ce<ae;ce++){var ne=B5(se,ce,j),de=L8(I[ne],4)[3];W[ce]=de}}else B===0&&(z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:D?8:void 0,colorBytes:M,alphaBytes:W,needSMask:D,palette:q,mask:z}}(o):l===2||l===4?function(E){for(var C=E.data,L=E.width,M=E.height,I=E.channels,j=E.depth,D=I===2?"DeviceGray":"DeviceRGB",q=I-1,z=L*M,W=q,F=z*W,B=1*z,te=Math.ceil(F*j/8),K=Math.ceil(B*j/8),R=new Uint8Array(te),U=new Uint8Array(K),Y=new DataView(C.buffer),Z=new DataView(R.buffer),ae=new DataView(U.buffer),se=!1,ce=0;ce<z;ce++){for(var ne=ce*I,de=0;de<W;de++)QF(Z,B5(Y,ne+de,j),ce*W+de,j);var he=B5(Y,ne+W,j);he<(1<<j)-1&&(se=!0),QF(ae,he,1*ce,j)}return{colorSpace:D,colorsPerPixel:q,sMaskBitsPerComponent:se?j:void 0,colorBytes:R,alphaBytes:U,needSMask:se}}(o):function(E){var C=E.data,L=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:L,colorsPerPixel:L==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(M){for(var I=M.length,j=new Uint8Array(2*I),D=new DataView(j.buffer,j.byteOffset,j.byteLength),q=0;q<I;q++)D.setUint16(2*q,M[q],!1);return j}(C):C,needSMask:!1}}(o);var d,p,h,m=i,g=m.colorSpace,v=m.colorsPerPixel,y=m.sMaskBitsPerComponent,x=m.colorBytes,w=m.alphaBytes,_=m.needSMask,N=m.palette,k=m.mask,O=null;return r!==_t.API.image_compression.NONE&&typeof kO=="function"?(O=function(E){var C;switch(E){case _t.API.image_compression.FAST:C=11;break;case _t.API.image_compression.MEDIUM:C=13;break;case _t.API.image_compression.SLOW:C=14;break;default:C=12}return C}(r),d=this.decode.FLATE_DECODE,p="/Predictor ".concat(O," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(a),e=VF(x,Math.ceil(a*v*u/8),v,u,r),_&&(h=VF(w,Math.ceil(a*y/8),1,y,r))):(d=void 0,p=void 0,e=x,_&&(h=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:e,index:t,filter:d,decodeParameters:p,transparency:k,palette:N,sMask:h,predictor:O,width:a,height:s,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:g}}},function(e){e.processGIF89A=function(t,n,r,i){var o=new b8e(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},u=new z5(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(_t.API),gs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){zn.log("bit decode error:"+n)}},gs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}n!==0&&(this.pos+=4-n)}},gs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},gs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},gs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=e}},gs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=e}},gs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},gs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},gs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new gs(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new z5(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(_t.API),JF.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new JF(t),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new z5(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(_t.API),_t.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),a=new Uint8Array(i/4),s=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],p=r[c+2],h=r[c+3];o[s++]=u,o[s++]=d,o[s++]=p,a[l++]=h}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},_t.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ap=_t.API,wx=ap.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,p=0,h=e.length,m=0,g=s[0]||l,v=[];for(n=0;n<h;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(p=d&&jn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/u:0,v.push((s[r]||g)/l+p)),m=r;return v},HF=ap.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ap.processArabic&&(e=ap.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:wx.apply(this,arguments).reduce(function(o,a){return o+a},0)},qF=function(e,t,n,r){for(var i=[],o=0,a=e.length,s=0;o!==a&&s+t[o]<n;)s+=t[o],o++;i.push(e.slice(0,o));var l=o;for(s=0;o!==a;)s+t[o]>r&&(i.push(e.slice(l,o)),s=0,l=o),s+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},WF=function(e,t,n){n||(n={});var r,i,o,a,s,l,c,u=[],d=[u],p=n.textIndent||0,h=0,m=0,g=e.split(" "),v=wx.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?x=x.concat(_.map(function(N,k){return(k&&N.length?`
`:"")+N})):x.push(_[0])}),g=x,l=HF.apply(this,[y,n])}for(o=0,a=g.length;o<a;o++){var w=0;if(r=g[o],l&&r[0]==`
`&&(r=r.substr(1),w=1),p+h+(m=(i=wx.apply(this,[r,n])).reduce(function(_,N){return _+N},0))>t||w){if(m>t){for(s=qF.apply(this,[r,i,t-(p+h),t]),u.push(s.shift()),u=[s.pop()];s.length;)d.push([s.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(_,N){return _+N},0)}else u=[r];d.push(u),p=m+l,h=v}else u.push(r),p+=h+m,h=v}return c=l?function(_,N){return(N?y:"")+_.join(" ")}:function(_){return _.join(" ")},d.map(c)},ap.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return d.metadata[p]?{widths:d.metadata[p].widths||{0:1},kerning:d.metadata[p].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,l,c=[];for(s=0,l=r.length;s<l;s++)c=c.concat(WF.apply(this,[r[s],a,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=t[o],i[t[o]]=n[o];var a=function(p){return"0x"+parseInt(p,10).toString(16)},s=e.__fontmetrics__.compress=function(p){var h,m,g,v,y=["{"];for(var x in p){if(h=p[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=a(x).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof h=="number")h<0?(g=a(h).slice(3),v="-"):(g=a(h).slice(2),v=""),g=v+g.slice(0,-1)+i[g.slice(-1)];else{if(jn(h)!=="object")throw new Error("Don't know what to do with value type "+jn(h)+".");g=s(h)}y.push(m+g)}return y.push("}"),y.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,g,v,y={},x=1,w=y,_=[],N="",k="",O=p.length-1,E=1;E<O;E+=1)(v=p[E])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(_.push([w,g]),w={},g=void 0):v=="}"?((m=_.pop())[0][m[1]]=w,g=void 0,w=m[0]):v=="-"?x=-1:g===void 0?r.hasOwnProperty(v)?(N+=r[v],g=parseInt(N,16)*x,x=1,N=""):N+=v:r.hasOwnProperty(v)?(k+=r[v],w[g]=parseInt(k,16)*x,x=1,g=void 0,k=""):k+=v;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(_t.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(hw(s)),a.metadata=e.API.TTFFont.open(s),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(_t),_t.API.addSvgAsImage=function(e,t,n,r,i,o,a,s){if(isNaN(t)||isNaN(n))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(It.canvg?Promise.resolve(It.canvg):p5(()=>import("./index.es-BfmQM5wZ.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,a,s)})},_t.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},_t.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],c=0,u=0,d=0;function p(m,g){var v,y=!1;for(v=0;v<m.length;v+=1)m[v]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=s.length;for(d=0;d<h;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if(jn(e)==="object"){for(i in e)if(o=e[i],p(s,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&p(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+a.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+a+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(_t.API),function(e){var t=e.API,n=t.pdfEscape16=function(o,a){for(var s,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=o.length;d<p;++d){if(s=a.metadata.characterToGlyph(o.charCodeAt(d)),a.metadata.glyIdsUsed.push(s),a.metadata.toUnicode[s]=o.charCodeAt(d),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(a.metadata.widthOfGlyph(s),10)])),s=="0")return u.join("");s=s.toString(16),u.push(c[4-s.length],s)}return u.join("")},r=function(o){var a,s,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(s=Object.keys(o).sort(function(h,m){return h-m})).length;d<p;d++)a=s[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(c=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var d=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",m=0;m<p.length;m++)h+=String.fromCharCode(p[m]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:r(s.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+pp(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+pp(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+pp(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var d=s.metadata.rawData,p="",h=0;h<d.length;h++)p+=String.fromCharCode(d[h]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:r(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var v=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+pp(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+pp(s.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]);var i=function(o){var a,s=o.text||"",l=o.x,c=o.y,u=o.options||{},d=o.mutex||{},p=d.pdfEscape,h=d.activeFontKey,m=d.fonts,g=h,v="",y=0,x="",w=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:s,x:l,y:c,options:u,mutex:d};for(x=s,g=h,Array.isArray(s)&&(x=s[0]),y=0;y<x.length;y+=1)m[g].metadata.hasOwnProperty("cmap")&&(a=m[g].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),a||x[y].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?v+=x[y]:v+="";var _="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?_=p(v,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(_=n(v,m[g])),d.isHex=!0,{text:_,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(o){var a=o.text||"",s=[],l={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?s.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):s.push(i(Object.assign({},l,{text:a[c]})).text);o.text=s}else o.text=i(Object.assign({},l,{text:a})).text}])}(_t),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(_t.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,o,a,s,l,c,u,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,w=0;this.__bidiEngine__={};var _=function(M){var I=M.charCodeAt(),j=I>>8,D=g[j];return D!==void 0?d[256*D+(255&I)]:j===252||j===253?"AL":y.test(j)?"L":j===8?"R":"N"},N=function(M){for(var I,j=0;j<M.length;j++){if((I=_(M.charAt(j)))==="L")return!1;if(I==="R")return!0}return!1},k=function(M,I,j,D){var q,z,W,F,B=I[D];switch(B){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(B="AN");break;case"AL":x=!0,B="R";break;case"WS":case"BN":B="N";break;case"CS":D<1||D+1>=I.length||(q=j[D-1])!=="EN"&&q!=="AN"||(z=I[D+1])!=="EN"&&z!=="AN"?B="N":x&&(z="AN"),B=z===q?z:"N";break;case"ES":B=(q=D>0?j[D-1]:"B")==="EN"&&D+1<I.length&&I[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&j[D-1]==="EN"){B="EN";break}if(x){B="N";break}for(W=D+1,F=I.length;W<F&&I[W]==="ET";)W++;B=W<F&&I[W]==="EN"?"EN":"N";break;case"NSM":if(a&&!s){for(F=I.length,W=D+1;W<F&&I[W]==="NSM";)W++;if(W<F){var te=M[D],K=te>=1425&&te<=2303||te===64286;if(q=I[W],K&&(q==="R"||q==="AL")){B="R";break}}}B=D<1||(q=I[D-1])==="B"?"N":j[D-1];break;case"B":x=!1,i=!0,B=w;break;case"S":o=!0,B="N"}return B},O=function(M,I,j){var D=M.split("");return j&&E(D,j,{hiLevel:w}),D.reverse(),I&&I.reverse(),D.join("")},E=function(M,I,j){var D,q,z,W,F,B=-1,te=M.length,K=0,R=[],U=w?h:p,Y=[];for(x=!1,i=!1,o=!1,q=0;q<te;q++)Y[q]=_(M[q]);for(z=0;z<te;z++){if(F=K,R[z]=k(M,Y,R,z),D=240&(K=U[F][m[R[z]]]),K&=15,I[z]=W=U[K][5],D>0)if(D===16){for(q=B;q<z;q++)I[q]=1;B=-1}else B=-1;if(U[K][6])B===-1&&(B=z);else if(B>-1){for(q=B;q<z;q++)I[q]=W;B=-1}Y[z]==="B"&&(I[z]=0),j.hiLevel|=W}o&&function(Z,ae,se){for(var ce=0;ce<se;ce++)if(Z[ce]==="S"){ae[ce]=w;for(var ne=ce-1;ne>=0&&Z[ne]==="WS";ne--)ae[ne]=w}}(Y,I,te)},C=function(M,I,j,D,q){if(!(q.hiLevel<M)){if(M===1&&w===1&&!i)return I.reverse(),void(j&&j.reverse());for(var z,W,F,B,te=I.length,K=0;K<te;){if(D[K]>=M){for(F=K+1;F<te&&D[F]>=M;)F++;for(B=K,W=F-1;B<W;B++,W--)z=I[B],I[B]=I[W],I[W]=z,j&&(z=j[B],j[B]=j[W],j[W]=z);K=F}K++}}},L=function(M,I,j){var D=M.split(""),q={hiLevel:w};return j||(j=[]),E(D,j,q),function(z,W,F){if(F.hiLevel!==0&&u)for(var B,te=0;te<z.length;te++)W[te]===1&&(B=v.indexOf(z[te]))>=0&&(z[te]=v[B+1])}(D,j,q),C(2,D,I,j,q),C(1,D,I,j,q),D.join("")};return this.__bidiEngine__.doBidiReorder=function(M,I,j){if(function(q,z){if(z)for(var W=0;W<q.length;W++)z[W]=W;s===void 0&&(s=N(q)),c===void 0&&(c=N(q))}(M,I),a||!l||c)if(a&&l&&s^c)w=s?1:0,M=O(M,I,j);else if(!a&&l&&c)w=s?1:0,M=L(M,I,j),M=O(M,I);else if(!a||s||l||c){if(a&&!l&&s^c)M=O(M,I),s?(w=0,M=L(M,I,j)):(w=1,M=L(M,I,j),M=O(M,I));else if(a&&s&&!l&&c)w=1,M=L(M,I,j),M=O(M,I);else if(!a&&!l&&s^c){var D=u;s?(w=1,M=L(M,I,j),w=0,u=!1,M=L(M,I,j),u=D):(w=0,M=L(M,I,j),M=O(M,I),w=1,u=!1,M=L(M,I,j),u=D,M=O(M,I))}}else w=0,M=L(M,I,j);else w=s?1:0,M=L(M,I,j);return M},this.__bidiEngine__.setOptions=function(M){M&&(a=M.isInputVisual,l=M.isOutputVisual,s=M.isInputRtl,c=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var a=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(a=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?a.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):a.push([n.doBidiReorder(i[s])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new xd(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new R8e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new x8e(this.contents),this.head=new S8e(this),this.name=new k8e(this),this.cmap=new TZ(this),this.toUnicode={},this.hhea=new _8e(this),this.maxp=new C8e(this),this.hmtx=new T8e(this),this.post=new N8e(this),this.os2=new E8e(this),this.loca=new j8e(this),this.glyf=new O8e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,s,l,c;for(c=[],a=0,s=(l=this.bbox).length;a<s;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,o,a,s;for(a=0,o=0,s=(t=""+t).length;0<=s?o<s:o>s;o=0<=s?++o:--o)i=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var qs,xd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,o,a,s,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^a)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*a+256*s+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,o;for(o=[],r=0,i=t.length;r<i;r++)n=t[r],o.push(this.writeByte(n));return o},e}(),x8e=function(){var e;function t(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,o,a,s,l,c,u,d,p,h,m,g;for(g in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),a=Math.floor(d/l),u=16*h-d,(i=new xd).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(a),i.writeShort(u),o=16*h,c=i.pos+o,s=null,m=[],n)for(p=n[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),m=m.concat(p),g==="head"&&(s=c),c+=p.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(r),i.data},e=function(n){var r,i,o,a;for(n=OZ.call(n);n.length%4;)n.push(0);for(o=new xd(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=o.readUInt32();return 4294967295&i},t}(),w8e={}.hasOwnProperty,Ll=function(e,t){for(var n in t)w8e.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};qs=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var S8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new xd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),eB=function(){function e(t,n){var r,i,o,a,s,l,c,u,d,p,h,m,g,v,y,x,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,o=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(t.readUInt16());return N}(),c=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(t.readUInt16());return N}(),u=function(){var _,N;for(N=[],l=_=0;0<=p?_<p:_>p;l=0<=p?++_:--_)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,s=function(){var _,N;for(N=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)N.push(t.readUInt16());return N}(),l=y=0,w=o.length;y<w;l=++y)for(v=o[l],r=x=m=g[l];m<=v?x<=v:x>=v;r=m<=v?++x:--x)u[l]===0?a=r+c[l]:(a=s[u[l]/2+(r-m)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}t.pos=d}return e.encode=function(t,n){var r,i,o,a,s,l,c,u,d,p,h,m,g,v,y,x,w,_,N,k,O,E,C,L,M,I,j,D,q,z,W,F,B,te,K,R,U,Y,Z,ae,se,ce,ne,de,he,ue;switch(D=new xd,a=Object.keys(t).sort(function(Ne,pe){return Ne-pe}),n){case"macroman":for(g=0,v=function(){var Ne=[];for(m=0;m<256;++m)Ne.push(0);return Ne}(),x={0:0},o={},q=0,B=a.length;q<B;q++)x[ne=t[i=a[q]]]==null&&(x[ne]=++g),o[i]={old:t[i],new:x[t[i]]},v[i]=x[t[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(v),{charMap:o,subtable:D.data,maxGlyphID:g+1};case"unicode":for(I=[],d=[],w=0,x={},r={},y=c=null,z=0,te=a.length;z<te;z++)x[N=t[i=a[z]]]==null&&(x[N]=++w),r[i]={old:N,new:x[N]},s=x[N]-i,y!=null&&s===c||(y&&d.push(y),I.push(i),c=s),y=i;for(y&&d.push(y),d.push(65535),I.push(65535),L=2*(C=I.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,O=2*C-E,l=[],k=[],h=[],m=W=0,K=I.length;W<K;m=++W){if(M=I[m],u=d[m],M===65535){l.push(0),k.push(0);break}if(M-(j=r[M].new)>=32768)for(l.push(0),k.push(2*(h.length+C-m)),i=F=M;M<=u?F<=u:F>=u;i=M<=u?++F:--F)h.push(r[i].new);else l.push(j-M),k.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*C+2*h.length),D.writeUInt16(0),D.writeUInt16(L),D.writeUInt16(E),D.writeUInt16(p),D.writeUInt16(O),se=0,R=d.length;se<R;se++)i=d[se],D.writeUInt16(i);for(D.writeUInt16(0),ce=0,U=I.length;ce<U;ce++)i=I[ce],D.writeUInt16(i);for(de=0,Y=l.length;de<Y;de++)s=l[de],D.writeUInt16(s);for(he=0,Z=k.length;he<Z;he++)_=k[he],D.writeUInt16(_);for(ue=0,ae=h.length;ue<ae;ue++)g=h[ue],D.writeUInt16(g);return{charMap:r,subtable:D.data,maxGlyphID:w+1}}},e}(),TZ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new eB(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=eB.encode(t,n),(i=new xd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),_8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),E8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),N8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var a,s,l;for(l=[],o=a=0,s=this.file.maxp.numGlyphs;0<=s?a<s:a>s;o=0<=s?++a:--a)l.push(t.readUInt32());return l}).call(this)}},e}(),A8e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},k8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,o,a,s,l,c,u,d,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),s=t.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(l={},o=u=0,d=r.length;u<d;o=++u)i=r[o],t.pos=i.offset,c=t.readString(i.length),a=new A8e(c,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),C8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),T8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,o,a,s,l;for(t.pos=this.offset,this.metrics=[],n=0,s=this.file.hhea.numberOfMetrics;0<=s?n<s:n>s;n=0<=s?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,d,p;for(p=[],c=0,u=(d=this.metrics).length;c<u;c++)o=d[c],p.push(o.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),OZ=[].slice,O8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,o,a,s,l,c,u,d;return t in this.cache?this.cache[t]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(t),(i=o.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,a=(s=new xd(n.read(i))).readShort(),c=s.readShort(),d=s.readShort(),l=s.readShort(),u=s.readShort(),this.cache[t]=a===-1?new P8e(s,c,d,l,u):new M8e(s,a,c,d,l,u),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,o,a,s,l;for(a=[],o=[],s=0,l=n.length;s<l;s++)i=t[n[s]],o.push(a.length),i&&(a=a.concat(i.encode(r)));return o.push(a.length),{table:a,offsets:o}},e}(),M8e=function(){function e(t,n,r,i,o,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),P8e=function(){function e(t,n,r,i,o){var a,s;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new xd(OZ.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),j8e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,qs),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,a=0;a<r.length;++a)if(r[a]=i,o<n.length&&n[o]==a){++o,r[a]=i;var s=this.offsets[a],l=this.offsets[a+1]-s;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},e}(),R8e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,o,a,s,l;for(i={},a=0,s=t.length;a<s;a++)i[o=t[a]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},e.prototype.encode=function(t,n){var r,i,o,a,s,l,c,u,d,p,h,m,g,v,y;for(i in r=TZ.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),h={0:0},y=r.charMap)h[(l=y[i]).old]=l.new;for(m in p=r.maxGlyphID,a)m in h||(h[m]=p++);return u=function(x){var w,_;for(w in _={},x)_[x[w]]=w;return _}(h),d=Object.keys(u).sort(function(x,w){return x-w}),g=function(){var x,w,_;for(_=[],x=0,w=d.length;x<w;x++)s=d[x],_.push(u[s]);return _}(),o=this.font.glyf.encode(a,g,h),c=this.font.loca.encode(o.offsets,g),v={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();_t.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+function(){var s,l,c;for(c=[],s=0,l=n.length;s<l;s++)r=n[s],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+t.convert(a));return o.push(">>"),o.join(`
`)}return""+n},t}();function I8e(){const e=NP(),[,t]=Ah(),{user:n}=bg(),{data:r,isLoading:i}=tn({queryKey:["/api/manuals",e.id]}),{data:o=[]}=tn({queryKey:["/api/manuals",e.id,"attachments"],enabled:!!e.id}),a=(n==null?void 0:n.role)==="ADMIN"||(n==null?void 0:n.role)==="GESTOR",s=c=>c<1024?c+" B":c<1024*1024?(c/1024).toFixed(1)+" KB":(c/(1024*1024)).toFixed(1)+" MB",l=()=>{if(!r)return;const c=new _t;c.setFontSize(20),c.text(r.titulo,20,20),c.setFontSize(12);const u=r.contenidoHtml.replace(/<[^>]*>/g,""),d=c.splitTextToSize(u,170);c.text(d,20,40),c.save(`${r.titulo}.pdf`)};return i?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx(pn,{className:"h-9 w-48"}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx(pn,{className:"h-8 w-3/4"})}),f.jsx(At,{children:f.jsx(pn,{className:"h-64 w-full"})})]})]}):r?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>t("/manuales"),"data-testid":"button-back",children:f.jsx(TH,{className:"h-4 w-4"})}),f.jsx("div",{className:"flex-1",children:f.jsx("h1",{className:"text-3xl font-display font-bold",children:r.titulo})}),f.jsxs(Re,{variant:"outline",onClick:l,"data-testid":"button-export-pdf",children:[f.jsx(Qw,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),a&&f.jsxs(Re,{onClick:()=>t(`/manuales/${r.id}/editar`),"data-testid":"button-edit",children:[f.jsx(ed,{className:"h-4 w-4 mr-2"}),"Editar"]})]}),f.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_300px]",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(en,{className:"text-2xl",children:r.titulo}),r.categoria&&f.jsx("p",{className:"text-muted-foreground",children:r.categoria})]}),r.publicado?f.jsx(Kt,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):f.jsx(Kt,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),r.etiquetas&&r.etiquetas.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.etiquetas.map(c=>f.jsx(Kt,{variant:"secondary",children:c},c))})]}),f.jsxs(At,{children:[f.jsx("div",{className:"prose prose-sm max-w-none [&_.editor-table]:border-collapse [&_.editor-table]:w-full [&_.editor-table]:my-4 [&_.editor-table_th]:border-2 [&_.editor-table_th]:border-black [&_.editor-table_th]:p-2 [&_.editor-table_th]:bg-muted [&_.editor-table_th]:font-semibold [&_.editor-table_th]:text-left [&_.editor-table_td]:border-2 [&_.editor-table_td]:border-black [&_.editor-table_td]:p-2",dangerouslySetInnerHTML:{__html:r.contenidoHtml}}),f.jsxs("div",{className:"mt-8 pt-4 border-t text-sm text-muted-foreground",children:["Creado el ",new Date(r.fechaCreacion).toLocaleDateString(),r.fechaActualizacion!==r.fechaCreacion&&f.jsxs(f.Fragment,{children:["  Actualizado el ",new Date(r.fechaActualizacion).toLocaleDateString()]})]})]})]}),o.length>0&&f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{className:"text-lg flex items-center gap-2",children:[f.jsx(Zw,{className:"h-4 w-4"}),"Adjuntos (",o.length,")"]})}),f.jsx(At,{children:f.jsx("div",{className:"space-y-2",children:o.map(c=>f.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate cursor-pointer",onClick:()=>window.open(c.filePath,"_blank"),"data-testid":`attachment-${c.id}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Zw,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:c.originalName}),f.jsx("p",{className:"text-xs text-muted-foreground",children:s(c.fileSize)})]})]}),f.jsx(Qw,{className:"h-4 w-4 text-muted-foreground"})]},c.id))})})]})]}),f.jsx("div",{className:"lg:sticky lg:top-8 lg:h-fit",children:f.jsx(MLe,{htmlContent:r.contenidoHtml})})]})]}):f.jsx("div",{className:"p-8",children:f.jsx(Nt,{children:f.jsxs(At,{className:"flex flex-col items-center justify-center py-16",children:[f.jsx("h3",{className:"text-lg font-medium mb-2",children:"Manual no encontrado"}),f.jsx(Re,{onClick:()=>t("/manuales"),children:"Volver a Manuales"})]})})})}function Pi(e){this.content=e}Pi.prototype={constructor:Pi,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Pi(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Pi(n)},addToStart:function(e,t){return new Pi([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Pi(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Pi(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Pi.from(e),e.size?new Pi(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Pi.from(e),e.size?new Pi(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Pi.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Pi.from=function(e){if(e instanceof Pi)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Pi(t)};function MZ(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){let a=MZ(i.content,o.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function PZ(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let a=e.child(--i),s=t.child(--o),l=a.nodeSize;if(a==s){n-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let c=0,u=Math.min(a.text.length,s.text.length);for(;c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let c=PZ(a.content,s.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Ie{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let a=0,s=0;s<n;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&r(l,i+s,o||null,a)!==!1&&l.content.size){let u=s+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",a=!0;return this.nodesBetween(t,n,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,n-l):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&r&&(a?a=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Ie(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,a=0;a<n;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>n)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,n-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new Ie(r,i)}cutByIndex(t,n){return t==n?Ie.empty:t==0&&n==this.content.length?this:new Ie(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Ie(i,o)}addToStart(t){return new Ie([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ie(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return MZ(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return PZ(this,t,n,r)}findIndex(t){if(t==0)return Sx(0,t);if(t==this.size)return Sx(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t?Sx(n+1,o):Sx(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Ie.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ie(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ie.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Ie(n||t,r)}static from(t){if(!t)return Ie.empty;if(t instanceof Ie)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ie([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ie.empty=new Ie([],0);const U5={index:0,offset:0};function Sx(e,t){return U5.index=e,U5.offset=t,U5}function dS(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!dS(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!dS(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Hn=class zO{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&dS(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return zO.none;if(t instanceof zO)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Hn.none=[];class fS extends Error{}class Ze{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=RZ(this.content,t+this.openStart,n);return r&&new Ze(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Ze(jZ(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ze.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ze(Ie.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Ze(t,r,i)}}Ze.empty=new Ze(Ie.empty,0,0);function jZ(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(jZ(o.content,t-i-1,n-i-1)))}function RZ(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),a=e.maybeChild(i);if(o==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=RZ(a.content,t-o-1,n,a);return s&&e.replaceChild(i,a.copy(s))}function L8e(e,t,n){if(n.openStart>e.depth)throw new fS("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new fS("Inconsistent open depths");return IZ(e,t,n,0)}function IZ(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=IZ(e,t,n,r+1);return o.copy(o.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,s=a.content;return Wf(a,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=D8e(n,e);return Wf(o,DZ(e,a,s,t,r))}else return Wf(o,hS(e,t,r))}function LZ(e,t){if(!t.type.compatibleContent(e.type))throw new fS("Cannot join "+t.type.name+" onto "+e.type.name)}function UO(e,t,n){let r=e.node(n);return LZ(r,t.node(n)),r}function qf(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Ny(e,t,n,r){let i=(t||e).node(n),o=0,a=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(qf(e.nodeAfter,r),o++));for(let s=o;s<a;s++)qf(i.child(s),r);t&&t.depth==n&&t.textOffset&&qf(t.nodeBefore,r)}function Wf(e,t){return e.type.checkContent(t),e.copy(t)}function DZ(e,t,n,r,i){let o=e.depth>i&&UO(e,t,i+1),a=r.depth>i&&UO(n,r,i+1),s=[];return Ny(null,e,i,s),o&&a&&t.index(i)==n.index(i)?(LZ(o,a),qf(Wf(o,DZ(e,t,n,r,i+1)),s)):(o&&qf(Wf(o,hS(e,t,i+1)),s),Ny(t,n,i,s),a&&qf(Wf(a,hS(n,r,i+1)),s)),Ny(r,null,i,s),new Ie(s)}function hS(e,t,n){let r=[];if(Ny(null,e,n,r),e.depth>n){let i=UO(e,t,n+1);qf(Wf(i,hS(e,t,n+1)),r)}return Ny(t,null,n,r),new Ie(r)}function D8e(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Ie.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class G0{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Hn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new pS(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(r.push(a,s,i+l),!c||(a=a.child(s),a.isText))break;o=c-1,i+=l+1}return new G0(n,r,o)}static resolveCached(t,n){let r=tB.get(t);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else tB.set(t,r=new $8e);let i=r.elts[r.i]=G0.resolve(t,n);return r.i=(r.i+1)%F8e,i}}class $8e{constructor(){this.elts=[],this.i=0}}const F8e=12,tB=new WeakMap;class pS{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const B8e=Object.create(null);let ld=class HO{constructor(t,n,r,i=Hn.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Ie.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&dS(this.attrs,n||t.defaultAttrs||B8e)&&Hn.sameSet(this.marks,r||Hn.none)}copy(t=null){return t==this.content?this:new HO(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new HO(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Ze.empty;let i=this.resolve(t),o=this.resolve(n),a=r?0:i.sharedDepth(n),s=i.start(a),c=i.node(a).content.cut(i.pos-s,o.pos-s);return new Ze(c,i.depth-a,o.depth-a)}replace(t,n,r){return L8e(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return G0.resolveCached(this,t)}resolveNoCache(t){return G0.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),$Z(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Ie.empty,i=0,o=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Hn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Hn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Ie.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};ld.prototype.text=void 0;class mS extends ld{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$Z(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new mS(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new mS(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function $Z(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class gh{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new z8e(t,n);if(r.next==null)return gh.empty;let i=FZ(r);r.next&&r.err("Unexpected trailing text");let o=G8e(K8e(i));return Y8e(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(t,r);if(l&&(!n||l.validEnd))return Ie.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:d}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let p=o(d,s.concat(u));if(p)return p}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return o}).join(`
`)}}gh.empty=new gh(!0);class z8e{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function FZ(e){let t=[];do t.push(U8e(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function U8e(e){let t=[];do t.push(H8e(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function H8e(e){let t=V8e(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=q8e(e,t);else break;return t}function nB(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function q8e(e,t){let n=nB(e),r=n;return e.eat(",")&&(e.next!="}"?r=nB(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function W8e(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let a=n[o];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function V8e(e){if(e.eat("(")){let t=FZ(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=W8e(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function K8e(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;i(c,s=n())}else if(a.type=="star"){let l=n();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let u=n();i(o(a.expr,l),u),l=u}if(a.max==-1)i(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=n();r(l,u),i(o(a.expr,l),u),l=u}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function BZ(e,t){return t-e}function rB(e,t){let n=[];return r(t),n.sort(BZ);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&n.indexOf(l)==-1&&r(l)}}}function G8e(e){let t=Object.create(null);return n(rB(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let u=0;u<i.length;u++)i[u][0]==s&&(c=i[u][1]);rB(e,l).forEach(u=>{c||i.push([s,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[r.join(",")]=new gh(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(BZ);o.next.push({type:i[a][0],next:t[s.join(",")]||n(s)})}return o}}function Y8e(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:c}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function zZ(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function UZ(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function HZ(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function qZ(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Q8e(e,r,t[r]);return n}let iB=class WZ{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=qZ(t,r.attrs),this.defaultAttrs=zZ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==gh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:UZ(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ld(this,this.computeAttrs(t),Ie.from(n),Hn.setFrom(r))}createChecked(t=null,n,r){return n=Ie.from(n),this.checkContent(n),new ld(this,this.computeAttrs(t),n,Hn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Ie.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Ie.empty,!0);return o?new ld(this,t,n.append(o),Hn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){HZ(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Hn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,a)=>r[o]=new WZ(o,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function X8e(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class Q8e{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?X8e(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class KE{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=qZ(t,i.attrs),this.excluded=null;let o=zZ(this.attrs);this.instance=o?new Hn(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Hn(this,UZ(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,a)=>r[o]=new KE(o,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){HZ(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class VZ{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Pi.from(t.nodes),n.marks=Pi.from(t.marks||{}),this.nodes=iB.compile(this.spec.nodes,this),this.marks=KE.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=gh.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?oB(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:oB(this,a.split(" "))}this.nodeFromJSON=i=>ld.fromJSON(this,i),this.markFromJSON=i=>Hn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof iB){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new mS(r,r.defaultAttrs,t,Hn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function oB(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],a=o;if(o)n.push(o);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Z8e(e){return e.tag!=null}function J8e(e){return e.style!=null}let Ay=class qO{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Z8e(i))this.tags.push(i);else if(J8e(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new sB(this,n,!1);return r.addAll(t,Hn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new sB(this,n,!0);return r.addAll(t,Hn.none,n.from,n.to),Ze.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(nFe(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let s=n[a];if((s.priority==null?50:s.priority)<o)break}n.splice(a,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=lB(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=lB(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new qO(t,qO.schemaRules(t)))}};const KZ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},eFe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},GZ={ol:!0,ul:!0},Y0=1,WO=2,ky=4;function aB(e,t,n){return t!=null?(t?Y0:0)|(t==="full"?WO:0):e&&e.whitespace=="pre"?Y0|WO:n&~ky}class _x{constructor(t,n,r,i,o,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Hn.none,this.match=o||(a&ky?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ie.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Y0)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Ie.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Ie.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!KZ.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class sB{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,a=aB(null,n.preserveWhitespace,0)|(r?ky:0);i?o=new _x(i.type,i.attrs,Hn.none,!0,n.topMatch||i.type.contentMatch,a):r?o=new _x(null,null,Hn.none,!0,null,a):o=new _x(t.schema.topNodeType,null,Hn.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=i.options&WO?"full":this.localPreserveWS||(i.options&Y0)>0;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;GZ.hasOwnProperty(a)&&this.parser.normalizeLists&&tFe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,r));e:if(l?l.ignore:eFe.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(KZ.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return n}addElementByRule(t,n,r,i){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let a=r?t.childNodes[r]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+s)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;s+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=Hn.none;for(let s of i.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):cB(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=aB(t,o,a.options);a.options&ky&&a.content.length==0&&(s|=ky);let l=Hn.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):cB(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new _x(t,n,l,i,null,s)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Y0)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let c=n[s];if(c==""){if(s==n.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function tFe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&GZ.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function nFe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function lB(e){let t={};for(let n in e)t[n]=e[n];return t}function cB(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:u}=s.edge(l);if(c==t||o.indexOf(u)<0&&a(u))return!0}};if(a(i.contentMatch))return!0}}class Rh{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=H5(n).createDocumentFragment());let i=r,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=yw(H5(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&yw(H5(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return yw(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Rh(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=uB(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return uB(t.marks)}}function uB(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function H5(e){return e.document||window.document}const dB=new WeakMap;function rFe(e){let t=dB.get(e);return t===void 0&&dB.set(e,t=iFe(e)),t}function iFe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function yw(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=rFe(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let s,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let p=t[d];if(p===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:m}=yw(e,p,n,r);if(l.appendChild(h),m){if(s)throw new RangeError("Multiple content holes");s=m}}}return{dom:l,contentDOM:s}}const YZ=65535,XZ=Math.pow(2,16);function oFe(e,t){return e+t*XZ}function fB(e){return e&YZ}function aFe(e){return(e-(e&YZ))/XZ}const QZ=1,ZZ=2,bw=4,JZ=8;class VO{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&JZ)>0}get deletedBefore(){return(this.delInfo&(QZ|bw))>0}get deletedAfter(){return(this.delInfo&(ZZ|bw))>0}get deletedAcross(){return(this.delInfo&bw)>0}}class da{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&da.empty)return da.empty}recover(t){let n=0,r=fB(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+aFe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[s+o],u=this.ranges[s+a],d=l+c;if(t<=d){let p=c?t==l?-1:t==d?1:n:n,h=l+i+(p<0?0:u);if(r)return h;let m=t==(n<0?l:d)?null:oFe(s/3,t-l),g=t==l?ZZ:t==d?QZ:bw;return(n<0?t!=l:t!=d)&&(g|=JZ),new VO(h,g,m)}i+=u-c}return r?t+i:new VO(t+i,0,null)}touches(t,n){let r=0,i=fB(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[s+o],u=l+c;if(t<=u&&s==i*3)return!0;r+=this.ranges[s+a]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];t(s,s+c,l,l+u),o+=u-c}}invert(){return new da(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?da.empty:new da(t<0?[0,-t,0]:[0,0,t])}}da.empty=new da([]);class X0{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new X0(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new X0;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,n);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return r?t:new VO(t,i,null)}}const q5=Object.create(null);class ao{getMap(){return da.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=q5[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in q5)throw new RangeError("Duplicate use of step JSON ID "+t);return q5[t]=n,n.prototype.jsonID=t,n}}class Vr{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Vr(t,null)}static fail(t){return new Vr(null,t)}static fromReplace(t,n,r,i){try{return Vr.ok(t.replace(n,r,i))}catch(o){if(o instanceof fS)return Vr.fail(o.message);throw o}}}function G3(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(G3(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Ie.fromArray(r)}class Uu extends ao{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Ze(G3(n.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Vr.fromReplace(t,this.from,this.to,o)}invert(){return new Ps(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Uu(n.pos,r.pos,this.mark)}merge(t){return t instanceof Uu&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Uu(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Uu(n.from,n.to,t.markFromJSON(n.mark))}}ao.jsonID("addMark",Uu);class Ps extends ao{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Ze(G3(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Vr.fromReplace(t,this.from,this.to,r)}invert(){return new Uu(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ps(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ps&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ps(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ps(n.from,n.to,t.markFromJSON(n.mark))}}ao.jsonID("removeMark",Ps);class Hu extends ao{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Vr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Vr.fromReplace(t,this.pos,this.pos+1,new Ze(Ie.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Hu(this.pos,n.marks[i]);return new Hu(this.pos,this.mark)}}return new vh(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Hu(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Hu(n.pos,t.markFromJSON(n.mark))}}ao.jsonID("addNodeMark",Hu);class vh extends ao{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Vr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Vr.fromReplace(t,this.pos,this.pos+1,new Ze(Ie.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Hu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new vh(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new vh(n.pos,t.markFromJSON(n.mark))}}ao.jsonID("removeNodeMark",vh);class gi extends ao{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&KO(t,this.from,this.to)?Vr.fail("Structure replace would overwrite content"):Vr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new da([this.from,this.to-this.from,this.slice.size])}invert(t){return new gi(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new gi(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof gi)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ze.empty:new Ze(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new gi(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ze.empty:new Ze(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new gi(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gi(n.from,n.to,Ze.fromJSON(t,n.slice),!!n.structure)}}ao.jsonID("replace",gi);class bi extends ao{constructor(t,n,r,i,o,a,s=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(KO(t,this.from,this.gapFrom)||KO(t,this.gapTo,this.to)))return Vr.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Vr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Vr.fromReplace(t,this.from,this.to,r):Vr.fail("Content does not fit in gap")}getMap(){return new da([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new bi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new bi(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bi(n.from,n.to,n.gapFrom,n.gapTo,Ze.fromJSON(t,n.slice),n.insert,!!n.structure)}}ao.jsonID("replaceAround",bi);function KO(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function sFe(e,t,n,r){let i=[],o=[],a,s;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let p=Math.max(c,t),h=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(a&&a.to==p&&a.mark.eq(d[g])?a.to=h:i.push(a=new Ps(p,h,d[g])));s&&s.to==p?s.to=h:o.push(s=new Uu(p,h,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function lFe(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof KE){let c=a.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],p;for(let h=0;h<i.length;h++){let m=i[h];m.step==o-1&&d.eq(i[h].style)&&(p=m)}p?(p.to=c,p.step=o):i.push({style:d,from:Math.max(s,t),to:c,step:o})}}}),i.forEach(a=>e.step(new Ps(a.from,a.to,a.style)))}function Y3(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=s+c.nodeSize,d=r.matchType(c.type);if(!d)a.push(new gi(s,u,Ze.empty));else{r=d;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||e.step(new Ps(s,u,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,h=/\r?\n|\r/g,m;for(;p=h.exec(c.text);)m||(m=new Ze(Ie.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new gi(s+p.index,s+p.index+p[0].length,m))}}s=u}if(!r.validEnd){let l=r.fillBefore(Ie.empty,!0);e.replace(s,s,new Ze(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function cFe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Bg(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),o=e.$from.index(r),a=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,a,n))return r;if(r==0||i.type.spec.isolating||!cFe(i,o,a))break}return null}function uFe(e,t,n){let{$from:r,$to:i,depth:o}=t,a=r.before(o+1),s=i.after(o+1),l=a,c=s,u=Ie.empty,d=0;for(let m=o,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=Ie.from(r.node(m).copy(u)),d++):l--;let p=Ie.empty,h=0;for(let m=o,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,p=Ie.from(i.node(m).copy(p)),h++):c++;e.step(new bi(l,c,a,s,new Ze(u.append(p),d,h),u.size-d,!0))}function X3(e,t,n=null,r=e){let i=dFe(e,t),o=i&&fFe(r,t);return o?i.map(hB).concat({type:t,attrs:n}).concat(o.map(hB)):null}function hB(e){return{type:e,attrs:null}}function dFe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(r,i,a)?o:null}function fFe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:a}function hFe(e,t,n){let r=Ie.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let s=n[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ie.from(n[a].type.create(n[a].attrs,r))}let i=t.start,o=t.end;e.step(new bi(i,o,i,o,new Ze(r,0,0),n.length,!0))}function pFe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(a,s)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&mFe(e.doc,e.mapping.slice(o).map(s),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!m?c=!1:!h&&m&&(c=!0)}c===!1&&tJ(e,a,s,o),Y3(e,e.mapping.slice(o).map(s,1),r,void 0,c===null);let u=e.mapping.slice(o),d=u.map(s,1),p=u.map(s+a.nodeSize,1);return e.step(new bi(d,p,d+1,p-1,new Ze(Ie.from(r.create(l,null,a.marks)),0,0),1,!0)),c===!0&&eJ(e,a,s,o),!1}})}function eJ(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function tJ(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+o);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function mFe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function gFe(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new bi(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Ze(Ie.from(a),0,0),1,!0))}function om(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),p=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(p,d.childCount),m=r&&r[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(p+1,d.childCount)||!g.type.validContent(h))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function vFe(e,t,n=1,r){let i=e.doc.resolve(t),o=Ie.empty,a=Ie.empty;for(let s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=Ie.from(i.node(s).copy(o));let u=r&&r[c];a=Ie.from(u?u.type.create(u.attrs,a):i.node(s).copy(a))}e.step(new gi(t,t,new Ze(o.append(a),n,n),!0))}function Rd(e,t){let n=e.resolve(t),r=n.index();return nJ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function yFe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),a=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function nJ(e,t){return!!(e&&t&&!e.isLeaf&&yFe(e,t))}function GE(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,a,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&nJ(o,a)&&r.node(i).canReplace(s,s+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function bFe(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),a=o.node().type;if(i&&a.inlineContent){let u=a.whitespace=="pre",d=!!a.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let s=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);tJ(e,u.node(),u.before(),s)}a.inlineContent&&Y3(e,t+n-1,a,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(s),c=l.map(t-n);if(e.step(new gi(c,l.map(t+n,-1),Ze.empty,!0)),r===!0){let u=e.doc.resolve(c);eJ(e,u.node(),u.before(),e.steps.length)}return e}function xFe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function rJ(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),c=r.node(a),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function YE(e,t,n=t,r=Ze.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return iJ(i,o,r)?new gi(t,n,r):new wFe(i,o,r).fit()}function iJ(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class wFe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ie.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Ie.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,a=r.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new Ze(o,a,s);return t>-1?new bi(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new gi(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=W5(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],u,d=null;if(n==1&&(a?c.matchType(a.type)||(d=c.fillBefore(Ie.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:s,parent:o,inject:d};if(n==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:s,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=W5(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ze(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=W5(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new Ze(ry(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Ze(ry(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-t,c=0,u=[],{match:d,type:p}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let g=s.child(c),v=d.matchType(g.type);if(!v)break;c++,(c>1||l==0||g.content.size)&&(d=v,u.push(oJ(g.mark(p.allowedMarks(g.marks)),c==1?l:0,c==s.childCount?h:-1)))}let m=c==s.childCount;m||(h=-1),this.placed=iy(this.placed,n,Ie.from(u)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=s;g<h;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=m?t==0?Ze.empty:new Ze(ry(a.content,t-1,1),t-1,h<0?a.openEnd:t-1):new Ze(ry(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!V5(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=V5(t,n,i,r,o);if(a){for(let s=n-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],u=V5(t,s,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:a,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=iy(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=iy(this.placed,this.depth,Ie.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ie.empty,!0);n.childCount&&(this.placed=iy(this.placed,this.frontier.length,n))}}function ry(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(ry(e.firstChild.content,t-1,n)))}function iy(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(iy(e.lastChild.content,t-1,n)))}function W5(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function oJ(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,oJ(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ie.empty,!0)))),e.copy(r)}function V5(e,t,n,r,i){let o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!SFe(n,o.content,a)?s:null}function SFe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function _Fe(e){return e.spec.defining||e.spec.definingForContent}function EFe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(iJ(i,o,r))return e.step(new gi(t,n,r));let a=sJ(i,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let p=i.depth,h=i.pos-1;p>0;p--,h--){let m=i.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(p)>-1?s=p:i.before(p)==h&&a.splice(1,0,-p)}let l=a.indexOf(s),c=[],u=r.openStart;for(let p=r.content,h=0;;h++){let m=p.firstChild;if(c.push(m),h==r.openStart)break;p=m.content}for(let p=u-1;p>=0;p--){let h=c[p],m=_Fe(h.type);if(m&&!h.sameMarkup(i.node(Math.abs(s)-1)))u=p;else if(m||!h.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let h=(p+u+1)%(r.openStart+1),m=c[h];if(m)for(let g=0;g<a.length;g++){let v=a[(g+l)%a.length],y=!0;v<0&&(y=!1,v=-v);let x=i.node(v-1),w=i.index(v-1);if(x.canReplaceWith(w,w,m.type,m.marks))return e.replace(i.before(v),y?o.after(v):n,new Ze(aJ(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let p=a.length-1;p>=0&&(e.replace(t,n,r),!(e.steps.length>d));p--){let h=a[p];h<0||(t=i.before(h),n=o.after(h))}}function aJ(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(aJ(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),a=o.fillBefore(e).append(e);e=a.append(o.matchFragment(a).fillBefore(Ie.empty,!0))}return e}function NFe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=xFe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Ze(Ie.from(r),0,0))}function AFe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=sJ(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return e.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function sJ(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class am extends ao{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Vr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Vr.fromReplace(t,this.pos,this.pos+1,new Ze(Ie.from(i),0,n.isLeaf?0:1))}getMap(){return da.empty}invert(t){return new am(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new am(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new am(n.pos,n.attr,n.value)}}ao.jsonID("attr",am);class Q0 extends ao{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Vr.ok(r)}getMap(){return da.empty}invert(t){return new Q0(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Q0(n.attr,n.value)}}ao.jsonID("docAttr",Q0);let ig=class extends Error{};ig=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};ig.prototype=Object.create(Error.prototype);ig.prototype.constructor=ig;ig.prototype.name="TransformError";class Q3{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new X0}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new ig(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Ze.empty){let i=YE(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Ze(Ie.from(r),0,0))}delete(t,n){return this.replace(t,n,Ze.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return EFe(this,t,n,r),this}replaceRangeWith(t,n,r){return NFe(this,t,n,r),this}deleteRange(t,n){return AFe(this,t,n),this}lift(t,n){return uFe(this,t,n),this}join(t,n=1){return bFe(this,t,n),this}wrap(t,n){return hFe(this,t,n),this}setBlockType(t,n=t,r,i=null){return pFe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return gFe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new am(t,n,r)),this}setDocAttribute(t,n){return this.step(new Q0(t,n)),this}addNodeMark(t,n){return this.step(new Hu(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Hn)n.isInSet(r.marks)&&this.step(new vh(t,n));else{let i=r.marks,o,a=[];for(;o=n.isInSet(i);)a.push(new vh(t,o)),i=o.removeFromSet(i);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,n=1,r){return vFe(this,t,n,r),this}addMark(t,n,r){return sFe(this,t,n,r),this}removeMark(t,n,r){return lFe(this,t,n,r),this}clearIncompatible(t,n,r){return Y3(this,t,n,r),this}}const K5=Object.create(null);class Rt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new lJ(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ze.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),s?Ze.empty:n),s==0&&gB(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=t.mapping.slice(r),c=l.map(a.pos),u=l.map(s.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),gB(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Tt(t):mp(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let a=n<0?mp(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):mp(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Ga(t.node(0))}static atStart(t){return mp(t,t,0,0,1)||new Ga(t)}static atEnd(t){return mp(t,t,t.content.size,t.childCount,-1)||new Ga(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=K5[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in K5)throw new RangeError("Duplicate use of selection JSON ID "+t);return K5[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Tt.between(this.$anchor,this.$head).getBookmark()}}Rt.prototype.visible=!0;class lJ{constructor(t,n){this.$from=t,this.$to=n}}let pB=!1;function mB(e){!pB&&!e.parent.inlineContent&&(pB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Tt extends Rt{constructor(t,n=t){mB(t),mB(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Rt.near(r);let i=t.resolve(n.map(this.anchor));return new Tt(i.parent.inlineContent?i:r,r)}replace(t,n=Ze.empty){if(super.replace(t,n),n==Ze.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Tt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new XE(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Tt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Rt.findFrom(n,r,!0)||Rt.findFrom(n,-r,!0);if(o)n=o.$head;else return Rt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Rt.findFrom(t,-r,!0)||Rt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Tt(t,n)}}Rt.jsonID("text",Tt);class XE{constructor(t,n){this.anchor=t,this.head=n}map(t){return new XE(t.map(this.anchor),t.map(this.head))}resolve(t){return Tt.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ct extends Rt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Rt.near(o):new Ct(o)}content(){return new Ze(Ie.from(this.node),0,0)}eq(t){return t instanceof Ct&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Z3(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ct(t.resolve(n.anchor))}static create(t,n){return new Ct(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ct.prototype.visible=!1;Rt.jsonID("node",Ct);class Z3{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new XE(r,r):new Z3(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Ct.isSelectable(r)?new Ct(n):Rt.near(n)}}class Ga extends Rt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ze.empty){if(n==Ze.empty){t.delete(0,t.doc.content.size);let r=Rt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Ga(t)}map(t){return new Ga(t)}eq(t){return t instanceof Ga}getBookmark(){return kFe}}Rt.jsonID("all",Ga);const kFe={map(){return this},resolve(e){return new Ga(e)}};function mp(e,t,n,r,i,o=!1){if(t.inlineContent)return Tt.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let s=t.child(a);if(s.isAtom){if(!o&&Ct.isSelectable(s))return Ct.create(e,n-(i<0?s.nodeSize:0))}else{let l=mp(e,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function gB(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof gi||i instanceof bi))return;let o=e.mapping.maps[r],a;o.forEach((s,l,c,u)=>{a==null&&(a=u)}),e.setSelection(Rt.near(e.doc.resolve(a),n))}const vB=1,Ex=2,yB=4;class CFe extends Q3{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|vB)&~Ex,this.storedMarks=null,this}get selectionSet(){return(this.updated&vB)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Ex,this}ensureMarks(t){return Hn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ex)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Ex,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Hn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(Rt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=yB,this}get scrolledIntoView(){return(this.updated&yB)>0}}function bB(e,t){return!t||!e?e:e.bind(t)}class oy{constructor(t,n,r){this.name=t,this.init=bB(n.init,r),this.apply=bB(n.apply,r)}}const TFe=[new oy("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new oy("selection",{init(e,t){return e.selection||Rt.atStart(t.doc)},apply(e){return e.selection}}),new oy("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new oy("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class G5{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=TFe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new oy(r.key,r.spec.state,r))})}}class Dp{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,u=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Dp(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new CFe(this)}static create(t){let n=new G5(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Dp(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new G5(this.schema,t.plugins),r=n.fields,i=new Dp(n);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new G5(t.schema,t.plugins),o=new Dp(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=ld.fromJSON(t.schema,n.doc);else if(a.name=="selection")o.selection=Rt.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){o[a.name]=c.fromJSON.call(l,t,n[s],o);return}}o[a.name]=a.init(t,o)}}),o}}function cJ(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=cJ(i,t,{})),n[r]=i}return n}class ar{constructor(t){this.spec=t,this.props={},t.props&&cJ(t.props,this,this.props),this.key=t.key?t.key.key:uJ("plugin")}getState(t){return t[this.key]}}const Y5=Object.create(null);function uJ(e){return e in Y5?e+"$"+ ++Y5[e]:(Y5[e]=0,e+"$")}class Ar{constructor(t="key"){this.key=uJ(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const OFe=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function dJ(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const MFe=(e,t,n)=>{let r=dJ(e,n);if(!r)return!1;let i=J3(r);if(!i){let a=r.blockRange(),s=a&&Bg(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(mJ(e,i,t,-1))return!0;if(r.parent.content.size==0&&(og(o,"end")||Ct.isSelectable(o)))for(let a=r.depth;;a--){let s=YE(e.doc,r.before(a),r.after(a),Ze.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(og(o,"end")?Rt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ct.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},PFe=(e,t,n)=>{let r=dJ(e,n);if(!r)return!1;let i=J3(r);return i?fJ(e,i,t):!1},jFe=(e,t,n)=>{let r=hJ(e,n);if(!r)return!1;let i=eR(r);return i?fJ(e,i,t):!1};function fJ(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let u=s.firstChild;if(!u)return!1;s=u}let c=YE(e.doc,o,l,Ze.empty);if(!c||c.from!=o||c instanceof gi&&c.slice.size>=l-o)return!1;if(n){let u=e.tr.step(c);u.setSelection(Tt.create(u.doc,o)),n(u.scrollIntoView())}return!0}function og(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const RFe=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=J3(r)}let a=o&&o.nodeBefore;return!a||!Ct.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ct.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function J3(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function hJ(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const IFe=(e,t,n)=>{let r=hJ(e,n);if(!r)return!1;let i=eR(r);if(!i)return!1;let o=i.nodeAfter;if(mJ(e,i,t,1))return!0;if(r.parent.content.size==0&&(og(o,"start")||Ct.isSelectable(o))){let a=YE(e.doc,r.before(),r.after(),Ze.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=e.tr.step(a);s.setSelection(og(o,"start")?Rt.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Ct.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},LFe=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=eR(r)}let a=o&&o.nodeAfter;return!a||!Ct.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ct.create(e.doc,o.pos)).scrollIntoView()),!0)};function eR(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const DFe=(e,t)=>{let n=e.selection,r=n instanceof Ct,i;if(r){if(n.node.isTextblock||!Rd(e.doc,n.from))return!1;i=n.from}else if(i=GE(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(Ct.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},$Fe=(e,t)=>{let n=e.selection,r;if(n instanceof Ct){if(n.node.isTextblock||!Rd(e.doc,n.to))return!1;r=n.to}else if(r=GE(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},FFe=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Bg(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},BFe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function pJ(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const zFe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),a=pJ(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(t){let s=n.after(),l=e.tr.replaceWith(s,s,a.createAndFill());l.setSelection(Rt.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},UFe=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Ga||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=pJ(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(Tt.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},HFe=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(om(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Bg(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},qFe=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(Ct.create(e.doc,i))),!0)};function WFe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||Rd(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function mJ(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,a,s,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&WFe(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(n){let h=t.pos+o.nodeSize,m=Ie.empty;for(let y=a.length-1;y>=0;y--)m=Ie.from(a[y].create(null,m));m=Ie.from(i.copy(m));let g=e.tr.step(new bi(t.pos-1,h,t.pos,h,new Ze(m,1,0),a.length,!0)),v=g.doc.resolve(h+2*a.length);v.nodeAfter&&v.nodeAfter.type==i.type&&Rd(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Rt.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),p=d&&Bg(d);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(d,p).scrollIntoView()),!0;if(c&&og(o,"start",!0)&&og(i,"end")){let h=i,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=o,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let y=Ie.empty;for(let w=m.length-1;w>=0;w--)y=Ie.from(m[w].copy(y));let x=e.tr.step(new bi(t.pos-m.length,t.pos+o.nodeSize,t.pos+v,t.pos+o.nodeSize-v,new Ze(y,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function gJ(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(Tt.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const VFe=gJ(-1),KFe=gJ(1);function GFe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o),s=a&&X3(a,e,t);return s?(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0):!1}}function xB(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(a,s,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[a];o.setBlockType(s,l,e,t)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function YFe(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,a=i.blockRange(o);if(!a)return!1;let s=r?n.tr:null;return XFe(s,a,e,t)?(r&&r(s.scrollIntoView()),!0):!1}}function XFe(e,t,n,r=null){let i=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new pS(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new pS(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let s=X3(o,n,r,t);return s?(e&&QFe(e,t,s,i,n),!0):!1}function QFe(e,t,n,r,i){let o=Ie.empty;for(let u=n.length-1;u>=0;u--)o=Ie.from(n[u].type.create(n[u].attrs,o));e.step(new bi(t.start-(r?2:0),t.end,t.start,t.end,new Ze(o,0,0),n.length,!0));let a=0;for(let u=0;u<n.length;u++)n[u].type==i&&(a=u+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,p=!0;u<d;u++,p=!1)!p&&om(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(u).nodeSize;return e}function ZFe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?JFe(t,n,e,o):eBe(t,n,o):!0:!1}}function JFe(e,t,n,r){let i=e.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new bi(o-1,a,o,a,new Ze(Ie.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new pS(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const s=Bg(r);if(s==null)return!1;i.lift(r,s);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return Rd(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function eBe(e,t,n){let r=e.tr,i=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=i.child(m).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?Ie.empty:Ie.from(i))))return!1;let d=o.pos,p=d+a.nodeSize;return r.step(new bi(d-(s?1:0),p+(l?1:0),d+1,p-1,new Ze((s?Ie.empty:Ie.from(i.copy(Ie.empty))).append(l?Ie.empty:Ie.from(i.copy(Ie.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}function tBe(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==s.type,u=Ie.from(c?e.create():null),d=new Ze(Ie.from(e.create(null,Ie.from(s.type.create(null,u)))),c?3:1,0),p=o.start,h=o.end;n(t.tr.step(new bi(p-(c?3:1),h,p,h,d,1,!0)).scrollIntoView())}return!0}}const Ri=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},ag=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let GO=null;const lc=function(e,t,n){let r=GO||(GO=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},nBe=function(){GO=null},yh=function(e,t,n,r){return n&&(wB(e,t,n,r,-1)||wB(e,t,n,r,1))},rBe=/^(img|br|input|textarea|hr)$/i;function wB(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Ua(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Fb(e)||rBe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Ri(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?Ua(e):0}else return!1}}function Ua(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function iBe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ua(e)}else if(e.parentNode&&!Fb(e))t=Ri(e),e=e.parentNode;else return null}}function oBe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Fb(e))t=Ri(e)+1,e=e.parentNode;else return null}}function aBe(e,t,n){for(let r=t==0,i=t==Ua(e);r||i;){if(e==n)return!0;let o=Ri(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==Ua(e)}}function Fb(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const QE=function(e){return e.focusNode&&yh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function gf(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function sBe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function lBe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Ua(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Ua(r.startContainer),r.startOffset)}}}const Ml=typeof navigator<"u"?navigator:null,SB=typeof document<"u"?document:null,Id=Ml&&Ml.userAgent||"",YO=/Edge\/(\d+)/.exec(Id),vJ=/MSIE \d/.exec(Id),XO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Id),Uo=!!(vJ||XO||YO),cd=vJ?document.documentMode:XO?+XO[1]:YO?+YO[1]:0,Ya=!Uo&&/gecko\/(\d+)/i.test(Id);Ya&&+(/Firefox\/(\d+)/.exec(Id)||[0,0])[1];const QO=!Uo&&/Chrome\/(\d+)/.exec(Id),ro=!!QO,yJ=QO?+QO[1]:0,_o=!Uo&&!!Ml&&/Apple Computer/.test(Ml.vendor),sg=_o&&(/Mobile\/\w+/.test(Id)||!!Ml&&Ml.maxTouchPoints>2),La=sg||(Ml?/Mac/.test(Ml.platform):!1),cBe=Ml?/Win/.test(Ml.platform):!1,yc=/Android \d/.test(Id),Bb=!!SB&&"webkitFontSmoothing"in SB.documentElement.style,uBe=Bb?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function dBe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ec(e,t){return typeof e=="number"?e:e[t]}function fBe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function _B(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=ag(a);continue}let s=a,l=s==o.body,c=l?dBe(o):fBe(s),u=0,d=0;if(t.top<c.top+ec(r,"top")?d=-(c.top-t.top+ec(i,"top")):t.bottom>c.bottom-ec(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+ec(i,"top")-c.top:t.bottom-c.bottom+ec(i,"bottom")),t.left<c.left+ec(r,"left")?u=-(c.left-t.left+ec(i,"left")):t.right>c.right-ec(r,"right")&&(u=t.right-c.right+ec(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let h=s.scrollLeft,m=s.scrollTop;d&&(s.scrollTop+=d),u&&(s.scrollLeft+=u);let g=s.scrollLeft-h,v=s.scrollTop-m;t={left:t.left-g,top:t.top-v,right:t.right-g,bottom:t.bottom-v}}let p=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(p))break;a=p=="absolute"?a.offsetParent:ag(a)}}function hBe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=e.root.elementFromPoint(o,a);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:bJ(e.dom)}}function bJ(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=ag(r));return t}function pBe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;xJ(n,r==0?0:r-t)}function xJ(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let sp=null;function mBe(e){if(e.setActive)return e.setActive();if(sp)return e.focus(sp);let t=bJ(e);e.focus(sp==null?{get preventScroll(){return sp={preventScroll:!0},!0}}:void 0),sp||(sp=!1,xJ(t,0))}function wJ(e,t){let n,r=2e8,i,o=0,a=t.top,s=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=lc(u).getClientRects();else continue;for(let h=0;h<p.length;h++){let m=p[h];if(m.top<=a&&m.bottom>=s){a=Math.max(m.bottom,a),s=Math.min(m.top,s);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,u.nodeType==1&&g&&(o=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?gBe(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:wJ(n,i)}function gBe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=pu(r,1);if(o.top!=o.bottom&&tR(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function tR(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function vBe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function yBe(e,t,n){let{node:r,offset:i}=wJ(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function bBe(e,t,n,r){let i=-1;for(let o=t,a=!1;o!=e.dom;){let s=e.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?i=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=s.posAfter),a=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function SJ(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=e.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(tR(t,c))return SJ(a,t,c)}}if((o=(o+1)%r)==i)break}return e}function xBe(e,t){let n=e.dom.ownerDocument,r,i=0,o=lBe(n,t.left,t.top);o&&({node:r,offset:i}=o);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!tR(t,c)||(a=SJ(e.dom,t,c),!a))return null}if(_o)for(let c=a;r&&c;c=ag(c))c.draggable&&(r=void 0);if(a=vBe(a,t),r){if(Ya&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let c;Bb&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=bBe(e,r,i,t))}s==null&&(s=yBe(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function EB(e){return e.top<e.bottom||e.left<e.right}function pu(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(EB(r))return r}return Array.prototype.find.call(n,EB)||e.getBoundingClientRect()}const wBe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function _J(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),a=Bb||Ya;if(r.nodeType==3)if(a&&(wBe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=pu(lc(r,i,i),n);if(Ya&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=pu(lc(r,i-1,i-1),-1);if(c.top==l.top){let u=pu(lc(r,i,i+1),-1);if(u.top!=l.top)return zv(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,zv(pu(lc(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Ua(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return X5(l.getBoundingClientRect(),!1)}if(o==null&&i<Ua(r)){let l=r.childNodes[i];if(l.nodeType==1)return X5(l.getBoundingClientRect(),!0)}return X5(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Ua(r))){let l=r.childNodes[i-1],c=l.nodeType==3?lc(l,Ua(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return zv(pu(c,1),!1)}if(o==null&&i<Ua(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?lc(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return zv(pu(c,-1),!0)}return zv(pu(r.nodeType==3?lc(r):r,-n),n>=0)}function zv(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function X5(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function EJ(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function SBe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return EJ(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=_J(e,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=lc(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const _Be=/[\u0590-\u08ac]/;function EBe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=e.domSelection();return s?!_Be.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?o:a:EJ(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),p=s.caretBidiLevel;s.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),v=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{s.collapse(u,d),l&&(l!=u||c!=d)&&s.extend&&s.extend(l,c)}catch{}return p!=null&&(s.caretBidiLevel=p),v}):r.pos==r.start()||r.pos==r.end()}let NB=null,AB=null,kB=!1;function NBe(e,t,n){return NB==t&&AB==n?kB:(NB=t,AB=n,kB=n=="up"||n=="down"?SBe(e,t,n):EBe(e,t,n))}const Xa=0,CB=1,kf=2,Pl=3;class zb{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Xa,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,a;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Ri(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let s=i.children[a];if(s.size){i=s;break}}return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],s=o+a.size;if(s>t||a instanceof AJ){i=t-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof NJ&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Ri(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Ri(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,s=0;;s++){let l=this.children[s],c=a+l.size;if(i==-1&&t<=c){let u=a+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=a;for(let d=s;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Ri(p.dom)+1;break}t-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||s==this.children.length-1)){n=c;for(let u=s+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Ri(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),a=Math.max(t,n);for(let h=0,m=0;h<this.children.length;h++){let g=this.children[h],v=m+g.size;if(o>m&&a<v)return g.setSelection(t-m-g.border,n-m-g.border,r,i);m=v}let s=this.domFromPos(t,t?-1:1),l=n==t?s:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Ya||_o)&&t==n){let{node:h,offset:m}=s;if(h.nodeType==3){if(d=!!(m&&h.nodeValue[m-1]==`
`),d&&m==h.nodeValue.length)for(let g=h,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(s=l={node:v.parentNode,offset:Ri(v)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=h.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Ya&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||d&&_o)&&yh(s.node,s.offset,u.anchorNode,u.anchorOffset)&&yh(l.node,l.offset,u.focusNode,u.focusOffset))return;let p=!1;if((c.extend||t==n)&&!(d&&Ya)){c.collapse(s.node,s.offset);try{t!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(t>n){let m=s;s=l,l=m}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let s=r+o.border,l=a-o.border;if(t>=s&&n<=l){this.dirty=t==r||n==a?kf:CB,t==s&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Pl:o.markDirty(t-s,n-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?kf:Pl}r=a}this.dirty=kf}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?kf:CB;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class NJ extends zb{constructor(t,n,r,i){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==Xa&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class ABe extends zb{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class bh extends zb{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=Rh.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new bh(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Pl||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Pl&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Xa){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Xa}}slice(t,n,r){let i=bh.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=JO(o,n,a,r)),t>0&&(o=JO(o,0,t,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ud extends zb{constructor(t,n,r,i,o,a,s,l,c){super(t,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(t,n,r,i,o,a){let s=o.nodeViews[n.type.name],l,c=s&&s(n,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Rh.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let p=u;return u=TJ(u,r,n),c?l=new kBe(t,n,r,i,u,d||null,p,c,o,a+1):n.isText?new ZE(t,n,r,i,u,p,o):new ud(t,n,r,i,u,d||null,p,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ie.empty)}return t}matchesNode(t,n,r){return this.dirty==Xa&&t.eq(this.node)&&gS(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new TBe(this,a&&a.node,t);PBe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Hn.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,i)},(c,u,d,p)=>{l.syncToMarks(c.marks,r,t);let h;l.findNodeMatch(c,u,d,p)||s&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,t)||l.updateNextNode(c,u,d,t,p,i)||l.addNode(c,u,d,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==kf)&&(a&&this.protectLocalComposition(t,a),kJ(this.contentDOM,this.children,t),sg&&jBe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Tt)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=RBe(this.node.content,a,r-n,i-n);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new ABe(this,o,n,i);t.input.compositionNodes.push(a),this.children=JO(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==Pl||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Xa}updateOuterDeco(t){if(gS(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=CJ(this.dom,this.nodeDOM,ZO(this.outerDeco,this.node,n),ZO(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function TB(e,t,n,r,i){TJ(r,t,e);let o=new ud(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ZE extends ud{constructor(t,n,r,i,o,a,s){super(t,n,r,i,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Pl||this.dirty!=Xa&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Xa||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Xa,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new ZE(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Pl)}get domAtom(){return!1}isText(t){return this.node.text==t}}class AJ extends zb{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Xa&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class kBe extends ud{constructor(t,n,r,i,o,a,s,l,c,u){super(t,n,r,i,o,a,s,c,u),this.spec=l}update(t,n,r,i){if(this.dirty==Pl)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function kJ(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=OB(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(a instanceof bh){let l=r?r.previousSibling:e.lastChild;kJ(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=OB(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Cy=function(e){e&&(this.nodeName=e)};Cy.prototype=Object.create(null);const Cf=[new Cy];function ZO(e,t,n){if(e.length==0)return Cf;let r=n?Cf[0]:new Cy,i=[r];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&i.push(r=new Cy(a.nodeName));for(let s in a){let l=a[s];l!=null&&(n&&i.length==1&&i.push(r=new Cy(t.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function CJ(e,t,n,r){if(n==Cf&&r==Cf)return t;let i=t;for(let o=0;o<r.length;o++){let a=r[o],s=n[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Cf[0]),i=l}CBe(i,s||Cf[0],a)}return i}function CBe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function TJ(e,t,n){return CJ(e,e,Cf,ZO(t,n,e.nodeType!=1))}function gS(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function OB(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class TBe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=OBe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Xa,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=bh.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let a=this.top.children[i];return a.dirty==Pl&&a.dom==a.contentDOM&&(a.dirty=kf),a.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof ud){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,p=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Pl&&gS(n,l.outerDeco));if(!p&&l.update(t,n,r,i))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,t,n,r,i,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=kf,d.updateChildren(i,a+1),d.dirty=Xa),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!gS(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=ud.create(this.top,n,r,i,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,n,r,i,o){let a=ud.create(this.top,t,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new NJ(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof bh;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof ZE)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((_o||ro)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new AJ(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function OBe(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let c=n.children[r-1];if(c instanceof bh)n=c,r=c.children.length;else{s=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function MBe(e,t){return e.type.side-t.type.side}function PBe(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,d;for(;a<i.length&&i[a].to==o;){let v=i[a++];v.widget&&(u?(d||(d=[u])).push(v):u=v)}if(u)if(d){d.sort(MBe);for(let v=0;v<d.length;v++)n(d[v],c,!!l)}else n(u,c,!!l);let p,h;if(l)h=-1,p=l,l=null;else if(c<e.childCount)h=c,p=e.child(c++);else break;for(let v=0;v<s.length;v++)s[v].to<=o&&s.splice(v--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let m=o+p.nodeSize;if(p.isText){let v=m;a<i.length&&i[a].from<v&&(v=i[a].from);for(let y=0;y<s.length;y++)s[y].to<v&&(v=s[y].to);v<m&&(l=p.cut(v-o),p=p.cut(0,v-o),m=v,h=-1)}else for(;a<i.length&&i[a].to<m;)a++;let g=p.isInline&&!p.isLeaf?s.filter(v=>!v.inline):s.slice();r(p,g,t.forChild(o,p),h),o=m}}function jBe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function RBe(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let a=e.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let c=s<r?l.lastIndexOf(t,r-s-1):-1;if(c>=0&&c+t.length+s>=n)return s+c;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function JO(e,t,n,r,i){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function nR(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,c;if(QE(n)){for(l=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Ct.isSelectable(d)&&i.parent&&!(d.isInline&&aBe(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new Ct(a==p?s:r.resolve(p))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,p=a;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);d=Math.min(d,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,a]=p==e.state.selection.anchor?[p,d]:[d,p],s=r.resolve(a)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;c=rR(e,u,s,d)}return c}function OJ(e){return e.editable?e.hasFocus():PJ(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function _c(e,t=!1){let n=e.state.selection;if(MJ(e,n),!!OJ(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ro){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&yh(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)LBe(e);else{let{anchor:r,head:i}=n,o,a;MB&&!(n instanceof Tt)&&(n.$from.parent.inlineContent||(o=PB(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=PB(e,n.to))),e.docView.setSelection(r,i,e,t),MB&&(o&&jB(o),a&&jB(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&IBe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const MB=_o||ro&&yJ<63;function PB(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(_o&&i&&i.contentEditable=="false")return Q5(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Q5(i);if(o)return Q5(o)}}function Q5(e){return e.contentEditable="true",_o&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function jB(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function IBe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!OJ(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function LBe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Ri(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Uo&&cd<=11&&(n.disabled=!0,n.disabled=!1)}function MJ(e,t){if(t instanceof Ct){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(RB(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else RB(e)}function RB(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function rR(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Tt.between(t,n,r)}function IB(e){return e.editable&&!e.hasFocus()?!1:PJ(e)}function PJ(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function DBe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return yh(t.node,t.offset,n.anchorNode,n.anchorOffset)}function eM(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Rt.findFrom(o,t)}function yu(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function LB(e,t,n){let r=e.state.selection;if(r instanceof Tt)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return yu(e,new Tt(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=eM(e.state,t);return i&&i instanceof Ct?yu(e,i):!1}else if(!(La&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM?Ct.isSelectable(o)?yu(e,new Ct(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Bb?yu(e,new Tt(e.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ct&&r.node.isInline)return yu(e,new Tt(t>0?r.$to:r.$from));{let i=eM(e.state,t);return i?yu(e,i):!1}}}function vS(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ty(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function lp(e,t){return t<0?$Be(e):FBe(e)}function $Be(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,a=!1;for(Ya&&n.nodeType==1&&r<vS(n)&&Ty(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(Ty(s,-1))i=n,o=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(jJ(n))break;{let s=n.previousSibling;for(;s&&Ty(s,-1);)i=n.parentNode,o=Ri(s),s=s.previousSibling;if(s)n=s,r=vS(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?tM(e,n,r):i&&tM(e,i,o)}function FBe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=vS(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(Ty(s,1))o=n,a=++r;else break}else{if(jJ(n))break;{let s=n.nextSibling;for(;s&&Ty(s,1);)o=s.parentNode,a=Ri(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=vS(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&tM(e,o,a)}function jJ(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function BBe(e,t){for(;e&&t==e.childNodes.length&&!Fb(e);)t=Ri(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function zBe(e,t){for(;e&&!t&&!Fb(e);)t=Ri(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function tM(e,t,n){if(t.nodeType!=3){let o,a;(a=BBe(t,n))?(t=a,n=0):(o=zBe(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(QE(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&_c(e)},50)}function DB(e,t){let n=e.state.doc.resolve(t);if(!(ro||cBe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function $B(e,t,n){let r=e.state.selection;if(r instanceof Tt&&!r.empty||n.indexOf("s")>-1||La&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=eM(e.state,t);if(a&&a instanceof Ct)return yu(e,a)}if(!i.parent.inlineContent){let a=t<0?i:o,s=r instanceof Ga?Rt.near(a,t):Rt.findFrom(a,t);return s?yu(e,s):!1}return!1}function FB(e,t){if(!(e.state.selection instanceof Tt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=e.state.tr;return t<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),e.dispatch(a),!0}return!1}function BB(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function UBe(e){if(!_o||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;BB(e,r,"true"),setTimeout(()=>BB(e,r,"false"),20)}return!1}function HBe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function qBe(e,t){let n=t.keyCode,r=HBe(t);if(n==8||La&&n==72&&r=="c")return FB(e,-1)||lp(e,-1);if(n==46&&!t.shiftKey||La&&n==68&&r=="c")return FB(e,1)||lp(e,1);if(n==13||n==27)return!0;if(n==37||La&&n==66&&r=="c"){let i=n==37?DB(e,e.state.selection.from)=="ltr"?-1:1:-1;return LB(e,i,r)||lp(e,i)}else if(n==39||La&&n==70&&r=="c"){let i=n==39?DB(e,e.state.selection.from)=="ltr"?1:-1:1;return LB(e,i,r)||lp(e,i)}else{if(n==38||La&&n==80&&r=="c")return $B(e,-1,r)||lp(e,-1);if(n==40||La&&n==78&&r=="c")return UBe(e)||$B(e,1,r)||lp(e,1);if(r==(La?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function iR(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let a=e.someProp("clipboardSerializer")||Rh.fromSchema(e.state.schema),s=FJ(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=$J[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=s.createElement(u[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:p,slice:t}}function RJ(e,t,n,r,i){let o=i.parent.type.spec.code,a,s;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",p=>{t=p(t,o||r,e)}),o)return s=new Ze(Ie.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",p=>{s=p(s,e,!0)}),s;let d=e.someProp("clipboardTextParser",p=>p(t,i,r,e));if(d)s=d;else{let p=i.marks(),{schema:h}=e.state,m=Rh.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=a.appendChild(document.createElement("p"));g&&v.appendChild(m.serializeNode(h.text(g,p)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=GBe(n),Bb&&YBe(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let p=a.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;a=p}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||Ay.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!WBe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)s=XBe(zB(s,+u[1],+u[2]),u[4]);else if(s=Ze.maxOpen(VBe(s.content,i),!0),s.openStart||s.openEnd){let d=0,p=0;for(let h=s.content.firstChild;d<s.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=s.content.lastChild;p<s.openEnd&&!h.type.spec.isolating;p++,h=h.lastChild);s=zB(s,d,p)}return e.someProp("transformPasted",d=>{s=d(s,e,l)}),s}const WBe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function VBe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,a=[];if(e.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&LJ(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=DJ(a[a.length-1],o.length));let u=IJ(s,l);a.push(u),i=i.matchType(u.type),o=l}}),a)return Ie.from(a)}return e}function IJ(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ie.from(e));return e}function LJ(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=LJ(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Ie.from(IJ(n,e,i+1))))}}function DJ(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,DJ(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ie.empty,!0);return e.copy(n.append(r))}function nM(e,t,n,r,i,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),i<r-1&&(s=nM(s,t,n,r,i+1,o)),i>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Ie.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function zB(e,t,n){return t<e.openStart&&(e=new Ze(nM(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ze(nM(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const $J={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let UB=null;function FJ(){return UB||(UB=document.implementation.createHTMLDocument("title"))}let Z5=null;function KBe(e){let t=window.trustedTypes;return t?(Z5||(Z5=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Z5.createHTML(e)):e}function GBe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=FJ().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&$J[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=KBe(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function YBe(e){let t=e.querySelectorAll(ro?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function XBe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:a}=e;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=Ie.from(l.create(r[s+1],i)),o++,a++}return new Ze(i,o,a)}const Eo={},No={},QBe={touchstart:!0,touchmove:!0};class ZBe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function JBe(e){for(let t in Eo){let n=Eo[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{t7e(e,r)&&!oR(e,r)&&(e.editable||!(r.type in No))&&n(e,r)},QBe[t]?{passive:!0}:void 0)}_o&&e.dom.addEventListener("input",()=>null),rM(e)}function qu(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function e7e(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function rM(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>oR(e,r))})}function oR(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function t7e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function n7e(e,t){!oR(e,t)&&Eo[t.type]&&(e.editable||!(t.type in No))&&Eo[t.type](e,t)}No.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!zJ(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(yc&&ro&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),sg&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,gf(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||qBe(e,n)?n.preventDefault():qu(e,"key")};No.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};No.keypress=(e,t)=>{let n=t;if(zJ(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||La&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Tt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,o))&&e.dispatch(o()),n.preventDefault()}};function JE(e){return{left:e.clientX,top:e.clientY}}function r7e(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function aR(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,s=>a>o.depth?s(e,n,o.nodeAfter,o.before(a),i,!0):s(e,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function sm(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function i7e(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Ct.isSelectable(r)?(sm(e,new Ct(n)),!0):!1}function o7e(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Ct&&(r=n.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(Ct.isSelectable(s)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(sm(e,Ct.create(e.state.doc,i)),!0):!1}function a7e(e,t,n,r,i){return aR(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?o7e(e,n):i7e(e,n))}function s7e(e,t,n,r){return aR(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function l7e(e,t,n,r){return aR(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||c7e(e,n,r)}function c7e(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(sm(e,Tt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)sm(e,Tt.create(r,s+1,s+1+a.content.size));else if(Ct.isSelectable(a))sm(e,Ct.create(r,s));else continue;return!0}}function sR(e){return yS(e)}const BJ=La?"metaKey":"ctrlKey";Eo.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=sR(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&r7e(n,e.input.lastClick)&&!n[BJ]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=e.posAtCoords(JE(n));a&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new u7e(e,a,n,!!r)):(o=="doubleClick"?s7e:l7e)(e,a.pos,a.inside,n)?n.preventDefault():qu(e,"pointer"))};class u7e{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[BJ],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),a=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,a=u.depth?u.before():0}const s=i?null:r.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Ct&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ya&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),qu(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>_c(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(JE(t))),this.updateAllowDefault(t),this.allowDefault||!n?qu(this.view,"pointer"):a7e(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||_o&&this.mightDrag&&!this.mightDrag.node.isAtom||ro&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(sm(this.view,Rt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):qu(this.view,"pointer")}move(t){this.updateAllowDefault(t),qu(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Eo.touchstart=e=>{e.input.lastTouch=Date.now(),sR(e),qu(e,"pointer")};Eo.touchmove=e=>{e.input.lastTouch=Date.now(),qu(e,"pointer")};Eo.contextmenu=e=>sR(e);function zJ(e,t){return e.composing?!0:_o&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const d7e=yc?5e3:-1;No.compositionstart=No.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Tt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),yS(e,!0),e.markCursor=null;else if(yS(e,!t.selection.empty),Ya&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=e.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}e.input.composing=!0}UJ(e,d7e)};No.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,UJ(e,20))};function UJ(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>yS(e),t))}function HJ(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=h7e());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function f7e(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=iBe(t.focusNode,t.focusOffset),r=oBe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function h7e(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function yS(e,t=!1){if(!(yc&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),HJ(e),t||e.docView&&e.docView.dirty){let n=nR(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function p7e(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Z0=Uo&&cd<15||sg&&uBe<604;Eo.copy=No.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=Z0?null:n.clipboardData,a=r.content(),{dom:s,text:l}=iR(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):p7e(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function m7e(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function g7e(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?J0(e,r.value,null,i,t):J0(e,r.textContent,r.innerHTML,i,t)},50)}function J0(e,t,n,r,i){let o=RJ(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||Ze.empty)))return!0;if(!o)return!1;let a=m7e(o),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(o);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function qJ(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}No.paste=(e,t)=>{let n=t;if(e.composing&&!yc)return;let r=Z0?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&J0(e,qJ(r),r.getData("text/html"),i,n)?n.preventDefault():g7e(e,n)};class WJ{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const v7e=La?"altKey":"ctrlKey";function VJ(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[v7e]}Eo.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(JE(n)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ct?i.to-1:i.to))){if(r&&r.mightDrag)a=Ct.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=Ct.create(e.state.doc,d.posBefore))}}let s=(a||e.state.selection).content(),{dom:l,text:c,slice:u}=iR(e,s);(!n.dataTransfer.files.length||!ro||yJ>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Z0?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Z0||n.dataTransfer.setData("text/plain",c),e.dragging=new WJ(u,VJ(e,n),a)};Eo.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};No.dragover=No.dragenter=(e,t)=>t.preventDefault();No.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(JE(n));if(!i)return;let o=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",m=>{a=m(a,e,!1)}):a=RJ(e,qJ(n.dataTransfer),Z0?null:n.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&VJ(e,n));if(e.someProp("handleDrop",m=>m(e,n,a||Ze.empty,s))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?rJ(e.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(s){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(p))return;let h=c.doc.resolve(u);if(d&&Ct.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Ct(h));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,v,y,x)=>m=x),c.setSelection(rR(e,h,c.doc.resolve(m)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Eo.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&_c(e)},20))};Eo.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Eo.beforeinput=(e,t)=>{if(ro&&yc&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,gf(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in No)Eo[e]=No[e];function eb(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class bS{constructor(t,n){this.toDOM=t,this.spec=n||Vf,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new li(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof bS&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&eb(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class dd{constructor(t,n){this.attrs=t,this.spec=n||Vf}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new li(o,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof dd&&eb(this.attrs,t.attrs)&&eb(this.spec,t.spec)}static is(t){return t.type instanceof dd}destroy(){}}class lR{constructor(t,n){this.attrs=t,this.spec=n||Vf}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new li(o.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof lR&&eb(this.attrs,t.attrs)&&eb(this.spec,t.spec)}destroy(){}}class li{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new li(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new li(t,t,new bS(n,r))}static inline(t,n,r,i){return new li(t,n,new dd(r,i))}static node(t,n,r,i){return new li(t,n,new lR(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof dd}get widget(){return this.type instanceof bS}}const gp=[],Vf={};class Un{constructor(t,n){this.local=t.length?t:gp,this.children=n.length?n:gp}static create(t,n){return n.length?xS(n,t,0,Vf):Xi}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=n&&s.to>=t&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,n-s,r,i+s,o)}}map(t,n,r){return this==Xi||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Vf)}mapInner(t,n,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?y7e(this.children,a||[],t,n,r,i,o):a?new Un(a.sort(Kf),gp):Xi}add(t,n){return n.length?this==Xi?Un.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((s,l)=>{let c=l+r,u;if(u=GJ(n,s,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,u,c+1):i.splice(o,0,l,l+s.nodeSize,xS(u,s,c+1,Vf)),o+=3}});let a=KJ(o?YJ(n):n,-r);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new Un(a.length?this.local.concat(a).sort(Kf):this.local,i||this.children)}remove(t){return t.length==0||this==Xi?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>s&&d.to<l&&(t[u]=null,(a||(a=[])).push(d));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(a,s+1);c!=Xi?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<i.length;s++)i[s].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Un(i,r):Xi}forChild(t,n){if(this==Xi)return this;if(n.isLeaf)return Un.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(r=this.children[s+2]);break}let o=t+1,a=o+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof dd){let c=Math.max(o,l.from)-o,u=Math.min(a,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let s=new Un(i.sort(Kf),gp);return r?new Nu([s,r]):s}return r||Xi}eq(t){if(this==t)return!0;if(!(t instanceof Un)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return cR(this.localsInner(t))}localsInner(t){if(this==Xi)return gp;if(t.inlineContent||!this.local.some(dd.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof dd||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Un.empty=new Un([],[]);Un.removeOverlap=cR;const Xi=Un.empty;class Nu{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Vf));return Nu.from(r)}forChild(t,n){if(n.isLeaf)return Un.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=Xi&&(o instanceof Nu?r=r.concat(o.members):r.push(o))}return Nu.from(r)}eq(t){if(!(t instanceof Nu)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?cR(r?n:n.sort(Kf)):gp}static from(t){switch(t.length){case 0:return Xi;case 1:return t[0];default:return new Nu(t.every(n=>n instanceof Un)?t:t.reduce((n,r)=>n.concat(r instanceof Un?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function y7e(e,t,n,r,i,o,a){let s=e.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((p,h,m,g)=>{let v=g-m-(h-p);for(let y=0;y<s.length;y+=3){let x=s[y+1];if(x<0||p>x+u-d)continue;let w=s[y]+u-d;h>=w?s[y+1]=p<=w?-2:-1:p>=u&&v&&(s[y]+=v,s[y+1]+=v)}d+=v}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let u=n.map(e[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let p=n.map(e[c+1]+o,-1),h=p-i,{index:m,offset:g}=r.content.findIndex(d),v=r.maybeChild(m);if(v&&g==d&&g+v.nodeSize==h){let y=s[c+2].mapInner(n,v,u+1,e[c]+o+1,a);y!=Xi?(s[c]=d,s[c+1]=h,s[c+2]=y):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=b7e(s,e,t,n,i,o,a),u=xS(c,r,0,a);t=u.local;for(let d=0;d<s.length;d+=3)s[d+1]<0&&(s.splice(d,3),d-=3);for(let d=0,p=0;d<u.children.length;d+=3){let h=u.children[d];for(;p<s.length&&s[p]<h;)p+=3;s.splice(p,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Un(t.sort(Kf),s)}function KJ(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new li(i.from+t,i.to+t,i.type))}return n}function b7e(e,t,n,r,i,o,a){function s(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)s(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+o+1);return n}function GJ(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,a;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[o]=null);return i}function YJ(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function xS(e,t,n,r){let i=[],o=!1;t.forEach((s,l)=>{let c=GJ(e,s,l+n);if(c){o=!0;let u=xS(c,s,n+l+1,r);u!=Xi&&i.push(l,l+s.nodeSize,u)}});let a=KJ(o?YJ(e):e,-n).sort(Kf);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Un(a,i):Xi}function Kf(e,t){return e.from-t.from||e.to-t.to}function cR(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),HB(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),HB(t,i,r.copy(o.from,r.to)));break}}}return t}function HB(e,t,n){for(;t<e.length&&Kf(n,e[t])>0;)t++;e.splice(t,0,n)}function J5(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Xi&&t.push(r)}),e.cursorWrapper&&t.push(Un.create(e.state.doc,[e.cursorWrapper.deco])),Nu.from(t)}const x7e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},w7e=Uo&&cd<=11;class S7e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class _7e{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new S7e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Uo&&cd<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),w7e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,x7e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(IB(this.view)){if(this.suppressingSelectionUpdates)return _c(this.view);if(Uo&&cd<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&yh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=ag(o))n.add(o);for(let o=t.anchorNode;o;o=ag(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&IB(t)&&!this.ignoreSelectionChange(r),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(s=!0))}if(Ya&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,p]=u;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of u){let h=p.parentNode;h&&h.nodeName=="LI"&&(!d||A7e(t,d)!=h)&&p.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&QE(r)&&(c=nR(t))&&c.eq(Rt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,_c(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,a),E7e(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||_c(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Uo&&cd<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:p}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p)}let a=i&&i.parentNode==t.target?Ri(i)+1:0,s=r.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Ri(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let qB=new WeakMap,WB=!1;function E7e(e){if(!qB.has(e)&&(qB.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ya,WB)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),WB=!0}}function VB(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return yh(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function N7e(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return VB(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?VB(e,n):null}function A7e(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function k7e(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],QE(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ro&&e.input.lastKeyCode===8)for(let v=o;v>i;v--){let y=r.childNodes[v-1],x=y.pmViewDesc;if(y.nodeName=="BR"&&!x){o=v;break}if(!x||x.size)break}let d=e.state.doc,p=e.someProp("domParser")||Ay.fromSchema(e.state.schema),h=d.resolve(a),m=null,g=p.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:C7e,context:h});if(c&&c[0].pos!=null){let v=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=v),m={anchor:v+a,head:y+a}}return{doc:g,sel:m,from:a,to:s}}function C7e(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(_o&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||_o&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const T7e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function O7e(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let O=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,E=nR(e,O);if(E&&!e.state.selection.eq(E)){if(ro&&yc&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,gf(13,"Enter"))))return;let C=e.state.tr.setSelection(E);O=="pointer"?C.setMeta("pointer",!0):O=="key"&&C.scrollIntoView(),o&&C.setMeta("composition",o),e.dispatch(C)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,c=k7e(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),p,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(p=e.state.selection.to,h="end"):(p=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let m=j7e(d.content,c.doc.content,c.from,p,h);if(m&&e.input.domChangeCount++,(sg&&e.input.lastIOSEnter>Date.now()-225||yc)&&i.some(O=>O.nodeType==1&&!T7e.test(O.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",O=>O(e,gf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Tt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let O=KB(e,e.state.doc,c.sel);if(O&&!O.eq(e.state.selection)){let E=e.state.tr.setSelection(O);o&&E.setMeta("composition",o),e.dispatch(E)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Tt&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Uo&&cd<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),v=c.doc.resolveNoCache(m.endB-c.from),y=u.resolve(m.start),x=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=m.endA;if((sg&&e.input.lastIOSEnter>Date.now()-225&&(!x||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!x&&g.pos<c.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&g.pos<v.pos&&!/\S/.test(c.doc.textBetween(g.pos,v.pos,"","")))&&e.someProp("handleKeyDown",O=>O(e,gf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&P7e(u,m.start,m.endA,g,v)&&e.someProp("handleKeyDown",O=>O(e,gf(8,"Backspace")))){yc&&ro&&e.domObserver.suppressSelectionUpdates();return}ro&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),yc&&!x&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,v=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(O){return O(e,gf(13,"Enter"))})},20));let w=m.start,_=m.endA,N=O=>{let E=O||e.state.tr.replace(w,_,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let C=KB(e,E.doc,c.sel);C&&!(ro&&e.composing&&C.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(C.head==w||C.head==E.mapping.map(_)-1)||Uo&&C.empty&&C.head==w)&&E.setSelection(C)}return o&&E.setMeta("composition",o),E.scrollIntoView()},k;if(x)if(g.pos==v.pos){Uo&&cd<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>_c(e),20));let O=N(e.state.tr.delete(w,_)),E=u.resolve(m.start).marksAcross(u.resolve(m.endA));E&&O.ensureMarks(E),e.dispatch(O)}else if(m.endA==m.endB&&(k=M7e(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let O=N(e.state.tr);k.type=="add"?O.addMark(w,_,k.mark):O.removeMark(w,_,k.mark),e.dispatch(O)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let O=g.parent.textBetween(g.parentOffset,v.parentOffset),E=()=>N(e.state.tr.insertText(O,w,_));e.someProp("handleTextInput",C=>C(e,w,_,O,E))||e.dispatch(E())}else e.dispatch(N());else e.dispatch(N())}function KB(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:rR(e,t.resolve(n.anchor),t.resolve(n.head))}function M7e(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,a,s,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=u=>u.mark(s.addToSet(u.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=u=>u.mark(s.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(Ie.from(c).eq(e))return{mark:s,type:a}}function P7e(e,t,n,r,i){if(n-t<=i.pos-r.pos||ek(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let s=o.nodeAfter;return s!=null&&n==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(ek(o,!0,!0));return!a.parent.isTextblock||a.pos>n||ek(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function ek(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function j7e(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}if(a<o&&e.size<t.size){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&GB(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&GB(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function GB(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class XJ{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ZBe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(JB),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=QB(this),XB(this),this.nodeViews=ZB(this),this.docView=TB(this.state.doc,YB(this),J5(this),this.dom,this),this.domObserver=new _7e(this,(r,i,o,a)=>O7e(this,r,i,o,a)),this.domObserver.start(),JBe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&rM(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(JB),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(HJ(this),a=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=ZB(this);I7e(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&rM(this),this.editable=QB(this),XB(this);let l=J5(this),c=YB(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(i.selection))&&(a=!0);let p=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&hBe(this);if(a){this.domObserver.stop();let h=d&&(Uo||ro)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&R7e(i.selection,t.selection);if(d){let m=ro?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=f7e(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=TB(t.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&DBe(this))?_c(this,h):(MJ(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&pBe(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ct){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_B(this,n.getBoundingClientRect(),t)}else _B(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new WJ(t.slice,t.move,i<0?void 0:Ct.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(i=n?n(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Uo){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&mBe(this.dom),_c(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return xBe(this,t)}coordsAtPos(t,n=1){return _J(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return NBe(this,n||this.state,t)}pasteHTML(t,n){return J0(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return J0(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return iR(this,t)}destroy(){this.docView&&(e7e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],J5(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,nBe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return n7e(this,t)}domSelectionRange(){let t=this.domSelection();return t?_o&&this.root.nodeType===11&&sBe(this.dom.ownerDocument)==this.dom&&N7e(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}XJ.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function YB(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[li.node(0,e.state.doc.content.size,t)]}function XB(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:li.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function QB(e){return!e.someProp("editable",t=>t(e.state)===!1)}function R7e(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function ZB(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function I7e(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function JB(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var wd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wS={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},L7e=typeof navigator<"u"&&/Mac/.test(navigator.platform),D7e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ii=0;Ii<10;Ii++)wd[48+Ii]=wd[96+Ii]=String(Ii);for(var Ii=1;Ii<=24;Ii++)wd[Ii+111]="F"+Ii;for(var Ii=65;Ii<=90;Ii++)wd[Ii]=String.fromCharCode(Ii+32),wS[Ii]=String.fromCharCode(Ii);for(var tk in wd)wS.hasOwnProperty(tk)||(wS[tk]=wd[tk]);function $7e(e){var t=L7e&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||D7e&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?wS:wd)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const F7e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),B7e=typeof navigator<"u"&&/Win/.test(navigator.platform);function z7e(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))F7e?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function U7e(e){let t=Object.create(null);for(let n in e)t[z7e(n)]=e[n];return t}function nk(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function H7e(e){return new ar({props:{handleKeyDown:uR(e)}})}function uR(e){let t=U7e(e);return function(n,r){let i=$7e(r),o,a=t[nk(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=t[nk(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(B7e&&r.ctrlKey&&r.altKey)&&(o=wd[r.keyCode])&&o!=i){let s=t[nk(o,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}var q7e=Object.defineProperty,dR=(e,t)=>{for(var n in t)q7e(e,n,{get:t[n],enumerable:!0})};function eN(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var tN=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,s])=>[a,(...c)=>{const u=s(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],s=!!e,l=e||i.tr,c=()=>(!s&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),a.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,p])=>[d,(...m)=>{const g=this.buildProps(l,t),v=p(...m)(g);return a.push(v),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:eN({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([s,l])=>[s,(...c)=>l(...c)(a)]))}};return a}},QJ={};dR(QJ,{blur:()=>W7e,clearContent:()=>V7e,clearNodes:()=>K7e,command:()=>G7e,createParagraphNear:()=>Y7e,cut:()=>X7e,deleteCurrentNode:()=>Q7e,deleteNode:()=>Z7e,deleteRange:()=>J7e,deleteSelection:()=>eze,enter:()=>tze,exitCode:()=>nze,extendMarkRange:()=>rze,first:()=>ize,focus:()=>aze,forEach:()=>sze,insertContent:()=>lze,insertContentAt:()=>dze,joinBackward:()=>pze,joinDown:()=>hze,joinForward:()=>mze,joinItemBackward:()=>gze,joinItemForward:()=>vze,joinTextblockBackward:()=>yze,joinTextblockForward:()=>bze,joinUp:()=>fze,keyboardShortcut:()=>wze,lift:()=>Sze,liftEmptyBlock:()=>_ze,liftListItem:()=>Eze,newlineInCode:()=>Nze,resetAttributes:()=>Aze,scrollIntoView:()=>kze,selectAll:()=>Cze,selectNodeBackward:()=>Tze,selectNodeForward:()=>Oze,selectParentNode:()=>Mze,selectTextblockEnd:()=>Pze,selectTextblockStart:()=>jze,setContent:()=>Rze,setMark:()=>Qze,setMeta:()=>Zze,setNode:()=>Jze,setNodeSelection:()=>e9e,setTextSelection:()=>t9e,sinkListItem:()=>n9e,splitBlock:()=>r9e,splitListItem:()=>i9e,toggleList:()=>o9e,toggleMark:()=>a9e,toggleNode:()=>s9e,toggleWrap:()=>l9e,undoInputRule:()=>c9e,unsetAllMarks:()=>u9e,unsetMark:()=>d9e,updateAttributes:()=>f9e,wrapIn:()=>h9e,wrapInList:()=>p9e});var W7e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),V7e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),K7e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),p=c.resolve(u.map(l+s.nodeSize)),h=d.blockRange(p);if(!h)return;const m=Bg(h);if(s.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,g)}(m||m===0)&&t.lift(h,m)})}),!0},G7e=e=>t=>e(t),Y7e=()=>({state:e,dispatch:t})=>UFe(e,t),X7e=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,o.content),r.setSelection(new Tt(r.doc.resolve(Math.max(a-1,0)))),!0},Q7e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const s=i.before(o),l=i.after(o);e.delete(s,l).scrollIntoView()}return!0}return!1};function Yr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Z7e=e=>({tr:t,state:n,dispatch:r})=>{const i=Yr(e,n.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const l=o.before(a),c=o.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},J7e=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},eze=()=>({state:e,dispatch:t})=>OFe(e,t),tze=()=>({commands:e})=>e.keyboardShortcut("Enter"),nze=()=>({state:e,dispatch:t})=>zFe(e,t);function fR(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function SS(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:fR(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function ZJ(e,t,n={}){return e.find(r=>r.type===t&&SS(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function e7(e,t,n={}){return!!ZJ(e,t,n)}function hR(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!ZJ([...i.node.marks],t,n)))return;let a=i.index,s=e.start()+i.offset,l=a+1,c=s+i.node.nodeSize;for(;a>0&&e7([...e.parent.child(a-1).marks],t,n);)a-=1,s-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&e7([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function Bc(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var rze=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=Bc(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(i){const d=hR(l,o,t);if(d&&d.from<=c&&d.to>=u){const p=Tt.create(a,d.from,d.to);n.setSelection(p)}}return!0},ize=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function JJ(e){return e instanceof Tt}function Tf(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function eee(e,t=null){if(!t)return null;const n=Rt.atStart(e),r=Rt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?Tt.create(e,Tf(0,i,o),Tf(e.content.size,i,o)):Tt.create(e,Tf(t,i,o),Tf(t,i,o))}function oze(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function pR(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var aze=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(pR()||oze())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!JJ(n.state.selection))return a(),!0;const s=eee(i.doc,e)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},sze=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),lze=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),tee=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&tee(r)}return e};function Nx(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return tee(n)}function tb(e,t,n){if(e instanceof ld||e instanceof Ie)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Ie.fromArray(e.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),tb("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,s="";const l=new VZ({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,s=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Ay.fromSchema(l).parseSlice(Nx(e),n.parseOptions):Ay.fromSchema(l).parse(Nx(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const o=Ay.fromSchema(t);return n.slice?o.parseSlice(Nx(e),n.parseOptions).content:o.parse(Nx(e),n.parseOptions)}return tb("",t,n)}function cze(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof gi||i instanceof bi))return;const o=e.mapping.maps[r];let a=0;o.forEach((s,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Rt.near(e.doc.resolve(a),n))}var uze=e=>!("type"in e),dze=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let s;const l=v=>{o.emit("contentError",{editor:o,error:v,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{tb(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(v){l(v)}try{s=tb(t,o.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(v){return l(v),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,h=!0;if((uze(s)?s:[s]).forEach(v=>{v.check(),p=p?v.isText&&v.marks.length===0:!1,h=h?v.isBlock:!1}),u===d&&h){const{parent:v}=r.doc.resolve(u);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(u-=1,d+=1)}let g;if(p){if(Array.isArray(t))g=t.map(v=>v.text||"").join("");else if(t instanceof Ie){let v="";t.forEach(y=>{y.text&&(v+=y.text)}),g=v}else typeof t=="object"&&t&&t.text?g=t.text:g=t;r.insertText(g,u,d)}else{g=s;const v=r.doc.resolve(u),y=v.node(),x=v.parentOffset===0,w=y.isText||y.isTextblock,_=y.content.size>0;x&&w&&_&&(u=Math.max(0,u-1)),r.replaceWith(u,d,g)}n.updateSelection&&cze(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},fze=()=>({state:e,dispatch:t})=>DFe(e,t),hze=()=>({state:e,dispatch:t})=>$Fe(e,t),pze=()=>({state:e,dispatch:t})=>MFe(e,t),mze=()=>({state:e,dispatch:t})=>IFe(e,t),gze=()=>({state:e,dispatch:t,tr:n})=>{try{const r=GE(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},vze=()=>({state:e,dispatch:t,tr:n})=>{try{const r=GE(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},yze=()=>({state:e,dispatch:t})=>PFe(e,t),bze=()=>({state:e,dispatch:t})=>jFe(e,t);function nee(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function xze(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))pR()||nee()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var wze=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=xze(e).split(/-(?!$)/),a=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,s))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Sd(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,a=t?Yr(t,e.schema):null,s=[];e.doc.nodesBetween(r,i,(d,p)=>{if(d.isText)return;const h=Math.max(r,p),m=Math.min(i,p+d.nodeSize);s.push({node:d,from:h,to:m})});const l=i-r,c=s.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>SS(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}var Sze=(e,t={})=>({state:n,dispatch:r})=>{const i=Yr(e,n.schema);return Sd(n,i,t)?FFe(n,r):!1},_ze=()=>({state:e,dispatch:t})=>HFe(e,t),Eze=e=>({state:t,dispatch:n})=>{const r=Yr(e,t.schema);return ZFe(r)(t,n)},Nze=()=>({state:e,dispatch:t})=>BFe(e,t);function nN(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function t7(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var Aze=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=nN(typeof e=="string"?e:e.name,r.schema);return s?(s==="node"&&(o=Yr(e,r.schema)),s==="mark"&&(a=Bc(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,t7(c.attrs,t)),a&&c.marks.length&&c.marks.forEach(d=>{a===d.type&&n.addMark(u,u+c.nodeSize,a.create(t7(d.attrs,t)))})})}),!0):!1},kze=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Cze=()=>({tr:e,dispatch:t})=>{if(t){const n=new Ga(e.doc);e.setSelection(n)}return!0},Tze=()=>({state:e,dispatch:t})=>RFe(e,t),Oze=()=>({state:e,dispatch:t})=>LFe(e,t),Mze=()=>({state:e,dispatch:t})=>qFe(e,t),Pze=()=>({state:e,dispatch:t})=>KFe(e,t),jze=()=>({state:e,dispatch:t})=>VFe(e,t);function iM(e,t,n={},r={}){return tb(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Rze=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:a,commands:s})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=iM(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),s.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function ree(e,t){const n=Bc(t,e.schema),{from:r,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function iee(e,t){const n=new Q3(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Ize(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function oM(e,t){const n=[];return e.descendants((r,i)=>{t(r)&&n.push({node:r,pos:i})}),n}function Lze(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function oee(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function rN(e){return t=>oee(t.$from,e)}function Et(e,t,n){return e.config[t]===void 0&&e.parent?Et(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Et(e.parent,t,n):null}):e.config[t]}function mR(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Et(t,"addExtensions",n);return r?[t,...mR(r())]:t}).flat(10)}function gR(e,t){const n=Rh.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function aee(e){return typeof e=="function"}function En(e,t=void 0,...n){return aee(e)?t?e.bind(t)(...n):e(...n):e}function Dze(e={}){return Object.keys(e).length===0&&e.constructor===Object}function nb(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function see(e){const t=[],{nodeExtensions:n,markExtensions:r}=nb(e),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:i},l=Et(a,"addGlobalAttributes",s);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([p,h])=>{t.push({type:d,name:p,attribute:{...o,...h}})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=Et(a,"addAttributes",s);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const p={...o,...d};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,t.push({type:a.name,name:u,attribute:p})})}),t}function Wn(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const s=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=s.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const s=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,p]=u.split(":").map(h=>h.trim());c.set(d,p)}),s.forEach(u=>{const[d,p]=u.split(":").map(h=>h.trim());c.set(d,p)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function _S(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Wn(n,r),{})}function $ze(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function n7(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(n):$ze(n.getAttribute(a.name));return s==null?o:{...o,[a.name]:s}},{});return{...r,...i}}}}function r7(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&Dze(n)?!1:n!=null))}function Fze(e,t){var n;const r=see(e),{nodeExtensions:i,markExtensions:o}=nb(e),a=(n=i.find(c=>Et(c,"topNode")))==null?void 0:n.name,s=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((y,x)=>{const w=Et(x,"extendNodeSchema",d);return{...y,...w?w(c):{}}},{}),h=r7({...p,content:En(Et(c,"content",d)),marks:En(Et(c,"marks",d)),group:En(Et(c,"group",d)),inline:En(Et(c,"inline",d)),atom:En(Et(c,"atom",d)),selectable:En(Et(c,"selectable",d)),draggable:En(Et(c,"draggable",d)),code:En(Et(c,"code",d)),whitespace:En(Et(c,"whitespace",d)),linebreakReplacement:En(Et(c,"linebreakReplacement",d)),defining:En(Et(c,"defining",d)),isolating:En(Et(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var x,w;return[y.name,{default:(x=y==null?void 0:y.attribute)==null?void 0:x.default,validate:(w=y==null?void 0:y.attribute)==null?void 0:w.validate}]}))}),m=En(Et(c,"parseHTML",d));m&&(h.parseDOM=m.map(y=>n7(y,u)));const g=Et(c,"renderHTML",d);g&&(h.toDOM=y=>g({node:y,HTMLAttributes:_S(y,u)}));const v=Et(c,"renderText",d);return v&&(h.toText=v),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},p=e.reduce((v,y)=>{const x=Et(y,"extendMarkSchema",d);return{...v,...x?x(c):{}}},{}),h=r7({...p,inclusive:En(Et(c,"inclusive",d)),excludes:En(Et(c,"excludes",d)),group:En(Et(c,"group",d)),spanning:En(Et(c,"spanning",d)),code:En(Et(c,"code",d)),attrs:Object.fromEntries(u.map(v=>{var y,x;return[v.name,{default:(y=v==null?void 0:v.attribute)==null?void 0:y.default,validate:(x=v==null?void 0:v.attribute)==null?void 0:x.validate}]}))}),m=En(Et(c,"parseHTML",d));m&&(h.parseDOM=m.map(v=>n7(v,u)));const g=Et(c,"renderHTML",d);return g&&(h.toDOM=v=>g({mark:v,HTMLAttributes:_S(v,u)})),[c.name,h]}));return new VZ({topNode:a,nodes:s,marks:l})}function Bze(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function vR(e){return e.sort((n,r)=>{const i=Et(n,"priority")||100,o=Et(r,"priority")||100;return i>o?-1:i<o?1:0})}function lee(e){const t=vR(mR(e)),n=Bze(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function cee(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,i,(l,c,u,d)=>{var p;l.isBlock&&c>r&&(s+=o);const h=a==null?void 0:a[l.type.name];if(h)return u&&(s+=h({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(s+=(p=l==null?void 0:l.text)==null?void 0:p.slice(Math.max(r,c)-c,i-c))}),s}function zze(e,t){const n={from:0,to:e.content.size};return cee(e,n,t)}function uee(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function Uze(e,t){const n=Yr(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===n.name);return a?{...a.attrs}:{}}function dee(e,t){const n=nN(typeof t=="string"?t:t.name,e.schema);return n==="node"?Uze(e,t):n==="mark"?ree(e,t):{}}function Hze(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function qze(e){const t=Hze(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function fee(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((s,l)=>{a.push({from:s,to:l})});else{const{from:s,to:l}=n[o];if(s===void 0||l===void 0)return;a.push({from:s,to:l})}a.forEach(({from:s,to:l})=>{const c=t.slice(o).map(s,-1),u=t.slice(o).map(l),d=t.invert().map(c,-1),p=t.invert().map(u);r.push({oldRange:{from:d,to:p},newRange:{from:c,to:u}})})}),qze(r)}function yR(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),a=hR(o,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(e,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}var Wze=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let o=r,a=null;for(;o>0&&a===null;){const s=i.node(o);(s==null?void 0:s.type.name)===t?a=s:o-=1}return[a,o]};function rk(e,t){return t.nodes[e]||t.marks[e]||null}function xw(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var Vze=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,a,s)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:a,index:s}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),n};function aM(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?Bc(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>SS(d.attrs,n,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:d,$to:p})=>{const h=d.pos,m=p.pos;e.doc.nodesBetween(h,m,(g,v)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,v),x=Math.min(m,v+g.nodeSize),w=x-y;a+=w,s.push(...g.marks.map(_=>({mark:_,from:y,to:x})))})}),a===0)return!1;const l=s.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>SS(d.mark.attrs,n,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=s.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=a}function Kze(e,t,n={}){if(!t)return Sd(e,null,n)||aM(e,null,n);const r=nN(t,e.schema);return r==="node"?Sd(e,t,n):r==="mark"?aM(e,t,n):!1}var Gze=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const o=rN(s=>s.type.name===t)(e.selection);if(!o)return!1;const a=e.doc.resolve(o.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},Yze=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function i7(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function o7(e,t){const{nodeExtensions:n}=nb(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=En(Et(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function iN(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(iN(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function hee(e){return e instanceof Ct}function Xze(e,t,n){var r;const{selection:i}=t;let o=null;if(JJ(i)&&(o=i.$cursor),o){const s=(r=e.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(s)||!s.some(c=>c.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:s,$to:l})=>{let c=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(s.pos,l.pos,(u,d,p)=>{if(c)return!1;if(u.isInline){const h=!p||p.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&m}return!c}),c})}var Qze=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:a,ranges:s}=o,l=Bc(e,r.schema);if(i)if(a){const c=ree(r,l);n.addStoredMark(l.create({...c,...t}))}else s.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(p,h)=>{const m=Math.max(h,u),g=Math.min(h+p.nodeSize,d);p.marks.find(y=>y.type===l)?p.marks.forEach(y=>{l===y.type&&n.addMark(m,g,l.create({...y.attrs,...t}))}):n.addMark(m,g,l.create(t))})});return Xze(r,n,l)},Zze=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Jze=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Yr(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:s})=>xB(o,{...a,...t})(n)?!0:s.clearNodes()).command(({state:s})=>xB(o,{...a,...t})(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},e9e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Tf(e,0,r.content.size),o=Ct.create(r,i);t.setSelection(o)}return!0},t9e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=Tt.atStart(r).from,s=Tt.atEnd(r).to,l=Tf(i,a,s),c=Tf(o,a,s),u=Tt.create(r,l,c);t.setSelection(u)}return!0},n9e=e=>({state:t,dispatch:n})=>{const r=Yr(e,t.schema);return tBe(r)(t,n)};function a7(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}var r9e=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=i.extensionManager.attributes,u=xw(c,s.node().type.name,s.node().attrs);if(o instanceof Ct&&o.node.isBlock)return!s.parentOffset||!om(a,s.pos)?!1:(r&&(e&&a7(n,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,p=s.depth===0?void 0:Ize(s.node(-1).contentMatchAt(s.indexAfter(-1)));let h=d&&p?[{type:p,attrs:u}]:void 0,m=om(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!m&&om(t.doc,t.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(m=!0,h=p?[{type:p,attrs:u}]:void 0),r){if(m&&(o instanceof Tt&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,h),p&&!d&&!s.parentOffset&&s.parent.type!==p)){const g=t.mapping.map(s.before()),v=t.doc.resolve(g);s.node(-1).canReplaceWith(v.index(),v.index()+1,p)&&t.setNodeMarkup(t.mapping.map(s.before()),p)}e&&a7(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return m},i9e=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var a;const s=Yr(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==s)return!1;const p=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=Ie.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-x;E>=l.depth-3;E-=1)y=Ie.from(l.node(E).copy(y));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,_={...xw(p,l.node().type.name,l.node().attrs),...t},N=((a=s.contentMatch.defaultType)==null?void 0:a.createAndFill(_))||void 0;y=y.append(Ie.from(s.createAndFill(null,N)||void 0));const k=l.before(l.depth-(x-1));n.replace(k,l.after(-w),new Ze(y,4-x,0));let O=-1;n.doc.nodesBetween(k,n.doc.content.size,(E,C)=>{if(O>-1)return!1;E.isTextblock&&E.content.size===0&&(O=C+1)}),O>-1&&n.setSelection(Tt.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...xw(p,d.type.name,d.attrs),...t},g={...xw(p,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const v=h?[{type:s,attrs:m},{type:h,attrs:g}]:[{type:s,attrs:m}];if(!om(n.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:x}=r,{splittableMarks:w}=o.extensionManager,_=x||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!_||!i)return!0;const N=_.filter(k=>w.includes(k.type.name));n.ensureMarks(N)}return!0},ik=(e,t)=>{const n=rN(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Rd(e.doc,n.pos)&&e.join(n.pos),!0},ok=(e,t)=>{const n=rN(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Rd(e.doc,r)&&e.join(r),!0},o9e=(e,t,n,r={})=>({editor:i,tr:o,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:p}=i.extensionManager,h=Yr(e,a.schema),m=Yr(t,a.schema),{selection:g,storedMarks:v}=a,{$from:y,$to:x}=g,w=y.blockRange(x),_=v||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const N=rN(k=>o7(k.type.name,d))(g);if(w.depth>=1&&N&&w.depth-N.depth<=1){if(N.node.type===h)return c.liftListItem(m);if(o7(N.node.type.name,d)&&h.validContent(N.node.content)&&s)return l().command(()=>(o.setNodeMarkup(N.pos,h),!0)).command(()=>ik(o,h)).command(()=>ok(o,h)).run()}return!n||!_||!s?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>ik(o,h)).command(()=>ok(o,h)).run():l().command(()=>{const k=u().wrapInList(h,r),O=_.filter(E=>p.includes(E.type.name));return o.ensureMarks(O),k?!0:c.clearNodes()}).wrapInList(h,r).command(()=>ik(o,h)).command(()=>ok(o,h)).run()},a9e=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,a=Bc(e,r.schema);return aM(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)},s9e=(e,t,n={})=>({state:r,commands:i})=>{const o=Yr(e,r.schema),a=Yr(t,r.schema),s=Sd(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?i.setNode(a,l):i.setNode(o,{...l,...n})},l9e=(e,t={})=>({state:n,commands:r})=>{const i=Yr(e,n.schema);return Sd(n,i,t)?r.lift(i):r.wrapIn(i,t)},c9e=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(o.text){const l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else a.delete(o.from,o.to)}return!0}}return!1},u9e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},d9e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=Bc(e,r.schema),{$from:c,empty:u,ranges:d}=s;if(!i)return!0;if(u&&a){let{from:p,to:h}=s;const m=(o=c.marks().find(v=>v.type===l))==null?void 0:o.attrs,g=hR(c,l,m);g&&(p=g.from,h=g.to),n.removeMark(p,h,l)}else d.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},f9e=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,a=null;const s=nN(typeof e=="string"?e:e.name,r.schema);return s?(s==="node"&&(o=Yr(e,r.schema)),s==="mark"&&(a=Bc(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,p,h,m;n.selection.empty?r.doc.nodesBetween(c,u,(g,v)=>{o&&o===g.type&&(h=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,p=g)}):r.doc.nodesBetween(c,u,(g,v)=>{v<c&&o&&o===g.type&&(h=Math.max(v,c),m=Math.min(v+g.nodeSize,u),d=v,p=g),v>=c&&v<=u&&(o&&o===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...t}),a&&g.marks.length&&g.marks.forEach(y=>{if(a===y.type){const x=Math.max(v,c),w=Math.min(v+g.nodeSize,u);n.addMark(x,w,a.create({...y.attrs,...t}))}}))}),p&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&n.addMark(h,m,a.create({...g.attrs,...t}))}))}),!0):!1},h9e=(e,t={})=>({state:n,dispatch:r})=>{const i=Yr(e,n.schema);return GFe(i,t)(n,r)},p9e=(e,t={})=>({state:n,dispatch:r})=>{const i=Yr(e,n.schema);return YFe(i,t)(n,r)},m9e=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},oN=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},g9e=(e,t)=>{if(fR(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Ax(e){var t;const{editor:n,from:r,to:i,text:o,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(p=>p.type.spec.code))return!1;let u=!1;const d=Vze(c)+o;return a.forEach(p=>{if(u)return;const h=g9e(d,p.find);if(!h)return;const m=l.state.tr,g=eN({state:l.state,transaction:m}),v={from:r-(h[0].length-o.length),to:i},{commands:y,chain:x,can:w}=new tN({editor:n,state:g});p.handler({state:g,range:v,match:h,commands:y,chain:x,can:w})===null||!m.steps.length||(p.undoable&&m.setMeta(s,{transform:m,from:r,to:i,text:o}),l.dispatch(m),u=!0)}),u}function v9e(e){const{editor:t,rules:n}=e,r=new ar({state:{init(){return null},apply(i,o,a){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=gR(Ie.from(u),a.schema);const{from:d}=l,p=d+u.length;Ax({editor:t,from:d,to:p,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,s){return Ax({editor:t,from:o,to:a,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Ax({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Ax({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function y9e(e){return Object.prototype.toString.call(e).slice(8,-1)}function kx(e){return y9e(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function pee(e,t){const n={...e};return kx(e)&&kx(t)&&Object.keys(t).forEach(r=>{kx(t[r])&&kx(e[r])?n[r]=pee(e[r],t[r]):n[r]=t[r]}),n}var bR=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...En(Et(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...En(Et(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>pee(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},zc=class mee extends bR{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new mee(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=a.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function b9e(e){return typeof e=="number"}var x9e=class{constructor(e){this.find=e.find,this.handler=e.handler}},w9e=(e,t,n)=>{if(fR(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function S9e(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new tN({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,m)=>{var g,v,y,x,w;if((v=(g=h.type)==null?void 0:g.spec)!=null&&v.code||!(h.isText||h.isTextblock||h.isInline))return;const _=(w=(x=(y=h.content)==null?void 0:y.size)!=null?x:h.nodeSize)!=null?w:0,N=Math.max(r,m),k=Math.min(i,m+_);if(N>=k)return;const O=h.isText?h.text||"":h.textBetween(N-m,k-m,void 0,"");w9e(O,o.find,a).forEach(C=>{if(C.index===void 0)return;const L=N+C.index+1,M=L+C[0].length,I={from:n.tr.mapping.map(L),to:n.tr.mapping.map(M)},j=o.handler({state:n,range:I,match:C,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});d.push(j)})}),d.every(h=>h!==null)}var Cx=null,_9e=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function E9e(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:u,from:d,to:p,rule:h,pasteEvt:m})=>{const g=u.tr,v=eN({state:u,transaction:g});if(!(!S9e({editor:t,state:v,from:Math.max(d-1,0),to:p.b-1,rule:h,pasteEvent:m,dropEvent:s})||!g.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new ar({view(d){const p=m=>{var g;r=(g=d.dom.parentElement)!=null&&g.contains(m.target)?d.dom.parentElement:null,r&&(Cx=t)},h=()=>{Cx&&(Cx=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,p)=>{if(o=r===d.dom.parentElement,s=p,!o){const h=Cx;h!=null&&h.isEditable&&setTimeout(()=>{const m=h.state.selection;m&&h.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,p)=>{var h;const m=(h=p.clipboardData)==null?void 0:h.getData("text/html");return a=p,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,p,h)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,v=m.getMeta("uiEvent")==="drop"&&!o,y=m.getMeta("applyPasteRules"),x=!!y;if(!g&&!v&&!x)return;if(x){let{text:N}=y;typeof N=="string"?N=N:N=gR(Ie.from(N),h.schema);const{from:k}=y,O=k+N.length,E=_9e(N);return l({rule:u,state:h,from:k,to:{b:O},pasteEvt:E})}const w=p.doc.content.findDiffStart(h.doc.content),_=p.doc.content.findDiffEnd(h.doc.content);if(!(!b9e(w)||!_||w===_.b))return l({rule:u,state:h,from:w,to:_,pasteEvt:a})}}))}var aN=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=lee(e),this.schema=Fze(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:rk(t.name,this.schema)},r=Et(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return vR([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:rk(r.name,this.schema)},o=[],a=Et(r,"addKeyboardShortcuts",i);let s={};if(r.type==="mark"&&Et(r,"exitable",i)&&(s.ArrowRight=()=>zc.handleExit({editor:e,mark:r})),a){const p=Object.fromEntries(Object.entries(a()).map(([h,m])=>[h,()=>m({editor:e})]));s={...s,...p}}const l=H7e(s);o.push(l);const c=Et(r,"addInputRules",i);if(i7(r,e.options.enableInputRules)&&c){const p=c();if(p&&p.length){const h=v9e({editor:e,rules:p}),m=Array.isArray(h)?h:[h];o.push(...m)}}const u=Et(r,"addPasteRules",i);if(i7(r,e.options.enablePasteRules)&&u){const p=u();if(p&&p.length){const h=E9e({editor:e,rules:p});o.push(...h)}}const d=Et(r,"addProseMirrorPlugins",i);if(d){const p=d();o.push(...p)}return o})}get attributes(){return see(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=nb(this.extensions);return Object.fromEntries(t.filter(n=>!!Et(n,"addNodeView")).map(n=>{const r=this.attributes.filter(s=>s.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Yr(n.name,this.schema)},o=Et(n,"addNodeView",i);if(!o)return[];const a=(s,l,c,u,d)=>{const p=_S(s,r);return o()({node:s,view:l,getPos:c,decorations:u,innerDecorations:d,editor:e,extension:n,HTMLAttributes:p})};return[n.name,a]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=nb(this.extensions);return Object.fromEntries(t.filter(n=>!!Et(n,"addMarkView")).map(n=>{const r=this.attributes.filter(s=>s.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Bc(n.name,this.schema)},o=Et(n,"addMarkView",i);if(!o)return[];const a=(s,l,c)=>{const u=_S(s,r);return o()({mark:s,view:l,inline:c,editor:e,extension:n,HTMLAttributes:u,updateAttributes:d=>{D9e(s,e,d)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:rk(t.name,this.schema)};t.type==="mark"&&((n=En(Et(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=Et(t,"onBeforeCreate",r),o=Et(t,"onCreate",r),a=Et(t,"onUpdate",r),s=Et(t,"onSelectionUpdate",r),l=Et(t,"onTransaction",r),c=Et(t,"onFocus",r),u=Et(t,"onBlur",r),d=Et(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};aN.resolve=lee;aN.sort=vR;aN.flatten=mR;var N9e={};dR(N9e,{ClipboardTextSerializer:()=>vee,Commands:()=>yee,Delete:()=>bee,Drop:()=>xee,Editable:()=>wee,FocusEvents:()=>_ee,Keymap:()=>Eee,Paste:()=>Nee,Tabindex:()=>Aee,focusEventsPluginKey:()=>See});var $n=class gee extends bR{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new gee(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},vee=$n.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ar({key:new Ar("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(u=>u.$from.pos)),s=Math.max(...o.map(u=>u.$to.pos)),l=uee(n);return cee(r,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),yee=$n.create({name:"commands",addCommands(){return{...QJ}}}),bee=$n.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const o=()=>{var a,s,l,c;if((c=(l=(s=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:s.filterTransaction)==null?void 0:l.call(s,e))!=null?c:e.getMeta("y-sync$"))return;const u=iee(e.before,[e,...t]);fee(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(m,g)=>{const v=g+m.nodeSize-2,y=h.oldRange.from<=g&&v<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:v,newFrom:u.mapping.map(g),newTo:u.mapping.map(v),deletedRange:h.oldRange,newRange:h.newRange,partial:!y,editor:this.editor,transaction:e,combinedTransform:u})})});const p=u.mapping;u.steps.forEach((h,m)=>{var g,v;if(h instanceof Ps){const y=p.slice(m).map(h.from,-1),x=p.slice(m).map(h.to),w=p.invert().map(y,-1),_=p.invert().map(x),N=(g=u.doc.nodeAt(y-1))==null?void 0:g.marks.some(O=>O.eq(h.mark)),k=(v=u.doc.nodeAt(x))==null?void 0:v.marks.some(O=>O.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:w,to:_},newRange:{from:y,to:x},partial:!!(k||N),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),xee=$n.create({name:"drop",addProseMirrorPlugins(){return[new ar({key:new Ar("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),wee=$n.create({name:"editable",addProseMirrorPlugins(){return[new ar({key:new Ar("editable"),props:{editable:()=>this.editor.options.editable}})]}}),See=new Ar("focusEvents"),_ee=$n.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new ar({key:See,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Eee=$n.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:c}=s,{empty:u,$anchor:d}=l,{pos:p,parent:h}=d,m=d.parent.isTextblock&&p>0?s.doc.resolve(p-1):d,g=m.parent.type.spec.isolating,v=d.pos-d.parentOffset,y=g&&m.parent.childCount===1?v===d.pos:Rt.atStart(c).from===p;return!u||!h.type.isTextblock||h.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return pR()||nee()?o:i},addProseMirrorPlugins(){return[new ar({key:new Ar("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(g=>g.getMeta("composition")))return;const r=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),i=e.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:a,to:s}=t.selection,l=Rt.atStart(t.doc).from,c=Rt.atEnd(t.doc).to;if(o||!(a===l&&s===c)||!iN(n.doc))return;const p=n.tr,h=eN({state:n,transaction:p}),{commands:m}=new tN({editor:this.editor,state:h});if(m.clearNodes(),!!p.steps.length)return p}})]}}),Nee=$n.create({name:"paste",addProseMirrorPlugins(){return[new ar({key:new Ar("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Aee=$n.create({name:"tabindex",addProseMirrorPlugins(){return[new ar({key:new Ar("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),A9e=class vp{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new vp(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new vp(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new vp(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!i&&s.depth<=this.depth)return;const l=new vp(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new vp(s,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,a=Object.keys(n);for(let s=0;s<a.length;s+=1){const l=a[s];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&o.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},k9e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function C9e(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var T9e=class extends m9e{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=eee(t,this.options.autofocus);this.editorState=Dp.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=C9e(k9e,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=aee(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[wee,vee.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),yee,_ee,Eee,Aee,xee,Nee,bee].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new aN(r,this)}createCommandManager(){this.commandManager=new tN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=iM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=iM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new XJ(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),s=a==null?void 0:a.getMeta("focus"),l=a==null?void 0:a.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return dee(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return Kze(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return gR(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return zze(this.state.doc,{blockSeparator:t,textSerializers:{...uee(this.schema),...n}})}get isEmpty(){return iN(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new A9e(t,this)}get $doc(){return this.$pos(0)}};function xh(e){return new oN({find:e.find,handler:({state:t,range:n,match:r})=>{const i=En(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,a=r[r.length-1],s=r[0];if(a){const l=s.search(/\S/),c=n.from+s.indexOf(a),u=c+a.length;if(yR(n.from,n.to,t.doc).filter(h=>h.mark.type.excluded.find(g=>g===e.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const p=n.from+l+a.length;o.addMark(n.from+l,p,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}function kee(e){return new oN({find:e.find,handler:({state:t,range:n,match:r})=>{const i=En(e.getAttributes,void 0,r)||{},{tr:o}=t,a=n.from;let s=n.to;const l=e.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=a+c;u>s?u=s:s=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,a+r[0].length-1),o.replaceWith(u,s,l)}else if(r[0]){const c=e.type.isInline?a:a-1;o.insert(c,e.type.create(i)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()},undoable:e.undoable})}function sM(e){return new oN({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=En(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)},undoable:e.undoable})}function lg(e){return new oN({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const o=En(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),c=l&&X3(l,e.type,o);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:p}=t,{splittableMarks:h}=e.editor.extensionManager,m=p||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(v=>h.includes(v.type.name));a.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=a.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&Rd(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&a.join(n.from-1)},undoable:e.undoable})}function O9e(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Ct){const o=r.index();return r.parent.canReplaceWith(o,o+1,t)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}var M9e={};dR(M9e,{createAtomBlockMarkdownSpec:()=>P9e,createBlockMarkdownSpec:()=>j9e,createInlineMarkdownSpec:()=>L9e,parseAttributes:()=>xR,parseIndentedBlocks:()=>lM,renderNestedMarkdownContent:()=>SR,serializeAttributes:()=>wR});function xR(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));t.class=c.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const p=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),h=n[p];h&&(t[c]=h.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function wR(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function P9e(e){const{nodeName:t,name:n,parseAttributes:r=xR,serializeAttributes:i=wR,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:s}=e,l=n||t,c=u=>{if(!s)return u;const d={};return s.forEach(p=>{p in u&&(d[p]=u[p])}),d};return{parseMarkdown:(u,d)=>{const p={...o,...u.attributes};return d.createNode(t,p,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const p=new RegExp(`^:::${l}(?:\\s|$)`,"m"),h=(d=u.match(p))==null?void 0:d.index;return h!==void 0?h:-1},tokenize(u,d,p){const h=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(h);if(!m)return;const g=m[1]||"",v=r(g);if(!a.find(x=>!(x in v)))return{type:t,raw:m[0],attributes:v}}},renderMarkdown:u=>{const d=c(u.attrs||{}),p=i(d),h=p?` {${p}}`:"";return`:::${l}${h} :::`}}}function j9e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=xR,serializeAttributes:o=wR,defaultAttributes:a={},content:s="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const p={};return l.forEach(h=>{h in d&&(p[h]=d[h])}),p};return{parseMarkdown:(d,p)=>{let h;if(r){const g=r(d);h=typeof g=="string"?[{type:"text",text:g}]:g}else s==="block"?h=p.parseChildren(d.tokens||[]):h=p.parseInline(d.tokens||[]);const m={...a,...d.attributes};return p.createNode(t,m,h)},markdownTokenizer:{name:t,level:"block",start(d){var p;const h=new RegExp(`^:::${c}`,"m"),m=(p=d.match(h))==null?void 0:p.index;return m!==void 0?m:-1},tokenize(d,p,h){var m;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),v=d.match(g);if(!v)return;const[y,x=""]=v,w=i(x);let _=1;const N=y.length;let k="";const O=/^:::([\w-]*)(\s.*)?/gm,E=d.slice(N);for(O.lastIndex=0;;){const C=O.exec(E);if(C===null)break;const L=C.index,M=C[1];if(!((m=C[2])!=null&&m.endsWith(":::"))){if(M)_+=1;else if(_-=1,_===0){const I=E.slice(0,L);k=I.trim();const j=d.slice(0,N+L+C[0].length);let D=[];if(k)if(s==="block")for(D=h.blockTokens(I),D.forEach(q=>{q.text&&(!q.tokens||q.tokens.length===0)&&(q.tokens=h.inlineTokens(q.text))});D.length>0;){const q=D[D.length-1];if(q.type==="paragraph"&&(!q.text||q.text.trim()===""))D.pop();else break}else D=h.inlineTokens(k);return{type:t,raw:j,attributes:w,content:k,tokens:D}}}}}},renderMarkdown:(d,p)=>{const h=u(d.attrs||{}),m=o(h),g=m?` {${m}}`:"",v=p.renderChildren(d.content||[],`

`);return`:::${c}${g}

${v}

:::`}}}function R9e(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,o,a]=r;t[i]=o||a,r=n.exec(e)}return t}function I9e(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function L9e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=R9e,serializeAttributes:o=I9e,defaultAttributes:a={},selfClosing:s=!1,allowedAttributes:l}=e,c=n||t,u=p=>{if(!l)return p;const h={};return l.forEach(m=>{m in p&&(h[m]=p[m])}),h},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,h)=>{const m={...a,...p.attributes};if(s)return h.createNode(t,m);const g=r?r(p):p.content||"";return g?h.createNode(t,m,[h.createTextNode(g)]):h.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(p){const h=s?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=p.match(h),g=m==null?void 0:m.index;return g!==void 0?g:-1},tokenize(p,h,m){const g=s?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),v=p.match(g);if(!v)return;let y="",x="";if(s){const[,_]=v;x=_}else{const[,_,N]=v;x=_,y=N||""}const w=i(x.trim());return{type:t,raw:v[0],content:y.trim(),attributes:w}}},renderMarkdown:p=>{let h="";r?h=r(p):p.content&&p.content.length>0&&(h=p.content.filter(y=>y.type==="text").map(y=>y.text).join(""));const m=u(p.attrs||{}),g=o(m),v=g?` ${g}`:"";return s?`[${c}${v}]`:`[${c}${v}]${h}[/${c}]`}}}function lM(e,t,n){var r,i,o,a;const s=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<s.length;){const p=s[u],h=p.match(t.itemPattern);if(!h){if(l.length>0)break;if(p.trim()===""){u+=1;continue}else return}const m=t.extractItemData(h),{indentLevel:g,mainContent:v}=m;c=`${c}${p}
`;const y=[v];for(u+=1;u<s.length;){const N=s[u];if(N.trim()===""){const O=s.slice(u+1).findIndex(L=>L.trim()!=="");if(O===-1)break;if((((i=(r=s[u+1+O].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>g){y.push(N),c=`${c}${N}
`,u+=1;continue}else break}if((((a=(o=N.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>g)y.push(N),c=`${c}${N}
`,u+=1;else break}let x;const w=y.slice(1);if(w.length>0){const N=w.map(k=>k.slice(g+d)).join(`
`);N.trim()&&(t.customNestedParser?x=t.customNestedParser(N):x=n.blockTokens(N))}const _=t.createToken(m,x);l.push(_)}if(l.length!==0)return{items:l,raw:c.trim()}}function SR(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[o,...a]=e.content,s=t.renderChildren([o]),l=[`${i}${s}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(p=>p?t.indent(p):"").join(`
`);l.push(d)}}),l.join(`
`)}function D9e(e,t,n={}){const{state:r}=t,{doc:i,tr:o}=r,a=e;i.descendants((s,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+s.nodeSize;let d=null;if(s.marks.forEach(h=>{if(h!==a)return!1;d=h}),!d)return;let p=!1;if(Object.keys(n).forEach(h=>{n[h]!==d.attrs[h]&&(p=!0)}),p){const h=e.type.create({...e.attrs,...n});o.removeMark(c,u,e.type),o.addMark(c,u,h)}}),o.docChanged&&t.view.dispatch(o)}var Si=class Cee extends bR{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new Cee(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function _d(e){return new x9e({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=En(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const u=l.search(/\S/),d=n.from+l.indexOf(s),p=d+s.length;if(yR(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(v=>v===e.type&&v!==m.mark.type)).filter(m=>m.to>d).length)return null;p<n.to&&a.delete(p,n.to),d>n.from&&a.delete(n.from+u,d),c=n.from+u+s.length,a.addMark(n.from+u,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var $9e=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!(a==="_owner"&&t.$$typeof)&&!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const F9e=wn($9e);var Tee={exports:{}},Oee={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=A,B9e=b_;function z9e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U9e=typeof Object.is=="function"?Object.is:z9e,H9e=B9e.useSyncExternalStore,q9e=sN.useRef,W9e=sN.useEffect,V9e=sN.useMemo,K9e=sN.useDebugValue;Oee.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=q9e(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=V9e(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&a.hasValue){var m=a.value;if(i(m,h))return d=m}return d=h}if(m=d,U9e(u,h))return m;var g=r(h);return i!==void 0&&i(m,g)?(u=h,m):(u=h,d=g)}var c=!1,u,d,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var s=H9e(e,o[0],o[1]);return W9e(function(){a.hasValue=!0,a.value=s},[s]),K9e(s),s};Tee.exports=Oee;var G9e=Tee.exports,Y9e=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},X9e=({contentComponent:e})=>{const t=b_.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return f.jsx(f.Fragment,{children:Object.values(t)})};function Q9e(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:CU.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var Z9e=class extends ve.Component{constructor(e){var t;super(e),this.editorContentRef=ve.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=Q9e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:Y9e(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&f.jsx(X9e,{contentComponent:e.contentComponent})]})}},J9e=A.forwardRef((e,t)=>{const n=ve.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return ve.createElement(Z9e,{key:n,innerRef:t,...e})}),eUe=ve.memo(J9e),tUe=typeof window<"u"?A.useLayoutEffect:A.useEffect,nUe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function rUe(e){var t;const[n]=A.useState(()=>new nUe(e.editor)),r=G9e.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:F9e);return tUe(()=>n.watch(e.editor),[e.editor,n]),A.useDebugValue(r),r}var iUe=!1,cM=typeof window>"u",oUe=cM||!!(typeof window<"u"&&window.next),aUe=class Mee{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return cM||oUe?null:this.createEditor();if(this.options.current.immediatelyRender&&cM&&iUe)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new T9e(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,o)=>{var a;return i===((a=n.extensions)==null?void 0:a[o])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?Mee.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function sUe(e={},t=[]){const n=A.useRef(e);n.current=e;const[r]=A.useState(()=>new aUe(n)),i=b_.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return A.useDebugValue(i),A.useEffect(r.onRender(t)),rUe({editor:i,selector:({transactionNumber:o})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&o===0?0:o+1}),i}var lUe=A.createContext({editor:null});lUe.Consumer;var cUe=A.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),uUe=()=>A.useContext(cUe);ve.forwardRef((e,t)=>{const{onDragStart:n}=uUe(),r=e.as||"div";return f.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});ve.createContext({markViewContentRef:()=>{}});var ES=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},dUe=/^\s*>\s$/,fUe=Si.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return ES("blockquote",{...Wn(this.options.HTMLAttributes,e),children:ES("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=[];return e.content.forEach(i=>{const a=t.renderChildren(i).split(`
`).map(s=>`> ${s}`).join(`
`);n.push(a)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[lg({find:dUe,type:this.type})]}}),hUe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,pUe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,mUe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,gUe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,vUe=zc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return ES("strong",{...Wn(this.options.HTMLAttributes,e),children:ES("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xh({find:hUe,type:this.type}),xh({find:mUe,type:this.type})]},addPasteRules(){return[_d({find:pUe,type:this.type}),_d({find:gUe,type:this.type})]}}),yUe=/(^|[^`])`([^`]+)`(?!`)$/,bUe=/(^|[^`])`([^`]+)`(?!`)/g,xUe=zc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Wn(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xh({find:yUe,type:this.type})]},addPasteRules(){return[_d({find:bUe,type:this.type})]}}),ak=4,wUe=/^```([a-z]+)?[\s\n]$/,SUe=/^~~~([a-z]+)?[\s\n]$/,Pee=Si.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:ak,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Wn(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const i=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:ak,{state:r}=e,{selection:i}=r,{$from:o,empty:a}=i;if(o.parent.type!==this.type)return!1;const s=" ".repeat(n);return a?e.commands.insertContent(s):e.commands.command(({tr:l})=>{const{from:c,to:u}=i,h=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(m=>s+m).join(`
`);return l.replaceWith(c,u,r.schema.text(h)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:ak,{state:r}=e,{selection:i}=r,{$from:o,empty:a}=i;return o.parent.type!==this.type?!1:a?e.commands.command(({tr:s})=>{var l;const{pos:c}=o,u=o.start(),d=o.end(),h=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let m=0,g=0;const v=c-u;for(let k=0;k<h.length;k+=1){if(g+h[k].length>=v){m=k;break}g+=h[k].length+1}const x=((l=h[m].match(/^ */))==null?void 0:l[0])||"",w=Math.min(x.length,n);if(w===0)return!0;let _=u;for(let k=0;k<m;k+=1)_+=h[k].length+1;return s.delete(_,_+w),c-_<=w&&s.setSelection(Tt.create(s.doc,_)),!0}):e.commands.command(({tr:s})=>{const{from:l,to:c}=i,p=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(h=>{var m;const g=((m=h.match(/^ */))==null?void 0:m[0])||"",v=Math.min(g.length,n);return h.slice(v)}).join(`
`);return s.replaceWith(l,c,r.schema.text(p)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:e.chain().command(({tr:s})=>(s.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0?!1:r.nodeAt(s)?e.commands.command(({tr:c})=>(c.setSelection(Rt.near(r.resolve(s))),!0)):e.commands.exitCode()}}},addInputRules(){return[sM({find:wUe,type:this.type,getAttributes:e=>({language:e[1]})}),sM({find:SUe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new ar({key:new Ar("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:a,schema:s}=e.state,l=s.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(Tt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),_Ue=Pee,EUe=Si.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),NUe=Si.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Wn(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:(e,t)=>t.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&a){const d=l.filter(p=>s.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),AUe=Si.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Wn(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,i="#".repeat(r);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>sM({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),kUe=Si.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Wn(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!O9e(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return hee(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:a,dispatch:s})=>{if(s){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(Tt.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(Ct.create(a.doc,l.pos)):a.setSelection(Tt.create(a.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u==null?void 0:u.create();d&&(a.insert(c,d),a.setSelection(Tt.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[kee({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),CUe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,TUe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,OUe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,MUe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,PUe=zc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Wn(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xh({find:CUe,type:this.type}),xh({find:OUe,type:this.type})]},addPasteRules(){return[_d({find:TUe,type:this.type}),_d({find:MUe,type:this.type})]}});const jUe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",RUe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",uM="numeric",dM="ascii",fM="alpha",Oy="asciinumeric",ay="alphanumeric",hM="domain",jee="emoji",IUe="scheme",LUe="slashscheme",sk="whitespace";function DUe(e,t){return e in t||(t[e]=[]),t[e]}function Of(e,t,n){t[uM]&&(t[Oy]=!0,t[ay]=!0),t[dM]&&(t[Oy]=!0,t[fM]=!0),t[Oy]&&(t[ay]=!0),t[fM]&&(t[ay]=!0),t[ay]&&(t[hM]=!0),t[jee]&&(t[hM]=!0);for(const r in t){const i=DUe(r,n);i.indexOf(e)<0&&i.push(e)}}function $Ue(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Io(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Io.groups={};Io.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Io.groups;let i;return t&&t.j?i=t:(i=new Io(t),n&&r&&Of(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||Io.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new Io,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new Io,o){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign($Ue(a.t,r),n);Of(o,l,r)}else n&&Of(o,n,r);a.t=o}return i.j[e]=a,a}};const Jt=(e,t,n,r,i)=>e.ta(t,n,r,i),yr=(e,t,n,r,i)=>e.tr(t,n,r,i),s7=(e,t,n,r,i)=>e.ts(t,n,r,i),qe=(e,t,n,r,i)=>e.tt(t,n,r,i),oc="WORD",pM="UWORD",Ree="ASCIINUMERICAL",Iee="ALPHANUMERICAL",rb="LOCALHOST",mM="TLD",gM="UTLD",ww="SCHEME",yp="SLASH_SCHEME",_R="NUM",vM="WS",ER="NL",My="OPENBRACE",Py="CLOSEBRACE",NS="OPENBRACKET",AS="CLOSEBRACKET",kS="OPENPAREN",CS="CLOSEPAREN",TS="OPENANGLEBRACKET",OS="CLOSEANGLEBRACKET",MS="FULLWIDTHLEFTPAREN",PS="FULLWIDTHRIGHTPAREN",jS="LEFTCORNERBRACKET",RS="RIGHTCORNERBRACKET",IS="LEFTWHITECORNERBRACKET",LS="RIGHTWHITECORNERBRACKET",DS="FULLWIDTHLESSTHAN",$S="FULLWIDTHGREATERTHAN",FS="AMPERSAND",BS="APOSTROPHE",zS="ASTERISK",bu="AT",US="BACKSLASH",HS="BACKTICK",qS="CARET",Au="COLON",NR="COMMA",WS="DOLLAR",il="DOT",VS="EQUALS",AR="EXCLAMATION",ja="HYPHEN",jy="PERCENT",KS="PIPE",GS="PLUS",YS="POUND",Ry="QUERY",kR="QUOTE",Lee="FULLWIDTHMIDDLEDOT",CR="SEMI",ol="SLASH",Iy="TILDE",XS="UNDERSCORE",Dee="EMOJI",QS="SYM";var $ee=Object.freeze({__proto__:null,ALPHANUMERICAL:Iee,AMPERSAND:FS,APOSTROPHE:BS,ASCIINUMERICAL:Ree,ASTERISK:zS,AT:bu,BACKSLASH:US,BACKTICK:HS,CARET:qS,CLOSEANGLEBRACKET:OS,CLOSEBRACE:Py,CLOSEBRACKET:AS,CLOSEPAREN:CS,COLON:Au,COMMA:NR,DOLLAR:WS,DOT:il,EMOJI:Dee,EQUALS:VS,EXCLAMATION:AR,FULLWIDTHGREATERTHAN:$S,FULLWIDTHLEFTPAREN:MS,FULLWIDTHLESSTHAN:DS,FULLWIDTHMIDDLEDOT:Lee,FULLWIDTHRIGHTPAREN:PS,HYPHEN:ja,LEFTCORNERBRACKET:jS,LEFTWHITECORNERBRACKET:IS,LOCALHOST:rb,NL:ER,NUM:_R,OPENANGLEBRACKET:TS,OPENBRACE:My,OPENBRACKET:NS,OPENPAREN:kS,PERCENT:jy,PIPE:KS,PLUS:GS,POUND:YS,QUERY:Ry,QUOTE:kR,RIGHTCORNERBRACKET:RS,RIGHTWHITECORNERBRACKET:LS,SCHEME:ww,SEMI:CR,SLASH:ol,SLASH_SCHEME:yp,SYM:QS,TILDE:Iy,TLD:mM,UNDERSCORE:XS,UTLD:gM,UWORD:pM,WORD:oc,WS:vM});const tc=/[a-z]/,Uv=new RegExp("\\p{L}","u"),lk=new RegExp("\\p{Emoji}","u"),nc=/\d/,ck=/\s/,l7="\r",uk=`
`,FUe="",BUe="",dk="";let Tx=null,Ox=null;function zUe(e=[]){const t={};Io.groups=t;const n=new Io;Tx==null&&(Tx=c7(jUe)),Ox==null&&(Ox=c7(RUe)),qe(n,"'",BS),qe(n,"{",My),qe(n,"}",Py),qe(n,"[",NS),qe(n,"]",AS),qe(n,"(",kS),qe(n,")",CS),qe(n,"<",TS),qe(n,">",OS),qe(n,"",MS),qe(n,"",PS),qe(n,"",jS),qe(n,"",RS),qe(n,"",IS),qe(n,"",LS),qe(n,"",DS),qe(n,"",$S),qe(n,"&",FS),qe(n,"*",zS),qe(n,"@",bu),qe(n,"`",HS),qe(n,"^",qS),qe(n,":",Au),qe(n,",",NR),qe(n,"$",WS),qe(n,".",il),qe(n,"=",VS),qe(n,"!",AR),qe(n,"-",ja),qe(n,"%",jy),qe(n,"|",KS),qe(n,"+",GS),qe(n,"#",YS),qe(n,"?",Ry),qe(n,'"',kR),qe(n,"/",ol),qe(n,";",CR),qe(n,"~",Iy),qe(n,"_",XS),qe(n,"\\",US),qe(n,"",Lee);const r=yr(n,nc,_R,{[uM]:!0});yr(r,nc,r);const i=yr(r,tc,Ree,{[Oy]:!0}),o=yr(r,Uv,Iee,{[ay]:!0}),a=yr(n,tc,oc,{[dM]:!0});yr(a,nc,i),yr(a,tc,a),yr(i,nc,i),yr(i,tc,i);const s=yr(n,Uv,pM,{[fM]:!0});yr(s,tc),yr(s,nc,o),yr(s,Uv,s),yr(o,nc,o),yr(o,tc),yr(o,Uv,o);const l=qe(n,uk,ER,{[sk]:!0}),c=qe(n,l7,vM,{[sk]:!0}),u=yr(n,ck,vM,{[sk]:!0});qe(n,dk,u),qe(c,uk,l),qe(c,dk,u),yr(c,ck,u),qe(u,l7),qe(u,uk),yr(u,ck,u),qe(u,dk,u);const d=yr(n,lk,Dee,{[jee]:!0});qe(d,"#"),yr(d,lk,d),qe(d,FUe,d);const p=qe(d,BUe);qe(p,"#"),yr(p,lk,d);const h=[[tc,a],[nc,i]],m=[[tc,null],[Uv,s],[nc,o]];for(let g=0;g<Tx.length;g++)uu(n,Tx[g],mM,oc,h);for(let g=0;g<Ox.length;g++)uu(n,Ox[g],gM,pM,m);Of(mM,{tld:!0,ascii:!0},t),Of(gM,{utld:!0,alpha:!0},t),uu(n,"file",ww,oc,h),uu(n,"mailto",ww,oc,h),uu(n,"http",yp,oc,h),uu(n,"https",yp,oc,h),uu(n,"ftp",yp,oc,h),uu(n,"ftps",yp,oc,h),Of(ww,{scheme:!0,ascii:!0},t),Of(yp,{slashscheme:!0,ascii:!0},t),e=e.sort((g,v)=>g[0]>v[0]?1:-1);for(let g=0;g<e.length;g++){const v=e[g][0],x=e[g][1]?{[IUe]:!0}:{[LUe]:!0};v.indexOf("-")>=0?x[hM]=!0:tc.test(v)?nc.test(v)?x[Oy]=!0:x[dM]=!0:x[uM]=!0,s7(n,v,v,x)}return s7(n,"localhost",rb,{ascii:!0}),n.jd=new Io(QS),{start:n,tokens:Object.assign({groups:t},$ee)}}function Fee(e,t){const n=UUe(t.replace(/[A-Z]/g,s=>s.toLowerCase())),r=n.length,i=[];let o=0,a=0;for(;a<r;){let s=e,l=null,c=0,u=null,d=-1,p=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,p=0,u=s):d>=0&&(d+=n[a].length,p++),c+=n[a].length,o+=n[a].length,a++;o-=d,a-=p,c-=d,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function UUe(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function uu(e,t,n,r,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const l=t[s];e.j[l]?o=e.j[l]:(o=new Io(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Io(n),o.jr=i.slice(),e.j[t[a-1]]=o,o}function c7(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(e[r]),r++}return t}const ib={defaultProtocol:"http",events:null,format:u7,formatHref:u7,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function TR(e,t=null){let n=Object.assign({},ib);e&&(n=Object.assign(n,e instanceof TR?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}TR.prototype={o:ib,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:ib[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function u7(e){return e}function Bee(e,t){this.t="token",this.v=e,this.tk=t}Bee.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=ib.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:i,attributes:a,content:o,eventListeners:d}}};function lN(e,t){class n extends Bee{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const d7=lN("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),f7=lN("text"),HUe=lN("nl"),Mx=lN("url",{isLink:!0,toHref(e=ib.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==rb&&e[1].t===Au}}),Pa=e=>new Io(e);function qUe({groups:e}){const t=e.domain.concat([FS,zS,bu,US,HS,qS,WS,VS,ja,_R,jy,KS,GS,YS,ol,QS,Iy,XS]),n=[BS,Au,NR,il,AR,jy,Ry,kR,CR,TS,OS,My,Py,AS,NS,kS,CS,MS,PS,jS,RS,IS,LS,DS,$S],r=[FS,BS,zS,US,HS,qS,WS,VS,ja,My,Py,jy,KS,GS,YS,Ry,ol,QS,Iy,XS],i=Pa(),o=qe(i,Iy);Jt(o,r,o),Jt(o,e.domain,o);const a=Pa(),s=Pa(),l=Pa();Jt(i,e.domain,a),Jt(i,e.scheme,s),Jt(i,e.slashscheme,l),Jt(a,r,o),Jt(a,e.domain,a);const c=qe(a,bu);qe(o,bu,c),qe(s,bu,c),qe(l,bu,c);const u=qe(o,il);Jt(u,r,o),Jt(u,e.domain,o);const d=Pa();Jt(c,e.domain,d),Jt(d,e.domain,d);const p=qe(d,il);Jt(p,e.domain,d);const h=Pa(d7);Jt(p,e.tld,h),Jt(p,e.utld,h),qe(c,rb,h);const m=qe(d,ja);qe(m,ja,m),Jt(m,e.domain,d),Jt(h,e.domain,d),qe(h,il,p),qe(h,ja,m);const g=qe(h,Au);Jt(g,e.numeric,d7);const v=qe(a,ja),y=qe(a,il);qe(v,ja,v),Jt(v,e.domain,a),Jt(y,r,o),Jt(y,e.domain,a);const x=Pa(Mx);Jt(y,e.tld,x),Jt(y,e.utld,x),Jt(x,e.domain,a),Jt(x,r,o),qe(x,il,y),qe(x,ja,v),qe(x,bu,c);const w=qe(x,Au),_=Pa(Mx);Jt(w,e.numeric,_);const N=Pa(Mx),k=Pa();Jt(N,t,N),Jt(N,n,k),Jt(k,t,N),Jt(k,n,k),qe(x,ol,N),qe(_,ol,N);const O=qe(s,Au),E=qe(l,Au),C=qe(E,ol),L=qe(C,ol);Jt(s,e.domain,a),qe(s,il,y),qe(s,ja,v),Jt(l,e.domain,a),qe(l,il,y),qe(l,ja,v),Jt(O,e.domain,N),qe(O,ol,N),qe(O,Ry,N),Jt(L,e.domain,N),Jt(L,t,N),qe(L,ol,N);const M=[[My,Py],[NS,AS],[kS,CS],[TS,OS],[MS,PS],[jS,RS],[IS,LS],[DS,$S]];for(let I=0;I<M.length;I++){const[j,D]=M[I],q=qe(N,j);qe(k,j,q),qe(q,D,N);const z=Pa(Mx);Jt(q,t,z);const W=Pa();Jt(q,n),Jt(z,t,z),Jt(z,n,W),Jt(W,t,z),Jt(W,n,W),qe(z,D,N),qe(W,D,N)}return qe(i,rb,x),qe(i,ER,HUe),{start:i,tokens:$ee}}function WUe(e,t,n){let r=n.length,i=0,o=[],a=[];for(;i<r;){let s=e,l=null,c=null,u=0,d=null,p=-1;for(;i<r&&!(l=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||s.go(n[i].t));)l=null,s=c,s.accepts()?(p=0,d=s):p>=0&&p++,i++,u++;if(p<0)i-=u,i<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(fk(f7,t,a)),a=[]),i-=p,u-=p;const h=d.t,m=n.slice(i-u,i);o.push(fk(h,t,m))}}return a.length>0&&o.push(fk(f7,t,a)),o}function fk(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const VUe=typeof console<"u"&&console&&console.warn||(()=>{}),KUe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",nr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function GUe(){return Io.groups={},nr.scanner=null,nr.parser=null,nr.tokenQueue=[],nr.pluginQueue=[],nr.customSchemes=[],nr.initialized=!1,nr}function h7(e,t=!1){if(nr.initialized&&VUe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${KUe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);nr.customSchemes.push([e,t])}function YUe(){nr.scanner=zUe(nr.customSchemes);for(let e=0;e<nr.tokenQueue.length;e++)nr.tokenQueue[e][1]({scanner:nr.scanner});nr.parser=qUe(nr.scanner.tokens);for(let e=0;e<nr.pluginQueue.length;e++)nr.pluginQueue[e][1]({scanner:nr.scanner,parser:nr.parser});return nr.initialized=!0,nr}function OR(e){return nr.initialized||YUe(),WUe(nr.parser.start,e,Fee(nr.scanner.start,e))}OR.scan=Fee;function zee(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new TR(n),i=OR(e),o=[];for(let a=0;a<i.length;a++){const s=i[a];s.isLink&&(!t||s.t===t)&&r.check(s)&&o.push(s.toFormattedObject(r))}return o}var MR="[\0- -\u2029]",XUe=new RegExp(MR),QUe=new RegExp(`${MR}$`),ZUe=new RegExp(MR,"g");function JUe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function eHe(e){return new ar({key:new Ar("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,s=iee(n.doc,[...t]);if(fee(s).forEach(({newRange:c})=>{const u=Lze(r.doc,c,h=>h.isTextblock);let d,p;if(u.length>1)d=u[0],p=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const h=r.doc.textBetween(c.from,c.to," "," ");if(!QUe.test(h))return;d=u[0],p=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&p){const h=p.split(XUe).filter(Boolean);if(h.length<=0)return!1;const m=h[h.length-1],g=d.pos+p.lastIndexOf(m);if(!m)return!1;const v=OR(m).map(y=>y.toObject(e.defaultProtocol));if(!JUe(v))return!1;v.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>e.validate(y.value)).filter(y=>e.shouldAutoLink(y.value)).forEach(y=>{yR(y.from,y.to,r.doc).some(x=>x.mark.type===e.type)||a.addMark(y.from,y.to,e.type.create({href:y.href}))})}}),!!a.steps.length)return a}})}function tHe(e){return new ar({key:new Ar("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o;if(r.button!==0||!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let u=r.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;a=d.find(p=>p.nodeName==="A")}if(!a)return!1;const s=dee(t.state,e.type.name),l=(i=a==null?void 0:a.href)!=null?i:s.href,c=(o=a==null?void 0:a.target)!=null?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,c),!0):!1}}})}function nHe(e){return new ar({key:new Ar("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=zee(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function sf(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(ZUe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Uee=zc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){h7(e);return}h7(e.scheme,e.optionalSlashes)})},onDestroy(){GUe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!sf(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!sf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!sf(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Wn(this.options.HTMLAttributes,e),0]:["a",Wn(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!sf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!sf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[_d({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=zee(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!sf(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(eHe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!sf(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(tHe({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(nHe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),rHe=Object.defineProperty,iHe=(e,t)=>{for(var n in t)rHe(e,n,{get:t[n],enumerable:!0})},oHe="listItem",p7="textStyle",m7=/^\s*([-+*])\s$/,Hee=Si.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Wn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oHe,this.editor.getAttributes(p7)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=lg({find:m7,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=lg({find:m7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(p7),editor:this.editor})),[e]}}),qee=Si.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Wn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))n=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),s=t.parseChildren(a);n.push(...s)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>SR(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),aHe={};iHe(aHe,{findListItemPos:()=>Ub,getNextListDepth:()=>PR,handleBackspace:()=>yM,handleDelete:()=>bM,hasListBefore:()=>Wee,hasListItemAfter:()=>sHe,hasListItemBefore:()=>Vee,listItemHasSubList:()=>Kee,nextListIsDeeper:()=>Gee,nextListIsHigher:()=>Yee});var Ub=(e,t)=>{const{$from:n}=t.selection,r=Yr(e,t.schema);let i=null,o=n.depth,a=n.pos,s=null;for(;o>0&&s===null;)i=n.node(o),i.type===r?s=o:(o-=1,a-=1);return s===null?null:{$pos:t.doc.resolve(a),depth:s}},PR=(e,t)=>{const n=Ub(e,t);if(!n)return!1;const[,r]=Wze(t,e,n.$pos.pos+4);return r},Wee=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),o=e.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},Vee=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},Kee=(e,t,n)=>{if(!n)return!1;const r=Yr(e,t.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},yM=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Sd(e.state,t)&&Wee(e.state,t,n)){const{$anchor:s}=e.state.selection,l=e.state.doc.resolve(s.before()-1),c=[];l.node().descendants((p,h)=>{p.type.name===t&&c.push({node:p,pos:h})});const u=c.at(-1);if(!u)return!1;const d=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:s.start()-1,to:s.end()+1},d.end()).joinForward().run()}if(!Sd(e.state,t)||!Yze(e.state))return!1;const r=Ub(t,e.state);if(!r)return!1;const o=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=Kee(t,e.state,o);return Vee(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},Gee=(e,t)=>{const n=PR(e,t),r=Ub(e,t);return!r||!n?!1:n>r.depth},Yee=(e,t)=>{const n=PR(e,t),r=Ub(e,t);return!r||!n?!1:n<r.depth},bM=(e,t)=>{if(!Sd(e.state,t)||!Gze(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:Gee(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Yee(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},sHe=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},Xee=$n.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&bM(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&bM(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&yM(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&yM(e,n,r)&&(t=!0)}),t}}}}),g7=/^(\s*)(\d+)\.\s+(.*)$/,lHe=/^\s/;function cHe(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n],o=i.match(g7);if(!o)break;const[,a,s,l]=o,c=a.length;let u=l,d=n+1;const p=[i];for(;d<e.length;){const h=e[d];if(h.match(g7))break;if(h.trim()==="")p.push(h),u+=`
`,d+=1;else if(h.match(lHe))p.push(h),u+=`
${h.slice(c+2)}`,d+=1;else break}t.push({indent:c,number:parseInt(s,10),content:u.trim(),raw:p.join(`
`)}),r=d,n=d}return[t,r]}function Qee(e,t,n){var r;const i=[];let o=0;for(;o<e.length;){const a=e[o];if(a.indent===t){const s=a.content.split(`
`),l=((r=s[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=s.slice(1).join(`
`).trim();if(u){const h=n.blockTokens(u);c.push(...h)}let d=o+1;const p=[];for(;d<e.length&&e[d].indent>t;)p.push(e[d]),d+=1;if(p.length>0){const h=Math.min(...p.map(g=>g.indent)),m=Qee(p,h,n);c.push({type:"list",ordered:!0,start:p[0].number,items:m,raw:p.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),o=d}else o+=1}return i}function uHe(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=t.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=t.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var dHe="listItem",v7="textStyle",y7=/^(\d+)\.\s$/,Zee=Si.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Wn(this.options.HTMLAttributes,n),0]:["ol",Wn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?uHe(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const i=e.split(`
`),[o,a]=cHe(i);if(o.length===0)return;const s=Qee(o,0,n);return s.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:s,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(dHe,this.editor.getAttributes(v7)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=lg({find:y7,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=lg({find:y7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(v7)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),fHe=/^\s*(\[([( |x])?\])\s$/,hHe=Si.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Wn(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const i=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return SR(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),s=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,p;s.ariaLabel=((p=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:p.call(d,u,s.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),o.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",u=>u.preventDefault()),s.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const h=n();if(typeof h!="number")return!1;const m=p.doc.nodeAt(h);return p.setNodeMarkup(h,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,d)||(s.checked=!s.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{i.setAttribute(u,d)}),i.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,o.append(s,a),i.append(o,l),Object.entries(t).forEach(([u,d])=>{i.setAttribute(u,d)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,s.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[lg({find:fHe,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),pHe=Si.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Wn(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=o=>{const a=lM(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,l)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:l}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(o)},i=lM(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});$n.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Hee.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(qee.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(Xee.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Zee.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(hHe.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(pHe.configure(this.options.taskList)),e}});var mHe=Si.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Wn(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),gHe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,vHe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,yHe=zc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Wn(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xh({find:gHe,type:this.type})]},addPasteRules(){return[_d({find:vHe,type:this.type})]}}),bHe=Si.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),xHe=zc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Wn(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function wHe(e={}){return new ar({view(t){return new SHe(t,e)}})}class SHe{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,s=o.height/i.offsetHeight;if(n){let d=t.nodeBefore,p=t.nodeAfter;if(d||p){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let m=h.getBoundingClientRect(),g=d?m.bottom:m.top;d&&p&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*s;r={left:m.left,right:m.right,top:g-v,bottom:g+v}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*a;r={left:d.left-p,right:d.left+p,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),p=d.width/l.offsetWidth,h=d.height/l.offsetHeight;c=d.left-l.scrollLeft*p,u=d.top-l.scrollTop*h}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-u)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=rJ(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class _r extends Rt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return _r.valid(r)?new _r(r):Rt.near(r)}content(){return Ze.empty}eq(t){return t instanceof _r&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new _r(t.resolve(n.pos))}getBookmark(){return new jR(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!_He(t)||!EHe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&_r.valid(t))return t;let i=t.pos,o=null;for(let a=t.depth;;a--){let s=t.node(a);if(n>0?t.indexAfter(a)<s.childCount:t.index(a)>0){o=s.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let l=t.doc.resolve(i);if(_r.valid(l))return l}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Ct.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=a,i+=n;let s=t.doc.resolve(i);if(_r.valid(s))return s}return null}}}_r.prototype.visible=!1;_r.findFrom=_r.findGapCursorFrom;Rt.jsonID("gapcursor",_r);class jR{constructor(t){this.pos=t}map(t){return new jR(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return _r.valid(n)?new _r(n):Rt.near(n)}}function _He(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function EHe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function NHe(){return new ar({props:{decorations:THe,createSelectionBetween(e,t,n){return t.pos==n.pos&&_r.valid(n)?new _r(n):null},handleClick:kHe,handleKeyDown:AHe,handleDOMEvents:{beforeinput:CHe}}})}const AHe=uR({ArrowLeft:Px("horiz",-1),ArrowRight:Px("horiz",1),ArrowUp:Px("vert",-1),ArrowDown:Px("vert",1)});function Px(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let a=r.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof Tt){if(!o.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(t>0?s.after():s.before())}let c=_r.findGapCursorFrom(s,t,l);return c?(i&&i(r.tr.setSelection(new _r(c))),!0):!1}}function kHe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!_r.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ct.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new _r(r))),!0)}function CHe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof _r))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Ie.empty;for(let a=r.length-1;a>=0;a--)i=Ie.from(r[a].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new Ze(i,0,0));return o.setSelection(Tt.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function THe(e){if(!(e.selection instanceof _r))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Un.create(e.doc,[li.widget(e.selection.head,t,{key:"gapcursor"})])}var ZS=200,xi=function(){};xi.prototype.append=function(t){return t.length?(t=xi.from(t),!this.length&&t||t.length<ZS&&this.leafAppend(t)||this.length<ZS&&t.leafPrepend(this)||this.appendInner(t)):this};xi.prototype.prepend=function(t){return t.length?xi.from(t).append(this):this};xi.prototype.appendInner=function(t){return new OHe(this,t)};xi.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?xi.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};xi.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};xi.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};xi.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},n,r),i};xi.from=function(t){return t instanceof xi?t:t&&t.length?new Jee(t):xi.empty};var Jee=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=ZS)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=ZS)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(xi);xi.empty=new Jee([]);var OHe=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(xi);const MHe=500;class ks{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=t.tr,s,l,c=[],u=[];return this.items.forEach((d,p)=>{if(!d.step){i||(i=this.remapping(r,p+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new al(d.map));let h=d.step.map(i.slice(o)),m;h&&a.maybeStep(h).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],c.push(new al(m,void 0,void 0,c.length+u.length))),o--,m&&i.appendMap(m,o)}else a.maybeStep(d.step);if(d.selection)return s=i?d.selection.map(i.slice(o)):d.selection,l=new ks(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,n,r,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),p=new al(t.mapping.maps[u],d,n),h;(h=l&&l.merge(p))&&(p=h,u?o.pop():s=s.slice(0,s.length-1)),o.push(p),n&&(a++,n=void 0),i||(l=p)}let c=a-r.depth;return c>jHe&&(s=PHe(s,c),a-=c),new ks(s.append(o),a)}remapping(t,n){let r=new X0;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new ks(this.items.append(t.map(n=>new al(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(p=>{p.selection&&s--},i);let l=n;this.items.forEach(p=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let m=o.maps[h];if(p.step){let g=t.steps[h].invert(t.docs[h]),v=p.selection&&p.selection.map(o.slice(l+1,h));v&&s++,r.push(new al(m,g,v))}else r.push(new al(m))},i);let c=[];for(let p=n;p<a;p++)c.push(new al(o.maps[p]));let u=this.items.slice(0,i).append(c).append(r),d=new ks(u,s);return d.emptyItemCount()>MHe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=a.selection&&a.selection.map(n.slice(r));u&&o++;let d=new al(c.invert(),l,u),p,h=i.length-1;(p=i.length&&i[h].merge(d))?i[h]=p:i.push(d)}}else a.map&&r--},this.items.length,0),new ks(xi.from(i.reverse()),o)}}ks.empty=new ks(xi.empty,0);function PHe(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class al{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new al(n.getMap().invert(),n,this.selection)}}}class xu{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const jHe=20;function RHe(e,t,n,r){let i=n.getMeta(Gf),o;if(i)return i.historyState;n.getMeta(DHe)&&(e=new xu(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(Gf))return a.getMeta(Gf).redo?new xu(e.done.addTransform(n,void 0,r,Sw(t)),e.undone,b7(n.mapping.maps),e.prevTime,e.prevComposition):new xu(e.done,e.undone.addTransform(n,void 0,r,Sw(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!IHe(n,e.prevRanges)),c=a?hk(e.prevRanges,n.mapping):b7(n.mapping.maps);return new xu(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,Sw(t)),ks.empty,c,n.time,s??e.prevComposition)}else return(o=n.getMeta("rebased"))?new xu(e.done.rebased(n,o),e.undone.rebased(n,o),hk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new xu(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),hk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function IHe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function b7(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,o,a)=>t.push(o,a));return t}function hk(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function LHe(e,t,n){let r=Sw(t),i=Gf.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new xu(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(Gf,{redo:n,historyState:l})}let pk=!1,x7=null;function Sw(e){let t=e.plugins;if(x7!=t){pk=!1,x7=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){pk=!0;break}}return pk}const Gf=new Ar("history"),DHe=new Ar("closeHistory");function $He(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new ar({key:Gf,state:{init(){return new xu(ks.empty,ks.empty,null,0,-1)},apply(t,n,r){return RHe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?tte:r=="historyRedo"?nte:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function ete(e,t){return(n,r)=>{let i=Gf.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=LHe(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const tte=ete(!1,!0),nte=ete(!0,!0);$n.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new ar({key:new Ar("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const a=o-i,s=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(s,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:t.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,l=o-r,c=s-l,u=s;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>r)}})]}});var FHe=$n.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[wHe(this.options)]}});$n.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ar({key:new Ar("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return Un.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(s+=1,this.options.mode==="deepest"&&a-s>0||this.options.mode==="shallowest"&&s>1)return this.options.mode==="deepest";o.push(li.node(c,c+l.nodeSize,{class:this.options.className}))}),Un.create(e,o)}}})]}});var BHe=$n.create({name:"gapCursor",addProseMirrorPlugins(){return[NHe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=En(Et(e,"allowGapCursor",n)))!=null?t:null}}});$n.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ar({key:new Ar("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((a,s)=>{const l=r>=s&&r<=s+a.nodeSize,c=!a.isLeaf&&iN(a);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const d=li.node(s,s+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:s,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),Un.create(e,i)}}})]}});$n.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new ar({key:new Ar("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||hee(n.selection)||e.view.dragging?null:Un.create(n.doc,[li.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function w7({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var zHe=$n.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Ar(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new ar({key:t,appendTransaction:(i,o,a)=>{const{doc:s,tr:l,schema:c}=a,u=t.getState(a),d=s.content.size,p=c.nodes[n];if(u)return l.insert(d,p.create())},state:{init:(i,o)=>{const a=o.tr.doc.lastChild;return!w7({node:a,types:r})},apply:(i,o)=>{if(!i.docChanged)return o;const a=i.doc.lastChild;return!w7({node:a,types:r})}}})]}}),UHe=$n.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>tte(e,t),redo:()=>({state:e,dispatch:t})=>nte(e,t)}},addProseMirrorPlugins(){return[$He(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),HHe=$n.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(vUe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(fUe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Hee.configure(this.options.bulletList)),this.options.code!==!1&&i.push(xUe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Pee.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(EUe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(FHe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(BHe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(NUe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(AUe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(UHe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(kUe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(PUe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(qee.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(Xee.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(Uee.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(Zee.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(mHe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(yHe.configure(this.options.strike)),this.options.text!==!1&&i.push(bHe.configure(this.options.text)),this.options.underline!==!1&&i.push(xHe.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(zHe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),qHe=HHe,WHe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,VHe=Si.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Wn(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[kee({find:WHe,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),KHe=$n.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),GHe=20,rte=(e,t=0)=>{const n=[];return!e.children.length||t>GHe||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...rte(r,t+1))}),n},YHe=e=>{if(!e.children.length)return;const t=rte(e);t&&t.forEach(n=>{var r,i;const o=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${o}`)})},ite=zc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&YHe(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",Wn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),XHe=$n.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="background-color")return s.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),ote=$n.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const a=o[0].trim().toLowerCase(),s=o.slice(1).join(":").trim();if(a==="color")return s.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),QHe=$n.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),ZHe=$n.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),JHe=$n.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});$n.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(XHe.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(ote.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(QHe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(ZHe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(JHe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(ite.configure(this.options.textStyle)),e}});var eqe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,tqe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,nqe=zc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Wn(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,n){const i=/^(==)([^=]+)(==)/.exec(e);if(i){const o=i[2].trim(),a=n.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:a}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[xh({find:eqe,type:this.type})]},addPasteRules(){return[_d({find:tqe,type:this.type})]}});function ate(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&ate(n)}),e}class S7{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function ste(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Wu(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const rqe="</span>",_7=e=>!!e.scope,iqe=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class oqe{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=ste(t)}openNode(t){if(!_7(t))return;const n=iqe(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){_7(t)&&(this.buffer+=rqe)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const E7=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class RR{constructor(){this.rootNode=E7(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=E7({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{RR._collapse(n)}))}}class aqe extends RR{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new oqe(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function ob(e){return e?typeof e=="string"?e:e.source:null}function lte(e){return Ih("(?=",e,")")}function sqe(e){return Ih("(?:",e,")*")}function lqe(e){return Ih("(?:",e,")?")}function Ih(...e){return e.map(n=>ob(n)).join("")}function cqe(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function IR(...e){return"("+(cqe(e).capture?"":"?:")+e.map(r=>ob(r)).join("|")+")"}function cte(e){return new RegExp(e.toString()+"|").exec("").length-1}function uqe(e,t){const n=e&&e.exec(t);return n&&n.index===0}const dqe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function LR(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let o=ob(r),a="";for(;o.length>0;){const s=dqe.exec(o);if(!s){a+=o;break}a+=o.substring(0,s.index),o=o.substring(s.index+s[0].length),s[0][0]==="\\"&&s[1]?a+="\\"+String(Number(s[1])+i):(a+=s[0],s[0]==="("&&n++)}return a}).map(r=>`(${r})`).join(t)}const fqe=/\b\B/,ute="[a-zA-Z]\\w*",DR="[a-zA-Z_]\\w*",dte="\\b\\d+(\\.\\d+)?",fte="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",hte="\\b(0b[01]+)",hqe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",pqe=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Ih(t,/.*\b/,e.binary,/\b.*/)),Wu({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},ab={begin:"\\\\[\\s\\S]",relevance:0},mqe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ab]},gqe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ab]},vqe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},cN=function(e,t,n={}){const r=Wu({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=IR("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Ih(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},yqe=cN("//","$"),bqe=cN("/\\*","\\*/"),xqe=cN("#","$"),wqe={scope:"number",begin:dte,relevance:0},Sqe={scope:"number",begin:fte,relevance:0},_qe={scope:"number",begin:hte,relevance:0},Eqe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ab,{begin:/\[/,end:/\]/,relevance:0,contains:[ab]}]},Nqe={scope:"title",begin:ute,relevance:0},Aqe={scope:"title",begin:DR,relevance:0},kqe={begin:"\\.\\s*"+DR,relevance:0},Cqe=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var jx=Object.freeze({__proto__:null,APOS_STRING_MODE:mqe,BACKSLASH_ESCAPE:ab,BINARY_NUMBER_MODE:_qe,BINARY_NUMBER_RE:hte,COMMENT:cN,C_BLOCK_COMMENT_MODE:bqe,C_LINE_COMMENT_MODE:yqe,C_NUMBER_MODE:Sqe,C_NUMBER_RE:fte,END_SAME_AS_BEGIN:Cqe,HASH_COMMENT_MODE:xqe,IDENT_RE:ute,MATCH_NOTHING_RE:fqe,METHOD_GUARD:kqe,NUMBER_MODE:wqe,NUMBER_RE:dte,PHRASAL_WORDS_MODE:vqe,QUOTE_STRING_MODE:gqe,REGEXP_MODE:Eqe,RE_STARTERS_RE:hqe,SHEBANG:pqe,TITLE_MODE:Nqe,UNDERSCORE_IDENT_RE:DR,UNDERSCORE_TITLE_MODE:Aqe});function Tqe(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Oqe(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Mqe(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Tqe,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Pqe(e,t){Array.isArray(e.illegal)&&(e.illegal=IR(...e.illegal))}function jqe(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Rqe(e,t){e.relevance===void 0&&(e.relevance=1)}const Iqe=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Ih(n.beforeMatch,lte(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Lqe=["of","and","for","in","not","or","if","then","parent","list","value"],Dqe="keyword";function pte(e,t,n=Dqe){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(o){Object.assign(r,pte(e[o],t,o))}),r;function i(o,a){t&&(a=a.map(s=>s.toLowerCase())),a.forEach(function(s){const l=s.split("|");r[l[0]]=[o,$qe(l[0],l[1])]})}}function $qe(e,t){return t?Number(t):Fqe(e)?0:1}function Fqe(e){return Lqe.includes(e.toLowerCase())}const N7={},Yf=e=>{console.error(e)},A7=(e,...t)=>{console.log(`WARN: ${e}`,...t)},cp=(e,t)=>{N7[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),N7[`${e}/${t}`]=!0)},JS=new Error;function mte(e,t,{key:n}){let r=0;const i=e[n],o={},a={};for(let s=1;s<=t.length;s++)a[s+r]=i[s],o[s+r]=!0,r+=cte(t[s-1]);e[n]=a,e[n]._emit=o,e[n]._multi=!0}function Bqe(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Yf("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),JS;if(typeof e.beginScope!="object"||e.beginScope===null)throw Yf("beginScope must be object"),JS;mte(e,e.begin,{key:"beginScope"}),e.begin=LR(e.begin,{joinWith:""})}}function zqe(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Yf("skip, excludeEnd, returnEnd not compatible with endScope: {}"),JS;if(typeof e.endScope!="object"||e.endScope===null)throw Yf("endScope must be object"),JS;mte(e,e.end,{key:"endScope"}),e.end=LR(e.end,{joinWith:""})}}function Uqe(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Hqe(e){Uqe(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Bqe(e),zqe(e)}function qqe(e){function t(a,s){return new RegExp(ob(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(s?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(s,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,s]),this.matchAt+=cte(s)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const s=this.regexes.map(l=>l[1]);this.matcherRe=t(LR(s,{joinWith:"|"}),!0),this.lastIndex=0}exec(s){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(s);if(!l)return null;const c=l.findIndex((d,p)=>p>0&&d!==void 0),u=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(s){if(this.multiRegexes[s])return this.multiRegexes[s];const l=new n;return this.rules.slice(s).forEach(([c,u])=>l.addRule(c,u)),l.compile(),this.multiRegexes[s]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(s,l){this.rules.push([s,l]),l.type==="begin"&&this.count++}exec(s){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(s);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(s)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(a){const s=new r;return a.contains.forEach(l=>s.addRule(l.begin,{rule:l,type:"begin"})),a.terminatorEnd&&s.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&s.addRule(a.illegal,{type:"illegal"}),s}function o(a,s){const l=a;if(a.isCompiled)return l;[Oqe,jqe,Hqe,Iqe].forEach(u=>u(a,s)),e.compilerExtensions.forEach(u=>u(a,s)),a.__beforeBegin=null,[Mqe,Pqe,Rqe].forEach(u=>u(a,s)),a.isCompiled=!0;let c=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),c=a.keywords.$pattern,delete a.keywords.$pattern),c=c||/\w+/,a.keywords&&(a.keywords=pte(a.keywords,e.case_insensitive)),l.keywordPatternRe=t(c,!0),s&&(a.begin||(a.begin=/\B|\b/),l.beginRe=t(l.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(l.endRe=t(l.end)),l.terminatorEnd=ob(l.end)||"",a.endsWithParent&&s.terminatorEnd&&(l.terminatorEnd+=(a.end?"|":"")+s.terminatorEnd)),a.illegal&&(l.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(u){return Wqe(u==="self"?a:u)})),a.contains.forEach(function(u){o(u,l)}),a.starts&&o(a.starts,s),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Wu(e.classNameAliases||{}),o(e)}function gte(e){return e?e.endsWithParent||gte(e.starts):!1}function Wqe(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Wu(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:gte(e)?Wu(e,{starts:e.starts?Wu(e.starts):null}):Object.isFrozen(e)?Wu(e):e}var Vqe="11.11.1";class Kqe extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const mk=ste,k7=Wu,C7=Symbol("nomatch"),Gqe=7,vte=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:aqe};function l(z){return s.noHighlightRe.test(z)}function c(z){let W=z.className+" ";W+=z.parentNode?z.parentNode.className:"";const F=s.languageDetectRe.exec(W);if(F){const B=E(F[1]);return B||(A7(o.replace("{}",F[1])),A7("Falling back to no-highlight mode for this block.",z)),B?F[1]:"no-highlight"}return W.split(/\s+/).find(B=>l(B)||E(B))}function u(z,W,F){let B="",te="";typeof W=="object"?(B=z,F=W.ignoreIllegals,te=W.language):(cp("10.7.0","highlight(lang, code, ...args) has been deprecated."),cp("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),te=z,B=W),F===void 0&&(F=!0);const K={code:B,language:te};D("before:highlight",K);const R=K.result?K.result:d(K.language,K.code,F);return R.code=K.code,D("after:highlight",R),R}function d(z,W,F,B){const te=Object.create(null);function K(Ee,$e){return Ee.keywords[$e]}function R(){if(!_e.keywords){He.addText(je);return}let Ee=0;_e.keywordPatternRe.lastIndex=0;let $e=_e.keywordPatternRe.exec(je),ze="";for(;$e;){ze+=je.substring(Ee,$e.index);const Ve=J.case_insensitive?$e[0].toLowerCase():$e[0],rt=K(_e,Ve);if(rt){const[Je,qt]=rt;if(He.addText(ze),ze="",te[Ve]=(te[Ve]||0)+1,te[Ve]<=Gqe&&(nt+=qt),Je.startsWith("_"))ze+=$e[0];else{const Gt=J.classNameAliases[Je]||Je;Z($e[0],Gt)}}else ze+=$e[0];Ee=_e.keywordPatternRe.lastIndex,$e=_e.keywordPatternRe.exec(je)}ze+=je.substring(Ee),He.addText(ze)}function U(){if(je==="")return;let Ee=null;if(typeof _e.subLanguage=="string"){if(!t[_e.subLanguage]){He.addText(je);return}Ee=d(_e.subLanguage,je,!0,Ae[_e.subLanguage]),Ae[_e.subLanguage]=Ee._top}else Ee=h(je,_e.subLanguage.length?_e.subLanguage:null);_e.relevance>0&&(nt+=Ee.relevance),He.__addSublanguage(Ee._emitter,Ee.language)}function Y(){_e.subLanguage!=null?U():R(),je=""}function Z(Ee,$e){Ee!==""&&(He.startScope($e),He.addText(Ee),He.endScope())}function ae(Ee,$e){let ze=1;const Ve=$e.length-1;for(;ze<=Ve;){if(!Ee._emit[ze]){ze++;continue}const rt=J.classNameAliases[Ee[ze]]||Ee[ze],Je=$e[ze];rt?Z(Je,rt):(je=Je,R(),je=""),ze++}}function se(Ee,$e){return Ee.scope&&typeof Ee.scope=="string"&&He.openNode(J.classNameAliases[Ee.scope]||Ee.scope),Ee.beginScope&&(Ee.beginScope._wrap?(Z(je,J.classNameAliases[Ee.beginScope._wrap]||Ee.beginScope._wrap),je=""):Ee.beginScope._multi&&(ae(Ee.beginScope,$e),je="")),_e=Object.create(Ee,{parent:{value:_e}}),_e}function ce(Ee,$e,ze){let Ve=uqe(Ee.endRe,ze);if(Ve){if(Ee["on:end"]){const rt=new S7(Ee);Ee["on:end"]($e,rt),rt.isMatchIgnored&&(Ve=!1)}if(Ve){for(;Ee.endsParent&&Ee.parent;)Ee=Ee.parent;return Ee}}if(Ee.endsWithParent)return ce(Ee.parent,$e,ze)}function ne(Ee){return _e.matcher.regexIndex===0?(je+=Ee[0],1):(lt=!0,0)}function de(Ee){const $e=Ee[0],ze=Ee.rule,Ve=new S7(ze),rt=[ze.__beforeBegin,ze["on:begin"]];for(const Je of rt)if(Je&&(Je(Ee,Ve),Ve.isMatchIgnored))return ne($e);return ze.skip?je+=$e:(ze.excludeBegin&&(je+=$e),Y(),!ze.returnBegin&&!ze.excludeBegin&&(je=$e)),se(ze,Ee),ze.returnBegin?0:$e.length}function he(Ee){const $e=Ee[0],ze=W.substring(Ee.index),Ve=ce(_e,Ee,ze);if(!Ve)return C7;const rt=_e;_e.endScope&&_e.endScope._wrap?(Y(),Z($e,_e.endScope._wrap)):_e.endScope&&_e.endScope._multi?(Y(),ae(_e.endScope,Ee)):rt.skip?je+=$e:(rt.returnEnd||rt.excludeEnd||(je+=$e),Y(),rt.excludeEnd&&(je=$e));do _e.scope&&He.closeNode(),!_e.skip&&!_e.subLanguage&&(nt+=_e.relevance),_e=_e.parent;while(_e!==Ve.parent);return Ve.starts&&se(Ve.starts,Ee),rt.returnEnd?0:$e.length}function ue(){const Ee=[];for(let $e=_e;$e!==J;$e=$e.parent)$e.scope&&Ee.unshift($e.scope);Ee.forEach($e=>He.openNode($e))}let Ne={};function pe(Ee,$e){const ze=$e&&$e[0];if(je+=Ee,ze==null)return Y(),0;if(Ne.type==="begin"&&$e.type==="end"&&Ne.index===$e.index&&ze===""){if(je+=W.slice($e.index,$e.index+1),!i){const Ve=new Error(`0 width match regex (${z})`);throw Ve.languageName=z,Ve.badRule=Ne.rule,Ve}return 1}if(Ne=$e,$e.type==="begin")return de($e);if($e.type==="illegal"&&!F){const Ve=new Error('Illegal lexeme "'+ze+'" for mode "'+(_e.scope||"<unnamed>")+'"');throw Ve.mode=_e,Ve}else if($e.type==="end"){const Ve=he($e);if(Ve!==C7)return Ve}if($e.type==="illegal"&&ze==="")return je+=`
`,1;if(xt>1e5&&xt>$e.index*3)throw new Error("potential infinite loop, way more iterations than matches");return je+=ze,ze.length}const J=E(z);if(!J)throw Yf(o.replace("{}",z)),new Error('Unknown language: "'+z+'"');const ke=qqe(J);let Ke="",_e=B||ke;const Ae={},He=new s.__emitter(s);ue();let je="",nt=0,et=0,xt=0,lt=!1;try{if(J.__emitTokens)J.__emitTokens(W,He);else{for(_e.matcher.considerAll();;){xt++,lt?lt=!1:_e.matcher.considerAll(),_e.matcher.lastIndex=et;const Ee=_e.matcher.exec(W);if(!Ee)break;const $e=W.substring(et,Ee.index),ze=pe($e,Ee);et=Ee.index+ze}pe(W.substring(et))}return He.finalize(),Ke=He.toHTML(),{language:z,value:Ke,relevance:nt,illegal:!1,_emitter:He,_top:_e}}catch(Ee){if(Ee.message&&Ee.message.includes("Illegal"))return{language:z,value:mk(W),illegal:!0,relevance:0,_illegalBy:{message:Ee.message,index:et,context:W.slice(et-100,et+100),mode:Ee.mode,resultSoFar:Ke},_emitter:He};if(i)return{language:z,value:mk(W),illegal:!1,relevance:0,errorRaised:Ee,_emitter:He,_top:_e};throw Ee}}function p(z){const W={value:mk(z),illegal:!1,relevance:0,_top:a,_emitter:new s.__emitter(s)};return W._emitter.addText(z),W}function h(z,W){W=W||s.languages||Object.keys(t);const F=p(z),B=W.filter(E).filter(L).map(Y=>d(Y,z,!1));B.unshift(F);const te=B.sort((Y,Z)=>{if(Y.relevance!==Z.relevance)return Z.relevance-Y.relevance;if(Y.language&&Z.language){if(E(Y.language).supersetOf===Z.language)return 1;if(E(Z.language).supersetOf===Y.language)return-1}return 0}),[K,R]=te,U=K;return U.secondBest=R,U}function m(z,W,F){const B=W&&n[W]||F;z.classList.add("hljs"),z.classList.add(`language-${B}`)}function g(z){let W=null;const F=c(z);if(l(F))return;if(D("before:highlightElement",{el:z,language:F}),z.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",z);return}if(z.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(z)),s.throwUnescapedHTML))throw new Kqe("One of your code blocks includes unescaped HTML.",z.innerHTML);W=z;const B=W.textContent,te=F?u(B,{language:F,ignoreIllegals:!0}):h(B);z.innerHTML=te.value,z.dataset.highlighted="yes",m(z,F,te.language),z.result={language:te.language,re:te.relevance,relevance:te.relevance},te.secondBest&&(z.secondBest={language:te.secondBest.language,relevance:te.secondBest.relevance}),D("after:highlightElement",{el:z,result:te,text:B})}function v(z){s=k7(s,z)}const y=()=>{_(),cp("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function x(){_(),cp("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let w=!1;function _(){function z(){_()}if(document.readyState==="loading"){w||window.addEventListener("DOMContentLoaded",z,!1),w=!0;return}document.querySelectorAll(s.cssSelector).forEach(g)}function N(z,W){let F=null;try{F=W(e)}catch(B){if(Yf("Language definition for '{}' could not be registered.".replace("{}",z)),i)Yf(B);else throw B;F=a}F.name||(F.name=z),t[z]=F,F.rawDefinition=W.bind(null,e),F.aliases&&C(F.aliases,{languageName:z})}function k(z){delete t[z];for(const W of Object.keys(n))n[W]===z&&delete n[W]}function O(){return Object.keys(t)}function E(z){return z=(z||"").toLowerCase(),t[z]||t[n[z]]}function C(z,{languageName:W}){typeof z=="string"&&(z=[z]),z.forEach(F=>{n[F.toLowerCase()]=W})}function L(z){const W=E(z);return W&&!W.disableAutodetect}function M(z){z["before:highlightBlock"]&&!z["before:highlightElement"]&&(z["before:highlightElement"]=W=>{z["before:highlightBlock"](Object.assign({block:W.el},W))}),z["after:highlightBlock"]&&!z["after:highlightElement"]&&(z["after:highlightElement"]=W=>{z["after:highlightBlock"](Object.assign({block:W.el},W))})}function I(z){M(z),r.push(z)}function j(z){const W=r.indexOf(z);W!==-1&&r.splice(W,1)}function D(z,W){const F=z;r.forEach(function(B){B[F]&&B[F](W)})}function q(z){return cp("10.7.0","highlightBlock will be removed entirely in v12.0"),cp("10.7.0","Please use highlightElement now."),g(z)}Object.assign(e,{highlight:u,highlightAuto:h,highlightAll:_,highlightElement:g,highlightBlock:q,configure:v,initHighlighting:y,initHighlightingOnLoad:x,registerLanguage:N,unregisterLanguage:k,listLanguages:O,getLanguage:E,registerAliases:C,autoDetection:L,inherit:k7,addPlugin:I,removePlugin:j}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=Vqe,e.regex={concat:Ih,lookahead:lte,either:IR,optional:lqe,anyNumberOfTimes:sqe};for(const z in jx)typeof jx[z]=="object"&&ate(jx[z]);return Object.assign(e,jx),e},cg=vte({});cg.newInstance=()=>vte({});var Yqe=cg;cg.HighlightJS=cg;cg.default=cg;const yte=wn(Yqe);function bte(e,t=[]){return e.flatMap(n=>{const r=[...t,...n.properties?n.properties.className:[]];return n.children?bte(n.children,r):{text:n.value,classes:r}})}function T7(e){return e.value||e.children||[]}function Xqe(e){return!!yte.getLanguage(e)}function O7({doc:e,name:t,lowlight:n,defaultLanguage:r}){const i=[];return oM(e,o=>o.type.name===t).forEach(o=>{var a;let s=o.pos+1;const l=o.node.attrs.language||r,c=n.listLanguages(),u=l&&(c.includes(l)||Xqe(l)||(a=n.registered)!=null&&a.call(n,l))?T7(n.highlight(l,o.node.textContent)):T7(n.highlightAuto(o.node.textContent));bte(u).forEach(d=>{const p=s+d.text.length;if(d.classes.length){const h=li.inline(s,p,{class:d.classes.join(" ")});i.push(h)}s=p})}),Un.create(e,i)}function Qqe(e){return typeof e=="function"}function Zqe({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>Qqe(t[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new ar({key:new Ar("lowlight"),state:{init:(i,{doc:o})=>O7({doc:o,name:e,lowlight:t,defaultLanguage:n}),apply:(i,o,a,s)=>{const l=a.selection.$head.parent.type.name,c=s.selection.$head.parent.type.name,u=oM(a.doc,p=>p.type.name===e),d=oM(s.doc,p=>p.type.name===e);return i.docChanged&&([l,c].includes(e)||d.length!==u.length||i.steps.some(p=>p.from!==void 0&&p.to!==void 0&&u.some(h=>h.pos>=p.from&&h.pos+h.node.nodeSize<=p.to)))?O7({doc:i.doc,name:e,lowlight:t,defaultLanguage:n}):o.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var Jqe=_Ue.extend({addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var e;return[...((e=this.parent)==null?void 0:e.call(this))||[],Zqe({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function eWe(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},p={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},N={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},k=[N,d,s,n,e.C_BLOCK_COMMENT_MODE,u,c],O={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:k.concat([{begin:/\(/,end:/\)/,keywords:_,contains:k.concat(["self"]),relevance:0}]),relevance:0},E={className:"function",begin:"("+a+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:h,returnBegin:!0,contains:[p],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,s,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(O,E,N,k,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function tWe(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=eWe(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function nWe(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},p=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=e.SHEBANG({binary:`(${p.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],y={match:/(\/[a-z._-]+)+/},x=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],w=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],_=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],N=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:v,built_in:[...x,...w,"set","shopt",..._,...N]},contains:[h,e.SHEBANG(),m,d,o,a,y,s,l,c,u,n]}}function rWe(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},p={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",v={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[d,s,n,e.C_BLOCK_COMMENT_MODE,u,c],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:v,contains:y.concat([{begin:/\(/,end:/\)/,keywords:v,contains:y.concat(["self"]),relevance:0}]),relevance:0},w={begin:"("+a+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:v,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:v,relevance:0},{begin:h,returnBegin:!0,contains:[e.inherit(p,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,s,{begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:v,disableAutodetect:!0,illegal:"</",contains:[].concat(x,w,y,[d,{begin:e.IDENT_RE+"::",keywords:v},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:d,strings:c,keywords:v}}}function iWe(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},p={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],_={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},N={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},k=[N,d,s,n,e.C_BLOCK_COMMENT_MODE,u,c],O={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:_,contains:k.concat([{begin:/\(/,end:/\)/,keywords:_,contains:k.concat(["self"]),relevance:0}]),relevance:0},E={className:"function",begin:"("+a+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:_,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:_,relevance:0},{begin:h,returnBegin:!0,contains:[p],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,s,{begin:/\(/,end:/\)/,keywords:_,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:_,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(O,E,N,k,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:_,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:_},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function oWe(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(o),built_in:t,literal:r},s=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=e.inherit(u,{illegal:/\n/}),p={className:"subst",begin:/\{/,end:/\}/,keywords:a},h=e.inherit(p,{illegal:/\n/}),m={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,h]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]},v=e.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]});p.contains=[g,m,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],h.contains=[v,m,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[c,g,m,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},x={begin:"<",end:">",contains:[{beginKeywords:"in out"},s]},w=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",_={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},s,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[s,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+w+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,x],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[y,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},_]}}const aWe=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),sWe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],lWe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],cWe=[...sWe,...lWe],uWe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),dWe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),fWe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),hWe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function pWe(e){const t=e.regex,n=aWe(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",o=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",s=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+dWe.join("|")+")"},{begin:":(:)?("+fWe.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+hWe.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...s,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...s,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:uWe.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...s,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+cWe.join("|")+")\\b"}]}}function mWe(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function gWe(e){const o={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:o,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:o,illegal:/["']/}]}]}}function vWe(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function yWe(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},s={begin:/\[/,end:/\]/,contains:[r,o,i,a,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,u=/'[^']*'/,d=t.either(l,c,u),p=t.concat(d,"(\\s*\\.\\s*",d,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:p,className:"attr",starts:{end:/$/,contains:[r,s,o,i,a,n]}}]}}var bp="[0-9](_*[0-9])*",Rx=`\\.(${bp})`,Ix="[0-9a-fA-F](_*[0-9a-fA-F])*",M7={className:"number",variants:[{begin:`(\\b(${bp})((${Rx})|\\.)?|(${Rx}))[eE][+-]?(${bp})[fFdD]?\\b`},{begin:`\\b(${bp})((${Rx})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Rx})[fFdD]?\\b`},{begin:`\\b(${bp})[fFdD]\\b`},{begin:`\\b0[xX]((${Ix})\\.?|(${Ix})?\\.(${Ix}))[pP][+-]?(${bp})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Ix})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function xte(e,t,n){return n===-1?"":e.replace(t,r=>xte(e,t,n-1))}function bWe(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+xte("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,M7,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},M7,c]}}const P7="[A-Za-z$_][0-9A-Za-z$_]*",xWe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],wWe=["true","false","null","undefined","NaN","Infinity"],wte=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ste=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],_te=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],SWe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],_We=[].concat(_te,wte,Ste);function EWe(e){const t=e.regex,n=(F,{after:B})=>{const te="</"+F[0].slice(1);return F.input.indexOf(te,B)!==-1},r=P7,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(F,B)=>{const te=F[0].length+F.index,K=F.input[te];if(K==="<"||K===","){B.ignoreMatch();return}K===">"&&(n(F,{after:te})||B.ignoreMatch());let R;const U=F.input.substring(te);if(R=U.match(/^\s*=/)){B.ignoreMatch();return}if((R=U.match(/^\s+extends\s+/))&&R.index===0){B.ignoreMatch();return}}},s={$pattern:P7,keyword:xWe,literal:wWe,built_in:_We,"variable.language":SWe},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},p={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,p]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,g,v,{match:/\$\d+/},d];p.contains=w.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(w)});const _=[].concat(x,p.contains),N=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(_)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:N},O={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},E={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...wte,...Ste]}},C={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},L={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},M={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(F){return t.concat("(?!",F.join("|"),")")}const j={match:t.concat(/\b/,I([..._te,"super","import"].map(F=>`${F}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},D={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},q={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:N,CLASS_REFERENCE:E},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),C,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,g,v,x,{match:/\$\d+/},d,E,{scope:"attr",match:r+t.lookahead(":"),relevance:0},W,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:N}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},L,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},j,M,O,q,{match:/\$[(.]/}]}}function NWe(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var xp="[0-9](_*[0-9])*",Lx=`\\.(${xp})`,Dx="[0-9a-fA-F](_*[0-9a-fA-F])*",AWe={className:"number",variants:[{begin:`(\\b(${xp})((${Lx})|\\.)?|(${Lx}))[eE][+-]?(${xp})[fFdD]?\\b`},{begin:`\\b(${xp})((${Lx})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Lx})[fFdD]?\\b`},{begin:`\\b(${xp})[fFdD]\\b`},{begin:`\\b0[xX]((${Dx})\\.?|(${Dx})?\\.(${Dx}))[pP][+-]?(${xp})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Dx})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function kWe(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,o,i]}]};i.contains.push(a);const s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},c=AWe,u=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},p=d;return p.variants[1].contains=[d],d.variants[1].contains=[p],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,u,n,r,s,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,e.C_LINE_COMMENT_MODE,u],relevance:0},e.C_LINE_COMMENT_MODE,u,s,l,a,e.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},s,l]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const CWe=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),TWe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],OWe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],MWe=[...TWe,...OWe],PWe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Ete=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Nte=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),jWe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),RWe=Ete.concat(Nte).sort().reverse();function IWe(e){const t=CWe(e),n=RWe,r="and or not only",i="[\\w-]+",o="("+i+"|@\\{"+i+"\\})",a=[],s=[],l=function(w){return{className:"string",begin:"~?"+w+".*?"+w}},c=function(w,_,N){return{className:w,begin:_,relevance:N}},u={$pattern:/[a-z-]+/,keyword:r,attribute:PWe.join(" ")},d={begin:"\\(",end:"\\)",contains:s,keywords:u,relevance:0};s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,d,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const p=s.concat({begin:/\{/,end:/\}/,contains:a}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},m={begin:o+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+jWe.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:s,relevance:0}},v={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:p}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:o,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+MWe.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,c("selector-tag",o,0),c("selector-id","#"+o),c("selector-class","\\."+o,0),c("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Ete.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Nte.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:p},{begin:"!important"},t.FUNCTION_DISPATCH]},x={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[y]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,v,x,m,y,h,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function LWe(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function DWe(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,o,a]}}function $We(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},o={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},s=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,s,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=e.inherit(c,{contains:[]}),p=e.inherit(u,{contains:[]});c.contains.push(p),u.contains.push(d);let h=[n,l];return[c,u,d,p].forEach(y=>{y.contains=y.contains.concat(h)}),h=h.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},n,o,c,u,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},i,r,l,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function FWe(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,s={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:s,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function BWe(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},o={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},s={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[s]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},u=[e.BACKSLASH_ESCAPE,o,l],d=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],p=(g,v,y="\\1")=>{const x=y==="\\1"?y:t.concat(y,v);return t.concat(t.concat("(?:",g,")"),v,/(?:\\.|[^\\\/])*?/,x,/(?:\\.|[^\\\/])*?/,y,r)},h=(g,v,y)=>t.concat(t.concat("(?:",g,")"),v,/(?:\\.|[^\\\/])*?/,y,r),m=[l,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:p("s|tr|y",t.either(...d,{capture:!0}))},{begin:p("s|tr|y","\\(","\\)")},{begin:p("s|tr|y","\\[","\\]")},{begin:p("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:h("(?:m|qr)?",/\//,/\//)},{begin:h("m|qr",t.either(...d,{capture:!0}),/\1/)},{begin:h("m|qr",/\(/,/\)/)},{begin:h("m|qr",/\[/,/\]/)},{begin:h("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,s]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,s,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return o.contains=m,a.contains=m,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:m}}function zWe(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o=t.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},s={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=e.inherit(e.APOS_STRING_MODE,{illegal:null}),u=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(D,q)=>{q.data._beginMatch=D[1]||D[2]},"on:end":(D,q)=>{q.data._beginMatch!==D[1]&&q.ignoreMatch()}},p=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),h=`[ 	
]`,m={scope:"string",variants:[u,c,d,p]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},v=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],x=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],_={keyword:y,literal:(D=>{const q=[];return D.forEach(z=>{q.push(z),z.toLowerCase()===z?q.push(z.toUpperCase()):q.push(z.toLowerCase())}),q})(v),built_in:x},N=D=>D.map(q=>q.replace(/\|\d+$/,"")),k={variants:[{match:[/new/,t.concat(h,"+"),t.concat("(?!",N(x).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},O=t.concat(r,"\\b(?!\\()"),E={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),O],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),O],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},C={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},L={relevance:0,begin:/\(/,end:/\)/,keywords:_,contains:[C,a,E,e.C_BLOCK_COMMENT_MODE,m,g,k]},M={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",N(y).join("\\b|"),"|",N(x).join("\\b|"),"\\b)"),r,t.concat(h,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[L]};L.contains.push(M);const I=[C,E,e.C_BLOCK_COMMENT_MODE,m,g,k],j={begin:t.concat(/#\[\s*\\?/,t.either(i,o)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:v,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:v,keyword:["new","array"]},contains:["self",...I]},...I,{scope:"meta",variants:[{match:i},{match:o}]}]};return{case_insensitive:!1,keywords:_,contains:[j,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},s,{scope:"variable.language",match:/\$this\b/},a,M,E,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},k,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:_,contains:["self",j,a,E,e.C_BLOCK_COMMENT_MODE,m,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},m,g]}}function UWe(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function HWe(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function qWe(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],s={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:s,illegal:/#/},u={begin:/\{\{/,relevance:0},d={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,u,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},p="[0-9](_?[0-9])*",h=`(\\b(${p}))?\\.(${p})|\\b(${p})\\.`,m=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${p})|(${h}))[eE][+-]?(${p})[jJ]?(?=${m})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${p})[jJ](?=${m})`}]},v={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:s,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:["self",l,g,d,e.HASH_COMMENT_MODE]}]};return c.contains=[d,g,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:s,illegal:/(<\/|\?)|=>/,contains:[l,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,v,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,d]}]}}function WWe(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function VWe(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function KWe(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[e.COMMENT("#","$",{contains:[s]}),e.COMMENT("^=begin","^=end",{contains:[s],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:a},d={className:"string",contains:[e.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,u]})]}]},p="[1-9](_?[0-9])*|0",h="[0-9](_?[0-9])*",m={className:"number",relevance:0,variants:[{begin:`\\b(${p})(\\.(${h}))?([eE][+-]?(${h})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},k=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:n}],relevance:0},m,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);u.contains=k,g.contains=k;const L=[{begin:/^\s*=>/,starts:{end:"$",contains:k}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:k}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(L).concat(c).concat(k)}}function GWe(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),o={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",s=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],u=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:u,keyword:s,literal:l,built_in:c},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:u}},{className:"punctuation",begin:"->"},o]}}const YWe=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),XWe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],QWe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],ZWe=[...XWe,...QWe],JWe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),eVe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),tVe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),nVe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function rVe(e){const t=YWe(e),n=tVe,r=eVe,i="@[a-z-]+",o="and or not only",s={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+ZWe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},s,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+nVe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,s,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:JWe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},s,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function iVe(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function oVe(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},o=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],s=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],p=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=u,m=[...c,...l].filter(N=>!u.includes(N)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:t.concat(/\b/,t.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function x(N){return t.concat(/\b/,t.either(...N.map(k=>k.replace(/\s+/,"\\s+"))),/\b/)}const w={scope:"keyword",match:x(p),relevance:0};function _(N,{exceptions:k,when:O}={}){const E=O;return k=k||[],N.map(C=>C.match(/\|\d+$/)||k.includes(C)?C:E(C)?`${C}|0`:C)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:_(m,{when:N=>N.length<3}),literal:o,type:s,built_in:d},contains:[{scope:"type",match:x(a)},w,y,g,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,v]}}function Ate(e){return e?typeof e=="string"?e:e.source:null}function Hv(e){return Ln("(?=",e,")")}function Ln(...e){return e.map(n=>Ate(n)).join("")}function aVe(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function go(...e){return"("+(aVe(e).capture?"":"?:")+e.map(r=>Ate(r)).join("|")+")"}const $R=e=>Ln(/\b/,e,/\w$/.test(e)?/\b/:/\B/),sVe=["Protocol","Type"].map($R),j7=["init","self"].map($R),lVe=["Any","Self"],gk=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],R7=["false","nil","true"],cVe=["assignment","associativity","higherThan","left","lowerThan","none","right"],uVe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],I7=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],kte=go(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Cte=go(kte,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),vk=Ln(kte,Cte,"*"),Tte=go(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),e_=go(Tte,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),nl=Ln(Tte,e_,"*"),$x=Ln(/[A-Z]/,e_,"*"),dVe=["attached","autoclosure",Ln(/convention\(/,go("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Ln(/objc\(/,nl,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],fVe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function hVe(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,go(...sVe,...j7)],className:{2:"keyword"}},o={match:Ln(/\./,go(...gk)),relevance:0},a=gk.filter(ke=>typeof ke=="string").concat(["_|0"]),s=gk.filter(ke=>typeof ke!="string").concat(lVe).map($R),l={variants:[{className:"keyword",match:go(...s,...j7)}]},c={$pattern:go(/\b\w+/,/#\w+/),keyword:a.concat(uVe),literal:R7},u=[i,o,l],d={match:Ln(/\./,go(...I7)),relevance:0},p={className:"built_in",match:Ln(/\b/,go(...I7),/(?=\()/)},h=[d,p],m={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:vk},{match:`\\.(\\.|${Cte})+`}]},v=[m,g],y="([0-9]_*)+",x="([0-9a-fA-F]_*)+",w={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${x})(\\.(${x}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},_=(ke="")=>({className:"subst",variants:[{match:Ln(/\\/,ke,/[0\\tnr"']/)},{match:Ln(/\\/,ke,/u\{[0-9a-fA-F]{1,8}\}/)}]}),N=(ke="")=>({className:"subst",match:Ln(/\\/,ke,/[\t ]*(?:[\r\n]|\r\n)/)}),k=(ke="")=>({className:"subst",label:"interpol",begin:Ln(/\\/,ke,/\(/),end:/\)/}),O=(ke="")=>({begin:Ln(ke,/"""/),end:Ln(/"""/,ke),contains:[_(ke),N(ke),k(ke)]}),E=(ke="")=>({begin:Ln(ke,/"/),end:Ln(/"/,ke),contains:[_(ke),k(ke)]}),C={className:"string",variants:[O(),O("#"),O("##"),O("###"),E(),E("#"),E("##"),E("###")]},L=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],M={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:L},I=ke=>{const Ke=Ln(ke,/\//),_e=Ln(/\//,ke);return{begin:Ke,end:_e,contains:[...L,{scope:"comment",begin:`#(?!.*${_e})`,end:/$/}]}},j={scope:"regexp",variants:[I("###"),I("##"),I("#"),M]},D={match:Ln(/`/,nl,/`/)},q={className:"variable",match:/\$\d+/},z={className:"variable",match:`\\$${e_}+`},W=[D,q,z],F={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:fVe,contains:[...v,w,C]}]}},B={scope:"keyword",match:Ln(/@/,go(...dVe),Hv(go(/\(/,/\s+/)))},te={scope:"meta",match:Ln(/@/,nl)},K=[F,B,te],R={match:Hv(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Ln(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,e_,"+")},{className:"type",match:$x,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Ln(/\s+&\s+/,Hv($x)),relevance:0}]},U={begin:/</,end:/>/,keywords:c,contains:[...r,...u,...K,m,R]};R.contains.push(U);const Y={match:Ln(nl,/\s*:/),keywords:"_|0",relevance:0},Z={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",Y,...r,j,...u,...h,...v,w,C,...W,...K,R]},ae={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,R]},se={begin:go(Hv(Ln(nl,/\s*:/)),Hv(Ln(nl,/\s+/,nl,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:nl}]},ce={begin:/\(/,end:/\)/,keywords:c,contains:[se,...r,...u,...v,w,C,...K,R,Z],endsParent:!0,illegal:/["']/},ne={match:[/(func|macro)/,/\s+/,go(D.match,nl,vk)],className:{1:"keyword",3:"title.function"},contains:[ae,ce,t],illegal:[/\[/,/%/]},de={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ae,ce,t],illegal:/\[|%/},he={match:[/operator/,/\s+/,vk],className:{1:"keyword",3:"title"}},ue={begin:[/precedencegroup/,/\s+/,$x],className:{1:"keyword",3:"title"},contains:[R],keywords:[...cVe,...R7],end:/}/},Ne={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},pe={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},J={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,nl,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[ae,...u,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:$x},...u],relevance:0}]};for(const ke of C.variants){const Ke=ke.contains.find(Ae=>Ae.label==="interpol");Ke.keywords=c;const _e=[...u,...h,...v,w,C,...W];Ke.contains=[..._e,{begin:/\(/,end:/\)/,contains:["self",..._e]}]}return{name:"Swift",keywords:c,contains:[...r,ne,de,Ne,pe,J,he,ue,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},j,...u,...h,...v,w,C,...W,...K,R,Z]}}const t_="[A-Za-z$_][0-9A-Za-z$_]*",Ote=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Mte=["true","false","null","undefined","NaN","Infinity"],Pte=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],jte=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Rte=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ite=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Lte=[].concat(Rte,Pte,jte);function pVe(e){const t=e.regex,n=(F,{after:B})=>{const te="</"+F[0].slice(1);return F.input.indexOf(te,B)!==-1},r=t_,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(F,B)=>{const te=F[0].length+F.index,K=F.input[te];if(K==="<"||K===","){B.ignoreMatch();return}K===">"&&(n(F,{after:te})||B.ignoreMatch());let R;const U=F.input.substring(te);if(R=U.match(/^\s*=/)){B.ignoreMatch();return}if((R=U.match(/^\s+extends\s+/))&&R.index===0){B.ignoreMatch();return}}},s={$pattern:t_,keyword:Ote,literal:Mte,built_in:Lte,"variable.language":Ite},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},p={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,p]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,g,v,{match:/\$\d+/},d];p.contains=w.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(w)});const _=[].concat(x,p.contains),N=_.concat([{begin:/(\s*)\(/,end:/\)/,keywords:s,contains:["self"].concat(_)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:N},O={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},E={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Pte,...jte]}},C={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},L={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},M={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function I(F){return t.concat("(?!",F.join("|"),")")}const j={match:t.concat(/\b/,I([...Rte,"super","import"].map(F=>`${F}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},D={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},q={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:N,CLASS_REFERENCE:E},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),C,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,m,g,v,x,{match:/\$\d+/},d,E,{scope:"attr",match:r+t.lookahead(":"),relevance:0},W,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:N}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},L,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},j,M,O,q,{match:/\$[(.]/}]}}function mVe(e){const t=e.regex,n=pVe(e),r=t_,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],o={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:t_,keyword:Ote.concat(l),literal:Mte,built_in:Lte.concat(i),"variable.language":Ite},u={className:"meta",begin:"@"+r},d=(g,v,y)=>{const x=g.contains.findIndex(w=>w.label===v);if(x===-1)throw new Error("can not find mode to replace");g.contains.splice(x,1,y)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(u);const p=n.contains.find(g=>g.scope==="attr"),h=Object.assign({},p,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,p,h]),n.contains=n.contains.concat([u,o,a,h]),d(n,"shebang",e.SHEBANG()),d(n,"use_strict",s);const m=n.contains.find(g=>g.label==="func.def");return m.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function gVe(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,o=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,s=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:t.concat(/# */,t.either(o,i),/ *#/)},{begin:t.concat(/# */,s,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(o,i),/ +/,t.either(a,s),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},u={className:"label",begin:/^\w+:/},d=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),p=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,c,u,d,p,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[p]}]}}function vVe(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},o={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},s={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},o,a,i,e.QUOTE_STRING_MODE,l,c,s]}}function yVe(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(o,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,l,s,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,a,l,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function bVe(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},o={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},s=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),p={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},h={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},m={begin:/\{/,end:/\}/,contains:[h],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[h],illegal:"\\n",relevance:0},v=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},p,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},m,g,o,a],y=[...v];return y.pop(),y.push(s),h.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}const xVe={arduino:tWe,bash:nWe,c:rWe,cpp:iWe,csharp:oWe,css:pWe,diff:mWe,go:gWe,graphql:vWe,ini:yWe,java:bWe,javascript:EWe,json:NWe,kotlin:kWe,less:IWe,lua:LWe,makefile:DWe,markdown:$We,objectivec:FWe,perl:BWe,php:zWe,"php-template":UWe,plaintext:HWe,python:qWe,"python-repl":WWe,r:VWe,ruby:KWe,rust:GWe,scss:rVe,shell:iVe,sql:oVe,swift:hVe,typescript:mVe,vbnet:gVe,wasm:vVe,xml:yVe,yaml:bVe},L7={},wVe="hljs-";function SVe(e){const t=yte.newInstance();return e&&o(e),{highlight:n,highlightAuto:r,listLanguages:i,register:o,registerAlias:a,registered:s};function n(l,c,u){const d=u||L7,p=typeof d.prefix=="string"?d.prefix:wVe;if(!t.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");t.configure({__emitter:_Ve,classPrefix:p});const h=t.highlight(c,{ignoreIllegals:!0,language:l});if(h.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:h.errorRaised});const m=h._emitter.root,g=m.data;return g.language=h.language,g.relevance=h.relevance,m}function r(l,c){const d=(c||L7).subset||i();let p=-1,h=0,m;for(;++p<d.length;){const g=d[p];if(!t.getLanguage(g))continue;const v=n(g,l,c);v.data&&v.data.relevance!==void 0&&v.data.relevance>h&&(h=v.data.relevance,m=v)}return m||{type:"root",children:[],data:{language:void 0,relevance:h}}}function i(){return t.listLanguages()}function o(l,c){if(typeof l=="string")t.registerLanguage(l,c);else{let u;for(u in l)Object.hasOwn(l,u)&&t.registerLanguage(u,l[u])}}function a(l,c){if(typeof l=="string")t.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let u;for(u in l)if(Object.hasOwn(l,u)){const d=l[u];t.registerAliases(typeof d=="string"?d:[...d],{languageName:u})}}}function s(l){return!!t.getLanguage(l)}}class _Ve{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=this,r=t.split(".").map(function(a,s){return s?a+"_".repeat(s):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}var xM,wM;if(typeof WeakMap<"u"){let e=new WeakMap;xM=t=>e.get(t),wM=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;xM=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},wM=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var Er=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,a=i+1;for(let s=1;o<this.width&&this.map[t+s]==n;s++)o++;for(let s=1;a<this.height&&this.map[t+this.width*s]==n;s++)a++;return{left:r,top:i,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:a==this.height)?null:this.map[r+this.width*(n<0?o-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,s),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[o-1]==a||r==e.top&&r&&this.map[o-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const s=(e+1)*this.width;for(;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}}static get(e){return xM(e)||wM(e,EVe(e))}};function EVe(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=NVe(e),n=e.childCount,r=[];let i=0,o=null;const a=[];for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=e.child(c);u++;for(let m=0;;m++){for(;i<r.length&&r[i]!=0;)i++;if(m==d.childCount)break;const g=d.child(m),{colspan:v,rowspan:y,colwidth:x}=g.attrs;for(let w=0;w<y;w++){if(w+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:y-w});break}const _=i+w*t;for(let N=0;N<v;N++){r[_+N]==0?r[_+N]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:v-N});const k=x&&x[N];if(k){const O=(_+N)%t*2,E=a[O];E==null||E!=k&&a[O+1]==1?(a[O]=k,a[O+1]=1):E==k&&a[O+1]++}}}i+=v,u+=g.nodeSize}const p=(c+1)*t;let h=0;for(;i<p;)r[i++]==0&&h++;h&&(o||(o=[])).push({type:"missing",row:c,n:h}),u++}(t===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const s=new Er(t,n,r,o);let l=!1;for(let c=0;!l&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(l=!0);return l&&AVe(s,a,e),s}function NVe(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let a=0;a<r;a++){const s=e.child(a);for(let l=0;l<s.childCount;l++){const c=s.child(l);a+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const s=i.child(a);o+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function AVe(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%e.width,d=t[u*2];d!=null&&(!l.colwidth||l.colwidth[c]!=d)&&((s||(s=kVe(l)))[c]=d)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}function kVe(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function oo(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var ku=new Ar("selectingCells");function zg(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function CVe(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Ws(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function uN(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=zg(t.$head)||TVe(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function TVe(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function SM(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function OVe(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function FR(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Dte(e,t,n){const r=e.node(-1),i=Er.get(r),o=e.start(-1),a=i.nextCell(e.pos-o,t,n);return a==null?null:e.node(0).resolve(o+a)}function wh(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function $te(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function MVe(e,t,n){const r=oo(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Xn=class ac extends Rt{constructor(t,n=t){const r=t.node(-1),i=Er.get(r),o=t.start(-1),a=i.rectBetween(t.pos-o,n.pos-o),s=t.node(0),l=i.cellsInRect(a).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const p=o+u+1;return new lJ(s.resolve(p),s.resolve(p+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(SM(r)&&SM(i)&&FR(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?ac.rowSelection(r,i):o&&this.isColSelection()?ac.colSelection(r,i):new ac(r,i)}return Tt.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=Er.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},a=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const p=n.map[u];if(o[p])continue;o[p]=!0;const h=n.findCell(p);let m=t.nodeAt(p);if(!m)throw RangeError(`No cell with offset ${p} found`);const g=i.left-h.left,v=h.right-i.right;if(g>0||v>0){let y=m.attrs;if(g>0&&(y=wh(y,0,g)),v>0&&(y=wh(y,y.colspan-v,v)),h.left<i.left){if(m=m.type.createAndFill(y),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else m=m.type.create(y,m.content)}if(h.top<i.top||h.bottom>i.bottom){const y={...m.attrs,rowspan:Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top)};h.top<i.top?m=m.type.createAndFill(y):m=m.type.create(y,m.content)}c.push(m)}a.push(t.child(l).copy(Ie.from(c)))}const s=this.isColSelection()&&this.isRowSelection()?t:a;return new Ze(Ie.from(s),1,1)}replace(t,n=Ze.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:s,$to:l}=i[a],c=t.mapping.slice(r);t.replace(c.map(s.pos),c.map(l.pos),a?Ze.empty:n)}const o=Rt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new Ze(Ie.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Er.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<o.length;a++)t(n.nodeAt(o[a]),i+o[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=Er.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))),new ac(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Er.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,s=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==n.width}eq(t){return t instanceof ac&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=Er.get(r),o=t.start(-1),a=i.findCell(t.pos-o),s=i.findCell(n.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(n=l.resolve(o+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(t=l.resolve(o+i.map[i.width*(a.top+1)-1]))),new ac(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new ac(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new ac(t.resolve(n),t.resolve(r))}getBookmark(){return new PVe(this.$anchorCell.pos,this.$headCell.pos)}};Xn.prototype.visible=!1;Rt.jsonID("cell",Xn);var PVe=class Fte{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Fte(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&FR(n,r)?new Xn(n,r):Rt.near(r,1)}};function jVe(e){if(!(e.selection instanceof Xn))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(li.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Un.create(e.doc,t)}function RVe({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function IVe({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function LVe(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,a;if(r instanceof Ct&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")o=Xn.create(i,r.from);else if(a=="row"){const s=i.resolve(r.from+1);o=Xn.rowSelection(s,s)}else if(!n){const s=Er.get(r.node),l=r.from+1,c=l+s.map[s.width*s.height-1];o=Xn.create(i,l+1,c)}}else r instanceof Tt&&RVe(r)?o=Tt.create(i,r.from):r instanceof Tt&&IVe(r)&&(o=Tt.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var DVe=new Ar("fix-tables");function Bte(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){const l=t.child(a);for(let c=s,u=Math.min(i,a+3);c<u;c++)if(e.child(c)==l){s=c+1,n+=l.nodeSize;continue e}r(l,n),s<i&&e.child(s).sameMarkup(l)?Bte(e.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function zte(e,t){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=$Ve(e,i,o,n))};return t?t.doc!=e.doc&&Bte(t.doc,e.doc,0,r):e.doc.descendants(r),n}function $Ve(e,t,n,r){const i=Er.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=t.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let p=0;p<d.rowspan;p++)o[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,wh(d,d.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=r.mapping.map(n);r.delete(u,u+t.nodeSize)}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(a==null&&(a=l),s=l);for(let l=0,c=n+1;l<i.height;l++){const u=t.child(l),d=c+u.nodeSize,p=o[l];if(p>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const m=[];for(let v=0;v<p;v++){const y=oo(e.schema)[h].createAndFill();y&&m.push(y)}const g=(l==0||a==l-1)&&s==l?c+1:d-1;r.insert(r.mapping.map(g),m)}c=d}return r.setMeta(DVe,{fixTables:!0})}function Dl(e){const t=e.selection,n=uN(e),r=n.node(-1),i=n.start(-1),o=Er.get(r);return{...t instanceof Xn?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function Ute(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;MVe(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){const l=t.map[s],c=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,$te(c.attrs,i-t.colCount(l))),a+=c.attrs.rowspan-1}else{const l=o==null?oo(r.type.schema).cell:r.nodeAt(t.map[s+o]).type,c=t.positionAt(a,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function FVe(e,t){if(!Ws(e))return!1;if(t){const n=Dl(e);t(Ute(e.tr,n,n.left))}return!0}function BVe(e,t){if(!Ws(e))return!1;if(t){const n=Dl(e);t(Ute(e.tr,n,n.right))}return!0}function zVe(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+i,l=t.map[s],c=n.nodeAt(l),u=c.attrs;if(i>0&&t.map[s-1]==l||i<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,wh(u,i-t.colCount(l)));else{const d=e.mapping.slice(o).map(r+l);e.delete(d,d+c.nodeSize)}a+=u.rowspan}}function UVe(e,t){if(!Ws(e))return!1;if(t){const n=Dl(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;zVe(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Er.get(o)}t(r)}return!0}function HVe(e,t,n){var r;const i=oo(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function Hte(e,{map:t,tableStart:n,table:r},i){var o;let a=n;for(let c=0;c<i;c++)a+=r.child(c).nodeSize;const s=[];let l=i>0?-1:0;HVe(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let c=0,u=t.width*i;c<t.width;c++,u++)if(i>0&&i<t.height&&t.map[u]==t.map[u-t.width]){const d=t.map[u],p=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...p,rowspan:p.rowspan+1}),c+=p.colspan-1}else{const d=l==null?oo(r.type.schema).cell:(o=r.nodeAt(t.map[u+l*t.width]))==null?void 0:o.type,p=d==null?void 0:d.createAndFill();p&&s.push(p)}return e.insert(a,oo(r.type.schema).row.create(null,s)),e}function qVe(e,t){if(!Ws(e))return!1;if(t){const n=Dl(e);t(Hte(e.tr,n,n.top))}return!0}function WVe(e,t){if(!Ws(e))return!1;if(t){const n=Dl(e);t(Hte(e.tr,n,n.bottom))}return!0}function VVe(e,{map:t,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const a=o+n.child(i).nodeSize,s=e.mapping.maps.length;e.delete(o+r,a+r);const l=new Set;for(let c=0,u=i*t.width;c<t.width;c++,u++){const d=t.map[u];if(!l.has(d)){if(l.add(d),i>0&&d==t.map[u-t.width]){const p=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,{...p,rowspan:p.rowspan-1}),c+=p.colspan-1}else if(i<t.height&&d==t.map[u+t.width]){const p=n.nodeAt(d),h=p.attrs,m=p.type.create({...h,rowspan:p.attrs.rowspan-1},p.content),g=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(s).map(r+g),m),c+=h.colspan-1}}}}function KVe(e,t){if(!Ws(e))return!1;if(t){const n=Dl(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;VVe(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=Er.get(n.table)}t(r)}return!0}function D7(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function GVe({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,a=(r.bottom-1)*e+r.left,s=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[s]==n[s+1])return!0;o+=e,s+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function $7(e,t){const n=e.selection;if(!(n instanceof Xn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Dl(e),{map:i}=r;if(GVe(i,r))return!1;if(t){const o=e.tr,a={};let s=Ie.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const p=i.map[u*i.width+d],h=r.table.nodeAt(p);if(!(a[p]||!h))if(a[p]=!0,l==null)l=p,c=h;else{D7(h)||(s=s.append(h.content));const m=o.mapping.map(p+r.tableStart);o.delete(m,m+h.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...$te(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),s.size){const u=l+1+c.content.size,d=D7(c)?l+1:u;o.replaceWith(d+r.tableStart,u+r.tableStart,s)}o.setSelection(new Xn(o.doc.resolve(l+r.tableStart))),t(o)}return!0}function F7(e,t){const n=oo(e.schema);return YVe(({node:r})=>n[r.type.spec.tableRole])(e,t)}function YVe(e){return(t,n)=>{var r;const i=t.selection;let o,a;if(i instanceof Xn){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(o=CVe(i.$from),!o)return!1;a=(r=zg(i.$from))==null?void 0:r.pos}if(o==null||a==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let s=o.attrs;const l=[],c=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});const u=Dl(t),d=t.tr;for(let h=0;h<u.right-u.left;h++)l.push(c?{...s,colwidth:c&&c[h]?[c[h]]:null}:s);let p;for(let h=u.top;h<u.bottom;h++){let m=u.map.positionAt(h,u.left,u.table);h==u.top&&(m+=o.nodeSize);for(let g=u.left,v=0;g<u.right;g++,v++)g==u.left&&h==u.top||d.insert(p=d.mapping.map(m+u.tableStart,1),e({node:o,row:h,col:g}).createAndFill(l[v]))}d.setNodeMarkup(a,e({node:o,row:u.top,col:u.left}),l[0]),i instanceof Xn&&d.setSelection(new Xn(d.doc.resolve(i.$anchorCell.pos),p?d.doc.resolve(p):void 0)),n(d)}return!0}}function XVe(e,t){return function(n,r){if(!Ws(n))return!1;const i=uN(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const o=n.tr;n.selection instanceof Xn?n.selection.forEachCell((a,s)=>{a.attrs[e]!==t&&o.setNodeMarkup(s,null,{...a.attrs,[e]:t})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(o)}return!0}}function QVe(e){return function(t,n){if(!Ws(t))return!1;if(n){const r=oo(t.schema),i=Dl(t),o=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(o.steps.length==0)for(let l=0;l<a.length;l++)o.setNodeMarkup(i.tableStart+a[l],r.header_cell,s[l].attrs);n(o)}return!0}}function B7(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function sb(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?QVe(e):function(n,r){if(!Ws(n))return!1;if(r){const i=oo(n.schema),o=Dl(n),a=n.tr,s=B7("row",o,i),l=B7("column",o,i),u=(e==="column"?s:e==="row"?l:!1)?1:0,d=e=="column"?{left:0,top:u,right:1,bottom:o.map.height}:e=="row"?{left:u,top:0,right:o.map.width,bottom:1}:o,p=e=="column"?l?i.cell:i.header_cell:e=="row"?s?i.cell:i.header_cell:i.cell;o.map.cellsInRect(d).forEach(h=>{const m=h+o.tableStart,g=a.doc.nodeAt(m);g&&a.setNodeMarkup(m,p,g.attrs)}),r(a)}return!0}}sb("row",{useDeprecatedLogic:!0});sb("column",{useDeprecatedLogic:!0});var ZVe=sb("cell",{useDeprecatedLogic:!0});function JVe(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const o=e.node(-1).child(r),a=o.lastChild;if(a)return i-1-a.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function z7(e){return function(t,n){if(!Ws(t))return!1;const r=JVe(uN(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(Tt.between(i,OVe(i))).scrollIntoView())}return!0}}function eKe(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Fx(e,t){const n=e.selection;if(!(n instanceof Xn))return!1;if(t){const r=e.tr,i=oo(e.schema).cell.createAndFill().content;n.forEachCell((o,a)=>{o.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+o.nodeSize-1),new Ze(i,0,0))}),r.docChanged&&t(r)}return!0}function tKe(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,a=i.type.schema,s=[];if(o=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const u=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=_M(oo(a).row,new Ze(c,u,d)).content),s.push(c)}else if(o=="cell"||o=="header_cell")s.push(n||r?_M(oo(a).row,new Ze(t,n,r)).content:t);else return null;return nKe(a,s)}function nKe(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i];for(let a=o.childCount-1;a>=0;a--){const{rowspan:s,colspan:l}=o.child(a).attrs;for(let c=i;c<i+s;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Ie.empty),n[i]<r){const o=oo(e).cell.createAndFill(),a=[];for(let s=n[i];s<r;s++)a.push(o);t[i]=t[i].append(Ie.from(a))}return{height:t.length,width:r,rows:t}}function _M(e,t){const n=e.createAndFill();return new Q3(n).replace(0,n.content.size,t).doc}function rKe({width:e,height:t,rows:n},r,i){if(e!=r){const o=[],a=[];for(let s=0;s<n.length;s++){const l=n[s],c=[];for(let u=o[s]||0,d=0;u<r;d++){let p=l.child(d%l.childCount);u+p.attrs.colspan>r&&(p=p.type.createChecked(wh(p.attrs,p.attrs.colspan,u+p.attrs.colspan-r),p.content)),c.push(p),u+=p.attrs.colspan;for(let h=1;h<p.attrs.rowspan;h++)o[s+h]=(o[s+h]||0)+p.attrs.colspan}a.push(Ie.from(c))}n=a,e=r}if(t!=i){const o=[];for(let a=0,s=0;a<i;a++,s++){const l=[],c=n[s%t];for(let u=0;u<c.childCount;u++){let d=c.child(u);a+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}o.push(Ie.from(l))}n=o,t=i}return{width:e,height:t,rows:n}}function iKe(e,t,n,r,i,o,a){const s=e.doc.type.schema,l=oo(s);let c,u;if(i>t.width)for(let d=0,p=0;d<t.height;d++){const h=n.child(d);p+=h.nodeSize;const m=[];let g;h.lastChild==null||h.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let v=t.width;v<i;v++)m.push(g);e.insert(e.mapping.slice(a).map(p-1+r),m)}if(o>t.height){const d=[];for(let m=0,g=(t.height-1)*t.width;m<Math.max(t.width,i);m++){const v=m>=t.width?!1:n.nodeAt(t.map[g+m]).type==l.header_cell;d.push(v?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const p=l.row.create(null,Ie.from(d)),h=[];for(let m=t.height;m<o;m++)h.push(p);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),h)}return!!(c||u)}function U7(e,t,n,r,i,o,a,s){if(a==0||a==t.height)return!1;let l=!1;for(let c=i;c<o;c++){const u=a*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){l=!0;const p=n.nodeAt(d),{top:h,left:m}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(s).map(d+r),null,{...p.attrs,rowspan:a-h}),e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),p.type.createAndFill({...p.attrs,rowspan:h+p.attrs.rowspan-a})),c+=p.attrs.colspan-1}}return l}function H7(e,t,n,r,i,o,a,s){if(a==0||a==t.width)return!1;let l=!1;for(let c=i;c<o;c++){const u=c*t.width+a,d=t.map[u];if(t.map[u-1]==d){l=!0;const p=n.nodeAt(d),h=t.colCount(d),m=e.mapping.slice(s).map(d+r);e.setNodeMarkup(m,null,wh(p.attrs,a-h,p.attrs.colspan-(a-h))),e.insert(m+p.nodeSize,p.type.createAndFill(wh(p.attrs,0,a-h))),c+=p.attrs.rowspan-1}}return l}function q7(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let a=Er.get(o);const{top:s,left:l}=r,c=l+i.width,u=s+i.height,d=e.tr;let p=0;function h(){if(o=n?d.doc.nodeAt(n-1):d.doc,!o)throw new Error("No table found");a=Er.get(o),p=d.mapping.maps.length}iKe(d,a,o,n,c,u,p)&&h(),U7(d,a,o,n,l,c,s,p)&&h(),U7(d,a,o,n,l,c,u,p)&&h(),H7(d,a,o,n,s,u,l,p)&&h(),H7(d,a,o,n,s,u,c,p)&&h();for(let m=s;m<u;m++){const g=a.positionAt(m,l,o),v=a.positionAt(m,c,o);d.replace(d.mapping.slice(p).map(g+n),d.mapping.slice(p).map(v+n),new Ze(i.rows[m-s],0,0))}h(),d.setSelection(new Xn(d.doc.resolve(n+a.positionAt(s,l,o)),d.doc.resolve(n+a.positionAt(u-1,c-1,o)))),t(d)}var oKe=uR({ArrowLeft:Bx("horiz",-1),ArrowRight:Bx("horiz",1),ArrowUp:Bx("vert",-1),ArrowDown:Bx("vert",1),"Shift-ArrowLeft":zx("horiz",-1),"Shift-ArrowRight":zx("horiz",1),"Shift-ArrowUp":zx("vert",-1),"Shift-ArrowDown":zx("vert",1),Backspace:Fx,"Mod-Backspace":Fx,Delete:Fx,"Mod-Delete":Fx});function _w(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Bx(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Xn)return _w(n,r,Rt.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const a=qte(i,e,t);if(a==null)return!1;if(e=="horiz")return _w(n,r,Rt.near(n.doc.resolve(o.head+t),t));{const s=n.doc.resolve(a),l=Dte(s,e,t);let c;return l?c=Rt.near(l,1):t<0?c=Rt.near(n.doc.resolve(s.before(-1)),-1):c=Rt.near(n.doc.resolve(s.after(-1)),1),_w(n,r,c)}}}function zx(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let a;if(o instanceof Xn)a=o;else{const l=qte(i,e,t);if(l==null)return!1;a=new Xn(n.doc.resolve(l))}const s=Dte(a.$headCell,e,t);return s?_w(n,r,new Xn(a.$anchorCell,s)):!1}}function aKe(e,t){const n=e.state.doc,r=zg(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Xn(r))),!0):!1}function sKe(e,t,n){if(!Ws(e.state))return!1;let r=tKe(n);const i=e.state.selection;if(i instanceof Xn){r||(r={width:1,height:1,rows:[Ie.from(_M(oo(e.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),s=Er.get(o).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=rKe(r,s.right-s.left,s.bottom-s.top),q7(e.state,e.dispatch,a,s,r),!0}else if(r){const o=uN(e.state),a=o.start(-1);return q7(e.state,e.dispatch,a,Er.get(o.node(-1)).findCell(o.pos-a),r),!0}else return!1}function lKe(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=W7(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Xn)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=zg(e.state.selection.$anchor))!=null&&((n=yk(e,t))==null?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(l,c){let u=yk(e,c);const d=ku.getState(e.state)==null;if(!u||!FR(l,u))if(d)u=l;else return;const p=new Xn(l,u);if(d||!e.state.selection.eq(p)){const h=e.state.tr.setSelection(p);d&&h.setMeta(ku,l.pos),e.dispatch(h)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),ku.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(ku,-1))}function s(l){const c=l,u=ku.getState(e.state);let d;if(u!=null)d=e.state.doc.resolve(u);else if(W7(e,c.target)!=r&&(d=yk(e,t),!d))return a();d&&o(d,c)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function qte(e,t,n){if(!(e.state.selection instanceof Tt))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function W7(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function yk(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?zg(e.state.doc.resolve(n.pos)):null}var cKe=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),EM(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,EM(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function EM(e,t,n,r,i,o){var a;let s=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let d=0,p=0;d<u.childCount;d++){const{colspan:h,colwidth:m}=u.child(d).attrs;for(let g=0;g<h;g++,p++){const v=i==p?o:m&&m[g],y=v?v+"px":"";if(s+=v||r,v||(l=!1),c)c.style.width!=y&&(c.style.width=y),c=c.nextSibling;else{const x=document.createElement("col");x.style.width=y,t.appendChild(x)}}}for(;c;){const d=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=d}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var fa=new Ar("tableColumnResizing");function uKe({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=cKe,lastColumnResizable:i=!0}={}){const o=new ar({key:fa,state:{init(a,s){var l,c;const u=(c=(l=o.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,d=oo(s.schema).table.name;return r&&u&&(u[d]=(p,h)=>new r(p,n,h)),new dKe(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{const s=fa.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{fKe(a,s,e,i)},mouseleave:a=>{hKe(a)},mousedown:(a,s)=>{pKe(a,s,t,n)}},decorations:a=>{const s=fa.getState(a);if(s&&s.activeHandle>-1)return bKe(a,s.activeHandle)},nodeViews:{}}});return o}var dKe=class Ew{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(fa);if(r&&r.setHandle!=null)return new Ew(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Ew(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return SM(t.doc.resolve(i))||(i=-1),new Ew(i,n.dragging)}return n}};function fKe(e,t,n,r){if(!e.editable)return;const i=fa.getState(e.state);if(i&&!i.dragging){const o=gKe(t.target);let a=-1;if(o){const{left:s,right:l}=o.getBoundingClientRect();t.clientX-s<=n?a=V7(e,t,"left",n):l-t.clientX<=n&&(a=V7(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const s=e.state.doc.resolve(a),l=s.node(-1),c=Er.get(l),u=s.start(-1);if(c.colCount(s.pos-u)+s.nodeAfter.attrs.colspan-1==c.width-1)return}Wte(e,a)}}}function hKe(e){if(!e.editable)return;const t=fa.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&Wte(e,-1)}function pKe(e,t,n,r){var i;if(!e.editable)return!1;const o=(i=e.dom.ownerDocument.defaultView)!=null?i:window,a=fa.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const s=e.state.doc.nodeAt(a.activeHandle),l=mKe(e,a.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(fa,{setDragging:{startX:t.clientX,startWidth:l}}));function c(d){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",u);const p=fa.getState(e.state);p!=null&&p.dragging&&(vKe(e,p.activeHandle,K7(p.dragging,d,n)),e.dispatch(e.state.tr.setMeta(fa,{setDragging:null})))}function u(d){if(!d.which)return c(d);const p=fa.getState(e.state);if(p&&p.dragging){const h=K7(p.dragging,d,n);G7(e,p.activeHandle,h,r)}}return G7(e,a.activeHandle,l,r),o.addEventListener("mouseup",c),o.addEventListener("mousemove",u),t.preventDefault(),!0}function mKe(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let s=o.node.childNodes[o.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(s-=r[c],l--);return s/l}function gKe(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function V7(e,t,n,r){const i=n=="right"?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;const{pos:a}=o,s=zg(e.state.doc.resolve(a));if(!s)return-1;if(n=="right")return s.pos;const l=Er.get(s.node(-1)),c=s.start(-1),u=l.map.indexOf(s.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function K7(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function Wte(e,t){e.dispatch(e.state.tr.setMeta(fa,{setHandle:t}))}function vKe(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=Er.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+s;if(c&&o.map[u]==o.map[u-o.width])continue;const d=o.map[u],p=i.nodeAt(d).attrs,h=p.colspan==1?0:s-o.colCount(d);if(p.colwidth&&p.colwidth[h]==n)continue;const m=p.colwidth?p.colwidth.slice():yKe(p.colspan);m[h]=n,l.setNodeMarkup(a+d,null,{...p,colwidth:m})}l.docChanged&&e.dispatch(l)}function G7(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),a=i.start(-1),s=Er.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&EM(o,l.firstChild,l,r,s,n)}function yKe(e){return Array(e).fill(0)}function bKe(e,t){var n;const r=[],i=e.doc.resolve(t),o=i.node(-1);if(!o)return Un.empty;const a=Er.get(o),s=i.start(-1),l=a.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<a.height;c++){const u=l+c*a.width;if((l==a.width-1||a.map[u]!=a.map[u+1])&&(c==0||a.map[u]!=a.map[u-a.width])){const d=a.map[u],p=s+d+o.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=fa.getState(e))!=null&&n.dragging&&r.push(li.node(s+d,s+d+o.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(li.widget(p,h))}}return Un.create(e.doc,r)}function xKe({allowTableNodeSelection:e=!1}={}){return new ar({key:ku,state:{init(){return null},apply(t,n){const r=t.getMeta(ku);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:jVe,handleDOMEvents:{mousedown:lKe},createSelectionBetween(t){return ku.getState(t.state)!=null?t.state.selection:null},handleTripleClick:aKe,handleKeyDown:oKe,handlePaste:sKe},appendTransaction(t,n,r){return LVe(r,zte(r,n),e)}})}var Vte=Si.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{var t,n;const r=e.getAttribute("colwidth"),i=r?r.split(",").map(o=>parseInt(o,10)):null;if(!i){const o=(t=e.closest("table"))==null?void 0:t.querySelectorAll("colgroup > col"),a=Array.from(((n=e.parentElement)==null?void 0:n.children)||[]).indexOf(e);if(a&&a>-1&&o&&o[a]){const s=o[a].getAttribute("width");return s?[parseInt(s,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",Wn(this.options.HTMLAttributes,e),0]}}),Kte=Si.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",Wn(this.options.HTMLAttributes,e),0]}}),Gte=Si.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Wn(this.options.HTMLAttributes,e),0]}});function NM(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function Y7(e,t,n,r,i,o){var a;let s=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u!==null)for(let d=0,p=0;d<u.childCount;d+=1){const{colspan:h,colwidth:m}=u.child(d).attrs;for(let g=0;g<h;g+=1,p+=1){const v=i===p?o:m&&m[g],y=v?`${v}px`:"";if(s+=v||r,v||(l=!1),c){if(c.style.width!==y){const[x,w]=NM(r,v);c.style.setProperty(x,w)}c=c.nextSibling}else{const x=document.createElement("col"),[w,_]=NM(r,v);x.style.setProperty(w,_),t.appendChild(x)}}}for(;c;){const d=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=d}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}var wKe=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Y7(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Y7(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){const t=e.target,n=this.dom.contains(t),r=this.contentDOM.contains(t);return!!(n&&!r&&(e.type==="attributes"||e.type==="childList"||e.type==="characterData"))}};function SKe(e,t,n,r){let i=0,o=!0;const a=[],s=e.firstChild;if(!s)return{};for(let d=0,p=0;d<s.childCount;d+=1){const{colspan:h,colwidth:m}=s.child(d).attrs;for(let g=0;g<h;g+=1,p+=1){const v=n===p?r:m&&m[g];i+=v||t,v||(o=!1);const[y,x]=NM(t,v);a.push(["col",{style:`${y}: ${x}`}])}}const l=o?`${i}px`:"",c=o?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:c}}function X7(e,t){return e.createAndFill()}function _Ke(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function EKe(e,t,n,r,i){const o=_Ke(e),a=[],s=[];for(let c=0;c<n;c+=1){const u=X7(o.cell);if(u&&s.push(u),r){const d=X7(o.header_cell);d&&a.push(d)}}const l=[];for(let c=0;c<t;c+=1)l.push(o.row.createChecked(null,r&&c===0?a:s));return o.table.createChecked(null,l)}function NKe(e){return e instanceof Xn}var Ux=({editor:e})=>{const{selection:t}=e.state;if(!NKe(t))return!1;let n=0;const r=oee(t.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},AKe="";function kKe(e){return(e||"").replace(/\s+/g," ").trim()}function CKe(e,t,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:AKe;if(!e||!e.content||e.content.length===0)return"";const o=[];e.content.forEach(m=>{const g=[];m.content&&m.content.forEach(v=>{let y="";v.content&&Array.isArray(v.content)&&v.content.length>1?y=v.content.map(N=>t.renderChildren(N)).join(i):y=v.content?t.renderChildren(v.content):"";const x=kKe(y),w=v.type==="tableHeader";g.push({text:x,isHeader:w})}),o.push(g)});const a=o.reduce((m,g)=>Math.max(m,g.length),0);if(a===0)return"";const s=new Array(a).fill(0);o.forEach(m=>{var g;for(let v=0;v<a;v+=1){const x=(((g=m[v])==null?void 0:g.text)||"").length;x>s[v]&&(s[v]=x),s[v]<3&&(s[v]=3)}});const l=(m,g)=>m+" ".repeat(Math.max(0,g-m.length)),c=o[0],u=c.some(m=>m.isHeader);let d=`
`;const p=new Array(a).fill(0).map((m,g)=>u&&c[g]&&c[g].text||"");return d+=`| ${p.map((m,g)=>l(m,s[g])).join(" | ")} |
`,d+=`| ${s.map(m=>"-".repeat(Math.max(3,m))).join(" | ")} |
`,(u?o.slice(1):o).forEach(m=>{d+=`| ${new Array(a).fill(0).map((g,v)=>l(m[v]&&m[v].text||"",s[v])).join(" | ")} |
`}),d}var TKe=CKe,Yte=Si.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:wKe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=SKe(e,this.options.cellMinWidth);return["table",Wn(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.header){const r=[];e.header.forEach(i=>{r.push(t.createNode("tableHeader",{},[{type:"paragraph",content:t.parseInline(i.tokens)}]))}),n.push(t.createNode("tableRow",{},r))}return e.rows&&e.rows.forEach(r=>{const i=[];r.forEach(o=>{i.push(t.createNode("tableCell",{},[{type:"paragraph",content:t.parseInline(o.tokens)}]))}),n.push(t.createNode("tableRow",{},i))}),t.createNode("table",void 0,n)},renderMarkdown:(e,t)=>TKe(e,t),addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const a=EKe(o.schema,e,t,n);if(i){const s=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Tt.near(r.doc.resolve(s)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>FVe(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>BVe(e,t),deleteColumn:()=>({state:e,dispatch:t})=>UVe(e,t),addRowBefore:()=>({state:e,dispatch:t})=>qVe(e,t),addRowAfter:()=>({state:e,dispatch:t})=>WVe(e,t),deleteRow:()=>({state:e,dispatch:t})=>KVe(e,t),deleteTable:()=>({state:e,dispatch:t})=>eKe(e,t),mergeCells:()=>({state:e,dispatch:t})=>$7(e,t),splitCell:()=>({state:e,dispatch:t})=>F7(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>sb("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>sb("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>ZVe(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>$7(e,t)?!0:F7(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>XVe(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>z7(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>z7(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&zte(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=Xn.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Ux,"Mod-Backspace":Ux,Delete:Ux,"Mod-Delete":Ux}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[uKe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],xKe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:En(Et(e,"tableRole",t))}}});$n.create({name:"tableKit",addExtensions(){const e=[];return this.options.table!==!1&&e.push(Yte.configure(this.options.table)),this.options.tableCell!==!1&&e.push(Vte.configure(this.options.tableCell)),this.options.tableHeader!==!1&&e.push(Kte.configure(this.options.tableHeader)),this.options.tableRow!==!1&&e.push(Gte.configure(this.options.tableRow)),e}});function OKe({initialData:e,onSave:t,onCancel:n}){var g;const[r,i]=A.useState((e==null?void 0:e.length)||3),[o,a]=A.useState(((g=e==null?void 0:e[0])==null?void 0:g.length)||3),[s,l]=A.useState(e||Array(3).fill(null).map(()=>Array(3).fill("")));A.useEffect(()=>{var v;e&&(l(e),i(e.length),a(((v=e[0])==null?void 0:v.length)||3))},[e]);const c=(v,y,x)=>{const w=[...s];w[v][y]=x,l(w)},u=()=>{const v=[...s,Array(o).fill("")];l(v),i(r+1)},d=()=>{if(r>1){const v=s.slice(0,-1);l(v),i(r-1)}},p=()=>{const v=s.map(y=>[...y,""]);l(v),a(o+1)},h=()=>{if(o>1){const v=s.map(y=>y.slice(0,-1));l(v),a(o-1)}},m=()=>{t(s)};return f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[f.jsxs("div",{className:"flex gap-1 items-center",children:[f.jsx(Fe,{className:"text-sm",children:"Filas:"}),f.jsx(Re,{size:"icon",variant:"outline",onClick:d,disabled:r<=1,className:"h-8 w-8","data-testid":"button-remove-row",children:f.jsx(oL,{className:"h-4 w-4"})}),f.jsx(dt,{type:"number",value:r,readOnly:!0,className:"w-16 h-8 text-center"}),f.jsx(Re,{size:"icon",variant:"outline",onClick:u,className:"h-8 w-8","data-testid":"button-add-row",children:f.jsx(Va,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"flex gap-1 items-center",children:[f.jsx(Fe,{className:"text-sm",children:"Columnas:"}),f.jsx(Re,{size:"icon",variant:"outline",onClick:h,disabled:o<=1,className:"h-8 w-8","data-testid":"button-remove-column",children:f.jsx(oL,{className:"h-4 w-4"})}),f.jsx(dt,{type:"number",value:o,readOnly:!0,className:"w-16 h-8 text-center"}),f.jsx(Re,{size:"icon",variant:"outline",onClick:p,className:"h-8 w-8","data-testid":"button-add-column",children:f.jsx(Va,{className:"h-4 w-4"})})]})]}),f.jsx("div",{className:"border rounded-md overflow-auto max-h-[400px]","data-testid":"excel-table-grid",children:f.jsx("table",{className:"w-full border-collapse",children:f.jsx("tbody",{children:s.map((v,y)=>f.jsx("tr",{children:v.map((x,w)=>f.jsx("td",{className:"border p-0",children:f.jsx(dt,{value:x,onChange:_=>c(y,w,_.target.value),className:"border-0 rounded-none focus-visible:ring-0 focus-visible:ring-offset-0","data-testid":`cell-${y}-${w}`,placeholder:y===0?`Columna ${w+1}`:""})},w))},y))})})}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx(Re,{variant:"outline",onClick:n,"data-testid":"button-cancel-table",children:"Cancelar"}),f.jsx(Re,{onClick:m,"data-testid":"button-save-table",children:"Insertar Tabla"})]})]})}const MKe=SVe(xVe);function Xte({content:e,onChange:t,manualId:n}){const{toast:r}=Ho(),[i,o]=A.useState(!1),[a,s]=A.useState(!1),[l,c]=A.useState(!1),[u,d]=A.useState(void 0),[p,h]=A.useState(null),[m,g]=A.useState(null),[v,y]=A.useState(""),[x,w]=A.useState(""),[_,N]=A.useState(!1),[k,O]=A.useState(!1),E=sUe({extensions:[qHe.configure({codeBlock:!1}),VHe.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"editor-image"}}),Uee.configure({openOnClick:!1}),KHe.configure({types:["heading","paragraph"]}),ite,ote,nqe.configure({multicolor:!0}),Jqe.configure({lowlight:MKe}),Yte.configure({resizable:!1,HTMLAttributes:{class:"editor-table"}}),Gte,Kte,Vte],content:e,onUpdate:({editor:D})=>{t(D.getHTML())},editorProps:{handleDrop:(D,q,z,W)=>{if(!W&&q.dataTransfer&&q.dataTransfer.files&&q.dataTransfer.files[0]){const F=q.dataTransfer.files[0];if(F.type.startsWith("image/"))return q.preventDefault(),C(F),!0}return!1},handlePaste:(D,q)=>{var W;const z=(W=q.clipboardData)==null?void 0:W.items;if(z){const F=Array.from(z);for(const B of F)if(B.type.startsWith("image/")){q.preventDefault();const te=B.getAsFile();return te&&C(te),!0}}return!1}}});if(!E)return null;const C=async D=>{if(!n){r({title:"Error",description:"Debes guardar el manual primero",variant:"destructive"});return}const q=new FormData;q.append("image",D);try{const z=await fetch("/api/manuals/upload-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:q});if(!z.ok)throw new Error("Error al subir imagen");const W=await z.json();E.chain().focus().setImage({src:W.url}).run(),r({title:"Imagen insertada correctamente"})}catch{r({title:"Error al subir imagen",variant:"destructive"})}},L=async()=>{if(!m||!n){r({title:"Error",description:"Selecciona una imagen primero",variant:"destructive"});return}await C(m),o(!1),g(null)},M=()=>{v&&(x?E.chain().focus().insertContent(`<a href="${v}">${x}</a>`).run():E.chain().focus().setLink({href:v}).run(),s(!1),y(""),w(""))},I=["#000000","#374151","#6B7280","#9CA3AF","#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899"],j=D=>{const q=document.createElement("div");q.innerHTML=D;const z=q.querySelector("table");if(!z)return[];const W=[];return z.querySelectorAll("tr").forEach(F=>{const B=[];F.querySelectorAll("th, td").forEach(te=>{B.push(te.textContent||"")}),B.length>0&&W.push(B)}),W};return f.jsxs("div",{className:"border rounded-lg",children:[f.jsxs("div",{className:"border-b p-2 flex flex-wrap gap-1 items-center bg-muted/30",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>E.chain().focus().undo().run(),disabled:!E.can().undo(),"data-testid":"button-undo",children:f.jsx(Xse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>E.chain().focus().redo().run(),disabled:!E.can().redo(),"data-testid":"button-redo",children:f.jsx(Hse,{className:"h-4 w-4"})}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsx(Re,{variant:E.isActive("bold")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleBold().run(),"data-testid":"button-bold",children:f.jsx(yse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive("italic")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleItalic().run(),"data-testid":"button-italic",children:f.jsx(Mse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive("strike")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleStrike().run(),"data-testid":"button-strike",children:f.jsx(Vse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive("code")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleCode().run(),"data-testid":"button-code",children:f.jsx(wse,{className:"h-4 w-4"})}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsx(Re,{variant:E.isActive("heading",{level:1})?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleHeading({level:1}).run(),"data-testid":"button-h1",children:f.jsx(Ase,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive("heading",{level:2})?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleHeading({level:2}).run(),"data-testid":"button-h2",children:f.jsx(kse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive("heading",{level:3})?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleHeading({level:3}).run(),"data-testid":"button-h3",children:f.jsx(Cse,{className:"h-4 w-4"})}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsx(Re,{variant:E.isActive("bulletList")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleBulletList().run(),"data-testid":"button-bullet-list",children:f.jsx(LH,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive("orderedList")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleOrderedList().run(),"data-testid":"button-ordered-list",children:f.jsx(Lse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive("blockquote")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleBlockquote().run(),"data-testid":"button-blockquote",children:f.jsx(Use,{className:"h-4 w-4"})}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsx(Re,{variant:E.isActive({textAlign:"left"})?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().setTextAlign("left").run(),"data-testid":"button-align-left",children:f.jsx(mse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive({textAlign:"center"})?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().setTextAlign("center").run(),"data-testid":"button-align-center",children:f.jsx(hse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive({textAlign:"right"})?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().setTextAlign("right").run(),"data-testid":"button-align-right",children:f.jsx(gse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:E.isActive({textAlign:"justify"})?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().setTextAlign("justify").run(),"data-testid":"button-align-justify",children:f.jsx(pse,{className:"h-4 w-4"})}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsxs("div",{className:"relative",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>N(!_),"data-testid":"button-text-color",children:f.jsx("div",{className:"h-4 w-4 border-2 border-current",style:{backgroundColor:E.getAttributes("textStyle").color||"#000"}})}),_&&f.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:I.map(D=>f.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:D},onClick:()=>{E.chain().focus().setColor(D).run(),N(!1)}},D))})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Re,{variant:E.isActive("highlight")?"default":"ghost",size:"icon",onClick:()=>O(!k),"data-testid":"button-highlight",children:f.jsx(Tse,{className:"h-4 w-4"})}),k&&f.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:I.slice(4).map(D=>f.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:D},onClick:()=>{E.chain().focus().toggleHighlight({color:D}).run(),O(!1)}},D))})]}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsx(Re,{variant:E.isActive("codeBlock")?"default":"ghost",size:"icon",onClick:()=>E.chain().focus().toggleCodeBlock().run(),"data-testid":"button-code-block",children:f.jsx(jH,{className:"h-4 w-4"})}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>{const q=E.getHTML().match(/<table[\s\S]*?<\/table>/);if(q){const z=j(q[0]);d(z),h(q[0])}else d(void 0),h(null);c(!0)},"data-testid":"button-insert-table",title:"Insertar/Editar tabla",children:f.jsx(Gse,{className:"h-4 w-4"})}),f.jsx(ic,{orientation:"vertical",className:"h-6 mx-1"}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>o(!0),"data-testid":"button-insert-image",title:"Insertar imagen",children:f.jsx(Ose,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>s(!0),"data-testid":"button-insert-link",title:"Insertar enlace",children:f.jsx(Ise,{className:"h-4 w-4"})})]}),f.jsx("style",{children:`
        .ProseMirror {
          outline: none;
          padding: 1rem;
          min-height: 400px;
        }

        /* Estilos de tabla profesionales tipo Word */
        .ProseMirror .editor-table {
          border-collapse: collapse;
          table-layout: fixed;
          width: 100%;
          margin: 1rem 0;
          overflow: hidden;
        }

        .ProseMirror .editor-table td,
        .ProseMirror .editor-table th {
          min-width: 1em;
          border: 2px solid #000000;
          padding: 0.5rem;
          vertical-align: top;
          box-sizing: border-box;
          position: relative;
          background-color: hsl(var(--background));
        }

        .ProseMirror .editor-table th {
          font-weight: 600;
          text-align: left;
          background-color: hsl(var(--muted));
          border: 2px solid #000000;
        }

        .ProseMirror .editor-table .selectedCell {
          background-color: hsl(var(--accent) / 0.3);
        }

        /* Handle de redimensionamiento de columna */
        .ProseMirror .editor-table .column-resize-handle {
          position: absolute;
          right: -2px;
          top: 0;
          bottom: 0;
          width: 4px;
          background-color: hsl(var(--primary));
          cursor: col-resize;
          z-index: 20;
        }

        /* Estilos de imagen mejorados */
        .ProseMirror .editor-image {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 1rem 0;
          border-radius: 0.375rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .ProseMirror .editor-image:hover {
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .ProseMirror .editor-image.ProseMirror-selectednode {
          outline: 2px solid hsl(var(--primary));
          outline-offset: 2px;
        }

        /* Indicador de arrastre */
        .ProseMirror.dragging {
          background-color: hsl(var(--accent) / 0.1);
        }

        /* Estilos de prose mejorados */
        .ProseMirror p {
          margin: 0.5rem 0;
        }

        .ProseMirror h1, .ProseMirror h2, .ProseMirror h3 {
          margin-top: 1.5rem;
          margin-bottom: 0.5rem;
        }

        .ProseMirror ul, .ProseMirror ol {
          padding-left: 1.5rem;
        }

        .ProseMirror blockquote {
          border-left: 3px solid hsl(var(--border));
          padding-left: 1rem;
          margin-left: 0;
          font-style: italic;
        }

        .ProseMirror code {
          background-color: hsl(var(--muted));
          padding: 0.125rem 0.25rem;
          border-radius: 0.25rem;
          font-size: 0.875em;
        }

        .ProseMirror pre {
          background-color: hsl(var(--muted));
          border-radius: 0.5rem;
          padding: 1rem;
          overflow-x: auto;
        }

        .ProseMirror pre code {
          background-color: transparent;
          padding: 0;
        }
      `}),f.jsx(eUe,{editor:E,className:"focus:outline-none"}),f.jsx(eo,{open:i,onOpenChange:o,children:f.jsxs(Li,{children:[f.jsxs(to,{children:[f.jsx(no,{children:"Insertar Imagen"}),f.jsx(yo,{children:"Sube una imagen desde tu ordenador o arrastra y suelta directamente en el editor"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"image-file",children:"Seleccionar imagen"}),f.jsx(dt,{id:"image-file",type:"file",accept:"image/*",onChange:D=>{var q;return g(((q=D.target.files)==null?void 0:q[0])||null)},"data-testid":"input-image-file"})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:" Tambin puedes arrastrar imgenes directamente al editor o pegarlas con Ctrl+V"})]}),f.jsxs(ca,{children:[f.jsx(Re,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),f.jsx(Re,{onClick:L,"data-testid":"button-upload-image",children:"Insertar"})]})]})}),f.jsx(eo,{open:a,onOpenChange:s,children:f.jsxs(Li,{children:[f.jsxs(to,{children:[f.jsx(no,{children:"Insertar Enlace"}),f.jsx(yo,{children:"Aade un enlace al documento"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"link-url",children:"URL"}),f.jsx(dt,{id:"link-url",type:"url",placeholder:"https://example.com",value:v,onChange:D=>y(D.target.value),"data-testid":"input-link-url"})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"link-text",children:"Texto (opcional)"}),f.jsx(dt,{id:"link-text",type:"text",placeholder:"Texto del enlace",value:x,onChange:D=>w(D.target.value),"data-testid":"input-link-text"})]})]}),f.jsxs(ca,{children:[f.jsx(Re,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),f.jsx(Re,{onClick:M,"data-testid":"button-insert-link-confirm",children:"Insertar"})]})]})}),f.jsx(eo,{open:l,onOpenChange:c,children:f.jsxs(Li,{className:"max-w-4xl",children:[f.jsxs(to,{children:[f.jsx(no,{children:p?"Editar Tabla":"Insertar Tabla"}),f.jsxs(yo,{children:[p?"Modifica la tabla existente.":"Crea una nueva tabla."," La primera fila ser el encabezado con fondo gris."]})]}),f.jsx(OKe,{initialData:u,onSave:D=>{var q;if(D.length!==0){if(p){const z=PKe(D),F=E.getHTML().replace(p,z);E.commands.setContent(F)}else{const z=D.length,W=((q=D[0])==null?void 0:q.length)||2;E.chain().focus().insertTable({rows:z,cols:W,withHeaderRow:!0}).run(),D.forEach((F,B)=>{F.forEach((te,K)=>{E.commands.goToNextCell(),te&&E.commands.insertContent(te)})})}c(!1),d(void 0),h(null)}},onCancel:()=>{c(!1),d(void 0),h(null)}})]})})]})}function PKe(e){if(e.length===0)return"";let t='<table class="editor-table">';return e.forEach((n,r)=>{t+="<tr>",n.forEach(i=>{r===0?t+=`<th>${i||""}</th>`:t+=`<td>${i||""}</td>`}),t+="</tr>"}),t+="</table>",t}const jKe=[{id:"procedimiento-basico",nombre:"Procedimiento Bsico",descripcion:"Plantilla para documentar un procedimiento paso a paso",categoria:"General",etiquetas:["procedimiento"],contenidoHtml:`
      <h1>Ttulo del Procedimiento</h1>
      <p><strong>Objetivo:</strong> Describir el objetivo del procedimiento</p>
      <p><strong>Alcance:</strong> Definir el alcance y limitaciones</p>
      
      <h2>Requisitos Previos</h2>
      <ul>
        <li>Requisito 1</li>
        <li>Requisito 2</li>
        <li>Requisito 3</li>
      </ul>

      <h2>Procedimiento</h2>
      <ol>
        <li><strong>Paso 1:</strong> Descripcin detallada del primer paso</li>
        <li><strong>Paso 2:</strong> Descripcin detallada del segundo paso</li>
        <li><strong>Paso 3:</strong> Descripcin detallada del tercer paso</li>
      </ol>

      <h2>Resultados Esperados</h2>
      <p>Describir los resultados que se deben obtener al completar el procedimiento</p>

      <h2>Solucin de Problemas</h2>
      <table>
        <thead>
          <tr>
            <th>Problema</th>
            <th>Causa</th>
            <th>Solucin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Problema 1</td>
            <td>Causa probable</td>
            <td>Solucin recomendada</td>
          </tr>
        </tbody>
      </table>
    `},{id:"modelo-fiscal",nombre:"Gua Modelo Fiscal",descripcion:"Plantilla para documentar la presentacin de modelos fiscales",categoria:"Fiscal",etiquetas:["fiscal","impuestos"],contenidoHtml:`
      <h1>Modelo [Nmero] - [Nombre del Modelo]</h1>
      
      <h2>Informacin General</h2>
      <p><strong>Descripcin:</strong> Breve descripcin del modelo fiscal</p>
      <p><strong>Periodicidad:</strong> Trimestral / Mensual / Anual</p>
      <p><strong>Plazo de presentacin:</strong> Especificar fechas lmite</p>

      <h2>Quin debe presentarlo?</h2>
      <ul>
        <li>Tipo de contribuyente 1</li>
        <li>Tipo de contribuyente 2</li>
      </ul>

      <h2>Documentacin Necesaria</h2>
      <ol>
        <li>Documento 1</li>
        <li>Documento 2</li>
        <li>Documento 3</li>
      </ol>

      <h2>Procedimiento de Clculo</h2>
      <h3>Paso 1: Clculo de Base Imponible</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 2: Aplicacin de Tipos</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 3: Deducciones</h3>
      <p>Explicacin detallada</p>

      <h2>Presentacin Telemtica</h2>
      <ol>
        <li>Acceder a la sede electrnica</li>
        <li>Seleccionar el modelo correspondiente</li>
        <li>Completar los datos requeridos</li>
        <li>Revisar y confirmar</li>
      </ol>

      <h2>Notas Importantes</h2>
      <blockquote>
        <p> Consideraciones especiales y advertencias</p>
      </blockquote>
    `},{id:"normativa-laboral",nombre:"Normativa Laboral",descripcion:"Plantilla para documentar normativa y procedimientos laborales",categoria:"Laboral",etiquetas:["laboral","normativa"],contenidoHtml:`
      <h1>Normativa Laboral - [Ttulo]</h1>
      
      <h2>Marco Legal</h2>
      <p><strong>Normativa aplicable:</strong></p>
      <ul>
        <li>Ley / Real Decreto 1</li>
        <li>Ley / Real Decreto 2</li>
      </ul>

      <h2>mbito de Aplicacin</h2>
      <p>Definir a quin aplica esta normativa</p>

      <h2>Obligaciones del Empresario</h2>
      <ol>
        <li>Obligacin 1: Descripcin</li>
        <li>Obligacin 2: Descripcin</li>
        <li>Obligacin 3: Descripcin</li>
      </ol>

      <h2>Derechos del Trabajador</h2>
      <ol>
        <li>Derecho 1: Descripcin</li>
        <li>Derecho 2: Descripcin</li>
        <li>Derecho 3: Descripcin</li>
      </ol>

      <h2>Procedimiento</h2>
      <h3>Paso 1: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h3>Paso 2: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h2>Sanciones</h2>
      <table>
        <thead>
          <tr>
            <th>Infraccin</th>
            <th>Tipo</th>
            <th>Sancin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Infraccin leve</td>
            <td>Leve</td>
            <td>Multa de X a Y </td>
          </tr>
          <tr>
            <td>Infraccin grave</td>
            <td>Grave</td>
            <td>Multa de X a Y </td>
          </tr>
        </tbody>
      </table>
    `},{id:"guia-rapida",nombre:"Gua Rpida",descripcion:"Plantilla para crear guas rpidas de referencia",categoria:"General",etiquetas:["gua","referencia"],contenidoHtml:`
      <h1>Gua Rpida - [Ttulo]</h1>
      
      <h2>Resumen</h2>
      <p>Breve descripcin de lo que cubre esta gua</p>

      <h2>Acciones Frecuentes</h2>
      <h3>Accin 1: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h3>Accin 2: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h2>Shortcuts / Atajos</h2>
      <table>
        <thead>
          <tr>
            <th>Accin</th>
            <th>Mtodo Rpido</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Accin 1</td>
            <td>Descripcin del atajo</td>
          </tr>
          <tr>
            <td>Accin 2</td>
            <td>Descripcin del atajo</td>
          </tr>
        </tbody>
      </table>

      <h2>Preguntas Frecuentes</h2>
      <h3>Pregunta 1?</h3>
      <p>Respuesta 1</p>

      <h3>Pregunta 2?</h3>
      <p>Respuesta 2</p>

      <h2>Enlaces tiles</h2>
      <ul>
        <li><a href="#">Recurso 1</a></li>
        <li><a href="#">Recurso 2</a></li>
      </ul>
    `},{id:"politica-empresa",nombre:"Poltica de Empresa",descripcion:"Plantilla para documentar polticas internas",categoria:"Organizacin",etiquetas:["poltica","normativa"],contenidoHtml:`
      <h1>Poltica de [Ttulo]</h1>
      
      <h2>Propsito</h2>
      <p>Descripcin del propsito de esta poltica</p>

      <h2>Alcance</h2>
      <p>Define a quin aplica esta poltica</p>

      <h2>Definiciones</h2>
      <ul>
        <li><strong>Trmino 1:</strong> Definicin</li>
        <li><strong>Trmino 2:</strong> Definicin</li>
      </ul>

      <h2>Poltica</h2>
      <h3>Principios Generales</h3>
      <ol>
        <li>Principio 1</li>
        <li>Principio 2</li>
        <li>Principio 3</li>
      </ol>

      <h3>Normas Especficas</h3>
      <ol>
        <li>Norma 1: Descripcin detallada</li>
        <li>Norma 2: Descripcin detallada</li>
      </ol>

      <h2>Responsabilidades</h2>
      <table>
        <thead>
          <tr>
            <th>Rol</th>
            <th>Responsabilidad</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Direccin</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
          <tr>
            <td>Empleados</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
        </tbody>
      </table>

      <h2>Incumplimiento</h2>
      <p>Consecuencias del incumplimiento de esta poltica</p>

      <h2>Revisin</h2>
      <p>Esta poltica ser revisada [periodicidad]</p>
    `}];function Q7(){const e=NP(),[t,n]=Ah(),{toast:r}=Ho(),i=t==="/manuales/nuevo"||e.id==="nuevo",[o,a]=A.useState({titulo:"",categoria:"",etiquetas:[],publicado:!1,contenidoHtml:""}),[s,l]=A.useState(""),[c,u]=A.useState(null),[d,p]=A.useState(!1),{data:h}=tn({queryKey:["/api/manuals",e.id],enabled:!i}),{data:m=[]}=tn({queryKey:["/api/manuals",e.id,"attachments"],enabled:!i}),{data:g=[]}=tn({queryKey:["/api/manuals",e.id,"versions"],enabled:!i});A.useEffect(()=>{h&&!i&&a({titulo:h.titulo,categoria:h.categoria||"",etiquetas:h.etiquetas||[],publicado:h.publicado,contenidoHtml:h.contenidoHtml})},[h,i]);const v=Bt({mutationFn:async L=>i?await jt("POST","/api/manuals",L):await jt("PATCH",`/api/manuals/${e.id}`,L),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/manuals"]}),r({title:i?"Manual creado exitosamente":"Manual actualizado exitosamente"}),n("/manuales")}}),y=Bt({mutationFn:async L=>{const M=new FormData;M.append("file",L);const I=await fetch(`/api/manuals/${e.id}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:M});if(!I.ok)throw new Error("Error al subir adjunto");return I.json()},onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/manuals",e.id,"attachments"]}),r({title:"Adjunto subido correctamente"}),u(null)}}),x=Bt({mutationFn:async L=>{await jt("DELETE",`/api/manuals/${e.id}/attachments/${L}`)},onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/manuals",e.id,"attachments"]}),r({title:"Adjunto eliminado"})}}),w=Bt({mutationFn:async L=>await jt("POST",`/api/manuals/${e.id}/versions/restore/${L}`),onSuccess:L=>{Ht.invalidateQueries({queryKey:["/api/manuals"]}),a({titulo:L.titulo,categoria:L.categoria||"",etiquetas:L.etiquetas||[],publicado:L.publicado,contenidoHtml:L.contenidoHtml}),r({title:"Versin restaurada correctamente"})}}),_=(L=!1)=>{if(!o.titulo){r({title:"Error",description:"El ttulo es requerido",variant:"destructive"});return}v.mutate({...o,createVersion:L})},N=()=>{s&&!o.etiquetas.includes(s)&&(a({...o,etiquetas:[...o.etiquetas,s]}),l(""))},k=L=>{a({...o,etiquetas:o.etiquetas.filter(M=>M!==L)})},O=()=>{c&&y.mutate(c)},E=L=>L<1024?L+" B":L<1024*1024?(L/1024).toFixed(1)+" KB":(L/(1024*1024)).toFixed(1)+" MB",C=L=>{a({...o,titulo:o.titulo||L.nombre,categoria:L.categoria,etiquetas:Array.from(new Set([...o.etiquetas,...L.etiquetas])),contenidoHtml:L.contenidoHtml}),p(!1),r({title:"Plantilla aplicada correctamente"})};return f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>n("/manuales"),"data-testid":"button-back",children:f.jsx(TH,{className:"h-4 w-4"})}),f.jsx("div",{className:"flex-1",children:f.jsx("h1",{className:"text-3xl font-display font-bold",children:i?"Nuevo Manual":"Editar Manual"})}),i&&f.jsxs(eo,{open:d,onOpenChange:p,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{variant:"outline","data-testid":"button-use-template",children:[f.jsx(jH,{className:"h-4 w-4 mr-2"}),"Usar Plantilla"]})}),f.jsxs(Li,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[f.jsxs(to,{children:[f.jsx(no,{children:"Seleccionar Plantilla"}),f.jsx(yo,{children:"Elige una plantilla predefinida para comenzar tu manual"})]}),f.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:jKe.map(L=>f.jsx(Nt,{className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>C(L),"data-testid":`template-${L.id}`,children:f.jsxs(At,{className:"p-4",children:[f.jsx("h3",{className:"font-semibold mb-2",children:L.nombre}),f.jsx(kh,{className:"text-sm mb-3",children:L.descripcion}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Kt,{variant:"outline",children:L.categoria}),L.etiquetas.slice(0,2).map(M=>f.jsx(Kt,{variant:"secondary",children:M},M))]})]})},L.id))})]})]}),f.jsx(Re,{variant:"outline",onClick:()=>_(!0),disabled:i,"data-testid":"button-save-version",children:"Guardar Versin"}),f.jsxs(Re,{onClick:()=>_(!1),"data-testid":"button-save",children:[f.jsx(FH,{className:"h-4 w-4 mr-2"}),"Guardar"]})]}),f.jsxs(Nb,{defaultValue:"editor",className:"space-y-4",children:[f.jsxs(_g,{children:[f.jsxs(ii,{value:"editor","data-testid":"tab-editor",children:[f.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Editor"]}),!i&&f.jsxs(f.Fragment,{children:[f.jsxs(ii,{value:"attachments","data-testid":"tab-attachments",children:[f.jsx(Zw,{className:"h-4 w-4 mr-2"}),"Adjuntos (",m.length,")"]}),f.jsxs(ii,{value:"versions","data-testid":"tab-versions",children:[f.jsx(MC,{className:"h-4 w-4 mr-2"}),"Versiones (",g.length,")"]})]})]}),f.jsx(ji,{value:"editor",className:"space-y-6",children:f.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[f.jsx(Nt,{className:"md:col-span-2",children:f.jsxs(At,{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"titulo",children:"Ttulo *"}),f.jsx(dt,{id:"titulo",value:o.titulo,onChange:L=>a({...o,titulo:L.target.value}),placeholder:"Ttulo del manual...","data-testid":"input-titulo"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{children:"Editor de Contenido"}),f.jsx(Xte,{content:o.contenidoHtml,onChange:L=>a({...o,contenidoHtml:L}),manualId:e.id})]})]})}),f.jsx(Nt,{children:f.jsxs(At,{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"categoria",children:"Categora"}),f.jsx(dt,{id:"categoria",value:o.categoria,onChange:L=>a({...o,categoria:L.target.value}),placeholder:"ej: Fiscal, Laboral","data-testid":"input-categoria"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"etiquetas",children:"Etiquetas"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(dt,{id:"etiquetas",value:s,onChange:L=>l(L.target.value),onKeyPress:L=>L.key==="Enter"&&(L.preventDefault(),N()),placeholder:"Aadir etiqueta","data-testid":"input-tag"}),f.jsx(Re,{type:"button",onClick:N,"data-testid":"button-add-tag",children:"+"})]}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.etiquetas.map(L=>f.jsxs(Kt,{variant:"secondary",className:"cursor-pointer hover-elevate",onClick:()=>k(L),"data-testid":`badge-tag-${L}`,children:[L," "]},L))})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Fe,{htmlFor:"publicado",children:"Publicado"}),f.jsx(fh,{id:"publicado",checked:o.publicado,onCheckedChange:L=>a({...o,publicado:L}),"data-testid":"switch-publicado"})]})]})})]})}),f.jsx(ji,{value:"attachments",className:"space-y-4",children:f.jsx(Nt,{children:f.jsxs(At,{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"flex items-end gap-4",children:[f.jsxs("div",{className:"flex-1 space-y-2",children:[f.jsx(Fe,{htmlFor:"attachment-file",children:"Subir Adjunto"}),f.jsx(dt,{id:"attachment-file",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.txt",onChange:L=>{var M;return u(((M=L.target.files)==null?void 0:M[0])||null)},"data-testid":"input-attachment-file"})]}),f.jsxs(Re,{onClick:O,disabled:!c||y.isPending,"data-testid":"button-upload-attachment",children:[f.jsx(Qse,{className:"h-4 w-4 mr-2"}),"Subir"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Fe,{children:["Adjuntos (",m.length,")"]}),f.jsxs("div",{className:"space-y-2",children:[m.map(L=>f.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate","data-testid":`attachment-${L.id}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Zw,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",children:L.originalName}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[E(L.fileSize),"  ",new Date(L.uploadedAt).toLocaleDateString()]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>window.open(L.filePath,"_blank"),"data-testid":`button-download-${L.id}`,children:f.jsx(Qw,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>x.mutate(L.id),"data-testid":`button-delete-${L.id}`,children:f.jsx(xl,{className:"h-4 w-4 text-destructive"})})]})]},L.id)),m.length===0&&f.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay adjuntos todava"})]})]})]})})}),f.jsx(ji,{value:"versions",className:"space-y-4",children:f.jsx(Nt,{children:f.jsxs(At,{className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsxs(Fe,{children:["Historial de Versiones (",g.length,")"]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Restaura una versin anterior del manual"})]}),f.jsxs("div",{className:"space-y-2",children:[g.map((L,M)=>f.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`version-${L.id}`,children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm font-medium",children:["Versin ",L.versionNumber," - ",L.titulo]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(L.createdAt).toLocaleString()})]}),f.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>w.mutate(L.id),disabled:M===0,"data-testid":`button-restore-${L.id}`,children:[f.jsx(MC,{className:"h-4 w-4 mr-2"}),M===0?"Versin Actual":"Restaurar"]})]},L.id)),g.length===0&&f.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No hay versiones guardadas. Usa "Guardar Versin" para crear una.'})]})]})})})]})]})}function RKe(){const[e,t]=A.useState([]),{socket:n}=Xq();A.useEffect(()=>{if(!n)return;const o=a=>{t(s=>[...s,a])};return n.on("system:log",o),()=>{n.off("system:log",o)}},[n]);const r=o=>{switch(o){case"success":return f.jsx(E_,{className:"h-4 w-4 text-green-500"});case"error":return f.jsx(mg,{className:"h-4 w-4 text-red-500"});case"warning":return f.jsx(Yse,{className:"h-4 w-4 text-yellow-500"});default:return f.jsx(iL,{className:"h-4 w-4 text-blue-500"})}},i=o=>{switch(o){case"success":return"default";case"error":return"destructive";case"warning":return"secondary";default:return"outline"}};return e.length===0?null:f.jsxs(Nt,{className:"mt-4",children:[f.jsx(Vt,{children:f.jsxs(en,{className:"flex items-center gap-2",children:[f.jsx(iL,{className:"h-5 w-5"}),"Logs del Sistema"]})}),f.jsx(At,{children:f.jsx(I3,{className:"h-[300px] w-full rounded-md border p-4",children:f.jsx("div",{className:"space-y-2",children:e.map((o,a)=>f.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-md hover-elevate","data-testid":`log-item-${a}`,children:[f.jsx("div",{className:"flex-shrink-0 mt-1",children:r(o.level)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Kt,{variant:i(o.level),className:"text-xs",children:o.type.toUpperCase()}),f.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(o.timestamp).toLocaleTimeString("es-ES")})]}),f.jsx("p",{className:"text-sm","data-testid":`log-message-${a}`,children:o.message}),o.details&&f.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`log-details-${a}`,children:o.details}),o.progress!==void 0&&f.jsx("div",{className:"mt-2 w-full bg-muted rounded-full h-2",children:f.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${o.progress}%`},"data-testid":`log-progress-${a}`})})]})]},a))})})})]})}function IKe(){const{toast:e}=Ho(),[t,n]=A.useState(!1),[r,i]=A.useState(null),[o,a]=A.useState({username:"",email:"",password:"",roleId:""}),[s,l]=A.useState(!1),[c,u]=A.useState(null),[d,p]=A.useState({name:"",description:""}),[h,m]=A.useState([]),[g,v]=A.useState(!1),[y,x]=A.useState(null),[w,_]=A.useState({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),[N,k]=A.useState(!1),{data:O,isLoading:E}=tn({queryKey:["/api/users"]}),{data:C,isLoading:L}=tn({queryKey:["/api/activity-logs"]}),{data:M}=tn({queryKey:["/api/admin/system-settings"]}),{data:I,isLoading:j}=tn({queryKey:["/api/roles"]}),{data:D}=tn({queryKey:["/api/permissions"]}),{data:q,isLoading:z}=tn({queryKey:["/api/admin/smtp-accounts"]}),{data:W}=tn({queryKey:["/api/system/config"]}),[F,B]=A.useState({backup_db_pattern:"",backup_files_pattern:""});A.useEffect(()=>{if(W){const le=W.find(tt=>tt.key==="backup_db_pattern"),Be=W.find(tt=>tt.key==="backup_files_pattern");B({backup_db_pattern:(le==null?void 0:le.value)||"",backup_files_pattern:(Be==null?void 0:Be.value)||""})}},[W]);const[te,K]=A.useState(!1),[R,U]=A.useState(null),{data:Y}=tn({queryKey:["/api/system/version"]}),{data:Z,isLoading:ae}=tn({queryKey:["/api/system/backups"]}),se=Bt({mutationFn:async le=>await jt("POST","/api/users",le),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/users"]}),e({title:"Usuario creado exitosamente"}),n(!1),ze()}}),ce=Bt({mutationFn:async({id:le,data:Be})=>await jt("PATCH",`/api/users/${le}`,Be),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/users"]}),e({title:"Usuario actualizado exitosamente"}),n(!1),ze()}}),ne=Bt({mutationFn:async le=>await jt("DELETE",`/api/users/${le}`,{}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/users"]}),e({title:"Usuario eliminado exitosamente"})},onError:le=>{e({title:"Error al eliminar usuario",description:le.message,variant:"destructive"})}}),de=Bt({mutationFn:async le=>await jt("PATCH",`/api/users/${le}/toggle-active`,{}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/users"]}),e({title:"Estado del usuario actualizado"})},onError:le=>{e({title:"Error al cambiar estado",description:le.message,variant:"destructive"})}}),he=Bt({mutationFn:async le=>await jt("PATCH","/api/admin/system-settings",{registrationEnabled:le}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/admin/system-settings"]}),e({title:"Configuracin actualizada exitosamente"})},onError:le=>{e({title:"Error al actualizar configuracin",description:le.message,variant:"destructive"})}}),ue=Bt({mutationFn:async le=>{const Be=await jt("POST","/api/roles",le);return h.length>0&&await jt("POST",`/api/roles/${Be.id}/permissions`,{permissionIds:h}),Be},onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/roles"]}),e({title:"Rol creado exitosamente"}),l(!1),Je()}}),Ne=Bt({mutationFn:async({id:le,data:Be})=>{const tt=await jt("PATCH",`/api/roles/${le}`,Be);return await jt("POST",`/api/roles/${le}/permissions`,{permissionIds:h}),tt},onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/roles"]}),e({title:"Rol actualizado exitosamente"}),l(!1),Je()}}),pe=Bt({mutationFn:async le=>await jt("DELETE",`/api/roles/${le}`,{}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/roles"]}),e({title:"Rol eliminado exitosamente"})},onError:le=>{e({title:"Error al eliminar rol",description:le.message,variant:"destructive"})}}),J=Bt({mutationFn:async le=>await jt("POST","/api/admin/smtp-accounts",le),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),e({title:"Cuenta SMTP creada exitosamente"}),v(!1),qt()}}),ke=Bt({mutationFn:async({id:le,data:Be})=>await jt("PATCH",`/api/admin/smtp-accounts/${le}`,Be),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),e({title:"Cuenta SMTP actualizada exitosamente"}),v(!1),qt()}}),Ke=Bt({mutationFn:async le=>await jt("DELETE",`/api/admin/smtp-accounts/${le}`,{}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),e({title:"Cuenta SMTP eliminada exitosamente"})}}),_e=Bt({mutationFn:async le=>await jt("POST","/api/admin/smtp-accounts/test",le),onSuccess:()=>{e({title:"Conexin SMTP exitosa",description:"La configuracin es vlida"})},onError:le=>{e({title:"Error de conexin SMTP",description:le.message,variant:"destructive"})}}),Ae=Bt({mutationFn:async({key:le,value:Be})=>await jt("PUT",`/api/system/config/${le}`,{value:Be}),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/system/config"]}),e({title:"Patrn de backup actualizado exitosamente"})},onError:le=>{e({title:"Error al actualizar patrn",description:le.message,variant:"destructive"})}}),[He,je]=A.useState({repoUrl:"",branch:"main"}),{data:nt}=tn({queryKey:["/api/admin/github-config"]});A.useEffect(()=>{nt&&je({repoUrl:nt.repoUrl||"",branch:nt.branch||"main"})},[nt]);const et=Bt({mutationFn:async le=>await jt("PUT","/api/admin/github-config",le),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/admin/github-config"]}),Ht.invalidateQueries({queryKey:["/api/system/version"]}),e({title:"Configuracin de GitHub guardada exitosamente"})},onError:le=>{e({title:"Error al guardar configuracin",description:le.message,variant:"destructive"})}}),xt=Bt({mutationFn:async()=>(K(!0),await jt("GET","/api/system/version")),onSuccess:le=>{K(!1),Ht.invalidateQueries({queryKey:["/api/system/version"]}),le.updateAvailable?(U({version:le.latestVersion,changelog:le.changelog}),e({title:"Actualizacin disponible",description:`Versin ${le.latestVersion} disponible`})):e({title:"Sistema actualizado",description:"Ya tienes la ltima versin instalada"})},onError:le=>{K(!1),e({title:"Error al comprobar actualizaciones",description:le.message,variant:"destructive"})}}),lt=Bt({mutationFn:async()=>await jt("POST","/api/system/update",{}),onSuccess:()=>{e({title:"Actualizacin iniciada",description:"El sistema se actualizar y reiniciar automticamente"}),U(null),Ht.invalidateQueries({queryKey:["/api/system/version"]})},onError:le=>{e({title:"Error al actualizar",description:le.message,variant:"destructive"})}}),Ee=Bt({mutationFn:async le=>await jt("POST",`/api/system/restore/${le}`,{}),onSuccess:()=>{e({title:"Restauracin iniciada",description:"El sistema se restaurar y reiniciar automticamente"}),Ht.invalidateQueries({queryKey:["/api/system/backups"]})},onError:le=>{e({title:"Error al restaurar",description:le.message,variant:"destructive"})}}),$e=le=>{if(!le)return"";const Be=new Date;function tt(wt){const Xr=new Date(wt.getTime());Xr.setHours(0,0,0,0),Xr.setDate(Xr.getDate()+4-(Xr.getDay()||7));const so=new Date(Xr.getFullYear(),0,1);return Math.ceil(((Xr.getTime()-so.getTime())/864e5+1)/7)}function an(wt){const so=new Date(wt.getFullYear(),wt.getMonth(),1).getDay(),lo=1+(so===0?1:so===1?0:8-so),Qn=wt.getDate();return Qn<lo?0:Math.floor((Qn-lo)/7)+1}const $l=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],ui=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],as={"{fecha}":Be.toISOString().split("T")[0].replace(/-/g,""),"{hora}":Be.toTimeString().split(" ")[0].replace(/:/g,""),"{version}":"1.0.0","{timestamp}":Date.now().toString(),"{YEAR_4}":Be.getFullYear().toString(),"{YEAR_2}":Be.getFullYear().toString().slice(-2),"{MONTH_NUMBER}":(Be.getMonth()+1).toString().padStart(2,"0"),"{MONTH_NAME}":$l[Be.getMonth()],"{MONTH_DAY_NUMBER}":Be.getDate().toString().padStart(2,"0"),"{WEEK_DAY_NUMBER}":(Be.getDay()||7).toString(),"{WEEK_DAY_NAME}":ui[Be.getDay()],"{HOURS}":Be.getHours().toString().padStart(2,"0"),"{MINUTES}":Be.getMinutes().toString().padStart(2,"0"),"{SECONDS}":Be.getSeconds().toString().padStart(2,"0"),"{WEEK_NUMBER}":tt(Be).toString(),"{WEEK_NUMBER_IN_THE_MONTH}":an(Be).toString()};let Co=le;return Object.entries(as).forEach(([wt,Xr])=>{Co=Co.replaceAll(wt,Xr)}),Co},ze=()=>{var le;a({username:"",email:"",password:"",roleId:((le=I==null?void 0:I[0])==null?void 0:le.id)||""}),i(null)},Ve=le=>{i(le),a({username:le.username,email:le.email,password:"",roleId:le.roleId||""}),n(!0)},rt=le=>{if(le.preventDefault(),r){const Be={username:o.username,email:o.email,roleId:o.roleId};o.password&&(Be.password=o.password),ce.mutate({id:r.id,data:Be})}else se.mutate(o)},Je=()=>{p({name:"",description:""}),m([]),u(null)},qt=()=>{_({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),x(null)},Gt=le=>{x(le),_({nombre:le.nombre,host:le.host,port:le.port.toString(),user:le.user,password:"",isPredeterminada:le.isPredeterminada,activa:le.activa}),v(!0)},ft=le=>{if(le.preventDefault(),y){const Be={...w};Be.password||delete Be.password,ke.mutate({id:y.id,data:Be})}else J.mutate(w)},Dt=()=>{k(!0),_e.mutate({host:w.host,port:w.port,user:w.user,password:w.password},{onSettled:()=>k(!1)})},kn=le=>{var tt;u(le),p({name:le.name,description:le.description||""});const Be=((tt=le.permissions)==null?void 0:tt.map(an=>an.permission.id))||[];m(Be),l(!0)},Ot=le=>{le.preventDefault(),c?Ne.mutate({id:c.id,data:d}):ue.mutate(d)},rn=le=>{m(Be=>Be.includes(le)?Be.filter(tt=>tt!==le):[...Be,le])},$t=le=>{if(!le)return f.jsx(Kt,{variant:"outline",children:"Sin rol"});const Be=I==null?void 0:I.find(an=>an.id===le);if(!Be)return f.jsx(Kt,{variant:"outline",children:"Sin rol"});const tt=Be.isSystem?"text-primary bg-primary/10":"text-chart-2 bg-chart-2/10";return f.jsx(Kt,{variant:"outline",className:tt,children:Be.name})},ur=le=>{const Be={clientes:"text-chart-1 bg-chart-1/10",impuestos:"text-chart-2 bg-chart-2/10",tareas:"text-chart-3 bg-chart-3/10",manuales:"text-chart-4 bg-chart-4/10",usuarios:"text-chart-5 bg-chart-5/10"};return f.jsx(Kt,{variant:"outline",className:Be[le]||"text-muted-foreground bg-muted",children:le})};return E||L?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx(pn,{className:"h-9 w-48"}),f.jsx("div",{className:"space-y-4",children:[...Array(5)].map((le,Be)=>f.jsx(pn,{className:"h-16"},Be))})]}):f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold",children:"Administracin"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de usuarios y configuracin del sistema"})]}),f.jsxs(Nb,{defaultValue:"users",className:"space-y-6",children:[f.jsxs(_g,{className:"h-auto grid grid-cols-2 md:grid-cols-4 gap-1 p-1",children:[f.jsxs(ii,{value:"users","data-testid":"tab-users",children:[f.jsx(BP,{className:"h-4 w-4 mr-2"}),"Usuarios"]}),f.jsxs(ii,{value:"roles","data-testid":"tab-roles",children:[f.jsx(zH,{className:"h-4 w-4 mr-2"}),"Roles y Permisos"]}),f.jsxs(ii,{value:"logs","data-testid":"tab-logs",children:[f.jsx(fse,{className:"h-4 w-4 mr-2"}),"Logs de Actividad"]}),f.jsxs(ii,{value:"settings","data-testid":"tab-settings",children:[f.jsx(BH,{className:"h-4 w-4 mr-2"}),"Configuracin"]}),f.jsxs(ii,{value:"smtp-accounts","data-testid":"tab-smtp-accounts",children:[f.jsx(DH,{className:"h-4 w-4 mr-2"}),"Cuentas SMTP"]}),f.jsxs(ii,{value:"system-updates","data-testid":"tab-system-updates",children:[f.jsx(aL,{className:"h-4 w-4 mr-2"}),"Actualizaciones"]}),f.jsxs(ii,{value:"storage","data-testid":"tab-storage",children:[f.jsx(TC,{className:"h-4 w-4 mr-2"}),"Almacenamiento"]})]}),f.jsxs(ji,{value:"users",className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Usuarios"}),f.jsxs(eo,{open:t,onOpenChange:n,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:ze,"data-testid":"button-add-user",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),f.jsxs(Li,{children:[f.jsxs(to,{children:[f.jsx(no,{children:r?"Editar Usuario":"Nuevo Usuario"}),f.jsx(yo,{children:r?"Actualiza los datos del usuario":"Crea un nuevo usuario del sistema"})]}),f.jsxs("form",{onSubmit:rt,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"username",children:"Usuario *"}),f.jsx(dt,{id:"username",value:o.username,onChange:le=>a({...o,username:le.target.value}),required:!0,"data-testid":"input-username"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"email",children:"Email *"}),f.jsx(dt,{id:"email",type:"email",value:o.email,onChange:le=>a({...o,email:le.target.value}),required:!0,"data-testid":"input-email"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"password",children:r?"Nueva Contrasea (dejar en blanco para no cambiar)":"Contrasea *"}),f.jsx(dt,{id:"password",type:"password",value:o.password,onChange:le=>a({...o,password:le.target.value}),required:!r,"data-testid":"input-password"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"role",children:"Rol *"}),f.jsxs(Hr,{value:o.roleId,onValueChange:le=>a({...o,roleId:le}),children:[f.jsx(Lr,{"data-testid":"select-role",children:f.jsx(qr,{placeholder:"Selecciona un rol"})}),f.jsx(Dr,{children:I==null?void 0:I.map(le=>f.jsx(kt,{value:le.id,children:le.name},le.id))})]})]}),f.jsxs(ca,{children:[f.jsx(Re,{type:"button",variant:"outline",onClick:()=>{n(!1),ze()},children:"Cancelar"}),f.jsx(Re,{type:"submit","data-testid":"button-submit-user",children:r?"Actualizar":"Crear"})]})]})]})]})]}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{children:["Usuarios del Sistema (",(O==null?void 0:O.length)||0,")"]})}),f.jsx(At,{children:f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Usuario"}),f.jsx(bt,{children:"Email"}),f.jsx(bt,{children:"Rol"}),f.jsx(bt,{children:"Estado"}),f.jsx(bt,{children:"Fecha de Creacin"}),f.jsx(bt,{className:"text-right",children:"Acciones"})]})}),f.jsx(Ms,{children:!O||O.length===0?f.jsx(Pn,{children:f.jsx(ot,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No hay usuarios registrados"})}):O.map(le=>f.jsxs(Pn,{"data-testid":`row-user-${le.id}`,children:[f.jsx(ot,{className:"font-medium",children:le.username}),f.jsx(ot,{children:le.email}),f.jsx(ot,{children:$t(le.roleId)}),f.jsx(ot,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Kt,{variant:le.isActive?"default":"secondary","data-testid":`badge-status-${le.id}`,children:le.isActive?"Activo":"Inactivo"}),f.jsx(fh,{checked:le.isActive,onCheckedChange:()=>de.mutate(le.id),disabled:de.isPending,"data-testid":`switch-active-${le.id}`})]})}),f.jsx(ot,{children:new Date(le.createdAt).toLocaleDateString()}),f.jsx(ot,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>Ve(le),"data-testid":`button-edit-${le.id}`,children:f.jsx(ed,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>ne.mutate(le.id),"data-testid":`button-delete-${le.id}`,children:f.jsx(xl,{className:"h-4 w-4"})})]})})]},le.id))})]})})]})]}),f.jsxs(ji,{value:"roles",className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Roles y Permisos"}),f.jsxs(eo,{open:s,onOpenChange:l,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:Je,"data-testid":"button-add-role",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nuevo Rol"]})}),f.jsxs(Li,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(to,{children:[f.jsx(no,{children:c?"Editar Rol":"Nuevo Rol"}),f.jsx(yo,{children:c?"Actualiza el rol y sus permisos":"Crea un nuevo rol personalizado con permisos especficos"})]}),f.jsxs("form",{onSubmit:Ot,className:"space-y-6",children:[f.jsxs("div",{className:"grid gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"role-name",children:"Nombre del Rol *"}),f.jsx(dt,{id:"role-name",value:d.name,onChange:le=>p({...d,name:le.target.value}),required:!0,disabled:c==null?void 0:c.isSystem,placeholder:"Ej: Contable Senior","data-testid":"input-role-name"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"role-description",children:"Descripcin"}),f.jsx(dt,{id:"role-description",value:d.description,onChange:le=>p({...d,description:le.target.value}),placeholder:"Descripcin del rol...","data-testid":"input-role-description"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Fe,{className:"text-base font-semibold",children:"Permisos"}),f.jsx("div",{className:"border rounded-lg p-4 space-y-4 max-h-96 overflow-y-auto",children:Object.entries((D==null?void 0:D.reduce((le,Be)=>(le[Be.resource]||(le[Be.resource]=[]),le[Be.resource].push(Be),le),{}))||{}).map(([le,Be])=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:"font-medium capitalize text-sm",children:le}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pl-4",children:Be.map(tt=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Zp,{id:tt.id,checked:h.includes(tt.id),onCheckedChange:()=>rn(tt.id),"data-testid":`checkbox-permission-${tt.resource}-${tt.action}`}),f.jsx(Fe,{htmlFor:tt.id,className:"text-sm font-normal cursor-pointer",children:tt.action})]},tt.id))})]},le))}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," permiso(s) seleccionado(s)"]})]}),f.jsxs(ca,{children:[f.jsx(Re,{type:"button",variant:"outline",onClick:()=>{l(!1),Je()},children:"Cancelar"}),f.jsx(Re,{type:"submit","data-testid":"button-submit-role",children:c?"Actualizar":"Crear"})]})]})]})]})]}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{children:["Roles del Sistema (",(I==null?void 0:I.length)||0,")"]})}),f.jsx(At,{children:f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Nombre del Rol"}),f.jsx(bt,{children:"Descripcin"}),f.jsx(bt,{children:"Usuarios"}),f.jsx(bt,{children:"Permisos"}),f.jsx(bt,{className:"text-right",children:"Acciones"})]})}),f.jsx(Ms,{children:!I||I.length===0?f.jsx(Pn,{children:f.jsx(ot,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No hay roles configurados"})}):I.map(le=>{var Be,tt;return f.jsxs(Pn,{"data-testid":`row-role-${le.id}`,children:[f.jsx(ot,{className:"font-medium",children:f.jsxs("div",{className:"flex items-center gap-2",children:[le.name,le.isSystem&&f.jsxs(Kt,{variant:"outline",className:"text-xs",children:[f.jsx(PC,{className:"h-3 w-3 mr-1"}),"Sistema"]})]})}),f.jsx(ot,{className:"text-muted-foreground",children:le.description||"-"}),f.jsx(ot,{children:f.jsxs(Kt,{variant:"outline",children:[((Be=le._count)==null?void 0:Be.users)||0," usuarios"]})}),f.jsx(ot,{children:f.jsxs(Kt,{variant:"outline",children:[((tt=le.permissions)==null?void 0:tt.length)||0," permisos"]})}),f.jsx(ot,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>kn(le),"data-testid":`button-edit-role-${le.id}`,children:f.jsx(ed,{className:"h-4 w-4"})}),!le.isSystem&&f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>pe.mutate(le.id),"data-testid":`button-delete-role-${le.id}`,children:f.jsx(xl,{className:"h-4 w-4"})})]})})]},le.id)})})]})})]})]}),f.jsxs(ji,{value:"logs",className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Registro de Actividad"}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx(en,{children:"Actividad Reciente"})}),f.jsx(At,{className:"p-0",children:!C||C.length===0?f.jsx("div",{className:"text-center text-muted-foreground py-12",children:"No hay actividad registrada"}):f.jsx("div",{className:"divide-y",children:C.slice(0,50).map(le=>{var Be;return f.jsx("div",{className:"p-4 hover-elevate","data-testid":`row-log-${le.id}`,children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("p",{className:"font-medium",children:((Be=le.user)==null?void 0:Be.username)||"Usuario desconocido"}),ur(le.modulo)]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:le.accion}),le.detalles&&f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:le.detalles})]}),f.jsx("time",{className:"text-sm text-muted-foreground",children:new Date(le.fecha).toLocaleString()})]})},le.id)})})})]})]}),f.jsxs(ji,{value:"settings",className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin del Sistema"}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx(en,{children:"Control de Acceso"})}),f.jsx(At,{className:"space-y-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx(Fe,{htmlFor:"registration-enabled",children:"Permitir registro de nuevos usuarios"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Cuando est deshabilitado, solo los administradores pueden crear usuarios"})]}),f.jsx(fh,{id:"registration-enabled",checked:(M==null?void 0:M.registrationEnabled)??!0,onCheckedChange:le=>he.mutate(le),"data-testid":"switch-registration"})]})})]}),f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Configuracin de Backups"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Personaliza los patrones de nombres para los archivos de respaldo"})]}),f.jsxs(At,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"backup-db-pattern",children:"Patrn para Backup de Base de Datos"}),f.jsx(dt,{id:"backup-db-pattern",value:F.backup_db_pattern,onChange:le=>B({...F,backup_db_pattern:le.target.value}),placeholder:"backup_db_{fecha}_{hora}","data-testid":"input-backup-db-pattern"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",f.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[$e(F.backup_db_pattern),".sql"]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"backup-files-pattern",children:"Patrn para Backup de Archivos"}),f.jsx(dt,{id:"backup-files-pattern",value:F.backup_files_pattern,onChange:le=>B({...F,backup_files_pattern:le.target.value}),placeholder:"backup_files_{fecha}_{hora}","data-testid":"input-backup-files-pattern"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",f.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[$e(F.backup_files_pattern),".zip"]})]})]})]}),f.jsxs("div",{className:"bg-muted/50 p-4 rounded-md space-y-2",children:[f.jsx("p",{className:"text-sm font-medium",children:"Variables disponibles:"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{fecha}"})," - Fecha actual (YYYYMMDD)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{hora}"})," - Hora actual (HHMMSS)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{version}"})," - Versin del sistema"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{timestamp}"})," - Timestamp Unix"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_4}"})," - Ao 4 dgitos (2025)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_2}"})," - Ao 2 dgitos (25)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NUMBER}"})," - Mes numrico (01-12)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NAME}"})," - Nombre del mes (Enero-Diciembre)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_DAY_NUMBER}"})," - Da del mes (01-31)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NUMBER}"})," - Da semana numrico (1-7)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NAME}"})," - Da de la semana (Lunes-Domingo)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{HOURS}"})," - Hora en formato 24h (00-23)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MINUTES}"})," - Minutos (00-59)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{SECONDS}"})," - Segundos (00-59)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER}"})," - Semana ISO-8601 del ao (1-53)"]}),f.jsxs("div",{children:[f.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER_IN_THE_MONTH}"})," - Semana del mes (0-5)"]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Re,{onClick:()=>{Ae.mutate({key:"backup_db_pattern",value:F.backup_db_pattern})},disabled:!F.backup_db_pattern,"data-testid":"button-save-db-pattern",children:"Guardar Patrn BD"}),f.jsx(Re,{onClick:()=>{Ae.mutate({key:"backup_files_pattern",value:F.backup_files_pattern})},disabled:!F.backup_files_pattern,"data-testid":"button-save-files-pattern",variant:"outline",children:"Guardar Patrn Archivos"})]})]})]}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx(en,{children:"Personalizacin"})}),f.jsxs(At,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"company-name",children:"Nombre de la Empresa"}),f.jsx(dt,{id:"company-name",defaultValue:"Asesora La Llave","data-testid":"input-company-name"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"logo",children:"Logo de la Empresa"}),f.jsx(dt,{id:"logo",type:"file",accept:"image/*","data-testid":"input-logo"})]}),f.jsx(Re,{"data-testid":"button-save-branding",children:"Guardar Cambios"})]})]})]}),f.jsxs(ji,{value:"smtp-accounts",className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Cuentas SMTP"}),f.jsxs(eo,{open:g,onOpenChange:v,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:()=>qt(),"data-testid":"button-add-smtp-account",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nueva Cuenta SMTP"]})}),f.jsxs(Li,{className:"sm:max-w-[600px]",children:[f.jsxs(to,{children:[f.jsxs(no,{children:[y?"Editar":"Nueva"," Cuenta SMTP"]}),f.jsx(yo,{children:"Configure una cuenta SMTP para el envo de notificaciones"})]}),f.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx(Fe,{htmlFor:"smtp-nombre",children:"Nombre de la Cuenta *"}),f.jsx(dt,{id:"smtp-nombre",value:w.nombre,onChange:le=>_({...w,nombre:le.target.value}),placeholder:"Ej: Gmail Principal",required:!0,"data-testid":"input-smtp-nombre"})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"smtp-form-host",children:"Servidor SMTP *"}),f.jsx(dt,{id:"smtp-form-host",value:w.host,onChange:le=>_({...w,host:le.target.value}),placeholder:"smtp.gmail.com",required:!0,"data-testid":"input-smtp-form-host"})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"smtp-form-port",children:"Puerto *"}),f.jsx(dt,{id:"smtp-form-port",type:"number",value:w.port,onChange:le=>_({...w,port:le.target.value}),placeholder:"587",required:!0,"data-testid":"input-smtp-form-port"})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"smtp-form-user",children:"Usuario *"}),f.jsx(dt,{id:"smtp-form-user",value:w.user,onChange:le=>_({...w,user:le.target.value}),placeholder:"usuario@gmail.com",required:!0,"data-testid":"input-smtp-form-user"})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"smtp-form-password",children:"Contrasea *"}),f.jsx(dt,{id:"smtp-form-password",type:"password",value:w.password,onChange:le=>_({...w,password:le.target.value}),placeholder:y?"(dejar vaco para mantener)":"",required:!y,"data-testid":"input-smtp-form-password"})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Zp,{id:"smtp-predeterminada",checked:w.isPredeterminada,onCheckedChange:le=>_({...w,isPredeterminada:!!le}),"data-testid":"checkbox-smtp-predeterminada"}),f.jsx(Fe,{htmlFor:"smtp-predeterminada",className:"text-sm",children:"Cuenta Predeterminada"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Zp,{id:"smtp-activa",checked:w.activa,onCheckedChange:le=>_({...w,activa:!!le}),"data-testid":"checkbox-smtp-activa"}),f.jsx(Fe,{htmlFor:"smtp-activa",className:"text-sm",children:"Activa"})]})]}),f.jsxs(ca,{children:[f.jsx(Re,{type:"button",variant:"outline",onClick:Dt,disabled:!w.host||!w.port||!w.user||!w.password||N,"data-testid":"button-test-smtp",children:N?"Probando...":"Probar Conexin"}),f.jsxs(Re,{type:"submit","data-testid":"button-submit-smtp",children:[y?"Actualizar":"Crear"," Cuenta"]})]})]})]})]})]}),f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Cuentas SMTP Configuradas"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona mltiples cuentas SMTP para el envo de notificaciones"})]}),f.jsx(At,{children:z?f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{className:"h-12 w-full"}),f.jsx(pn,{className:"h-12 w-full"})]}):q&&q.length>0?f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Nombre"}),f.jsx(bt,{children:"Servidor"}),f.jsx(bt,{children:"Puerto"}),f.jsx(bt,{children:"Usuario"}),f.jsx(bt,{children:"Estado"}),f.jsx(bt,{children:"Acciones"})]})}),f.jsx(Ms,{children:q.map(le=>f.jsxs(Pn,{children:[f.jsxs(ot,{className:"font-medium",children:[le.nombre,le.isPredeterminada&&f.jsx(Kt,{variant:"secondary",className:"ml-2",children:"Predeterminada"})]}),f.jsx(ot,{children:le.host}),f.jsx(ot,{children:le.port}),f.jsx(ot,{children:le.user}),f.jsx(ot,{children:f.jsx(Kt,{variant:le.activa?"default":"secondary",children:le.activa?"Activa":"Inactiva"})}),f.jsx(ot,{children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>Gt(le),"data-testid":`button-edit-smtp-${le.id}`,children:f.jsx(ed,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>Ke.mutate(le.id),"data-testid":`button-delete-smtp-${le.id}`,children:f.jsx(xl,{className:"h-4 w-4"})})]})})]},le.id))})]}):f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay cuentas SMTP configuradas. Crea una para empezar."})})]})]}),f.jsxs(ji,{value:"system-updates",className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Actualizaciones del Sistema"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gestiona las actualizaciones automticas del sistema"})]}),f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Configuracin de Repositorio GitHub"}),f.jsx(kh,{children:"Configura el repositorio de GitHub para comprobar y descargar actualizaciones automticas"})]}),f.jsxs(At,{className:"space-y-4",children:[f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"github-repo",children:"Repositorio (owner/repo)"}),f.jsx(dt,{id:"github-repo",placeholder:"ejemplo: usuario/repositorio",value:He.repoUrl,onChange:le=>je({...He,repoUrl:le.target.value}),"data-testid":"input-github-repo"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Formato: owner/repo o URL completa de GitHub"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"github-branch",children:"Rama"}),f.jsx(dt,{id:"github-branch",placeholder:"main",value:He.branch,onChange:le=>je({...He,branch:le.target.value}),"data-testid":"input-github-branch"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Rama a usar para actualizaciones (por defecto: main)"})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs(Re,{onClick:()=>et.mutate(He),disabled:et.isPending||!He.repoUrl,"data-testid":"button-save-github-config",children:[f.jsx(FH,{className:"h-4 w-4 mr-2"}),et.isPending?"Guardando...":"Guardar Configuracin"]})})]})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx(en,{children:"Versin Actual"})}),f.jsxs(At,{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin instalada"}),f.jsx("p",{className:"text-2xl font-bold","data-testid":"text-current-version",children:(Y==null?void 0:Y.currentVersion)||"Cargando..."})]}),f.jsxs(Re,{onClick:()=>xt.mutate(),disabled:te||xt.isPending,className:"w-full","data-testid":"button-check-updates",children:[f.jsx(aL,{className:`h-4 w-4 mr-2 ${te?"animate-spin":""}`}),te?"Comprobando...":"Comprobar Actualizaciones"]})]})]}),(Y==null?void 0:Y.updateAvailable)&&f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx(en,{children:"Actualizacin Disponible"})}),f.jsxs(At,{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva versin"}),f.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-latest-version",children:Y.latestVersion})]}),Y.changelog&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium mb-1",children:"Novedades:"}),f.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-changelog",children:Y.changelog})]}),f.jsxs(eo,{children:[f.jsx(Ba,{asChild:!0,children:f.jsx(Re,{variant:"default",className:"w-full","data-testid":"button-update-now",children:"Actualizar Ahora"})}),f.jsxs(Li,{children:[f.jsxs(to,{children:[f.jsx(no,{children:"Confirmar Actualizacin"}),f.jsxs(yo,{children:["Esta accin actualizar el sistema a la versin ",Y.latestVersion,". Se crear un backup automtico antes de la actualizacin. El sistema se reiniciar automticamente cuando termine."]})]}),f.jsxs(ca,{children:[f.jsx(Re,{variant:"outline",onClick:le=>{const Be=le.currentTarget.closest('[role="dialog"]');Be==null||Be.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":"button-cancel-update",children:"Cancelar"}),f.jsx(Re,{onClick:()=>{lt.mutate();const le=document.querySelector('[role="dialog"]');le==null||le.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:lt.isPending,"data-testid":"button-confirm-update",children:lt.isPending?"Actualizando...":"Confirmar Actualizacin"})]})]})]})]})]}),!(Y!=null&&Y.updateAvailable)&&(Y==null?void 0:Y.currentVersion)&&f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx(en,{children:"Sistema Actualizado"})}),f.jsx(At,{children:f.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu sistema est ejecutando la ltima versin disponible."})})]})]}),f.jsx(RKe,{}),f.jsxs(Nt,{className:"mt-6",children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Backups del Sistema"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Historial de backups automticos y manuales"})]}),f.jsx(At,{children:ae?f.jsx("div",{className:"space-y-2",children:[...Array(3)].map((le,Be)=>f.jsx(pn,{className:"h-12"},Be))}):Z&&Z.length>0?f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Fecha"}),f.jsx(bt,{children:"Versin"}),f.jsx(bt,{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(IH,{className:"h-3 w-3"}),f.jsx("span",{children:"BD"})]})}),f.jsx(bt,{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(OC,{className:"h-3 w-3"}),f.jsx("span",{children:"Archivos"})]})}),f.jsx(bt,{className:"text-right",children:"Acciones"})]})}),f.jsx(Ms,{children:Z.map(le=>f.jsxs(Pn,{"data-testid":`row-backup-${le.id}`,children:[f.jsx(ot,{children:new Date(le.createdAt).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),f.jsx(ot,{children:f.jsxs(Kt,{variant:"outline","data-testid":`badge-version-${le.id}`,children:["v",le.version]})}),f.jsx(ot,{"data-testid":`text-db-size-${le.id}`,children:le.dbSize}),f.jsx(ot,{"data-testid":`text-files-size-${le.id}`,children:le.filesSize}),f.jsx(ot,{className:"text-right",children:f.jsxs(eo,{children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{variant:"outline",size:"sm","data-testid":`button-restore-${le.id}`,children:[f.jsx(qse,{className:"h-4 w-4 mr-2"}),"Restaurar"]})}),f.jsxs(Li,{children:[f.jsxs(to,{children:[f.jsx(no,{children:"Confirmar Restauracin"}),f.jsxs(yo,{children:["Esta accin restaurar el sistema al estado del backup creado el"," ",new Date(le.createdAt).toLocaleString("es-ES"),".",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{children:"Advertencia:"})," Esta operacin sobrescribir todos los datos actuales y el sistema se reiniciar automticamente."]})]}),f.jsxs(ca,{children:[f.jsx(Re,{variant:"outline",onClick:Be=>{const tt=Be.currentTarget.closest('[role="dialog"]');tt==null||tt.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":`button-cancel-restore-${le.id}`,children:"Cancelar"}),f.jsx(Re,{variant:"destructive",onClick:()=>{Ee.mutate(le.id);const Be=document.querySelector('[role="dialog"]');Be==null||Be.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:Ee.isPending,"data-testid":`button-confirm-restore-${le.id}`,children:Ee.isPending?"Restaurando...":"Confirmar Restauracin"})]})]})]})})]},le.id))})]}):f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay backups disponibles. Se crean automticamente durante las actualizaciones."})})]})]}),f.jsx(ji,{value:"storage",className:"space-y-4",children:f.jsx(LKe,{})})]})]})}function LKe(){const{toast:e}=Ho(),[t,n]=A.useState("LOCAL"),[r,i]=A.useState(!1),[o,a]=A.useState(!1),[s,l]=A.useState({host:"",port:"21",username:"",password:"",basePath:"/uploads"}),[c,u]=A.useState({host:"",shareName:"",username:"",password:"",domain:"",basePath:"/uploads"}),{data:d,isLoading:p}=tn({queryKey:["/api/admin/storage-config"]});A.useEffect(()=>{d&&(n(d.type),i(d.active),d.type==="FTP"&&d.config?l({host:d.config.host||"",port:(d.config.port||21).toString(),username:d.config.username||"",password:"",basePath:d.config.basePath||"/uploads"}):d.type==="SMB"&&d.config&&u({host:d.config.host||"",shareName:d.config.shareName||"",username:d.config.username||"",password:"",domain:d.config.domain||"",basePath:d.config.basePath||"/uploads"}))},[d]);const h=Bt({mutationFn:async v=>jt("POST","/api/admin/storage-config",v),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/admin/storage-config"]}),e({title:"Configuracin guardada",description:"La configuracin de almacenamiento se ha actualizado correctamente"})},onError:v=>{e({title:"Error",description:v.message||"No se pudo guardar la configuracin",variant:"destructive"})}}),m=async()=>{a(!0);try{const y=await jt("POST","/api/admin/storage-config/test",{type:t,config:t==="FTP"?s:t==="SMB"?c:null});e({title:"Conexin exitosa",description:y.message||"La conexin se estableci correctamente"})}catch(v){e({title:"Error de conexin",description:v.message||"No se pudo conectar al servidor",variant:"destructive"})}finally{a(!1)}},g=()=>{const v=t==="LOCAL"?null:t==="FTP"?{...s,port:parseInt(s.port)}:c;h.mutate({type:t,active:r,config:v})};return p?f.jsxs("div",{className:"space-y-4",children:[f.jsx(pn,{className:"h-8 w-64"}),f.jsx(pn,{className:"h-32"})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin de Almacenamiento"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configura dnde se almacenan los archivos del sistema"})]}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{className:"flex items-center justify-between",children:[f.jsx("span",{children:"Proveedor de Almacenamiento"}),d&&f.jsx(Kt,{variant:d.active?"default":"secondary",children:d.active?"Activo":"Inactivo"})]})}),f.jsxs(At,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{children:"Tipo de Almacenamiento"}),f.jsxs(Hr,{value:t,onValueChange:v=>n(v),children:[f.jsx(Lr,{"data-testid":"select-storage-type",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"LOCAL",children:"Local (Servidor)"}),f.jsx(kt,{value:"FTP",children:"FTP"}),f.jsx(kt,{value:"SMB",children:"SMB/CIFS (NAS)"})]})]})]}),t==="LOCAL"&&f.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(IH,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-medium",children:"Almacenamiento Local"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Los archivos se guardan en el servidor en: ",f.jsx("code",{className:"px-1 py-0.5 bg-background rounded text-xs",children:"/uploads"})]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No requiere configuracin adicional."})]})]})}),t==="FTP"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"ftp-host",children:"Servidor FTP *"}),f.jsx(dt,{id:"ftp-host",value:s.host,onChange:v=>l({...s,host:v.target.value}),placeholder:"ftp.ejemplo.com","data-testid":"input-ftp-host"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"ftp-port",children:"Puerto *"}),f.jsx(dt,{id:"ftp-port",type:"number",value:s.port,onChange:v=>l({...s,port:v.target.value}),placeholder:"21","data-testid":"input-ftp-port"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"ftp-username",children:"Usuario *"}),f.jsx(dt,{id:"ftp-username",value:s.username,onChange:v=>l({...s,username:v.target.value}),"data-testid":"input-ftp-username"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"ftp-password",children:"Contrasea *"}),f.jsx(dt,{id:"ftp-password",type:"password",value:s.password,onChange:v=>l({...s,password:v.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-ftp-password"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"ftp-basePath",children:"Ruta Base"}),f.jsx(dt,{id:"ftp-basePath",value:s.basePath,onChange:v=>l({...s,basePath:v.target.value}),placeholder:"/uploads","data-testid":"input-ftp-basepath"})]})]}),t==="SMB"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"smb-host",children:"Servidor SMB *"}),f.jsx(dt,{id:"smb-host",value:c.host,onChange:v=>u({...c,host:v.target.value}),placeholder:"192.168.1.100","data-testid":"input-smb-host"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"smb-share",children:"Nombre del Recurso Compartido *"}),f.jsx(dt,{id:"smb-share",value:c.shareName,onChange:v=>u({...c,shareName:v.target.value}),placeholder:"archivos","data-testid":"input-smb-share"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"smb-username",children:"Usuario *"}),f.jsx(dt,{id:"smb-username",value:c.username,onChange:v=>u({...c,username:v.target.value}),"data-testid":"input-smb-username"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"smb-password",children:"Contrasea *"}),f.jsx(dt,{id:"smb-password",type:"password",value:c.password,onChange:v=>u({...c,password:v.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-smb-password"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"smb-domain",children:"Dominio (opcional)"}),f.jsx(dt,{id:"smb-domain",value:c.domain,onChange:v=>u({...c,domain:v.target.value}),placeholder:"WORKGROUP","data-testid":"input-smb-domain"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"smb-basePath",children:"Ruta Base"}),f.jsx(dt,{id:"smb-basePath",value:c.basePath,onChange:v=>u({...c,basePath:v.target.value}),placeholder:"/uploads","data-testid":"input-smb-basepath"})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx(Fe,{htmlFor:"storage-active",className:"font-medium",children:"Activar Configuracin"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Esta configuracin est activa y se usa para nuevos archivos":"Activa esta configuracin para empezar a usarla"})]}),f.jsx(fh,{id:"storage-active",checked:r,onCheckedChange:i,"data-testid":"switch-storage-active"})]}),f.jsxs("div",{className:"flex gap-2",children:[t!=="LOCAL"&&f.jsx(Re,{variant:"outline",onClick:m,disabled:o,"data-testid":"button-test-connection",children:o?f.jsxs(f.Fragment,{children:[f.jsx(Dse,{className:"h-4 w-4 mr-2 animate-spin"}),"Probando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(E_,{className:"h-4 w-4 mr-2"}),"Probar Conexin"]})}),f.jsx(Re,{onClick:g,disabled:h.isPending,"data-testid":"button-save-storage-config",children:h.isPending?"Guardando...":"Guardar Configuracin"})]})]})]}),d&&d.type!==t&&f.jsxs(Nt,{className:"border-orange-200 dark:border-orange-900",children:[f.jsx(Vt,{children:f.jsxs(en,{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400",children:[f.jsx(OC,{className:"h-5 w-5"}),"Migracin de Archivos"]})}),f.jsxs(At,{children:[f.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Al cambiar el tipo de almacenamiento, los archivos existentes permanecern en ",d.type,". Puedes migrarlos al nuevo almacenamiento desde la seccin de mantenimiento."]}),f.jsxs(Re,{variant:"outline",disabled:!0,children:[f.jsx(OC,{className:"h-4 w-4 mr-2"}),"Migrar Archivos (Prximamente)"]})]})]})]})}function Vs(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sh(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Qte=6048e5,DKe=864e5;let $Ke={};function dN(){return $Ke}function lb(e,t){var s,l,c,u;const n=dN(),r=(t==null?void 0:t.weekStartsOn)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Vs(e),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function n_(e){return lb(e,{weekStartsOn:1})}function Zte(e){const t=Vs(e),n=t.getFullYear(),r=Sh(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=n_(r),o=Sh(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=n_(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Z7(e){const t=Vs(e);return t.setHours(0,0,0,0),t}function J7(e){const t=Vs(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function FKe(e,t){const n=Z7(e),r=Z7(t),i=+n-J7(n),o=+r-J7(r);return Math.round((i-o)/DKe)}function BKe(e){const t=Zte(e),n=Sh(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),n_(n)}function zKe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UKe(e){if(!zKe(e)&&typeof e!="number")return!1;const t=Vs(e);return!isNaN(Number(t))}function HKe(e){const t=Vs(e),n=Sh(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const qKe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WKe=(e,t,n)=>{let r;const i=qKe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const VKe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KKe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GKe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YKe={date:lm({formats:VKe,defaultWidth:"full"}),time:lm({formats:KKe,defaultWidth:"full"}),dateTime:lm({formats:GKe,defaultWidth:"full"})},XKe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QKe=(e,t,n,r)=>XKe[e];function pl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const ZKe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JKe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eGe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tGe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iGe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oGe={ordinalNumber:iGe,era:pl({values:ZKe,defaultWidth:"wide"}),quarter:pl({values:JKe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:pl({values:eGe,defaultWidth:"wide"}),day:pl({values:tGe,defaultWidth:"wide"}),dayPeriod:pl({values:nGe,defaultWidth:"wide",formattingValues:rGe,defaultFormattingWidth:"wide"})};function ml(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?sGe(s,d=>d.test(a)):aGe(s,d=>d.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}function aGe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function sGe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Jte(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const lGe=/^(\d+)(th|st|nd|rd)?/i,cGe=/\d+/i,uGe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dGe={any:[/^b/i,/^(a|c)/i]},fGe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hGe={any:[/1/i,/2/i,/3/i,/4/i]},pGe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mGe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gGe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vGe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yGe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bGe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xGe={ordinalNumber:Jte({matchPattern:lGe,parsePattern:cGe,valueCallback:e=>parseInt(e,10)}),era:ml({matchPatterns:uGe,defaultMatchWidth:"wide",parsePatterns:dGe,defaultParseWidth:"any"}),quarter:ml({matchPatterns:fGe,defaultMatchWidth:"wide",parsePatterns:hGe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ml({matchPatterns:pGe,defaultMatchWidth:"wide",parsePatterns:mGe,defaultParseWidth:"any"}),day:ml({matchPatterns:gGe,defaultMatchWidth:"wide",parsePatterns:vGe,defaultParseWidth:"any"}),dayPeriod:ml({matchPatterns:yGe,defaultMatchWidth:"any",parsePatterns:bGe,defaultParseWidth:"any"})},wGe={code:"en-US",formatDistance:WKe,formatLong:YKe,formatRelative:QKe,localize:oGe,match:xGe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SGe(e){const t=Vs(e);return FKe(t,HKe(t))+1}function _Ge(e){const t=Vs(e),n=+n_(t)-+BKe(t);return Math.round(n/Qte)+1}function ene(e,t){var u,d,p,h;const n=Vs(e),r=n.getFullYear(),i=dN(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(p=i.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,a=Sh(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=lb(a,t),l=Sh(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=lb(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function EGe(e,t){var s,l,c,u;const n=dN(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=ene(e,t),o=Sh(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),lb(o,t)}function NGe(e,t){const n=Vs(e),r=+lb(n,t)-+EGe(n,t);return Math.round(r/Qte)+1}function Mn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const du={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Mn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Mn(n+1,2)},d(e,t){return Mn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Mn(e.getHours()%12||12,t.length)},H(e,t){return Mn(e.getHours(),t.length)},m(e,t){return Mn(e.getMinutes(),t.length)},s(e,t){return Mn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Mn(i,t.length)}},up={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ez={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return du.y(e,t)},Y:function(e,t,n,r){const i=ene(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return Mn(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Mn(o,t.length)},R:function(e,t){const n=Zte(e);return Mn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Mn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Mn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Mn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return du.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Mn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=NGe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Mn(i,t.length)},I:function(e,t,n){const r=_Ge(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Mn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):du.d(e,t)},D:function(e,t,n){const r=SGe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Mn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Mn(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Mn(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Mn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=up.noon:r===0?i=up.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=up.evening:r>=12?i=up.afternoon:r>=4?i=up.morning:i=up.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return du.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):du.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Mn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Mn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):du.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):du.s(e,t)},S:function(e,t){return du.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return nz(r);case"XXXX":case"XX":return pf(r);case"XXXXX":case"XXX":default:return pf(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return nz(r);case"xxxx":case"xx":return pf(r);case"xxxxx":case"xxx":default:return pf(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tz(r,":");case"OOOO":default:return"GMT"+pf(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tz(r,":");case"zzzz":default:return"GMT"+pf(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Mn(r,t.length)},T:function(e,t,n){const r=e.getTime();return Mn(r,t.length)}};function tz(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+Mn(o,2)}function nz(e,t){return e%60===0?(e>0?"-":"+")+Mn(Math.abs(e)/60,2):pf(e,t)}function pf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Mn(Math.trunc(r/60),2),o=Mn(r%60,2);return n+i+t+o}const rz=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},tne=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AGe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return rz(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",rz(r,t)).replace("{{time}}",tne(i,t))},kGe={p:tne,P:AGe},CGe=/^D+$/,TGe=/^Y+$/,OGe=["D","DD","YY","YYYY"];function MGe(e){return CGe.test(e)}function PGe(e){return TGe.test(e)}function jGe(e,t,n){const r=RGe(e,t,n);if(console.warn(r),OGe.includes(e))throw new RangeError(r)}function RGe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IGe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LGe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DGe=/^'([^]*?)'?$/,$Ge=/''/g,FGe=/[a-zA-Z]/;function AM(e,t,n){var u,d,p,h,m,g,v,y;const r=dN(),i=(n==null?void 0:n.locale)??r.locale??wGe,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(p=r.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((g=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,s=Vs(e);if(!UKe(s))throw new RangeError("Invalid time value");let l=t.match(LGe).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=kGe[w];return _(x,i.formatLong)}return x}).join("").match(IGe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:BGe(x)};if(ez[w])return{isToken:!0,value:x};if(w.match(FGe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&PGe(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&MGe(w))&&jGe(w,t,String(e));const _=ez[w[0]];return _(s,w,i.localize,c)}).join("")}function BGe(e){const t=e.match(DGe);return t?t[1].replace($Ge,"'"):e}const zGe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},UGe=(e,t,n)=>{let r;const i=zGe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},HGe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},qGe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},WGe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VGe={date:lm({formats:HGe,defaultWidth:"full"}),time:lm({formats:qGe,defaultWidth:"full"}),dateTime:lm({formats:WGe,defaultWidth:"full"})},KGe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},GGe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},YGe=(e,t,n,r)=>t.getHours()!==1?GGe[e]:KGe[e],XGe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},QGe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ZGe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},JGe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},eYe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},tYe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},nYe=(e,t)=>Number(e)+"",rYe={ordinalNumber:nYe,era:pl({values:XGe,defaultWidth:"wide"}),quarter:pl({values:QGe,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:pl({values:ZGe,defaultWidth:"wide"}),day:pl({values:JGe,defaultWidth:"wide"}),dayPeriod:pl({values:eYe,defaultWidth:"wide",formattingValues:tYe,defaultFormattingWidth:"wide"})},iYe=/^(\d+)()?/i,oYe=/\d+/i,aYe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},sYe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},lYe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},cYe={any:[/1/i,/2/i,/3/i,/4/i]},uYe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},dYe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},fYe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},hYe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},pYe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},mYe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},gYe={ordinalNumber:Jte({matchPattern:iYe,parsePattern:oYe,valueCallback:function(e){return parseInt(e,10)}}),era:ml({matchPatterns:aYe,defaultMatchWidth:"wide",parsePatterns:sYe,defaultParseWidth:"any"}),quarter:ml({matchPatterns:lYe,defaultMatchWidth:"wide",parsePatterns:cYe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ml({matchPatterns:uYe,defaultMatchWidth:"wide",parsePatterns:dYe,defaultParseWidth:"any"}),day:ml({matchPatterns:fYe,defaultMatchWidth:"wide",parsePatterns:hYe,defaultParseWidth:"any"}),dayPeriod:ml({matchPatterns:pYe,defaultMatchWidth:"any",parsePatterns:mYe,defaultParseWidth:"any"})},kM={code:"es",formatDistance:UGe,formatLong:VGe,formatRelative:YGe,localize:rYe,match:gYe,options:{weekStartsOn:1,firstWeekContainsDate:1}},vYe={clients:"Clientes",tasks:"Tareas",client_tax:"Impuestos",manuals:"Manuales",users:"Usuarios"},yYe={CREATE:"default",UPDATE:"secondary",DELETE:"destructive"},bYe={CREATE:"Creacin",UPDATE:"Actualizacin",DELETE:"Eliminacin"};function xYe(){const[e,t]=A.useState("all"),{data:n=[],isLoading:r}=tn({queryKey:["/api/audit",e],queryFn:async()=>{const o=new URLSearchParams;e!=="all"&&o.append("table",e);const a=await fetch(`/api/audit?${o.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw new Error("Error al cargar auditora");return a.json()}}),i=({anterior:o,nuevo:a})=>{if(!o&&!a)return null;const s=o?JSON.parse(o):{},l=a?JSON.parse(a):{};return f.jsx("div",{className:"mt-2 space-y-1",children:Object.keys({...s,...l}).map(c=>{if(["id","fechaActualizacion","fechaCreacion","created_at","updated_at"].includes(c))return null;const u=s[c],d=l[c];return u===d?null:f.jsxs("div",{className:"text-sm",children:[f.jsxs("span",{className:"font-medium text-muted-foreground",children:[c,":"]})," ",u!==void 0&&f.jsx("span",{className:"line-through text-destructive",children:String(u)}),u!==void 0&&d!==void 0&&"  ",d!==void 0&&f.jsx("span",{className:"text-primary",children:String(d)})]},c)})})};return f.jsxs("div",{className:"container mx-auto py-6 px-4",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Auditora del Sistema"}),f.jsx("p",{className:"text-muted-foreground",children:"Registro completo de cambios y modificaciones"})]}),f.jsx("div",{className:"mb-6 flex gap-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(RH,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs(Hr,{value:e,onValueChange:t,children:[f.jsx(Lr,{className:"w-[200px]","data-testid":"select-filter-table",children:f.jsx(qr,{placeholder:"Filtrar por mdulo"})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"all",children:"Todos los mdulos"}),f.jsx(kt,{value:"clients",children:"Clientes"}),f.jsx(kt,{value:"tasks",children:"Tareas"}),f.jsx(kt,{value:"client_tax",children:"Impuestos"}),f.jsx(kt,{value:"manuals",children:"Manuales"}),f.jsx(kt,{value:"users",children:"Usuarios"})]})]})]})}),r?f.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),f.jsx(At,{children:f.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})})]},o))}):n.length===0?f.jsx(Nt,{children:f.jsxs(At,{className:"py-10 text-center",children:[f.jsx(Ds,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"No se encontraron registros de auditora"})]})}):f.jsx("div",{className:"space-y-4",children:n.map(o=>{var a;return f.jsxs(Nt,{"data-testid":`audit-entry-${o.id}`,children:[f.jsx(Vt,{children:f.jsx("div",{className:"flex items-start justify-between",children:f.jsxs("div",{children:[f.jsxs(en,{className:"text-lg flex items-center gap-2",children:[f.jsx(Kt,{variant:yYe[o.accion],children:bYe[o.accion]}),f.jsx("span",{children:vYe[o.tabla]||o.tabla})]}),f.jsx(kh,{className:"mt-2",children:o.cambios||"Sin descripcin de cambios"})]})})}),f.jsx(At,{children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(FP,{className:"h-4 w-4"}),f.jsx("span",{children:((a=o.usuario)==null?void 0:a.username)||"Usuario desconocido"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(DP,{className:"h-4 w-4"}),f.jsx("span",{children:AM(new Date(o.fecha),"d 'de' MMMM 'de' yyyy, HH:mm",{locale:kM})})]})]}),(o.valorAnterior||o.valorNuevo)&&f.jsx(i,{anterior:o.valorAnterior,nuevo:o.valorNuevo})]})})]},o.id)})})]})}function wYe(){const{toast:e}=Ho(),[t,n]=A.useState(""),[r,i]=A.useState(!1),[o,a]=A.useState(null),[s,l]=A.useState(!1),[c,u]=A.useState(null),[d,p]=A.useState({impuestoId:"",periodicidad:"TRIMESTRAL",diaVencimiento:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:"",activo:!0}),{data:h=[],isLoading:m}=tn({queryKey:["/api/clients"]}),{data:g=[],isLoading:v}=tn({queryKey:["/api/impuestos"]}),{data:y=[],isLoading:x}=tn({queryKey:[`/api/obligaciones-fiscales/cliente/${t}`],enabled:!!t}),w=Bt({mutationFn:async j=>{const D={clienteId:t,impuestoId:j.impuestoId,periodicidad:j.periodicidad,diaVencimiento:j.diaVencimiento?parseInt(j.diaVencimiento):null,fechaInicio:j.fechaInicio,fechaFin:j.fechaFin||null,activo:j.activo};return await jt("POST","/api/obligaciones-fiscales",D)},onSuccess:()=>{Ht.invalidateQueries({queryKey:[`/api/obligaciones-fiscales/cliente/${t}`]}),e({title:"Obligacin fiscal creada exitosamente"}),i(!1),k()},onError:j=>{e({title:"Error al crear obligacin fiscal",description:j.message,variant:"destructive"})}}),_=Bt({mutationFn:async({id:j,data:D})=>{const q={periodicidad:D.periodicidad,diaVencimiento:D.diaVencimiento?parseInt(D.diaVencimiento):null,fechaInicio:D.fechaInicio,fechaFin:D.fechaFin||null,activo:D.activo};return await jt("PATCH",`/api/obligaciones-fiscales/${j}`,q)},onSuccess:()=>{Ht.invalidateQueries({queryKey:[`/api/obligaciones-fiscales/cliente/${t}`]}),e({title:"Obligacin fiscal actualizada exitosamente"}),i(!1),k()},onError:j=>{e({title:"Error al actualizar obligacin fiscal",description:j.message,variant:"destructive"})}}),N=Bt({mutationFn:async j=>await jt("DELETE",`/api/obligaciones-fiscales/${j}`),onSuccess:()=>{Ht.invalidateQueries({queryKey:[`/api/obligaciones-fiscales/cliente/${t}`]}),e({title:"Obligacin fiscal eliminada exitosamente"}),l(!1),u(null)},onError:j=>{e({title:"Error al eliminar obligacin fiscal",description:j.message,variant:"destructive"})}}),k=()=>{p({impuestoId:"",periodicidad:"TRIMESTRAL",diaVencimiento:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:"",activo:!0}),a(null)},O=j=>{var D;a(j),p({impuestoId:j.impuestoId,periodicidad:j.periodicidad,diaVencimiento:((D=j.diaVencimiento)==null?void 0:D.toString())||"",fechaInicio:j.fechaInicio,fechaFin:j.fechaFin||"",activo:j.activo}),i(!0)},E=j=>{u(j),l(!0)},C=j=>{j.preventDefault(),o?_.mutate({id:o.id,data:d}):w.mutate(d)},L=j=>{const q={MENSUAL:{variant:"default",label:"Mensual"},TRIMESTRAL:{variant:"secondary",label:"Trimestral"},ANUAL:{variant:"outline",label:"Anual"}}[j]||{variant:"outline",label:j};return f.jsx(Kt,{variant:q.variant,"data-testid":`badge-periodicidad-${j.toLowerCase()}`,children:q.label})},M=h.find(j=>j.id===t),I=g.filter(j=>j.activo);return m||v?f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx(pn,{className:"h-9 w-64"}),f.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,D)=>f.jsx(pn,{className:"h-20"},D))})]}):f.jsxs("div",{className:"p-8 space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-display font-bold",children:"Obligaciones Fiscales"}),f.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de impuestos asignados por cliente"})]})}),f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs(en,{className:"flex items-center gap-2",children:[f.jsx(OH,{className:"h-5 w-5"}),"Seleccionar Cliente"]})}),f.jsx(At,{children:f.jsxs(Hr,{value:t,onValueChange:n,children:[f.jsx(Lr,{"data-testid":"select-client",children:f.jsx(qr,{placeholder:"Selecciona un cliente"})}),f.jsx(Dr,{children:h.map(j=>f.jsxs(kt,{value:j.id,children:[j.razonSocial," (",j.nifCif,")"]},j.id))})]})})]}),t&&f.jsxs(Nt,{children:[f.jsx(Vt,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(en,{children:"Obligaciones Fiscales"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:M==null?void 0:M.razonSocial})]}),f.jsxs(eo,{open:r,onOpenChange:j=>{i(j),j||k()},children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:k,"data-testid":"button-add-obligacion",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nueva Obligacin"]})}),f.jsxs(Li,{children:[f.jsxs(to,{children:[f.jsx(no,{children:o?"Editar Obligacin Fiscal":"Nueva Obligacin Fiscal"}),f.jsx(yo,{children:o?"Modifica los datos de la obligacin fiscal":"Asigna un nuevo impuesto al cliente"})]}),f.jsxs("form",{onSubmit:C,className:"space-y-4",children:[!o&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"impuesto",children:"Impuesto *"}),f.jsxs(Hr,{value:d.impuestoId,onValueChange:j=>p({...d,impuestoId:j}),children:[f.jsx(Lr,{"data-testid":"select-impuesto",children:f.jsx(qr,{placeholder:"Selecciona un impuesto"})}),f.jsx(Dr,{children:I.map(j=>f.jsxs(kt,{value:j.id,children:[j.modelo," - ",j.nombre]},j.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"periodicidad",children:"Periodicidad *"}),f.jsxs(Hr,{value:d.periodicidad,onValueChange:j=>p({...d,periodicidad:j}),children:[f.jsx(Lr,{"data-testid":"select-periodicidad",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"MENSUAL",children:"Mensual"}),f.jsx(kt,{value:"TRIMESTRAL",children:"Trimestral"}),f.jsx(kt,{value:"ANUAL",children:"Anual"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"diaVencimiento",children:"Da de Vencimiento (opcional)"}),f.jsx(dt,{id:"diaVencimiento",type:"number",min:"1",max:"31",value:d.diaVencimiento,onChange:j=>p({...d,diaVencimiento:j.target.value}),placeholder:"Ej: 20","data-testid":"input-dia-vencimiento"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Da del mes en que vence la declaracin (si es distinto al calendario AEAT)"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"fechaInicio",children:"Fecha Inicio *"}),f.jsx(dt,{id:"fechaInicio",type:"date",value:d.fechaInicio,onChange:j=>p({...d,fechaInicio:j.target.value}),required:!0,"data-testid":"input-fecha-inicio"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"fechaFin",children:"Fecha Fin (opcional)"}),f.jsx(dt,{id:"fechaFin",type:"date",value:d.fechaFin,onChange:j=>p({...d,fechaFin:j.target.value}),"data-testid":"input-fecha-fin"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",id:"activo",checked:d.activo,onChange:j=>p({...d,activo:j.target.checked}),className:"rounded border-gray-300","data-testid":"checkbox-activo"}),f.jsx(Fe,{htmlFor:"activo",className:"text-sm font-normal",children:"Obligacin activa"})]}),f.jsxs(ca,{children:[f.jsx(Re,{type:"button",variant:"outline",onClick:()=>{i(!1),k()},children:"Cancelar"}),f.jsx(Re,{type:"submit",disabled:w.isPending||_.isPending,"data-testid":"button-submit-obligacion",children:w.isPending||_.isPending?"Guardando...":o?"Actualizar":"Crear"})]})]})]})]})]})}),f.jsx(At,{children:x?f.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,D)=>f.jsx(pn,{className:"h-24"},D))}):y.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(mg,{className:"mx-auto h-12 w-12 text-muted-foreground"}),f.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay obligaciones fiscales"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Comienza asignando un impuesto a este cliente"})]}):f.jsx("div",{className:"space-y-4",children:y.map(j=>{const D=g.find(q=>q.id===j.impuestoId);return f.jsx(Nt,{"data-testid":`card-obligacion-${j.id}`,children:f.jsx(At,{className:"p-4",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"space-y-2 flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("h4",{className:"font-semibold text-lg",children:[D==null?void 0:D.modelo," - ",D==null?void 0:D.nombre]}),L(j.periodicidad),f.jsx(Kt,{variant:j.activo?"default":"secondary","data-testid":`badge-estado-${j.id}`,children:j.activo?"Activa":"Inactiva"})]}),f.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(e0,{className:"h-4 w-4"}),"Inicio: ",new Date(j.fechaInicio).toLocaleDateString()]}),j.fechaFin&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(e0,{className:"h-4 w-4"}),"Fin: ",new Date(j.fechaFin).toLocaleDateString()]}),j.diaVencimiento&&f.jsxs("span",{children:["Vencimiento da ",j.diaVencimiento]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Re,{variant:"outline",size:"icon",onClick:()=>O(j),"data-testid":`button-edit-${j.id}`,children:f.jsx($H,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"outline",size:"icon",onClick:()=>E(j.id),"data-testid":`button-delete-${j.id}`,children:f.jsx(xl,{className:"h-4 w-4"})})]})]})})},j.id)})})})]}),f.jsx(O3,{open:s,onOpenChange:l,children:f.jsxs(RE,{children:[f.jsxs(IE,{children:[f.jsx(DE,{children:"Eliminar obligacin fiscal?"}),f.jsx($E,{children:"Esta accin no se puede deshacer. Se eliminar la obligacin fiscal y todas sus declaraciones asociadas."})]}),f.jsxs(LE,{children:[f.jsx(BE,{children:"Cancelar"}),f.jsx(FE,{onClick:()=>c&&N.mutate(c),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Eliminar"})]})]})})]})}const SYe={MENSUAL:"bg-blue-500",TRIMESTRAL:"bg-green-500",ANUAL:"bg-purple-500"};function _Ye(){const{toast:e}=Ho(),[t,n]=A.useState(new Date().getFullYear().toString()),[r,i]=A.useState("all"),[o,a]=A.useState("all"),[s,l]=A.useState(!1),[c,u]=A.useState(!1),[d,p]=A.useState(null),[h,m]=A.useState(null),[g,v]=A.useState({modelo:"",periodicidad:"MENSUAL",periodoContable:"",fechaInicio:"",fechaFin:""}),{data:y=[],isLoading:x}=tn({queryKey:["/api/impuestos"]}),{data:w=[],isLoading:_}=tn({queryKey:["/api/calendario-aeat",t,r,o],queryFn:async()=>{const B=new URLSearchParams;t&&t!=="all"&&B.append("anio",t),r&&r!=="all"&&B.append("modelo",r),o&&o!=="all"&&B.append("periodicidad",o);const te=`/api/calendario-aeat${B.toString()?`?${B.toString()}`:""}`,K=await fetch(te);if(!K.ok)throw new Error("Error al cargar calendarios");return K.json()}}),N=x||_,k=Bt({mutationFn:async B=>await jt("/api/calendario-aeat","POST",B),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/calendario-aeat"]}),l(!1),C(),e({title:"Calendario creado",description:"El perodo del calendario AEAT ha sido creado correctamente."})},onError:B=>{e({title:"Error",description:B.message||"No se pudo crear el calendario",variant:"destructive"})}}),O=Bt({mutationFn:async({id:B,data:te})=>await jt(`/api/calendario-aeat/${B}`,"PATCH",te),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/calendario-aeat"]}),l(!1),p(null),C(),e({title:"Calendario actualizado",description:"Las fechas del calendario han sido actualizadas correctamente."})},onError:B=>{e({title:"Error",description:B.message||"No se pudo actualizar el calendario",variant:"destructive"})}}),E=Bt({mutationFn:async B=>await jt(`/api/calendario-aeat/${B}`,"DELETE"),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/calendario-aeat"]}),u(!1),m(null),e({title:"Calendario eliminado",description:"El perodo del calendario ha sido eliminado correctamente."})},onError:B=>{e({title:"Error",description:B.message||"No se pudo eliminar el calendario",variant:"destructive"})}}),C=()=>{v({modelo:"",periodicidad:"MENSUAL",periodoContable:"",fechaInicio:"",fechaFin:""})},L=B=>{if(B.preventDefault(),!g.modelo||!g.periodoContable||!g.fechaInicio||!g.fechaFin){e({title:"Error",description:"Todos los campos son requeridos",variant:"destructive"});return}d?O.mutate({id:d.id,data:{fechaInicio:g.fechaInicio,fechaFin:g.fechaFin}}):k.mutate(g)},M=B=>{p(B),v({modelo:B.modelo,periodicidad:B.periodicidad,periodoContable:B.periodoContable,fechaInicio:B.fechaInicio.split("T")[0],fechaFin:B.fechaFin.split("T")[0]}),l(!0)},I=B=>{m(B),u(!0)},j=()=>{h&&E.mutate(h)},D=()=>{p(null),C(),l(!0)},q=()=>{l(!1),p(null),C()},z=new Date().getFullYear(),W=Array.from({length:11},(B,te)=>(z-5+te).toString()),F=B=>{const te=y.find(K=>K.modelo===B);return te?`${B} - ${te.nombre}`:B};return f.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[f.jsx(e0,{className:"h-8 w-8"}),"Calendario AEAT"]}),f.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestin de perodos fiscales y fechas lmite oficiales de la AEAT"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[f.jsxs(Nt,{className:"lg:col-span-1",children:[f.jsx(Vt,{children:f.jsxs(en,{className:"flex items-center gap-2",children:[f.jsx(RH,{className:"h-5 w-5"}),"Filtros"]})}),f.jsxs(At,{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"filter-year",children:"Ejercicio Fiscal"}),f.jsxs(Hr,{value:t,onValueChange:n,children:[f.jsx(Lr,{id:"filter-year","data-testid":"select-year",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"all",children:"Todos los aos"}),W.map(B=>f.jsx(kt,{value:B,children:B},B))]})]})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"filter-modelo",children:"Modelo"}),f.jsxs(Hr,{value:r,onValueChange:i,children:[f.jsx(Lr,{id:"filter-modelo","data-testid":"select-modelo",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"all",children:"Todos los modelos"}),y.filter(B=>B.activo).map(B=>f.jsxs(kt,{value:B.modelo,children:[B.modelo," - ",B.nombre]},B.id))]})]})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"filter-periodicidad",children:"Periodicidad"}),f.jsxs(Hr,{value:o,onValueChange:a,children:[f.jsx(Lr,{id:"filter-periodicidad","data-testid":"select-periodicidad",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"all",children:"Todas"}),f.jsx(kt,{value:"MENSUAL",children:"Mensual"}),f.jsx(kt,{value:"TRIMESTRAL",children:"Trimestral"}),f.jsx(kt,{value:"ANUAL",children:"Anual"})]})]})]}),f.jsx(Re,{variant:"outline",className:"w-full",onClick:()=>{n(z.toString()),i("all"),a("all")},"data-testid":"button-reset-filters",children:"Limpiar filtros"})]})]}),f.jsxs(Nt,{className:"lg:col-span-3",children:[f.jsx(Vt,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(en,{children:"Perodos del Calendario"}),f.jsxs(eo,{open:s,onOpenChange:l,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:D,"data-testid":"button-create-periodo",children:[f.jsx(Va,{className:"mr-2 h-4 w-4"}),"Nuevo Perodo"]})}),f.jsxs(Li,{className:"max-w-md",children:[f.jsx(to,{children:f.jsx(no,{children:d?"Editar Perodo":"Nuevo Perodo del Calendario"})}),f.jsxs("form",{onSubmit:L,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"modelo",children:"Modelo *"}),f.jsxs(Hr,{value:g.modelo,onValueChange:B=>v({...g,modelo:B}),disabled:!!d,children:[f.jsx(Lr,{id:"modelo","data-testid":"input-modelo",children:f.jsx(qr,{placeholder:"Seleccionar modelo"})}),f.jsx(Dr,{children:y.filter(B=>B.activo).map(B=>f.jsxs(kt,{value:B.modelo,children:[B.modelo," - ",B.nombre]},B.id))})]})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"periodicidad",children:"Periodicidad *"}),f.jsxs(Hr,{value:g.periodicidad,onValueChange:B=>v({...g,periodicidad:B}),disabled:!!d,children:[f.jsx(Lr,{id:"periodicidad","data-testid":"input-periodicidad",children:f.jsx(qr,{})}),f.jsxs(Dr,{children:[f.jsx(kt,{value:"MENSUAL",children:"Mensual"}),f.jsx(kt,{value:"TRIMESTRAL",children:"Trimestral"}),f.jsx(kt,{value:"ANUAL",children:"Anual"})]})]})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"periodoContable",children:"Perodo Contable *"}),f.jsx(dt,{id:"periodoContable","data-testid":"input-periodo-contable",value:g.periodoContable,onChange:B=>v({...g,periodoContable:B.target.value}),placeholder:"Ej: 2025-Q1, 2025-04, 2025",disabled:!!d}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Formato: YYYY-QN (trimestral), YYYY-MM (mensual), YYYY (anual)"})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"fechaInicio",children:"Fecha de Inicio *"}),f.jsx(dt,{id:"fechaInicio","data-testid":"input-fecha-inicio",type:"date",value:g.fechaInicio,onChange:B=>v({...g,fechaInicio:B.target.value})})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"fechaFin",children:"Fecha Lmite de Presentacin *"}),f.jsx(dt,{id:"fechaFin","data-testid":"input-fecha-fin",type:"date",value:g.fechaFin,onChange:B=>v({...g,fechaFin:B.target.value})})]}),f.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[f.jsx(Re,{type:"button",variant:"outline",onClick:q,"data-testid":"button-cancel",children:"Cancelar"}),f.jsx(Re,{type:"submit",disabled:k.isPending||O.isPending,"data-testid":"button-submit",children:d?"Actualizar":"Crear"})]})]})]})]})]})}),f.jsx(At,{children:N?f.jsx("div",{className:"space-y-4",children:[...Array(5)].map((B,te)=>f.jsx(pn,{className:"h-24"},te))}):w.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(mg,{className:"mx-auto h-12 w-12 text-muted-foreground"}),f.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No hay perodos"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No se encontraron perodos del calendario con los filtros seleccionados"})]}):f.jsx("div",{className:"space-y-4",children:w.map(B=>f.jsx(Nt,{"data-testid":`card-calendario-${B.id}`,children:f.jsx(At,{className:"p-4",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("h3",{className:"font-semibold text-lg",children:F(B.modelo)}),f.jsx(Kt,{className:`${SYe[B.periodicidad]} text-white`,"data-testid":`badge-periodicidad-${B.id}`,children:B.periodicidad})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Perodo"}),f.jsx("p",{className:"font-medium","data-testid":`text-periodo-${B.id}`,children:B.periodoContable})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Inicio"}),f.jsx("p",{className:"font-medium","data-testid":`text-inicio-${B.id}`,children:AM(new Date(B.fechaInicio),"dd/MM/yyyy",{locale:kM})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Lmite Presentacin"}),f.jsx("p",{className:"font-medium text-red-600","data-testid":`text-limite-${B.id}`,children:AM(new Date(B.fechaFin),"dd/MM/yyyy",{locale:kM})})]})]})]}),f.jsxs("div",{className:"flex gap-2 ml-4",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>M(B),"data-testid":`button-edit-${B.id}`,children:f.jsx(zse,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>I(B.id),"data-testid":`button-delete-${B.id}`,children:f.jsx(xl,{className:"h-4 w-4"})})]})]})})},B.id))})})]})]}),f.jsx(O3,{open:c,onOpenChange:u,children:f.jsxs(RE,{children:[f.jsxs(IE,{children:[f.jsx(DE,{children:"Eliminar perodo del calendario?"}),f.jsxs($E,{children:["Esta accin no se puede deshacer. El perodo ser eliminado permanentemente del calendario AEAT.",f.jsx("br",{}),f.jsx("br",{}),f.jsx("strong",{className:"text-yellow-600",children:"Advertencia:"})," Si existen declaraciones asociadas a este perodo, podran quedar hurfanas."]})]}),f.jsxs(LE,{children:[f.jsx(BE,{"data-testid":"button-cancel-delete",children:"Cancelar"}),f.jsx(FE,{onClick:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Eliminar"})]})]})})]})}const iz=[{key:"{nombre_cliente}",description:"Nombre del cliente"},{key:"{email_cliente}",description:"Email del cliente"},{key:"{fecha_vencimiento}",description:"Fecha de vencimiento"}];function EYe(){var W,F,B,te;const[e,t]=A.useState("plantillas"),{toast:n}=Ho(),[r,i]=A.useState(!1),[o,a]=A.useState(null),[s,l]=A.useState({nombre:"",asunto:"",contenidoHTML:""}),[c,u]=A.useState(""),[d,p]=A.useState("all"),[h,m]=A.useState(""),[g,v]=A.useState(!1),{data:y,isLoading:x}=tn({queryKey:["/api/notification-templates"]}),{data:w}=tn({queryKey:["/api/admin/smtp-accounts"]}),{data:_,isLoading:N}=tn({queryKey:["/api/notifications/history"],enabled:e==="historial"}),{data:k,isLoading:O}=tn({queryKey:["/api/notifications/scheduled"],enabled:e==="programadas"}),E=Bt({mutationFn:async K=>await jt("POST","/api/notification-templates",K),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),I(),n({title:"Plantilla creada",description:"La plantilla se ha creado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo crear la plantilla.",variant:"destructive"})}}),C=Bt({mutationFn:async({id:K,data:R})=>await jt("PATCH",`/api/notification-templates/${K}`,R),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),I(),n({title:"Plantilla actualizada",description:"La plantilla se ha actualizado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo actualizar la plantilla.",variant:"destructive"})}}),L=Bt({mutationFn:async K=>await jt("DELETE",`/api/notification-templates/${K}`),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/notification-templates"]}),n({title:"Plantilla eliminada",description:"La plantilla se ha eliminado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo eliminar la plantilla.",variant:"destructive"})}}),M=Bt({mutationFn:async K=>g?await jt("POST","/api/notifications/schedule",K):await jt("POST","/api/notifications/send",K),onSuccess:()=>{Ht.invalidateQueries({queryKey:["/api/notifications/history"]}),Ht.invalidateQueries({queryKey:["/api/notifications/scheduled"]}),u(""),p("all"),m(""),v(!1),n({title:g?"Notificacin programada":"Notificacin enviada",description:g?"La notificacin se ha programado correctamente.":"La notificacin se ha enviado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo enviar la notificacin.",variant:"destructive"})}}),I=()=>{l({nombre:"",asunto:"",contenidoHTML:""}),a(null)},j=()=>{if(!c)return;const K=y==null?void 0:y.find(R=>String(R.id)===c);K&&M.mutate({plantillaId:c,smtpAccountId:h||null,destinatarios:d,asunto:K.asunto,contenido:K.contenidoHTML})},D=K=>{a(K),l({nombre:K.nombre,asunto:K.asunto,contenidoHTML:K.contenidoHTML}),i(!0)},q=K=>{K.preventDefault(),o?C.mutate({id:o.id,data:s}):E.mutate(s)},z=K=>{const R=s.contenidoHTML+" "+K+" ";l({...s,contenidoHTML:R})};return f.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h1",{className:"text-3xl font-display font-bold",children:"Sistema de Notificaciones"})}),f.jsxs(Nb,{value:e,onValueChange:t,className:"space-y-4",children:[f.jsxs(_g,{children:[f.jsxs(ii,{value:"plantillas","data-testid":"tab-plantillas",children:[f.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Plantillas"]}),f.jsxs(ii,{value:"enviar","data-testid":"tab-enviar",children:[f.jsx(Wse,{className:"h-4 w-4 mr-2"}),"Enviar Notificacin"]}),f.jsxs(ii,{value:"historial","data-testid":"tab-historial",children:[f.jsx(MC,{className:"h-4 w-4 mr-2"}),"Historial"]}),f.jsxs(ii,{value:"programadas","data-testid":"tab-programadas",children:[f.jsx(DP,{className:"h-4 w-4 mr-2"}),"Programadas"]})]}),f.jsxs(ji,{value:"plantillas",className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-display font-semibold",children:"Plantillas de Notificacin"}),f.jsxs(eo,{open:r,onOpenChange:i,children:[f.jsx(Ba,{asChild:!0,children:f.jsxs(Re,{onClick:()=>I(),"data-testid":"button-add-template",children:[f.jsx(Va,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),f.jsxs(Li,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[f.jsxs(to,{children:[f.jsxs(no,{children:[o?"Editar":"Nueva"," Plantilla"]}),f.jsx(yo,{children:"Crea plantillas de notificacin reutilizables con variables dinmicas"})]}),f.jsxs("form",{onSubmit:q,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"template-nombre",children:"Nombre de la Plantilla *"}),f.jsx(dt,{id:"template-nombre",value:s.nombre,onChange:K=>l({...s,nombre:K.target.value}),placeholder:"Ej: Recordatorio de vencimiento",required:!0,"data-testid":"input-template-nombre"})]}),f.jsxs("div",{children:[f.jsx(Fe,{htmlFor:"template-asunto",children:"Asunto del Email *"}),f.jsx(dt,{id:"template-asunto",value:s.asunto,onChange:K=>l({...s,asunto:K.target.value}),placeholder:"Ej: Recordatorio: Vencimiento prximo",required:!0,"data-testid":"input-template-asunto"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{children:"Variables Disponibles"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:iz.map(K=>f.jsxs(Re,{type:"button",variant:"outline",size:"sm",onClick:()=>z(K.key),"data-testid":`button-variable-${K.key}`,children:[f.jsx(Sse,{className:"h-3 w-3 mr-1"}),K.key]},K.key))}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Haz clic en una variable para insertarla en el contenido"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"template-contenido",children:"Contenido HTML *"}),f.jsx(Xte,{content:s.contenidoHTML,onChange:K=>l({...s,contenidoHTML:K})})]}),f.jsx(ca,{children:f.jsxs(Re,{type:"submit","data-testid":"button-submit-template",children:[o?"Actualizar":"Crear"," Plantilla"]})})]})]})]})]}),f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Plantillas Creadas"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus plantillas de notificacin reutilizables"})]}),f.jsx(At,{children:x?f.jsxs("div",{className:"space-y-2",children:[f.jsx(pn,{className:"h-12 w-full"}),f.jsx(pn,{className:"h-12 w-full"})]}):y&&y.length>0?f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Nombre"}),f.jsx(bt,{children:"Asunto"}),f.jsx(bt,{children:"Tipo"}),f.jsx(bt,{children:"Variables Usadas"}),f.jsx(bt,{children:"Acciones"})]})}),f.jsx(Ms,{children:y.map(K=>{const R=iz.filter(U=>K.contenidoHTML.includes(U.key));return f.jsxs(Pn,{children:[f.jsx(ot,{className:"font-medium","data-testid":`text-template-nombre-${K.id}`,children:K.nombre}),f.jsx(ot,{"data-testid":`text-template-asunto-${K.id}`,children:K.asunto}),f.jsx(ot,{"data-testid":`text-template-tipo-${K.id}`,children:f.jsx(Kt,{variant:K.tipo==="RECORDATORIO"?"default":K.tipo==="URGENTE"?"destructive":"secondary",className:"text-xs",children:K.tipo})}),f.jsx(ot,{"data-testid":`text-template-variables-${K.id}`,children:f.jsx("div",{className:"flex flex-wrap gap-1",children:R.length>0?R.map(U=>f.jsx(Kt,{variant:"secondary",className:"text-xs","data-testid":`badge-variable-${U.key.replace(/[{}]/g,"")}-${K.id}`,children:U.key},U.key)):f.jsx("span",{className:"text-sm text-muted-foreground",children:"Sin variables"})})}),f.jsx(ot,{children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>D(K),"data-testid":`button-edit-template-${K.id}`,children:f.jsx(ed,{className:"h-4 w-4"})}),f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>L.mutate(K.id),"data-testid":`button-delete-template-${K.id}`,children:f.jsx(xl,{className:"h-4 w-4"})})]})})]},K.id)})})]}):f.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay plantillas creadas. Crea una para empezar."})})]})]}),f.jsx(ji,{value:"enviar",className:"space-y-4",children:f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Enviar Notificacin"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Enva notificaciones inmediatas o programadas a tus clientes."})]}),f.jsx(At,{className:"space-y-6",children:f.jsxs("div",{className:"grid gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"template-select","data-testid":"label-template-select",children:"Plantilla"}),f.jsxs("select",{id:"template-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-template",value:c,onChange:K=>u(K.target.value),children:[f.jsx("option",{value:"",children:"Selecciona una plantilla"}),y==null?void 0:y.map(K=>f.jsx("option",{value:K.id,"data-testid":`option-template-${K.id}`,children:K.nombre},K.id))]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{"data-testid":"label-recipients",children:"Destinatarios"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"radio",id:"all-clients",name:"recipients",value:"all",checked:d==="all",onChange:K=>p(K.target.value),"data-testid":"radio-recipients-all"}),f.jsx(Fe,{htmlFor:"all-clients",className:"font-normal cursor-pointer",children:"Todos los clientes activos"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"radio",id:"autonomos",name:"recipients",value:"AUTONOMO",checked:d==="AUTONOMO",onChange:K=>p(K.target.value),"data-testid":"radio-recipients-autonomo"}),f.jsx(Fe,{htmlFor:"autonomos",className:"font-normal cursor-pointer",children:"Solo autnomos"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"radio",id:"empresas",name:"recipients",value:"EMPRESA",checked:d==="EMPRESA",onChange:K=>p(K.target.value),"data-testid":"radio-recipients-empresa"}),f.jsx(Fe,{htmlFor:"empresas",className:"font-normal cursor-pointer",children:"Solo empresas"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{htmlFor:"smtp-select","data-testid":"label-smtp-select",children:"Cuenta SMTP"}),f.jsxs("select",{id:"smtp-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-smtp",value:h,onChange:K=>m(K.target.value),children:[f.jsx("option",{value:"",children:"Usar cuenta predeterminada"}),w==null?void 0:w.map(K=>f.jsxs("option",{value:K.id,"data-testid":`option-smtp-${K.id}`,children:[K.nombre," ",K.isPredeterminada?"(Predeterminada)":""]},K.id))]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Fe,{"data-testid":"label-preview",children:"Vista Previa"}),f.jsx("div",{className:"border rounded-md p-4 bg-muted/50 min-h-[200px]","data-testid":"div-preview",children:c?f.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:f.jsx("div",{dangerouslySetInnerHTML:{__html:((te=(B=(F=(W=y==null?void 0:y.find(K=>String(K.id)===c))==null?void 0:W.contenidoHTML)==null?void 0:F.replace(/{nombre_cliente}/g,'<strong class="text-primary">Cliente Ejemplo</strong>'))==null?void 0:B.replace(/{email_cliente}/g,'<strong class="text-primary">ejemplo@email.com</strong>'))==null?void 0:te.replace(/{fecha_vencimiento}/g,'<strong class="text-primary">31/12/2025</strong>'))||'<p class="text-sm text-muted-foreground">No se encontr la plantilla</p>'}})}):f.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona una plantilla para ver la vista previa"})})]}),f.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"schedule-send","data-testid":"checkbox-schedule",checked:g,onChange:K=>v(K.target.checked)}),f.jsx(Fe,{htmlFor:"schedule-send",className:"font-normal cursor-pointer",children:"Programar envo"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs(Re,{variant:"default","data-testid":"button-send-notification",disabled:!c||M.isPending,onClick:j,children:[f.jsx(DH,{className:"h-4 w-4 mr-2"}),M.isPending?"Enviando...":g?"Programar Envo":"Enviar Ahora"]}),f.jsx(Re,{variant:"outline","data-testid":"button-cancel-send",onClick:()=>{u(""),p("all"),m(""),v(!1)},children:"Cancelar"})]})]})]})})]})}),f.jsx(ji,{value:"historial",className:"space-y-4",children:f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Historial de Notificaciones"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Consulta todas las notificaciones enviadas y su estado."})]}),f.jsxs(At,{children:[f.jsxs("div",{className:"flex gap-3 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsx(dt,{placeholder:"Buscar por destinatario...","data-testid":"input-search-history"})}),f.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2","data-testid":"select-status-filter",children:[f.jsx("option",{value:"",children:"Todos los estados"}),f.jsx("option",{value:"ENVIADO",children:"Enviado"}),f.jsx("option",{value:"ERROR",children:"Error"}),f.jsx("option",{value:"PENDIENTE",children:"Pendiente"})]})]}),f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Fecha"}),f.jsx(bt,{children:"Plantilla"}),f.jsx(bt,{children:"Destinatario"}),f.jsx(bt,{children:"Estado"}),f.jsx(bt,{children:"Cuenta SMTP"})]})}),f.jsx(Ms,{children:N?f.jsx(Pn,{children:f.jsx(ot,{colSpan:5,className:"text-center py-8",children:f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):(_==null?void 0:_.length)>0?_.map(K=>{var R,U;return f.jsxs(Pn,{"data-testid":`row-history-${K.id}`,children:[f.jsx(ot,{"data-testid":`text-history-date-${K.id}`,children:new Date(K.fechaEnvio).toLocaleDateString("es-ES")}),f.jsx(ot,{"data-testid":`text-history-template-${K.id}`,children:((R=K.template)==null?void 0:R.nombre)||"N/A"}),f.jsx(ot,{"data-testid":`text-history-recipients-${K.id}`,children:K.destinatarios==="all"?"Todos":K.destinatarios}),f.jsx(ot,{"data-testid":`text-history-status-${K.id}`,children:f.jsx(Kt,{variant:K.estado==="ENVIADO"?"default":"destructive",children:K.estado})}),f.jsx(ot,{"data-testid":`text-history-smtp-${K.id}`,children:((U=K.smtpAccount)==null?void 0:U.nombre)||"Predeterminada"})]},K.id)}):f.jsx(Pn,{children:f.jsx(ot,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-history",children:"No hay notificaciones en el historial"})})})]})]})]})}),f.jsx(ji,{value:"programadas",className:"space-y-4",children:f.jsxs(Nt,{children:[f.jsxs(Vt,{children:[f.jsx(en,{children:"Notificaciones Programadas"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona y consulta las notificaciones que estn programadas para envo futuro."})]}),f.jsx(At,{children:f.jsxs(Ts,{children:[f.jsx(Os,{children:f.jsxs(Pn,{children:[f.jsx(bt,{children:"Fecha Programada"}),f.jsx(bt,{children:"Plantilla"}),f.jsx(bt,{children:"Destinatarios"}),f.jsx(bt,{children:"Estado"}),f.jsx(bt,{children:"Acciones"})]})}),f.jsx(Ms,{children:O?f.jsx(Pn,{children:f.jsx(ot,{colSpan:5,className:"text-center py-8",children:f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):(k==null?void 0:k.length)>0?k.map(K=>{var R;return f.jsxs(Pn,{"data-testid":`row-scheduled-${K.id}`,children:[f.jsx(ot,{"data-testid":`text-scheduled-date-${K.id}`,children:new Date(K.fechaProgramada).toLocaleDateString("es-ES")}),f.jsx(ot,{"data-testid":`text-scheduled-template-${K.id}`,children:((R=K.template)==null?void 0:R.nombre)||"N/A"}),f.jsx(ot,{"data-testid":`text-scheduled-recipients-${K.id}`,children:K.destinatariosSeleccionados==="all"?"Todos":K.destinatariosSeleccionados}),f.jsx(ot,{"data-testid":`text-scheduled-status-${K.id}`,children:f.jsx(Kt,{variant:"secondary",children:K.estado})}),f.jsx(ot,{"data-testid":`div-scheduled-actions-${K.id}`,children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Re,{size:"sm",variant:"outline","data-testid":`button-edit-scheduled-${K.id}`,children:f.jsx(ed,{className:"h-3 w-3"})}),f.jsx(Re,{size:"sm",variant:"outline","data-testid":`button-cancel-scheduled-${K.id}`,children:f.jsx(xl,{className:"h-3 w-3"})})]})})]},K.id)}):f.jsx(Pn,{children:f.jsx(ot,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-scheduled",children:"No hay notificaciones programadas"})})})]})})]})})]})]})}function NYe(){const{connected:e,onlineUsers:t}=Xq();return f.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:e?f.jsxs(f.Fragment,{children:[f.jsx(Jse,{className:"h-4 w-4 text-green-500"}),f.jsxs("span",{className:"hidden sm:inline",children:["Conectado (",t,")"]})]}):f.jsxs(f.Fragment,{children:[f.jsx(Zse,{className:"h-4 w-4 text-red-500"}),f.jsx("span",{className:"hidden sm:inline",children:"Desconectado"})]})})}function AYe(){return f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function kYe(){const{user:e,isLoading:t}=bg();if(t)return f.jsx(AYe,{});if(!e)return f.jsxs(FI,{children:[f.jsx(Ci,{path:"/",component:DL}),f.jsx(Ci,{path:"/:rest*",children:f.jsx(BI,{to:"/"})})]});const n={"--sidebar-width":"20rem","--sidebar-width-icon":"4rem"};return f.jsx(wfe,{style:n,children:f.jsxs("div",{className:"flex h-screen w-full",children:[f.jsx(Bfe,{}),f.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[f.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[f.jsx(_fe,{"data-testid":"button-sidebar-toggle"}),f.jsx("div",{className:"flex-1 max-w-xl mx-4",children:f.jsx(mhe,{})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(ghe,{}),f.jsx(NYe,{}),f.jsx(zfe,{})]})]}),f.jsx("main",{className:"flex-1 overflow-auto",children:f.jsxs(FI,{children:[f.jsx(Ci,{path:"/",component:lIe}),f.jsx(Ci,{path:"/auth",component:DL}),f.jsx(Ci,{path:"/clientes",component:tLe}),f.jsx(Ci,{path:"/impuestos",component:mLe}),f.jsx(Ci,{path:"/control-impuestos",component:wYe}),f.jsx(Ci,{path:"/calendario-aeat",component:_Ye}),f.jsx(Ci,{path:"/tareas",component:gLe}),f.jsx(Ci,{path:"/manuales",component:vLe}),f.jsx(Ci,{path:"/manuales/nuevo",component:Q7}),f.jsx(Ci,{path:"/manuales/:id/editar",component:Q7}),f.jsx(Ci,{path:"/manuales/:id",component:I8e}),f.jsx(Ci,{path:"/notificaciones",component:EYe}),f.jsx(Ci,{path:"/admin",children:(e==null?void 0:e.roleName)==="Administrador"?f.jsx(IKe,{}):f.jsx(BI,{to:"/"})}),f.jsx(Ci,{path:"/auditoria",component:xYe}),f.jsx(Ci,{component:yhe})]})})]})]})})}function CYe(){return f.jsx(oae,{client:Ht,children:f.jsxs(Mq,{children:[f.jsx(cue,{defaultTheme:"light",children:f.jsx(due,{children:f.jsx(ode,{children:f.jsx(kYe,{})})})}),f.jsx(Ile,{})]})})}TU(document.getElementById("root")).render(f.jsx(CYe,{}));export{jn as _,qv as c,wn as g};
