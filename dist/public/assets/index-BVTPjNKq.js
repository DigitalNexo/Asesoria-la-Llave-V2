function fae(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KE={exports:{}},My={},GE={exports:{}},ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F3;function hae(){if(F3)return ar;F3=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(Q){return Q===null||typeof Q!="object"?null:(Q=f&&Q[f]||Q["@@iterator"],typeof Q=="function"?Q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function y(Q,I,G){this.props=Q,this.context=I,this.refs=v,this.updater=G||p}y.prototype.isReactComponent={},y.prototype.setState=function(Q,I){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,I,"setState")},y.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function w(){}w.prototype=y.prototype;function _(Q,I,G){this.props=Q,this.context=I,this.refs=v,this.updater=G||p}var E=_.prototype=new w;E.constructor=_,b(E,y.prototype),E.isPureReactComponent=!0;var A=Array.isArray,k=Object.prototype.hasOwnProperty,P={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(Q,I,G){var ne,ie={},he=null,J=null;if(I!=null)for(ne in I.ref!==void 0&&(J=I.ref),I.key!==void 0&&(he=""+I.key),I)k.call(I,ne)&&!R.hasOwnProperty(ne)&&(ie[ne]=I[ne]);var ue=arguments.length-2;if(ue===1)ie.children=G;else if(1<ue){for(var ae=Array(ue),X=0;X<ue;X++)ae[X]=arguments[X+2];ie.children=ae}if(Q&&Q.defaultProps)for(ne in ue=Q.defaultProps,ue)ie[ne]===void 0&&(ie[ne]=ue[ne]);return{$$typeof:t,type:Q,key:he,ref:J,props:ie,_owner:P.current}}function M(Q,I){return{$$typeof:t,type:Q.type,key:I,ref:Q.ref,props:Q.props,_owner:Q._owner}}function B(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function O(Q){var I={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(G){return I[G]})}var F=/\/+/g;function q(Q,I){return typeof Q=="object"&&Q!==null&&Q.key!=null?O(""+Q.key):I.toString(36)}function z(Q,I,G,ne,ie){var he=typeof Q;(he==="undefined"||he==="boolean")&&(Q=null);var J=!1;if(Q===null)J=!0;else switch(he){case"string":case"number":J=!0;break;case"object":switch(Q.$$typeof){case t:case e:J=!0}}if(J)return J=Q,ie=ie(J),Q=ne===""?"."+q(J,0):ne,A(ie)?(G="",Q!=null&&(G=Q.replace(F,"$&/")+"/"),z(ie,I,G,"",function(X){return X})):ie!=null&&(B(ie)&&(ie=M(ie,G+(!ie.key||J&&J.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+Q)),I.push(ie)),1;if(J=0,ne=ne===""?".":ne+":",A(Q))for(var ue=0;ue<Q.length;ue++){he=Q[ue];var ae=ne+q(he,ue);J+=z(he,I,G,ae,ie)}else if(ae=m(Q),typeof ae=="function")for(Q=ae.call(Q),ue=0;!(he=Q.next()).done;)he=he.value,ae=ne+q(he,ue++),J+=z(he,I,G,ae,ie);else if(he==="object")throw I=String(Q),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return J}function K(Q,I,G){if(Q==null)return Q;var ne=[],ie=0;return z(Q,ne,"","",function(he){return I.call(G,he,ie++)}),ne}function Z(Q){if(Q._status===-1){var I=Q._result;I=I(),I.then(function(G){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=G)},function(G){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=G)}),Q._status===-1&&(Q._status=0,Q._result=I)}if(Q._status===1)return Q._result.default;throw Q._result}var H={current:null},W={transition:null},Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:W,ReactCurrentOwner:P};function ge(){throw Error("act(...) is not supported in production builds of React.")}return ar.Children={map:K,forEach:function(Q,I,G){K(Q,function(){I.apply(this,arguments)},G)},count:function(Q){var I=0;return K(Q,function(){I++}),I},toArray:function(Q){return K(Q,function(I){return I})||[]},only:function(Q){if(!B(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},ar.Component=y,ar.Fragment=n,ar.Profiler=i,ar.PureComponent=_,ar.StrictMode=r,ar.Suspense=c,ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ar.act=ge,ar.cloneElement=function(Q,I,G){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var ne=b({},Q.props),ie=Q.key,he=Q.ref,J=Q._owner;if(I!=null){if(I.ref!==void 0&&(he=I.ref,J=P.current),I.key!==void 0&&(ie=""+I.key),Q.type&&Q.type.defaultProps)var ue=Q.type.defaultProps;for(ae in I)k.call(I,ae)&&!R.hasOwnProperty(ae)&&(ne[ae]=I[ae]===void 0&&ue!==void 0?ue[ae]:I[ae])}var ae=arguments.length-2;if(ae===1)ne.children=G;else if(1<ae){ue=Array(ae);for(var X=0;X<ae;X++)ue[X]=arguments[X+2];ne.children=ue}return{$$typeof:t,type:Q.type,key:ie,ref:he,props:ne,_owner:J}},ar.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:s,_context:Q},Q.Consumer=Q},ar.createElement=T,ar.createFactory=function(Q){var I=T.bind(null,Q);return I.type=Q,I},ar.createRef=function(){return{current:null}},ar.forwardRef=function(Q){return{$$typeof:o,render:Q}},ar.isValidElement=B,ar.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:Z}},ar.memo=function(Q,I){return{$$typeof:u,type:Q,compare:I===void 0?null:I}},ar.startTransition=function(Q){var I=W.transition;W.transition={};try{Q()}finally{W.transition=I}},ar.unstable_act=ge,ar.useCallback=function(Q,I){return H.current.useCallback(Q,I)},ar.useContext=function(Q){return H.current.useContext(Q)},ar.useDebugValue=function(){},ar.useDeferredValue=function(Q){return H.current.useDeferredValue(Q)},ar.useEffect=function(Q,I){return H.current.useEffect(Q,I)},ar.useId=function(){return H.current.useId()},ar.useImperativeHandle=function(Q,I,G){return H.current.useImperativeHandle(Q,I,G)},ar.useInsertionEffect=function(Q,I){return H.current.useInsertionEffect(Q,I)},ar.useLayoutEffect=function(Q,I){return H.current.useLayoutEffect(Q,I)},ar.useMemo=function(Q,I){return H.current.useMemo(Q,I)},ar.useReducer=function(Q,I,G){return H.current.useReducer(Q,I,G)},ar.useRef=function(Q){return H.current.useRef(Q)},ar.useState=function(Q){return H.current.useState(Q)},ar.useSyncExternalStore=function(Q,I,G){return H.current.useSyncExternalStore(Q,I,G)},ar.useTransition=function(){return H.current.useTransition()},ar.version="18.3.1",ar}var B3;function K0(){return B3||(B3=1,GE.exports=hae()),GE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3;function pae(){if($3)return My;$3=1;var t=K0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,u){var d,f={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(f[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:o,key:m,ref:p,props:f,_owner:i.current}}return My.Fragment=n,My.jsx=a,My.jsxs=a,My}var z3;function mae(){return z3||(z3=1,KE.exports=pae()),KE.exports}var l=mae(),g1={},YE={exports:{}},Ro={},XE={exports:{}},ZE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3;function gae(){return q3||(q3=1,(function(t){function e(W,Y){var ge=W.length;W.push(Y);e:for(;0<ge;){var Q=ge-1>>>1,I=W[Q];if(0<i(I,Y))W[Q]=Y,W[ge]=I,ge=Q;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],ge=W.pop();if(ge!==Y){W[0]=ge;e:for(var Q=0,I=W.length,G=I>>>1;Q<G;){var ne=2*(Q+1)-1,ie=W[ne],he=ne+1,J=W[he];if(0>i(ie,ge))he<I&&0>i(J,ie)?(W[Q]=J,W[he]=ge,Q=he):(W[Q]=ie,W[ne]=ge,Q=ne);else if(he<I&&0>i(J,ge))W[Q]=J,W[he]=ge,Q=he;else break e}}return Y}function i(W,Y){var ge=W.sortIndex-Y.sortIndex;return ge!==0?ge:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,m=3,p=!1,b=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=W)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function A(W){if(v=!1,E(W),!b)if(n(c)!==null)b=!0,Z(k);else{var Y=n(u);Y!==null&&H(A,Y.startTime-W)}}function k(W,Y){b=!1,v&&(v=!1,w(T),T=-1),p=!0;var ge=m;try{for(E(Y),f=n(c);f!==null&&(!(f.expirationTime>Y)||W&&!O());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var I=Q(f.expirationTime<=Y);Y=t.unstable_now(),typeof I=="function"?f.callback=I:f===n(c)&&r(c),E(Y)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var ne=n(u);ne!==null&&H(A,ne.startTime-Y),G=!1}return G}finally{f=null,m=ge,p=!1}}var P=!1,R=null,T=-1,M=5,B=-1;function O(){return!(t.unstable_now()-B<M)}function F(){if(R!==null){var W=t.unstable_now();B=W;var Y=!0;try{Y=R(!0,W)}finally{Y?q():(P=!1,R=null)}}else P=!1}var q;if(typeof _=="function")q=function(){_(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=F,q=function(){K.postMessage(null)}}else q=function(){y(F,0)};function Z(W){R=W,P||(P=!0,q())}function H(W,Y){T=y(function(){W(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,Z(k))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var ge=m;m=Y;try{return W()}finally{m=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=m;m=W;try{return Y()}finally{m=ge}},t.unstable_scheduleCallback=function(W,Y,ge){var Q=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Q+ge:Q):ge=Q,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ge+I,W={id:d++,callback:Y,priorityLevel:W,startTime:ge,expirationTime:I,sortIndex:-1},ge>Q?(W.sortIndex=ge,e(u,W),n(c)===null&&W===n(u)&&(v?(w(T),T=-1):v=!0,H(A,ge-Q))):(W.sortIndex=I,e(c,W),b||p||(b=!0,Z(k))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var Y=m;return function(){var ge=m;m=Y;try{return W.apply(this,arguments)}finally{m=ge}}}})(ZE)),ZE}var U3;function vae(){return U3||(U3=1,XE.exports=gae()),XE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H3;function yae(){if(H3)return Ro;H3=1;var t=K0(),e=vae();function n(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,x=1;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(h,g){a(h,g),a(h+"Capture",g)}function a(h,g){for(i[h]=g,h=0;h<g.length;h++)r.add(g[h])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function p(h,g,x,C){if(x!==null&&x.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return C?!1:x!==null?!x.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function b(h,g,x,C){if(g===null||typeof g>"u"||p(h,g,x,C))return!0;if(C)return!1;if(x!==null)switch(x.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v(h,g,x,C,L,U,re){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=C,this.attributeNamespace=L,this.mustUseProperty=x,this.propertyName=h,this.type=g,this.sanitizeURL=U,this.removeEmptyString=re}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){y[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];y[g]=new v(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){y[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){y[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){y[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){y[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){y[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){y[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){y[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function _(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(w,_);y[g]=new v(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(w,_);y[g]=new v(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(w,_);y[g]=new v(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){y[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){y[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function E(h,g,x,C){var L=y.hasOwnProperty(g)?y[g]:null;(L!==null?L.type!==0:C||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(b(g,x,L,C)&&(x=null),C||L===null?m(g)&&(x===null?h.removeAttribute(g):h.setAttribute(g,""+x)):L.mustUseProperty?h[L.propertyName]=x===null?L.type===3?!1:"":x:(g=L.attributeName,C=L.attributeNamespace,x===null?h.removeAttribute(g):(L=L.type,x=L===3||L===4&&x===!0?"":""+x,C?h.setAttributeNS(C,g,x):h.setAttribute(g,x))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),P=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),W=Symbol.iterator;function Y(h){return h===null||typeof h!="object"?null:(h=W&&h[W]||h["@@iterator"],typeof h=="function"?h:null)}var ge=Object.assign,Q;function I(h){if(Q===void 0)try{throw Error()}catch(x){var g=x.stack.trim().match(/\n( *(at )?)/);Q=g&&g[1]||""}return`
`+Q+h}var G=!1;function ne(h,g){if(!h||G)return"";G=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ve){var C=Ve}Reflect.construct(h,[],g)}else{try{g.call()}catch(Ve){C=Ve}h.call(g.prototype)}else{try{throw Error()}catch(Ve){C=Ve}h()}}catch(Ve){if(Ve&&C&&typeof Ve.stack=="string"){for(var L=Ve.stack.split(`
`),U=C.stack.split(`
`),re=L.length-1,Ne=U.length-1;1<=re&&0<=Ne&&L[re]!==U[Ne];)Ne--;for(;1<=re&&0<=Ne;re--,Ne--)if(L[re]!==U[Ne]){if(re!==1||Ne!==1)do if(re--,Ne--,0>Ne||L[re]!==U[Ne]){var je=`
`+L[re].replace(" at new "," at ");return h.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",h.displayName)),je}while(1<=re&&0<=Ne);break}}}finally{G=!1,Error.prepareStackTrace=x}return(h=h?h.displayName||h.name:"")?I(h):""}function ie(h){switch(h.tag){case 5:return I(h.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return h=ne(h.type,!1),h;case 11:return h=ne(h.type.render,!1),h;case 1:return h=ne(h.type,!0),h;default:return""}}function he(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case R:return"Fragment";case P:return"Portal";case M:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case z:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case O:return(h.displayName||"Context")+".Consumer";case B:return(h._context.displayName||"Context")+".Provider";case F:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case K:return g=h.displayName||null,g!==null?g:he(h.type)||"Memo";case Z:g=h._payload,h=h._init;try{return he(h(g))}catch{}}return null}function J(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(g);case 8:return g===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function ue(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ae(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function X(h){var g=ae(h)?"checked":"value",x=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),C=""+h[g];if(!h.hasOwnProperty(g)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,U=x.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return L.call(this)},set:function(re){C=""+re,U.call(this,re)}}),Object.defineProperty(h,g,{enumerable:x.enumerable}),{getValue:function(){return C},setValue:function(re){C=""+re},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function pe(h){h._valueTracker||(h._valueTracker=X(h))}function xe(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var x=g.getValue(),C="";return h&&(C=ae(h)?h.checked?"true":"false":h.value),h=C,h!==x?(g.setValue(h),!0):!1}function De(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Ee(h,g){var x=g.checked;return ge({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??h._wrapperState.initialChecked})}function de(h,g){var x=g.defaultValue==null?"":g.defaultValue,C=g.checked!=null?g.checked:g.defaultChecked;x=ue(g.value!=null?g.value:x),h._wrapperState={initialChecked:C,initialValue:x,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Ge(h,g){g=g.checked,g!=null&&E(h,"checked",g,!1)}function Nt(h,g){Ge(h,g);var x=ue(g.value),C=g.type;if(x!=null)C==="number"?(x===0&&h.value===""||h.value!=x)&&(h.value=""+x):h.value!==""+x&&(h.value=""+x);else if(C==="submit"||C==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?Ye(h,g.type,x):g.hasOwnProperty("defaultValue")&&Ye(h,g.type,ue(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function it(h,g,x){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var C=g.type;if(!(C!=="submit"&&C!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,x||g===h.value||(h.value=g),h.defaultValue=g}x=h.name,x!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,x!==""&&(h.name=x)}function Ye(h,g,x){(g!=="number"||De(h.ownerDocument)!==h)&&(x==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+x&&(h.defaultValue=""+x))}var me=Array.isArray;function Se(h,g,x,C){if(h=h.options,g){g={};for(var L=0;L<x.length;L++)g["$"+x[L]]=!0;for(x=0;x<h.length;x++)L=g.hasOwnProperty("$"+h[x].value),h[x].selected!==L&&(h[x].selected=L),L&&C&&(h[x].defaultSelected=!0)}else{for(x=""+ue(x),g=null,L=0;L<h.length;L++){if(h[L].value===x){h[L].selected=!0,C&&(h[L].defaultSelected=!0);return}g!==null||h[L].disabled||(g=h[L])}g!==null&&(g.selected=!0)}}function Te(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return ge({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Ue(h,g){var x=g.value;if(x==null){if(x=g.children,g=g.defaultValue,x!=null){if(g!=null)throw Error(n(92));if(me(x)){if(1<x.length)throw Error(n(93));x=x[0]}g=x}g==null&&(g=""),x=g}h._wrapperState={initialValue:ue(x)}}function He(h,g){var x=ue(g.value),C=ue(g.defaultValue);x!=null&&(x=""+x,x!==h.value&&(h.value=x),g.defaultValue==null&&h.defaultValue!==x&&(h.defaultValue=x)),C!=null&&(h.defaultValue=""+C)}function qe(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function Qe(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?Qe(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var gt,At=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,x,C,L){MSApp.execUnsafeLocalFunction(function(){return h(g,x,C,L)})}:h})(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(gt=gt||document.createElement("div"),gt.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=gt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function Wt(h,g){if(g){var x=h.firstChild;if(x&&x===h.lastChild&&x.nodeType===3){x.nodeValue=g;return}}h.textContent=g}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(_t).forEach(function(h){An.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),_t[g]=_t[h]})});function _n(h,g,x){return g==null||typeof g=="boolean"||g===""?"":x||typeof g!="number"||g===0||_t.hasOwnProperty(h)&&_t[h]?(""+g).trim():g+"px"}function Ft(h,g){h=h.style;for(var x in g)if(g.hasOwnProperty(x)){var C=x.indexOf("--")===0,L=_n(x,g[x],C);x==="float"&&(x="cssFloat"),C?h.setProperty(x,L):h[x]=L}}var vn=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(h,g){if(g){if(vn[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function sn(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=null;function xn(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var _r=null,Er=null,pn=null;function zt(h){if(h=Pf(h)){if(typeof _r!="function")throw Error(n(280));var g=h.stateNode;g&&(g=up(g),_r(h.stateNode,h.type,g))}}function we(h){Er?pn?pn.push(h):pn=[h]:Er=h}function We(){if(Er){var h=Er,g=pn;if(pn=Er=null,zt(h),g)for(h=0;h<g.length;h++)zt(g[h])}}function lt(h,g){return h(g)}function Tt(){}var Tn=!1;function le(h,g,x){if(Tn)return h(g,x);Tn=!0;try{return lt(h,g,x)}finally{Tn=!1,(Er!==null||pn!==null)&&(Tt(),We())}}function Le(h,g){var x=h.stateNode;if(x===null)return null;var C=up(x);if(C===null)return null;x=C[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(h=h.type,C=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!C;break e;default:h=!1}if(h)return null;if(x&&typeof x!="function")throw Error(n(231,g,typeof x));return x}var ot=!1;if(o)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){ot=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{ot=!1}function qn(h,g,x,C,L,U,re,Ne,je){var Ve=Array.prototype.slice.call(arguments,3);try{g.apply(x,Ve)}catch(mt){this.onError(mt)}}var mn=!1,dr=null,nr=!1,$r=null,ci={onError:function(h){mn=!0,dr=h}};function Li(h,g,x,C,L,U,re,Ne,je){mn=!1,dr=null,qn.apply(ci,arguments)}function Ja(h,g,x,C,L,U,re,Ne,je){if(Li.apply(this,arguments),mn){if(mn){var Ve=dr;mn=!1,dr=null}else throw Error(n(198));nr||(nr=!0,$r=Ve)}}function Ai(h){var g=h,x=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(x=g.return),h=g.return;while(h)}return g.tag===3?x:null}function Ds(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function Xs(h){if(Ai(h)!==h)throw Error(n(188))}function xo(h){var g=h.alternate;if(!g){if(g=Ai(h),g===null)throw Error(n(188));return g!==h?null:h}for(var x=h,C=g;;){var L=x.return;if(L===null)break;var U=L.alternate;if(U===null){if(C=L.return,C!==null){x=C;continue}break}if(L.child===U.child){for(U=L.child;U;){if(U===x)return Xs(L),h;if(U===C)return Xs(L),g;U=U.sibling}throw Error(n(188))}if(x.return!==C.return)x=L,C=U;else{for(var re=!1,Ne=L.child;Ne;){if(Ne===x){re=!0,x=L,C=U;break}if(Ne===C){re=!0,C=L,x=U;break}Ne=Ne.sibling}if(!re){for(Ne=U.child;Ne;){if(Ne===x){re=!0,x=U,C=L;break}if(Ne===C){re=!0,C=U,x=L;break}Ne=Ne.sibling}if(!re)throw Error(n(189))}}if(x.alternate!==C)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?h:g}function eo(h){return h=xo(h),h!==null?kl(h):null}function kl(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=kl(h);if(g!==null)return g;h=h.sibling}return null}var dc=e.unstable_scheduleCallback,Zs=e.unstable_cancelCallback,fc=e.unstable_shouldYield,mf=e.unstable_requestPaint,zr=e.unstable_now,gf=e.unstable_getCurrentPriorityLevel,lu=e.unstable_ImmediatePriority,xs=e.unstable_UserBlockingPriority,jl=e.unstable_NormalPriority,yt=e.unstable_LowPriority,nn=e.unstable_IdlePriority,Un=null,Qn=null;function ui(h){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Un,h,void 0,(h.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:ws,wo=Math.log,ei=Math.LN2;function ws(h){return h>>>=0,h===0?32:31-(wo(h)/ei|0)|0}var Ss=64,ga=4194304;function ja(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ls(h,g){var x=h.pendingLanes;if(x===0)return 0;var C=0,L=h.suspendedLanes,U=h.pingedLanes,re=x&268435455;if(re!==0){var Ne=re&~L;Ne!==0?C=ja(Ne):(U&=re,U!==0&&(C=ja(U)))}else re=x&~L,re!==0?C=ja(re):U!==0&&(C=ja(U));if(C===0)return 0;if(g!==0&&g!==C&&(g&L)===0&&(L=C&-C,U=g&-g,L>=U||L===16&&(U&4194240)!==0))return g;if((C&4)!==0&&(C|=x&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=C;0<g;)x=31-Mr(g),L=1<<x,C|=h[x],g&=~L;return C}function hc(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(h,g){for(var x=h.suspendedLanes,C=h.pingedLanes,L=h.expirationTimes,U=h.pendingLanes;0<U;){var re=31-Mr(U),Ne=1<<re,je=L[re];je===-1?((Ne&x)===0||(Ne&C)!==0)&&(L[re]=hc(Ne,g)):je<=g&&(h.expiredLanes|=Ne),U&=~Ne}}function pc(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function vf(){var h=Ss;return Ss<<=1,(Ss&4194240)===0&&(Ss=64),h}function Tl(h){for(var g=[],x=0;31>x;x++)g.push(h);return g}function Ol(h,g,x){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-Mr(g),h[g]=x}function Fi(h,g){var x=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var C=h.eventTimes;for(h=h.expirationTimes;0<x;){var L=31-Mr(x),U=1<<L;g[L]=0,C[L]=-1,h[L]=-1,x&=~U}}function cu(h,g){var x=h.entangledLanes|=g;for(h=h.entanglements;x;){var C=31-Mr(x),L=1<<C;L&g|h[C]&g&&(h[C]|=g),x&=~L}}var ir=0;function yn(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var mc,bi,mr,gc,Ta,to=!1,va=[],kt=null,Bt=null,wn=null,Ot=new Map,di=new Map,Gi=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(h,g){switch(h){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ot.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(g.pointerId)}}function no(h,g,x,C,L,U){return h===null||h.nativeEvent!==U?(h={blockedOn:g,domEventName:x,eventSystemFlags:C,nativeEvent:U,targetContainers:[L]},g!==null&&(g=Pf(g),g!==null&&bi(g)),h):(h.eventSystemFlags|=C,g=h.targetContainers,L!==null&&g.indexOf(L)===-1&&g.push(L),h)}function vc(h,g,x,C,L){switch(g){case"focusin":return kt=no(kt,h,g,x,C,L),!0;case"dragenter":return Bt=no(Bt,h,g,x,C,L),!0;case"mouseover":return wn=no(wn,h,g,x,C,L),!0;case"pointerover":var U=L.pointerId;return Ot.set(U,no(Ot.get(U)||null,h,g,x,C,L)),!0;case"gotpointercapture":return U=L.pointerId,di.set(U,no(di.get(U)||null,h,g,x,C,L)),!0}return!1}function Pm(h){var g=bu(h.target);if(g!==null){var x=Ai(g);if(x!==null){if(g=x.tag,g===13){if(g=Ds(x),g!==null){h.blockedOn=g,Ta(h.priority,function(){mr(x)});return}}else if(g===3&&x.stateNode.current.memoizedState.isDehydrated){h.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}h.blockedOn=null}function bf(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var x=ad(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(x===null){x=h.nativeEvent;var C=new x.constructor(x.type,x);kn=C,x.target.dispatchEvent(C),kn=null}else return g=Pf(x),g!==null&&bi(g),h.blockedOn=x,!1;g.shift()}return!0}function sd(h,g,x){bf(h)&&x.delete(g)}function Gh(){to=!1,kt!==null&&bf(kt)&&(kt=null),Bt!==null&&bf(Bt)&&(Bt=null),wn!==null&&bf(wn)&&(wn=null),Ot.forEach(sd),di.forEach(sd)}function el(h,g){h.blockedOn===g&&(h.blockedOn=null,to||(to=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gh)))}function Pl(h){function g(L){return el(L,h)}if(0<va.length){el(va[0],h);for(var x=1;x<va.length;x++){var C=va[x];C.blockedOn===h&&(C.blockedOn=null)}}for(kt!==null&&el(kt,h),Bt!==null&&el(Bt,h),wn!==null&&el(wn,h),Ot.forEach(g),di.forEach(g),x=0;x<Gi.length;x++)C=Gi[x],C.blockedOn===h&&(C.blockedOn=null);for(;0<Gi.length&&(x=Gi[0],x.blockedOn===null);)Pm(x),x.blockedOn===null&&Gi.shift()}var tl=A.ReactCurrentBatchConfig,xf=!0;function Yh(h,g,x,C){var L=ir,U=tl.transition;tl.transition=null;try{ir=1,yc(h,g,x,C)}finally{ir=L,tl.transition=U}}function Xh(h,g,x,C){var L=ir,U=tl.transition;tl.transition=null;try{ir=4,yc(h,g,x,C)}finally{ir=L,tl.transition=U}}function yc(h,g,x,C){if(xf){var L=ad(h,g,x,C);if(L===null)op(h,g,C,Ml,x),yf(h,C);else if(vc(L,h,g,x,C))C.stopPropagation();else if(yf(h,C),g&4&&-1<Kh.indexOf(h)){for(;L!==null;){var U=Pf(L);if(U!==null&&mc(U),U=ad(h,g,x,C),U===null&&op(h,g,C,Ml,x),U===L)break;L=U}L!==null&&C.stopPropagation()}else op(h,g,C,null,x)}}var Ml=null;function ad(h,g,x,C){if(Ml=null,h=xn(C),h=bu(h),h!==null)if(g=Ai(h),g===null)h=null;else if(x=g.tag,x===13){if(h=Ds(g),h!==null)return h;h=null}else if(x===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return Ml=h,null}function od(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gf()){case lu:return 1;case xs:return 4;case jl:case yt:return 16;case nn:return 536870912;default:return 16}default:return 16}}var So=null,bc=null,ld=null;function Zh(){if(ld)return ld;var h,g=bc,x=g.length,C,L="value"in So?So.value:So.textContent,U=L.length;for(h=0;h<x&&g[h]===L[h];h++);var re=x-h;for(C=1;C<=re&&g[x-C]===L[U-C];C++);return ld=L.slice(h,1<C?1-C:void 0)}function No(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function _o(){return!0}function Qh(){return!1}function Qs(h){function g(x,C,L,U,re){this._reactName=x,this._targetInst=L,this.type=C,this.nativeEvent=U,this.target=re,this.currentTarget=null;for(var Ne in h)h.hasOwnProperty(Ne)&&(x=h[Ne],this[Ne]=x?x(U):U[Ne]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?_o:Qh,this.isPropagationStopped=Qh,this}return ge(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),g}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Qs(Eo),D=ge({},Eo,{view:0,detail:0}),te=Qs(D),be,Ae,Me,et=ge({},D,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Me&&(Me&&h.type==="mousemove"?(be=h.screenX-Me.screenX,Ae=h.screenY-Me.screenY):Ae=be=0,Me=h),be)},movementY:function(h){return"movementY"in h?h.movementY:Ae}}),ut=Qs(et),Zt=ge({},et,{dataTransfer:0}),ln=Qs(Zt),Rn=ge({},D,{relatedTarget:0}),In=Qs(Rn),gr=ge({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),xi=Qs(gr),Yi=ge({},Eo,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Yr=Qs(Yi),fs=ge({},Eo,{data:0}),Bi=Qs(fs),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Oa[h])?!!g[h]:!1}function uu(){return Mm}var cd=ge({},D,{key:function(h){if(h.key){var g=Fs[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=No(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Co[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(h){return h.type==="keypress"?No(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?No(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),du=Qs(cd),ud=ge({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=Qs(ud),dd=ge({},D,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),Js=Qs(dd),fd=ge({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hd=Qs(fd),Jh=ge({},et,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),ep=Qs(Jh),ki=[9,13,27,32],nl=o&&"CompositionEvent"in window,Rl=null;o&&"documentMode"in document&&(Rl=document.documentMode);var Rm=o&&"TextEvent"in window&&!Rl,ro=o&&(!nl||Rl&&8<Rl&&11>=Rl),hu=" ",Sf=!1;function Nf(h,g){switch(h){case"keyup":return ki.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ao=!1;function io(h,g){switch(h){case"compositionend":return xc(g);case"keypress":return g.which!==32?null:(Sf=!0,hu);case"textInput":return h=g.data,h===hu&&Sf?null:h;default:return null}}function so(h,g){if(Ao)return h==="compositionend"||!nl&&Nf(h,g)?(h=Zh(),ld=bc=So=null,Ao=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return ro&&g.locale!=="ko"?null:g.data;default:return null}}var pu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Il(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!pu[h.type]:g==="textarea"}function wc(h,g,x,C){we(C),g=Bm(g,"onChange"),0<g.length&&(x=new wf("onChange","change",null,x,C),h.push({event:x,listeners:g}))}var Sc=null,Dl=null;function $i(h){sp(h,0)}function pd(h){var g=_d(h);if(xe(g))return h}function Ll(h,g){if(h==="change")return g}var rl=!1;if(o){var md;if(o){var gd="oninput"in document;if(!gd){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),gd=typeof _f.oninput=="function"}md=gd}else md=!1;rl=md&&(!document.documentMode||9<document.documentMode)}function Ef(){Sc&&(Sc.detachEvent("onpropertychange",Nc),Dl=Sc=null)}function Nc(h){if(h.propertyName==="value"&&pd(Dl)){var g=[];wc(g,Dl,h,xn(h)),le($i,g)}}function mu(h,g,x){h==="focusin"?(Ef(),Sc=g,Dl=x,Sc.attachEvent("onpropertychange",Nc)):h==="focusout"&&Ef()}function gu(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return pd(Dl)}function vd(h,g){if(h==="click")return pd(g)}function vu(h,g){if(h==="input"||h==="change")return pd(g)}function yd(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var ji=typeof Object.is=="function"?Object.is:yd;function Pa(h,g){if(ji(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var x=Object.keys(h),C=Object.keys(g);if(x.length!==C.length)return!1;for(C=0;C<x.length;C++){var L=x[C];if(!c.call(g,L)||!ji(h[L],g[L]))return!1}return!0}function vr(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Rr(h,g){var x=vr(h);h=0;for(var C;x;){if(x.nodeType===3){if(C=h+x.textContent.length,h<=g&&C>=g)return{node:x,offset:g-h};h=C}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=vr(x)}}function Ti(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?Ti(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function Xi(){for(var h=window,g=De();g instanceof h.HTMLIFrameElement;){try{var x=typeof g.contentWindow.location.href=="string"}catch{x=!1}if(x)h=g.contentWindow;else break;g=De(h.document)}return g}function il(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function tp(h){var g=Xi(),x=h.focusedElem,C=h.selectionRange;if(g!==x&&x&&x.ownerDocument&&Ti(x.ownerDocument.documentElement,x)){if(C!==null&&il(x)){if(g=C.start,h=C.end,h===void 0&&(h=g),"selectionStart"in x)x.selectionStart=g,x.selectionEnd=Math.min(h,x.value.length);else if(h=(g=x.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var L=x.textContent.length,U=Math.min(C.start,L);C=C.end===void 0?U:Math.min(C.end,L),!h.extend&&U>C&&(L=C,C=U,U=L),L=Rr(x,U);var re=Rr(x,C);L&&re&&(h.rangeCount!==1||h.anchorNode!==L.node||h.anchorOffset!==L.offset||h.focusNode!==re.node||h.focusOffset!==re.offset)&&(g=g.createRange(),g.setStart(L.node,L.offset),h.removeAllRanges(),U>C?(h.addRange(g),h.extend(re.node,re.offset)):(g.setEnd(re.node,re.offset),h.addRange(g)))}}for(g=[],h=x;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<g.length;x++)h=g[x],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Cf=o&&"documentMode"in document&&11>=document.documentMode,_c=null,Im=null,Af=null,Dm=!1;function cy(h,g,x){var C=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Dm||_c==null||_c!==De(C)||(C=_c,"selectionStart"in C&&il(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Af&&Pa(Af,C)||(Af=C,C=Bm(Im,"onSelect"),0<C.length&&(g=new wf("onSelect","select",null,g,x),h.push({event:g,listeners:C}),g.target=_c)))}function np(h,g){var x={};return x[h.toLowerCase()]=g.toLowerCase(),x["Webkit"+h]="webkit"+g,x["Moz"+h]="moz"+g,x}var bd={animationend:np("Animation","AnimationEnd"),animationiteration:np("Animation","AnimationIteration"),animationstart:np("Animation","AnimationStart"),transitionend:np("Transition","TransitionEnd")},xd={},uy={};o&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete bd.animationend.animation,delete bd.animationiteration.animation,delete bd.animationstart.animation),"TransitionEvent"in window||delete bd.transitionend.transition);function rp(h){if(xd[h])return xd[h];if(!bd[h])return h;var g=bd[h],x;for(x in g)if(g.hasOwnProperty(x)&&x in uy)return xd[h]=g[x];return h}var dy=rp("animationend"),fy=rp("animationiteration"),hy=rp("animationstart"),py=rp("transitionend"),my=new Map,gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fl(h,g){my.set(h,g),s(g,[h])}for(var kf=0;kf<gy.length;kf++){var ya=gy[kf],ko=ya.toLowerCase(),Lm=ya[0].toUpperCase()+ya.slice(1);Fl(ko,"on"+Lm)}Fl(dy,"onAnimationEnd"),Fl(fy,"onAnimationIteration"),Fl(hy,"onAnimationStart"),Fl("dblclick","onDoubleClick"),Fl("focusin","onFocus"),Fl("focusout","onBlur"),Fl(py,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function ip(h,g,x){var C=h.type||"unknown-event";h.currentTarget=x,Ja(C,g,void 0,h),h.currentTarget=null}function sp(h,g){g=(g&4)!==0;for(var x=0;x<h.length;x++){var C=h[x],L=C.event;C=C.listeners;e:{var U=void 0;if(g)for(var re=C.length-1;0<=re;re--){var Ne=C[re],je=Ne.instance,Ve=Ne.currentTarget;if(Ne=Ne.listener,je!==U&&L.isPropagationStopped())break e;ip(L,Ne,Ve),U=je}else for(re=0;re<C.length;re++){if(Ne=C[re],je=Ne.instance,Ve=Ne.currentTarget,Ne=Ne.listener,je!==U&&L.isPropagationStopped())break e;ip(L,Ne,Ve),U=je}}}if(nr)throw h=$r,nr=!1,$r=null,h}function qr(h,g){var x=g[Ra];x===void 0&&(x=g[Ra]=new Set);var C=h+"__bubble";x.has(C)||(ap(g,h,2,!1),x.add(C))}function Fm(h,g,x){var C=0;g&&(C|=4),ap(x,h,C,g)}var jf="_reactListening"+Math.random().toString(36).slice(2);function wd(h){if(!h[jf]){h[jf]=!0,r.forEach(function(x){x!=="selectionchange"&&(Ix.has(x)||Fm(x,!1,h),Fm(x,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[jf]||(g[jf]=!0,Fm("selectionchange",!1,g))}}function ap(h,g,x,C){switch(od(g)){case 1:var L=Yh;break;case 4:L=Xh;break;default:L=yc}x=L.bind(null,g,x,h),L=void 0,!ot||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(L=!0),C?L!==void 0?h.addEventListener(g,x,{capture:!0,passive:L}):h.addEventListener(g,x,!0):L!==void 0?h.addEventListener(g,x,{passive:L}):h.addEventListener(g,x,!1)}function op(h,g,x,C,L){var U=C;if((g&1)===0&&(g&2)===0&&C!==null)e:for(;;){if(C===null)return;var re=C.tag;if(re===3||re===4){var Ne=C.stateNode.containerInfo;if(Ne===L||Ne.nodeType===8&&Ne.parentNode===L)break;if(re===4)for(re=C.return;re!==null;){var je=re.tag;if((je===3||je===4)&&(je=re.stateNode.containerInfo,je===L||je.nodeType===8&&je.parentNode===L))return;re=re.return}for(;Ne!==null;){if(re=bu(Ne),re===null)return;if(je=re.tag,je===5||je===6){C=U=re;continue e}Ne=Ne.parentNode}}C=C.return}le(function(){var Ve=U,mt=xn(x),vt=[];e:{var ht=my.get(h);if(ht!==void 0){var Ut=wf,Jt=h;switch(h){case"keypress":if(No(x)===0)break e;case"keydown":case"keyup":Ut=du;break;case"focusin":Jt="focus",Ut=In;break;case"focusout":Jt="blur",Ut=In;break;case"beforeblur":case"afterblur":Ut=In;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ut=ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ut=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ut=Js;break;case dy:case fy:case hy:Ut=xi;break;case py:Ut=hd;break;case"scroll":Ut=te;break;case"wheel":Ut=ep;break;case"copy":case"cut":case"paste":Ut=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ut=fu}var an=(g&4)!==0,ms=!an&&h==="scroll",Be=an?ht!==null?ht+"Capture":null:ht;an=[];for(var Pe=Ve,ze;Pe!==null;){ze=Pe;var Et=ze.stateNode;if(ze.tag===5&&Et!==null&&(ze=Et,Be!==null&&(Et=Le(Pe,Be),Et!=null&&an.push(lp(Pe,Et,ze)))),ms)break;Pe=Pe.return}0<an.length&&(ht=new Ut(ht,Jt,null,x,mt),vt.push({event:ht,listeners:an}))}}if((g&7)===0){e:{if(ht=h==="mouseover"||h==="pointerover",Ut=h==="mouseout"||h==="pointerout",ht&&x!==kn&&(Jt=x.relatedTarget||x.fromElement)&&(bu(Jt)||Jt[ea]))break e;if((Ut||ht)&&(ht=mt.window===mt?mt:(ht=mt.ownerDocument)?ht.defaultView||ht.parentWindow:window,Ut?(Jt=x.relatedTarget||x.toElement,Ut=Ve,Jt=Jt?bu(Jt):null,Jt!==null&&(ms=Ai(Jt),Jt!==ms||Jt.tag!==5&&Jt.tag!==6)&&(Jt=null)):(Ut=null,Jt=Ve),Ut!==Jt)){if(an=ut,Et="onMouseLeave",Be="onMouseEnter",Pe="mouse",(h==="pointerout"||h==="pointerover")&&(an=fu,Et="onPointerLeave",Be="onPointerEnter",Pe="pointer"),ms=Ut==null?ht:_d(Ut),ze=Jt==null?ht:_d(Jt),ht=new an(Et,Pe+"leave",Ut,x,mt),ht.target=ms,ht.relatedTarget=ze,Et=null,bu(mt)===Ve&&(an=new an(Be,Pe+"enter",Jt,x,mt),an.target=ze,an.relatedTarget=ms,Et=an),ms=Et,Ut&&Jt)t:{for(an=Ut,Be=Jt,Pe=0,ze=an;ze;ze=Sd(ze))Pe++;for(ze=0,Et=Be;Et;Et=Sd(Et))ze++;for(;0<Pe-ze;)an=Sd(an),Pe--;for(;0<ze-Pe;)Be=Sd(Be),ze--;for(;Pe--;){if(an===Be||Be!==null&&an===Be.alternate)break t;an=Sd(an),Be=Sd(Be)}an=null}else an=null;Ut!==null&&Dx(vt,ht,Ut,an,!1),Jt!==null&&ms!==null&&Dx(vt,ms,Jt,an,!0)}}e:{if(ht=Ve?_d(Ve):window,Ut=ht.nodeName&&ht.nodeName.toLowerCase(),Ut==="select"||Ut==="input"&&ht.type==="file")var un=Ll;else if(Il(ht))if(rl)un=vu;else{un=gu;var En=mu}else(Ut=ht.nodeName)&&Ut.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(un=vd);if(un&&(un=un(h,Ve))){wc(vt,un,x,mt);break e}En&&En(h,ht,Ve),h==="focusout"&&(En=ht._wrapperState)&&En.controlled&&ht.type==="number"&&Ye(ht,"number",ht.value)}switch(En=Ve?_d(Ve):window,h){case"focusin":(Il(En)||En.contentEditable==="true")&&(_c=En,Im=Ve,Af=null);break;case"focusout":Af=Im=_c=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,cy(vt,x,mt);break;case"selectionchange":if(Cf)break;case"keydown":case"keyup":cy(vt,x,mt)}var Cn;if(nl)e:{switch(h){case"compositionstart":var Ln="onCompositionStart";break e;case"compositionend":Ln="onCompositionEnd";break e;case"compositionupdate":Ln="onCompositionUpdate";break e}Ln=void 0}else Ao?Nf(h,x)&&(Ln="onCompositionEnd"):h==="keydown"&&x.keyCode===229&&(Ln="onCompositionStart");Ln&&(ro&&x.locale!=="ko"&&(Ao||Ln!=="onCompositionStart"?Ln==="onCompositionEnd"&&Ao&&(Cn=Zh()):(So=mt,bc="value"in So?So.value:So.textContent,Ao=!0)),En=Bm(Ve,Ln),0<En.length&&(Ln=new Bi(Ln,h,null,x,mt),vt.push({event:Ln,listeners:En}),Cn?Ln.data=Cn:(Cn=xc(x),Cn!==null&&(Ln.data=Cn)))),(Cn=Rm?io(h,x):so(h,x))&&(Ve=Bm(Ve,"onBeforeInput"),0<Ve.length&&(mt=new Bi("onBeforeInput","beforeinput",null,x,mt),vt.push({event:mt,listeners:Ve}),mt.data=Cn))}sp(vt,g)})}function lp(h,g,x){return{instance:h,listener:g,currentTarget:x}}function Bm(h,g){for(var x=g+"Capture",C=[];h!==null;){var L=h,U=L.stateNode;L.tag===5&&U!==null&&(L=U,U=Le(h,x),U!=null&&C.unshift(lp(h,U,L)),U=Le(h,g),U!=null&&C.push(lp(h,U,L))),h=h.return}return C}function Sd(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Dx(h,g,x,C,L){for(var U=g._reactName,re=[];x!==null&&x!==C;){var Ne=x,je=Ne.alternate,Ve=Ne.stateNode;if(je!==null&&je===C)break;Ne.tag===5&&Ve!==null&&(Ne=Ve,L?(je=Le(x,U),je!=null&&re.unshift(lp(x,je,Ne))):L||(je=Le(x,U),je!=null&&re.push(lp(x,je,Ne)))),x=x.return}re.length!==0&&h.push({event:g,listeners:re})}var oE=/\r\n?/g,lE=/\u0000|\uFFFD/g;function Lx(h){return(typeof h=="string"?h:""+h).replace(oE,`
`).replace(lE,"")}function $m(h,g,x){if(g=Lx(g),Lx(h)!==g&&x)throw Error(n(425))}function Tf(){}var cp=null,Nd=null;function vy(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var yy=typeof setTimeout=="function"?setTimeout:void 0,Fx=typeof clearTimeout=="function"?clearTimeout:void 0,Bx=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof Bx<"u"?function(h){return Bx.resolve(null).then(h).catch(uE)}:yy;function uE(h){setTimeout(function(){throw h})}function by(h,g){var x=g,C=0;do{var L=x.nextSibling;if(h.removeChild(x),L&&L.nodeType===8)if(x=L.data,x==="/$"){if(C===0){h.removeChild(L),Pl(g);return}C--}else x!=="$"&&x!=="$?"&&x!=="$!"||C++;x=L}while(x);Pl(g)}function ba(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function jo(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var x=h.data;if(x==="$"||x==="$!"||x==="$?"){if(g===0)return h;g--}else x==="/$"&&g++}h=h.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),Bl="__reactFiber$"+Ma,Of="__reactProps$"+Ma,ea="__reactContainer$"+Ma,Ra="__reactEvents$"+Ma,dE="__reactListeners$"+Ma,fE="__reactHandles$"+Ma;function bu(h){var g=h[Bl];if(g)return g;for(var x=h.parentNode;x;){if(g=x[ea]||x[Bl]){if(x=g.alternate,g.child!==null||x!==null&&x.child!==null)for(h=jo(h);h!==null;){if(x=h[Bl])return x;h=jo(h)}return g}h=x,x=h.parentNode}return null}function Pf(h){return h=h[Bl]||h[ea],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function _d(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function up(h){return h[Of]||null}var xy=[],Ec=-1;function sl(h){return{current:h}}function jr(h){0>Ec||(h.current=xy[Ec],xy[Ec]=null,Ec--)}function Ir(h,g){Ec++,xy[Ec]=h.current,h.current=g}var xu={},Bs=sl(xu),Ia=sl(!1),Ed=xu;function Mf(h,g){var x=h.type.contextTypes;if(!x)return xu;var C=h.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===g)return C.__reactInternalMemoizedMaskedChildContext;var L={},U;for(U in x)L[U]=g[U];return C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=L),L}function Da(h){return h=h.childContextTypes,h!=null}function zm(){jr(Ia),jr(Bs)}function $x(h,g,x){if(Bs.current!==xu)throw Error(n(168));Ir(Bs,g),Ir(Ia,x)}function wy(h,g,x){var C=h.stateNode;if(g=g.childContextTypes,typeof C.getChildContext!="function")return x;C=C.getChildContext();for(var L in C)if(!(L in g))throw Error(n(108,J(h)||"Unknown",L));return ge({},x,C)}function Cd(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||xu,Ed=Bs.current,Ir(Bs,h),Ir(Ia,Ia.current),!0}function zx(h,g,x){var C=h.stateNode;if(!C)throw Error(n(169));x?(h=wy(h,g,Ed),C.__reactInternalMemoizedMergedChildContext=h,jr(Ia),jr(Bs),Ir(Bs,h)):jr(Ia),Ir(Ia,x)}var Cc=null,dp=!1,N=!1;function j(h){Cc===null?Cc=[h]:Cc.push(h)}function $(h){dp=!0,j(h)}function V(){if(!N&&Cc!==null){N=!0;var h=0,g=ir;try{var x=Cc;for(ir=1;h<x.length;h++){var C=x[h];do C=C(!0);while(C!==null)}Cc=null,dp=!1}catch(L){throw Cc!==null&&(Cc=Cc.slice(h+1)),dc(lu,V),L}finally{ir=g,N=!1}}return null}var ee=[],se=0,oe=null,ce=0,fe=[],ve=0,ke=null,Fe=1,ye="";function Oe(h,g){ee[se++]=ce,ee[se++]=oe,oe=h,ce=g}function Ie(h,g,x){fe[ve++]=Fe,fe[ve++]=ye,fe[ve++]=ke,ke=h;var C=Fe;h=ye;var L=32-Mr(C)-1;C&=~(1<<L),x+=1;var U=32-Mr(g)+L;if(30<U){var re=L-L%5;U=(C&(1<<re)-1).toString(32),C>>=re,L-=re,Fe=1<<32-Mr(g)+L|x<<L|C,ye=U+h}else Fe=1<<U|x<<L|C,ye=h}function Je(h){h.return!==null&&(Oe(h,1),Ie(h,1,0))}function $e(h){for(;h===oe;)oe=ee[--se],ee[se]=null,ce=ee[--se],ee[se]=null;for(;h===ke;)ke=fe[--ve],fe[ve]=null,ye=fe[--ve],fe[ve]=null,Fe=fe[--ve],fe[ve]=null}var Xe=null,Ze=null,rt=!1,st=null;function cn(h,g){var x=Hl(5,null,null,0);x.elementType="DELETED",x.stateNode=g,x.return=h,g=h.deletions,g===null?(h.deletions=[x],h.flags|=16):g.push(x)}function Kt(h,g){switch(h.tag){case 5:var x=h.type;return g=g.nodeType!==1||x.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,Xe=h,Ze=ba(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,Xe=h,Ze=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(x=ke!==null?{id:Fe,overflow:ye}:null,h.memoizedState={dehydrated:g,treeContext:x,retryLane:1073741824},x=Hl(18,null,null,0),x.stateNode=g,x.return=h,h.child=x,Xe=h,Ze=null,!0):!1;default:return!1}}function Hn(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Qt(h){if(rt){var g=Ze;if(g){var x=g;if(!Kt(h,g)){if(Hn(h))throw Error(n(418));g=ba(x.nextSibling);var C=Xe;g&&Kt(h,g)?cn(C,x):(h.flags=h.flags&-4097|2,rt=!1,Xe=h)}}else{if(Hn(h))throw Error(n(418));h.flags=h.flags&-4097|2,rt=!1,Xe=h}}}function sr(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Xe=h}function Oi(h){if(h!==Xe)return!1;if(!rt)return sr(h),rt=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!vy(h.type,h.memoizedProps)),g&&(g=Ze)){if(Hn(h))throw Gn(),Error(n(418));for(;g;)cn(h,g),g=ba(g.nextSibling)}if(sr(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var x=h.data;if(x==="/$"){if(g===0){Ze=ba(h.nextSibling);break e}g--}else x!=="$"&&x!=="$!"&&x!=="$?"||g++}h=h.nextSibling}Ze=null}}else Ze=Xe?ba(h.stateNode.nextSibling):null;return!0}function Gn(){for(var h=Ze;h;)h=ba(h.nextSibling)}function Gt(){Ze=Xe=null,rt=!1}function jt(h){st===null?st=[h]:st.push(h)}var zi=A.ReactCurrentBatchConfig;function On(h,g,x){if(h=x.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var C=x.stateNode}if(!C)throw Error(n(147,h));var L=C,U=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===U?g.ref:(g=function(re){var Ne=L.refs;re===null?delete Ne[U]:Ne[U]=re},g._stringRef=U,g)}if(typeof h!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,h))}return h}function rr(h,g){throw h=Object.prototype.toString.call(g),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function Xr(h){var g=h._init;return g(h._payload)}function Ns(h){function g(Be,Pe){if(h){var ze=Be.deletions;ze===null?(Be.deletions=[Pe],Be.flags|=16):ze.push(Pe)}}function x(Be,Pe){if(!h)return null;for(;Pe!==null;)g(Be,Pe),Pe=Pe.sibling;return null}function C(Be,Pe){for(Be=new Map;Pe!==null;)Pe.key!==null?Be.set(Pe.key,Pe):Be.set(Pe.index,Pe),Pe=Pe.sibling;return Be}function L(Be,Pe){return Be=Uf(Be,Pe),Be.index=0,Be.sibling=null,Be}function U(Be,Pe,ze){return Be.index=ze,h?(ze=Be.alternate,ze!==null?(ze=ze.index,ze<Pe?(Be.flags|=2,Pe):ze):(Be.flags|=2,Pe)):(Be.flags|=1048576,Pe)}function re(Be){return h&&Be.alternate===null&&(Be.flags|=2),Be}function Ne(Be,Pe,ze,Et){return Pe===null||Pe.tag!==6?(Pe=zE(ze,Be.mode,Et),Pe.return=Be,Pe):(Pe=L(Pe,ze),Pe.return=Be,Pe)}function je(Be,Pe,ze,Et){var un=ze.type;return un===R?mt(Be,Pe,ze.props.children,Et,ze.key):Pe!==null&&(Pe.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===Z&&Xr(un)===Pe.type)?(Et=L(Pe,ze.props),Et.ref=On(Be,Pe,ze),Et.return=Be,Et):(Et=o1(ze.type,ze.key,ze.props,null,Be.mode,Et),Et.ref=On(Be,Pe,ze),Et.return=Be,Et)}function Ve(Be,Pe,ze,Et){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==ze.containerInfo||Pe.stateNode.implementation!==ze.implementation?(Pe=qE(ze,Be.mode,Et),Pe.return=Be,Pe):(Pe=L(Pe,ze.children||[]),Pe.return=Be,Pe)}function mt(Be,Pe,ze,Et,un){return Pe===null||Pe.tag!==7?(Pe=bp(ze,Be.mode,Et,un),Pe.return=Be,Pe):(Pe=L(Pe,ze),Pe.return=Be,Pe)}function vt(Be,Pe,ze){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=zE(""+Pe,Be.mode,ze),Pe.return=Be,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case k:return ze=o1(Pe.type,Pe.key,Pe.props,null,Be.mode,ze),ze.ref=On(Be,null,Pe),ze.return=Be,ze;case P:return Pe=qE(Pe,Be.mode,ze),Pe.return=Be,Pe;case Z:var Et=Pe._init;return vt(Be,Et(Pe._payload),ze)}if(me(Pe)||Y(Pe))return Pe=bp(Pe,Be.mode,ze,null),Pe.return=Be,Pe;rr(Be,Pe)}return null}function ht(Be,Pe,ze,Et){var un=Pe!==null?Pe.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return un!==null?null:Ne(Be,Pe,""+ze,Et);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case k:return ze.key===un?je(Be,Pe,ze,Et):null;case P:return ze.key===un?Ve(Be,Pe,ze,Et):null;case Z:return un=ze._init,ht(Be,Pe,un(ze._payload),Et)}if(me(ze)||Y(ze))return un!==null?null:mt(Be,Pe,ze,Et,null);rr(Be,ze)}return null}function Ut(Be,Pe,ze,Et,un){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Be=Be.get(ze)||null,Ne(Pe,Be,""+Et,un);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case k:return Be=Be.get(Et.key===null?ze:Et.key)||null,je(Pe,Be,Et,un);case P:return Be=Be.get(Et.key===null?ze:Et.key)||null,Ve(Pe,Be,Et,un);case Z:var En=Et._init;return Ut(Be,Pe,ze,En(Et._payload),un)}if(me(Et)||Y(Et))return Be=Be.get(ze)||null,mt(Pe,Be,Et,un,null);rr(Pe,Et)}return null}function Jt(Be,Pe,ze,Et){for(var un=null,En=null,Cn=Pe,Ln=Pe=0,sa=null;Cn!==null&&Ln<ze.length;Ln++){Cn.index>Ln?(sa=Cn,Cn=null):sa=Cn.sibling;var Cr=ht(Be,Cn,ze[Ln],Et);if(Cr===null){Cn===null&&(Cn=sa);break}h&&Cn&&Cr.alternate===null&&g(Be,Cn),Pe=U(Cr,Pe,Ln),En===null?un=Cr:En.sibling=Cr,En=Cr,Cn=sa}if(Ln===ze.length)return x(Be,Cn),rt&&Oe(Be,Ln),un;if(Cn===null){for(;Ln<ze.length;Ln++)Cn=vt(Be,ze[Ln],Et),Cn!==null&&(Pe=U(Cn,Pe,Ln),En===null?un=Cn:En.sibling=Cn,En=Cn);return rt&&Oe(Be,Ln),un}for(Cn=C(Be,Cn);Ln<ze.length;Ln++)sa=Ut(Cn,Be,Ln,ze[Ln],Et),sa!==null&&(h&&sa.alternate!==null&&Cn.delete(sa.key===null?Ln:sa.key),Pe=U(sa,Pe,Ln),En===null?un=sa:En.sibling=sa,En=sa);return h&&Cn.forEach(function(Hf){return g(Be,Hf)}),rt&&Oe(Be,Ln),un}function an(Be,Pe,ze,Et){var un=Y(ze);if(typeof un!="function")throw Error(n(150));if(ze=un.call(ze),ze==null)throw Error(n(151));for(var En=un=null,Cn=Pe,Ln=Pe=0,sa=null,Cr=ze.next();Cn!==null&&!Cr.done;Ln++,Cr=ze.next()){Cn.index>Ln?(sa=Cn,Cn=null):sa=Cn.sibling;var Hf=ht(Be,Cn,Cr.value,Et);if(Hf===null){Cn===null&&(Cn=sa);break}h&&Cn&&Hf.alternate===null&&g(Be,Cn),Pe=U(Hf,Pe,Ln),En===null?un=Hf:En.sibling=Hf,En=Hf,Cn=sa}if(Cr.done)return x(Be,Cn),rt&&Oe(Be,Ln),un;if(Cn===null){for(;!Cr.done;Ln++,Cr=ze.next())Cr=vt(Be,Cr.value,Et),Cr!==null&&(Pe=U(Cr,Pe,Ln),En===null?un=Cr:En.sibling=Cr,En=Cr);return rt&&Oe(Be,Ln),un}for(Cn=C(Be,Cn);!Cr.done;Ln++,Cr=ze.next())Cr=Ut(Cn,Be,Ln,Cr.value,Et),Cr!==null&&(h&&Cr.alternate!==null&&Cn.delete(Cr.key===null?Ln:Cr.key),Pe=U(Cr,Pe,Ln),En===null?un=Cr:En.sibling=Cr,En=Cr);return h&&Cn.forEach(function(dae){return g(Be,dae)}),rt&&Oe(Be,Ln),un}function ms(Be,Pe,ze,Et){if(typeof ze=="object"&&ze!==null&&ze.type===R&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case k:e:{for(var un=ze.key,En=Pe;En!==null;){if(En.key===un){if(un=ze.type,un===R){if(En.tag===7){x(Be,En.sibling),Pe=L(En,ze.props.children),Pe.return=Be,Be=Pe;break e}}else if(En.elementType===un||typeof un=="object"&&un!==null&&un.$$typeof===Z&&Xr(un)===En.type){x(Be,En.sibling),Pe=L(En,ze.props),Pe.ref=On(Be,En,ze),Pe.return=Be,Be=Pe;break e}x(Be,En);break}else g(Be,En);En=En.sibling}ze.type===R?(Pe=bp(ze.props.children,Be.mode,Et,ze.key),Pe.return=Be,Be=Pe):(Et=o1(ze.type,ze.key,ze.props,null,Be.mode,Et),Et.ref=On(Be,Pe,ze),Et.return=Be,Be=Et)}return re(Be);case P:e:{for(En=ze.key;Pe!==null;){if(Pe.key===En)if(Pe.tag===4&&Pe.stateNode.containerInfo===ze.containerInfo&&Pe.stateNode.implementation===ze.implementation){x(Be,Pe.sibling),Pe=L(Pe,ze.children||[]),Pe.return=Be,Be=Pe;break e}else{x(Be,Pe);break}else g(Be,Pe);Pe=Pe.sibling}Pe=qE(ze,Be.mode,Et),Pe.return=Be,Be=Pe}return re(Be);case Z:return En=ze._init,ms(Be,Pe,En(ze._payload),Et)}if(me(ze))return Jt(Be,Pe,ze,Et);if(Y(ze))return an(Be,Pe,ze,Et);rr(Be,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Pe!==null&&Pe.tag===6?(x(Be,Pe.sibling),Pe=L(Pe,ze),Pe.return=Be,Be=Pe):(x(Be,Pe),Pe=zE(ze,Be.mode,Et),Pe.return=Be,Be=Pe),re(Be)):x(Be,Pe)}return ms}var Zi=Ns(!0),wi=Ns(!1),hs=sl(null),_s=null,fi=null,fr=null;function yr(){fr=fi=_s=null}function hi(h){var g=hs.current;jr(hs),h._currentValue=g}function br(h,g,x){for(;h!==null;){var C=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,C!==null&&(C.childLanes|=g)):C!==null&&(C.childLanes&g)!==g&&(C.childLanes|=g),h===x)break;h=h.return}}function Pi(h,g){_s=h,fr=fi=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(Oo=!0),h.firstContext=null)}function Mi(h){var g=h._currentValue;if(fr!==h)if(h={context:h,memoizedValue:g,next:null},fi===null){if(_s===null)throw Error(n(308));fi=h,_s.dependencies={lanes:0,firstContext:h}}else fi=fi.next=h;return g}var Ur=null;function ta(h){Ur===null?Ur=[h]:Ur.push(h)}function Dr(h,g,x,C){var L=g.interleaved;return L===null?(x.next=x,ta(g)):(x.next=L.next,L.next=x),g.interleaved=x,Hr(h,C)}function Hr(h,g){h.lanes|=g;var x=h.alternate;for(x!==null&&(x.lanes|=g),x=h,h=h.return;h!==null;)h.childLanes|=g,x=h.alternate,x!==null&&(x.childLanes|=g),x=h,h=h.return;return x.tag===3?x.stateNode:null}var Qi=!1;function $s(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function qi(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function Ui(h,g,x){var C=h.updateQueue;if(C===null)return null;if(C=C.shared,(xr&2)!==0){var L=C.pending;return L===null?g.next=g:(g.next=L.next,L.next=g),C.pending=g,Hr(h,x)}return L=C.interleaved,L===null?(g.next=g,ta(C)):(g.next=L.next,L.next=g),C.interleaved=g,Hr(h,x)}function na(h,g,x){if(g=g.updateQueue,g!==null&&(g=g.shared,(x&4194240)!==0)){var C=g.lanes;C&=h.pendingLanes,x|=C,g.lanes=x,cu(h,x)}}function Vr(h,g){var x=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,x===C)){var L=null,U=null;if(x=x.firstBaseUpdate,x!==null){do{var re={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};U===null?L=U=re:U=U.next=re,x=x.next}while(x!==null);U===null?L=U=g:U=U.next=g}else L=U=g;x={baseState:C.baseState,firstBaseUpdate:L,lastBaseUpdate:U,shared:C.shared,effects:C.effects},h.updateQueue=x;return}h=x.lastBaseUpdate,h===null?x.firstBaseUpdate=g:h.next=g,x.lastBaseUpdate=g}function ra(h,g,x,C){var L=h.updateQueue;Qi=!1;var U=L.firstBaseUpdate,re=L.lastBaseUpdate,Ne=L.shared.pending;if(Ne!==null){L.shared.pending=null;var je=Ne,Ve=je.next;je.next=null,re===null?U=Ve:re.next=Ve,re=je;var mt=h.alternate;mt!==null&&(mt=mt.updateQueue,Ne=mt.lastBaseUpdate,Ne!==re&&(Ne===null?mt.firstBaseUpdate=Ve:Ne.next=Ve,mt.lastBaseUpdate=je))}if(U!==null){var vt=L.baseState;re=0,mt=Ve=je=null,Ne=U;do{var ht=Ne.lane,Ut=Ne.eventTime;if((C&ht)===ht){mt!==null&&(mt=mt.next={eventTime:Ut,lane:0,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null});e:{var Jt=h,an=Ne;switch(ht=g,Ut=x,an.tag){case 1:if(Jt=an.payload,typeof Jt=="function"){vt=Jt.call(Ut,vt,ht);break e}vt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=an.payload,ht=typeof Jt=="function"?Jt.call(Ut,vt,ht):Jt,ht==null)break e;vt=ge({},vt,ht);break e;case 2:Qi=!0}}Ne.callback!==null&&Ne.lane!==0&&(h.flags|=64,ht=L.effects,ht===null?L.effects=[Ne]:ht.push(Ne))}else Ut={eventTime:Ut,lane:ht,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},mt===null?(Ve=mt=Ut,je=vt):mt=mt.next=Ut,re|=ht;if(Ne=Ne.next,Ne===null){if(Ne=L.shared.pending,Ne===null)break;ht=Ne,Ne=ht.next,ht.next=null,L.lastBaseUpdate=ht,L.shared.pending=null}}while(!0);if(mt===null&&(je=vt),L.baseState=je,L.firstBaseUpdate=Ve,L.lastBaseUpdate=mt,g=L.shared.interleaved,g!==null){L=g;do re|=L.lane,L=L.next;while(L!==g)}else U===null&&(L.shared.lanes=0);mp|=re,h.lanes=re,h.memoizedState=vt}}function To(h,g,x){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var C=h[g],L=C.callback;if(L!==null){if(C.callback=null,C=x,typeof L!="function")throw Error(n(191,L));L.call(C)}}}var al={},Es=sl(al),Hi=sl(al),wu=sl(al);function Ac(h){if(h===al)throw Error(n(174));return h}function Rf(h,g){switch(Ir(wu,g),Ir(Hi,h),Ir(Es,al),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:xt(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=xt(g,h)}jr(Es),Ir(Es,g)}function $l(){jr(Es),jr(Hi),jr(wu)}function qx(h){Ac(wu.current);var g=Ac(Es.current),x=xt(g,h.type);g!==x&&(Ir(Hi,h),Ir(Es,x))}function Sy(h){Hi.current===h&&(jr(Es),jr(Hi))}var ti=sl(0);function ol(h){for(var g=h;g!==null;){if(g.tag===13){var x=g.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Ny=[];function _y(){for(var h=0;h<Ny.length;h++)Ny[h]._workInProgressVersionPrimary=null;Ny.length=0}var qm=A.ReactCurrentDispatcher,Um=A.ReactCurrentBatchConfig,zl=0,pi=null,Ji=null,Vi=null,If=!1,kc=!1,Df=0,hE=0;function ps(){throw Error(n(321))}function Hm(h,g){if(g===null)return!1;for(var x=0;x<g.length&&x<h.length;x++)if(!ji(h[x],g[x]))return!1;return!0}function fp(h,g,x,C,L,U){if(zl=U,pi=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,qm.current=h===null||h.memoizedState===null?Lse:Fse,h=x(C,L),kc){U=0;do{if(kc=!1,Df=0,25<=U)throw Error(n(301));U+=1,Vi=Ji=null,g.updateQueue=null,qm.current=Bse,h=x(C,L)}while(kc)}if(qm.current=Kx,g=Ji!==null&&Ji.next!==null,zl=0,Vi=Ji=pi=null,If=!1,g)throw Error(n(300));return h}function ql(){var h=Df!==0;return Df=0,h}function ll(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vi===null?pi.memoizedState=Vi=h:Vi=Vi.next=h,Vi}function ao(){if(Ji===null){var h=pi.alternate;h=h!==null?h.memoizedState:null}else h=Ji.next;var g=Vi===null?pi.memoizedState:Vi.next;if(g!==null)Vi=g,Ji=h;else{if(h===null)throw Error(n(310));Ji=h,h={memoizedState:Ji.memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},Vi===null?pi.memoizedState=Vi=h:Vi=Vi.next=h}return Vi}function hp(h,g){return typeof g=="function"?g(h):g}function Vm(h){var g=ao(),x=g.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=h;var C=Ji,L=C.baseQueue,U=x.pending;if(U!==null){if(L!==null){var re=L.next;L.next=U.next,U.next=re}C.baseQueue=L=U,x.pending=null}if(L!==null){U=L.next,C=C.baseState;var Ne=re=null,je=null,Ve=U;do{var mt=Ve.lane;if((zl&mt)===mt)je!==null&&(je=je.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),C=Ve.hasEagerState?Ve.eagerState:h(C,Ve.action);else{var vt={lane:mt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};je===null?(Ne=je=vt,re=C):je=je.next=vt,pi.lanes|=mt,mp|=mt}Ve=Ve.next}while(Ve!==null&&Ve!==U);je===null?re=C:je.next=Ne,ji(C,g.memoizedState)||(Oo=!0),g.memoizedState=C,g.baseState=re,g.baseQueue=je,x.lastRenderedState=C}if(h=x.interleaved,h!==null){L=h;do U=L.lane,pi.lanes|=U,mp|=U,L=L.next;while(L!==h)}else L===null&&(x.lanes=0);return[g.memoizedState,x.dispatch]}function Su(h){var g=ao(),x=g.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=h;var C=x.dispatch,L=x.pending,U=g.memoizedState;if(L!==null){x.pending=null;var re=L=L.next;do U=h(U,re.action),re=re.next;while(re!==L);ji(U,g.memoizedState)||(Oo=!0),g.memoizedState=U,g.baseQueue===null&&(g.baseState=U),x.lastRenderedState=U}return[U,C]}function Ux(){}function Ey(h,g){var x=pi,C=ao(),L=g(),U=!ji(C.memoizedState,L);if(U&&(C.memoizedState=L,Oo=!0),C=C.queue,Gm(Vx.bind(null,x,C,h),[h]),C.getSnapshot!==g||U||Vi!==null&&Vi.memoizedState.tag&1){if(x.flags|=2048,oo(9,Cy.bind(null,x,C,L,g),void 0,null),ia===null)throw Error(n(349));(zl&30)!==0||Hx(x,g,L)}return L}function Hx(h,g,x){h.flags|=16384,h={getSnapshot:g,value:x},g=pi.updateQueue,g===null?(g={lastEffect:null,stores:null},pi.updateQueue=g,g.stores=[h]):(x=g.stores,x===null?g.stores=[h]:x.push(h))}function Cy(h,g,x,C){g.value=x,g.getSnapshot=C,Lf(g)&&Wm(h)}function Vx(h,g,x){return x(function(){Lf(g)&&Wm(h)})}function Lf(h){var g=h.getSnapshot;h=h.value;try{var x=g();return!ji(h,x)}catch{return!0}}function Wm(h){var g=Hr(h,1);g!==null&&Mc(g,h,1,-1)}function pp(h){var g=ll();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:h},g.queue=h,h=h.dispatch=Dse.bind(null,pi,h),[g.memoizedState,h]}function oo(h,g,x,C){return h={tag:h,create:g,destroy:x,deps:C,next:null},g=pi.updateQueue,g===null?(g={lastEffect:null,stores:null},pi.updateQueue=g,g.lastEffect=h.next=h):(x=g.lastEffect,x===null?g.lastEffect=h.next=h:(C=x.next,x.next=h,h.next=C,g.lastEffect=h)),h}function jc(){return ao().memoizedState}function cl(h,g,x,C){var L=ll();pi.flags|=h,L.memoizedState=oo(1|g,x,void 0,C===void 0?null:C)}function Ad(h,g,x,C){var L=ao();C=C===void 0?null:C;var U=void 0;if(Ji!==null){var re=Ji.memoizedState;if(U=re.destroy,C!==null&&Hm(C,re.deps)){L.memoizedState=oo(g,x,U,C);return}}pi.flags|=h,L.memoizedState=oo(1|g,x,U,C)}function Km(h,g){return cl(8390656,8,h,g)}function Gm(h,g){return Ad(2048,8,h,g)}function Wx(h,g){return Ad(4,2,h,g)}function Ym(h,g){return Ad(4,4,h,g)}function Xm(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function DD(h,g,x){return x=x!=null?x.concat([h]):null,Ad(4,4,Xm.bind(null,g,h),x)}function pE(){}function LD(h,g){var x=ao();g=g===void 0?null:g;var C=x.memoizedState;return C!==null&&g!==null&&Hm(g,C[1])?C[0]:(x.memoizedState=[h,g],h)}function FD(h,g){var x=ao();g=g===void 0?null:g;var C=x.memoizedState;return C!==null&&g!==null&&Hm(g,C[1])?C[0]:(h=h(),x.memoizedState=[h,g],h)}function BD(h,g,x){return(zl&21)===0?(h.baseState&&(h.baseState=!1,Oo=!0),h.memoizedState=x):(ji(x,g)||(x=vf(),pi.lanes|=x,mp|=x,h.baseState=!0),g)}function Rse(h,g){var x=ir;ir=x!==0&&4>x?x:4,h(!0);var C=Um.transition;Um.transition={};try{h(!1),g()}finally{ir=x,Um.transition=C}}function $D(){return ao().memoizedState}function Ise(h,g,x){var C=zf(h);if(x={lane:C,action:x,hasEagerState:!1,eagerState:null,next:null},zD(h))qD(g,x);else if(x=Dr(h,g,x,C),x!==null){var L=co();Mc(x,h,C,L),UD(x,g,C)}}function Dse(h,g,x){var C=zf(h),L={lane:C,action:x,hasEagerState:!1,eagerState:null,next:null};if(zD(h))qD(g,L);else{var U=h.alternate;if(h.lanes===0&&(U===null||U.lanes===0)&&(U=g.lastRenderedReducer,U!==null))try{var re=g.lastRenderedState,Ne=U(re,x);if(L.hasEagerState=!0,L.eagerState=Ne,ji(Ne,re)){var je=g.interleaved;je===null?(L.next=L,ta(g)):(L.next=je.next,je.next=L),g.interleaved=L;return}}catch{}finally{}x=Dr(h,g,L,C),x!==null&&(L=co(),Mc(x,h,C,L),UD(x,g,C))}}function zD(h){var g=h.alternate;return h===pi||g!==null&&g===pi}function qD(h,g){kc=If=!0;var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}function UD(h,g,x){if((x&4194240)!==0){var C=g.lanes;C&=h.pendingLanes,x|=C,g.lanes=x,cu(h,x)}}var Kx={readContext:Mi,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Lse={readContext:Mi,useCallback:function(h,g){return ll().memoizedState=[h,g===void 0?null:g],h},useContext:Mi,useEffect:Km,useImperativeHandle:function(h,g,x){return x=x!=null?x.concat([h]):null,cl(4194308,4,Xm.bind(null,g,h),x)},useLayoutEffect:function(h,g){return cl(4194308,4,h,g)},useInsertionEffect:function(h,g){return cl(4,2,h,g)},useMemo:function(h,g){var x=ll();return g=g===void 0?null:g,h=h(),x.memoizedState=[h,g],h},useReducer:function(h,g,x){var C=ll();return g=x!==void 0?x(g):g,C.memoizedState=C.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},C.queue=h,h=h.dispatch=Ise.bind(null,pi,h),[C.memoizedState,h]},useRef:function(h){var g=ll();return h={current:h},g.memoizedState=h},useState:pp,useDebugValue:pE,useDeferredValue:function(h){return ll().memoizedState=h},useTransition:function(){var h=pp(!1),g=h[0];return h=Rse.bind(null,h[1]),ll().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,x){var C=pi,L=ll();if(rt){if(x===void 0)throw Error(n(407));x=x()}else{if(x=g(),ia===null)throw Error(n(349));(zl&30)!==0||Hx(C,g,x)}L.memoizedState=x;var U={value:x,getSnapshot:g};return L.queue=U,Km(Vx.bind(null,C,U,h),[h]),C.flags|=2048,oo(9,Cy.bind(null,C,U,x,g),void 0,null),x},useId:function(){var h=ll(),g=ia.identifierPrefix;if(rt){var x=ye,C=Fe;x=(C&~(1<<32-Mr(C)-1)).toString(32)+x,g=":"+g+"R"+x,x=Df++,0<x&&(g+="H"+x.toString(32)),g+=":"}else x=hE++,g=":"+g+"r"+x.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},Fse={readContext:Mi,useCallback:LD,useContext:Mi,useEffect:Gm,useImperativeHandle:DD,useInsertionEffect:Wx,useLayoutEffect:Ym,useMemo:FD,useReducer:Vm,useRef:jc,useState:function(){return Vm(hp)},useDebugValue:pE,useDeferredValue:function(h){var g=ao();return BD(g,Ji.memoizedState,h)},useTransition:function(){var h=Vm(hp)[0],g=ao().memoizedState;return[h,g]},useMutableSource:Ux,useSyncExternalStore:Ey,useId:$D,unstable_isNewReconciler:!1},Bse={readContext:Mi,useCallback:LD,useContext:Mi,useEffect:Gm,useImperativeHandle:DD,useInsertionEffect:Wx,useLayoutEffect:Ym,useMemo:FD,useReducer:Su,useRef:jc,useState:function(){return Su(hp)},useDebugValue:pE,useDeferredValue:function(h){var g=ao();return Ji===null?g.memoizedState=h:BD(g,Ji.memoizedState,h)},useTransition:function(){var h=Su(hp)[0],g=ao().memoizedState;return[h,g]},useMutableSource:Ux,useSyncExternalStore:Ey,useId:$D,unstable_isNewReconciler:!1};function Tc(h,g){if(h&&h.defaultProps){g=ge({},g),h=h.defaultProps;for(var x in h)g[x]===void 0&&(g[x]=h[x]);return g}return g}function mE(h,g,x,C){g=h.memoizedState,x=x(C,g),x=x==null?g:ge({},g,x),h.memoizedState=x,h.lanes===0&&(h.updateQueue.baseState=x)}var Gx={isMounted:function(h){return(h=h._reactInternals)?Ai(h)===h:!1},enqueueSetState:function(h,g,x){h=h._reactInternals;var C=co(),L=zf(h),U=qi(C,L);U.payload=g,x!=null&&(U.callback=x),g=Ui(h,U,L),g!==null&&(Mc(g,h,L,C),na(g,h,L))},enqueueReplaceState:function(h,g,x){h=h._reactInternals;var C=co(),L=zf(h),U=qi(C,L);U.tag=1,U.payload=g,x!=null&&(U.callback=x),g=Ui(h,U,L),g!==null&&(Mc(g,h,L,C),na(g,h,L))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var x=co(),C=zf(h),L=qi(x,C);L.tag=2,g!=null&&(L.callback=g),g=Ui(h,L,C),g!==null&&(Mc(g,h,C,x),na(g,h,C))}};function HD(h,g,x,C,L,U,re){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,U,re):g.prototype&&g.prototype.isPureReactComponent?!Pa(x,C)||!Pa(L,U):!0}function VD(h,g,x){var C=!1,L=xu,U=g.contextType;return typeof U=="object"&&U!==null?U=Mi(U):(L=Da(g)?Ed:Bs.current,C=g.contextTypes,U=(C=C!=null)?Mf(h,L):xu),g=new g(x,U),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gx,h.stateNode=g,g._reactInternals=h,C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=L,h.__reactInternalMemoizedMaskedChildContext=U),g}function WD(h,g,x,C){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(x,C),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(x,C),g.state!==h&&Gx.enqueueReplaceState(g,g.state,null)}function gE(h,g,x,C){var L=h.stateNode;L.props=x,L.state=h.memoizedState,L.refs={},$s(h);var U=g.contextType;typeof U=="object"&&U!==null?L.context=Mi(U):(U=Da(g)?Ed:Bs.current,L.context=Mf(h,U)),L.state=h.memoizedState,U=g.getDerivedStateFromProps,typeof U=="function"&&(mE(h,g,U,x),L.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(g=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),g!==L.state&&Gx.enqueueReplaceState(L,L.state,null),ra(h,x,L,C),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308)}function Zm(h,g){try{var x="",C=g;do x+=ie(C),C=C.return;while(C);var L=x}catch(U){L=`
Error generating stack: `+U.message+`
`+U.stack}return{value:h,source:g,stack:L,digest:null}}function vE(h,g,x){return{value:h,source:null,stack:x??null,digest:g??null}}function yE(h,g){try{console.error(g.value)}catch(x){setTimeout(function(){throw x})}}var $se=typeof WeakMap=="function"?WeakMap:Map;function KD(h,g,x){x=qi(-1,x),x.tag=3,x.payload={element:null};var C=g.value;return x.callback=function(){t1||(t1=!0,ME=C),yE(h,g)},x}function GD(h,g,x){x=qi(-1,x),x.tag=3;var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var L=g.value;x.payload=function(){return C(L)},x.callback=function(){yE(h,g)}}var U=h.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(x.callback=function(){yE(h,g),typeof C!="function"&&(Bf===null?Bf=new Set([this]):Bf.add(this));var re=g.stack;this.componentDidCatch(g.value,{componentStack:re!==null?re:""})}),x}function YD(h,g,x){var C=h.pingCache;if(C===null){C=h.pingCache=new $se;var L=new Set;C.set(g,L)}else L=C.get(g),L===void 0&&(L=new Set,C.set(g,L));L.has(x)||(L.add(x),h=eae.bind(null,h,g,x),g.then(h,h))}function XD(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function ZD(h,g,x,C,L){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(g=qi(-1,1),g.tag=2,Ui(x,g,1))),x.lanes|=1),h):(h.flags|=65536,h.lanes=L,h)}var zse=A.ReactCurrentOwner,Oo=!1;function lo(h,g,x,C){g.child=h===null?wi(g,null,x,C):Zi(g,h.child,x,C)}function QD(h,g,x,C,L){x=x.render;var U=g.ref;return Pi(g,L),C=fp(h,g,x,C,U,L),x=ql(),h!==null&&!Oo?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~L,kd(h,g,L)):(rt&&x&&Je(g),g.flags|=1,lo(h,g,C,L),g.child)}function JD(h,g,x,C,L){if(h===null){var U=x.type;return typeof U=="function"&&!$E(U)&&U.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(g.tag=15,g.type=U,e3(h,g,U,C,L)):(h=o1(x.type,null,C,g,g.mode,L),h.ref=g.ref,h.return=g,g.child=h)}if(U=h.child,(h.lanes&L)===0){var re=U.memoizedProps;if(x=x.compare,x=x!==null?x:Pa,x(re,C)&&h.ref===g.ref)return kd(h,g,L)}return g.flags|=1,h=Uf(U,C),h.ref=g.ref,h.return=g,g.child=h}function e3(h,g,x,C,L){if(h!==null){var U=h.memoizedProps;if(Pa(U,C)&&h.ref===g.ref)if(Oo=!1,g.pendingProps=C=U,(h.lanes&L)!==0)(h.flags&131072)!==0&&(Oo=!0);else return g.lanes=h.lanes,kd(h,g,L)}return bE(h,g,x,C,L)}function t3(h,g,x){var C=g.pendingProps,L=C.children,U=h!==null?h.memoizedState:null;if(C.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Jm,ul),ul|=x;else{if((x&1073741824)===0)return h=U!==null?U.baseLanes|x:x,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Ir(Jm,ul),ul|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=U!==null?U.baseLanes:x,Ir(Jm,ul),ul|=C}else U!==null?(C=U.baseLanes|x,g.memoizedState=null):C=x,Ir(Jm,ul),ul|=C;return lo(h,g,L,x),g.child}function n3(h,g){var x=g.ref;(h===null&&x!==null||h!==null&&h.ref!==x)&&(g.flags|=512,g.flags|=2097152)}function bE(h,g,x,C,L){var U=Da(x)?Ed:Bs.current;return U=Mf(g,U),Pi(g,L),x=fp(h,g,x,C,U,L),C=ql(),h!==null&&!Oo?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~L,kd(h,g,L)):(rt&&C&&Je(g),g.flags|=1,lo(h,g,x,L),g.child)}function r3(h,g,x,C,L){if(Da(x)){var U=!0;Cd(g)}else U=!1;if(Pi(g,L),g.stateNode===null)Xx(h,g),VD(g,x,C),gE(g,x,C,L),C=!0;else if(h===null){var re=g.stateNode,Ne=g.memoizedProps;re.props=Ne;var je=re.context,Ve=x.contextType;typeof Ve=="object"&&Ve!==null?Ve=Mi(Ve):(Ve=Da(x)?Ed:Bs.current,Ve=Mf(g,Ve));var mt=x.getDerivedStateFromProps,vt=typeof mt=="function"||typeof re.getSnapshotBeforeUpdate=="function";vt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(Ne!==C||je!==Ve)&&WD(g,re,C,Ve),Qi=!1;var ht=g.memoizedState;re.state=ht,ra(g,C,re,L),je=g.memoizedState,Ne!==C||ht!==je||Ia.current||Qi?(typeof mt=="function"&&(mE(g,x,mt,C),je=g.memoizedState),(Ne=Qi||HD(g,x,Ne,C,ht,je,Ve))?(vt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(g.flags|=4194308)):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=C,g.memoizedState=je),re.props=C,re.state=je,re.context=Ve,C=Ne):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),C=!1)}else{re=g.stateNode,La(h,g),Ne=g.memoizedProps,Ve=g.type===g.elementType?Ne:Tc(g.type,Ne),re.props=Ve,vt=g.pendingProps,ht=re.context,je=x.contextType,typeof je=="object"&&je!==null?je=Mi(je):(je=Da(x)?Ed:Bs.current,je=Mf(g,je));var Ut=x.getDerivedStateFromProps;(mt=typeof Ut=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(Ne!==vt||ht!==je)&&WD(g,re,C,je),Qi=!1,ht=g.memoizedState,re.state=ht,ra(g,C,re,L);var Jt=g.memoizedState;Ne!==vt||ht!==Jt||Ia.current||Qi?(typeof Ut=="function"&&(mE(g,x,Ut,C),Jt=g.memoizedState),(Ve=Qi||HD(g,x,Ve,C,ht,Jt,je)||!1)?(mt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(C,Jt,je),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(C,Jt,je)),typeof re.componentDidUpdate=="function"&&(g.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof re.componentDidUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(g.flags|=1024),g.memoizedProps=C,g.memoizedState=Jt),re.props=C,re.state=Jt,re.context=je,C=Ve):(typeof re.componentDidUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||Ne===h.memoizedProps&&ht===h.memoizedState||(g.flags|=1024),C=!1)}return xE(h,g,x,C,U,L)}function xE(h,g,x,C,L,U){n3(h,g);var re=(g.flags&128)!==0;if(!C&&!re)return L&&zx(g,x,!1),kd(h,g,U);C=g.stateNode,zse.current=g;var Ne=re&&typeof x.getDerivedStateFromError!="function"?null:C.render();return g.flags|=1,h!==null&&re?(g.child=Zi(g,h.child,null,U),g.child=Zi(g,null,Ne,U)):lo(h,g,Ne,U),g.memoizedState=C.state,L&&zx(g,x,!0),g.child}function i3(h){var g=h.stateNode;g.pendingContext?$x(h,g.pendingContext,g.pendingContext!==g.context):g.context&&$x(h,g.context,!1),Rf(h,g.containerInfo)}function s3(h,g,x,C,L){return Gt(),jt(L),g.flags|=256,lo(h,g,x,C),g.child}var wE={dehydrated:null,treeContext:null,retryLane:0};function SE(h){return{baseLanes:h,cachePool:null,transitions:null}}function a3(h,g,x){var C=g.pendingProps,L=ti.current,U=!1,re=(g.flags&128)!==0,Ne;if((Ne=re)||(Ne=h!==null&&h.memoizedState===null?!1:(L&2)!==0),Ne?(U=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(L|=1),Ir(ti,L&1),h===null)return Qt(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(re=C.children,h=C.fallback,U?(C=g.mode,U=g.child,re={mode:"hidden",children:re},(C&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=re):U=l1(re,C,0,null),h=bp(h,C,x,null),U.return=g,h.return=g,U.sibling=h,g.child=U,g.child.memoizedState=SE(x),g.memoizedState=wE,h):NE(g,re));if(L=h.memoizedState,L!==null&&(Ne=L.dehydrated,Ne!==null))return qse(h,g,re,C,Ne,L,x);if(U){U=C.fallback,re=g.mode,L=h.child,Ne=L.sibling;var je={mode:"hidden",children:C.children};return(re&1)===0&&g.child!==L?(C=g.child,C.childLanes=0,C.pendingProps=je,g.deletions=null):(C=Uf(L,je),C.subtreeFlags=L.subtreeFlags&14680064),Ne!==null?U=Uf(Ne,U):(U=bp(U,re,x,null),U.flags|=2),U.return=g,C.return=g,C.sibling=U,g.child=C,C=U,U=g.child,re=h.child.memoizedState,re=re===null?SE(x):{baseLanes:re.baseLanes|x,cachePool:null,transitions:re.transitions},U.memoizedState=re,U.childLanes=h.childLanes&~x,g.memoizedState=wE,C}return U=h.child,h=U.sibling,C=Uf(U,{mode:"visible",children:C.children}),(g.mode&1)===0&&(C.lanes=x),C.return=g,C.sibling=null,h!==null&&(x=g.deletions,x===null?(g.deletions=[h],g.flags|=16):x.push(h)),g.child=C,g.memoizedState=null,C}function NE(h,g){return g=l1({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function Yx(h,g,x,C){return C!==null&&jt(C),Zi(g,h.child,null,x),h=NE(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function qse(h,g,x,C,L,U,re){if(x)return g.flags&256?(g.flags&=-257,C=vE(Error(n(422))),Yx(h,g,re,C)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):(U=C.fallback,L=g.mode,C=l1({mode:"visible",children:C.children},L,0,null),U=bp(U,L,re,null),U.flags|=2,C.return=g,U.return=g,C.sibling=U,g.child=C,(g.mode&1)!==0&&Zi(g,h.child,null,re),g.child.memoizedState=SE(re),g.memoizedState=wE,U);if((g.mode&1)===0)return Yx(h,g,re,null);if(L.data==="$!"){if(C=L.nextSibling&&L.nextSibling.dataset,C)var Ne=C.dgst;return C=Ne,U=Error(n(419)),C=vE(U,C,void 0),Yx(h,g,re,C)}if(Ne=(re&h.childLanes)!==0,Oo||Ne){if(C=ia,C!==null){switch(re&-re){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(C.suspendedLanes|re))!==0?0:L,L!==0&&L!==U.retryLane&&(U.retryLane=L,Hr(h,L),Mc(C,h,L,-1))}return BE(),C=vE(Error(n(421))),Yx(h,g,re,C)}return L.data==="$?"?(g.flags|=128,g.child=h.child,g=tae.bind(null,h),L._reactRetry=g,null):(h=U.treeContext,Ze=ba(L.nextSibling),Xe=g,rt=!0,st=null,h!==null&&(fe[ve++]=Fe,fe[ve++]=ye,fe[ve++]=ke,Fe=h.id,ye=h.overflow,ke=g),g=NE(g,C.children),g.flags|=4096,g)}function o3(h,g,x){h.lanes|=g;var C=h.alternate;C!==null&&(C.lanes|=g),br(h.return,g,x)}function _E(h,g,x,C,L){var U=h.memoizedState;U===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:C,tail:x,tailMode:L}:(U.isBackwards=g,U.rendering=null,U.renderingStartTime=0,U.last=C,U.tail=x,U.tailMode=L)}function l3(h,g,x){var C=g.pendingProps,L=C.revealOrder,U=C.tail;if(lo(h,g,C.children,x),C=ti.current,(C&2)!==0)C=C&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&o3(h,x,g);else if(h.tag===19)o3(h,x,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}if(Ir(ti,C),(g.mode&1)===0)g.memoizedState=null;else switch(L){case"forwards":for(x=g.child,L=null;x!==null;)h=x.alternate,h!==null&&ol(h)===null&&(L=x),x=x.sibling;x=L,x===null?(L=g.child,g.child=null):(L=x.sibling,x.sibling=null),_E(g,!1,L,x,U);break;case"backwards":for(x=null,L=g.child,g.child=null;L!==null;){if(h=L.alternate,h!==null&&ol(h)===null){g.child=L;break}h=L.sibling,L.sibling=x,x=L,L=h}_E(g,!0,x,null,U);break;case"together":_E(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Xx(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function kd(h,g,x){if(h!==null&&(g.dependencies=h.dependencies),mp|=g.lanes,(x&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(n(153));if(g.child!==null){for(h=g.child,x=Uf(h,h.pendingProps),g.child=x,x.return=g;h.sibling!==null;)h=h.sibling,x=x.sibling=Uf(h,h.pendingProps),x.return=g;x.sibling=null}return g.child}function Use(h,g,x){switch(g.tag){case 3:i3(g),Gt();break;case 5:qx(g);break;case 1:Da(g.type)&&Cd(g);break;case 4:Rf(g,g.stateNode.containerInfo);break;case 10:var C=g.type._context,L=g.memoizedProps.value;Ir(hs,C._currentValue),C._currentValue=L;break;case 13:if(C=g.memoizedState,C!==null)return C.dehydrated!==null?(Ir(ti,ti.current&1),g.flags|=128,null):(x&g.child.childLanes)!==0?a3(h,g,x):(Ir(ti,ti.current&1),h=kd(h,g,x),h!==null?h.sibling:null);Ir(ti,ti.current&1);break;case 19:if(C=(x&g.childLanes)!==0,(h.flags&128)!==0){if(C)return l3(h,g,x);g.flags|=128}if(L=g.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Ir(ti,ti.current),C)break;return null;case 22:case 23:return g.lanes=0,t3(h,g,x)}return kd(h,g,x)}var c3,EE,u3,d3;c3=function(h,g){for(var x=g.child;x!==null;){if(x.tag===5||x.tag===6)h.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===g)break;for(;x.sibling===null;){if(x.return===null||x.return===g)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},EE=function(){},u3=function(h,g,x,C){var L=h.memoizedProps;if(L!==C){h=g.stateNode,Ac(Es.current);var U=null;switch(x){case"input":L=Ee(h,L),C=Ee(h,C),U=[];break;case"select":L=ge({},L,{value:void 0}),C=ge({},C,{value:void 0}),U=[];break;case"textarea":L=Te(h,L),C=Te(h,C),U=[];break;default:typeof L.onClick!="function"&&typeof C.onClick=="function"&&(h.onclick=Tf)}Jn(x,C);var re;x=null;for(Ve in L)if(!C.hasOwnProperty(Ve)&&L.hasOwnProperty(Ve)&&L[Ve]!=null)if(Ve==="style"){var Ne=L[Ve];for(re in Ne)Ne.hasOwnProperty(re)&&(x||(x={}),x[re]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(i.hasOwnProperty(Ve)?U||(U=[]):(U=U||[]).push(Ve,null));for(Ve in C){var je=C[Ve];if(Ne=L?.[Ve],C.hasOwnProperty(Ve)&&je!==Ne&&(je!=null||Ne!=null))if(Ve==="style")if(Ne){for(re in Ne)!Ne.hasOwnProperty(re)||je&&je.hasOwnProperty(re)||(x||(x={}),x[re]="");for(re in je)je.hasOwnProperty(re)&&Ne[re]!==je[re]&&(x||(x={}),x[re]=je[re])}else x||(U||(U=[]),U.push(Ve,x)),x=je;else Ve==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,Ne=Ne?Ne.__html:void 0,je!=null&&Ne!==je&&(U=U||[]).push(Ve,je)):Ve==="children"?typeof je!="string"&&typeof je!="number"||(U=U||[]).push(Ve,""+je):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ve)?(je!=null&&Ve==="onScroll"&&qr("scroll",h),U||Ne===je||(U=[])):(U=U||[]).push(Ve,je))}x&&(U=U||[]).push("style",x);var Ve=U;(g.updateQueue=Ve)&&(g.flags|=4)}},d3=function(h,g,x,C){x!==C&&(g.flags|=4)};function Ay(h,g){if(!rt)switch(h.tailMode){case"hidden":g=h.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?h.tail=null:x.sibling=null;break;case"collapsed":x=h.tail;for(var C=null;x!==null;)x.alternate!==null&&(C=x),x=x.sibling;C===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function Fa(h){var g=h.alternate!==null&&h.alternate.child===h.child,x=0,C=0;if(g)for(var L=h.child;L!==null;)x|=L.lanes|L.childLanes,C|=L.subtreeFlags&14680064,C|=L.flags&14680064,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)x|=L.lanes|L.childLanes,C|=L.subtreeFlags,C|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=C,h.childLanes=x,g}function Hse(h,g,x){var C=g.pendingProps;switch($e(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fa(g),null;case 1:return Da(g.type)&&zm(),Fa(g),null;case 3:return C=g.stateNode,$l(),jr(Ia),jr(Bs),_y(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(Oi(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,st!==null&&(DE(st),st=null))),EE(h,g),Fa(g),null;case 5:Sy(g);var L=Ac(wu.current);if(x=g.type,h!==null&&g.stateNode!=null)u3(h,g,x,C,L),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!C){if(g.stateNode===null)throw Error(n(166));return Fa(g),null}if(h=Ac(Es.current),Oi(g)){C=g.stateNode,x=g.type;var U=g.memoizedProps;switch(C[Bl]=g,C[Of]=U,h=(g.mode&1)!==0,x){case"dialog":qr("cancel",C),qr("close",C);break;case"iframe":case"object":case"embed":qr("load",C);break;case"video":case"audio":for(L=0;L<yu.length;L++)qr(yu[L],C);break;case"source":qr("error",C);break;case"img":case"image":case"link":qr("error",C),qr("load",C);break;case"details":qr("toggle",C);break;case"input":de(C,U),qr("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!U.multiple},qr("invalid",C);break;case"textarea":Ue(C,U),qr("invalid",C)}Jn(x,U),L=null;for(var re in U)if(U.hasOwnProperty(re)){var Ne=U[re];re==="children"?typeof Ne=="string"?C.textContent!==Ne&&(U.suppressHydrationWarning!==!0&&$m(C.textContent,Ne,h),L=["children",Ne]):typeof Ne=="number"&&C.textContent!==""+Ne&&(U.suppressHydrationWarning!==!0&&$m(C.textContent,Ne,h),L=["children",""+Ne]):i.hasOwnProperty(re)&&Ne!=null&&re==="onScroll"&&qr("scroll",C)}switch(x){case"input":pe(C),it(C,U,!0);break;case"textarea":pe(C),qe(C);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(C.onclick=Tf)}C=L,g.updateQueue=C,C!==null&&(g.flags|=4)}else{re=L.nodeType===9?L:L.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Qe(x)),h==="http://www.w3.org/1999/xhtml"?x==="script"?(h=re.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof C.is=="string"?h=re.createElement(x,{is:C.is}):(h=re.createElement(x),x==="select"&&(re=h,C.multiple?re.multiple=!0:C.size&&(re.size=C.size))):h=re.createElementNS(h,x),h[Bl]=g,h[Of]=C,c3(h,g,!1,!1),g.stateNode=h;e:{switch(re=sn(x,C),x){case"dialog":qr("cancel",h),qr("close",h),L=C;break;case"iframe":case"object":case"embed":qr("load",h),L=C;break;case"video":case"audio":for(L=0;L<yu.length;L++)qr(yu[L],h);L=C;break;case"source":qr("error",h),L=C;break;case"img":case"image":case"link":qr("error",h),qr("load",h),L=C;break;case"details":qr("toggle",h),L=C;break;case"input":de(h,C),L=Ee(h,C),qr("invalid",h);break;case"option":L=C;break;case"select":h._wrapperState={wasMultiple:!!C.multiple},L=ge({},C,{value:void 0}),qr("invalid",h);break;case"textarea":Ue(h,C),L=Te(h,C),qr("invalid",h);break;default:L=C}Jn(x,L),Ne=L;for(U in Ne)if(Ne.hasOwnProperty(U)){var je=Ne[U];U==="style"?Ft(h,je):U==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&At(h,je)):U==="children"?typeof je=="string"?(x!=="textarea"||je!=="")&&Wt(h,je):typeof je=="number"&&Wt(h,""+je):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?je!=null&&U==="onScroll"&&qr("scroll",h):je!=null&&E(h,U,je,re))}switch(x){case"input":pe(h),it(h,C,!1);break;case"textarea":pe(h),qe(h);break;case"option":C.value!=null&&h.setAttribute("value",""+ue(C.value));break;case"select":h.multiple=!!C.multiple,U=C.value,U!=null?Se(h,!!C.multiple,U,!1):C.defaultValue!=null&&Se(h,!!C.multiple,C.defaultValue,!0);break;default:typeof L.onClick=="function"&&(h.onclick=Tf)}switch(x){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Fa(g),null;case 6:if(h&&g.stateNode!=null)d3(h,g,h.memoizedProps,C);else{if(typeof C!="string"&&g.stateNode===null)throw Error(n(166));if(x=Ac(wu.current),Ac(Es.current),Oi(g)){if(C=g.stateNode,x=g.memoizedProps,C[Bl]=g,(U=C.nodeValue!==x)&&(h=Xe,h!==null))switch(h.tag){case 3:$m(C.nodeValue,x,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&$m(C.nodeValue,x,(h.mode&1)!==0)}U&&(g.flags|=4)}else C=(x.nodeType===9?x:x.ownerDocument).createTextNode(C),C[Bl]=g,g.stateNode=C}return Fa(g),null;case 13:if(jr(ti),C=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(rt&&Ze!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Gn(),Gt(),g.flags|=98560,U=!1;else if(U=Oi(g),C!==null&&C.dehydrated!==null){if(h===null){if(!U)throw Error(n(318));if(U=g.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[Bl]=g}else Gt(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Fa(g),U=!1}else st!==null&&(DE(st),st=null),U=!0;if(!U)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=x,g):(C=C!==null,C!==(h!==null&&h.memoizedState!==null)&&C&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(ti.current&1)!==0?zs===0&&(zs=3):BE())),g.updateQueue!==null&&(g.flags|=4),Fa(g),null);case 4:return $l(),EE(h,g),h===null&&wd(g.stateNode.containerInfo),Fa(g),null;case 10:return hi(g.type._context),Fa(g),null;case 17:return Da(g.type)&&zm(),Fa(g),null;case 19:if(jr(ti),U=g.memoizedState,U===null)return Fa(g),null;if(C=(g.flags&128)!==0,re=U.rendering,re===null)if(C)Ay(U,!1);else{if(zs!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(re=ol(h),re!==null){for(g.flags|=128,Ay(U,!1),C=re.updateQueue,C!==null&&(g.updateQueue=C,g.flags|=4),g.subtreeFlags=0,C=x,x=g.child;x!==null;)U=x,h=C,U.flags&=14680066,re=U.alternate,re===null?(U.childLanes=0,U.lanes=h,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=re.childLanes,U.lanes=re.lanes,U.child=re.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=re.memoizedProps,U.memoizedState=re.memoizedState,U.updateQueue=re.updateQueue,U.type=re.type,h=re.dependencies,U.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),x=x.sibling;return Ir(ti,ti.current&1|2),g.child}h=h.sibling}U.tail!==null&&zr()>eg&&(g.flags|=128,C=!0,Ay(U,!1),g.lanes=4194304)}else{if(!C)if(h=ol(re),h!==null){if(g.flags|=128,C=!0,x=h.updateQueue,x!==null&&(g.updateQueue=x,g.flags|=4),Ay(U,!0),U.tail===null&&U.tailMode==="hidden"&&!re.alternate&&!rt)return Fa(g),null}else 2*zr()-U.renderingStartTime>eg&&x!==1073741824&&(g.flags|=128,C=!0,Ay(U,!1),g.lanes=4194304);U.isBackwards?(re.sibling=g.child,g.child=re):(x=U.last,x!==null?x.sibling=re:g.child=re,U.last=re)}return U.tail!==null?(g=U.tail,U.rendering=g,U.tail=g.sibling,U.renderingStartTime=zr(),g.sibling=null,x=ti.current,Ir(ti,C?x&1|2:x&1),g):(Fa(g),null);case 22:case 23:return FE(),C=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==C&&(g.flags|=8192),C&&(g.mode&1)!==0?(ul&1073741824)!==0&&(Fa(g),g.subtreeFlags&6&&(g.flags|=8192)):Fa(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function Vse(h,g){switch($e(g),g.tag){case 1:return Da(g.type)&&zm(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return $l(),jr(Ia),jr(Bs),_y(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return Sy(g),null;case 13:if(jr(ti),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(n(340));Gt()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return jr(ti),null;case 4:return $l(),null;case 10:return hi(g.type._context),null;case 22:case 23:return FE(),null;case 24:return null;default:return null}}var Zx=!1,Ba=!1,Wse=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Qm(h,g){var x=h.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(C){es(h,g,C)}else x.current=null}function CE(h,g,x){try{x()}catch(C){es(h,g,C)}}var f3=!1;function Kse(h,g){if(cp=xf,h=Xi(),il(h)){if("selectionStart"in h)var x={start:h.selectionStart,end:h.selectionEnd};else e:{x=(x=h.ownerDocument)&&x.defaultView||window;var C=x.getSelection&&x.getSelection();if(C&&C.rangeCount!==0){x=C.anchorNode;var L=C.anchorOffset,U=C.focusNode;C=C.focusOffset;try{x.nodeType,U.nodeType}catch{x=null;break e}var re=0,Ne=-1,je=-1,Ve=0,mt=0,vt=h,ht=null;t:for(;;){for(var Ut;vt!==x||L!==0&&vt.nodeType!==3||(Ne=re+L),vt!==U||C!==0&&vt.nodeType!==3||(je=re+C),vt.nodeType===3&&(re+=vt.nodeValue.length),(Ut=vt.firstChild)!==null;)ht=vt,vt=Ut;for(;;){if(vt===h)break t;if(ht===x&&++Ve===L&&(Ne=re),ht===U&&++mt===C&&(je=re),(Ut=vt.nextSibling)!==null)break;vt=ht,ht=vt.parentNode}vt=Ut}x=Ne===-1||je===-1?null:{start:Ne,end:je}}else x=null}x=x||{start:0,end:0}}else x=null;for(Nd={focusedElem:h,selectionRange:x},xf=!1,Yt=g;Yt!==null;)if(g=Yt,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,Yt=h;else for(;Yt!==null;){g=Yt;try{var Jt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(Jt!==null){var an=Jt.memoizedProps,ms=Jt.memoizedState,Be=g.stateNode,Pe=Be.getSnapshotBeforeUpdate(g.elementType===g.type?an:Tc(g.type,an),ms);Be.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var ze=g.stateNode.containerInfo;ze.nodeType===1?ze.textContent="":ze.nodeType===9&&ze.documentElement&&ze.removeChild(ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Et){es(g,g.return,Et)}if(h=g.sibling,h!==null){h.return=g.return,Yt=h;break}Yt=g.return}return Jt=f3,f3=!1,Jt}function ky(h,g,x){var C=g.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var L=C=C.next;do{if((L.tag&h)===h){var U=L.destroy;L.destroy=void 0,U!==void 0&&CE(g,x,U)}L=L.next}while(L!==C)}}function Qx(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&h)===h){var C=x.create;x.destroy=C()}x=x.next}while(x!==g)}}function AE(h){var g=h.ref;if(g!==null){var x=h.stateNode;switch(h.tag){case 5:h=x;break;default:h=x}typeof g=="function"?g(h):g.current=h}}function h3(h){var g=h.alternate;g!==null&&(h.alternate=null,h3(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[Bl],delete g[Of],delete g[Ra],delete g[dE],delete g[fE])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function p3(h){return h.tag===5||h.tag===3||h.tag===4}function m3(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||p3(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function kE(h,g,x){var C=h.tag;if(C===5||C===6)h=h.stateNode,g?x.nodeType===8?x.parentNode.insertBefore(h,g):x.insertBefore(h,g):(x.nodeType===8?(g=x.parentNode,g.insertBefore(h,x)):(g=x,g.appendChild(h)),x=x._reactRootContainer,x!=null||g.onclick!==null||(g.onclick=Tf));else if(C!==4&&(h=h.child,h!==null))for(kE(h,g,x),h=h.sibling;h!==null;)kE(h,g,x),h=h.sibling}function jE(h,g,x){var C=h.tag;if(C===5||C===6)h=h.stateNode,g?x.insertBefore(h,g):x.appendChild(h);else if(C!==4&&(h=h.child,h!==null))for(jE(h,g,x),h=h.sibling;h!==null;)jE(h,g,x),h=h.sibling}var xa=null,Oc=!1;function Ff(h,g,x){for(x=x.child;x!==null;)g3(h,g,x),x=x.sibling}function g3(h,g,x){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Un,x)}catch{}switch(x.tag){case 5:Ba||Qm(x,g);case 6:var C=xa,L=Oc;xa=null,Ff(h,g,x),xa=C,Oc=L,xa!==null&&(Oc?(h=xa,x=x.stateNode,h.nodeType===8?h.parentNode.removeChild(x):h.removeChild(x)):xa.removeChild(x.stateNode));break;case 18:xa!==null&&(Oc?(h=xa,x=x.stateNode,h.nodeType===8?by(h.parentNode,x):h.nodeType===1&&by(h,x),Pl(h)):by(xa,x.stateNode));break;case 4:C=xa,L=Oc,xa=x.stateNode.containerInfo,Oc=!0,Ff(h,g,x),xa=C,Oc=L;break;case 0:case 11:case 14:case 15:if(!Ba&&(C=x.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){L=C=C.next;do{var U=L,re=U.destroy;U=U.tag,re!==void 0&&((U&2)!==0||(U&4)!==0)&&CE(x,g,re),L=L.next}while(L!==C)}Ff(h,g,x);break;case 1:if(!Ba&&(Qm(x,g),C=x.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=x.memoizedProps,C.state=x.memoizedState,C.componentWillUnmount()}catch(Ne){es(x,g,Ne)}Ff(h,g,x);break;case 21:Ff(h,g,x);break;case 22:x.mode&1?(Ba=(C=Ba)||x.memoizedState!==null,Ff(h,g,x),Ba=C):Ff(h,g,x);break;default:Ff(h,g,x)}}function v3(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var x=h.stateNode;x===null&&(x=h.stateNode=new Wse),g.forEach(function(C){var L=nae.bind(null,h,C);x.has(C)||(x.add(C),C.then(L,L))})}}function Pc(h,g){var x=g.deletions;if(x!==null)for(var C=0;C<x.length;C++){var L=x[C];try{var U=h,re=g,Ne=re;e:for(;Ne!==null;){switch(Ne.tag){case 5:xa=Ne.stateNode,Oc=!1;break e;case 3:xa=Ne.stateNode.containerInfo,Oc=!0;break e;case 4:xa=Ne.stateNode.containerInfo,Oc=!0;break e}Ne=Ne.return}if(xa===null)throw Error(n(160));g3(U,re,L),xa=null,Oc=!1;var je=L.alternate;je!==null&&(je.return=null),L.return=null}catch(Ve){es(L,g,Ve)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)y3(g,h),g=g.sibling}function y3(h,g){var x=h.alternate,C=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Pc(g,h),Nu(h),C&4){try{ky(3,h,h.return),Qx(3,h)}catch(an){es(h,h.return,an)}try{ky(5,h,h.return)}catch(an){es(h,h.return,an)}}break;case 1:Pc(g,h),Nu(h),C&512&&x!==null&&Qm(x,x.return);break;case 5:if(Pc(g,h),Nu(h),C&512&&x!==null&&Qm(x,x.return),h.flags&32){var L=h.stateNode;try{Wt(L,"")}catch(an){es(h,h.return,an)}}if(C&4&&(L=h.stateNode,L!=null)){var U=h.memoizedProps,re=x!==null?x.memoizedProps:U,Ne=h.type,je=h.updateQueue;if(h.updateQueue=null,je!==null)try{Ne==="input"&&U.type==="radio"&&U.name!=null&&Ge(L,U),sn(Ne,re);var Ve=sn(Ne,U);for(re=0;re<je.length;re+=2){var mt=je[re],vt=je[re+1];mt==="style"?Ft(L,vt):mt==="dangerouslySetInnerHTML"?At(L,vt):mt==="children"?Wt(L,vt):E(L,mt,vt,Ve)}switch(Ne){case"input":Nt(L,U);break;case"textarea":He(L,U);break;case"select":var ht=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!U.multiple;var Ut=U.value;Ut!=null?Se(L,!!U.multiple,Ut,!1):ht!==!!U.multiple&&(U.defaultValue!=null?Se(L,!!U.multiple,U.defaultValue,!0):Se(L,!!U.multiple,U.multiple?[]:"",!1))}L[Of]=U}catch(an){es(h,h.return,an)}}break;case 6:if(Pc(g,h),Nu(h),C&4){if(h.stateNode===null)throw Error(n(162));L=h.stateNode,U=h.memoizedProps;try{L.nodeValue=U}catch(an){es(h,h.return,an)}}break;case 3:if(Pc(g,h),Nu(h),C&4&&x!==null&&x.memoizedState.isDehydrated)try{Pl(g.containerInfo)}catch(an){es(h,h.return,an)}break;case 4:Pc(g,h),Nu(h);break;case 13:Pc(g,h),Nu(h),L=h.child,L.flags&8192&&(U=L.memoizedState!==null,L.stateNode.isHidden=U,!U||L.alternate!==null&&L.alternate.memoizedState!==null||(PE=zr())),C&4&&v3(h);break;case 22:if(mt=x!==null&&x.memoizedState!==null,h.mode&1?(Ba=(Ve=Ba)||mt,Pc(g,h),Ba=Ve):Pc(g,h),Nu(h),C&8192){if(Ve=h.memoizedState!==null,(h.stateNode.isHidden=Ve)&&!mt&&(h.mode&1)!==0)for(Yt=h,mt=h.child;mt!==null;){for(vt=Yt=mt;Yt!==null;){switch(ht=Yt,Ut=ht.child,ht.tag){case 0:case 11:case 14:case 15:ky(4,ht,ht.return);break;case 1:Qm(ht,ht.return);var Jt=ht.stateNode;if(typeof Jt.componentWillUnmount=="function"){C=ht,x=ht.return;try{g=C,Jt.props=g.memoizedProps,Jt.state=g.memoizedState,Jt.componentWillUnmount()}catch(an){es(C,x,an)}}break;case 5:Qm(ht,ht.return);break;case 22:if(ht.memoizedState!==null){w3(vt);continue}}Ut!==null?(Ut.return=ht,Yt=Ut):w3(vt)}mt=mt.sibling}e:for(mt=null,vt=h;;){if(vt.tag===5){if(mt===null){mt=vt;try{L=vt.stateNode,Ve?(U=L.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(Ne=vt.stateNode,je=vt.memoizedProps.style,re=je!=null&&je.hasOwnProperty("display")?je.display:null,Ne.style.display=_n("display",re))}catch(an){es(h,h.return,an)}}}else if(vt.tag===6){if(mt===null)try{vt.stateNode.nodeValue=Ve?"":vt.memoizedProps}catch(an){es(h,h.return,an)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===h)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===h)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===h)break e;mt===vt&&(mt=null),vt=vt.return}mt===vt&&(mt=null),vt.sibling.return=vt.return,vt=vt.sibling}}break;case 19:Pc(g,h),Nu(h),C&4&&v3(h);break;case 21:break;default:Pc(g,h),Nu(h)}}function Nu(h){var g=h.flags;if(g&2){try{e:{for(var x=h.return;x!==null;){if(p3(x)){var C=x;break e}x=x.return}throw Error(n(160))}switch(C.tag){case 5:var L=C.stateNode;C.flags&32&&(Wt(L,""),C.flags&=-33);var U=m3(h);jE(h,U,L);break;case 3:case 4:var re=C.stateNode.containerInfo,Ne=m3(h);kE(h,Ne,re);break;default:throw Error(n(161))}}catch(je){es(h,h.return,je)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function Gse(h,g,x){Yt=h,b3(h)}function b3(h,g,x){for(var C=(h.mode&1)!==0;Yt!==null;){var L=Yt,U=L.child;if(L.tag===22&&C){var re=L.memoizedState!==null||Zx;if(!re){var Ne=L.alternate,je=Ne!==null&&Ne.memoizedState!==null||Ba;Ne=Zx;var Ve=Ba;if(Zx=re,(Ba=je)&&!Ve)for(Yt=L;Yt!==null;)re=Yt,je=re.child,re.tag===22&&re.memoizedState!==null?S3(L):je!==null?(je.return=re,Yt=je):S3(L);for(;U!==null;)Yt=U,b3(U),U=U.sibling;Yt=L,Zx=Ne,Ba=Ve}x3(h)}else(L.subtreeFlags&8772)!==0&&U!==null?(U.return=L,Yt=U):x3(h)}}function x3(h){for(;Yt!==null;){var g=Yt;if((g.flags&8772)!==0){var x=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Ba||Qx(5,g);break;case 1:var C=g.stateNode;if(g.flags&4&&!Ba)if(x===null)C.componentDidMount();else{var L=g.elementType===g.type?x.memoizedProps:Tc(g.type,x.memoizedProps);C.componentDidUpdate(L,x.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var U=g.updateQueue;U!==null&&To(g,U,C);break;case 3:var re=g.updateQueue;if(re!==null){if(x=null,g.child!==null)switch(g.child.tag){case 5:x=g.child.stateNode;break;case 1:x=g.child.stateNode}To(g,re,x)}break;case 5:var Ne=g.stateNode;if(x===null&&g.flags&4){x=Ne;var je=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&x.focus();break;case"img":je.src&&(x.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ve=g.alternate;if(Ve!==null){var mt=Ve.memoizedState;if(mt!==null){var vt=mt.dehydrated;vt!==null&&Pl(vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ba||g.flags&512&&AE(g)}catch(ht){es(g,g.return,ht)}}if(g===h){Yt=null;break}if(x=g.sibling,x!==null){x.return=g.return,Yt=x;break}Yt=g.return}}function w3(h){for(;Yt!==null;){var g=Yt;if(g===h){Yt=null;break}var x=g.sibling;if(x!==null){x.return=g.return,Yt=x;break}Yt=g.return}}function S3(h){for(;Yt!==null;){var g=Yt;try{switch(g.tag){case 0:case 11:case 15:var x=g.return;try{Qx(4,g)}catch(je){es(g,x,je)}break;case 1:var C=g.stateNode;if(typeof C.componentDidMount=="function"){var L=g.return;try{C.componentDidMount()}catch(je){es(g,L,je)}}var U=g.return;try{AE(g)}catch(je){es(g,U,je)}break;case 5:var re=g.return;try{AE(g)}catch(je){es(g,re,je)}}}catch(je){es(g,g.return,je)}if(g===h){Yt=null;break}var Ne=g.sibling;if(Ne!==null){Ne.return=g.return,Yt=Ne;break}Yt=g.return}}var Yse=Math.ceil,Jx=A.ReactCurrentDispatcher,TE=A.ReactCurrentOwner,Ul=A.ReactCurrentBatchConfig,xr=0,ia=null,Cs=null,wa=0,ul=0,Jm=sl(0),zs=0,jy=null,mp=0,e1=0,OE=0,Ty=null,Po=null,PE=0,eg=1/0,jd=null,t1=!1,ME=null,Bf=null,n1=!1,$f=null,r1=0,Oy=0,RE=null,i1=-1,s1=0;function co(){return(xr&6)!==0?zr():i1!==-1?i1:i1=zr()}function zf(h){return(h.mode&1)===0?1:(xr&2)!==0&&wa!==0?wa&-wa:zi.transition!==null?(s1===0&&(s1=vf()),s1):(h=ir,h!==0||(h=window.event,h=h===void 0?16:od(h.type)),h)}function Mc(h,g,x,C){if(50<Oy)throw Oy=0,RE=null,Error(n(185));Ol(h,x,C),((xr&2)===0||h!==ia)&&(h===ia&&((xr&2)===0&&(e1|=x),zs===4&&qf(h,wa)),Mo(h,C),x===1&&xr===0&&(g.mode&1)===0&&(eg=zr()+500,dp&&V()))}function Mo(h,g){var x=h.callbackNode;yi(h,g);var C=Ls(h,h===ia?wa:0);if(C===0)x!==null&&Zs(x),h.callbackNode=null,h.callbackPriority=0;else if(g=C&-C,h.callbackPriority!==g){if(x!=null&&Zs(x),g===1)h.tag===0?$(_3.bind(null,h)):j(_3.bind(null,h)),cE(function(){(xr&6)===0&&V()}),x=null;else{switch(yn(C)){case 1:x=lu;break;case 4:x=xs;break;case 16:x=jl;break;case 536870912:x=nn;break;default:x=jl}x=P3(x,N3.bind(null,h))}h.callbackPriority=g,h.callbackNode=x}}function N3(h,g){if(i1=-1,s1=0,(xr&6)!==0)throw Error(n(327));var x=h.callbackNode;if(tg()&&h.callbackNode!==x)return null;var C=Ls(h,h===ia?wa:0);if(C===0)return null;if((C&30)!==0||(C&h.expiredLanes)!==0||g)g=a1(h,C);else{g=C;var L=xr;xr|=2;var U=C3();(ia!==h||wa!==g)&&(jd=null,eg=zr()+500,vp(h,g));do try{Qse();break}catch(Ne){E3(h,Ne)}while(!0);yr(),Jx.current=U,xr=L,Cs!==null?g=0:(ia=null,wa=0,g=zs)}if(g!==0){if(g===2&&(L=pc(h),L!==0&&(C=L,g=IE(h,L))),g===1)throw x=jy,vp(h,0),qf(h,C),Mo(h,zr()),x;if(g===6)qf(h,C);else{if(L=h.current.alternate,(C&30)===0&&!Xse(L)&&(g=a1(h,C),g===2&&(U=pc(h),U!==0&&(C=U,g=IE(h,U))),g===1))throw x=jy,vp(h,0),qf(h,C),Mo(h,zr()),x;switch(h.finishedWork=L,h.finishedLanes=C,g){case 0:case 1:throw Error(n(345));case 2:yp(h,Po,jd);break;case 3:if(qf(h,C),(C&130023424)===C&&(g=PE+500-zr(),10<g)){if(Ls(h,0)!==0)break;if(L=h.suspendedLanes,(L&C)!==C){co(),h.pingedLanes|=h.suspendedLanes&L;break}h.timeoutHandle=yy(yp.bind(null,h,Po,jd),g);break}yp(h,Po,jd);break;case 4:if(qf(h,C),(C&4194240)===C)break;for(g=h.eventTimes,L=-1;0<C;){var re=31-Mr(C);U=1<<re,re=g[re],re>L&&(L=re),C&=~U}if(C=L,C=zr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*Yse(C/1960))-C,10<C){h.timeoutHandle=yy(yp.bind(null,h,Po,jd),C);break}yp(h,Po,jd);break;case 5:yp(h,Po,jd);break;default:throw Error(n(329))}}}return Mo(h,zr()),h.callbackNode===x?N3.bind(null,h):null}function IE(h,g){var x=Ty;return h.current.memoizedState.isDehydrated&&(vp(h,g).flags|=256),h=a1(h,g),h!==2&&(g=Po,Po=x,g!==null&&DE(g)),h}function DE(h){Po===null?Po=h:Po.push.apply(Po,h)}function Xse(h){for(var g=h;;){if(g.flags&16384){var x=g.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var C=0;C<x.length;C++){var L=x[C],U=L.getSnapshot;L=L.value;try{if(!ji(U(),L))return!1}catch{return!1}}}if(x=g.child,g.subtreeFlags&16384&&x!==null)x.return=g,g=x;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function qf(h,g){for(g&=~OE,g&=~e1,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var x=31-Mr(g),C=1<<x;h[x]=-1,g&=~C}}function _3(h){if((xr&6)!==0)throw Error(n(327));tg();var g=Ls(h,0);if((g&1)===0)return Mo(h,zr()),null;var x=a1(h,g);if(h.tag!==0&&x===2){var C=pc(h);C!==0&&(g=C,x=IE(h,C))}if(x===1)throw x=jy,vp(h,0),qf(h,g),Mo(h,zr()),x;if(x===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,yp(h,Po,jd),Mo(h,zr()),null}function LE(h,g){var x=xr;xr|=1;try{return h(g)}finally{xr=x,xr===0&&(eg=zr()+500,dp&&V())}}function gp(h){$f!==null&&$f.tag===0&&(xr&6)===0&&tg();var g=xr;xr|=1;var x=Ul.transition,C=ir;try{if(Ul.transition=null,ir=1,h)return h()}finally{ir=C,Ul.transition=x,xr=g,(xr&6)===0&&V()}}function FE(){ul=Jm.current,jr(Jm)}function vp(h,g){h.finishedWork=null,h.finishedLanes=0;var x=h.timeoutHandle;if(x!==-1&&(h.timeoutHandle=-1,Fx(x)),Cs!==null)for(x=Cs.return;x!==null;){var C=x;switch($e(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&zm();break;case 3:$l(),jr(Ia),jr(Bs),_y();break;case 5:Sy(C);break;case 4:$l();break;case 13:jr(ti);break;case 19:jr(ti);break;case 10:hi(C.type._context);break;case 22:case 23:FE()}x=x.return}if(ia=h,Cs=h=Uf(h.current,null),wa=ul=g,zs=0,jy=null,OE=e1=mp=0,Po=Ty=null,Ur!==null){for(g=0;g<Ur.length;g++)if(x=Ur[g],C=x.interleaved,C!==null){x.interleaved=null;var L=C.next,U=x.pending;if(U!==null){var re=U.next;U.next=L,C.next=re}x.pending=C}Ur=null}return h}function E3(h,g){do{var x=Cs;try{if(yr(),qm.current=Kx,If){for(var C=pi.memoizedState;C!==null;){var L=C.queue;L!==null&&(L.pending=null),C=C.next}If=!1}if(zl=0,Vi=Ji=pi=null,kc=!1,Df=0,TE.current=null,x===null||x.return===null){zs=1,jy=g,Cs=null;break}e:{var U=h,re=x.return,Ne=x,je=g;if(g=wa,Ne.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Ve=je,mt=Ne,vt=mt.tag;if((mt.mode&1)===0&&(vt===0||vt===11||vt===15)){var ht=mt.alternate;ht?(mt.updateQueue=ht.updateQueue,mt.memoizedState=ht.memoizedState,mt.lanes=ht.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Ut=XD(re);if(Ut!==null){Ut.flags&=-257,ZD(Ut,re,Ne,U,g),Ut.mode&1&&YD(U,Ve,g),g=Ut,je=Ve;var Jt=g.updateQueue;if(Jt===null){var an=new Set;an.add(je),g.updateQueue=an}else Jt.add(je);break e}else{if((g&1)===0){YD(U,Ve,g),BE();break e}je=Error(n(426))}}else if(rt&&Ne.mode&1){var ms=XD(re);if(ms!==null){(ms.flags&65536)===0&&(ms.flags|=256),ZD(ms,re,Ne,U,g),jt(Zm(je,Ne));break e}}U=je=Zm(je,Ne),zs!==4&&(zs=2),Ty===null?Ty=[U]:Ty.push(U),U=re;do{switch(U.tag){case 3:U.flags|=65536,g&=-g,U.lanes|=g;var Be=KD(U,je,g);Vr(U,Be);break e;case 1:Ne=je;var Pe=U.type,ze=U.stateNode;if((U.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Bf===null||!Bf.has(ze)))){U.flags|=65536,g&=-g,U.lanes|=g;var Et=GD(U,Ne,g);Vr(U,Et);break e}}U=U.return}while(U!==null)}k3(x)}catch(un){g=un,Cs===x&&x!==null&&(Cs=x=x.return);continue}break}while(!0)}function C3(){var h=Jx.current;return Jx.current=Kx,h===null?Kx:h}function BE(){(zs===0||zs===3||zs===2)&&(zs=4),ia===null||(mp&268435455)===0&&(e1&268435455)===0||qf(ia,wa)}function a1(h,g){var x=xr;xr|=2;var C=C3();(ia!==h||wa!==g)&&(jd=null,vp(h,g));do try{Zse();break}catch(L){E3(h,L)}while(!0);if(yr(),xr=x,Jx.current=C,Cs!==null)throw Error(n(261));return ia=null,wa=0,zs}function Zse(){for(;Cs!==null;)A3(Cs)}function Qse(){for(;Cs!==null&&!fc();)A3(Cs)}function A3(h){var g=O3(h.alternate,h,ul);h.memoizedProps=h.pendingProps,g===null?k3(h):Cs=g,TE.current=null}function k3(h){var g=h;do{var x=g.alternate;if(h=g.return,(g.flags&32768)===0){if(x=Hse(x,g,ul),x!==null){Cs=x;return}}else{if(x=Vse(x,g),x!==null){x.flags&=32767,Cs=x;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{zs=6,Cs=null;return}}if(g=g.sibling,g!==null){Cs=g;return}Cs=g=h}while(g!==null);zs===0&&(zs=5)}function yp(h,g,x){var C=ir,L=Ul.transition;try{Ul.transition=null,ir=1,Jse(h,g,x,C)}finally{Ul.transition=L,ir=C}return null}function Jse(h,g,x,C){do tg();while($f!==null);if((xr&6)!==0)throw Error(n(327));x=h.finishedWork;var L=h.finishedLanes;if(x===null)return null;if(h.finishedWork=null,h.finishedLanes=0,x===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var U=x.lanes|x.childLanes;if(Fi(h,U),h===ia&&(Cs=ia=null,wa=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||n1||(n1=!0,P3(jl,function(){return tg(),null})),U=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||U){U=Ul.transition,Ul.transition=null;var re=ir;ir=1;var Ne=xr;xr|=4,TE.current=null,Kse(h,x),y3(x,h),tp(Nd),xf=!!cp,Nd=cp=null,h.current=x,Gse(x),mf(),xr=Ne,ir=re,Ul.transition=U}else h.current=x;if(n1&&(n1=!1,$f=h,r1=L),U=h.pendingLanes,U===0&&(Bf=null),ui(x.stateNode),Mo(h,zr()),g!==null)for(C=h.onRecoverableError,x=0;x<g.length;x++)L=g[x],C(L.value,{componentStack:L.stack,digest:L.digest});if(t1)throw t1=!1,h=ME,ME=null,h;return(r1&1)!==0&&h.tag!==0&&tg(),U=h.pendingLanes,(U&1)!==0?h===RE?Oy++:(Oy=0,RE=h):Oy=0,V(),null}function tg(){if($f!==null){var h=yn(r1),g=Ul.transition,x=ir;try{if(Ul.transition=null,ir=16>h?16:h,$f===null)var C=!1;else{if(h=$f,$f=null,r1=0,(xr&6)!==0)throw Error(n(331));var L=xr;for(xr|=4,Yt=h.current;Yt!==null;){var U=Yt,re=U.child;if((Yt.flags&16)!==0){var Ne=U.deletions;if(Ne!==null){for(var je=0;je<Ne.length;je++){var Ve=Ne[je];for(Yt=Ve;Yt!==null;){var mt=Yt;switch(mt.tag){case 0:case 11:case 15:ky(8,mt,U)}var vt=mt.child;if(vt!==null)vt.return=mt,Yt=vt;else for(;Yt!==null;){mt=Yt;var ht=mt.sibling,Ut=mt.return;if(h3(mt),mt===Ve){Yt=null;break}if(ht!==null){ht.return=Ut,Yt=ht;break}Yt=Ut}}}var Jt=U.alternate;if(Jt!==null){var an=Jt.child;if(an!==null){Jt.child=null;do{var ms=an.sibling;an.sibling=null,an=ms}while(an!==null)}}Yt=U}}if((U.subtreeFlags&2064)!==0&&re!==null)re.return=U,Yt=re;else e:for(;Yt!==null;){if(U=Yt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:ky(9,U,U.return)}var Be=U.sibling;if(Be!==null){Be.return=U.return,Yt=Be;break e}Yt=U.return}}var Pe=h.current;for(Yt=Pe;Yt!==null;){re=Yt;var ze=re.child;if((re.subtreeFlags&2064)!==0&&ze!==null)ze.return=re,Yt=ze;else e:for(re=Pe;Yt!==null;){if(Ne=Yt,(Ne.flags&2048)!==0)try{switch(Ne.tag){case 0:case 11:case 15:Qx(9,Ne)}}catch(un){es(Ne,Ne.return,un)}if(Ne===re){Yt=null;break e}var Et=Ne.sibling;if(Et!==null){Et.return=Ne.return,Yt=Et;break e}Yt=Ne.return}}if(xr=L,V(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Un,h)}catch{}C=!0}return C}finally{ir=x,Ul.transition=g}}return!1}function j3(h,g,x){g=Zm(x,g),g=KD(h,g,1),h=Ui(h,g,1),g=co(),h!==null&&(Ol(h,1,g),Mo(h,g))}function es(h,g,x){if(h.tag===3)j3(h,h,x);else for(;g!==null;){if(g.tag===3){j3(g,h,x);break}else if(g.tag===1){var C=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Bf===null||!Bf.has(C))){h=Zm(x,h),h=GD(g,h,1),g=Ui(g,h,1),h=co(),g!==null&&(Ol(g,1,h),Mo(g,h));break}}g=g.return}}function eae(h,g,x){var C=h.pingCache;C!==null&&C.delete(g),g=co(),h.pingedLanes|=h.suspendedLanes&x,ia===h&&(wa&x)===x&&(zs===4||zs===3&&(wa&130023424)===wa&&500>zr()-PE?vp(h,0):OE|=x),Mo(h,g)}function T3(h,g){g===0&&((h.mode&1)===0?g=1:(g=ga,ga<<=1,(ga&130023424)===0&&(ga=4194304)));var x=co();h=Hr(h,g),h!==null&&(Ol(h,g,x),Mo(h,x))}function tae(h){var g=h.memoizedState,x=0;g!==null&&(x=g.retryLane),T3(h,x)}function nae(h,g){var x=0;switch(h.tag){case 13:var C=h.stateNode,L=h.memoizedState;L!==null&&(x=L.retryLane);break;case 19:C=h.stateNode;break;default:throw Error(n(314))}C!==null&&C.delete(g),T3(h,x)}var O3;O3=function(h,g,x){if(h!==null)if(h.memoizedProps!==g.pendingProps||Ia.current)Oo=!0;else{if((h.lanes&x)===0&&(g.flags&128)===0)return Oo=!1,Use(h,g,x);Oo=(h.flags&131072)!==0}else Oo=!1,rt&&(g.flags&1048576)!==0&&Ie(g,ce,g.index);switch(g.lanes=0,g.tag){case 2:var C=g.type;Xx(h,g),h=g.pendingProps;var L=Mf(g,Bs.current);Pi(g,x),L=fp(null,g,C,h,L,x);var U=ql();return g.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Da(C)?(U=!0,Cd(g)):U=!1,g.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,$s(g),L.updater=Gx,g.stateNode=L,L._reactInternals=g,gE(g,C,h,x),g=xE(null,g,C,!0,U,x)):(g.tag=0,rt&&U&&Je(g),lo(null,g,L,x),g=g.child),g;case 16:C=g.elementType;e:{switch(Xx(h,g),h=g.pendingProps,L=C._init,C=L(C._payload),g.type=C,L=g.tag=iae(C),h=Tc(C,h),L){case 0:g=bE(null,g,C,h,x);break e;case 1:g=r3(null,g,C,h,x);break e;case 11:g=QD(null,g,C,h,x);break e;case 14:g=JD(null,g,C,Tc(C.type,h),x);break e}throw Error(n(306,C,""))}return g;case 0:return C=g.type,L=g.pendingProps,L=g.elementType===C?L:Tc(C,L),bE(h,g,C,L,x);case 1:return C=g.type,L=g.pendingProps,L=g.elementType===C?L:Tc(C,L),r3(h,g,C,L,x);case 3:e:{if(i3(g),h===null)throw Error(n(387));C=g.pendingProps,U=g.memoizedState,L=U.element,La(h,g),ra(g,C,null,x);var re=g.memoizedState;if(C=re.element,U.isDehydrated)if(U={element:C,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},g.updateQueue.baseState=U,g.memoizedState=U,g.flags&256){L=Zm(Error(n(423)),g),g=s3(h,g,C,x,L);break e}else if(C!==L){L=Zm(Error(n(424)),g),g=s3(h,g,C,x,L);break e}else for(Ze=ba(g.stateNode.containerInfo.firstChild),Xe=g,rt=!0,st=null,x=wi(g,null,C,x),g.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Gt(),C===L){g=kd(h,g,x);break e}lo(h,g,C,x)}g=g.child}return g;case 5:return qx(g),h===null&&Qt(g),C=g.type,L=g.pendingProps,U=h!==null?h.memoizedProps:null,re=L.children,vy(C,L)?re=null:U!==null&&vy(C,U)&&(g.flags|=32),n3(h,g),lo(h,g,re,x),g.child;case 6:return h===null&&Qt(g),null;case 13:return a3(h,g,x);case 4:return Rf(g,g.stateNode.containerInfo),C=g.pendingProps,h===null?g.child=Zi(g,null,C,x):lo(h,g,C,x),g.child;case 11:return C=g.type,L=g.pendingProps,L=g.elementType===C?L:Tc(C,L),QD(h,g,C,L,x);case 7:return lo(h,g,g.pendingProps,x),g.child;case 8:return lo(h,g,g.pendingProps.children,x),g.child;case 12:return lo(h,g,g.pendingProps.children,x),g.child;case 10:e:{if(C=g.type._context,L=g.pendingProps,U=g.memoizedProps,re=L.value,Ir(hs,C._currentValue),C._currentValue=re,U!==null)if(ji(U.value,re)){if(U.children===L.children&&!Ia.current){g=kd(h,g,x);break e}}else for(U=g.child,U!==null&&(U.return=g);U!==null;){var Ne=U.dependencies;if(Ne!==null){re=U.child;for(var je=Ne.firstContext;je!==null;){if(je.context===C){if(U.tag===1){je=qi(-1,x&-x),je.tag=2;var Ve=U.updateQueue;if(Ve!==null){Ve=Ve.shared;var mt=Ve.pending;mt===null?je.next=je:(je.next=mt.next,mt.next=je),Ve.pending=je}}U.lanes|=x,je=U.alternate,je!==null&&(je.lanes|=x),br(U.return,x,g),Ne.lanes|=x;break}je=je.next}}else if(U.tag===10)re=U.type===g.type?null:U.child;else if(U.tag===18){if(re=U.return,re===null)throw Error(n(341));re.lanes|=x,Ne=re.alternate,Ne!==null&&(Ne.lanes|=x),br(re,x,g),re=U.sibling}else re=U.child;if(re!==null)re.return=U;else for(re=U;re!==null;){if(re===g){re=null;break}if(U=re.sibling,U!==null){U.return=re.return,re=U;break}re=re.return}U=re}lo(h,g,L.children,x),g=g.child}return g;case 9:return L=g.type,C=g.pendingProps.children,Pi(g,x),L=Mi(L),C=C(L),g.flags|=1,lo(h,g,C,x),g.child;case 14:return C=g.type,L=Tc(C,g.pendingProps),L=Tc(C.type,L),JD(h,g,C,L,x);case 15:return e3(h,g,g.type,g.pendingProps,x);case 17:return C=g.type,L=g.pendingProps,L=g.elementType===C?L:Tc(C,L),Xx(h,g),g.tag=1,Da(C)?(h=!0,Cd(g)):h=!1,Pi(g,x),VD(g,C,L),gE(g,C,L,x),xE(null,g,C,!0,h,x);case 19:return l3(h,g,x);case 22:return t3(h,g,x)}throw Error(n(156,g.tag))};function P3(h,g){return dc(h,g)}function rae(h,g,x,C){this.tag=h,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(h,g,x,C){return new rae(h,g,x,C)}function $E(h){return h=h.prototype,!(!h||!h.isReactComponent)}function iae(h){if(typeof h=="function")return $E(h)?1:0;if(h!=null){if(h=h.$$typeof,h===F)return 11;if(h===K)return 14}return 2}function Uf(h,g){var x=h.alternate;return x===null?(x=Hl(h.tag,g,h.key,h.mode),x.elementType=h.elementType,x.type=h.type,x.stateNode=h.stateNode,x.alternate=h,h.alternate=x):(x.pendingProps=g,x.type=h.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=h.flags&14680064,x.childLanes=h.childLanes,x.lanes=h.lanes,x.child=h.child,x.memoizedProps=h.memoizedProps,x.memoizedState=h.memoizedState,x.updateQueue=h.updateQueue,g=h.dependencies,x.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},x.sibling=h.sibling,x.index=h.index,x.ref=h.ref,x}function o1(h,g,x,C,L,U){var re=2;if(C=h,typeof h=="function")$E(h)&&(re=1);else if(typeof h=="string")re=5;else e:switch(h){case R:return bp(x.children,L,U,g);case T:re=8,L|=8;break;case M:return h=Hl(12,x,g,L|2),h.elementType=M,h.lanes=U,h;case q:return h=Hl(13,x,g,L),h.elementType=q,h.lanes=U,h;case z:return h=Hl(19,x,g,L),h.elementType=z,h.lanes=U,h;case H:return l1(x,L,U,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case B:re=10;break e;case O:re=9;break e;case F:re=11;break e;case K:re=14;break e;case Z:re=16,C=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return g=Hl(re,x,g,L),g.elementType=h,g.type=C,g.lanes=U,g}function bp(h,g,x,C){return h=Hl(7,h,C,g),h.lanes=x,h}function l1(h,g,x,C){return h=Hl(22,h,C,g),h.elementType=H,h.lanes=x,h.stateNode={isHidden:!1},h}function zE(h,g,x){return h=Hl(6,h,null,g),h.lanes=x,h}function qE(h,g,x){return g=Hl(4,h.children!==null?h.children:[],h.key,g),g.lanes=x,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function sae(h,g,x,C,L){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tl(0),this.expirationTimes=Tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.identifierPrefix=C,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function UE(h,g,x,C,L,U,re,Ne,je){return h=new sae(h,g,x,Ne,je),g===1?(g=1,U===!0&&(g|=8)):g=0,U=Hl(3,null,null,g),h.current=U,U.stateNode=h,U.memoizedState={element:C,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(U),h}function aae(h,g,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:C==null?null:""+C,children:h,containerInfo:g,implementation:x}}function M3(h){if(!h)return xu;h=h._reactInternals;e:{if(Ai(h)!==h||h.tag!==1)throw Error(n(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Da(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(h.tag===1){var x=h.type;if(Da(x))return wy(h,x,g)}return g}function R3(h,g,x,C,L,U,re,Ne,je){return h=UE(x,C,!0,h,L,U,re,Ne,je),h.context=M3(null),x=h.current,C=co(),L=zf(x),U=qi(C,L),U.callback=g??null,Ui(x,U,L),h.current.lanes=L,Ol(h,L,C),Mo(h,C),h}function c1(h,g,x,C){var L=g.current,U=co(),re=zf(L);return x=M3(x),g.context===null?g.context=x:g.pendingContext=x,g=qi(U,re),g.payload={element:h},C=C===void 0?null:C,C!==null&&(g.callback=C),h=Ui(L,g,re),h!==null&&(Mc(h,L,re,U),na(h,L,re)),re}function u1(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function I3(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var x=h.retryLane;h.retryLane=x!==0&&x<g?x:g}}function HE(h,g){I3(h,g),(h=h.alternate)&&I3(h,g)}function oae(){return null}var D3=typeof reportError=="function"?reportError:function(h){console.error(h)};function VE(h){this._internalRoot=h}d1.prototype.render=VE.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(n(409));c1(h,g,null,null)},d1.prototype.unmount=VE.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;gp(function(){c1(null,h,null,null)}),g[ea]=null}};function d1(h){this._internalRoot=h}d1.prototype.unstable_scheduleHydration=function(h){if(h){var g=gc();h={blockedOn:null,target:h,priority:g};for(var x=0;x<Gi.length&&g!==0&&g<Gi[x].priority;x++);Gi.splice(x,0,h),x===0&&Pm(h)}};function WE(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function f1(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function L3(){}function lae(h,g,x,C,L){if(L){if(typeof C=="function"){var U=C;C=function(){var Ve=u1(re);U.call(Ve)}}var re=R3(g,C,h,0,null,!1,!1,"",L3);return h._reactRootContainer=re,h[ea]=re.current,wd(h.nodeType===8?h.parentNode:h),gp(),re}for(;L=h.lastChild;)h.removeChild(L);if(typeof C=="function"){var Ne=C;C=function(){var Ve=u1(je);Ne.call(Ve)}}var je=UE(h,0,!1,null,null,!1,!1,"",L3);return h._reactRootContainer=je,h[ea]=je.current,wd(h.nodeType===8?h.parentNode:h),gp(function(){c1(g,je,x,C)}),je}function h1(h,g,x,C,L){var U=x._reactRootContainer;if(U){var re=U;if(typeof L=="function"){var Ne=L;L=function(){var je=u1(re);Ne.call(je)}}c1(g,re,h,L)}else re=lae(x,g,h,L,C);return u1(re)}mc=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var x=ja(g.pendingLanes);x!==0&&(cu(g,x|1),Mo(g,zr()),(xr&6)===0&&(eg=zr()+500,V()))}break;case 13:gp(function(){var C=Hr(h,1);if(C!==null){var L=co();Mc(C,h,1,L)}}),HE(h,1)}},bi=function(h){if(h.tag===13){var g=Hr(h,134217728);if(g!==null){var x=co();Mc(g,h,134217728,x)}HE(h,134217728)}},mr=function(h){if(h.tag===13){var g=zf(h),x=Hr(h,g);if(x!==null){var C=co();Mc(x,h,g,C)}HE(h,g)}},gc=function(){return ir},Ta=function(h,g){var x=ir;try{return ir=h,g()}finally{ir=x}},_r=function(h,g,x){switch(g){case"input":if(Nt(h,x),g=x.name,x.type==="radio"&&g!=null){for(x=h;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<x.length;g++){var C=x[g];if(C!==h&&C.form===h.form){var L=up(C);if(!L)throw Error(n(90));xe(C),Nt(C,L)}}}break;case"textarea":He(h,x);break;case"select":g=x.value,g!=null&&Se(h,!!x.multiple,g,!1)}},lt=LE,Tt=gp;var cae={usingClientEntryPoint:!1,Events:[Pf,_d,up,we,We,LE]},Py={findFiberByHostInstance:bu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uae={bundleType:Py.bundleType,version:Py.version,rendererPackageName:Py.rendererPackageName,rendererConfig:Py.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=eo(h),h===null?null:h.stateNode},findFiberByHostInstance:Py.findFiberByHostInstance||oae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{Un=p1.inject(uae),Qn=p1}catch{}}return Ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cae,Ro.createPortal=function(h,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WE(g))throw Error(n(200));return aae(h,g,null,x)},Ro.createRoot=function(h,g){if(!WE(h))throw Error(n(299));var x=!1,C="",L=D3;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onRecoverableError!==void 0&&(L=g.onRecoverableError)),g=UE(h,1,!1,null,null,x,!1,C,L),h[ea]=g.current,wd(h.nodeType===8?h.parentNode:h),new VE(g)},Ro.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=eo(g),h=h===null?null:h.stateNode,h},Ro.flushSync=function(h){return gp(h)},Ro.hydrate=function(h,g,x){if(!f1(g))throw Error(n(200));return h1(null,h,g,!0,x)},Ro.hydrateRoot=function(h,g,x){if(!WE(h))throw Error(n(405));var C=x!=null&&x.hydratedSources||null,L=!1,U="",re=D3;if(x!=null&&(x.unstable_strictMode===!0&&(L=!0),x.identifierPrefix!==void 0&&(U=x.identifierPrefix),x.onRecoverableError!==void 0&&(re=x.onRecoverableError)),g=R3(g,null,h,1,x??null,L,!1,U,re),h[ea]=g.current,wd(h),C)for(h=0;h<C.length;h++)x=C[h],L=x._getVersion,L=L(x._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[x,L]:g.mutableSourceEagerHydrationData.push(x,L);return new d1(g)},Ro.render=function(h,g,x){if(!f1(g))throw Error(n(200));return h1(null,h,g,!1,x)},Ro.unmountComponentAtNode=function(h){if(!f1(h))throw Error(n(40));return h._reactRootContainer?(gp(function(){h1(null,null,h,!1,function(){h._reactRootContainer=null,h[ea]=null})}),!0):!1},Ro.unstable_batchedUpdates=LE,Ro.unstable_renderSubtreeIntoContainer=function(h,g,x,C){if(!f1(x))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return h1(h,g,x,!1,C)},Ro.version="18.3.1-next-f1338f8080-20240426",Ro}var V3;function oV(){if(V3)return YE.exports;V3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),YE.exports=yae(),YE.exports}var W3;function bae(){if(W3)return g1;W3=1;var t=oV();return g1.createRoot=t.createRoot,g1.hydrateRoot=t.hydrateRoot,g1}var xae=bae();function wae(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,a=[],o="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(a.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~r?r:~s?s:i.length)),o+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~r?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var S=K0();const Ce=Pr(S),ZM=fae({__proto__:null,default:Ce},[S]);var QE={exports:{}},JE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3;function Sae(){if(K3)return JE;K3=1;var t=K0();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(f,m){var p=m(),b=r({inst:{value:p,getSnapshot:m}}),v=b[0].inst,y=b[1];return s(function(){v.value=p,v.getSnapshot=m,c(v)&&y({inst:v})},[f,p,m]),i(function(){return c(v)&&y({inst:v}),f(function(){c(v)&&y({inst:v})})},[f]),a(p),p}function c(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!n(f,p)}catch{return!0}}function u(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return JE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,JE}var G3;function lV(){return G3||(G3=1,QE.exports=Sae()),QE.exports}var pN=lV();const Nae=ZM.useInsertionEffect,_ae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cV=_ae?S.useLayoutEffect:S.useEffect,Eae=Nae||cV,QM=t=>{const e=S.useRef([t,(...n)=>e[0](...n)]).current;return Eae(()=>{e[0]=t}),e[1]},Cae="popstate",JM="pushState",eR="replaceState",Aae="hashchange",Y3=[Cae,JM,eR,Aae],kae=t=>{for(const e of Y3)addEventListener(e,t);return()=>{for(const e of Y3)removeEventListener(e,t)}},uV=(t,e)=>pN.useSyncExternalStore(kae,t,e),jae=()=>location.search,Tae=({ssrSearch:t=""}={})=>uV(jae,()=>t),X3=()=>location.pathname,Oae=({ssrPath:t}={})=>uV(X3,t?()=>t:X3),Pae=(t,{replace:e=!1,state:n=null}={})=>history[e?eR:JM](n,"",t),Mae=(t={})=>[Oae(t),Pae],Z3=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Z3]>"u"){for(const t of[JM,eR]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Z3,{value:!0})}const Rae=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",dV=(t="")=>t==="/"?"":t,Iae=(t,e)=>t[0]==="~"?t.slice(1):dV(e)+t,Dae=(t="",e)=>Rae(Q3(dV(t)),Q3(e)),Q3=t=>{try{return decodeURI(t)}catch{return t}},fV={hook:Mae,searchHook:Tae,parser:wae,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},hV=S.createContext(fV),wm=()=>S.useContext(hV),pV={},mV=S.createContext(pV),tR=()=>S.useContext(mV),G0=t=>{const[e,n]=t.hook(t);return[Dae(t.base,e),QM((r,i)=>n(Iae(r,t.base),i))]},Ko=()=>G0(wm()),nR=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=i.exec(n)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,m)=>[f,c[m]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[o]:[]]:[!1,null]},mN=t=>nR(wm().parser,t,Ko()[0]),Lae=({children:t,...e})=>{const n=wm(),r=e.hook?fV:n;let i=r;const[s,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let o=S.useRef({}),c=o.current,u=c;for(let d in r){const f=d==="base"?r[d]+(e[d]||""):e[d]||r[d];c===u&&f!==u[d]&&(o.current=u={...u}),u[d]=f,(f!==r[d]||f!==i[d])&&(i=u)}return S.createElement(hV.Provider,{value:i,children:t})},J3=({children:t,component:e},n)=>e?S.createElement(e,{params:n}):typeof t=="function"?t(n):t,Fae=t=>{let e=S.useRef(pV);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},ni=({path:t,nest:e,match:n,...r})=>{const i=wm(),[s]=G0(i),[a,o,c]=n??nR(i.parser,t,s,e),u=Fae({...tR(),...o});if(!a)return null;const d=c?S.createElement(Lae,{base:c},J3(r,u)):J3(r,u);return S.createElement(mV.Provider,{value:u,children:d})},wl=S.forwardRef((t,e)=>{const n=wm(),[r,i]=G0(n),{to:s="",href:a=s,onClick:o,asChild:c,children:u,className:d,replace:f,state:m,...p}=t,b=QM(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o?.(y),y.defaultPrevented||(y.preventDefault(),i(a,t)))}),v=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&S.isValidElement(u)?S.cloneElement(u,{onClick:b,href:v}):S.createElement("a",{...p,onClick:b,href:v,className:d?.call?d(r===a):d,children:u,ref:e})}),gV=t=>Array.isArray(t)?t.flatMap(e=>gV(e&&e.type===S.Fragment?e.props.children:e)):[t],eL=({children:t,location:e})=>{const n=wm(),[r]=G0(n);for(const i of gV(t)){let s=0;if(S.isValidElement(i)&&(s=nR(n.parser,i.props.path,e||r,i.props.nest))[0])return S.cloneElement(i,{match:s})}return null},v1=t=>{const{to:e,href:n=e}=t,r=wm(),[,i]=G0(r),s=QM(()=>i(e||n,t)),{ssrContext:a}=r;return cV(()=>{s()},[]),a&&(a.redirectTo=e),null};var Lv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bae={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},$ae=class{#e=Bae;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Tp=new $ae;function zae(t){setTimeout(t,0)}var Zp=typeof window>"u"||"Deno"in globalThis;function fo(){}function qae(t,e){return typeof t=="function"?t(e):t}function FT(t){return typeof t=="number"&&t>=0&&t!==1/0}function vV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gh(t,e){return typeof t=="function"?t(e):t}function Xl(t,e){return typeof t=="function"?t(e):t}function tL(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==rR(a,e.options))return!1}else if(!Lb(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function nL(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Qp(e.options.mutationKey)!==Qp(s))return!1}else if(!Lb(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function rR(t,e){return(e?.queryKeyHashFn||Qp)(t)}function Qp(t){return JSON.stringify(t,(e,n)=>BT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Lb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Lb(t[n],e[n])):!1}var Uae=Object.prototype.hasOwnProperty;function yV(t,e){if(t===e)return t;const n=rL(t)&&rL(e);if(!n&&!(BT(t)&&BT(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,o=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u],f=t[d],m=e[d];if(f===m){o[d]=f,(n?u<i:Uae.call(t,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){o[d]=m;continue}const p=yV(f,m);o[d]=p,p===f&&c++}return i===a&&c===i?t:o}function Gw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function BT(t){if(!iL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!iL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function iL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hae(t){return new Promise(e=>{Tp.setTimeout(e,t)})}function $T(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yV(t,e):e}function Vae(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Wae(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var iR=Symbol();function bV(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===iR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function xV(t,e){return typeof t=="function"?t(...e):!!t}var Kae=class extends Lv{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Zp&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},sR=new Kae;function zT(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Gae=zae;function Yae(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=Gae;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Ws=Yae(),Xae=class extends Lv{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Zp&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Yw=new Xae;function Zae(t){return Math.min(1e3*2**t,3e4)}function wV(t){return(t??"online")==="online"?Yw.isOnline():!0}var qT=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function SV(t){let e=!1,n=0,r;const i=zT(),s=()=>i.status!=="pending",a=v=>{if(!s()){const y=new qT(v);m(y),t.onCancel?.(y)}},o=()=>{e=!0},c=()=>{e=!1},u=()=>sR.isFocused()&&(t.networkMode==="always"||Yw.isOnline())&&t.canRun(),d=()=>wV(t.networkMode)&&t.canRun(),f=v=>{s()||(r?.(),i.resolve(v))},m=v=>{s()||(r?.(),i.reject(v))},p=()=>new Promise(v=>{r=y=>{(s()||u())&&v(y)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),b=()=>{if(s())return;let v;const y=n===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{if(s())return;const _=t.retry??(Zp?0:3),E=t.retryDelay??Zae,A=typeof E=="function"?E(n,w):E,k=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!k){m(w);return}n++,t.onFail?.(n,w),Hae(A).then(()=>u()?void 0:p()).then(()=>{e?m(w):b()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),i)}}var NV=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FT(this.gcTime)&&(this.#e=Tp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zp?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Tp.clearTimeout(this.#e),this.#e=void 0)}},Qae=class extends NV{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=sL(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=sL(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=$T(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(fo).catch(fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Xl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vV(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const o=bV(this.options,e),u=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(o,u,this):o(u)},a=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=SV({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof qT&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(o,c)=>{this.#s({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof qT){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#s({type:"error",error:o}),this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._V(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Ws.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function _V(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jae=class extends Lv{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=zT(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),aL(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return UT(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return UT(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xl(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!Gw(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&oL(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Xl(this.options.enabled,this.#t)!==Xl(e.enabled,this.#t)||gh(this.options.staleTime,this.#t)!==gh(e.staleTime,this.#t))&&this.#g();const i=this.#v();r&&(this.#t!==n||Xl(this.options.enabled,this.#t)!==Xl(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return toe(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(fo)),e}#g(){this.#x();const t=gh(this.options.staleTime,this.#t);if(Zp||this.#i.isStale||!FT(t))return;const n=vV(this.#i.dataUpdatedAt,t)+1;this.#c=Tp.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Zp||Xl(this.options.enabled,this.#t)===!1||!FT(this.#l)||this.#l===0)&&(this.#u=Tp.setInterval(()=>{(this.options.refetchIntervalInBackground||sR.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(Tp.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Tp.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,s=this.#r,a=this.#a,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,m;if(e._optimisticResults){const T=this.hasListeners(),M=!T&&aL(t,e),B=T&&oL(t,n,e,r);(M||B)&&(d={...d,..._V(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:b,status:v}=d;m=d.data;let y=!1;if(e.placeholderData!==void 0&&m===void 0&&v==="pending"){let T;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(T=i.data,y=!0):T=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,T!==void 0&&(v="success",m=$T(i?.data,T,e),f=!0)}if(e.select&&m!==void 0&&!y)if(i&&m===s?.data&&e.select===this.#m)m=this.#f;else try{this.#m=e.select,m=e.select(m),m=$T(i?.data,m,e),this.#f=m,this.#s=null}catch(T){this.#s=T}this.#s&&(p=this.#s,m=this.#f,b=Date.now(),v="error");const w=d.fetchStatus==="fetching",_=v==="pending",E=v==="error",A=_&&w,k=m!==void 0,R={status:v,fetchStatus:d.fetchStatus,isPending:_,isSuccess:v==="success",isError:E,isInitialLoading:A,isLoading:A,data:m,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:b,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!_,isLoadingError:E&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:E&&k,isStale:aR(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Xl(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=O=>{R.status==="error"?O.reject(R.error):R.data!==void 0&&O.resolve(R.data)},M=()=>{const O=this.#o=R.promise=zT();T(O)},B=this.#o;switch(B.status){case"pending":t.queryHash===n.queryHash&&T(B);break;case"fulfilled":(R.status==="error"||R.data!==B.value)&&M();break;case"rejected":(R.status!=="error"||R.error!==B.reason)&&M();break}}return R}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Gw(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const o=a;return this.#i[o]!==t[o]&&s.has(o)})};this.#N({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#N(t){Ws.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function eoe(t,e){return Xl(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function aL(t,e){return eoe(t,e)||t.state.data!==void 0&&UT(t,e,e.refetchOnMount)}function UT(t,e,n){if(Xl(e.enabled,t)!==!1&&gh(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&aR(t,e)}return!1}function oL(t,e,n,r){return(t!==e||Xl(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&aR(t,n)}function aR(t,e){return Xl(e.enabled,t)!==!1&&t.isStaleByTime(gh(e.staleTime,t))}function toe(t,e){return!Gw(t.getCurrentResult(),e)}function lL(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},m=bV(e.options,e.fetchOptions),p=async(b,v,y)=>{if(d)return Promise.reject();if(v==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:v,direction:y?"backward":"forward",meta:e.options.meta};return f(P),P})(),E=await m(_),{maxPages:A}=e.options,k=y?Wae:Vae;return{pages:k(b.pages,E,A),pageParams:k(b.pageParams,v,A)}};if(i&&s.length){const b=i==="backward",v=b?noe:cL,y={pages:s,pageParams:a},w=v(r,y);o=await p(y,w,b)}else{const b=t??s.length;do{const v=c===0?a[0]??r.initialPageParam:cL(r,o);if(c>0&&v==null)break;o=await p(o,v),c++}while(c<b)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function cL(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function noe(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var roe=class extends NV{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||EV(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=SV({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ws.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function EV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ioe=class extends Lv{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new roe({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=y1(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=y1(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=y1(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=y1(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ws.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>nL(e,n))}findAll(t={}){return this.getAll().filter(e=>nL(t,e))}notify(t){Ws.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ws.batch(()=>Promise.all(t.map(e=>e.continue().catch(fo))))}};function y1(t){return t.options.scope?.id}var soe=class extends Lv{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Gw(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Qp(n.mutationKey)!==Qp(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??EV();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Ws.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},aoe=class extends Lv{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??rR(r,e);let s=this.get(i);return s||(s=new Qae({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ws.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>tL(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>tL(t,n)):e}notify(t){Ws.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ws.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ws.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ooe=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new aoe,this.#t=t.mutationCache||new ioe,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=sR.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Yw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(gh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=qae(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ws.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Ws.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Ws.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ws.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fo).catch(fo)}invalidateQueries(t,e={}){return Ws.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ws.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(fo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(fo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(gh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fo).catch(fo)}fetchInfiniteQuery(t){return t.behavior=lL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fo).catch(fo)}ensureInfiniteQueryData(t){return t.behavior=lL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yw.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Qp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Lb(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Qp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Lb(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===iR&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},CV=S.createContext(void 0),Fv=t=>{const e=S.useContext(CV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},loe=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(CV.Provider,{value:t,children:e})),AV=S.createContext(!1),coe=()=>S.useContext(AV);AV.Provider;function uoe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var doe=S.createContext(uoe()),foe=()=>S.useContext(doe),hoe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},poe=t=>{S.useEffect(()=>{t.clearReset()},[t])},moe=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||xV(n,[t.error,r])),goe=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},voe=(t,e)=>t.isLoading&&t.isFetching&&!e,yoe=(t,e)=>t?.suspense&&e.isPending,uL=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function boe(t,e,n){const r=coe(),i=foe(),s=Fv(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",goe(a),hoe(a,i),poe(i);const o=!s.getQueryCache().get(a.queryHash),[c]=S.useState(()=>new e(s,a)),u=c.getOptimisticResult(a),d=!r&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(f=>{const m=d?c.subscribe(Ws.batchCalls(f)):fo;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(a)},[a,c]),yoe(a,u))throw uL(a,c,i);if(moe({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!Zp&&voe(u,r)&&(o?uL(a,c,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(fo).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?u:c.trackResult(u)}function Sn(t,e){return boe(t,Jae)}function hn(t,e){const n=Fv(),[r]=S.useState(()=>new soe(n,t));S.useEffect(()=>{r.setOptions(t)},[r,t]);const i=S.useSyncExternalStore(S.useCallback(a=>r.subscribe(Ws.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=S.useCallback((a,o)=>{r.mutate(a,o).catch(fo)},[r]);if(i.error&&xV(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function kV(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function tn(t,e,n,r){const i=localStorage.getItem("token"),s={};n&&(s["Content-Type"]="application/json"),i&&(s.Authorization=`Bearer ${i}`);const a=new AbortController;try{const o=await fetch(e,{method:t,headers:s,body:n?JSON.stringify(n):void 0,credentials:"include",signal:a.signal});await kV(o);const c=o.headers.get("content-type")||"";return o.status===204||!c.includes("application/json")?{}:o.json()}catch(o){throw o.name==="AbortError"?new Error(`La peticin tard ms de ${0/1e3}s y fue cancelada`):o}finally{}}const jV=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("token"),r={};n&&(r.Authorization=`Bearer ${n}`);const i=await fetch(e.join("/"),{headers:r,credentials:"include"});return t==="returnNull"&&i.status===401?null:(await kV(i),await i.json())},rn=new ooe({defaultOptions:{queries:{queryFn:jV({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),xoe=1,woe=1e6;let eC=0;function Soe(){return eC=(eC+1)%Number.MAX_SAFE_INTEGER,eC.toString()}const tC=new Map,dL=t=>{if(tC.has(t))return;const e=setTimeout(()=>{tC.delete(t),hb({type:"REMOVE_TOAST",toastId:t})},woe);tC.set(t,e)},Noe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,xoe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?dL(n):t.toasts.forEach(r=>{dL(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ww=[];let Sw={toasts:[]};function hb(t){Sw=Noe(Sw,t),ww.forEach(e=>{e(Sw)})}function _oe({...t}){const e=Soe(),n=i=>hb({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>hb({type:"DISMISS_TOAST",toastId:e});return hb({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function li(){const[t,e]=S.useState(Sw);return S.useEffect(()=>(ww.push(e),()=>{const n=ww.indexOf(e);n>-1&&ww.splice(n,1)}),[t]),{...t,toast:_oe,dismiss:n=>hb({type:"DISMISS_TOAST",toastId:n})}}var Uc=oV();const TV=Pr(Uc);function qt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function fL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jp(...t){return e=>{let n=!1;const r=t.map(i=>{const s=fL(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():fL(t[i],null)}}}}function zn(...t){return S.useCallback(Jp(...t),t)}function Eoe(t,e){const n=S.createContext(e),r=s=>{const{children:a,...o}=s,c=S.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=S.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function bo(t,e=[]){let n=[];function r(s,a){const o=S.createContext(a),c=n.length;n=[...n,a];const u=f=>{const{scope:m,children:p,...b}=f,v=m?.[t]?.[c]||o,y=S.useMemo(()=>b,Object.values(b));return l.jsx(v.Provider,{value:y,children:p})};u.displayName=s+"Provider";function d(f,m){const p=m?.[t]?.[c]||o,b=S.useContext(p);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>S.createContext(a));return function(o){const c=o?.[t]||s;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[r,Coe(i,...e)]}function Coe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function em(t){const e=Aoe(t),n=S.forwardRef((r,i)=>{const{children:s,...a}=r,o=S.Children.toArray(s),c=o.find(koe);if(c){const u=c.props.children,d=o.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Y0=em("Slot");function Aoe(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const a=Toe(i),o=joe(s,i.props);return i.type!==S.Fragment&&(o.ref=r?Jp(r,a):a),S.cloneElement(i,o)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OV=Symbol("radix.slottable");function PV(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=OV,e}function koe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OV}function joe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Toe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gN(t){const e=t+"CollectionProvider",[n,r]=bo(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:y,children:w}=v,_=Ce.useRef(null),E=Ce.useRef(new Map).current;return l.jsx(i,{scope:y,itemMap:E,collectionRef:_,children:w})};a.displayName=e;const o=t+"CollectionSlot",c=em(o),u=Ce.forwardRef((v,y)=>{const{scope:w,children:_}=v,E=s(o,w),A=zn(y,E.collectionRef);return l.jsx(c,{ref:A,children:_})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=em(d),p=Ce.forwardRef((v,y)=>{const{scope:w,children:_,...E}=v,A=Ce.useRef(null),k=zn(y,A),P=s(d,w);return Ce.useEffect(()=>(P.itemMap.set(A,{ref:A,...E}),()=>void P.itemMap.delete(A))),l.jsx(m,{[f]:"",ref:k,children:_})});p.displayName=d;function b(v){const y=s(t+"CollectionConsumer",v);return Ce.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const E=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((P,R)=>E.indexOf(P.ref.current)-E.indexOf(R.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},b,r]}var Ooe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=Ooe.reduce((t,e)=>{const n=em(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function MV(t,e){t&&Uc.flushSync(()=>t.dispatchEvent(e))}function Ts(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>e.current?.(...n),[])}function Poe(t,e=globalThis?.document){const n=Ts(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Moe="DismissableLayer",HT="dismissableLayer.update",Roe="dismissableLayer.pointerDownOutside",Ioe="dismissableLayer.focusOutside",hL,RV=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bv=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=S.useContext(RV),[d,f]=S.useState(null),m=d?.ownerDocument??globalThis?.document,[,p]=S.useState({}),b=zn(e,R=>f(R)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(y),_=d?v.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,A=_>=w,k=Loe(R=>{const T=R.target,M=[...u.branches].some(B=>B.contains(T));!A||M||(i?.(R),a?.(R),R.defaultPrevented||o?.())},m),P=Foe(R=>{const T=R.target;[...u.branches].some(B=>B.contains(T))||(s?.(R),a?.(R),R.defaultPrevented||o?.())},m);return Poe(R=>{_===u.layers.size-1&&(r?.(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},m),S.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),pL(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=hL)}},[d,m,n,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),pL())},[d,u]),S.useEffect(()=>{const R=()=>p({});return document.addEventListener(HT,R),()=>document.removeEventListener(HT,R)},[]),l.jsx(Vt.div,{...c,ref:b,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:qt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:qt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:qt(t.onPointerDownCapture,k.onPointerDownCapture)})});Bv.displayName=Moe;var Doe="DismissableLayerBranch",IV=S.forwardRef((t,e)=>{const n=S.useContext(RV),r=S.useRef(null),i=zn(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(Vt.div,{...t,ref:i})});IV.displayName=Doe;function Loe(t,e=globalThis?.document){const n=Ts(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){DV(Roe,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Foe(t,e=globalThis?.document){const n=Ts(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&DV(Ioe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pL(){const t=new CustomEvent(HT);document.dispatchEvent(t)}function DV(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?MV(i,s):i.dispatchEvent(s)}var Boe=Bv,$oe=IV,bs=globalThis?.document?S.useLayoutEffect:()=>{},zoe="Portal",X0=S.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=S.useState(!1);bs(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?TV.createPortal(l.jsx(Vt.div,{...r,ref:e}),a):null});X0.displayName=zoe;function qoe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Go=t=>{const{present:e,children:n}=t,r=Uoe(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=zn(r.ref,Hoe(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Go.displayName="Presence";function Uoe(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),a=t?"mounted":"unmounted",[o,c]=qoe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=b1(r.current);s.current=o==="mounted"?u:"none"},[o]),bs(()=>{const u=r.current,d=i.current;if(d!==t){const m=s.current,p=b1(u);t?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),bs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const v=b1(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&v&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=p=>{p.target===e&&(s.current=b1(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:S.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function b1(t){return t?.animationName||"none"}function Hoe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Voe=ZM[" useInsertionEffect ".trim().toString()]||bs;function Kc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=Woe({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:i;{const d=S.useRef(t!==void 0);S.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=S.useCallback(d=>{if(o){const f=Koe(d)?d(t):d;f!==t&&a.current?.(f)}else s(d)},[o,t,s,a]);return[c,u]}function Woe({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),i=S.useRef(n),s=S.useRef(e);return Voe(()=>{s.current=e},[e]),S.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function Koe(t){return typeof t=="function"}var LV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Goe="VisuallyHidden",vN=S.forwardRef((t,e)=>l.jsx(Vt.span,{...t,ref:e,style:{...LV,...t.style}}));vN.displayName=Goe;var Yoe=vN,oR="ToastProvider",[lR,Xoe,Zoe]=gN("Toast"),[FV]=bo("Toast",[Zoe]),[Qoe,yN]=FV(oR),BV=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,c]=S.useState(null),[u,d]=S.useState(0),f=S.useRef(!1),m=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${oR}\`. Expected non-empty \`string\`.`),l.jsx(lR.Provider,{scope:e,children:l.jsx(Qoe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};BV.displayName=oR;var $V="ToastViewport",Joe=["F8"],VT="toast.viewportPause",WT="toast.viewportResume",zV=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Joe,label:i="Notifications ({hotkey})",...s}=t,a=yN($V,n),o=Xoe(n),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),m=zn(e,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=a.toastCount>0;S.useEffect(()=>{const y=w=>{r.length!==0&&r.every(E=>w[E]||w.code===E)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),S.useEffect(()=>{const y=c.current,w=f.current;if(b&&y&&w){const _=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(VT);w.dispatchEvent(P),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(WT);w.dispatchEvent(P),a.isClosePausedRef.current=!1}},A=P=>{!y.contains(P.relatedTarget)&&E()},k=()=>{y.contains(document.activeElement)||E()};return y.addEventListener("focusin",_),y.addEventListener("focusout",A),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",k),window.addEventListener("blur",_),window.addEventListener("focus",E),()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",k),window.removeEventListener("blur",_),window.removeEventListener("focus",E)}}},[b,a.isClosePausedRef]);const v=S.useCallback(({tabbingDirection:y})=>{const _=o().map(E=>{const A=E.ref.current,k=[A,...fle(A)];return y==="forwards"?k:k.reverse()});return(y==="forwards"?_.reverse():_).flat()},[o]);return S.useEffect(()=>{const y=f.current;if(y){const w=_=>{const E=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!E){const k=document.activeElement,P=_.shiftKey;if(_.target===y&&P){u.current?.focus();return}const M=v({tabbingDirection:P?"backwards":"forwards"}),B=M.findIndex(O=>O===k);nC(M.slice(B+1))?_.preventDefault():P?u.current?.focus():d.current?.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[o,v]),l.jsxs($oe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(KT,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});nC(y)}}),l.jsx(lR.Slot,{scope:n,children:l.jsx(Vt.ol,{tabIndex:-1,...s,ref:m})}),b&&l.jsx(KT,{ref:d,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});nC(y)}})]})});zV.displayName=$V;var qV="ToastFocusProxy",KT=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=yN(qV,n);return l.jsx(vN,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const o=a.relatedTarget;!s.viewport?.contains(o)&&r()}})});KT.displayName=qV;var Z0="Toast",ele="toast.swipeStart",tle="toast.swipeMove",nle="toast.swipeCancel",rle="toast.swipeEnd",UV=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[o,c]=Kc({prop:r,defaultProp:i??!0,onChange:s,caller:Z0});return l.jsx(Go,{present:n||o,children:l.jsx(ale,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:Ts(t.onPause),onResume:Ts(t.onResume),onSwipeStart:qt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:qt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});UV.displayName=Z0;var[ile,sle]=FV(Z0,{onClose(){}}),ale=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...b}=t,v=yN(Z0,n),[y,w]=S.useState(null),_=zn(e,z=>w(z)),E=S.useRef(null),A=S.useRef(null),k=i||v.duration,P=S.useRef(0),R=S.useRef(k),T=S.useRef(0),{onToastAdd:M,onToastRemove:B}=v,O=Ts(()=>{y?.contains(document.activeElement)&&v.viewport?.focus(),a()}),F=S.useCallback(z=>{!z||z===1/0||(window.clearTimeout(T.current),P.current=new Date().getTime(),T.current=window.setTimeout(O,z))},[O]);S.useEffect(()=>{const z=v.viewport;if(z){const K=()=>{F(R.current),u?.()},Z=()=>{const H=new Date().getTime()-P.current;R.current=R.current-H,window.clearTimeout(T.current),c?.()};return z.addEventListener(VT,Z),z.addEventListener(WT,K),()=>{z.removeEventListener(VT,Z),z.removeEventListener(WT,K)}}},[v.viewport,k,c,u,F]),S.useEffect(()=>{s&&!v.isClosePausedRef.current&&F(k)},[s,k,v.isClosePausedRef,F]),S.useEffect(()=>(M(),()=>B()),[M,B]);const q=S.useMemo(()=>y?XV(y):null,[y]);return v.viewport?l.jsxs(l.Fragment,{children:[q&&l.jsx(ole,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:q}),l.jsx(ile,{scope:n,onClose:O,children:Uc.createPortal(l.jsx(lR.ItemSlot,{scope:n,children:l.jsx(Boe,{asChild:!0,onEscapeKeyDown:qt(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Vt.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qt(t.onKeyDown,z=>{z.key==="Escape"&&(o?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:qt(t.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:qt(t.onPointerMove,z=>{if(!E.current)return;const K=z.clientX-E.current.x,Z=z.clientY-E.current.y,H=!!A.current,W=["left","right"].includes(v.swipeDirection),Y=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ge=W?Y(0,K):0,Q=W?0:Y(0,Z),I=z.pointerType==="touch"?10:2,G={x:ge,y:Q},ne={originalEvent:z,delta:G};H?(A.current=G,x1(tle,f,ne,{discrete:!1})):mL(G,v.swipeDirection,I)?(A.current=G,x1(ele,d,ne,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(K)>I||Math.abs(Z)>I)&&(E.current=null)}),onPointerUp:qt(t.onPointerUp,z=>{const K=A.current,Z=z.target;if(Z.hasPointerCapture(z.pointerId)&&Z.releasePointerCapture(z.pointerId),A.current=null,E.current=null,K){const H=z.currentTarget,W={originalEvent:z,delta:K};mL(K,v.swipeDirection,v.swipeThreshold)?x1(rle,p,W,{discrete:!0}):x1(nle,m,W,{discrete:!0}),H.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),ole=t=>{const{__scopeToast:e,children:n,...r}=t,i=yN(Z0,e),[s,a]=S.useState(!1),[o,c]=S.useState(!1);return ule(()=>a(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(X0,{asChild:!0,children:l.jsx(vN,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},lle="ToastTitle",HV=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(Vt.div,{...r,ref:e})});HV.displayName=lle;var cle="ToastDescription",VV=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(Vt.div,{...r,ref:e})});VV.displayName=cle;var WV="ToastAction",KV=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(YV,{altText:n,asChild:!0,children:l.jsx(cR,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${WV}\`. Expected non-empty \`string\`.`),null)});KV.displayName=WV;var GV="ToastClose",cR=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=sle(GV,n);return l.jsx(YV,{asChild:!0,children:l.jsx(Vt.button,{type:"button",...r,ref:e,onClick:qt(t.onClick,i.onClose)})})});cR.displayName=GV;var YV=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(Vt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function XV(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),dle(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...XV(r))}}),e}function x1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?MV(i,s):i.dispatchEvent(s)}var mL=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function ule(t=()=>{}){const e=Ts(t);bs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function dle(t){return t.nodeType===t.ELEMENT_NODE}function fle(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nC(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hle=BV,ZV=zV,QV=UV,JV=HV,eW=VV,tW=KV,nW=cR;function rW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rW(t))&&(r&&(r+=" "),r+=e);return r}const gL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vL=wr,Sm=(t,e)=>n=>{var r;if(e?.variants==null)return vL(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n?.[u],f=s?.[u];if(d===null)return null;const m=gL(d)||gL(f);return i[u][m]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(b=>{let[v,y]=b;return Array.isArray(y)?y.includes({...s,...o}[v]):{...s,...o}[v]===y})?[...u,f,m]:u},[]);return vL(t,a,c,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iW=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>S.createElement("svg",{ref:c,...mle,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iW("lucide",i),...o},[...a.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(gle,{ref:s,iconNode:e,className:iW(`lucide-${ple(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=at("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=at("AlarmClock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=at("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=at("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=at("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=at("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=at("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=at("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=at("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=at("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=at("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=at("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=at("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=at("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=at("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=at("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=at("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=at("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=at("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=at("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=at("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=at("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=at("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=at("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=at("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=at("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=at("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=at("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=at("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=at("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=at("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=at("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=at("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=at("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=at("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=at("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=at("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=at("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=at("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=at("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=at("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=at("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=at("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=at("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=at("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=at("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=at("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=at("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=at("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=at("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=at("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=at("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=at("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=at("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=at("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=at("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=at("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=at("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=at("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=at("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=at("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=at("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=at("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=at("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=at("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=at("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=at("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=at("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=at("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=at("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=at("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=at("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=at("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=at("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=at("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=at("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=at("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=at("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=at("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=at("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=at("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=at("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=at("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=at("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=at("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=at("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=at("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=at("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=at("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=at("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=at("SquareKanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=at("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=at("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=at("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=at("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=at("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=at("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=at("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=at("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=at("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=at("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=at("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=at("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=at("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=at("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=at("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=at("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=at("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=at("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=at("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vR="-",ice=t=>{const e=ace(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(vR);return o[0]===""&&o.length!==1&&o.shift(),TW(o,e)||sce(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},TW=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?TW(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(vR);return e.validators.find(({validator:a})=>a(s))?.classGroupId},NL=/^\[(.+)\]$/,sce=t=>{if(NL.test(t)){const e=NL.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ace=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return lce(Object.entries(t.classGroups),n).forEach(([s,a])=>{eO(a,r,s,e)}),r},eO=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_L(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(oce(i)){eO(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{eO(a,_L(e,s),n,r)})})},_L=(t,e)=>{let n=t;return e.split(vR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oce=t=>t.isThemeGetter,lce=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,cce=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},OW="!",uce=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,d=0,f;for(let y=0;y<o.length;y++){let w=o[y];if(u===0){if(w===i&&(r||o.slice(y,y+s)===e)){c.push(o.slice(d,y)),d=y+s;continue}if(w==="/"){f=y;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?o:o.substring(d),p=m.startsWith(OW),b=p?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:v}};return n?o=>n({className:o,parseClassName:a}):a},dce=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},fce=t=>({cache:cce(t.cacheSize),parseClassName:uce(t),...ice(t)}),hce=/\s+/,pce=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(hce);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let b=!!p,v=r(b?m.substring(0,p):m);if(!v){if(!b){o=u+(o.length>0?" "+o:o);continue}if(v=r(m),!v){o=u+(o.length>0?" "+o:o);continue}b=!1}const y=dce(d).join(":"),w=f?y+OW:y,_=w+v;if(s.includes(_))continue;s.push(_);const E=i(v,b);for(let A=0;A<E.length;++A){const k=E[A];s.push(w+k)}o=u+(o.length>0?" "+o:o)}return o};function mce(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=PW(e))&&(r&&(r+=" "),r+=n);return r}const PW=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=PW(t[r]))&&(n&&(n+=" "),n+=e);return n};function gce(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=fce(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=pce(c,n);return i(c,d),d}return function(){return s(mce.apply(null,arguments))}}const Si=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MW=/^\[(?:([a-z-]+):)?(.+)\]$/i,vce=/^\d+\/\d+$/,yce=new Set(["px","full","screen"]),bce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sce=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Td=t=>Bg(t)||yce.has(t)||vce.test(t),Vf=t=>zv(t,"length",Oce),Bg=t=>!!t&&!Number.isNaN(Number(t)),iC=t=>zv(t,"number",Bg),Ry=t=>!!t&&Number.isInteger(Number(t)),_ce=t=>t.endsWith("%")&&Bg(t.slice(0,-1)),er=t=>MW.test(t),Wf=t=>bce.test(t),Ece=new Set(["length","size","percentage"]),Cce=t=>zv(t,Ece,RW),Ace=t=>zv(t,"position",RW),kce=new Set(["image","url"]),jce=t=>zv(t,kce,Mce),Tce=t=>zv(t,"",Pce),Iy=()=>!0,zv=(t,e,n)=>{const r=MW.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Oce=t=>xce.test(t)&&!wce.test(t),RW=()=>!1,Pce=t=>Sce.test(t),Mce=t=>Nce.test(t),Rce=()=>{const t=Si("colors"),e=Si("spacing"),n=Si("blur"),r=Si("brightness"),i=Si("borderColor"),s=Si("borderRadius"),a=Si("borderSpacing"),o=Si("borderWidth"),c=Si("contrast"),u=Si("grayscale"),d=Si("hueRotate"),f=Si("invert"),m=Si("gap"),p=Si("gradientColorStops"),b=Si("gradientColorStopPositions"),v=Si("inset"),y=Si("margin"),w=Si("opacity"),_=Si("padding"),E=Si("saturate"),A=Si("scale"),k=Si("sepia"),P=Si("skew"),R=Si("space"),T=Si("translate"),M=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",er,e],F=()=>[er,e],q=()=>["",Td,Vf],z=()=>["auto",Bg,er],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",er],ge=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Bg,er];return{cacheSize:500,separator:":",theme:{colors:[Iy],spacing:[Td,Vf],blur:["none","",Wf,er],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Wf,er],borderSpacing:F(),borderWidth:q(),contrast:Q(),grayscale:Y(),hueRotate:Q(),invert:Y(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[_ce,Vf],inset:O(),margin:O(),opacity:Q(),padding:F(),saturate:Q(),scale:Q(),sepia:Y(),skew:Q(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",er]}],container:["container"],columns:[{columns:[Wf]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),er]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ry,er]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",er]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Ry,er]}],"grid-cols":[{"grid-cols":[Iy]}],"col-start-end":[{col:["auto",{span:["full",Ry,er]},er]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Iy]}],"row-start-end":[{row:["auto",{span:[Ry,er]},er]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",er]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",er]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",er,e]}],"min-w":[{"min-w":[er,e,"min","max","fit"]}],"max-w":[{"max-w":[er,e,"none","full","min","max","fit","prose",{screen:[Wf]},Wf]}],h:[{h:[er,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[er,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[er,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[er,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wf,Vf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iC]}],"font-family":[{font:[Iy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",er]}],"line-clamp":[{"line-clamp":["none",Bg,iC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Td,er]}],"list-image":[{"list-image":["none",er]}],"list-style-type":[{list:["none","disc","decimal",er]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Td,Vf]}],"underline-offset":[{"underline-offset":["auto",Td,er]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",er]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",er]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Ace]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jce]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Td,er]}],"outline-w":[{outline:[Td,Vf]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Td,Vf]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wf,Tce]}],"shadow-color":[{shadow:[Iy]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wf,er]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",er]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",er]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",er]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ry,er]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",er]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",er]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",er]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Td,Vf,iC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ice=gce(Rce);function pt(...t){return Ice(wr(t))}const Dce=hle,IW=S.forwardRef(({className:t,...e},n)=>l.jsx(ZV,{ref:n,className:pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));IW.displayName=ZV.displayName;const Lce=Sm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DW=S.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(QV,{ref:r,className:pt(Lce({variant:e}),t),...n}));DW.displayName=QV.displayName;const Fce=S.forwardRef(({className:t,...e},n)=>l.jsx(tW,{ref:n,className:pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Fce.displayName=tW.displayName;const LW=S.forwardRef(({className:t,...e},n)=>l.jsx(nW,{ref:n,className:pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Vu,{className:"h-4 w-4"})}));LW.displayName=nW.displayName;const FW=S.forwardRef(({className:t,...e},n)=>l.jsx(JV,{ref:n,className:pt("text-sm font-semibold",t),...e}));FW.displayName=JV.displayName;const BW=S.forwardRef(({className:t,...e},n)=>l.jsx(eW,{ref:n,className:pt("text-sm opacity-90",t),...e}));BW.displayName=eW.displayName;function Bce(){const{toasts:t}=li();return l.jsxs(Dce,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return l.jsxs(DW,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(FW,{children:n}),r&&l.jsx(BW,{children:r})]}),i,l.jsx(LW,{})]},e)}),l.jsx(IW,{})]})}var $ce=ZM[" useId ".trim().toString()]||(()=>{}),zce=0;function Xa(t){const[e,n]=S.useState($ce());return bs(()=>{n(r=>r??String(zce++))},[t]),e?`radix-${e}`:""}const qce=["top","right","bottom","left"],Ah=Math.min,ml=Math.max,t2=Math.round,w1=Math.floor,$u=t=>({x:t,y:t}),Uce={left:"right",right:"left",bottom:"top",top:"bottom"},Hce={start:"end",end:"start"};function tO(t,e,n){return ml(t,Ah(e,n))}function ef(t,e){return typeof t=="function"?t(e):t}function tf(t){return t.split("-")[0]}function qv(t){return t.split("-")[1]}function yR(t){return t==="x"?"y":"x"}function bR(t){return t==="y"?"height":"width"}const Vce=new Set(["top","bottom"]);function Iu(t){return Vce.has(tf(t))?"y":"x"}function xR(t){return yR(Iu(t))}function Wce(t,e,n){n===void 0&&(n=!1);const r=qv(t),i=xR(t),s=bR(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=n2(a)),[a,n2(a)]}function Kce(t){const e=n2(t);return[nO(t),e,nO(e)]}function nO(t){return t.replace(/start|end/g,e=>Hce[e])}const EL=["left","right"],CL=["right","left"],Gce=["top","bottom"],Yce=["bottom","top"];function Xce(t,e,n){switch(t){case"top":case"bottom":return n?e?CL:EL:e?EL:CL;case"left":case"right":return e?Gce:Yce;default:return[]}}function Zce(t,e,n,r){const i=qv(t);let s=Xce(tf(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(nO)))),s}function n2(t){return t.replace(/left|right|bottom|top/g,e=>Uce[e])}function Qce(t){return{top:0,right:0,bottom:0,left:0,...t}}function $W(t){return typeof t!="number"?Qce(t):{top:t,right:t,bottom:t,left:t}}function r2(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function AL(t,e,n){let{reference:r,floating:i}=t;const s=Iu(e),a=xR(e),o=bR(a),c=tf(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(qv(e)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const Jce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=AL(u,r,c),m=r,p={},b=0;for(let v=0;v<o.length;v++){const{name:y,fn:w}=o[v],{x:_,y:E,data:A,reset:k}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=_??d,f=E??f,p={...p,[y]:{...p[y],...A}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(u=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:f}=AL(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:p}};async function Bb(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ef(e,t),b=$W(p),y=o[m?f==="floating"?"reference":"floating":f],w=r2(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),A=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},k=r2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:E,strategy:c}):_);return{top:(w.top-k.top+b.top)/A.y,bottom:(k.bottom-w.bottom+b.bottom)/A.y,left:(w.left-k.left+b.left)/A.x,right:(k.right-w.right+b.right)/A.x}}const eue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=ef(t,e)||{};if(u==null)return{};const f=$W(d),m={x:n,y:r},p=xR(i),b=bR(p),v=await a.getDimensions(u),y=p==="y",w=y?"top":"left",_=y?"bottom":"right",E=y?"clientHeight":"clientWidth",A=s.reference[b]+s.reference[p]-m[p]-s.floating[b],k=m[p]-s.reference[p],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let R=P?P[E]:0;(!R||!await(a.isElement==null?void 0:a.isElement(P)))&&(R=o.floating[E]||s.floating[b]);const T=A/2-k/2,M=R/2-v[b]/2-1,B=Ah(f[w],M),O=Ah(f[_],M),F=B,q=R-v[b]-O,z=R/2-v[b]/2+T,K=tO(F,z,q),Z=!c.arrow&&qv(i)!=null&&z!==K&&s.reference[b]/2-(z<F?B:O)-v[b]/2<0,H=Z?z<F?z-F:z-q:0;return{[p]:m[p]+H,data:{[p]:K,centerOffset:z-K-H,...Z&&{alignmentOffset:H}},reset:Z}}}),tue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...y}=ef(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=tf(i),_=Iu(o),E=tf(o)===o,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=m||(E||!v?[n2(o)]:Kce(o)),P=b!=="none";!m&&P&&k.push(...Zce(o,v,b,A));const R=[o,...k],T=await Bb(e,y),M=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&M.push(T[w]),f){const z=Wce(i,a,A);M.push(T[z[0]],T[z[1]])}if(B=[...B,{placement:i,overflows:M}],!M.every(z=>z<=0)){var O,F;const z=(((O=s.flip)==null?void 0:O.index)||0)+1,K=R[z];if(K&&(!(f==="alignment"?_!==Iu(K):!1)||B.every(W=>Iu(W.placement)===_?W.overflows[0]>0:!0)))return{data:{index:z,overflows:B},reset:{placement:K}};let Z=(F=B.filter(H=>H.overflows[0]<=0).sort((H,W)=>H.overflows[1]-W.overflows[1])[0])==null?void 0:F.placement;if(!Z)switch(p){case"bestFit":{var q;const H=(q=B.filter(W=>{if(P){const Y=Iu(W.placement);return Y===_||Y==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Y=>Y>0).reduce((Y,ge)=>Y+ge,0)]).sort((W,Y)=>W[1]-Y[1])[0])==null?void 0:q[0];H&&(Z=H);break}case"initialPlacement":Z=o;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function kL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jL(t){return qce.some(e=>t[e]>=0)}const nue=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ef(t,e);switch(r){case"referenceHidden":{const s=await Bb(e,{...i,elementContext:"reference"}),a=kL(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:jL(a)}}}case"escaped":{const s=await Bb(e,{...i,altBoundary:!0}),a=kL(s,n.floating);return{data:{escapedOffsets:a,escaped:jL(a)}}}default:return{}}}}},zW=new Set(["left","top"]);async function rue(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=tf(n),o=qv(n),c=Iu(n)==="y",u=zW.has(a)?-1:1,d=s&&c?-1:1,f=ef(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof b=="number"&&(p=o==="end"?b*-1:b),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const iue=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await rue(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},sue=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:y=>{let{x:w,y:_}=y;return{x:w,y:_}}},...c}=ef(t,e),u={x:n,y:r},d=await Bb(e,c),f=Iu(tf(i)),m=yR(f);let p=u[m],b=u[f];if(s){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",_=p+d[y],E=p-d[w];p=tO(_,p,E)}if(a){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",_=b+d[y],E=b-d[w];b=tO(_,b,E)}const v=o.fn({...e,[m]:p,[f]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:s,[f]:a}}}}}},aue=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=ef(t,e),d={x:n,y:r},f=Iu(i),m=yR(f);let p=d[m],b=d[f];const v=ef(o,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const E=m==="y"?"height":"width",A=s.reference[m]-s.floating[E]+y.mainAxis,k=s.reference[m]+s.reference[E]-y.mainAxis;p<A?p=A:p>k&&(p=k)}if(u){var w,_;const E=m==="y"?"width":"height",A=zW.has(tf(i)),k=s.reference[f]-s.floating[E]+(A&&((w=a.offset)==null?void 0:w[f])||0)+(A?0:y.crossAxis),P=s.reference[f]+s.reference[E]+(A?0:((_=a.offset)==null?void 0:_[f])||0)-(A?y.crossAxis:0);b<k?b=k:b>P&&(b=P)}return{[m]:p,[f]:b}}}},oue=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=ef(t,e),d=await Bb(e,u),f=tf(i),m=qv(i),p=Iu(i)==="y",{width:b,height:v}=s.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,y=m==="end"?"top":"bottom");const _=v-d.top-d.bottom,E=b-d.left-d.right,A=Ah(v-d[y],_),k=Ah(b-d[w],E),P=!e.middlewareData.shift;let R=A,T=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=_),P&&!m){const B=ml(d.left,0),O=ml(d.right,0),F=ml(d.top,0),q=ml(d.bottom,0);p?T=b-2*(B!==0||O!==0?B+O:ml(d.left,d.right)):R=v-2*(F!==0||q!==0?F+q:ml(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:R});const M=await a.getDimensions(o.floating);return b!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function SN(){return typeof window<"u"}function Uv(t){return qW(t)?(t.nodeName||"").toLowerCase():"#document"}function Nl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ed(t){var e;return(e=(qW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qW(t){return SN()?t instanceof Node||t instanceof Nl(t).Node:!1}function Xc(t){return SN()?t instanceof Element||t instanceof Nl(t).Element:!1}function Wu(t){return SN()?t instanceof HTMLElement||t instanceof Nl(t).HTMLElement:!1}function TL(t){return!SN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nl(t).ShadowRoot}const lue=new Set(["inline","contents"]);function tx(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Zc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!lue.has(i)}const cue=new Set(["table","td","th"]);function uue(t){return cue.has(Uv(t))}const due=[":popover-open",":modal"];function NN(t){return due.some(e=>{try{return t.matches(e)}catch{return!1}})}const fue=["transform","translate","scale","rotate","perspective"],hue=["transform","translate","scale","rotate","perspective","filter"],pue=["paint","layout","strict","content"];function wR(t){const e=SR(),n=Xc(t)?Zc(t):t;return fue.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||hue.some(r=>(n.willChange||"").includes(r))||pue.some(r=>(n.contain||"").includes(r))}function mue(t){let e=kh(t);for(;Wu(e)&&!nv(e);){if(wR(e))return e;if(NN(e))return null;e=kh(e)}return null}function SR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gue=new Set(["html","body","#document"]);function nv(t){return gue.has(Uv(t))}function Zc(t){return Nl(t).getComputedStyle(t)}function _N(t){return Xc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kh(t){if(Uv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TL(t)&&t.host||ed(t);return TL(e)?e.host:e}function UW(t){const e=kh(t);return nv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wu(e)&&tx(e)?e:UW(e)}function $b(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=UW(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Nl(i);if(s){const o=rO(a);return e.concat(a,a.visualViewport||[],tx(i)?i:[],o&&n?$b(o):[])}return e.concat(i,$b(i,[],n))}function rO(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HW(t){const e=Zc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wu(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=t2(n)!==s||t2(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function NR(t){return Xc(t)?t:t.contextElement}function $g(t){const e=NR(t);if(!Wu(e))return $u(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=HW(e);let a=(s?t2(n.width):n.width)/r,o=(s?t2(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const vue=$u(0);function VW(t){const e=Nl(t);return!SR()||!e.visualViewport?vue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nl(t)?!1:e}function tm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=NR(t);let a=$u(1);e&&(r?Xc(r)&&(a=$g(r)):a=$g(t));const o=yue(s,n,r)?VW(s):$u(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const m=Nl(s),p=r&&Xc(r)?Nl(r):r;let b=m,v=rO(b);for(;v&&r&&p!==b;){const y=$g(v),w=v.getBoundingClientRect(),_=Zc(v),E=w.left+(v.clientLeft+parseFloat(_.paddingLeft))*y.x,A=w.top+(v.clientTop+parseFloat(_.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=E,u+=A,b=Nl(v),v=rO(b)}}return r2({width:d,height:f,x:c,y:u})}function EN(t,e){const n=_N(t).scrollLeft;return e?e.left+n:tm(ed(t)).left+n}function WW(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-EN(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function bue(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=ed(r),o=e?NN(e.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=$u(1);const d=$u(0),f=Wu(r);if((f||!f&&!s)&&((Uv(r)!=="body"||tx(a))&&(c=_N(r)),Wu(r))){const p=tm(r);u=$g(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=a&&!f&&!s?WW(a,c):$u(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function xue(t){return Array.from(t.getClientRects())}function wue(t){const e=ed(t),n=_N(t),r=t.ownerDocument.body,i=ml(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ml(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+EN(t);const o=-n.scrollTop;return Zc(r).direction==="rtl"&&(a+=ml(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const OL=25;function Sue(t,e){const n=Nl(t),r=ed(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const d=SR();(!d||d&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}const u=EN(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-f.clientWidth-p);b<=OL&&(s-=b)}else u<=OL&&(s+=u);return{width:s,height:a,x:o,y:c}}const Nue=new Set(["absolute","fixed"]);function _ue(t,e){const n=tm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Wu(t)?$g(t):$u(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function PL(t,e,n){let r;if(e==="viewport")r=Sue(t,n);else if(e==="document")r=wue(ed(t));else if(Xc(e))r=_ue(e,n);else{const i=VW(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return r2(r)}function KW(t,e){const n=kh(t);return n===e||!Xc(n)||nv(n)?!1:Zc(n).position==="fixed"||KW(n,e)}function Eue(t,e){const n=e.get(t);if(n)return n;let r=$b(t,[],!1).filter(o=>Xc(o)&&Uv(o)!=="body"),i=null;const s=Zc(t).position==="fixed";let a=s?kh(t):t;for(;Xc(a)&&!nv(a);){const o=Zc(a),c=wR(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&Nue.has(i.position)||tx(a)&&!c&&KW(t,a))?r=r.filter(d=>d!==a):i=o,a=kh(a)}return e.set(t,r),r}function Cue(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?NN(e)?[]:Eue(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const f=PL(e,d,i);return u.top=ml(f.top,u.top),u.right=Ah(f.right,u.right),u.bottom=Ah(f.bottom,u.bottom),u.left=ml(f.left,u.left),u},PL(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Aue(t){const{width:e,height:n}=HW(t);return{width:e,height:n}}function kue(t,e,n){const r=Wu(e),i=ed(e),s=n==="fixed",a=tm(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=$u(0);function u(){c.x=EN(i)}if(r||!r&&!s)if((Uv(e)!=="body"||tx(i))&&(o=_N(e)),r){const p=tm(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?WW(i,o):$u(0),f=a.left+o.scrollLeft-c.x-d.x,m=a.top+o.scrollTop-c.y-d.y;return{x:f,y:m,width:a.width,height:a.height}}function sC(t){return Zc(t).position==="static"}function ML(t,e){if(!Wu(t)||Zc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ed(t)===n&&(n=n.ownerDocument.body),n}function GW(t,e){const n=Nl(t);if(NN(t))return n;if(!Wu(t)){let i=kh(t);for(;i&&!nv(i);){if(Xc(i)&&!sC(i))return i;i=kh(i)}return n}let r=ML(t,e);for(;r&&uue(r)&&sC(r);)r=ML(r,e);return r&&nv(r)&&sC(r)&&!wR(r)?n:r||mue(t)||n}const jue=async function(t){const e=this.getOffsetParent||GW,n=this.getDimensions,r=await n(t.floating);return{reference:kue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tue(t){return Zc(t).direction==="rtl"}const Oue={convertOffsetParentRelativeRectToViewportRelativeRect:bue,getDocumentElement:ed,getClippingRect:Cue,getOffsetParent:GW,getElementRects:jue,getClientRects:xue,getDimensions:Aue,getScale:$g,isElement:Xc,isRTL:Tue};function YW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Pue(t,e){let n=null,r;const i=ed(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(o||e(),!m||!p)return;const b=w1(f),v=w1(i.clientWidth-(d+m)),y=w1(i.clientHeight-(f+p)),w=w1(d),E={rootMargin:-b+"px "+-v+"px "+-y+"px "+-w+"px",threshold:ml(0,Ah(1,c))||1};let A=!0;function k(P){const R=P[0].intersectionRatio;if(R!==c){if(!A)return a();R?a(!1,R):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!YW(u,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(k,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,E)}n.observe(t)}return a(!0),s}function Mue(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=NR(t),d=i||s?[...u?$b(u):[],...$b(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const f=u&&o?Pue(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(w=>{let[_]=w;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let b,v=c?tm(t):null;c&&y();function y(){const w=tm(t);v&&!YW(v,w)&&n(),v=w,b=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f?.(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const Rue=iue,Iue=sue,Due=tue,Lue=oue,Fue=nue,RL=eue,Bue=aue,$ue=(t,e,n)=>{const r=new Map,i={platform:Oue,...n},s={...i.platform,_c:r};return Jce(t,e,{...i,platform:s})};var zue=typeof document<"u",que=function(){},Nw=zue?S.useLayoutEffect:que;function i2(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!i2(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!i2(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function XW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IL(t,e){const n=XW(t);return Math.round(e*n)/n}function aC(t){const e=S.useRef(t);return Nw(()=>{e.current=t}),e}function Uue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=S.useState(r);i2(m,r)||p(r);const[b,v]=S.useState(null),[y,w]=S.useState(null),_=S.useCallback(W=>{W!==P.current&&(P.current=W,v(W))},[]),E=S.useCallback(W=>{W!==R.current&&(R.current=W,w(W))},[]),A=s||b,k=a||y,P=S.useRef(null),R=S.useRef(null),T=S.useRef(d),M=c!=null,B=aC(c),O=aC(i),F=aC(u),q=S.useCallback(()=>{if(!P.current||!R.current)return;const W={placement:e,strategy:n,middleware:m};O.current&&(W.platform=O.current),$ue(P.current,R.current,W).then(Y=>{const ge={...Y,isPositioned:F.current!==!1};z.current&&!i2(T.current,ge)&&(T.current=ge,Uc.flushSync(()=>{f(ge)}))})},[m,e,n,O,F]);Nw(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const z=S.useRef(!1);Nw(()=>(z.current=!0,()=>{z.current=!1}),[]),Nw(()=>{if(A&&(P.current=A),k&&(R.current=k),A&&k){if(B.current)return B.current(A,k,q);q()}},[A,k,q,B,M]);const K=S.useMemo(()=>({reference:P,floating:R,setReference:_,setFloating:E}),[_,E]),Z=S.useMemo(()=>({reference:A,floating:k}),[A,k]),H=S.useMemo(()=>{const W={position:n,left:0,top:0};if(!Z.floating)return W;const Y=IL(Z.floating,d.x),ge=IL(Z.floating,d.y);return o?{...W,transform:"translate("+Y+"px, "+ge+"px)",...XW(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:ge}},[n,o,Z.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:q,refs:K,elements:Z,floatingStyles:H}),[d,q,K,Z,H])}const Hue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?RL({element:r.current,padding:i}).fn(n):{}:r?RL({element:r,padding:i}).fn(n):{}}}},Vue=(t,e)=>({...Rue(t),options:[t,e]}),Wue=(t,e)=>({...Iue(t),options:[t,e]}),Kue=(t,e)=>({...Bue(t),options:[t,e]}),Gue=(t,e)=>({...Due(t),options:[t,e]}),Yue=(t,e)=>({...Lue(t),options:[t,e]}),Xue=(t,e)=>({...Fue(t),options:[t,e]}),Zue=(t,e)=>({...Hue(t),options:[t,e]});var Que="Arrow",ZW=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(Vt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZW.displayName=Que;var Jue=ZW;function CN(t){const[e,n]=S.useState(void 0);return bs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _R="Popper",[QW,Hv]=bo(_R),[ede,JW]=QW(_R),eK=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return l.jsx(ede,{scope:e,anchor:r,onAnchorChange:i,children:n})};eK.displayName=_R;var tK="PopperAnchor",nK=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=JW(tK,n),a=S.useRef(null),o=zn(e,a),c=S.useRef(null);return S.useEffect(()=>{const u=c.current;c.current=r?.current||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:l.jsx(Vt.div,{...i,ref:o})});nK.displayName=tK;var ER="PopperContent",[tde,nde]=QW(ER),rK=S.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,...v}=t,y=JW(ER,n),[w,_]=S.useState(null),E=zn(e,J=>_(J)),[A,k]=S.useState(null),P=CN(A),R=P?.width??0,T=P?.height??0,M=r+(s!=="center"?"-"+s:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],F=O.length>0,q={padding:B,boundary:O.filter(ide),altBoundary:F},{refs:z,floatingStyles:K,placement:Z,isPositioned:H,middlewareData:W}=Uue({strategy:"fixed",placement:M,whileElementsMounted:(...J)=>Mue(...J,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Vue({mainAxis:i+T,alignmentAxis:a}),c&&Wue({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Kue():void 0,...q}),c&&Gue({...q}),Yue({...q,apply:({elements:J,rects:ue,availableWidth:ae,availableHeight:X})=>{const{width:pe,height:xe}=ue.reference,De=J.floating.style;De.setProperty("--radix-popper-available-width",`${ae}px`),De.setProperty("--radix-popper-available-height",`${X}px`),De.setProperty("--radix-popper-anchor-width",`${pe}px`),De.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),A&&Zue({element:A,padding:o}),sde({arrowWidth:R,arrowHeight:T}),m&&Xue({strategy:"referenceHidden",...q})]}),[Y,ge]=aK(Z),Q=Ts(b);bs(()=>{H&&Q?.()},[H,Q]);const I=W.arrow?.x,G=W.arrow?.y,ne=W.arrow?.centerOffset!==0,[ie,he]=S.useState();return bs(()=>{w&&he(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:H?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(tde,{scope:n,placedSide:Y,onArrowChange:k,arrowX:I,arrowY:G,shouldHideArrow:ne,children:l.jsx(Vt.div,{"data-side":Y,"data-align":ge,...v,ref:E,style:{...v.style,animation:H?void 0:"none"}})})})});rK.displayName=ER;var iK="PopperArrow",rde={top:"bottom",right:"left",bottom:"top",left:"right"},sK=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=nde(iK,r),a=rde[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(Jue,{...i,ref:n,style:{...i.style,display:"block"}})})});sK.displayName=iK;function ide(t){return t!==null}var sde=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=aK(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(i.arrow?.x??0)+o/2,p=(i.arrow?.y??0)+c/2;let b="",v="";return u==="bottom"?(b=a?f:`${m}px`,v=`${-c}px`):u==="top"?(b=a?f:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,v=a?f:`${p}px`):u==="left"&&(b=`${r.floating.width+c}px`,v=a?f:`${p}px`),{data:{x:b,y:v}}}});function aK(t){const[e,n="center"]=t.split("-");return[e,n]}var CR=eK,AN=nK,AR=rK,kR=sK,[kN]=bo("Tooltip",[Hv]),jN=Hv(),oK="TooltipProvider",ade=700,iO="tooltip.open",[ode,jR]=kN(oK),lK=t=>{const{__scopeTooltip:e,delayDuration:n=ade,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=S.useRef(!0),o=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(ode,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:S.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};lK.displayName=oK;var zb="Tooltip",[lde,TN]=kN(zb),cK=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=t,c=jR(zb,t.__scopeTooltip),u=jN(e),[d,f]=S.useState(null),m=Xa(),p=S.useRef(0),b=a??c.disableHoverableContent,v=o??c.delayDuration,y=S.useRef(!1),[w,_]=Kc({prop:r,defaultProp:i??!1,onChange:R=>{R?(c.onOpen(),document.dispatchEvent(new CustomEvent(iO))):c.onClose(),s?.(R)},caller:zb}),E=S.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),A=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,_(!0)},[_]),k=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_(!1)},[_]),P=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,_(!0),p.current=0},v)},[v,_]);return S.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(CR,{...u,children:l.jsx(lde,{scope:e,contentId:m,open:w,stateAttribute:E,trigger:d,onTriggerChange:f,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?P():A()},[c.isOpenDelayedRef,P,A]),onTriggerLeave:S.useCallback(()=>{b?k():(window.clearTimeout(p.current),p.current=0)},[k,b]),onOpen:A,onClose:k,disableHoverableContent:b,children:n})})};cK.displayName=zb;var sO="TooltipTrigger",uK=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=TN(sO,n),s=jR(sO,n),a=jN(n),o=S.useRef(null),c=zn(e,o,i.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(AN,{asChild:!0,...a,children:l.jsx(Vt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:qt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:qt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:qt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:qt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:qt(t.onBlur,i.onClose),onClick:qt(t.onClick,i.onClose)})})});uK.displayName=sO;var cde="TooltipPortal",[KUe,ude]=kN(cde,{forceMount:void 0}),rv="TooltipContent",dK=S.forwardRef((t,e)=>{const n=ude(rv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=TN(rv,t.__scopeTooltip);return l.jsx(Go,{present:r||a.open,children:a.disableHoverableContent?l.jsx(fK,{side:i,...s,ref:e}):l.jsx(dde,{side:i,...s,ref:e})})}),dde=S.forwardRef((t,e)=>{const n=TN(rv,t.__scopeTooltip),r=jR(rv,t.__scopeTooltip),i=S.useRef(null),s=zn(e,i),[a,o]=S.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,m=S.useCallback(()=>{o(null),f(!1)},[f]),p=S.useCallback((b,v)=>{const y=b.currentTarget,w={x:b.clientX,y:b.clientY},_=gde(w,y.getBoundingClientRect()),E=vde(w,_),A=yde(v.getBoundingClientRect()),k=xde([...E,...A]);o(k),f(!0)},[f]);return S.useEffect(()=>()=>m(),[m]),S.useEffect(()=>{if(c&&d){const b=y=>p(y,d),v=y=>p(y,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",v)}}},[c,d,p,m]),S.useEffect(()=>{if(a){const b=v=>{const y=v.target,w={x:v.clientX,y:v.clientY},_=c?.contains(y)||d?.contains(y),E=!bde(w,a);_?m():E&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,a,u,m]),l.jsx(fK,{...t,ref:s})}),[fde,hde]=kN(zb,{isInside:!1}),pde=PV("TooltipContent"),fK=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=TN(rv,n),u=jN(n),{onClose:d}=c;return S.useEffect(()=>(document.addEventListener(iO,d),()=>document.removeEventListener(iO,d)),[d]),S.useEffect(()=>{if(c.trigger){const f=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Bv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(AR,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(pde,{children:r}),l.jsx(fde,{scope:n,isInside:!0,children:l.jsx(Yoe,{id:c.contentId,role:"tooltip",children:i||r})})]})})});dK.displayName=rv;var hK="TooltipArrow",mde=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=jN(n);return hde(hK,n).isInside?null:l.jsx(kR,{...i,...r,ref:e})});mde.displayName=hK;function gde(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function vde(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function yde(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function bde(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function xde(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wde(e)}function wde(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Sde=lK,Nde=cK,_de=uK,pK=dK;const mK=Sde,gK=Nde,vK=_de,TR=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(pK,{ref:r,sideOffset:e,className:pt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));TR.displayName=pK.displayName;const Ede={theme:"light",setTheme:()=>null,toggleTheme:()=>null},yK=S.createContext(Ede);function Cde({children:t,defaultTheme:e="light",...n}){const[r,i]=S.useState(()=>localStorage.getItem("theme")||e);S.useEffect(()=>{const o=document.documentElement;o.classList.remove("light","dark"),o.classList.add(r),localStorage.setItem("theme",r)},[r]);const a={theme:r,setTheme:i,toggleTheme:()=>{i(r==="light"?"dark":"light")}};return l.jsx(yK.Provider,{...n,value:a,children:t})}const Ade=()=>{const t=S.useContext(yK);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},bK=S.createContext(void 0);function kde({children:t}){const e=Fv(),{data:n,isLoading:r}=Sn({queryKey:["/api/auth/profile"],queryFn:jV({on401:"returnNull"}),retry:!1,enabled:!0}),i=hn({mutationFn:async({username:d,password:f})=>await tn("POST","/api/auth/login",{username:d,password:f}),onSuccess:d=>{localStorage.setItem("token",d.token),e.setQueryData(["/api/auth/profile"],d.user)}}),s=hn({mutationFn:async({username:d,email:f,password:m,role:p})=>await tn("POST","/api/auth/register",{username:d,email:f,password:m,role:p}),onSuccess:d=>{localStorage.setItem("token",d.token),e.setQueryData(["/api/auth/profile"],d.user)}}),a=hn({mutationFn:async()=>{await tn("POST","/api/auth/logout",{})},onSuccess:()=>{localStorage.removeItem("token"),e.setQueryData(["/api/auth/profile"],null),e.clear()}}),o=async(d,f)=>{await i.mutateAsync({username:d,password:f})},c=async(d,f,m,p)=>{await s.mutateAsync({username:d,email:f,password:m,role:p})},u=async()=>{await a.mutateAsync()};return l.jsx(bK.Provider,{value:{user:n??null,isLoading:r,login:o,register:c,logout:u},children:t})}function Nm(){const t=S.useContext(bK);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Ku=Object.create(null);Ku.open="0";Ku.close="1";Ku.ping="2";Ku.pong="3";Ku.message="4";Ku.upgrade="5";Ku.noop="6";const _w=Object.create(null);Object.keys(Ku).forEach(t=>{_w[Ku[t]]=t});const aO={type:"error",data:"parser error"},xK=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wK=typeof ArrayBuffer=="function",SK=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,OR=({type:t,data:e},n,r)=>xK&&e instanceof Blob?n?r(e):DL(e,r):wK&&(e instanceof ArrayBuffer||SK(e))?n?r(e):DL(new Blob([e]),r):r(Ku[t]+(e||"")),DL=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function LL(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let oC;function jde(t,e){if(xK&&t.data instanceof Blob)return t.data.arrayBuffer().then(LL).then(e);if(wK&&(t.data instanceof ArrayBuffer||SK(t.data)))return e(LL(t.data));OR(t,!1,n=>{oC||(oC=new TextEncoder),e(oC.encode(n))})}const FL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<FL.length;t++)tb[FL.charCodeAt(t)]=t;const Tde=t=>{let e=t.length*.75,n=t.length,r,i=0,s,a,o,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)s=tb[t.charCodeAt(r)],a=tb[t.charCodeAt(r+1)],o=tb[t.charCodeAt(r+2)],c=tb[t.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|c&63;return u},Ode=typeof ArrayBuffer=="function",PR=(t,e)=>{if(typeof t!="string")return{type:"message",data:NK(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Pde(t.substring(1),e)}:_w[n]?t.length>1?{type:_w[n],data:t.substring(1)}:{type:_w[n]}:aO},Pde=(t,e)=>{if(Ode){const n=Tde(t);return NK(n,e)}else return{base64:!0,data:t}},NK=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},_K="",Mde=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,a)=>{OR(s,!1,o=>{r[a]=o,++i===n&&e(r.join(_K))})})},Rde=(t,e)=>{const n=t.split(_K),r=[];for(let i=0;i<n.length;i++){const s=PR(n[i],e);if(r.push(s),s.type==="error")break}return r};function Ide(){return new TransformStream({transform(t,e){jde(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let lC;function S1(t){return t.reduce((e,n)=>e+n.length,0)}function N1(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Dde(t,e){lC||(lC=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(r===0){if(S1(n)<1)break;const c=N1(n,1);s=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(S1(n)<2)break;const c=N1(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(S1(n)<8)break;const c=N1(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){o.enqueue(aO);break}i=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(S1(n)<i)break;const c=N1(n,i);o.enqueue(PR(s?c:lC.decode(c),e)),r=0}if(i===0||i>t){o.enqueue(aO);break}}}})}const EK=4;function Os(t){if(t)return Lde(t)}function Lde(t){for(var e in Os.prototype)t[e]=Os.prototype[e];return t}Os.prototype.on=Os.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Os.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Os.prototype.off=Os.prototype.removeListener=Os.prototype.removeAllListeners=Os.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Os.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Os.prototype.emitReserved=Os.prototype.emit;Os.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Os.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ON=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Jl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Fde="arraybuffer";function CK(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Bde=Jl.setTimeout,$de=Jl.clearTimeout;function PN(t,e){e.useNativeTimers?(t.setTimeoutFn=Bde.bind(Jl),t.clearTimeoutFn=$de.bind(Jl)):(t.setTimeoutFn=Jl.setTimeout.bind(Jl),t.clearTimeoutFn=Jl.clearTimeout.bind(Jl))}const zde=1.33;function qde(t){return typeof t=="string"?Ude(t):Math.ceil((t.byteLength||t.size)*zde)}function Ude(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function AK(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Hde(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Vde(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Wde extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class MR extends Os{constructor(e){super(),this.writable=!1,PN(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Wde(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=PR(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Hde(e);return n.length?"?"+n:""}}class Kde extends MR{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Rde(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Mde(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=AK()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let kK=!1;try{kK=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Gde=kK;function Yde(){}class Xde extends Kde{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class zu extends Os{constructor(e,n,r){super(),this.createRequest=e,PN(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=CK(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=zu.requestsCount++,zu.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Yde,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete zu.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}zu.requestsCount=0;zu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",BL);else if(typeof addEventListener=="function"){const t="onpagehide"in Jl?"pagehide":"unload";addEventListener(t,BL,!1)}}function BL(){for(let t in zu.requests)zu.requests.hasOwnProperty(t)&&zu.requests[t].abort()}const Zde=(function(){const t=jK({xdomain:!1});return t&&t.responseType!==null})();class Qde extends Xde{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Zde&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new zu(jK,this.uri(),e)}}function jK(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Gde))return new XMLHttpRequest}catch{}if(!e)try{return new Jl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const TK=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Jde extends MR{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=TK?{}:CK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;OR(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&ON(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=AK()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const cC=Jl.WebSocket||Jl.MozWebSocket;let efe=class extends Jde{createSocket(e,n,r){return TK?new cC(e,n,r):n?new cC(e,n):new cC(e)}doWrite(e,n){this.ws.send(n)}};class tfe extends MR{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Dde(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Ide();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:o,value:c})=>{o||(this.onPacket(c),s())}).catch(o=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&ON(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const nfe={websocket:efe,webtransport:tfe,polling:Qde},rfe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ife=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function oO(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=rfe.exec(t||""),s={},a=14;for(;a--;)s[ife[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=sfe(s,s.path),s.queryKey=afe(s,s.query),s}function sfe(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function afe(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const lO=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ew=[];lO&&addEventListener("offline",()=>{Ew.forEach(t=>t())},!1);class bh extends Os{constructor(e,n){if(super(),this.binaryType=Fde,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=oO(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=oO(n.host).host);PN(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vde(this.opts.query)),lO&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ew.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=EK,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&bh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",bh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=qde(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ON(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(bh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),lO&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Ew.indexOf(this._offlineEventListener);r!==-1&&Ew.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}bh.protocol=EK;class ofe extends bh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;bh.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;bh.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const a=f=>{const m=new Error("probe error: "+f);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function o(){a("transport closed")}function c(){a("socket closed")}function u(f){n&&f.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",o),this.off("close",c),this.off("upgrading",u)};n.once("open",i),n.once("error",a),n.once("close",o),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let lfe=class extends ofe{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>nfe[i]).filter(i=>!!i)),super(e,r)}};function cfe(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=oO(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const ufe=typeof ArrayBuffer=="function",dfe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,OK=Object.prototype.toString,ffe=typeof Blob=="function"||typeof Blob<"u"&&OK.call(Blob)==="[object BlobConstructor]",hfe=typeof File=="function"||typeof File<"u"&&OK.call(File)==="[object FileConstructor]";function RR(t){return ufe&&(t instanceof ArrayBuffer||dfe(t))||ffe&&t instanceof Blob||hfe&&t instanceof File}function Cw(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Cw(t[n]))return!0;return!1}if(RR(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Cw(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Cw(t[n]))return!0;return!1}function pfe(t){const e=[],n=t.data,r=t;return r.data=cO(n,e),r.attachments=e.length,{packet:r,buffers:e}}function cO(t,e){if(!t)return t;if(RR(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=cO(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=cO(t[r],e));return n}return t}function mfe(t,e){return t.data=uO(t.data,e),delete t.attachments,t}function uO(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=uO(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=uO(t[n],e));return t}const gfe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vfe=5;var hr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(hr||(hr={}));class yfe{constructor(e){this.replacer=e}encode(e){return(e.type===hr.EVENT||e.type===hr.ACK)&&Cw(e)?this.encodeAsBinary({type:e.type===hr.EVENT?hr.BINARY_EVENT:hr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===hr.BINARY_EVENT||e.type===hr.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=pfe(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function $L(t){return Object.prototype.toString.call(t)==="[object Object]"}class IR extends Os{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===hr.BINARY_EVENT;r||n.type===hr.BINARY_ACK?(n.type=r?hr.EVENT:hr.ACK,this.reconstructor=new bfe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(RR(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(hr[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===hr.BINARY_EVENT||r.type===hr.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(s,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(IR.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case hr.CONNECT:return $L(n);case hr.DISCONNECT:return n===void 0;case hr.CONNECT_ERROR:return typeof n=="string"||$L(n);case hr.EVENT:case hr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&gfe.indexOf(n[0])===-1);case hr.ACK:case hr.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class bfe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=mfe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xfe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:IR,Encoder:yfe,get PacketType(){return hr},protocol:vfe},Symbol.toStringTag,{value:"Module"}));function Lc(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const wfe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class PK extends Os{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Lc(e,"open",this.onopen.bind(this)),Lc(e,"packet",this.onpacket.bind(this)),Lc(e,"error",this.onerror.bind(this)),Lc(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(wfe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:hr.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),a.id=d}const o=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i),a=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(a,o)=>a?i(a):r(o);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:hr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case hr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case hr.EVENT:case hr.BINARY_EVENT:this.onevent(e);break;case hr.ACK:case hr.BINARY_ACK:this.onack(e);break;case hr.DISCONNECT:this.ondisconnect();break;case hr.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:hr.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:hr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Vv(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Vv.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Vv.prototype.reset=function(){this.attempts=0};Vv.prototype.setMin=function(t){this.ms=t};Vv.prototype.setMax=function(t){this.max=t};Vv.prototype.setJitter=function(t){this.jitter=t};class dO extends Os{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,PN(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Vv({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||xfe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new lfe(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Lc(n,"open",function(){r.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=Lc(n,"error",s);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Lc(e,"ping",this.onping.bind(this)),Lc(e,"data",this.ondata.bind(this)),Lc(e,"error",this.onerror.bind(this)),Lc(e,"close",this.onclose.bind(this)),Lc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){ON(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new PK(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Dy={};function Aw(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=cfe(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=Dy[i]&&s in Dy[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return o?c=new dO(r,e):(Dy[i]||(Dy[i]=new dO(r,e)),c=Dy[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Aw,{Manager:dO,Socket:PK,io:Aw,connect:Aw});const MK=S.createContext({socket:null,connected:!1,onlineUsers:0}),RK=()=>S.useContext(MK);function Sfe({children:t}){const[e,n]=S.useState(null),[r,i]=S.useState(!1),[s,a]=S.useState(0),{toast:o}=li(),[c,u]=S.useState(localStorage.getItem("token"));return S.useEffect(()=>{const d=()=>{const m=localStorage.getItem("token");u(m)};window.addEventListener("storage",d);const f=setInterval(d,1e3);return()=>{window.removeEventListener("storage",d),clearInterval(f)}},[]),S.useEffect(()=>{if(!c){e&&(e.close(),n(null),i(!1),a(0));return}const d=Aw(window.location.origin,{auth:{token:c}});return d.on("connect",()=>{console.log("WebSocket conectado"),i(!0),d.emit("get:online-count")}),d.on("disconnect",f=>{console.log(`WebSocket desconectado - Razn: ${f}`),i(!1),f==="io client disconnect"||f==="io server disconnect"||f==="ping timeout"||a(0)}),d.on("heartbeat",f=>{console.log(" Heartbeat recibido:",f),d.emit("heartbeat-response",{timestamp:Date.now()})}),d.on("online-count",f=>{console.log(`Usuarios conectados: ${f}`),a(f)}),d.on("notification",f=>{console.log("Notificacin recibida:",f),o({title:f.title,description:f.message,variant:f.action==="deleted"?"destructive":"default"})}),d.on("user:connected",()=>{console.log("Usuario conectado")}),d.on("user:disconnected",()=>{console.log("Usuario desconectado")}),d.on("session:new",f=>{console.log("Nueva sesin detectada:",f),o({title:"Nueva Sesin",description:`Usuario ${f.username} se conect desde ${f.ip}`,variant:"default"})}),d.on("session:update",f=>{console.log("Sesin actualizada:",f)}),d.on("sessions:terminated",f=>{console.log("Sesiones terminadas:",f),o({title:"Sesiones Terminadas",description:`Se terminaron ${f.count} sesiones del usuario`,variant:"default"})}),d.on("session:terminated",f=>{console.log("Sesin terminada por administrador:",f),o({title:"Sesin Terminada",description:f.message||"Tu sesin ha sido terminada por un administrador",variant:"destructive"}),localStorage.removeItem("token"),window.location.href="/"}),d.on("connect_error",f=>{console.error("Error de conexin WebSocket:",f),i(!1),a(0)}),n(d),()=>{d.close()}},[c,o]),l.jsx(MK.Provider,{value:{socket:e,connected:r,onlineUsers:s},children:t})}const uC=768;function Nfe(){const[t,e]=S.useState(void 0);return S.useEffect(()=>{const n=window.matchMedia(`(max-width: ${uC-1}px)`),r=()=>{e(window.innerWidth<uC)};return n.addEventListener("change",r),e(window.innerWidth<uC),()=>n.removeEventListener("change",r)},[]),!!t}const qb=Sm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_e=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?Y0:"button";return l.jsx(a,{className:pt(qb({variant:e,size:n,className:t})),ref:s,...i})});_e.displayName="Button";const Ke=S.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:pt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ke.displayName="Input";var _fe="Separator",zL="horizontal",Efe=["horizontal","vertical"],IK=S.forwardRef((t,e)=>{const{decorative:n,orientation:r=zL,...i}=t,s=Cfe(r)?r:zL,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(Vt.div,{"data-orientation":s,...o,...i,ref:e})});IK.displayName=_fe;function Cfe(t){return Efe.includes(t)}var DK=IK;const Wa=S.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>l.jsx(DK,{ref:i,decorative:n,orientation:e,className:pt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Wa.displayName=DK.displayName;var dC="focusScope.autoFocusOnMount",fC="focusScope.autoFocusOnUnmount",qL={bubbles:!1,cancelable:!0},Afe="FocusScope",MN=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=S.useState(null),u=Ts(i),d=Ts(s),f=S.useRef(null),m=zn(e,v=>c(v)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let v=function(E){if(p.paused||!o)return;const A=E.target;o.contains(A)?f.current=A:Zf(f.current,{select:!0})},y=function(E){if(p.paused||!o)return;const A=E.relatedTarget;A!==null&&(o.contains(A)||Zf(f.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const k of E)k.removedNodes.length>0&&Zf(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const _=new MutationObserver(w);return o&&_.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),_.disconnect()}}},[r,o,p.paused]),S.useEffect(()=>{if(o){HL.add(p);const v=document.activeElement;if(!o.contains(v)){const w=new CustomEvent(dC,qL);o.addEventListener(dC,u),o.dispatchEvent(w),w.defaultPrevented||(kfe(Mfe(LK(o)),{select:!0}),document.activeElement===v&&Zf(o))}return()=>{o.removeEventListener(dC,u),setTimeout(()=>{const w=new CustomEvent(fC,qL);o.addEventListener(fC,d),o.dispatchEvent(w),w.defaultPrevented||Zf(v??document.body,{select:!0}),o.removeEventListener(fC,d),HL.remove(p)},0)}}},[o,u,d,p]);const b=S.useCallback(v=>{if(!n&&!r||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(y&&w){const _=v.currentTarget,[E,A]=jfe(_);E&&A?!v.shiftKey&&w===A?(v.preventDefault(),n&&Zf(E,{select:!0})):v.shiftKey&&w===E&&(v.preventDefault(),n&&Zf(A,{select:!0})):w===_&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(Vt.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});MN.displayName=Afe;function kfe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zf(r,{select:e}),document.activeElement!==n)return}function jfe(t){const e=LK(t),n=UL(e,t),r=UL(e.reverse(),t);return[n,r]}function LK(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function UL(t,e){for(const n of t)if(!Tfe(n,{upTo:e}))return n}function Tfe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ofe(t){return t instanceof HTMLInputElement&&"select"in t}function Zf(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ofe(t)&&e&&t.select()}}var HL=Pfe();function Pfe(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=VL(t,e),t.unshift(e)},remove(e){t=VL(t,e),t[0]?.resume()}}}function VL(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mfe(t){return t.filter(e=>e.tagName!=="A")}var hC=0;function DR(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??WL()),document.body.insertAdjacentElement("beforeend",t[1]??WL()),hC++,()=>{hC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hC--}},[])}function WL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pu=function(){return Pu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pu.apply(this,arguments)};function FK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rfe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var kw="right-scroll-bar-position",jw="width-before-scroll-bar",Ife="with-scroll-bars-hidden",Dfe="--removed-body-scroll-bar-size";function pC(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Lfe(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Ffe=typeof window<"u"?S.useLayoutEffect:S.useEffect,KL=new WeakMap;function Bfe(t,e){var n=Lfe(null,function(r){return t.forEach(function(i){return pC(i,r)})});return Ffe(function(){var r=KL.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||pC(o,null)}),s.forEach(function(o){i.has(o)||pC(o,a)})}KL.set(n,t)},[t]),n}function $fe(t){return t}function zfe(t,e){e===void 0&&(e=$fe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function qfe(t){t===void 0&&(t={});var e=zfe(null);return e.options=Pu({async:!0,ssr:!1},t),e}var BK=function(t){var e=t.sideCar,n=FK(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Pu({},n))};BK.isSideCarExport=!0;function Ufe(t,e){return t.useMedium(e),BK}var $K=qfe(),mC=function(){},RN=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:mC,onWheelCapture:mC,onTouchMoveCapture:mC}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,b=t.noIsolation,v=t.inert,y=t.allowPinchZoom,w=t.as,_=w===void 0?"div":w,E=t.gapMode,A=FK(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,P=Bfe([n,e]),R=Pu(Pu({},A),i);return S.createElement(S.Fragment,null,d&&S.createElement(k,{sideCar:$K,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:E}),a?S.cloneElement(S.Children.only(o),Pu(Pu({},R),{ref:P})):S.createElement(_,Pu({},R,{className:c,ref:P}),o))});RN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RN.classNames={fullWidth:jw,zeroRight:kw};var Hfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Vfe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Hfe();return e&&t.setAttribute("nonce",e),t}function Wfe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Kfe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Gfe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Vfe())&&(Wfe(e,n),Kfe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Yfe=function(){var t=Gfe();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},zK=function(){var t=Yfe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Xfe={left:0,top:0,right:0,gap:0},gC=function(t){return parseInt(t||"",10)||0},Zfe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[gC(n),gC(r),gC(i)]},Qfe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Xfe;var e=Zfe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Jfe=zK(),zg="data-scroll-locked",ehe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ife,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(zg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kw,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(jw,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(kw," .").concat(kw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jw," .").concat(jw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zg,`] {
    `).concat(Dfe,": ").concat(o,`px;
  }
`)},GL=function(){var t=parseInt(document.body.getAttribute(zg)||"0",10);return isFinite(t)?t:0},the=function(){S.useEffect(function(){return document.body.setAttribute(zg,(GL()+1).toString()),function(){var t=GL()-1;t<=0?document.body.removeAttribute(zg):document.body.setAttribute(zg,t.toString())}},[])},nhe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;the();var s=S.useMemo(function(){return Qfe(i)},[i]);return S.createElement(Jfe,{styles:ehe(s,!e,i,n?"":"!important")})},fO=!1;if(typeof window<"u")try{var _1=Object.defineProperty({},"passive",{get:function(){return fO=!0,!0}});window.addEventListener("test",_1,_1),window.removeEventListener("test",_1,_1)}catch{fO=!1}var ng=fO?{passive:!1}:!1,rhe=function(t){return t.tagName==="TEXTAREA"},qK=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rhe(t)&&n[e]==="visible")},ihe=function(t){return qK(t,"overflowY")},she=function(t){return qK(t,"overflowX")},YL=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UK(t,r);if(i){var s=HK(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ahe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ohe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},UK=function(t,e){return t==="v"?ihe(e):she(e)},HK=function(t,e){return t==="v"?ahe(e):ohe(e)},lhe=function(t,e){return t==="h"&&e==="rtl"?-1:1},che=function(t,e,n,r,i){var s=lhe(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,c=e.contains(o),u=!1,d=a>0,f=0,m=0;do{if(!o)break;var p=HK(t,o),b=p[0],v=p[1],y=p[2],w=v-y-s*b;(b||w)&&UK(t,o)&&(f+=w,m+=b);var _=o.parentNode;o=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},E1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},XL=function(t){return[t.deltaX,t.deltaY]},ZL=function(t){return t&&"current"in t?t.current:t},uhe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dhe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fhe=0,rg=[];function hhe(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(fhe++)[0],s=S.useState(zK)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Rfe([t.lockRef.current],(t.shards||[]).map(ZL),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=S.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var w=E1(v),_=n.current,E="deltaX"in v?v.deltaX:_[0]-w[0],A="deltaY"in v?v.deltaY:_[1]-w[1],k,P=v.target,R=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in v&&R==="h"&&P.type==="range")return!1;var T=YL(R,P);if(!T)return!0;if(T?k=R:(k=R==="v"?"h":"v",T=YL(R,P)),!T)return!1;if(!r.current&&"changedTouches"in v&&(E||A)&&(r.current=k),!k)return!0;var M=r.current||k;return che(M,y,v,M==="h"?E:A)},[]),c=S.useCallback(function(v){var y=v;if(!(!rg.length||rg[rg.length-1]!==s)){var w="deltaY"in y?XL(y):E1(y),_=e.current.filter(function(k){return k.name===y.type&&(k.target===y.target||y.target===k.shadowParent)&&uhe(k.delta,w)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var E=(a.current.shards||[]).map(ZL).filter(Boolean).filter(function(k){return k.contains(y.target)}),A=E.length>0?o(y,E[0]):!a.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),u=S.useCallback(function(v,y,w,_){var E={name:v,delta:y,target:w,should:_,shadowParent:phe(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),d=S.useCallback(function(v){n.current=E1(v),r.current=void 0},[]),f=S.useCallback(function(v){u(v.type,XL(v),v.target,o(v,t.lockRef.current))},[]),m=S.useCallback(function(v){u(v.type,E1(v),v.target,o(v,t.lockRef.current))},[]);S.useEffect(function(){return rg.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ng),document.addEventListener("touchmove",c,ng),document.addEventListener("touchstart",d,ng),function(){rg=rg.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,ng),document.removeEventListener("touchmove",c,ng),document.removeEventListener("touchstart",d,ng)}},[]);var p=t.removeScrollBar,b=t.inert;return S.createElement(S.Fragment,null,b?S.createElement(s,{styles:dhe(i)}):null,p?S.createElement(nhe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function phe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const mhe=Ufe($K,hhe);var IN=S.forwardRef(function(t,e){return S.createElement(RN,Pu({},t,{ref:e,sideCar:mhe}))});IN.classNames=RN.classNames;var ghe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ig=new WeakMap,C1=new WeakMap,A1={},vC=0,VK=function(t){return t&&(t.host||VK(t.parentNode))},vhe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=VK(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},yhe=function(t,e,n,r){var i=vhe(e,Array.isArray(t)?t:[t]);A1[n]||(A1[n]=new WeakMap);var s=A1[n],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(o.has(m))d(m);else try{var p=m.getAttribute(r),b=p!==null&&p!=="false",v=(ig.get(m)||0)+1,y=(s.get(m)||0)+1;ig.set(m,v),s.set(m,y),a.push(m),v===1&&b&&C1.set(m,!0),y===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(e),o.clear(),vC++,function(){a.forEach(function(f){var m=ig.get(f)-1,p=s.get(f)-1;ig.set(f,m),s.set(f,p),m||(C1.has(f)||f.removeAttribute(r),C1.delete(f)),p||f.removeAttribute(n)}),vC--,vC||(ig=new WeakMap,ig=new WeakMap,C1=new WeakMap,A1={})}},LR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=ghe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),yhe(r,i,n,"aria-hidden")):function(){return null}},DN="Dialog",[WK,KK]=bo(DN),[bhe,ru]=WK(DN),GK=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=S.useRef(null),c=S.useRef(null),[u,d]=Kc({prop:r,defaultProp:i??!1,onChange:s,caller:DN});return l.jsx(bhe,{scope:e,triggerRef:o,contentRef:c,contentId:Xa(),titleId:Xa(),descriptionId:Xa(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};GK.displayName=DN;var YK="DialogTrigger",XK=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(YK,n),s=zn(e,i.triggerRef);return l.jsx(Vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$R(i.open),...r,ref:s,onClick:qt(t.onClick,i.onOpenToggle)})});XK.displayName=YK;var FR="DialogPortal",[xhe,ZK]=WK(FR,{forceMount:void 0}),QK=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ru(FR,e);return l.jsx(xhe,{scope:e,forceMount:n,children:S.Children.map(r,a=>l.jsx(Go,{present:n||s.open,children:l.jsx(X0,{asChild:!0,container:i,children:a})}))})};QK.displayName=FR;var s2="DialogOverlay",JK=S.forwardRef((t,e)=>{const n=ZK(s2,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ru(s2,t.__scopeDialog);return s.modal?l.jsx(Go,{present:r||s.open,children:l.jsx(She,{...i,ref:e})}):null});JK.displayName=s2;var whe=em("DialogOverlay.RemoveScroll"),She=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(s2,n);return l.jsx(IN,{as:whe,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Vt.div,{"data-state":$R(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),nm="DialogContent",eG=S.forwardRef((t,e)=>{const n=ZK(nm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ru(nm,t.__scopeDialog);return l.jsx(Go,{present:r||s.open,children:s.modal?l.jsx(Nhe,{...i,ref:e}):l.jsx(_he,{...i,ref:e})})});eG.displayName=nm;var Nhe=S.forwardRef((t,e)=>{const n=ru(nm,t.__scopeDialog),r=S.useRef(null),i=zn(e,n.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return LR(s)},[]),l.jsx(tG,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qt(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:qt(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:qt(t.onFocusOutside,s=>s.preventDefault())})}),_he=S.forwardRef((t,e)=>{const n=ru(nm,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return l.jsx(tG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),tG=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=ru(nm,n),c=S.useRef(null),u=zn(e,c);return DR(),l.jsxs(l.Fragment,{children:[l.jsx(MN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Bv,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":$R(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Che,{titleId:o.titleId}),l.jsx(khe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),BR="DialogTitle",nG=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(BR,n);return l.jsx(Vt.h2,{id:i.titleId,...r,ref:e})});nG.displayName=BR;var rG="DialogDescription",iG=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(rG,n);return l.jsx(Vt.p,{id:i.descriptionId,...r,ref:e})});iG.displayName=rG;var sG="DialogClose",aG=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ru(sG,n);return l.jsx(Vt.button,{type:"button",...r,ref:e,onClick:qt(t.onClick,()=>i.onOpenChange(!1))})});aG.displayName=sG;function $R(t){return t?"open":"closed"}var oG="DialogTitleWarning",[Ehe,lG]=Eoe(oG,{contentName:nm,titleName:BR,docsSlug:"dialog"}),Che=({titleId:t})=>{const e=lG(oG),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ahe="DialogDescriptionWarning",khe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lG(Ahe).contentName}}.`;return S.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},LN=GK,cG=XK,FN=QK,Wv=JK,Kv=eG,nx=nG,rx=iG,BN=aG;const jhe=LN,The=FN,uG=S.forwardRef(({className:t,...e},n)=>l.jsx(Wv,{className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));uG.displayName=Wv.displayName;const Ohe=Sm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),dG=S.forwardRef(({side:t="right",className:e,children:n,...r},i)=>l.jsxs(The,{children:[l.jsx(uG,{}),l.jsxs(Kv,{ref:i,className:pt(Ohe({side:t}),e),...r,children:[n,l.jsxs(BN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(Vu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dG.displayName=Kv.displayName;const fG=({className:t,...e})=>l.jsx("div",{className:pt("flex flex-col space-y-2 text-center sm:text-left",t),...e});fG.displayName="SheetHeader";const hG=S.forwardRef(({className:t,...e},n)=>l.jsx(nx,{ref:n,className:pt("text-lg font-semibold text-foreground",t),...e}));hG.displayName=nx.displayName;const pG=S.forwardRef(({className:t,...e},n)=>l.jsx(rx,{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));pG.displayName=rx.displayName;function Vn({className:t,...e}){return l.jsx("div",{className:pt("animate-pulse rounded-md bg-muted",t),...e})}const Phe="sidebar_state",Mhe=3600*24*7,Rhe="16rem",Ihe="18rem",Dhe="3rem",Lhe="b",mG=S.createContext(null);function zR(){const t=S.useContext(mG);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function Fhe({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...a}){const o=Nfe(),[c,u]=S.useState(!1),[d,f]=S.useState(t),m=e??d,p=S.useCallback(w=>{const _=typeof w=="function"?w(m):w;n?n(_):f(_),document.cookie=`${Phe}=${_}; path=/; max-age=${Mhe}`},[n,m]),b=S.useCallback(()=>o?u(w=>!w):p(w=>!w),[o,p,u]);S.useEffect(()=>{const w=_=>{_.key===Lhe&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),b())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[b]);const v=m?"expanded":"collapsed",y=S.useMemo(()=>({state:v,open:m,setOpen:p,isMobile:o,openMobile:c,setOpenMobile:u,toggleSidebar:b}),[v,m,p,o,c,u,b]);return l.jsx(mG.Provider,{value:y,children:l.jsx(mK,{delayDuration:0,children:l.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Rhe,"--sidebar-width-icon":Dhe,...i},className:pt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...a,children:s})})})}function Bhe({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:a,state:o,openMobile:c,setOpenMobile:u}=zR();return n==="none"?l.jsx("div",{"data-slot":"sidebar",className:pt("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):a?l.jsx(jhe,{open:c,onOpenChange:u,...s,children:l.jsxs(dG,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":Ihe},side:t,children:[l.jsxs(fG,{className:"sr-only",children:[l.jsx(hG,{children:"Sidebar"}),l.jsx(pG,{children:"Displays the mobile sidebar."})]}),l.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):l.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":o==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[l.jsx("div",{"data-slot":"sidebar-gap",className:pt("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),l.jsx("div",{"data-slot":"sidebar-container",className:pt("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:l.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function $he({className:t,onClick:e,...n}){const{toggleSidebar:r}=zR();return l.jsxs(_e,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:pt("h-7 w-7",t),onClick:i=>{e?.(i),r()},...n,children:[l.jsx(Ule,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function zhe({className:t,...e}){return l.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:pt("flex flex-col gap-2 p-2",t),...e})}function qhe({className:t,...e}){return l.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:pt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function Uhe({className:t,...e}){return l.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:pt("relative flex w-full min-w-0 flex-col p-2",t),...e})}function Hhe({className:t,asChild:e=!1,...n}){const r=e?Y0:"div";return l.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:pt("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function Vhe({className:t,...e}){return l.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:pt("w-full text-sm",t),...e})}function Whe({className:t,...e}){return l.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:pt("flex w-full min-w-0 flex-col gap-1",t),...e})}function QL({className:t,...e}){return l.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:pt("group/menu-item relative",t),...e})}const Khe=Sm("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function JL({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...a}){const o=t?Y0:"button",{isMobile:c,state:u}=zR(),d=l.jsx(o,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:pt(Khe({variant:n,size:r}),s),...a});return i?(typeof i=="string"&&(i={children:i}),l.jsxs(gK,{children:[l.jsx(vK,{asChild:!0,children:d}),l.jsx(TR,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):d}function Ghe({className:t,...e}){return l.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:pt("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e})}function Yhe({className:t,...e}){return l.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:pt("group/menu-sub-item relative",t),...e})}function Xhe({asChild:t=!1,size:e="md",isActive:n=!1,className:r,...i}){const s=t?Y0:"a";return l.jsx(s,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:pt("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})}function Zhe(){return pN.useSyncExternalStore(Qhe,()=>!0,()=>!1)}function Qhe(){return()=>{}}var qR="Avatar",[Jhe]=bo(qR),[epe,gG]=Jhe(qR),vG=S.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=S.useState("idle");return l.jsx(epe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:l.jsx(Vt.span,{...r,ref:e})})});vG.displayName=qR;var yG="AvatarImage",bG=S.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=gG(yG,n),o=tpe(r,s),c=Ts(u=>{i(u),a.onImageLoadingStatusChange(u)});return bs(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Vt.img,{...s,ref:e,src:r}):null});bG.displayName=yG;var xG="AvatarFallback",wG=S.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=gG(xG,n),[a,o]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?l.jsx(Vt.span,{...i,ref:e}):null});wG.displayName=xG;function e6(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tpe(t,{referrerPolicy:e,crossOrigin:n}){const r=Zhe(),i=S.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=S.useState(()=>e6(s,t));return bs(()=>{o(e6(s,t))},[s,t]),bs(()=>{const c=f=>()=>{o(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),a}var SG=vG,NG=bG,_G=wG;const a2=S.forwardRef(({className:t,...e},n)=>l.jsx(SG,{ref:n,className:pt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));a2.displayName=SG.displayName;const npe=S.forwardRef(({className:t,...e},n)=>l.jsx(NG,{ref:n,className:pt("aspect-square h-full w-full",t),...e}));npe.displayName=NG.displayName;const o2=S.forwardRef(({className:t,...e},n)=>l.jsx(_G,{ref:n,className:pt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));o2.displayName=_G.displayName;const rpe=[{title:"Dashboard",url:"/",icon:Ple,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Clientes",url:"/clientes",icon:pb,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Impuestos",url:"/impuestos/control",icon:Di,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Documentacin",url:"/documentacion/presupuestos",icon:Xw,roles:["Administrador","Gestor","Solo Lectura"],children:[{title:"Presupuestos",url:"/documentacion/presupuestos",icon:Tle,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Documentos",url:"/documentacion/documentos",icon:Di,roles:["Administrador","Gestor","Solo Lectura"]}]},{title:"Tareas",url:"/tareas",icon:Fg,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Manuales",url:"/manuales",icon:Xw,roles:["Administrador","Gestor","Solo Lectura"]},{title:"Notificaciones",url:"/notificaciones",icon:yle,roles:["Administrador","Gestor"]},{title:"Auditora",url:"/auditoria",icon:Op,roles:["Administrador","Gestor"]},{title:"Administracin",url:"/admin",icon:wN,roles:["Administrador"]}];function ipe(){const[t]=Ko(),{user:e,logout:n}=Nm(),r=rpe.filter(s=>e&&e.roleName&&Array.isArray(s.roles)&&s.roles.includes(e.roleName)),i=s=>s.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2);return l.jsxs(Bhe,{children:[l.jsxs(qhe,{children:[l.jsx("div",{className:"p-6",children:l.jsx("h1",{className:"text-xl font-display font-bold text-primary",children:"Asesora La Llave"})}),l.jsxs(Uhe,{children:[l.jsx(Hhe,{children:"Navegacin"}),l.jsx(Vhe,{children:l.jsx(Whe,{children:r.map(s=>{if(s.children&&Array.isArray(s.children)&&s.children.length>0){const a=s.children.some(o=>t.startsWith(o.url))||t===s.url;return l.jsxs(QL,{children:[l.jsx(JL,{asChild:!0,isActive:a,children:l.jsxs(wl,{href:s.url,"data-testid":`link-${s.title.toLowerCase()}`,children:[l.jsx(s.icon,{className:"h-4 w-4"}),l.jsx("span",{children:s.title})]})}),l.jsx(Ghe,{children:s.children.filter(o=>o.roles?e&&e.roleName&&o.roles.includes(e.roleName):!0).map(o=>l.jsx(Yhe,{children:l.jsx(Xhe,{asChild:!0,isActive:t.startsWith(o.url),children:l.jsxs(wl,{href:o.url,"data-testid":`link-${o.title.toLowerCase()}`,children:[l.jsx(o.icon,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:o.title})]})})},o.title))})]},s.title)}return l.jsx(QL,{children:l.jsx(JL,{asChild:!0,isActive:t===s.url,children:l.jsxs(wl,{href:s.url,"data-testid":`link-${s.title.toLowerCase()}`,children:[l.jsx(s.icon,{className:"h-4 w-4"}),l.jsx("span",{children:s.title})]})})},s.title)})})})]})]}),l.jsxs(zhe,{className:"p-4",children:[e&&l.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[l.jsx(a2,{className:"h-9 w-9",children:l.jsx(o2,{className:"bg-primary text-primary-foreground text-sm",children:i(e.username)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:e.username}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e.roleName||"Sin rol"})]})]}),l.jsxs(_e,{variant:"ghost",className:"w-full justify-start",onClick:n,"data-testid":"button-logout",children:[l.jsx(Fle,{className:"h-4 w-4 mr-2"}),"Cerrar Sesin"]})]})]})}function spe(){const{theme:t,toggleTheme:e}=Ade();return l.jsxs(_e,{variant:"ghost",size:"icon",onClick:e,"data-testid":"button-theme-toggle",children:[t==="light"?l.jsx(zle,{className:"h-5 w-5"}):l.jsx(Zle,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var t6=1,ape=.9,ope=.8,lpe=.17,yC=.1,bC=.999,cpe=.9999,upe=.99,dpe=/[\\\/_+.#"@\[\(\{&]/,fpe=/[\\\/_+.#"@\[\(\{&]/g,hpe=/[\s-]/,EG=/[\s-]/g;function hO(t,e,n,r,i,s,a){if(s===e.length)return i===t.length?t6:upe;var o=`${i},${s}`;if(a[o]!==void 0)return a[o];for(var c=r.charAt(s),u=n.indexOf(c,i),d=0,f,m,p,b;u>=0;)f=hO(t,e,n,r,u+1,s+1,a),f>d&&(u===i?f*=t6:dpe.test(t.charAt(u-1))?(f*=ope,p=t.slice(i,u-1).match(fpe),p&&i>0&&(f*=Math.pow(bC,p.length))):hpe.test(t.charAt(u-1))?(f*=ape,b=t.slice(i,u-1).match(EG),b&&i>0&&(f*=Math.pow(bC,b.length))):(f*=lpe,i>0&&(f*=Math.pow(bC,u-i))),t.charAt(u)!==e.charAt(s)&&(f*=cpe)),(f<yC&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(m=hO(t,e,n,r,u+1,s+2,a),m*yC>f&&(f=m*yC)),f>d&&(d=f),u=n.indexOf(c,u+1);return a[o]=d,d}function n6(t){return t.toLowerCase().replace(EG," ")}function ppe(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,hO(t,e,n6(t),n6(e),0,0,{})}var Ly='[cmdk-group=""]',xC='[cmdk-group-items=""]',mpe='[cmdk-group-heading=""]',CG='[cmdk-item=""]',r6=`${CG}:not([aria-disabled="true"])`,pO="cmdk-item-select",yg="data-value",gpe=(t,e,n)=>ppe(t,e,n),AG=S.createContext(void 0),ix=()=>S.useContext(AG),kG=S.createContext(void 0),UR=()=>S.useContext(kG),jG=S.createContext(void 0),TG=S.forwardRef((t,e)=>{let n=bg(()=>{var I,G;return{search:"",value:(G=(I=t.value)!=null?I:t.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=bg(()=>new Set),i=bg(()=>new Map),s=bg(()=>new Map),a=bg(()=>new Set),o=OG(t),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:p,loop:b,disablePointerSelection:v=!1,vimBindings:y=!0,...w}=t,_=Xa(),E=Xa(),A=Xa(),k=S.useRef(null),P=Ape();rm(()=>{if(d!==void 0){let I=d.trim();n.current.value=I,R.emit()}},[d]),rm(()=>{P(6,q)},[]);let R=S.useMemo(()=>({subscribe:I=>(a.current.add(I),()=>a.current.delete(I)),snapshot:()=>n.current,setState:(I,G,ne)=>{var ie,he,J,ue;if(!Object.is(n.current[I],G)){if(n.current[I]=G,I==="search")F(),B(),P(1,O);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ae=document.getElementById(A);ae?ae.focus():(ie=document.getElementById(_))==null||ie.focus()}if(P(7,()=>{var ae;n.current.selectedItemId=(ae=z())==null?void 0:ae.id,R.emit()}),ne||P(5,q),((he=o.current)==null?void 0:he.value)!==void 0){let ae=G??"";(ue=(J=o.current).onValueChange)==null||ue.call(J,ae);return}}R.emit()}},emit:()=>{a.current.forEach(I=>I())}}),[]),T=S.useMemo(()=>({value:(I,G,ne)=>{var ie;G!==((ie=s.current.get(I))==null?void 0:ie.value)&&(s.current.set(I,{value:G,keywords:ne}),n.current.filtered.items.set(I,M(G,ne)),P(2,()=>{B(),R.emit()}))},item:(I,G)=>(r.current.add(I),G&&(i.current.has(G)?i.current.get(G).add(I):i.current.set(G,new Set([I]))),P(3,()=>{F(),B(),n.current.value||O(),R.emit()}),()=>{s.current.delete(I),r.current.delete(I),n.current.filtered.items.delete(I);let ne=z();P(4,()=>{F(),ne?.getAttribute("id")===I&&O(),R.emit()})}),group:I=>(i.current.has(I)||i.current.set(I,new Set),()=>{s.current.delete(I),i.current.delete(I)}),filter:()=>o.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:_,inputId:A,labelId:E,listInnerRef:k}),[]);function M(I,G){var ne,ie;let he=(ie=(ne=o.current)==null?void 0:ne.filter)!=null?ie:gpe;return I?he(I,n.current.search,G):0}function B(){if(!n.current.search||o.current.shouldFilter===!1)return;let I=n.current.filtered.items,G=[];n.current.filtered.groups.forEach(ie=>{let he=i.current.get(ie),J=0;he.forEach(ue=>{let ae=I.get(ue);J=Math.max(ae,J)}),G.push([ie,J])});let ne=k.current;K().sort((ie,he)=>{var J,ue;let ae=ie.getAttribute("id"),X=he.getAttribute("id");return((J=I.get(X))!=null?J:0)-((ue=I.get(ae))!=null?ue:0)}).forEach(ie=>{let he=ie.closest(xC);he?he.appendChild(ie.parentElement===he?ie:ie.closest(`${xC} > *`)):ne.appendChild(ie.parentElement===ne?ie:ie.closest(`${xC} > *`))}),G.sort((ie,he)=>he[1]-ie[1]).forEach(ie=>{var he;let J=(he=k.current)==null?void 0:he.querySelector(`${Ly}[${yg}="${encodeURIComponent(ie[0])}"]`);J?.parentElement.appendChild(J)})}function O(){let I=K().find(ne=>ne.getAttribute("aria-disabled")!=="true"),G=I?.getAttribute(yg);R.setState("value",G||void 0)}function F(){var I,G,ne,ie;if(!n.current.search||o.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let he=0;for(let J of r.current){let ue=(G=(I=s.current.get(J))==null?void 0:I.value)!=null?G:"",ae=(ie=(ne=s.current.get(J))==null?void 0:ne.keywords)!=null?ie:[],X=M(ue,ae);n.current.filtered.items.set(J,X),X>0&&he++}for(let[J,ue]of i.current)for(let ae of ue)if(n.current.filtered.items.get(ae)>0){n.current.filtered.groups.add(J);break}n.current.filtered.count=he}function q(){var I,G,ne;let ie=z();ie&&(((I=ie.parentElement)==null?void 0:I.firstChild)===ie&&((ne=(G=ie.closest(Ly))==null?void 0:G.querySelector(mpe))==null||ne.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function z(){var I;return(I=k.current)==null?void 0:I.querySelector(`${CG}[aria-selected="true"]`)}function K(){var I;return Array.from(((I=k.current)==null?void 0:I.querySelectorAll(r6))||[])}function Z(I){let G=K()[I];G&&R.setState("value",G.getAttribute(yg))}function H(I){var G;let ne=z(),ie=K(),he=ie.findIndex(ue=>ue===ne),J=ie[he+I];(G=o.current)!=null&&G.loop&&(J=he+I<0?ie[ie.length-1]:he+I===ie.length?ie[0]:ie[he+I]),J&&R.setState("value",J.getAttribute(yg))}function W(I){let G=z(),ne=G?.closest(Ly),ie;for(;ne&&!ie;)ne=I>0?Epe(ne,Ly):Cpe(ne,Ly),ie=ne?.querySelector(r6);ie?R.setState("value",ie.getAttribute(yg)):H(I)}let Y=()=>Z(K().length-1),ge=I=>{I.preventDefault(),I.metaKey?Y():I.altKey?W(1):H(1)},Q=I=>{I.preventDefault(),I.metaKey?Z(0):I.altKey?W(-1):H(-1)};return S.createElement(Vt.div,{ref:e,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:I=>{var G;(G=w.onKeyDown)==null||G.call(w,I);let ne=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||ne))switch(I.key){case"n":case"j":{y&&I.ctrlKey&&ge(I);break}case"ArrowDown":{ge(I);break}case"p":case"k":{y&&I.ctrlKey&&Q(I);break}case"ArrowUp":{Q(I);break}case"Home":{I.preventDefault(),Z(0);break}case"End":{I.preventDefault(),Y();break}case"Enter":{I.preventDefault();let ie=z();if(ie){let he=new Event(pO);ie.dispatchEvent(he)}}}}},S.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:jpe},c),$N(t,I=>S.createElement(kG.Provider,{value:R},S.createElement(AG.Provider,{value:T},I))))}),vpe=S.forwardRef((t,e)=>{var n,r;let i=Xa(),s=S.useRef(null),a=S.useContext(jG),o=ix(),c=OG(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:a?.forceMount;rm(()=>{if(!u)return o.item(i,a?.id)},[u]);let d=PG(i,s,[t.value,t.children,s],t.keywords),f=UR(),m=jh(P=>P.value&&P.value===d.current),p=jh(P=>u||o.filter()===!1?!0:P.search?P.filtered.items.get(i)>0:!0);S.useEffect(()=>{let P=s.current;if(!(!P||t.disabled))return P.addEventListener(pO,b),()=>P.removeEventListener(pO,b)},[p,t.onSelect,t.disabled]);function b(){var P,R;v(),(R=(P=c.current).onSelect)==null||R.call(P,d.current)}function v(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:y,value:w,onSelect:_,forceMount:E,keywords:A,...k}=t;return S.createElement(Vt.div,{ref:Jp(s,e),...k,id:i,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!m,"data-disabled":!!y,"data-selected":!!m,onPointerMove:y||o.getDisablePointerSelection()?void 0:v,onClick:y?void 0:b},t.children)}),ype=S.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,a=Xa(),o=S.useRef(null),c=S.useRef(null),u=Xa(),d=ix(),f=jh(p=>i||d.filter()===!1?!0:p.search?p.filtered.groups.has(a):!0);rm(()=>d.group(a),[]),PG(a,o,[t.value,t.heading,c]);let m=S.useMemo(()=>({id:a,forceMount:i}),[i]);return S.createElement(Vt.div,{ref:Jp(o,e),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&S.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),$N(t,p=>S.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},S.createElement(jG.Provider,{value:m},p))))}),bpe=S.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=S.useRef(null),s=jh(a=>!a.search);return!n&&!s?null:S.createElement(Vt.div,{ref:Jp(i,e),...r,"cmdk-separator":"",role:"separator"})}),xpe=S.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=UR(),a=jh(u=>u.search),o=jh(u=>u.selectedItemId),c=ix();return S.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),S.createElement(Vt.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:i?t.value:a,onChange:u=>{i||s.setState("search",u.target.value),n?.(u.target.value)}})}),wpe=S.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=S.useRef(null),a=S.useRef(null),o=jh(u=>u.selectedItemId),c=ix();return S.useEffect(()=>{if(a.current&&s.current){let u=a.current,d=s.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),S.createElement(Vt.div,{ref:Jp(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:c.listId},$N(t,u=>S.createElement("div",{ref:Jp(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Spe=S.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:a,...o}=t;return S.createElement(LN,{open:n,onOpenChange:r},S.createElement(FN,{container:a},S.createElement(Wv,{"cmdk-overlay":"",className:i}),S.createElement(Kv,{"aria-label":t.label,"cmdk-dialog":"",className:s},S.createElement(TG,{ref:e,...o}))))}),Npe=S.forwardRef((t,e)=>jh(n=>n.filtered.count===0)?S.createElement(Vt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),_pe=S.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return S.createElement(Vt.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},$N(t,a=>S.createElement("div",{"aria-hidden":!0},a)))}),Yo=Object.assign(TG,{List:wpe,Item:vpe,Input:xpe,Group:ype,Separator:bpe,Dialog:Spe,Empty:Npe,Loading:_pe});function Epe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Cpe(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function OG(t){let e=S.useRef(t);return rm(()=>{e.current=t}),e}var rm=typeof window>"u"?S.useEffect:S.useLayoutEffect;function bg(t){let e=S.useRef();return e.current===void 0&&(e.current=t()),e}function jh(t){let e=UR(),n=()=>t(e.snapshot());return S.useSyncExternalStore(e.subscribe,n,n)}function PG(t,e,n,r=[]){let i=S.useRef(),s=ix();return rm(()=>{var a;let o=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());s.value(t,o,c),(a=e.current)==null||a.setAttribute(yg,o),i.current=o}),i}var Ape=()=>{let[t,e]=S.useState(),n=bg(()=>new Map);return rm(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function kpe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function $N({asChild:t,children:e},n){return t&&S.isValidElement(e)?S.cloneElement(kpe(e),{ref:e.ref},n(e.props.children)):n(e)}var jpe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ls=LN,gl=cG,Tpe=FN,MG=S.forwardRef(({className:t,...e},n)=>l.jsx(Wv,{ref:n,className:pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));MG.displayName=Wv.displayName;const Wi=S.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Tpe,{children:[l.jsx(MG,{}),l.jsxs(Kv,{ref:r,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 max-h-[85vh] overflow-y-auto data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(BN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Vu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wi.displayName=Kv.displayName;const cs=({className:t,...e})=>l.jsx("div",{className:pt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cs.displayName="DialogHeader";const Fo=({className:t,...e})=>l.jsx("div",{className:pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fo.displayName="DialogFooter";const us=S.forwardRef(({className:t,...e},n)=>l.jsx(nx,{ref:n,className:pt("text-lg font-semibold leading-none tracking-tight",t),...e}));us.displayName=nx.displayName;const Ca=S.forwardRef(({className:t,...e},n)=>l.jsx(rx,{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));Ca.displayName=rx.displayName;const RG=S.forwardRef(({className:t,...e},n)=>l.jsx(Yo,{ref:n,className:pt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));RG.displayName=Yo.displayName;const Ope=({children:t,...e})=>l.jsx(ls,{...e,children:l.jsx(Wi,{className:"overflow-hidden p-0 shadow-lg",children:l.jsx(RG,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),IG=S.forwardRef(({className:t,...e},n)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx($v,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Yo.Input,{ref:n,className:pt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));IG.displayName=Yo.Input.displayName;const DG=S.forwardRef(({className:t,...e},n)=>l.jsx(Yo.List,{ref:n,className:pt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));DG.displayName=Yo.List.displayName;const LG=S.forwardRef((t,e)=>l.jsx(Yo.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));LG.displayName=Yo.Empty.displayName;const Tw=S.forwardRef(({className:t,...e},n)=>l.jsx(Yo.Group,{ref:n,className:pt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Tw.displayName=Yo.Group.displayName;const Ppe=S.forwardRef(({className:t,...e},n)=>l.jsx(Yo.Separator,{ref:n,className:pt("-mx-1 h-px bg-border",t),...e}));Ppe.displayName=Yo.Separator.displayName;const Ow=S.forwardRef(({className:t,...e},n)=>l.jsx(Yo.Item,{ref:n,className:pt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));Ow.displayName=Yo.Item.displayName;function Mpe(){const[t,e]=S.useState(!1),[n,r]=S.useState(""),[,i]=Ko();S.useEffect(()=>{const o=c=>{c.key==="k"&&(c.metaKey||c.ctrlKey)&&(c.preventDefault(),e(u=>!u))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]);const{data:s}=Sn({queryKey:["/api/search",n],enabled:n.length>=2,queryFn:async()=>{const o=await fetch(`/api/search?q=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!o.ok)throw new Error("Error en bsqueda");return o.json()}}),a=(o,c)=>{e(!1),r(""),o==="cliente"?i("/clientes"):o==="tarea"?i("/tareas"):o==="manual"&&i(`/manuales/${c}`)};return l.jsxs(l.Fragment,{children:[l.jsxs(_e,{variant:"outline",className:"relative w-full justify-start text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64",onClick:()=>e(!0),"data-testid":"button-global-search",children:[l.jsx($v,{className:"mr-2 h-4 w-4"}),l.jsx("span",{className:"hidden lg:inline-flex",children:"Buscar..."}),l.jsx("span",{className:"inline-flex lg:hidden",children:"Buscar"}),l.jsxs("kbd",{className:"pointer-events-none absolute right-1.5 top-2 hidden h-6 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[l.jsx("span",{className:"text-xs",children:""}),"K"]})]}),l.jsxs(Ope,{open:t,onOpenChange:e,children:[l.jsx(IG,{placeholder:"Buscar clientes, tareas, impuestos, manuales...",value:n,onValueChange:r,"data-testid":"input-global-search"}),l.jsxs(DG,{children:[l.jsx(LG,{children:n.length<2?"Escribe al menos 2 caracteres para buscar":"No se encontraron resultados"}),s&&s.clientes.length>0&&l.jsx(Tw,{heading:"Clientes",children:s.clientes.map(o=>l.jsxs(Ow,{onSelect:()=>a("cliente",o.id),"data-testid":`search-result-client-${o.id}`,children:[l.jsx(ex,{className:"mr-2 h-4 w-4"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:o.razonSocial}),l.jsx("span",{className:"text-xs text-muted-foreground",children:o.nifCif})]})]},o.id))}),s&&s.tareas.length>0&&l.jsx(Tw,{heading:"Tareas",children:s.tareas.map(o=>l.jsxs(Ow,{onSelect:()=>a("tarea",o.id),"data-testid":`search-result-task-${o.id}`,children:[l.jsx(Fg,{className:"mr-2 h-4 w-4"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:o.titulo}),l.jsx("span",{className:"text-xs text-muted-foreground",children:o.estado})]})]},o.id))}),null,s&&s.manuales.length>0&&l.jsx(Tw,{heading:"Manuales",children:s.manuales.map(o=>l.jsxs(Ow,{onSelect:()=>a("manual",o.id),"data-testid":`search-result-manual-${o.id}`,children:[l.jsx(Xw,{className:"mr-2 h-4 w-4"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:o.titulo}),l.jsx("span",{className:"text-xs text-muted-foreground",children:o.categoria})]})]},o.id))})]})]})]})}function Rpe(){const{data:t,isLoading:e}=Sn({queryKey:["/api/health"],refetchInterval:3e4,retry:2}),n=t?.status==="healthy"&&t?.database==="connected";return e?l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(XT,{className:"h-4 w-4 animate-pulse"}),l.jsx("span",{className:"hidden sm:inline",children:"Verificando..."})]}):l.jsxs(gK,{children:[l.jsx(vK,{asChild:!0,children:l.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-help",children:n?l.jsxs(l.Fragment,{children:[l.jsx(jle,{className:"h-4 w-4 text-green-500","data-testid":"icon-db-connected"}),l.jsx("span",{className:"hidden sm:inline",children:"DB Activa"})]}):l.jsxs(l.Fragment,{children:[l.jsx(XT,{className:"h-4 w-4 text-red-500","data-testid":"icon-db-disconnected"}),l.jsx("span",{className:"hidden sm:inline",children:"DB Desconectada"})]})})}),l.jsx(TR,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"font-semibold",children:["Estado: ",n?"Conectada":"Desconectada"]}),t?.timestamp&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["ltima verificacin: ",new Date(t.timestamp).toLocaleTimeString()]})]})})]})}const dt=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:pt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));dt.displayName="Card";const Dt=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:pt("flex flex-col space-y-1.5 p-6",t),...e}));Dt.displayName="CardHeader";const $t=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:pt("text-2xl font-semibold leading-none tracking-tight",t),...e}));$t.displayName="CardTitle";const lf=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));lf.displayName="CardDescription";const ft=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:pt("p-6 pt-0",t),...e}));ft.displayName="CardContent";const Ipe=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:pt("flex items-center p-6 pt-0",t),...e}));Ipe.displayName="CardFooter";function Dpe(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(dt,{className:"w-full max-w-md mx-4",children:l.jsxs(ft,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(Gc,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Lpe="Label",FG=S.forwardRef((t,e)=>l.jsx(Vt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FG.displayName=Lpe;var BG=FG;const Fpe=Sm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=S.forwardRef(({className:t,...e},n)=>l.jsx(BG,{ref:n,className:pt(Fpe(),t),...e}));Re.displayName=BG.displayName;var Bpe=S.createContext(void 0);function sx(t){const e=S.useContext(Bpe);return t||e||"ltr"}var wC="rovingFocusGroup.onEntryFocus",$pe={bubbles:!1,cancelable:!0},ax="RovingFocusGroup",[mO,$G,zpe]=gN(ax),[qpe,zG]=bo(ax,[zpe]),[Upe,Hpe]=qpe(ax),qG=S.forwardRef((t,e)=>l.jsx(mO.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(mO.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Vpe,{...t,ref:e})})}));qG.displayName=ax;var Vpe=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=S.useRef(null),p=zn(e,m),b=sx(s),[v,y]=Kc({prop:a,defaultProp:o??null,onChange:c,caller:ax}),[w,_]=S.useState(!1),E=Ts(u),A=$G(n),k=S.useRef(!1),[P,R]=S.useState(0);return S.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(wC,E),()=>T.removeEventListener(wC,E)},[E]),l.jsx(Upe,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:v,onItemFocus:S.useCallback(T=>y(T),[y]),onItemShiftTab:S.useCallback(()=>_(!0),[]),onFocusableItemAdd:S.useCallback(()=>R(T=>T+1),[]),onFocusableItemRemove:S.useCallback(()=>R(T=>T-1),[]),children:l.jsx(Vt.div,{tabIndex:w||P===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:qt(t.onMouseDown,()=>{k.current=!0}),onFocus:qt(t.onFocus,T=>{const M=!k.current;if(T.target===T.currentTarget&&M&&!w){const B=new CustomEvent(wC,$pe);if(T.currentTarget.dispatchEvent(B),!B.defaultPrevented){const O=A().filter(Z=>Z.focusable),F=O.find(Z=>Z.active),q=O.find(Z=>Z.id===v),K=[F,q,...O].filter(Boolean).map(Z=>Z.ref.current);VG(K,d)}}k.current=!1}),onBlur:qt(t.onBlur,()=>_(!1))})})}),UG="RovingFocusGroupItem",HG=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,c=Xa(),u=s||c,d=Hpe(UG,n),f=d.currentTabStopId===u,m=$G(n),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:v}=d;return S.useEffect(()=>{if(r)return p(),()=>b()},[r,p,b]),l.jsx(mO.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:l.jsx(Vt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:qt(t.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:qt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:qt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=Gpe(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let E=m().filter(A=>A.focusable).map(A=>A.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const A=E.indexOf(y.currentTarget);E=d.loop?Ype(E,A+1):E.slice(A+1)}setTimeout(()=>VG(E))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});HG.displayName=UG;var Wpe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kpe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Gpe(t,e,n){const r=Kpe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Wpe[r]}function VG(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ype(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Xpe=qG,Zpe=HG,zN="Tabs",[Qpe]=bo(zN,[zG]),WG=zG(),[Jpe,HR]=Qpe(zN),KG=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=t,d=sx(o),[f,m]=Kc({prop:r,onChange:i,defaultProp:s??"",caller:zN});return l.jsx(Jpe,{scope:n,baseId:Xa(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:c,children:l.jsx(Vt.div,{dir:d,"data-orientation":a,...u,ref:e})})});KG.displayName=zN;var GG="TabsList",YG=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=HR(GG,n),a=WG(n);return l.jsx(Xpe,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(Vt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});YG.displayName=GG;var XG="TabsTrigger",ZG=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=HR(XG,n),o=WG(n),c=eY(a.baseId,r),u=tY(a.baseId,r),d=r===a.value;return l.jsx(Zpe,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(Vt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:qt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:qt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:qt(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});ZG.displayName=XG;var QG="TabsContent",JG=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=HR(QG,n),c=eY(o.baseId,r),u=tY(o.baseId,r),d=r===o.value,f=S.useRef(d);return S.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Go,{present:i||d,children:({present:m})=>l.jsx(Vt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});JG.displayName=QG;function eY(t,e){return`${t}-trigger-${e}`}function tY(t,e){return`${t}-content-${e}`}var eme=KG,nY=YG,rY=ZG,iY=JG;const Al=eme,Xo=S.forwardRef(({className:t,...e},n)=>l.jsx(nY,{ref:n,className:pt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Xo.displayName=nY.displayName;const Pn=S.forwardRef(({className:t,...e},n)=>l.jsx(rY,{ref:n,className:pt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Pn.displayName=rY.displayName;const cr=S.forwardRef(({className:t,...e},n)=>l.jsx(iY,{ref:n,className:pt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));cr.displayName=iY.displayName;function i6(){const[,t]=Ko(),{login:e,register:n,logout:r,user:i}=Nm(),{toast:s}=li(),[a,o]=S.useState({username:"",password:""}),[c,u]=S.useState({username:"",email:"",password:"",confirmPassword:""}),{data:d}=Sn({queryKey:["/api/admin/system-settings"]});S.useEffect(()=>{i&&r()},[i,r]);const f=async p=>{p.preventDefault();try{await e(a.username,a.password),s({title:"Inicio de sesin exitoso",description:"Bienvenido de nuevo"}),t("/")}catch(b){s({title:"Error",description:b.message||"Credenciales incorrectas",variant:"destructive"})}},m=async p=>{if(p.preventDefault(),c.password!==c.confirmPassword){s({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}try{await n(c.username,c.email,c.password),s({title:"Registro exitoso",description:"Tu cuenta ha sido creada"}),t("/")}catch(b){s({title:"Error",description:b.message||"Error al crear la cuenta",variant:"destructive"})}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-ring/5 p-4",children:l.jsxs(dt,{className:"w-full max-w-md",children:[l.jsxs(Dt,{className:"space-y-1",children:[l.jsx($t,{className:"text-3xl font-display font-bold text-center text-primary",children:"Asesora La Llave"}),l.jsx(lf,{className:"text-center",children:"Sistema de gestin profesional"})]}),l.jsx(ft,{children:l.jsxs(Al,{defaultValue:"login",className:"w-full",children:[l.jsxs(Xo,{className:`grid w-full ${d?.registrationEnabled??!0?"grid-cols-2":"grid-cols-1"} mb-6`,children:[l.jsx(Pn,{value:"login",children:"Iniciar Sesin"}),(d?.registrationEnabled??!0)&&l.jsx(Pn,{value:"register",children:"Registrarse"})]}),l.jsx(cr,{value:"login",children:l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"login-username",children:"Usuario"}),l.jsx(Ke,{id:"login-username",type:"text",placeholder:"tu_usuario",value:a.username,onChange:p=>o({...a,username:p.target.value}),required:!0,"data-testid":"input-login-username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"login-password",children:"Contrasea"}),l.jsx(Ke,{id:"login-password",type:"password",placeholder:"",value:a.password,onChange:p=>o({...a,password:p.target.value}),required:!0,"data-testid":"input-login-password"})]}),l.jsx(_e,{type:"submit",className:"w-full","data-testid":"button-login-submit",children:"Iniciar Sesin"})]})}),(d?.registrationEnabled??!0)&&l.jsx(cr,{value:"register",children:l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"register-username",children:"Usuario"}),l.jsx(Ke,{id:"register-username",type:"text",placeholder:"tu_usuario",value:c.username,onChange:p=>u({...c,username:p.target.value}),required:!0,"data-testid":"input-register-username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"register-email",children:"Email"}),l.jsx(Ke,{id:"register-email",type:"email",placeholder:"tu@email.com",value:c.email,onChange:p=>u({...c,email:p.target.value}),required:!0,"data-testid":"input-register-email"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"register-password",children:"Contrasea"}),l.jsx(Ke,{id:"register-password",type:"password",placeholder:"",value:c.password,onChange:p=>u({...c,password:p.target.value}),required:!0,"data-testid":"input-register-password"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"register-confirm-password",children:"Confirmar Contrasea"}),l.jsx(Ke,{id:"register-confirm-password",type:"password",placeholder:"",value:c.confirmPassword,onChange:p=>u({...c,confirmPassword:p.target.value}),required:!0,"data-testid":"input-register-confirm-password"})]}),l.jsx(_e,{type:"submit",className:"w-full","data-testid":"button-register-submit",children:"Crear Cuenta"})]})})]})})]})})}var SC,s6;function Zo(){if(s6)return SC;s6=1;var t=Array.isArray;return SC=t,SC}var NC,a6;function sY(){if(a6)return NC;a6=1;var t=typeof m1=="object"&&m1&&m1.Object===Object&&m1;return NC=t,NC}var _C,o6;function td(){if(o6)return _C;o6=1;var t=sY(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _C=n,_C}var EC,l6;function ox(){if(l6)return EC;l6=1;var t=td(),e=t.Symbol;return EC=e,EC}var CC,c6;function tme(){if(c6)return CC;c6=1;var t=ox(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),c=a[i];try{a[i]=void 0;var u=!0}catch{}var d=r.call(a);return u&&(o?a[i]=c:delete a[i]),d}return CC=s,CC}var AC,u6;function nme(){if(u6)return AC;u6=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return AC=n,AC}var kC,d6;function cf(){if(d6)return kC;d6=1;var t=ox(),e=tme(),n=nme(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return kC=a,kC}var jC,f6;function uf(){if(f6)return jC;f6=1;function t(e){return e!=null&&typeof e=="object"}return jC=t,jC}var TC,h6;function Gv(){if(h6)return TC;h6=1;var t=cf(),e=uf(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return TC=r,TC}var OC,p6;function VR(){if(p6)return OC;p6=1;var t=Zo(),e=Gv(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return OC=i,OC}var PC,m6;function Lh(){if(m6)return PC;m6=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return PC=t,PC}var MC,g6;function WR(){if(g6)return MC;g6=1;var t=cf(),e=Lh(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var c=t(o);return c==r||c==i||c==n||c==s}return MC=a,MC}var RC,v6;function rme(){if(v6)return RC;v6=1;var t=td(),e=t["__core-js_shared__"];return RC=e,RC}var IC,y6;function ime(){if(y6)return IC;y6=1;var t=rme(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return IC=n,IC}var DC,b6;function aY(){if(b6)return DC;b6=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return DC=n,DC}var LC,x6;function sme(){if(x6)return LC;x6=1;var t=WR(),e=ime(),n=Lh(),r=aY(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,c=a.toString,u=o.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!n(m)||e(m))return!1;var p=t(m)?d:s;return p.test(r(m))}return LC=f,LC}var FC,w6;function ame(){if(w6)return FC;w6=1;function t(e,n){return e?.[n]}return FC=t,FC}var BC,S6;function _m(){if(S6)return BC;S6=1;var t=sme(),e=ame();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return BC=n,BC}var $C,N6;function qN(){if(N6)return $C;N6=1;var t=_m(),e=t(Object,"create");return $C=e,$C}var zC,_6;function ome(){if(_6)return zC;_6=1;var t=qN();function e(){this.__data__=t?t(null):{},this.size=0}return zC=e,zC}var qC,E6;function lme(){if(E6)return qC;E6=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return qC=t,qC}var UC,C6;function cme(){if(C6)return UC;C6=1;var t=qN(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return UC=i,UC}var HC,A6;function ume(){if(A6)return HC;A6=1;var t=qN(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return HC=r,HC}var VC,k6;function dme(){if(k6)return VC;k6=1;var t=qN(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return VC=n,VC}var WC,j6;function fme(){if(j6)return WC;j6=1;var t=ome(),e=lme(),n=cme(),r=ume(),i=dme();function s(a){var o=-1,c=a==null?0:a.length;for(this.clear();++o<c;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,WC=s,WC}var KC,T6;function hme(){if(T6)return KC;T6=1;function t(){this.__data__=[],this.size=0}return KC=t,KC}var GC,O6;function KR(){if(O6)return GC;O6=1;function t(e,n){return e===n||e!==e&&n!==n}return GC=t,GC}var YC,P6;function UN(){if(P6)return YC;P6=1;var t=KR();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return YC=e,YC}var XC,M6;function pme(){if(M6)return XC;M6=1;var t=UN(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return XC=r,XC}var ZC,R6;function mme(){if(R6)return ZC;R6=1;var t=UN();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return ZC=e,ZC}var QC,I6;function gme(){if(I6)return QC;I6=1;var t=UN();function e(n){return t(this.__data__,n)>-1}return QC=e,QC}var JC,D6;function vme(){if(D6)return JC;D6=1;var t=UN();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return JC=e,JC}var eA,L6;function HN(){if(L6)return eA;L6=1;var t=hme(),e=pme(),n=mme(),r=gme(),i=vme();function s(a){var o=-1,c=a==null?0:a.length;for(this.clear();++o<c;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,eA=s,eA}var tA,F6;function GR(){if(F6)return tA;F6=1;var t=_m(),e=td(),n=t(e,"Map");return tA=n,tA}var nA,B6;function yme(){if(B6)return nA;B6=1;var t=fme(),e=HN(),n=GR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return nA=r,nA}var rA,$6;function bme(){if($6)return rA;$6=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return rA=t,rA}var iA,z6;function VN(){if(z6)return iA;z6=1;var t=bme();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return iA=e,iA}var sA,q6;function xme(){if(q6)return sA;q6=1;var t=VN();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return sA=e,sA}var aA,U6;function wme(){if(U6)return aA;U6=1;var t=VN();function e(n){return t(this,n).get(n)}return aA=e,aA}var oA,H6;function Sme(){if(H6)return oA;H6=1;var t=VN();function e(n){return t(this,n).has(n)}return oA=e,oA}var lA,V6;function Nme(){if(V6)return lA;V6=1;var t=VN();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return lA=e,lA}var cA,W6;function YR(){if(W6)return cA;W6=1;var t=yme(),e=xme(),n=wme(),r=Sme(),i=Nme();function s(a){var o=-1,c=a==null?0:a.length;for(this.clear();++o<c;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,cA=s,cA}var uA,K6;function oY(){if(K6)return uA;K6=1;var t=YR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],c=s.cache;if(c.has(o))return c.get(o);var u=r.apply(this,a);return s.cache=c.set(o,u)||c,u};return s.cache=new(n.Cache||t),s}return n.Cache=t,uA=n,uA}var dA,G6;function _me(){if(G6)return dA;G6=1;var t=oY(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return dA=n,dA}var fA,Y6;function Eme(){if(Y6)return fA;Y6=1;var t=_me(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,c,u){s.push(c?u.replace(n,"$1"):o||a)}),s});return fA=r,fA}var hA,X6;function XR(){if(X6)return hA;X6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return hA=t,hA}var pA,Z6;function Cme(){if(Z6)return pA;Z6=1;var t=ox(),e=XR(),n=Zo(),r=Gv(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return pA=a,pA}var mA,Q6;function lY(){if(Q6)return mA;Q6=1;var t=Cme();function e(n){return n==null?"":t(n)}return mA=e,mA}var gA,J6;function cY(){if(J6)return gA;J6=1;var t=Zo(),e=VR(),n=Eme(),r=lY();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return gA=i,gA}var vA,eF;function WN(){if(eF)return vA;eF=1;var t=Gv();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return vA=e,vA}var yA,tF;function ZR(){if(tF)return yA;tF=1;var t=cY(),e=WN();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return yA=n,yA}var bA,nF;function uY(){if(nF)return bA;nF=1;var t=ZR();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return bA=e,bA}var Ame=uY();const rc=Pr(Ame);var xA,rF;function kme(){if(rF)return xA;rF=1;function t(e){return e==null}return xA=t,xA}var jme=kme();const Or=Pr(jme);var wA,iF;function Tme(){if(iF)return wA;iF=1;var t=cf(),e=Zo(),n=uf(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return wA=i,wA}var Ome=Tme();const im=Pr(Ome);var Pme=WR();const lr=Pr(Pme);var Mme=Lh();const Yv=Pr(Mme);var SA={exports:{}},Lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sF;function Rme(){if(sF)return Lr;sF=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function v(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case n:case i:case r:case u:case d:return y;default:switch(y=y&&y.$$typeof,y){case o:case a:case c:case m:case f:case s:return y;default:return w}}case e:return w}}}return Lr.ContextConsumer=a,Lr.ContextProvider=s,Lr.Element=t,Lr.ForwardRef=c,Lr.Fragment=n,Lr.Lazy=m,Lr.Memo=f,Lr.Portal=e,Lr.Profiler=i,Lr.StrictMode=r,Lr.Suspense=u,Lr.SuspenseList=d,Lr.isAsyncMode=function(){return!1},Lr.isConcurrentMode=function(){return!1},Lr.isContextConsumer=function(y){return v(y)===a},Lr.isContextProvider=function(y){return v(y)===s},Lr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Lr.isForwardRef=function(y){return v(y)===c},Lr.isFragment=function(y){return v(y)===n},Lr.isLazy=function(y){return v(y)===m},Lr.isMemo=function(y){return v(y)===f},Lr.isPortal=function(y){return v(y)===e},Lr.isProfiler=function(y){return v(y)===i},Lr.isStrictMode=function(y){return v(y)===r},Lr.isSuspense=function(y){return v(y)===u},Lr.isSuspenseList=function(y){return v(y)===d},Lr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===u||y===d||y===p||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===s||y.$$typeof===a||y.$$typeof===c||y.$$typeof===b||y.getModuleId!==void 0)},Lr.typeOf=v,Lr}var aF;function Ime(){return aF||(aF=1,SA.exports=Rme()),SA.exports}var Dme=Ime(),NA,oF;function dY(){if(oF)return NA;oF=1;var t=cf(),e=uf(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return NA=r,NA}var _A,lF;function Lme(){if(lF)return _A;lF=1;var t=dY();function e(n){return t(n)&&n!=+n}return _A=e,_A}var Fme=Lme();const lx=Pr(Fme);var Bme=dY();const $me=Pr(Bme);var Hc=function(e){return e===0?0:e>0?1:-1},Pp=function(e){return im(e)&&e.indexOf("%")===e.length-1},Mt=function(e){return $me(e)&&!lx(e)},zme=function(e){return Or(e)},Ks=function(e){return Mt(e)||im(e)},qme=0,KN=function(e){var n=++qme;return"".concat(e||"").concat(n)},sm=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Mt(e)&&!im(e))return r;var s;if(Pp(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return lx(s)&&(s=r),i&&s>n&&(s=n),s},ah=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ume=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},sg=function(e,n){return Mt(e)&&Mt(n)?function(r){return e+r*(n-e)}:function(){return n}};function gO(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):rc(r,e))===n})}var Hme=function(e,n){return Mt(e)&&Mt(n)?e-n:im(e)&&im(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function qg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function vO(t){"@babel/helpers - typeof";return vO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vO(t)}var Vme=["viewBox","children"],Wme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cF=["points","pathLength"],EA={svg:Vme,polygon:cF,polyline:cF},QR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],l2=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!Yv(r))return null;var i={};return Object.keys(r).forEach(function(s){QR.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Kme=function(e,n,r){return function(i){return e(n,r,i),null}},c2=function(e,n,r){if(!Yv(e)||vO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];QR.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Kme(a,n,r))}),i},Gme=["children"],Yme=["children"];function uF(t,e){if(t==null)return{};var n=Xme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fF=null,CA=null,JR=function t(e){if(e===fF&&Array.isArray(CA))return CA;var n=[];return S.Children.forEach(e,function(r){Or(r)||(Dme.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),CA=n,fF=e,n};function Wc(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Yd(i)}):r=[Yd(e)],JR(t).forEach(function(i){var s=rc(i,"type.displayName")||rc(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function hl(t,e){var n=Wc(t,e);return n&&n[0]}var hF=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Mt(r)||r<=0||!Mt(i)||i<=0)},Zme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qme=function(e){return e&&e.type&&im(e.type)&&Zme.indexOf(e.type)>=0},Jme=function(e,n,r,i){var s,a=(s=EA?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!lr(e)&&(i&&a.includes(n)||Wme.includes(n))||r&&QR.includes(n)},Tr=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Yv(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Jme((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},yO=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return pF(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!pF(s,a))return!1}return!0},pF=function(e,n){if(Or(e)&&Or(n))return!0;if(!Or(e)&&!Or(n)){var r=e.props||{},i=r.children,s=uF(r,Gme),a=n.props||{},o=a.children,c=uF(a,Yme);return i&&o?qg(s,c)&&yO(i,o):!i&&!o?qg(s,c):!1}return!1},mF=function(e,n){var r=[],i={};return JR(e).forEach(function(s,a){if(Qme(s))r.push(s);else if(s){var o=Yd(s.type),c=n[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(s,o,a);r.push(f),i[o]=!0}}}),r},ege=function(e){var n=e&&e.type;return n&&dF[n]?dF[n]:null},tge=function(e,n){return JR(n).indexOf(e)},nge=["children","width","height","viewBox","className","style","title","desc"];function bO(){return bO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bO.apply(this,arguments)}function rge(t,e){if(t==null)return{};var n=ige(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ige(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xO(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,c=t.desc,u=rge(t,nge),d=i||{width:n,height:r,x:0,y:0},f=wr("recharts-surface",s);return Ce.createElement("svg",bO({},Tr(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Ce.createElement("title",null,o),Ce.createElement("desc",null,c),e)}var sge=["children","className"];function wO(){return wO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wO.apply(this,arguments)}function age(t,e){if(t==null)return{};var n=oge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ua=Ce.forwardRef(function(t,e){var n=t.children,r=t.className,i=age(t,sge),s=wr("recharts-layer",r);return Ce.createElement("g",wO({className:s},Tr(i,!0),{ref:e}),n)}),Xd=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},AA,gF;function lge(){if(gF)return AA;gF=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return AA=t,AA}var kA,vF;function cge(){if(vF)return kA;vF=1;var t=lge();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return kA=e,kA}var jA,yF;function fY(){if(yF)return jA;yF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function c(u){return o.test(u)}return jA=c,jA}var TA,bF;function uge(){if(bF)return TA;bF=1;function t(e){return e.split("")}return TA=t,TA}var OA,xF;function dge(){if(xF)return OA;xF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",b=u+"?",v="["+s+"]?",y="(?:"+p+"(?:"+[d,f,m].join("|")+")"+v+b+")*",w=v+b+y,_="(?:"+[d+o+"?",o,f,m,a].join("|")+")",E=RegExp(c+"(?="+c+")|"+_+w,"g");function A(k){return k.match(E)||[]}return OA=A,OA}var PA,wF;function fge(){if(wF)return PA;wF=1;var t=uge(),e=fY(),n=dge();function r(i){return e(i)?n(i):t(i)}return PA=r,PA}var MA,SF;function hge(){if(SF)return MA;SF=1;var t=cge(),e=fY(),n=fge(),r=lY();function i(s){return function(a){a=r(a);var o=e(a)?n(a):void 0,c=o?o[0]:a.charAt(0),u=o?t(o,1).join(""):a.slice(1);return c[s]()+u}}return MA=i,MA}var RA,NF;function pge(){if(NF)return RA;NF=1;var t=hge(),e=t("toUpperCase");return RA=e,RA}var mge=pge();const GN=Pr(mge);function mi(t){return function(){return t}}const hY=Math.cos,u2=Math.sin,iu=Math.sqrt,d2=Math.PI,YN=2*d2,SO=Math.PI,NO=2*SO,Sp=1e-6,gge=NO-Sp;function pY(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pY;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yge{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pY:vge(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=r-e,u=i-n,d=a-e,f=o-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Sp)if(!(Math.abs(f*c-u*d)>Sp)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,b=i-o,v=c*c+u*u,y=p*p+b*b,w=Math.sqrt(v),_=Math.sqrt(m),E=s*Math.tan((SO-Math.acos((v+m-y)/(2*w*_)))/2),A=E/_,k=E/w;Math.abs(A-1)>Sp&&this._append`L${e+A*d},${n+A*f}`,this._append`A${s},${s},0,0,${+(f*p>d*b)},${this._x1=e+k*c},${this._y1=n+k*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),u=e+o,d=n+c,f=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sp||Math.abs(this._y1-d)>Sp)&&this._append`L${u},${d}`,r&&(m<0&&(m=m%NO+NO),m>gge?this._append`A${r},${r},0,1,${f},${e-o},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:m>Sp&&this._append`A${r},${r},0,${+(m>=SO)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function e4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yge(e)}function t4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mY(t){this._context=t}mY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function XN(t){return new mY(t)}function gY(t){return t[0]}function vY(t){return t[1]}function yY(t,e){var n=mi(!0),r=null,i=XN,s=null,a=e4(o);t=typeof t=="function"?t:t===void 0?gY:mi(t),e=typeof e=="function"?e:e===void 0?vY:mi(e);function o(c){var u,d=(c=t4(c)).length,f,m=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:mi(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:mi(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:mi(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),o):r},o}function k1(t,e,n){var r=null,i=mi(!0),s=null,a=XN,o=null,c=e4(u);t=typeof t=="function"?t:t===void 0?gY:mi(+t),e=typeof e=="function"?e:mi(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vY:mi(+n);function u(f){var m,p,b,v=(f=t4(f)).length,y,w=!1,_,E=new Array(v),A=new Array(v);for(s==null&&(o=a(_=c())),m=0;m<=v;++m){if(!(m<v&&i(y=f[m],m,f))===w)if(w=!w)p=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=m-1;b>=p;--b)o.point(E[b],A[b]);o.lineEnd(),o.areaEnd()}w&&(E[m]=+t(y,m,f),A[m]=+e(y,m,f),o.point(r?+r(y,m,f):E[m],n?+n(y,m,f):A[m]))}if(_)return o=null,_+""||null}function d(){return yY().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:mi(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:mi(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mi(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:mi(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:mi(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mi(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:mi(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class bY{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bge(t){return new bY(t,!0)}function xge(t){return new bY(t,!1)}const n4={draw(t,e){const n=iu(e/d2);t.moveTo(n,0),t.arc(0,0,n,0,YN)}},wge={draw(t,e){const n=iu(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xY=iu(1/3),Sge=xY*2,Nge={draw(t,e){const n=iu(e/Sge),r=n*xY;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_ge={draw(t,e){const n=iu(e),r=-n/2;t.rect(r,r,n,n)}},Ege=.8908130915292852,wY=u2(d2/10)/u2(7*d2/10),Cge=u2(YN/10)*wY,Age=-hY(YN/10)*wY,kge={draw(t,e){const n=iu(e*Ege),r=Cge*n,i=Age*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=YN*s/5,o=hY(a),c=u2(a);t.lineTo(c*n,-o*n),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}},IA=iu(3),jge={draw(t,e){const n=-iu(e/(IA*3));t.moveTo(0,n*2),t.lineTo(-IA*n,-n),t.lineTo(IA*n,-n),t.closePath()}},Vl=-.5,Wl=iu(3)/2,_O=1/iu(12),Tge=(_O/2+1)*3,Oge={draw(t,e){const n=iu(e/Tge),r=n/2,i=n*_O,s=r,a=n*_O+n,o=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,c),t.lineTo(Vl*r-Wl*i,Wl*r+Vl*i),t.lineTo(Vl*s-Wl*a,Wl*s+Vl*a),t.lineTo(Vl*o-Wl*c,Wl*o+Vl*c),t.lineTo(Vl*r+Wl*i,Vl*i-Wl*r),t.lineTo(Vl*s+Wl*a,Vl*a-Wl*s),t.lineTo(Vl*o+Wl*c,Vl*c-Wl*o),t.closePath()}};function Pge(t,e){let n=null,r=e4(i);t=typeof t=="function"?t:mi(t||n4),e=typeof e=="function"?e:mi(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:mi(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:mi(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function f2(){}function h2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function SY(t){this._context=t}SY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mge(t){return new SY(t)}function NY(t){this._context=t}NY.prototype={areaStart:f2,areaEnd:f2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:h2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rge(t){return new NY(t)}function _Y(t){this._context=t}_Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:h2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ige(t){return new _Y(t)}function EY(t){this._context=t}EY.prototype={areaStart:f2,areaEnd:f2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Dge(t){return new EY(t)}function _F(t){return t<0?-1:1}function EF(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(_F(s)+_F(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function CF(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function DA(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function p2(t){this._context=t}p2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:DA(this,this._t0,CF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,DA(this,CF(this,n=EF(this,t,e)),n);break;default:DA(this,this._t0,n=EF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function CY(t){this._context=new AY(t)}(CY.prototype=Object.create(p2.prototype)).point=function(t,e){p2.prototype.point.call(this,e,t)};function AY(t){this._context=t}AY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Lge(t){return new p2(t)}function Fge(t){return new CY(t)}function kY(t){this._context=t}kY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AF(t),i=AF(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AF(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Bge(t){return new kY(t)}function ZN(t,e){this._context=t,this._t=e}ZN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $ge(t){return new ZN(t,.5)}function zge(t){return new ZN(t,0)}function qge(t){return new ZN(t,1)}function iv(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function EO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Uge(t,e){return t[e]}function Hge(t){const e=[];return e.key=t,e}function Vge(){var t=mi([]),e=EO,n=iv,r=Uge;function i(s){var a=Array.from(t.apply(this,arguments),Hge),o,c=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(a[o][u]=[0,+r(f,a[o].key,u,s)]).data=f;for(o=0,d=t4(e(a));o<c;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:mi(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:mi(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?EO:typeof s=="function"?s:mi(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??iv,i):n},i}function Wge(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}iv(t,e)}}function Kge(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}iv(t,e)}}function Gge(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,c=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,m=d[r-1][1]||0,p=(f-m)/2,b=0;b<o;++b){var v=t[e[b]],y=v[r][1]||0,w=v[r-1][1]||0;p+=y-w}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,iv(t,e)}}function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}var Yge=["type","size","sizeType"];function CO(){return CO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CO.apply(this,arguments)}function kF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(n),!0).forEach(function(r){Xge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xge(t,e,n){return e=Zge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zge(t){var e=Qge(t,"string");return Ub(e)=="symbol"?e:e+""}function Qge(t,e){if(Ub(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jge(t,e){if(t==null)return{};var n=eve(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jY={symbolCircle:n4,symbolCross:wge,symbolDiamond:Nge,symbolSquare:_ge,symbolStar:kge,symbolTriangle:jge,symbolWye:Oge},tve=Math.PI/180,nve=function(e){var n="symbol".concat(GN(e));return jY[n]||n4},rve=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*tve;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ive=function(e,n){jY["symbol".concat(GN(e))]=n},r4=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,c=Jge(e,Yge),u=jF(jF({},c),{},{type:r,size:s,sizeType:o}),d=function(){var y=nve(r),w=Pge().type(y).size(rve(s,o,r));return w()},f=u.className,m=u.cx,p=u.cy,b=Tr(u,!0);return m===+m&&p===+p&&s===+s?Ce.createElement("path",CO({},b,{className:wr("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};r4.registerSymbol=ive;function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function AO(){return AO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AO.apply(this,arguments)}function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ove(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OY(r.key),r)}}function lve(t,e,n){return e&&ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cve(t,e,n){return e=m2(e),uve(t,TY()?Reflect.construct(e,n||[],m2(t).constructor):e.apply(t,n))}function uve(t,e){if(e&&(sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dve(t)}function dve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TY=function(){return!!t})()}function m2(t){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m2(t)}function fve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kO(t,e)}function kO(t,e){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kO(t,e)}function Hb(t,e,n){return e=OY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t){var e=hve(t,"string");return sv(e)=="symbol"?e:e+""}function hve(t,e){if(sv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kl=32,i4=(function(t){function e(){return ave(this,e),cve(this,e,arguments)}return fve(e,t),lve(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Kl/2,a=Kl/6,o=Kl/3,c=r.inactive?i:r.color;if(r.type==="plainline")return Ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Kl,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return Ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Kl,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return Ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Kl/8,"h").concat(Kl,"v").concat(Kl*3/4,"h").concat(-Kl,"z"),className:"recharts-legend-icon"});if(Ce.isValidElement(r.legendIcon)){var u=sve({},r);return delete u.legendIcon,Ce.cloneElement(r.legendIcon,u)}return Ce.createElement(r4,{fill:c,cx:s,cy:s,size:Kl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Kl,height:Kl},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,b){var v=p.formatter||c,y=wr(Hb(Hb({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=lr(p.value)?null:p.value;Xd(!lr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return Ce.createElement("li",AO({className:y,style:f,key:"legend-item-".concat(b)},c2(r.props,p,b)),Ce.createElement(xO,{width:a,height:a,viewBox:d,style:m},r.renderIcon(p)),Ce.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(w,p,b):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Ce.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(S.PureComponent);Hb(i4,"displayName","Legend");Hb(i4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var LA,OF;function pve(){if(OF)return LA;OF=1;var t=HN();function e(){this.__data__=new t,this.size=0}return LA=e,LA}var FA,PF;function mve(){if(PF)return FA;PF=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return FA=t,FA}var BA,MF;function gve(){if(MF)return BA;MF=1;function t(e){return this.__data__.get(e)}return BA=t,BA}var $A,RF;function vve(){if(RF)return $A;RF=1;function t(e){return this.__data__.has(e)}return $A=t,$A}var zA,IF;function yve(){if(IF)return zA;IF=1;var t=HN(),e=GR(),n=YR(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!e||c.length<r-1)return c.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(c)}return o.set(s,a),this.size=o.size,this}return zA=i,zA}var qA,DF;function PY(){if(DF)return qA;DF=1;var t=HN(),e=pve(),n=mve(),r=gve(),i=vve(),s=yve();function a(o){var c=this.__data__=new t(o);this.size=c.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,qA=a,qA}var UA,LF;function bve(){if(LF)return UA;LF=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return UA=e,UA}var HA,FF;function xve(){if(FF)return HA;FF=1;function t(e){return this.__data__.has(e)}return HA=t,HA}var VA,BF;function MY(){if(BF)return VA;BF=1;var t=YR(),e=bve(),n=xve();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,VA=r,VA}var WA,$F;function RY(){if($F)return WA;$F=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return WA=t,WA}var KA,zF;function IY(){if(zF)return KA;zF=1;function t(e,n){return e.has(n)}return KA=t,KA}var GA,qF;function DY(){if(qF)return GA;qF=1;var t=MY(),e=RY(),n=IY(),r=1,i=2;function s(a,o,c,u,d,f){var m=c&r,p=a.length,b=o.length;if(p!=b&&!(m&&b>p))return!1;var v=f.get(a),y=f.get(o);if(v&&y)return v==o&&y==a;var w=-1,_=!0,E=c&i?new t:void 0;for(f.set(a,o),f.set(o,a);++w<p;){var A=a[w],k=o[w];if(u)var P=m?u(k,A,w,o,a,f):u(A,k,w,a,o,f);if(P!==void 0){if(P)continue;_=!1;break}if(E){if(!e(o,function(R,T){if(!n(E,T)&&(A===R||d(A,R,c,u,f)))return E.push(T)})){_=!1;break}}else if(!(A===k||d(A,k,c,u,f))){_=!1;break}}return f.delete(a),f.delete(o),_}return GA=s,GA}var YA,UF;function wve(){if(UF)return YA;UF=1;var t=td(),e=t.Uint8Array;return YA=e,YA}var XA,HF;function Sve(){if(HF)return XA;HF=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return XA=t,XA}var ZA,VF;function s4(){if(VF)return ZA;VF=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return ZA=t,ZA}var QA,WF;function Nve(){if(WF)return QA;WF=1;var t=ox(),e=wve(),n=KR(),r=DY(),i=Sve(),s=s4(),a=1,o=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",p="[object RegExp]",b="[object Set]",v="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",_="[object DataView]",E=t?t.prototype:void 0,A=E?E.valueOf:void 0;function k(P,R,T,M,B,O,F){switch(T){case _:if(P.byteLength!=R.byteLength||P.byteOffset!=R.byteOffset)return!1;P=P.buffer,R=R.buffer;case w:return!(P.byteLength!=R.byteLength||!O(new e(P),new e(R)));case c:case u:case m:return n(+P,+R);case d:return P.name==R.name&&P.message==R.message;case p:case v:return P==R+"";case f:var q=i;case b:var z=M&a;if(q||(q=s),P.size!=R.size&&!z)return!1;var K=F.get(P);if(K)return K==R;M|=o,F.set(P,R);var Z=r(q(P),q(R),M,B,O,F);return F.delete(P),Z;case y:if(A)return A.call(P)==A.call(R)}return!1}return QA=k,QA}var JA,KF;function LY(){if(KF)return JA;KF=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return JA=t,JA}var ek,GF;function _ve(){if(GF)return ek;GF=1;var t=LY(),e=Zo();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return ek=n,ek}var tk,YF;function Eve(){if(YF)return tk;YF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return tk=t,tk}var nk,XF;function Cve(){if(XF)return nk;XF=1;function t(){return[]}return nk=t,nk}var rk,ZF;function Ave(){if(ZF)return rk;ZF=1;var t=Eve(),e=Cve(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return rk=s,rk}var ik,QF;function kve(){if(QF)return ik;QF=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return ik=t,ik}var sk,JF;function jve(){if(JF)return sk;JF=1;var t=cf(),e=uf(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return sk=r,sk}var ak,e8;function a4(){if(e8)return ak;e8=1;var t=jve(),e=uf(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return ak=s,ak}var nb={exports:{}},ok,t8;function Tve(){if(t8)return ok;t8=1;function t(){return!1}return ok=t,ok}nb.exports;var n8;function FY(){return n8||(n8=1,(function(t,e){var n=td(),r=Tve(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||r;t.exports=u})(nb,nb.exports)),nb.exports}var lk,r8;function o4(){if(r8)return lk;r8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return lk=n,lk}var ck,i8;function l4(){if(i8)return ck;i8=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return ck=e,ck}var uk,s8;function Ove(){if(s8)return uk;s8=1;var t=cf(),e=l4(),n=uf(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",p="[object Set]",b="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",R="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",B="[object Uint32Array]",O={};O[_]=O[E]=O[A]=O[k]=O[P]=O[R]=O[T]=O[M]=O[B]=!0,O[r]=O[i]=O[y]=O[s]=O[w]=O[a]=O[o]=O[c]=O[u]=O[d]=O[f]=O[m]=O[p]=O[b]=O[v]=!1;function F(q){return n(q)&&e(q.length)&&!!O[t(q)]}return uk=F,uk}var dk,a8;function BY(){if(a8)return dk;a8=1;function t(e){return function(n){return e(n)}}return dk=t,dk}var rb={exports:{}};rb.exports;var o8;function Pve(){return o8||(o8=1,(function(t,e){var n=sY(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(rb,rb.exports)),rb.exports}var fk,l8;function $Y(){if(l8)return fk;l8=1;var t=Ove(),e=BY(),n=Pve(),r=n&&n.isTypedArray,i=r?e(r):t;return fk=i,fk}var hk,c8;function Mve(){if(c8)return hk;c8=1;var t=kve(),e=a4(),n=Zo(),r=FY(),i=o4(),s=$Y(),a=Object.prototype,o=a.hasOwnProperty;function c(u,d){var f=n(u),m=!f&&e(u),p=!f&&!m&&r(u),b=!f&&!m&&!p&&s(u),v=f||m||p||b,y=v?t(u.length,String):[],w=y.length;for(var _ in u)(d||o.call(u,_))&&!(v&&(_=="length"||p&&(_=="offset"||_=="parent")||b&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,w)))&&y.push(_);return y}return hk=c,hk}var pk,u8;function Rve(){if(u8)return pk;u8=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return pk=e,pk}var mk,d8;function zY(){if(d8)return mk;d8=1;function t(e,n){return function(r){return e(n(r))}}return mk=t,mk}var gk,f8;function Ive(){if(f8)return gk;f8=1;var t=zY(),e=t(Object.keys,Object);return gk=e,gk}var vk,h8;function Dve(){if(h8)return vk;h8=1;var t=Rve(),e=Ive(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return vk=i,vk}var yk,p8;function cx(){if(p8)return yk;p8=1;var t=WR(),e=l4();function n(r){return r!=null&&e(r.length)&&!t(r)}return yk=n,yk}var bk,m8;function QN(){if(m8)return bk;m8=1;var t=Mve(),e=Dve(),n=cx();function r(i){return n(i)?t(i):e(i)}return bk=r,bk}var xk,g8;function Lve(){if(g8)return xk;g8=1;var t=_ve(),e=Ave(),n=QN();function r(i){return t(i,n,e)}return xk=r,xk}var wk,v8;function Fve(){if(v8)return wk;v8=1;var t=Lve(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,c,u,d){var f=o&e,m=t(s),p=m.length,b=t(a),v=b.length;if(p!=v&&!f)return!1;for(var y=p;y--;){var w=m[y];if(!(f?w in a:r.call(a,w)))return!1}var _=d.get(s),E=d.get(a);if(_&&E)return _==a&&E==s;var A=!0;d.set(s,a),d.set(a,s);for(var k=f;++y<p;){w=m[y];var P=s[w],R=a[w];if(c)var T=f?c(R,P,w,a,s,d):c(P,R,w,s,a,d);if(!(T===void 0?P===R||u(P,R,o,c,d):T)){A=!1;break}k||(k=w=="constructor")}if(A&&!k){var M=s.constructor,B=a.constructor;M!=B&&"constructor"in s&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof B=="function"&&B instanceof B)&&(A=!1)}return d.delete(s),d.delete(a),A}return wk=i,wk}var Sk,y8;function Bve(){if(y8)return Sk;y8=1;var t=_m(),e=td(),n=t(e,"DataView");return Sk=n,Sk}var Nk,b8;function $ve(){if(b8)return Nk;b8=1;var t=_m(),e=td(),n=t(e,"Promise");return Nk=n,Nk}var _k,x8;function qY(){if(x8)return _k;x8=1;var t=_m(),e=td(),n=t(e,"Set");return _k=n,_k}var Ek,w8;function zve(){if(w8)return Ek;w8=1;var t=_m(),e=td(),n=t(e,"WeakMap");return Ek=n,Ek}var Ck,S8;function qve(){if(S8)return Ck;S8=1;var t=Bve(),e=GR(),n=$ve(),r=qY(),i=zve(),s=cf(),a=aY(),o="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",p=a(t),b=a(e),v=a(n),y=a(r),w=a(i),_=s;return(t&&_(new t(new ArrayBuffer(1)))!=m||e&&_(new e)!=o||n&&_(n.resolve())!=u||r&&_(new r)!=d||i&&_(new i)!=f)&&(_=function(E){var A=s(E),k=A==c?E.constructor:void 0,P=k?a(k):"";if(P)switch(P){case p:return m;case b:return o;case v:return u;case y:return d;case w:return f}return A}),Ck=_,Ck}var Ak,N8;function Uve(){if(N8)return Ak;N8=1;var t=PY(),e=DY(),n=Nve(),r=Fve(),i=qve(),s=Zo(),a=FY(),o=$Y(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function b(v,y,w,_,E,A){var k=s(v),P=s(y),R=k?d:i(v),T=P?d:i(y);R=R==u?f:R,T=T==u?f:T;var M=R==f,B=T==f,O=R==T;if(O&&a(v)){if(!a(y))return!1;k=!0,M=!1}if(O&&!M)return A||(A=new t),k||o(v)?e(v,y,w,_,E,A):n(v,y,R,w,_,E,A);if(!(w&c)){var F=M&&p.call(v,"__wrapped__"),q=B&&p.call(y,"__wrapped__");if(F||q){var z=F?v.value():v,K=q?y.value():y;return A||(A=new t),E(z,K,w,_,A)}}return O?(A||(A=new t),r(v,y,w,_,E,A)):!1}return Ak=b,Ak}var kk,_8;function c4(){if(_8)return kk;_8=1;var t=Uve(),e=uf();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return kk=n,kk}var jk,E8;function Hve(){if(E8)return jk;E8=1;var t=PY(),e=c4(),n=1,r=2;function i(s,a,o,c){var u=o.length,d=u,f=!c;if(s==null)return!d;for(s=Object(s);u--;){var m=o[u];if(f&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<d;){m=o[u];var p=m[0],b=s[p],v=m[1];if(f&&m[2]){if(b===void 0&&!(p in s))return!1}else{var y=new t;if(c)var w=c(b,v,p,s,a,y);if(!(w===void 0?e(v,b,n|r,c,y):w))return!1}}return!0}return jk=i,jk}var Tk,C8;function UY(){if(C8)return Tk;C8=1;var t=Lh();function e(n){return n===n&&!t(n)}return Tk=e,Tk}var Ok,A8;function Vve(){if(A8)return Ok;A8=1;var t=UY(),e=QN();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,t(o)]}return i}return Ok=n,Ok}var Pk,k8;function HY(){if(k8)return Pk;k8=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Pk=t,Pk}var Mk,j8;function Wve(){if(j8)return Mk;j8=1;var t=Hve(),e=Vve(),n=HY();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return Mk=r,Mk}var Rk,T8;function Kve(){if(T8)return Rk;T8=1;function t(e,n){return e!=null&&n in Object(e)}return Rk=t,Rk}var Ik,O8;function Gve(){if(O8)return Ik;O8=1;var t=cY(),e=a4(),n=Zo(),r=o4(),i=l4(),s=WN();function a(o,c,u){c=t(c,o);for(var d=-1,f=c.length,m=!1;++d<f;){var p=s(c[d]);if(!(m=o!=null&&u(o,p)))break;o=o[p]}return m||++d!=f?m:(f=o==null?0:o.length,!!f&&i(f)&&r(p,f)&&(n(o)||e(o)))}return Ik=a,Ik}var Dk,P8;function Yve(){if(P8)return Dk;P8=1;var t=Kve(),e=Gve();function n(r,i){return r!=null&&e(r,i,t)}return Dk=n,Dk}var Lk,M8;function Xve(){if(M8)return Lk;M8=1;var t=c4(),e=uY(),n=Yve(),r=VR(),i=UY(),s=HY(),a=WN(),o=1,c=2;function u(d,f){return r(d)&&i(f)?s(a(d),f):function(m){var p=e(m,d);return p===void 0&&p===f?n(m,d):t(f,p,o|c)}}return Lk=u,Lk}var Fk,R8;function Xv(){if(R8)return Fk;R8=1;function t(e){return e}return Fk=t,Fk}var Bk,I8;function Zve(){if(I8)return Bk;I8=1;function t(e){return function(n){return n?.[e]}}return Bk=t,Bk}var $k,D8;function Qve(){if(D8)return $k;D8=1;var t=ZR();function e(n){return function(r){return t(r,n)}}return $k=e,$k}var zk,L8;function Jve(){if(L8)return zk;L8=1;var t=Zve(),e=Qve(),n=VR(),r=WN();function i(s){return n(s)?t(r(s)):e(s)}return zk=i,zk}var qk,F8;function Fh(){if(F8)return qk;F8=1;var t=Wve(),e=Xve(),n=Xv(),r=Zo(),i=Jve();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return qk=s,qk}var Uk,B8;function VY(){if(B8)return Uk;B8=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return Uk=t,Uk}var Hk,$8;function eye(){if($8)return Hk;$8=1;function t(e){return e!==e}return Hk=t,Hk}var Vk,z8;function tye(){if(z8)return Vk;z8=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return Vk=t,Vk}var Wk,q8;function nye(){if(q8)return Wk;q8=1;var t=VY(),e=eye(),n=tye();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return Wk=r,Wk}var Kk,U8;function rye(){if(U8)return Kk;U8=1;var t=nye();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Kk=e,Kk}var Gk,H8;function iye(){if(H8)return Gk;H8=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return Gk=t,Gk}var Yk,V8;function sye(){if(V8)return Yk;V8=1;function t(){}return Yk=t,Yk}var Xk,W8;function aye(){if(W8)return Xk;W8=1;var t=qY(),e=sye(),n=s4(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return Xk=i,Xk}var Zk,K8;function oye(){if(K8)return Zk;K8=1;var t=MY(),e=rye(),n=iye(),r=IY(),i=aye(),s=s4(),a=200;function o(c,u,d){var f=-1,m=e,p=c.length,b=!0,v=[],y=v;if(d)b=!1,m=n;else if(p>=a){var w=u?null:i(c);if(w)return s(w);b=!1,m=r,y=new t}else y=u?[]:v;e:for(;++f<p;){var _=c[f],E=u?u(_):_;if(_=d||_!==0?_:0,b&&E===E){for(var A=y.length;A--;)if(y[A]===E)continue e;u&&y.push(E),v.push(_)}else m(y,E,d)||(y!==v&&y.push(E),v.push(_))}return v}return Zk=o,Zk}var Qk,G8;function lye(){if(G8)return Qk;G8=1;var t=Fh(),e=oye();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Qk=n,Qk}var cye=lye();const Y8=Pr(cye);function WY(t,e,n){return e===!0?Y8(t,n):lr(e)?Y8(t,e):t}function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}var uye=["ref"];function X8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(r){JN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GY(r.key),r)}}function fye(t,e,n){return e&&Z8(t.prototype,e),n&&Z8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hye(t,e,n){return e=g2(e),pye(t,KY()?Reflect.construct(e,n||[],g2(t).constructor):e.apply(t,n))}function pye(t,e){if(e&&(av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mye(t)}function mye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KY=function(){return!!t})()}function g2(t){return g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g2(t)}function gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jO(t,e)}function jO(t,e){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jO(t,e)}function JN(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=vye(t,"string");return av(e)=="symbol"?e:e+""}function vye(t,e){if(av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yye(t,e){if(t==null)return{};var n=bye(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xye(t){return t.value}function wye(t,e){if(Ce.isValidElement(t))return Ce.cloneElement(t,e);if(typeof t=="function")return Ce.createElement(t,e);e.ref;var n=yye(e,uye);return Ce.createElement(i4,n)}var Q8=1,Ug=(function(t){function e(){var n;dye(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=hye(this,e,[].concat(i)),JN(n,"lastBoundingBox",{width:-1,height:-1}),n}return gye(e,t),fye(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Q8||Math.abs(i.height-this.lastBoundingBox.height)>Q8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var b=this.getBBoxSnapshot();m={top:((d||0)-b.height)/2}}else m=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Od(Od({},f),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Od(Od({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return Ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},wye(s,Od(Od({},this.props),{},{payload:WY(d,u,xye)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Od(Od({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&Mt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(S.PureComponent);JN(Ug,"displayName","Legend");JN(Ug,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Jk,J8;function Sye(){if(J8)return Jk;J8=1;var t=ox(),e=a4(),n=Zo(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return Jk=i,Jk}var ej,eB;function YY(){if(eB)return ej;eB=1;var t=LY(),e=Sye();function n(r,i,s,a,o){var c=-1,u=r.length;for(s||(s=e),o||(o=[]);++c<u;){var d=r[c];i>0&&s(d)?i>1?n(d,i-1,s,a,o):t(o,d):a||(o[o.length]=d)}return o}return ej=n,ej}var tj,tB;function Nye(){if(tB)return tj;tB=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),c=o.length;c--;){var u=o[e?c:++s];if(r(a[u],u,a)===!1)break}return n}}return tj=t,tj}var nj,nB;function _ye(){if(nB)return nj;nB=1;var t=Nye(),e=t();return nj=e,nj}var rj,rB;function XY(){if(rB)return rj;rB=1;var t=_ye(),e=QN();function n(r,i){return r&&t(r,i,e)}return rj=n,rj}var ij,iB;function Eye(){if(iB)return ij;iB=1;var t=cx();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,o=r?a:-1,c=Object(i);(r?o--:++o<a)&&s(c[o],o,c)!==!1;);return i}}return ij=e,ij}var sj,sB;function u4(){if(sB)return sj;sB=1;var t=XY(),e=Eye(),n=e(t);return sj=n,sj}var aj,aB;function ZY(){if(aB)return aj;aB=1;var t=u4(),e=cx();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(o,c,u){a[++s]=i(o,c,u)}),a}return aj=n,aj}var oj,oB;function Cye(){if(oB)return oj;oB=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return oj=t,oj}var lj,lB;function Aye(){if(lB)return lj;lB=1;var t=Gv();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=t(n),c=r!==void 0,u=r===null,d=r===r,f=t(r);if(!u&&!f&&!o&&n>r||o&&c&&d&&!u&&!f||s&&c&&d||!i&&d||!a)return 1;if(!s&&!o&&!f&&n<r||f&&i&&a&&!s&&!o||u&&i&&a||!c&&a||!d)return-1}return 0}return lj=e,lj}var cj,cB;function kye(){if(cB)return cj;cB=1;var t=Aye();function e(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,c=a.length,u=i.length;++s<c;){var d=t(a[s],o[s]);if(d){if(s>=u)return d;var f=i[s];return d*(f=="desc"?-1:1)}}return n.index-r.index}return cj=e,cj}var uj,uB;function jye(){if(uB)return uj;uB=1;var t=XR(),e=ZR(),n=Fh(),r=ZY(),i=Cye(),s=BY(),a=kye(),o=Xv(),c=Zo();function u(d,f,m){f.length?f=t(f,function(v){return c(v)?function(y){return e(y,v.length===1?v[0]:v)}:v}):f=[o];var p=-1;f=t(f,s(n));var b=r(d,function(v,y,w){var _=t(f,function(E){return E(v)});return{criteria:_,index:++p,value:v}});return i(b,function(v,y){return a(v,y,m)})}return uj=u,uj}var dj,dB;function Tye(){if(dB)return dj;dB=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return dj=t,dj}var fj,fB;function Oye(){if(fB)return fj;fB=1;var t=Tye(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,c=e(a.length-i,0),u=Array(c);++o<c;)u[o]=a[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=a[o];return d[i]=s(u),t(r,this,d)}}return fj=n,fj}var hj,hB;function Pye(){if(hB)return hj;hB=1;function t(e){return function(){return e}}return hj=t,hj}var pj,pB;function QY(){if(pB)return pj;pB=1;var t=_m(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return pj=e,pj}var mj,mB;function Mye(){if(mB)return mj;mB=1;var t=Pye(),e=QY(),n=Xv(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return mj=r,mj}var gj,gB;function Rye(){if(gB)return gj;gB=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),c=e-(o-a);if(a=o,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return gj=r,gj}var vj,vB;function Iye(){if(vB)return vj;vB=1;var t=Mye(),e=Rye(),n=e(t);return vj=n,vj}var yj,yB;function Dye(){if(yB)return yj;yB=1;var t=Xv(),e=Oye(),n=Iye();function r(i,s){return n(e(i,s,t),i+"")}return yj=r,yj}var bj,bB;function e_(){if(bB)return bj;bB=1;var t=KR(),e=cx(),n=o4(),r=Lh();function i(s,a,o){if(!r(o))return!1;var c=typeof a;return(c=="number"?e(o)&&n(a,o.length):c=="string"&&a in o)?t(o[a],s):!1}return bj=i,bj}var xj,xB;function Lye(){if(xB)return xj;xB=1;var t=YY(),e=jye(),n=Dye(),r=e_(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return xj=i,xj}var Fye=Lye();const d4=Pr(Fye);function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TO.apply(this,arguments)}function Bye(t,e){return Uye(t)||qye(t,e)||zye(t,e)||$ye()}function $ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zye(t,e){if(t){if(typeof t=="string")return wB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wB(t,e)}}function wB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Uye(t){if(Array.isArray(t))return t}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){Hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hye(t,e,n){return e=Vye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vye(t){var e=Wye(t,"string");return Vb(e)=="symbol"?e:e+""}function Wye(t,e){if(Vb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kye(t){return Array.isArray(t)&&Ks(t[0])&&Ks(t[1])?t.join(" ~ "):t}var Gye=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,p=e.wrapperClassName,b=e.labelClassName,v=e.label,y=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,E=function(){if(d&&d.length){var F={padding:0,margin:0},q=(m?d4(d,m):d).map(function(z,K){if(z.type==="none")return null;var Z=wj({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),H=z.formatter||f||Kye,W=z.value,Y=z.name,ge=W,Q=Y;if(H&&ge!=null&&Q!=null){var I=H(W,Y,z,K,d);if(Array.isArray(I)){var G=Bye(I,2);ge=G[0],Q=G[1]}else ge=I}return Ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Z},Ks(Q)?Ce.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Ks(Q)?Ce.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Ce.createElement("span",{className:"recharts-tooltip-item-value"},ge),Ce.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return Ce.createElement("ul",{className:"recharts-tooltip-item-list",style:F},q)}return null},A=wj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),k=wj({margin:0},u),P=!Or(v),R=P?v:"",T=wr("recharts-default-tooltip",p),M=wr("recharts-tooltip-label",b);P&&y&&d!==void 0&&d!==null&&(R=y(v,d));var B=_?{role:"status","aria-live":"assertive"}:{};return Ce.createElement("div",TO({className:T,style:A},B),Ce.createElement("p",{className:M,style:k},Ce.isValidElement(R)?R:"".concat(R)),E())};function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function j1(t,e,n){return e=Yye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yye(t){var e=Xye(t,"string");return Wb(e)=="symbol"?e:e+""}function Xye(t,e){if(Wb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fy="recharts-tooltip-wrapper",Zye={visibility:"hidden"};function Qye(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return wr(Fy,j1(j1(j1(j1({},"".concat(Fy,"-right"),Mt(n)&&e&&Mt(e.x)&&n>=e.x),"".concat(Fy,"-left"),Mt(n)&&e&&Mt(e.x)&&n<e.x),"".concat(Fy,"-bottom"),Mt(r)&&e&&Mt(e.y)&&r>=e.y),"".concat(Fy,"-top"),Mt(r)&&e&&Mt(e.y)&&r<e.y))}function NB(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Mt(s[r]))return s[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var m=d,p=c[r];return m<p?Math.max(f,c[r]):Math.max(d,c[r])}var b=f+o,v=c[r]+u;return b>v?Math.max(d,c[r]):Math.max(f,c[r])}function Jye(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ebe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=NB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=NB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=Jye({translateX:d,translateY:f,useTranslate3d:o})):u=Zye,{cssProperties:u,cssClasses:Qye({translateX:d,translateY:f,coordinate:n})}}function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function _B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(n),!0).forEach(function(r){PO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eX(r.key),r)}}function rbe(t,e,n){return e&&nbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ibe(t,e,n){return e=v2(e),sbe(t,JY()?Reflect.construct(e,n||[],v2(t).constructor):e.apply(t,n))}function sbe(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return abe(t)}function abe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JY=function(){return!!t})()}function v2(t){return v2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v2(t)}function obe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OO(t,e)}function OO(t,e){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OO(t,e)}function PO(t,e,n){return e=eX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eX(t){var e=lbe(t,"string");return ov(e)=="symbol"?e:e+""}function lbe(t,e){if(ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CB=1,cbe=(function(t){function e(){var n;tbe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ibe(this,e,[].concat(i)),PO(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PO(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return obe(e,t),rbe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>CB||Math.abs(r.height-this.state.lastBoundingBox.height)>CB)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,p=i.offset,b=i.position,v=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,E=ebe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),A=E.cssClasses,k=E.cssProperties,P=EB(EB({transition:m&&s?"transform ".concat(o,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return Ce.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(T){r.wrapperNode=T}},u)}}])})(S.PureComponent),ube=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ux={isSsr:ube()};function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){f4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nX(r.key),r)}}function hbe(t,e,n){return e&&fbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pbe(t,e,n){return e=y2(e),mbe(t,tX()?Reflect.construct(e,n||[],y2(t).constructor):e.apply(t,n))}function mbe(t,e){if(e&&(lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(t)}function gbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tX=function(){return!!t})()}function y2(t){return y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y2(t)}function vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MO(t,e)}function MO(t,e){return MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MO(t,e)}function f4(t,e,n){return e=nX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nX(t){var e=ybe(t,"string");return lv(e)=="symbol"?e:e+""}function ybe(t,e){if(lv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bbe(t){return t.dataKey}function xbe(t,e){return Ce.isValidElement(t)?Ce.cloneElement(t,e):typeof t=="function"?Ce.createElement(t,e):Ce.createElement(Gye,e)}var Tu=(function(t){function e(){return dbe(this,e),pbe(this,e,arguments)}return vbe(e,t),hbe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,p=i.offset,b=i.payload,v=i.payloadUniqBy,y=i.position,w=i.reverseDirection,_=i.useTranslate3d,E=i.viewBox,A=i.wrapperStyle,k=b??[];f&&k.length&&(k=WY(b.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),v,bbe));var P=k.length>0;return Ce.createElement(cbe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:P,offset:p,position:y,reverseDirection:w,useTranslate3d:_,viewBox:E,wrapperStyle:A},xbe(u,kB(kB({},this.props),{},{payload:k})))}}])})(S.PureComponent);f4(Tu,"displayName","Tooltip");f4(Tu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ux.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Sj,jB;function wbe(){if(jB)return Sj;jB=1;var t=td(),e=function(){return t.Date.now()};return Sj=e,Sj}var Nj,TB;function Sbe(){if(TB)return Nj;TB=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Nj=e,Nj}var _j,OB;function Nbe(){if(OB)return _j;OB=1;var t=Sbe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return _j=n,_j}var Ej,PB;function rX(){if(PB)return Ej;PB=1;var t=Nbe(),e=Lh(),n=Gv(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=s.test(u);return f||a.test(u)?o(u.slice(2),f?2:8):i.test(u)?r:+u}return Ej=c,Ej}var Cj,MB;function _be(){if(MB)return Cj;MB=1;var t=Lh(),e=wbe(),n=rX(),r="Expected a function",i=Math.max,s=Math.min;function a(o,c,u){var d,f,m,p,b,v,y=0,w=!1,_=!1,E=!0;if(typeof o!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(w=!!u.leading,_="maxWait"in u,m=_?i(n(u.maxWait)||0,c):m,E="trailing"in u?!!u.trailing:E);function A(q){var z=d,K=f;return d=f=void 0,y=q,p=o.apply(K,z),p}function k(q){return y=q,b=setTimeout(T,c),w?A(q):p}function P(q){var z=q-v,K=q-y,Z=c-z;return _?s(Z,m-K):Z}function R(q){var z=q-v,K=q-y;return v===void 0||z>=c||z<0||_&&K>=m}function T(){var q=e();if(R(q))return M(q);b=setTimeout(T,P(q))}function M(q){return b=void 0,E&&d?A(q):(d=f=void 0,p)}function B(){b!==void 0&&clearTimeout(b),y=0,d=v=f=b=void 0}function O(){return b===void 0?p:M(e())}function F(){var q=e(),z=R(q);if(d=arguments,f=this,v=q,z){if(b===void 0)return k(v);if(_)return clearTimeout(b),b=setTimeout(T,c),A(v)}return b===void 0&&(b=setTimeout(T,c)),p}return F.cancel=B,F.flush=O,F}return Cj=a,Cj}var Aj,RB;function Ebe(){if(RB)return Aj;RB=1;var t=_be(),e=Lh(),n="Expected a function";function r(i,s,a){var o=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(o="leading"in a?!!a.leading:o,c="trailing"in a?!!a.trailing:c),t(i,s,{leading:o,maxWait:s,trailing:c})}return Aj=r,Aj}var Cbe=Ebe();const iX=Pr(Cbe);function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(r){Abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Abe(t,e,n){return e=kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kbe(t){var e=jbe(t,"string");return Kb(e)=="symbol"?e:e+""}function jbe(t,e){if(Kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tbe(t,e){return Rbe(t)||Mbe(t,e)||Pbe(t,e)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pbe(t,e){if(t){if(typeof t=="string")return DB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DB(t,e)}}function DB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Rbe(t){if(Array.isArray(t))return t}var Ibe=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,c=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,p=t.children,b=t.debounce,v=b===void 0?0:b,y=t.id,w=t.className,_=t.onResize,E=t.style,A=E===void 0?{}:E,k=S.useRef(null),P=S.useRef();P.current=_,S.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var R=S.useState({containerWidth:i.width,containerHeight:i.height}),T=Tbe(R,2),M=T[0],B=T[1],O=S.useCallback(function(q,z){B(function(K){var Z=Math.round(q),H=Math.round(z);return K.containerWidth===Z&&K.containerHeight===H?K:{containerWidth:Z,containerHeight:H}})},[]);S.useEffect(function(){var q=function(Y){var ge,Q=Y[0].contentRect,I=Q.width,G=Q.height;O(I,G),(ge=P.current)===null||ge===void 0||ge.call(P,I,G)};v>0&&(q=iX(q,v,{trailing:!0,leading:!1}));var z=new ResizeObserver(q),K=k.current.getBoundingClientRect(),Z=K.width,H=K.height;return O(Z,H),z.observe(k.current),function(){z.disconnect()}},[O,v]);var F=S.useMemo(function(){var q=M.containerWidth,z=M.containerHeight;if(q<0||z<0)return null;Xd(Pp(a)||Pp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),Xd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Pp(a)?q:a,Z=Pp(c)?z:c;n&&n>0&&(K?Z=K/n:Z&&(K=Z*n),m&&Z>m&&(Z=m)),Xd(K>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,Z,a,c,d,f,n);var H=!Array.isArray(p)&&Yd(p.type).endsWith("Chart");return Ce.Children.map(p,function(W){return Ce.isValidElement(W)?S.cloneElement(W,T1({width:K,height:Z},H?{style:T1({height:"100%",width:"100%",maxHeight:Z,maxWidth:K},W.props.style)}:{})):W})},[n,p,c,m,f,d,M,a]);return Ce.createElement("div",{id:y?"".concat(y):void 0,className:wr("recharts-responsive-container",w),style:T1(T1({},A),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:k},F)}),h4=function(e){return null};h4.displayName="Cell";function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(n),!0).forEach(function(r){Dbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dbe(t,e,n){return e=Lbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lbe(t){var e=Fbe(t,"string");return Gb(e)=="symbol"?e:e+""}function Fbe(t,e){if(Gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ag={widthCache:{},cacheCount:0},Bbe=2e3,$be={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FB="recharts_measurement_span";function zbe(t){var e=RO({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var mb=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ux.isSsr)return{width:0,height:0};var r=zbe(n),i=JSON.stringify({text:e,copyStyle:r});if(ag.widthCache[i])return ag.widthCache[i];try{var s=document.getElementById(FB);s||(s=document.createElement("span"),s.setAttribute("id",FB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=RO(RO({},$be),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),c={width:o.width,height:o.height};return ag.widthCache[i]=c,++ag.cacheCount>Bbe&&(ag.cacheCount=0,ag.widthCache={}),c}catch{return{width:0,height:0}}},qbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function b2(t,e){return Wbe(t)||Vbe(t,e)||Hbe(t,e)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(t,e){if(t){if(typeof t=="string")return BB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BB(t,e)}}function BB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Wbe(t){if(Array.isArray(t))return t}function Kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ybe(r.key),r)}}function Gbe(t,e,n){return e&&$B(t.prototype,e),n&&$B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ybe(t){var e=Xbe(t,"string");return Yb(e)=="symbol"?e:e+""}function Xbe(t,e){if(Yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jbe=Object.keys(sX),Og="NaN";function e0e(t,e){return t*sX[e]}var O1=(function(){function t(e,n){Kbe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Zbe.test(n)&&(this.num=NaN,this.unit=""),Jbe.includes(n)&&(this.num=e0e(e,n),this.unit="px")}return Gbe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Qbe.exec(n))!==null&&r!==void 0?r:[],s=b2(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])})();function aX(t){if(t.includes(Og))return Og;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=zB.exec(e))!==null&&n!==void 0?n:[],i=b2(r,4),s=i[1],a=i[2],o=i[3],c=O1.parse(s??""),u=O1.parse(o??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Og;e=e.replace(zB,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=qB.exec(e))!==null&&f!==void 0?f:[],p=b2(m,4),b=p[1],v=p[2],y=p[3],w=O1.parse(b??""),_=O1.parse(y??""),E=v==="+"?w.add(_):w.subtract(_);if(E.isNaN())return Og;e=e.replace(qB,E.toString())}return e}var UB=/\(([^()]*)\)/;function t0e(t){for(var e=t;e.includes("(");){var n=UB.exec(e),r=b2(n,2),i=r[1];e=e.replace(UB,aX(i))}return e}function n0e(t){var e=t.replace(/\s+/g,"");return e=t0e(e),e=aX(e),e}function r0e(t){try{return n0e(t)}catch{return Og}}function kj(t){var e=r0e(t.slice(5,-1));return e===Og?"":e}var i0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],s0e=["dx","dy","angle","className","breakAll"];function IO(){return IO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IO.apply(this,arguments)}function HB(t,e){if(t==null)return{};var n=a0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VB(t,e){return u0e(t)||c0e(t,e)||l0e(t,e)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0e(t,e){if(t){if(typeof t=="string")return WB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WB(t,e)}}function WB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function u0e(t){if(Array.isArray(t))return t}var oX=/[ \f\n\r\t\v\u2028\u2029]+/,lX=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Or(n)||(r?s=n.toString().split(""):s=n.toString().split(oX));var a=s.map(function(c){return{word:c,width:mb(c,i).width}}),o=r?0:mb("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},d0e=function(e,n,r,i,s){var a=e.maxLines,o=e.children,c=e.style,u=e.breakAll,d=Mt(a),f=o,m=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(Z,H){var W=H.word,Y=H.width,ge=Z[Z.length-1];if(ge&&(i==null||s||ge.width+Y+r<Number(i)))ge.words.push(W),ge.width+=Y+r;else{var Q={words:[W],width:Y};Z.push(Q)}return Z},[])},p=m(n),b=function(K){return K.reduce(function(Z,H){return Z.width>H.width?Z:H})};if(!d)return p;for(var v="",y=function(K){var Z=f.slice(0,K),H=lX({breakAll:u,style:c,children:Z+v}).wordsWithComputedWidth,W=m(H),Y=W.length>a||b(W).width>Number(i);return[Y,W]},w=0,_=f.length-1,E=0,A;w<=_&&E<=f.length-1;){var k=Math.floor((w+_)/2),P=k-1,R=y(P),T=VB(R,2),M=T[0],B=T[1],O=y(k),F=VB(O,1),q=F[0];if(!M&&!q&&(w=k+1),M&&q&&(_=k-1),!M&&q){A=B;break}E++}return A||p},KB=function(e){var n=Or(e)?[]:e.toString().split(oX);return[{words:n}]},f0e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!ux.isSsr){var c,u,d=lX({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return KB(i);return d0e({breakAll:a,children:i,maxLines:o,style:s},c,u,n,r)}return KB(i)},GB="#808080",x2=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,p=m===void 0?"start":m,b=e.verticalAnchor,v=b===void 0?"end":b,y=e.fill,w=y===void 0?GB:y,_=HB(e,i0e),E=S.useMemo(function(){return f0e({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),A=_.dx,k=_.dy,P=_.angle,R=_.className,T=_.breakAll,M=HB(_,s0e);if(!Ks(r)||!Ks(s))return null;var B=r+(Mt(A)?A:0),O=s+(Mt(k)?k:0),F;switch(v){case"start":F=kj("calc(".concat(u,")"));break;case"middle":F=kj("calc(".concat((E.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:F=kj("calc(".concat(E.length-1," * -").concat(o,")"));break}var q=[];if(f){var z=E[0].width,K=_.width;q.push("scale(".concat((Mt(K)?K/z:1)/z,")"))}return P&&q.push("rotate(".concat(P,", ").concat(B,", ").concat(O,")")),q.length&&(M.transform=q.join(" ")),Ce.createElement("text",IO({},Tr(M,!0),{x:B,y:O,className:wr("recharts-text",R),textAnchor:p,fill:w.includes("url")?GB:w}),E.map(function(Z,H){var W=Z.words.join(T?"":" ");return Ce.createElement("tspan",{x:B,dy:H===0?F:o,key:"".concat(W,"-").concat(H)},W)}))};function xh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function h0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function p4(t){let e,n,r;t.length!==2?(e=xh,n=(o,c)=>xh(t(o),c),r=(o,c)=>t(o)-c):(e=t===xh||t===h0e?t:p0e,n=t,r=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:i,center:a,right:s}}function p0e(){return 0}function cX(t){return t===null?NaN:+t}function*m0e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const g0e=p4(xh),dx=g0e.right;p4(cX).center;class YB extends Map{constructor(e,n=b0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(XB(this,e))}has(e){return super.has(XB(this,e))}set(e,n){return super.set(v0e(this,e),n)}delete(e){return super.delete(y0e(this,e))}}function XB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function v0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function y0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function b0e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function x0e(t=xh){if(t===xh)return uX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const w0e=Math.sqrt(50),S0e=Math.sqrt(10),N0e=Math.sqrt(2);function w2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=w0e?10:s>=S0e?5:s>=N0e?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=n&&n<2?w2(t,e,n*2):[o,c,u]}function DO(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?w2(e,t,n):w2(t,e,n);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)c[u]=(s-u)/-a;else for(let u=0;u<o;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(i+u)/-a;else for(let u=0;u<o;++u)c[u]=(i+u)*a;return c}function LO(t,e,n){return e=+e,t=+t,n=+n,w2(t,e,n)[2]}function FO(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?LO(e,t,n):LO(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZB(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QB(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function dX(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?uX:x0e(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+m)),b=Math.min(r,Math.floor(e+(c-u)*f/c+m));dX(t,e,p,b,i)}const s=t[e];let a=n,o=r;for(By(t,n,e),i(t[r],s)>0&&By(t,n,r);a<o;){for(By(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?By(t,n,o):(++o,By(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function By(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _0e(t,e,n){if(t=Float64Array.from(m0e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QB(t);if(e>=1)return ZB(t);var r,i=(r-1)*e,s=Math.floor(i),a=ZB(dX(t,s).subarray(0,s+1)),o=QB(t.subarray(s+1));return a+(o-a)*(i-s)}}function E0e(t,e,n=cX){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function C0e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function lc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function df(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BO=Symbol("implicit");function m4(){var t=new YB,e=[],n=[],r=BO;function i(s){let a=t.get(s);if(a===void 0){if(r!==BO)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new YB;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return m4(e,n).unknown(r)},lc.apply(i,arguments),i}function Xb(){var t=m4().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,p=i<r,b=p?i:r,v=p?r:i;s=(v-b)/Math.max(1,m-c+u*2),o&&(s=Math.floor(s)),b+=(v-b-s*(m-c))*d,a=s*(1-c),o&&(b=Math.round(b),a=Math.round(a));var y=C0e(m).map(function(w){return b+s*w});return n(p?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(m){return arguments.length?(o=!!m,f()):o},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Xb(e(),[r,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},lc.apply(f(),arguments)}function fX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fX(e())},t}function gb(){return fX(Xb.apply(null,arguments).paddingInner(1))}function g4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function fx(){}var Zb=.7,S2=1/Zb,Hg="\\s*([+-]?\\d+)\\s*",Qb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A0e=/^#([0-9a-f]{3,8})$/,k0e=new RegExp(`^rgb\\(${Hg},${Hg},${Hg}\\)$`),j0e=new RegExp(`^rgb\\(${qu},${qu},${qu}\\)$`),T0e=new RegExp(`^rgba\\(${Hg},${Hg},${Hg},${Qb}\\)$`),O0e=new RegExp(`^rgba\\(${qu},${qu},${qu},${Qb}\\)$`),P0e=new RegExp(`^hsl\\(${Qb},${qu},${qu}\\)$`),M0e=new RegExp(`^hsla\\(${Qb},${qu},${qu},${Qb}\\)$`),JB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g4(fx,Jb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:e$,formatHex:e$,formatHex8:R0e,formatHsl:I0e,formatRgb:t$,toString:t$});function e$(){return this.rgb().formatHex()}function R0e(){return this.rgb().formatHex8()}function I0e(){return pX(this).formatHsl()}function t$(){return this.rgb().formatRgb()}function Jb(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=A0e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?n$(e):n===3?new Uo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?P1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?P1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=k0e.exec(t))?new Uo(e[1],e[2],e[3],1):(e=j0e.exec(t))?new Uo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=T0e.exec(t))?P1(e[1],e[2],e[3],e[4]):(e=O0e.exec(t))?P1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=P0e.exec(t))?s$(e[1],e[2]/100,e[3]/100,1):(e=M0e.exec(t))?s$(e[1],e[2]/100,e[3]/100,e[4]):JB.hasOwnProperty(t)?n$(JB[t]):t==="transparent"?new Uo(NaN,NaN,NaN,0):null}function n$(t){return new Uo(t>>16&255,t>>8&255,t&255,1)}function P1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Uo(t,e,n,r)}function D0e(t){return t instanceof fx||(t=Jb(t)),t?(t=t.rgb(),new Uo(t.r,t.g,t.b,t.opacity)):new Uo}function $O(t,e,n,r){return arguments.length===1?D0e(t):new Uo(t,e,n,r??1)}function Uo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}g4(Uo,$O,hX(fx,{brighter(t){return t=t==null?S2:Math.pow(S2,t),new Uo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zb:Math.pow(Zb,t),new Uo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Uo(qp(this.r),qp(this.g),qp(this.b),N2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r$,formatHex:r$,formatHex8:L0e,formatRgb:i$,toString:i$}));function r$(){return`#${Mp(this.r)}${Mp(this.g)}${Mp(this.b)}`}function L0e(){return`#${Mp(this.r)}${Mp(this.g)}${Mp(this.b)}${Mp((isNaN(this.opacity)?1:this.opacity)*255)}`}function i$(){const t=N2(this.opacity);return`${t===1?"rgb(":"rgba("}${qp(this.r)}, ${qp(this.g)}, ${qp(this.b)}${t===1?")":`, ${t})`}`}function N2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mp(t){return t=qp(t),(t<16?"0":"")+t.toString(16)}function s$(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bc(t,e,n,r)}function pX(t){if(t instanceof Bc)return new Bc(t.h,t.s,t.l,t.opacity);if(t instanceof fx||(t=Jb(t)),!t)return new Bc;if(t instanceof Bc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new Bc(a,o,c,t.opacity)}function F0e(t,e,n,r){return arguments.length===1?pX(t):new Bc(t,e,n,r??1)}function Bc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}g4(Bc,F0e,hX(fx,{brighter(t){return t=t==null?S2:Math.pow(S2,t),new Bc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zb:Math.pow(Zb,t),new Bc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Uo(jj(t>=240?t-240:t+120,i,r),jj(t,i,r),jj(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bc(a$(this.h),M1(this.s),M1(this.l),N2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=N2(this.opacity);return`${t===1?"hsl(":"hsla("}${a$(this.h)}, ${M1(this.s)*100}%, ${M1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function a$(t){return t=(t||0)%360,t<0?t+360:t}function M1(t){return Math.max(0,Math.min(1,t||0))}function jj(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const v4=t=>()=>t;function B0e(t,e){return function(n){return t+n*e}}function $0e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function z0e(t){return(t=+t)==1?mX:function(e,n){return n-e?$0e(e,n,t):v4(isNaN(e)?n:e)}}function mX(t,e){var n=e-t;return n?B0e(t,n):v4(isNaN(t)?e:t)}const o$=(function t(e){var n=z0e(e);function r(i,s){var a=n((i=$O(i)).r,(s=$O(s)).r),o=n(i.g,s.g),c=n(i.b,s.b),u=mX(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r})(1);function q0e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function U0e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function H0e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Zv(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function V0e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function W0e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zv(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var zO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tj=new RegExp(zO.source,"g");function K0e(t){return function(){return t}}function G0e(t){return function(e){return t(e)+""}}function Y0e(t,e){var n=zO.lastIndex=Tj.lastIndex=0,r,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(r=zO.exec(t))&&(i=Tj.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:_2(r,i)})),n=Tj.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?G0e(c[0].x):K0e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Zv(t,e){var n=typeof e,r;return e==null||n==="boolean"?v4(e):(n==="number"?_2:n==="string"?(r=Jb(e))?(e=r,o$):Y0e:e instanceof Jb?o$:e instanceof Date?V0e:U0e(e)?q0e:Array.isArray(e)?H0e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?W0e:_2)(t,e)}function y4(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function X0e(t,e){e===void 0&&(e=t,t=Zv);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Z0e(t){return function(){return t}}function E2(t){return+t}var l$=[0,1];function po(t){return t}function qO(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Z0e(isNaN(e)?NaN:.5)}function Q0e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function J0e(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=qO(i,r),s=n(a,s)):(r=qO(r,i),s=n(s,a)),function(o){return s(r(o))}}function exe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=qO(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var c=dx(t,o,1,r)-1;return s[c](i[c](o))}}function hx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function t_(){var t=l$,e=l$,n=Zv,r,i,s,a=po,o,c,u;function d(){var m=Math.min(t.length,e.length);return a!==po&&(a=Q0e(t[0],t[m-1])),o=m>2?exe:J0e,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=o(t.map(r),e,n)))(r(a(m)))}return f.invert=function(m){return a(i((u||(u=o(e,t.map(r),_2)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,E2),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=y4,d()},f.clamp=function(m){return arguments.length?(a=m?!0:po,d()):a!==po},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,p){return r=m,i=p,d()}}function b4(){return t_()(po,po)}function txe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function C2(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cv(t){return t=C2(Math.abs(t)),t?t[1]:NaN}function nxe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),s.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function rxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ixe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e0(t){if(!(e=ixe.exec(t)))throw new Error("invalid format: "+t);var e;return new x4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}e0.prototype=x4.prototype;function x4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}x4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gX;function axe(t,e){var n=C2(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(gX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+C2(t,Math.max(0,e+s-1))[0]}function c$(t,e){var n=C2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const u$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:txe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>c$(t*100,e),r:c$,s:axe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function d$(t){return t}var f$=Array.prototype.map,h$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oxe(t){var e=t.grouping===void 0||t.thousands===void 0?d$:nxe(f$.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?d$:rxe(f$.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=e0(f);var m=f.fill,p=f.align,b=f.sign,v=f.symbol,y=f.zero,w=f.width,_=f.comma,E=f.precision,A=f.trim,k=f.type;k==="n"?(_=!0,k="g"):u$[k]||(E===void 0&&(E=12),A=!0,k="g"),(y||m==="0"&&p==="=")&&(y=!0,m="0",p="=");var P=v==="$"?n:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=v==="$"?r:/[%p]/.test(k)?a:"",T=u$[k],M=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(O){var F=P,q=R,z,K,Z;if(k==="c")q=T(O)+q,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),E),A&&(O=sxe(O)),H&&+O==0&&b!=="+"&&(H=!1),F=(H?b==="("?b:o:b==="-"||b==="("?"":b)+F,q=(k==="s"?h$[8+gX/3]:"")+q+(H&&b==="("?")":""),M){for(z=-1,K=O.length;++z<K;)if(Z=O.charCodeAt(z),48>Z||Z>57){q=(Z===46?i+O.slice(z+1):O.slice(z))+q,O=O.slice(0,z);break}}}_&&!y&&(O=e(O,1/0));var W=F.length+O.length+q.length,Y=W<w?new Array(w-W+1).join(m):"";switch(_&&y&&(O=e(Y+O,Y.length?w-q.length:1/0),Y=""),p){case"<":O=F+O+q+Y;break;case"=":O=F+Y+O+q;break;case"^":O=Y.slice(0,W=Y.length>>1)+F+O+q+Y.slice(W);break;default:O=Y+F+O+q;break}return s(O)}return B.toString=function(){return f+""},B}function d(f,m){var p=u((f=e0(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(cv(m)/3)))*3,v=Math.pow(10,-b),y=h$[8+b/3];return function(w){return p(v*w)+y}}return{format:u,formatPrefix:d}}var R1,w4,vX;lxe({thousands:",",grouping:[3],currency:["$",""]});function lxe(t){return R1=oxe(t),w4=R1.format,vX=R1.formatPrefix,R1}function cxe(t){return Math.max(0,-cv(Math.abs(t)))}function uxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cv(e)/3)))*3-cv(Math.abs(t)))}function dxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cv(e)-cv(t))+1}function yX(t,e,n,r){var i=FO(t,e,n),s;switch(r=e0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=uxe(i,a))&&(r.precision=s),vX(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=dxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=cxe(i))&&(r.precision=s-(r.type==="%")*2);break}}return w4(r)}function Bh(t){var e=t.domain;return t.ticks=function(n){var r=e();return DO(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yX(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=LO(a,o,n),u===c)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function A2(){var t=b4();return t.copy=function(){return hx(t,A2())},lc.apply(t,arguments),Bh(t)}function bX(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,E2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return bX(t).unknown(e)},t=arguments.length?Array.from(t,E2):[0,1],Bh(n)}function xX(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function p$(t){return Math.log(t)}function m$(t){return Math.exp(t)}function fxe(t){return-Math.log(-t)}function hxe(t){return-Math.exp(-t)}function pxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mxe(t){return t===10?pxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function g$(t){return(e,n)=>-t(-e,n)}function S4(t){const e=t(p$,m$),n=e.domain;let r=10,i,s;function a(){return i=gxe(r),s=mxe(r),n()[0]<0?(i=g$(i),s=g$(s),t(fxe,hxe)):t(p$,m$),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),p=i(d),b,v;const y=o==null?10:+o;let w=[];if(!(r%1)&&p-m<y){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(b=1;b<r;++b)if(v=m<0?b/s(-m):b*s(m),!(v<u)){if(v>d)break;w.push(v)}}else for(;m<=p;++m)for(b=r-1;b>=1;--b)if(v=m>0?b/s(-m):b*s(m),!(v<u)){if(v>d)break;w.push(v)}w.length*2<y&&(w=DO(u,d,y))}else w=DO(m,p,Math.min(p-m,y)).map(s);return f?w.reverse():w},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=e0(c)).precision==null&&(c.trim=!0),c=w4(c)),o===1/0)return c;const u=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(xX(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function wX(){const t=S4(t_()).domain([1,10]);return t.copy=()=>hx(t,wX()).base(t.base()),lc.apply(t,arguments),t}function v$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function y$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function N4(t){var e=1,n=t(v$(e),y$(e));return n.constant=function(r){return arguments.length?t(v$(e=+r),y$(e)):e},Bh(n)}function SX(){var t=N4(t_());return t.copy=function(){return hx(t,SX()).constant(t.constant())},lc.apply(t,arguments)}function b$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yxe(t){return t<0?-t*t:t*t}function _4(t){var e=t(po,po),n=1;function r(){return n===1?t(po,po):n===.5?t(vxe,yxe):t(b$(n),b$(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bh(e)}function E4(){var t=_4(t_());return t.copy=function(){return hx(t,E4()).exponent(t.exponent())},lc.apply(t,arguments),t}function bxe(){return E4.apply(null,arguments).exponent(.5)}function x$(t){return Math.sign(t)*t*t}function xxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function NX(){var t=b4(),e=[0,1],n=!1,r;function i(s){var a=xxe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(x$(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,E2)).map(x$)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return NX(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},lc.apply(i,arguments),Bh(i)}function _X(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=E0e(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[dx(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(xh),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return _X().domain(t).range(e).unknown(r)},lc.apply(s,arguments)}function EX(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[dx(r,c,0,n)]:s}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return EX().domain([t,e]).range(i).unknown(s)},lc.apply(Bh(a),arguments)}function CX(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[dx(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return CX().domain(t).range(e).unknown(n)},lc.apply(i,arguments)}const Oj=new Date,Pj=new Date;function Ys(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let u;do c.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return c},i.filter=s=>Ys(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(Oj.setTime(+s),Pj.setTime(+a),t(Oj),t(Pj),Math.floor(n(Oj,Pj))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const k2=Ys(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);k2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ys(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):k2);k2.range;const Vd=1e3,tc=Vd*60,Wd=tc*60,nf=Wd*24,C4=nf*7,w$=nf*30,Mj=nf*365,Rp=Ys(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vd)},(t,e)=>(e-t)/Vd,t=>t.getUTCSeconds());Rp.range;const A4=Ys(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vd)},(t,e)=>{t.setTime(+t+e*tc)},(t,e)=>(e-t)/tc,t=>t.getMinutes());A4.range;const k4=Ys(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*tc)},(t,e)=>(e-t)/tc,t=>t.getUTCMinutes());k4.range;const j4=Ys(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vd-t.getMinutes()*tc)},(t,e)=>{t.setTime(+t+e*Wd)},(t,e)=>(e-t)/Wd,t=>t.getHours());j4.range;const T4=Ys(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wd)},(t,e)=>(e-t)/Wd,t=>t.getUTCHours());T4.range;const px=Ys(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tc)/nf,t=>t.getDate()-1);px.range;const n_=Ys(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nf,t=>t.getUTCDate()-1);n_.range;const AX=Ys(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nf,t=>Math.floor(t/nf));AX.range;function Em(t){return Ys(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*tc)/C4)}const r_=Em(0),j2=Em(1),wxe=Em(2),Sxe=Em(3),uv=Em(4),Nxe=Em(5),_xe=Em(6);r_.range;j2.range;wxe.range;Sxe.range;uv.range;Nxe.range;_xe.range;function Cm(t){return Ys(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/C4)}const i_=Cm(0),T2=Cm(1),Exe=Cm(2),Cxe=Cm(3),dv=Cm(4),Axe=Cm(5),kxe=Cm(6);i_.range;T2.range;Exe.range;Cxe.range;dv.range;Axe.range;kxe.range;const O4=Ys(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());O4.range;const P4=Ys(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());P4.range;const rf=Ys(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ys(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rf.range;const sf=Ys(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());sf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ys(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});sf.range;function kX(t,e,n,r,i,s){const a=[[Rp,1,Vd],[Rp,5,5*Vd],[Rp,15,15*Vd],[Rp,30,30*Vd],[s,1,tc],[s,5,5*tc],[s,15,15*tc],[s,30,30*tc],[i,1,Wd],[i,3,3*Wd],[i,6,6*Wd],[i,12,12*Wd],[r,1,nf],[r,2,2*nf],[n,1,C4],[e,1,w$],[e,3,3*w$],[t,1,Mj]];function o(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),b=p?p.range(u,+d+1):[];return m?b.reverse():b}function c(u,d,f){const m=Math.abs(d-u)/f,p=p4(([,,y])=>y).right(a,m);if(p===a.length)return t.every(FO(u/Mj,d/Mj,f));if(p===0)return k2.every(Math.max(FO(u,d,f),1));const[b,v]=a[m/a[p-1][2]<a[p][2]/m?p-1:p];return b.every(v)}return[o,c]}const[jxe,Txe]=kX(sf,P4,i_,AX,T4,k4),[Oxe,Pxe]=kX(rf,O4,r_,px,j4,A4);function Rj(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ij(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $y(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Mxe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,u=zy(i),d=qy(i),f=zy(s),m=qy(s),p=zy(a),b=qy(a),v=zy(o),y=qy(o),w=zy(c),_=qy(c),E={a:H,A:W,b:Y,B:ge,c:null,d:A$,e:A$,f:n1e,g:f1e,G:p1e,H:Jxe,I:e1e,j:t1e,L:jX,m:r1e,M:i1e,p:Q,q:I,Q:T$,s:O$,S:s1e,u:a1e,U:o1e,V:l1e,w:c1e,W:u1e,x:null,X:null,y:d1e,Y:h1e,Z:m1e,"%":j$},A={a:G,A:ne,b:ie,B:he,c:null,d:k$,e:k$,f:b1e,g:j1e,G:O1e,H:g1e,I:v1e,j:y1e,L:OX,m:x1e,M:w1e,p:J,q:ue,Q:T$,s:O$,S:S1e,u:N1e,U:_1e,V:E1e,w:C1e,W:A1e,x:null,X:null,y:k1e,Y:T1e,Z:P1e,"%":j$},k={a:B,A:O,b:F,B:q,c:z,d:E$,e:E$,f:Yxe,g:_$,G:N$,H:C$,I:C$,j:Vxe,L:Gxe,m:Hxe,M:Wxe,p:M,q:Uxe,Q:Zxe,s:Qxe,S:Kxe,u:Fxe,U:Bxe,V:$xe,w:Lxe,W:zxe,x:K,X:Z,y:_$,Y:N$,Z:qxe,"%":Xxe};E.x=P(n,E),E.X=P(r,E),E.c=P(e,E),A.x=P(n,A),A.X=P(r,A),A.c=P(e,A);function P(ae,X){return function(pe){var xe=[],De=-1,Ee=0,de=ae.length,Ge,Nt,it;for(pe instanceof Date||(pe=new Date(+pe));++De<de;)ae.charCodeAt(De)===37&&(xe.push(ae.slice(Ee,De)),(Nt=S$[Ge=ae.charAt(++De)])!=null?Ge=ae.charAt(++De):Nt=Ge==="e"?" ":"0",(it=X[Ge])&&(Ge=it(pe,Nt)),xe.push(Ge),Ee=De+1);return xe.push(ae.slice(Ee,De)),xe.join("")}}function R(ae,X){return function(pe){var xe=$y(1900,void 0,1),De=T(xe,ae,pe+="",0),Ee,de;if(De!=pe.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(X&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Ee=Ij($y(xe.y,0,1)),de=Ee.getUTCDay(),Ee=de>4||de===0?T2.ceil(Ee):T2(Ee),Ee=n_.offset(Ee,(xe.V-1)*7),xe.y=Ee.getUTCFullYear(),xe.m=Ee.getUTCMonth(),xe.d=Ee.getUTCDate()+(xe.w+6)%7):(Ee=Rj($y(xe.y,0,1)),de=Ee.getDay(),Ee=de>4||de===0?j2.ceil(Ee):j2(Ee),Ee=px.offset(Ee,(xe.V-1)*7),xe.y=Ee.getFullYear(),xe.m=Ee.getMonth(),xe.d=Ee.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),de="Z"in xe?Ij($y(xe.y,0,1)).getUTCDay():Rj($y(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(de+5)%7:xe.w+xe.U*7-(de+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,Ij(xe)):Rj(xe)}}function T(ae,X,pe,xe){for(var De=0,Ee=X.length,de=pe.length,Ge,Nt;De<Ee;){if(xe>=de)return-1;if(Ge=X.charCodeAt(De++),Ge===37){if(Ge=X.charAt(De++),Nt=k[Ge in S$?X.charAt(De++):Ge],!Nt||(xe=Nt(ae,pe,xe))<0)return-1}else if(Ge!=pe.charCodeAt(xe++))return-1}return xe}function M(ae,X,pe){var xe=u.exec(X.slice(pe));return xe?(ae.p=d.get(xe[0].toLowerCase()),pe+xe[0].length):-1}function B(ae,X,pe){var xe=p.exec(X.slice(pe));return xe?(ae.w=b.get(xe[0].toLowerCase()),pe+xe[0].length):-1}function O(ae,X,pe){var xe=f.exec(X.slice(pe));return xe?(ae.w=m.get(xe[0].toLowerCase()),pe+xe[0].length):-1}function F(ae,X,pe){var xe=w.exec(X.slice(pe));return xe?(ae.m=_.get(xe[0].toLowerCase()),pe+xe[0].length):-1}function q(ae,X,pe){var xe=v.exec(X.slice(pe));return xe?(ae.m=y.get(xe[0].toLowerCase()),pe+xe[0].length):-1}function z(ae,X,pe){return T(ae,e,X,pe)}function K(ae,X,pe){return T(ae,n,X,pe)}function Z(ae,X,pe){return T(ae,r,X,pe)}function H(ae){return a[ae.getDay()]}function W(ae){return s[ae.getDay()]}function Y(ae){return c[ae.getMonth()]}function ge(ae){return o[ae.getMonth()]}function Q(ae){return i[+(ae.getHours()>=12)]}function I(ae){return 1+~~(ae.getMonth()/3)}function G(ae){return a[ae.getUTCDay()]}function ne(ae){return s[ae.getUTCDay()]}function ie(ae){return c[ae.getUTCMonth()]}function he(ae){return o[ae.getUTCMonth()]}function J(ae){return i[+(ae.getUTCHours()>=12)]}function ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var X=P(ae+="",E);return X.toString=function(){return ae},X},parse:function(ae){var X=R(ae+="",!1);return X.toString=function(){return ae},X},utcFormat:function(ae){var X=P(ae+="",A);return X.toString=function(){return ae},X},utcParse:function(ae){var X=R(ae+="",!0);return X.toString=function(){return ae},X}}}var S$={"-":"",_:" ",0:"0"},pa=/^\s*\d+/,Rxe=/^%/,Ixe=/[\\^$*+?|[\]().{}]/g;function kr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Dxe(t){return t.replace(Ixe,"\\$&")}function zy(t){return new RegExp("^(?:"+t.map(Dxe).join("|")+")","i")}function qy(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Lxe(t,e,n){var r=pa.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Fxe(t,e,n){var r=pa.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Bxe(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $xe(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zxe(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function N$(t,e,n){var r=pa.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _$(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qxe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uxe(t,e,n){var r=pa.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Hxe(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function E$(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vxe(t,e,n){var r=pa.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function C$(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wxe(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kxe(t,e,n){var r=pa.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Gxe(t,e,n){var r=pa.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Yxe(t,e,n){var r=pa.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Xxe(t,e,n){var r=Rxe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Zxe(t,e,n){var r=pa.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Qxe(t,e,n){var r=pa.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function A$(t,e){return kr(t.getDate(),e,2)}function Jxe(t,e){return kr(t.getHours(),e,2)}function e1e(t,e){return kr(t.getHours()%12||12,e,2)}function t1e(t,e){return kr(1+px.count(rf(t),t),e,3)}function jX(t,e){return kr(t.getMilliseconds(),e,3)}function n1e(t,e){return jX(t,e)+"000"}function r1e(t,e){return kr(t.getMonth()+1,e,2)}function i1e(t,e){return kr(t.getMinutes(),e,2)}function s1e(t,e){return kr(t.getSeconds(),e,2)}function a1e(t){var e=t.getDay();return e===0?7:e}function o1e(t,e){return kr(r_.count(rf(t)-1,t),e,2)}function TX(t){var e=t.getDay();return e>=4||e===0?uv(t):uv.ceil(t)}function l1e(t,e){return t=TX(t),kr(uv.count(rf(t),t)+(rf(t).getDay()===4),e,2)}function c1e(t){return t.getDay()}function u1e(t,e){return kr(j2.count(rf(t)-1,t),e,2)}function d1e(t,e){return kr(t.getFullYear()%100,e,2)}function f1e(t,e){return t=TX(t),kr(t.getFullYear()%100,e,2)}function h1e(t,e){return kr(t.getFullYear()%1e4,e,4)}function p1e(t,e){var n=t.getDay();return t=n>=4||n===0?uv(t):uv.ceil(t),kr(t.getFullYear()%1e4,e,4)}function m1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kr(e/60|0,"0",2)+kr(e%60,"0",2)}function k$(t,e){return kr(t.getUTCDate(),e,2)}function g1e(t,e){return kr(t.getUTCHours(),e,2)}function v1e(t,e){return kr(t.getUTCHours()%12||12,e,2)}function y1e(t,e){return kr(1+n_.count(sf(t),t),e,3)}function OX(t,e){return kr(t.getUTCMilliseconds(),e,3)}function b1e(t,e){return OX(t,e)+"000"}function x1e(t,e){return kr(t.getUTCMonth()+1,e,2)}function w1e(t,e){return kr(t.getUTCMinutes(),e,2)}function S1e(t,e){return kr(t.getUTCSeconds(),e,2)}function N1e(t){var e=t.getUTCDay();return e===0?7:e}function _1e(t,e){return kr(i_.count(sf(t)-1,t),e,2)}function PX(t){var e=t.getUTCDay();return e>=4||e===0?dv(t):dv.ceil(t)}function E1e(t,e){return t=PX(t),kr(dv.count(sf(t),t)+(sf(t).getUTCDay()===4),e,2)}function C1e(t){return t.getUTCDay()}function A1e(t,e){return kr(T2.count(sf(t)-1,t),e,2)}function k1e(t,e){return kr(t.getUTCFullYear()%100,e,2)}function j1e(t,e){return t=PX(t),kr(t.getUTCFullYear()%100,e,2)}function T1e(t,e){return kr(t.getUTCFullYear()%1e4,e,4)}function O1e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?dv(t):dv.ceil(t),kr(t.getUTCFullYear()%1e4,e,4)}function P1e(){return"+0000"}function j$(){return"%"}function T$(t){return+t}function O$(t){return Math.floor(+t/1e3)}var og,MX,RX;M1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M1e(t){return og=Mxe(t),MX=og.format,og.parse,RX=og.utcFormat,og.utcParse,og}function R1e(t){return new Date(t)}function I1e(t){return t instanceof Date?+t:+new Date(+t)}function M4(t,e,n,r,i,s,a,o,c,u){var d=b4(),f=d.invert,m=d.domain,p=u(".%L"),b=u(":%S"),v=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),_=u("%b %d"),E=u("%B"),A=u("%Y");function k(P){return(c(P)<P?p:o(P)<P?b:a(P)<P?v:s(P)<P?y:r(P)<P?i(P)<P?w:_:n(P)<P?E:A)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?m(Array.from(P,I1e)):m().map(R1e)},d.ticks=function(P){var R=m();return t(R[0],R[R.length-1],P??10)},d.tickFormat=function(P,R){return R==null?k:u(R)},d.nice=function(P){var R=m();return(!P||typeof P.range!="function")&&(P=e(R[0],R[R.length-1],P??10)),P?m(xX(R,P)):d},d.copy=function(){return hx(d,M4(t,e,n,r,i,s,a,o,c,u))},d}function D1e(){return lc.apply(M4(Oxe,Pxe,rf,O4,r_,px,j4,A4,Rp,MX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function L1e(){return lc.apply(M4(jxe,Txe,sf,P4,i_,n_,T4,k4,Rp,RX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function s_(){var t=0,e=1,n,r,i,s,a=po,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(m){var p,b;return arguments.length?([p,b]=m,a=f(p,b),u):[a(0),a(1)]}}return u.range=d(Zv),u.rangeRound=d(y4),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function $h(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IX(){var t=Bh(s_()(po));return t.copy=function(){return $h(t,IX())},df.apply(t,arguments)}function DX(){var t=S4(s_()).domain([1,10]);return t.copy=function(){return $h(t,DX()).base(t.base())},df.apply(t,arguments)}function LX(){var t=N4(s_());return t.copy=function(){return $h(t,LX()).constant(t.constant())},df.apply(t,arguments)}function R4(){var t=_4(s_());return t.copy=function(){return $h(t,R4()).exponent(t.exponent())},df.apply(t,arguments)}function F1e(){return R4.apply(null,arguments).exponent(.5)}function FX(){var t=[],e=po;function n(r){if(r!=null&&!isNaN(r=+r))return e((dx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xh),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_0e(t,s/r))},n.copy=function(){return FX(e).domain(t)},df.apply(n,arguments)}function a_(){var t=0,e=.5,n=1,r=1,i,s,a,o,c,u=po,d,f=!1,m;function p(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-s)*(r*v<r*s?o:c),u(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(u=v,p):u};function b(v){return function(y){var w,_,E;return arguments.length?([w,_,E]=y,u=X0e(v,[w,_,E]),p):[u(0),u(.5),u(1)]}}return p.range=b(Zv),p.rangeRound=b(y4),p.unknown=function(v){return arguments.length?(m=v,p):m},function(v){return d=v,i=v(t),s=v(e),a=v(n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function BX(){var t=Bh(a_()(po));return t.copy=function(){return $h(t,BX())},df.apply(t,arguments)}function $X(){var t=S4(a_()).domain([.1,1,10]);return t.copy=function(){return $h(t,$X()).base(t.base())},df.apply(t,arguments)}function zX(){var t=N4(a_());return t.copy=function(){return $h(t,zX()).constant(t.constant())},df.apply(t,arguments)}function I4(){var t=_4(a_());return t.copy=function(){return $h(t,I4()).exponent(t.exponent())},df.apply(t,arguments)}function B1e(){return I4.apply(null,arguments).exponent(.5)}const P$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xb,scaleDiverging:BX,scaleDivergingLog:$X,scaleDivergingPow:I4,scaleDivergingSqrt:B1e,scaleDivergingSymlog:zX,scaleIdentity:bX,scaleImplicit:BO,scaleLinear:A2,scaleLog:wX,scaleOrdinal:m4,scalePoint:gb,scalePow:E4,scaleQuantile:_X,scaleQuantize:EX,scaleRadial:NX,scaleSequential:IX,scaleSequentialLog:DX,scaleSequentialPow:R4,scaleSequentialQuantile:FX,scaleSequentialSqrt:F1e,scaleSequentialSymlog:LX,scaleSqrt:bxe,scaleSymlog:SX,scaleThreshold:CX,scaleTime:D1e,scaleUtc:L1e,tickFormat:yX},Symbol.toStringTag,{value:"Module"}));var Dj,M$;function qX(){if(M$)return Dj;M$=1;var t=Gv();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],c=r(o);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=o}return d}return Dj=e,Dj}var Lj,R$;function $1e(){if(R$)return Lj;R$=1;function t(e,n){return e>n}return Lj=t,Lj}var Fj,I$;function z1e(){if(I$)return Fj;I$=1;var t=qX(),e=$1e(),n=Xv();function r(i){return i&&i.length?t(i,n,e):void 0}return Fj=r,Fj}var q1e=z1e();const o_=Pr(q1e);var Bj,D$;function U1e(){if(D$)return Bj;D$=1;function t(e,n){return e<n}return Bj=t,Bj}var $j,L$;function H1e(){if(L$)return $j;L$=1;var t=qX(),e=U1e(),n=Xv();function r(i){return i&&i.length?t(i,n,e):void 0}return $j=r,$j}var V1e=H1e();const l_=Pr(V1e);var zj,F$;function W1e(){if(F$)return zj;F$=1;var t=XR(),e=Fh(),n=ZY(),r=Zo();function i(s,a){var o=r(s)?t:n;return o(s,e(a,3))}return zj=i,zj}var qj,B$;function K1e(){if(B$)return qj;B$=1;var t=YY(),e=W1e();function n(r,i){return t(e(r,i),1)}return qj=n,qj}var G1e=K1e();const Y1e=Pr(G1e);var Uj,$$;function X1e(){if($$)return Uj;$$=1;var t=c4();function e(n,r){return t(n,r)}return Uj=e,Uj}var Z1e=X1e();const D4=Pr(Z1e);var Qv=1e9,Q1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},F4,Ii=!0,ac="[DecimalError] ",Up=ac+"Invalid argument: ",L4=ac+"Exponent out of range: ",Jv=Math.floor,Np=Math.pow,J1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vl,aa=1e7,_i=7,UX=9007199254740991,O2=Jv(UX/_i),Xt={};Xt.absoluteValue=Xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xt.comparedTo=Xt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_i;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Xt.dividedBy=Xt.div=function(t){return Zd(this,new this.constructor(t))};Xt.dividedToIntegerBy=Xt.idiv=function(t){var e=this,n=e.constructor;return ai(Zd(e,new n(t),0,1),n.precision)};Xt.equals=Xt.eq=function(t){return!this.cmp(t)};Xt.exponent=function(){return Ms(this)};Xt.greaterThan=Xt.gt=function(t){return this.cmp(t)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(t){return this.cmp(t)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(t){return this.cmp(t)<0};Xt.lessThanOrEqualTo=Xt.lte=function(t){return this.cmp(t)<1};Xt.logarithm=Xt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(vl))throw Error(ac+"NaN");if(n.s<1)throw Error(ac+(n.s?"NaN":"-Infinity"));return n.eq(vl)?new r(0):(Ii=!1,e=Zd(t0(n,s),t0(t,s),s),Ii=!0,ai(e,i))};Xt.minus=Xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WX(e,t):HX(e,(t.s=-t.s,t))};Xt.modulo=Xt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ac+"NaN");return n.s?(Ii=!1,e=Zd(n,t,0,1).times(t),Ii=!0,n.minus(e)):ai(new r(n),i)};Xt.naturalExponential=Xt.exp=function(){return VX(this)};Xt.naturalLogarithm=Xt.ln=function(){return t0(this)};Xt.negated=Xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xt.plus=Xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HX(e,t):WX(e,(t.s=-t.s,t))};Xt.precision=Xt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Up+t);if(e=Ms(i)+1,r=i.d.length-1,n=r*_i+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Xt.squareRoot=Xt.sqrt=function(){var t,e,n,r,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ac+"NaN")}for(t=Ms(o),Ii=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Du(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(Zd(o,s,a+2)).times(.5),Du(s.d).slice(0,a)===(e=Du(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ai(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Ii=!0,ai(r,n)};Xt.times=Xt.mul=function(t){var e,n,r,i,s,a,o,c,u,d=this,f=d.constructor,m=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)o=s[i]+p[r]*m[i-r-1]+e,s[i--]=o%aa|0,e=o/aa|0;s[i]=(s[i]+e)%aa|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ii?ai(t,f.precision):t};Xt.toDecimalPlaces=Xt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Gu(t,0,Qv),e===void 0?e=r.rounding:Gu(e,0,8),ai(n,t+Ms(n)+1,e))};Xt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=am(r,!0):(Gu(t,0,Qv),e===void 0?e=i.rounding:Gu(e,0,8),r=ai(new i(r),t+1,e),n=am(r,!0,t+1)),n};Xt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?am(i):(Gu(t,0,Qv),e===void 0?e=s.rounding:Gu(e,0,8),r=ai(new s(i),t+Ms(i)+1,e),n=am(r.abs(),!1,t+Ms(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Xt.toInteger=Xt.toint=function(){var t=this,e=t.constructor;return ai(new e(t),Ms(t)+1,e.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(t){var e,n,r,i,s,a,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(vl);if(o=new c(o),!o.s){if(t.s<1)throw Error(ac+"Infinity");return o}if(o.eq(vl))return o;if(r=c.precision,t.eq(vl))return ai(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=UX){for(i=new c(vl),e=Math.ceil(r/_i+4),Ii=!1;n%2&&(i=i.times(o),q$(i.d,e)),n=Jv(n/2),n!==0;)o=o.times(o),q$(o.d,e);return Ii=!0,t.s<0?new c(vl).div(i):ai(i,r)}}else if(s<0)throw Error(ac+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Ii=!1,i=t.times(t0(o,r+u)),Ii=!0,i=VX(i),i.s=s,i};Xt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ms(i),r=am(i,n<=s.toExpNeg||n>=s.toExpPos)):(Gu(t,1,Qv),e===void 0?e=s.rounding:Gu(e,0,8),i=ai(new s(i),t,e),n=Ms(i),r=am(i,t<=n||n<=s.toExpNeg,t)),r};Xt.toSignificantDigits=Xt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Gu(t,1,Qv),e===void 0?e=r.rounding:Gu(e,0,8)),ai(new r(n),t,e)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ms(t),n=t.constructor;return am(t,e<=n.toExpNeg||e>=n.toExpPos)};function HX(t,e){var n,r,i,s,a,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ii?ai(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,o=u.length):(r=u,i=a,o=c.length),a=Math.ceil(f/_i),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/aa|0,c[s]%=aa;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,Ii?ai(e,f):e}function Gu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Up+t)}function Du(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=_i-r.length,n&&(s+=Jf(n)),s+=r;a=t[e],r=a+"",n=_i-r.length,n&&(s+=Jf(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Zd=(function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%aa|0,a=s/aa|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*aa+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,c,u,d,f,m,p,b,v,y,w,_,E,A,k,P,R,T,M=r.constructor,B=r.s==i.s?1:-1,O=r.d,F=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ac+"Division by zero");for(c=r.e-i.e,R=F.length,k=O.length,p=new M(B),b=p.d=[],u=0;F[u]==(O[u]||0);)++u;if(F[u]>(O[u]||0)&&--c,s==null?_=s=M.precision:a?_=s+(Ms(r)-Ms(i))+1:_=s,_<0)return new M(0);if(_=_/_i+2|0,u=0,R==1)for(d=0,F=F[0],_++;(u<k||d)&&_--;u++)E=d*aa+(O[u]||0),b[u]=E/F|0,d=E%F|0;else{for(d=aa/(F[0]+1)|0,d>1&&(F=t(F,d),O=t(O,d),R=F.length,k=O.length),A=R,v=O.slice(0,R),y=v.length;y<R;)v[y++]=0;T=F.slice(),T.unshift(0),P=F[0],F[1]>=aa/2&&++P;do d=0,o=e(F,v,R,y),o<0?(w=v[0],R!=y&&(w=w*aa+(v[1]||0)),d=w/P|0,d>1?(d>=aa&&(d=aa-1),f=t(F,d),m=f.length,y=v.length,o=e(f,v,m,y),o==1&&(d--,n(f,R<m?T:F,m))):(d==0&&(o=d=1),f=F.slice()),m=f.length,m<y&&f.unshift(0),n(v,f,y),o==-1&&(y=v.length,o=e(F,v,R,y),o<1&&(d++,n(v,R<y?T:F,y))),y=v.length):o===0&&(d++,v=[0]),b[u++]=d,o&&v[0]?v[y++]=O[A]||0:(v=[O[A]],y=1);while((A++<k||v[0]!==void 0)&&_--)}return b[0]||b.shift(),p.e=c,ai(p,a?s+Ms(p)+1:s)}})();function VX(t,e){var n,r,i,s,a,o,c=0,u=0,d=t.constructor,f=d.precision;if(Ms(t)>16)throw Error(L4+Ms(t));if(!t.s)return new d(vl);for(Ii=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Np(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new d(vl),d.precision=o;;){if(i=ai(i.times(t),o),n=n.times(++c),a=s.plus(Zd(i,n,o)),Du(a.d).slice(0,o)===Du(s.d).slice(0,o)){for(;u--;)s=ai(s.times(s),o);return d.precision=f,e==null?(Ii=!0,ai(s,f)):s}s=a}}function Ms(t){for(var e=t.e*_i,n=t.d[0];n>=10;n/=10)e++;return e}function Hj(t,e,n){if(e>t.LN10.sd())throw Ii=!0,n&&(t.precision=n),Error(ac+"LN10 precision limit exceeded");return ai(new t(t.LN10),e)}function Jf(t){for(var e="";t--;)e+="0";return e}function t0(t,e){var n,r,i,s,a,o,c,u,d,f=1,m=10,p=t,b=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(ac+(p.s?"NaN":"-Infinity"));if(p.eq(vl))return new v(0);if(e==null?(Ii=!1,u=y):u=e,p.eq(10))return e==null&&(Ii=!0),Hj(v,u);if(u+=m,v.precision=u,n=Du(b),r=n.charAt(0),s=Ms(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Du(p.d),r=n.charAt(0),f++;s=Ms(p),r>1?(p=new v("0."+n),s++):p=new v(r+"."+n.slice(1))}else return c=Hj(v,u+2,y).times(s+""),p=t0(new v(r+"."+n.slice(1)),u-m).plus(c),v.precision=y,e==null?(Ii=!0,ai(p,y)):p;for(o=a=p=Zd(p.minus(vl),p.plus(vl),u),d=ai(p.times(p),u),i=3;;){if(a=ai(a.times(d),u),c=o.plus(Zd(a,new v(i),u)),Du(c.d).slice(0,u)===Du(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(Hj(v,u+2,y).times(s+""))),o=Zd(o,new v(f),u),v.precision=y,e==null?(Ii=!0,ai(o,y)):o;o=c,i+=2}}function z$(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Jv(n/_i),t.d=[],r=(n+1)%_i,n<0&&(r+=_i),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_i;r<i;)t.d.push(+e.slice(r,r+=_i));e=e.slice(r),r=_i-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ii&&(t.e>O2||t.e<-O2))throw Error(L4+n)}else t.s=0,t.e=0,t.d=[0];return t}function ai(t,e,n){var r,i,s,a,o,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=_i,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/_i),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=_i,i=r-_i+a}if(n!==void 0&&(s=Np(10,a-i-1),o=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?u/Np(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=Ms(t),f.length=1,e=e-s-1,f[0]=Np(10,(_i-e%_i)%_i),t.e=Jv(-e/_i)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Np(10,_i-r),f[d]=i>0?(u/Np(10,a-i)%Np(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==aa&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=aa)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Ii&&(t.e>O2||t.e<-O2))throw Error(L4+Ms(t));return t}function WX(t,e){var n,r,i,s,a,o,c,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Ii?ai(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,o=f.length):(n=f,r=u,o=c.length),i=Math.max(Math.ceil(p/_i),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=aa-1;--c[s],c[i]+=aa}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ii?ai(e,p):e):new m(0)}function am(t,e,n){var r,i=Ms(t),s=Du(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Jf(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Jf(-i-1)+s,n&&(r=n-a)>0&&(s+=Jf(r))):i>=a?(s+=Jf(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Jf(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Jf(r))),t.s<0?"-"+s:s}function q$(t,e){if(t.length>e)return t.length=e,!0}function KX(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Up+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return z$(a,s.toString())}else if(typeof s!="string")throw Error(Up+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,J1e.test(s))z$(a,s);else throw Error(Up+s)}if(i.prototype=Xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KX,i.config=i.set=ewe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ewe(t){if(!t||typeof t!="object")throw Error(ac+"Object expected");var e,n,r,i=["precision",1,Qv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Jv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Up+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Up+n+": "+r);return this}var F4=KX(Q1e);vl=new F4(1);const Qr=F4;function twe(t){return swe(t)||iwe(t)||rwe(t)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rwe(t,e){if(t){if(typeof t=="string")return UO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(t,e)}}function iwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function swe(t){if(Array.isArray(t))return UO(t)}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var awe=function(e){return e},GX={},YX=function(e){return e===GX},U$=function(e){return function n(){return arguments.length===0||arguments.length===1&&YX(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},owe=function t(e,n){return e===1?n:U$(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==GX}).length;return a>=e?n.apply(void 0,i):t(e-a,U$(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return YX(f)?c.shift():f});return n.apply(void 0,twe(d).concat(c))}))})},c_=function(e){return owe(e.length,e)},HO=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lwe=c_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),cwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return awe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,c){return c(o)},s.apply(void 0,arguments))}},VO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},XX=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,c){return o===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function uwe(t){var e;return t===0?e=1:e=Math.floor(new Qr(t).abs().log(10).toNumber())+1,e}function dwe(t,e,n){for(var r=new Qr(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var fwe=c_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),hwe=c_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pwe=c_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const u_={rangeStep:dwe,getDigitCount:uwe,interpolateNumber:fwe,uninterpolateNumber:hwe,uninterpolateTruncation:pwe};function WO(t){return vwe(t)||gwe(t)||ZX(t)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vwe(t){if(Array.isArray(t))return KO(t)}function n0(t,e){return xwe(t)||bwe(t,e)||ZX(t,e)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZX(t,e){if(t){if(typeof t=="string")return KO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KO(t,e)}}function KO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function xwe(t){if(Array.isArray(t))return t}function QX(t){var e=n0(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function JX(t,e,n){if(t.lte(0))return new Qr(0);var r=u_.getDigitCount(t.toNumber()),i=new Qr(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Qr(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=o.mul(i);return e?c:new Qr(Math.ceil(c))}function wwe(t,e,n){var r=1,i=new Qr(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Qr(10).pow(u_.getDigitCount(t)-1),i=new Qr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Qr(Math.floor(t)))}else t===0?i=new Qr(Math.floor((e-1)/2)):n||(i=new Qr(Math.floor(t)));var a=Math.floor((e-1)/2),o=cwe(lwe(function(c){return i.add(new Qr(c-a).mul(r)).toNumber()}),HO);return o(0,e)}function eZ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Qr(0),tickMin:new Qr(0),tickMax:new Qr(0)};var s=JX(new Qr(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Qr(0):(a=new Qr(t).add(e).div(2),a=a.sub(new Qr(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new Qr(e).sub(a).div(s).toNumber()),u=o+c+1;return u>n?eZ(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,o=e>0?o:o+(n-u)),{step:s,tickMin:a.sub(new Qr(o).mul(s)),tickMax:a.add(new Qr(c).mul(s))})}function Swe(t){var e=n0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=QX([n,r]),c=n0(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(WO(HO(0,i-1).map(function(){return 1/0}))):[].concat(WO(HO(0,i-1).map(function(){return-1/0})),[d]);return n>r?VO(f):f}if(u===d)return wwe(u,i,s);var m=eZ(u,d,a,s),p=m.step,b=m.tickMin,v=m.tickMax,y=u_.rangeStep(b,v.add(new Qr(.1).mul(p)),p);return n>r?VO(y):y}function Nwe(t,e){var n=n0(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=QX([r,i]),o=n0(a,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=JX(new Qr(u).sub(c).div(d-1),s,0),m=[].concat(WO(u_.rangeStep(new Qr(c),new Qr(u).sub(new Qr(.99).mul(f)),f)),[u]);return r>i?VO(m):m}var _we=XX(Swe),Ewe=XX(Nwe),Cwe="Invariant failed";function om(t,e){throw new Error(Cwe)}var Awe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fv(t){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function P2(){return P2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P2.apply(this,arguments)}function kwe(t,e){return Pwe(t)||Owe(t,e)||Twe(t,e)||jwe()}function jwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(t,e){if(t){if(typeof t=="string")return H$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H$(t,e)}}function H$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Owe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Pwe(t){if(Array.isArray(t))return t}function Mwe(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rZ(r.key),r)}}function Lwe(t,e,n){return e&&Dwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fwe(t,e,n){return e=M2(e),Bwe(t,tZ()?Reflect.construct(e,n||[],M2(t).constructor):e.apply(t,n))}function Bwe(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $we(t)}function $we(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!t})()}function M2(t){return M2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M2(t)}function zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GO(t,e)}function GO(t,e){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GO(t,e)}function nZ(t,e,n){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=qwe(t,"string");return fv(e)=="symbol"?e:e+""}function qwe(t,e){if(fv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d_=(function(t){function e(){return Iwe(this,e),Fwe(this,e,arguments)}return zwe(e,t),Lwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,m=Mwe(r,Awe),p=Tr(m,!1);this.props.direction==="x"&&d.type!=="number"&&om();var b=c.map(function(v){var y=u(v,o),w=y.x,_=y.y,E=y.value,A=y.errorVal;if(!A)return null;var k=[],P,R;if(Array.isArray(A)){var T=kwe(A,2);P=T[0],R=T[1]}else P=R=A;if(s==="vertical"){var M=d.scale,B=_+i,O=B+a,F=B-a,q=M(E-P),z=M(E+R);k.push({x1:z,y1:O,x2:z,y2:F}),k.push({x1:q,y1:B,x2:z,y2:B}),k.push({x1:q,y1:O,x2:q,y2:F})}else if(s==="horizontal"){var K=f.scale,Z=w+i,H=Z-a,W=Z+a,Y=K(E-P),ge=K(E+R);k.push({x1:H,y1:ge,x2:W,y2:ge}),k.push({x1:Z,y1:Y,x2:Z,y2:ge}),k.push({x1:H,y1:Y,x2:W,y2:Y})}return Ce.createElement(ua,P2({className:"recharts-errorBar",key:"bar-".concat(k.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),k.map(function(Q){return Ce.createElement("line",P2({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return Ce.createElement(ua,{className:"recharts-errorBars"},b)}}])})(Ce.Component);nZ(d_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nZ(d_,"displayName","ErrorBar");function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function V$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(n),!0).forEach(function(r){Uwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uwe(t,e,n){return e=Hwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hwe(t){var e=Vwe(t,"string");return r0(e)=="symbol"?e:e+""}function Vwe(t,e){if(r0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(r0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iZ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=hl(n,Ug);if(!a)return null;var o=Ug.defaultProps,c=o!==void 0?xp(xp({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var m=f.item,p=f.props,b=p.sectors||p.data||[];return d.concat(b.map(function(v){return{type:a.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?xp(xp({},m),f.props):{},b=p.dataKey,v=p.name,y=p.legendType,w=p.hide;return{inactive:w,dataKey:b,type:c.iconType||y||"square",color:B4(f),value:v||b,payload:p}}),xp(xp(xp({},c),Ug.getWithHeight(a,i)),{},{payload:u,item:a})};function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function W$(t){return Ywe(t)||Gwe(t)||Kwe(t)||Wwe()}function Wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kwe(t,e){if(t){if(typeof t=="string")return YO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YO(t,e)}}function Gwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ywe(t){if(Array.isArray(t))return YO(t)}function YO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(n),!0).forEach(function(r){Vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vg(t,e,n){return e=Xwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xwe(t){var e=Zwe(t,"string");return i0(e)=="symbol"?e:e+""}function Zwe(t,e){if(i0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(i0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yu(t,e,n){return Or(t)||Or(e)?n:Ks(e)?rc(t,e,n):lr(e)?e(t):n}function vb(t,e,n,r){var i=Y1e(t,function(o){return Yu(o,e)});if(n==="number"){var s=i.filter(function(o){return Mt(o)||parseFloat(o)});return s.length?[l_(s),o_(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Or(o)}):i;return a.map(function(o){return Ks(o)||o instanceof Date?o:""})}var Qwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r?.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,m=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Hc(f-d)!==Hc(m-f)){var b=[];if(Hc(m-f)===Hc(c[1]-c[0])){p=m;var v=f+c[1]-c[0];b[0]=Math.min(v,(v+d)/2),b[1]=Math.max(v,(v+d)/2)}else{p=d;var y=m+c[1]-c[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=b[0]&&e<=b[1]){a=i[u].index;break}}else{var _=Math.min(d,m),E=Math.max(d,m);if(e>(_+f)/2&&e<=(E+f)/2){a=i[u].index;break}}}else for(var A=0;A<o;A++)if(A===0&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A>0&&A<o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2&&e<=(r[A].coordinate+r[A+1].coordinate)/2||A===o-1&&e>(r[A].coordinate+r[A-1].coordinate)/2){a=r[A].index;break}return a},B4=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?rs(rs({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:o;break;default:c=o;break}return c},Jwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),c=0,u=o.length;c<u;c++)for(var d=s[o[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var b=d[f[m]],v=b.items,y=b.cateAxisId,w=v.filter(function(R){return Yd(R.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,E=_!==void 0?rs(rs({},_),w[0].props):w[0].props,A=E.barSize,k=E[y];a[k]||(a[k]=[]);var P=Or(A)?n:A;a[k].push({item:w[0],stackList:w.slice(1),barSize:Or(P)?void 0:sm(P,r,0)})}}return a},e2e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,c=a.length;if(c<1)return null;var u=sm(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var m=!1,p=i/c,b=a.reduce(function(A,k){return A+k.barSize||0},0);b+=(c-1)*u,b>=i&&(b-=(c-1)*u,u=0),b>=i&&p>0&&(m=!0,p*=.9,b=c*p);var v=(i-b)/2>>0,y={offset:v-u,size:0};d=a.reduce(function(A,k){var P={item:k.item,position:{offset:y.offset+y.size+u,size:m?p:k.barSize}},R=[].concat(W$(A),[P]);return y=R[R.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){R.push({item:T,position:y})}),R},f)}else{var w=sm(r,i,0,!0);i-2*w-(c-1)*u<=0&&(u=0);var _=(i-2*w-(c-1)*u)/c;_>1&&(_>>=0);var E=o===+o?Math.min(_,o):_;d=a.reduce(function(A,k,P){var R=[].concat(W$(A),[{item:k.item,position:{offset:w+(_+u)*P+(_-E)/2,size:E}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(T){R.push({item:T,position:R[R.length-1].position})}),R},f)}return d},t2e=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,c=a-(o.left||0)-(o.right||0),u=iZ({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,p=u.align,b=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&p!=="center"&&Mt(e[p]))return rs(rs({},e),{},Vg({},p,e[p]+(f||0)));if((v==="horizontal"||v==="vertical"&&p==="center")&&b!=="middle"&&Mt(e[b]))return rs(rs({},e),{},Vg({},b,e[b]+(m||0)))}return e},n2e=function(e,n,r){return Or(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},sZ=function(e,n,r,i,s){var a=n.props.children,o=Wc(a,d_).filter(function(u){return n2e(i,s,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Yu(d,r);if(Or(f))return u;var m=Array.isArray(f)?[l_(f),o_(f)]:[f,f],p=c.reduce(function(b,v){var y=Yu(d,v,0),w=m[0]-Math.abs(Array.isArray(y)?y[0]:y),_=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},r2e=function(e,n,r,i,s){var a=n.map(function(o){return sZ(e,o,r,s,i)}).filter(function(o){return!Or(o)});return a&&a.length?a.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},aZ=function(e,n,r,i,s){var a=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&sZ(e,c,u,i)||vb(e,u,r,s)});if(r==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},oZ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},lZ=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,a,o=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(a=!0),c.coordinate});return s||o.push(n),a||o.push(r),o},Kd=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&o?.length>=2?Hc(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!lx(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:s?s[f]:f,index:m,offset:u}})},Vj=new WeakMap,I1=function(e,n){if(typeof n!="function")return e;Vj.has(e)||Vj.set(e,new WeakMap);var r=Vj.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},i2e=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Xb(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:A2(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:gb(),realScaleType:"point"}:s==="category"?{scale:Xb(),realScaleType:"band"}:{scale:A2(),realScaleType:"linear"};if(im(i)){var c="scale".concat(GN(i));return{scale:(P$[c]||gb)(),realScaleType:P$[c]?c:"point"}}return lr(i)?{scale:i}:{scale:gb(),realScaleType:"point"}},G$=1e-4,s2e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-G$,a=Math.max(i[0],i[1])+G$,o=e(n[0]),c=e(n[r-1]);(o<s||o>a||c<s||c>a)&&e.domain([n[0],n[r-1]])}},a2e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},o2e=function(e,n){if(!n||n.length!==2||!Mt(n[0])||!Mt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Mt(e[0])||e[0]<r)&&(s[0]=r),(!Mt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},l2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var c=lx(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=s,e[o][r][1]=s+c,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1])}},c2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=lx(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},u2e={sign:l2e,expand:Wge,none:iv,silhouette:Kge,wiggle:Gge,positive:c2e},d2e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=u2e[r],a=Vge().keys(i).value(function(o,c){return+Yu(o,c,0)}).order(EO).offset(s);return a(e)},f2e=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,c={},u=o.reduce(function(f,m){var p,b=(p=m.type)!==null&&p!==void 0&&p.defaultProps?rs(rs({},m.type.defaultProps),m.props):m.props,v=b.stackId,y=b.hide;if(y)return f;var w=b[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Ks(v)){var E=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(m),_.hasStack=!0,_.stackGroups[v]=E}else _.stackGroups[KN("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return rs(rs({},f),{},Vg({},w,_))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(v,y){var w=p.stackGroups[y];return rs(rs({},v),{},Vg({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:d2e(e,w.items,s)}))},b)}return rs(rs({},f),{},Vg({},m,p))},d)},h2e=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=_we(u,s,o);return e.domain([l_(d),o_(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),m=Ewe(f,s,o);return{niceTicks:m}}return null},Y$=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var c=Yu(a,n.dataKey,n.domain[o]);return Or(c)?null:n.scale(c)-s/2+i},p2e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},m2e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?rs(rs({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ks(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},g2e=function(e){return e.reduce(function(n,r){return[l_(r.concat([n[0]]).filter(Mt)),o_(r.concat([n[1]]).filter(Mt))]},[1/0,-1/0])},cZ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,c=o.reduce(function(u,d){var f=g2e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},X$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XO=function(e,n,r){if(lr(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Mt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(X$.test(e[0])){var s=+X$.exec(e[0])[1];i[0]=n[0]-s}else lr(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Mt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Z$.test(e[1])){var a=+Z$.exec(e[1])[1];i[1]=n[1]+a}else lr(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},R2=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=d4(n,function(f){return f.coordinate}),a=1/0,o=1,c=s.length;o<c;o++){var u=s[o],d=s[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Q$=function(e,n,r){return!e||!e.length||D4(e,rc(r,"type.defaultProps.domain"))?n:e},uZ=function(e,n){var r=e.type.defaultProps?rs(rs({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return rs(rs({},Tr(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:B4(e),value:Yu(n,i),type:c,payload:n,chartType:u,hide:d})};function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}function J$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(n),!0).forEach(function(r){v2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v2e(t,e,n){return e=y2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y2e(t){var e=b2e(t,"string");return s0(e)=="symbol"?e:e+""}function b2e(t,e){if(s0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2=Math.PI/180,x2e=function(e){return e*180/Math.PI},Aa=function(e,n,r,i){return{x:e+Math.cos(-I2*i)*r,y:n+Math.sin(-I2*i)*r}},w2e=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},S2e=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=w2e({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var c=(r-s)/o,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:o,angle:x2e(u),angleInRadian:u}},N2e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},_2e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},t7=function(e,n){var r=e.x,i=e.y,s=S2e({x:r,y:i},n),a=s.radius,o=s.angle,c=n.innerRadius,u=n.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=N2e(n),f=d.startAngle,m=d.endAngle,p=o,b;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;b=p>=m&&p<=f}return b?e7(e7({},n),{},{radius:a,angle:_2e(p,n)}):null};function a0(t){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(t)}var E2e=["offset"];function C2e(t){return T2e(t)||j2e(t)||k2e(t)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(t,e){if(t){if(typeof t=="string")return ZO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZO(t,e)}}function j2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T2e(t){if(Array.isArray(t))return ZO(t)}function ZO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O2e(t,e){if(t==null)return{};var n=P2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(n),!0).forEach(function(r){M2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M2e(t,e,n){return e=R2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R2e(t){var e=I2e(t,"string");return a0(e)=="symbol"?e:e+""}function I2e(t,e){if(a0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(a0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}var D2e=function(e){var n=e.value,r=e.formatter,i=Or(e.children)?n:e.children;return lr(r)?r(i):i},L2e=function(e,n){var r=Hc(n-e),i=Math.min(Math.abs(n-e),360);return r*i},F2e=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,b=c.endAngle,v=c.clockWise,y=(f+m)/2,w=L2e(p,b),_=w>=0?1:-1,E,A;i==="insideStart"?(E=p+_*a,A=v):i==="insideEnd"?(E=b-_*a,A=!v):i==="end"&&(E=b+_*a,A=v),A=w<=0?A:!A;var k=Aa(u,d,y,E),P=Aa(u,d,y,E+(A?1:-1)*359),R="M".concat(k.x,",").concat(k.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),T=Or(e.id)?KN("recharts-radial-line-"):e.id;return Ce.createElement("text",o0({},r,{dominantBaseline:"central",className:wr("recharts-radial-bar-label",o)}),Ce.createElement("defs",null,Ce.createElement("path",{id:T,d:R})),Ce.createElement("textPath",{xlinkHref:"#".concat(T)},n))},B2e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(i==="outside"){var p=Aa(a,o,u+r,m),b=p.x,v=p.y;return{x:b,y:v,textAnchor:b>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,w=Aa(a,o,y,m),_=w.x,E=w.y;return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},$2e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,m=f*i,p=f>0?"end":"start",b=f>0?"start":"end",v=u>=0?1:-1,y=v*i,w=v>0?"end":"start",_=v>0?"start":"end";if(s==="top"){var E={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Us(Us({},E),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var A={x:o+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:b};return Us(Us({},A),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var k={x:o-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Us(Us({},k),r?{width:Math.max(k.x-r.x,0),height:d}:{})}if(s==="right"){var P={x:o+u+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Us(Us({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:d}:{})}var R=r?{width:u,height:d}:{};return s==="insideLeft"?Us({x:o+y,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},R):s==="insideRight"?Us({x:o+u-y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},R):s==="insideTop"?Us({x:o+u/2,y:c+m,textAnchor:"middle",verticalAnchor:b},R):s==="insideBottom"?Us({x:o+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},R):s==="insideTopLeft"?Us({x:o+y,y:c+m,textAnchor:_,verticalAnchor:b},R):s==="insideTopRight"?Us({x:o+u-y,y:c+m,textAnchor:w,verticalAnchor:b},R):s==="insideBottomLeft"?Us({x:o+y,y:c+d-m,textAnchor:_,verticalAnchor:p},R):s==="insideBottomRight"?Us({x:o+u-y,y:c+d-m,textAnchor:w,verticalAnchor:p},R):Yv(s)&&(Mt(s.x)||Pp(s.x))&&(Mt(s.y)||Pp(s.y))?Us({x:o+sm(s.x,u),y:c+sm(s.y,d),textAnchor:"end",verticalAnchor:"end"},R):Us({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},z2e=function(e){return"cx"in e&&Mt(e.cx)};function Ka(t){var e=t.offset,n=e===void 0?5:e,r=O2e(t,E2e),i=Us({offset:n},r),s=i.viewBox,a=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!s||Or(o)&&Or(c)&&!S.isValidElement(u)&&!lr(u))return null;if(S.isValidElement(u))return S.cloneElement(u,i);var p;if(lr(u)){if(p=S.createElement(u,i),S.isValidElement(p))return p}else p=D2e(i);var b=z2e(s),v=Tr(i,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return F2e(i,p,v);var y=b?B2e(i):$2e(i);return Ce.createElement(x2,o0({className:wr("recharts-label",f)},v,y,{breakAll:m}),p)}Ka.displayName="Label";var dZ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,p=e.top,b=e.left,v=e.width,y=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(Mt(v)&&Mt(y)){if(Mt(f)&&Mt(m))return{x:f,y:m,width:v,height:y};if(Mt(p)&&Mt(b))return{x:p,y:b,width:v,height:y}}return Mt(f)&&Mt(m)?{x:f,y:m,width:0,height:0}:Mt(n)&&Mt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},q2e=function(e,n){return e?e===!0?Ce.createElement(Ka,{key:"label-implicit",viewBox:n}):Ks(e)?Ce.createElement(Ka,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===Ka?S.cloneElement(e,{key:"label-implicit",viewBox:n}):Ce.createElement(Ka,{key:"label-implicit",content:e,viewBox:n}):lr(e)?Ce.createElement(Ka,{key:"label-implicit",content:e,viewBox:n}):Yv(e)?Ce.createElement(Ka,o0({viewBox:n},e,{key:"label-implicit"})):null:null},U2e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=dZ(e),a=Wc(i,Ka).map(function(c,u){return S.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return a;var o=q2e(e.label,n||s);return[o].concat(C2e(a))};Ka.parseViewBox=dZ;Ka.renderCallByParent=U2e;var Wj,r7;function H2e(){if(r7)return Wj;r7=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Wj=t,Wj}var V2e=H2e();const W2e=Pr(V2e);function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}var K2e=["valueAccessor"],G2e=["data","dataKey","clockWise","id","textBreakAll"];function Y2e(t){return J2e(t)||Q2e(t)||Z2e(t)||X2e()}function X2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(t,e){if(t){if(typeof t=="string")return QO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(t,e)}}function Q2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J2e(t){if(Array.isArray(t))return QO(t)}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D2.apply(this,arguments)}function i7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i7(Object(n),!0).forEach(function(r){eSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eSe(t,e,n){return e=tSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tSe(t){var e=nSe(t,"string");return l0(e)=="symbol"?e:e+""}function nSe(t,e){if(l0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a7(t,e){if(t==null)return{};var n=rSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iSe=function(e){return Array.isArray(e.value)?W2e(e.value):e.value};function Hp(t){var e=t.valueAccessor,n=e===void 0?iSe:e,r=a7(t,K2e),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,c=r.textBreakAll,u=a7(r,G2e);return!i||!i.length?null:Ce.createElement(ua,{className:"recharts-label-list"},i.map(function(d,f){var m=Or(s)?n(d,f):Yu(d&&d.payload,s),p=Or(o)?{}:{id:"".concat(o,"-").concat(f)};return Ce.createElement(Ka,D2({},Tr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ka.parseViewBox(Or(a)?d:s7(s7({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Hp.displayName="LabelList";function sSe(t,e){return t?t===!0?Ce.createElement(Hp,{key:"labelList-implicit",data:e}):Ce.isValidElement(t)||lr(t)?Ce.createElement(Hp,{key:"labelList-implicit",data:e,content:t}):Yv(t)?Ce.createElement(Hp,D2({data:e},t,{key:"labelList-implicit"})):null:null}function aSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Wc(r,Hp).map(function(a,o){return S.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=sSe(t.label,e);return[s].concat(Y2e(i))}Hp.renderCallByParent=aSe;function c0(t){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c0(t)}function JO(){return JO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JO.apply(this,arguments)}function o7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(n),!0).forEach(function(r){oSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oSe(t,e,n){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=cSe(t,"string");return c0(e)=="symbol"?e:e+""}function cSe(t,e){if(c0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(c0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uSe=function(e,n){var r=Hc(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},D1=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/I2,m=u?s:s+a*f,p=Aa(n,r,d,m),b=Aa(n,r,i,m),v=u?s-a*f:s,y=Aa(n,r,d*Math.cos(f*I2),v);return{center:p,circleTangency:b,lineTangency:y,theta:f}},fZ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,c=uSe(a,o),u=a+c,d=Aa(n,r,s,a),f=Aa(n,r,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Aa(n,r,i,a),b=Aa(n,r,i,u);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},dSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Hc(d-u),m=D1({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),p=m.circleTangency,b=m.lineTangency,v=m.theta,y=D1({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),w=y.circleTangency,_=y.lineTangency,E=y.theta,A=c?Math.abs(u-d):Math.abs(u-d)-v-E;if(A<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):fZ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var k="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var P=D1({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),R=P.circleTangency,T=P.lineTangency,M=P.theta,B=D1({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),O=B.circleTangency,F=B.lineTangency,q=B.theta,z=c?Math.abs(u-d):Math.abs(u-d)-M-q;if(z<0&&a===0)return"".concat(k,"L").concat(n,",").concat(r,"Z");k+="L".concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else k+="L".concat(n,",").concat(r,"Z");return k},fSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hZ=function(e){var n=l7(l7({},fSe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(a<s||d===f)return null;var p=wr("recharts-sector",m),b=a-s,v=sm(o,b,0,!0),y;return v>0&&Math.abs(d-f)<360?y=dSe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(v,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=fZ({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),Ce.createElement("path",JO({},Tr(n,!0),{className:p,d:y,role:"img"}))};function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eP.apply(this,arguments)}function c7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return u0(e)=="symbol"?e:e+""}function mSe(t,e){if(u0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d7={curveBasisClosed:Rge,curveBasisOpen:Ige,curveBasis:Mge,curveBumpX:bge,curveBumpY:xge,curveLinearClosed:Dge,curveLinear:XN,curveMonotoneX:Lge,curveMonotoneY:Fge,curveNatural:Bge,curveStep:$ge,curveStepAfter:qge,curveStepBefore:zge},L1=function(e){return e.x===+e.x&&e.y===+e.y},Uy=function(e){return e.x},Hy=function(e){return e.y},gSe=function(e,n){if(lr(e))return e;var r="curve".concat(GN(e));return(r==="curveMonotone"||r==="curveBump")&&n?d7["".concat(r).concat(n==="vertical"?"Y":"X")]:d7[r]||XN},vSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=gSe(r,o),f=u?s.filter(function(v){return L1(v)}):s,m;if(Array.isArray(a)){var p=u?a.filter(function(v){return L1(v)}):a,b=f.map(function(v,y){return u7(u7({},v),{},{base:p[y]})});return o==="vertical"?m=k1().y(Hy).x1(Uy).x0(function(v){return v.base.x}):m=k1().x(Uy).y1(Hy).y0(function(v){return v.base.y}),m.defined(L1).curve(d),m(b)}return o==="vertical"&&Mt(a)?m=k1().y(Hy).x1(Uy).x0(a):Mt(a)?m=k1().x(Uy).y1(Hy).y0(a):m=yY().x(Uy).y(Hy),m.defined(L1).curve(d),m(f)},f7=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?vSe(e):i;return S.createElement("path",eP({},Tr(e,!1),l2(e),{className:wr("recharts-curve",n),d:a,ref:s}))},Kj={exports:{}},Gj,h7;function ySe(){if(h7)return Gj;h7=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gj=t,Gj}var Yj,p7;function bSe(){if(p7)return Yj;p7=1;var t=ySe();function e(){}function n(){}return n.resetWarningCache=e,Yj=function(){function r(a,o,c,u,d,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Yj}var m7;function xSe(){return m7||(m7=1,Kj.exports=bSe()()),Kj.exports}var wSe=xSe();const Fr=Pr(wSe);var SSe=Object.getOwnPropertyNames,NSe=Object.getOwnPropertySymbols,_Se=Object.prototype.hasOwnProperty;function g7(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function F1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function ESe(t){return t?.[Symbol.toStringTag]}function v7(t){return SSe(t).concat(NSe(t))}var CSe=Object.hasOwn||(function(t,e){return _Se.call(t,e)});function Am(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ASe="__v",kSe="__o",jSe="_owner",y7=Object.getOwnPropertyDescriptor,b7=Object.keys;function TSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function OSe(t,e){return Am(t.getTime(),e.getTime())}function PSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function MSe(t,e){return t===e}function x7(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,c=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var m=a.value,p=o.value;if(n.equals(m[0],p[0],c,f,t,e,n)&&n.equals(m[1],p[1],m[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var RSe=Am;function ISe(t,e,n){var r=b7(t),i=r.length;if(b7(e).length!==i)return!1;for(;i-- >0;)if(!pZ(t,e,n,r[i]))return!1;return!0}function Vy(t,e,n){var r=v7(t),i=r.length;if(v7(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!pZ(t,e,n,s)||(a=y7(t,s),o=y7(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function DSe(t,e){return Am(t.valueOf(),e.valueOf())}function LSe(t,e){return t.source===e.source&&t.flags===e.flags}function w7(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function FSe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function BSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function pZ(t,e,n,r){return(r===jSe||r===kSe||r===ASe)&&(t.$$typeof||e.$$typeof)?!0:CSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var $Se="[object Arguments]",zSe="[object Boolean]",qSe="[object Date]",USe="[object Error]",HSe="[object Map]",VSe="[object Number]",WSe="[object Object]",KSe="[object RegExp]",GSe="[object Set]",YSe="[object String]",XSe="[object URL]",ZSe=Array.isArray,S7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,N7=Object.assign,QSe=Object.prototype.toString.call.bind(Object.prototype.toString);function JSe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual,p=t.unknownTagComparators;return function(v,y,w){if(v===y)return!0;if(v==null||y==null)return!1;var _=typeof v;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?a(v,y,w):_==="function"?i(v,y,w):!1;var E=v.constructor;if(E!==y.constructor)return!1;if(E===Object)return o(v,y,w);if(ZSe(v))return e(v,y,w);if(S7!=null&&S7(v))return f(v,y,w);if(E===Date)return n(v,y,w);if(E===RegExp)return u(v,y,w);if(E===Map)return s(v,y,w);if(E===Set)return d(v,y,w);var A=QSe(v);if(A===qSe)return n(v,y,w);if(A===KSe)return u(v,y,w);if(A===HSe)return s(v,y,w);if(A===GSe)return d(v,y,w);if(A===WSe)return typeof v.then!="function"&&typeof y.then!="function"&&o(v,y,w);if(A===XSe)return m(v,y,w);if(A===USe)return r(v,y,w);if(A===$Se)return o(v,y,w);if(A===zSe||A===VSe||A===YSe)return c(v,y,w);if(p){var k=p[A];if(!k){var P=ESe(v);P&&(k=p[P])}if(k)return k(v,y,w)}return!1}}function eNe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Vy:TSe,areDatesEqual:OSe,areErrorsEqual:PSe,areFunctionsEqual:MSe,areMapsEqual:r?g7(x7,Vy):x7,areNumbersEqual:RSe,areObjectsEqual:r?Vy:ISe,arePrimitiveWrappersEqual:DSe,areRegExpsEqual:LSe,areSetsEqual:r?g7(w7,Vy):w7,areTypedArraysEqual:r?Vy:FSe,areUrlsEqual:BSe,unknownTagComparators:void 0};if(n&&(i=N7({},i,n(i))),e){var s=F1(i.areArraysEqual),a=F1(i.areMapsEqual),o=F1(i.areObjectsEqual),c=F1(i.areSetsEqual);i=N7({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:c})}return i}function tNe(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function nNe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:m,equals:i,meta:p,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,a)}}var rNe=zh();zh({strict:!0});zh({circular:!0});zh({circular:!0,strict:!0});zh({createInternalComparator:function(){return Am}});zh({strict:!0,createInternalComparator:function(){return Am}});zh({circular:!0,createInternalComparator:function(){return Am}});zh({circular:!0,createInternalComparator:function(){return Am},strict:!0});function zh(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=eNe(t),c=JSe(o),u=r?r(c):tNe(c);return nNe({circular:n,comparator:c,createState:i,equals:u,strict:a})}function iNe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):iNe(i)};requestAnimationFrame(r)}function tP(t){"@babel/helpers - typeof";return tP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tP(t)}function sNe(t){return cNe(t)||lNe(t)||oNe(t)||aNe()}function aNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oNe(t,e){if(t){if(typeof t=="string")return E7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E7(t,e)}}function E7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cNe(t){if(Array.isArray(t))return t}function uNe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=sNe(a),c=o[0],u=o.slice(1);if(typeof c=="number"){_7(i.bind(null,u),c);return}i(c),_7(i.bind(null,u));return}tP(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function C7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return e=dNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dNe(t){var e=fNe(t,"string");return d0(e)==="symbol"?e:String(e)}function fNe(t,e){if(d0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hNe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},pNe=function(e){return e},mNe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},yb=function(e,n){return Object.keys(n).reduce(function(r,i){return A7(A7({},r),{},mZ({},i,e(i,n[i])))},{})},k7=function(e,n,r){return e.map(function(i){return"".concat(mNe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function gNe(t,e){return bNe(t)||yNe(t,e)||gZ(t,e)||vNe()}function vNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function bNe(t){if(Array.isArray(t))return t}function xNe(t){return NNe(t)||SNe(t)||gZ(t)||wNe()}function wNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gZ(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function SNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NNe(t){if(Array.isArray(t))return nP(t)}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L2=1e-4,vZ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},yZ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},j7=function(e,n){return function(r){var i=vZ(e,n);return yZ(i,r)}},_Ne=function(e,n){return function(r){var i=vZ(e,n),s=[].concat(xNe(i.map(function(a,o){return a*o}).slice(1)),[0]);return yZ(s,r)}},T7=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=gNe(u,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=j7(i,a),m=j7(s,o),p=_Ne(i,a),b=function(w){return w>1?1:w<0?0:w},v=function(w){for(var _=w>1?1:w,E=_,A=0;A<8;++A){var k=f(E)-_,P=p(E);if(Math.abs(k-_)<L2||P<L2)return m(E);E=b(E-k/P)}return m(E)};return v.isStepper=!1,v},ENe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,c=function(d,f,m){var p=-(d-f)*r,b=m*s,v=m+(p-b)*o/1e3,y=m*o/1e3+d;return Math.abs(y-f)<L2&&Math.abs(v)<L2?[f,0]:[y,v]};return c.isStepper=!0,c.dt=o,c},CNe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return T7(i);case"spring":return ENe();default:if(i.split("(")[0]==="cubic-bezier")return T7(i)}return typeof i=="function"?i:null};function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function O7(t){return jNe(t)||kNe(t)||bZ(t)||ANe()}function ANe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jNe(t){if(Array.isArray(t))return iP(t)}function P7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(n),!0).forEach(function(r){rP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rP(t,e,n){return e=TNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TNe(t){var e=ONe(t,"string");return f0(e)==="symbol"?e:String(e)}function ONe(t,e){if(f0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(f0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PNe(t,e){return INe(t)||RNe(t,e)||bZ(t,e)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(t,e){if(t){if(typeof t=="string")return iP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iP(t,e)}}function iP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function INe(t){if(Array.isArray(t))return t}var F2=function(e,n,r){return e+(n-e)*r},sP=function(e){var n=e.from,r=e.to;return n!==r},DNe=function t(e,n,r){var i=yb(function(s,a){if(sP(a)){var o=e(a.from,a.to,a.velocity),c=PNe(o,2),u=c[0],d=c[1];return Sa(Sa({},a),{},{from:u,velocity:d})}return a},n);return r<1?yb(function(s,a){return sP(a)?Sa(Sa({},a),{},{velocity:F2(a.velocity,i[s].velocity,r),from:F2(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const LNe=(function(t,e,n,r,i){var s=hNe(t,e),a=s.reduce(function(y,w){return Sa(Sa({},y),{},rP({},w,[t[w],e[w]]))},{}),o=s.reduce(function(y,w){return Sa(Sa({},y),{},rP({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return yb(function(w,_){return _.from},o)},p=function(){return!Object.values(o).filter(sP).length},b=function(w){u||(u=w);var _=w-u,E=_/n.dt;o=DNe(n,o,E),i(Sa(Sa(Sa({},t),e),m())),u=w,p()||(c=requestAnimationFrame(f))},v=function(w){d||(d=w);var _=(w-d)/r,E=yb(function(k,P){return F2.apply(void 0,O7(P).concat([n(_)]))},a);if(i(Sa(Sa(Sa({},t),e),E)),_<1)c=requestAnimationFrame(f);else{var A=yb(function(k,P){return F2.apply(void 0,O7(P).concat([n(1)]))},a);i(Sa(Sa(Sa({},t),e),A))}};return f=n.isStepper?b:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}var FNe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function BNe(t,e){if(t==null)return{};var n=$Ne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xj(t){return HNe(t)||UNe(t)||qNe(t)||zNe()}function zNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qNe(t,e){if(t){if(typeof t=="string")return aP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(t,e)}}function UNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HNe(t){if(Array.isArray(t))return aP(t)}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M7(Object(n),!0).forEach(function(r){ib(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ib(t,e,n){return e=xZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xZ(r.key),r)}}function KNe(t,e,n){return e&&WNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xZ(t){var e=GNe(t,"string");return hv(e)==="symbol"?e:String(e)}function GNe(t,e){if(hv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oP(t,e)}function XNe(t){var e=ZNe();return function(){var r=B2(t),i;if(e){var s=B2(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lP(this,i)}}function lP(t,e){if(e&&(hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cP(t)}function cP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZNe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B2(t){return B2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B2(t)}var Th=(function(t){YNe(n,t);var e=XNe(n);function n(r,i){var s;VNe(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,m=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(cP(s)),s.changeStyle=s.changeStyle.bind(cP(s)),!o||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),lP(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},lP(s);s.state={style:c?ib({},c,u):u}}else s.state={style:{}};return s}return KNe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(o){if(!a){var p={style:c?ib({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(rNe(i.to,d)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||u?f:i.to;if(this.state&&m){var y={style:c?ib({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(y)}this.runAnimation(Rc(Rc({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,p=LNe(a,o,CNe(u),c,this.changeStyle),b=function(){s.stopJSAnimation=p()};this.manager.start([m,d,b,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(v,y,w){if(w===0)return v;var _=y.duration,E=y.easing,A=E===void 0?"ease":E,k=y.style,P=y.properties,R=y.onAnimationEnd,T=w>0?a[w-1]:y,M=P||Object.keys(k);if(typeof A=="function"||A==="spring")return[].concat(Xj(v),[s.runJSAnimation.bind(s,{from:T.style,to:k,duration:_,easing:A}),_]);var B=k7(M,_,A),O=Rc(Rc(Rc({},T.style),k),{},{transition:B});return[].concat(Xj(v),[O,_,R]).filter(pNe)};return this.manager.start([c].concat(Xj(a.reduce(p,[d,Math.max(m,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uNe());var s=i.begin,a=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,p=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=o?ib({},o,c):c,y=k7(Object.keys(v),a,u);b.start([d,s,Rc(Rc({},v),{},{transition:y}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=BNe(i,FNe),u=S.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||a<=0)return s;var f=function(p){var b=p.props,v=b.style,y=v===void 0?{}:v,w=b.className,_=S.cloneElement(p,Rc(Rc({},c),{},{style:Rc(Rc({},y),d),className:w}));return _};return u===1?f(S.Children.only(s)):Ce.createElement("div",null,S.Children.map(s,function(m){return f(m)}))}}]),n})(S.PureComponent);Th.displayName="Animate";Th.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Th.propTypes={from:Fr.oneOfType([Fr.object,Fr.string]),to:Fr.oneOfType([Fr.object,Fr.string]),attributeName:Fr.string,duration:Fr.number,begin:Fr.number,easing:Fr.oneOfType([Fr.string,Fr.func]),steps:Fr.arrayOf(Fr.shape({duration:Fr.number.isRequired,style:Fr.object.isRequired,easing:Fr.oneOfType([Fr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fr.func]),properties:Fr.arrayOf("string"),onAnimationEnd:Fr.func})),children:Fr.oneOfType([Fr.node,Fr.func]),isActive:Fr.bool,canBegin:Fr.bool,onAnimationEnd:Fr.func,shouldReAnimate:Fr.bool,onAnimationStart:Fr.func,onAnimationReStart:Fr.func};function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(this,arguments)}function QNe(t,e){return n_e(t)||t_e(t,e)||e_e(t,e)||JNe()}function JNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_e(t,e){if(t){if(typeof t=="string")return R7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R7(t,e)}}function R7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function n_e(t){if(Array.isArray(t))return t}function I7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(n),!0).forEach(function(r){r_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r_e(t,e,n){return e=i_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i_e(t){var e=s_e(t,"string");return h0(e)=="symbol"?e:e+""}function s_e(t,e){if(h0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(h0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L7=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=s[m]>a?a:s[m];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var b=Math.min(a,s);d="M ".concat(e,",").concat(n+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+c*b,",").concat(n,`
            L `).concat(e+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*b,`
            L `).concat(e+r,",").concat(n+i-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-c*b,",").concat(n+i,`
            L `).concat(e+c*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*b," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},a_e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,c=n.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+c),m=Math.max(a,a+c);return r>=u&&r<=d&&i>=f&&i<=m}return!1},o_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$4=function(e){var n=D7(D7({},o_e),e),r=S.useRef(),i=S.useState(-1),s=QNe(i,2),a=s[0],o=s[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,p=n.className,b=n.animationEasing,v=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var E=wr("recharts-rectangle",p);return _?Ce.createElement(Th,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:v,animationEasing:b,isActive:_},function(A){var k=A.width,P=A.height,R=A.x,T=A.y;return Ce.createElement(Th,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:w,easing:b},Ce.createElement("path",$2({},Tr(n,!0),{className:E,d:L7(R,T,k,P,m),ref:r})))}):Ce.createElement("path",$2({},Tr(n,!0),{className:E,d:L7(c,u,d,f,m)}))};function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uP.apply(this,arguments)}var wZ=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=wr("recharts-dot",s);return n===+n&&r===+r&&i===+i?S.createElement("circle",uP({},Tr(e,!1),l2(e),{className:a,cx:n,cy:r,r:i})):null};function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}var l_e=["x","y","top","left","width","height","className"];function dP(){return dP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dP.apply(this,arguments)}function F7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F7(Object(n),!0).forEach(function(r){u_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_e(t,e,n){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=f_e(t,"string");return p0(e)=="symbol"?e:e+""}function f_e(t,e){if(p0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h_e(t,e){if(t==null)return{};var n=p_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var m_e=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},g_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,p=m===void 0?0:m,b=e.className,v=h_e(e,l_e),y=c_e({x:r,y:s,top:o,left:u,width:f,height:p},v);return!Mt(r)||!Mt(s)||!Mt(f)||!Mt(p)||!Mt(o)||!Mt(u)?null:Ce.createElement("path",dP({},Tr(y,!0),{className:wr("recharts-cross",b),d:m_e(r,s,f,p,o,u)}))},Zj,B7;function v_e(){if(B7)return Zj;B7=1;var t=zY(),e=t(Object.getPrototypeOf,Object);return Zj=e,Zj}var Qj,$7;function y_e(){if($7)return Qj;$7=1;var t=cf(),e=v_e(),n=uf(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,c=a.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var f=e(d);if(f===null)return!0;var m=o.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==c}return Qj=u,Qj}var b_e=y_e();const x_e=Pr(b_e);var Jj,z7;function w_e(){if(z7)return Jj;z7=1;var t=cf(),e=uf(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return Jj=r,Jj}var S_e=w_e();const N_e=Pr(S_e);function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z2.apply(this,arguments)}function __e(t,e){return k_e(t)||A_e(t,e)||C_e(t,e)||E_e()}function E_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(t,e){if(t){if(typeof t=="string")return q7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q7(t,e)}}function q7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function k_e(t){if(Array.isArray(t))return t}function U7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(n),!0).forEach(function(r){j_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_e(t,e,n){return e=T_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T_e(t){var e=O_e(t,"string");return m0(e)=="symbol"?e:e+""}function O_e(t,e){if(m0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V7=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},P_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M_e=function(e){var n=H7(H7({},P_e),e),r=S.useRef(),i=S.useState(-1),s=__e(i,2),a=s[0],o=s[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&o(E)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,p=n.className,b=n.animationEasing,v=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var _=wr("recharts-trapezoid",p);return w?Ce.createElement(Th,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:v,animationEasing:b,isActive:w},function(E){var A=E.upperWidth,k=E.lowerWidth,P=E.height,R=E.x,T=E.y;return Ce.createElement(Th,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:b},Ce.createElement("path",z2({},Tr(n,!0),{className:_,d:V7(R,T,A,k,P),ref:r})))}):Ce.createElement("g",null,Ce.createElement("path",z2({},Tr(n,!0),{className:_,d:V7(c,u,d,f,m)})))},R_e=["option","shapeType","propTransformer","activeClassName","isActive"];function g0(t){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(t)}function I_e(t,e){if(t==null)return{};var n=D_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W7(Object(n),!0).forEach(function(r){L_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L_e(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=B_e(t,"string");return g0(e)=="symbol"?e:e+""}function B_e(t,e){if(g0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $_e(t,e){return q2(q2({},e),t)}function z_e(t,e){return t==="symbols"}function K7(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Ce.createElement($4,n);case"trapezoid":return Ce.createElement(M_e,n);case"sector":return Ce.createElement(hZ,n);case"symbols":if(z_e(e))return Ce.createElement(r4,n);break;default:return null}}function q_e(t){return S.isValidElement(t)?t.props:t}function U_e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$_e:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,c=I_e(t,R_e),u;if(S.isValidElement(e))u=S.cloneElement(e,q2(q2({},c),q_e(e)));else if(lr(e))u=e(c);else if(x_e(e)&&!N_e(e)){var d=i(e,c);u=Ce.createElement(K7,{shapeType:n,elementProps:d})}else{var f=c;u=Ce.createElement(K7,{shapeType:n,elementProps:f})}return o?Ce.createElement(ua,{className:a},u):u}function f_(t,e){return e!=null&&"trapezoids"in t.props}function h_(t,e){return e!=null&&"sectors"in t.props}function v0(t,e){return e!=null&&"points"in t.props}function H_e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function V_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function W_e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function K_e(t,e){var n;return f_(t,e)?n=H_e:h_(t,e)?n=V_e:v0(t,e)&&(n=W_e),n}function G_e(t,e){var n;return f_(t,e)?n="trapezoids":h_(t,e)?n="sectors":v0(t,e)&&(n="points"),n}function Y_e(t,e){if(f_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(h_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return v0(t,e)?e.payload:{}}function X_e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=G_e(n,e),s=Y_e(n,e),a=r.filter(function(c,u){var d=D4(s,c),f=n.props[i].filter(function(b){var v=K_e(n,e);return v(b,e)}),m=n.props[i].indexOf(f[f.length-1]),p=u===m;return d&&p}),o=r.indexOf(a[a.length-1]);return o}var e5,G7;function Z_e(){if(G7)return e5;G7=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var o=-1,c=e(t((i-r)/(s||1)),0),u=Array(c);c--;)u[a?c:++o]=r,r+=s;return u}return e5=n,e5}var t5,Y7;function SZ(){if(Y7)return t5;Y7=1;var t=rX(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return t5=r,t5}var n5,X7;function Q_e(){if(X7)return n5;X7=1;var t=Z_e(),e=e_(),n=SZ();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),t(s,a,o,i)}}return n5=r,n5}var r5,Z7;function J_e(){if(Z7)return r5;Z7=1;var t=Q_e(),e=t();return r5=e,r5}var eEe=J_e();const U2=Pr(eEe);function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function Q7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(n),!0).forEach(function(r){NZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e,n){return e=tEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tEe(t){var e=nEe(t,"string");return y0(e)=="symbol"?e:e+""}function nEe(t,e){if(y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rEe=["Webkit","Moz","O","ms"],iEe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=rEe.reduce(function(s,a){return J7(J7({},s),{},NZ({},a+r,n))},{});return i[e]=n,i};function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(this,arguments)}function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(r){fl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EZ(r.key),r)}}function aEe(t,e,n){return e&&tz(t.prototype,e),n&&tz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oEe(t,e,n){return e=V2(e),lEe(t,_Z()?Reflect.construct(e,n||[],V2(t).constructor):e.apply(t,n))}function lEe(t,e){if(e&&(pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cEe(t)}function cEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Z=function(){return!!t})()}function V2(t){return V2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V2(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fP(t,e)}function fP(t,e){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fP(t,e)}function fl(t,e,n){return e=EZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=dEe(t,"string");return pv(e)=="symbol"?e:e+""}function dEe(t,e){if(pv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=gb().domain(U2(0,c)).range([s,s+a-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},nz=function(e){return e.changedTouches&&!!e.changedTouches.length},mv=(function(t){function e(n){var r;return sEe(this,e),r=oEe(this,e,[n]),fl(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),fl(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),fl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a?.({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),fl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),fl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),fl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),fl(r,"handleSlideDragStart",function(i){var s=nz(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return uEe(e,t),aEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,s),m=Math.max(i,s),p=e.getIndexInRange(a,f),b=e.getIndexInRange(a,m);return{startIndex:p-p%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,c=Yu(s[r],o,r);return lr(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,b=c.onChange,v=r.pageX-s;v>0?v=Math.min(v,u+d-f-o,u+d-f-a):v<0&&(v=Math.max(v,u-a,u-o));var y=this.getIndex({startX:a+v,endX:o+v});(y.startIndex!==m||y.endIndex!==p)&&b&&b(y),this.setState({startX:a+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=nz(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,b=d.onChange,v=d.gap,y=d.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,f+m-p-u):_<0&&(_=Math.max(_,f-u)),w[a]=u+_;var E=this.getIndex(w),A=E.startIndex,k=E.endIndex,P=function(){var T=y.length-1;return a==="startX"&&(o>c?A%v===0:k%v===0)||o<c&&k===T||a==="endX"&&(o>c?k%v===0:A%v===0)||o>c&&k===T};this.setState(fl(fl({},a,u+_),"brushMoveStartX",r.pageX),function(){b&&P()&&b(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var m=f+r;if(!(m===-1||m>=o.length)){var p=o[m];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(fl({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,c=r.fill,u=r.stroke;return Ce.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,c=r.data,u=r.children,d=r.padding,f=S.Children.only(u);return f?Ce.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,b=c.data,v=c.startIndex,y=c.endIndex,w=Math.max(r,this.props.x),_=i5(i5({},Tr(this.props,!1)),{},{x:w,y:u,width:d,height:f}),E=p||"Min value: ".concat((s=b[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=b[y])===null||a===void 0?void 0:a.name);return Ce.createElement(ua,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),o.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return Ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,m=d.endX,p=5,b={pointerEvents:"none",fill:u};return Ce.createElement(ua,{className:"recharts-brush-texts"},Ce.createElement(x2,H2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:a+o/2},b),this.getTextOfTick(i)),Ce.createElement(x2,H2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:a+o/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,m=this.state,p=m.startX,b=m.endX,v=m.isTextActive,y=m.isSlideMoving,w=m.isTravellerMoving,_=m.isTravellerFocused;if(!i||!i.length||!Mt(o)||!Mt(c)||!Mt(u)||!Mt(d)||u<=0||d<=0)return null;var E=wr("recharts-brush",s),A=Ce.Children.count(a)===1,k=iEe("userSelect","none");return Ce.createElement(ua,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(v||y||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,c=r.stroke,u=Math.floor(s+o/2)-1;return Ce.createElement(Ce.Fragment,null,Ce.createElement("rect",{x:i,y:s,width:a,height:o,fill:c,stroke:"none"}),Ce.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),Ce.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return Ce.isValidElement(r)?s=Ce.cloneElement(r,i):lr(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return i5({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?fEe({data:s,width:a,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+a-c]);var m=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var c=Math.floor((a+o)/2);r[c]>i?o=c:a=c}return i>=r[o]?o:a}}])})(S.PureComponent);fl(mv,"displayName","Brush");fl(mv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var s5,rz;function hEe(){if(rz)return s5;rz=1;var t=u4();function e(n,r){var i;return t(n,function(s,a,o){return i=r(s,a,o),!i}),!!i}return s5=e,s5}var a5,iz;function pEe(){if(iz)return a5;iz=1;var t=RY(),e=Fh(),n=hEe(),r=Zo(),i=e_();function s(a,o,c){var u=r(a)?t:n;return c&&i(a,o,c)&&(o=void 0),u(a,e(o,3))}return a5=s,a5}var mEe=pEe();const gEe=Pr(mEe);var Uu=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},o5,sz;function vEe(){if(sz)return o5;sz=1;var t=QY();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return o5=e,o5}var l5,az;function yEe(){if(az)return l5;az=1;var t=vEe(),e=XY(),n=Fh();function r(i,s){var a={};return s=n(s,3),e(i,function(o,c,u){t(a,c,s(o,c,u))}),a}return l5=r,l5}var bEe=yEe();const xEe=Pr(bEe);var c5,oz;function wEe(){if(oz)return c5;oz=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return c5=t,c5}var u5,lz;function SEe(){if(lz)return u5;lz=1;var t=u4();function e(n,r){var i=!0;return t(n,function(s,a,o){return i=!!r(s,a,o),i}),i}return u5=e,u5}var d5,cz;function NEe(){if(cz)return d5;cz=1;var t=wEe(),e=SEe(),n=Fh(),r=Zo(),i=e_();function s(a,o,c){var u=r(a)?t:e;return c&&i(a,o,c)&&(o=void 0),u(a,n(o,3))}return d5=s,d5}var _Ee=NEe();const CZ=Pr(_Ee);var EEe=["x","y"];function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function hP(){return hP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hP.apply(this,arguments)}function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(n),!0).forEach(function(r){CEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CEe(t,e,n){return e=AEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AEe(t){var e=kEe(t,"string");return b0(e)=="symbol"?e:e+""}function kEe(t,e){if(b0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jEe(t,e){if(t==null)return{};var n=TEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OEe(t,e){var n=t.x,r=t.y,i=jEe(t,EEe),s="".concat(n),a=parseInt(s,10),o="".concat(r),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),m=parseInt(f,10);return Wy(Wy(Wy(Wy(Wy({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function dz(t){return Ce.createElement(U_e,hP({shapeType:"rectangle",propTransformer:OEe,activeClassName:"recharts-active-bar"},t))}var PEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Mt(r)||zme(r);return s?e(r,i):(s||om(),n)}},MEe=["value","background"],AZ;function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function REe(t,e){if(t==null)return{};var n=IEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W2(){return W2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W2.apply(this,arguments)}function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jZ(r.key),r)}}function LEe(t,e,n){return e&&hz(t.prototype,e),n&&hz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FEe(t,e,n){return e=K2(e),BEe(t,kZ()?Reflect.construct(e,n||[],K2(t).constructor):e.apply(t,n))}function BEe(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ee(t)}function $Ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kZ=function(){return!!t})()}function K2(t){return K2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K2(t)}function zEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pP(t,e)}function pP(t,e){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pP(t,e)}function uh(t,e,n){return e=jZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jZ(t){var e=qEe(t,"string");return gv(e)=="symbol"?e:e+""}function qEe(t,e){if(gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var km=(function(t){function e(){var n;DEe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=FEe(this,e,[].concat(i)),uh(n,"state",{isAnimationFinished:!1}),uh(n,"id",KN("recharts-bar-")),uh(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),uh(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return zEe(e,t),LEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Tr(this.props,!1);return r&&r.map(function(f,m){var p=m===c,b=p?u:a,v=ks(ks(ks({},d),f),{},{isActive:p,option:b,index:m,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Ce.createElement(ua,W2({className:"recharts-bar-rectangle"},c2(i.props,f,m),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(m)}),Ce.createElement(dz,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return Ce.createElement(Th,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,v=s.map(function(y,w){var _=m&&m[w];if(_){var E=sg(_.x,y.x),A=sg(_.y,y.y),k=sg(_.width,y.width),P=sg(_.height,y.height);return ks(ks({},y),{},{x:E(b),y:A(b),width:k(b),height:P(b)})}if(a==="horizontal"){var R=sg(0,y.height),T=R(b);return ks(ks({},y),{},{y:y.y+y.height-T,height:T})}var M=sg(0,y.width),B=M(b);return ks(ks({},y),{},{width:B})});return Ce.createElement(ua,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!D4(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,c=Tr(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,m=REe(u,MEe);if(!f)return null;var p=ks(ks(ks(ks(ks({},m),{},{fill:"#eee"},f),c),c2(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return Ce.createElement(dz,W2({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Wc(d,d_);if(!f)return null;var m=u==="vertical"?a[0].height/2:a[0].width/2,p=function(y,w){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:Yu(y,w)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Ce.createElement(ua,b,f.map(function(v){return Ce.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:o,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,m=r.height,p=r.isAnimationActive,b=r.background,v=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,w=wr("recharts-bar",a),_=o&&o.allowDataOverflow,E=c&&c.allowDataOverflow,A=_||E,k=Or(v)?this.id:v;return Ce.createElement(ua,{className:w},_||E?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(k)},Ce.createElement("rect",{x:_?u:u-f/2,y:E?d:d-m/2,width:_?f:f*2,height:E?m:m*2}))):null,Ce.createElement(ua,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(k,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,k),(!p||y)&&Hp.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(S.PureComponent);AZ=km;uh(km,"displayName","Bar");uh(km,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ux.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});uh(km,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,p=a2e(r,n);if(!p)return null;var b=e.layout,v=n.type.defaultProps,y=v!==void 0?ks(ks({},v),n.props):n.props,w=y.dataKey,_=y.children,E=y.minPointSize,A=b==="horizontal"?a:s,k=u?A.scale.domain():null,P=p2e({numericAxis:A}),R=Wc(_,h4),T=f.map(function(M,B){var O,F,q,z,K,Z;u?O=o2e(u[d+B],k):(O=Yu(M,w),Array.isArray(O)||(O=[P,O]));var H=PEe(E,AZ.defaultProps.minPointSize)(O[1],B);if(b==="horizontal"){var W,Y=[a.scale(O[0]),a.scale(O[1])],ge=Y[0],Q=Y[1];F=Y$({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:M,index:B}),q=(W=Q??ge)!==null&&W!==void 0?W:void 0,z=p.size;var I=ge-Q;if(K=Number.isNaN(I)?0:I,Z={x:F,y:a.y,width:z,height:a.height},Math.abs(H)>0&&Math.abs(K)<Math.abs(H)){var G=Hc(K||H)*(Math.abs(H)-Math.abs(K));q-=G,K+=G}}else{var ne=[s.scale(O[0]),s.scale(O[1])],ie=ne[0],he=ne[1];if(F=ie,q=Y$({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:M,index:B}),z=he-ie,K=p.size,Z={x:s.x,y:q,width:s.width,height:K},Math.abs(H)>0&&Math.abs(z)<Math.abs(H)){var J=Hc(z||H)*(Math.abs(H)-Math.abs(z));z+=J}}return ks(ks(ks({},M),{},{x:F,y:q,width:z,height:K,value:u?O:O[1],payload:M,background:Z},R&&R[B]&&R[B].props),{},{tooltipPayload:[uZ(n,M)],tooltipPosition:{x:F+z/2,y:q+K/2}})});return ks({data:T,layout:b},m)});function x0(t){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(t)}function UEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TZ(r.key),r)}}function HEe(t,e,n){return e&&pz(t.prototype,e),n&&pz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(n),!0).forEach(function(r){p_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t,e,n){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TZ(t){var e=VEe(t,"string");return x0(e)=="symbol"?e:e+""}function VEe(t,e){if(x0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WEe=function(e,n,r,i,s){var a=e.width,o=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},m=!!hl(u,km);return d.reduce(function(p,b){var v=n[b],y=v.orientation,w=v.domain,_=v.padding,E=_===void 0?{}:_,A=v.mirror,k=v.reversed,P="".concat(y).concat(A?"Mirror":""),R,T,M,B,O;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var F=w[1]-w[0],q=1/0,z=v.categoricalDomain.sort(Hme);if(z.forEach(function(ne,ie){ie>0&&(q=Math.min((ne||0)-(z[ie-1]||0),q))}),Number.isFinite(q)){var K=q/F,Z=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(R=K*Z/2),v.padding==="no-gap"){var H=sm(e.barCategoryGap,K*Z),W=K*Z/2;R=W-H-(W-H)/Z*H}}}i==="xAxis"?T=[r.left+(E.left||0)+(R||0),r.left+r.width-(E.right||0)-(R||0)]:i==="yAxis"?T=c==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(R||0),r.top+r.height-(E.bottom||0)-(R||0)]:T=v.range,k&&(T=[T[1],T[0]]);var Y=i2e(v,s,m),ge=Y.scale,Q=Y.realScaleType;ge.domain(w).range(T),s2e(ge);var I=h2e(ge,Fc(Fc({},v),{},{realScaleType:Q}));i==="xAxis"?(O=y==="top"&&!A||y==="bottom"&&A,M=r.left,B=f[P]-O*v.height):i==="yAxis"&&(O=y==="left"&&!A||y==="right"&&A,M=f[P]-O*v.width,B=r.top);var G=Fc(Fc(Fc({},v),I),{},{realScaleType:Q,x:M,y:B,scale:ge,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return G.bandSize=R2(G,I),!v.hide&&i==="xAxis"?f[P]+=(O?-1:1)*G.height:v.hide||(f[P]+=(O?-1:1)*G.width),Fc(Fc({},p),{},p_({},b,G))},{})},OZ=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},KEe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return OZ({x:n,y:r},{x:i,y:s})},PZ=(function(){function t(e){UEe(this,t),this.scale=e}return HEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();p_(PZ,"EPS",1e-4);var z4=function(e){var n=Object.keys(e).reduce(function(r,i){return Fc(Fc({},r),{},p_({},i,PZ.create(e[i])))},{});return Fc(Fc({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return xEe(i,function(c,u){return n[u].apply(c,{bandAware:a,position:o})})},isInRange:function(i){return CZ(i,function(s,a){return n[a].isInRange(s)})}})};function GEe(t){return(t%180+180)%180}var YEe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=GEe(i),a=s*Math.PI/180,o=Math.atan(r/n),c=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},f5,gz;function XEe(){if(gz)return f5;gz=1;var t=Fh(),e=cx(),n=QN();function r(i){return function(s,a,o){var c=Object(s);if(!e(s)){var u=t(a,3);s=n(s),a=function(f){return u(c[f],f,c)}}var d=i(s,a,o);return d>-1?c[u?s[d]:d]:void 0}}return f5=r,f5}var h5,vz;function ZEe(){if(vz)return h5;vz=1;var t=SZ();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return h5=e,h5}var p5,yz;function QEe(){if(yz)return p5;yz=1;var t=VY(),e=Fh(),n=ZEe(),r=Math.max;function i(s,a,o){var c=s==null?0:s.length;if(!c)return-1;var u=o==null?0:n(o);return u<0&&(u=r(c+u,0)),t(s,e(a,3),u)}return p5=i,p5}var m5,bz;function JEe(){if(bz)return m5;bz=1;var t=XEe(),e=QEe(),n=t(e);return m5=n,m5}var eCe=JEe();const tCe=Pr(eCe);var nCe=oY();const rCe=Pr(nCe);var iCe=rCe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),q4=S.createContext(void 0),U4=S.createContext(void 0),MZ=S.createContext(void 0),RZ=S.createContext({}),IZ=S.createContext(void 0),DZ=S.createContext(0),LZ=S.createContext(0),xz=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,c=e.width,u=e.height,d=iCe(s);return Ce.createElement(q4.Provider,{value:r},Ce.createElement(U4.Provider,{value:i},Ce.createElement(RZ.Provider,{value:s},Ce.createElement(MZ.Provider,{value:d},Ce.createElement(IZ.Provider,{value:a},Ce.createElement(DZ.Provider,{value:u},Ce.createElement(LZ.Provider,{value:c},o)))))))},sCe=function(){return S.useContext(IZ)},FZ=function(e){var n=S.useContext(q4);n==null&&om();var r=n[e];return r==null&&om(),r},aCe=function(){var e=S.useContext(q4);return ah(e)},oCe=function(){var e=S.useContext(U4),n=tCe(e,function(r){return CZ(r.domain,Number.isFinite)});return n||ah(e)},BZ=function(e){var n=S.useContext(U4);n==null&&om();var r=n[e];return r==null&&om(),r},lCe=function(){var e=S.useContext(MZ);return e},cCe=function(){return S.useContext(RZ)},H4=function(){return S.useContext(LZ)},V4=function(){return S.useContext(DZ)};function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function uCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zZ(r.key),r)}}function fCe(t,e,n){return e&&dCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hCe(t,e,n){return e=G2(e),pCe(t,$Z()?Reflect.construct(e,n||[],G2(t).constructor):e.apply(t,n))}function pCe(t,e){if(e&&(vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCe(t)}function mCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Z=function(){return!!t})()}function G2(t){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G2(t)}function gCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mP(t,e)}function mP(t,e){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mP(t,e)}function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){W4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W4(t,e,n){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=vCe(t,"string");return vv(e)=="symbol"?e:e+""}function vCe(t,e){if(vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yCe(t,e){return SCe(t)||wCe(t,e)||xCe(t,e)||bCe()}function bCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xCe(t,e){if(t){if(typeof t=="string")return Nz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nz(t,e)}}function Nz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function SCe(t){if(Array.isArray(t))return t}function gP(){return gP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gP.apply(this,arguments)}var NCe=function(e,n){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,n):lr(e)?r=e(n):r=Ce.createElement("line",gP({},n,{className:"recharts-reference-line-line"})),r},_Ce=function(e,n,r,i,s,a,o,c,u){var d=s.x,f=s.y,m=s.width,p=s.height;if(r){var b=u.y,v=e.y.apply(b,{position:a});if(Uu(u,"discard")&&!e.y.isInRange(v))return null;var y=[{x:d+m,y:v},{x:d,y:v}];return c==="left"?y.reverse():y}if(n){var w=u.x,_=e.x.apply(w,{position:a});if(Uu(u,"discard")&&!e.x.isInRange(_))return null;var E=[{x:_,y:f+p},{x:_,y:f}];return o==="top"?E.reverse():E}if(i){var A=u.segment,k=A.map(function(P){return e.apply(P,{position:a})});return Uu(u,"discard")&&gEe(k,function(P){return!e.isInRange(P)})?null:k}return null};function ECe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,c=t.alwaysShow,u=sCe(),d=FZ(i),f=BZ(s),m=lCe();if(!u||!m)return null;Xd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=z4({x:d.scale,y:f.scale}),b=Ks(e),v=Ks(n),y=r&&r.length===2,w=_Ce(p,b,v,y,m,t.position,d.orientation,f.orientation,t);if(!w)return null;var _=yCe(w,2),E=_[0],A=E.x,k=E.y,P=_[1],R=P.x,T=P.y,M=Uu(t,"hidden")?"url(#".concat(u,")"):void 0,B=Sz(Sz({clipPath:M},Tr(t,!0)),{},{x1:A,y1:k,x2:R,y2:T});return Ce.createElement(ua,{className:wr("recharts-reference-line",o)},NCe(a,B),Ka.renderCallByParent(t,KEe({x1:A,y1:k,x2:R,y2:T})))}var K4=(function(t){function e(){return uCe(this,e),hCe(this,e,arguments)}return gCe(e,t),fCe(e,[{key:"render",value:function(){return Ce.createElement(ECe,this.props)}}])})(Ce.Component);W4(K4,"displayName","ReferenceLine");W4(K4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function vP(){return vP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vP.apply(this,arguments)}function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ACe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UZ(r.key),r)}}function kCe(t,e,n){return e&&ACe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jCe(t,e,n){return e=Y2(e),TCe(t,qZ()?Reflect.construct(e,n||[],Y2(t).constructor):e.apply(t,n))}function TCe(t,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(t)}function OCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qZ=function(){return!!t})()}function Y2(t){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y2(t)}function PCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yP(t,e)}function yP(t,e){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yP(t,e)}function m_(t,e,n){return e=UZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UZ(t){var e=MCe(t,"string");return yv(e)=="symbol"?e:e+""}function MCe(t,e){if(yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RCe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=z4({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Uu(e,"discard")&&!a.isInRange(o)?null:o},g_=(function(t){function e(){return CCe(this,e),jCe(this,e,arguments)}return PCe(e,t),kCe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,c=r.clipPathId,u=Ks(i),d=Ks(s);if(Xd(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=RCe(this.props);if(!f)return null;var m=f.x,p=f.y,b=this.props,v=b.shape,y=b.className,w=Uu(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=Ez(Ez({clipPath:w},Tr(this.props,!0)),{},{cx:m,cy:p});return Ce.createElement(ua,{className:wr("recharts-reference-dot",y)},e.renderDot(v,_),Ka.renderCallByParent(this.props,{x:m-a,y:p-a,width:2*a,height:2*a}))}}])})(Ce.Component);m_(g_,"displayName","ReferenceDot");m_(g_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});m_(g_,"renderDot",function(t,e){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,e):lr(t)?n=t(e):n=Ce.createElement(wZ,vP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function bP(){return bP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bP.apply(this,arguments)}function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function Cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(n),!0).forEach(function(r){v_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ICe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VZ(r.key),r)}}function LCe(t,e,n){return e&&DCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FCe(t,e,n){return e=X2(e),BCe(t,HZ()?Reflect.construct(e,n||[],X2(t).constructor):e.apply(t,n))}function BCe(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ce(t)}function $Ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HZ=function(){return!!t})()}function X2(t){return X2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X2(t)}function zCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xP(t,e)}function xP(t,e){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xP(t,e)}function v_(t,e,n){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VZ(t){var e=qCe(t,"string");return bv(e)=="symbol"?e:e+""}function qCe(t,e){if(bv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UCe=function(e,n,r,i,s){var a=s.x1,o=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=z4({x:d.scale,y:f.scale}),p={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},b={x:n?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Uu(s,"discard")&&(!m.isInRange(p)||!m.isInRange(b))?null:OZ(p,b)},y_=(function(t){function e(){return ICe(this,e),FCe(this,e,arguments)}return zCe(e,t),LCe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Xd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ks(i),m=Ks(s),p=Ks(a),b=Ks(o),v=this.props.shape;if(!f&&!m&&!p&&!b&&!v)return null;var y=UCe(f,m,p,b,this.props);if(!y&&!v)return null;var w=Uu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Ce.createElement(ua,{className:wr("recharts-reference-area",c)},e.renderRect(v,Az(Az({clipPath:w},Tr(this.props,!0)),y)),Ka.renderCallByParent(this.props,y))}}])})(Ce.Component);v_(y_,"displayName","ReferenceArea");v_(y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v_(y_,"renderRect",function(t,e){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,e):lr(t)?n=t(e):n=Ce.createElement($4,bP({},e,{className:"recharts-reference-area-rect"})),n});function WZ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function HCe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return YEe(r,n)}function VCe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Z2(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function WCe(t,e){return WZ(t,e+1)}function KCe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,c=0,u=1,d=a,f=function(){var b=r?.[c];if(b===void 0)return{v:WZ(r,u)};var v=c,y,w=function(){return y===void 0&&(y=n(b,v)),y},_=b.coordinate,E=c===0||Z2(t,_,w,d,o);E||(c=0,d=a,u+=1),E&&(d=_+t*(w()/2+i),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(n),!0).forEach(function(r){GCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GCe(t,e,n){return e=YCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YCe(t){var e=XCe(t,"string");return w0(e)=="symbol"?e:e+""}function XCe(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZCe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,c=e.end,u=function(m){var p=s[m],b,v=function(){return b===void 0&&(b=n(p,m)),b};if(m===a-1){var y=t*(p.coordinate+t*v()/2-c);s[m]=p=Ha(Ha({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else s[m]=p=Ha(Ha({},p),{},{tickCoord:p.coordinate});var w=Z2(t,p.tickCoord,v,o,c);w&&(c=p.tickCoord-t*(v()/2+i),s[m]=Ha(Ha({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function QCe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,c=e.start,u=e.end;if(s){var d=r[o-1],f=n(d,o-1),m=t*(d.coordinate+t*f/2-u);a[o-1]=d=Ha(Ha({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var p=Z2(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),a[o-1]=Ha(Ha({},d),{},{isShow:!0}))}for(var b=s?o-1:o,v=function(_){var E=a[_],A,k=function(){return A===void 0&&(A=n(E,_)),A};if(_===0){var P=t*(E.coordinate-t*k()/2-c);a[_]=E=Ha(Ha({},E),{},{tickCoord:P<0?E.coordinate-P*t:E.coordinate})}else a[_]=E=Ha(Ha({},E),{},{tickCoord:E.coordinate});var R=Z2(t,E.tickCoord,k,c,u);R&&(c=E.tickCoord+t*(k()/2+i),a[_]=Ha(Ha({},E),{},{isShow:!0}))},y=0;y<b;y++)v(y);return a}function G4(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Mt(c)||ux.isSsr)return WCe(i,typeof c=="number"&&Mt(c)?c:0);var m=[],p=o==="top"||o==="bottom"?"width":"height",b=d&&p==="width"?mb(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(E,A){var k=lr(u)?u(E.value,A):E.value;return p==="width"?HCe(mb(k,{fontSize:e,letterSpacing:n}),b,f):mb(k,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Hc(i[1].coordinate-i[0].coordinate):1,w=VCe(s,y,p);return c==="equidistantPreserveStart"?KCe(y,w,v,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=QCe(y,w,v,i,a,c==="preserveStartEnd"):m=ZCe(y,w,v,i,a),m.filter(function(_){return _.isShow}))}var JCe=["viewBox"],eAe=["viewBox"],tAe=["ticks"];function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(n),!0).forEach(function(r){Y4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g5(t,e){if(t==null)return{};var n=nAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GZ(r.key),r)}}function iAe(t,e,n){return e&&Tz(t.prototype,e),n&&Tz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sAe(t,e,n){return e=Q2(e),aAe(t,KZ()?Reflect.construct(e,n||[],Q2(t).constructor):e.apply(t,n))}function aAe(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oAe(t)}function oAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KZ=function(){return!!t})()}function Q2(t){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q2(t)}function lAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wP(t,e)}function wP(t,e){return wP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wP(t,e)}function Y4(t,e,n){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=cAe(t,"string");return xv(e)=="symbol"?e:e+""}function cAe(t,e){if(xv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ey=(function(t){function e(n){var r;return rAe(this,e),r=sAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return lAe(e,t),iAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=g5(r,JCe),o=this.props,c=o.viewBox,u=g5(o,eAe);return!qg(s,c)||!qg(a,u)||!qg(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,p,b,v,y,w,_,E=f?-1:1,A=r.tickSize||d,k=Mt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=b=r.coordinate,y=a+ +!f*c,v=y-E*A,_=v-E*m,w=k;break;case"left":v=y=r.coordinate,b=s+ +!f*o,p=b-E*A,w=p-E*m,_=k;break;case"right":v=y=r.coordinate,b=s+ +f*o,p=b+E*A,w=p+E*m,_=k;break;default:p=b=r.coordinate,y=a+ +f*c,v=y+E*A,_=v+E*m,w=k;break}return{line:{x1:p,y1:v,x2:b,y2:y},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=qs(qs(qs({},Tr(this.props,!1)),Tr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=qs(qs({},f),{},{x1:i,y1:s+m*o,x2:i+a,y2:s+m*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=qs(qs({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return Ce.createElement("line",Pg({},f,{className:wr("recharts-cartesian-axis-line",rc(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,m=o.unit,p=G4(qs(qs({},this.props),{},{ticks:r}),i,s),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=Tr(this.props,!1),w=Tr(d,!1),_=qs(qs({},y),{},{fill:"none"},Tr(c,!1)),E=p.map(function(A,k){var P=a.getTickLineCoord(A),R=P.line,T=P.tick,M=qs(qs(qs(qs({textAnchor:b,verticalAnchor:v},y),{},{stroke:"none",fill:u},w),T),{},{index:k,payload:A,visibleTicksCount:p.length,tickFormatter:f});return Ce.createElement(ua,Pg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},c2(a.props,A,k)),c&&Ce.createElement("line",Pg({},_,R,{className:wr("recharts-cartesian-axis-tick-line",rc(c,"className"))})),d&&e.renderTickItem(d,M,"".concat(lr(f)?f(A.value,k):A.value).concat(m||"")))});return Ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,p=g5(f,tAe),b=m;return lr(c)&&(b=m&&m.length>0?c(this.props):c(p)),a<=0||o<=0||!b||!b.length?null:Ce.createElement(ua,{className:wr("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Ka.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=wr(i.className,"recharts-cartesian-axis-tick-value");return Ce.isValidElement(r)?a=Ce.cloneElement(r,qs(qs({},i),{},{className:o})):lr(r)?a=r(qs(qs({},i),{},{className:o})):a=Ce.createElement(x2,Pg({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(S.Component);Y4(ey,"displayName","CartesianAxis");Y4(ey,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uAe=["x1","y1","x2","y2","key"],dAe=["offset"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function Oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(n),!0).forEach(function(r){fAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fAe(t,e,n){return e=hAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hAe(t){var e=pAe(t,"string");return lm(e)=="symbol"?e:e+""}function pAe(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function Pz(t,e){if(t==null)return{};var n=mAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gAe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,c=e.ry;return Ce.createElement("rect",{x:i,y:s,ry:c,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YZ(t,e){var n;if(Ce.isValidElement(t))n=Ce.cloneElement(t,e);else if(lr(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,c=Pz(e,uAe),u=Tr(c,!1);u.offset;var d=Pz(u,dAe);n=Ce.createElement("line",Ip({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function vAe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=Ga(Ga({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(c),index:c});return YZ(i,u)});return Ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function yAe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,c){var u=Ga(Ga({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(c),index:c});return YZ(i,u)});return Ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function bAe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=o.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var b=!d[p+1],v=b?i+a-m:d[p+1]-m;if(v<=0)return null;var y=p%e.length;return Ce.createElement("rect",{key:"react-".concat(p),y:m,x:r,height:v,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function xAe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var b=!d[p+1],v=b?s+o-m:d[p+1]-m;if(v<=0)return null;var y=p%r.length;return Ce.createElement("rect",{key:"react-".concat(p),x:m,y:a,width:v,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wAe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return lZ(G4(Ga(Ga(Ga({},ey.defaultProps),r),{},{ticks:Kd(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},SAe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return lZ(G4(Ga(Ga(Ga({},ey.defaultProps),r),{},{ticks:Kd(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},lg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function XZ(t){var e,n,r,i,s,a,o=H4(),c=V4(),u=cCe(),d=Ga(Ga({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lg.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:lg.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:lg.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:lg.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:lg.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:lg.verticalFill,x:Mt(t.x)?t.x:u.left,y:Mt(t.y)?t.y:u.top,width:Mt(t.width)?t.width:u.width,height:Mt(t.height)?t.height:u.height}),f=d.x,m=d.y,p=d.width,b=d.height,v=d.syncWithTicks,y=d.horizontalValues,w=d.verticalValues,_=aCe(),E=oCe();if(!Mt(p)||p<=0||!Mt(b)||b<=0||!Mt(f)||f!==+f||!Mt(m)||m!==+m)return null;var A=d.verticalCoordinatesGenerator||wAe,k=d.horizontalCoordinatesGenerator||SAe,P=d.horizontalPoints,R=d.verticalPoints;if((!P||!P.length)&&lr(k)){var T=y&&y.length,M=k({yAxis:E?Ga(Ga({},E),{},{ticks:T?y:E.ticks}):void 0,width:o,height:c,offset:u},T?!0:v);Xd(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lm(M),"]")),Array.isArray(M)&&(P=M)}if((!R||!R.length)&&lr(A)){var B=w&&w.length,O=A({xAxis:_?Ga(Ga({},_),{},{ticks:B?w:_.ticks}):void 0,width:o,height:c,offset:u},B?!0:v);Xd(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lm(O),"]")),Array.isArray(O)&&(R=O)}return Ce.createElement("g",{className:"recharts-cartesian-grid"},Ce.createElement(gAe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Ce.createElement(vAe,Ip({},d,{offset:u,horizontalPoints:P,xAxis:_,yAxis:E})),Ce.createElement(yAe,Ip({},d,{offset:u,verticalPoints:R,xAxis:_,yAxis:E})),Ce.createElement(bAe,Ip({},d,{horizontalPoints:P})),Ce.createElement(xAe,Ip({},d,{verticalPoints:R})))}XZ.displayName="CartesianGrid";function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function NAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JZ(r.key),r)}}function EAe(t,e,n){return e&&_Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CAe(t,e,n){return e=J2(e),AAe(t,ZZ()?Reflect.construct(e,n||[],J2(t).constructor):e.apply(t,n))}function AAe(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kAe(t)}function kAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZZ=function(){return!!t})()}function J2(t){return J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J2(t)}function jAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}function SP(t,e){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SP(t,e)}function QZ(t,e,n){return e=JZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZ(t){var e=TAe(t,"string");return wv(e)=="symbol"?e:e+""}function TAe(t,e){if(wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NP(){return NP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NP.apply(this,arguments)}function OAe(t){var e=t.xAxisId,n=H4(),r=V4(),i=FZ(e);return i==null?null:S.createElement(ey,NP({},i,{className:wr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Kd(a,!0)}}))}var b_=(function(t){function e(){return NAe(this,e),CAe(this,e,arguments)}return jAe(e,t),EAe(e,[{key:"render",value:function(){return S.createElement(OAe,this.props)}}])})(S.Component);QZ(b_,"displayName","XAxis");QZ(b_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function PAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nQ(r.key),r)}}function RAe(t,e,n){return e&&MAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IAe(t,e,n){return e=eS(e),DAe(t,eQ()?Reflect.construct(e,n||[],eS(t).constructor):e.apply(t,n))}function DAe(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LAe(t)}function LAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!t})()}function eS(t){return eS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eS(t)}function FAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_P(t,e)}function _P(t,e){return _P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_P(t,e)}function tQ(t,e,n){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=BAe(t,"string");return Sv(e)=="symbol"?e:e+""}function BAe(t,e){if(Sv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EP.apply(this,arguments)}var $Ae=function(e){var n=e.yAxisId,r=H4(),i=V4(),s=BZ(n);return s==null?null:S.createElement(ey,EP({},s,{className:wr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Kd(o,!0)}}))},x_=(function(t){function e(){return PAe(this,e),IAe(this,e,arguments)}return FAe(e,t),RAe(e,[{key:"render",value:function(){return S.createElement($Ae,this.props)}}])})(S.Component);tQ(x_,"displayName","YAxis");tQ(x_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Mz(t){return HAe(t)||UAe(t)||qAe(t)||zAe()}function zAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qAe(t,e){if(t){if(typeof t=="string")return CP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CP(t,e)}}function UAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HAe(t){if(Array.isArray(t))return CP(t)}function CP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AP=function(e,n,r,i,s){var a=Wc(e,K4),o=Wc(e,g_),c=[].concat(Mz(a),Mz(o)),u=Wc(e,y_),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(v,y){if(y.props[d]===r&&Uu(y.props,"extendDomain")&&Mt(y.props[f])){var w=y.props[f];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},m)),u.length){var p="".concat(f,"1"),b="".concat(f,"2");m=u.reduce(function(v,y){if(y.props[d]===r&&Uu(y.props,"extendDomain")&&Mt(y.props[p])&&Mt(y.props[b])){var w=y.props[p],_=y.props[b];return[Math.min(v[0],w,_),Math.max(v[1],w,_)]}return v},m)}return s&&s.length&&(m=s.reduce(function(v,y){return Mt(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},m)),m},v5={exports:{}},Rz;function VAe(){return Rz||(Rz=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,m),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,b=new Array(p);m<p;m++)b[m]=f[m].fn;return b},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,m,p,b){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],w=arguments.length,_,E;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,p),!0;case 6:return y.fn.call(y.context,d,f,m,p,b),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];y.fn.apply(y.context,_)}else{var A=y.length,k;for(E=0;E<A;E++)switch(y[E].once&&this.removeListener(u,y[E].fn,void 0,!0),w){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,d);break;case 3:y[E].fn.call(y[E].context,d,f);break;case 4:y[E].fn.call(y[E].context,d,f,m);break;default:if(!_)for(k=1,_=new Array(w-1);k<w;k++)_[k-1]=arguments[k];y[E].fn.apply(y[E].context,_)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,m){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var b=this._events[p];if(b.fn)b.fn===d&&(!m||b.once)&&(!f||b.context===f)&&a(this,p);else{for(var v=0,y=[],w=b.length;v<w;v++)(b[v].fn!==d||m&&!b[v].once||f&&b[v].context!==f)&&y.push(b[v]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(v5)),v5.exports}var WAe=VAe();const KAe=Pr(WAe);var y5=new KAe,b5="recharts.syncMouseEvents";function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function GAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rQ(r.key),r)}}function XAe(t,e,n){return e&&YAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x5(t,e,n){return e=rQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rQ(t){var e=ZAe(t,"string");return S0(e)=="symbol"?e:e+""}function ZAe(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QAe=(function(){function t(){GAe(this,t),x5(this,"activeIndex",0),x5(this,"coordinateList",[]),x5(this,"layout","horizontal")}return XAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,m=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])})();function JAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Mt(r)&&Mt(i))return!0}return!1}function eke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function iQ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Aa(e,n,r,i),o=Aa(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function tke(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=Aa(o,c,u,f),p=Aa(o,c,d,f);r=m.x,i=m.y,s=p.x,a=p.y}else return iQ(e);return[{x:r,y:i},{x:s,y:a}]}function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function Iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(n),!0).forEach(function(r){nke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nke(t,e,n){return e=rke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rke(t){var e=ike(t,"string");return N0(e)=="symbol"?e:e+""}function ike(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ske(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var b,v=f7;if(m==="ScatterChart")b=a,v=g_e;else if(m==="BarChart")b=eke(f,a,c,d),v=$4;else if(f==="radial"){var y=iQ(a),w=y.cx,_=y.cy,E=y.radius,A=y.startAngle,k=y.endAngle;b={cx:w,cy:_,startAngle:A,endAngle:k,innerRadius:E,outerRadius:E},v=hZ}else b={points:tke(f,a,c)},v=f7;var P=B1(B1(B1(B1({stroke:"#ccc",pointerEvents:"none"},c),b),Tr(p,!1)),{},{payload:o,payloadIndex:u,className:wr("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,P):S.createElement(v,P)}var ake=["item"],oke=["children","className","width","height","style","compact","title","desc"];function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function Dz(t,e){return uke(t)||cke(t,e)||aQ(t,e)||lke()}function lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function uke(t){if(Array.isArray(t))return t}function Lz(t,e){if(t==null)return{};var n=dke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oQ(r.key),r)}}function pke(t,e,n){return e&&hke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mke(t,e,n){return e=tS(e),gke(t,sQ()?Reflect.construct(e,n||[],tS(t).constructor):e.apply(t,n))}function gke(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vke(t)}function vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sQ=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tS(t)}function yke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kP(t,e)}function kP(t,e){return kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kP(t,e)}function _v(t){return wke(t)||xke(t)||aQ(t)||bke()}function bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(t,e){if(t){if(typeof t=="string")return jP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(t,e)}}function xke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wke(t){if(Array.isArray(t))return jP(t)}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){jn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jn(t,e,n){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=Ske(t,"string");return Nv(e)=="symbol"?e:e+""}function Ske(t,e){if(Nv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nke={xAxis:["bottom","top"],yAxis:["left","right"]},_ke={width:"100%",height:"100%"},lQ={x:0,y:0};function $1(t){return t}var Eke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Cke=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return nt(nt(nt({},i),Aa(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var c=s.coordinate,u=i.angle;return nt(nt(nt({},i),Aa(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return lQ},w_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(_v(o),_v(u)):o},[]);return a.length>0?a:e&&e.length&&Mt(i)&&Mt(s)?e.slice(i,s+1):[]};function cQ(t){return t==="number"?[0,"auto"]:void 0}var TP=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=w_(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;m=gO(p,a.dataKey,i)}else m=f&&f[r]||o[r];return m?[].concat(_v(c),[uZ(u,m)]):c},[])},Bz=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=Eke(s,r),o=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Qwe(a,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=TP(e,n,d,f),p=Cke(r,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},Ake=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,p=oZ(d,s);return r.reduce(function(b,v){var y,w=v.type.defaultProps!==void 0?nt(nt({},v.type.defaultProps),v.props):v.props,_=w.type,E=w.dataKey,A=w.allowDataOverflow,k=w.allowDuplicatedCategory,P=w.scale,R=w.ticks,T=w.includeHidden,M=w[a];if(b[M])return b;var B=w_(e.data,{graphicalItems:i.filter(function(I){var G,ne=a in I.props?I.props[a]:(G=I.type.defaultProps)===null||G===void 0?void 0:G[a];return ne===M}),dataStartIndex:c,dataEndIndex:u}),O=B.length,F,q,z;JAe(w.domain,A,_)&&(F=XO(w.domain,null,A),p&&(_==="number"||P!=="auto")&&(z=vb(B,E,"category")));var K=cQ(_);if(!F||F.length===0){var Z,H=(Z=w.domain)!==null&&Z!==void 0?Z:K;if(E){if(F=vb(B,E,_),_==="category"&&p){var W=Ume(F);k&&W?(q=F,F=U2(0,O)):k||(F=Q$(H,F,v).reduce(function(I,G){return I.indexOf(G)>=0?I:[].concat(_v(I),[G])},[]))}else if(_==="category")k?F=F.filter(function(I){return I!==""&&!Or(I)}):F=Q$(H,F,v).reduce(function(I,G){return I.indexOf(G)>=0||G===""||Or(G)?I:[].concat(_v(I),[G])},[]);else if(_==="number"){var Y=r2e(B,i.filter(function(I){var G,ne,ie=a in I.props?I.props[a]:(G=I.type.defaultProps)===null||G===void 0?void 0:G[a],he="hide"in I.props?I.props.hide:(ne=I.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ie===M&&(T||!he)}),E,s,d);Y&&(F=Y)}p&&(_==="number"||P!=="auto")&&(z=vb(B,E,"category"))}else p?F=U2(0,O):o&&o[M]&&o[M].hasStack&&_==="number"?F=m==="expand"?[0,1]:cZ(o[M].stackGroups,c,u):F=aZ(B,i.filter(function(I){var G=a in I.props?I.props[a]:I.type.defaultProps[a],ne="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return G===M&&(T||!ne)}),_,d,!0);if(_==="number")F=AP(f,F,M,s,R),H&&(F=XO(H,F,A));else if(_==="category"&&H){var ge=H,Q=F.every(function(I){return ge.indexOf(I)>=0});Q&&(F=ge)}}return nt(nt({},b),{},jn({},M,nt(nt({},w),{},{axisType:s,domain:F,categoricalDomain:z,duplicateDomain:q,originalDomain:(y=w.domain)!==null&&y!==void 0?y:K,isCategorical:p,layout:d})))},{})},kke=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,m=w_(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=m.length,b=oZ(d,s),v=-1;return r.reduce(function(y,w){var _=w.type.defaultProps!==void 0?nt(nt({},w.type.defaultProps),w.props):w.props,E=_[a],A=cQ("number");if(!y[E]){v++;var k;return b?k=U2(0,p):o&&o[E]&&o[E].hasStack?(k=cZ(o[E].stackGroups,c,u),k=AP(f,k,E,s)):(k=XO(A,aZ(m,r.filter(function(P){var R,T,M=a in P.props?P.props[a]:(R=P.type.defaultProps)===null||R===void 0?void 0:R[a],B="hide"in P.props?P.props.hide:(T=P.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===E&&!B}),"number",d),i.defaultProps.allowDataOverflow),k=AP(f,k,E,s)),nt(nt({},y),{},jn({},E,nt(nt({axisType:s},i.defaultProps),{},{hide:!0,orientation:rc(Nke,"".concat(s,".").concat(v%2),null),domain:k,originalDomain:A,isCategorical:b,layout:d})))}return y},{})},jke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),m=Wc(d,s),p={};return m&&m.length?p=Ake(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=kke(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},Tke=function(e){var n=ah(e),r=Kd(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:d4(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:R2(n,r)}},$z=function(e){var n=e.children,r=e.defaultShowTooltip,i=hl(n,mv),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Oke=function(e){return!e||!e.length?!1:e.some(function(n){var r=Yd(n&&n.type);return r&&r.indexOf("Bar")>=0})},zz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Pke=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,c=o===void 0?{}:o,u=r.width,d=r.height,f=r.children,m=r.margin||{},p=hl(f,mv),b=hl(f,Ug),v=Object.keys(c).reduce(function(k,P){var R=c[P],T=R.orientation;return!R.mirror&&!R.hide?nt(nt({},k),{},jn({},T,k[T]+R.width)):k},{left:m.left||0,right:m.right||0}),y=Object.keys(a).reduce(function(k,P){var R=a[P],T=R.orientation;return!R.mirror&&!R.hide?nt(nt({},k),{},jn({},T,rc(k,"".concat(T))+R.height)):k},{top:m.top||0,bottom:m.bottom||0}),w=nt(nt({},y),v),_=w.bottom;p&&(w.bottom+=p.props.height||mv.defaultProps.height),b&&n&&(w=t2e(w,i,r,n));var E=u-w.left-w.right,A=d-w.top-w.bottom;return nt(nt({brushBottom:_},w),{},{width:Math.max(E,0),height:Math.max(A,0)})},Mke=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Rke=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(w,_){var E=_.graphicalItems,A=_.stackGroups,k=_.offset,P=_.updateId,R=_.dataStartIndex,T=_.dataEndIndex,M=w.barSize,B=w.layout,O=w.barGap,F=w.barCategoryGap,q=w.maxBarSize,z=zz(B),K=z.numericAxisName,Z=z.cateAxisName,H=Oke(E),W=[];return E.forEach(function(Y,ge){var Q=w_(w.data,{graphicalItems:[Y],dataStartIndex:R,dataEndIndex:T}),I=Y.type.defaultProps!==void 0?nt(nt({},Y.type.defaultProps),Y.props):Y.props,G=I.dataKey,ne=I.maxBarSize,ie=I["".concat(K,"Id")],he=I["".concat(Z,"Id")],J={},ue=c.reduce(function(Se,Te){var Ue=_["".concat(Te.axisType,"Map")],He=I["".concat(Te.axisType,"Id")];Ue&&Ue[He]||Te.axisType==="zAxis"||om();var qe=Ue[He];return nt(nt({},Se),{},jn(jn({},Te.axisType,qe),"".concat(Te.axisType,"Ticks"),Kd(qe)))},J),ae=ue[Z],X=ue["".concat(Z,"Ticks")],pe=A&&A[ie]&&A[ie].hasStack&&m2e(Y,A[ie].stackGroups),xe=Yd(Y.type).indexOf("Bar")>=0,De=R2(ae,X),Ee=[],de=H&&Jwe({barSize:M,stackGroups:A,totalSize:Mke(ue,Z)});if(xe){var Ge,Nt,it=Or(ne)?q:ne,Ye=(Ge=(Nt=R2(ae,X,!0))!==null&&Nt!==void 0?Nt:it)!==null&&Ge!==void 0?Ge:0;Ee=e2e({barGap:O,barCategoryGap:F,bandSize:Ye!==De?Ye:De,sizeList:de[he],maxBarSize:it}),Ye!==De&&(Ee=Ee.map(function(Se){return nt(nt({},Se),{},{position:nt(nt({},Se.position),{},{offset:Se.position.offset-Ye/2})})}))}var me=Y&&Y.type&&Y.type.getComposedData;me&&W.push({props:nt(nt({},me(nt(nt({},ue),{},{displayedData:Q,props:w,dataKey:G,item:Y,bandSize:De,barPosition:Ee,offset:k,stackedData:pe,layout:B,dataStartIndex:R,dataEndIndex:T}))),{},jn(jn(jn({key:Y.key||"item-".concat(ge)},K,ue[K]),Z,ue[Z]),"animationId",P)),childIndex:tge(Y,w.children),item:Y})}),W},p=function(w,_){var E=w.props,A=w.dataStartIndex,k=w.dataEndIndex,P=w.updateId;if(!hF({props:E}))return null;var R=E.children,T=E.layout,M=E.stackOffset,B=E.data,O=E.reverseStackOrder,F=zz(T),q=F.numericAxisName,z=F.cateAxisName,K=Wc(R,r),Z=f2e(B,K,"".concat(q,"Id"),"".concat(z,"Id"),M,O),H=c.reduce(function(I,G){var ne="".concat(G.axisType,"Map");return nt(nt({},I),{},jn({},ne,jke(E,nt(nt({},G),{},{graphicalItems:K,stackGroups:G.axisType===q&&Z,dataStartIndex:A,dataEndIndex:k}))))},{}),W=Pke(nt(nt({},H),{},{props:E,graphicalItems:K}),_?.legendBBox);Object.keys(H).forEach(function(I){H[I]=d(E,H[I],W,I.replace("Map",""),n)});var Y=H["".concat(z,"Map")],ge=Tke(Y),Q=m(E,nt(nt({},H),{},{dataStartIndex:A,dataEndIndex:k,updateId:P,graphicalItems:K,stackGroups:Z,offset:W}));return nt(nt({formattedGraphicalItems:Q,graphicalItems:K,offset:W,stackGroups:Z},ge),H)},b=(function(y){function w(_){var E,A,k;return fke(this,w),k=mke(this,w,[_]),jn(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jn(k,"accessibilityManager",new QAe),jn(k,"handleLegendBBoxUpdate",function(P){if(P){var R=k.state,T=R.dataStartIndex,M=R.dataEndIndex,B=R.updateId;k.setState(nt({legendBBox:P},p({props:k.props,dataStartIndex:T,dataEndIndex:M,updateId:B},nt(nt({},k.state),{},{legendBBox:P}))))}}),jn(k,"handleReceiveSyncEvent",function(P,R,T){if(k.props.syncId===P){if(T===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(R)}}),jn(k,"handleBrushChange",function(P){var R=P.startIndex,T=P.endIndex;if(R!==k.state.dataStartIndex||T!==k.state.dataEndIndex){var M=k.state.updateId;k.setState(function(){return nt({dataStartIndex:R,dataEndIndex:T},p({props:k.props,dataStartIndex:R,dataEndIndex:T,updateId:M},k.state))}),k.triggerSyncEvent({dataStartIndex:R,dataEndIndex:T})}}),jn(k,"handleMouseEnter",function(P){var R=k.getMouseInfo(P);if(R){var T=nt(nt({},R),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var M=k.props.onMouseEnter;lr(M)&&M(T,P)}}),jn(k,"triggeredAfterMouseMove",function(P){var R=k.getMouseInfo(P),T=R?nt(nt({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(T),k.triggerSyncEvent(T);var M=k.props.onMouseMove;lr(M)&&M(T,P)}),jn(k,"handleItemMouseEnter",function(P){k.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),jn(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),jn(k,"handleMouseMove",function(P){P.persist(),k.throttleTriggeredAfterMouseMove(P)}),jn(k,"handleMouseLeave",function(P){k.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};k.setState(R),k.triggerSyncEvent(R);var T=k.props.onMouseLeave;lr(T)&&T(R,P)}),jn(k,"handleOuterEvent",function(P){var R=ege(P),T=rc(k.props,"".concat(R));if(R&&lr(T)){var M,B;/.*touch.*/i.test(R)?B=k.getMouseInfo(P.changedTouches[0]):B=k.getMouseInfo(P),T((M=B)!==null&&M!==void 0?M:{},P)}}),jn(k,"handleClick",function(P){var R=k.getMouseInfo(P);if(R){var T=nt(nt({},R),{},{isTooltipActive:!0});k.setState(T),k.triggerSyncEvent(T);var M=k.props.onClick;lr(M)&&M(T,P)}}),jn(k,"handleMouseDown",function(P){var R=k.props.onMouseDown;if(lr(R)){var T=k.getMouseInfo(P);R(T,P)}}),jn(k,"handleMouseUp",function(P){var R=k.props.onMouseUp;if(lr(R)){var T=k.getMouseInfo(P);R(T,P)}}),jn(k,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),jn(k,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseDown(P.changedTouches[0])}),jn(k,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseUp(P.changedTouches[0])}),jn(k,"handleDoubleClick",function(P){var R=k.props.onDoubleClick;if(lr(R)){var T=k.getMouseInfo(P);R(T,P)}}),jn(k,"handleContextMenu",function(P){var R=k.props.onContextMenu;if(lr(R)){var T=k.getMouseInfo(P);R(T,P)}}),jn(k,"triggerSyncEvent",function(P){k.props.syncId!==void 0&&y5.emit(b5,k.props.syncId,P,k.eventEmitterSymbol)}),jn(k,"applySyncEvent",function(P){var R=k.props,T=R.layout,M=R.syncMethod,B=k.state.updateId,O=P.dataStartIndex,F=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)k.setState(nt({dataStartIndex:O,dataEndIndex:F},p({props:k.props,dataStartIndex:O,dataEndIndex:F,updateId:B},k.state)));else if(P.activeTooltipIndex!==void 0){var q=P.chartX,z=P.chartY,K=P.activeTooltipIndex,Z=k.state,H=Z.offset,W=Z.tooltipTicks;if(!H)return;if(typeof M=="function")K=M(W,P);else if(M==="value"){K=-1;for(var Y=0;Y<W.length;Y++)if(W[Y].value===P.activeLabel){K=Y;break}}var ge=nt(nt({},H),{},{x:H.left,y:H.top}),Q=Math.min(q,ge.x+ge.width),I=Math.min(z,ge.y+ge.height),G=W[K]&&W[K].value,ne=TP(k.state,k.props.data,K),ie=W[K]?{x:T==="horizontal"?W[K].coordinate:Q,y:T==="horizontal"?I:W[K].coordinate}:lQ;k.setState(nt(nt({},P),{},{activeLabel:G,activeCoordinate:ie,activePayload:ne,activeTooltipIndex:K}))}else k.setState(P)}),jn(k,"renderCursor",function(P){var R,T=k.state,M=T.isTooltipActive,B=T.activeCoordinate,O=T.activePayload,F=T.offset,q=T.activeTooltipIndex,z=T.tooltipAxisBandSize,K=k.getTooltipEventType(),Z=(R=P.props.active)!==null&&R!==void 0?R:M,H=k.props.layout,W=P.key||"_recharts-cursor";return Ce.createElement(ske,{key:W,activeCoordinate:B,activePayload:O,activeTooltipIndex:q,chartName:n,element:P,isActive:Z,layout:H,offset:F,tooltipAxisBandSize:z,tooltipEventType:K})}),jn(k,"renderPolarAxis",function(P,R,T){var M=rc(P,"type.axisType"),B=rc(k.state,"".concat(M,"Map")),O=P.type.defaultProps,F=O!==void 0?nt(nt({},O),P.props):P.props,q=B&&B[F["".concat(M,"Id")]];return S.cloneElement(P,nt(nt({},q),{},{className:wr(M,q.className),key:P.key||"".concat(R,"-").concat(T),ticks:Kd(q,!0)}))}),jn(k,"renderPolarGrid",function(P){var R=P.props,T=R.radialLines,M=R.polarAngles,B=R.polarRadius,O=k.state,F=O.radiusAxisMap,q=O.angleAxisMap,z=ah(F),K=ah(q),Z=K.cx,H=K.cy,W=K.innerRadius,Y=K.outerRadius;return S.cloneElement(P,{polarAngles:Array.isArray(M)?M:Kd(K,!0).map(function(ge){return ge.coordinate}),polarRadius:Array.isArray(B)?B:Kd(z,!0).map(function(ge){return ge.coordinate}),cx:Z,cy:H,innerRadius:W,outerRadius:Y,key:P.key||"polar-grid",radialLines:T})}),jn(k,"renderLegend",function(){var P=k.state.formattedGraphicalItems,R=k.props,T=R.children,M=R.width,B=R.height,O=k.props.margin||{},F=M-(O.left||0)-(O.right||0),q=iZ({children:T,formattedGraphicalItems:P,legendWidth:F,legendContent:u});if(!q)return null;var z=q.item,K=Lz(q,ake);return S.cloneElement(z,nt(nt({},K),{},{chartWidth:M,chartHeight:B,margin:O,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),jn(k,"renderTooltip",function(){var P,R=k.props,T=R.children,M=R.accessibilityLayer,B=hl(T,Tu);if(!B)return null;var O=k.state,F=O.isTooltipActive,q=O.activeCoordinate,z=O.activePayload,K=O.activeLabel,Z=O.offset,H=(P=B.props.active)!==null&&P!==void 0?P:F;return S.cloneElement(B,{viewBox:nt(nt({},Z),{},{x:Z.left,y:Z.top}),active:H,label:K,payload:H?z:[],coordinate:q,accessibilityLayer:M})}),jn(k,"renderBrush",function(P){var R=k.props,T=R.margin,M=R.data,B=k.state,O=B.offset,F=B.dataStartIndex,q=B.dataEndIndex,z=B.updateId;return S.cloneElement(P,{key:P.key||"_recharts-brush",onChange:I1(k.handleBrushChange,P.props.onChange),data:M,x:Mt(P.props.x)?P.props.x:O.left,y:Mt(P.props.y)?P.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:Mt(P.props.width)?P.props.width:O.width,startIndex:F,endIndex:q,updateId:"brush-".concat(z)})}),jn(k,"renderReferenceElement",function(P,R,T){if(!P)return null;var M=k,B=M.clipPathId,O=k.state,F=O.xAxisMap,q=O.yAxisMap,z=O.offset,K=P.type.defaultProps||{},Z=P.props,H=Z.xAxisId,W=H===void 0?K.xAxisId:H,Y=Z.yAxisId,ge=Y===void 0?K.yAxisId:Y;return S.cloneElement(P,{key:P.key||"".concat(R,"-").concat(T),xAxis:F[W],yAxis:q[ge],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:B})}),jn(k,"renderActivePoints",function(P){var R=P.item,T=P.activePoint,M=P.basePoint,B=P.childIndex,O=P.isRange,F=[],q=R.props.key,z=R.item.type.defaultProps!==void 0?nt(nt({},R.item.type.defaultProps),R.item.props):R.item.props,K=z.activeDot,Z=z.dataKey,H=nt(nt({index:B,dataKey:Z,cx:T.x,cy:T.y,r:4,fill:B4(R.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Tr(K,!1)),l2(K));return F.push(w.renderActiveDot(K,H,"".concat(q,"-activePoint-").concat(B))),M?F.push(w.renderActiveDot(K,nt(nt({},H),{},{cx:M.x,cy:M.y}),"".concat(q,"-basePoint-").concat(B))):O&&F.push(null),F}),jn(k,"renderGraphicChild",function(P,R,T){var M=k.filterFormatItem(P,R,T);if(!M)return null;var B=k.getTooltipEventType(),O=k.state,F=O.isTooltipActive,q=O.tooltipAxis,z=O.activeTooltipIndex,K=O.activeLabel,Z=k.props.children,H=hl(Z,Tu),W=M.props,Y=W.points,ge=W.isRange,Q=W.baseLine,I=M.item.type.defaultProps!==void 0?nt(nt({},M.item.type.defaultProps),M.item.props):M.item.props,G=I.activeDot,ne=I.hide,ie=I.activeBar,he=I.activeShape,J=!!(!ne&&F&&H&&(G||ie||he)),ue={};B!=="axis"&&H&&H.props.trigger==="click"?ue={onClick:I1(k.handleItemMouseEnter,P.props.onClick)}:B!=="axis"&&(ue={onMouseLeave:I1(k.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:I1(k.handleItemMouseEnter,P.props.onMouseEnter)});var ae=S.cloneElement(P,nt(nt({},M.props),ue));function X(Te){return typeof q.dataKey=="function"?q.dataKey(Te.payload):null}if(J)if(z>=0){var pe,xe;if(q.dataKey&&!q.allowDuplicatedCategory){var De=typeof q.dataKey=="function"?X:"payload.".concat(q.dataKey.toString());pe=gO(Y,De,K),xe=ge&&Q&&gO(Q,De,K)}else pe=Y?.[z],xe=ge&&Q&&Q[z];if(he||ie){var Ee=P.props.activeIndex!==void 0?P.props.activeIndex:z;return[S.cloneElement(P,nt(nt(nt({},M.props),ue),{},{activeIndex:Ee})),null,null]}if(!Or(pe))return[ae].concat(_v(k.renderActivePoints({item:M,activePoint:pe,basePoint:xe,childIndex:z,isRange:ge})))}else{var de,Ge=(de=k.getItemByXY(k.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:ae},Nt=Ge.graphicalItem,it=Nt.item,Ye=it===void 0?P:it,me=Nt.childIndex,Se=nt(nt(nt({},M.props),ue),{},{activeIndex:me});return[S.cloneElement(Ye,Se),null,null]}return ge?[ae,null,null]:[ae,null]}),jn(k,"renderCustomized",function(P,R,T){return S.cloneElement(P,nt(nt({key:"recharts-customized-".concat(T)},k.props),k.state))}),jn(k,"renderMap",{CartesianGrid:{handler:$1,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:$1},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:$1},YAxis:{handler:$1},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:KN("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=iX(k.triggeredAfterMouseMove,(A=_.throttleDelay)!==null&&A!==void 0?A:1e3/60),k.state={},k}return yke(w,y),pke(w,[{key:"componentDidMount",value:function(){var E,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,A=E.children,k=E.data,P=E.height,R=E.layout,T=hl(A,Tu);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,O=TP(this.state,k,M,B),F=this.state.tooltipTicks[M].coordinate,q=(this.state.offset.top+P)/2,z=R==="horizontal",K=z?{x:F,y:q}:{y:F,x:q},Z=this.state.formattedGraphicalItems.find(function(W){var Y=W.item;return Y.type.name==="Scatter"});Z&&(K=nt(nt({},K),Z.props.points[M].tooltipPosition),O=Z.props.points[M].tooltipPayload);var H={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:B,activePayload:O,activeCoordinate:K};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var k,P;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(E){yO([hl(E.children,Tu)],[hl(this.props.children,Tu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=hl(this.props.children,Tu);if(E&&typeof E.props.shared=="boolean"){var A=E.props.shared?"axis":"item";return o.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var A=this.container,k=A.getBoundingClientRect(),P=qbe(k),R={chartX:Math.round(E.pageX-P.left),chartY:Math.round(E.pageY-P.top)},T=k.width/A.offsetWidth||1,M=this.inRange(R.chartX,R.chartY,T);if(!M)return null;var B=this.state,O=B.xAxisMap,F=B.yAxisMap,q=this.getTooltipEventType(),z=Bz(this.state,this.props.data,this.props.layout,M);if(q!=="axis"&&O&&F){var K=ah(O).scale,Z=ah(F).scale,H=K&&K.invert?K.invert(R.chartX):null,W=Z&&Z.invert?Z.invert(R.chartY):null;return nt(nt({},R),{},{xValue:H,yValue:W},z)}return z?nt(nt({},R),z):null}},{key:"inRange",value:function(E,A){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,R=E/k,T=A/k;if(P==="horizontal"||P==="vertical"){var M=this.state.offset,B=R>=M.left&&R<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return B?{x:R,y:T}:null}var O=this.state,F=O.angleAxisMap,q=O.radiusAxisMap;if(F&&q){var z=ah(F);return t7({x:R,y:T},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,A=this.getTooltipEventType(),k=hl(E,Tu),P={};k&&A==="axis"&&(k.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=l2(this.props,this.handleOuterEvent);return nt(nt({},R),P)}},{key:"addListener",value:function(){y5.on(b5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){y5.removeListener(b5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,A,k){for(var P=this.state.formattedGraphicalItems,R=0,T=P.length;R<T;R++){var M=P[R];if(M.item===E||M.props.key===E.key||A===Yd(M.item.type)&&k===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,A=this.state.offset,k=A.left,P=A.top,R=A.height,T=A.width;return Ce.createElement("defs",null,Ce.createElement("clipPath",{id:E},Ce.createElement("rect",{x:k,y:P,height:R,width:T})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(A,k){var P=Dz(k,2),R=P[0],T=P[1];return nt(nt({},A),{},jn({},R,T.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(A,k){var P=Dz(k,2),R=P[0],T=P[1];return nt(nt({},A),{},jn({},R,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(E){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(E){var A=this.state,k=A.formattedGraphicalItems,P=A.activeItem;if(k&&k.length)for(var R=0,T=k.length;R<T;R++){var M=k[R],B=M.props,O=M.item,F=O.type.defaultProps!==void 0?nt(nt({},O.type.defaultProps),O.props):O.props,q=Yd(O.type);if(q==="Bar"){var z=(B.data||[]).find(function(W){return a_e(E,W)});if(z)return{graphicalItem:M,payload:z}}else if(q==="RadialBar"){var K=(B.data||[]).find(function(W){return t7(E,W)});if(K)return{graphicalItem:M,payload:K}}else if(f_(M,P)||h_(M,P)||v0(M,P)){var Z=X_e({graphicalItem:M,activeTooltipItem:P,itemData:F.data}),H=F.activeIndex===void 0?Z:F.activeIndex;return{graphicalItem:nt(nt({},M),{},{childIndex:H}),payload:v0(M,P)?F.data[Z]:M.props.data[Z]}}}return null}},{key:"render",value:function(){var E=this;if(!hF(this))return null;var A=this.props,k=A.children,P=A.className,R=A.width,T=A.height,M=A.style,B=A.compact,O=A.title,F=A.desc,q=Lz(A,oke),z=Tr(q,!1);if(B)return Ce.createElement(xz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement(xO,Mg({},z,{width:R,height:T,title:O,desc:F}),this.renderClipPath(),mF(k,this.renderMap)));if(this.props.accessibilityLayer){var K,Z;z.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,z.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",z.onKeyDown=function(W){E.accessibilityManager.keyboardEvent(W)},z.onFocus=function(){E.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return Ce.createElement(xz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement("div",Mg({className:wr("recharts-wrapper",P),style:nt({position:"relative",cursor:"default",width:R,height:T},M)},H,{ref:function(Y){E.container=Y}}),Ce.createElement(xO,Mg({},z,{width:R,height:T,title:O,desc:F,style:_ke}),this.renderClipPath(),mF(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);jn(b,"displayName",n),jn(b,"defaultProps",nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),jn(b,"getDerivedStateFromProps",function(y,w){var _=y.dataKey,E=y.data,A=y.children,k=y.width,P=y.height,R=y.layout,T=y.stackOffset,M=y.margin,B=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var F=$z(y);return nt(nt(nt({},F),{},{updateId:0},p(nt(nt({props:y},F),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:E,prevWidth:k,prevHeight:P,prevLayout:R,prevStackOffset:T,prevMargin:M,prevChildren:A})}if(_!==w.prevDataKey||E!==w.prevData||k!==w.prevWidth||P!==w.prevHeight||R!==w.prevLayout||T!==w.prevStackOffset||!qg(M,w.prevMargin)){var q=$z(y),z={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},K=nt(nt({},Bz(w,E,R)),{},{updateId:w.updateId+1}),Z=nt(nt(nt({},q),z),K);return nt(nt(nt({},Z),p(nt({props:y},Z),w)),{},{prevDataKey:_,prevData:E,prevWidth:k,prevHeight:P,prevLayout:R,prevStackOffset:T,prevMargin:M,prevChildren:A})}if(!yO(A,w.prevChildren)){var H,W,Y,ge,Q=hl(A,mv),I=Q&&(H=(W=Q.props)===null||W===void 0?void 0:W.startIndex)!==null&&H!==void 0?H:B,G=Q&&(Y=(ge=Q.props)===null||ge===void 0?void 0:ge.endIndex)!==null&&Y!==void 0?Y:O,ne=I!==B||G!==O,ie=!Or(E),he=ie&&!ne?w.updateId:w.updateId+1;return nt(nt({updateId:he},p(nt(nt({props:y},w),{},{updateId:he,dataStartIndex:I,dataEndIndex:G}),w)),{},{prevChildren:A,dataStartIndex:I,dataEndIndex:G})}return null}),jn(b,"renderActiveDot",function(y,w,_){var E;return S.isValidElement(y)?E=S.cloneElement(y,w):lr(y)?E=y(w):E=Ce.createElement(wZ,w),Ce.createElement(ua,{className:"recharts-active-dot",key:_},E)});var v=S.forwardRef(function(w,_){return Ce.createElement(b,Mg({},w,{ref:_}))});return v.displayName=b.displayName,v},Ike=Rke({chartName:"BarChart",GraphicalChild:km,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:b_},{axisType:"yAxis",AxisComp:x_}],formatAxisMap:WEe});function Dke(){const{data:t,isLoading:e}=Sn({queryKey:["/api/dashboard/stats"]}),n=t?[{name:"Pendientes",value:t.tareasPendientes,fill:"hsl(var(--chart-4))"},{name:"En Progreso",value:t.tareasEnProgreso,fill:"hsl(var(--chart-2))"},{name:"Completadas",value:t.tareasCompletadas,fill:"hsl(var(--chart-3))"}]:[];return e?l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx(Vn,{className:"h-9 w-48 mb-2"}),l.jsx(Vn,{className:"h-5 w-96"})]}),l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((r,i)=>l.jsxs(dt,{children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[l.jsx(Vn,{className:"h-4 w-32"}),l.jsx(Vn,{className:"h-4 w-4"})]}),l.jsxs(ft,{children:[l.jsx(Vn,{className:"h-8 w-16 mb-2"}),l.jsx(Vn,{className:"h-3 w-24"})]})]},i))})]}):l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Dashboard"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen general de la actividad"})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(dt,{className:"hover-elevate",children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[l.jsx($t,{className:"text-sm font-medium",children:"Clientes Activos"}),l.jsx(pb,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ft,{children:[l.jsx("div",{className:"text-3xl font-bold",children:t?.clientesActivos||0}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.totalClientes||0," totales"]})]})]}),l.jsxs(dt,{className:"hover-elevate",children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[l.jsx($t,{className:"text-sm font-medium",children:"Impuestos Pendientes"}),l.jsx(Gc,{className:"h-4 w-4 text-chart-4"})]}),l.jsxs(ft,{children:[l.jsx("div",{className:"text-3xl font-bold text-chart-4",children:t?.impuestosPendientes||0}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"requieren atencin"})]})]}),l.jsxs(dt,{className:"hover-elevate",children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[l.jsx($t,{className:"text-sm font-medium",children:"Tareas Activas"}),l.jsx(Fg,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ft,{children:[l.jsx("div",{className:"text-3xl font-bold",children:(t?.tareasPendientes||0)+(t?.tareasEnProgreso||0)}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t?.tareasGenerales||0," generales, ",t?.tareasPersonales||0," personales"]})]})]}),l.jsxs(dt,{className:"hover-elevate",children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[l.jsx($t,{className:"text-sm font-medium",children:"Manuales"}),l.jsx(Xw,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ft,{children:[l.jsx("div",{className:"text-3xl font-bold",children:t?.manualesPublicados||0}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["de ",t?.manualesTotal||0," publicados"]})]})]})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[null,l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2",children:[l.jsx(mR,{className:"h-5 w-5"}),"Distribucin de Tareas"]})}),l.jsx(ft,{children:l.jsx(Ibe,{width:"100%",height:300,children:l.jsxs(Ike,{data:n,children:[l.jsx(XZ,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(b_,{dataKey:"name",className:"text-xs"}),l.jsx(x_,{className:"text-xs"}),l.jsx(Tu,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),l.jsx(km,{dataKey:"value",radius:[8,8,0,0],children:n.map((r,i)=>l.jsx(h4,{fill:r.fill},`cell-${i}`))})]})})})]})]})]})}var Pw={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Lke=Pw.exports,qz;function Fke(){return qz||(qz=1,(function(t,e){((n,r)=>{t.exports=r()})(Lke,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,o={},c=0,u={};function d(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(M){var B=k(M);B.chunkSize=parseInt(B.chunkSize),M.step||M.chunk||(B.chunkSize=null),this._handle=new v(B),(this._handle.streamer=this)._config=B}).call(this,T),this.parseChunk=function(M,B){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let q=this._config.newline;q||(F=this._config.quoteChar||'"',q=this._handle.guessLineEndings(M,F)),M=[...M.split(q).slice(O)].join(q)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(M))!==void 0&&(M=F),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+M,F=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(M=F.meta.cursor,O=(this._finished||(this._partialLine=O.substring(M-this._baseIndex),this._baseIndex=M),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:F,workerId:u.WORKER_ID,finished:O});else if(R(this._config.chunk)&&!B){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!O||!R(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(M){R(this._config.error)?this._config.error(M):a&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:M,finished:!1})}}function f(T){var M;(T=T||{}).chunkSize||(T.chunkSize=u.RemoteChunkSize),d.call(this,T),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),s||(M.onload=P(this._chunkLoaded,this),M.onerror=P(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var B,O=this._config.downloadRequestHeaders;for(B in O)M.setRequestHeader(B,O[B])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,M.setRequestHeader("Range","bytes="+this._start+"-"+F));try{M.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&M.status===0&&this._chunkError()}},this._chunkLoaded=function(){M.readyState===4&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize||M.responseText.length,this._finished=!this._config.chunkSize||this._start>=(B=>(B=B.getResponseHeader("Content-Range"))!==null?parseInt(B.substring(B.lastIndexOf("/")+1)):-1)(M),this.parseChunk(M.responseText)))},this._chunkError=function(B){B=M.statusText||B,this._sendError(new Error(B))}}function m(T){(T=T||{}).chunkSize||(T.chunkSize=u.LocalChunkSize),d.call(this,T);var M,B,O=typeof FileReader<"u";this.stream=function(F){this._input=F,B=F.slice||F.webkitSlice||F.mozSlice,O?((M=new FileReader).onload=P(this._chunkLoaded,this),M.onerror=P(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),F=B.call(F,this._start,q)),M.readAsText(F,this._config.encoding));O||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(M.error)}}function p(T){var M;d.call(this,T=T||{}),this.stream=function(B){return M=B,this._nextChunk()},this._nextChunk=function(){var B,O;if(!this._finished)return B=this._config.chunkSize,M=B?(O=M.substring(0,B),M.substring(B)):(O=M,""),this._finished=!M,this.parseChunk(O)}}function b(T){d.call(this,T=T||{});var M=[],B=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&M.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):B=!0},this._streamData=P(function(F){try{M.push(typeof F=="string"?F:F.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(q){this._streamError(q)}},this),this._streamError=P(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=P(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(T){var M,B,O,F,q=Math.pow(2,53),z=-q,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,W=0,Y=0,ge=!1,Q=!1,I=[],G={data:[],errors:[],meta:{}};function ne(ue){return T.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function ie(){if(G&&O&&(J("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),O=!1),T.skipEmptyLines&&(G.data=G.data.filter(function(pe){return!ne(pe)})),he()){let pe=function(xe,De){R(T.transformHeader)&&(xe=T.transformHeader(xe,De)),I.push(xe)};if(G)if(Array.isArray(G.data[0])){for(var ue=0;he()&&ue<G.data.length;ue++)G.data[ue].forEach(pe);G.data.splice(0,1)}else G.data.forEach(pe)}function ae(pe,xe){for(var De=T.header?{}:[],Ee=0;Ee<pe.length;Ee++){var de=Ee,Ge=pe[Ee],Ge=((Nt,it)=>(Ye=>(T.dynamicTypingFunction&&T.dynamicTyping[Ye]===void 0&&(T.dynamicTyping[Ye]=T.dynamicTypingFunction(Ye)),(T.dynamicTyping[Ye]||T.dynamicTyping)===!0))(Nt)?it==="true"||it==="TRUE"||it!=="false"&&it!=="FALSE"&&((Ye=>{if(K.test(Ye)&&(Ye=parseFloat(Ye),z<Ye&&Ye<q))return 1})(it)?parseFloat(it):Z.test(it)?new Date(it):it===""?null:it):it)(de=T.header?Ee>=I.length?"__parsed_extra":I[Ee]:de,Ge=T.transform?T.transform(Ge,de):Ge);de==="__parsed_extra"?(De[de]=De[de]||[],De[de].push(Ge)):De[de]=Ge}return T.header&&(Ee>I.length?J("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Ee,Y+xe):Ee<I.length&&J("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Ee,Y+xe)),De}var X;G&&(T.header||T.dynamicTyping||T.transform)&&(X=1,!G.data.length||Array.isArray(G.data[0])?(G.data=G.data.map(ae),X=G.data.length):G.data=ae(G.data,0),T.header&&G.meta&&(G.meta.fields=I),Y+=X)}function he(){return T.header&&I.length===0}function J(ue,ae,X,pe){ue={type:ue,code:ae,message:X},pe!==void 0&&(ue.row=pe),G.errors.push(ue)}R(T.step)&&(F=T.step,T.step=function(ue){G=ue,he()?ie():(ie(),G.data.length!==0&&(W+=ue.data.length,T.preview&&W>T.preview?B.abort():(G.data=G.data[0],F(G,H))))}),this.parse=function(ue,ae,X){var pe=T.quoteChar||'"',pe=(T.newline||(T.newline=this.guessLineEndings(ue,pe)),O=!1,T.delimiter?R(T.delimiter)&&(T.delimiter=T.delimiter(ue),G.meta.delimiter=T.delimiter):((pe=((xe,De,Ee,de,Ge)=>{var Nt,it,Ye,me;Ge=Ge||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Se=0;Se<Ge.length;Se++){for(var Te,Ue=Ge[Se],He=0,qe=0,Qe=0,xt=(Ye=void 0,new w({comments:de,delimiter:Ue,newline:De,preview:10}).parse(xe)),gt=0;gt<xt.data.length;gt++)Ee&&ne(xt.data[gt])?Qe++:(Te=xt.data[gt].length,qe+=Te,Ye===void 0?Ye=Te:0<Te&&(He+=Math.abs(Te-Ye),Ye=Te));0<xt.data.length&&(qe/=xt.data.length-Qe),(it===void 0||He<=it)&&(me===void 0||me<qe)&&1.99<qe&&(it=He,Nt=Ue,me=qe)}return{successful:!!(T.delimiter=Nt),bestDelimiter:Nt}})(ue,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=pe.bestDelimiter:(O=!0,T.delimiter=u.DefaultDelimiter),G.meta.delimiter=T.delimiter),k(T));return T.preview&&T.header&&pe.preview++,M=ue,B=new w(pe),G=B.parse(M,ae,X),ie(),ge?{meta:{paused:!0}}:G||{meta:{paused:!1}}},this.paused=function(){return ge},this.pause=function(){ge=!0,B.abort(),M=R(T.chunk)?"":M.substring(B.getCharIndex())},this.resume=function(){H.streamer._halted?(ge=!1,H.streamer.parseChunk(M,!0)):setTimeout(H.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,B.abort(),G.meta.aborted=!0,R(T.complete)&&T.complete(G),M=""},this.guessLineEndings=function(xe,pe){xe=xe.substring(0,1048576);var pe=new RegExp(y(pe)+"([^]*?)"+y(pe),"gm"),X=(xe=xe.replace(pe,"")).split("\r"),pe=xe.split(`
`),xe=1<pe.length&&pe[0].length<X[0].length;if(X.length===1||xe)return`
`;for(var De=0,Ee=0;Ee<X.length;Ee++)X[Ee][0]===`
`&&De++;return De>=X.length/2?`\r
`:"\r"}}function y(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(T){var M=(T=T||{}).delimiter,B=T.newline,O=T.comments,F=T.step,q=T.preview,z=T.fastMode,K=null,Z=!1,H=T.quoteChar==null?'"':T.quoteChar,W=H;if(T.escapeChar!==void 0&&(W=T.escapeChar),(typeof M!="string"||-1<u.BAD_DELIMITERS.indexOf(M))&&(M=","),O===M)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=!1),B!==`
`&&B!=="\r"&&B!==`\r
`&&(B=`
`);var Y=0,ge=!1;this.parse=function(Q,I,G){if(typeof Q!="string")throw new Error("Input must be a string");var ne=Q.length,ie=M.length,he=B.length,J=O.length,ue=R(F),ae=[],X=[],pe=[],xe=Y=0;if(!Q)return He();if(z||z!==!1&&Q.indexOf(H)===-1){for(var De=Q.split(B),Ee=0;Ee<De.length;Ee++){if(pe=De[Ee],Y+=pe.length,Ee!==De.length-1)Y+=B.length;else if(G)return He();if(!O||pe.substring(0,J)!==O){if(ue){if(ae=[],me(pe.split(M)),qe(),ge)return He()}else me(pe.split(M));if(q&&q<=Ee)return ae=ae.slice(0,q),He(!0)}}return He()}for(var de=Q.indexOf(M,Y),Ge=Q.indexOf(B,Y),Nt=new RegExp(y(W)+y(H),"g"),it=Q.indexOf(H,Y);;)if(Q[Y]===H)for(it=Y,Y++;;){if((it=Q.indexOf(H,it+1))===-1)return G||X.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:Y}),Te();if(it===ne-1)return Te(Q.substring(Y,it).replace(Nt,H));if(H===W&&Q[it+1]===W)it++;else if(H===W||it===0||Q[it-1]!==W){de!==-1&&de<it+1&&(de=Q.indexOf(M,it+1));var Ye=Se((Ge=Ge!==-1&&Ge<it+1?Q.indexOf(B,it+1):Ge)===-1?de:Math.min(de,Ge));if(Q.substr(it+1+Ye,ie)===M){pe.push(Q.substring(Y,it).replace(Nt,H)),Q[Y=it+1+Ye+ie]!==H&&(it=Q.indexOf(H,Y)),de=Q.indexOf(M,Y),Ge=Q.indexOf(B,Y);break}if(Ye=Se(Ge),Q.substring(it+1+Ye,it+1+Ye+he)===B){if(pe.push(Q.substring(Y,it).replace(Nt,H)),Ue(it+1+Ye+he),de=Q.indexOf(M,Y),it=Q.indexOf(H,Y),ue&&(qe(),ge))return He();if(q&&ae.length>=q)return He(!0);break}X.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:Y}),it++}}else if(O&&pe.length===0&&Q.substring(Y,Y+J)===O){if(Ge===-1)return He();Y=Ge+he,Ge=Q.indexOf(B,Y),de=Q.indexOf(M,Y)}else if(de!==-1&&(de<Ge||Ge===-1))pe.push(Q.substring(Y,de)),Y=de+ie,de=Q.indexOf(M,Y);else{if(Ge===-1)break;if(pe.push(Q.substring(Y,Ge)),Ue(Ge+he),ue&&(qe(),ge))return He();if(q&&ae.length>=q)return He(!0)}return Te();function me(Qe){ae.push(Qe),xe=Y}function Se(Qe){var xt=0;return xt=Qe!==-1&&(Qe=Q.substring(it+1,Qe))&&Qe.trim()===""?Qe.length:xt}function Te(Qe){return G||(Qe===void 0&&(Qe=Q.substring(Y)),pe.push(Qe),Y=ne,me(pe),ue&&qe()),He()}function Ue(Qe){Y=Qe,me(pe),pe=[],Ge=Q.indexOf(B,Y)}function He(Qe){if(T.header&&!I&&ae.length&&!Z){var xt=ae[0],gt=Object.create(null),At=new Set(xt);let Wt=!1;for(let _t=0;_t<xt.length;_t++){let An=xt[_t];if(gt[An=R(T.transformHeader)?T.transformHeader(An,_t):An]){let _n,Ft=gt[An];for(;_n=An+"_"+Ft,Ft++,At.has(_n););At.add(_n),xt[_t]=_n,gt[An]++,Wt=!0,(K=K===null?{}:K)[_n]=An}else gt[An]=1,xt[_t]=An;At.add(An)}Wt&&console.warn("Duplicate headers found and renamed."),Z=!0}return{data:ae,errors:X,meta:{delimiter:M,linebreak:B,aborted:ge,truncated:!!Qe,cursor:xe+(I||0),renamedHeaders:K}}}function qe(){F(He()),ae=[],X=[]}},this.abort=function(){ge=!0},this.getCharIndex=function(){return Y}}function _(T){var M=T.data,B=o[M.workerId],O=!1;if(M.error)B.userError(M.error,M.file);else if(M.results&&M.results.data){var F={abort:function(){O=!0,E(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(R(B.userStep)){for(var q=0;q<M.results.data.length&&(B.userStep({data:M.results.data[q],errors:M.results.errors,meta:M.results.meta},F),!O);q++);delete M.results}else R(B.userChunk)&&(B.userChunk(M.results,F,M.file),delete M.results)}M.finished&&!O&&E(M.workerId,M.results)}function E(T,M){var B=o[T];R(B.userComplete)&&B.userComplete(M),B.terminate(),delete o[T]}function A(){throw new Error("Not implemented.")}function k(T){if(typeof T!="object"||T===null)return T;var M,B=Array.isArray(T)?[]:{};for(M in T)B[M]=k(T[M]);return B}function P(T,M){return function(){T.apply(M,arguments)}}function R(T){return typeof T=="function"}return u.parse=function(T,M){var B=(M=M||{}).dynamicTyping||!1;if(R(B)&&(M.dynamicTypingFunction=B,B={}),M.dynamicTyping=B,M.transform=!!R(M.transform)&&M.transform,!M.worker||!u.WORKERS_SUPPORTED)return B=null,u.NODE_STREAM_INPUT,typeof T=="string"?(T=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(T),B=new(M.download?f:p)(M)):T.readable===!0&&R(T.read)&&R(T.on)?B=new b(M):(r.File&&T instanceof File||T instanceof Object)&&(B=new m(M)),B.stream(T);(B=(()=>{var O;return!!u.WORKERS_SUPPORTED&&(O=(()=>{var F=r.URL||r.webkitURL||null,q=n.toString();return u.BLOB_URL||(u.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=_,O.id=c++,o[O.id]=O)})()).userStep=M.step,B.userChunk=M.chunk,B.userComplete=M.complete,B.userError=M.error,M.step=R(M.step),M.chunk=R(M.chunk),M.complete=R(M.complete),M.error=R(M.error),delete M.worker,B.postMessage({input:T,config:M,workerId:B.id})},u.unparse=function(T,M){var B=!1,O=!0,F=",",q=`\r
`,z='"',K=z+z,Z=!1,H=null,W=!1,Y=((()=>{if(typeof M=="object"){if(typeof M.delimiter!="string"||u.BAD_DELIMITERS.filter(function(I){return M.delimiter.indexOf(I)!==-1}).length||(F=M.delimiter),typeof M.quotes!="boolean"&&typeof M.quotes!="function"&&!Array.isArray(M.quotes)||(B=M.quotes),typeof M.skipEmptyLines!="boolean"&&typeof M.skipEmptyLines!="string"||(Z=M.skipEmptyLines),typeof M.newline=="string"&&(q=M.newline),typeof M.quoteChar=="string"&&(z=M.quoteChar),typeof M.header=="boolean"&&(O=M.header),Array.isArray(M.columns)){if(M.columns.length===0)throw new Error("Option columns is empty");H=M.columns}M.escapeChar!==void 0&&(K=M.escapeChar+z),M.escapeFormulae instanceof RegExp?W=M.escapeFormulae:typeof M.escapeFormulae=="boolean"&&M.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(z),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return ge(null,T,Z);if(typeof T[0]=="object")return ge(H||Object.keys(T[0]),T,Z)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||H),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),ge(T.fields||[],T.data||[],Z);throw new Error("Unable to serialize unrecognized input");function ge(I,G,ne){var ie="",he=(typeof I=="string"&&(I=JSON.parse(I)),typeof G=="string"&&(G=JSON.parse(G)),Array.isArray(I)&&0<I.length),J=!Array.isArray(G[0]);if(he&&O){for(var ue=0;ue<I.length;ue++)0<ue&&(ie+=F),ie+=Q(I[ue],ue);0<G.length&&(ie+=q)}for(var ae=0;ae<G.length;ae++){var X=(he?I:G[ae]).length,pe=!1,xe=he?Object.keys(G[ae]).length===0:G[ae].length===0;if(ne&&!he&&(pe=ne==="greedy"?G[ae].join("").trim()==="":G[ae].length===1&&G[ae][0].length===0),ne==="greedy"&&he){for(var De=[],Ee=0;Ee<X;Ee++){var de=J?I[Ee]:Ee;De.push(G[ae][de])}pe=De.join("").trim()===""}if(!pe){for(var Ge=0;Ge<X;Ge++){0<Ge&&!xe&&(ie+=F);var Nt=he&&J?I[Ge]:Ge;ie+=Q(G[ae][Nt],Ge)}ae<G.length-1&&(!ne||0<X&&!xe)&&(ie+=q)}}return ie}function Q(I,G){var ne,ie;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(ie=!1,W&&typeof I=="string"&&W.test(I)&&(I="'"+I,ie=!0),ne=I.toString().replace(Y,K),(ie=ie||B===!0||typeof B=="function"&&B(I,G)||Array.isArray(B)&&B[G]||((he,J)=>{for(var ue=0;ue<J.length;ue++)if(-1<he.indexOf(J[ue]))return!0;return!1})(ne,u.BAD_DELIMITERS)||-1<ne.indexOf(F)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?z+ne+z:ne)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=w,u.ParserHandle=v,u.NetworkStreamer=f,u.FileStreamer=m,u.StringStreamer=p,u.ReadableStreamStreamer=b,r.jQuery&&((i=r.jQuery).fn.parse=function(T){var M=T.config||{},B=[];return this.each(function(q){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)B.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},M)})}),O(),this;function O(){if(B.length===0)R(T.complete)&&T.complete();else{var q,z,K,Z,H=B[0];if(R(T.before)){var W=T.before(H.file,H.inputElem);if(typeof W=="object"){if(W.action==="abort")return q="AbortError",z=H.file,K=H.inputElem,Z=W.reason,void(R(T.error)&&T.error({name:q},z,K,Z));if(W.action==="skip")return void F();typeof W.config=="object"&&(H.instanceConfig=i.extend(H.instanceConfig,W.config))}else if(W==="skip")return void F()}var Y=H.instanceConfig.complete;H.instanceConfig.complete=function(ge){R(Y)&&Y(ge,H.file,H.inputElem),F()},u.parse(H.file,H.instanceConfig)}}function F(){B.splice(0,1),O()}}),a&&(r.onmessage=function(T){T=T.data,u.WORKER_ID===void 0&&T&&(u.WORKER_ID=T.workerId),typeof T.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(T.input,T.config),finished:!0}):(r.File&&T.input instanceof File||T.input instanceof Object)&&(T=u.parse(T.input,T.config))&&r.postMessage({workerId:u.WORKER_ID,results:T,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(m.prototype=Object.create(d.prototype)).constructor=m,(p.prototype=Object.create(p.prototype)).constructor=p,(b.prototype=Object.create(d.prototype)).constructor=b,u})})(Pw)),Pw.exports}var Bke=Fke();const $ke=Pr(Bke),af=S.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:pt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));af.displayName="Textarea";const Bo=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:pt("w-full caption-bottom text-sm",t),...e})}));Bo.displayName="Table";const $o=S.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:pt("[&_tr]:border-b",t),...e}));$o.displayName="TableHeader";const zo=S.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:pt("[&_tr:last-child]:border-0",t),...e}));zo.displayName="TableBody";const zke=S.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:pt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));zke.displayName="TableFooter";const or=S.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:pt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));or.displayName="TableRow";const Pt=S.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:pt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Pt.displayName="TableHead";const St=S.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:pt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));St.displayName="TableCell";const qke=S.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:pt("mt-4 text-sm text-muted-foreground",t),...e}));qke.displayName="TableCaption";const Uke=Sm("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function bt({className:t,variant:e,...n}){return l.jsx("div",{className:pt(Uke({variant:e}),t),...n})}function _0(t,[e,n]){return Math.min(n,Math.max(e,t))}function S_(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Hke=[" ","Enter","ArrowUp","ArrowDown"],Vke=[" ","Enter"],cm="Select",[N_,__,Wke]=gN(cm),[ty]=bo(cm,[Wke,Hv]),E_=Hv(),[Kke,qh]=ty(cm),[Gke,Yke]=ty(cm),uQ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:b}=t,v=E_(e),[y,w]=S.useState(null),[_,E]=S.useState(null),[A,k]=S.useState(!1),P=sx(u),[R,T]=Kc({prop:r,defaultProp:i??!1,onChange:s,caller:cm}),[M,B]=Kc({prop:a,defaultProp:o,onChange:c,caller:cm}),O=S.useRef(null),F=y?b||!!y.closest("form"):!0,[q,z]=S.useState(new Set),K=Array.from(q).map(Z=>Z.props.value).join(";");return l.jsx(CR,{...v,children:l.jsxs(Kke,{required:p,scope:e,trigger:y,onTriggerChange:w,valueNode:_,onValueNodeChange:E,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:Xa(),value:M,onValueChange:B,open:R,onOpenChange:T,dir:P,triggerPointerDownPosRef:O,disabled:m,children:[l.jsx(N_.Provider,{scope:e,children:l.jsx(Gke,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(Z=>{z(H=>new Set(H).add(Z))},[]),onNativeOptionRemove:S.useCallback(Z=>{z(H=>{const W=new Set(H);return W.delete(Z),W})},[]),children:n})}),F?l.jsxs(RQ,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:Z=>B(Z.target.value),disabled:m,form:b,children:[M===void 0?l.jsx("option",{value:""}):null,Array.from(q)]},K):null]})})};uQ.displayName=cm;var dQ="SelectTrigger",fQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=E_(n),a=qh(dQ,n),o=a.disabled||r,c=zn(e,a.onTriggerChange),u=__(n),d=S.useRef("touch"),[f,m,p]=DQ(v=>{const y=u().filter(E=>!E.disabled),w=y.find(E=>E.value===a.value),_=LQ(y,v,w);_!==void 0&&a.onValueChange(_.value)}),b=v=>{o||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(AN,{asChild:!0,...s,children:l.jsx(Vt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":IQ(a.value)?"":void 0,...i,ref:c,onClick:qt(i.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&b(v)}),onPointerDown:qt(i.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:qt(i.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&Hke.includes(v.key)&&(b(),v.preventDefault())})})})});fQ.displayName=dQ;var hQ="SelectValue",pQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,c=qh(hQ,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=zn(e,c.onValueNodeChange);return bs(()=>{u(d)},[u,d]),l.jsx(Vt.span,{...o,ref:f,style:{pointerEvents:"none"},children:IQ(c.value)?l.jsx(l.Fragment,{children:a}):s})});pQ.displayName=hQ;var Xke="SelectIcon",mQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(Vt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});mQ.displayName=Xke;var Zke="SelectPortal",gQ=t=>l.jsx(X0,{asChild:!0,...t});gQ.displayName=Zke;var um="SelectContent",vQ=S.forwardRef((t,e)=>{const n=qh(um,t.__scopeSelect),[r,i]=S.useState();if(bs(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Uc.createPortal(l.jsx(yQ,{scope:t.__scopeSelect,children:l.jsx(N_.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(bQ,{...t,ref:e})});vQ.displayName=um;var Dc=10,[yQ,Uh]=ty(um),Qke="SelectContentImpl",Jke=em("SelectContent.RemoveScroll"),bQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:y,...w}=t,_=qh(um,n),[E,A]=S.useState(null),[k,P]=S.useState(null),R=zn(e,J=>A(J)),[T,M]=S.useState(null),[B,O]=S.useState(null),F=__(n),[q,z]=S.useState(!1),K=S.useRef(!1);S.useEffect(()=>{if(E)return LR(E)},[E]),DR();const Z=S.useCallback(J=>{const[ue,...ae]=F().map(xe=>xe.ref.current),[X]=ae.slice(-1),pe=document.activeElement;for(const xe of J)if(xe===pe||(xe?.scrollIntoView({block:"nearest"}),xe===ue&&k&&(k.scrollTop=0),xe===X&&k&&(k.scrollTop=k.scrollHeight),xe?.focus(),document.activeElement!==pe))return},[F,k]),H=S.useCallback(()=>Z([T,E]),[Z,T,E]);S.useEffect(()=>{q&&H()},[q,H]);const{onOpenChange:W,triggerPointerDownPosRef:Y}=_;S.useEffect(()=>{if(E){let J={x:0,y:0};const ue=X=>{J={x:Math.abs(Math.round(X.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(X.pageY)-(Y.current?.y??0))}},ae=X=>{J.x<=10&&J.y<=10?X.preventDefault():E.contains(X.target)||W(!1),document.removeEventListener("pointermove",ue),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ae,{capture:!0})}}},[E,W,Y]),S.useEffect(()=>{const J=()=>W(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[W]);const[ge,Q]=DQ(J=>{const ue=F().filter(pe=>!pe.disabled),ae=ue.find(pe=>pe.ref.current===document.activeElement),X=LQ(ue,J,ae);X&&setTimeout(()=>X.ref.current.focus())}),I=S.useCallback((J,ue,ae)=>{const X=!K.current&&!ae;(_.value!==void 0&&_.value===ue||X)&&(M(J),X&&(K.current=!0))},[_.value]),G=S.useCallback(()=>E?.focus(),[E]),ne=S.useCallback((J,ue,ae)=>{const X=!K.current&&!ae;(_.value!==void 0&&_.value===ue||X)&&O(J)},[_.value]),ie=r==="popper"?OP:xQ,he=ie===OP?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:y}:{};return l.jsx(yQ,{scope:n,content:E,viewport:k,onViewportChange:P,itemRefCallback:I,selectedItem:T,onItemLeave:G,itemTextRefCallback:ne,focusSelectedItem:H,selectedItemText:B,position:r,isPositioned:q,searchRef:ge,children:l.jsx(IN,{as:Jke,allowPinchZoom:!0,children:l.jsx(MN,{asChild:!0,trapped:_.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:qt(i,J=>{_.trigger?.focus({preventScroll:!0}),J.preventDefault()}),children:l.jsx(Bv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:l.jsx(ie,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:J=>J.preventDefault(),...w,...he,onPlaced:()=>z(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:qt(w.onKeyDown,J=>{const ue=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ue&&J.key.length===1&&Q(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let X=F().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const pe=J.target,xe=X.indexOf(pe);X=X.slice(xe+1)}setTimeout(()=>Z(X)),J.preventDefault()}})})})})})})});bQ.displayName=Qke;var eje="SelectItemAlignedPosition",xQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=qh(um,n),a=Uh(um,n),[o,c]=S.useState(null),[u,d]=S.useState(null),f=zn(e,R=>d(R)),m=__(n),p=S.useRef(!1),b=S.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:w,focusSelectedItem:_}=a,E=S.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&v&&y&&w){const R=s.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),M=s.valueNode.getBoundingClientRect(),B=w.getBoundingClientRect();if(s.dir!=="rtl"){const pe=B.left-T.left,xe=M.left-pe,De=R.left-xe,Ee=R.width+De,de=Math.max(Ee,T.width),Ge=window.innerWidth-Dc,Nt=_0(xe,[Dc,Math.max(Dc,Ge-de)]);o.style.minWidth=Ee+"px",o.style.left=Nt+"px"}else{const pe=T.right-B.right,xe=window.innerWidth-M.right-pe,De=window.innerWidth-R.right-xe,Ee=R.width+De,de=Math.max(Ee,T.width),Ge=window.innerWidth-Dc,Nt=_0(xe,[Dc,Math.max(Dc,Ge-de)]);o.style.minWidth=Ee+"px",o.style.right=Nt+"px"}const O=m(),F=window.innerHeight-Dc*2,q=v.scrollHeight,z=window.getComputedStyle(u),K=parseInt(z.borderTopWidth,10),Z=parseInt(z.paddingTop,10),H=parseInt(z.borderBottomWidth,10),W=parseInt(z.paddingBottom,10),Y=K+Z+q+W+H,ge=Math.min(y.offsetHeight*5,Y),Q=window.getComputedStyle(v),I=parseInt(Q.paddingTop,10),G=parseInt(Q.paddingBottom,10),ne=R.top+R.height/2-Dc,ie=F-ne,he=y.offsetHeight/2,J=y.offsetTop+he,ue=K+Z+J,ae=Y-ue;if(ue<=ne){const pe=O.length>0&&y===O[O.length-1].ref.current;o.style.bottom="0px";const xe=u.clientHeight-v.offsetTop-v.offsetHeight,De=Math.max(ie,he+(pe?G:0)+xe+H),Ee=ue+De;o.style.height=Ee+"px"}else{const pe=O.length>0&&y===O[0].ref.current;o.style.top="0px";const De=Math.max(ne,K+v.offsetTop+(pe?I:0)+he)+ae;o.style.height=De+"px",v.scrollTop=ue-ne+v.offsetTop}o.style.margin=`${Dc}px 0`,o.style.minHeight=ge+"px",o.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[m,s.trigger,s.valueNode,o,u,v,y,w,s.dir,r]);bs(()=>E(),[E]);const[A,k]=S.useState();bs(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const P=S.useCallback(R=>{R&&b.current===!0&&(E(),_?.(),b.current=!1)},[E,_]);return l.jsx(nje,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(Vt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});xQ.displayName=eje;var tje="SelectPopperPosition",OP=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Dc,...s}=t,a=E_(n);return l.jsx(AR,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});OP.displayName=tje;var[nje,X4]=ty(um,{}),PP="SelectViewport",wQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Uh(PP,n),a=X4(PP,n),o=zn(e,s.onViewportChange),c=S.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(N_.Slot,{scope:n,children:l.jsx(Vt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-Dc*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(v,y);if(w<b){const _=w+p,E=Math.min(b,_),A=_-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wQ.displayName=PP;var SQ="SelectGroup",[rje,ije]=ty(SQ),sje=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Xa();return l.jsx(rje,{scope:n,id:i,children:l.jsx(Vt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});sje.displayName=SQ;var NQ="SelectLabel",_Q=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ije(NQ,n);return l.jsx(Vt.div,{id:i.id,...r,ref:e})});_Q.displayName=NQ;var nS="SelectItem",[aje,EQ]=ty(nS),CQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=qh(nS,n),c=Uh(nS,n),u=o.value===r,[d,f]=S.useState(s??""),[m,p]=S.useState(!1),b=zn(e,_=>c.itemRefCallback?.(_,r,i)),v=Xa(),y=S.useRef("touch"),w=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(aje,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:S.useCallback(_=>{f(E=>E||(_?.textContent??"").trim())},[]),children:l.jsx(N_.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(Vt.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:b,onFocus:qt(a.onFocus,()=>p(!0)),onBlur:qt(a.onBlur,()=>p(!1)),onClick:qt(a.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:qt(a.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:qt(a.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:qt(a.onPointerMove,_=>{y.current=_.pointerType,i?c.onItemLeave?.():y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qt(a.onPointerLeave,_=>{_.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:qt(a.onKeyDown,_=>{c.searchRef?.current!==""&&_.key===" "||(Vke.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});CQ.displayName=nS;var sb="SelectItemText",AQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=qh(sb,n),o=Uh(sb,n),c=EQ(sb,n),u=Yke(sb,n),[d,f]=S.useState(null),m=zn(e,w=>f(w),c.onItemTextChange,w=>o.itemTextRefCallback?.(w,c.value,c.disabled)),p=d?.textContent,b=S.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return bs(()=>(v(b),()=>y(b)),[v,y,b]),l.jsxs(l.Fragment,{children:[l.jsx(Vt.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Uc.createPortal(s.children,a.valueNode):null]})});AQ.displayName=sb;var kQ="SelectItemIndicator",jQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return EQ(kQ,n).isSelected?l.jsx(Vt.span,{"aria-hidden":!0,...r,ref:e}):null});jQ.displayName=kQ;var MP="SelectScrollUpButton",TQ=S.forwardRef((t,e)=>{const n=Uh(MP,t.__scopeSelect),r=X4(MP,t.__scopeSelect),[i,s]=S.useState(!1),a=zn(e,r.onScrollButtonChange);return bs(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(PQ,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});TQ.displayName=MP;var RP="SelectScrollDownButton",OQ=S.forwardRef((t,e)=>{const n=Uh(RP,t.__scopeSelect),r=X4(RP,t.__scopeSelect),[i,s]=S.useState(!1),a=zn(e,r.onScrollButtonChange);return bs(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(PQ,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});OQ.displayName=RP;var PQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Uh("SelectScrollButton",n),a=S.useRef(null),o=__(n),c=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),bs(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),l.jsx(Vt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:qt(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:qt(i.onPointerLeave,()=>{c()})})}),oje="SelectSeparator",MQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(Vt.div,{"aria-hidden":!0,...r,ref:e})});MQ.displayName=oje;var IP="SelectArrow",lje=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=E_(n),s=qh(IP,n),a=Uh(IP,n);return s.open&&a.position==="popper"?l.jsx(kR,{...i,...r,ref:e}):null});lje.displayName=IP;var cje="SelectBubbleInput",RQ=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=S.useRef(null),s=zn(r,i),a=S_(e);return S.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(Vt.select,{...n,style:{...LV,...n.style},ref:s,defaultValue:e})});RQ.displayName=cje;function IQ(t){return t===""||t===void 0}function DQ(t){const e=Ts(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(a=>{const o=n.current+a;e(o),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(o)},[e]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function LQ(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=uje(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function uje(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dje=uQ,FQ=fQ,fje=pQ,hje=mQ,pje=gQ,BQ=vQ,mje=wQ,$Q=_Q,zQ=CQ,gje=AQ,vje=jQ,qQ=TQ,UQ=OQ,HQ=MQ;const Wn=dje,Kn=fje,Bn=S.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(FQ,{ref:r,className:pt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(hje,{asChild:!0,children:l.jsx(dW,{className:"h-4 w-4 opacity-50"})})]}));Bn.displayName=FQ.displayName;const VQ=S.forwardRef(({className:t,...e},n)=>l.jsx(qQ,{ref:n,className:pt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Ele,{className:"h-4 w-4"})}));VQ.displayName=qQ.displayName;const WQ=S.forwardRef(({className:t,...e},n)=>l.jsx(UQ,{ref:n,className:pt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(dW,{className:"h-4 w-4"})}));WQ.displayName=UQ.displayName;const $n=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(pje,{children:l.jsxs(BQ,{ref:i,className:pt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(VQ,{}),l.jsx(mje,{className:pt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(WQ,{})]})}));$n.displayName=BQ.displayName;const yje=S.forwardRef(({className:t,...e},n)=>l.jsx($Q,{ref:n,className:pt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));yje.displayName=$Q.displayName;const tt=S.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(zQ,{ref:r,className:pt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(vje,{children:l.jsx(uW,{className:"h-4 w-4"})})}),l.jsx(gje,{children:e})]}));tt.displayName=zQ.displayName;const bje=S.forwardRef(({className:t,...e},n)=>l.jsx(HQ,{ref:n,className:pt("-mx-1 my-1 h-px bg-muted",t),...e}));bje.displayName=HQ.displayName;var C_="Checkbox",[xje]=bo(C_),[wje,Z4]=xje(C_);function Sje(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[m,p]=Kc({prop:n,defaultProp:i??!1,onChange:c,caller:C_}),[b,v]=S.useState(null),[y,w]=S.useState(null),_=S.useRef(!1),E=b?!!a||!!b.closest("form"):!0,A={checked:m,disabled:s,setChecked:p,control:b,setControl:v,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:wh(i)?!1:i,isFormControl:E,bubbleInput:y,setBubbleInput:w};return l.jsx(wje,{scope:e,...A,children:Nje(f)?f(A):r})}var KQ="CheckboxTrigger",GQ=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:b}=Z4(KQ,t),v=zn(i,d),y=S.useRef(c);return S.useEffect(()=>{const w=s?.form;if(w){const _=()=>f(y.current);return w.addEventListener("reset",_),()=>w.removeEventListener("reset",_)}},[s,f]),l.jsx(Vt.button,{type:"button",role:"checkbox","aria-checked":wh(c)?"mixed":c,"aria-required":u,"data-state":JQ(c),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:v,onKeyDown:qt(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:qt(n,w=>{f(_=>wh(_)?!0:!_),b&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});GQ.displayName=KQ;var Q4=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...f}=t;return l.jsx(Sje,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(GQ,{...f,ref:e,__scopeCheckbox:n}),m&&l.jsx(QQ,{__scopeCheckbox:n})]})})});Q4.displayName=C_;var YQ="CheckboxIndicator",XQ=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=Z4(YQ,n);return l.jsx(Go,{present:r||wh(s.checked)||s.checked===!0,children:l.jsx(Vt.span,{"data-state":JQ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});XQ.displayName=YQ;var ZQ="CheckboxBubbleInput",QQ=S.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=Z4(ZQ,t),b=zn(n,p),v=S_(s),y=CN(r);S.useEffect(()=>{const _=m;if(!_)return;const E=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(E,"checked").set,P=!i.current;if(v!==s&&k){const R=new Event("click",{bubbles:P});_.indeterminate=wh(s),k.call(_,wh(s)?!1:s),_.dispatchEvent(R)}},[m,v,s,i]);const w=S.useRef(wh(s)?!1:s);return l.jsx(Vt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:o,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:b,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});QQ.displayName=ZQ;function Nje(t){return typeof t=="function"}function wh(t){return t==="indeterminate"}function JQ(t){return wh(t)?"indeterminate":t?"checked":"unchecked"}const Ki=S.forwardRef(({className:t,...e},n)=>l.jsx(Q4,{ref:n,className:pt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(XQ,{className:pt("flex items-center justify-center text-current"),children:l.jsx(uW,{className:"h-4 w-4"})})}));Ki.displayName=Q4.displayName;var A_="Switch",[_je]=bo(A_),[Eje,Cje]=_je(A_),eJ=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,p]=S.useState(null),b=zn(e,E=>p(E)),v=S.useRef(!1),y=m?d||!!m.closest("form"):!0,[w,_]=Kc({prop:i,defaultProp:s??!1,onChange:u,caller:A_});return l.jsxs(Eje,{scope:n,checked:w,disabled:o,children:[l.jsx(Vt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":iJ(w),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:b,onClick:qt(t.onClick,E=>{_(A=>!A),y&&(v.current=E.isPropagationStopped(),v.current||E.stopPropagation())})}),y&&l.jsx(rJ,{control:m,bubbles:!v.current,name:r,value:c,checked:w,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});eJ.displayName=A_;var tJ="SwitchThumb",nJ=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Cje(tJ,n);return l.jsx(Vt.span,{"data-state":iJ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});nJ.displayName=tJ;var Aje="SwitchBubbleInput",rJ=S.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=S.useRef(null),o=zn(a,s),c=S_(n),u=CN(e);return S.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const b=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(b)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rJ.displayName=Aje;function iJ(t){return t?"checked":"unchecked"}var sJ=eJ,kje=nJ;const Qc=S.forwardRef(({className:t,...e},n)=>l.jsx(sJ,{className:pt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(kje,{className:pt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qc.displayName=sJ.displayName;var aJ="AlertDialog",[jje]=bo(aJ,[KK]),ff=KK(),oJ=t=>{const{__scopeAlertDialog:e,...n}=t,r=ff(e);return l.jsx(LN,{...r,...n,modal:!0})};oJ.displayName=aJ;var Tje="AlertDialogTrigger",Oje=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return l.jsx(cG,{...i,...r,ref:e})});Oje.displayName=Tje;var Pje="AlertDialogPortal",lJ=t=>{const{__scopeAlertDialog:e,...n}=t,r=ff(e);return l.jsx(FN,{...r,...n})};lJ.displayName=Pje;var Mje="AlertDialogOverlay",cJ=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return l.jsx(Wv,{...i,...r,ref:e})});cJ.displayName=Mje;var Wg="AlertDialogContent",[Rje,Ije]=jje(Wg),Dje=PV("AlertDialogContent"),uJ=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=ff(n),a=S.useRef(null),o=zn(e,a),c=S.useRef(null);return l.jsx(Ehe,{contentName:Wg,titleName:dJ,docsSlug:"alert-dialog",children:l.jsx(Rje,{scope:n,cancelRef:c,children:l.jsxs(Kv,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:qt(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Dje,{children:r}),l.jsx(Fje,{contentRef:a})]})})})});uJ.displayName=Wg;var dJ="AlertDialogTitle",fJ=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return l.jsx(nx,{...i,...r,ref:e})});fJ.displayName=dJ;var hJ="AlertDialogDescription",pJ=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return l.jsx(rx,{...i,...r,ref:e})});pJ.displayName=hJ;var Lje="AlertDialogAction",mJ=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return l.jsx(BN,{...i,...r,ref:e})});mJ.displayName=Lje;var gJ="AlertDialogCancel",vJ=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Ije(gJ,n),s=ff(n),a=zn(e,i);return l.jsx(BN,{...s,...r,ref:a})});vJ.displayName=gJ;var Fje=({contentRef:t})=>{const e=`\`${Wg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wg}\` by passing a \`${hJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Bje=oJ,$je=lJ,yJ=cJ,bJ=uJ,xJ=mJ,wJ=vJ,SJ=fJ,NJ=pJ;const k_=Bje,zje=$je,_J=S.forwardRef(({className:t,...e},n)=>l.jsx(yJ,{className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));_J.displayName=yJ.displayName;const mx=S.forwardRef(({className:t,...e},n)=>l.jsxs(zje,{children:[l.jsx(_J,{}),l.jsx(bJ,{ref:n,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));mx.displayName=bJ.displayName;const gx=({className:t,...e})=>l.jsx("div",{className:pt("flex flex-col space-y-2 text-center sm:text-left",t),...e});gx.displayName="AlertDialogHeader";const EJ=({className:t,...e})=>l.jsx("div",{className:pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});EJ.displayName="AlertDialogFooter";const vx=S.forwardRef(({className:t,...e},n)=>l.jsx(SJ,{ref:n,className:pt("text-lg font-semibold",t),...e}));vx.displayName=SJ.displayName;const yx=S.forwardRef(({className:t,...e},n)=>l.jsx(NJ,{ref:n,className:pt("text-sm text-muted-foreground",t),...e}));yx.displayName=NJ.displayName;const bx=S.forwardRef(({className:t,...e},n)=>l.jsx(xJ,{ref:n,className:pt(qb(),t),...e}));bx.displayName=xJ.displayName;const xx=S.forwardRef(({className:t,...e},n)=>l.jsx(wJ,{ref:n,className:pt(qb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));xx.displayName=wJ.displayName;var wx=t=>t.type==="checkbox",Dp=t=>t instanceof Date,Do=t=>t==null;const CJ=t=>typeof t=="object";var Rs=t=>!Do(t)&&!Array.isArray(t)&&CJ(t)&&!Dp(t),AJ=t=>Rs(t)&&t.target?wx(t.target)?t.target.checked:t.target.value:t,qje=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kJ=(t,e)=>t.has(qje(e)),Uje=t=>{const e=t.constructor&&t.constructor.prototype;return Rs(e)&&e.hasOwnProperty("isPrototypeOf")},J4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Hs(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(J4&&(t instanceof Blob||r))&&(n||Rs(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!Uje(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Hs(t[i]));else return t;return e}var j_=t=>/^\w*$/.test(t),is=t=>t===void 0,eI=t=>Array.isArray(t)?t.filter(Boolean):[],tI=t=>eI(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Lt=(t,e,n)=>{if(!e||!Rs(t))return n;const r=(j_(e)?[e]:tI(e)).reduce((i,s)=>Do(i)?i:i[s],t);return is(r)||r===t?is(t[e])?n:t[e]:r},pl=t=>typeof t=="boolean",Wr=(t,e,n)=>{let r=-1;const i=j_(e)?[e]:tI(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let c=n;if(r!==a){const u=t[o];c=Rs(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const rS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$c={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nI=Ce.createContext(null);nI.displayName="HookFormContext";const T_=()=>Ce.useContext(nI),Hje=t=>{const{children:e,...n}=t;return Ce.createElement(nI.Provider,{value:n},e)};var jJ=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==$c.all&&(e._proxyFormState[a]=!r||$c.all),n&&(n[a]=!0),t[a]}});return i};const rI=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;function Vje(t){const e=T_(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[a,o]=Ce.useState(n._formState),c=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return rI(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!r&&o({...n._formState,...u})}}),[i,r,s]),Ce.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Ce.useMemo(()=>jJ(a,n,c.current,!1),[a,n])}var yl=t=>typeof t=="string",TJ=(t,e,n,r,i)=>yl(t)?(r&&e.watch.add(t),Lt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Lt(n,s))):(r&&(e.watchAll=!0),n),DP=t=>Do(t)||!CJ(t);function Hd(t,e,n=new WeakSet){if(DP(t)||DP(e))return t===e;if(Dp(t)&&Dp(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Dp(a)&&Dp(o)||Rs(a)&&Rs(o)||Array.isArray(a)&&Array.isArray(o)?!Hd(a,o,n):a!==o)return!1}}return!0}function Wje(t){const e=T_(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},c=Ce.useRef(i),u=Ce.useRef(o),d=Ce.useRef(void 0);u.current=o;const f=Ce.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,p]=Ce.useState(u.current?u.current(f):f);return rI(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:b=>{if(!s){const v=TJ(r,n._names,b.values||n._formValues,!1,c.current);if(u.current){const y=u.current(v);Hd(y,d.current)||(p(y),d.current=y)}else p(v)}}}),[n,s,r,a]),Ce.useEffect(()=>n._removeUnmounted()),m}function Kje(t){const e=T_(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s,defaultValue:a}=t,o=kJ(i._names.array,n),c=Ce.useMemo(()=>Lt(i._formValues,n,Lt(i._defaultValues,n,a)),[i,n,a]),u=Wje({control:i,name:n,defaultValue:c,exact:!0}),d=Vje({control:i,name:n,exact:!0}),f=Ce.useRef(t),m=Ce.useRef(void 0),p=Ce.useRef(i.register(n,{...t.rules,value:u,...pl(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const b=Ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Lt(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!Lt(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Lt(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Lt(d.validatingFields,n)},error:{enumerable:!0,get:()=>Lt(d.errors,n)}}),[d,n]),v=Ce.useCallback(E=>p.current.onChange({target:{value:AJ(E),name:n},type:rS.CHANGE}),[n]),y=Ce.useCallback(()=>p.current.onBlur({target:{value:Lt(i._formValues,n),name:n},type:rS.BLUR}),[n,i._formValues]),w=Ce.useCallback(E=>{const A=Lt(i._fields,n);A&&E&&(A._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:k=>E.setCustomValidity(k),reportValidity:()=>E.reportValidity()})},[i._fields,n]),_=Ce.useMemo(()=>({name:n,value:u,...pl(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:y,ref:w}),[n,r,d.disabled,v,y,w,u]);return Ce.useEffect(()=>{const E=i._options.shouldUnregister||s,A=m.current;A&&A!==n&&!o&&i.unregister(A),i.register(n,{...f.current.rules,...pl(f.current.disabled)?{disabled:f.current.disabled}:{}});const k=(P,R)=>{const T=Lt(i._fields,P);T&&T._f&&(T._f.mount=R)};if(k(n,!0),E){const P=Hs(Lt(i._options.defaultValues,n,f.current.defaultValue));Wr(i._defaultValues,n,P),is(Lt(i._formValues,n))&&Wr(i._formValues,n,P)}return!o&&i.register(n),m.current=n,()=>{(o?E&&!i._state.action:E)?i.unregister(n):k(n,!1)}},[n,i,o,s]),Ce.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Ce.useMemo(()=>({field:_,formState:d,fieldState:b}),[_,d,b])}const Gje=t=>t.render(Kje(t));var OJ=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},bb=t=>Array.isArray(t)?t:[t],Uz=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function PJ(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],s=e[r];if(i&&Rs(i)&&s){const a=PJ(i,s);Rs(a)&&(n[r]=a)}else t[r]&&(n[r]=s)}return n}var Io=t=>Rs(t)&&!Object.keys(t).length,iI=t=>t.type==="file",zc=t=>typeof t=="function",iS=t=>{if(!J4)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},MJ=t=>t.type==="select-multiple",sI=t=>t.type==="radio",Yje=t=>sI(t)||wx(t),w5=t=>iS(t)&&t.isConnected;function Xje(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=is(t)?r++:t[e[r++]];return t}function Zje(t){for(const e in t)if(t.hasOwnProperty(e)&&!is(t[e]))return!1;return!0}function As(t,e){const n=Array.isArray(e)?e:j_(e)?[e]:tI(e),r=n.length===1?t:Xje(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Rs(r)&&Io(r)||Array.isArray(r)&&Zje(r))&&As(t,n.slice(0,-1)),t}var Qje=t=>{for(const e in t)if(zc(t[e]))return!0;return!1};function RJ(t){return Array.isArray(t)||Rs(t)&&!Qje(t)}function LP(t,e={}){for(const n in t)RJ(t[n])?(e[n]=Array.isArray(t[n])?[]:{},LP(t[n],e[n])):is(t[n])||(e[n]=!0);return e}function xg(t,e,n){n||(n=LP(e));for(const r in t)RJ(t[r])?is(e)||DP(n[r])?n[r]=LP(t[r],Array.isArray(t[r])?[]:{}):xg(t[r],Do(e)?{}:e[r],n[r]):n[r]=!Hd(t[r],e[r]);return n}const Hz={value:!1,isValid:!1},Vz={value:!0,isValid:!0};var IJ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!is(t[0].attributes.value)?is(t[0].value)||t[0].value===""?Vz:{value:t[0].value,isValid:!0}:Vz:Hz}return Hz},DJ=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>is(t)?t:e?t===""?NaN:t&&+t:n&&yl(t)?new Date(t):r?r(t):t;const Wz={isValid:!1,value:null};var LJ=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Wz):Wz;function Kz(t){const e=t.ref;return iI(e)?e.files:sI(e)?LJ(t.refs).value:MJ(e)?[...e.selectedOptions].map(({value:n})=>n):wx(e)?IJ(t.refs).value:DJ(is(e.value)?t.ref.value:e.value,t)}var Jje=(t,e,n,r)=>{const i={};for(const s of t){const a=Lt(e,s);a&&Wr(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},sS=t=>t instanceof RegExp,Ky=t=>is(t)?t:sS(t)?t.source:Rs(t)?sS(t.value)?t.value.source:t.value:t,Gz=t=>({isOnSubmit:!t||t===$c.onSubmit,isOnBlur:t===$c.onBlur,isOnChange:t===$c.onChange,isOnAll:t===$c.all,isOnTouch:t===$c.onTouched});const Yz="AsyncFunction";var e5e=t=>!!t&&!!t.validate&&!!(zc(t.validate)&&t.validate.constructor.name===Yz||Rs(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Yz)),t5e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Xz=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const xb=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Lt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(xb(o,e))break}else if(Rs(o)&&xb(o,e))break}}};function Zz(t,e,n){const r=Lt(t,n);if(r||j_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Lt(e,s),o=Lt(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:n}}var n5e=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Io(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||$c.all))},r5e=(t,e,n)=>!t||!e||t===e||bb(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),i5e=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,s5e=(t,e)=>!eI(Lt(t,e)).length&&As(t,e),a5e=(t,e,n)=>{const r=bb(Lt(t,n));return Wr(r,"root",e[n]),Wr(t,n,r),t};function Qz(t,e,n="validate"){if(yl(t)||Array.isArray(t)&&t.every(yl)||pl(t)&&!t)return{type:n,message:yl(t)?t:"",ref:e}}var cg=t=>Rs(t)&&!sS(t)?t:{value:t,message:""},Jz=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:b,name:v,valueAsNumber:y,mount:w}=t._f,_=Lt(n,v);if(!w||e.has(v))return{};const E=o?o[0]:a,A=F=>{i&&E.reportValidity&&(E.setCustomValidity(pl(F)?"":F||""),E.reportValidity())},k={},P=sI(a),R=wx(a),T=P||R,M=(y||iI(a))&&is(a.value)&&is(_)||iS(a)&&a.value===""||_===""||Array.isArray(_)&&!_.length,B=OJ.bind(null,v,r,k),O=(F,q,z,K=Pd.maxLength,Z=Pd.minLength)=>{const H=F?q:z;k[v]={type:F?K:Z,message:H,ref:a,...B(F?K:Z,H)}};if(s?!Array.isArray(_)||!_.length:c&&(!T&&(M||Do(_))||pl(_)&&!_||R&&!IJ(o).isValid||P&&!LJ(o).isValid)){const{value:F,message:q}=yl(c)?{value:!!c,message:c}:cg(c);if(F&&(k[v]={type:Pd.required,message:q,ref:E,...B(Pd.required,q)},!r))return A(q),k}if(!M&&(!Do(f)||!Do(m))){let F,q;const z=cg(m),K=cg(f);if(!Do(_)&&!isNaN(_)){const Z=a.valueAsNumber||_&&+_;Do(z.value)||(F=Z>z.value),Do(K.value)||(q=Z<K.value)}else{const Z=a.valueAsDate||new Date(_),H=ge=>new Date(new Date().toDateString()+" "+ge),W=a.type=="time",Y=a.type=="week";yl(z.value)&&_&&(F=W?H(_)>H(z.value):Y?_>z.value:Z>new Date(z.value)),yl(K.value)&&_&&(q=W?H(_)<H(K.value):Y?_<K.value:Z<new Date(K.value))}if((F||q)&&(O(!!F,z.message,K.message,Pd.max,Pd.min),!r))return A(k[v].message),k}if((u||d)&&!M&&(yl(_)||s&&Array.isArray(_))){const F=cg(u),q=cg(d),z=!Do(F.value)&&_.length>+F.value,K=!Do(q.value)&&_.length<+q.value;if((z||K)&&(O(z,F.message,q.message),!r))return A(k[v].message),k}if(p&&!M&&yl(_)){const{value:F,message:q}=cg(p);if(sS(F)&&!_.match(F)&&(k[v]={type:Pd.pattern,message:q,ref:a,...B(Pd.pattern,q)},!r))return A(q),k}if(b){if(zc(b)){const F=await b(_,n),q=Qz(F,E);if(q&&(k[v]={...q,...B(Pd.validate,q.message)},!r))return A(q.message),k}else if(Rs(b)){let F={};for(const q in b){if(!Io(F)&&!r)break;const z=Qz(await b[q](_,n),E,q);z&&(F={...z,...B(q,z.message)},A(z.message),r&&(k[v]=F))}if(!Io(F)&&(k[v]={ref:E,...F},!r))return k}}return A(!0),k};const o5e={mode:$c.onSubmit,reValidateMode:$c.onChange,shouldFocusError:!0};function l5e(t={}){let e={...o5e,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:zc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Rs(e.defaultValues)||Rs(e.values)?Hs(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Hs(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:Uz(),state:Uz()},p=e.criteriaMode===$c.all,b=me=>Se=>{clearTimeout(u),u=setTimeout(me,Se)},v=async me=>{if(!e.disabled&&(d.isValid||f.isValid||me)){const Se=e.resolver?Io((await R()).errors):await M(r,!0);Se!==n.isValid&&m.state.next({isValid:Se})}},y=(me,Se)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((me||Array.from(o.mount)).forEach(Te=>{Te&&(Se?Wr(n.validatingFields,Te,Se):As(n.validatingFields,Te))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Io(n.validatingFields)}))},w=(me,Se=[],Te,Ue,He=!0,qe=!0)=>{if(Ue&&Te&&!e.disabled){if(a.action=!0,qe&&Array.isArray(Lt(r,me))){const Qe=Te(Lt(r,me),Ue.argA,Ue.argB);He&&Wr(r,me,Qe)}if(qe&&Array.isArray(Lt(n.errors,me))){const Qe=Te(Lt(n.errors,me),Ue.argA,Ue.argB);He&&Wr(n.errors,me,Qe),s5e(n.errors,me)}if((d.touchedFields||f.touchedFields)&&qe&&Array.isArray(Lt(n.touchedFields,me))){const Qe=Te(Lt(n.touchedFields,me),Ue.argA,Ue.argB);He&&Wr(n.touchedFields,me,Qe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=xg(i,s)),m.state.next({name:me,isDirty:O(me,Se),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Wr(s,me,Se)},_=(me,Se)=>{Wr(n.errors,me,Se),m.state.next({errors:n.errors})},E=me=>{n.errors=me,m.state.next({errors:n.errors,isValid:!1})},A=(me,Se,Te,Ue)=>{const He=Lt(r,me);if(He){const qe=Lt(s,me,is(Te)?Lt(i,me):Te);is(qe)||Ue&&Ue.defaultChecked||Se?Wr(s,me,Se?qe:Kz(He._f)):z(me,qe),a.mount&&v()}},k=(me,Se,Te,Ue,He)=>{let qe=!1,Qe=!1;const xt={name:me};if(!e.disabled){if(!Te||Ue){(d.isDirty||f.isDirty)&&(Qe=n.isDirty,n.isDirty=xt.isDirty=O(),qe=Qe!==xt.isDirty);const gt=Hd(Lt(i,me),Se);Qe=!!Lt(n.dirtyFields,me),gt?As(n.dirtyFields,me):Wr(n.dirtyFields,me,!0),xt.dirtyFields=n.dirtyFields,qe=qe||(d.dirtyFields||f.dirtyFields)&&Qe!==!gt}if(Te){const gt=Lt(n.touchedFields,me);gt||(Wr(n.touchedFields,me,Te),xt.touchedFields=n.touchedFields,qe=qe||(d.touchedFields||f.touchedFields)&&gt!==Te)}qe&&He&&m.state.next(xt)}return qe?xt:{}},P=(me,Se,Te,Ue)=>{const He=Lt(n.errors,me),qe=(d.isValid||f.isValid)&&pl(Se)&&n.isValid!==Se;if(e.delayError&&Te?(c=b(()=>_(me,Te)),c(e.delayError)):(clearTimeout(u),c=null,Te?Wr(n.errors,me,Te):As(n.errors,me)),(Te?!Hd(He,Te):He)||!Io(Ue)||qe){const Qe={...Ue,...qe&&pl(Se)?{isValid:Se}:{},errors:n.errors,name:me};n={...n,...Qe},m.state.next(Qe)}},R=async me=>{y(me,!0);const Se=await e.resolver(s,e.context,Jje(me||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(me),Se},T=async me=>{const{errors:Se}=await R(me);if(me)for(const Te of me){const Ue=Lt(Se,Te);Ue?Wr(n.errors,Te,Ue):As(n.errors,Te)}else n.errors=Se;return Se},M=async(me,Se,Te={valid:!0})=>{for(const Ue in me){const He=me[Ue];if(He){const{_f:qe,...Qe}=He;if(qe){const xt=o.array.has(qe.name),gt=He._f&&e5e(He._f);gt&&d.validatingFields&&y([qe.name],!0);const At=await Jz(He,o.disabled,s,p,e.shouldUseNativeValidation&&!Se,xt);if(gt&&d.validatingFields&&y([qe.name]),At[qe.name]&&(Te.valid=!1,Se))break;!Se&&(Lt(At,qe.name)?xt?a5e(n.errors,At,qe.name):Wr(n.errors,qe.name,At[qe.name]):As(n.errors,qe.name))}!Io(Qe)&&await M(Qe,Se,Te)}}return Te.valid},B=()=>{for(const me of o.unMount){const Se=Lt(r,me);Se&&(Se._f.refs?Se._f.refs.every(Te=>!w5(Te)):!w5(Se._f.ref))&&J(me)}o.unMount=new Set},O=(me,Se)=>!e.disabled&&(me&&Se&&Wr(s,me,Se),!Hd(ge(),i)),F=(me,Se,Te)=>TJ(me,o,{...a.mount?s:is(Se)?i:yl(me)?{[me]:Se}:Se},Te,Se),q=me=>eI(Lt(a.mount?s:i,me,e.shouldUnregister?Lt(i,me,[]):[])),z=(me,Se,Te={})=>{const Ue=Lt(r,me);let He=Se;if(Ue){const qe=Ue._f;qe&&(!qe.disabled&&Wr(s,me,DJ(Se,qe)),He=iS(qe.ref)&&Do(Se)?"":Se,MJ(qe.ref)?[...qe.ref.options].forEach(Qe=>Qe.selected=He.includes(Qe.value)):qe.refs?wx(qe.ref)?qe.refs.forEach(Qe=>{(!Qe.defaultChecked||!Qe.disabled)&&(Array.isArray(He)?Qe.checked=!!He.find(xt=>xt===Qe.value):Qe.checked=He===Qe.value||!!He)}):qe.refs.forEach(Qe=>Qe.checked=Qe.value===He):iI(qe.ref)?qe.ref.value="":(qe.ref.value=He,qe.ref.type||m.state.next({name:me,values:Hs(s)})))}(Te.shouldDirty||Te.shouldTouch)&&k(me,He,Te.shouldTouch,Te.shouldDirty,!0),Te.shouldValidate&&Y(me)},K=(me,Se,Te)=>{for(const Ue in Se){if(!Se.hasOwnProperty(Ue))return;const He=Se[Ue],qe=me+"."+Ue,Qe=Lt(r,qe);(o.array.has(me)||Rs(He)||Qe&&!Qe._f)&&!Dp(He)?K(qe,He,Te):z(qe,He,Te)}},Z=(me,Se,Te={})=>{const Ue=Lt(r,me),He=o.array.has(me),qe=Hs(Se);Wr(s,me,qe),He?(m.array.next({name:me,values:Hs(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Te.shouldDirty&&m.state.next({name:me,dirtyFields:xg(i,s),isDirty:O(me,qe)})):Ue&&!Ue._f&&!Do(qe)?K(me,qe,Te):z(me,qe,Te),Xz(me,o)&&m.state.next({...n,name:me}),m.state.next({name:a.mount?me:void 0,values:Hs(s)})},H=async me=>{a.mount=!0;const Se=me.target;let Te=Se.name,Ue=!0;const He=Lt(r,Te),qe=gt=>{Ue=Number.isNaN(gt)||Dp(gt)&&isNaN(gt.getTime())||Hd(gt,Lt(s,Te,gt))},Qe=Gz(e.mode),xt=Gz(e.reValidateMode);if(He){let gt,At;const Wt=Se.type?Kz(He._f):AJ(me),_t=me.type===rS.BLUR||me.type===rS.FOCUS_OUT,An=!t5e(He._f)&&!e.resolver&&!Lt(n.errors,Te)&&!He._f.deps||i5e(_t,Lt(n.touchedFields,Te),n.isSubmitted,xt,Qe),_n=Xz(Te,o,_t);Wr(s,Te,Wt),_t?(!Se||!Se.readOnly)&&(He._f.onBlur&&He._f.onBlur(me),c&&c(0)):He._f.onChange&&He._f.onChange(me);const Ft=k(Te,Wt,_t),vn=!Io(Ft)||_n;if(!_t&&m.state.next({name:Te,type:me.type,values:Hs(s)}),An)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?_t&&v():_t||v()),vn&&m.state.next({name:Te,..._n?{}:Ft});if(!_t&&_n&&m.state.next({...n}),e.resolver){const{errors:Jn}=await R([Te]);if(qe(Wt),Ue){const sn=Zz(n.errors,r,Te),kn=Zz(Jn,r,sn.name||Te);gt=kn.error,Te=kn.name,At=Io(Jn)}}else y([Te],!0),gt=(await Jz(He,o.disabled,s,p,e.shouldUseNativeValidation))[Te],y([Te]),qe(Wt),Ue&&(gt?At=!1:(d.isValid||f.isValid)&&(At=await M(r,!0)));Ue&&(He._f.deps&&(!Array.isArray(He._f.deps)||He._f.deps.length>0)&&Y(He._f.deps),P(Te,At,gt,Ft))}},W=(me,Se)=>{if(Lt(n.errors,Se)&&me.focus)return me.focus(),1},Y=async(me,Se={})=>{let Te,Ue;const He=bb(me);if(e.resolver){const qe=await T(is(me)?me:He);Te=Io(qe),Ue=me?!He.some(Qe=>Lt(qe,Qe)):Te}else me?(Ue=(await Promise.all(He.map(async qe=>{const Qe=Lt(r,qe);return await M(Qe&&Qe._f?{[qe]:Qe}:Qe)}))).every(Boolean),!(!Ue&&!n.isValid)&&v()):Ue=Te=await M(r);return m.state.next({...!yl(me)||(d.isValid||f.isValid)&&Te!==n.isValid?{}:{name:me},...e.resolver||!me?{isValid:Te}:{},errors:n.errors}),Se.shouldFocus&&!Ue&&xb(r,W,me?He:o.mount),Ue},ge=(me,Se)=>{let Te={...a.mount?s:i};return Se&&(Te=PJ(Se.dirtyFields?n.dirtyFields:n.touchedFields,Te)),is(me)?Te:yl(me)?Lt(Te,me):me.map(Ue=>Lt(Te,Ue))},Q=(me,Se)=>({invalid:!!Lt((Se||n).errors,me),isDirty:!!Lt((Se||n).dirtyFields,me),error:Lt((Se||n).errors,me),isValidating:!!Lt(n.validatingFields,me),isTouched:!!Lt((Se||n).touchedFields,me)}),I=me=>{me&&bb(me).forEach(Se=>As(n.errors,Se)),m.state.next({errors:me?n.errors:{}})},G=(me,Se,Te)=>{const Ue=(Lt(r,me,{_f:{}})._f||{}).ref,He=Lt(n.errors,me)||{},{ref:qe,message:Qe,type:xt,...gt}=He;Wr(n.errors,me,{...gt,...Se,ref:Ue}),m.state.next({name:me,errors:n.errors,isValid:!1}),Te&&Te.shouldFocus&&Ue&&Ue.focus&&Ue.focus()},ne=(me,Se)=>zc(me)?m.state.subscribe({next:Te=>"values"in Te&&me(F(void 0,Se),Te)}):F(me,Se,!0),ie=me=>m.state.subscribe({next:Se=>{r5e(me.name,Se.name,me.exact)&&n5e(Se,me.formState||d,Nt,me.reRenderRoot)&&me.callback({values:{...s},...n,...Se,defaultValues:i})}}).unsubscribe,he=me=>(a.mount=!0,f={...f,...me.formState},ie({...me,formState:f})),J=(me,Se={})=>{for(const Te of me?bb(me):o.mount)o.mount.delete(Te),o.array.delete(Te),Se.keepValue||(As(r,Te),As(s,Te)),!Se.keepError&&As(n.errors,Te),!Se.keepDirty&&As(n.dirtyFields,Te),!Se.keepTouched&&As(n.touchedFields,Te),!Se.keepIsValidating&&As(n.validatingFields,Te),!e.shouldUnregister&&!Se.keepDefaultValue&&As(i,Te);m.state.next({values:Hs(s)}),m.state.next({...n,...Se.keepDirty?{isDirty:O()}:{}}),!Se.keepIsValid&&v()},ue=({disabled:me,name:Se})=>{(pl(me)&&a.mount||me||o.disabled.has(Se))&&(me?o.disabled.add(Se):o.disabled.delete(Se))},ae=(me,Se={})=>{let Te=Lt(r,me);const Ue=pl(Se.disabled)||pl(e.disabled);return Wr(r,me,{...Te||{},_f:{...Te&&Te._f?Te._f:{ref:{name:me}},name:me,mount:!0,...Se}}),o.mount.add(me),Te?ue({disabled:pl(Se.disabled)?Se.disabled:e.disabled,name:me}):A(me,!0,Se.value),{...Ue?{disabled:Se.disabled||e.disabled}:{},...e.progressive?{required:!!Se.required,min:Ky(Se.min),max:Ky(Se.max),minLength:Ky(Se.minLength),maxLength:Ky(Se.maxLength),pattern:Ky(Se.pattern)}:{},name:me,onChange:H,onBlur:H,ref:He=>{if(He){ae(me,Se),Te=Lt(r,me);const qe=is(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,Qe=Yje(qe),xt=Te._f.refs||[];if(Qe?xt.find(gt=>gt===qe):qe===Te._f.ref)return;Wr(r,me,{_f:{...Te._f,...Qe?{refs:[...xt.filter(w5),qe,...Array.isArray(Lt(i,me))?[{}]:[]],ref:{type:qe.type,name:me}}:{ref:qe}}}),A(me,!1,void 0,qe)}else Te=Lt(r,me,{}),Te._f&&(Te._f.mount=!1),(e.shouldUnregister||Se.shouldUnregister)&&!(kJ(o.array,me)&&a.action)&&o.unMount.add(me)}}},X=()=>e.shouldFocusError&&xb(r,W,o.mount),pe=me=>{pl(me)&&(m.state.next({disabled:me}),xb(r,(Se,Te)=>{const Ue=Lt(r,Te);Ue&&(Se.disabled=Ue._f.disabled||me,Array.isArray(Ue._f.refs)&&Ue._f.refs.forEach(He=>{He.disabled=Ue._f.disabled||me}))},0,!1))},xe=(me,Se)=>async Te=>{let Ue;Te&&(Te.preventDefault&&Te.preventDefault(),Te.persist&&Te.persist());let He=Hs(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:qe,values:Qe}=await R();n.errors=qe,He=Hs(Qe)}else await M(r);if(o.disabled.size)for(const qe of o.disabled)As(He,qe);if(As(n.errors,"root"),Io(n.errors)){m.state.next({errors:{}});try{await me(He,Te)}catch(qe){Ue=qe}}else Se&&await Se({...n.errors},Te),X(),setTimeout(X);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Io(n.errors)&&!Ue,submitCount:n.submitCount+1,errors:n.errors}),Ue)throw Ue},De=(me,Se={})=>{Lt(r,me)&&(is(Se.defaultValue)?Z(me,Hs(Lt(i,me))):(Z(me,Se.defaultValue),Wr(i,me,Hs(Se.defaultValue))),Se.keepTouched||As(n.touchedFields,me),Se.keepDirty||(As(n.dirtyFields,me),n.isDirty=Se.defaultValue?O(me,Hs(Lt(i,me))):O()),Se.keepError||(As(n.errors,me),d.isValid&&v()),m.state.next({...n}))},Ee=(me,Se={})=>{const Te=me?Hs(me):i,Ue=Hs(Te),He=Io(me),qe=He?i:Ue;if(Se.keepDefaultValues||(i=Te),!Se.keepValues){if(Se.keepDirtyValues){const Qe=new Set([...o.mount,...Object.keys(xg(i,s))]);for(const xt of Array.from(Qe))Lt(n.dirtyFields,xt)?Wr(qe,xt,Lt(s,xt)):Z(xt,Lt(qe,xt))}else{if(J4&&is(me))for(const Qe of o.mount){const xt=Lt(r,Qe);if(xt&&xt._f){const gt=Array.isArray(xt._f.refs)?xt._f.refs[0]:xt._f.ref;if(iS(gt)){const At=gt.closest("form");if(At){At.reset();break}}}}if(Se.keepFieldsRef)for(const Qe of o.mount)Z(Qe,Lt(qe,Qe));else r={}}s=e.shouldUnregister?Se.keepDefaultValues?Hs(i):{}:Hs(qe),m.array.next({values:{...qe}}),m.state.next({values:{...qe}})}o={mount:Se.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!Se.keepIsValid||!!Se.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:Se.keepSubmitCount?n.submitCount:0,isDirty:He?!1:Se.keepDirty?n.isDirty:!!(Se.keepDefaultValues&&!Hd(me,i)),isSubmitted:Se.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:He?{}:Se.keepDirtyValues?Se.keepDefaultValues&&s?xg(i,s):n.dirtyFields:Se.keepDefaultValues&&me?xg(i,me):Se.keepDirty?n.dirtyFields:{},touchedFields:Se.keepTouched?n.touchedFields:{},errors:Se.keepErrors?n.errors:{},isSubmitSuccessful:Se.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},de=(me,Se)=>Ee(zc(me)?me(s):me,Se),Ge=(me,Se={})=>{const Te=Lt(r,me),Ue=Te&&Te._f;if(Ue){const He=Ue.refs?Ue.refs[0]:Ue.ref;He.focus&&(He.focus(),Se.shouldSelect&&zc(He.select)&&He.select())}},Nt=me=>{n={...n,...me}},Ye={control:{register:ae,unregister:J,getFieldState:Q,handleSubmit:xe,setError:G,_subscribe:ie,_runSchema:R,_focusError:X,_getWatch:F,_getDirty:O,_setValid:v,_setFieldArray:w,_setDisabledField:ue,_setErrors:E,_getFieldArray:q,_reset:Ee,_resetDefaultValues:()=>zc(e.defaultValues)&&e.defaultValues().then(me=>{de(me,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:pe,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(me){a=me},get _defaultValues(){return i},get _names(){return o},set _names(me){o=me},get _formState(){return n},get _options(){return e},set _options(me){e={...e,...me}}},subscribe:he,trigger:Y,register:ae,handleSubmit:xe,watch:ne,setValue:Z,getValues:ge,reset:de,resetField:De,clearErrors:I,unregister:J,setError:G,setFocus:Ge,getFieldState:Q};return{...Ye,formControl:Ye}}function c5e(t={}){const e=Ce.useRef(void 0),n=Ce.useRef(void 0),[r,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:zc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:zc(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!zc(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=l5e(t);e.current={...o,formState:r}}const s=e.current.control;return s._options=t,rI(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),Ce.useEffect(()=>{t.values&&!Hd(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=jJ(r,s),e.current}const e9=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Lt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},FJ=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?e9(r.ref,n,t):r.refs&&r.refs.forEach(i=>e9(i,n,t))}},u5e=(t,e)=>{e.shouldUseNativeValidation&&FJ(t,e);const n={};for(const r in t){const i=Lt(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(d5e(e.names||Object.keys(t),r)){const a=Object.assign({},Lt(n,r));Wr(a,"root",s),Wr(n,r,a)}else Wr(n,r,s)}return n},d5e=(t,e)=>t.some(n=>n.startsWith(e+"."));var f5e=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=OJ(a,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},h5e=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve((function(a,o){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&FJ({},s),{errors:{},values:n.raw?r:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c})(0,function(a){if((function(o){return Array.isArray(o?.errors)})(a))return{values:{},errors:u5e(f5e(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},Ar;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ar||(Ar={}));var t9;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(t9||(t9={}));const on=Ar.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eh=t=>{switch(typeof t){case"undefined":return on.undefined;case"string":return on.string;case"number":return Number.isNaN(t)?on.nan:on.number;case"boolean":return on.boolean;case"function":return on.function;case"bigint":return on.bigint;case"symbol":return on.symbol;case"object":return Array.isArray(t)?on.array:t===null?on.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?on.promise:typeof Map<"u"&&t instanceof Map?on.map:typeof Set<"u"&&t instanceof Set?on.set:typeof Date<"u"&&t instanceof Date?on.date:on.object;default:return on.unknown}},Ct=Ar.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class of extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof of))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ar.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}of.create=t=>new of(t);const FP=(t,e)=>{let n;switch(t.code){case Ct.invalid_type:t.received===on.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ct.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ar.jsonStringifyReplacer)}`;break;case Ct.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ar.joinValues(t.keys,", ")}`;break;case Ct.invalid_union:n="Invalid input";break;case Ct.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ar.joinValues(t.options)}`;break;case Ct.invalid_enum_value:n=`Invalid enum value. Expected ${Ar.joinValues(t.options)}, received '${t.received}'`;break;case Ct.invalid_arguments:n="Invalid function arguments";break;case Ct.invalid_return_type:n="Invalid function return type";break;case Ct.invalid_date:n="Invalid date";break;case Ct.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ar.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ct.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ct.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ct.custom:n="Invalid input";break;case Ct.invalid_intersection_types:n="Intersection results could not be merged";break;case Ct.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ct.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ar.assertNever(t)}return{message:n}};let p5e=FP;function m5e(){return p5e}const g5e=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Ht(t,e){const n=m5e(),r=g5e({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===FP?void 0:FP].filter(i=>!!i)});t.common.issues.push(r)}class El{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Xn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return El.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Xn;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const Xn=Object.freeze({status:"aborted"}),ab=t=>({status:"dirty",value:t}),cc=t=>({status:"valid",value:t}),n9=t=>t.status==="aborted",r9=t=>t.status==="dirty",Ev=t=>t.status==="valid",aS=t=>typeof Promise<"u"&&t instanceof Promise;var dn;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(dn||(dn={}));class Oh{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i9=(t,e)=>{if(Ev(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new of(t.common.issues);return this._error=n,this._error}}};function ur(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:i}}class Nr{get description(){return this._def.description}_getType(e){return eh(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:eh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new El,ctx:{common:e.parent.common,data:e.data,parsedType:eh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(aS(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eh(e)},i=this._parseSync({data:e,path:r.path,parent:r});return i9(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eh(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Ev(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Ev(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eh(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(aS(i)?i:Promise.resolve(i));return i9(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:Ct.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Av({schema:this,typeName:Zn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sh.create(this,this._def)}nullable(){return kv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hu.create(this)}promise(){return uS.create(this,this._def)}or(e){return lS.create([this,e],this._def)}and(e){return cS.create(this,e,this._def)}transform(e){return new Av({...ur(this._def),schema:this,typeName:Zn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new zP({...ur(this._def),innerType:this,defaultValue:n,typeName:Zn.ZodDefault})}brand(){return new B5e({typeName:Zn.ZodBranded,type:this,...ur(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new qP({...ur(this._def),innerType:this,catchValue:n,typeName:Zn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return aI.create(this,e)}readonly(){return UP.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const v5e=/^c[^\s-]{8,}$/i,y5e=/^[0-9a-z]+$/,b5e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,x5e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w5e=/^[a-z0-9_-]{21}$/i,S5e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,N5e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_5e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,E5e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let S5;const C5e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,A5e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,k5e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,j5e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,T5e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,O5e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,BJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",P5e=new RegExp(`^${BJ}$`);function $J(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function M5e(t){return new RegExp(`^${$J(t)}$`)}function R5e(t){let e=`${BJ}T${$J(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function I5e(t,e){return!!((e==="v4"||!e)&&C5e.test(t)||(e==="v6"||!e)&&k5e.test(t))}function D5e(t,e){if(!S5e.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function L5e(t,e){return!!((e==="v4"||!e)&&A5e.test(t)||(e==="v6"||!e)&&j5e.test(t))}class dh extends Nr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==on.string){const s=this._getOrReturnCtx(e);return Ht(s,{code:Ct.invalid_type,expected:on.string,received:s.parsedType}),Xn}const r=new El;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Ht(i,{code:Ct.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Ht(i,{code:Ct.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")_5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"email",code:Ct.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")S5||(S5=new RegExp(E5e,"u")),S5.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"emoji",code:Ct.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")x5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"uuid",code:Ct.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")w5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"nanoid",code:Ct.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")v5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"cuid",code:Ct.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")y5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"cuid2",code:Ct.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")b5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"ulid",code:Ct.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ht(i,{validation:"url",code:Ct.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"regex",code:Ct.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?R5e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?P5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?M5e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?N5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"duration",code:Ct.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?I5e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"ip",code:Ct.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?D5e(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"jwt",code:Ct.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?L5e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"cidr",code:Ct.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?T5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"base64",code:Ct.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?O5e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ht(i,{validation:"base64url",code:Ct.invalid_string,message:s.message}),r.dirty()):Ar.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ct.invalid_string,...dn.errToObj(r)})}_addCheck(e){return new dh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...dn.errToObj(e)})}url(e){return this._addCheck({kind:"url",...dn.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...dn.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...dn.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...dn.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...dn.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...dn.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...dn.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...dn.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...dn.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...dn.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...dn.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...dn.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...dn.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...dn.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...dn.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...dn.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...dn.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...dn.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...dn.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...dn.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...dn.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...dn.errToObj(n)})}nonempty(e){return this.min(1,dn.errToObj(e))}trim(){return new dh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}dh.create=t=>new dh({checks:[],typeName:Zn.ZodString,coerce:t?.coerce??!1,...ur(t)});function F5e(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class E0 extends Nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==on.number){const s=this._getOrReturnCtx(e);return Ht(s,{code:Ct.invalid_type,expected:on.number,received:s.parsedType}),Xn}let r;const i=new El;for(const s of this._def.checks)s.kind==="int"?Ar.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?F5e(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.not_finite,message:s.message}),i.dirty()):Ar.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,dn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,dn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,dn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,dn.toString(n))}setLimit(e,n,r,i){return new E0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:dn.toString(i)}]})}_addCheck(e){return new E0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:dn.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:dn.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:dn.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dn.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dn.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ar.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}E0.create=t=>new E0({checks:[],typeName:Zn.ZodNumber,coerce:t?.coerce||!1,...ur(t)});class C0 extends Nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==on.bigint)return this._getInvalidInput(e);let r;const i=new El;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ht(r,{code:Ct.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ar.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ht(n,{code:Ct.invalid_type,expected:on.bigint,received:n.parsedType}),Xn}gte(e,n){return this.setLimit("min",e,!0,dn.toString(n))}gt(e,n){return this.setLimit("min",e,!1,dn.toString(n))}lte(e,n){return this.setLimit("max",e,!0,dn.toString(n))}lt(e,n){return this.setLimit("max",e,!1,dn.toString(n))}setLimit(e,n,r,i){return new C0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:dn.toString(i)}]})}_addCheck(e){return new C0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dn.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dn.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dn.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dn.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:dn.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}C0.create=t=>new C0({checks:[],typeName:Zn.ZodBigInt,coerce:t?.coerce??!1,...ur(t)});class BP extends Nr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==on.boolean){const r=this._getOrReturnCtx(e);return Ht(r,{code:Ct.invalid_type,expected:on.boolean,received:r.parsedType}),Xn}return cc(e.data)}}BP.create=t=>new BP({typeName:Zn.ZodBoolean,coerce:t?.coerce||!1,...ur(t)});class oS extends Nr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==on.date){const s=this._getOrReturnCtx(e);return Ht(s,{code:Ct.invalid_type,expected:on.date,received:s.parsedType}),Xn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ht(s,{code:Ct.invalid_date}),Xn}const r=new El;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ht(i,{code:Ct.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ar.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oS({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:dn.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:dn.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}oS.create=t=>new oS({checks:[],coerce:t?.coerce||!1,typeName:Zn.ZodDate,...ur(t)});class s9 extends Nr{_parse(e){if(this._getType(e)!==on.symbol){const r=this._getOrReturnCtx(e);return Ht(r,{code:Ct.invalid_type,expected:on.symbol,received:r.parsedType}),Xn}return cc(e.data)}}s9.create=t=>new s9({typeName:Zn.ZodSymbol,...ur(t)});class a9 extends Nr{_parse(e){if(this._getType(e)!==on.undefined){const r=this._getOrReturnCtx(e);return Ht(r,{code:Ct.invalid_type,expected:on.undefined,received:r.parsedType}),Xn}return cc(e.data)}}a9.create=t=>new a9({typeName:Zn.ZodUndefined,...ur(t)});class o9 extends Nr{_parse(e){if(this._getType(e)!==on.null){const r=this._getOrReturnCtx(e);return Ht(r,{code:Ct.invalid_type,expected:on.null,received:r.parsedType}),Xn}return cc(e.data)}}o9.create=t=>new o9({typeName:Zn.ZodNull,...ur(t)});class l9 extends Nr{constructor(){super(...arguments),this._any=!0}_parse(e){return cc(e.data)}}l9.create=t=>new l9({typeName:Zn.ZodAny,...ur(t)});class c9 extends Nr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cc(e.data)}}c9.create=t=>new c9({typeName:Zn.ZodUnknown,...ur(t)});class Ph extends Nr{_parse(e){const n=this._getOrReturnCtx(e);return Ht(n,{code:Ct.invalid_type,expected:on.never,received:n.parsedType}),Xn}}Ph.create=t=>new Ph({typeName:Zn.ZodNever,...ur(t)});class u9 extends Nr{_parse(e){if(this._getType(e)!==on.undefined){const r=this._getOrReturnCtx(e);return Ht(r,{code:Ct.invalid_type,expected:on.void,received:r.parsedType}),Xn}return cc(e.data)}}u9.create=t=>new u9({typeName:Zn.ZodVoid,...ur(t)});class Hu extends Nr{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==on.array)return Ht(n,{code:Ct.invalid_type,expected:on.array,received:n.parsedType}),Xn;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(Ht(n,{code:a?Ct.too_big:Ct.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ht(n,{code:Ct.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ht(n,{code:Ct.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Oh(n,a,n.path,o)))).then(a=>El.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Oh(n,a,n.path,o)));return El.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Hu({...this._def,minLength:{value:e,message:dn.toString(n)}})}max(e,n){return new Hu({...this._def,maxLength:{value:e,message:dn.toString(n)}})}length(e,n){return new Hu({...this._def,exactLength:{value:e,message:dn.toString(n)}})}nonempty(e){return this.min(1,e)}}Hu.create=(t,e)=>new Hu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Zn.ZodArray,...ur(e)});function wg(t){if(t instanceof js){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sh.create(wg(r))}return new js({...t._def,shape:()=>e})}else return t instanceof Hu?new Hu({...t._def,type:wg(t.element)}):t instanceof Sh?Sh.create(wg(t.unwrap())):t instanceof kv?kv.create(wg(t.unwrap())):t instanceof dm?dm.create(t.items.map(e=>wg(e))):t}class js extends Nr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ar.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==on.object){const u=this._getOrReturnCtx(e);return Ht(u,{code:Ct.invalid_type,expected:on.object,received:u.parsedType}),Xn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ph&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Oh(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ph){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(Ht(i,{code:Ct.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Oh(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>El.mergeObjectSync(r,u)):El.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return dn.errToObj,new js({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:dn.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new js({...this._def,unknownKeys:"strip"})}passthrough(){return new js({...this._def,unknownKeys:"passthrough"})}extend(e){return new js({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new js({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Zn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new js({...this._def,catchall:e})}pick(e){const n={};for(const r of Ar.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new js({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ar.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new js({...this._def,shape:()=>n})}deepPartial(){return wg(this)}partial(e){const n={};for(const r of Ar.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new js({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ar.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Sh;)s=s._def.innerType;n[r]=s}return new js({...this._def,shape:()=>n})}keyof(){return zJ(Ar.objectKeys(this.shape))}}js.create=(t,e)=>new js({shape:()=>t,unknownKeys:"strip",catchall:Ph.create(),typeName:Zn.ZodObject,...ur(e)});js.strictCreate=(t,e)=>new js({shape:()=>t,unknownKeys:"strict",catchall:Ph.create(),typeName:Zn.ZodObject,...ur(e)});js.lazycreate=(t,e)=>new js({shape:t,unknownKeys:"strip",catchall:Ph.create(),typeName:Zn.ZodObject,...ur(e)});class lS extends Nr{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new of(o.ctx.common.issues));return Ht(n,{code:Ct.invalid_union,unionErrors:a}),Xn}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new of(c));return Ht(n,{code:Ct.invalid_union,unionErrors:o}),Xn}}get options(){return this._def.options}}lS.create=(t,e)=>new lS({options:t,typeName:Zn.ZodUnion,...ur(e)});function $P(t,e){const n=eh(t),r=eh(e);if(t===e)return{valid:!0,data:t};if(n===on.object&&r===on.object){const i=Ar.objectKeys(e),s=Ar.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=$P(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===on.array&&r===on.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=$P(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===on.date&&r===on.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cS extends Nr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(n9(s)||n9(a))return Xn;const o=$P(s.value,a.value);return o.valid?((r9(s)||r9(a))&&n.dirty(),{status:n.value,value:o.data}):(Ht(r,{code:Ct.invalid_intersection_types}),Xn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}cS.create=(t,e,n)=>new cS({left:t,right:e,typeName:Zn.ZodIntersection,...ur(n)});class dm extends Nr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==on.array)return Ht(r,{code:Ct.invalid_type,expected:on.array,received:r.parsedType}),Xn;if(r.data.length<this._def.items.length)return Ht(r,{code:Ct.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xn;!this._def.rest&&r.data.length>this._def.items.length&&(Ht(r,{code:Ct.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Oh(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>El.mergeArray(n,a)):El.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new dm({...this._def,rest:e})}}dm.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dm({items:t,typeName:Zn.ZodTuple,rest:null,...ur(e)})};class d9 extends Nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==on.map)return Ht(r,{code:Ct.invalid_type,expected:on.map,received:r.parsedType}),Xn;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],u)=>({key:i._parse(new Oh(r,o,r.path,[u,"key"])),value:s._parse(new Oh(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Xn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Xn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}d9.create=(t,e,n)=>new d9({valueType:e,keyType:t,typeName:Zn.ZodMap,...ur(n)});class A0 extends Nr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==on.set)return Ht(r,{code:Ct.invalid_type,expected:on.set,received:r.parsedType}),Xn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ht(r,{code:Ct.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ht(r,{code:Ct.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Xn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>s._parse(new Oh(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new A0({...this._def,minSize:{value:e,message:dn.toString(n)}})}max(e,n){return new A0({...this._def,maxSize:{value:e,message:dn.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}A0.create=(t,e)=>new A0({valueType:t,minSize:null,maxSize:null,typeName:Zn.ZodSet,...ur(e)});class f9 extends Nr{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}f9.create=(t,e)=>new f9({getter:t,typeName:Zn.ZodLazy,...ur(e)});class h9 extends Nr{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ht(n,{received:n.data,code:Ct.invalid_literal,expected:this._def.value}),Xn}return{status:"valid",value:e.data}}get value(){return this._def.value}}h9.create=(t,e)=>new h9({value:t,typeName:Zn.ZodLiteral,...ur(e)});function zJ(t,e){return new Cv({values:t,typeName:Zn.ZodEnum,...ur(e)})}class Cv extends Nr{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ht(n,{expected:Ar.joinValues(r),received:n.parsedType,code:Ct.invalid_type}),Xn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ht(n,{received:n.data,code:Ct.invalid_enum_value,options:r}),Xn}return cc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Cv.create(e,{...this._def,...n})}exclude(e,n=this._def){return Cv.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cv.create=zJ;class p9 extends Nr{_parse(e){const n=Ar.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==on.string&&r.parsedType!==on.number){const i=Ar.objectValues(n);return Ht(r,{expected:Ar.joinValues(i),received:r.parsedType,code:Ct.invalid_type}),Xn}if(this._cache||(this._cache=new Set(Ar.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ar.objectValues(n);return Ht(r,{received:r.data,code:Ct.invalid_enum_value,options:i}),Xn}return cc(e.data)}get enum(){return this._def.values}}p9.create=(t,e)=>new p9({values:t,typeName:Zn.ZodNativeEnum,...ur(e)});class uS extends Nr{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==on.promise&&n.common.async===!1)return Ht(n,{code:Ct.invalid_type,expected:on.promise,received:n.parsedType}),Xn;const r=n.parsedType===on.promise?n.data:Promise.resolve(n.data);return cc(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}uS.create=(t,e)=>new uS({type:t,typeName:Zn.ZodPromise,...ur(e)});class Av extends Nr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Ht(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return Xn;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?Xn:c.status==="dirty"||n.value==="dirty"?ab(c.value):c});{if(n.value==="aborted")return Xn;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Xn:o.status==="dirty"||n.value==="dirty"?ab(o.value):o}}if(i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Xn:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Xn:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ev(a))return Xn;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Ev(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):Xn);Ar.assertNever(i)}}Av.create=(t,e,n)=>new Av({schema:t,typeName:Zn.ZodEffects,effect:e,...ur(n)});Av.createWithPreprocess=(t,e,n)=>new Av({schema:e,effect:{type:"preprocess",transform:t},typeName:Zn.ZodEffects,...ur(n)});class Sh extends Nr{_parse(e){return this._getType(e)===on.undefined?cc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sh.create=(t,e)=>new Sh({innerType:t,typeName:Zn.ZodOptional,...ur(e)});class kv extends Nr{_parse(e){return this._getType(e)===on.null?cc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kv.create=(t,e)=>new kv({innerType:t,typeName:Zn.ZodNullable,...ur(e)});class zP extends Nr{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===on.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zP.create=(t,e)=>new zP({innerType:t,typeName:Zn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ur(e)});class qP extends Nr{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return aS(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new of(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new of(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}qP.create=(t,e)=>new qP({innerType:t,typeName:Zn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ur(e)});class m9 extends Nr{_parse(e){if(this._getType(e)!==on.nan){const r=this._getOrReturnCtx(e);return Ht(r,{code:Ct.invalid_type,expected:on.nan,received:r.parsedType}),Xn}return{status:"valid",value:e.data}}}m9.create=t=>new m9({typeName:Zn.ZodNaN,...ur(t)});class B5e extends Nr{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class aI extends Nr{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Xn:s.status==="dirty"?(n.dirty(),ab(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Xn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new aI({in:e,out:n,typeName:Zn.ZodPipeline})}}class UP extends Nr{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ev(i)&&(i.value=Object.freeze(i.value)),i);return aS(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}UP.create=(t,e)=>new UP({innerType:t,typeName:Zn.ZodReadonly,...ur(e)});var Zn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Zn||(Zn={}));const Gy=dh.create,$5e=BP.create;Ph.create;Hu.create;const z5e=js.create;lS.create;cS.create;dm.create;Cv.create;uS.create;Sh.create;kv.create;const q5e=Hje,qJ=S.createContext({}),ug=({...t})=>l.jsx(qJ.Provider,{value:{name:t.name},children:l.jsx(Gje,{...t})}),O_=()=>{const t=S.useContext(qJ),e=S.useContext(UJ),{getFieldState:n,formState:r}=T_(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},UJ=S.createContext({}),_p=S.forwardRef(({className:t,...e},n)=>{const r=S.useId();return l.jsx(UJ.Provider,{value:{id:r},children:l.jsx("div",{ref:n,className:pt("space-y-2",t),...e})})});_p.displayName="FormItem";const Ep=S.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=O_();return l.jsx(Re,{ref:n,className:pt(r&&"text-destructive",t),htmlFor:i,...e})});Ep.displayName="FormLabel";const ob=S.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=O_();return l.jsx(Y0,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});ob.displayName="FormControl";const U5e=S.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=O_();return l.jsx("p",{ref:n,id:r,className:pt("text-sm text-muted-foreground",t),...e})});U5e.displayName="FormDescription";const Sg=S.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=O_(),a=i?String(i?.message??""):e;return a?l.jsx("p",{ref:r,id:s,className:pt("text-sm font-medium text-destructive",t),...n,children:a}):null});Sg.displayName="FormMessage";const HJ={100:{allowedTypes:["AUTONOMO","PARTICULAR"],allowedPeriods:["ANUAL"]},200:{allowedTypes:["EMPRESA"],allowedPeriods:["ANUAL"]},202:{allowedTypes:["EMPRESA"],allowedPeriods:["ESPECIAL_FRACCIONADO"],labels:["Abril","Octubre","Diciembre"]},130:{allowedTypes:["AUTONOMO"],allowedPeriods:["TRIMESTRAL"]},131:{allowedTypes:["AUTONOMO"],allowedPeriods:["TRIMESTRAL"]},303:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]},390:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},347:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},349:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]},720:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},190:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},180:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["ANUAL"]},111:{allowedTypes:["AUTONOMO","EMPRESA"],allowedPeriods:["MENSUAL","TRIMESTRAL"]}},P_={100:{name:"IRPF - Declaracin de la Renta"},111:{name:"Retenciones - Modelo 111"},130:{name:"IRPF - Pago fraccionado (actividades econmicas)"},131:{name:"IRPF - Pago fraccionado (estimacin directa)"},180:{name:"Retenciones - Alquileres"},190:{name:"Retenciones - Resumen anual"},200:{name:"Impuesto sobre Sociedades"},202:{name:"Pagos fraccionados IS"},303:{name:"IVA - Autoliquidacin"},347:{name:"Operaciones con terceras personas"},349:{name:"Operaciones intracomunitarias"},390:{name:"IVA - Resumen anual"},720:{name:"Bienes en el extranjero"}};function H5e(t){return HJ[t]?.allowedPeriods??[]}function V5e(t){return t.endDate?!1:!!t.activeFlag}function W5e(t,e){return e.length===0?Object.entries(HJ).filter(([,n])=>n.allowedTypes.includes(t)).map(([n,r])=>({code:n,name:`Modelo ${n}`,allowedTypes:r.allowedTypes,allowedPeriods:r.allowedPeriods,labels:r.labels??null,isActive:!0,createdAt:"",updatedAt:""})):e.filter(n=>n.allowedTypes.some(r=>r===t))}function K5e(t,e){const n=e.find(r=>r.code===t);return n?n.name:`Modelo ${t}`}function z1(t,e){const n=e.find(r=>r.code===t);return n?n.allowedPeriods:H5e(t)}function G5e(t){return V5e({endDate:t.endDate,activeFlag:t.activeFlag})}const Y5e=z5e({taxModelCode:Gy().min(1,"Selecciona un modelo"),periodicity:Gy().min(1,"Selecciona la periodicidad"),startDate:Gy().min(1,"La fecha de alta es obligatoria").refine(t=>!Number.isNaN(Date.parse(t)),"Fecha de alta invlida"),endDate:Gy().optional().refine(t=>!t||!Number.isNaN(Date.parse(t)),"Fecha de baja invlida"),activeFlag:$5e(),notes:Gy().max(1e3,"Mximo 1000 caracteres").optional()}).superRefine((t,e)=>{if(t.endDate){const n=Date.parse(t.startDate);Date.parse(t.endDate)<n&&e.addIssue({path:["endDate"],code:Ct.custom,message:"La fecha de baja debe ser posterior a la fecha de alta"})}});function Yy(t){if(!t)return"";const e=typeof t=="string"?new Date(t):t;if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}const X5e={ANUAL:"Anual",TRIMESTRAL:"Trimestral",MENSUAL:"Mensual",ESPECIAL_FRACCIONADO:"Pagos fraccionados (Abr/Oct/Dic)"};function Z5e({open:t,mode:e,clientType:n,assignedCodes:r,taxModelsConfig:i,assignment:s,onClose:a,onSubmit:o,isSubmitting:c}){const u=c5e({resolver:h5e(Y5e),defaultValues:{taxModelCode:s?.taxModelCode??"",periodicity:s?.periodicity??"",startDate:Yy(s?.startDate)||"",endDate:Yy(s?.endDate)||"",activeFlag:s?s.activeFlag&&!s.endDate:!0,notes:s?.notes??""}}),d=S.useMemo(()=>e==="edit"&&s?r.filter(A=>A!==s.taxModelCode):r,[r,s,e]),f=S.useMemo(()=>W5e(n,i).filter(A=>!d.includes(A.code)),[n,i,d]),m=u.watch("taxModelCode"),p=z1(m,i),b=u.watch("periodicity"),v=u.watch("endDate"),y=u.watch("activeFlag");S.useEffect(()=>{if(!t){u.reset({taxModelCode:s?.taxModelCode??"",periodicity:s?.periodicity??"",startDate:Yy(s?.startDate)||"",endDate:Yy(s?.endDate)||"",activeFlag:s?s.activeFlag&&!s.endDate:!0,notes:s?.notes??""});return}if(!s&&f.length>0){u.setValue("taxModelCode",f[0].code);const A=z1(f[0].code,i);A.length>0&&u.setValue("periodicity",A[0]),u.getValues("startDate")||u.setValue("startDate",Yy(new Date))}},[t,s,f,i,u]),S.useEffect(()=>{if(m){const A=z1(m,i);A.length>0&&!A.includes(b)&&u.setValue("periodicity",A[0])}},[m,b,u,i]),S.useEffect(()=>{v&&y&&u.setValue("activeFlag",!1)},[v,y,u]);const w=S.useMemo(()=>{const A=z1(m,i),k=i.find(P=>P.code===m)?.labels;return{periods:A,labels:k}},[m,i]),_=u.handleSubmit(async A=>{const k={taxModelCode:A.taxModelCode,periodicity:A.periodicity,startDate:A.startDate,endDate:A.endDate?A.endDate:null,activeFlag:A.endDate?!1:A.activeFlag,notes:A.notes?.trim()?A.notes.trim():null};await o(k,s?.id),a()}),E=m?K5e(m,i):null;return l.jsx(ls,{open:t,onOpenChange:A=>!c&&!A?a():void 0,children:l.jsxs(Wi,{className:"sm:max-w-lg",children:[l.jsxs(cs,{children:[l.jsx(us,{children:e==="create"?"Aadir impuesto":`Editar modelo ${m||""}`}),l.jsx(Ca,{children:"Gestiona los modelos fiscales asignados a este cliente."})]}),l.jsx(q5e,{...u,children:l.jsxs("form",{className:"space-y-4",onSubmit:_,children:[l.jsx(ug,{control:u.control,name:"taxModelCode",render:({field:A})=>l.jsxs(_p,{children:[l.jsx(Ep,{children:"Modelo"}),l.jsxs(Wn,{disabled:c||f.length===0,value:A.value,onValueChange:k=>A.onChange(k.toUpperCase()),children:[l.jsx(Bn,{children:l.jsx(Kn,{placeholder:"Selecciona un modelo"})}),l.jsx($n,{children:f.map(k=>l.jsxs(tt,{value:k.code,children:[k.code,"  ",k.name]},k.code))})]}),l.jsx(Sg,{})]})}),l.jsx(ug,{control:u.control,name:"periodicity",render:({field:A})=>l.jsxs(_p,{children:[l.jsx(Ep,{children:"Periodicidad"}),l.jsxs(Wn,{disabled:c||p.length===0,value:A.value,onValueChange:k=>A.onChange(k.toUpperCase()),children:[l.jsx(Bn,{children:l.jsx(Kn,{placeholder:"Selecciona periodicidad"})}),l.jsx($n,{children:p.map(k=>l.jsx(tt,{value:k,children:X5e[k]},k))})]}),w.labels&&w.labels.length>0&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Presentaciones en: ",w.labels.join(", ")]}),b&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[b==="MENSUAL"&&"Se generarn periodos M01..M12 cada ao.",b==="TRIMESTRAL"&&"Se generarn 1T, 2T, 3T y 4T cada ao.",b==="ANUAL"&&"Una presentacin anual por ejercicio."]}),l.jsx(Sg,{})]})}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsx(ug,{control:u.control,name:"startDate",render:({field:A})=>l.jsxs(_p,{children:[l.jsx(Ep,{children:"Fecha de alta"}),l.jsx(ob,{children:l.jsx(Ke,{type:"date",...A,disabled:c})}),l.jsx(Sg,{})]})}),l.jsx(ug,{control:u.control,name:"endDate",render:({field:A})=>l.jsxs(_p,{children:[l.jsx(Ep,{children:"Fecha de baja"}),l.jsx(ob,{children:l.jsx(Ke,{type:"date",value:A.value??"",onChange:k=>A.onChange(k.target.value||""),disabled:c})}),l.jsx(Sg,{})]})})]}),l.jsx(ug,{control:u.control,name:"activeFlag",render:({field:A})=>l.jsxs(_p,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Ep,{className:"text-base",children:"Activo"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"El impuesto permanecer activo mientras no tenga fecha de baja."})]}),l.jsx(ob,{children:l.jsx(Qc,{checked:A.value,onCheckedChange:A.onChange,disabled:!!v||c})})]})}),l.jsx(ug,{control:u.control,name:"notes",render:({field:A})=>l.jsxs(_p,{children:[l.jsx(Ep,{children:"Notas"}),l.jsx(ob,{children:l.jsx(af,{placeholder:E?`Notas internas sobre el modelo ${E}`:"Notas internas",...A,disabled:c})}),l.jsx(Sg,{})]})}),l.jsxs(Fo,{children:[l.jsx(_e,{type:"button",variant:"outline",onClick:a,disabled:c,children:"Cancelar"}),l.jsx(_e,{type:"submit",disabled:c||f.length===0,children:c?"Guardando...":"Guardar"})]})]})})]})})}const Q5e={ANUAL:"default",TRIMESTRAL:"secondary",MENSUAL:"outline",ESPECIAL_FRACCIONADO:"destructive"},J5e={ANUAL:"Anual",TRIMESTRAL:"Trimestral",MENSUAL:"Mensual",ESPECIAL_FRACCIONADO:"Especial fraccionado"};function g9(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})}function eTe({assignment:t,onEdit:e,onDelete:n,onToggleActive:r,disabled:i,selectable:s,selected:a,onSelectChange:o}){const c=G5e(t),u=t.periodicity,d=Q5e[u]??"default",f=J5e[u]??u,m=!!t.endDate;return l.jsxs(or,{children:[l.jsx(St,{className:"w-10",children:s?l.jsx(Ki,{checked:a,onCheckedChange:p=>o?.(!!p,t)}):null}),l.jsx(St,{className:"font-medium",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:`${t.taxModelCode}`}),t.taxModel?.name&&l.jsx("span",{className:"text-xs text-muted-foreground",children:t.taxModel.name})]})}),l.jsx(St,{children:l.jsx(bt,{variant:d,children:f})}),l.jsx(St,{children:g9(t.startDate)}),l.jsx(St,{children:g9(t.endDate)}),l.jsx(St,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qc,{checked:c,disabled:i||m,onCheckedChange:p=>r(t,p)}),l.jsx("span",{className:"text-sm text-muted-foreground",children:c?"Activo":m?"Baja":"Inactivo"})]})}),l.jsx(St,{className:"max-w-sm truncate text-sm text-muted-foreground",children:t.notes||""}),l.jsxs(St,{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"secondary",size:"icon",onClick:()=>e(t),disabled:i,children:l.jsx(Vle,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"destructive",size:"icon",onClick:()=>n(t),disabled:i,children:l.jsx(ka,{className:"h-4 w-4"})})]})]})}function tTe(t){return tn("GET",`/api/clients/${t}`)}function nTe(){return tn("GET","/api/tax-models-config")}function rTe(t){return tn("POST","/api/clients",t)}function iTe(t,e){return tn("PATCH",`/api/clients/${t}`,e)}function sTe(t,e){return tn("POST",`/api/clients/${t}/tax-assignments`,e)}function aTe(t,e){return tn("PATCH",`/api/tax-assignments/${t}`,e)}function oTe(t,e){return tn("DELETE",`/api/tax-assignments/${t}${e?"?hard=1":""}`)}function v9(t,e){const n={codes:e?.codes,assignmentIds:e?.assignmentIds,hard:e?.hard??!0};return tn("POST",`/api/clients/${t}/tax-assignments/delete`,n)}function N5(t){return[...t].sort((e,n)=>{const r=new Date(n.startDate).getTime()-new Date(e.startDate).getTime();return r!==0?r:e.taxModelCode.localeCompare(n.taxModelCode)})}function lTe({clientId:t,clientType:e,assignments:n,taxModelsConfig:r,onAssignmentsChange:i,disabled:s}){const{toast:a}=li(),[o,c]=S.useState(!1),[u,d]=S.useState("create"),[f,m]=S.useState(null),[p,b]=S.useState(null),[v,y]=S.useState(new Set),[w,_]=S.useState(!0),E=S.useMemo(()=>n.map(q=>q.taxModelCode),[n]),A=hn({mutationFn:async q=>{if(!t)throw new Error("El cliente debe guardarse antes de aadir impuestos");return await sTe(t,q)},onSuccess:q=>{i(z=>N5([...z,q])),t&&rn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Impuesto asignado",description:`El modelo ${q.taxModelCode} se asign correctamente.`})},onError:q=>{a({title:"No se pudo asignar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),k=hn({mutationFn:async({assignmentId:q,payload:z})=>await aTe(q,z),onSuccess:q=>{i(z=>N5(z.map(K=>K.id===q.id?q:K))),t&&rn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Asignacin actualizada",description:`Modelo ${q.taxModelCode} actualizado correctamente.`})},onError:q=>{a({title:"No se pudo actualizar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),P=hn({mutationFn:async q=>await oTe(q,w),onSuccess:q=>{q.softDeleted?(i(z=>N5(z.map(K=>K.id===q.assignment.id?q.assignment:K))),t&&rn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Asignacin desactivada",description:q.message})):(i(z=>z.filter(K=>K.id!==q.assignment.id)),a({title:"Asignacin eliminada",description:q.message}))},onError:q=>{a({title:"No se pudo eliminar el impuesto",description:q?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}}),R=()=>{d("create"),m(null),c(!0)},T=q=>{d("edit"),m(q),c(!0)},M=q=>{b(q)},B=(q,z)=>{k.mutate({assignmentId:q.id,payload:{activeFlag:z}})},O=A.isPending||k.isPending,F=(q,z)=>{y(K=>{const Z=new Set(K);return q?Z.add(z.id):Z.delete(z.id),Z})};return l.jsxs(dt,{children:[l.jsxs(Dt,{className:"flex flex-row items-center justify-between",children:[l.jsx($t,{children:"Asignaciones fiscales"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_e,{onClick:R,disabled:!t||s,children:"Aadir impuesto"}),l.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l",children:[l.jsx(Qc,{id:"hard-delete",checked:w,onCheckedChange:_}),l.jsx(Re,{htmlFor:"hard-delete",className:"text-xs text-muted-foreground",children:"Borrado definitivo"})]}),l.jsx(_e,{variant:"outline",disabled:!t||s||n.length===0,onClick:async()=>{if(!(!t||!window.confirm("Eliminar todas las asignaciones fiscales de este cliente? Los modelos con histrico se desactivarn.")))try{const z=await v9(t,{hard:w});Array.isArray(z.assignments)?i(()=>z.assignments):i(()=>[]),rn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Limpieza completada",description:`${z.deleted} eliminadas, ${z.deactivated} desactivadas`})}catch(z){a({title:"Error",description:z?.message??"No se pudo limpiar",variant:"destructive"})}},children:"Borrar modelos"}),l.jsx(_e,{variant:"destructive",disabled:!t||s||v.size===0,onClick:async()=>{if(!t)return;const q=Array.from(v);if(window.confirm(`Eliminar/desactivar modelos seleccionados? (${q.length} registros)`))try{const K=await v9(t,{assignmentIds:q,hard:w});y(new Set),Array.isArray(K.assignments)?i(()=>K.assignments):rn.invalidateQueries({queryKey:["client-detail",t]}),a({title:"Seleccin procesada",description:`${K.deleted} eliminadas, ${K.deactivated} desactivadas`})}catch(K){a({title:"Error",description:K?.message??"No se pudo procesar la seleccin",variant:"destructive"})}},children:"Borrar seleccionados"})]})]}),l.jsx(ft,{children:t?n.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay impuestos asignados. Aade un modelo fiscal para empezar a controlar sus obligaciones."}):l.jsx("div",{className:"overflow-x-auto rounded-md border",children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{className:"w-10"}),l.jsx(Pt,{children:"Modelo"}),l.jsx(Pt,{children:"Periodicidad"}),l.jsx(Pt,{children:"Alta"}),l.jsx(Pt,{children:"Baja"}),l.jsx(Pt,{children:"Activo"}),l.jsx(Pt,{children:"Notas"}),l.jsx(Pt,{className:"w-[120px] text-right",children:"Acciones"})]})}),l.jsx(zo,{children:n.map(q=>l.jsx(eTe,{assignment:q,onEdit:T,onDelete:M,onToggleActive:B,selectable:!0,selected:v.has(q.id),onSelectChange:F,disabled:s||k.isPending||P.isPending},q.id))})]})}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"Guarda los datos del cliente para gestionar sus modelos fiscales."})}),l.jsx(Z5e,{open:o,mode:u,clientType:e,assignedCodes:E,taxModelsConfig:r,assignment:f,onClose:()=>c(!1),onSubmit:async(q,z)=>{u==="create"?await A.mutateAsync(q):z&&await k.mutateAsync({assignmentId:z,payload:q})},isSubmitting:O}),l.jsx(k_,{open:!!p,onOpenChange:q=>!q&&b(null),children:l.jsxs(mx,{children:[l.jsxs(gx,{children:[l.jsx(vx,{children:"Eliminar asignacin fiscal?"}),l.jsxs(yx,{children:["Esta accin eliminar la asignacin del modelo"," ",l.jsx("strong",{children:p?.taxModelCode}),". Si existen histricos, se dar de baja automticamente."]})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-md border p-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Borrado definitivo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Si est activado, se eliminar tambin el histrico asociado a este modelo."})]}),l.jsx(Qc,{checked:w,onCheckedChange:_})]}),l.jsxs(EJ,{children:[l.jsx(xx,{disabled:P.isPending,onClick:()=>b(null),children:"Cancelar"}),l.jsx(bx,{onClick:()=>p&&P.mutate(p.id),disabled:P.isPending,children:P.isPending?"Eliminando...":"Eliminar"})]})]})})]})}const y9=[{value:"AUTONOMO",label:"Autnomo"},{value:"EMPRESA",label:"Empresa"},{value:"PARTICULAR",label:"Particular"}],th="__none__";function Bd(t){if(!t)return"";const e=new Date(t);if(Number.isNaN(e.getTime()))return"";const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}`}function lb(){return Bd(new Date().toISOString())}const b9={razonSocial:"",nifCif:"",tipo:"AUTONOMO",email:"",telefono:"",direccion:"",responsableAsignado:th,fechaAlta:lb(),fechaBaja:"",isActive:!0,notes:""};function cTe(t){return{razonSocial:t.razonSocial.trim(),nifCif:t.nifCif.trim(),tipo:t.tipo,email:t.email.trim()?t.email.trim():null,telefono:t.telefono.trim()?t.telefono.trim():null,direccion:t.direccion.trim()?t.direccion.trim():null,responsableAsignado:t.responsableAsignado===th?null:t.responsableAsignado,isActive:t.isActive,fechaAlta:t.fechaAlta||null,fechaBaja:t.fechaBaja||null,notes:t.notes.trim()?t.notes.trim():null}}function uTe(){const{toast:t}=li(),[e,n]=S.useState(""),[r,i]=S.useState("todos"),[s,a]=S.useState(!1),[o,c]=S.useState("general"),[u,d]=S.useState(null),[f,m]=S.useState(null),[p,b]=S.useState(null),[v,y]=S.useState([]),[w,_]=S.useState([]),[E,A]=S.useState(""),[k,P]=S.useState(b9),{data:R=[],isLoading:T}=Sn({queryKey:["/api/clients",{view:"list"}],queryFn:()=>tn("GET","/api/clients?full=0"),staleTime:6e4}),{data:M=[]}=Sn({queryKey:["/api/users"],staleTime:5*6e4}),B=S.useMemo(()=>{const X=new Map;return(M||[]).forEach(pe=>X.set(pe.id,pe.username)),X},[M]),{data:O=[]}=Sn({queryKey:["tax-models-config"],queryFn:()=>nTe()}),{data:F,isFetching:q}=Sn({queryKey:["client-detail",p],queryFn:()=>tTe(p),enabled:!!(p&&s)});S.useEffect(()=>{if(!F)return;m(F),y(F.taxAssignments??[]),P({razonSocial:F.razonSocial??"",nifCif:F.nifCif??"",tipo:F.tipo||"AUTONOMO",email:F.email??"",telefono:F.telefono??"",direccion:F.direccion??"",responsableAsignado:F.responsableAsignado??th,fechaAlta:Bd(F.fechaAlta)||lb(),fechaBaja:Bd(F.fechaBaja),isActive:F.isActive??!0,notes:F.notes??""});const X=F.employees?.map(xe=>xe.userId)??[],pe=F.employees?.find(xe=>xe.isPrimary)?.userId??"";_(X),A(pe)},[F]);const z=hn({mutationFn:async X=>await rTe(X),onSuccess:X=>{rn.invalidateQueries({queryKey:["/api/clients"]}),d({...X,tipo:X.tipo,fechaAlta:X.fechaAlta,fechaBaja:X.fechaBaja}),m(X),P({razonSocial:X.razonSocial??"",nifCif:X.nifCif??"",tipo:X.tipo||"AUTONOMO",email:X.email??"",telefono:X.telefono??"",direccion:X.direccion??"",responsableAsignado:X.responsableAsignado??th,fechaAlta:Bd(X.fechaAlta)||lb(),fechaBaja:Bd(X.fechaBaja),isActive:X.isActive??!0,notes:X.notes??""}),b(X.id),y(X.taxAssignments??[]),c("fiscal"),t({title:"Cliente creado exitosamente"})},onError:X=>{t({title:"No se pudo crear el cliente",description:X?.message??"Intenta de nuevo",variant:"destructive"})}}),K=hn({mutationFn:async({id:X,payload:pe})=>await iTe(X,pe),onSuccess:X=>{rn.invalidateQueries({queryKey:["/api/clients"]}),m(X),P({razonSocial:X.razonSocial??"",nifCif:X.nifCif??"",tipo:X.tipo||"AUTONOMO",email:X.email??"",telefono:X.telefono??"",direccion:X.direccion??"",responsableAsignado:X.responsableAsignado??th,fechaAlta:Bd(X.fechaAlta)||lb(),fechaBaja:Bd(X.fechaBaja),isActive:X.isActive??!0,notes:X.notes??""}),y(X.taxAssignments??[]),d(pe=>pe?{...pe,...X}:null),t({title:"Cliente actualizado exitosamente"})},onError:X=>{t({title:"No se pudo actualizar el cliente",description:X?.message??"Intenta de nuevo",variant:"destructive"})}}),Z=hn({mutationFn:async X=>await tn("DELETE",`/api/clients/${X}`,{}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Cliente eliminado exitosamente"}),s&&ge()}}),H=hn({mutationFn:async X=>await tn("PATCH",`/api/clients/${X}/toggle-active`,{}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/clients"]}),t({title:"Estado del cliente actualizado"})},onError:()=>{t({title:"Error al cambiar el estado del cliente",variant:"destructive"})}}),W=hn({mutationFn:async({clientId:X,employeeIds:pe,primaryId:xe})=>await tn("PUT",`/api/clients/${X}/employees`,{employeeIds:pe,primaryEmployeeId:xe}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/clients"]})}}),Y=S.useMemo(()=>R.filter(X=>{const pe=X.razonSocial.toLowerCase().includes(e.toLowerCase())||X.nifCif.toLowerCase().includes(e.toLowerCase()),xe=r==="todos"||X.tipo.toUpperCase()===r.toUpperCase();return pe&&xe}),[R,e,r]),ge=()=>{a(!1),setTimeout(()=>{Q()},200)},Q=()=>{P(b9),_([]),A(""),d(null),m(null),b(null),y([]),c("general")},I=()=>{Q(),a(!0)},G=X=>{d(X),P({razonSocial:X.razonSocial,nifCif:X.nifCif,tipo:(X.tipo||"AUTONOMO").toUpperCase(),email:X.email??"",telefono:X.telefono??"",direccion:X.direccion??"",responsableAsignado:X.responsableAsignado??th,fechaAlta:Bd(X.fechaAlta)||lb(),fechaBaja:Bd(X.fechaBaja),isActive:X.isActive??!0,notes:X.notes??""});const pe=X.employees?.map(De=>De.userId)??[],xe=X.employees?.find(De=>De.isPrimary)?.userId??"";_(pe),A(xe),y(X.taxAssignments??[]),b(X.id),c("general"),a(!0)},ne=async X=>{X.preventDefault();const pe=cTe(k);try{let xe=u?.id||f?.id||p;xe?xe=(await K.mutateAsync({id:xe,payload:pe})).id:xe=(await z.mutateAsync(pe)).id,xe&&await W.mutateAsync({clientId:xe,employeeIds:w,primaryId:w.length>0?E||w[0]:""})}catch(xe){t({title:"Error al guardar el cliente",description:xe?.message??"Intenta de nuevo ms tarde",variant:"destructive"})}},ie=()=>{if(!R||R.length===0)return;const X=$ke.unparse(R),pe=new Blob([X],{type:"text/csv"}),xe=window.URL.createObjectURL(pe),De=document.createElement("a");De.href=xe,De.download=`clientes_${new Date().toISOString().split("T")[0]}.csv`,De.click(),t({title:"Exportacin completada"})},he=X=>X&&B.get(X)||"Sin asignar",J=async X=>{await Z.mutateAsync(X)},ue=z.isPending||K.isPending||W.isPending,ae=f?.id??u?.id??null;return T?l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsx(Vn,{className:"h-9 w-48"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Vn,{className:"h-10 flex-1"}),l.jsx(Vn,{className:"h-10 w-32"}),l.jsx(Vn,{className:"h-10 w-32"})]}),l.jsx(dt,{children:l.jsx(ft,{className:"p-6",children:[...Array(5)].map((X,pe)=>l.jsx(Vn,{className:"h-12 w-full mb-2"},pe))})})]}):l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Clientes"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de clientes y contactos"})]}),l.jsxs(ls,{open:s,onOpenChange:X=>{X?a(!0):ge()},children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{onClick:I,"data-testid":"button-add-client",children:[l.jsx(da,{className:"mr-2 h-4 w-4"}),"Nuevo Cliente"]})}),l.jsxs(Wi,{className:"max-w-4xl",children:[l.jsxs(cs,{className:"space-y-1",children:[l.jsx(us,{children:u?"Editar Cliente":"Nuevo Cliente"}),l.jsx(Ca,{children:u?"Actualiza la informacin del cliente":"Completa la informacin para crear un nuevo cliente"})]}),l.jsxs("form",{id:"client-editor-form",onSubmit:ne,className:"space-y-6 mt-6",children:[l.jsxs(Al,{value:o,onValueChange:X=>c(X),children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs(Xo,{children:[l.jsx(Pn,{value:"general",children:"Datos del cliente"}),l.jsx(Pn,{value:"fiscal",disabled:!ae,children:"Datos fiscales y contables"})]}),l.jsx(_e,{type:"submit",disabled:ue,className:"shrink-0",children:ue?"Guardando...":"Guardar cambios"})]}),l.jsx(cr,{value:"general",children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"razonSocial",children:"Razn Social *"}),l.jsx(Ke,{id:"razonSocial",value:k.razonSocial,onChange:X=>P(pe=>({...pe,razonSocial:X.target.value})),required:!0,"data-testid":"input-razon-social"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"nifCif",children:"NIF/CIF *"}),l.jsx(Ke,{id:"nifCif",value:k.nifCif,onChange:X=>P(pe=>({...pe,nifCif:X.target.value})),required:!0,"data-testid":"input-nif-cif"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"tipo",children:"Tipo *"}),l.jsxs(Wn,{value:k.tipo,onValueChange:X=>P(pe=>({...pe,tipo:X})),children:[l.jsx(Bn,{"data-testid":"select-tipo",children:l.jsx(Kn,{})}),l.jsx($n,{children:y9.map(X=>l.jsx(tt,{value:X.value,children:X.label},X.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"responsableAsignado",children:"Responsable"}),l.jsxs(Wn,{value:k.responsableAsignado??th,onValueChange:X=>P(pe=>({...pe,responsableAsignado:X})),children:[l.jsx(Bn,{children:l.jsx(Kn,{placeholder:"Sin asignar"})}),l.jsxs($n,{children:[l.jsx(tt,{value:th,children:"Sin asignar"}),M.map(X=>l.jsx(tt,{value:X.id,children:X.username},X.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"fechaAlta",children:"Fecha de alta"}),l.jsx(Ke,{id:"fechaAlta",type:"date",value:k.fechaAlta,onChange:X=>P(pe=>({...pe,fechaAlta:X.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"fechaBaja",children:"Fecha de baja"}),l.jsx(Ke,{id:"fechaBaja",type:"date",value:k.fechaBaja,onChange:X=>P(pe=>({...pe,fechaBaja:X.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"email",children:"Email"}),l.jsx(Ke,{id:"email",type:"email",value:k.email,onChange:X=>P(pe=>({...pe,email:X.target.value})),"data-testid":"input-email"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"telefono",children:"Telfono"}),l.jsx(Ke,{id:"telefono",value:k.telefono,onChange:X=>P(pe=>({...pe,telefono:X.target.value})),"data-testid":"input-telefono"})]}),l.jsxs("div",{className:"md:col-span-2 space-y-2",children:[l.jsx(Re,{htmlFor:"direccion",children:"Direccin"}),l.jsx(Ke,{id:"direccion",value:k.direccion,onChange:X=>P(pe=>({...pe,direccion:X.target.value}))})]}),l.jsxs("div",{className:"md:col-span-2 space-y-2",children:[l.jsx(Re,{htmlFor:"notes",children:"Notas internas"}),l.jsx(af,{id:"notes",value:k.notes,onChange:X=>P(pe=>({...pe,notes:X.target.value})),rows:3})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4",children:[l.jsxs("div",{children:[l.jsxs(Re,{className:"flex items-center gap-2 text-sm font-semibold",children:[l.jsx(GT,{className:"h-4 w-4"}),"Cliente activo"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Desactiva el cliente cuando ya no se gestione para mantener el histrico."})]}),l.jsx(Qc,{checked:k.isActive,onCheckedChange:X=>P(pe=>({...pe,isActive:X}))})]})}),l.jsxs("div",{className:"md:col-span-2 space-y-3",children:[l.jsxs(Re,{className:"flex items-center gap-2",children:[l.jsx(Cle,{className:"h-4 w-4"}),"Empleados asignados"]}),l.jsx("div",{className:"border rounded-md p-4 space-y-3 max-h-48 overflow-y-auto",children:M.map(X=>{const pe=w.includes(X.id),xe=E===X.id;return l.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 rounded-md hover:bg-muted/40",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ki,{id:`employee-${X.id}`,checked:pe,onCheckedChange:De=>{if(De){const Ee=[...w,X.id];_(Ee),Ee.length===1&&A(X.id)}else _(Ee=>Ee.filter(de=>de!==X.id)),xe&&A(Ee=>w.filter(Ge=>Ge!==X.id)[0]||"")}}),l.jsxs(Re,{htmlFor:`employee-${X.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[X.username,xe&&l.jsx(bt,{variant:"default",className:"text-xs",children:"Primario"})]})]}),pe&&!xe&&l.jsx(_e,{type:"button",variant:"ghost",size:"sm",onClick:()=>A(X.id),children:"Marcar como primario"})]},X.id)})}),w.length===0&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecciona al menos un empleado para asignar al cliente"})]})]})}),l.jsxs(cr,{value:"fiscal",children:[q&&l.jsxs("div",{className:"space-y-3",children:[l.jsx(Vn,{className:"h-8 w-48"}),l.jsx(Vn,{className:"h-64 w-full"})]}),!q&&l.jsx(lTe,{clientId:ae??void 0,clientType:k.tipo,assignments:v,taxModelsConfig:O,disabled:!ae,onAssignmentsChange:X=>y(pe=>X(pe))})]})]}),l.jsx(Fo,{className:"flex items-center justify-between",children:l.jsx(_e,{type:"button",variant:"outline",onClick:ge,disabled:ue,children:"Cancelar"})})]})]})]})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx($v,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Ke,{placeholder:"Buscar por razn social o NIF/CIF",value:e,onChange:X=>n(X.target.value),className:"pl-8"})]}),l.jsxs(Wn,{value:r,onValueChange:i,children:[l.jsx(Bn,{className:"w-40",children:l.jsx(Kn,{placeholder:"Filtrar por tipo"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"todos",children:"Todos"}),y9.map(X=>l.jsx(tt,{value:X.value,children:X.label},X.value))]})]})]}),l.jsxs(_e,{variant:"outline",onClick:ie,children:[l.jsx(Yc,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Listado de clientes"})}),l.jsx(ft,{className:"p-0",children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Cliente"}),l.jsx(Pt,{children:"Tipo"}),l.jsx(Pt,{children:"Responsable"}),l.jsx(Pt,{children:"Telfono"}),l.jsx(Pt,{children:"Email"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{className:"text-right w-[150px]",children:"Acciones"})]})}),l.jsxs(zo,{children:[Y.map(X=>l.jsxs(or,{children:[l.jsx(St,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:X.razonSocial}),l.jsx("span",{className:"text-xs text-muted-foreground",children:X.nifCif})]})}),l.jsx(St,{children:X.tipo?.toUpperCase()}),l.jsx(St,{children:he(X.responsableAsignado)}),l.jsx(St,{children:X.telefono||""}),l.jsx(St,{children:X.email||""}),l.jsx(St,{children:l.jsx(bt,{variant:X.isActive?"default":"outline",children:X.isActive?"Activo":"Inactivo"})}),l.jsx(St,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>G(X),children:l.jsx(Bu,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>H.mutate(X.id),title:X.isActive?"Desactivar":"Activar",children:X.isActive?l.jsx(GT,{className:"h-4 w-4"}):l.jsx(ex,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"destructive",size:"icon",onClick:()=>J(X.id),children:l.jsx(ka,{className:"h-4 w-4"})})]})})]},X.id)),Y.length===0&&l.jsx(or,{children:l.jsx(St,{colSpan:7,className:"text-center text-muted-foreground py-6",children:"No se encontraron clientes con los filtros seleccionados."})})]})]})})]})]})}var VJ=["PageUp","PageDown"],WJ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],KJ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ny="Slider",[HP,dTe,fTe]=gN(ny),[GJ]=bo(ny,[fTe]),[hTe,M_]=GJ(ny),YJ=S.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:b,...v}=t,y=S.useRef(new Set),w=S.useRef(0),E=a==="horizontal"?pTe:mTe,[A=[],k]=Kc({prop:d,defaultProp:u,onChange:O=>{[...y.current][w.current]?.focus(),f(O)}}),P=S.useRef(A);function R(O){const F=xTe(A,O);B(O,F)}function T(O){B(O,w.current)}function M(){const O=P.current[w.current];A[w.current]!==O&&m(A)}function B(O,F,{commit:q}={commit:!1}){const z=_Te(s),K=ETe(Math.round((O-r)/s)*s+r,z),Z=_0(K,[r,i]);k((H=[])=>{const W=yTe(H,Z,F);if(NTe(W,c*s)){w.current=W.indexOf(Z);const Y=String(W)!==String(H);return Y&&q&&m(W),Y?W:H}else return H})}return l.jsx(hTe,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:w,thumbs:y.current,values:A,orientation:a,form:b,children:l.jsx(HP.Provider,{scope:t.__scopeSlider,children:l.jsx(HP.Slot,{scope:t.__scopeSlider,children:l.jsx(E,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:e,onPointerDown:qt(v.onPointerDown,()=>{o||(P.current=A)}),min:r,max:i,inverted:p,onSlideStart:o?void 0:R,onSlideMove:o?void 0:T,onSlideEnd:o?void 0:M,onHomeKeyDown:()=>!o&&B(r,0,{commit:!0}),onEndKeyDown:()=>!o&&B(i,A.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:F})=>{if(!o){const K=VJ.includes(O.key)||O.shiftKey&&WJ.includes(O.key)?10:1,Z=w.current,H=A[Z],W=s*K*F;B(H+W,Z,{commit:!0})}}})})})})});YJ.displayName=ny;var[XJ,ZJ]=GJ(ny,{startEdge:"left",endEdge:"right",size:"width",direction:1}),pTe=S.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,m]=S.useState(null),p=zn(e,E=>m(E)),b=S.useRef(void 0),v=sx(i),y=v==="ltr",w=y&&!s||!y&&s;function _(E){const A=b.current||f.getBoundingClientRect(),k=[0,A.width],R=oI(k,w?[n,r]:[r,n]);return b.current=A,R(E-A.left)}return l.jsx(XJ,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:l.jsx(QJ,{dir:v,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const A=_(E.clientX);a?.(A)},onSlideMove:E=>{const A=_(E.clientX);o?.(A)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:E=>{const k=KJ[w?"from-left":"from-right"].includes(E.key);u?.({event:E,direction:k?-1:1})}})})}),mTe=S.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=t,d=S.useRef(null),f=zn(e,d),m=S.useRef(void 0),p=!i;function b(v){const y=m.current||d.current.getBoundingClientRect(),w=[0,y.height],E=oI(w,p?[r,n]:[n,r]);return m.current=y,E(v-y.top)}return l.jsx(XJ,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:l.jsx(QJ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const y=b(v.clientY);s?.(y)},onSlideMove:v=>{const y=b(v.clientY);a?.(y)},onSlideEnd:()=>{m.current=void 0,o?.()},onStepKeyDown:v=>{const w=KJ[p?"from-bottom":"from-top"].includes(v.key);c?.({event:v,direction:w?-1:1})}})})}),QJ=S.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=t,d=M_(ny,n);return l.jsx(Vt.span,{...u,ref:e,onKeyDown:qt(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):VJ.concat(WJ).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:qt(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():r(f)}),onPointerMove:qt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:qt(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),s(f))})})}),JJ="SliderTrack",eee=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=M_(JJ,n);return l.jsx(Vt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});eee.displayName=JJ;var VP="SliderRange",tee=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=M_(VP,n),s=ZJ(VP,n),a=S.useRef(null),o=zn(e,a),c=i.values.length,u=i.values.map(m=>iee(m,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return l.jsx(Vt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});tee.displayName=VP;var WP="SliderThumb",nee=S.forwardRef((t,e)=>{const n=dTe(t.__scopeSlider),[r,i]=S.useState(null),s=zn(e,o=>i(o)),a=S.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return l.jsx(gTe,{...t,ref:s,index:a})}),gTe=S.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=M_(WP,n),o=ZJ(WP,n),[c,u]=S.useState(null),d=zn(e,_=>u(_)),f=c?a.form||!!c.closest("form"):!0,m=CN(c),p=a.values[r],b=p===void 0?0:iee(p,a.min,a.max),v=bTe(r,a.values.length),y=m?.[o.size],w=y?wTe(y,b,o.direction):0;return S.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${b}% + ${w}px)`},children:[l.jsx(HP.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(Vt.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:qt(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&l.jsx(ree,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},r)]})});nee.displayName=WP;var vTe="RadioBubbleInput",ree=S.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=S.useRef(null),s=zn(i,r),a=S_(e);return S.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(Vt.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});ree.displayName=vTe;function yTe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function iee(t,e,n){const s=100/(n-e)*(t-e);return _0(s,[0,100])}function bTe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function xTe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function wTe(t,e,n){const r=t/2,s=oI([0,50],[0,r]);return(r-s(e)*n)*n}function STe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function NTe(t,e){if(e>0){const n=STe(t);return Math.min(...n)>=e}return!0}function oI(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function _Te(t){return(String(t).split(".")[1]||"").length}function ETe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var see=YJ,CTe=eee,ATe=tee,kTe=nee;const aee=S.forwardRef(({className:t,...e},n)=>l.jsxs(see,{ref:n,className:pt("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(CTe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(ATe,{className:"absolute h-full bg-primary"})}),l.jsx(kTe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));aee.displayName=see.displayName;function Sr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Cl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ho(t,e){const n=Sr(t);return isNaN(e)?Cl(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Jc(t,e){const n=Sr(t);if(isNaN(e))return Cl(t,NaN);if(!e)return n;const r=n.getDate(),i=Cl(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const lI=6048e5,jTe=864e5;let TTe={};function Sx(){return TTe}function Xu(t,e){const n=Sx(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Sr(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function fm(t){return Xu(t,{weekStartsOn:1})}function oee(t){const e=Sr(t),n=e.getFullYear(),r=Cl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=fm(r),s=Cl(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=fm(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function jv(t){const e=Sr(t);return e.setHours(0,0,0,0),e}function dS(t){const e=Sr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Lu(t,e){const n=jv(t),r=jv(e),i=+n-dS(n),s=+r-dS(r);return Math.round((i-s)/jTe)}function OTe(t){const e=oee(t),n=Cl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),fm(n)}function KP(t,e){const n=e*7;return ho(t,n)}function PTe(t,e){return Jc(t,e*12)}function MTe(t){let e;return t.forEach(function(n){const r=Sr(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function RTe(t){let e;return t.forEach(n=>{const r=Sr(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Ho(t,e){const n=jv(t),r=jv(e);return+n==+r}function cI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ITe(t){if(!cI(t)&&typeof t!="number")return!1;const e=Sr(t);return!isNaN(Number(e))}function k0(t,e){const n=Sr(t),r=Sr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function DTe(t,e,n){const r=Xu(t,n),i=Xu(e,n),s=+r-dS(r),a=+i-dS(i);return Math.round((s-a)/lI)}function uI(t){const e=Sr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Vo(t){const e=Sr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function lee(t){const e=Sr(t),n=Cl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dI(t,e){const n=Sx(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Sr(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function cee(t){return dI(t,{weekStartsOn:1})}const LTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FTe=(t,e,n)=>{let r;const i=LTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Kg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$Te={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qTe={date:Kg({formats:BTe,defaultWidth:"full"}),time:Kg({formats:$Te,defaultWidth:"full"}),dateTime:Kg({formats:zTe,defaultWidth:"full"})},UTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HTe=(t,e,n,r)=>UTe[t];function Mu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const VTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZTe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},QTe={ordinalNumber:ZTe,era:Mu({values:VTe,defaultWidth:"wide"}),quarter:Mu({values:WTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mu({values:KTe,defaultWidth:"wide"}),day:Mu({values:GTe,defaultWidth:"wide"}),dayPeriod:Mu({values:YTe,defaultWidth:"wide",formattingValues:XTe,defaultFormattingWidth:"wide"})};function Ru(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?eOe(o,f=>f.test(a)):JTe(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function JTe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eOe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function uee(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const tOe=/^(\d+)(th|st|nd|rd)?/i,nOe=/\d+/i,rOe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iOe={any:[/^b/i,/^(a|c)/i]},sOe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aOe={any:[/1/i,/2/i,/3/i,/4/i]},oOe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cOe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uOe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dOe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fOe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hOe={ordinalNumber:uee({matchPattern:tOe,parsePattern:nOe,valueCallback:t=>parseInt(t,10)}),era:Ru({matchPatterns:rOe,defaultMatchWidth:"wide",parsePatterns:iOe,defaultParseWidth:"any"}),quarter:Ru({matchPatterns:sOe,defaultMatchWidth:"wide",parsePatterns:aOe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ru({matchPatterns:oOe,defaultMatchWidth:"wide",parsePatterns:lOe,defaultParseWidth:"any"}),day:Ru({matchPatterns:cOe,defaultMatchWidth:"wide",parsePatterns:uOe,defaultParseWidth:"any"}),dayPeriod:Ru({matchPatterns:dOe,defaultMatchWidth:"any",parsePatterns:fOe,defaultParseWidth:"any"})},dee={code:"en-US",formatDistance:FTe,formatLong:qTe,formatRelative:HTe,localize:QTe,match:hOe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pOe(t){const e=Sr(t);return Lu(e,lee(e))+1}function fee(t){const e=Sr(t),n=+fm(e)-+OTe(e);return Math.round(n/lI)+1}function hee(t,e){const n=Sr(t),r=n.getFullYear(),i=Sx(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Cl(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Xu(a,e),c=Cl(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Xu(c,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function mOe(t,e){const n=Sx(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=hee(t,e),s=Cl(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Xu(s,e)}function pee(t,e){const n=Sr(t),r=+Xu(n,e)-+mOe(n,e);return Math.round(r/lI)+1}function Kr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Kf={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Kr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Kr(n+1,2)},d(t,e){return Kr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Kr(t.getHours()%12||12,e.length)},H(t,e){return Kr(t.getHours(),e.length)},m(t,e){return Kr(t.getMinutes(),e.length)},s(t,e){return Kr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Kr(i,e.length)}},dg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x9={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Kf.y(t,e)},Y:function(t,e,n,r){const i=hee(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Kr(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Kr(s,e.length)},R:function(t,e){const n=oee(t);return Kr(n,e.length)},u:function(t,e){const n=t.getFullYear();return Kr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Kr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Kr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Kf.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Kr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=pee(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Kr(i,e.length)},I:function(t,e,n){const r=fee(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Kr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Kf.d(t,e)},D:function(t,e,n){const r=pOe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Kr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Kr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Kr(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Kr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=dg.noon:r===0?i=dg.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=dg.evening:r>=12?i=dg.afternoon:r>=4?i=dg.morning:i=dg.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kf.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Kf.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Kr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Kr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Kf.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Kf.s(t,e)},S:function(t,e){return Kf.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return S9(r);case"XXXX":case"XX":return Cp(r);case"XXXXX":case"XXX":default:return Cp(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return S9(r);case"xxxx":case"xx":return Cp(r);case"xxxxx":case"xxx":default:return Cp(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+w9(r,":");case"OOOO":default:return"GMT"+Cp(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+w9(r,":");case"zzzz":default:return"GMT"+Cp(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Kr(r,e.length)},T:function(t,e,n){const r=t.getTime();return Kr(r,e.length)}};function w9(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Kr(s,2)}function S9(t,e){return t%60===0?(t>0?"-":"+")+Kr(Math.abs(t)/60,2):Cp(t,e)}function Cp(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Kr(Math.trunc(r/60),2),s=Kr(r%60,2);return n+i+e+s}const N9=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mee=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gOe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return N9(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",N9(r,e)).replace("{{time}}",mee(i,e))},vOe={p:mee,P:gOe},yOe=/^D+$/,bOe=/^Y+$/,xOe=["D","DD","YY","YYYY"];function wOe(t){return yOe.test(t)}function SOe(t){return bOe.test(t)}function NOe(t,e,n){const r=_Oe(t,e,n);if(console.warn(r),xOe.includes(t))throw new RangeError(r)}function _Oe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,COe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AOe=/^'([^]*?)'?$/,kOe=/''/g,jOe=/[a-zA-Z]/;function mo(t,e,n){const r=Sx(),i=n?.locale??r.locale??dee,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Sr(t);if(!ITe(o))throw new RangeError("Invalid time value");let c=e.match(COe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const m=vOe[f];return m(d,i.formatLong)}return d}).join("").match(EOe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:TOe(d)};if(x9[f])return{isToken:!0,value:d};if(f.match(jOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&SOe(f)||!n?.useAdditionalDayOfYearTokens&&wOe(f))&&NOe(f,e,String(t));const m=x9[f[0]];return m(o,f,i.localize,u)}).join("")}function TOe(t){const e=t.match(AOe);return e?e[1].replace(kOe,"'"):t}function OOe(t){const e=Sr(t),n=e.getFullYear(),r=e.getMonth(),i=Cl(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function POe(t){return Math.trunc(+Sr(t)/1e3)}function MOe(t){const e=Sr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function ROe(t,e){return DTe(MOe(t),Vo(t),e)+1}function GP(t,e){const n=Sr(t),r=Sr(e);return n.getTime()>r.getTime()}function gee(t,e){const n=Sr(t),r=Sr(e);return+n<+r}function fI(t,e){const n=Sr(t),r=Sr(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function IOe(t,e){const n=Sr(t),r=Sr(e);return n.getFullYear()===r.getFullYear()}function _5(t,e){return ho(t,-e)}function E5(t,e){const n=Sr(t),r=n.getFullYear(),i=n.getDate(),s=Cl(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=OOe(s);return n.setMonth(e,Math.min(i,a)),n}function _9(t,e){const n=Sr(t);return isNaN(+n)?Cl(t,NaN):(n.setFullYear(e),n)}const DOe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},LOe=(t,e,n)=>{let r;const i=DOe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},FOe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},BOe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$Oe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zOe={date:Kg({formats:FOe,defaultWidth:"full"}),time:Kg({formats:BOe,defaultWidth:"full"}),dateTime:Kg({formats:$Oe,defaultWidth:"full"})},qOe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},UOe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},HOe=(t,e,n,r)=>e.getHours()!==1?UOe[t]:qOe[t],VOe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},WOe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},KOe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},GOe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},YOe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},XOe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},ZOe=(t,e)=>Number(t)+"",QOe={ordinalNumber:ZOe,era:Mu({values:VOe,defaultWidth:"wide"}),quarter:Mu({values:WOe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Mu({values:KOe,defaultWidth:"wide"}),day:Mu({values:GOe,defaultWidth:"wide"}),dayPeriod:Mu({values:YOe,defaultWidth:"wide",formattingValues:XOe,defaultFormattingWidth:"wide"})},JOe=/^(\d+)()?/i,ePe=/\d+/i,tPe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},nPe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},rPe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},iPe={any:[/1/i,/2/i,/3/i,/4/i]},sPe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},aPe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},oPe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},lPe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},cPe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},uPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},dPe={ordinalNumber:uee({matchPattern:JOe,parsePattern:ePe,valueCallback:function(t){return parseInt(t,10)}}),era:Ru({matchPatterns:tPe,defaultMatchWidth:"wide",parsePatterns:nPe,defaultParseWidth:"any"}),quarter:Ru({matchPatterns:rPe,defaultMatchWidth:"wide",parsePatterns:iPe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ru({matchPatterns:sPe,defaultMatchWidth:"wide",parsePatterns:aPe,defaultParseWidth:"any"}),day:Ru({matchPatterns:oPe,defaultMatchWidth:"wide",parsePatterns:lPe,defaultParseWidth:"any"}),dayPeriod:Ru({matchPatterns:cPe,defaultMatchWidth:"any",parsePatterns:uPe,defaultParseWidth:"any"})},Ou={code:"es",formatDistance:LOe,formatLong:zOe,formatRelative:HOe,localize:QOe,match:dPe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var Dn=function(){return Dn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dn.apply(this,arguments)};function fPe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vee(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Nx(t){return t.mode==="multiple"}function _x(t){return t.mode==="range"}function R_(t){return t.mode==="single"}var hPe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function pPe(t,e){return mo(t,"LLLL y",e)}function mPe(t,e){return mo(t,"d",e)}function gPe(t,e){return mo(t,"LLLL",e)}function vPe(t){return"".concat(t)}function yPe(t,e){return mo(t,"cccccc",e)}function bPe(t,e){return mo(t,"yyyy",e)}var xPe=Object.freeze({__proto__:null,formatCaption:pPe,formatDay:mPe,formatMonthCaption:gPe,formatWeekNumber:vPe,formatWeekdayName:yPe,formatYearCaption:bPe}),wPe=function(t,e,n){return mo(t,"do MMMM (EEEE)",n)},SPe=function(){return"Month: "},NPe=function(){return"Go to next month"},_Pe=function(){return"Go to previous month"},EPe=function(t,e){return mo(t,"cccc",e)},CPe=function(t){return"Week n. ".concat(t)},APe=function(){return"Year: "},kPe=Object.freeze({__proto__:null,labelDay:wPe,labelMonthDropdown:SPe,labelNext:NPe,labelPrevious:_Pe,labelWeekNumber:CPe,labelWeekday:EPe,labelYearDropdown:APe});function jPe(){var t="buttons",e=hPe,n=dee,r={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:xPe,labels:kPe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function TPe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=Vo(r):e&&(s=new Date(e,0,1)),i?a=uI(i):n&&(a=new Date(n,11,31)),{fromDate:s?jv(s):void 0,toDate:a?jv(a):void 0}}var yee=S.createContext(void 0);function OPe(t){var e,n=t.initialProps,r=jPe(),i=TPe(n),s=i.fromDate,a=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var c;(R_(n)||Nx(n)||_x(n))&&(c=n.onSelect);var u=Dn(Dn(Dn({},r),n),{captionLayout:o,classNames:Dn(Dn({},r.classNames),n.classNames),components:Dn({},n.components),formatters:Dn(Dn({},r.formatters),n.formatters),fromDate:s,labels:Dn(Dn({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Dn(Dn({},r.modifiers),n.modifiers),modifiersClassNames:Dn(Dn({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Dn(Dn({},r.styles),n.styles),toDate:a});return l.jsx(yee.Provider,{value:u,children:t.children})}function vi(){var t=S.useContext(yee);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function bee(t){var e=vi(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function PPe(t){return l.jsx("svg",Dn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xee(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,c=t.style,u=vi(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:PPe;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),l.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:s}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function MPe(t){var e,n=vi(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var f=[];if(IOe(r,i))for(var m=Vo(r),p=r.getMonth();p<=i.getMonth();p++)f.push(E5(m,p));else for(var m=Vo(new Date),p=0;p<=11;p++)f.push(E5(m,p));var b=function(y){var w=Number(y.target.value),_=E5(Vo(t.displayMonth),w);t.onChange(_)},v=(e=u?.Dropdown)!==null&&e!==void 0?e:xee;return l.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:b,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:f.map(function(y){return l.jsx("option",{value:y.getMonth(),children:o(y,{locale:a})},y.getMonth())})})}function RPe(t){var e,n=t.displayMonth,r=vi(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!i)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});for(var p=i.getFullYear(),b=s.getFullYear(),v=p;v<=b;v++)m.push(_9(lee(new Date),v));var y=function(_){var E=_9(Vo(n),Number(_.target.value));t.onChange(E)},w=(e=u?.Dropdown)!==null&&e!==void 0?e:xee;return l.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:o.dropdown_year,onChange:y,value:n.getFullYear(),caption:d(n,{locale:a}),children:m.map(function(_){return l.jsx("option",{value:_.getFullYear(),children:d(_,{locale:a})},_.getFullYear())})})}function IPe(t,e){var n=S.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function DPe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(s&&k0(s,i)<0){var u=-1*(c-1);i=Jc(s,u)}return a&&k0(i,a)<0&&(i=a),Vo(i)}function LPe(){var t=vi(),e=DPe(t),n=IPe(e,t.month),r=n[0],i=n[1],s=function(a){var o;if(!t.disableNavigation){var c=Vo(a);i(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[r,s]}function FPe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Vo(t),s=Vo(Jc(i,r)),a=k0(s,i),o=[],c=0;c<a;c++){var u=Jc(i,c);o.push(u)}return n&&(o=o.reverse()),o}function BPe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=Vo(t);if(!n)return Jc(o,a);var c=k0(n,t);if(!(c<s))return Jc(o,a)}}function $Pe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=Vo(t);if(!n)return Jc(o,-a);var c=k0(o,n);if(!(c<=0))return Jc(o,-a)}}var wee=S.createContext(void 0);function zPe(t){var e=vi(),n=LPe(),r=n[0],i=n[1],s=FPe(r,e),a=BPe(r,e),o=$Pe(r,e),c=function(f){return s.some(function(m){return fI(f,m)})},u=function(f,m){c(f)||(m&&gee(f,m)?i(Jc(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:c};return l.jsx(wee.Provider,{value:d,children:t.children})}function Ex(){var t=S.useContext(wee);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function E9(t){var e,n=vi(),r=n.classNames,i=n.styles,s=n.components,a=Ex().goToMonth,o=function(d){a(Jc(d,t.displayIndex?-t.displayIndex:0))},c=(e=s?.CaptionLabel)!==null&&e!==void 0?e:bee,u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(MPe,{onChange:o,displayMonth:t.displayMonth}),l.jsx(RPe,{onChange:o,displayMonth:t.displayMonth})]})}function qPe(t){return l.jsx("svg",Dn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function UPe(t){return l.jsx("svg",Dn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var fS=S.forwardRef(function(t,e){var n=vi(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),o=Dn(Dn({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),l.jsx("button",Dn({},t,{ref:e,type:"button",className:a,style:o}))});function HPe(t){var e,n,r=vi(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return l.jsx(l.Fragment,{});var m=u(t.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),b=d(t.nextMonth,{locale:s}),v=[a.nav_button,a.nav_button_next].join(" "),y=(e=f?.IconRight)!==null&&e!==void 0?e:UPe,w=(n=f?.IconLeft)!==null&&n!==void 0?n:qPe;return l.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&l.jsx(fS,{name:"previous-month","aria-label":m,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?l.jsx(y,{className:a.nav_icon,style:o.nav_icon}):l.jsx(w,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&l.jsx(fS,{name:"next-month","aria-label":b,className:v,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?l.jsx(w,{className:a.nav_icon,style:o.nav_icon}):l.jsx(y,{className:a.nav_icon,style:o.nav_icon})})]})}function C9(t){var e=vi().numberOfMonths,n=Ex(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(b){return fI(t.displayMonth,b)}),c=o===0,u=o===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){r&&s(r)},p=function(){i&&s(i)};return l.jsx(HPe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:p})}function VPe(t){var e,n=vi(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,c=(e=o?.CaptionLabel)!==null&&e!==void 0?e:bee,u;return i?u=l.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=l.jsx(E9,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(E9,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),l.jsx(C9,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(C9,{displayMonth:t.displayMonth,id:t.id})]}),l.jsx("div",{className:r.caption,style:s.caption,children:u})}function WPe(t){var e=vi(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?l.jsx("tfoot",{className:i,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function KPe(t,e,n){for(var r=n?fm(new Date):Xu(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=ho(r,s);i.push(a)}return i}function GPe(){var t=vi(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=KPe(i,s,a);return l.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:o(d,{locale:i})},f)})]})}function YPe(){var t,e=vi(),n=e.classNames,r=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:GPe;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(s,{})})}function XPe(t){var e=vi(),n=e.locale,r=e.formatters.formatDay;return l.jsx(l.Fragment,{children:r(t.date,{locale:n})})}var hI=S.createContext(void 0);function ZPe(t){if(!Nx(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return l.jsx(hI.Provider,{value:e,children:t.children})}return l.jsx(QPe,{initialProps:t.initialProps,children:t.children})}function QPe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(u,d,f){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var b=!!(d.selected&&i&&r?.length===i);if(!b){var v=!!(!d.selected&&s&&r?.length===s);if(!v){var y=r?vee([],r):[];if(d.selected){var w=y.findIndex(function(_){return Ho(u,_)});y.splice(w,1)}else y.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,y,u,d,f)}}},o={disabled:[]};r&&o.disabled.push(function(u){var d=s&&r.length>s-1,f=r.some(function(m){return Ho(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:o};return l.jsx(hI.Provider,{value:c,children:n})}function pI(){var t=S.useContext(hI);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function JPe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Ho(i,t)&&Ho(r,t)?void 0:Ho(i,t)?{from:i,to:void 0}:Ho(r,t)?void 0:GP(r,t)?{from:t,to:i}:{from:r,to:t}:i?GP(t,i)?{from:i,to:t}:{from:t,to:i}:r?gee(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var mI=S.createContext(void 0);function eMe(t){if(!_x(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(mI.Provider,{value:e,children:t.children})}return l.jsx(tMe,{initialProps:t.initialProps,children:t.children})}function tMe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,o=e.min,c=e.max,u=function(p,b,v){var y,w;(y=e.onDayClick)===null||y===void 0||y.call(e,p,b,v);var _=JPe(p,r);(w=e.onSelect)===null||w===void 0||w.call(e,_,p,b,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],Ho(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),o&&(s&&!a&&d.disabled.push({after:_5(s,o-1),before:ho(s,o-1)}),s&&a&&d.disabled.push({after:s,before:ho(s,o-1)}),!s&&a&&d.disabled.push({after:_5(a,o-1),before:ho(a,o-1)})),c){if(s&&!a&&(d.disabled.push({before:ho(s,-c+1)}),d.disabled.push({after:ho(s,c-1)})),s&&a){var f=Lu(a,s)+1,m=c-f;d.disabled.push({before:_5(s,m)}),d.disabled.push({after:ho(a,m)})}!s&&a&&(d.disabled.push({before:ho(a,-c+1)}),d.disabled.push({after:ho(a,c-1)}))}return l.jsx(mI.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function gI(){var t=S.useContext(mI);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Mw(t){return Array.isArray(t)?vee([],t):t!==void 0?[t]:[]}function nMe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=Mw(i)}),e}var eu;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(eu||(eu={}));var rMe=eu.Selected,Md=eu.Disabled,iMe=eu.Hidden,sMe=eu.Today,C5=eu.RangeEnd,A5=eu.RangeMiddle,k5=eu.RangeStart,aMe=eu.Outside;function oMe(t,e,n){var r,i=(r={},r[rMe]=Mw(t.selected),r[Md]=Mw(t.disabled),r[iMe]=Mw(t.hidden),r[sMe]=[t.today],r[C5]=[],r[A5]=[],r[k5]=[],r[aMe]=[],r);return t.fromDate&&i[Md].push({before:t.fromDate}),t.toDate&&i[Md].push({after:t.toDate}),Nx(t)?i[Md]=i[Md].concat(e.modifiers[Md]):_x(t)&&(i[Md]=i[Md].concat(n.modifiers[Md]),i[k5]=n.modifiers[k5],i[A5]=n.modifiers[A5],i[C5]=n.modifiers[C5]),i}var See=S.createContext(void 0);function lMe(t){var e=vi(),n=pI(),r=gI(),i=oMe(e,n,r),s=nMe(e.modifiers),a=Dn(Dn({},i),s);return l.jsx(See.Provider,{value:a,children:t.children})}function Nee(){var t=S.useContext(See);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function cMe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function uMe(t){return!!(t&&typeof t=="object"&&"from"in t)}function dMe(t){return!!(t&&typeof t=="object"&&"after"in t)}function fMe(t){return!!(t&&typeof t=="object"&&"before"in t)}function hMe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function pMe(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=Lu(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=Lu(t,r)>=0&&Lu(i,t)>=0;return a}return i?Ho(i,t):r?Ho(r,t):!1}function mMe(t){return cI(t)}function gMe(t){return Array.isArray(t)&&t.every(cI)}function vMe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(mMe(n))return Ho(t,n);if(gMe(n))return n.includes(t);if(uMe(n))return pMe(t,n);if(hMe(n))return n.dayOfWeek.includes(t.getDay());if(cMe(n)){var r=Lu(n.before,t),i=Lu(n.after,t),s=r>0,a=i<0,o=GP(n.before,n.after);return o?a&&s:s||a}return dMe(n)?Lu(t,n.after)>0:fMe(n)?Lu(n.before,t)>0:typeof n=="function"?n(t):!1})}function vI(t,e,n){var r=Object.keys(e).reduce(function(s,a){var o=e[a];return vMe(t,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!fI(t,n)&&(i.outside=!0),i}function yMe(t,e){for(var n=Vo(t[0]),r=uI(t[t.length-1]),i,s,a=n;a<=r;){var o=vI(a,e),c=!o.disabled&&!o.hidden;if(!c){a=ho(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=ho(a,1)}return s||i}var bMe=365;function _ee(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,m={day:ho,week:KP,month:Jc,year:PTe,startOfWeek:function(y){return i.ISOWeek?fm(y):Xu(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return i.ISOWeek?cee(y):dI(y,{locale:f,weekStartsOn:c})}},p=m[n](t,r==="after"?1:-1);r==="before"&&u?p=MTe([u,p]):r==="after"&&d&&(p=RTe([d,p]));var b=!0;if(s){var v=vI(p,s);b=!v.disabled&&!v.hidden}return b?p:o.count>bMe?o.lastFocused:_ee(p,{moveBy:n,direction:r,context:i,modifiers:s,retry:Dn(Dn({},o),{count:o.count+1})})}var Eee=S.createContext(void 0);function xMe(t){var e=Ex(),n=Nee(),r=S.useState(),i=r[0],s=r[1],a=S.useState(),o=a[0],c=a[1],u=yMe(e.displayMonths,n),d=i??(o&&e.isDateDisplayed(o))?o:u,f=function(){c(i),s(void 0)},m=function(y){s(y)},p=vi(),b=function(y,w){if(i){var _=_ee(i,{moveBy:y,direction:w,context:p,modifiers:n});Ho(i,_)||(e.goToDate(_,i),m(_))}},v={focusedDay:i,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return l.jsx(Eee.Provider,{value:v,children:t.children})}function yI(){var t=S.useContext(Eee);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function wMe(t,e){var n=Nee(),r=vI(t,n,e);return r}var bI=S.createContext(void 0);function SMe(t){if(!R_(t.initialProps)){var e={selected:void 0};return l.jsx(bI.Provider,{value:e,children:t.children})}return l.jsx(NMe,{initialProps:t.initialProps,children:t.children})}function NMe(t){var e=t.initialProps,n=t.children,r=function(s,a,o){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,s,a,o),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,a,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:r};return l.jsx(bI.Provider,{value:i,children:n})}function Cee(){var t=S.useContext(bI);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _Me(t,e){var n=vi(),r=Cee(),i=pI(),s=gI(),a=yI(),o=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,m=a.focus,p=a.focusMonthBefore,b=a.focusMonthAfter,v=a.focusYearBefore,y=a.focusYearAfter,w=a.focusStartOfWeek,_=a.focusEndOfWeek,E=function(H){var W,Y,ge,Q;R_(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,t,e,H):Nx(n)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,t,e,H):_x(n)?(ge=s.onDayClick)===null||ge===void 0||ge.call(s,t,e,H):(Q=n.onDayClick)===null||Q===void 0||Q.call(n,t,e,H)},A=function(H){var W;m(t),(W=n.onDayFocus)===null||W===void 0||W.call(n,t,e,H)},k=function(H){var W;f(),(W=n.onDayBlur)===null||W===void 0||W.call(n,t,e,H)},P=function(H){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,t,e,H)},R=function(H){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,t,e,H)},T=function(H){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,t,e,H)},M=function(H){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,t,e,H)},B=function(H){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,t,e,H)},O=function(H){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,t,e,H)},F=function(H){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,t,e,H)},q=function(H){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,t,e,H)},z=function(H){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,t,e,H)},K=function(H){var W;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?o():c();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?c():o();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?v():p();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?y():b();break;case"Home":H.preventDefault(),H.stopPropagation(),w();break;case"End":H.preventDefault(),H.stopPropagation(),_();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,t,e,H)},Z={onClick:E,onFocus:A,onBlur:k,onKeyDown:K,onKeyUp:z,onMouseEnter:P,onMouseLeave:R,onPointerEnter:T,onPointerLeave:M,onTouchCancel:B,onTouchEnd:O,onTouchMove:F,onTouchStart:q};return Z}function EMe(){var t=vi(),e=Cee(),n=pI(),r=gI(),i=R_(t)?e.selected:Nx(t)?n.selected:_x(t)?r.selected:void 0;return i}function CMe(t){return Object.values(eu).includes(t)}function AMe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(CMe(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function kMe(t,e){var n=Dn({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Dn(Dn({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function jMe(t,e,n){var r,i,s,a=vi(),o=yI(),c=wMe(t,e),u=_Me(t,c),d=EMe(),f=!!(a.onDayClick||a.mode!=="default");S.useEffect(function(){var P;c.outside||o.focusedDay&&f&&Ho(o.focusedDay,t)&&((P=n.current)===null||P===void 0||P.focus())},[o.focusedDay,t,n,f,c.outside]);var m=AMe(a,c).join(" "),p=kMe(a,c),b=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:XPe,y=l.jsx(v,{date:t,displayMonth:e,activeModifiers:c}),w={style:p,className:m,children:y,role:"gridcell"},_=o.focusTarget&&Ho(o.focusTarget,t)&&!c.outside,E=o.focusedDay&&Ho(o.focusedDay,t),A=Dn(Dn(Dn({},w),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=E||_?0:-1,r)),u),k={isButton:f,isHidden:b,activeModifiers:c,selectedDays:d,buttonProps:A,divProps:w};return k}function TMe(t){var e=S.useRef(null),n=jMe(t.date,t.displayMonth,e);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(fS,Dn({name:"day",ref:e},n.buttonProps)):l.jsx("div",Dn({},n.divProps))}function OMe(t){var e=t.number,n=t.dates,r=vi(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return l.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var f=c(Number(e),{locale:o}),m=function(p){i(e,n,p)};return l.jsx(fS,{name:"week-number","aria-label":f,className:a.weeknumber,style:s.weeknumber,onClick:m,children:d})}function PMe(t){var e,n,r=vi(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,c=(e=o?.Day)!==null&&e!==void 0?e:TMe,u=(n=o?.WeekNumber)!==null&&n!==void 0?n:OMe,d;return a&&(d=l.jsx("td",{className:s.cell,style:i.cell,children:l.jsx(u,{number:t.weekNumber,dates:t.dates})})),l.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return l.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:t.displayMonth,date:f})},POe(f))})]})}function A9(t,e,n){for(var r=n?.ISOWeek?cee(e):dI(e,n),i=n?.ISOWeek?fm(t):Xu(t,n),s=Lu(r,i),a=[],o=0;o<=s;o++)a.push(ho(i,o));var c=a.reduce(function(u,d){var f=n?.ISOWeek?fee(d):pee(d,n),m=u.find(function(p){return p.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function MMe(t,e){var n=A9(Vo(t),uI(t),e);if(e?.useFixedWeeks){var r=ROe(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=KP(s,6-r),o=A9(KP(s,1),a,e);n.push.apply(n,o)}}return n}function RMe(t){var e,n,r,i=vi(),s=i.locale,a=i.classNames,o=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,m=i.firstWeekContainsDate,p=i.ISOWeek,b=MMe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:f,firstWeekContainsDate:m}),v=(e=d?.Head)!==null&&e!==void 0?e:YPe,y=(n=d?.Row)!==null&&n!==void 0?n:PMe,w=(r=d?.Footer)!==null&&r!==void 0?r:WPe;return l.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:a.tbody,style:o.tbody,children:b.map(function(_){return l.jsx(y,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),l.jsx(w,{displayMonth:t.displayMonth})]})}function IMe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var DMe=IMe()?S.useLayoutEffect:S.useEffect,j5=!1,LMe=0;function k9(){return"react-day-picker-".concat(++LMe)}function FMe(t){var e,n=t??(j5?k9():null),r=S.useState(n),i=r[0],s=r[1];return DMe(function(){i===null&&s(k9())},[]),S.useEffect(function(){j5===!1&&(j5=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function BMe(t){var e,n,r=vi(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,c=Ex().displayMonths,u=FMe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],m=a.month,p=t.displayIndex===0,b=t.displayIndex===c.length-1,v=!p&&!b;i==="rtl"&&(e=[p,b],b=e[0],p=e[1]),p&&(f.push(s.caption_start),m=Dn(Dn({},m),a.caption_start)),b&&(f.push(s.caption_end),m=Dn(Dn({},m),a.caption_end)),v&&(f.push(s.caption_between),m=Dn(Dn({},m),a.caption_between));var y=(n=o?.Caption)!==null&&n!==void 0?n:VPe;return l.jsxs("div",{className:f.join(" "),style:m,children:[l.jsx(y,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),l.jsx(RMe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function $Me(t){var e=vi(),n=e.classNames,r=e.styles;return l.jsx("div",{className:n.months,style:r.months,children:t.children})}function zMe(t){var e,n,r=t.initialProps,i=vi(),s=yI(),a=Ex(),o=S.useState(!1),c=o[0],u=o[1];S.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Dn(Dn({},i.styles.root),i.style),m=Object.keys(r).filter(function(b){return b.startsWith("data-")}).reduce(function(b,v){var y;return Dn(Dn({},b),(y={},y[v]=r[v],y))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:$Me;return l.jsx("div",Dn({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:l.jsx(p,{children:a.displayMonths.map(function(b,v){return l.jsx(BMe,{displayIndex:v,displayMonth:b},v)})})}))}function qMe(t){var e=t.children,n=fPe(t,["children"]);return l.jsx(OPe,{initialProps:n,children:l.jsx(zPe,{children:l.jsx(SMe,{initialProps:n,children:l.jsx(ZPe,{initialProps:n,children:l.jsx(eMe,{initialProps:n,children:l.jsx(lMe,{children:l.jsx(xMe,{children:e})})})})})})})}function UMe(t){return l.jsx(qMe,Dn({},t,{children:l.jsx(zMe,{initialProps:t})}))}function YP({className:t,classNames:e,showOutsideDays:n=!0,...r}){return l.jsx(UMe,{showOutsideDays:n,className:pt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pt(qb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pt(qb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>l.jsx(Nle,{className:pt("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>l.jsx(_le,{className:pt("h-4 w-4",i),...s})},...r})}YP.displayName="Calendar";var I_="Popover",[Aee]=bo(I_,[Hv]),Cx=Hv(),[HMe,Hh]=Aee(I_),kee=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=Cx(e),c=S.useRef(null),[u,d]=S.useState(!1),[f,m]=Kc({prop:r,defaultProp:i??!1,onChange:s,caller:I_});return l.jsx(CR,{...o,children:l.jsx(HMe,{scope:e,contentId:Xa(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:S.useCallback(()=>d(!0),[]),onCustomAnchorRemove:S.useCallback(()=>d(!1),[]),modal:a,children:n})})};kee.displayName=I_;var jee="PopoverAnchor",VMe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Hh(jee,n),s=Cx(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return S.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(AN,{...s,...r,ref:e})});VMe.displayName=jee;var Tee="PopoverTrigger",Oee=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Hh(Tee,n),s=Cx(n),a=zn(e,i.triggerRef),o=l.jsx(Vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dee(i.open),...r,ref:a,onClick:qt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(AN,{asChild:!0,...s,children:o})});Oee.displayName=Tee;var xI="PopoverPortal",[WMe,KMe]=Aee(xI,{forceMount:void 0}),Pee=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Hh(xI,e);return l.jsx(WMe,{scope:e,forceMount:n,children:l.jsx(Go,{present:n||s.open,children:l.jsx(X0,{asChild:!0,container:i,children:r})})})};Pee.displayName=xI;var Tv="PopoverContent",Mee=S.forwardRef((t,e)=>{const n=KMe(Tv,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Hh(Tv,t.__scopePopover);return l.jsx(Go,{present:r||s.open,children:s.modal?l.jsx(YMe,{...i,ref:e}):l.jsx(XMe,{...i,ref:e})})});Mee.displayName=Tv;var GMe=em("PopoverContent.RemoveScroll"),YMe=S.forwardRef((t,e)=>{const n=Hh(Tv,t.__scopePopover),r=S.useRef(null),i=zn(e,r),s=S.useRef(!1);return S.useEffect(()=>{const a=r.current;if(a)return LR(a)},[]),l.jsx(IN,{as:GMe,allowPinchZoom:!0,children:l.jsx(Ree,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qt(t.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:qt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:qt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),XMe=S.forwardRef((t,e)=>{const n=Hh(Tv,t.__scopePopover),r=S.useRef(!1),i=S.useRef(!1);return l.jsx(Ree,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Ree=S.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=Hh(Tv,n),p=Cx(n);return DR(),l.jsx(MN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Bv,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(AR,{"data-state":Dee(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Iee="PopoverClose",ZMe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Hh(Iee,n);return l.jsx(Vt.button,{type:"button",...r,ref:e,onClick:qt(t.onClick,()=>i.onOpenChange(!1))})});ZMe.displayName=Iee;var QMe="PopoverArrow",JMe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Cx(n);return l.jsx(kR,{...i,...r,ref:e})});JMe.displayName=QMe;function Dee(t){return t?"open":"closed"}var eRe=kee,tRe=Oee,nRe=Pee,Lee=Mee;const Rg=eRe,Ig=tRe,Lp=S.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>l.jsx(nRe,{children:l.jsx(Lee,{ref:i,align:e,sideOffset:n,className:pt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));Lp.displayName=Lee.displayName;function rRe({taskId:t,currentUser:e}){const{toast:n}=li(),[r,i]=S.useState(""),[s,a]=S.useState(null),[o,c]=S.useState(""),[u,d]=S.useState(null),[f,m]=S.useState(!1),{data:p,isLoading:b}=Sn({queryKey:[`/api/tasks/${t}/comments`],enabled:!!t}),v=hn({mutationFn:async R=>await tn("POST",`/api/tasks/${t}/comments`,{contenido:R}),onSuccess:()=>{rn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario agregado exitosamente"}),i(""),m(!1)},onError:()=>{n({title:"Error al agregar comentario",variant:"destructive"}),m(!1)}}),y=hn({mutationFn:async({id:R,content:T})=>await tn("PATCH",`/api/tasks/${t}/comments/${R}`,{contenido:T}),onSuccess:()=>{rn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario actualizado exitosamente"}),a(null),c("")},onError:()=>{n({title:"Error al actualizar comentario",variant:"destructive"})}}),w=hn({mutationFn:async R=>await tn("DELETE",`/api/tasks/${t}/comments/${R}`),onSuccess:()=>{rn.invalidateQueries({queryKey:[`/api/tasks/${t}/comments`]}),n({title:"Comentario eliminado exitosamente"}),d(null)},onError:()=>{n({title:"Error al eliminar comentario",variant:"destructive"})}}),_=()=>{if(!r.trim()){n({title:"El comentario no puede estar vaco",variant:"destructive"});return}m(!0),v.mutate(r)},E=R=>{if(!o.trim()){n({title:"El comentario no puede estar vaco",variant:"destructive"});return}y.mutate({id:R,content:o})},A=R=>{w.mutate(R)},k=(R,T)=>{a(R),c(T)},P=()=>{a(null),c("")};return b?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((R,T)=>l.jsxs("div",{className:"flex gap-3 animate-pulse",children:[l.jsx("div",{className:"w-10 h-10 bg-secondary rounded-full"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-secondary rounded w-1/4"}),l.jsx("div",{className:"h-12 bg-secondary rounded"})]})]},T))}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"border rounded-lg p-4 bg-card",children:[l.jsxs("div",{className:"flex gap-3 mb-3",children:[l.jsx(a2,{className:"h-10 w-10",children:l.jsx(o2,{children:e?.username?.[0]?.toUpperCase()||"U"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:e?.username||"Annimo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ahora"})]})]}),l.jsx(af,{value:r,onChange:R=>i(R.target.value),placeholder:"Escribe un comentario...",rows:3,className:"resize-none"}),l.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[l.jsx(_e,{onClick:()=>i(""),variant:"outline",size:"sm",children:"Cancelar"}),l.jsxs(_e,{onClick:_,size:"sm",disabled:!r.trim()||f,children:[f&&l.jsx(yh,{className:"w-4 h-4 mr-2 animate-spin"}),l.jsx(e2,{className:"w-4 h-4 mr-2"}),"Comentar"]})]})]}),l.jsx("div",{className:"space-y-4",children:p&&p.length>0?p.map(R=>l.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx(a2,{className:"h-10 w-10",children:l.jsx(o2,{children:R.usuario?.username?.[0]?.toUpperCase()||"U"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-sm font-medium",children:R.usuario?.username||"Annimo"}),e?.id===R.usuarioId&&l.jsx(bt,{variant:"secondary",className:"text-xs",children:"T"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[mo(new Date(R.createdAt),"PPpp",{locale:Ou}),new Date(R.updatedAt).getTime()>new Date(R.createdAt).getTime()&&l.jsx("span",{className:"ml-2",children:"(editado)"})]})]}),e?.id===R.usuarioId&&l.jsx("div",{className:"flex gap-1",children:s===R.id?l.jsxs(l.Fragment,{children:[l.jsxs(_e,{onClick:()=>E(R.id),size:"sm",variant:"ghost",disabled:y.isPending,children:[y.isPending&&l.jsx(yh,{className:"w-4 h-4 animate-spin"}),!y.isPending&&"Guardar"]}),l.jsx(_e,{onClick:P,size:"sm",variant:"ghost",children:"Cancelar"})]}):l.jsxs(l.Fragment,{children:[l.jsx(_e,{onClick:()=>k(R.id,R.contenido),size:"sm",variant:"ghost",children:l.jsx(_W,{className:"w-4 h-4"})}),l.jsx(_e,{onClick:()=>d(R.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",children:l.jsx(ka,{className:"w-4 h-4"})})]})})]}),s===R.id?l.jsx(af,{value:o,onChange:T=>c(T.target.value),rows:3,className:"resize-none"}):l.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:R.contenido})]},R.id)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx("p",{children:"No hay comentarios an"}),l.jsx("p",{className:"text-xs",children:"S el primero en comentar"})]})}),l.jsx(k_,{open:!!u,onOpenChange:()=>d(null),children:l.jsxs(mx,{children:[l.jsxs(gx,{children:[l.jsx(vx,{children:"Eliminar comentario"}),l.jsx(yx,{children:"Ests seguro de que deseas eliminar este comentario? Esta accin no se puede deshacer."})]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx(xx,{children:"Cancelar"}),l.jsxs(bx,{onClick:()=>u&&A(u),className:"bg-destructive hover:bg-destructive/90",disabled:w.isPending,children:[w.isPending&&l.jsx(yh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const iRe=t=>t.startsWith("image/")?l.jsx(dR,{className:"w-4 h-4"}):t.startsWith("audio/")?l.jsx(qle,{className:"w-4 h-4"}):t.startsWith("video/")?l.jsx(tce,{className:"w-4 h-4"}):t.includes("pdf")||t.includes("word")||t.includes("spreadsheet")?l.jsx(Di,{className:"w-4 h-4"}):t.includes("zip")||t.includes("compressed")||t.includes("archive")?l.jsx(vle,{className:"w-4 h-4"}):l.jsx(uR,{className:"w-4 h-4"}),sRe=t=>{if(t===0)return"0 Bytes";const e=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,r)*100)/100+" "+n[r]};function aRe({taskId:t}){const{toast:e}=li(),n=S.useRef(null),[r,i]=S.useState(null),[s,a]=S.useState(!1),{data:o,isLoading:c}=Sn({queryKey:[`/api/tasks/${t}/attachments`],enabled:!!t}),u=hn({mutationFn:async y=>{const w=new FormData;w.append("file",y);const _=await fetch(`/api/tasks/${t}/attachments`,{method:"POST",body:w,headers:{}});if(!_.ok)throw new Error("Upload failed");return _.json()},onSuccess:()=>{rn.invalidateQueries({queryKey:[`/api/tasks/${t}/attachments`]}),e({title:"Archivo cargado exitosamente"}),n.current&&(n.current.value="")},onError:()=>{e({title:"Error al cargar archivo",variant:"destructive"})}}),d=hn({mutationFn:async y=>await tn("DELETE",`/api/tasks/${t}/attachments/${y}`),onSuccess:()=>{rn.invalidateQueries({queryKey:[`/api/tasks/${t}/attachments`]}),e({title:"Archivo eliminado exitosamente"}),i(null)},onError:()=>{e({title:"Error al eliminar archivo",variant:"destructive"})}}),f=y=>{if(y.size>10485760){e({title:"Archivo demasiado grande",description:"El archivo no puede superar 10MB",variant:"destructive"});return}u.mutate(y)},m=y=>{const w=y.target.files?.[0];w&&f(w)},p=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?a(!0):y.type==="dragleave"&&a(!1)},b=y=>{y.preventDefault(),y.stopPropagation(),a(!1);const w=y.dataTransfer.files?.[0];w&&f(w)},v=y=>{const w=document.createElement("a");w.href=y.filePath,w.download=y.originalName,document.body.appendChild(w),w.click(),document.body.removeChild(w)};return c?l.jsx("div",{className:"space-y-4",children:[...Array(2)].map((y,w)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg animate-pulse",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-4 bg-primary rounded w-1/3"}),l.jsx("div",{className:"h-3 bg-primary rounded w-1/4"})]})]},w))}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:b,className:`border-2 border-dashed rounded-lg p-6 text-center transition-all ${s?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,children:[l.jsx("input",{ref:n,type:"file",onChange:m,className:"hidden",disabled:u.isPending}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(gR,{className:"w-8 h-8 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Arrastra archivos aqu o haz clic para seleccionar"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Mximo 10MB por archivo"})]}),l.jsxs(_e,{onClick:()=>n.current?.click(),size:"sm",className:"mt-2",disabled:u.isPending,children:[u.isPending&&l.jsx(yh,{className:"w-4 h-4 mr-2 animate-spin"}),u.isPending?"Cargando...":"Seleccionar archivo"]})]})]}),l.jsx("div",{className:"space-y-2",children:o&&o.length>0?o.map(y=>l.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[l.jsx("div",{className:"flex-shrink-0 text-muted-foreground",children:iRe(y.fileType)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:y.originalName}),l.jsx("p",{className:"text-xs text-muted-foreground",children:sRe(y.fileSize)})]}),l.jsx(bt,{variant:"secondary",className:"text-xs flex-shrink-0",children:y.fileType.split("/")[1]?.toUpperCase()||"FILE"}),l.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[l.jsx(_e,{onClick:()=>v(y),size:"sm",variant:"ghost",title:"Descargar",children:l.jsx(Yc,{className:"w-4 h-4"})}),l.jsx(_e,{onClick:()=>i(y.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",title:"Eliminar",children:l.jsx(ka,{className:"w-4 h-4"})})]})]},y.id)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(uR,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No hay archivos adjuntos"}),l.jsx("p",{className:"text-xs",children:"Carga tu primer archivo"})]})}),l.jsx(k_,{open:!!r,onOpenChange:()=>i(null),children:l.jsxs(mx,{children:[l.jsxs(gx,{children:[l.jsx(vx,{children:"Eliminar archivo"}),l.jsx(yx,{children:"Ests seguro de que deseas eliminar este archivo? Esta accin no se puede deshacer."})]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx(xx,{children:"Cancelar"}),l.jsxs(bx,{onClick:()=>r&&d.mutate(r),className:"bg-destructive hover:bg-destructive/90",disabled:d.isPending,children:[d.isPending&&l.jsx(yh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const q1=t=>{const e=Math.floor(t/60),n=t%60;return`${e}h ${n}m`};function oRe({taskId:t,estimatedMinutes:e=null}){const{toast:n}=li(),[r,i]=S.useState(!1),[s,a]=S.useState(0),[o,c]=S.useState(!1),[u,d]=S.useState(""),[f,m]=S.useState(""),[p,b]=S.useState(null),{data:v,isLoading:y}=Sn({queryKey:[`/api/tasks/${t}/time-entries`],enabled:!!t});S.useEffect(()=>{let B;return r&&(B=setInterval(()=>{a(O=>O+1)},1e3)),()=>clearInterval(B)},[r]);const w=hn({mutationFn:async B=>await tn("POST",`/api/tasks/${t}/time-entries`,B),onSuccess:()=>{rn.invalidateQueries({queryKey:[`/api/tasks/${t}/time-entries`]}),n({title:"Tiempo registrado exitosamente"}),P()},onError:()=>{n({title:"Error al registrar tiempo",variant:"destructive"})}}),_=hn({mutationFn:async B=>await tn("DELETE",`/api/tasks/${t}/time-entries/${B}`),onSuccess:()=>{rn.invalidateQueries({queryKey:[`/api/tasks/${t}/time-entries`]}),n({title:"Tiempo eliminado exitosamente"}),b(null)},onError:()=>{n({title:"Error al eliminar tiempo",variant:"destructive"})}}),E=()=>{i(!r)},A=()=>{if(s===0){n({title:"El temporizador est en cero",variant:"destructive"});return}const B=Math.round(s/60);w.mutate({duration:B,description:"Tiempo registrado desde el temporizador"}),i(!1),a(0)},k=()=>{if(!u||parseInt(u)<=0){n({title:"Ingresa una cantidad vlida de minutos",variant:"destructive"});return}w.mutate({duration:parseInt(u),description:f||"Tiempo registrado manualmente"})},P=()=>{d(""),m(""),c(!1)},R=(v||[]).reduce((B,O)=>B+O.duration,0),T=e&&e>0?Math.round(R/e*100):0,M=e&&R>e;return y?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"h-32 bg-secondary rounded-lg animate-pulse"}),l.jsx("div",{className:"h-48 bg-secondary rounded-lg animate-pulse"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Temporizador"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"text-6xl font-mono font-bold",children:[String(Math.floor(s/3600)).padStart(2,"0"),":",String(Math.floor(s%3600/60)).padStart(2,"0"),":",String(s%60).padStart(2,"0")]})}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsx(_e,{onClick:E,size:"sm",variant:r?"destructive":"default",children:r?l.jsxs(l.Fragment,{children:[l.jsx(Hle,{className:"w-4 h-4 mr-2"}),"Pausar"]}):l.jsxs(l.Fragment,{children:[l.jsx(Kle,{className:"w-4 h-4 mr-2"}),"Iniciar"]})}),l.jsxs(_e,{onClick:A,size:"sm",variant:"outline",disabled:s===0||w.isPending,children:[w.isPending&&l.jsx(yh,{className:"w-4 h-4 mr-2 animate-spin"}),l.jsx(Xle,{className:"w-4 h-4 mr-2"}),"Registrar"]})]})]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{className:"text-lg",children:"Resumen"})}),l.jsxs(ft,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Tiempo Total:"}),l.jsx("span",{className:"text-2xl font-bold",children:q1(R)})]}),e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Tiempo Estimado:"}),l.jsx("span",{className:"text-lg font-semibold",children:q1(e)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Progreso:"}),l.jsxs(bt,{variant:M?"destructive":"default",className:"text-xs",children:[T,"%",M&&" (+exceso)"]})]}),l.jsx("div",{className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${M?"bg-destructive":"bg-primary"}`,style:{width:`${Math.min(T,100)}%`}})}),M&&l.jsxs("p",{className:"text-xs text-destructive",children:["Has excedido el tiempo estimado por"," ",q1(R-e)]})]})]})]}),l.jsxs(ls,{open:o,onOpenChange:c,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{variant:"outline",className:"w-full",children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Agregar Tiempo Manualmente"]})}),l.jsxs(Wi,{children:[l.jsxs(cs,{children:[l.jsx(us,{children:"Agregar Tiempo Manualmente"}),l.jsx(Ca,{children:"Registra tiempo que hayas trabajado fuera del temporizador"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"minutes",children:"Minutos"}),l.jsx(Ke,{id:"minutes",type:"number",value:u,onChange:B=>d(B.target.value),placeholder:"0",min:"1"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"description",children:"Descripcin (opcional)"}),l.jsx(Ke,{id:"description",value:f,onChange:B=>m(B.target.value),placeholder:"Describe qu hiciste..."})]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(_e,{variant:"outline",onClick:()=>P(),children:"Cancelar"}),l.jsxs(_e,{onClick:k,disabled:w.isPending,children:[w.isPending&&l.jsx(yh,{className:"w-4 h-4 mr-2 animate-spin"}),"Agregar"]})]})]})]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{className:"text-lg flex items-center gap-2",children:[l.jsx(qo,{className:"w-4 h-4"}),"Historial de Tiempo"]})}),l.jsx(ft,{children:v&&v.length>0?l.jsx("div",{className:"space-y-2",children:v.map(B=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:q1(B.duration)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:B.description}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:mo(new Date(B.createdAt),"PPp",{locale:Ou})})]}),l.jsx(_e,{onClick:()=>b(B.id),size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",children:l.jsx(ka,{className:"w-4 h-4"})})]},B.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(qo,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No hay registros de tiempo"})]})})]}),l.jsx(k_,{open:!!p,onOpenChange:()=>b(null),children:l.jsxs(mx,{children:[l.jsxs(gx,{children:[l.jsx(vx,{children:"Eliminar registro de tiempo"}),l.jsx(yx,{children:"Ests seguro de que deseas eliminar este registro? Esta accin no se puede deshacer."})]}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx(xx,{children:"Cancelar"}),l.jsxs(bx,{onClick:()=>p&&_.mutate(p),className:"bg-destructive hover:bg-destructive/90",disabled:_.isPending,children:[_.isPending&&l.jsx(yh,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminar"]})]})]})})]})}const j9={BAJA:"#94a3b8",MEDIA:"#f59e0b",ALTA:"#ef4444"},T9={PENDIENTE:"#64748b",EN_PROGRESO:"#3b82f6",COMPLETADA:"#10b981",CANCELADA:"#ef4444"},lRe=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#06b6d4","#64748b"];function cRe({task:t,isOpen:e,onClose:n,clients:r=[],users:i=[]}){const{toast:s}=li(),[a,o]=S.useState("details"),[c,u]=S.useState(!1),[d,f]=S.useState({titulo:t?.titulo||"",descripcion:t?.descripcion||"",clienteId:t?.clienteId||"",asignadoA:t?.asignadoA||"",prioridad:t?.prioridad||"MEDIA",estado:t?.estado||"PENDIENTE",visibilidad:t?.visibilidad||"GENERAL",fechaVencimiento:t?.fechaVencimiento||"",progreso:t?.progreso||0,color:t?.color||null,etiquetas:t?.etiquetas||[],estimatedMinutes:t?.estimatedMinutes||null}),[m,p]=S.useState(t?.fechaInicio?new Date(t.fechaInicio):void 0),[b,v]=S.useState(t?.fechaVencimiento?new Date(t.fechaVencimiento):void 0),y=hn({mutationFn:async E=>{if(!t?.id)throw new Error("No task ID");return await tn("PATCH",`/api/tasks/${t.id}`,E)},onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/tasks"]}),s({title:"Tarea actualizada exitosamente"}),u(!1)},onError:()=>{s({title:"Error al actualizar tarea",variant:"destructive"})}}),w=()=>{const E={...d,fechaInicio:m?.toISOString(),fechaVencimiento:b?.toISOString()};y.mutate(E)},_=()=>{t&&(f({titulo:t.titulo,descripcion:t.descripcion||"",clienteId:t.clienteId||"",asignadoA:t.asignadoA||"",prioridad:t.prioridad,estado:t.estado,visibilidad:t.visibilidad,fechaVencimiento:t.fechaVencimiento||"",progreso:t.progreso||0,color:t.color||null,etiquetas:t.etiquetas||[],estimatedMinutes:t.estimatedMinutes||null}),p(t.fechaInicio?new Date(t.fechaInicio):void 0),v(t.fechaVencimiento?new Date(t.fechaVencimiento):void 0)),u(!1)};return t?l.jsx(ls,{open:e,onOpenChange:n,children:l.jsxs(Wi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(cs,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[c?l.jsx(Ke,{value:d.titulo,onChange:E=>f({...d,titulo:E.target.value}),className:"text-xl font-semibold",placeholder:"Ttulo de la tarea"}):l.jsx(us,{className:"text-2xl",children:t.titulo}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsxs(bt,{variant:"outline",children:["#",t.id.slice(0,8)]}),l.jsx(bt,{style:{backgroundColor:T9[t.estado]+"20",color:T9[t.estado]},children:t.estado.replace("_"," ")}),l.jsx(bt,{style:{backgroundColor:j9[t.prioridad]+"20",color:j9[t.prioridad]},children:t.prioridad})]})]}),l.jsx("div",{className:"flex gap-2",children:c?l.jsxs(l.Fragment,{children:[l.jsxs(_e,{onClick:w,size:"sm",children:[l.jsx(J0,{className:"w-4 h-4 mr-2"}),"Guardar"]}),l.jsxs(_e,{onClick:_,variant:"outline",size:"sm",children:[l.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):l.jsx(_e,{onClick:()=>u(!0),size:"sm",children:"Editar"})})]})}),l.jsxs(Al,{value:a,onValueChange:o,className:"mt-4",children:[l.jsxs(Xo,{className:"grid w-full grid-cols-6",children:[l.jsxs(Pn,{value:"details",children:[l.jsx(Fg,{className:"w-4 h-4 mr-2"}),"Detalles"]}),l.jsxs(Pn,{value:"subtasks",children:[l.jsx(Fg,{className:"w-4 h-4 mr-2"}),"Subtareas"]}),l.jsxs(Pn,{value:"comments",children:[l.jsx(xL,{className:"w-4 h-4 mr-2"}),"Comentarios"]}),l.jsxs(Pn,{value:"attachments",children:[l.jsx(tv,{className:"w-4 h-4 mr-2"}),"Adjuntos"]}),l.jsxs(Pn,{value:"time",children:[l.jsx(qo,{className:"w-4 h-4 mr-2"}),"Tiempo"]}),l.jsxs(Pn,{value:"activity",children:[l.jsx(Fb,{className:"w-4 h-4 mr-2"}),"Historial"]})]}),l.jsx(cr,{value:"details",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx(Re,{children:"Descripcin"}),c?l.jsx(af,{value:d.descripcion,onChange:E=>f({...d,descripcion:E.target.value}),rows:4,placeholder:"Descripcin de la tarea..."}):l.jsx("p",{className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:t.descripcion||"Sin descripcin"})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Cliente"}),c?l.jsxs(Wn,{value:d.clienteId,onValueChange:E=>f({...d,clienteId:E}),children:[l.jsx(Bn,{children:l.jsx(Kn,{placeholder:"Seleccionar cliente"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"",children:"Sin cliente"}),r.map(E=>l.jsx(tt,{value:E.id,children:E.razonSocial},E.id))]})]}):l.jsx("p",{className:"text-sm mt-1",children:r.find(E=>E.id===t.clienteId)?.razonSocial||"Sin cliente"})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Asignado a"}),c?l.jsxs(Wn,{value:d.asignadoA,onValueChange:E=>f({...d,asignadoA:E}),children:[l.jsx(Bn,{children:l.jsx(Kn,{placeholder:"Seleccionar usuario"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"",children:"Sin asignar"}),i.map(E=>l.jsx(tt,{value:E.id,children:E.username},E.id))]})]}):l.jsx("p",{className:"text-sm mt-1",children:i.find(E=>E.id===t.asignadoA)?.username||"Sin asignar"})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Prioridad"}),c?l.jsxs(Wn,{value:d.prioridad,onValueChange:E=>f({...d,prioridad:E}),children:[l.jsx(Bn,{children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"BAJA",children:"Baja"}),l.jsx(tt,{value:"MEDIA",children:"Media"}),l.jsx(tt,{value:"ALTA",children:"Alta"})]})]}):l.jsx("p",{className:"text-sm mt-1",children:t.prioridad})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Estado"}),c?l.jsxs(Wn,{value:d.estado,onValueChange:E=>f({...d,estado:E}),children:[l.jsx(Bn,{children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"PENDIENTE",children:"Pendiente"}),l.jsx(tt,{value:"EN_PROGRESO",children:"En Progreso"}),l.jsx(tt,{value:"COMPLETADA",children:"Completada"}),l.jsx(tt,{value:"CANCELADA",children:"Cancelada"})]})]}):l.jsx("p",{className:"text-sm mt-1",children:t.estado.replace("_"," ")})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Fecha de Inicio"}),c?l.jsxs(Rg,{children:[l.jsx(Ig,{asChild:!0,children:l.jsxs(_e,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(YT,{className:"mr-2 h-4 w-4"}),m?mo(m,"PPP",{locale:Ou}):l.jsx("span",{children:"Seleccionar fecha"})]})}),l.jsx(Lp,{className:"w-auto p-0",children:l.jsx(YP,{mode:"single",selected:m,onSelect:p,locale:Ou,initialFocus:!0})})]}):l.jsx("p",{className:"text-sm mt-1",children:t.fechaInicio?mo(new Date(t.fechaInicio),"PPP",{locale:Ou}):"Sin fecha"})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Fecha de Vencimiento"}),c?l.jsxs(Rg,{children:[l.jsx(Ig,{asChild:!0,children:l.jsxs(_e,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[l.jsx(YT,{className:"mr-2 h-4 w-4"}),b?mo(b,"PPP",{locale:Ou}):l.jsx("span",{children:"Seleccionar fecha"})]})}),l.jsx(Lp,{className:"w-auto p-0",children:l.jsx(YP,{mode:"single",selected:b,onSelect:v,locale:Ou,initialFocus:!0})})]}):l.jsx("p",{className:"text-sm mt-1",children:t.fechaVencimiento?mo(new Date(t.fechaVencimiento),"PPP",{locale:Ou}):"Sin fecha"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsxs(Re,{children:["Progreso: ",d.progreso,"%"]}),c?l.jsx(aee,{value:[d.progreso],onValueChange:E=>f({...d,progreso:E[0]}),max:100,step:5,className:"mt-2"}):l.jsx("div",{className:"w-full bg-secondary h-2 rounded-full mt-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${t.progreso||0}%`}})})]}),c&&l.jsxs("div",{className:"col-span-2",children:[l.jsxs(Re,{className:"flex items-center gap-2",children:[l.jsx(hR,{className:"w-4 h-4"}),"Color de la Tarea"]}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[lRe.map(E=>l.jsx("button",{onClick:()=>f({...d,color:E}),className:"w-8 h-8 rounded-full border-2 transition-all hover:scale-110",style:{backgroundColor:E,borderColor:d.color===E?"#000":"transparent"}},E)),l.jsx("button",{onClick:()=>f({...d,color:null}),className:"w-8 h-8 rounded-full border-2 bg-white transition-all hover:scale-110",style:{borderColor:d.color?"#e5e7eb":"#000"},children:l.jsx(Vu,{className:"w-4 h-4 mx-auto text-gray-400"})})]})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Tiempo Estimado (minutos)"}),c?l.jsx(Ke,{type:"number",value:d.estimatedMinutes||"",onChange:E=>f({...d,estimatedMinutes:E.target.value?parseInt(E.target.value):null}),placeholder:"0"}):l.jsx("p",{className:"text-sm mt-1",children:t.estimatedMinutes?`${t.estimatedMinutes} min`:"No estimado"})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Visibilidad"}),c?l.jsxs(Wn,{value:d.visibilidad,onValueChange:E=>f({...d,visibilidad:E}),children:[l.jsx(Bn,{children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"GENERAL",children:"General"}),l.jsx(tt,{value:"PERSONAL",children:"Personal"})]})]}):l.jsx("p",{className:"text-sm mt-1",children:t.visibilidad})]})]})}),l.jsx(cr,{value:"subtasks",children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Fg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Funcin de subtareas prximamente"})]})}),l.jsx(cr,{value:"comments",children:t?.id?l.jsx(rRe,{taskId:t.id,currentUser:i?.[0]}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(xL,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No se puede cargar la tarea"})]})}),l.jsx(cr,{value:"attachments",children:t?.id?l.jsx(aRe,{taskId:t.id}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(tv,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No se puede cargar la tarea"})]})}),l.jsx(cr,{value:"time",children:t?.id?l.jsx(oRe,{taskId:t.id,estimatedMinutes:t.estimatedMinutes}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(qo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No se puede cargar la tarea"})]})}),l.jsx(cr,{value:"activity",children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Fb,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Funcin de historial prximamente"})]})})]})]})}):null}function uRe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ry(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function wI(t){return"nodeType"in t}function Qo(t){var e,n;return t?ry(t)?t:wI(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function SI(t){const{Document:e}=Qo(t);return t instanceof e}function Ax(t){return ry(t)?!1:t instanceof Qo(t).HTMLElement}function Fee(t){return t instanceof Qo(t).SVGElement}function iy(t){return t?ry(t)?t.document:wI(t)?SI(t)?t:Ax(t)||Fee(t)?t.ownerDocument:document:document:document}const Zu=D_?S.useLayoutEffect:S.useEffect;function NI(t){const e=S.useRef(t);return Zu(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function dRe(){const t=S.useRef(null),e=S.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function j0(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Zu(()=>{n.current!==t&&(n.current=t)},e),n}function kx(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function hS(t){const e=NI(t),n=S.useRef(null),r=S.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function XP(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let T5={};function jx(t,e){return S.useMemo(()=>{if(e)return e;const n=T5[t]==null?0:T5[t]+1;return T5[t]=n,t+"-"+n},[t,e])}function Bee(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const o=Object.entries(a);for(const[c,u]of o){const d=s[c];d!=null&&(s[c]=d+t*u)}return s},{...e})}}const Gg=Bee(1),T0=Bee(-1);function fRe(t){return"clientX"in t&&"clientY"in t}function _I(t){if(!t)return!1;const{KeyboardEvent:e}=Qo(t.target);return e&&t instanceof e}function hRe(t){if(!t)return!1;const{TouchEvent:e}=Qo(t.target);return e&&t instanceof e}function ZP(t){if(hRe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return fRe(t)?{x:t.clientX,y:t.clientY}:null}const O0=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[O0.Translate.toString(t),O0.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),O9="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function pRe(t){return t.matches(O9)?t:t.querySelector(O9)}const mRe={display:"none"};function gRe(t){let{id:e,value:n}=t;return Ce.createElement("div",{id:e,style:mRe},n)}function vRe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ce.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function yRe(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const $ee=S.createContext(null);function bRe(t){const e=S.useContext($ee);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function xRe(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var o;return(o=a[i])==null?void 0:o.call(a,s)})},[t]),e]}const wRe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},SRe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function NRe(t){let{announcements:e=SRe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=wRe}=t;const{announce:s,announcement:a}=yRe(),o=jx("DndLiveRegion"),[c,u]=S.useState(!1);if(S.useEffect(()=>{u(!0)},[]),bRe(S.useMemo(()=>({onDragStart(f){let{active:m}=f;s(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;e.onDragMove&&s(e.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;s(e.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;s(e.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;s(e.onDragCancel({active:m,over:p}))}}),[s,e])),!c)return null;const d=Ce.createElement(Ce.Fragment,null,Ce.createElement(gRe,{id:r,value:i.draggable}),Ce.createElement(vRe,{id:o,announcement:a}));return n?Uc.createPortal(d,n):d}var Vs;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Vs||(Vs={}));function pS(){}function mS(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function zee(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const tu=Object.freeze({x:0,y:0});function qee(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Uee(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function _Re(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function P9(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Hee(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function M9(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const ERe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=M9(e,e.left,e.top),s=[];for(const a of r){const{id:o}=a,c=n.get(o);if(c){const u=qee(M9(c),i);s.push({id:o,data:{droppableContainer:a,value:u}})}}return s.sort(Uee)},Vee=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=P9(e),s=[];for(const a of r){const{id:o}=a,c=n.get(o);if(c){const u=P9(c),d=i.reduce((m,p,b)=>m+qee(u[b],p),0),f=Number((d/4).toFixed(4));s.push({id:o,data:{droppableContainer:a,value:f}})}}return s.sort(Uee)};function CRe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,o=s-n;if(r<i&&n<s){const c=e.width*e.height,u=t.width*t.height,d=a*o,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const ARe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,o=n.get(a);if(o){const c=CRe(o,e);c>0&&i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(_Re)};function kRe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function Wee(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:tu}function jRe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,o)=>({...a,top:a.top+t*o.y,bottom:a.bottom+t*o.y,left:a.left+t*o.x,right:a.right+t*o.x}),{...n})}}const TRe=jRe(1);function ORe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function PRe(t,e,n){const r=ORe(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:o}=r,c=t.left-a-(1-i)*parseFloat(n),u=t.top-o-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const MRe={ignoreTransform:!1};function sy(t,e){e===void 0&&(e=MRe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Qo(t).getComputedStyle(t);u&&(n=PRe(n,u,d))}const{top:r,left:i,width:s,height:a,bottom:o,right:c}=n;return{top:r,left:i,width:s,height:a,bottom:o,right:c}}function R9(t){return sy(t,{ignoreTransform:!0})}function RRe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function IRe(t,e){return e===void 0&&(e=Qo(t).getComputedStyle(t)),e.position==="fixed"}function DRe(t,e){e===void 0&&(e=Qo(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function L_(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(SI(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Ax(i)||Fee(i)||n.includes(i))return n;const s=Qo(t).getComputedStyle(i);return i!==t&&DRe(i,s)&&n.push(i),IRe(i,s)?n:r(i.parentNode)}return t?r(t):n}function Kee(t){const[e]=L_(t,1);return e??null}function O5(t){return!D_||!t?null:ry(t)?t:wI(t)?SI(t)||t===iy(t).scrollingElement?window:Ax(t)?t:null:null}function Gee(t){return ry(t)?t.scrollX:t.scrollLeft}function Yee(t){return ry(t)?t.scrollY:t.scrollTop}function QP(t){return{x:Gee(t),y:Yee(t)}}var oa;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(oa||(oa={}));function Xee(t){return!D_||!t?!1:t===document.scrollingElement}function Zee(t){const e={x:0,y:0},n=Xee(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,o=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:o,maxScroll:r,minScroll:e}}const LRe={x:.2,y:.2};function FRe(t,e,n,r,i){let{top:s,left:a,right:o,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=LRe);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=Zee(t),p={x:0,y:0},b={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+v.height?(p.y=oa.Backward,b.y=r*Math.abs((e.top+v.height-s)/v.height)):!d&&c>=e.bottom-v.height&&(p.y=oa.Forward,b.y=r*Math.abs((e.bottom-v.height-c)/v.height)),!m&&o>=e.right-v.width?(p.x=oa.Forward,b.x=r*Math.abs((e.right-v.width-o)/v.width)):!f&&a<=e.left+v.width&&(p.x=oa.Backward,b.x=r*Math.abs((e.left+v.width-a)/v.width)),{direction:p,speed:b}}function BRe(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function Qee(t){return t.reduce((e,n)=>Gg(e,QP(n)),tu)}function $Re(t){return t.reduce((e,n)=>e+Gee(n),0)}function zRe(t){return t.reduce((e,n)=>e+Yee(n),0)}function qRe(t,e){if(e===void 0&&(e=sy),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);Kee(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const URe=[["x",["left","right"],$Re],["y",["top","bottom"],zRe]];class EI{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=L_(n),i=Qee(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,o]of URe)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=o(r),d=i[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class wb{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function HRe(t){const{EventTarget:e}=Qo(t);return t instanceof e?t:iy(t)}function P5(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Zl;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Zl||(Zl={}));function I9(t){t.preventDefault()}function VRe(t){t.stopPropagation()}var pr;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(pr||(pr={}));const Jee={start:[pr.Space,pr.Enter],cancel:[pr.Esc],end:[pr.Space,pr.Enter,pr.Tab]},WRe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case pr.Right:return{...n,x:n.x+25};case pr.Left:return{...n,x:n.x-25};case pr.Down:return{...n,y:n.y+25};case pr.Up:return{...n,y:n.y-25}}};class CI{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new wb(iy(n)),this.windowListeners=new wb(Qo(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Zl.Resize,this.handleCancel),this.windowListeners.add(Zl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Zl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&qRe(r),n(tu)}handleKeyDown(e){if(_I(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=Jee,coordinateGetter:a=WRe,scrollBehavior:o="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:tu;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:n,context:r.current,currentCoordinates:d});if(f){const m=T0(f,d),p={x:0,y:0},{scrollableAncestors:b}=r.current;for(const v of b){const y=e.code,{isTop:w,isRight:_,isLeft:E,isBottom:A,maxScroll:k,minScroll:P}=Zee(v),R=BRe(v),T={x:Math.min(y===pr.Right?R.right-R.width/2:R.right,Math.max(y===pr.Right?R.left:R.left+R.width/2,f.x)),y:Math.min(y===pr.Down?R.bottom-R.height/2:R.bottom,Math.max(y===pr.Down?R.top:R.top+R.height/2,f.y))},M=y===pr.Right&&!_||y===pr.Left&&!E,B=y===pr.Down&&!A||y===pr.Up&&!w;if(M&&T.x!==f.x){const O=v.scrollLeft+m.x,F=y===pr.Right&&O<=k.x||y===pr.Left&&O>=P.x;if(F&&!m.y){v.scrollTo({left:O,behavior:o});return}F?p.x=v.scrollLeft-O:p.x=y===pr.Right?v.scrollLeft-k.x:v.scrollLeft-P.x,p.x&&v.scrollBy({left:-p.x,behavior:o});break}else if(B&&T.y!==f.y){const O=v.scrollTop+m.y,F=y===pr.Down&&O<=k.y||y===pr.Up&&O>=P.y;if(F&&!m.x){v.scrollTo({top:O,behavior:o});return}F?p.y=v.scrollTop-O:p.y=y===pr.Down?v.scrollTop-k.y:v.scrollTop-P.y,p.y&&v.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,Gg(T0(f,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}CI.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Jee,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const o=s.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function D9(t){return!!(t&&"distance"in t)}function L9(t){return!!(t&&"delay"in t)}class AI{constructor(e,n,r){var i;r===void 0&&(r=HRe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=iy(a),this.documentListeners=new wb(this.document),this.listeners=new wb(r),this.windowListeners=new wb(Qo(a)),this.initialCoordinates=(i=ZP(s))!=null?i:tu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Zl.Resize,this.handleCancel),this.windowListeners.add(Zl.DragStart,I9),this.windowListeners.add(Zl.VisibilityChange,this.handleCancel),this.windowListeners.add(Zl.ContextMenu,I9),this.documentListeners.add(Zl.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(L9(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(D9(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Zl.Click,VRe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Zl.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!i)return;const c=(n=ZP(e))!=null?n:tu,u=T0(i,c);if(!r&&o){if(D9(o)){if(o.tolerance!=null&&P5(u,o.tolerance))return this.handleCancel();if(P5(u,o.distance))return this.handleStart()}if(L9(o)&&P5(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),a(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===pr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const KRe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class kI extends AI{constructor(e){const{event:n}=e,r=iy(n.target);super(e,KRe,r)}}kI.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const GRe={move:{name:"mousemove"},end:{name:"mouseup"}};var JP;(function(t){t[t.RightClick=2]="RightClick"})(JP||(JP={}));class ete extends AI{constructor(e){super(e,GRe,iy(e.event.target))}}ete.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===JP.RightClick?!1:(r?.({event:n}),!0)}}];const M5={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tte extends AI{constructor(e){super(e,M5)}static setup(){return window.addEventListener(M5.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(M5.move.name,e)};function e(){}}}tte.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Sb;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Sb||(Sb={}));var gS;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(gS||(gS={}));function YRe(t){let{acceleration:e,activator:n=Sb.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:o=gS.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=t;const p=ZRe({delta:f,disabled:!s}),[b,v]=dRe(),y=S.useRef({x:0,y:0}),w=S.useRef({x:0,y:0}),_=S.useMemo(()=>{switch(n){case Sb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Sb.DraggableRect:return i}},[n,i,c]),E=S.useRef(null),A=S.useCallback(()=>{const P=E.current;if(!P)return;const R=y.current.x*w.current.x,T=y.current.y*w.current.y;P.scrollBy(R,T)},[]),k=S.useMemo(()=>o===gS.TreeOrder?[...u].reverse():u,[o,u]);S.useEffect(()=>{if(!s||!u.length||!_){v();return}for(const P of k){if(r?.(P)===!1)continue;const R=u.indexOf(P),T=d[R];if(!T)continue;const{direction:M,speed:B}=FRe(P,T,_,e,m);for(const O of["x","y"])p[O][M[O]]||(B[O]=0,M[O]=0);if(B.x>0||B.y>0){v(),E.current=P,b(A,a),y.current=B,w.current=M;return}}y.current={x:0,y:0},w.current={x:0,y:0},v()},[e,A,r,v,s,a,JSON.stringify(_),JSON.stringify(p),b,u,k,d,JSON.stringify(m)])}const XRe={x:{[oa.Backward]:!1,[oa.Forward]:!1},y:{[oa.Backward]:!1,[oa.Forward]:!1}};function ZRe(t){let{delta:e,disabled:n}=t;const r=XP(e);return kx(i=>{if(n||!r||!i)return XRe;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[oa.Backward]:i.x[oa.Backward]||s.x===-1,[oa.Forward]:i.x[oa.Forward]||s.x===1},y:{[oa.Backward]:i.y[oa.Backward]||s.y===-1,[oa.Forward]:i.y[oa.Forward]||s.y===1}}},[n,e,r])}function QRe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return kx(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function JRe(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var P0;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(P0||(P0={}));var eM;(function(t){t.Optimized="optimized"})(eM||(eM={}));const F9=new Map;function e4e(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=S.useState(null),{frequency:o,measure:c,strategy:u}=i,d=S.useRef(t),f=y(),m=j0(f),p=S.useCallback(function(w){w===void 0&&(w=[]),!m.current&&a(_=>_===null?w:_.concat(w.filter(E=>!_.includes(E))))},[m]),b=S.useRef(null),v=kx(w=>{if(f&&!n)return F9;if(!w||w===F9||d.current!==t||s!=null){const _=new Map;for(let E of t){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){_.set(E.id,E.rect.current);continue}const A=E.node.current,k=A?new EI(c(A),A):null;E.rect.current=k,k&&_.set(E.id,k)}return _}return w},[t,s,n,f,c]);return S.useEffect(()=>{d.current=t},[t]),S.useEffect(()=>{f||p()},[n,f]),S.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),S.useEffect(()=>{f||typeof o!="number"||b.current!==null||(b.current=setTimeout(()=>{p(),b.current=null},o))},[o,f,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function y(){switch(u){case P0.Always:return!1;case P0.BeforeDragging:return n;default:return!n}}}function nte(t,e){return kx(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function t4e(t,e){return nte(t,e)}function n4e(t){let{callback:e,disabled:n}=t;const r=NI(e),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function F_(t){let{callback:e,disabled:n}=t;const r=NI(e),i=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return S.useEffect(()=>()=>i?.disconnect(),[i]),i}function r4e(t){return new EI(sy(t),t)}function B9(t,e,n){e===void 0&&(e=r4e);const[r,i]=S.useState(null);function s(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const a=n4e({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),o=F_({callback:s});return Zu(()=>{s(),t?(o?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),a?.disconnect())},[t]),r}function i4e(t){const e=nte(t);return Wee(t,e)}const $9=[];function s4e(t){const e=S.useRef(t),n=kx(r=>t?r&&r!==$9&&t&&e.current&&t.parentNode===e.current.parentNode?r:L_(t):$9,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function a4e(t){const[e,n]=S.useState(null),r=S.useRef(t),i=S.useCallback(s=>{const a=O5(s.target);a&&n(o=>o?(o.set(a,QP(a)),new Map(o)):null)},[]);return S.useEffect(()=>{const s=r.current;if(t!==s){a(s);const o=t.map(c=>{const u=O5(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,QP(u)]):null}).filter(c=>c!=null);n(o.length?new Map(o):null),r.current=t}return()=>{a(t),a(s)};function a(o){o.forEach(c=>{const u=O5(c);u?.removeEventListener("scroll",i)})}},[i,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>Gg(s,a),tu):Qee(t):tu,[t,e])}function z9(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==tu;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?T0(t,n.current):tu}function o4e(t){S.useEffect(()=>{if(!D_)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function l4e(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function rte(t){return S.useMemo(()=>t?RRe(t):null,[t])}const q9=[];function c4e(t,e){e===void 0&&(e=sy);const[n]=t,r=rte(n?Qo(n):null),[i,s]=S.useState(q9);function a(){s(()=>t.length?t.map(c=>Xee(c)?r:new EI(e(c),c)):q9)}const o=F_({callback:a});return Zu(()=>{o?.disconnect(),a(),t.forEach(c=>o?.observe(c))},[t]),i}function u4e(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ax(e)?e:t}function d4e(t){let{measure:e}=t;const[n,r]=S.useState(null),i=S.useCallback(u=>{for(const{target:d}of u)if(Ax(d)){r(f=>{const m=e(d);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),s=F_({callback:i}),a=S.useCallback(u=>{const d=u4e(u);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[o,c]=hS(a);return S.useMemo(()=>({nodeRef:o,rect:n,setRef:c}),[n,o,c])}const f4e=[{sensor:kI,options:{}},{sensor:CI,options:{}}],h4e={current:{}},Rw={draggable:{measure:R9},droppable:{measure:R9,strategy:P0.WhileDragging,frequency:eM.Optimized},dragOverlay:{measure:sy}};class Nb extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const p4e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Nb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rw,measureDroppableContainers:pS,windowRect:null,measuringScheduled:!1},m4e={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pS,draggableNodes:new Map,over:null,measureDroppableContainers:pS},B_=S.createContext(m4e),ite=S.createContext(p4e);function g4e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Nb}}}function v4e(t,e){switch(e.type){case Vs.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Vs.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Vs.DragEnd:case Vs.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vs.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Nb(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Vs.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new Nb(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Vs.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Nb(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function y4e(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=S.useContext(B_),s=XP(r),a=XP(n?.id);return S.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!_I(s)||document.activeElement===s.target)return;const o=i.get(a);if(!o)return;const{activatorNode:c,node:u}=o;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=pRe(d);if(f){f.focus();break}}})}},[r,e,i,a,s]),null}function b4e(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function x4e(t){return S.useMemo(()=>({draggable:{...Rw.draggable,...t?.draggable},droppable:{...Rw.droppable,...t?.droppable},dragOverlay:{...Rw.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function w4e(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=S.useRef(!1),{x:a,y:o}=typeof i=="boolean"?{x:i,y:i}:i;Zu(()=>{if(!a&&!o||!e){s.current=!1;return}if(s.current||!r)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Wee(d,r);if(a||(f.x=0),o||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=Kee(u);m&&m.scrollBy({top:f.y,left:f.x})}},[e,a,o,r,n])}const ste=S.createContext({...tu,scaleX:1,scaleY:1});var nh;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(nh||(nh={}));const ate=S.memo(function(e){var n,r,i,s;let{id:a,accessibility:o,autoScroll:c=!0,children:u,sensors:d=f4e,collisionDetection:f=ARe,measuring:m,modifiers:p,...b}=e;const v=S.useReducer(v4e,void 0,g4e),[y,w]=v,[_,E]=xRe(),[A,k]=S.useState(nh.Uninitialized),P=A===nh.Initialized,{draggable:{active:R,nodes:T,translate:M},droppable:{containers:B}}=y,O=R!=null?T.get(R):null,F=S.useRef({initial:null,translated:null}),q=S.useMemo(()=>{var pn;return R!=null?{id:R,data:(pn=O?.data)!=null?pn:h4e,rect:F}:null},[R,O]),z=S.useRef(null),[K,Z]=S.useState(null),[H,W]=S.useState(null),Y=j0(b,Object.values(b)),ge=jx("DndDescribedBy",a),Q=S.useMemo(()=>B.getEnabled(),[B]),I=x4e(m),{droppableRects:G,measureDroppableContainers:ne,measuringScheduled:ie}=e4e(Q,{dragging:P,dependencies:[M.x,M.y],config:I.droppable}),he=QRe(T,R),J=S.useMemo(()=>H?ZP(H):null,[H]),ue=Er(),ae=t4e(he,I.draggable.measure);w4e({activeNode:R!=null?T.get(R):null,config:ue.layoutShiftCompensation,initialRect:ae,measure:I.draggable.measure});const X=B9(he,I.draggable.measure,ae),pe=B9(he?he.parentElement:null),xe=S.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),De=B.getNodeFor((n=xe.current.over)==null?void 0:n.id),Ee=d4e({measure:I.dragOverlay.measure}),de=(r=Ee.nodeRef.current)!=null?r:he,Ge=P?(i=Ee.rect)!=null?i:X:null,Nt=!!(Ee.nodeRef.current&&Ee.rect),it=i4e(Nt?null:X),Ye=rte(de?Qo(de):null),me=s4e(P?De??he:null),Se=c4e(me),Te=b4e(p,{transform:{x:M.x-it.x,y:M.y-it.y,scaleX:1,scaleY:1},activatorEvent:H,active:q,activeNodeRect:X,containerNodeRect:pe,draggingNodeRect:Ge,over:xe.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:me,scrollableAncestorRects:Se,windowRect:Ye}),Ue=J?Gg(J,M):null,He=a4e(me),qe=z9(He),Qe=z9(He,[X]),xt=Gg(Te,qe),gt=Ge?TRe(Ge,Te):null,At=q&&gt?f({active:q,collisionRect:gt,droppableRects:G,droppableContainers:Q,pointerCoordinates:Ue}):null,Wt=Hee(At,"id"),[_t,An]=S.useState(null),_n=Nt?Te:Gg(Te,Qe),Ft=kRe(_n,(s=_t?.rect)!=null?s:null,X),vn=S.useRef(null),Jn=S.useCallback((pn,zt)=>{let{sensor:we,options:We}=zt;if(z.current==null)return;const lt=T.get(z.current);if(!lt)return;const Tt=pn.nativeEvent,Tn=new we({active:z.current,activeNode:lt,event:Tt,options:We,context:xe,onAbort(Le){if(!T.get(Le))return;const{onDragAbort:Rt}=Y.current,qn={id:Le};Rt?.(qn),_({type:"onDragAbort",event:qn})},onPending(Le,ot,Rt,qn){if(!T.get(Le))return;const{onDragPending:dr}=Y.current,nr={id:Le,constraint:ot,initialCoordinates:Rt,offset:qn};dr?.(nr),_({type:"onDragPending",event:nr})},onStart(Le){const ot=z.current;if(ot==null)return;const Rt=T.get(ot);if(!Rt)return;const{onDragStart:qn}=Y.current,mn={activatorEvent:Tt,active:{id:ot,data:Rt.data,rect:F}};Uc.unstable_batchedUpdates(()=>{qn?.(mn),k(nh.Initializing),w({type:Vs.DragStart,initialCoordinates:Le,active:ot}),_({type:"onDragStart",event:mn}),Z(vn.current),W(Tt)})},onMove(Le){w({type:Vs.DragMove,coordinates:Le})},onEnd:le(Vs.DragEnd),onCancel:le(Vs.DragCancel)});vn.current=Tn;function le(Le){return async function(){const{active:Rt,collisions:qn,over:mn,scrollAdjustedTranslate:dr}=xe.current;let nr=null;if(Rt&&dr){const{cancelDrop:$r}=Y.current;nr={activatorEvent:Tt,active:Rt,collisions:qn,delta:dr,over:mn},Le===Vs.DragEnd&&typeof $r=="function"&&await Promise.resolve($r(nr))&&(Le=Vs.DragCancel)}z.current=null,Uc.unstable_batchedUpdates(()=>{w({type:Le}),k(nh.Uninitialized),An(null),Z(null),W(null),vn.current=null;const $r=Le===Vs.DragEnd?"onDragEnd":"onDragCancel";if(nr){const ci=Y.current[$r];ci?.(nr),_({type:$r,event:nr})}})}}},[T]),sn=S.useCallback((pn,zt)=>(we,We)=>{const lt=we.nativeEvent,Tt=T.get(We);if(z.current!==null||!Tt||lt.dndKit||lt.defaultPrevented)return;const Tn={active:Tt};pn(we,zt.options,Tn)===!0&&(lt.dndKit={capturedBy:zt.sensor},z.current=We,Jn(we,zt))},[T,Jn]),kn=JRe(d,sn);o4e(d),Zu(()=>{X&&A===nh.Initializing&&k(nh.Initialized)},[X,A]),S.useEffect(()=>{const{onDragMove:pn}=Y.current,{active:zt,activatorEvent:we,collisions:We,over:lt}=xe.current;if(!zt||!we)return;const Tt={active:zt,activatorEvent:we,collisions:We,delta:{x:xt.x,y:xt.y},over:lt};Uc.unstable_batchedUpdates(()=>{pn?.(Tt),_({type:"onDragMove",event:Tt})})},[xt.x,xt.y]),S.useEffect(()=>{const{active:pn,activatorEvent:zt,collisions:we,droppableContainers:We,scrollAdjustedTranslate:lt}=xe.current;if(!pn||z.current==null||!zt||!lt)return;const{onDragOver:Tt}=Y.current,Tn=We.get(Wt),le=Tn&&Tn.rect.current?{id:Tn.id,rect:Tn.rect.current,data:Tn.data,disabled:Tn.disabled}:null,Le={active:pn,activatorEvent:zt,collisions:we,delta:{x:lt.x,y:lt.y},over:le};Uc.unstable_batchedUpdates(()=>{An(le),Tt?.(Le),_({type:"onDragOver",event:Le})})},[Wt]),Zu(()=>{xe.current={activatorEvent:H,active:q,activeNode:he,collisionRect:gt,collisions:At,droppableRects:G,draggableNodes:T,draggingNode:de,draggingNodeRect:Ge,droppableContainers:B,over:_t,scrollableAncestors:me,scrollAdjustedTranslate:xt},F.current={initial:Ge,translated:gt}},[q,he,At,gt,T,de,Ge,G,B,_t,me,xt]),YRe({...ue,delta:M,draggingRect:gt,pointerCoordinates:Ue,scrollableAncestors:me,scrollableAncestorRects:Se});const xn=S.useMemo(()=>({active:q,activeNode:he,activeNodeRect:X,activatorEvent:H,collisions:At,containerNodeRect:pe,dragOverlay:Ee,draggableNodes:T,droppableContainers:B,droppableRects:G,over:_t,measureDroppableContainers:ne,scrollableAncestors:me,scrollableAncestorRects:Se,measuringConfiguration:I,measuringScheduled:ie,windowRect:Ye}),[q,he,X,H,At,pe,Ee,T,B,G,_t,ne,me,Se,I,ie,Ye]),_r=S.useMemo(()=>({activatorEvent:H,activators:kn,active:q,activeNodeRect:X,ariaDescribedById:{draggable:ge},dispatch:w,draggableNodes:T,over:_t,measureDroppableContainers:ne}),[H,kn,q,X,w,ge,T,_t,ne]);return Ce.createElement($ee.Provider,{value:E},Ce.createElement(B_.Provider,{value:_r},Ce.createElement(ite.Provider,{value:xn},Ce.createElement(ste.Provider,{value:Ft},u)),Ce.createElement(y4e,{disabled:o?.restoreFocus===!1})),Ce.createElement(NRe,{...o,hiddenTextDescribedById:ge}));function Er(){const pn=K?.autoScrollEnabled===!1,zt=typeof c=="object"?c.enabled===!1:c===!1,we=P&&!pn&&!zt;return typeof c=="object"?{...c,enabled:we}:{enabled:we}}}),S4e=S.createContext(null),U9="button",N4e="Draggable";function ote(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=jx(N4e),{activators:a,activatorEvent:o,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=S.useContext(B_),{role:p=U9,roleDescription:b="draggable",tabIndex:v=0}=i??{},y=c?.id===e,w=S.useContext(y?ste:S4e),[_,E]=hS(),[A,k]=hS(),P=l4e(a,e),R=j0(n);Zu(()=>(f.set(e,{id:e,key:s,node:_,activatorNode:A,data:R}),()=>{const M=f.get(e);M&&M.key===s&&f.delete(e)}),[f,e]);const T=S.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":y&&p===U9?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[r,p,v,y,b,d.draggable]);return{active:c,activatorEvent:o,activeNodeRect:u,attributes:T,isDragging:y,listeners:r?void 0:P,node:_,over:m,setNodeRef:E,setActivatorNodeRef:k,transform:w}}function _4e(){return S.useContext(ite)}const E4e="Droppable",C4e={timeout:25};function lte(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=jx(E4e),{active:a,dispatch:o,over:c,measureDroppableContainers:u}=S.useContext(B_),d=S.useRef({disabled:n}),f=S.useRef(!1),m=S.useRef(null),p=S.useRef(null),{disabled:b,updateMeasurementsFor:v,timeout:y}={...C4e,...i},w=j0(v??r),_=S.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),p.current=null},y)},[y]),E=F_({callback:_,disabled:b||!a}),A=S.useCallback((T,M)=>{E&&(M&&(E.unobserve(M),f.current=!1),T&&E.observe(T))},[E]),[k,P]=hS(A),R=j0(e);return S.useEffect(()=>{!E||!k.current||(E.disconnect(),f.current=!1,E.observe(k.current))},[k,E]),S.useEffect(()=>(o({type:Vs.RegisterDroppable,element:{id:r,key:s,disabled:n,node:k,rect:m,data:R}}),()=>o({type:Vs.UnregisterDroppable,key:s,id:r})),[r]),S.useEffect(()=>{n!==d.current.disabled&&(o({type:Vs.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,o]),{active:a,rect:m,isOver:c?.id===r,node:k,over:c,setNodeRef:P}}function cte(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function A4e(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function U1(t){return t!==null&&t>=0}function k4e(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function j4e(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const ute=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=cte(e,r,n),a=e[i],o=s[i];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},H1={scaleX:1,scaleY:1},T4e=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=t;const o=(e=s[n])!=null?e:r;if(!o)return null;if(i===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(o.top+o.height):u.top-o.top,...H1}:null}const c=O4e(s,i,n);return i>n&&i<=a?{x:0,y:-o.height-c,...H1}:i<n&&i>=a?{x:0,y:o.height+c,...H1}:{x:0,y:0,...H1}};function O4e(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const dte="Sortable",fte=Ce.createContext({activeIndex:-1,containerId:dte,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ute,disabled:{draggable:!1,droppable:!1}});function P4e(t){let{children:e,id:n,items:r,strategy:i=ute,disabled:s=!1}=t;const{active:a,dragOverlay:o,droppableRects:c,over:u,measureDroppableContainers:d}=_4e(),f=jx(dte,n),m=o.rect!==null,p=S.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),b=a!=null,v=a?p.indexOf(a.id):-1,y=u?p.indexOf(u.id):-1,w=S.useRef(p),_=!k4e(p,w.current),E=y!==-1&&v===-1||_,A=j4e(s);Zu(()=>{_&&b&&d(p)},[_,p,b,d]),S.useEffect(()=>{w.current=p},[p]);const k=S.useMemo(()=>({activeIndex:v,containerId:f,disabled:A,disableTransforms:E,items:p,overIndex:y,useDragOverlay:m,sortedRects:A4e(p,c),strategy:i}),[v,f,A.draggable,A.droppable,E,p,y,c,m,i]);return Ce.createElement(fte.Provider,{value:k},e)}const M4e=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return cte(n,r,i).indexOf(e)},R4e=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:o,previousContainerId:c,transition:u}=t;return!u||!r||o!==s&&i===a?!1:n?!0:a!==i&&e===c},I4e={duration:200,easing:"ease"},hte="transform",D4e=O0.Transition.toString({property:hte,duration:0,easing:"linear"}),L4e={roleDescription:"sortable"};function F4e(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,a]=S.useState(null),o=S.useRef(n);return Zu(()=>{if(!e&&n!==o.current&&r.current){const c=i.current;if(c){const u=sy(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&a(d)}}n!==o.current&&(o.current=n)},[e,n,r,i]),S.useEffect(()=>{s&&a(null)},[s]),s}function B4e(t){let{animateLayoutChanges:e=R4e,attributes:n,disabled:r,data:i,getNewIndex:s=M4e,id:a,strategy:o,resizeObserverConfig:c,transition:u=I4e}=t;const{items:d,containerId:f,activeIndex:m,disabled:p,disableTransforms:b,sortedRects:v,overIndex:y,useDragOverlay:w,strategy:_}=S.useContext(fte),E=$4e(r,p),A=d.indexOf(a),k=S.useMemo(()=>({sortable:{containerId:f,index:A,items:d},...i}),[f,i,A,d]),P=S.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:R,node:T,isOver:M,setNodeRef:B}=lte({id:a,data:k,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...c}}),{active:O,activatorEvent:F,activeNodeRect:q,attributes:z,setNodeRef:K,listeners:Z,isDragging:H,over:W,setActivatorNodeRef:Y,transform:ge}=ote({id:a,data:k,attributes:{...L4e,...n},disabled:E.draggable}),Q=uRe(B,K),I=!!O,G=I&&!b&&U1(m)&&U1(y),ne=!w&&H,ie=ne&&G?ge:null,J=G?ie??(o??_)({rects:v,activeNodeRect:q,activeIndex:m,overIndex:y,index:A}):null,ue=U1(m)&&U1(y)?s({id:a,items:d,activeIndex:m,overIndex:y}):A,ae=O?.id,X=S.useRef({activeId:ae,items:d,newIndex:ue,containerId:f}),pe=d!==X.current.items,xe=e({active:O,containerId:f,isDragging:H,isSorting:I,id:a,index:A,items:d,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:u,wasDragging:X.current.activeId!=null}),De=F4e({disabled:!xe,index:A,node:T,rect:R});return S.useEffect(()=>{I&&X.current.newIndex!==ue&&(X.current.newIndex=ue),f!==X.current.containerId&&(X.current.containerId=f),d!==X.current.items&&(X.current.items=d)},[I,ue,f,d]),S.useEffect(()=>{if(ae===X.current.activeId)return;if(ae!=null&&X.current.activeId==null){X.current.activeId=ae;return}const de=setTimeout(()=>{X.current.activeId=ae},50);return()=>clearTimeout(de)},[ae]),{active:O,activeIndex:m,attributes:z,data:k,rect:R,index:A,newIndex:ue,items:d,isOver:M,isSorting:I,isDragging:H,listeners:Z,node:T,overIndex:y,over:W,setNodeRef:Q,setActivatorNodeRef:Y,setDroppableNodeRef:B,setDraggableNodeRef:K,transform:De??J,transition:Ee()};function Ee(){if(De||pe&&X.current.newIndex===A)return D4e;if(!(ne&&!_I(F)||!u)&&(I||xe))return O0.Transition.toString({...u,property:hte})}}function $4e(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function vS(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const z4e=[pr.Down,pr.Right,pr.Up,pr.Left],q4e=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:o}}=e;if(z4e.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=i.get(f.id);if(m)switch(t.code){case pr.Down:r.top<m.top&&c.push(f);break;case pr.Up:r.top>m.top&&c.push(f);break;case pr.Left:r.left>m.left&&c.push(f);break;case pr.Right:r.left<m.left&&c.push(f);break}});const u=Vee({collisionRect:r,droppableRects:i,droppableContainers:c});let d=Hee(u,"id");if(d===a?.id&&u.length>1&&(d=u[1].id),d!=null){const f=s.get(n.id),m=s.get(d),p=m?i.get(m.id):null,b=m?.node.current;if(b&&p&&f&&m){const y=L_(b).some((P,R)=>o[R]!==P),w=pte(f,m),_=U4e(f,m),E=y||!w?{x:0,y:0}:{x:_?r.width-p.width:0,y:_?r.height-p.height:0},A={x:p.left,y:p.top};return E.x&&E.y?A:T0(A,E)}}}};function pte(t,e){return!vS(t)||!vS(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function U4e(t,e){return!vS(t)||!vS(e)||!pte(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const H9={PENDIENTE:{label:"Pendiente",color:"bg-slate-100",icon:Gc},EN_PROGRESO:{label:"En Progreso",color:"bg-blue-100",icon:qo},COMPLETADA:{label:"Completada",color:"bg-green-100",icon:nc},CANCELADA:{label:"Cancelada",color:"bg-red-100",icon:Gc}};function H4e({task:t,onTaskClick:e,users:n}){const{attributes:r,listeners:i,setNodeRef:s,transform:a,transition:o,isDragging:c}=B4e({id:t.id}),u={transform:O0.Transform.toString(a),transition:o,opacity:c?.5:1},d={BAJA:"text-slate-500",MEDIA:"text-amber-500",ALTA:"text-red-500"},f=n?.find(p=>p.id===t.asignadoA),m=t.fechaVencimiento&&new Date(t.fechaVencimiento)<new Date;return l.jsx("div",{ref:s,style:u,...r,...i,className:"mb-3 cursor-grab active:cursor-grabbing",children:l.jsx(dt,{className:`border-l-4 hover:shadow-md transition-all ${c?"shadow-lg":""}`,style:{borderLeftColor:t.color||"#cbd5e1",backgroundColor:t.color?`${t.color}15`:void 0},onClick:()=>e?.(t),children:l.jsxs(ft,{className:"p-3 space-y-2",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h3",{className:"font-medium text-sm flex-1 break-words",children:t.titulo}),t.progreso!==void 0&&t.progreso>0&&l.jsxs(bt,{variant:"outline",className:"text-xs flex-shrink-0",children:[t.progreso,"%"]})]}),t.descripcion&&l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:t.descripcion}),l.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[l.jsx(bt,{variant:"secondary",className:`text-xs ${d[t.prioridad]}`,children:t.prioridad}),m&&l.jsx(bt,{variant:"destructive",className:"text-xs",children:"Vencida"})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[t.fechaVencimiento&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(YT,{className:"w-3 h-3"}),l.jsx("span",{children:mo(new Date(t.fechaVencimiento),"dd MMM",{locale:Ou})})]}),f&&l.jsx("span",{className:"text-xs px-2 py-0.5 bg-secondary rounded-full",children:f.username[0]})]}),t.progreso!==void 0&&l.jsx("div",{className:"w-full bg-secondary h-1 rounded-full overflow-hidden",children:l.jsx("div",{className:"bg-primary h-full transition-all",style:{width:`${t.progreso}%`}})})]})})})}function V4e({onTaskClick:t,clients:e=[],users:n=[]}){const{toast:r}=li(),[i,s]=S.useState([]),{isLoading:a,data:o}=Sn({queryKey:["/api/tasks"]});S.useEffect(()=>{o&&s(o)},[o]);const c=hn({mutationFn:async({taskId:m,estado:p})=>await tn("PATCH",`/api/tasks/${m}`,{estado:p}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/tasks"]})},onError:()=>{r({title:"Error al actualizar tarea",variant:"destructive"}),rn.invalidateQueries({queryKey:["/api/tasks"]})}}),u=zee(mS(kI),mS(CI,{coordinateGetter:q4e})),d=S.useMemo(()=>({PENDIENTE:i.filter(m=>m.estado==="PENDIENTE"),EN_PROGRESO:i.filter(m=>m.estado==="EN_PROGRESO"),COMPLETADA:i.filter(m=>m.estado==="COMPLETADA")}),[i]),f=m=>{const{active:p,over:b}=m;if(!b)return;const v=i.find(w=>w.id===p.id),y=b.id;!v||!Object.keys(H9).includes(y)||v.estado!==y&&(s(w=>w.map(_=>_.id===v.id?{..._,estado:y}:_)),c.mutate({taskId:v.id,estado:y}))};return a?l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(m=>l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-8 bg-secondary rounded-lg animate-pulse"}),[1,2,3].map(p=>l.jsx("div",{className:"h-24 bg-secondary rounded-lg animate-pulse"},p))]},m))}):l.jsx(ate,{sensors:u,collisionDetection:ERe,onDragEnd:f,children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(H9).map(([m,p])=>{const b=d[m]||[],v=p.icon;return l.jsxs(dt,{className:`${p.color} min-h-96`,children:[l.jsx(Dt,{className:"pb-3",children:l.jsxs($t,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(v,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:p.label})]}),l.jsx(bt,{variant:"secondary",className:"text-xs",children:b.length})]})}),l.jsx(ft,{children:l.jsx(P4e,{items:b.map(y=>y.id),strategy:T4e,children:l.jsx("div",{className:"space-y-2",children:b.length>0?b.map(y=>l.jsx(H4e,{task:y,onTaskClick:t,users:n},y.id)):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l.jsx("p",{className:"text-xs",children:"Sin tareas"})})})})})]},m)})})})}function W4e(){const{toast:t}=li(),{user:e}=Nm(),[n,r]=S.useState("table"),[i,s]=S.useState(!1),[a,o]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""}),{data:m,isLoading:p}=Sn({queryKey:["/api/tasks"]}),{data:b}=Sn({queryKey:["/api/clients"]}),{data:v}=Sn({queryKey:["/api/users"]}),y=hn({mutationFn:async T=>await tn("POST","/api/tasks",T),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/tasks"]}),t({title:"Tarea creada exitosamente"}),s(!1),E()}}),w=hn({mutationFn:async({id:T,estado:M})=>await tn("PATCH",`/api/tasks/${T}`,{estado:M}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/tasks"]})}}),_=m?.filter(T=>T.visibilidad==="GENERAL"?!0:T.visibilidad==="PERSONAL"?e?.role==="ADMIN"||T.asignadoA===e?.id:!1)||[],E=()=>{f({titulo:"",descripcion:"",clienteId:"",asignadoA:"",prioridad:"MEDIA",estado:"PENDIENTE",visibilidad:"GENERAL",fechaVencimiento:""})},A=T=>{T.preventDefault(),y.mutate(d)},k=T=>{o(T),u(!0)},P=T=>{const M={BAJA:"text-muted-foreground bg-muted",MEDIA:"text-chart-2 bg-chart-2/10",ALTA:"text-destructive bg-destructive/10"};return l.jsx(bt,{variant:"outline",className:M[T],children:T})},R=T=>{const M={PENDIENTE:{color:"text-muted-foreground bg-muted",icon:qo},EN_PROGRESO:{color:"text-chart-2 bg-chart-2/10",icon:mR},COMPLETADA:{color:"text-chart-3 bg-chart-3/10",icon:nc}},B=M[T]||M.PENDIENTE,O=B.icon;return l.jsxs(bt,{variant:"outline",className:B.color,children:[l.jsx(O,{className:"h-3 w-3 mr-1"}),T.replace("_"," ")]})};return p?l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsx(Vn,{className:"h-9 w-48"}),l.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((T,M)=>l.jsx(Vn,{className:"h-64"},M))})]}):l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Tareas"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de tareas generales y personales"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Al,{value:n,onValueChange:T=>r(T),children:l.jsxs(Xo,{children:[l.jsxs(Pn,{value:"table","data-testid":"button-view-table",children:[l.jsx(Rle,{className:"h-4 w-4 mr-2"}),"Tabla"]}),l.jsxs(Pn,{value:"kanban","data-testid":"button-view-kanban",children:[l.jsx(Mle,{className:"h-4 w-4 mr-2"}),"Tablero"]})]})}),l.jsxs(ls,{open:i,onOpenChange:s,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{onClick:E,"data-testid":"button-add-task",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nueva Tarea"]})}),l.jsxs(Wi,{className:"max-w-2xl",children:[l.jsxs(cs,{children:[l.jsx(us,{children:"Nueva Tarea"}),l.jsx(Ca,{children:"Crea una nueva tarea general o personal"})]}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(Re,{htmlFor:"titulo",children:"Ttulo *"}),l.jsx(Ke,{id:"titulo",value:d.titulo,onChange:T=>f({...d,titulo:T.target.value}),required:!0,"data-testid":"input-titulo"})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(Re,{htmlFor:"descripcion",children:"Descripcin"}),l.jsx(af,{id:"descripcion",value:d.descripcion,onChange:T=>f({...d,descripcion:T.target.value}),"data-testid":"textarea-descripcion"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"cliente",children:"Cliente"}),l.jsxs(Wn,{value:d.clienteId||"none",onValueChange:T=>f({...d,clienteId:T==="none"?"":T}),children:[l.jsx(Bn,{"data-testid":"select-cliente",children:l.jsx(Kn,{placeholder:"Sin cliente"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"none",children:"Sin cliente"}),b?.map(T=>l.jsx(tt,{value:T.id,children:T.razonSocial},T.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"asignado",children:"Asignado a"}),l.jsxs(Wn,{value:d.asignadoA||"none",onValueChange:T=>f({...d,asignadoA:T==="none"?"":T}),children:[l.jsx(Bn,{"data-testid":"select-asignado",children:l.jsx(Kn,{placeholder:"Sin asignar"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"none",children:"Sin asignar"}),v?.map(T=>l.jsx(tt,{value:T.id,children:T.username},T.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"prioridad",children:"Prioridad"}),l.jsxs(Wn,{value:d.prioridad,onValueChange:T=>f({...d,prioridad:T}),children:[l.jsx(Bn,{"data-testid":"select-prioridad",children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"BAJA",children:"Baja"}),l.jsx(tt,{value:"MEDIA",children:"Media"}),l.jsx(tt,{value:"ALTA",children:"Alta"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"visibilidad",children:"Visibilidad"}),l.jsxs(Wn,{value:d.visibilidad,onValueChange:T=>f({...d,visibilidad:T}),children:[l.jsx(Bn,{"data-testid":"select-visibilidad",children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"GENERAL",children:"General"}),l.jsx(tt,{value:"PERSONAL",children:"Personal"})]})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(Re,{htmlFor:"fechaVencimiento",children:"Fecha de Vencimiento"}),l.jsx(Ke,{id:"fechaVencimiento",type:"date",value:d.fechaVencimiento,onChange:T=>f({...d,fechaVencimiento:T.target.value}),"data-testid":"input-fecha-vencimiento"})]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{s(!1),E()},children:"Cancelar"}),l.jsx(_e,{type:"submit","data-testid":"button-submit-task",children:"Crear Tarea"})]})]})]})]})]})]}),n==="table"?l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{children:["Lista de Tareas (",_.length,")"]})}),l.jsx(ft,{children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Ttulo"}),l.jsx(Pt,{children:"Cliente"}),l.jsx(Pt,{children:"Asignado"}),l.jsx(Pt,{children:"Prioridad"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"Vencimiento"}),l.jsx(Pt,{className:"text-right",children:"Acciones"})]})}),l.jsx(zo,{children:_.length===0?l.jsx(or,{children:l.jsx(St,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay tareas registradas"})}):_.map(T=>l.jsxs(or,{"data-testid":`row-task-${T.id}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>k(T),children:[l.jsx(St,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[T.visibilidad==="PERSONAL"&&l.jsx(NW,{className:"h-3 w-3 text-muted-foreground"}),T.titulo]})}),l.jsx(St,{children:T.client?.razonSocial||"-"}),l.jsx(St,{children:T.assignedUser?.username||"-"}),l.jsx(St,{children:P(T.prioridad)}),l.jsx(St,{children:R(T.estado)}),l.jsx(St,{children:T.fechaVencimiento?new Date(T.fechaVencimiento).toLocaleDateString():"-"}),l.jsx(St,{className:"text-right",onClick:M=>M.stopPropagation(),children:l.jsxs(Wn,{value:T.estado,onValueChange:M=>w.mutate({id:T.id,estado:M}),children:[l.jsx(Bn,{className:"w-[140px]","data-testid":`select-estado-${T.id}`,children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"PENDIENTE",children:"Pendiente"}),l.jsx(tt,{value:"EN_PROGRESO",children:"En Progreso"}),l.jsx(tt,{value:"COMPLETADA",children:"Completada"})]})]})})]},T.id))})]})})]}):l.jsx(V4e,{onTaskClick:k,clients:b,users:v}),l.jsx(cRe,{task:a,isOpen:c,onClose:()=>{u(!1),o(null)},clients:b,users:v})]})}function K4e(){li();const{user:t}=Nm(),[,e]=Ko(),[n,r]=S.useState(""),[i,s]=S.useState(null),{data:a,isLoading:o}=Sn({queryKey:["/api/manuals"]}),c=t?.permissions||[],u=Array.isArray(c)&&c.includes("manuals:create"),d=Array.isArray(c)&&c.includes("manuals:update"),f=u||d,m=a?.filter(p=>p.titulo.toLowerCase().includes(n.toLowerCase())||p.categoria?.toLowerCase().includes(n.toLowerCase()))||[];return o?l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsx(Vn,{className:"h-9 w-48"}),l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((p,b)=>l.jsx(Vn,{className:"h-48"},b))})]}):l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Manuales"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Base de conocimientos y documentacin interna"})]}),f&&l.jsxs(_e,{onClick:()=>e("/manuales/nuevo"),"data-testid":"button-nuevo-manual",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nuevo Manual"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx($v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ke,{placeholder:"Buscar manuales...",value:n,onChange:p=>r(p.target.value),className:"pl-10","data-testid":"input-search-manuals"})]}),m.length===0?l.jsx(dt,{children:l.jsxs(ft,{className:"flex flex-col items-center justify-center py-16",children:[l.jsx(Di,{className:"h-16 w-16 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No hay manuales disponibles"}),l.jsx("p",{className:"text-muted-foreground text-center mb-4",children:f?"Comienza creando tu primer manual":"An no se han publicado manuales"})]})}):l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m.map(p=>l.jsxs(dt,{className:"hover-elevate cursor-pointer",onClick:()=>e(`/manuales/${p.id}`),"data-testid":`card-manual-${p.id}`,children:[l.jsxs(Dt,{children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx(Di,{className:"h-8 w-8 text-primary"}),p.publicado?l.jsx(bt,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):l.jsx(bt,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),l.jsx($t,{className:"mt-4",children:p.titulo}),l.jsx(lf,{children:p.categoria||"Sin categora"})]}),l.jsxs(ft,{children:[p.etiquetas&&p.etiquetas.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:p.etiquetas.slice(0,3).map(b=>l.jsx(bt,{variant:"secondary",className:"text-xs",children:b},b))}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:new Date(p.fechaCreacion).toLocaleDateString()}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:b=>{b.stopPropagation(),e(`/manuales/${p.id}`)},"data-testid":`button-view-${p.id}`,children:l.jsx(Q0,{className:"h-4 w-4"})}),f&&l.jsxs(l.Fragment,{children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:b=>{b.stopPropagation(),e(`/manuales/${p.id}/editar`)},"data-testid":`button-edit-${p.id}`,children:l.jsx(Bu,{className:"h-4 w-4"})}),d&&l.jsx(_e,{variant:"ghost",size:"icon",onClick:async b=>{if(b.stopPropagation(),!!window.confirm(`Eliminar el manual "${p.titulo}"?`))try{s(p.id),await tn("DELETE",`/api/manuals/${encodeURIComponent(p.id)}`),rn.setQueryData(["/api/manuals"],y=>Array.isArray(y)?y.filter(w=>w.id!==p.id):y),await rn.invalidateQueries({queryKey:["/api/manuals"],exact:!0})}catch(y){rn.invalidateQueries({queryKey:["/api/manuals"],exact:!0});const w=y?.message||"No se pudo eliminar";alert(w)}finally{s(null)}},disabled:i===p.id,"data-testid":`button-delete-${p.id}`,title:"Eliminar",children:l.jsx(ka,{className:"h-4 w-4"})})]})]})]})]})]},p.id))})]})}function G4e(){const{toast:t}=li(),[e,n]=S.useState(new Date().getFullYear()),[r,i]=S.useState("all"),[s,a]=S.useState("all"),[o,c]=S.useState(""),[u,d]=S.useState(""),[f,m]=S.useState(""),[p,b]=S.useState(""),[v,y]=S.useState("QUARTERLY"),w=zee(mS(ete,{activationConstraint:{distance:6}}),mS(tte,{activationConstraint:{delay:120,tolerance:8}})),_=Sn({queryKey:["/api/clients"],staleTime:6e4}),E=Sn({queryKey:["/api/tax/filings",e,r,s,u,f,p,o],queryFn:async()=>{const O=new URLSearchParams;O.set("year",String(e)),r&&r!=="all"&&O.set("clientId",r),s!=="all"&&O.set("status",s),u&&u!=="ALL"&&O.set("model",u),f&&O.set("gestorId",f),p&&O.set("periodId",p),o&&O.set("q",o.trim());const F=`/api/tax/filings${O.toString()?`?${O.toString()}`:""}`,q=await fetch(F,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!q.ok)throw new Error("No se pudieron cargar los datos");return q.json()},staleTime:3e4,refetchOnWindowFocus:!1,retry:1}),A=Sn({queryKey:["/api/tax/periods",e],queryFn:async()=>{const O=await fetch(`/api/tax/periods?year=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!O.ok)throw new Error("No se pudieron cargar periodos");return O.json()},staleTime:6e4}),k=hn({mutationFn:async({id:O,status:F,presentedAt:q})=>tn("PATCH",`/api/tax/filings/${O}`,{status:F,presentedAt:q??null}),onError:O=>{t({title:"Error",description:O?.message??"No se pudo actualizar el estado",variant:"destructive"}),E.refetch()},onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1})}}),P=E.data??[],R=O=>{const F=(O||"").toUpperCase();return F==="PRESENTADO"?"PRESENTADO":F==="CALCULADO"||F==="IN_PROGRESS"||F==="COMPLETADO"||F==="COMPLETED"?"CALCULADO":"PENDIENTE"},T=S.useMemo(()=>Object.entries(P_).map(([O,F])=>({code:O,name:F.name})),[]),M=S.useMemo(()=>{const O={PENDIENTE:[],CALCULADO:[],PRESENTADO:[]};return P.forEach(F=>{const q=R(F.status);if(s==="all"||q===s){const z=q in O?q:"PENDIENTE";O[z].push({...F,status:z})}}),O},[P,s]),B=O=>{const F=String(O.active.id),q=O.over?.id;if(!q)return;const z=P.find(K=>K.id===F);if(!(!z||z.status===q))if(rn.setQueriesData({queryKey:["/api/tax/filings"],exact:!1},K=>Array.isArray(K)?K.map(Z=>Z.id===z.id?{...Z,status:q}:Z):K),q==="PRESENTADO"){const K=window.prompt("Fecha de presentacin (YYYY-MM-DD)",new Date().toISOString().slice(0,10));k.mutate({id:z.id,status:q,presentedAt:K||void 0})}else{if(z.status==="PRESENTADO"){window.prompt("Motivo del cambio de estado (salir de Presentado)"),k.mutate({id:z.id,status:q,presentedAt:null});return}k.mutate({id:z.id,status:q})}};return l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),(()=>{const[O,F]=Ko(),q=O?.startsWith("/impuestos/calendario")?"calendar":"control";return l.jsx(Al,{value:q,className:"",children:l.jsxs(Xo,{className:"h-auto grid grid-cols-2 md:grid-cols-3 gap-1 p-1",children:[l.jsxs(Pn,{value:"control",onClick:()=>F("/impuestos/control"),children:[l.jsx(pR,{className:"h-4 w-4 mr-2"})," Control de impuestos"]}),l.jsxs(Pn,{value:"calendar",onClick:()=>F("/impuestos/calendario"),children:[l.jsx(Di,{className:"h-4 w-4 mr-2"})," Calendario fiscal"]}),l.jsxs(Pn,{value:"reports",onClick:()=>F("/impuestos/reportes"),children:[l.jsx(Di,{className:"h-4 w-4 mr-2"})," Reportes"]})]})})})()]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Impuestos 360"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tablero de presentaciones fiscales"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Ke,{placeholder:"Buscar cliente, NIF o modelo...",value:o,onChange:O=>c(O.target.value),className:"w-64"}),l.jsx(_e,{variant:"ghost",onClick:()=>c(""),children:"Limpiar"}),l.jsx(Ke,{type:"number",value:e,onChange:O=>n(Number(O.target.value)),className:"w-24"}),l.jsxs(Wn,{value:v,onValueChange:O=>y(O),children:[l.jsx(Bn,{className:"w-40",children:l.jsx(Kn,{placeholder:"Periodicidad"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"QUARTERLY",children:"Trimestral"}),l.jsx(tt,{value:"ANNUAL",children:"Anual"}),l.jsx(tt,{value:"SPECIAL",children:"Especial"})]})]}),l.jsxs(Wn,{value:p,onValueChange:b,children:[l.jsx(Bn,{className:"w-64",children:l.jsx(Kn,{placeholder:"Periodo"})}),l.jsx($n,{children:(A.data??[]).filter(O=>O.kind===v).map(O=>l.jsxs(tt,{value:O.id,children:[O.label," / ",O.year]},O.id))})]}),l.jsxs(Wn,{value:s,onValueChange:O=>a(O),children:[l.jsx(Bn,{className:"w-40",children:l.jsx(Kn,{placeholder:"Estado"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"all",children:"Todos"}),l.jsx(tt,{value:"PENDIENTE",children:"Pendiente"}),l.jsx(tt,{value:"CALCULADO",children:"Calculado"}),l.jsx(tt,{value:"PRESENTADO",children:"Presentado"})]})]}),l.jsxs(Wn,{value:r,onValueChange:i,children:[l.jsx(Bn,{className:"w-64",children:l.jsx(Kn,{placeholder:"Cliente"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"all",children:"Todos"}),(_.data??[]).map(O=>l.jsx(tt,{value:O.id,children:O.razonSocial},O.id))]})]}),l.jsxs(Wn,{value:u||"ALL",onValueChange:O=>d(O),children:[l.jsx(Bn,{className:"w-56",children:l.jsx(Kn,{placeholder:"Modelo"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"ALL",children:"Todos"}),T.map(O=>l.jsxs(tt,{value:O.code,children:[O.code,"  ",O.name]},O.code))]})]}),l.jsx(Ke,{placeholder:"Gestor (ID)",value:f,onChange:O=>m(O.target.value),className:"w-40"}),l.jsx(_e,{variant:"outline",onClick:async()=>{if((A.data??[]).length===0&&window.confirm("No hay periodos para este ao. Crear ao fiscal ahora?")){const q=await fetch("/api/tax/periods/create-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:e})});if(q.ok)await A.refetch(),t({title:"Ao fiscal creado",description:`Se han creado periodos base para ${e}`});else{try{const z=await q.json();t({title:"Error",description:z?.error||"No se pudo crear el ao fiscal",variant:"destructive"})}catch{t({title:"Error",description:"No se pudo crear el ao fiscal",variant:"destructive"})}return}}const O=await fetch("/api/tax/filings/ensure-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:e})});if(O.ok){try{const F=await O.json();t({title:"Tarjetas generadas",description:`Ao ${e}`})}catch{}E.refetch()}else try{const F=await O.json();t({title:"Error",description:F?.error||"No se pudieron generar las tarjetas",variant:"destructive"})}catch{t({title:"Error",description:"No se pudieron generar las tarjetas",variant:"destructive"})}},children:"Generar tarjetas"})]})]}),E.isLoading?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Vn,{className:"h-12 w-full"}),l.jsx(Vn,{className:"h-[420px] w-full"})]}):P.length===0?l.jsxs("div",{className:"rounded-xl border p-12 text-center text-sm text-muted-foreground",children:[l.jsx("p",{children:"No hay tarjetas para este ao."}),l.jsxs("p",{className:"mt-1",children:["Usa el botn ",l.jsx("span",{className:"font-semibold",children:"Generar tarjetas"})," para crearlas a partir de las asignaciones activas."]})]}):l.jsx(ate,{sensors:w,collisionDetection:Vee,onDragEnd:B,children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsx(R5,{title:"Pendiente",accent:"bg-red-50 border-red-200",badge:"bg-red-100 text-red-700",items:M.PENDIENTE}),l.jsx(R5,{title:"Calculado",accent:"bg-amber-50 border-amber-200",badge:"bg-amber-100 text-amber-700",items:M.CALCULADO}),l.jsx(R5,{title:"Presentado",accent:"bg-emerald-50 border-emerald-200",badge:"bg-emerald-100 text-emerald-700",items:M.PRESENTADO})]})})]})}function R5({title:t,accent:e,badge:n,items:r}){const i=t.toUpperCase(),{setNodeRef:s,isOver:a}=lte({id:i});return l.jsxs("div",{ref:s,id:i,className:`relative flex h-full min-h-[320px] flex-col gap-3 rounded-xl border p-4 ${e} ${a?"ring-2 ring-primary/40":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:t}),l.jsx(bt,{variant:"secondary",className:"bg-background text-muted-foreground",children:r.length})]}),l.jsx(X4e,{items:r,renderItem:o=>l.jsx(Y4e,{item:o,badgeClass:n},o.id)})]})}function Y4e({item:t,badgeClass:e}){const{attributes:n,listeners:r,setNodeRef:i,transform:s,isDragging:a}=ote({id:t.id}),o=s?{transform:`translate3d(${s.x}px, ${s.y}px, 0)`}:void 0,[c,u]=S.useState(!1),{toast:d}=li(),f=async p=>{try{if(p==="PRESENTADO"){const b=window.prompt("Fecha de presentacin (YYYY-MM-DD)",new Date().toISOString().slice(0,10));if(!b)return;await tn("PATCH",`/api/tax/filings/${t.id}`,{status:p,presentedAt:b}),d({title:"Actualizado",description:`Marcado como PRESENTADO (${b})`})}else await tn("PATCH",`/api/tax/filings/${t.id}`,{status:p,presentedAt:null}),d({title:"Actualizado",description:`Estado cambiado a ${p}`});rn.invalidateQueries({queryKey:["/api/tax/filings"],exact:!1})}catch(b){d({title:"Error",description:b?.message||"No se pudo actualizar",variant:"destructive"})}},m=P_[t.taxModelCode];return l.jsxs("div",{ref:i,id:t.id,...r,...n,style:o,className:`rounded-lg border bg-white transition-all duration-200 ${a?"opacity-80 ring-2 ring-primary/50 shadow-lg":"shadow-sm hover:shadow-md"} ${c?"p-4 shadow-xl":"p-3"}`,children:[l.jsx("div",{className:"cursor-pointer select-none",onClick:p=>{a||(p.stopPropagation(),u(!c))},children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"truncate text-sm font-semibold text-foreground",children:t.clientName}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(bt,{variant:"outline",className:`text-xs font-mono ${e}`,children:t.taxModelCode}),l.jsx("span",{className:"text-xs text-muted-foreground",children:t.periodLabel||"Sin periodo"})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx(bt,{variant:t.status==="PRESENTADO"?"default":"secondary",className:"text-xs whitespace-nowrap",children:t.status}),c&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"Click para cerrar"})]})]})}),c&&l.jsxs("div",{className:"mt-4 space-y-3 border-t pt-3 animate-in fade-in slide-in-from-top-2 duration-200",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Informacin del Modelo"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Modelo:"}),l.jsx("span",{className:"ml-1 font-medium",children:t.taxModelCode})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Nombre:"}),l.jsx("span",{className:"ml-1 font-medium",children:m?.name||"N/A"})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Datos del Cliente"}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Razn Social:"}),l.jsx("span",{className:"ml-1 font-medium",children:t.clientName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"NIF/CIF:"}),l.jsx("span",{className:"ml-1 font-mono font-medium",children:t.nifCif})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"ID Cliente:"}),l.jsx("span",{className:"ml-1 font-mono text-muted-foreground",children:t.clientId})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Periodo Fiscal"}),l.jsxs("div",{className:"text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:"Periodo:"}),l.jsx("span",{className:"ml-1 font-medium",children:t.periodLabel||"Sin asignar"})]}),l.jsxs("div",{className:"text-xs",children:[l.jsx("span",{className:"text-muted-foreground",children:"ID Periodo:"}),l.jsx("span",{className:"ml-1 font-mono text-muted-foreground",children:t.periodId})]})]}),l.jsxs("div",{className:"space-y-2 border-t pt-3",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Cambiar Estado"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.status!=="PENDIENTE"&&l.jsx(_e,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),f("PENDIENTE")},className:"flex-1 text-xs",children:" Pendiente"}),t.status!=="CALCULADO"&&l.jsx(_e,{size:"sm",variant:"outline",onClick:p=>{p.stopPropagation(),f("CALCULADO")},className:"flex-1 text-xs",children:" Calculado"}),t.status!=="PRESENTADO"&&l.jsx(_e,{size:"sm",onClick:p=>{p.stopPropagation(),f("PRESENTADO")},className:"flex-1 text-xs",children:" Presentado"})]})]}),l.jsx("div",{className:"text-xs text-muted-foreground border-t pt-2",children:l.jsxs("span",{className:"font-mono",children:["ID: ",t.id]})})]})]})}function X4e({items:t,renderItem:e}){const n=S.useRef(null);return t.length===0?l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"mt-6 text-center text-xs text-muted-foreground",children:"Sin asignaciones."})}):l.jsx("div",{ref:n,className:"flex-1 overflow-auto space-y-3",children:t.map(r=>l.jsx("div",{children:e(r)},r.id))})}function Z4e(){const{toast:t}=li(),e=Fv(),n=new Date().getFullYear(),[r,i]=S.useState(n),[s,a]=S.useState("TODAS"),[o,c]=S.useState("ALL"),[u,d]=S.useState("TODOS"),[f,m]=S.useState(""),[p,b]=S.useState(!1),[v,y]=S.useState({modelCode:"",period:"",startDate:"",endDate:""}),[w,_]=S.useState({}),[E,A]=S.useState("end"),[k,P]=S.useState("asc"),[R,T]=S.useState("calendar"),{data:M=[],refetch:B}=Sn({queryKey:["/api/tax/calendar",r,s,o,u],queryFn:async()=>{const J=new URLSearchParams;J.set("year",String(r)),o&&o!=="ALL"&&J.set("model",o),s==="MENSUAL"&&J.set("periodicity","monthly"),s==="TRIMESTRAL"&&J.set("periodicity","quarterly"),s==="ANUAL"&&J.set("periodicity","annual"),s==="ESPECIAL"&&J.set("periodicity","special"),u!=="TODOS"&&J.set("status",u);const ue=await fetch(`/api/tax/calendar?${J.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!ue.ok)throw new Error("No se pudo cargar el calendario");return ue.json()},staleTime:3e4}),O=hn({mutationFn:async J=>fetch("/api/tax/calendar/create-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({year:J})}).then(ue=>{if(!ue.ok)throw new Error("No se pudo crear el ao");return ue.json()}),onSuccess:()=>B()}),F=()=>{window.open(`/api/tax/calendar/${r}.ics`,"_blank")},q=async()=>{try{const J={year:r};o&&o!=="ALL"&&(J.model=o),s&&s!=="TODAS"&&(J.periodicity=s==="MENSUAL"?"monthly":s==="TRIMESTRAL"?"quarterly":s==="ANUAL"?"annual":"special");const ue=await fetch("/api/tax/calendar/seed-year",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(J)});if(!ue.ok){let X="";try{X=(await ue.json())?.error||""}catch{}throw new Error(X||"No se pudo sembrar el ao")}const ae=await ue.json();t({title:"Ao sembrado",description:`${ae.created} periodos generados`}),B()}catch(J){t({title:"Error",description:J?.message??"",variant:"destructive"})}},z=J=>{if(J.status==="PENDIENTE"||J.status==="ABIERTO"||J.status==="CERRADO")return J.status;const ue=new Date,ae=new Date(J.startDate),X=new Date(J.endDate);return ue>X?"CERRADO":ue>=ae?"ABIERTO":"PENDIENTE"},K=S.useMemo(()=>{const J={PENDIENTE:0,ABIERTO:0,CERRADO:0};for(const ue of M){const ae=z(ue);J[ae]+=1}return J},[M]),Z=S.useMemo(()=>{let J=[...M];if(u!=="TODOS"&&(J=J.filter(ae=>z(ae)===u)),J.sort((ae,X)=>{let pe=0;return E==="end"&&(pe=new Date(ae.endDate).getTime()-new Date(X.endDate).getTime()),E==="start"&&(pe=new Date(ae.startDate).getTime()-new Date(X.startDate).getTime()),E==="model"&&(pe=ae.modelCode.localeCompare(X.modelCode)),E==="period"&&(pe=ae.period.localeCompare(X.period)),k==="asc"?pe:-pe}),!f)return J;const ue=f.toLowerCase();return J.filter(ae=>`${ae.modelCode}`.toLowerCase().includes(ue)||`${ae.period}`.toLowerCase().includes(ue))},[M,f,u]),H=J=>{const ue=z(J);return ue==="PENDIENTE"?l.jsx(bt,{className:"bg-red-100 text-red-700",children:"PENDIENTE"}):ue==="ABIERTO"?l.jsx(bt,{className:"bg-amber-100 text-amber-700",children:"ABIERTO"}):l.jsx(bt,{className:"bg-gray-200 text-gray-700",children:"CERRADO"})},W=J=>{const ue=new Date,ae=new Date(J.startDate),X=new Date(J.endDate);if(ue>=ae&&ue<=X)return l.jsxs(bt,{className:"bg-emerald-600 text-white inline-flex items-center",children:[l.jsx(Qle,{className:"h-3 w-3 mr-1"})," En curso"]});const pe=J.daysToStart;if(pe==null)return"";const xe=pe<=3?"bg-red-600 text-white":pe<=7?"bg-orange-500 text-white":"bg-primary text-primary-foreground",De=pe<=3?JT:pe<=7?yL:Ale;return l.jsxs(bt,{className:`${xe} inline-flex items-center`,children:[l.jsx(De,{className:"h-3 w-3 mr-1"})," ",Q(pe)]})},Y=J=>{const ue=new Date,ae=new Date(J.endDate);if(ue>ae)return l.jsxs(bt,{className:"bg-gray-500 text-white inline-flex items-center",children:[l.jsx(vh,{className:"h-3 w-3 mr-1"})," Vencido"]});const X=J.daysToEnd;if(X==null)return"";const pe=X<=1?"bg-red-700 text-white":X<=3?"bg-red-600 text-white":X<=7?"bg-amber-500 text-white":"bg-emerald-600 text-white",xe=X<=3?JT:X<=7?yL:nc;return l.jsxs(bt,{className:`${pe} inline-flex items-center`,children:[l.jsx(xe,{className:"h-3 w-3 mr-1"})," ",Q(X)]})},ge=(J,ue)=>l.jsxs("button",{type:"button",onClick:()=>{E===ue?P(ae=>ae==="asc"?"desc":"asc"):(A(ue),P("asc"))},className:"text-left hover:underline inline-flex items-center gap-1",children:[l.jsx("span",{children:J}),E===ue?l.jsx("span",{className:"text-xs",children:k==="asc"?"":""}):null]}),Q=J=>J===null?"":`${J} da${Math.abs(J)===1?"":"s"}`,I=S.useMemo(()=>Object.entries(P_).map(([J,ue])=>({code:J,name:ue.name})),[]),G=J=>{try{const ue=new Date(J),ae=ue.getFullYear(),X=String(ue.getMonth()+1).padStart(2,"0"),pe=String(ue.getDate()).padStart(2,"0");return`${ae}-${X}-${pe}`}catch{return""}},ne=async J=>{const ue=w[J];if(!ue)return;const ae={};if(ue.startDate&&(ae.startDate=ue.startDate),ue.endDate&&(ae.endDate=ue.endDate),!Object.keys(ae).length)return;if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(J)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(ae)})).ok)throw new Error("No se pudo actualizar");_(pe=>{const xe={...pe};return delete xe[J],xe}),B()},ie=async()=>{try{if(!v.modelCode||!v.period||!v.startDate||!v.endDate)throw new Error("Completa todos los campos");const J={modelCode:v.modelCode.toUpperCase(),period:v.period.toUpperCase(),year:r,startDate:v.startDate,endDate:v.endDate},ue=await fetch("/api/tax/calendar",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(J)});if(!ue.ok){let pe="";try{pe=(await ue.json())?.error||""}catch{}throw new Error(pe||(ue.status===409?"Periodo duplicado (Modelo/Periodo/Ao)":"No se pudo crear el periodo"))}b(!1),y({modelCode:"",period:"",startDate:"",endDate:""});const ae=J.period,X=J.modelCode;ae==="ANUAL"?a("ANUAL"):/^[1234]T$/.test(ae)?a("TRIMESTRAL"):/^M(04|10|12)$/.test(ae)?a("ESPECIAL"):/^M\d{2}$/.test(ae)?a("MENSUAL"):a("TODAS"),c(X),d("TODOS"),t({title:"Periodo creado",description:`${X} ${he(ae)}/${r}`}),await e.invalidateQueries({queryKey:["/api/tax/calendar"]}),await B()}catch(J){t({title:"Error",description:J?.message??"",variant:"destructive"})}},he=J=>({M01:"Enero",M02:"Febrero",M03:"Marzo",M04:"Abril",M05:"Mayo",M06:"Junio",M07:"Julio",M08:"Agosto",M09:"Septiembre",M10:"Octubre",M11:"Noviembre",M12:"Diciembre"})[J]||J;return l.jsxs("div",{className:"p-8 space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Impuestos"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Seguimiento y planificacin fiscal con la misma experiencia consistente que Administracin."})]}),(()=>{const[J,ue]=Ko(),ae=J?.startsWith("/impuestos/calendario")?"calendar":"control";return l.jsx(Al,{value:ae,className:"",children:l.jsxs(Xo,{className:"h-auto grid grid-cols-2 md:grid-cols-3 gap-1 p-1",children:[l.jsxs(Pn,{value:"control",onClick:()=>ue("/impuestos/control"),children:[l.jsx(pR,{className:"h-4 w-4 mr-2"})," Control de impuestos"]}),l.jsxs(Pn,{value:"calendar",onClick:()=>ue("/impuestos/calendario"),children:[l.jsx(Di,{className:"h-4 w-4 mr-2"})," Calendario fiscal"]}),l.jsxs(Pn,{value:"reports",onClick:()=>ue("/impuestos/reportes"),children:[l.jsx(Di,{className:"h-4 w-4 mr-2"})," Reportes"]})]})})})()]}),l.jsxs(dt,{className:"shadow-sm",children:[l.jsx(Dt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wle,{className:"h-5 w-5 text-muted-foreground"}),l.jsx($t,{className:"text-xl",children:"Calendario fiscal AEAT"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona los modelos oficiales con sus fechas de apertura y cierre."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(_e,{onClick:()=>b(!0),className:"gap-2",children:[l.jsx(da,{className:"h-4 w-4"})," Aadir periodo"]}),l.jsxs(_e,{variant:"outline",onClick:q,className:"gap-2",children:[l.jsx(mW,{className:"h-4 w-4"})," Sembrar Ao"]}),l.jsxs(_e,{variant:"outline",onClick:()=>O.mutate(r),className:"gap-2",children:[l.jsx(QT,{className:"h-4 w-4"})," Nuevo ao fiscal"]}),l.jsx(_e,{variant:"outline",onClick:F,className:"gap-2",children:"Exportar .ICS"})]})]})}),l.jsxs(ft,{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Ao"}),l.jsx(Ke,{type:"number",value:r,onChange:J=>i(Number(J.target.value)),className:"w-24 h-9"})]}),l.jsxs(Wn,{value:s,onValueChange:J=>a(J),children:[l.jsx(Bn,{className:"w-40 h-9",children:l.jsx(Kn,{placeholder:"Periodicidad"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"TODAS",children:"Todas"}),l.jsx(tt,{value:"MENSUAL",children:"Mensual"}),l.jsx(tt,{value:"TRIMESTRAL",children:"Trimestral"}),l.jsx(tt,{value:"ANUAL",children:"Anual"}),l.jsx(tt,{value:"ESPECIAL",children:"Especial 202"})]})]}),l.jsxs(Wn,{value:u,onValueChange:J=>d(J),children:[l.jsx(Bn,{className:"w-40 h-9",children:l.jsx(Kn,{placeholder:"Estado"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"TODOS",children:"Todos"}),l.jsx(tt,{value:"PENDIENTE",children:"Pendiente"}),l.jsx(tt,{value:"ABIERTO",children:"Abierto"}),l.jsx(tt,{value:"CERRADO",children:"Cerrado"})]})]}),l.jsxs(Wn,{value:o,onValueChange:c,children:[l.jsx(Bn,{className:"w-60 h-9",children:l.jsx(Kn,{placeholder:"Filtrar por modelo (ej. 303)"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"ALL",children:"Todos los modelos"}),I.map(J=>l.jsxs(tt,{value:J.code,children:[J.code,"  ",J.name]},J.code))]})]}),l.jsxs("div",{className:"relative",children:[l.jsx($v,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Ke,{className:"pl-8 w-64 h-9",placeholder:"Buscar modelo o periodo",value:f,onChange:J=>m(J.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[l.jsxs(bt,{className:"bg-red-100 text-red-700",children:["Pendiente ",K.PENDIENTE]}),l.jsxs(bt,{className:"bg-amber-100 text-amber-700",children:["Abierto ",K.ABIERTO]}),l.jsxs(bt,{className:"bg-gray-200 text-gray-700",children:["Cerrado ",K.CERRADO]})]})]}),Z.length>0?l.jsxs("div",{className:"grid gap-2",children:[l.jsxs("div",{className:"grid grid-cols-8 text-xs text-muted-foreground px-2",children:[l.jsx("div",{children:ge("Modelo","model")}),l.jsx("div",{children:ge("Periodo","period")}),l.jsx("div",{children:"Estado"}),l.jsx("div",{children:ge("Fecha inicio","start")}),l.jsx("div",{children:"Inicio en"}),l.jsx("div",{children:ge("Fecha fin","end")}),l.jsx("div",{children:"Finaliza en"}),l.jsx("div",{children:"Activo"})]}),Z.map(J=>{const ue=w[J.id]||{},ae=ue.startDate??G(J.startDate),X=ue.endDate??G(J.endDate),pe=z(J),xe=pe==="PENDIENTE"?"border-l-4 border-l-red-400":pe==="ABIERTO"?"border-l-4 border-l-amber-400":"border-l-4 border-l-gray-400";return l.jsxs("div",{className:`grid grid-cols-8 items-center rounded-lg border p-3 bg-card/50 hover:bg-card transition group ${xe}`,children:[l.jsx("div",{className:"font-medium flex items-center gap-2",children:l.jsx(bt,{variant:"outline",className:"bg-muted",children:J.modelCode})}),l.jsxs("div",{children:[he(J.period)," / ",J.year]}),l.jsx("div",{children:H(J)}),l.jsx("div",{children:l.jsx(Ke,{type:"date",value:ae,onChange:De=>_(Ee=>({...Ee,[J.id]:{...Ee[J.id],startDate:De.target.value}})),onBlur:()=>ne(J.id),className:"h-8"})}),l.jsx("div",{children:W(J)}),l.jsx("div",{children:l.jsx(Ke,{type:"date",value:X,onChange:De=>_(Ee=>({...Ee,[J.id]:{...Ee[J.id],endDate:De.target.value}})),onBlur:()=>ne(J.id),className:"h-8"})}),l.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[l.jsx("span",{children:Y(J)}),l.jsx(_e,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",onClick:async()=>{if(window.confirm("Eliminar este periodo?"))try{const Ee=await fetch(`/api/tax/calendar/${encodeURIComponent(J.id)}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!Ee.ok&&Ee.status!==204)throw new Error("No se pudo eliminar");t({title:"Periodo eliminado"}),B()}catch(Ee){t({title:"Error",description:Ee?.message??"",variant:"destructive"})}},title:"Eliminar",children:l.jsx(ka,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(Qc,{checked:!0,onCheckedChange:async De=>{try{if(!(await fetch(`/api/tax/calendar/${encodeURIComponent(J.id)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify({active:De})})).ok)throw new Error("No se pudo actualizar");B()}catch(Ee){t({title:"Error",description:Ee?.message??"",variant:"destructive"})}}})})]},J.id)})]}):l.jsxs("div",{className:"py-16 text-center text-sm text-muted-foreground border rounded-xl",children:[l.jsx("p",{children:"No hay periodos configurados para este ao."}),l.jsxs("p",{className:"mt-1",children:["Utiliza el botn ",l.jsx("span",{className:"font-medium",children:"Aadir periodo"})," para empezar."]})]})]})]}),l.jsx(ls,{open:p,onOpenChange:b,children:l.jsxs(Wi,{children:[l.jsx(cs,{children:l.jsx(us,{children:"Crear periodo"})}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs",children:"Modelo"}),l.jsxs(Wn,{value:v.modelCode||void 0,onValueChange:J=>y({...v,modelCode:J}),children:[l.jsx(Bn,{children:l.jsx(Kn,{placeholder:"Selecciona"})}),l.jsx($n,{children:I.map(J=>l.jsxs(tt,{value:J.code,children:[J.code,"  ",J.name]},J.code))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs",children:"Periodo"}),l.jsxs(Wn,{value:v.period||void 0,onValueChange:J=>y({...v,period:J}),children:[l.jsx(Bn,{children:l.jsx(Kn,{placeholder:"Selecciona"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"ANUAL",children:"Anual"}),Array.from({length:12},(J,ue)=>`M${String(ue+1).padStart(2,"0")}`).map(J=>l.jsx(tt,{value:J,children:he(J)},J)),["1T","2T","3T","4T"].map(J=>l.jsx(tt,{value:J,children:J},J))]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs",children:"Fecha inicio"}),l.jsx(Ke,{type:"date",value:v.startDate,onChange:J=>y({...v,startDate:J.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs",children:"Fecha fin"}),l.jsx(Ke,{type:"date",value:v.endDate,onChange:J=>y({...v,endDate:J.target.value})})]})]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),l.jsx(_e,{onClick:ie,children:"Guardar"})]})]})})]})}function Q4e(t){return Sn({queryKey:["/api/tax/reports/kpis",t],queryFn:async()=>{const e=new URLSearchParams;t.year&&e.set("year",String(t.year)),t.periodId&&e.set("periodId",t.periodId),t.model&&e.set("model",t.model),t.assigneeId&&e.set("assigneeId",t.assigneeId),t.clientId&&e.set("clientId",t.clientId),t.status&&e.set("status",t.status);const n=await fetch(`/api/tax/reports/kpis?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudieron cargar KPIs");return n.json()},staleTime:3e4})}function J4e(t){return Sn({queryKey:["/api/tax/reports/summary/model",t],queryFn:async()=>{const e=new URLSearchParams;t.year&&e.set("year",String(t.year)),t.periodId&&e.set("periodId",t.periodId),t.status&&e.set("status",t.status);const n=await fetch(`/api/tax/reports/summary/model?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por modelo");return n.json()},staleTime:3e4})}function eIe(t){return Sn({queryKey:["/api/tax/reports/trends",t],queryFn:async()=>{const e=new URLSearchParams;t.year&&e.set("year",String(t.year)),t.model&&e.set("model",t.model),t.granularity&&e.set("granularity",t.granularity);const n=await fetch(`/api/tax/reports/trends?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar tendencias");return n.json()},staleTime:3e4})}function tIe(t){return Sn({queryKey:["/api/tax/reports/summary/assignee",t],queryFn:async()=>{const e=new URLSearchParams;t.year&&e.set("year",String(t.year)),t.periodId&&e.set("periodId",t.periodId),t.status&&e.set("status",t.status);const n=await fetch(`/api/tax/reports/summary/assignee?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar resumen por gestor");return n.json()},staleTime:3e4})}function nIe(t){return Sn({queryKey:["/api/tax/reports/filings",t],queryFn:async()=>{const e=new URLSearchParams;t.year&&e.set("year",String(t.year)),t.periodId&&e.set("periodId",t.periodId),t.model&&e.set("model",t.model),t.assigneeId&&e.set("assigneeId",t.assigneeId),t.clientId&&e.set("clientId",t.clientId),t.status&&e.set("status",t.status),e.set("page",String(t.page??1)),e.set("size",String(t.size??50));const n=await fetch(`/api/tax/reports/filings?${e.toString()}`,{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("No se pudo cargar detalle");return n.json()},staleTime:3e4})}function rIe(t){const e=String(t).toUpperCase();return e==="PENDIENTE"||e==="NOT_STARTED"?"bg-red-100 text-red-700":e==="IN_PROGRESS"||e==="CALCULADO"?"bg-amber-100 text-amber-700":e==="PRESENTED"||e==="PRESENTADO"?"bg-emerald-100 text-emerald-700":"bg-muted"}function V9(t){if(!t)return"";const e=typeof t=="string"?new Date(t):t;return Number.isNaN(e.getTime())?"":e.toLocaleDateString("es-ES")}function iIe({filters:t}){const[e,n]=S.useState(1),r=50,{data:i,isLoading:s}=nIe({...t,page:e,size:r}),a=i?.total??0,o=i?.items??[],c=Math.max(1,Math.ceil(a/r));return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[a," resultados"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"outline",size:"sm",disabled:e<=1,onClick:()=>n(u=>Math.max(1,u-1)),children:"Anterior"}),l.jsxs("div",{className:"text-sm",children:[e,"/",c]}),l.jsx(_e,{variant:"outline",size:"sm",disabled:e>=c,onClick:()=>n(u=>Math.min(c,u+1)),children:"Siguiente"})]})]}),l.jsx("div",{className:"rounded-md border overflow-auto",children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Modelo"}),l.jsx(Pt,{children:"Periodo"}),l.jsx(Pt,{children:"Gestor"}),l.jsx(Pt,{children:"Cliente"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"Fecha clculo"}),l.jsx(Pt,{children:"Fecha presentacin"}),l.jsx(Pt,{children:"Das ciclo"})]})}),l.jsx(zo,{children:s?l.jsx(or,{children:l.jsx(St,{colSpan:8,className:"text-center text-muted-foreground",children:"Cargando"})}):o.length===0?l.jsx(or,{children:l.jsx(St,{colSpan:8,className:"text-center text-muted-foreground",children:"Sin resultados"})}):o.map(u=>l.jsxs(or,{className:"cursor-pointer hover:bg-muted/40",onClick:()=>window.location.href="/impuestos/calendario",children:[l.jsx(St,{className:"font-medium",children:u.modelCode}),l.jsx(St,{children:u.periodLabel}),l.jsx(St,{children:u.gestor||""}),l.jsx(St,{children:u.cliente||""}),l.jsx(St,{children:l.jsx(bt,{className:rIe(u.status),children:String(u.status).toUpperCase()})}),l.jsx(St,{children:V9(void 0)}),l.jsx(St,{children:V9(u.presentedAt)}),l.jsx(St,{children:u.cycleDays??""})]},u.id))})]})})]})}function sIe(){const t=new Date().getFullYear(),[e,n]=S.useState({year:t});S.useEffect(()=>{const f=localStorage.getItem("reports.filters");if(f)try{n(JSON.parse(f))}catch{}},[]),S.useEffect(()=>{localStorage.setItem("reports.filters",JSON.stringify(e))},[e]);const r=Q4e(e),i=J4e(e),s=eIe({year:e.year,model:e.model,granularity:"month"}),a=tIe(e),o=S.useMemo(()=>Object.entries(P_).map(([f,m])=>({code:f,name:m.name})),[]),[c,u]=Ko(),d=c?.startsWith("/impuestos/calendario")?"calendar":c?.startsWith("/impuestos/control")?"control":"reports";return l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Reportes de Impuestos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen analtico y operativo"})]}),l.jsx(Al,{value:d,className:"",children:l.jsxs(Xo,{className:"h-auto grid grid-cols-3 gap-1 p-1",children:[l.jsxs(Pn,{value:"control",onClick:()=>u("/impuestos/control"),children:[l.jsx(pR,{className:"h-4 w-4 mr-2"})," Control de impuestos"]}),l.jsxs(Pn,{value:"calendar",onClick:()=>u("/impuestos/calendario"),children:[l.jsx(Di,{className:"h-4 w-4 mr-2"})," Calendario fiscal"]}),l.jsxs(Pn,{value:"reports",onClick:()=>u("/impuestos/reportes"),children:[l.jsx(Sle,{className:"h-4 w-4 mr-2"})," Reportes"]})]})}),l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{className:"text-base",children:"Filtros"}),l.jsx(lf,{children:"Define el alcance del informe"})]}),l.jsxs(ft,{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Ao"}),l.jsx(Ke,{className:"w-24 h-9",type:"number",value:e.year,onChange:f=>n(m=>({...m,year:Number(f.target.value)}))})]}),l.jsxs(Wn,{value:e.model??"ALL",onValueChange:f=>n(m=>({...m,model:f==="ALL"?void 0:f})),children:[l.jsx(Bn,{className:"w-56 h-9",children:l.jsx(Kn,{placeholder:"Modelo"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"ALL",children:"Todos"}),o.map(f=>l.jsxs(tt,{value:f.code,children:[f.code,"  ",f.name]},f.code))]})]}),l.jsxs(Wn,{value:e.status??"ALL",onValueChange:f=>n(m=>({...m,status:f==="ALL"?void 0:f})),children:[l.jsx(Bn,{className:"w-40 h-9",children:l.jsx(Kn,{placeholder:"Estado"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"ALL",children:"Todos"}),l.jsx(tt,{value:"PENDIENTE",children:"Pendiente"}),l.jsx(tt,{value:"IN_PROGRESS",children:"Calculado"}),l.jsx(tt,{value:"PRESENTED",children:"Presentado"})]})]}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx(_e,{onClick:()=>{},children:"Aplicar"}),l.jsx(_e,{variant:"outline",onClick:()=>n({year:t}),children:"Limpiar"}),l.jsx(_e,{variant:"outline",onClick:()=>window.open(`/api/tax/reports/export?year=${e.year}&model=${e.model??""}&status=${e.status??""}`,"_blank"),children:"Exportar"})]})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[l.jsx(fg,{title:"Pendientes",value:r.data?.pending??0,color:"bg-red-50"}),l.jsx(fg,{title:"Calculados",value:r.data?.inProgress??0,color:"bg-amber-50"}),l.jsx(fg,{title:"Presentados",value:r.data?.presented??0,color:"bg-emerald-50"}),l.jsx(fg,{title:"% Avance",value:`${r.data?.advancePct??0}%`,color:"bg-blue-50"}),l.jsx(fg,{title:"Lead Time Medio",value:`${r.data?.leadTimeAvg??0} d`,color:"bg-purple-50"}),l.jsx(fg,{title:"Vencen 3 das",value:r.data?.dueIn3??0,color:"bg-orange-50"})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs(dt,{className:"md:col-span-2",children:[l.jsx(Dt,{children:l.jsx($t,{children:"Resumen por modelo"})}),l.jsx(ft,{children:(i.data??[]).map(f=>l.jsxs("div",{className:"flex items-center justify-between py-1 border-b text-sm",children:[l.jsx("div",{className:"font-medium",children:f.modelCode}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(bt,{className:"bg-red-100 text-red-700",children:["P ",f.pending]}),l.jsxs(bt,{className:"bg-amber-100 text-amber-700",children:["C ",f.inProgress]}),l.jsxs(bt,{className:"bg-emerald-100 text-emerald-700",children:["PR ",f.presented]}),l.jsxs("span",{className:"text-muted-foreground",children:["Avance ",f.advancePct,"%"]})]})]},f.modelCode))})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Tendencia mensual"})}),l.jsx(ft,{children:l.jsx("div",{className:"text-sm text-muted-foreground",children:(s.data?.series??[]).map(f=>l.jsxs("div",{className:"flex items-center justify-between py-1 border-b",children:[l.jsx("span",{children:f.x}),l.jsxs("span",{children:[f.presented," presentados  LT ",f.leadTimeAvg,"d"]})]},f.x))})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Ranking gestores"})}),l.jsx(ft,{children:l.jsx("div",{className:"text-sm text-muted-foreground",children:(a.data??[]).map(f=>l.jsxs("div",{className:"flex items-center justify-between py-1 border-b",children:[l.jsx("span",{children:f.assigneeName}),l.jsxs("span",{children:[f.advancePct,"%"]})]},f.assigneeId??"none"))})})]}),l.jsxs(dt,{className:"md:col-span-3",children:[l.jsx(Dt,{children:l.jsx($t,{children:"Detalle de presentaciones"})}),l.jsx(ft,{children:l.jsx(iIe,{filters:e})})]})]})]})}function fg({title:t,value:e,color:n}){return l.jsx(dt,{className:`${n}`,children:l.jsxs(ft,{className:"py-4",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:t}),l.jsx("div",{className:"text-2xl font-display font-bold",children:e})]})})}function aIe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var jI="ScrollArea",[mte]=bo(jI),[oIe,uc]=mte(jI),gte=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,c]=S.useState(null),[u,d]=S.useState(null),[f,m]=S.useState(null),[p,b]=S.useState(null),[v,y]=S.useState(null),[w,_]=S.useState(0),[E,A]=S.useState(0),[k,P]=S.useState(!1),[R,T]=S.useState(!1),M=zn(e,O=>c(O)),B=sx(i);return l.jsx(oIe,{scope:n,type:r,dir:B,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:k,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:R,onScrollbarYEnabledChange:T,onCornerWidthChange:_,onCornerHeightChange:A,children:l.jsx(Vt.div,{dir:B,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":E+"px",...t.style}})})});gte.displayName=jI;var vte="ScrollAreaViewport",yte=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=uc(vte,n),o=S.useRef(null),c=zn(e,o,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Vt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});yte.displayName=vte;var nd="ScrollAreaScrollbar",TI=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=uc(nd,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return S.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?l.jsx(lIe,{...r,ref:e,forceMount:n}):i.type==="scroll"?l.jsx(cIe,{...r,ref:e,forceMount:n}):i.type==="auto"?l.jsx(bte,{...r,ref:e,forceMount:n}):i.type==="always"?l.jsx(OI,{...r,ref:e}):null});TI.displayName=nd;var lIe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=uc(nd,t.__scopeScrollArea),[s,a]=S.useState(!1);return S.useEffect(()=>{const o=i.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(Go,{present:n||s,children:l.jsx(bte,{"data-state":s?"visible":"hidden",...r,ref:e})})}),cIe=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=uc(nd,t.__scopeScrollArea),s=t.orientation==="horizontal",a=z_(()=>c("SCROLL_END"),100),[o,c]=aIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,c]),S.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),a()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,c,a]),l.jsx(Go,{present:n||o!=="hidden",children:l.jsx(OI,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:qt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:qt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),bte=S.forwardRef((t,e)=>{const n=uc(nd,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=S.useState(!1),o=t.orientation==="horizontal",c=z_(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?u:d)}},10);return Ov(n.viewport,c),Ov(n.content,c),l.jsx(Go,{present:r||s,children:l.jsx(OI,{"data-state":s?"visible":"hidden",...i,ref:e})})}),OI=S.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=uc(nd,t.__scopeScrollArea),s=S.useRef(null),a=S.useRef(0),[o,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_te(o.viewport,o.content),d={...r,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,p){return mIe(m,a.current,o,p)}return n==="horizontal"?l.jsx(uIe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,p=W9(m,o,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):n==="vertical"?l.jsx(dIe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,p=W9(m,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),uIe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=uc(nd,t.__scopeScrollArea),[a,o]=S.useState(),c=S.useRef(null),u=zn(e,c,s.onScrollbarXChange);return S.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(wte,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$_(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),Cte(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bS(a.paddingLeft),paddingEnd:bS(a.paddingRight)}})}})}),dIe=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=uc(nd,t.__scopeScrollArea),[a,o]=S.useState(),c=S.useRef(null),u=zn(e,c,s.onScrollbarYChange);return S.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx(wte,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$_(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),Cte(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bS(a.paddingTop),paddingEnd:bS(a.paddingBottom)}})}})}),[fIe,xte]=mte(nd),wte=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=t,p=uc(nd,n),[b,v]=S.useState(null),y=zn(e,M=>v(M)),w=S.useRef(null),_=S.useRef(""),E=p.viewport,A=r.content-r.viewport,k=Ts(d),P=Ts(c),R=z_(f,10);function T(M){if(w.current){const B=M.clientX-w.current.left,O=M.clientY-w.current.top;u({x:B,y:O})}}return S.useEffect(()=>{const M=B=>{const O=B.target;b?.contains(O)&&k(B,A)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[E,b,A,k]),S.useEffect(P,[r,P]),Ov(b,R),Ov(p.content,R),l.jsx(fIe,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:Ts(s),onThumbPointerUp:Ts(a),onThumbPositionChange:P,onThumbPointerDown:Ts(o),children:l.jsx(Vt.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:qt(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),w.current=b.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(M))}),onPointerMove:qt(t.onPointerMove,T),onPointerUp:qt(t.onPointerUp,M=>{const B=M.target;B.hasPointerCapture(M.pointerId)&&B.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=_.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),yS="ScrollAreaThumb",Ste=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xte(yS,t.__scopeScrollArea);return l.jsx(Go,{present:n||i.hasThumb,children:l.jsx(hIe,{ref:e,...r})})}),hIe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=uc(yS,n),a=xte(yS,n),{onThumbPositionChange:o}=a,c=zn(e,f=>a.onThumbChange(f)),u=S.useRef(void 0),d=z_(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(d(),!u.current){const p=gIe(f,o);u.current=p,o()}};return o(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,d,o]),l.jsx(Vt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:qt(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,v=f.clientY-p.top;a.onThumbPointerDown({x:b,y:v})}),onPointerUp:qt(t.onPointerUp,a.onThumbPointerUp)})});Ste.displayName=yS;var PI="ScrollAreaCorner",Nte=S.forwardRef((t,e)=>{const n=uc(PI,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(pIe,{...t,ref:e}):null});Nte.displayName=PI;var pIe=S.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=uc(PI,n),[s,a]=S.useState(0),[o,c]=S.useState(0),u=!!(s&&o);return Ov(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),c(d)}),Ov(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),a(d)}),u?l.jsx(Vt.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bS(t){return t?parseInt(t,10):0}function _te(t,e){const n=t/e;return isNaN(n)?0:n}function $_(t){const e=_te(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function mIe(t,e,n,r="ltr"){const i=$_(n),s=i/2,a=e||s,o=i-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return Ete([c,u],f)(t)}function W9(t,e,n="ltr"){const r=$_(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,c=n==="ltr"?[0,a]:[a*-1,0],u=_0(t,c);return Ete([0,a],[0,o])(u)}function Ete(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Cte(t,e){return t>0&&t<e}var gIe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function z_(t,e){const n=Ts(t),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ov(t,e){const n=Ts(e);bs(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var Ate=gte,vIe=yte,yIe=Nte;const q_=S.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Ate,{ref:r,className:pt("relative overflow-hidden",t),...n,children:[l.jsx(vIe,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(kte,{}),l.jsx(yIe,{})]}));q_.displayName=Ate.displayName;const kte=S.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx(TI,{ref:r,orientation:e,className:pt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(Ste,{className:"relative flex-1 rounded-full bg-border"})}));kte.displayName=TI.displayName;function bIe({htmlContent:t}){const[e,n]=S.useState([]),[r,i]=S.useState("");S.useEffect(()=>{const c=new DOMParser().parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6"),u=[];c.forEach((f,m)=>{const p=parseInt(f.tagName.substring(1)),b=f.textContent||"";let v=f.id;v||(v=`heading-${m}-${b.toLowerCase().replace(/\s+/g,"-").slice(0,30)}`,f.id=v),u.push({id:v,text:b,level:p})}),n(u);const d=new IntersectionObserver(f=>{f.forEach(m=>{m.isIntersecting&&i(m.target.id)})},{rootMargin:"-20% 0px -35% 0px"});return c.forEach(f=>d.observe(f)),()=>d.disconnect()},[t]);const s=a=>{const o=document.getElementById(a);o&&o.scrollIntoView({behavior:"smooth",block:"start"})};return e.length===0?null:l.jsxs(dt,{className:"sticky top-4",children:[l.jsx(Dt,{className:"pb-3",children:l.jsxs($t,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(fR,{className:"h-4 w-4"}),"Tabla de Contenidos"]})}),l.jsx(ft,{children:l.jsx(q_,{className:"h-[400px] pr-4",children:l.jsx("div",{className:"space-y-1",children:e.map(a=>l.jsx("button",{onClick:()=>s(a.id),className:`
                  w-full text-left text-sm py-1 px-2 rounded transition-colors
                  ${a.level===1?"font-semibold":""}
                  ${a.level===2?"pl-4":""}
                  ${a.level===3?"pl-8":""}
                  ${a.level>=4?"pl-12":""}
                  ${r===a.id?"bg-primary text-primary-foreground":"hover-elevate text-muted-foreground hover:text-foreground"}
                `,"data-testid":`toc-item-${a.id}`,children:a.text},a.id))})})})]})}const xIe="modulepreload",wIe=function(t){return"/"+t},K9={},I5=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=c(n.map(u=>{if(u=wIe(u),u in K9)return;K9[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":xIe,d||(m.as="script"),m.crossOrigin="",m.href=u,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((p,b)=>{m.addEventListener("load",p),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Gr(t){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(t)}var nu=Uint8Array,Sl=Uint16Array,MI=Int32Array,RI=new nu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),II=new nu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),G9=new nu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jte=function(t,e){for(var n=new Sl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new MI(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Tte=jte(RI,2),SIe=Tte.b,tM=Tte.r;SIe[28]=258,tM[258]=28;var NIe=jte(II,0),Y9=NIe.r,nM=new Sl(32768);for(var Ei=0;Ei<32768;++Ei){var Gf=(Ei&43690)>>1|(Ei&21845)<<1;Gf=(Gf&52428)>>2|(Gf&13107)<<2,Gf=(Gf&61680)>>4|(Gf&3855)<<4,nM[Ei]=((Gf&65280)>>8|(Gf&255)<<8)>>1}var _b=(function(t,e,n){for(var r=t.length,i=0,s=new Sl(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Sl(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Sl(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],f=a[t[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)o[nM[f]>>c]=u}else for(o=new Sl(r),i=0;i<r;++i)t[i]&&(o[i]=nM[a[t[i]-1]++]>>15-t[i]);return o}),hm=new nu(288);for(var Ei=0;Ei<144;++Ei)hm[Ei]=8;for(var Ei=144;Ei<256;++Ei)hm[Ei]=9;for(var Ei=256;Ei<280;++Ei)hm[Ei]=7;for(var Ei=280;Ei<288;++Ei)hm[Ei]=8;var xS=new nu(32);for(var Ei=0;Ei<32;++Ei)xS[Ei]=5;var _Ie=_b(hm,9,0),EIe=_b(xS,5,0),Ote=function(t){return(t+7)/8|0},CIe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new nu(t.subarray(e,n))},Rd=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Xy=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},D5=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Mte,l:0};if(i==1){var a=new nu(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(k,P){return k.f-P.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=i-1;)o=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new Sl(m+1),b=rM(n[d-1],p,0);if(b>e){var r=0,v=0,y=b-e,w=1<<y;for(s.sort(function(P,R){return p[R.s]-p[P.s]||P.f-R.f});r<i;++r){var _=s[r].s;if(p[_]>e)v+=w-(1<<b-p[_]),p[_]=e;else break}for(v>>=y;v>0;){var E=s[r].s;p[E]<e?v-=1<<e-p[E]++-1:++r}for(;r>=0&&v;--r){var A=s[r].s;p[A]==e&&(--p[A],++v)}b=e}return{t:new nu(p),l:b}},rM=function(t,e,n){return t.s==-1?Math.max(rM(t.l,e,n+1),rM(t.r,e,n+1)):e[t.s]=n},X9=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Sl(++e),r=0,i=t[0],s=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Zy=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Pte=function(t,e,n){var r=n.length,i=Ote(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Z9=function(t,e,n,r,i,s,a,o,c,u,d){Rd(e,d++,n),++i[256];for(var f=D5(i,15),m=f.t,p=f.l,b=D5(s,15),v=b.t,y=b.l,w=X9(m),_=w.c,E=w.n,A=X9(v),k=A.c,P=A.n,R=new Sl(19),T=0;T<_.length;++T)++R[_[T]&31];for(var T=0;T<k.length;++T)++R[k[T]&31];for(var M=D5(R,7),B=M.t,O=M.l,F=19;F>4&&!B[G9[F-1]];--F);var q=u+5<<3,z=Zy(i,hm)+Zy(s,xS)+a,K=Zy(i,m)+Zy(s,v)+a+14+3*F+Zy(R,B)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&q<=z&&q<=K)return Pte(e,d,t.subarray(c,c+u));var Z,H,W,Y;if(Rd(e,d,1+(K<z)),d+=2,K<z){Z=_b(m,p,0),H=m,W=_b(v,y,0),Y=v;var ge=_b(B,O,0);Rd(e,d,E-257),Rd(e,d+5,P-1),Rd(e,d+10,F-4),d+=14;for(var T=0;T<F;++T)Rd(e,d+3*T,B[G9[T]]);d+=3*F;for(var Q=[_,k],I=0;I<2;++I)for(var G=Q[I],T=0;T<G.length;++T){var ne=G[T]&31;Rd(e,d,ge[ne]),d+=B[ne],ne>15&&(Rd(e,d,G[T]>>5&127),d+=G[T]>>12)}}else Z=_Ie,H=hm,W=EIe,Y=xS;for(var T=0;T<o;++T){var ie=r[T];if(ie>255){var ne=ie>>18&31;Xy(e,d,Z[ne+257]),d+=H[ne+257],ne>7&&(Rd(e,d,ie>>23&31),d+=RI[ne]);var he=ie&31;Xy(e,d,W[he]),d+=Y[he],he>3&&(Xy(e,d,ie>>5&8191),d+=II[he])}else Xy(e,d,Z[ie]),d+=H[ie]}return Xy(e,d,Z[256]),d+H[256]},AIe=new MI([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mte=new nu(0),kIe=function(t,e,n,r,i,s){var a=s.z||t.length,o=new nu(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var f=AIe[e-1],m=f>>13,p=f&8191,b=(1<<n)-1,v=s.p||new Sl(32768),y=s.h||new Sl(b+1),w=Math.ceil(n/3),_=2*w,E=function(Ee){return(t[Ee]^t[Ee+1]<<w^t[Ee+2]<<_)&b},A=new MI(25e3),k=new Sl(288),P=new Sl(32),R=0,T=0,M=s.i||0,B=0,O=s.w||0,F=0;M+2<a;++M){var q=E(M),z=M&32767,K=y[q];if(v[z]=K,y[q]=z,O<=M){var Z=a-M;if((R>7e3||B>24576)&&(Z>423||!u)){d=Z9(t,c,0,A,k,P,T,B,F,M-F,d),B=R=T=0,F=M;for(var H=0;H<286;++H)k[H]=0;for(var H=0;H<30;++H)P[H]=0}var W=2,Y=0,ge=p,Q=z-K&32767;if(Z>2&&q==E(M-Q))for(var I=Math.min(m,Z)-1,G=Math.min(32767,M),ne=Math.min(258,Z);Q<=G&&--ge&&z!=K;){if(t[M+W]==t[M+W-Q]){for(var ie=0;ie<ne&&t[M+ie]==t[M+ie-Q];++ie);if(ie>W){if(W=ie,Y=Q,ie>I)break;for(var he=Math.min(Q,ie-2),J=0,H=0;H<he;++H){var ue=M-Q+H&32767,ae=v[ue],X=ue-ae&32767;X>J&&(J=X,K=ue)}}}z=K,K=v[z],Q+=z-K&32767}if(Y){A[B++]=268435456|tM[W]<<18|Y9[Y];var pe=tM[W]&31,xe=Y9[Y]&31;T+=RI[pe]+II[xe],++k[257+pe],++P[xe],O=M+W,++R}else A[B++]=t[M],++k[t[M]]}}for(M=Math.max(M,O);M<a;++M)A[B++]=t[M],++k[t[M]];d=Z9(t,c,u,A,k,P,T,B,F,M-F,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=y,s.p=v,s.i=M,s.w=O)}else{for(var M=s.w||0;M<a+u;M+=65535){var De=M+65535;De>=a&&(c[d/8|0]=u,De=a),d=Pte(c,d+1,t.subarray(M,De))}s.i=a}return CIe(o,0,r+Ote(d)+i)},Rte=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},jIe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new nu(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return kIe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Ite=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},TIe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Rte();i.p(e.dictionary),Ite(t,2,i.d())}};function iM(t,e){e||(e={});var n=Rte();n.p(t);var r=jIe(t,e,e.dictionary?6:2,4);return TIe(r,e),Ite(r,r.length-4,n.d()),r}var OIe=typeof TextDecoder<"u"&&new TextDecoder,PIe=0;try{OIe.decode(Mte,{stream:!0}),PIe=1}catch{}function MIe(t){if(Array.isArray(t))return t}function RIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Q9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function IIe(t,e){if(t){if(typeof t=="string")return Q9(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q9(t,e):void 0}}function DIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(t,e){return MIe(t)||RIe(t,e)||IIe(t,e)||DIe()}function eq(t,e="utf8"){return new TextDecoder(e).decode(t)}const LIe=new TextEncoder;function FIe(t){return LIe.encode(t)}const BIe=1024*8,$Ie=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),L5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class DI{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=BIe,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof DI)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=L5[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===$Ie&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const c=new L5[n](o.buffer);return this.offset+=r,c.reverse(),c}const a=new L5[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return eq(this.readBytes(e))}decodeText(e=1,n="utf8"){return eq(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(FIe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ay(t){let e=t.length;for(;--e>=0;)t[e]=0}const zIe=3,qIe=258,Dte=29,UIe=256,HIe=UIe+1+Dte,Lte=30,VIe=512,WIe=new Array((HIe+2)*2);ay(WIe);const KIe=new Array(Lte*2);ay(KIe);const GIe=new Array(VIe);ay(GIe);const YIe=new Array(qIe-zIe+1);ay(YIe);const XIe=new Array(Dte);ay(XIe);const ZIe=new Array(Lte);ay(ZIe);const QIe=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var sM=QIe;const JIe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},eDe=new Uint32Array(JIe()),tDe=(t,e,n,r)=>{const i=eDe,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var _u=tDe,aM={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fte={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const nDe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var rDe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)nDe(n,r)&&(t[r]=n[r])}}return t},iDe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},Bte={assign:rDe,flattenChunks:iDe};let $te=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$te=!1}const M0=new Uint8Array(256);for(let t=0;t<256;t++)M0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;M0[254]=M0[254]=1;var sDe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const aDe=(t,e)=>{if(e<65534&&t.subarray&&$te)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var oDe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=M0[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return aDe(s,i)},lDe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+M0[t[n]]>e?n:e},oM={string2buf:sDe,buf2string:oDe,utf8border:lDe};function cDe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var uDe=cDe;const V1=16209,dDe=16191;var fDe=function(e,n){let r,i,s,a,o,c,u,d,f,m,p,b,v,y,w,_,E,A,k,P,R,T,M,B;const O=e.state;r=e.next_in,M=e.input,i=r+(e.avail_in-5),s=e.next_out,B=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),c=O.dmax,u=O.wsize,d=O.whave,f=O.wnext,m=O.window,p=O.hold,b=O.bits,v=O.lencode,y=O.distcode,w=(1<<O.lenbits)-1,_=(1<<O.distbits)-1;e:do{b<15&&(p+=M[r++]<<b,b+=8,p+=M[r++]<<b,b+=8),E=v[p&w];t:for(;;){if(A=E>>>24,p>>>=A,b-=A,A=E>>>16&255,A===0)B[s++]=E&65535;else if(A&16){k=E&65535,A&=15,A&&(b<A&&(p+=M[r++]<<b,b+=8),k+=p&(1<<A)-1,p>>>=A,b-=A),b<15&&(p+=M[r++]<<b,b+=8,p+=M[r++]<<b,b+=8),E=y[p&_];n:for(;;){if(A=E>>>24,p>>>=A,b-=A,A=E>>>16&255,A&16){if(P=E&65535,A&=15,b<A&&(p+=M[r++]<<b,b+=8,b<A&&(p+=M[r++]<<b,b+=8)),P+=p&(1<<A)-1,P>c){e.msg="invalid distance too far back",O.mode=V1;break e}if(p>>>=A,b-=A,A=s-a,P>A){if(A=P-A,A>d&&O.sane){e.msg="invalid distance too far back",O.mode=V1;break e}if(R=0,T=m,f===0){if(R+=u-A,A<k){k-=A;do B[s++]=m[R++];while(--A);R=s-P,T=B}}else if(f<A){if(R+=u+f-A,A-=f,A<k){k-=A;do B[s++]=m[R++];while(--A);if(R=0,f<k){A=f,k-=A;do B[s++]=m[R++];while(--A);R=s-P,T=B}}}else if(R+=f-A,A<k){k-=A;do B[s++]=m[R++];while(--A);R=s-P,T=B}for(;k>2;)B[s++]=T[R++],B[s++]=T[R++],B[s++]=T[R++],k-=3;k&&(B[s++]=T[R++],k>1&&(B[s++]=T[R++]))}else{R=s-P;do B[s++]=B[R++],B[s++]=B[R++],B[s++]=B[R++],k-=3;while(k>2);k&&(B[s++]=B[R++],k>1&&(B[s++]=B[R++]))}}else if((A&64)===0){E=y[(E&65535)+(p&(1<<A)-1)];continue n}else{e.msg="invalid distance code",O.mode=V1;break e}break}}else if((A&64)===0){E=v[(E&65535)+(p&(1<<A)-1)];continue t}else if(A&32){O.mode=dDe;break e}else{e.msg="invalid literal/length code",O.mode=V1;break e}break}}while(r<i&&s<o);k=b>>3,r-=k,b-=k<<3,p&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),O.hold=p,O.bits=b};const hg=15,tq=852,nq=592,rq=0,F5=1,iq=2,hDe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pDe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mDe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gDe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vDe=(t,e,n,r,i,s,a,o)=>{const c=o.bits;let u=0,d=0,f=0,m=0,p=0,b=0,v=0,y=0,w=0,_=0,E,A,k,P,R,T=null,M;const B=new Uint16Array(hg+1),O=new Uint16Array(hg+1);let F=null,q,z,K;for(u=0;u<=hg;u++)B[u]=0;for(d=0;d<r;d++)B[e[n+d]]++;for(p=c,m=hg;m>=1&&B[m]===0;m--);if(p>m&&(p=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<m&&B[f]===0;f++);for(p<f&&(p=f),y=1,u=1;u<=hg;u++)if(y<<=1,y-=B[u],y<0)return-1;if(y>0&&(t===rq||m!==1))return-1;for(O[1]=0,u=1;u<hg;u++)O[u+1]=O[u]+B[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[O[e[n+d]]++]=d);if(t===rq?(T=F=a,M=20):t===F5?(T=hDe,F=pDe,M=257):(T=mDe,F=gDe,M=0),_=0,d=0,u=f,R=s,b=p,v=0,k=-1,w=1<<p,P=w-1,t===F5&&w>tq||t===iq&&w>nq)return 1;for(;;){q=u-v,a[d]+1<M?(z=0,K=a[d]):a[d]>=M?(z=F[a[d]-M],K=T[a[d]-M]):(z=96,K=0),E=1<<u-v,A=1<<b,f=A;do A-=E,i[R+(_>>v)+A]=q<<24|z<<16|K|0;while(A!==0);for(E=1<<u-1;_&E;)E>>=1;if(E!==0?(_&=E-1,_+=E):_=0,d++,--B[u]===0){if(u===m)break;u=e[n+a[d]]}if(u>p&&(_&P)!==k){for(v===0&&(v=p),R+=f,b=u-v,y=1<<b;b+v<m&&(y-=B[b+v],!(y<=0));)b++,y<<=1;if(w+=1<<b,t===F5&&w>tq||t===iq&&w>nq)return 1;k=_&P,i[k]=p<<24|b<<16|R-s|0}}return _!==0&&(i[R+_]=u-v<<24|64<<16|0),o.bits=p,0};var Eb=vDe;const yDe=0,zte=1,qte=2,{Z_FINISH:sq,Z_BLOCK:bDe,Z_TREES:W1,Z_OK:pm,Z_STREAM_END:xDe,Z_NEED_DICT:wDe,Z_STREAM_ERROR:oc,Z_DATA_ERROR:Ute,Z_MEM_ERROR:Hte,Z_BUF_ERROR:SDe,Z_DEFLATED:aq}=Fte,U_=16180,oq=16181,lq=16182,cq=16183,uq=16184,dq=16185,fq=16186,hq=16187,pq=16188,mq=16189,wS=16190,Id=16191,B5=16192,gq=16193,$5=16194,vq=16195,yq=16196,bq=16197,xq=16198,K1=16199,G1=16200,wq=16201,Sq=16202,Nq=16203,_q=16204,Eq=16205,z5=16206,Cq=16207,Aq=16208,Ri=16209,Vte=16210,Wte=16211,NDe=852,_De=592,EDe=15,CDe=EDe,kq=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ADe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jm=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<U_||e.mode>Wte?1:0},Kte=t=>{if(jm(t))return oc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=U_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(NDe),e.distcode=e.distdyn=new Int32Array(_De),e.sane=1,e.back=-1,pm},Gte=t=>{if(jm(t))return oc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Kte(t)},Yte=(t,e)=>{let n;if(jm(t))return oc;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?oc:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Gte(t))},Xte=(t,e)=>{if(!t)return oc;const n=new ADe;t.state=n,n.strm=t,n.window=null,n.mode=U_;const r=Yte(t,e);return r!==pm&&(t.state=null),r},kDe=t=>Xte(t,CDe);let jq=!0,q5,U5;const jDe=t=>{if(jq){q5=new Int32Array(512),U5=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Eb(zte,t.lens,0,288,q5,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Eb(qte,t.lens,0,32,U5,0,t.work,{bits:5}),jq=!1}t.lencode=q5,t.lenbits=9,t.distcode=U5,t.distbits=5},Zte=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},TDe=(t,e)=>{let n,r,i,s,a,o,c,u,d,f,m,p,b,v,y=0,w,_,E,A,k,P,R,T;const M=new Uint8Array(4);let B,O;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jm(t)||!t.output||!t.input&&t.avail_in!==0)return oc;n=t.state,n.mode===Id&&(n.mode=B5),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,f=o,m=c,T=pm;e:for(;;)switch(n.mode){case U_:if(n.wrap===0){n.mode=B5;break}for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=u&255,M[1]=u>>>8&255,n.check=_u(n.check,M,2,0),u=0,d=0,n.mode=oq;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Ri;break}if((u&15)!==aq){t.msg="unknown compression method",n.mode=Ri;break}if(u>>>=4,d-=4,R=(u&15)+8,n.wbits===0&&(n.wbits=R),R>15||R>n.wbits){t.msg="invalid window size",n.mode=Ri;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?mq:Id,u=0,d=0;break;case oq:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==aq){t.msg="unknown compression method",n.mode=Ri;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ri;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,n.check=_u(n.check,M,2,0)),u=0,d=0,n.mode=lq;case lq:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,M[2]=u>>>16&255,M[3]=u>>>24&255,n.check=_u(n.check,M,4,0)),u=0,d=0,n.mode=cq;case cq:for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,n.check=_u(n.check,M,2,0)),u=0,d=0,n.mode=uq;case uq:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(M[0]=u&255,M[1]=u>>>8&255,n.check=_u(n.check,M,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=dq;case dq:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),R)),n.flags&512&&n.wrap&4&&(n.check=_u(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=fq;case fq:if(n.flags&2048){if(o===0)break e;p=0;do R=r[s+p++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R));while(R&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=_u(n.check,r,p,s)),o-=p,s+=p,R)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=hq;case hq:if(n.flags&4096){if(o===0)break e;p=0;do R=r[s+p++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R));while(R&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=_u(n.check,r,p,s)),o-=p,s+=p,R)break e}else n.head&&(n.head.comment=null);n.mode=pq;case pq:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ri;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Id;break;case mq:for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}t.adler=n.check=kq(u),u=0,d=0,n.mode=wS;case wS:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,wDe;t.adler=n.check=1,n.mode=Id;case Id:if(e===bDe||e===W1)break e;case B5:if(n.last){u>>>=d&7,d-=d&7,n.mode=z5;break}for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=gq;break;case 1:if(jDe(n),n.mode=K1,e===W1){u>>>=2,d-=2;break e}break;case 2:n.mode=yq;break;case 3:t.msg="invalid block type",n.mode=Ri}u>>>=2,d-=2;break;case gq:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ri;break}if(n.length=u&65535,u=0,d=0,n.mode=$5,e===W1)break e;case $5:n.mode=vq;case vq:if(p=n.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,c-=p,a+=p,n.length-=p;break}n.mode=Id;break;case yq:for(;d<14;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ri;break}n.have=0,n.mode=bq;case bq:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.lens[F[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},T=Eb(yDe,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,T){t.msg="invalid code lengths set",n.mode=Ri;break}n.have=0,n.mode=xq;case xq:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],w=y>>>24,_=y>>>16&255,E=y&65535,!(w<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(E<16)u>>>=w,d-=w,n.lens[n.have++]=E;else{if(E===16){for(O=w+2;d<O;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(u>>>=w,d-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=Ri;break}R=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(E===17){for(O=w+3;d<O;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=w,d-=w,R=0,p=3+(u&7),u>>>=3,d-=3}else{for(O=w+7;d<O;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=w,d-=w,R=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ri;break}for(;p--;)n.lens[n.have++]=R}}if(n.mode===Ri)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ri;break}if(n.lenbits=9,B={bits:n.lenbits},T=Eb(zte,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,T){t.msg="invalid literal/lengths set",n.mode=Ri;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},T=Eb(qte,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,T){t.msg="invalid distances set",n.mode=Ri;break}if(n.mode=K1,e===W1)break e;case K1:n.mode=G1;case G1:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,fDe(t,m),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===Id&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],w=y>>>24,_=y>>>16&255,E=y&65535,!(w<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(_&&(_&240)===0){for(A=w,k=_,P=E;y=n.lencode[P+((u&(1<<A+k)-1)>>A)],w=y>>>24,_=y>>>16&255,E=y&65535,!(A+w<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=A,d-=A,n.back+=A}if(u>>>=w,d-=w,n.back+=w,n.length=E,_===0){n.mode=Eq;break}if(_&32){n.back=-1,n.mode=Id;break}if(_&64){t.msg="invalid literal/length code",n.mode=Ri;break}n.extra=_&15,n.mode=wq;case wq:if(n.extra){for(O=n.extra;d<O;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Sq;case Sq:for(;y=n.distcode[u&(1<<n.distbits)-1],w=y>>>24,_=y>>>16&255,E=y&65535,!(w<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if((_&240)===0){for(A=w,k=_,P=E;y=n.distcode[P+((u&(1<<A+k)-1)>>A)],w=y>>>24,_=y>>>16&255,E=y&65535,!(A+w<=d);){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}u>>>=A,d-=A,n.back+=A}if(u>>>=w,d-=w,n.back+=w,_&64){t.msg="invalid distance code",n.mode=Ri;break}n.offset=E,n.extra=_&15,n.mode=Nq;case Nq:if(n.extra){for(O=n.extra;d<O;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ri;break}n.mode=_q;case _q:if(c===0)break e;if(p=m-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ri;break}p>n.wnext?(p-=n.wnext,b=n.wsize-p):b=n.wnext-p,p>n.length&&(p=n.length),v=n.window}else v=i,b=a-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do i[a++]=v[b++];while(--p);n.length===0&&(n.mode=G1);break;case Eq:if(c===0)break e;i[a++]=n.length,c--,n.mode=G1;break;case z5:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[s++]<<d,d+=8}if(m-=c,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?_u(n.check,i,m,a-m):sM(n.check,i,m,a-m)),m=c,n.wrap&4&&(n.flags?u:kq(u))!==n.check){t.msg="incorrect data check",n.mode=Ri;break}u=0,d=0}n.mode=Cq;case Cq:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[s++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ri;break}u=0,d=0}n.mode=Aq;case Aq:T=xDe;break e;case Ri:T=Ute;break e;case Vte:return Hte;case Wte:default:return oc}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<Ri&&(n.mode<z5||e!==sq))&&Zte(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?_u(n.check,i,m,t.next_out-m):sM(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Id?128:0)+(n.mode===K1||n.mode===$5?256:0),(f===0&&m===0||e===sq)&&T===pm&&(T=SDe),T},ODe=t=>{if(jm(t))return oc;let e=t.state;return e.window&&(e.window=null),t.state=null,pm},PDe=(t,e)=>{if(jm(t))return oc;const n=t.state;return(n.wrap&2)===0?oc:(n.head=e,e.done=!1,pm)},MDe=(t,e)=>{const n=e.length;let r,i,s;return jm(t)||(r=t.state,r.wrap!==0&&r.mode!==wS)?oc:r.mode===wS&&(i=1,i=sM(i,e,n,0),i!==r.check)?Ute:(s=Zte(t,e,n,n),s?(r.mode=Vte,Hte):(r.havedict=1,pm))};var RDe=Gte,IDe=Yte,DDe=Kte,LDe=kDe,FDe=Xte,BDe=TDe,$De=ODe,zDe=PDe,qDe=MDe,UDe="pako inflate (from Nodeca project)",Ud={inflateReset:RDe,inflateReset2:IDe,inflateResetKeep:DDe,inflateInit:LDe,inflateInit2:FDe,inflate:BDe,inflateEnd:$De,inflateGetHeader:zDe,inflateSetDictionary:qDe,inflateInfo:UDe};function HDe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var VDe=HDe;const Qte=Object.prototype.toString,{Z_NO_FLUSH:WDe,Z_FINISH:KDe,Z_OK:R0,Z_STREAM_END:H5,Z_NEED_DICT:V5,Z_STREAM_ERROR:GDe,Z_DATA_ERROR:Tq,Z_MEM_ERROR:YDe}=Fte;function Tx(t){this.options=Bte.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new uDe,this.strm.avail_out=0;let n=Ud.inflateInit2(this.strm,e.windowBits);if(n!==R0)throw new Error(aM[n]);if(this.header=new VDe,Ud.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=oM.string2buf(e.dictionary):Qte.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ud.inflateSetDictionary(this.strm,e.dictionary),n!==R0)))throw new Error(aM[n])}Tx.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?KDe:WDe,Qte.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Ud.inflate(n,a),s===V5&&i&&(s=Ud.inflateSetDictionary(n,i),s===R0?s=Ud.inflate(n,a):s===Tq&&(s=V5));n.avail_in>0&&s===H5&&n.state.wrap>0&&t[n.next_in]!==0;)Ud.inflateReset(n),s=Ud.inflate(n,a);switch(s){case GDe:case Tq:case V5:case YDe:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===H5))if(this.options.to==="string"){let c=oM.utf8border(n.output,n.next_out),u=n.next_out-c,d=oM.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===R0&&o===0)){if(s===H5)return s=Ud.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Tx.prototype.onData=function(t){this.chunks.push(t)};Tx.prototype.onEnd=function(t){t===R0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bte.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function XDe(t,e){const n=new Tx(e);if(n.push(t),n.err)throw n.msg||aM[n.err];return n.result}var ZDe=Tx,QDe=XDe,JDe={Inflate:ZDe,inflate:QDe};const{Inflate:e3e,inflate:t3e}=JDe;var Oq=e3e,n3e=t3e;const Jte=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Jte[t]=e}const Pq=4294967295;function r3e(t,e,n){let r=t;for(let i=0;i<n;i++)r=Jte[(r^e[i])&255]^r>>>8;return r}function i3e(t,e){return(r3e(Pq,t,e)^Pq)>>>0}function Mq(t,e,n){const r=t.readUint32(),i=i3e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function ene(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function tne(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function nne(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function rne(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function ine(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+s3e(e[s-i],n[s],n[s-i])&255}}function s3e(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function a3e(t,e,n,r,i,s){switch(t){case 0:ene(e,n,i);break;case 1:tne(e,n,i,s);break;case 2:nne(e,n,r,i);break;case 3:rne(e,n,r,i,s);break;case 4:ine(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const o3e=new Uint16Array([255]),l3e=new Uint8Array(o3e.buffer),c3e=l3e[0]===255;function u3e(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(r*n*o);let u=0;for(let d=0;d<7;d++){const f=a[d],m=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(m<=0||p<=0)continue;const b=m*o,v=new Uint8Array(b);for(let y=0;y<p;y++){const w=e[u++],_=e.subarray(u,u+b);u+=b;const E=new Uint8Array(b);a3e(w,_,E,v,b,o),v.set(E);for(let A=0;A<m;A++){const k=f.x+A*f.xStep,P=f.y+y*f.yStep;if(!(k>=n||P>=r))for(let R=0;R<o;R++)c[(P*n+k)*o+R]=E[A*o+R]}}}if(s===16){const d=new Uint16Array(c.buffer);if(c3e)for(let f=0;f<d.length;f++)d[f]=d3e(d[f]);return d}else return c}function d3e(t){return(t&255)<<8|t>>8&255}const f3e=new Uint16Array([255]),h3e=new Uint8Array(f3e.buffer),p3e=h3e[0]===255,m3e=new Uint8Array(0);function Rq(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),c=new Uint8Array(r*o);let u=m3e,d=0,f,m;for(let p=0;p<r;p++){switch(f=e.subarray(d+1,d+1+o),m=c.subarray(p*o,(p+1)*o),e[d]){case 0:ene(f,m,o);break;case 1:tne(f,m,o,a);break;case 2:nne(f,m,u,o);break;case 3:rne(f,m,u,o,a);break;case 4:ine(f,m,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=m,d+=o+1}if(s===16){const p=new Uint16Array(c.buffer);if(p3e)for(let b=0;b<p.length;b++)p[b]=g3e(p[b]);return p}else return c}function g3e(t){return(t&255)<<8|t>>8&255}const Iw=Uint8Array.of(137,80,78,71,13,10,26,10);function Iq(t){if(!v3e(t.readBytes(Iw.length)))throw new Error("wrong PNG signature")}function v3e(t){if(t.length<Iw.length)return!1;for(let e=0;e<Iw.length;e++)if(t[e]!==Iw[e])return!1;return!0}const y3e="tEXt",b3e=0,sne=new TextDecoder("latin1");function x3e(t){if(S3e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const w3e=/^[\u0000-\u00FF]*$/;function S3e(t){if(!w3e.test(t))throw new Error("invalid latin1 text")}function N3e(t,e,n){const r=ane(e);t[r]=_3e(e,n-r.length-1)}function ane(t){for(t.mark();t.readByte()!==b3e;);const e=t.offset;t.reset();const n=sne.decode(t.readBytes(e-t.offset-1));return t.skip(1),x3e(n),n}function _3e(t,e){return sne.decode(t.readBytes(e))}const dl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},W5={UNKNOWN:-1,DEFLATE:0},Dq={UNKNOWN:-1,ADAPTIVE:0},K5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Y1={NONE:0,BACKGROUND:1,PREVIOUS:2},G5={SOURCE:0,OVER:1};class E3e extends DI{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new Oq,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=W5.UNKNOWN,this._filterMethod=Dq.UNKNOWN,this._interlaceMethod=K5.UNKNOWN,this._colorType=dl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Iq(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Iq(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case y3e:N3e(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Mq(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Mq(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=C3e(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case dl.GREYSCALE:r=1;break;case dl.TRUECOLOUR:r=3;break;case dl.INDEXED_COLOUR:r=1;break;case dl.GREYSCALE_ALPHA:r=2;break;case dl.TRUECOLOUR_ALPHA:r=4;break;case dl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==W5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case dl.GREYSCALE:case dl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case dl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case dl.UNKNOWN:case dl.GREYSCALE_ALPHA:case dl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=ane(this),r=this.readUint8();if(r!==W5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:n3e(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Rq({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Y1.NONE:break;case Y1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case Y1.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,a)=>{const o=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(s*n.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(n.blendOp){case G5.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let u=0;u<this._png.channels;u++)e.data[o+u]=n.data[c+u]}break;case G5.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/r,f=u%(this._png.channels-1)===0?1:n.data[c+u],m=Math.floor(d*f+(1-d)*e.data[o+u]);e.data[o+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Dq.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===K5.NO_INTERLACE)this._png.data=Rq({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===K5.ADAM7)this._png.data=u3e({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Y1.NONE,blendOp:G5.SOURCE,data:e}),this._inflator=new Oq,this._writingDataChunks=!1}}function C3e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Lq;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Lq||(Lq={}));function A3e(t,e){return new E3e(t,e).decode()}var Fn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Y5(){Fn.console&&typeof Fn.console.log=="function"&&Fn.console.log.apply(Fn.console,arguments)}var ri={log:Y5,warn:function(t){Fn.console&&(typeof Fn.console.warn=="function"?Fn.console.warn.apply(Fn.console,arguments):Y5.call(null,arguments))},error:function(t){Fn.console&&(typeof Fn.console.error=="function"?Fn.console.error.apply(Fn.console,arguments):Y5(t))}};function X5(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ap(r.response,e,n)},r.onerror=function(){ri.error("could not download file")},r.send()}function Fq(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function X1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ap=Fn.saveAs||((typeof window>"u"?"undefined":Gr(window))!=="object"||window!==Fn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Fn.URL||Fn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Fq(i.href)?X5(t,e,n):X1(i,i.target="_blank"):X1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){X1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Fq(t))X5(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){X1(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Gr(s)!=="object"&&(ri.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return X5(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Fn.HTMLElement)||Fn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Gr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var c=Fn.URL||Fn.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function one(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var Dw=Fn.atob.bind(Fn),Bq=Fn.btoa.bind(Fn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Z5(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=$a(n,r,i,s,e[0],7,-680876936),s=$a(s,n,r,i,e[1],12,-389564586),i=$a(i,s,n,r,e[2],17,606105819),r=$a(r,i,s,n,e[3],22,-1044525330),n=$a(n,r,i,s,e[4],7,-176418897),s=$a(s,n,r,i,e[5],12,1200080426),i=$a(i,s,n,r,e[6],17,-1473231341),r=$a(r,i,s,n,e[7],22,-45705983),n=$a(n,r,i,s,e[8],7,1770035416),s=$a(s,n,r,i,e[9],12,-1958414417),i=$a(i,s,n,r,e[10],17,-42063),r=$a(r,i,s,n,e[11],22,-1990404162),n=$a(n,r,i,s,e[12],7,1804603682),s=$a(s,n,r,i,e[13],12,-40341101),i=$a(i,s,n,r,e[14],17,-1502002290),n=za(n,r=$a(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=za(s,n,r,i,e[6],9,-1069501632),i=za(i,s,n,r,e[11],14,643717713),r=za(r,i,s,n,e[0],20,-373897302),n=za(n,r,i,s,e[5],5,-701558691),s=za(s,n,r,i,e[10],9,38016083),i=za(i,s,n,r,e[15],14,-660478335),r=za(r,i,s,n,e[4],20,-405537848),n=za(n,r,i,s,e[9],5,568446438),s=za(s,n,r,i,e[14],9,-1019803690),i=za(i,s,n,r,e[3],14,-187363961),r=za(r,i,s,n,e[8],20,1163531501),n=za(n,r,i,s,e[13],5,-1444681467),s=za(s,n,r,i,e[2],9,-51403784),i=za(i,s,n,r,e[7],14,1735328473),n=qa(n,r=za(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=qa(s,n,r,i,e[8],11,-2022574463),i=qa(i,s,n,r,e[11],16,1839030562),r=qa(r,i,s,n,e[14],23,-35309556),n=qa(n,r,i,s,e[1],4,-1530992060),s=qa(s,n,r,i,e[4],11,1272893353),i=qa(i,s,n,r,e[7],16,-155497632),r=qa(r,i,s,n,e[10],23,-1094730640),n=qa(n,r,i,s,e[13],4,681279174),s=qa(s,n,r,i,e[0],11,-358537222),i=qa(i,s,n,r,e[3],16,-722521979),r=qa(r,i,s,n,e[6],23,76029189),n=qa(n,r,i,s,e[9],4,-640364487),s=qa(s,n,r,i,e[12],11,-421815835),i=qa(i,s,n,r,e[15],16,530742520),n=Ua(n,r=qa(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ua(s,n,r,i,e[7],10,1126891415),i=Ua(i,s,n,r,e[14],15,-1416354905),r=Ua(r,i,s,n,e[5],21,-57434055),n=Ua(n,r,i,s,e[12],6,1700485571),s=Ua(s,n,r,i,e[3],10,-1894986606),i=Ua(i,s,n,r,e[10],15,-1051523),r=Ua(r,i,s,n,e[1],21,-2054922799),n=Ua(n,r,i,s,e[8],6,1873313359),s=Ua(s,n,r,i,e[15],10,-30611744),i=Ua(i,s,n,r,e[6],15,-1560198380),r=Ua(r,i,s,n,e[13],21,1309151649),n=Ua(n,r,i,s,e[4],6,-145523070),s=Ua(s,n,r,i,e[11],10,-1120210379),i=Ua(i,s,n,r,e[2],15,718787259),r=Ua(r,i,s,n,e[9],21,-343485551),t[0]=fh(n,t[0]),t[1]=fh(r,t[1]),t[2]=fh(i,t[2]),t[3]=fh(s,t[3])}function H_(t,e,n,r,i,s){return e=fh(fh(e,t),fh(r,s)),fh(e<<i|e>>>32-i,n)}function $a(t,e,n,r,i,s,a){return H_(e&n|~e&r,t,e,i,s,a)}function za(t,e,n,r,i,s,a){return H_(e&r|n&~r,t,e,i,s,a)}function qa(t,e,n,r,i,s,a){return H_(e^n^r,t,e,i,s,a)}function Ua(t,e,n,r,i,s,a){return H_(n^(e|~r),t,e,i,s,a)}function lne(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Z5(r,k3e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Z5(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Z5(r,i),r}function k3e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var $q="0123456789abcdef".split("");function j3e(t){for(var e="",n=0;n<4;n++)e+=$q[t>>8*n+4&15]+$q[t>>8*n&15];return e}function T3e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function lM(t){return lne(t).map(T3e).join("")}var O3e=(function(t){for(var e=0;e<t.length;e++)t[e]=j3e(t[e]);return t.join("")})(lne("hello"))!="5d41402abc4b2a76b9719d911017c592";function fh(t,e){if(O3e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cM(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+a.charCodeAt(c))%256,o[c]=o[u],o[u]=d}n=t,r=o}else o=r;var f=e.length,m=0,p=0,b="";for(c=0;c<f;c++)p=(p+(d=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=d,a=o[(o[m]+o[p])%256],b+=String.fromCharCode(e.charCodeAt(c)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zq={print:4,modify:8,copy:16,"annot-forms":32};function Ng(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(zq.perm!==void 0)throw new Error("Invalid permission: "+o);i+=zq[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=lM(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cM(this.encryptionKey,this.padding)}function _g(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function qq(t){if(Gr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){Fn.console&&ri.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function SS(t){if(!(this instanceof SS))return new SS(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function cne(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function kp(t,e,n,r,i){if(!(this instanceof kp))return new kp(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,cne.call(this,r,i)}function Dg(t,e,n,r,i){if(!(this instanceof Dg))return new Dg(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,cne.call(this,r,i)}function fn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,u="S",d=null;Gr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=qq;var b="1.3",v=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(D){b=D};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var w=p.__private__.getPageFormat=function(D){return y[D]};i=i||"a4";var _="compat",E="advanced",A=_;function k(){this.saveGraphicsState(),de(new le(Wt,0,0,-Wt,0,Eo()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),u="n",A=E}function P(){this.restoreGraphicsState(),u="S",A=_}var R=p.__private__.combineFontStyleAndFontWeight=function(D,te){if(D=="bold"&&te=="normal"||D=="bold"&&te==400||D=="normal"&&te=="italic"||D=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(D=te==400||te==="normal"?D==="italic"?"italic":"normal":te!=700&&te!=="bold"||D!=="normal"?(te==700?"bold":te)+""+D:"bold"),D};p.advancedAPI=function(D){var te=A===_;return te&&k.call(this),typeof D!="function"||(D(this),te&&P.call(this)),this},p.compatAPI=function(D){var te=A===E;return te&&P.call(this),typeof D!="function"||(D(this),te&&k.call(this)),this},p.isAdvancedAPI=function(){return A===E};var T,M=function(D){if(A!==E)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=p.roundToPrecision=p.__private__.roundToPrecision=function(D,te){var be=e||te;if(isNaN(D)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(be).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,16)};var O=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return B(D,2)},F=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return B(D,3)},q=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return A===_?D*Wt:A===E?D:void 0},z=function(D){return q((function(te){return A===_?Eo()-te:A===E?te:void 0})(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var K,Z="00000000000000000000000000000000",H=p.__private__.getFileId=function(){return Z},W=p.__private__.setFileId=function(D){return Z=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(yi=new Ng(d.userPermissions,d.userPassword,d.ownerPassword,Z)),Z};p.setFileId=function(D){return W(D),this},p.getFileId=function(){return H()};var Y=p.__private__.convertDateToPDFDate=function(D){var te=D.getTimezoneOffset(),be=te<0?"+":"-",Ae=Math.floor(Math.abs(te/60)),Me=Math.abs(te%60),et=[be,ne(Ae),"'",ne(Me),"'"].join("");return["D:",D.getFullYear(),ne(D.getMonth()+1),ne(D.getDate()),ne(D.getHours()),ne(D.getMinutes()),ne(D.getSeconds()),et].join("")},ge=p.__private__.convertPDFDateToDate=function(D){var te=parseInt(D.substr(2,4),10),be=parseInt(D.substr(6,2),10)-1,Ae=parseInt(D.substr(8,2),10),Me=parseInt(D.substr(10,2),10),et=parseInt(D.substr(12,2),10),ut=parseInt(D.substr(14,2),10);return new Date(te,be,Ae,Me,et,ut,0)},Q=p.__private__.setCreationDate=function(D){var te;if(D===void 0&&(D=new Date),D instanceof Date)te=Y(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=D}return K=te},I=p.__private__.getCreationDate=function(D){var te=K;return D==="jsDate"&&(te=ge(K)),te};p.setCreationDate=function(D){return Q(D),this},p.getCreationDate=function(D){return I(D)};var G,ne=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ie=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},he=0,J=[],ue=[],ae=0,X=[],pe=[],xe=!1,De=ue;p.__private__.setCustomOutputDestination=function(D){xe=!0,De=D};var Ee=function(D){xe||(De=D)};p.__private__.resetCustomOutputDestination=function(){xe=!1,De=ue};var de=p.__private__.out=function(D){return D=D.toString(),ae+=D.length+1,De.push(D),De},Ge=p.__private__.write=function(D){return de(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},Nt=p.__private__.getArrayBuffer=function(D){for(var te=D.length,be=new ArrayBuffer(te),Ae=new Uint8Array(be);te--;)Ae[te]=D.charCodeAt(te);return be},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return it};var Ye=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return Ye=A===E?D/Wt:D,this};var me,Se=p.__private__.getFontSize=p.getFontSize=function(){return A===_?Ye:Ye*Wt},Te=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return Te=D,this},p.__private__.getR2L=p.getR2L=function(){return Te};var Ue,He=p.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))me=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');me=D}else me=parseInt(D,10)};p.__private__.getZoomMode=function(){return me};var qe,Qe=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Ue=D};p.__private__.getPageMode=function(){return Ue};var xt=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');qe=D};p.__private__.getLayoutMode=function(){return qe},p.__private__.setDisplayMode=p.setDisplayMode=function(D,te,be){return He(D),xt(te),Qe(be),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(gt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[D]},p.__private__.getDocumentProperties=function(){return gt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var te in gt)gt.hasOwnProperty(te)&&D[te]&&(gt[te]=D[te]);return this},p.__private__.setDocumentProperty=function(D,te){if(Object.keys(gt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[D]=te};var At,Wt,_t,An,_n,Ft={},vn={},Jn=[],sn={},kn={},xn={},_r={},Er=null,pn=0,zt=[],we=new qq(p),We=t.hotfixes||[],lt={},Tt={},Tn=[],le=function D(te,be,Ae,Me,et,ut){if(!(this instanceof D))return new D(te,be,Ae,Me,et,ut);isNaN(te)&&(te=1),isNaN(be)&&(be=0),isNaN(Ae)&&(Ae=0),isNaN(Me)&&(Me=1),isNaN(et)&&(et=0),isNaN(ut)&&(ut=0),this._matrix=[te,be,Ae,Me,et,ut]};Object.defineProperty(le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(le.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(le.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(le.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(le.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(le.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(le.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),le.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(D)},le.prototype.multiply=function(D){var te=D.sx*this.sx+D.shy*this.shx,be=D.sx*this.shy+D.shy*this.sy,Ae=D.shx*this.sx+D.sy*this.shx,Me=D.shx*this.shy+D.sy*this.sy,et=D.tx*this.sx+D.ty*this.shx+this.tx,ut=D.tx*this.shy+D.ty*this.sy+this.ty;return new le(te,be,Ae,Me,et,ut)},le.prototype.decompose=function(){var D=this.sx,te=this.shy,be=this.shx,Ae=this.sy,Me=this.tx,et=this.ty,ut=Math.sqrt(D*D+te*te),Zt=(D/=ut)*be+(te/=ut)*Ae;be-=D*Zt,Ae-=te*Zt;var ln=Math.sqrt(be*be+Ae*Ae);return Zt/=ln,D*(Ae/=ln)<te*(be/=ln)&&(D=-D,te=-te,Zt=-Zt,ut=-ut),{scale:new le(ut,0,0,ln,0,0),translate:new le(1,0,0,1,Me,et),rotate:new le(D,te,-te,D,0,0),skew:new le(1,0,Zt,1,0,0)}},le.prototype.toString=function(D){return this.join(" ")},le.prototype.inversed=function(){var D=this.sx,te=this.shy,be=this.shx,Ae=this.sy,Me=this.tx,et=this.ty,ut=1/(D*Ae-te*be),Zt=Ae*ut,ln=-te*ut,Rn=-be*ut,In=D*ut;return new le(Zt,ln,Rn,In,-Zt*Me-Rn*et,-ln*Me-In*et)},le.prototype.applyToPoint=function(D){var te=D.x*this.sx+D.y*this.shx+this.tx,be=D.x*this.shy+D.y*this.sy+this.ty;return new Ml(te,be)},le.prototype.applyToRectangle=function(D){var te=this.applyToPoint(D),be=this.applyToPoint(new Ml(D.x+D.w,D.y+D.h));return new ad(te.x,te.y,be.x-te.x,be.y-te.y)},le.prototype.clone=function(){var D=this.sx,te=this.shy,be=this.shx,Ae=this.sy,Me=this.tx,et=this.ty;return new le(D,te,be,Ae,Me,et)},p.Matrix=le;var Le=p.matrixMult=function(D,te){return te.multiply(D)},ot=new le(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ot;var Rt=function(D,te){if(!kn[D]){var be=(te instanceof kp?"Sh":"P")+(Object.keys(sn).length+1).toString(10);te.id=be,kn[D]=be,sn[be]=te,we.publish("addPattern",te)}};p.ShadingPattern=kp,p.TilingPattern=Dg,p.addShadingPattern=function(D,te){return M("addShadingPattern()"),Rt(D,te),this},p.beginTilingPattern=function(D){M("beginTilingPattern()"),So(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,te){M("endTilingPattern()"),te.stream=pe[G].join(`
`),Rt(D,te),we.publish("endTilingPattern",te),Tn.pop().restore()};var qn,mn=p.__private__.newObject=function(){var D=dr();return nr(D,!0),D},dr=p.__private__.newObjectDeferred=function(){return he++,J[he]=function(){return ae},he},nr=function(D,te){return te=typeof te=="boolean"&&te,J[D]=ae,te&&de(D+" 0 obj"),D},$r=p.__private__.newAdditionalObject=function(){var D={objId:dr(),content:""};return X.push(D),D},ci=dr(),Li=dr(),Ja=p.__private__.decodeColorString=function(D){var te=D.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var be=parseFloat(te[0]);te=[be,be,be,"r"]}for(var Ae="#",Me=0;Me<3;Me++)Ae+=("0"+Math.floor(255*parseFloat(te[Me])).toString(16)).slice(-2);return Ae},Ai=p.__private__.encodeColorString=function(D){var te;typeof D=="string"&&(D={ch1:D});var be=D.ch1,Ae=D.ch2,Me=D.ch3,et=D.ch4,ut=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Zt=new one(be);if(Zt.ok)be=Zt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var ln=parseInt(be.substr(1),16);be=ln>>16&255,Ae=ln>>8&255,Me=255&ln}if(Ae===void 0||et===void 0&&be===Ae&&Ae===Me)te=typeof be=="string"?be+" "+ut[0]:D.precision===2?O(be/255)+" "+ut[0]:F(be/255)+" "+ut[0];else if(et===void 0||Gr(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",ut[1]].join(" ");te=typeof be=="string"?[be,Ae,Me,ut[1]].join(" "):D.precision===2?[O(be/255),O(Ae/255),O(Me/255),ut[1]].join(" "):[F(be/255),F(Ae/255),F(Me/255),ut[1]].join(" ")}else te=typeof be=="string"?[be,Ae,Me,et,ut[2]].join(" "):D.precision===2?[O(be),O(Ae),O(Me),O(et),ut[2]].join(" "):[F(be),F(Ae),F(Me),F(et),ut[2]].join(" ");return te},Ds=p.__private__.getFilters=function(){return a},Xs=p.__private__.putStream=function(D){var te=(D=D||{}).data||"",be=D.filters||Ds(),Ae=D.alreadyAppliedFilters||[],Me=D.addLength1||!1,et=te.length,ut=D.objectId,Zt=function(fs){return fs};if(d!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Zt=yi.encryptor(ut,0));var ln={};be===!0&&(be=["FlateEncode"]);var Rn=D.additionalKeyValues||[],In=(ln=fn.API.processDataByFilters!==void 0?fn.API.processDataByFilters(te,be):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(ln.data.length!==0&&(Rn.push({key:"Length",value:ln.data.length}),Me===!0&&Rn.push({key:"Length1",value:et})),In.length!=0)if(In.split("/").length-1==1)Rn.push({key:"Filter",value:In});else{Rn.push({key:"Filter",value:"["+In+"]"});for(var gr=0;gr<Rn.length;gr+=1)if(Rn[gr].key==="DecodeParms"){for(var xi=[],Yi=0;Yi<ln.reverseChain.split("/").length-1;Yi+=1)xi.push("null");xi.push(Rn[gr].value),Rn[gr].value="["+xi.join(" ")+"]"}}de("<<");for(var Yr=0;Yr<Rn.length;Yr++)de("/"+Rn[Yr].key+" "+Rn[Yr].value);de(">>"),ln.data.length!==0&&(de("stream"),de(Zt(ln.data)),de("endstream"))},xo=p.__private__.putPage=function(D){var te=D.number,be=D.data,Ae=D.objId,Me=D.contentsObjId;nr(Ae,!0),de("<</Type /Page"),de("/Parent "+D.rootDictionaryObjId+" 0 R"),de("/Resources "+D.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(T(D.mediaBox.bottomLeftX))+" "+parseFloat(T(D.mediaBox.bottomLeftY))+" "+T(D.mediaBox.topRightX)+" "+T(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&de("/CropBox ["+T(D.cropBox.bottomLeftX)+" "+T(D.cropBox.bottomLeftY)+" "+T(D.cropBox.topRightX)+" "+T(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&de("/BleedBox ["+T(D.bleedBox.bottomLeftX)+" "+T(D.bleedBox.bottomLeftY)+" "+T(D.bleedBox.topRightX)+" "+T(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&de("/TrimBox ["+T(D.trimBox.bottomLeftX)+" "+T(D.trimBox.bottomLeftY)+" "+T(D.trimBox.topRightX)+" "+T(D.trimBox.topRightY)+"]"),D.artBox!==null&&de("/ArtBox ["+T(D.artBox.bottomLeftX)+" "+T(D.artBox.bottomLeftY)+" "+T(D.artBox.topRightX)+" "+T(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&de("/UserUnit "+D.userUnit),we.publish("putPage",{objId:Ae,pageContext:zt[te],pageNumber:te,page:be}),de("/Contents "+Me+" 0 R"),de(">>"),de("endobj");var et=be.join(`
`);return A===E&&(et+=`
Q`),nr(Me,!0),Xs({data:et,filters:Ds(),objectId:Me}),de("endobj"),Ae},eo=p.__private__.putPages=function(){var D,te,be=[];for(D=1;D<=pn;D++)zt[D].objId=dr(),zt[D].contentsObjId=dr();for(D=1;D<=pn;D++)be.push(xo({number:D,data:pe[D],objId:zt[D].objId,contentsObjId:zt[D].contentsObjId,mediaBox:zt[D].mediaBox,cropBox:zt[D].cropBox,bleedBox:zt[D].bleedBox,trimBox:zt[D].trimBox,artBox:zt[D].artBox,userUnit:zt[D].userUnit,rootDictionaryObjId:ci,resourceDictionaryObjId:Li}));nr(ci,!0),de("<</Type /Pages");var Ae="/Kids [";for(te=0;te<pn;te++)Ae+=be[te]+" 0 R ";de(Ae+"]"),de("/Count "+pn),de(">>"),de("endobj"),we.publish("postPutPages")},kl=function(D){we.publish("putFont",{font:D,out:de,newObject:mn,putStream:Xs}),D.isAlreadyPutted!==!0&&(D.objectNumber=mn(),de("<<"),de("/Type /Font"),de("/BaseFont /"+_g(D.postScriptName)),de("/Subtype /Type1"),typeof D.encoding=="string"&&de("/Encoding /"+D.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},dc=function(D){D.objectNumber=mn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[T(D.x),T(D.y),T(D.x+D.width),T(D.y+D.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var be=D.pages[1].join(`
`);Xs({data:be,additionalKeyValues:te,objectId:D.objectNumber}),de("endobj")},Zs=function(D,te){te||(te=21);var be=mn(),Ae=(function(ut,Zt){var ln,Rn=[],In=1/(Zt-1);for(ln=0;ln<1;ln+=In)Rn.push(ln);if(Rn.push(1),ut[0].offset!=0){var gr={offset:0,color:ut[0].color};ut.unshift(gr)}if(ut[ut.length-1].offset!=1){var xi={offset:1,color:ut[ut.length-1].color};ut.push(xi)}for(var Yi="",Yr=0,fs=0;fs<Rn.length;fs++){for(ln=Rn[fs];ln>ut[Yr+1].offset;)Yr++;var Bi=ut[Yr].offset,Fs=(ln-Bi)/(ut[Yr+1].offset-Bi),Co=ut[Yr].color,Oa=ut[Yr+1].color;Yi+=ie(Math.round((1-Fs)*Co[0]+Fs*Oa[0]).toString(16))+ie(Math.round((1-Fs)*Co[1]+Fs*Oa[1]).toString(16))+ie(Math.round((1-Fs)*Co[2]+Fs*Oa[2]).toString(16))}return Yi.trim()})(D.colors,te),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+te+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xs({data:Ae,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),de("endobj"),D.objectNumber=mn(),de("<< /ShadingType "+D.type),de("/ColorSpace /DeviceRGB");var et="/Coords ["+T(parseFloat(D.coords[0]))+" "+T(parseFloat(D.coords[1]))+" ";D.type===2?et+=T(parseFloat(D.coords[2]))+" "+T(parseFloat(D.coords[3])):et+=T(parseFloat(D.coords[2]))+" "+T(parseFloat(D.coords[3]))+" "+T(parseFloat(D.coords[4]))+" "+T(parseFloat(D.coords[5])),de(et+="]"),D.matrix&&de("/Matrix ["+D.matrix.toString()+"]"),de("/Function "+be+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},fc=function(D,te){var be=dr(),Ae=mn();te.push({resourcesOid:be,objectOid:Ae}),D.objectNumber=Ae;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+D.boundingBox.map(T).join(" ")+"]"}),Me.push({key:"XStep",value:T(D.xStep)}),Me.push({key:"YStep",value:T(D.yStep)}),Me.push({key:"Resources",value:be+" 0 R"}),D.matrix&&Me.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Xs({data:D.stream,additionalKeyValues:Me,objectId:D.objectNumber}),de("endobj")},mf=function(D){for(var te in D.objectNumber=mn(),de("<<"),D)switch(te){case"opacity":de("/ca "+O(D[te]));break;case"stroke-opacity":de("/CA "+O(D[te]))}de(">>"),de("endobj")},zr=function(D){nr(D.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in de("/Font <<"),Ft)Ft.hasOwnProperty(te)&&(f===!1||f===!0&&m.hasOwnProperty(te))&&de("/"+te+" "+Ft[te].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(sn).length>0){for(var te in de("/Shading <<"),sn)sn.hasOwnProperty(te)&&sn[te]instanceof kp&&sn[te].objectNumber>=0&&de("/"+te+" "+sn[te].objectNumber+" 0 R");we.publish("putShadingPatternDict"),de(">>")}})(),(function(te){if(Object.keys(sn).length>0){for(var be in de("/Pattern <<"),sn)sn.hasOwnProperty(be)&&sn[be]instanceof p.TilingPattern&&sn[be].objectNumber>=0&&sn[be].objectNumber<te&&de("/"+be+" "+sn[be].objectNumber+" 0 R");we.publish("putTilingPatternDict"),de(">>")}})(D.objectOid),(function(){if(Object.keys(xn).length>0){var te;for(te in de("/ExtGState <<"),xn)xn.hasOwnProperty(te)&&xn[te].objectNumber>=0&&de("/"+te+" "+xn[te].objectNumber+" 0 R");we.publish("putGStateDict"),de(">>")}})(),(function(){for(var te in de("/XObject <<"),lt)lt.hasOwnProperty(te)&&lt[te].objectNumber>=0&&de("/"+te+" "+lt[te].objectNumber+" 0 R");we.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},gf=function(D){vn[D.fontName]=vn[D.fontName]||{},vn[D.fontName][D.fontStyle]=D.id},lu=function(D,te,be,Ae,Me){var et={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:D,fontName:te,fontStyle:be,encoding:Ae,isStandardFont:Me||!1,metadata:{}};return we.publish("addFont",{font:et,instance:this}),Ft[et.id]=et,gf(et),et.id},xs=p.__private__.pdfEscape=p.pdfEscape=function(D,te){return(function(be,Ae){var Me,et,ut,Zt,ln,Rn,In,gr,xi;if(ut=(Ae=Ae||{}).sourceEncoding||"Unicode",ln=Ae.outputEncoding,(Ae.autoencode||ln)&&Ft[At].metadata&&Ft[At].metadata[ut]&&Ft[At].metadata[ut].encoding&&(Zt=Ft[At].metadata[ut].encoding,!ln&&Ft[At].encoding&&(ln=Ft[At].encoding),!ln&&Zt.codePages&&(ln=Zt.codePages[0]),typeof ln=="string"&&(ln=Zt[ln]),ln)){for(In=!1,Rn=[],Me=0,et=be.length;Me<et;Me++)(gr=ln[be.charCodeAt(Me)])?Rn.push(String.fromCharCode(gr)):Rn.push(be[Me]),Rn[Me].charCodeAt(0)>>8&&(In=!0);be=Rn.join("")}for(Me=be.length;In===void 0&&Me!==0;)be.charCodeAt(Me-1)>>8&&(In=!0),Me--;if(!In)return be;for(Rn=Ae.noBOM?[]:[254,255],Me=0,et=be.length;Me<et;Me++){if((xi=(gr=be.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rn.push(xi),Rn.push(gr-(xi<<8))}return String.fromCharCode.apply(void 0,Rn)})(D,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jl=p.__private__.beginPage=function(D){pe[++pn]=[],zt[pn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Un(pn),Ee(pe[G])},yt=function(D,te){var be,Ae,Me;switch(n=te||n,typeof D=="string"&&(be=w(D.toLowerCase()),Array.isArray(be)&&(Ae=be[0],Me=be[1])),Array.isArray(D)&&(Ae=D[0]*Wt,Me=D[1]*Wt),isNaN(Ae)&&(Ae=i[0],Me=i[1]),(Ae>14400||Me>14400)&&(ri.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Me=Math.min(14400,Me)),i=[Ae,Me],n.substr(0,1)){case"l":Me>Ae&&(i=[Me,Ae]);break;case"p":Ae>Me&&(i=[Me,Ae])}jl(i),di(wn),de(sd),Yh!==0&&de(Yh+" J"),Xh!==0&&de(Xh+" j"),we.publish("addPage",{pageNumber:pn})},nn=function(D){D>0&&D<=pn&&(pe.splice(D,1),zt.splice(D,1),pn--,G>pn&&(G=pn),this.setPage(G))},Un=function(D){D>0&&D<=pn&&(G=D)},Qn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return pe.length-1},ui=function(D,te,be){var Ae,Me=void 0;return be=be||{},D=D!==void 0?D:Ft[At].fontName,te=te!==void 0?te:Ft[At].fontStyle,Ae=D.toLowerCase(),vn[Ae]!==void 0&&vn[Ae][te]!==void 0?Me=vn[Ae][te]:vn[D]!==void 0&&vn[D][te]!==void 0?Me=vn[D][te]:be.disableWarning===!1&&ri.warn("Unable to look up font label for font '"+D+"', '"+te+"'. Refer to getFontList() for available fonts."),Me||be.noFallback||(Me=vn.times[te])==null&&(Me=vn.times.normal),Me},Mr=p.__private__.putInfo=function(){var D=mn(),te=function(Ae){return Ae};for(var be in d!==null&&(te=yi.encryptor(D,0)),de("<<"),de("/Producer ("+xs(te("jsPDF "+fn.version))+")"),gt)gt.hasOwnProperty(be)&&gt[be]&&de("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+xs(te(gt[be]))+")");de("/CreationDate ("+xs(te(K))+")"),de(">>"),de("endobj")},wo=p.__private__.putCatalog=function(D){var te=(D=D||{}).rootDictionaryObjId||ci;switch(mn(),de("<<"),de("/Type /Catalog"),de("/Pages "+te+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+me;be.substr(be.length-1)==="%"&&(me=parseInt(me)/100),typeof me=="number"&&de("/OpenAction [3 0 R /XYZ null null "+O(me)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Ue&&de("/PageMode /"+Ue),we.publish("putCatalog"),de(">>"),de("endobj")},ei=p.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(he+1)),de("/Root "+he+" 0 R"),de("/Info "+(he-1)+" 0 R"),d!==null&&de("/Encrypt "+yi.oid+" 0 R"),de("/ID [ <"+Z+"> <"+Z+"> ]"),de(">>")},ws=p.__private__.putHeader=function(){de("%PDF-"+b),de("%")},Ss=p.__private__.putXRef=function(){var D="0000000000";de("xref"),de("0 "+(he+1)),de("0000000000 65535 f ");for(var te=1;te<=he;te++)typeof J[te]=="function"?de((D+J[te]()).slice(-10)+" 00000 n "):J[te]!==void 0?de((D+J[te]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},ga=p.__private__.buildDocument=function(){var D;he=0,ae=0,ue=[],J=[],X=[],ci=dr(),Li=dr(),Ee(ue),we.publish("buildDocument"),ws(),eo(),(function(){we.publish("putAdditionalObjects");for(var be=0;be<X.length;be++){var Ae=X[be];nr(Ae.objId,!0),de(Ae.content),de("endobj")}we.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var be in Ft)Ft.hasOwnProperty(be)&&(f===!1||f===!0&&m.hasOwnProperty(be))&&kl(Ft[be])})(),(function(){var be;for(be in xn)xn.hasOwnProperty(be)&&mf(xn[be])})(),(function(){for(var be in lt)lt.hasOwnProperty(be)&&dc(lt[be])})(),(function(be){var Ae;for(Ae in sn)sn.hasOwnProperty(Ae)&&(sn[Ae]instanceof kp?Zs(sn[Ae]):sn[Ae]instanceof Dg&&fc(sn[Ae],be))})(D),we.publish("putResources"),D.forEach(zr),zr({resourcesOid:Li,objectOid:Number.MAX_SAFE_INTEGER}),we.publish("postPutResources"),d!==null&&(yi.oid=mn(),de("<<"),de("/Filter /Standard"),de("/V "+yi.v),de("/R "+yi.r),de("/U <"+yi.toHexString(yi.U)+">"),de("/O <"+yi.toHexString(yi.O)+">"),de("/P "+yi.P),de(">>"),de("endobj")),Mr(),wo();var te=ae;return Ss(),ei(),de("startxref"),de(""+te),de("%%EOF"),Ee(pe[G]),ue.join(`
`)},ja=p.__private__.getBlob=function(D){return new Blob([Nt(D)],{type:"application/pdf"})},Ls=p.output=p.__private__.output=(qn=function(D,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",D){case void 0:return ga();case"save":p.save(te.filename);break;case"arraybuffer":return Nt(ga());case"blob":return ja(ga());case"bloburi":case"bloburl":if(Fn.URL!==void 0&&typeof Fn.URL.createObjectURL=="function")return Fn.URL&&Fn.URL.createObjectURL(ja(ga()))||void 0;ri.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Ae=ga();try{be=Bq(Ae)}catch{be=Bq(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+te.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fn)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Me=te.pdfObjectUrl,et="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Zt=Fn.open();return Zt!==null&&Zt.document.write(ut),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fn)==="[object Window]"){var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',Rn=Fn.open();if(Rn!==null){Rn.document.write(ln);var In=this;Rn.document.documentElement.querySelector("#pdfViewer").onload=function(){Rn.document.title=te.filename,Rn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(In.output("bloburl"))}}return Rn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',xi=Fn.open();if(xi!==null&&(xi.document.write(gr),xi.document.title=te.filename),xi||typeof safari>"u")return xi;break;case"datauri":case"dataurl":return Fn.document.location.href=this.output("datauristring",te);default:return null}},qn.foo=function(){try{return qn.apply(this,arguments)}catch(be){var D=be.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var te="Error in function "+D.split(`
`)[0].split("<")[0]+": "+be.message;if(!Fn.console)throw new Error(te);Fn.console.error(te,be),Fn.alert&&alert(te)}},qn.foo.bar=qn,qn.foo),hc=function(D){return Array.isArray(We)===!0&&We.indexOf(D)>-1};switch(r){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=hc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Wt=r}var yi=null;Q(),W();var pc=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:zt[D].objId,pageNumber:D,pageContext:zt[D]}},vf=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in zt)if(zt[te].objId===D)break;return pc(te)},Tl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:zt[G].objId,pageNumber:G,pageContext:zt[G]}};p.addPage=function(){return yt.apply(this,arguments),this},p.setPage=function(){return Un.apply(this,arguments),Ee.call(this,pe[G]),this},p.insertPage=function(D){return this.addPage(),this.movePage(G,D),this},p.movePage=function(D,te){var be,Ae;if(D>te){be=pe[D],Ae=zt[D];for(var Me=D;Me>te;Me--)pe[Me]=pe[Me-1],zt[Me]=zt[Me-1];pe[te]=be,zt[te]=Ae,this.setPage(te)}else if(D<te){be=pe[D],Ae=zt[D];for(var et=D;et<te;et++)pe[et]=pe[et+1],zt[et]=zt[et+1];pe[te]=be,zt[te]=Ae,this.setPage(te)}return this},p.deletePage=function(){return nn.apply(this,arguments),this},p.__private__.text=p.text=function(D,te,be,Ae,Me){var et,ut,Zt,ln,Rn,In,gr,xi,Yi,Yr=(Ae=Ae||{}).scope||this;if(typeof D=="number"&&typeof te=="number"&&(typeof be=="string"||Array.isArray(be))){var fs=be;be=te,te=D,D=fs}if(arguments[3]instanceof le==0?(Zt=arguments[4],ln=arguments[5],Gr(gr=arguments[3])==="object"&&gr!==null||(typeof Zt=="string"&&(ln=Zt,Zt=null),typeof gr=="string"&&(ln=gr,gr=null),typeof gr=="number"&&(Zt=gr,gr=null),Ae={flags:gr,angle:Zt,align:ln})):(M("The transform parameter of text() with a Matrix value"),Yi=Me),isNaN(te)||isNaN(be)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return Yr;var Bi,Fs="",Co=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:Bt,Oa=Yr.internal.scaleFactor;function Mm(vr){return vr=vr.split("	").join(Array(Ae.TabLen||9).join(" ")),xs(vr,gr)}function uu(vr){for(var Rr,Ti=vr.concat(),Xi=[],il=Ti.length;il--;)typeof(Rr=Ti.shift())=="string"?Xi.push(Rr):Array.isArray(vr)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?Xi.push(Rr[0]):Xi.push([Rr[0],Rr[1],Rr[2]]);return Xi}function cd(vr,Rr){var Ti;if(typeof vr=="string")Ti=Rr(vr)[0];else if(Array.isArray(vr)){for(var Xi,il,tp=vr.concat(),Cf=[],_c=tp.length;_c--;)typeof(Xi=tp.shift())=="string"?Cf.push(Rr(Xi)[0]):Array.isArray(Xi)&&typeof Xi[0]=="string"&&(il=Rr(Xi[0],Xi[1],Xi[2]),Cf.push([il[0],il[1],il[2]]));Ti=Cf}return Ti}var du=!1,ud=!0;if(typeof D=="string")du=!0;else if(Array.isArray(D)){var fu=D.concat();ut=[];for(var dd,Js=fu.length;Js--;)(typeof(dd=fu.shift())!="string"||Array.isArray(dd)&&typeof dd[0]!="string")&&(ud=!1);du=ud}if(du===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var fd=Ye/Yr.internal.scaleFactor,hd=fd*(Co-1);switch(Ae.baseline){case"bottom":be-=hd;break;case"top":be+=fd-hd;break;case"hanging":be+=fd-2*hd;break;case"middle":be+=fd/2-hd}if((In=Ae.maxWidth||0)>0&&(typeof D=="string"?D=Yr.splitTextToSize(D,In):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(vr,Rr){return vr.concat(Yr.splitTextToSize(Rr,In))},[]))),et={text:D,x:te,y:be,options:Ae,mutex:{pdfEscape:xs,activeFontKey:At,fonts:Ft,activeFontSize:Ye}},we.publish("preProcessText",et),D=et.text,Zt=(Ae=et.options).angle,Yi instanceof le==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Ae.rotationDirection===0&&(Zt=-Zt),A===E&&(Zt=-Zt);var Jh=Math.cos(Zt),ep=Math.sin(Zt);Yi=new le(Jh,ep,-ep,Jh,0,0)}else Zt&&Zt instanceof le&&(Yi=Zt);A!==E||Yi||(Yi=ot),(Rn=Ae.charSpace||tl)!==void 0&&(Fs+=T(q(Rn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xi=Ae.horizontalScale)!==void 0&&(Fs+=T(100*xi)+` Tz
`),Ae.lang;var ki=-1,nl=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Rl=Yr.internal.getCurrentPageInfo().pageContext;switch(nl){case 0:case!1:case"fill":ki=0;break;case 1:case!0:case"stroke":ki=1;break;case 2:case"fillThenStroke":ki=2;break;case 3:case"invisible":ki=3;break;case 4:case"fillAndAddForClipping":ki=4;break;case 5:case"strokeAndAddPathForClipping":ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ki=6;break;case 7:case"addToPathForClipping":ki=7}var Rm=Rl.usedRenderingMode!==void 0?Rl.usedRenderingMode:-1;ki!==-1?Fs+=ki+` Tr
`:Rm!==-1&&(Fs+=`0 Tr
`),ki!==-1&&(Rl.usedRenderingMode=ki),ln=Ae.align||"left";var ro,hu=Ye*Co,Sf=Yr.internal.pageSize.getWidth(),Nf=Ft[At];Rn=Ae.charSpace||tl,In=Ae.maxWidth||0,gr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var xc=[],Ao=function(vr){return Yr.getStringUnitWidth(vr,{font:Nf,charSpace:Rn,fontSize:Ye,doKerning:!1})*Ye/Oa};if(Object.prototype.toString.call(D)==="[object Array]"){var io;ut=uu(D),ln!=="left"&&(ro=ut.map(Ao));var so,pu=0;if(ln==="right"){te-=ro[0],D=[],Js=ut.length;for(var Il=0;Il<Js;Il++)Il===0?(so=no(te),io=vc(be)):(so=q(pu-ro[Il]),io=-hu),D.push([ut[Il],so,io]),pu=ro[Il]}else if(ln==="center"){te-=ro[0]/2,D=[],Js=ut.length;for(var wc=0;wc<Js;wc++)wc===0?(so=no(te),io=vc(be)):(so=q((pu-ro[wc])/2),io=-hu),D.push([ut[wc],so,io]),pu=ro[wc]}else if(ln==="left"){D=[],Js=ut.length;for(var Sc=0;Sc<Js;Sc++)D.push(ut[Sc])}else if(ln==="justify"&&Nf.encoding==="Identity-H"){D=[],Js=ut.length,In=In!==0?In:Sf;for(var Dl=0,$i=0;$i<Js;$i++)if(io=$i===0?vc(be):-hu,so=$i===0?no(te):Dl,$i<Js-1){var pd=q((In-ro[$i])/(ut[$i].split(" ").length-1)),Ll=ut[$i].split(" ");D.push([Ll[0]+" ",so,io]),Dl=0;for(var rl=1;rl<Ll.length;rl++){var md=(Ao(Ll[rl-1]+" "+Ll[rl])-Ao(Ll[rl]))*Oa+pd;rl==Ll.length-1?D.push([Ll[rl],md,0]):D.push([Ll[rl]+" ",md,0]),Dl-=md}}else D.push([ut[$i],so,io]);D.push(["",Dl,0])}else{if(ln!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Js=ut.length,In=In!==0?In:Sf,$i=0;$i<Js;$i++){io=$i===0?vc(be):-hu,so=$i===0?no(te):0;var gd=ut[$i].split(" ").length-1,_f=gd>0?(In-ro[$i])/gd:0;$i<Js-1?xc.push(T(q(_f))):xc.push(0),D.push([ut[$i],so,io])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:Te)===!0&&(D=cd(D,function(vr,Rr,Ti){return[vr.split("").reverse().join(""),Rr,Ti]})),et={text:D,x:te,y:be,options:Ae,mutex:{pdfEscape:xs,activeFontKey:At,fonts:Ft,activeFontSize:Ye}},we.publish("postProcessText",et),D=et.text,Bi=et.mutex.isHex||!1;var Ef=Ft[At].encoding;Ef!=="WinAnsiEncoding"&&Ef!=="StandardEncoding"||(D=cd(D,function(vr,Rr,Ti){return[Mm(vr),Rr,Ti]})),ut=uu(D),D=[];for(var Nc,mu,gu,vd=Array.isArray(ut[0])?1:0,vu="",yd=function(vr,Rr,Ti){var Xi="";return Ti instanceof le?(Ti=typeof Ae.angle=="number"?Le(Ti,new le(1,0,0,1,vr,Rr)):Le(new le(1,0,0,1,vr,Rr),Ti),A===E&&(Ti=Le(new le(1,0,0,-1,0,0),Ti)),Xi=Ti.join(" ")+` Tm
`):Xi=T(vr)+" "+T(Rr)+` Td
`,Xi},ji=0;ji<ut.length;ji++){switch(vu="",vd){case 1:gu=(Bi?"<":"(")+ut[ji][0]+(Bi?">":")"),Nc=parseFloat(ut[ji][1]),mu=parseFloat(ut[ji][2]);break;case 0:gu=(Bi?"<":"(")+ut[ji]+(Bi?">":")"),Nc=no(te),mu=vc(be)}xc!==void 0&&xc[ji]!==void 0&&(vu=xc[ji]+` Tw
`),ji===0?D.push(vu+yd(Nc,mu,Yi)+gu):vd===0?D.push(vu+gu):vd===1&&D.push(vu+yd(Nc,mu,Yi)+gu)}D=vd===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Pa=`BT
/`;return Pa+=At+" "+Ye+` Tf
`,Pa+=T(Ye*Co)+` TL
`,Pa+=el+`
`,Pa+=Fs,Pa+=D,de(Pa+="ET"),m[At]=!0,Yr};var Ol=p.__private__.clip=p.clip=function(D){return de(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ol("evenodd")},p.__private__.discardPath=p.discardPath=function(){return de("n"),this};var Fi=p.__private__.isValidStyle=function(D){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return Fi(D)&&(u=D),this};var cu=p.__private__.getStyle=p.getStyle=function(D){var te=u;switch(D){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=D}return te},ir=p.close=function(){return de("h"),this};p.stroke=function(){return de("S"),this},p.fill=function(D){return yn("f",D),this},p.fillEvenOdd=function(D){return yn("f*",D),this},p.fillStroke=function(D){return yn("B",D),this},p.fillStrokeEvenOdd=function(D){return yn("B*",D),this};var yn=function(D,te){Gr(te)==="object"?mr(te,D):de(D)},mc=function(D){D===null||A===E&&D===void 0||(D=cu(D),de(D))};function bi(D,te,be,Ae,Me){var et=new Dg(te||this.boundingBox,be||this.xStep,Ae||this.yStep,this.gState,Me||this.matrix);et.stream=this.stream;var ut=D+"$$"+this.cloneIndex+++"$$";return Rt(ut,et),et}var mr=function(D,te){var be=kn[D.key],Ae=sn[be];if(Ae instanceof kp)de("q"),de(gc(te)),Ae.gState&&p.setGState(Ae.gState),de(D.matrix.toString()+" cm"),de("/"+be+" sh"),de("Q");else if(Ae instanceof Dg){var Me=new le(1,0,0,-1,0,Eo());D.matrix&&(Me=Me.multiply(D.matrix||ot),be=bi.call(Ae,D.key,D.boundingBox,D.xStep,D.yStep,Me).id),de("q"),de("/Pattern cs"),de("/"+be+" scn"),Ae.gState&&p.setGState(Ae.gState),de(te),de("Q")}},gc=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ta=p.moveTo=function(D,te){return de(T(q(D))+" "+T(z(te))+" m"),this},to=p.lineTo=function(D,te){return de(T(q(D))+" "+T(z(te))+" l"),this},va=p.curveTo=function(D,te,be,Ae,Me,et){return de([T(q(D)),T(z(te)),T(q(be)),T(z(Ae)),T(q(Me)),T(z(et)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,te,be,Ae,Me){if(isNaN(D)||isNaN(te)||isNaN(be)||isNaN(Ae)||!Fi(Me))throw new Error("Invalid arguments passed to jsPDF.line");return A===_?this.lines([[be-D,Ae-te]],D,te,[1,1],Me||"S"):this.lines([[be-D,Ae-te]],D,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,te,be,Ae,Me,et){var ut,Zt,ln,Rn,In,gr,xi,Yi,Yr,fs,Bi,Fs;if(typeof D=="number"&&(Fs=be,be=te,te=D,D=Fs),Ae=Ae||[1,1],et=et||!1,isNaN(te)||isNaN(be)||!Array.isArray(D)||!Array.isArray(Ae)||!Fi(Me)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ta(te,be),ut=Ae[0],Zt=Ae[1],Rn=D.length,fs=te,Bi=be,ln=0;ln<Rn;ln++)(In=D[ln]).length===2?(fs=In[0]*ut+fs,Bi=In[1]*Zt+Bi,to(fs,Bi)):(gr=In[0]*ut+fs,xi=In[1]*Zt+Bi,Yi=In[2]*ut+fs,Yr=In[3]*Zt+Bi,fs=In[4]*ut+fs,Bi=In[5]*Zt+Bi,va(gr,xi,Yi,Yr,fs,Bi));return et&&ir(),mc(Me),this},p.path=function(D){for(var te=0;te<D.length;te++){var be=D[te],Ae=be.c;switch(be.op){case"m":Ta(Ae[0],Ae[1]);break;case"l":to(Ae[0],Ae[1]);break;case"c":va.apply(this,Ae);break;case"h":ir()}}return this},p.__private__.rect=p.rect=function(D,te,be,Ae,Me){if(isNaN(D)||isNaN(te)||isNaN(be)||isNaN(Ae)||!Fi(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return A===_&&(Ae=-Ae),de([T(q(D)),T(z(te)),T(q(be)),T(q(Ae)),"re"].join(" ")),mc(Me),this},p.__private__.triangle=p.triangle=function(D,te,be,Ae,Me,et,ut){if(isNaN(D)||isNaN(te)||isNaN(be)||isNaN(Ae)||isNaN(Me)||isNaN(et)||!Fi(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-D,Ae-te],[Me-be,et-Ae],[D-Me,te-et]],D,te,[1,1],ut,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,te,be,Ae,Me,et,ut){if(isNaN(D)||isNaN(te)||isNaN(be)||isNaN(Ae)||isNaN(Me)||isNaN(et)||!Fi(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*be),et=Math.min(et,.5*Ae),this.lines([[be-2*Me,0],[Me*Zt,0,Me,et-et*Zt,Me,et],[0,Ae-2*et],[0,et*Zt,-Me*Zt,et,-Me,et],[2*Me-be,0],[-Me*Zt,0,-Me,-et*Zt,-Me,-et],[0,2*et-Ae],[0,-et*Zt,Me*Zt,-et,Me,-et]],D+Me,te,[1,1],ut,!0),this},p.__private__.ellipse=p.ellipse=function(D,te,be,Ae,Me){if(isNaN(D)||isNaN(te)||isNaN(be)||isNaN(Ae)||!Fi(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*be,ut=4/3*(Math.SQRT2-1)*Ae;return Ta(D+be,te),va(D+be,te-ut,D+et,te-Ae,D,te-Ae),va(D-et,te-Ae,D-be,te-ut,D-be,te),va(D-be,te+ut,D-et,te+Ae,D,te+Ae),va(D+et,te+Ae,D+be,te+ut,D+be,te),mc(Me),this},p.__private__.circle=p.circle=function(D,te,be,Ae){if(isNaN(D)||isNaN(te)||isNaN(be)||!Fi(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,te,be,be,Ae)},p.setFont=function(D,te,be){return be&&(te=R(te,be)),At=ui(D,te,{disableWarning:!1}),this};var kt=p.__private__.getFont=p.getFont=function(){return Ft[ui.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,te,be={};for(D in vn)if(vn.hasOwnProperty(D))for(te in be[D]=[],vn[D])vn[D].hasOwnProperty(te)&&be[D].push(te);return be},p.addFont=function(D,te,be,Ae,Me){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(be=R(be,Ae)),lu.call(this,D,te,be,Me=Me||"Identity-H")};var Bt,wn=t.lineWidth||.200025,Ot=p.__private__.getLineWidth=p.getLineWidth=function(){return wn},di=p.__private__.setLineWidth=p.setLineWidth=function(D){return wn=D,de(T(q(D))+" w"),this};p.__private__.setLineDash=fn.API.setLineDash=fn.API.setLineDashPattern=function(D,te){if(D=D||[],te=te||0,isNaN(te)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(be){return T(q(be))}).join(" "),te=T(q(te)),de("["+D+"] "+te+" d"),this};var Gi=p.__private__.getLineHeight=p.getLineHeight=function(){return Ye*Bt};p.__private__.getLineHeight=p.getLineHeight=function(){return Ye*Bt};var Kh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Bt=D),this},yf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Bt};Kh(t.lineHeight);var no=p.__private__.getHorizontalCoordinate=function(D){return q(D)},vc=p.__private__.getVerticalCoordinate=function(D){return A===E?D:zt[G].mediaBox.topRightY-zt[G].mediaBox.bottomLeftY-q(D)},Pm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return T(no(D))},bf=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return T(vc(D))},sd=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ja(sd)},p.__private__.setStrokeColor=p.setDrawColor=function(D,te,be,Ae){return sd=Ai({ch1:D,ch2:te,ch3:be,ch4:Ae,pdfColorType:"draw",precision:2}),de(sd),this};var Gh=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ja(Gh)},p.__private__.setFillColor=p.setFillColor=function(D,te,be,Ae){return Gh=Ai({ch1:D,ch2:te,ch3:be,ch4:Ae,pdfColorType:"fill",precision:2}),de(Gh),this};var el=t.textColor||"0 g",Pl=p.__private__.getTextColor=p.getTextColor=function(){return Ja(el)};p.__private__.setTextColor=p.setTextColor=function(D,te,be,Ae){return el=Ai({ch1:D,ch2:te,ch3:be,ch4:Ae,pdfColorType:"text",precision:3}),this};var tl=t.charSpace,xf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(tl||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tl=D,this};var Yh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var te=p.CapJoinStyles[D];if(te===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yh=te,de(te+" J"),this};var Xh=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var te=p.CapJoinStyles[D];if(te===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xh=te,de(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(T(q(D))+" M"),this},p.GState=SS,p.setGState=function(D){(D=typeof D=="string"?xn[_r[D]]:yc(null,D)).equals(Er)||(de("/"+D.id+" gs"),Er=D)};var yc=function(D,te){if(!D||!_r[D]){var be=!1;for(var Ae in xn)if(xn.hasOwnProperty(Ae)&&xn[Ae].equals(te)){be=!0;break}if(be)te=xn[Ae];else{var Me="GS"+(Object.keys(xn).length+1).toString(10);xn[Me]=te,te.id=Me}return D&&(_r[D]=te.id),we.publish("addGState",te),te}};p.addGState=function(D,te){return yc(D,te),this},p.saveGraphicsState=function(){return de("q"),Jn.push({key:At,size:Ye,color:el}),this},p.restoreGraphicsState=function(){de("Q");var D=Jn.pop();return At=D.key,Ye=D.size,el=D.color,Er=null,this},p.setCurrentTransformationMatrix=function(D){return de(D.toString()+" cm"),this},p.comment=function(D){return de("#"+D),this};var Ml=function(D,te){var be=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(et){isNaN(et)||(be=parseFloat(et))}});var Ae=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(et){isNaN(et)||(Ae=parseFloat(et))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(et){Me=et.toString()}}),this},ad=function(D,te,be,Ae){Ml.call(this,D,te),this.type="rect";var Me=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(ut){isNaN(ut)||(Me=parseFloat(ut))}});var et=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ut){isNaN(ut)||(et=parseFloat(ut))}}),this},od=function(){this.page=pn,this.currentPage=G,this.pages=pe.slice(0),this.pagesContext=zt.slice(0),this.x=_t,this.y=An,this.matrix=_n,this.width=ld(G),this.height=No(G),this.outputDestination=De,this.id="",this.objectNumber=-1};od.prototype.restore=function(){pn=this.page,G=this.currentPage,zt=this.pagesContext,pe=this.pages,_t=this.x,An=this.y,_n=this.matrix,Zh(G,this.width),_o(G,this.height),De=this.outputDestination};var So=function(D,te,be,Ae,Me){Tn.push(new od),pn=G=0,pe=[],_t=D,An=te,_n=Me,jl([be,Ae])};for(var bc in p.beginFormObject=function(D,te,be,Ae,Me){return So(D,te,be,Ae,Me),this},p.endFormObject=function(D){return(function(te){if(Tt[te])Tn.pop().restore();else{var be=new od,Ae="Xo"+(Object.keys(lt).length+1).toString(10);be.id=Ae,Tt[te]=Ae,lt[Ae]=be,we.publish("addFormObject",be),Tn.pop().restore()}})(D),this},p.doFormObject=function(D,te){var be=lt[Tt[D]];return de("q"),de(te.toString()+" cm"),de("/"+be.id+" Do"),de("Q"),this},p.getFormObject=function(D){var te=lt[Tt[D]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(D,te){return D=D||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Ap(ja(ga()),D),typeof Ap.unload=="function"&&Fn.setTimeout&&setTimeout(Ap.unload,911),this):new Promise(function(be,Ae){try{var Me=Ap(ja(ga()),D);typeof Ap.unload=="function"&&Fn.setTimeout&&setTimeout(Ap.unload,911),be(Me)}catch(et){Ae(et.message)}})},fn.API)fn.API.hasOwnProperty(bc)&&(bc==="events"&&fn.API.events.length?(function(D,te){var be,Ae,Me;for(Me=te.length-1;Me!==-1;Me--)be=te[Me][0],Ae=te[Me][1],D.subscribe.apply(D,[be].concat(typeof Ae=="function"?[Ae]:Ae))})(we,fn.API.events):p[bc]=fn.API[bc]);function ld(D){return zt[D].mediaBox.topRightX-zt[D].mediaBox.bottomLeftX}function Zh(D,te){zt[D].mediaBox.topRightX=te+zt[D].mediaBox.bottomLeftX}function No(D){return zt[D].mediaBox.topRightY-zt[D].mediaBox.bottomLeftY}function _o(D,te){zt[D].mediaBox.topRightY=te+zt[D].mediaBox.bottomLeftY}var Qh=p.getPageWidth=function(D){return ld(D=D||G)/Wt},Qs=p.setPageWidth=function(D,te){Zh(D,te*Wt)},Eo=p.getPageHeight=function(D){return No(D=D||G)/Wt},wf=p.setPageHeight=function(D,te){_o(D,te*Wt)};return p.internal={pdfEscape:xs,getStyle:cu,getFont:kt,getFontSize:Se,getCharSpace:xf,getTextColor:Pl,getLineHeight:Gi,getLineHeightFactor:yf,getLineWidth:Ot,write:Ge,getHorizontalCoordinate:no,getVerticalCoordinate:vc,getCoordinateString:Pm,getVerticalCoordinateString:bf,collections:{},newObject:mn,newAdditionalObject:$r,newObjectDeferred:dr,newObjectDeferredBegin:nr,getFilters:Ds,putStream:Xs,events:we,scaleFactor:Wt,pageSize:{getWidth:function(){return Qh(G)},setWidth:function(D){Qs(G,D)},getHeight:function(){return Eo(G)},setHeight:function(D){wf(G,D)}},encryptionOptions:d,encryption:yi,getEncryptor:function(D){return d!==null?yi.encryptor(D,0):function(te){return te}},output:Ls,getNumberOfPages:Qn,pages:pe,out:de,f2:O,f3:F,getPageInfo:pc,getPageInfoByObjId:vf,getCurrentPageInfo:Tl,getPDFVersion:v,Point:Ml,Rectangle:ad,Matrix:le,hasHotfix:hc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Qh(G)},set:function(D){Qs(G,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Eo(G)},set:function(D){wf(G,D)},enumerable:!0,configurable:!0}),(function(D){for(var te=0,be=it.length;te<be;te++){var Ae=lu.call(this,D[te][0],D[te][1],D[te][2],it[te][3],!0);f===!1&&(m[Ae]=!0);var Me=D[te][0].split("-");gf({id:Ae,fontName:Me[0],fontStyle:Me[1]||""})}we.publish("addFonts",{fonts:Ft,dictionary:vn})}).call(p,it),At="F1",yt(i,n),we.publish("initialized"),p}Ng.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ng.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ng.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ng.prototype.processOwnerPassword=function(t,e){return cM(lM(e).substr(0,5),t)},Ng.prototype.encryptor=function(t,e){var n=lM(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return cM(n,r)}},SS.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Gr(t)!==Gr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},fn.API={events:[]},fn.version="3.0.3";var ns=fn.API,LI=1,Tm=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pg=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yn=function(t){return t.toFixed(2)},Yf=function(t){return t.toFixed(5)};ns.__acroform__={};var Jo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Uq=function(t){return t*LI},Eu=function(t){var e=new dne,n=en.internal.getHeight(t)||0,r=en.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Yn(r)),Number(Yn(n))],e},P3e=ns.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},M3e=ns.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},R3e=ns.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},gs=ns.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return R3e(t,e-1)},vs=ns.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P3e(t,e-1)},ys=ns.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return M3e(t,e-1)},I3e=ns.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Yn(c.lowerLeft_X)),Number(Yn(c.lowerLeft_Y)),Number(Yn(c.upperRight_X)),Number(Yn(c.upperRight_Y))]},D3e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=uM(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Yn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Eu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},uM=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=n,a=en.internal.getHeight(t)||0;a=a<0?-a:a;var o=en.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(O,F,q){if(O+1<i.length){var z=F+" "+i[O+1][0];return Z1(z,t,q).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,f=Z1("3",t,s).height,m=t.multiline?a-s:(a-f)/2,p=m+=2,b=0,v=0,y=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Z1(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",_=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var A=!1;if(i[E].length!==1&&y!==i[E].length-1){if((f+2)*(_+2)+2>a)continue e;w+=i[E][y],A=!0,v=E,E--}else{w=(w+=i[E][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var k=parseInt(E),P=c(k,w,s),R=E>=i.length-1;if(P&&!R){w+=" ",y=0;continue}if(P||R){if(R)v=k;else if(t.multiline&&(f+2)*(_+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>a)continue e;v=k}}for(var T="",M=b;M<=v;M++){var B=i[M];if(t.multiline){if(M===v){T+=B[y]+" ",y=(y+1)%B.length;continue}if(M===b){T+=B[B.length-1]+" ";continue}}T+=B[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,d=Z1(T,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=Yn(u)+" "+Yn(p)+` Td
`,e+="("+Tm(T)+`) Tj
`,e+=-Yn(u)+` 0 Td
`,p=-(s+2),d=0,b=A?v:v+1,_++,w=""}break}return r.text=e,r.fontSize=s,r},Z1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},L3e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},F3e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},B3e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(su.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(L3e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LI=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new fne,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&F3e(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=I3e(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=en.createDefaultAppearanceStream(o),Gr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=D3e(o);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var b=p[a];typeof b=="function"&&(b=b.call(i,o)),f+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(i,o)),f+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&(function(v,y){for(var w in v)if(v.hasOwnProperty(w)){var _=w,E=v[w];y.internal.newObjectDeferredBegin(E.objId,!0),Gr(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete v[_]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},une=ns.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Gr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Tm(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q5=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Tm(r(t))+")"},Fu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fu.prototype.toString=function(){return this.objId+" 0 R"},Fu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Fu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:une(i,this.objId,this.scope)}):i instanceof Fu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var dne=function(){Fu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Jo(dne,Fu);var fne=function(){Fu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Tm(n(t))+")"}},set:function(n){t=n}})};Jo(fne,Fu);var su=function t(){Fu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gs(e,3)},set:function(w){w?this.F=vs(e,3):this.F=ys(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof NS)return;s="FieldObject"+t.FieldNum++}var w=function(_){return _};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Tm(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/LI:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof NS||this instanceof Vp))return Q5(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof la==0?Q5(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof la==0?w.substr(0,1)==="("?pg(w.substr(1,w.length-2)):pg(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof la==1?pg(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof la==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof la==0?Q5(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof la==0?w.substr(0,1)==="("?pg(w.substr(1,w.length-2)):pg(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof la==1?pg(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof la==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(w){w=!!w,v=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,1)},set:function(w){w?this.Ff=vs(this.Ff,1):this.Ff=ys(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,2)},set:function(w){w?this.Ff=vs(this.Ff,2):this.Ff=ys(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,3)},set:function(w){w?this.Ff=vs(this.Ff,3):this.Ff=ys(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Jo(su,Fu);var Yg=function(){su.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return une(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,a,o){o||(o=1);for(var c,u=[];c=a.exec(s);)u.push(c[o]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,18)},set:function(n){n?this.Ff=vs(this.Ff,18):this.Ff=ys(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=vs(this.Ff,19):this.Ff=ys(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,20)},set:function(n){n?(this.Ff=vs(this.Ff,20),e.sort()):this.Ff=ys(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,22)},set:function(n){n?this.Ff=vs(this.Ff,22):this.Ff=ys(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,23)},set:function(n){n?this.Ff=vs(this.Ff,23):this.Ff=ys(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,27)},set:function(n){n?this.Ff=vs(this.Ff,27):this.Ff=ys(this.Ff,27)}}),this.hasAppearanceStream=!1};Jo(Yg,su);var Xg=function(){Yg.call(this),this.fontName="helvetica",this.combo=!1};Jo(Xg,Yg);var Zg=function(){Xg.call(this),this.combo=!0};Jo(Zg,Xg);var Lw=function(){Zg.call(this),this.edit=!0};Jo(Lw,Zg);var la=function(){su.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,15)},set:function(n){n?this.Ff=vs(this.Ff,15):this.Ff=ys(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,16)},set:function(n){n?this.Ff=vs(this.Ff,16):this.Ff=ys(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,17)},set:function(n){n?this.Ff=vs(this.Ff,17):this.Ff=ys(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,26)},set:function(n){n?this.Ff=vs(this.Ff,26):this.Ff=ys(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Tm(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Gr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Jo(la,su);var Fw=function(){la.call(this),this.pushButton=!0};Jo(Fw,la);var Qg=function(){la.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Jo(Qg,la);var NS=function(){var t,e;su.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Tm(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Gr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=en.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Jo(NS,su),Qg.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Qg.prototype.createOption=function(t){var e=new NS;return e.Parent=this,e.optionName=t,this.Kids.push(e),$3e.call(this.scope,e),e};var Bw=function(){la.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=en.CheckBox.createAppearanceStream()};Jo(Bw,la);var Vp=function(){su.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,13)},set:function(e){e?this.Ff=vs(this.Ff,13):this.Ff=ys(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,21)},set:function(e){e?this.Ff=vs(this.Ff,21):this.Ff=ys(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,23)},set:function(e){e?this.Ff=vs(this.Ff,23):this.Ff=ys(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,24)},set:function(e){e?this.Ff=vs(this.Ff,24):this.Ff=ys(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,25)},set:function(e){e?this.Ff=vs(this.Ff,25):this.Ff=ys(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,26)},set:function(e){e?this.Ff=vs(this.Ff,26):this.Ff=ys(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Jo(Vp,su);var $w=function(){Vp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gs(this.Ff,14)},set:function(t){t?this.Ff=vs(this.Ff,14):this.Ff=ys(this.Ff,14)}}),this.password=!0};Jo($w,Vp);var en={CheckBox:{createAppearanceStream:function(){return{N:{On:en.CheckBox.YesNormal},D:{On:en.CheckBox.YesPushDown,Off:en.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Eu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=uM(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Yn(en.internal.getWidth(t))+" "+Yn(en.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Yn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Eu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=en.internal.getHeight(t),a=en.internal.getWidth(t),o=uM(t,t.caption);return i.push("1 g"),i.push("0 0 "+Yn(a)+" "+Yn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Yn(a-1)+" "+Yn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Yn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Eu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yn(en.internal.getWidth(t))+" "+Yn(en.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:en.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=en.RadioButton.Circle.YesNormal,e.D[t]=en.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Eu(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=en.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Yf(en.internal.getWidth(t)/2)+" "+Yf(en.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Eu(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*en.internal.Bezier_C).toFixed(5)),a=Number((r*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yf(en.internal.getWidth(t)/2)+" "+Yf(en.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Yf(en.internal.getWidth(t)/2)+" "+Yf(en.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Eu(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yf(en.internal.getWidth(t)/2)+" "+Yf(en.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:en.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=en.RadioButton.Cross.YesNormal,e.D[t]=en.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Eu(t);e.scope=t.scope;var n=[],r=en.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Yn(en.internal.getWidth(t)-2)+" "+Yn(en.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Yn(r.x1.x)+" "+Yn(r.x1.y)+" m"),n.push(Yn(r.x2.x)+" "+Yn(r.x2.y)+" l"),n.push(Yn(r.x4.x)+" "+Yn(r.x4.y)+" m"),n.push(Yn(r.x3.x)+" "+Yn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Eu(t);e.scope=t.scope;var n=en.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Yn(en.internal.getWidth(t))+" "+Yn(en.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Yn(en.internal.getWidth(t)-2)+" "+Yn(en.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Yn(n.x1.x)+" "+Yn(n.x1.y)+" m"),r.push(Yn(n.x2.x)+" "+Yn(n.x2.y)+" l"),r.push(Yn(n.x4.x)+" "+Yn(n.x4.y)+" m"),r.push(Yn(n.x3.x)+" "+Yn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Eu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yn(en.internal.getWidth(t))+" "+Yn(en.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};en.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=en.internal.getWidth(t),n=en.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},en.internal.getWidth=function(t){var e=0;return Gr(t)==="object"&&(e=Uq(t.Rect[2])),e},en.internal.getHeight=function(t){var e=0;return Gr(t)==="object"&&(e=Uq(t.Rect[3])),e};var $3e=ns.addField=function(t){if(B3e(this,t),!(t instanceof su))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ns.AcroFormChoiceField=Yg,ns.AcroFormListBox=Xg,ns.AcroFormComboBox=Zg,ns.AcroFormEditBox=Lw,ns.AcroFormButton=la,ns.AcroFormPushButton=Fw,ns.AcroFormRadioButton=Qg,ns.AcroFormCheckBox=Bw,ns.AcroFormTextField=Vp,ns.AcroFormPasswordField=$w,ns.AcroFormAppearance=en,ns.AcroForm={ChoiceField:Yg,ListBox:Xg,ComboBox:Zg,EditBox:Lw,Button:la,PushButton:Fw,RadioButton:Qg,CheckBox:Bw,TextField:Vp,PasswordField:$w,Appearance:en},fn.AcroForm={ChoiceField:Yg,ListBox:Xg,ComboBox:Zg,EditBox:Lw,Button:la,PushButton:Fw,RadioButton:Qg,CheckBox:Bw,TextField:Vp,PasswordField:$w,Appearance:en};fn.AcroForm;function hne(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(O,F){var q,z,K,Z,H,W=n;if((F=F||n)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(P(O))for(H in r)for(K=r[H],q=0;q<K.length;q+=1){for(Z=!0,z=0;z<K[q].length;z+=1)if(K[q][z]!==void 0&&K[q][z]!==O[z]){Z=!1;break}if(Z===!0){W=H;break}}else for(H in r)for(K=r[H],q=0;q<K.length;q+=1){for(Z=!0,z=0;z<K[q].length;z+=1)if(K[q][z]!==void 0&&K[q][z]!==O.charCodeAt(z)){Z=!1;break}if(Z===!0){W=H;break}}return W===n&&F!==n&&(W=F),W},s=function O(F){for(var q=this.internal.write,z=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:F.width}),Z.push({key:"Height",value:F.height}),F.colorSpace===w.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===w.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var H="",W=0,Y=F.transparency.length;W<Y;W++)H+=F.transparency[W]+" "+F.transparency[W]+" ";Z.push({key:"Mask",value:"["+H+"]"})}F.sMask!==void 0&&Z.push({key:"SMask",value:F.objectId+1+" 0 R"});var ge=F.filter!==void 0?["/"+F.filter]:void 0;if(z({data:F.data,additionalKeyValues:Z,alreadyAppliedFilters:ge,objectId:F.objectId}),q("endobj"),"sMask"in F&&F.sMask!==void 0){var Q,I=(Q=F.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:F.bitsPerComponent,G={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:F.sMask};"filter"in F&&(G.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(F.width),G.filter=F.filter),O.call(this,G)}if(F.colorSpace===w.INDEXED){var ne=this.internal.newObject();z({data:T(new Uint8Array(F.palette)),objectId:ne}),q("endobj")}},a=function(){var O=this.internal.collections[e+"images"];for(var F in O)s.call(this,O[F])},o=function(){var O,F=this.internal.collections[e+"images"],q=this.internal.write;for(var z in F)q("/I"+(O=F[z]).index,O.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var O=this.internal.collections[e+"images"];return c.call(this),O},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(O){return typeof t["process"+O.toUpperCase()]=="function"},m=function(O){return Gr(O)==="object"&&O.nodeType===1},p=function(O,F){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var q=""+O.getAttribute("src");if(q.indexOf("data:image/")===0)return Dw(unescape(q).split("base64,").pop());var z=t.loadFile(q,!0);if(z!==void 0)return z}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var K;switch(F){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return Dw(O.toDataURL(K,1).split("base64,").pop())}},b=function(O){var F=this.internal.collections[e+"images"];if(F){for(var q in F)if(O===F[q].alias)return F[q]}},v=function(O,F,q){return O||F||(O=-96,F=-96),O<0&&(O=-1*q.width*72/O/this.internal.scaleFactor),F<0&&(F=-1*q.height*72/F/this.internal.scaleFactor),O===0&&(O=F*q.width/q.height),F===0&&(F=O*q.height/q.width),[O,F]},y=function(O,F,q,z,K,Z){var H=v.call(this,q,z,K),W=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ge=u.call(this);if(q=H[0],z=H[1],ge[K.index]=K,Z){Z*=Math.PI/180;var Q=Math.cos(Z),I=Math.sin(Z),G=function(ie){return ie.toFixed(4)},ne=[G(Q),G(I),G(-1*I),G(Q),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,W(O),Y(F+z),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([W(q),"0","0",W(z),"0","0","cm"].join(" "))):this.internal.write([W(q),"0","0",W(z),W(O),Y(F+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(O){var F,q,z=0;if(typeof O=="string")for(q=O.length,F=0;F<q;F++)z=(z<<5)-z+O.charCodeAt(F),z|=0;else if(P(O))for(q=O.byteLength/2,F=0;F<q;F++)z=(z<<5)-z+O[F],z|=0;return z},A=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var F=!0;return O.length===0&&(F=!1),O.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(F=!1),F},k=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var F=O.indexOf(",");return F<0?null:O.substring(0,F).trim().endsWith("base64")?O.substring(F+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},R=t.__addimage__.binaryStringToUint8Array=function(O){for(var F=O.length,q=new Uint8Array(F),z=0;z<F;z++)q[z]=O.charCodeAt(z);return q},T=t.__addimage__.arrayBufferToBinaryString=function(O){for(var F="",q=P(O)?O:new Uint8Array(O),z=0;z<q.length;z+=8192)F+=String.fromCharCode.apply(null,q.subarray(z,z+8192));return F};t.addImage=function(){var O,F,q,z,K,Z,H,W,Y;if(typeof arguments[1]=="number"?(F=n,q=arguments[1],z=arguments[2],K=arguments[3],Z=arguments[4],H=arguments[5],W=arguments[6],Y=arguments[7]):(F=arguments[1],q=arguments[2],z=arguments[3],K=arguments[4],Z=arguments[5],H=arguments[6],W=arguments[7],Y=arguments[8]),Gr(O=arguments[0])==="object"&&!m(O)&&"imageData"in O){var ge=O;O=ge.imageData,F=ge.format||F||n,q=ge.x||q||0,z=ge.y||z||0,K=ge.w||ge.width||K,Z=ge.h||ge.height||Z,H=ge.alias||H,W=ge.compression||W,Y=ge.rotation||ge.angle||Y}var Q=this.internal.getFilters();if(W===void 0&&Q.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(q)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=M.call(this,O,F,H,W);return y.call(this,q,z,K,Z,I,Y),this};var M=function(O,F,q,z){var K,Z,H;if(typeof O=="string"&&i(O)===n){O=unescape(O);var W=B(O,!1);(W!==""||(W=t.loadFile(O,!0))!==void 0)&&(O=W)}if(m(O)&&(O=p(O,F)),F=i(O,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((H=q)==null||H.length===0)&&(q=(function(Y){return typeof Y=="string"||P(Y)?E(Y):P(Y.data)?E(Y.data):null})(O)),(K=b.call(this,q))||(O instanceof Uint8Array||F==="RGBA"||(Z=O,O=R(O)),K=this["process"+F.toUpperCase()](O,d.call(this),q,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:_.NONE})(z),Z)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},B=t.__addimage__.convertBase64ToBinaryString=function(O,F){F=typeof F!="boolean"||F;var q,z="";if(typeof O=="string"){var K;q=(K=k(O))!==null&&K!==void 0?K:O;try{z=Dw(q)}catch(Z){if(F)throw A(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(O){var F,q,z="";if(m(O)&&(O=p(O)),typeof O=="string"&&i(O)===n&&((z=B(O,!1))===""&&(z=t.loadFile(O)||""),O=z),q=i(O),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(O instanceof Uint8Array||(O=R(O)),!(F=this["process"+q.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=q,F}})(fn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};fn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(v.objId),_=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(w(_))+") >>",v.content=s;var E=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+E,r.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var A=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var k=this.annotations._nameMap[r.options.name];r.options.pageNumber=k.page,r.options.top=k.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var P=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+P+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=c,a=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-u,o,a,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(fn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var y=0,w=n,_="",E=0;for(y=0;y<v.length;y+=1)w[v.charCodeAt(y)]!==void 0?(E++,typeof(w=w[v.charCodeAt(y)])=="number"&&(_+=String.fromCharCode(w),w=n,E=0),y===v.length-1&&(w=n,_+=v.charAt(y-(E-1)),y-=E-1,E=0)):(w=n,_+=v.charAt(y-E),y-=E,E=0);return _};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(v,y,w){return a(v)?s(v)===!1?-1:!u(v)||!a(y)&&!a(w)||!a(w)&&o(y)||o(v)&&!a(y)||o(v)&&c(y)||o(v)&&o(y)?0:d(v)&&a(y)&&!o(y)&&a(w)&&u(w)?3:o(v)||!a(w)?1:2:-1},p=function(v){var y=0,w=0,_=0,E="",A="",k="",P=(v=v||"").split("\\s+"),R=[];for(y=0;y<P.length;y+=1){for(R.push(""),w=0;w<P[y].length;w+=1)E=P[y][w],A=P[y][w-1],k=P[y][w+1],a(E)?(_=m(E,A,k),R[y]+=_!==-1?String.fromCharCode(e[E.charCodeAt(0)][_]):E):R[y]+=E;R[y]=f(R[y])}return R.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var _=0;for(w=[],_=0;_<y.length;_+=1)Array.isArray(y[_])?w.push([p(y[_][0]),y[_][1],y[_][2]]):w.push([p(y[_])]);v=w}else v=p(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",b])})(fn.API),fn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,b=0,v=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(E,A){return E.concat(y.splitTextToSize(A,w))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)p<(v=this.getStringUnitWidth(c[_],{font:f})*d)&&(p=v);return p!==0&&(b=c.length),{w:p/=m,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,b,v,y,w=[],_=[],E=[],A={},k={},P=[],R=[],T=(m=m||{}).autoSize||!1,M=m.printHeaders!==!1,B=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,O=m.margins||Object.assign({width:this.getPageWidth()},e),F=typeof m.padding=="number"?m.padding:3,q=m.headerBackgroundColor||"#c8c8c8",z=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=z,this.setFontSize(B),f==null)_=w=Object.keys(d[0]),E=w.map(function(){return"left"});else if(Array.isArray(f)&&Gr(f[0])==="object")for(w=f.map(function(ge){return ge.name}),_=f.map(function(ge){return ge.prompt||ge.name||""}),E=f.map(function(ge){return ge.align||"left"}),p=0;p<f.length;p+=1)k[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=w=f,E=w.map(function(){return"left"}));if(T||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(A[y=w[p]]=d.map(function(ge){return ge[y]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=A[y],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)P.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[y]=Math.max.apply(null,P)+F+F,P=[]}if(M){var K={};for(p=0;p<w.length;p+=1)K[w[p]]={},K[w[p]].text=_[p],K[w[p]].align=E[p];var Z=o.call(this,K,k);R=w.map(function(ge){return new s(c,u,k[ge],Z,K[ge].text,void 0,K[ge].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var H=f.reduce(function(ge,Q){return ge[Q.name]=Q.align,ge},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var W=o.call(this,d[p],k);for(v=0;v<w.length;v+=1){var Y=d[p][w[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:Y},this),a.call(this,new s(c,u,k[w[v]],W,Y,p+2,H[w[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(p){var b=c[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+d+d},this).reduce(function(p,b){return Math.max(p,b)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}})(fn.API);var pne={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mne=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dM=hne(mne),gne=[100,200,300,400,500,600,700,800,900],z3e=hne(gne);function J5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return pne[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof dM[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Hq(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var q3e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Vq={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Wq(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Kq(t){return t.trimLeft()}function U3e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function H3e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Q1,Gq,Yq,mg,J1,Xq,Zq,Qq,eT=["times"];function Jq(t,e,n,r,i){var s=4,a=tU;switch(i){case fn.API.image_compression.FAST:s=1,a=eU;break;case fn.API.image_compression.MEDIUM:s=6,a=nU;break;case fn.API.image_compression.SLOW:s=9,a=rU}t=(function(c,u,d,f){for(var m,p=c.length/u,b=new Uint8Array(c.length+p),v=[V3e,eU,tU,nU,rU],y=0;y<p;y+=1){var w=y*u,_=c.subarray(w,w+u);if(f)b.set(f(_,d,m),w+y);else{for(var E=v.length,A=[],k=0;k<E;k+=1)A[k]=v[k](_,d,m);var P=K3e(A.concat());b.set(A[P],w+y)}m=_}return b})(t,e,Math.ceil(n*r/8),a);var o=iM(t,{level:s});return fn.API.__addimage__.arrayBufferToBinaryString(o)}function V3e(t){var e=Array.apply([],t);return e.unshift(0),e}function eU(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function tU(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function nU(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function rU(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=W3e(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function W3e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function K3e(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function tT(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return vne(t,i)>>s&a}function iU(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,c=(e&o)<<a;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(t,s,vne(t,s)&~(o<<a)&65535|c)}function vne(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function G3e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var u=!0,d=[],f=0,m=null,p=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&v||(m=null),p=v>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,A=t[e++],k=A>>6&1,P=1<<1+(7&A),R=o,T=c,M=!1;A>>7&&(M=!0,R=e,T=P,e+=3*P);var B=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}d.push({x:y,y:w,width:_,height:E,has_local_palette:M,palette_offset:R,palette_size:T,data_offset:B,data_length:e-B,transparent_index:m,interlaced:!!k,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,q){var z=this.frameInfo(F),K=z.width*z.height,Z=new Uint8Array(K);sU(t,z.data_offset,Z,K);var H=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,ge=n-Y,Q=Y,I=4*(z.y*n+z.x),G=4*((z.y+z.height)*n+z.x),ne=I,ie=4*ge;z.interlaced===!0&&(ie+=4*n*7);for(var he=8,J=0,ue=Z.length;J<ue;++J){var ae=Z[J];if(Q===0&&(Q=Y,(ne+=ie)>=G&&(ie=4*ge+4*n*(he-1),ne=I+(Y+ge)*(he<<1),he>>=1)),ae===W)ne+=4;else{var X=t[H+3*ae],pe=t[H+3*ae+1],xe=t[H+3*ae+2];q[ne++]=xe,q[ne++]=pe,q[ne++]=X,q[ne++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(F,q){var z=this.frameInfo(F),K=z.width*z.height,Z=new Uint8Array(K);sU(t,z.data_offset,Z,K);var H=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,ge=n-Y,Q=Y,I=4*(z.y*n+z.x),G=4*((z.y+z.height)*n+z.x),ne=I,ie=4*ge;z.interlaced===!0&&(ie+=4*n*7);for(var he=8,J=0,ue=Z.length;J<ue;++J){var ae=Z[J];if(Q===0&&(Q=Y,(ne+=ie)>=G&&(ie=4*ge+4*n*(he-1),ne=I+(Y+ge)*(he<<1),he>>=1)),ae===W)ne+=4;else{var X=t[H+3*ae],pe=t[H+3*ae+1],xe=t[H+3*ae+2];q[ne++]=X,q[ne++]=pe,q[ne++]=xe,q[ne++]=255}--Q}}}function sU(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,c=i+1,u=(1<<c)-1,d=0,f=0,m=0,p=t[e++],b=new Int32Array(4096),v=null;;){for(;d<16&&p!==0;)f|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<c)break;var y=f&u;if(f>>=c,d-=c,y!==s){if(y===a)break;for(var w=y<o?y:v,_=0,E=w;E>s;)E=b[E]>>8,++_;var A=E;if(m+_+(w!==y?1:0)>r)return void ri.log("Warning, gif stream longer than expected.");n[m++]=A;var k=m+=_;for(w!==y&&(n[m++]=A),E=w;_--;)E=b[E],n[--k]=255&E,E>>=8;v!==null&&o<4096&&(b[o++]=v<<8|A,o>=u+1&&c<12&&(++c,u=u<<1|1)),v=y}else o=a+1,u=(1<<(c=i+1))-1,v=null}return m!==r&&ri.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nT(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),b=new Array(64),v=[],y=0,w=7,_=new Array(64),E=new Array(64),A=new Array(64),k=new Array(256),P=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(I,G){for(var ne=0,ie=0,he=new Array,J=1;J<=16;J++){for(var ue=1;ue<=I[J];ue++)he[G[ie]]=[],he[G[ie]][0]=ne,he[G[ie]][1]=J,ie++,ne++;ne*=2}return he}function H(I){for(var G=I[0],ne=I[1]-1;ne>=0;)G&1<<ne&&(y|=1<<w),ne--,--w<0&&(y==255?(W(255),W(0)):W(y),w=7,y=0)}function W(I){v.push(I)}function Y(I){W(I>>8&255),W(255&I)}function ge(I,G,ne,ie,he){for(var J,ue=he[0],ae=he[240],X=(function(Ye,me){var Se,Te,Ue,He,qe,Qe,xt,gt,At,Wt,_t=0;for(At=0;At<8;++At){Se=Ye[_t],Te=Ye[_t+1],Ue=Ye[_t+2],He=Ye[_t+3],qe=Ye[_t+4],Qe=Ye[_t+5],xt=Ye[_t+6];var An=Se+(gt=Ye[_t+7]),_n=Se-gt,Ft=Te+xt,vn=Te-xt,Jn=Ue+Qe,sn=Ue-Qe,kn=He+qe,xn=He-qe,_r=An+kn,Er=An-kn,pn=Ft+Jn,zt=Ft-Jn;Ye[_t]=_r+pn,Ye[_t+4]=_r-pn;var we=.707106781*(zt+Er);Ye[_t+2]=Er+we,Ye[_t+6]=Er-we;var We=.382683433*((_r=xn+sn)-(zt=vn+_n)),lt=.5411961*_r+We,Tt=1.306562965*zt+We,Tn=.707106781*(pn=sn+vn),le=_n+Tn,Le=_n-Tn;Ye[_t+5]=Le+lt,Ye[_t+3]=Le-lt,Ye[_t+1]=le+Tt,Ye[_t+7]=le-Tt,_t+=8}for(_t=0,At=0;At<8;++At){Se=Ye[_t],Te=Ye[_t+8],Ue=Ye[_t+16],He=Ye[_t+24],qe=Ye[_t+32],Qe=Ye[_t+40],xt=Ye[_t+48];var ot=Se+(gt=Ye[_t+56]),Rt=Se-gt,qn=Te+xt,mn=Te-xt,dr=Ue+Qe,nr=Ue-Qe,$r=He+qe,ci=He-qe,Li=ot+$r,Ja=ot-$r,Ai=qn+dr,Ds=qn-dr;Ye[_t]=Li+Ai,Ye[_t+32]=Li-Ai;var Xs=.707106781*(Ds+Ja);Ye[_t+16]=Ja+Xs,Ye[_t+48]=Ja-Xs;var xo=.382683433*((Li=ci+nr)-(Ds=mn+Rt)),eo=.5411961*Li+xo,kl=1.306562965*Ds+xo,dc=.707106781*(Ai=nr+mn),Zs=Rt+dc,fc=Rt-dc;Ye[_t+40]=fc+eo,Ye[_t+24]=fc-eo,Ye[_t+8]=Zs+kl,Ye[_t+56]=Zs-kl,_t++}for(At=0;At<64;++At)Wt=Ye[At]*me[At],p[At]=Wt>0?Wt+.5|0:Wt-.5|0;return p})(I,G),pe=0;pe<64;++pe)b[R[pe]]=X[pe];var xe=b[0]-ne;ne=b[0],xe==0?H(ie[0]):(H(ie[m[J=32767+xe]]),H(f[J]));for(var De=63;De>0&&b[De]==0;)De--;if(De==0)return H(ue),ne;for(var Ee,de=1;de<=De;){for(var Ge=de;b[de]==0&&de<=De;)++de;var Nt=de-Ge;if(Nt>=16){Ee=Nt>>4;for(var it=1;it<=Ee;++it)H(ae);Nt&=15}J=32767+b[de],H(he[(Nt<<4)+m[J]]),H(f[J]),de++}return De!=63&&H(ue),ne}function Q(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(G){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var he=a((ne[ie]*G+50)/100);he=Math.min(Math.max(he,1),255),o[R[ie]]=he}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ae=a((J[ue]*G+50)/100);ae=Math.min(Math.max(ae,1),255),c[R[ue]]=ae}for(var X=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,xe=0;xe<8;xe++)for(var De=0;De<8;De++)u[pe]=1/(o[R[pe]]*X[xe]*X[De]*8),d[pe]=1/(c[R[pe]]*X[xe]*X[De]*8),pe++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,G){G&&Q(G),v=new Array,y=0,w=7,Y(65496),Y(65504),Y(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Y(1),Y(1),W(0),W(0),(function(){Y(65499),Y(132),W(0);for(var Te=0;Te<64;Te++)W(o[Te]);W(1);for(var Ue=0;Ue<64;Ue++)W(c[Ue])})(),(function(Te,Ue){Y(65472),Y(17),W(8),Y(Ue),Y(Te),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(I.width,I.height),(function(){Y(65476),Y(418),W(0);for(var Te=0;Te<16;Te++)W(T[Te+1]);for(var Ue=0;Ue<=11;Ue++)W(M[Ue]);W(16);for(var He=0;He<16;He++)W(B[He+1]);for(var qe=0;qe<=161;qe++)W(O[qe]);W(1);for(var Qe=0;Qe<16;Qe++)W(F[Qe+1]);for(var xt=0;xt<=11;xt++)W(q[xt]);W(17);for(var gt=0;gt<16;gt++)W(z[gt+1]);for(var At=0;At<=161;At++)W(K[At])})(),Y(65498),Y(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ne=0,ie=0,he=0;y=0,w=7,this.encode.displayName="_encode_";for(var J,ue,ae,X,pe,xe,De,Ee,de,Ge=I.data,Nt=I.width,it=I.height,Ye=4*Nt,me=0;me<it;){for(J=0;J<Ye;){for(pe=Ye*me+J,De=-1,Ee=0,de=0;de<64;de++)xe=pe+(Ee=de>>3)*Ye+(De=4*(7&de)),me+Ee>=it&&(xe-=Ye*(me+1+Ee-it)),J+De>=Ye&&(xe-=J+De-Ye+4),ue=Ge[xe++],ae=Ge[xe++],X=Ge[xe++],_[de]=(P[ue]+P[ae+256|0]+P[X+512|0]>>16)-128,E[de]=(P[ue+768|0]+P[ae+1024|0]+P[X+1280|0]>>16)-128,A[de]=(P[ue+1280|0]+P[ae+1536|0]+P[X+1792|0]>>16)-128;ne=ge(_,u,ne,e,r),ie=ge(E,d,ie,n,i),he=ge(A,d,he,n,i),J+=32}me+=8}if(w>=0){var Se=[];Se[1]=w+1,Se[0]=(1<<w+1)-1,H(Se)}return Y(65497),new Uint8Array(v)},t=t||50,(function(){for(var I=String.fromCharCode,G=0;G<256;G++)k[G]=I(G)})(),e=Z(T,M),n=Z(F,q),r=Z(B,O),i=Z(z,K),(function(){for(var I=1,G=2,ne=1;ne<=15;ne++){for(var ie=I;ie<G;ie++)m[32767+ie]=ne,f[32767+ie]=[],f[32767+ie][1]=ne,f[32767+ie][0]=ie;for(var he=-(G-1);he<=-I;he++)m[32767+he]=ne,f[32767+he]=[],f[32767+he][1]=ne,f[32767+he][0]=G-1+he;I<<=1,G<<=1}})(),(function(){for(var I=0;I<256;I++)P[I]=19595*I,P[I+256|0]=38470*I,P[I+512|0]=7471*I+32768,P[I+768|0]=-11059*I,P[I+1024|0]=-21709*I,P[I+1280|0]=32768*I+8421375,P[I+1536|0]=-27439*I,P[I+1792|0]=-5329*I})(),Q(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ic(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aU(t){function e(M){if(!M)throw Error("assert :P")}function n(M,B,O){for(var F=0;4>F;F++)if(M[B+F]!=O.charCodeAt(F))return!0;return!1}function r(M,B,O,F,q){for(var z=0;z<q;z++)M[B+z]=O[F+z]}function i(M,B,O,F){for(var q=0;q<F;q++)M[B+q]=O}function s(M){return new Int32Array(M)}function a(M,B){for(var O=[],F=0;F<M;F++)O.push(new B);return O}function o(M,B){var O=[];return(function F(q,z,K){for(var Z=K[z],H=0;H<Z&&(q.push(K.length>z+1?[]:new B),!(K.length<z+1));H++)F(q[H],z+1,K)})(O,0,M),O}var c=function(){var M=this;function B(N,j){for(var $=1<<j-1>>>0;N&$;)$>>>=1;return $?(N&$-1)+$:N}function O(N,j,$,V,ee){e(!(V%$));do N[j+(V-=$)]=ee;while(0<V)}function F(N,j,$,V,ee){if(e(2328>=ee),512>=ee)var se=s(512);else if((se=s(ee))==null)return 0;return(function(oe,ce,fe,ve,ke,Fe){var ye,Oe,Ie=ce,Je=1<<fe,$e=s(16),Xe=s(16);for(e(ke!=0),e(ve!=null),e(oe!=null),e(0<fe),Oe=0;Oe<ke;++Oe){if(15<ve[Oe])return 0;++$e[ve[Oe]]}if($e[0]==ke)return 0;for(Xe[1]=0,ye=1;15>ye;++ye){if($e[ye]>1<<ye)return 0;Xe[ye+1]=Xe[ye]+$e[ye]}for(Oe=0;Oe<ke;++Oe)ye=ve[Oe],0<ve[Oe]&&(Fe[Xe[ye]++]=Oe);if(Xe[15]==1)return(ve=new q).g=0,ve.value=Fe[0],O(oe,Ie,1,Je,ve),Je;var Ze,rt=-1,st=Je-1,cn=0,Kt=1,Hn=1,Qt=1<<fe;for(Oe=0,ye=1,ke=2;ye<=fe;++ye,ke<<=1){if(Kt+=Hn<<=1,0>(Hn-=$e[ye]))return 0;for(;0<$e[ye];--$e[ye])(ve=new q).g=ye,ve.value=Fe[Oe++],O(oe,Ie+cn,ke,Qt,ve),cn=B(cn,ye)}for(ye=fe+1,ke=2;15>=ye;++ye,ke<<=1){if(Kt+=Hn<<=1,0>(Hn-=$e[ye]))return 0;for(;0<$e[ye];--$e[ye]){if(ve=new q,(cn&st)!=rt){for(Ie+=Qt,Ze=1<<(rt=ye)-fe;15>rt&&!(0>=(Ze-=$e[rt]));)++rt,Ze<<=1;Je+=Qt=1<<(Ze=rt-fe),oe[ce+(rt=cn&st)].g=Ze+fe,oe[ce+rt].value=Ie-ce-rt}ve.g=ye-fe,ve.value=Fe[Oe++],O(oe,Ie+(cn>>fe),ke,Qt,ve),cn=B(cn,ye)}}return Kt!=2*Xe[15]-1?0:Je})(N,j,$,V,ee,se)}function q(){this.value=this.g=0}function z(){this.value=this.g=0}function K(){this.G=a(5,q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ao,z)}function Z(N,j,$,V){e(N!=null),e(j!=null),e(2147483648>V),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=j,N.pa=$,N.Jd=j,N.Yc=$+V,N.Zc=4<=V?$+V-4+1:$,ue(N)}function H(N,j){for(var $=0;0<j--;)$|=X(N,128)<<j;return $}function W(N,j){var $=H(N,j);return ae(N)?-$:$}function Y(N,j,$,V){var ee,se=0;for(e(N!=null),e(j!=null),e(4294967288>V),N.Sb=V,N.Ra=0,N.u=0,N.h=0,4<V&&(V=4),ee=0;ee<V;++ee)se+=j[$+ee]<<8*ee;N.Ra=se,N.bb=V,N.oa=j,N.pa=$}function ge(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<pu-8>>>0,++N.bb,N.u-=8;ie(N)&&(N.h=1,N.u=0)}function Q(N,j){if(e(0<=j),!N.h&&j<=so){var $=ne(N)&io[j];return N.u+=j,ge(N),$}return N.h=1,N.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(N){return N.Ra>>>(N.u&pu-1)>>>0}function ie(N){return e(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>pu}function he(N,j){N.u=j,N.h=ie(N)}function J(N){N.u>=Il&&(e(N.u>=Il),ge(N))}function ue(N){e(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(e(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function ae(N){return H(N,1)}function X(N,j){var $=N.Ca;0>N.b&&ue(N);var V=N.b,ee=$*j>>>8,se=(N.I>>>V>ee)+0;for(se?($-=ee,N.I-=ee+1<<V>>>0):$=ee+1,V=$,ee=0;256<=V;)ee+=8,V>>=8;return V=7^ee+wc[V],N.b-=V,N.Ca=($<<V)-1,se}function pe(N,j,$){N[j+0]=$>>24&255,N[j+1]=$>>16&255,N[j+2]=$>>8&255,N[j+3]=255&$}function xe(N,j){return N[j+0]|N[j+1]<<8}function De(N,j){return xe(N,j)|N[j+2]<<16}function Ee(N,j){return xe(N,j)|xe(N,j+2)<<16}function de(N,j){var $=1<<j;return e(N!=null),e(0<j),N.X=s($),N.X==null?0:(N.Mb=32-j,N.Xa=j,1)}function Ge(N,j){e(N!=null),e(j!=null),e(N.Xa==j.Xa),r(j.X,0,N.X,0,1<<j.Xa)}function Nt(){this.X=[],this.Xa=this.Mb=0}function it(N,j,$,V){e($!=null),e(V!=null);var ee=$[0],se=V[0];return ee==0&&(ee=(N*se+j/2)/j),se==0&&(se=(j*ee+N/2)/N),0>=ee||0>=se?0:($[0]=ee,V[0]=se,1)}function Ye(N,j){return N+(1<<j)-1>>>j}function me(N,j){return((4278255360&N)+(4278255360&j)>>>0&4278255360)+((16711935&N)+(16711935&j)>>>0&16711935)>>>0}function Se(N,j){M[j]=function($,V,ee,se,oe,ce,fe){var ve;for(ve=0;ve<oe;++ve){var ke=M[N](ce[fe+ve-1],ee,se+ve);ce[fe+ve]=me($[V+ve],ke)}}}function Te(){this.ud=this.hd=this.jd=0}function Ue(N,j){return((4278124286&(N^j))>>>1)+(N&j)>>>0}function He(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function qe(N,j){return He(N+(N-j+.5>>1))}function Qe(N,j,$){return Math.abs(j-$)-Math.abs(N-$)}function xt(N,j,$,V,ee,se,oe){for(V=se[oe-1],$=0;$<ee;++$)se[oe+$]=V=me(N[j+$],V)}function gt(N,j,$,V,ee){var se;for(se=0;se<$;++se){var oe=N[j+se],ce=oe>>8&255,fe=16711935&(fe=(fe=16711935&oe)+((ce<<16)+ce));V[ee+se]=(4278255360&oe)+fe>>>0}}function At(N,j){j.jd=255&N,j.hd=N>>8&255,j.ud=N>>16&255}function Wt(N,j,$,V,ee,se){var oe;for(oe=0;oe<V;++oe){var ce=j[$+oe],fe=ce>>>8,ve=ce,ke=255&(ke=(ke=ce>>>16)+((N.jd<<24>>24)*(fe<<24>>24)>>>5));ve=255&(ve=(ve+=(N.hd<<24>>24)*(fe<<24>>24)>>>5)+((N.ud<<24>>24)*(ke<<24>>24)>>>5)),ee[se+oe]=(4278255360&ce)+(ke<<16)+ve}}function _t(N,j,$,V,ee){M[j]=function(se,oe,ce,fe,ve,ke,Fe,ye,Oe){for(fe=Fe;fe<ye;++fe)for(Fe=0;Fe<Oe;++Fe)ve[ke++]=ee(ce[V(se[oe++])])},M[N]=function(se,oe,ce,fe,ve,ke,Fe){var ye=8>>se.b,Oe=se.Ea,Ie=se.K[0],Je=se.w;if(8>ye)for(se=(1<<se.b)-1,Je=(1<<ye)-1;oe<ce;++oe){var $e,Xe=0;for($e=0;$e<Oe;++$e)$e&se||(Xe=V(fe[ve++])),ke[Fe++]=ee(Ie[Xe&Je]),Xe>>=ye}else M["VP8LMapColor"+$](fe,ve,Ie,Je,ke,Fe,oe,ce,Oe)}}function An(N,j,$,V,ee){for($=j+$;j<$;){var se=N[j++];V[ee++]=se>>16&255,V[ee++]=se>>8&255,V[ee++]=255&se}}function _n(N,j,$,V,ee){for($=j+$;j<$;){var se=N[j++];V[ee++]=se>>16&255,V[ee++]=se>>8&255,V[ee++]=255&se,V[ee++]=se>>24&255}}function Ft(N,j,$,V,ee){for($=j+$;j<$;){var se=(oe=N[j++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;V[ee++]=se,V[ee++]=oe}}function vn(N,j,$,V,ee){for($=j+$;j<$;){var se=(oe=N[j++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;V[ee++]=se,V[ee++]=oe}}function Jn(N,j,$,V,ee){for($=j+$;j<$;){var se=N[j++];V[ee++]=255&se,V[ee++]=se>>8&255,V[ee++]=se>>16&255}}function sn(N,j,$,V,ee,se){if(se==0)for($=j+$;j<$;)pe(V,((se=N[j++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),ee+=32;else r(V,ee,N,j,$)}function kn(N,j){M[j][0]=M[N+"0"],M[j][1]=M[N+"1"],M[j][2]=M[N+"2"],M[j][3]=M[N+"3"],M[j][4]=M[N+"4"],M[j][5]=M[N+"5"],M[j][6]=M[N+"6"],M[j][7]=M[N+"7"],M[j][8]=M[N+"8"],M[j][9]=M[N+"9"],M[j][10]=M[N+"10"],M[j][11]=M[N+"11"],M[j][12]=M[N+"12"],M[j][13]=M[N+"13"],M[j][14]=M[N+"0"],M[j][15]=M[N+"0"]}function xn(N){return N==jf||N==wd||N==ap||N==op}function _r(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _r,this.f.kb=new Er,this.sd=null}function zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function we(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function We(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function lt(N,j){var $=N.T,V=j.ba.f.RGBA,ee=V.eb,se=V.fb+N.ka*V.A,oe=Ra[j.ba.S],ce=N.y,fe=N.O,ve=N.f,ke=N.N,Fe=N.ea,ye=N.W,Oe=j.cc,Ie=j.dc,Je=j.Mc,$e=j.Nc,Xe=N.ka,Ze=N.ka+N.T,rt=N.U,st=rt+1>>1;for(Xe==0?oe(ce,fe,null,null,ve,ke,Fe,ye,ve,ke,Fe,ye,ee,se,null,null,rt):(oe(j.ec,j.fc,ce,fe,Oe,Ie,Je,$e,ve,ke,Fe,ye,ee,se-V.A,ee,se,rt),++$);Xe+2<Ze;Xe+=2)Oe=ve,Ie=ke,Je=Fe,$e=ye,ke+=N.Rc,ye+=N.Rc,se+=2*V.A,oe(ce,(fe+=2*N.fa)-N.fa,ce,fe,Oe,Ie,Je,$e,ve,ke,Fe,ye,ee,se-V.A,ee,se,rt);return fe+=N.fa,N.j+Ze<N.o?(r(j.ec,j.fc,ce,fe,rt),r(j.cc,j.dc,ve,ke,st),r(j.Mc,j.Nc,Fe,ye,st),$--):1&Ze||oe(ce,fe,null,null,ve,ke,Fe,ye,ve,ke,Fe,ye,ee,se+V.A,null,null,rt),$}function Tt(N,j,$){var V=N.F,ee=[N.J];if(V!=null){var se=N.U,oe=j.ba.S,ce=oe==sp||oe==ap;j=j.ba.f.RGBA;var fe=[0],ve=N.ka;fe[0]=N.T,N.Kb&&(ve==0?--fe[0]:(--ve,ee[0]-=N.width),N.j+N.ka+N.T==N.o&&(fe[0]=N.o-N.j-ve));var ke=j.eb;ve=j.fb+ve*j.A,N=rp(V,ee[0],N.width,se,fe,ke,ve+(ce?0:3),j.A),e($==fe),N&&xn(oe)&&xd(ke,ve,ce,se,fe,j.A)}return 0}function Tn(N){var j=N.ma,$=j.ba.S,V=11>$,ee=$==yu||$==ip||$==sp||$==qr||$==12||xn($);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Sf(j.Oa,N,ee?11:12))return 0;if(ee&&xn($)&&Mm(),N.da)alert("todo:use_scaling");else{if(V){if(j.Ib=We,N.Kb){if($=N.U+1>>1,j.memory=s(N.U+2*$),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+N.U,j.Mc=j.cc,j.Nc=j.dc+$,j.Ib=lt,Mm()}}else alert("todo:EmitYUV");ee&&(j.Jb=Tt,V&&Co())}if(V&&!Bs){for(N=0;256>N;++N)Ia[N]=89858*(N-128)+sl>>Ec,Da[N]=-22014*(N-128)+sl,Mf[N]=-45773*(N-128),Ed[N]=113618*(N-128)+sl>>Ec;for(N=jr;N<Ir;++N)j=76283*(N-16)+sl>>Ec,zm[N-jr]=ki(j,255),$x[N-jr]=ki(j+8>>4,15);Bs=1}return 1}function le(N){var j=N.ma,$=N.U,V=N.T;return e(!(1&N.ka)),0>=$||0>=V?0:($=j.Ib(N,j),j.Jb!=null&&j.Jb(N,j,$),j.Dc+=$,1)}function Le(N){N.ma.memory=null}function ot(N,j,$,V){return Q(N,8)!=47?0:(j[0]=Q(N,14)+1,$[0]=Q(N,14)+1,V[0]=Q(N,1),Q(N,3)!=0?0:!N.h)}function Rt(N,j){if(4>N)return N+1;var $=N-2>>1;return(2+(1&N)<<$)+Q(j,$)+1}function qn(N,j){return 120<j?j-120:1<=($=(($=lE[j-1])>>4)*N+(8-(15&$)))?$:1;var $}function mn(N,j,$){var V=ne($),ee=N[j+=255&V].g-8;return 0<ee&&(he($,$.u+8),V=ne($),j+=N[j].value,j+=V&(1<<ee)-1),he($,$.u+N[j].g),N[j].value}function dr(N,j,$){return $.g+=N.g,$.value+=N.value<<j>>>0,e(8>=$.g),N.g}function nr(N,j,$){var V=N.xc;return e((j=V==0?0:N.vc[N.md*($>>V)+(j>>V)])<N.Wb),N.Ya[j]}function $r(N,j,$,V){var ee=N.ab,se=N.c*j,oe=N.C;j=oe+j;var ce=$,fe=V;for(V=N.Ta,$=N.Ua;0<ee--;){var ve=N.gc[ee],ke=oe,Fe=j,ye=ce,Oe=fe,Ie=(fe=V,ce=$,ve.Ea);switch(e(ke<Fe),e(Fe<=ve.nc),ve.hc){case 2:$i(ye,Oe,(Fe-ke)*Ie,fe,ce);break;case 0:var Je=ke,$e=Fe,Xe=fe,Ze=ce,rt=(Qt=ve).Ea;Je==0&&(Sc(ye,Oe,null,null,1,Xe,Ze),xt(ye,Oe+1,0,0,rt-1,Xe,Ze+1),Oe+=rt,Ze+=rt,++Je);for(var st=1<<Qt.b,cn=st-1,Kt=Ye(rt,Qt.b),Hn=Qt.K,Qt=Qt.w+(Je>>Qt.b)*Kt;Je<$e;){var sr=Hn,Oi=Qt,Gn=1;for(Dl(ye,Oe,Xe,Ze-rt,1,Xe,Ze);Gn<rt;){var Gt=(Gn&~cn)+st;Gt>rt&&(Gt=rt),(0,gd[sr[Oi++]>>8&15])(ye,Oe+ +Gn,Xe,Ze+Gn-rt,Gt-Gn,Xe,Ze+Gn),Gn=Gt}Oe+=rt,Ze+=rt,++Je&cn||(Qt+=Kt)}Fe!=ve.nc&&r(fe,ce-Ie,fe,ce+(Fe-ke-1)*Ie,Ie);break;case 1:for(Ie=ye,$e=Oe,rt=(ye=ve.Ea)-(Ze=ye&~(Xe=(Oe=1<<ve.b)-1)),Je=Ye(ye,ve.b),st=ve.K,ve=ve.w+(ke>>ve.b)*Je;ke<Fe;){for(cn=st,Kt=ve,Hn=new Te,Qt=$e+Ze,sr=$e+ye;$e<Qt;)At(cn[Kt++],Hn),_f(Hn,Ie,$e,Oe,fe,ce),$e+=Oe,ce+=Oe;$e<sr&&(At(cn[Kt++],Hn),_f(Hn,Ie,$e,rt,fe,ce),$e+=rt,ce+=rt),++ke&Xe||(ve+=Je)}break;case 3:if(ye==fe&&Oe==ce&&0<ve.b){for($e=fe,ye=Ie=ce+(Fe-ke)*Ie-(Ze=(Fe-ke)*Ye(ve.Ea,ve.b)),Oe=fe,Xe=ce,Je=[],Ze=(rt=Ze)-1;0<=Ze;--Ze)Je[Ze]=Oe[Xe+Ze];for(Ze=rt-1;0<=Ze;--Ze)$e[ye+Ze]=Je[Ze];pd(ve,ke,Fe,fe,Ie,fe,ce)}else pd(ve,ke,Fe,ye,Oe,fe,ce)}ce=V,fe=$}fe!=$&&r(V,$,ce,fe,se)}function ci(N,j){var $=N.V,V=N.Ba+N.c*N.C,ee=j-N.C;if(e(j<=N.l.o),e(16>=ee),0<ee){var se=N.l,oe=N.Ta,ce=N.Ua,fe=se.width;if($r(N,ee,$,V),ee=ce=[ce],e(($=N.C)<(V=j)),e(se.v<se.va),V>se.o&&(V=se.o),$<se.j){var ve=se.j-$;$=se.j,ee[0]+=ve*fe}if($>=V?$=0:(ee[0]+=4*se.v,se.ka=$-se.j,se.U=se.va-se.v,se.T=V-$,$=1),$){if(ce=ce[0],11>($=N.ca).S){var ke=$.f.RGBA,Fe=(V=$.S,ee=se.U,se=se.T,ve=ke.eb,ke.A),ye=se;for(ke=ke.fb+N.Ma*ke.A;0<ye--;){var Oe=oe,Ie=ce,Je=ee,$e=ve,Xe=ke;switch(V){case Lm:Ef(Oe,Ie,Je,$e,Xe);break;case yu:Nc(Oe,Ie,Je,$e,Xe);break;case jf:Nc(Oe,Ie,Je,$e,Xe),xd($e,Xe,0,Je,1,0);break;case Ix:vd(Oe,Ie,Je,$e,Xe);break;case ip:sn(Oe,Ie,Je,$e,Xe,1);break;case wd:sn(Oe,Ie,Je,$e,Xe,1),xd($e,Xe,0,Je,1,0);break;case sp:sn(Oe,Ie,Je,$e,Xe,0);break;case ap:sn(Oe,Ie,Je,$e,Xe,0),xd($e,Xe,1,Je,1,0);break;case qr:mu(Oe,Ie,Je,$e,Xe);break;case op:mu(Oe,Ie,Je,$e,Xe),uy($e,Xe,Je,1,0);break;case Fm:gu(Oe,Ie,Je,$e,Xe);break;default:e(0)}ce+=fe,ke+=Fe}N.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(N.Ma<=$.height)}}N.C=j,e(N.C<=N.i)}function Li(N){var j;if(0<N.ua)return 0;for(j=0;j<N.Wb;++j){var $=N.Ya[j].G,V=N.Ya[j].H;if(0<$[1][V[1]+0].g||0<$[2][V[2]+0].g||0<$[3][V[3]+0].g)return 0}return 1}function Ja(N,j,$,V,ee,se){if(N.Z!=0){var oe=N.qd,ce=N.rd;for(e(ea[N.Z]!=null);j<$;++j)ea[N.Z](oe,ce,V,ee,V,ee,se),oe=V,ce=ee,ee+=se;N.qd=oe,N.rd=ce}}function Ai(N,j){var $=N.l.ma,V=$.Z==0||$.Z==1?N.l.j:N.C;if(V=N.C<V?V:N.C,e(j<=N.l.o),j>V){var ee=N.l.width,se=$.ca,oe=$.tb+ee*V,ce=N.V,fe=N.Ba+N.c*V,ve=N.gc;e(N.ab==1),e(ve[0].hc==3),rl(ve[0],V,j,ce,fe,se,oe),Ja($,V,j,se,oe,ee)}N.C=N.Ma=j}function Ds(N,j,$,V,ee,se,oe){var ce=N.$/V,fe=N.$%V,ve=N.m,ke=N.s,Fe=$+N.$,ye=Fe;ee=$+V*ee;var Oe=$+V*se,Ie=280+ke.ua,Je=N.Pb?ce:16777216,$e=0<ke.ua?ke.Wa:null,Xe=ke.wc,Ze=Fe<Oe?nr(ke,fe,ce):null;e(N.C<se),e(Oe<=ee);var rt=!1;e:for(;;){for(;rt||Fe<Oe;){var st=0;if(ce>=Je){var cn=Fe-$;e((Je=N).Pb),Je.wd=Je.m,Je.xd=cn,0<Je.s.ua&&Ge(Je.s.Wa,Je.s.vb),Je=ce+$m}if(fe&Xe||(Ze=nr(ke,fe,ce)),e(Ze!=null),Ze.Qb&&(j[Fe]=Ze.qb,rt=!0),!rt)if(J(ve),Ze.jc){st=ve,cn=j;var Kt=Fe,Hn=Ze.pd[ne(st)&Ao-1];e(Ze.jc),256>Hn.g?(he(st,st.u+Hn.g),cn[Kt]=Hn.value,st=0):(he(st,st.u+Hn.g-256),e(256<=Hn.value),st=Hn.value),st==0&&(rt=!0)}else st=mn(Ze.G[0],Ze.H[0],ve);if(ve.h)break;if(rt||256>st){if(!rt)if(Ze.nd)j[Fe]=(Ze.qb|st<<8)>>>0;else{if(J(ve),rt=mn(Ze.G[1],Ze.H[1],ve),J(ve),cn=mn(Ze.G[2],Ze.H[2],ve),Kt=mn(Ze.G[3],Ze.H[3],ve),ve.h)break;j[Fe]=(Kt<<24|rt<<16|st<<8|cn)>>>0}if(rt=!1,++Fe,++fe>=V&&(fe=0,++ce,oe!=null&&ce<=se&&!(ce%16)&&oe(N,ce),$e!=null))for(;ye<Fe;)st=j[ye++],$e.X[(506832829*st&4294967295)>>>$e.Mb]=st}else if(280>st){if(st=Rt(st-256,ve),cn=mn(Ze.G[4],Ze.H[4],ve),J(ve),cn=qn(V,cn=Rt(cn,ve)),ve.h)break;if(Fe-$<cn||ee-Fe<st)break e;for(Kt=0;Kt<st;++Kt)j[Fe+Kt]=j[Fe+Kt-cn];for(Fe+=st,fe+=st;fe>=V;)fe-=V,++ce,oe!=null&&ce<=se&&!(ce%16)&&oe(N,ce);if(e(Fe<=ee),fe&Xe&&(Ze=nr(ke,fe,ce)),$e!=null)for(;ye<Fe;)st=j[ye++],$e.X[(506832829*st&4294967295)>>>$e.Mb]=st}else{if(!(st<Ie))break e;for(rt=st-280,e($e!=null);ye<Fe;)st=j[ye++],$e.X[(506832829*st&4294967295)>>>$e.Mb]=st;st=Fe,e(!(rt>>>(cn=$e).Xa)),j[st]=cn.X[rt],rt=!0}rt||e(ve.h==ie(ve))}if(N.Pb&&ve.h&&Fe<ee)e(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Ge(N.s.vb,N.s.Wa);else{if(ve.h)break e;oe?.(N,ce>se?se:ce),N.a=0,N.$=Fe-$}return 1}return N.a=3,0}function Xs(N){e(N!=null),N.vc=null,N.yc=null,N.Ya=null;var j=N.Wa;j!=null&&(j.X=null),N.vb=null,e(N!=null)}function xo(){var N=new ln;return N==null?null:(N.a=0,N.xb=Of,kn("Predictor","VP8LPredictors"),kn("Predictor","VP8LPredictors_C"),kn("PredictorAdd","VP8LPredictorsAdd"),kn("PredictorAdd","VP8LPredictorsAdd_C"),$i=gt,_f=Wt,Ef=An,Nc=_n,mu=Ft,gu=vn,vd=Jn,M.VP8LMapColor32b=Ll,M.VP8LMapColor8b=md,N)}function eo(N,j,$,V,ee){var se=1,oe=[N],ce=[j],fe=V.m,ve=V.s,ke=null,Fe=0;e:for(;;){if($)for(;se&&Q(fe,1);){var ye=oe,Oe=ce,Ie=V,Je=1,$e=Ie.m,Xe=Ie.gc[Ie.ab],Ze=Q($e,2);if(Ie.Oc&1<<Ze)se=0;else{switch(Ie.Oc|=1<<Ze,Xe.hc=Ze,Xe.Ea=ye[0],Xe.nc=Oe[0],Xe.K=[null],++Ie.ab,e(4>=Ie.ab),Ze){case 0:case 1:Xe.b=Q($e,3)+2,Je=eo(Ye(Xe.Ea,Xe.b),Ye(Xe.nc,Xe.b),0,Ie,Xe.K),Xe.K=Xe.K[0];break;case 3:var rt,st=Q($e,8)+1,cn=16<st?0:4<st?1:2<st?2:3;if(ye[0]=Ye(Xe.Ea,cn),Xe.b=cn,rt=Je=eo(st,1,0,Ie,Xe.K)){var Kt,Hn=st,Qt=Xe,sr=1<<(8>>Qt.b),Oi=s(sr);if(Oi==null)rt=0;else{var Gn=Qt.K[0],Gt=Qt.w;for(Oi[0]=Qt.K[0][0],Kt=1;Kt<1*Hn;++Kt)Oi[Kt]=me(Gn[Gt+Kt],Oi[Kt-1]);for(;Kt<4*sr;++Kt)Oi[Kt]=0;Qt.K[0]=null,Qt.K[0]=Oi,rt=1}}Je=rt;break;case 2:break;default:e(0)}se=Je}}if(oe=oe[0],ce=ce[0],se&&Q(fe,1)&&!(se=1<=(Fe=Q(fe,4))&&11>=Fe)){V.a=3;break e}var jt;if(jt=se)t:{var zi,On,rr,Xr=V,Ns=oe,Zi=ce,wi=Fe,hs=$,_s=Xr.m,fi=Xr.s,fr=[null],yr=1,hi=0,br=Lx[wi];n:for(;;){if(hs&&Q(_s,1)){var Pi=Q(_s,3)+2,Mi=Ye(Ns,Pi),Ur=Ye(Zi,Pi),ta=Mi*Ur;if(!eo(Mi,Ur,0,Xr,fr))break n;for(fr=fr[0],fi.xc=Pi,zi=0;zi<ta;++zi){var Dr=fr[zi]>>8&65535;fr[zi]=Dr,Dr>=yr&&(yr=Dr+1)}}if(_s.h)break n;for(On=0;5>On;++On){var Hr=Sd[On];!On&&0<wi&&(Hr+=1<<wi),hi<Hr&&(hi=Hr)}var Qi=a(yr*br,q),$s=yr,La=a($s,K);if(La==null)var qi=null;else e(65536>=$s),qi=La;var Ui=s(hi);if(qi==null||Ui==null||Qi==null){Xr.a=1;break n}var na=Qi;for(zi=rr=0;zi<yr;++zi){var Vr=qi[zi],ra=Vr.G,To=Vr.H,al=0,Es=1,Hi=0;for(On=0;5>On;++On){Hr=Sd[On],ra[On]=na,To[On]=rr,!On&&0<wi&&(Hr+=1<<wi);i:{var wu,Ac=Hr,Rf=Xr,$l=Ui,qx=na,Sy=rr,ti=0,ol=Rf.m,Ny=Q(ol,1);if(i($l,0,0,Ac),Ny){var _y=Q(ol,1)+1,qm=Q(ol,1),Um=Q(ol,qm==0?1:8);$l[Um]=1,_y==2&&($l[Um=Q(ol,8)]=1);var zl=1}else{var pi=s(19),Ji=Q(ol,4)+4;if(19<Ji){Rf.a=3;var Vi=0;break i}for(wu=0;wu<Ji;++wu)pi[oE[wu]]=Q(ol,3);var If=void 0,kc=void 0,Df=Rf,hE=pi,ps=Ac,Hm=$l,fp=0,ql=Df.m,ll=8,ao=a(128,q);r:for(;F(ao,0,7,hE,19);){if(Q(ql,1)){var hp=2+2*Q(ql,3);if((If=2+Q(ql,hp))>ps)break r}else If=ps;for(kc=0;kc<ps&&If--;){J(ql);var Vm=ao[0+(127&ne(ql))];he(ql,ql.u+Vm.g);var Su=Vm.value;if(16>Su)Hm[kc++]=Su,Su!=0&&(ll=Su);else{var Ux=Su==16,Ey=Su-16,Hx=Bm[Ey],Cy=Q(ql,lp[Ey])+Hx;if(kc+Cy>ps)break r;for(var Vx=Ux?ll:0;0<Cy--;)Hm[kc++]=Vx}}fp=1;break r}fp||(Df.a=3),zl=fp}(zl=zl&&!ol.h)&&(ti=F(qx,Sy,8,$l,Ac)),zl&&ti!=0?Vi=ti:(Rf.a=3,Vi=0)}if(Vi==0)break n;if(Es&&Dx[On]==1&&(Es=na[rr].g==0),al+=na[rr].g,rr+=Vi,3>=On){var Lf,Wm=Ui[0];for(Lf=1;Lf<Hr;++Lf)Ui[Lf]>Wm&&(Wm=Ui[Lf]);Hi+=Wm}}if(Vr.nd=Es,Vr.Qb=0,Es&&(Vr.qb=(ra[3][To[3]+0].value<<24|ra[1][To[1]+0].value<<16|ra[2][To[2]+0].value)>>>0,al==0&&256>ra[0][To[0]+0].value&&(Vr.Qb=1,Vr.qb+=ra[0][To[0]+0].value<<8)),Vr.jc=!Vr.Qb&&6>Hi,Vr.jc){var pp,oo=Vr;for(pp=0;pp<Ao;++pp){var jc=pp,cl=oo.pd[jc],Ad=oo.G[0][oo.H[0]+jc];256<=Ad.value?(cl.g=Ad.g+256,cl.value=Ad.value):(cl.g=0,cl.value=0,jc>>=dr(Ad,8,cl),jc>>=dr(oo.G[1][oo.H[1]+jc],16,cl),jc>>=dr(oo.G[2][oo.H[2]+jc],0,cl),dr(oo.G[3][oo.H[3]+jc],24,cl))}}}fi.vc=fr,fi.Wb=yr,fi.Ya=qi,fi.yc=Qi,jt=1;break t}jt=0}if(!(se=jt)){V.a=3;break e}if(0<Fe){if(ve.ua=1<<Fe,!de(ve.Wa,Fe)){V.a=1,se=0;break e}}else ve.ua=0;var Km=V,Gm=oe,Wx=ce,Ym=Km.s,Xm=Ym.xc;if(Km.c=Gm,Km.i=Wx,Ym.md=Ye(Gm,Xm),Ym.wc=Xm==0?-1:(1<<Xm)-1,$){V.xb=Bl;break e}if((ke=s(oe*ce))==null){V.a=1,se=0;break e}se=(se=Ds(V,ke,0,oe,ce,ce,null))&&!fe.h;break e}return se?(ee!=null?ee[0]=ke:(e(ke==null),e($)),V.$=0,$||Xs(ve)):Xs(ve),se}function kl(N,j){var $=N.c*N.i,V=$+j+16*j;return e(N.c<=j),N.V=s(V),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+$+j,1)}function dc(N,j){var $=N.C,V=j-$,ee=N.V,se=N.Ba+N.c*$;for(e(j<=N.l.o);0<V;){var oe=16<V?16:V,ce=N.l.ma,fe=N.l.width,ve=fe*oe,ke=ce.ca,Fe=ce.tb+fe*$,ye=N.Ta,Oe=N.Ua;$r(N,oe,ee,se),dy(ye,Oe,ke,Fe,ve),Ja(ce,$,$+oe,ke,Fe,fe),V-=oe,ee+=oe*N.c,$+=oe}e($==j),N.C=N.Ma=j}function Zs(){this.ub=this.yd=this.td=this.Rb=0}function fc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mf(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function zr(){this.Yb=(function(){var N=[];return(function j($,V,ee){for(var se=ee[V],oe=0;oe<se&&($.push(ee.length>V+1?[]:0),!(ee.length<V+1));oe++)j($[oe],V+1,ee)})(N,0,[3,11]),N})()}function gf(){this.jb=s(3),this.Wc=o([4,8],zr),this.Xc=o([4,17],zr)}function lu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function xs(){this.ld=this.La=this.dd=this.tc=0}function jl(){this.Na=this.la=0}function yt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function nn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Un(){this.uc=this.M=this.Nb=0,this.wa=Array(new xs),this.Y=0,this.ya=Array(new nn),this.aa=0,this.l=new Mr}function Qn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ui(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Zs,this.Kc=new fc,this.ed=new lu,this.Qa=new mf,this.Ic=this.$c=this.Aa=0,this.D=new Un,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,yt),this.Pa=new gf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qn),this.Hd=0,this.rb=Array(new jl),this.sb=0,this.wa=Array(new xs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new nn),this.L=this.aa=0,this.gd=o([4,2],xs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function wo(){var N=new ui;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Nd||(Nd=ga)),N}function ei(N,j,$){return N.a==0&&(N.a=j,N.sc=$,N.cb=0),0}function ws(N,j,$){return 3<=$&&N[j+0]==157&&N[j+1]==1&&N[j+2]==42}function Ss(N,j){if(N==null)return 0;if(N.a=0,N.sc="OK",j==null)return ei(N,2,"null VP8Io passed to VP8GetHeaders()");var $=j.data,V=j.w,ee=j.ha;if(4>ee)return ei(N,7,"Truncated header.");var se=$[V+0]|$[V+1]<<8|$[V+2]<<16,oe=N.Od;if(oe.Rb=!(1&se),oe.td=se>>1&7,oe.yd=se>>4&1,oe.ub=se>>5,3<oe.td)return ei(N,3,"Incorrect keyframe parameters.");if(!oe.yd)return ei(N,4,"Frame not displayable.");V+=3,ee-=3;var ce=N.Kc;if(oe.Rb){if(7>ee)return ei(N,7,"cannot parse picture header");if(!ws($,V,ee))return ei(N,3,"Bad code word");ce.c=16383&($[V+4]<<8|$[V+3]),ce.Td=$[V+4]>>6,ce.i=16383&($[V+6]<<8|$[V+5]),ce.Ud=$[V+6]>>6,V+=7,ee-=7,N.za=ce.c+15>>4,N.Ub=ce.i+15>>4,j.width=ce.c,j.height=ce.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,i((se=N.Pa).jb,0,255,se.jb.length),e((se=N.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(oe.ub>ee)return ei(N,7,"bad partition length");Z(se=N.m,$,V,oe.ub),V+=oe.ub,ee-=oe.ub,oe.Rb&&(ce.Ld=ae(se),ce.Kd=ae(se)),ce=N.Qa;var fe,ve=N.Pa;if(e(se!=null),e(ce!=null),ce.Cb=ae(se),ce.Cb){if(ce.Bb=ae(se),ae(se)){for(ce.Fb=ae(se),fe=0;4>fe;++fe)ce.Zb[fe]=ae(se)?W(se,7):0;for(fe=0;4>fe;++fe)ce.Lb[fe]=ae(se)?W(se,6):0}if(ce.Bb)for(fe=0;3>fe;++fe)ve.jb[fe]=ae(se)?H(se,8):255}else ce.Bb=0;if(se.Ka)return ei(N,3,"cannot parse segment header");if((ce=N.ed).zd=ae(se),ce.Tb=H(se,6),ce.wb=H(se,3),ce.Pc=ae(se),ce.Pc&&ae(se)){for(ve=0;4>ve;++ve)ae(se)&&(ce.vd[ve]=W(se,6));for(ve=0;4>ve;++ve)ae(se)&&(ce.od[ve]=W(se,6))}if(N.L=ce.Tb==0?0:ce.zd?1:2,se.Ka)return ei(N,3,"cannot parse filter header");var ke=ee;if(ee=fe=V,V=fe+ke,ce=ke,N.Xb=(1<<H(N.m,2))-1,ke<3*(ve=N.Xb))$=7;else{for(fe+=3*ve,ce-=3*ve,ke=0;ke<ve;++ke){var Fe=$[ee+0]|$[ee+1]<<8|$[ee+2]<<16;Fe>ce&&(Fe=ce),Z(N.Jc[+ke],$,fe,Fe),fe+=Fe,ce-=Fe,ee+=3}Z(N.Jc[+ve],$,fe,ce),$=fe<V?0:5}if($!=0)return ei(N,$,"cannot parse partitions");for($=H(fe=N.m,7),ee=ae(fe)?W(fe,4):0,V=ae(fe)?W(fe,4):0,ce=ae(fe)?W(fe,4):0,ve=ae(fe)?W(fe,4):0,fe=ae(fe)?W(fe,4):0,ke=N.Qa,Fe=0;4>Fe;++Fe){if(ke.Cb){var ye=ke.Zb[Fe];ke.Fb||(ye+=$)}else{if(0<Fe){N.pb[Fe]=N.pb[0];continue}ye=$}var Oe=N.pb[Fe];Oe.Sc[0]=Tf[ki(ye+ee,127)],Oe.Sc[1]=cp[ki(ye+0,127)],Oe.Eb[0]=2*Tf[ki(ye+V,127)],Oe.Eb[1]=101581*cp[ki(ye+ce,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=Tf[ki(ye+ve,117)],Oe.Qc[1]=cp[ki(ye+fe,127)],Oe.lc=ye+fe}if(!oe.Rb)return ei(N,4,"Not a key frame.");for(ae(se),oe=N.Pa,$=0;4>$;++$){for(ee=0;8>ee;++ee)for(V=0;3>V;++V)for(ce=0;11>ce;++ce)ve=X(se,uE[$][ee][V][ce])?H(se,8):Bx[$][ee][V][ce],oe.Wc[$][ee].Yb[V][ce]=ve;for(ee=0;17>ee;++ee)oe.Xc[$][ee]=oe.Wc[$][by[ee]]}return N.kc=ae(se),N.kc&&(N.Bd=H(se,8)),N.cb=1}function ga(N,j,$,V,ee,se,oe){var ce=j[ee].Yb[$];for($=0;16>ee;++ee){if(!X(N,ce[$+0]))return ee;for(;!X(N,ce[$+1]);)if(ce=j[++ee].Yb[0],$=0,ee==16)return 16;var fe=j[ee+1].Yb;if(X(N,ce[$+2])){var ve=N,ke=0;if(X(ve,(ye=ce)[(Fe=$)+3]))if(X(ve,ye[Fe+6])){for(ce=0,Fe=2*(ke=X(ve,ye[Fe+8]))+(ye=X(ve,ye[Fe+9+ke])),ke=0,ye=vy[Fe];ye[ce];++ce)ke+=ke+X(ve,ye[ce]);ke+=3+(8<<Fe)}else X(ve,ye[Fe+7])?(ke=7+2*X(ve,165),ke+=X(ve,145)):ke=5+X(ve,159);else ke=X(ve,ye[Fe+4])?3+X(ve,ye[Fe+5]):2;ce=fe[2]}else ke=1,ce=fe[1];fe=oe+yy[ee],0>(ve=N).b&&ue(ve);var Fe,ye=ve.b,Oe=(Fe=ve.Ca>>1)-(ve.I>>ye)>>31;--ve.b,ve.Ca+=Oe,ve.Ca|=1,ve.I-=(Fe+1&Oe)<<ye,se[fe]=((ke^Oe)-Oe)*V[(0<ee)+0]}return 16}function ja(N){var j=N.rb[N.sb-1];j.la=0,j.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Ls(N,j,$,V,ee){ee=N[j+$+32*V]+(ee>>3),N[j+$+32*V]=-256&ee?0>ee?0:255:ee}function hc(N,j,$,V,ee,se){Ls(N,j,0,$,V+ee),Ls(N,j,1,$,V+se),Ls(N,j,2,$,V-se),Ls(N,j,3,$,V-ee)}function yi(N){return(20091*N>>16)+N}function pc(N,j,$,V){var ee,se=0,oe=s(16);for(ee=0;4>ee;++ee){var ce=N[j+0]+N[j+8],fe=N[j+0]-N[j+8],ve=(35468*N[j+4]>>16)-yi(N[j+12]),ke=yi(N[j+4])+(35468*N[j+12]>>16);oe[se+0]=ce+ke,oe[se+1]=fe+ve,oe[se+2]=fe-ve,oe[se+3]=ce-ke,se+=4,j++}for(ee=se=0;4>ee;++ee)ce=(N=oe[se+0]+4)+oe[se+8],fe=N-oe[se+8],ve=(35468*oe[se+4]>>16)-yi(oe[se+12]),Ls($,V,0,0,ce+(ke=yi(oe[se+4])+(35468*oe[se+12]>>16))),Ls($,V,1,0,fe+ve),Ls($,V,2,0,fe-ve),Ls($,V,3,0,ce-ke),se++,V+=32}function vf(N,j,$,V){var ee=N[j+0]+4,se=35468*N[j+4]>>16,oe=yi(N[j+4]),ce=35468*N[j+1]>>16;hc($,V,0,ee+oe,N=yi(N[j+1]),ce),hc($,V,1,ee+se,N,ce),hc($,V,2,ee-se,N,ce),hc($,V,3,ee-oe,N,ce)}function Tl(N,j,$,V,ee){pc(N,j,$,V),ee&&pc(N,j+16,$,V+4)}function Ol(N,j,$,V){yd(N,j+0,$,V,1),yd(N,j+32,$,V+128,1)}function Fi(N,j,$,V){var ee;for(N=N[j+0]+4,ee=0;4>ee;++ee)for(j=0;4>j;++j)Ls($,V,j,ee,N)}function cu(N,j,$,V){N[j+0]&&vr(N,j+0,$,V),N[j+16]&&vr(N,j+16,$,V+4),N[j+32]&&vr(N,j+32,$,V+128),N[j+48]&&vr(N,j+48,$,V+128+4)}function ir(N,j,$,V){var ee,se=s(16);for(ee=0;4>ee;++ee){var oe=N[j+0+ee]+N[j+12+ee],ce=N[j+4+ee]+N[j+8+ee],fe=N[j+4+ee]-N[j+8+ee],ve=N[j+0+ee]-N[j+12+ee];se[0+ee]=oe+ce,se[8+ee]=oe-ce,se[4+ee]=ve+fe,se[12+ee]=ve-fe}for(ee=0;4>ee;++ee)oe=(N=se[0+4*ee]+3)+se[3+4*ee],ce=se[1+4*ee]+se[2+4*ee],fe=se[1+4*ee]-se[2+4*ee],ve=N-se[3+4*ee],$[V+0]=oe+ce>>3,$[V+16]=ve+fe>>3,$[V+32]=oe-ce>>3,$[V+48]=ve-fe>>3,V+=64}function yn(N,j,$){var V,ee=j-32,se=ya,oe=255-N[ee-1];for(V=0;V<$;++V){var ce,fe=se,ve=oe+N[j-1];for(ce=0;ce<$;++ce)N[j+ce]=fe[ve+N[ee+ce]];j+=32}}function mc(N,j){yn(N,j,4)}function bi(N,j){yn(N,j,8)}function mr(N,j){yn(N,j,16)}function gc(N,j){var $;for($=0;16>$;++$)r(N,j+32*$,N,j-32,16)}function Ta(N,j){var $;for($=16;0<$;--$)i(N,j,N[j-1],16),j+=32}function to(N,j,$){var V;for(V=0;16>V;++V)i(j,$+32*V,N,16)}function va(N,j){var $,V=16;for($=0;16>$;++$)V+=N[j-1+32*$]+N[j+$-32];to(V>>5,N,j)}function kt(N,j){var $,V=8;for($=0;16>$;++$)V+=N[j-1+32*$];to(V>>4,N,j)}function Bt(N,j){var $,V=8;for($=0;16>$;++$)V+=N[j+$-32];to(V>>4,N,j)}function wn(N,j){to(128,N,j)}function Ot(N,j,$){return N+2*j+$+2>>2}function di(N,j){var $,V=j-32;for(V=new Uint8Array([Ot(N[V-1],N[V+0],N[V+1]),Ot(N[V+0],N[V+1],N[V+2]),Ot(N[V+1],N[V+2],N[V+3]),Ot(N[V+2],N[V+3],N[V+4])]),$=0;4>$;++$)r(N,j+32*$,V,0,V.length)}function Gi(N,j){var $=N[j-1],V=N[j-1+32],ee=N[j-1+64],se=N[j-1+96];pe(N,j+0,16843009*Ot(N[j-1-32],$,V)),pe(N,j+32,16843009*Ot($,V,ee)),pe(N,j+64,16843009*Ot(V,ee,se)),pe(N,j+96,16843009*Ot(ee,se,se))}function Kh(N,j){var $,V=4;for($=0;4>$;++$)V+=N[j+$-32]+N[j-1+32*$];for(V>>=3,$=0;4>$;++$)i(N,j+32*$,V,4)}function yf(N,j){var $=N[j-1+0],V=N[j-1+32],ee=N[j-1+64],se=N[j-1-32],oe=N[j+0-32],ce=N[j+1-32],fe=N[j+2-32],ve=N[j+3-32];N[j+0+96]=Ot(V,ee,N[j-1+96]),N[j+1+96]=N[j+0+64]=Ot($,V,ee),N[j+2+96]=N[j+1+64]=N[j+0+32]=Ot(se,$,V),N[j+3+96]=N[j+2+64]=N[j+1+32]=N[j+0+0]=Ot(oe,se,$),N[j+3+64]=N[j+2+32]=N[j+1+0]=Ot(ce,oe,se),N[j+3+32]=N[j+2+0]=Ot(fe,ce,oe),N[j+3+0]=Ot(ve,fe,ce)}function no(N,j){var $=N[j+1-32],V=N[j+2-32],ee=N[j+3-32],se=N[j+4-32],oe=N[j+5-32],ce=N[j+6-32],fe=N[j+7-32];N[j+0+0]=Ot(N[j+0-32],$,V),N[j+1+0]=N[j+0+32]=Ot($,V,ee),N[j+2+0]=N[j+1+32]=N[j+0+64]=Ot(V,ee,se),N[j+3+0]=N[j+2+32]=N[j+1+64]=N[j+0+96]=Ot(ee,se,oe),N[j+3+32]=N[j+2+64]=N[j+1+96]=Ot(se,oe,ce),N[j+3+64]=N[j+2+96]=Ot(oe,ce,fe),N[j+3+96]=Ot(ce,fe,fe)}function vc(N,j){var $=N[j-1+0],V=N[j-1+32],ee=N[j-1+64],se=N[j-1-32],oe=N[j+0-32],ce=N[j+1-32],fe=N[j+2-32],ve=N[j+3-32];N[j+0+0]=N[j+1+64]=se+oe+1>>1,N[j+1+0]=N[j+2+64]=oe+ce+1>>1,N[j+2+0]=N[j+3+64]=ce+fe+1>>1,N[j+3+0]=fe+ve+1>>1,N[j+0+96]=Ot(ee,V,$),N[j+0+64]=Ot(V,$,se),N[j+0+32]=N[j+1+96]=Ot($,se,oe),N[j+1+32]=N[j+2+96]=Ot(se,oe,ce),N[j+2+32]=N[j+3+96]=Ot(oe,ce,fe),N[j+3+32]=Ot(ce,fe,ve)}function Pm(N,j){var $=N[j+0-32],V=N[j+1-32],ee=N[j+2-32],se=N[j+3-32],oe=N[j+4-32],ce=N[j+5-32],fe=N[j+6-32],ve=N[j+7-32];N[j+0+0]=$+V+1>>1,N[j+1+0]=N[j+0+64]=V+ee+1>>1,N[j+2+0]=N[j+1+64]=ee+se+1>>1,N[j+3+0]=N[j+2+64]=se+oe+1>>1,N[j+0+32]=Ot($,V,ee),N[j+1+32]=N[j+0+96]=Ot(V,ee,se),N[j+2+32]=N[j+1+96]=Ot(ee,se,oe),N[j+3+32]=N[j+2+96]=Ot(se,oe,ce),N[j+3+64]=Ot(oe,ce,fe),N[j+3+96]=Ot(ce,fe,ve)}function bf(N,j){var $=N[j-1+0],V=N[j-1+32],ee=N[j-1+64],se=N[j-1+96];N[j+0+0]=$+V+1>>1,N[j+2+0]=N[j+0+32]=V+ee+1>>1,N[j+2+32]=N[j+0+64]=ee+se+1>>1,N[j+1+0]=Ot($,V,ee),N[j+3+0]=N[j+1+32]=Ot(V,ee,se),N[j+3+32]=N[j+1+64]=Ot(ee,se,se),N[j+3+64]=N[j+2+64]=N[j+0+96]=N[j+1+96]=N[j+2+96]=N[j+3+96]=se}function sd(N,j){var $=N[j-1+0],V=N[j-1+32],ee=N[j-1+64],se=N[j-1+96],oe=N[j-1-32],ce=N[j+0-32],fe=N[j+1-32],ve=N[j+2-32];N[j+0+0]=N[j+2+32]=$+oe+1>>1,N[j+0+32]=N[j+2+64]=V+$+1>>1,N[j+0+64]=N[j+2+96]=ee+V+1>>1,N[j+0+96]=se+ee+1>>1,N[j+3+0]=Ot(ce,fe,ve),N[j+2+0]=Ot(oe,ce,fe),N[j+1+0]=N[j+3+32]=Ot($,oe,ce),N[j+1+32]=N[j+3+64]=Ot(V,$,oe),N[j+1+64]=N[j+3+96]=Ot(ee,V,$),N[j+1+96]=Ot(se,ee,V)}function Gh(N,j){var $;for($=0;8>$;++$)r(N,j+32*$,N,j-32,8)}function el(N,j){var $;for($=0;8>$;++$)i(N,j,N[j-1],8),j+=32}function Pl(N,j,$){var V;for(V=0;8>V;++V)i(j,$+32*V,N,8)}function tl(N,j){var $,V=8;for($=0;8>$;++$)V+=N[j+$-32]+N[j-1+32*$];Pl(V>>4,N,j)}function xf(N,j){var $,V=4;for($=0;8>$;++$)V+=N[j+$-32];Pl(V>>3,N,j)}function Yh(N,j){var $,V=4;for($=0;8>$;++$)V+=N[j-1+32*$];Pl(V>>3,N,j)}function Xh(N,j){Pl(128,N,j)}function yc(N,j,$){var V=N[j-$],ee=N[j+0],se=3*(ee-V)+Fl[1020+N[j-2*$]-N[j+$]],oe=kf[112+(se+4>>3)];N[j-$]=ya[255+V+kf[112+(se+3>>3)]],N[j+0]=ya[255+ee-oe]}function Ml(N,j,$,V){var ee=N[j+0],se=N[j+$];return ko[255+N[j-2*$]-N[j-$]]>V||ko[255+se-ee]>V}function ad(N,j,$,V){return 4*ko[255+N[j-$]-N[j+0]]+ko[255+N[j-2*$]-N[j+$]]<=V}function od(N,j,$,V,ee){var se=N[j-3*$],oe=N[j-2*$],ce=N[j-$],fe=N[j+0],ve=N[j+$],ke=N[j+2*$],Fe=N[j+3*$];return 4*ko[255+ce-fe]+ko[255+oe-ve]>V?0:ko[255+N[j-4*$]-se]<=ee&&ko[255+se-oe]<=ee&&ko[255+oe-ce]<=ee&&ko[255+Fe-ke]<=ee&&ko[255+ke-ve]<=ee&&ko[255+ve-fe]<=ee}function So(N,j,$,V){var ee=2*V+1;for(V=0;16>V;++V)ad(N,j+V,$,ee)&&yc(N,j+V,$)}function bc(N,j,$,V){var ee=2*V+1;for(V=0;16>V;++V)ad(N,j+V*$,1,ee)&&yc(N,j+V*$,1)}function ld(N,j,$,V){var ee;for(ee=3;0<ee;--ee)So(N,j+=4*$,$,V)}function Zh(N,j,$,V){var ee;for(ee=3;0<ee;--ee)bc(N,j+=4,$,V)}function No(N,j,$,V,ee,se,oe,ce){for(se=2*se+1;0<ee--;){if(od(N,j,$,se,oe))if(Ml(N,j,$,ce))yc(N,j,$);else{var fe=N,ve=j,ke=$,Fe=fe[ve-2*ke],ye=fe[ve-ke],Oe=fe[ve+0],Ie=fe[ve+ke],Je=fe[ve+2*ke],$e=27*(Ze=Fl[1020+3*(Oe-ye)+Fl[1020+Fe-Ie]])+63>>7,Xe=18*Ze+63>>7,Ze=9*Ze+63>>7;fe[ve-3*ke]=ya[255+fe[ve-3*ke]+Ze],fe[ve-2*ke]=ya[255+Fe+Xe],fe[ve-ke]=ya[255+ye+$e],fe[ve+0]=ya[255+Oe-$e],fe[ve+ke]=ya[255+Ie-Xe],fe[ve+2*ke]=ya[255+Je-Ze]}j+=V}}function _o(N,j,$,V,ee,se,oe,ce){for(se=2*se+1;0<ee--;){if(od(N,j,$,se,oe))if(Ml(N,j,$,ce))yc(N,j,$);else{var fe=N,ve=j,ke=$,Fe=fe[ve-ke],ye=fe[ve+0],Oe=fe[ve+ke],Ie=kf[112+(4+(Je=3*(ye-Fe))>>3)],Je=kf[112+(Je+3>>3)],$e=Ie+1>>1;fe[ve-2*ke]=ya[255+fe[ve-2*ke]+$e],fe[ve-ke]=ya[255+Fe+Je],fe[ve+0]=ya[255+ye-Ie],fe[ve+ke]=ya[255+Oe-$e]}j+=V}}function Qh(N,j,$,V,ee,se){No(N,j,$,1,16,V,ee,se)}function Qs(N,j,$,V,ee,se){No(N,j,1,$,16,V,ee,se)}function Eo(N,j,$,V,ee,se){var oe;for(oe=3;0<oe;--oe)_o(N,j+=4*$,$,1,16,V,ee,se)}function wf(N,j,$,V,ee,se){var oe;for(oe=3;0<oe;--oe)_o(N,j+=4,1,$,16,V,ee,se)}function D(N,j,$,V,ee,se,oe,ce){No(N,j,ee,1,8,se,oe,ce),No($,V,ee,1,8,se,oe,ce)}function te(N,j,$,V,ee,se,oe,ce){No(N,j,1,ee,8,se,oe,ce),No($,V,1,ee,8,se,oe,ce)}function be(N,j,$,V,ee,se,oe,ce){_o(N,j+4*ee,ee,1,8,se,oe,ce),_o($,V+4*ee,ee,1,8,se,oe,ce)}function Ae(N,j,$,V,ee,se,oe,ce){_o(N,j+4,1,ee,8,se,oe,ce),_o($,V+4,1,ee,8,se,oe,ce)}function Me(){this.ba=new pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new we,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zt(){this.ua=0,this.Wa=new Nt,this.vb=new Nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new q}function ln(){this.xb=this.a=0,this.l=new Mr,this.ca=new pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zt,this.ab=0,this.gc=a(4,ut),this.Oc=0}function Rn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(N,j,$,V,ee,se,oe){for(N=N==null?0:N[j+0],j=0;j<oe;++j)ee[se+j]=N+$[V+j]&255,N=ee[se+j]}function gr(N,j,$,V,ee,se,oe){var ce;if(N==null)In(null,null,$,V,ee,se,oe);else for(ce=0;ce<oe;++ce)ee[se+ce]=N[j+ce]+$[V+ce]&255}function xi(N,j,$,V,ee,se,oe){if(N==null)In(null,null,$,V,ee,se,oe);else{var ce,fe=N[j+0],ve=fe,ke=fe;for(ce=0;ce<oe;++ce)ve=ke+(fe=N[j+ce])-ve,ke=$[V+ce]+(-256&ve?0>ve?0:255:ve)&255,ve=fe,ee[se+ce]=ke}}function Yi(N,j,$,V){var ee=j.width,se=j.o;if(e(N!=null&&j!=null),0>$||0>=V||$+V>se)return null;if(!N.Cc){if(N.ga==null){var oe;if(N.ga=new Rn,(oe=N.ga==null)||(oe=j.width*j.o,e(N.Gb.length==0),N.Gb=s(oe),N.Uc=0,N.Gb==null?oe=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,oe=1),oe=!oe),!oe){oe=N.ga;var ce=N.Fa,fe=N.P,ve=N.qc,ke=N.mb,Fe=N.nb,ye=fe+1,Oe=ve-1,Ie=oe.l;if(e(ce!=null&&ke!=null&&j!=null),ea[0]=null,ea[1]=In,ea[2]=gr,ea[3]=xi,oe.ca=ke,oe.tb=Fe,oe.c=j.width,oe.i=j.height,e(0<oe.c&&0<oe.i),1>=ve)j=0;else if(oe.$a=3&ce[fe+0],oe.Z=ce[fe+0]>>2&3,oe.Lc=ce[fe+0]>>4&3,fe=ce[fe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||fe)j=0;else if(Ie.put=le,Ie.ac=Tn,Ie.bc=Le,Ie.ma=oe,Ie.width=j.width,Ie.height=j.height,Ie.Da=j.Da,Ie.v=j.v,Ie.va=j.va,Ie.j=j.j,Ie.o=j.o,oe.$a)e:{e(oe.$a==1),j=xo();t:for(;;){if(j==null){j=0;break e}if(e(oe!=null),oe.mc=j,j.c=oe.c,j.i=oe.i,j.l=oe.l,j.l.ma=oe,j.l.width=oe.c,j.l.height=oe.i,j.a=0,Y(j.m,ce,ye,Oe),!eo(oe.c,oe.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&Li(j.s)?(oe.ic=1,ce=j.c*j.i,j.Ta=null,j.Ua=0,j.V=s(ce),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(oe.ic=0,j=kl(j,oe.c)),!j))break t;j=1;break e}oe.mc=null,j=0}else j=Oe>=oe.c*oe.i;oe=!j}if(oe)return null;N.ga.Lc!=1?N.Ga=0:V=se-$}e(N.ga!=null),e($+V<=se);e:{if(j=(ce=N.ga).c,se=ce.l.o,ce.$a==0){if(ye=N.rc,Oe=N.Vc,Ie=N.Fa,fe=N.P+1+$*j,ve=N.mb,ke=N.nb+$*j,e(fe<=N.P+N.qc),ce.Z!=0)for(e(ea[ce.Z]!=null),oe=0;oe<V;++oe)ea[ce.Z](ye,Oe,Ie,fe,ve,ke,j),ye=ve,Oe=ke,ke+=j,fe+=j;else for(oe=0;oe<V;++oe)r(ve,ke,Ie,fe,j),ye=ve,Oe=ke,ke+=j,fe+=j;N.rc=ye,N.Vc=Oe}else{if(e(ce.mc!=null),j=$+V,e((oe=ce.mc)!=null),e(j<=oe.i),oe.C>=j)j=1;else if(ce.ic||Co(),ce.ic){ce=oe.V,ye=oe.Ba,Oe=oe.c;var Je=oe.i,$e=(Ie=1,fe=oe.$/Oe,ve=oe.$%Oe,ke=oe.m,Fe=oe.s,oe.$),Xe=Oe*Je,Ze=Oe*j,rt=Fe.wc,st=$e<Ze?nr(Fe,ve,fe):null;e($e<=Xe),e(j<=Je),e(Li(Fe));t:for(;;){for(;!ke.h&&$e<Ze;){if(ve&rt||(st=nr(Fe,ve,fe)),e(st!=null),J(ke),256>(Je=mn(st.G[0],st.H[0],ke)))ce[ye+$e]=Je,++$e,++ve>=Oe&&(ve=0,++fe<=j&&!(fe%16)&&Ai(oe,fe));else{if(!(280>Je)){Ie=0;break t}Je=Rt(Je-256,ke);var cn,Kt=mn(st.G[4],st.H[4],ke);if(J(ke),!($e>=(Kt=qn(Oe,Kt=Rt(Kt,ke)))&&Xe-$e>=Je)){Ie=0;break t}for(cn=0;cn<Je;++cn)ce[ye+$e+cn]=ce[ye+$e+cn-Kt];for($e+=Je,ve+=Je;ve>=Oe;)ve-=Oe,++fe<=j&&!(fe%16)&&Ai(oe,fe);$e<Ze&&ve&rt&&(st=nr(Fe,ve,fe))}e(ke.h==ie(ke))}Ai(oe,fe>j?j:fe);break t}!Ie||ke.h&&$e<Xe?(Ie=0,oe.a=ke.h?5:3):oe.$=$e,j=Ie}else j=Ds(oe,oe.V,oe.Ba,oe.c,oe.i,j,dc);if(!j){V=0;break e}}$+V>=se&&(N.Cc=1),V=1}if(!V)return null;if(N.Cc&&((V=N.ga)!=null&&(V.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+$*ee}function Yr(N,j,$,V,ee,se){for(;0<ee--;){var oe,ce=N,fe=j+($?1:0),ve=N,ke=j+($?0:3);for(oe=0;oe<V;++oe){var Fe=ve[ke+4*oe];Fe!=255&&(Fe*=32897,ce[fe+4*oe+0]=ce[fe+4*oe+0]*Fe>>23,ce[fe+4*oe+1]=ce[fe+4*oe+1]*Fe>>23,ce[fe+4*oe+2]=ce[fe+4*oe+2]*Fe>>23)}j+=se}}function fs(N,j,$,V,ee){for(;0<V--;){var se;for(se=0;se<$;++se){var oe=N[j+2*se+0],ce=15&(ve=N[j+2*se+1]),fe=4369*ce,ve=(240&ve|ve>>4)*fe>>16;N[j+2*se+0]=(240&oe|oe>>4)*fe>>16&240|(15&oe|oe<<4)*fe>>16>>4&15,N[j+2*se+1]=240&ve|ce}j+=ee}}function Bi(N,j,$,V,ee,se,oe,ce){var fe,ve,ke=255;for(ve=0;ve<ee;++ve){for(fe=0;fe<V;++fe){var Fe=N[j+fe];se[oe+4*fe]=Fe,ke&=Fe}j+=$,oe+=ce}return ke!=255}function Fs(N,j,$,V,ee){var se;for(se=0;se<ee;++se)$[V+se]=N[j+se]>>8}function Co(){xd=Yr,uy=fs,rp=Bi,dy=Fs}function Oa(N,j,$){M[N]=function(V,ee,se,oe,ce,fe,ve,ke,Fe,ye,Oe,Ie,Je,$e,Xe,Ze,rt){var st,cn=rt-1>>1,Kt=ce[fe+0]|ve[ke+0]<<16,Hn=Fe[ye+0]|Oe[Ie+0]<<16;e(V!=null);var Qt=3*Kt+Hn+131074>>2;for(j(V[ee+0],255&Qt,Qt>>16,Je,$e),se!=null&&(Qt=3*Hn+Kt+131074>>2,j(se[oe+0],255&Qt,Qt>>16,Xe,Ze)),st=1;st<=cn;++st){var sr=ce[fe+st]|ve[ke+st]<<16,Oi=Fe[ye+st]|Oe[Ie+st]<<16,Gn=Kt+sr+Hn+Oi+524296,Gt=Gn+2*(sr+Hn)>>3;Qt=Gt+Kt>>1,Kt=(Gn=Gn+2*(Kt+Oi)>>3)+sr>>1,j(V[ee+2*st-1],255&Qt,Qt>>16,Je,$e+(2*st-1)*$),j(V[ee+2*st-0],255&Kt,Kt>>16,Je,$e+(2*st-0)*$),se!=null&&(Qt=Gn+Hn>>1,Kt=Gt+Oi>>1,j(se[oe+2*st-1],255&Qt,Qt>>16,Xe,Ze+(2*st-1)*$),j(se[oe+2*st+0],255&Kt,Kt>>16,Xe,Ze+(2*st+0)*$)),Kt=sr,Hn=Oi}1&rt||(Qt=3*Kt+Hn+131074>>2,j(V[ee+rt-1],255&Qt,Qt>>16,Je,$e+(rt-1)*$),se!=null&&(Qt=3*Hn+Kt+131074>>2,j(se[oe+rt-1],255&Qt,Qt>>16,Xe,Ze+(rt-1)*$)))}}function Mm(){Ra[Lm]=dE,Ra[yu]=bu,Ra[Ix]=fE,Ra[ip]=Pf,Ra[sp]=_d,Ra[qr]=up,Ra[Fm]=xy,Ra[jf]=bu,Ra[wd]=Pf,Ra[ap]=_d,Ra[op]=up}function uu(N){return N&-16384?0>N?0:255:N>>xu}function cd(N,j){return uu((19077*N>>8)+(26149*j>>8)-14234)}function du(N,j,$){return uu((19077*N>>8)-(6419*j>>8)-(13320*$>>8)+8708)}function ud(N,j){return uu((19077*N>>8)+(33050*j>>8)-17685)}function fu(N,j,$,V,ee){V[ee+0]=cd(N,$),V[ee+1]=du(N,j,$),V[ee+2]=ud(N,j)}function dd(N,j,$,V,ee){V[ee+0]=ud(N,j),V[ee+1]=du(N,j,$),V[ee+2]=cd(N,$)}function Js(N,j,$,V,ee){var se=du(N,j,$);j=se<<3&224|ud(N,j)>>3,V[ee+0]=248&cd(N,$)|se>>5,V[ee+1]=j}function fd(N,j,$,V,ee){var se=240&ud(N,j)|15;V[ee+0]=240&cd(N,$)|du(N,j,$)>>4,V[ee+1]=se}function hd(N,j,$,V,ee){V[ee+0]=255,fu(N,j,$,V,ee+1)}function Jh(N,j,$,V,ee){dd(N,j,$,V,ee),V[ee+3]=255}function ep(N,j,$,V,ee){fu(N,j,$,V,ee),V[ee+3]=255}function ki(N,j){return 0>N?0:N>j?j:N}function nl(N,j,$){M[N]=function(V,ee,se,oe,ce,fe,ve,ke,Fe){for(var ye=ke+(-2&Fe)*$;ke!=ye;)j(V[ee+0],se[oe+0],ce[fe+0],ve,ke),j(V[ee+1],se[oe+0],ce[fe+0],ve,ke+$),ee+=2,++oe,++fe,ke+=2*$;1&Fe&&j(V[ee+0],se[oe+0],ce[fe+0],ve,ke)}}function Rl(N,j,$){return $==0?N==0?j==0?6:5:j==0?4:0:$}function Rm(N,j,$,V,ee){switch(N>>>30){case 3:yd(j,$,V,ee,0);break;case 2:ji(j,$,V,ee);break;case 1:vr(j,$,V,ee)}}function ro(N,j){var $,V,ee=j.M,se=j.Nb,oe=N.oc,ce=N.pc+40,fe=N.oc,ve=N.pc+584,ke=N.oc,Fe=N.pc+600;for($=0;16>$;++$)oe[ce+32*$-1]=129;for($=0;8>$;++$)fe[ve+32*$-1]=129,ke[Fe+32*$-1]=129;for(0<ee?oe[ce-1-32]=fe[ve-1-32]=ke[Fe-1-32]=129:(i(oe,ce-32-1,127,21),i(fe,ve-32-1,127,9),i(ke,Fe-32-1,127,9)),V=0;V<N.za;++V){var ye=j.ya[j.aa+V];if(0<V){for($=-1;16>$;++$)r(oe,ce+32*$-4,oe,ce+32*$+12,4);for($=-1;8>$;++$)r(fe,ve+32*$-4,fe,ve+32*$+4,4),r(ke,Fe+32*$-4,ke,Fe+32*$+4,4)}var Oe=N.Gd,Ie=N.Hd+V,Je=ye.ad,$e=ye.Hc;if(0<ee&&(r(oe,ce-32,Oe[Ie].y,0,16),r(fe,ve-32,Oe[Ie].f,0,8),r(ke,Fe-32,Oe[Ie].ea,0,8)),ye.Za){var Xe=oe,Ze=ce-32+16;for(0<ee&&(V>=N.za-1?i(Xe,Ze,Oe[Ie].y[15],4):r(Xe,Ze,Oe[Ie+1].y,0,4)),$=0;4>$;$++)Xe[Ze+128+$]=Xe[Ze+256+$]=Xe[Ze+384+$]=Xe[Ze+0+$];for($=0;16>$;++$,$e<<=2)Xe=oe,Ze=ce+wy[$],jo[ye.Ob[$]](Xe,Ze),Rm($e,Je,16*+$,Xe,Ze)}else if(Xe=Rl(V,ee,ye.Ob[0]),ba[Xe](oe,ce),$e!=0)for($=0;16>$;++$,$e<<=2)Rm($e,Je,16*+$,oe,ce+wy[$]);for($=ye.Gc,Xe=Rl(V,ee,ye.Dd),Ma[Xe](fe,ve),Ma[Xe](ke,Fe),$e=Je,Xe=fe,Ze=ve,255&(ye=0|$)&&(170&ye?Pa($e,256,Xe,Ze):Rr($e,256,Xe,Ze)),ye=ke,$e=Fe,255&($>>=8)&&(170&$?Pa(Je,320,ye,$e):Rr(Je,320,ye,$e)),ee<N.Ub-1&&(r(Oe[Ie].y,0,oe,ce+480,16),r(Oe[Ie].f,0,fe,ve+224,8),r(Oe[Ie].ea,0,ke,Fe+224,8)),$=8*se*N.B,Oe=N.sa,Ie=N.ta+16*V+16*se*N.R,Je=N.qa,ye=N.ra+8*V+$,$e=N.Ha,Xe=N.Ia+8*V+$,$=0;16>$;++$)r(Oe,Ie+$*N.R,oe,ce+32*$,16);for($=0;8>$;++$)r(Je,ye+$*N.B,fe,ve+32*$,8),r($e,Xe+$*N.B,ke,Fe+32*$,8)}}function hu(N,j,$,V,ee,se,oe,ce,fe){var ve=[0],ke=[0],Fe=0,ye=fe!=null?fe.kd:0,Oe=fe??new et;if(N==null||12>$)return 7;Oe.data=N,Oe.w=j,Oe.ha=$,j=[j],$=[$],Oe.gb=[Oe.gb];e:{var Ie=j,Je=$,$e=Oe.gb;if(e(N!=null),e(Je!=null),e($e!=null),$e[0]=0,12<=Je[0]&&!n(N,Ie[0],"RIFF")){if(n(N,Ie[0]+8,"WEBP")){$e=3;break e}var Xe=Ee(N,Ie[0]+4);if(12>Xe||4294967286<Xe){$e=3;break e}if(ye&&Xe>Je[0]-8){$e=7;break e}$e[0]=Xe,Ie[0]+=12,Je[0]-=12}$e=0}if($e!=0)return $e;for(Xe=0<Oe.gb[0],$=$[0];;){e:{var Ze=N;Je=j,$e=$;var rt=ve,st=ke,cn=Ie=[0];if((Qt=Fe=[Fe])[0]=0,8>$e[0])$e=7;else{if(!n(Ze,Je[0],"VP8X")){if(Ee(Ze,Je[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var Kt=Ee(Ze,Je[0]+8),Hn=1+De(Ze,Je[0]+12);if(2147483648<=Hn*(Ze=1+De(Ze,Je[0]+15))){$e=3;break e}cn!=null&&(cn[0]=Kt),rt!=null&&(rt[0]=Hn),st!=null&&(st[0]=Ze),Je[0]+=18,$e[0]-=18,Qt[0]=1}$e=0}}if(Fe=Fe[0],Ie=Ie[0],$e!=0)return $e;if(Je=!!(2&Ie),!Xe&&Fe)return 3;if(se!=null&&(se[0]=!!(16&Ie)),oe!=null&&(oe[0]=Je),ce!=null&&(ce[0]=0),oe=ve[0],Ie=ke[0],Fe&&Je&&fe==null){$e=0;break}if(4>$){$e=7;break}if(Xe&&Fe||!Xe&&!Fe&&!n(N,j[0],"ALPH")){$=[$],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Kt=N,$e=j,Xe=$;var Qt=Oe.gb;rt=Oe.na,st=Oe.P,cn=Oe.Sa,Hn=22,e(Kt!=null),e(Xe!=null),Ze=$e[0];var sr=Xe[0];for(e(rt!=null),e(cn!=null),rt[0]=null,st[0]=null,cn[0]=0;;){if($e[0]=Ze,Xe[0]=sr,8>sr){$e=7;break e}var Oi=Ee(Kt,Ze+4);if(4294967286<Oi){$e=3;break e}var Gn=8+Oi+1&-2;if(Hn+=Gn,0<Qt&&Hn>Qt){$e=3;break e}if(!n(Kt,Ze,"VP8 ")||!n(Kt,Ze,"VP8L")){$e=0;break e}if(sr[0]<Gn){$e=7;break e}n(Kt,Ze,"ALPH")||(rt[0]=Kt,st[0]=Ze+8,cn[0]=Oi),Ze+=Gn,sr-=Gn}}if($=$[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],$e!=0)break}$=[$],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Qt=N,$e=j,Xe=$,rt=Oe.gb[0],st=Oe.Ja,cn=Oe.xa,Kt=$e[0],Ze=!n(Qt,Kt,"VP8 "),Hn=!n(Qt,Kt,"VP8L"),e(Qt!=null),e(Xe!=null),e(st!=null),e(cn!=null),8>Xe[0])$e=7;else{if(Ze||Hn){if(Qt=Ee(Qt,Kt+4),12<=rt&&Qt>rt-12){$e=3;break e}if(ye&&Qt>Xe[0]-8){$e=7;break e}st[0]=Qt,$e[0]+=8,Xe[0]-=8,cn[0]=Hn}else cn[0]=5<=Xe[0]&&Qt[Kt+0]==47&&!(Qt[Kt+4]>>5),st[0]=Xe[0];$e=0}if($=$[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],j=j[0],$e!=0)break;if(4294967286<Oe.Ja)return 3;if(ce==null||Je||(ce[0]=Oe.xa?2:1),oe=[oe],Ie=[Ie],Oe.xa){if(5>$){$e=7;break}ce=oe,ye=Ie,Je=se,N==null||5>$?N=0:5<=$&&N[j+0]==47&&!(N[j+4]>>5)?(Xe=[0],Qt=[0],rt=[0],Y(st=new G,N,j,$),ot(st,Xe,Qt,rt)?(ce!=null&&(ce[0]=Xe[0]),ye!=null&&(ye[0]=Qt[0]),Je!=null&&(Je[0]=rt[0]),N=1):N=0):N=0}else{if(10>$){$e=7;break}ce=Ie,N==null||10>$||!ws(N,j+3,$-3)?N=0:(ye=N[j+0]|N[j+1]<<8|N[j+2]<<16,Je=16383&(N[j+7]<<8|N[j+6]),N=16383&(N[j+9]<<8|N[j+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Oe.Ja||!Je||!N?N=0:(oe&&(oe[0]=Je),ce&&(ce[0]=N),N=1))}if(!N||(oe=oe[0],Ie=Ie[0],Fe&&(ve[0]!=oe||ke[0]!=Ie)))return 3;fe!=null&&(fe[0]=Oe,fe.offset=j-fe.w,e(4294967286>j-fe.w),e(fe.offset==fe.ha-$));break}return $e==0||$e==7&&Fe&&fe==null?(se!=null&&(se[0]|=Oe.na!=null&&0<Oe.na.length),V!=null&&(V[0]=oe),ee!=null&&(ee[0]=Ie),0):$e}function Sf(N,j,$){var V=j.width,ee=j.height,se=0,oe=0,ce=V,fe=ee;if(j.Da=N!=null&&0<N.Da,j.Da&&(ce=N.cd,fe=N.bd,se=N.v,oe=N.j,11>$||(se&=-2,oe&=-2),0>se||0>oe||0>=ce||0>=fe||se+ce>V||oe+fe>ee))return 0;if(j.v=se,j.j=oe,j.va=se+ce,j.o=oe+fe,j.U=ce,j.T=fe,j.da=N!=null&&0<N.da,j.da){if(!it(ce,fe,$=[N.ib],se=[N.hb]))return 0;j.ib=$[0],j.hb=se[0]}return j.ob=N!=null&&N.ob,j.Kb=N==null||!N.Sd,j.da&&(j.ob=j.ib<3*V/4&&j.hb<3*ee/4,j.Kb=0),1}function Nf(N){if(N==null)return 2;if(11>N.S){var j=N.f.RGBA;j.fb+=(N.height-1)*j.A,j.A=-j.A}else j=N.f.kb,N=N.height,j.O+=(N-1)*j.fa,j.fa=-j.fa,j.N+=(N-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(N-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(N-1)*j.lb,j.lb=-j.lb);return 0}function xc(N,j,$,V){if(V==null||0>=N||0>=j)return 2;if($!=null){if($.Da){var ee=$.cd,se=$.bd,oe=-2&$.v,ce=-2&$.j;if(0>oe||0>ce||0>=ee||0>=se||oe+ee>N||ce+se>j)return 2;N=ee,j=se}if($.da){if(!it(N,j,ee=[$.ib],se=[$.hb]))return 2;N=ee[0],j=se[0]}}V.width=N,V.height=j;e:{var fe=V.width,ve=V.height;if(N=V.S,0>=fe||0>=ve||!(N>=Lm&&13>N))N=2;else{if(0>=V.Rd&&V.sd==null){oe=se=ee=j=0;var ke=(ce=fe*dp[N])*ve;if(11>N||(se=(ve+1)/2*(j=(fe+1)/2),N==12&&(oe=(ee=fe)*ve)),(ve=s(ke+2*se+oe))==null){N=1;break e}V.sd=ve,11>N?((fe=V.f.RGBA).eb=ve,fe.fb=0,fe.A=ce,fe.size=ke):((fe=V.f.kb).y=ve,fe.O=0,fe.fa=ce,fe.Fd=ke,fe.f=ve,fe.N=0+ke,fe.Ab=j,fe.Cd=se,fe.ea=ve,fe.W=0+ke+se,fe.Db=j,fe.Ed=se,N==12&&(fe.F=ve,fe.J=0+ke+2*se),fe.Tc=oe,fe.lb=ee)}if(j=1,ee=V.S,se=V.width,oe=V.height,ee>=Lm&&13>ee)if(11>ee)N=V.f.RGBA,j&=(ce=Math.abs(N.A))*(oe-1)+se<=N.size,j&=ce>=se*dp[ee],j&=N.eb!=null;else{N=V.f.kb,ce=(se+1)/2,ke=(oe+1)/2,fe=Math.abs(N.fa),ve=Math.abs(N.Ab);var Fe=Math.abs(N.Db),ye=Math.abs(N.lb),Oe=ye*(oe-1)+se;j&=fe*(oe-1)+se<=N.Fd,j&=ve*(ke-1)+ce<=N.Cd,j=(j&=Fe*(ke-1)+ce<=N.Ed)&fe>=se&ve>=ce&Fe>=ce,j&=N.y!=null,j&=N.f!=null,j&=N.ea!=null,ee==12&&(j&=ye>=se,j&=Oe<=N.Tc,j&=N.F!=null)}else j=0;N=j?0:2}}return N!=0||$!=null&&$.fd&&(N=Nf(V)),N}var Ao=64,io=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],so=24,pu=32,Il=8,wc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(N){return N},M.Predictor2=function(N,j,$){return j[$+0]},M.Predictor3=function(N,j,$){return j[$+1]},M.Predictor4=function(N,j,$){return j[$-1]},M.Predictor5=function(N,j,$){return Ue(Ue(N,j[$+1]),j[$+0])},M.Predictor6=function(N,j,$){return Ue(N,j[$-1])},M.Predictor7=function(N,j,$){return Ue(N,j[$+0])},M.Predictor8=function(N,j,$){return Ue(j[$-1],j[$+0])},M.Predictor9=function(N,j,$){return Ue(j[$+0],j[$+1])},M.Predictor10=function(N,j,$){return Ue(Ue(N,j[$-1]),Ue(j[$+0],j[$+1]))},M.Predictor11=function(N,j,$){var V=j[$+0];return 0>=Qe(V>>24&255,N>>24&255,(j=j[$-1])>>24&255)+Qe(V>>16&255,N>>16&255,j>>16&255)+Qe(V>>8&255,N>>8&255,j>>8&255)+Qe(255&V,255&N,255&j)?V:N},M.Predictor12=function(N,j,$){var V=j[$+0];return(He((N>>24&255)+(V>>24&255)-((j=j[$-1])>>24&255))<<24|He((N>>16&255)+(V>>16&255)-(j>>16&255))<<16|He((N>>8&255)+(V>>8&255)-(j>>8&255))<<8|He((255&N)+(255&V)-(255&j)))>>>0},M.Predictor13=function(N,j,$){var V=j[$-1];return(qe((N=Ue(N,j[$+0]))>>24&255,V>>24&255)<<24|qe(N>>16&255,V>>16&255)<<16|qe(N>>8&255,V>>8&255)<<8|qe(255&N,255&V))>>>0};var Sc=M.PredictorAdd0;M.PredictorAdd1=xt,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var Dl=M.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var $i,pd=M.ColorIndexInverseTransform,Ll=M.MapARGB,rl=M.VP8LColorIndexInverseTransformAlpha,md=M.MapAlpha,gd=M.VP8LPredictorsAdd=[];gd.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var _f,Ef,Nc,mu,gu,vd,vu,yd,ji,Pa,vr,Rr,Ti,Xi,il,tp,Cf,_c,Im,Af,Dm,cy,np,bd,xd,uy,rp,dy,fy=s(511),hy=s(2041),py=s(225),my=s(767),gy=0,Fl=hy,kf=py,ya=my,ko=fy,Lm=0,yu=1,Ix=2,ip=3,sp=4,qr=5,Fm=6,jf=7,wd=8,ap=9,op=10,lp=[2,3,7],Bm=[3,3,11],Sd=[280,256,256,256,40],Dx=[0,1,1,1,0],oE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Lx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$m=8,Tf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nd=null,vy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],uE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],by=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ba=[],jo=[],Ma=[],Bl=1,Of=2,ea=[],Ra=[];Oa("UpsampleRgbLinePair",fu,3),Oa("UpsampleBgrLinePair",dd,3),Oa("UpsampleRgbaLinePair",ep,4),Oa("UpsampleBgraLinePair",Jh,4),Oa("UpsampleArgbLinePair",hd,4),Oa("UpsampleRgba4444LinePair",fd,2),Oa("UpsampleRgb565LinePair",Js,2);var dE=M.UpsampleRgbLinePair,fE=M.UpsampleBgrLinePair,bu=M.UpsampleRgbaLinePair,Pf=M.UpsampleBgraLinePair,_d=M.UpsampleArgbLinePair,up=M.UpsampleRgba4444LinePair,xy=M.UpsampleRgb565LinePair,Ec=16,sl=1<<Ec-1,jr=-227,Ir=482,xu=6,Bs=0,Ia=s(256),Ed=s(256),Mf=s(256),Da=s(256),zm=s(Ir-jr),$x=s(Ir-jr);nl("YuvToRgbRow",fu,3),nl("YuvToBgrRow",dd,3),nl("YuvToRgbaRow",ep,4),nl("YuvToBgraRow",Jh,4),nl("YuvToArgbRow",hd,4),nl("YuvToRgba4444Row",fd,2),nl("YuvToRgb565Row",Js,2);var wy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cd=[0,2,8],zx=[8,7,6,4,4,2,2,2,1,1,1,1],Cc=1;this.WebPDecodeRGBA=function(N,j,$,V,ee){var se=yu,oe=new Me,ce=new pn;oe.ba=ce,ce.S=se,ce.width=[ce.width],ce.height=[ce.height];var fe=ce.width,ve=ce.height,ke=new zt;if(ke==null||N==null)var Fe=2;else e(ke!=null),Fe=hu(N,j,$,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Fe!=0?fe=0:(fe!=null&&(fe[0]=ke.width[0]),ve!=null&&(ve[0]=ke.height[0]),fe=1),fe){ce.width=ce.width[0],ce.height=ce.height[0],V!=null&&(V[0]=ce.width),ee!=null&&(ee[0]=ce.height);e:{if(V=new Mr,(ee=new et).data=N,ee.w=j,ee.ha=$,ee.kd=1,j=[0],e(ee!=null),((N=hu(ee.data,ee.w,ee.ha,null,null,null,j,null,ee))==0||N==7)&&j[0]&&(N=4),(j=N)==0){if(e(oe!=null),V.data=ee.data,V.w=ee.w+ee.offset,V.ha=ee.ha-ee.offset,V.put=le,V.ac=Tn,V.bc=Le,V.ma=oe,ee.xa){if((N=xo())==null){oe=1;break e}if((function(ye,Oe){var Ie=[0],Je=[0],$e=[0];t:for(;;){if(ye==null)return 0;if(Oe==null)return ye.a=2,0;if(ye.l=Oe,ye.a=0,Y(ye.m,Oe.data,Oe.w,Oe.ha),!ot(ye.m,Ie,Je,$e)){ye.a=3;break t}if(ye.xb=Of,Oe.width=Ie[0],Oe.height=Je[0],!eo(Ie[0],Je[0],1,ye,null))break t;return 1}return e(ye.a!=0),0})(N,V)){if(V=(j=xc(V.width,V.height,oe.Oa,oe.ba))==0){t:{V=N;n:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e(($=V.l)!=null),e((ee=$.ma)!=null),V.xb!=0){if(V.ca=ee.ba,V.tb=ee.tb,e(V.ca!=null),!Sf(ee.Oa,$,ip)){V.a=2;break n}if(!kl(V,$.width)||$.da)break n;if(($.da||xn(V.ca.S))&&Co(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Co()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!de(V.s.vb,V.s.Wa.Xa)){V.a=1;break n}V.xb=0}if(!Ds(V,V.V,V.Ba,V.c,V.i,$.o,ci))break n;ee.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(j=N.a)}else j=N.a}else{if((N=new wo)==null){oe=1;break e}if(N.Fa=ee.na,N.P=ee.P,N.qc=ee.Sa,Ss(N,V)){if((j=xc(V.width,V.height,oe.Oa,oe.ba))==0){if(N.Aa=0,$=oe.Oa,e((ee=N)!=null),$!=null){if(0<(fe=0>(fe=$.Md)?0:100<fe?255:255*fe/100)){for(ve=ke=0;4>ve;++ve)12>(Fe=ee.pb[ve]).lc&&(Fe.ia=fe*zx[0>Fe.lc?0:Fe.lc]>>3),ke|=Fe.ia;ke&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=$.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(ye,Oe){if(ye==null)return 0;if(Oe==null)return ei(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!Ss(ye,Oe))return 0;if(e(ye.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(ye.L=0);var Ie=Cd[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Oe.v-Ie>>4,ye.zb=Oe.j-Ie>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Oe.o+15+Ie>>4,ye.Hb=Oe.va+15+Ie>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var Je=ye.ed;for(Ie=0;4>Ie;++Ie){var $e;if(ye.Qa.Cb){var Xe=ye.Qa.Lb[Ie];ye.Qa.Fb||(Xe+=Je.Tb)}else Xe=Je.Tb;for($e=0;1>=$e;++$e){var Ze=ye.gd[Ie][$e],rt=Xe;if(Je.Pc&&(rt+=Je.vd[0],$e&&(rt+=Je.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var st=rt;0<Je.wb&&(st=4<Je.wb?st>>2:st>>1)>9-Je.wb&&(st=9-Je.wb),1>st&&(st=1),Ze.dd=st,Ze.tc=2*rt+st,Ze.ld=40<=rt?2:15<=rt?1:0}else Ze.tc=0;Ze.La=$e}}}Ie=0}else ei(ye,6,"Frame setup failed"),Ie=ye.a;if(Ie=Ie==0){if(Ie){ye.$c=0,0<ye.Aa||(ye.Ic=Cc);t:{Ie=ye.Ic,Je=4*(st=ye.za);var cn=32*st,Kt=st+1,Hn=0<ye.L?st*(0<ye.Aa?2:1):0,Qt=(ye.Aa==2?2:1)*st;if((Ze=Je+832+($e=3*(16*Ie+Cd[ye.L])/2*cn)+(Xe=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=Ze)Ie=0;else{if(Ze>ye.Vb){if(ye.Vb=0,ye.Ec=s(Ze),ye.Fc=0,ye.Ec==null){Ie=ei(ye,1,"no memory during frame initialization.");break t}ye.Vb=Ze}Ze=ye.Ec,rt=ye.Fc,ye.Ac=Ze,ye.Bc=rt,rt+=Je,ye.Gd=a(cn,Qn),ye.Hd=0,ye.rb=a(Kt+1,jl),ye.sb=1,ye.wa=Hn?a(Hn,xs):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=st),e(!0),ye.oc=Ze,ye.pc=rt,rt+=832,ye.ya=a(Qt,nn),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=st),ye.R=16*st,ye.B=8*st,st=(cn=Cd[ye.L])*ye.R,cn=cn/2*ye.B,ye.sa=Ze,ye.ta=rt+st,ye.qa=ye.sa,ye.ra=ye.ta+16*Ie*ye.R+cn,ye.Ha=ye.qa,ye.Ia=ye.ra+8*Ie*ye.B+cn,ye.$c=0,rt+=$e,ye.mb=Xe?Ze:null,ye.nb=Xe?rt:null,e(rt+Xe<=ye.Fc+ye.Vb),ja(ye),i(ye.Ac,ye.Bc,0,Je),Ie=1}}if(Ie){if(Oe.ka=0,Oe.y=ye.sa,Oe.O=ye.ta,Oe.f=ye.qa,Oe.N=ye.ra,Oe.ea=ye.Ha,Oe.Vd=ye.Ia,Oe.fa=ye.R,Oe.Rc=ye.B,Oe.F=null,Oe.J=0,!gy){for(Ie=-255;255>=Ie;++Ie)fy[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)hy[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)py[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)my[255+Ie]=0>Ie?0:255<Ie?255:Ie;gy=1}vu=ir,yd=Tl,Pa=Ol,vr=Fi,Rr=cu,ji=vf,Ti=Qh,Xi=Qs,il=D,tp=te,Cf=Eo,_c=wf,Im=be,Af=Ae,Dm=So,cy=bc,np=ld,bd=Zh,jo[0]=Kh,jo[1]=mc,jo[2]=di,jo[3]=Gi,jo[4]=yf,jo[5]=vc,jo[6]=no,jo[7]=Pm,jo[8]=sd,jo[9]=bf,ba[0]=va,ba[1]=mr,ba[2]=gc,ba[3]=Ta,ba[4]=kt,ba[5]=Bt,ba[6]=wn,Ma[0]=tl,Ma[1]=bi,Ma[2]=Gh,Ma[3]=el,Ma[4]=Yh,Ma[5]=xf,Ma[6]=Xh,Ie=1}else Ie=0}Ie&&(Ie=(function(sr,Oi){for(sr.M=0;sr.M<sr.Va;++sr.M){var Gn,Gt=sr.Jc[sr.M&sr.Xb],jt=sr.m,zi=sr;for(Gn=0;Gn<zi.za;++Gn){var On=jt,rr=zi,Xr=rr.Ac,Ns=rr.Bc+4*Gn,Zi=rr.zc,wi=rr.ya[rr.aa+Gn];if(rr.Qa.Bb?wi.$b=X(On,rr.Pa.jb[0])?2+X(On,rr.Pa.jb[2]):X(On,rr.Pa.jb[1]):wi.$b=0,rr.kc&&(wi.Ad=X(On,rr.Bd)),wi.Za=!X(On,145)+0,wi.Za){var hs=wi.Ob,_s=0;for(rr=0;4>rr;++rr){var fi,fr=Zi[0+rr];for(fi=0;4>fi;++fi){fr=cE[Xr[Ns+fi]][fr];for(var yr=Fx[X(On,fr[0])];0<yr;)yr=Fx[2*yr+X(On,fr[yr])];fr=-yr,Xr[Ns+fi]=fr}r(hs,_s,Xr,Ns,4),_s+=4,Zi[0+rr]=fr}}else fr=X(On,156)?X(On,128)?1:3:X(On,163)?2:0,wi.Ob[0]=fr,i(Xr,Ns,fr,4),i(Zi,0,fr,4);wi.Dd=X(On,142)?X(On,114)?X(On,183)?1:3:2:0}if(zi.m.Ka)return ei(sr,7,"Premature end-of-partition0 encountered.");for(;sr.ja<sr.za;++sr.ja){if(zi=Gt,On=(jt=sr).rb[jt.sb-1],Xr=jt.rb[jt.sb+jt.ja],Gn=jt.ya[jt.aa+jt.ja],Ns=jt.kc?Gn.Ad:0)On.la=Xr.la=0,Gn.Za||(On.Na=Xr.Na=0),Gn.Hc=0,Gn.Gc=0,Gn.ia=0;else{var hi,br;if(On=Xr,Xr=zi,Ns=jt.Pa.Xc,Zi=jt.ya[jt.aa+jt.ja],wi=jt.pb[Zi.$b],rr=Zi.ad,hs=0,_s=jt.rb[jt.sb-1],fr=fi=0,i(rr,hs,0,384),Zi.Za)var Pi=0,Mi=Ns[3];else{yr=s(16);var Ur=On.Na+_s.Na;if(Ur=Nd(Xr,Ns[1],Ur,wi.Eb,0,yr,0),On.Na=_s.Na=(0<Ur)+0,1<Ur)vu(yr,0,rr,hs);else{var ta=yr[0]+3>>3;for(yr=0;256>yr;yr+=16)rr[hs+yr]=ta}Pi=1,Mi=Ns[0]}var Dr=15&On.la,Hr=15&_s.la;for(yr=0;4>yr;++yr){var Qi=1&Hr;for(ta=br=0;4>ta;++ta)Dr=Dr>>1|(Qi=(Ur=Nd(Xr,Mi,Ur=Qi+(1&Dr),wi.Sc,Pi,rr,hs))>Pi)<<7,br=br<<2|(3<Ur?3:1<Ur?2:rr[hs+0]!=0),hs+=16;Dr>>=4,Hr=Hr>>1|Qi<<7,fi=(fi<<8|br)>>>0}for(Mi=Dr,Pi=Hr>>4,hi=0;4>hi;hi+=2){for(br=0,Dr=On.la>>4+hi,Hr=_s.la>>4+hi,yr=0;2>yr;++yr){for(Qi=1&Hr,ta=0;2>ta;++ta)Ur=Qi+(1&Dr),Dr=Dr>>1|(Qi=0<(Ur=Nd(Xr,Ns[2],Ur,wi.Qc,0,rr,hs)))<<3,br=br<<2|(3<Ur?3:1<Ur?2:rr[hs+0]!=0),hs+=16;Dr>>=2,Hr=Hr>>1|Qi<<5}fr|=br<<4*hi,Mi|=Dr<<4<<hi,Pi|=(240&Hr)<<hi}On.la=Mi,_s.la=Pi,Zi.Hc=fi,Zi.Gc=fr,Zi.ia=43690&fr?0:wi.ia,Ns=!(fi|fr)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[Gn.$b][Gn.Za],jt.wa[jt.Y+jt.ja].La|=!Ns),zi.Ka)return ei(sr,7,"Premature end-of-file encountered.")}if(ja(sr),jt=Oi,zi=1,Gn=(Gt=sr).D,On=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(Gn.M=Gt.M,Gn.uc=On,ro(Gt,Gn),zi=1,Gn=(br=Gt.D).Nb,On=(fr=Cd[Gt.L])*Gt.R,Xr=fr/2*Gt.B,yr=16*Gn*Gt.R,ta=8*Gn*Gt.B,Ns=Gt.sa,Zi=Gt.ta-On+yr,wi=Gt.qa,rr=Gt.ra-Xr+ta,hs=Gt.Ha,_s=Gt.Ia-Xr+ta,Hr=(Dr=br.M)==0,fi=Dr>=Gt.Va-1,Gt.Aa==2&&ro(Gt,br),br.uc)for(Qi=(Ur=Gt).D.M,e(Ur.D.uc),br=Ur.yb;br<Ur.Hb;++br){Pi=br,Mi=Qi;var $s=(La=(Hi=Ur).D).Nb;hi=Hi.R;var La=La.wa[La.Y+Pi],qi=Hi.sa,Ui=Hi.ta+16*$s*hi+16*Pi,na=La.dd,Vr=La.tc;if(Vr!=0)if(e(3<=Vr),Hi.L==1)0<Pi&&cy(qi,Ui,hi,Vr+4),La.La&&bd(qi,Ui,hi,Vr),0<Mi&&Dm(qi,Ui,hi,Vr+4),La.La&&np(qi,Ui,hi,Vr);else{var ra=Hi.B,To=Hi.qa,al=Hi.ra+8*$s*ra+8*Pi,Es=Hi.Ha,Hi=Hi.Ia+8*$s*ra+8*Pi;$s=La.ld,0<Pi&&(Xi(qi,Ui,hi,Vr+4,na,$s),tp(To,al,Es,Hi,ra,Vr+4,na,$s)),La.La&&(_c(qi,Ui,hi,Vr,na,$s),Af(To,al,Es,Hi,ra,Vr,na,$s)),0<Mi&&(Ti(qi,Ui,hi,Vr+4,na,$s),il(To,al,Es,Hi,ra,Vr+4,na,$s)),La.La&&(Cf(qi,Ui,hi,Vr,na,$s),Im(To,al,Es,Hi,ra,Vr,na,$s))}}if(Gt.ia&&alert("todo:DitherRow"),jt.put!=null){if(br=16*Dr,Dr=16*(Dr+1),Hr?(jt.y=Gt.sa,jt.O=Gt.ta+yr,jt.f=Gt.qa,jt.N=Gt.ra+ta,jt.ea=Gt.Ha,jt.W=Gt.Ia+ta):(br-=fr,jt.y=Ns,jt.O=Zi,jt.f=wi,jt.N=rr,jt.ea=hs,jt.W=_s),fi||(Dr-=fr),Dr>jt.o&&(Dr=jt.o),jt.F=null,jt.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&br<Dr&&(jt.J=Yi(Gt,jt,br,Dr-br),jt.F=Gt.mb,jt.F==null&&jt.F.length==0)){zi=ei(Gt,3,"Could not decode alpha data.");break t}br<jt.j&&(fr=jt.j-br,br=jt.j,e(!(1&fr)),jt.O+=Gt.R*fr,jt.N+=Gt.B*(fr>>1),jt.W+=Gt.B*(fr>>1),jt.F!=null&&(jt.J+=jt.width*fr)),br<Dr&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=br-jt.j,jt.U=jt.va-jt.v,jt.T=Dr-br,zi=jt.put(jt))}Gn+1!=Gt.Ic||fi||(r(Gt.sa,Gt.ta-On,Ns,Zi+16*Gt.R,On),r(Gt.qa,Gt.ra-Xr,wi,rr+8*Gt.B,Xr),r(Gt.Ha,Gt.Ia-Xr,hs,_s+8*Gt.B,Xr))}if(!zi)return ei(sr,6,"Output aborted.")}return 1})(ye,Oe)),Oe.bc!=null&&Oe.bc(Oe),Ie&=1}return Ie?(ye.cb=0,Ie):0})(N,V)||(j=N.a)}}else j=N.a}j==0&&oe.Oa!=null&&oe.Oa.fd&&(j=Nf(oe.ba))}oe=j}se=oe!=0?null:11>se?ce.f.RGBA.eb:ce.f.kb.y}else se=null;return se};var dp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,B){for(var O="",F=0;F<4;F++)O+=String.fromCharCode(M[B++]);return O}function d(M,B){return M[B+0]|M[B+1]<<8}function f(M,B){return(M[B+0]|M[B+1]<<8|M[B+2]<<16)>>>0}function m(M,B){return(M[B+0]|M[B+1]<<8|M[B+2]<<16|M[B+3]<<24)>>>0}new c;var p=[0],b=[0],v=[],y=new c,w=t,_=(function(M,B){var O={},F=0,q=!1,z=0,K=0;if(O.frames=[],!(function(I,G){for(var ne=0;ne<4;ne++)if(I[G+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(M,B)){for(m(M,B+=4),B+=8;B<M.length;){var Z=u(M,B),H=m(M,B+=4);B+=4;var W=H+(1&H);switch(Z){case"VP8 ":case"VP8L":O.frames[F]===void 0&&(O.frames[F]={}),(Q=O.frames[F]).src_off=q?K:B-8,Q.src_size=z+H+8,F++,q&&(q=!1,z=0,K=0);break;case"VP8X":(Q=O.header={}).feature_flags=M[B];var Y=B+4;Q.canvas_width=1+f(M,Y),Y+=3,Q.canvas_height=1+f(M,Y),Y+=3;break;case"ALPH":q=!0,z=W+8,K=B-8;break;case"ANIM":(Q=O.header).bgcolor=m(M,B),Y=B+4,Q.loop_count=d(M,Y),Y+=2;break;case"ANMF":var ge,Q;(Q=O.frames[F]={}).offset_x=2*f(M,B),B+=3,Q.offset_y=2*f(M,B),B+=3,Q.width=1+f(M,B),B+=3,Q.height=1+f(M,B),B+=3,Q.duration=f(M,B),B+=3,ge=M[B++],Q.dispose=1&ge,Q.blend=ge>>1&1}Z!="ANMF"&&(B+=W)}return O}})(w,0);_.response=w,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,A=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,p=[E.canvas_height],b=[E.canvas_width];for(var k=0;k<A.length&&A[k].blend!=0;k++);}var P=A[0],R=y.WebPDecodeRGBA(w,P.src_off,P.src_size,b,p);P.rgba=R,P.imgwidth=b[0],P.imgheight=p[0];for(var T=0;T<b[0]*p[0]*4;T++)v[T]=R[T];return this.width=b,this.height=p,this.data=v,this}(function(t){var e,n,r,i,s,a,o,c,u,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=I;Object.defineProperty(this,"pdf",{get:function(){return G}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Ee){ne=!!Ee}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Ee){ie=!!Ee}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Ee){isNaN(Ee)||(he=Ee)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(Ee){isNaN(Ee)||(J=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ee){var de;typeof Ee=="number"?de=[Ee,Ee,Ee,Ee]:((de=new Array(4))[0]=Ee[0],de[1]=Ee.length>=2?Ee[1]:de[0],de[2]=Ee.length>=3?Ee[2]:de[0],de[3]=Ee.length>=4?Ee[3]:de[1]),u.margin=de}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ee){ue=Ee}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ee){ae=Ee}});var X=[];Object.defineProperty(this,"pageBreaks",{get:function(){return X},set:function(Ee){X=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ee){Ee instanceof d&&(u=Ee)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ee){u.path=Ee}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(Ee){pe=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var de;de=m(Ee),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var de=m(Ee);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var xe=null,De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Ee){xe=null,De=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var de;if(this.ctx.font=Ee,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var Ge=de[1];de[2];var Nt=de[3],it=de[4];de[5];var Ye=de[6],me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(me==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Se=(function(Wt){var _t,An,_n=[],Ft=Wt.trim();if(Ft==="")return eT;if(Ft in Vq)return[Vq[Ft]];for(;Ft!=="";){switch(An=null,_t=(Ft=Kq(Ft)).charAt(0)){case'"':case"'":An=U3e(Ft.substring(1),_t);break;default:An=H3e(Ft)}if(An===null||(_n.push(An[0]),(Ft=Kq(An[1]))!==""&&Ft.charAt(0)!==","))return eT;Ft=Ft.replace(/^,/,"")}return _n})(Ye);if(this.fontFaces){var Te=(function(Wt,_t){if(xe===null){var An=(function(_n){var Ft=[];return Object.keys(_n).forEach(function(vn){_n[vn].forEach(function(Jn){var sn=null;switch(Jn){case"bold":sn={family:vn,weight:"bold"};break;case"italic":sn={family:vn,style:"italic"};break;case"bolditalic":sn={family:vn,weight:"bold",style:"italic"};break;case"":case"normal":sn={family:vn}}sn!==null&&(sn.ref={name:vn,style:Jn},Ft.push(sn))})}),Ft})(Wt.getFontList());xe=(function(_n){for(var Ft={},vn=0;vn<_n.length;++vn){var Jn=J5(_n[vn]),sn=Jn.family,kn=Jn.stretch,xn=Jn.style,_r=Jn.weight;Ft[sn]=Ft[sn]||{},Ft[sn][kn]=Ft[sn][kn]||{},Ft[sn][kn][xn]=Ft[sn][kn][xn]||{},Ft[sn][kn][xn][_r]=Jn}return Ft})(An.concat(_t))}return xe})(this.pdf,this.fontFaces),Ue=Se.map(function(Wt){return{family:Wt,stretch:"normal",weight:Nt,style:Ge}}),He=(function(Wt,_t,An){for(var _n=(An=An||{}).defaultFontFamily||"times",Ft=Object.assign({},q3e,An.genericFontFamilies||{}),vn=null,Jn=null,sn=0;sn<_t.length;++sn)if(Ft[(vn=J5(_t[sn])).family]&&(vn.family=Ft[vn.family]),Wt.hasOwnProperty(vn.family)){Jn=Wt[vn.family];break}if(!(Jn=Jn||Wt[_n]))throw new Error("Could not find a font-family for the rule '"+Wq(vn)+"' and default family '"+_n+"'.");if(Jn=(function(kn,xn){if(xn[kn])return xn[kn];var _r=dM[kn],Er=_r<=dM.normal?-1:1,pn=Hq(xn,mne,_r,Er);if(!pn)throw new Error("Could not find a matching font-stretch value for "+kn);return pn})(vn.stretch,Jn),Jn=(function(kn,xn){if(xn[kn])return xn[kn];for(var _r=pne[kn],Er=0;Er<_r.length;++Er)if(xn[_r[Er]])return xn[_r[Er]];throw new Error("Could not find a matching font-style for "+kn)})(vn.style,Jn),!(Jn=(function(kn,xn){if(xn[kn])return xn[kn];if(kn===400&&xn[500])return xn[500];if(kn===500&&xn[400])return xn[400];var _r=z3e[kn],Er=Hq(xn,gne,_r,kn<400?-1:1);if(!Er)throw new Error("Could not find a matching font-weight for value "+kn);return Er})(vn.weight,Jn)))throw new Error("Failed to resolve a font for the rule '"+Wq(vn)+"'.");return Jn})(Te,Ue);this.pdf.setFont(He.ref.name,He.ref.style)}else{var qe="";(Nt==="bold"||parseInt(Nt,10)>=700||Ge==="bold")&&(qe="bold"),Ge==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Qe="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Se.length;gt++){if(this.pdf.internal.getFont(Se[gt],qe,{noFallback:!0,disableWarning:!0})!==void 0){Qe=Se[gt];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(Se[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=Se[gt],qe="bold";else if(this.pdf.internal.getFont(Se[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=Se[gt],qe="normal";break}}if(Qe===""){for(var At=0;At<Se.length;At++)if(xt[Se[At]]){Qe=xt[Se[At]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,G){if(isNaN(I)||isNaN(G))throw ri.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new a(I,G));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(I,G)},f.prototype.closePath=function(){var I=new a(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Gr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){I=new a(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},f.prototype.lineTo=function(I,G){if(isNaN(I)||isNaN(G))throw ri.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new a(I,G));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,G,ne,ie){if(isNaN(ne)||isNaN(ie)||isNaN(I)||isNaN(G))throw ri.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new a(ne,ie)),J=this.ctx.transform.applyToPoint(new a(I,G));this.path.push({type:"qct",x1:J.x,y1:J.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},f.prototype.bezierCurveTo=function(I,G,ne,ie,he,J){if(isNaN(he)||isNaN(J)||isNaN(I)||isNaN(G)||isNaN(ne)||isNaN(ie))throw ri.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new a(he,J)),ae=this.ctx.transform.applyToPoint(new a(I,G)),X=this.ctx.transform.applyToPoint(new a(ne,ie));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:X.x,y2:X.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},f.prototype.arc=function(I,G,ne,ie,he,J){if(isNaN(I)||isNaN(G)||isNaN(ne)||isNaN(ie)||isNaN(he))throw ri.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new a(I,G));I=ue.x,G=ue.y;var ae=this.ctx.transform.applyToPoint(new a(0,ne)),X=this.ctx.transform.applyToPoint(new a(0,0));ne=Math.sqrt(Math.pow(ae.x-X.x,2)+Math.pow(ae.y-X.y,2))}Math.abs(he-ie)>=2*Math.PI&&(ie=0,he=2*Math.PI),this.path.push({type:"arc",x:I,y:G,radius:ne,startAngle:ie,endAngle:he,counterclockwise:J})},f.prototype.arcTo=function(I,G,ne,ie,he){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,G,ne,ie){if(isNaN(I)||isNaN(G)||isNaN(ne)||isNaN(ie))throw ri.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,G),this.lineTo(I+ne,G),this.lineTo(I+ne,G+ie),this.lineTo(I,G+ie),this.lineTo(I,G),this.lineTo(I+ne,G),this.lineTo(I,G)},f.prototype.fillRect=function(I,G,ne,ie){if(isNaN(I)||isNaN(G)||isNaN(ne)||isNaN(ie))throw ri.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,G,ne,ie),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},f.prototype.strokeRect=function(I,G,ne,ie){if(isNaN(I)||isNaN(G)||isNaN(ne)||isNaN(ie))throw ri.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(I,G,ne,ie),this.stroke())},f.prototype.clearRect=function(I,G,ne,ie){if(isNaN(I)||isNaN(G)||isNaN(ne)||isNaN(ie))throw ri.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,G,ne,ie))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(G),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var G,ne,ie,he;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))G=0,ne=0,ie=0,he=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(J!==null)G=parseInt(J[1]),ne=parseInt(J[2]),ie=parseInt(J[3]),he=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)G=parseInt(J[1]),ne=parseInt(J[2]),ie=parseInt(J[3]),he=parseFloat(J[4]);else{if(he=1,typeof I=="string"&&I.charAt(0)!=="#"){var ue=new one(I);I=ue.ok?ue.toHex():"#000000"}I.length===4?(G=I.substring(1,2),G+=G,ne=I.substring(2,3),ne+=ne,ie=I.substring(3,4),ie+=ie):(G=I.substring(1,3),ne=I.substring(3,5),ie=I.substring(5,7)),G=parseInt(G,16),ne=parseInt(ne,16),ie=parseInt(ie,16)}}return{r:G,g:ne,b:ie,a:he,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,G,ne,ie){if(isNaN(G)||isNaN(ne)||typeof I!="string")throw ri.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var he=W(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;F.call(this,{text:I,x:G,y:ne,scale:J,angle:he,align:this.textAlign,maxWidth:ie})}},f.prototype.strokeText=function(I,G,ne,ie){if(isNaN(G)||isNaN(ne)||typeof I!="string")throw ri.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ie=isNaN(ie)?void 0:ie;var he=W(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;F.call(this,{text:I,x:G,y:ne,scale:J,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ie})}},f.prototype.measureText=function(I){if(typeof I!="string")throw ri.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,ne=this.pdf.internal.scaleFactor,ie=G.internal.getFontSize(),he=G.getStringUnitWidth(I)*ie/G.internal.scaleFactor;return new function(J){var ue=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:he*=Math.round(96*ne/72*1e4)/1e4})},f.prototype.scale=function(I,G){if(isNaN(I)||isNaN(G))throw ri.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new c(I,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.rotate=function(I){if(isNaN(I))throw ri.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(I,G){if(isNaN(I)||isNaN(G))throw ri.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new c(1,0,0,1,I,G);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.transform=function(I,G,ne,ie,he,J){if(isNaN(I)||isNaN(G)||isNaN(ne)||isNaN(ie)||isNaN(he)||isNaN(J))throw ri.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(I,G,ne,ie,he,J);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(I,G,ne,ie,he,J){I=isNaN(I)?1:I,G=isNaN(G)?0:G,ne=isNaN(ne)?0:ne,ie=isNaN(ie)?1:ie,he=isNaN(he)?0:he,J=isNaN(J)?0:J,this.ctx.transform=new c(I,G,ne,ie,he,J)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,G,ne,ie,he,J,ue,ae,X){var pe=this.pdf.getImageProperties(I),xe=1,De=1,Ee=1,de=1;ie!==void 0&&ae!==void 0&&(Ee=ae/ie,de=X/he,xe=pe.width/ie*ae/ie,De=pe.height/he*X/he),J===void 0&&(J=G,ue=ne,G=0,ne=0),ie!==void 0&&ae===void 0&&(ae=ie,X=he),ie===void 0&&ae===void 0&&(ae=pe.width,X=pe.height);for(var Ge,Nt=this.ctx.transform.decompose(),it=W(Nt.rotate.shx),Ye=new c,me=(Ye=(Ye=(Ye=Ye.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new o(J-G*Ee,ue-ne*de,ie*xe,he*De)),Se=y.call(this,me),Te=[],Ue=0;Ue<Se.length;Ue+=1)Te.indexOf(Se[Ue])===-1&&Te.push(Se[Ue]);if(E(Te),this.autoPaging)for(var He=Te[0],qe=Te[Te.length-1],Qe=He;Qe<qe+1;Qe++){this.pdf.setPage(Qe);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=Qe===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=Qe===1?0:At+(Qe-2)*Wt;if(this.ctx.clip_path.length!==0){var An=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ge,this.posX+this.margin[3],-_t+gt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=An}var _n=JSON.parse(JSON.stringify(me));_n=_([_n],this.posX+this.margin[3],-_t+gt+this.ctx.prevPageLastElemOffset)[0];var Ft=(Qe>He||Qe<qe)&&v.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Wt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",_n.x,_n.y,_n.w,_n.h,null,null,it),Ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",me.x,me.y,me.w,me.h,null,null,it)};var y=function(I,G,ne){var ie=[];G=G||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":ie.push(Math.floor((I.y+he)/ne)+1);break;case"arc":ie.push(Math.floor((I.y+he-I.radius)/ne)+1),ie.push(Math.floor((I.y+he+I.radius)/ne)+1);break;case"qct":var J=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);ie.push(Math.floor((J.y+he)/ne)+1),ie.push(Math.floor((J.y+J.h+he)/ne)+1);break;case"bct":var ue=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);ie.push(Math.floor((ue.y+he)/ne)+1),ie.push(Math.floor((ue.y+ue.h+he)/ne)+1);break;case"rect":ie.push(Math.floor((I.y+he)/ne)+1),ie.push(Math.floor((I.y+I.h+he)/ne)+1)}for(var ae=0;ae<ie.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ae];)w.call(this);return ie},w=function(){var I=this.fillStyle,G=this.strokeStyle,ne=this.font,ie=this.lineCap,he=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=G,this.font=ne,this.lineCap=ie,this.lineWidth=he,this.lineJoin=J},_=function(I,G,ne){for(var ie=0;ie<I.length;ie++)switch(I[ie].type){case"bct":I[ie].x2+=G,I[ie].y2+=ne;case"qct":I[ie].x1+=G,I[ie].y1+=ne;default:I[ie].x+=G,I[ie].y+=ne}return I},E=function(I){return I.sort(function(G,ne){return G-ne})},A=function(I,G){for(var ne,ie,he=this.fillStyle,J=this.strokeStyle,ue=this.lineCap,ae=this.lineWidth,X=Math.abs(ae*this.ctx.transform.scaleX),pe=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),Ee=[],de=0;de<De.length;de++)if(De[de].x!==void 0)for(var Ge=y.call(this,De[de]),Nt=0;Nt<Ge.length;Nt+=1)Ee.indexOf(Ge[Nt])===-1&&Ee.push(Ge[Nt]);for(var it=0;it<Ee.length;it++)for(;this.pdf.internal.getNumberOfPages()<Ee[it];)w.call(this);if(E(Ee),this.autoPaging)for(var Ye=Ee[0],me=Ee[Ee.length-1],Se=Ye;Se<me+1;Se++){this.pdf.setPage(Se),this.fillStyle=he,this.strokeStyle=J,this.lineCap=ue,this.lineWidth=X,this.lineJoin=pe;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Se===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=Se===1?0:He+(Se-2)*qe;if(this.ctx.clip_path.length!==0){var xt=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ne,this.posX+this.margin[3],-Qe+Ue+this.ctx.prevPageLastElemOffset),k.call(this,I,!0),this.path=xt}if(ie=JSON.parse(JSON.stringify(xe)),this.path=_(ie,this.posX+this.margin[3],-Qe+Ue+this.ctx.prevPageLastElemOffset),G===!1||Se===0){var gt=(Se>Ye||Se<me)&&v.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,qe,null).clip().discardPath()),k.call(this,I,G),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=X,k.call(this,I,G),this.lineWidth=ae;this.path=xe},k=function(I,G){if((I!=="stroke"||G||!b.call(this))&&(I==="stroke"||G||!p.call(this))){for(var ne,ie,he=[],J=this.path,ue=0;ue<J.length;ue++){var ae=J[ue];switch(ae.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:ae,deltas:[],abs:[]});break;case"lt":var X=he.length;if(J[ue-1]&&!isNaN(J[ue-1].x)&&(ne=[ae.x-J[ue-1].x,ae.y-J[ue-1].y],X>0)){for(;X>=0;X--)if(he[X-1].close!==!0&&he[X-1].begin!==!0){he[X-1].deltas.push(ne),he[X-1].abs.push(ae);break}}break;case"bct":ne=[ae.x1-J[ue-1].x,ae.y1-J[ue-1].y,ae.x2-J[ue-1].x,ae.y2-J[ue-1].y,ae.x-J[ue-1].x,ae.y-J[ue-1].y],he[he.length-1].deltas.push(ne);break;case"qct":var pe=J[ue-1].x+2/3*(ae.x1-J[ue-1].x),xe=J[ue-1].y+2/3*(ae.y1-J[ue-1].y),De=ae.x+2/3*(ae.x1-ae.x),Ee=ae.y+2/3*(ae.y1-ae.y),de=ae.x,Ge=ae.y;ne=[pe-J[ue-1].x,xe-J[ue-1].y,De-J[ue-1].x,Ee-J[ue-1].y,de-J[ue-1].x,Ge-J[ue-1].y],he[he.length-1].deltas.push(ne);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(ae)}}ie=G?null:I==="stroke"?"stroke":"fill";for(var Nt=!1,it=0;it<he.length;it++)if(he[it].arc)for(var Ye=he[it].abs,me=0;me<Ye.length;me++){var Se=Ye[me];Se.type==="arc"?T.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,G,!Nt):q.call(this,Se.x,Se.y),Nt=!0}else if(he[it].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(he[it].begin!==!0){var Te=he[it].start.x,Ue=he[it].start.y;z.call(this,he[it].deltas,Te,Ue),Nt=!0}ie&&M.call(this,ie),G&&B.call(this)}},P=function(I){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-ne;case"top":return I+G-ne;case"hanging":return I+G-2*ne;case"middle":return I+G/2-ne;default:return I}},R=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(G,ne){this.colorStops.push([G,ne])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(I,G,ne,ie,he,J,ue,ae,X){for(var pe=Z.call(this,ne,ie,he,J),xe=0;xe<pe.length;xe++){var De=pe[xe];xe===0&&(X?O.call(this,De.x1+I,De.y1+G):q.call(this,De.x1+I,De.y1+G)),K.call(this,I,G,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}ae?B.call(this):M.call(this,ue)},M=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(I,G){this.pdf.internal.out(n(I)+" "+r(G)+" m")},F=function(I){var G;switch(I.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var ne=this.pdf.getTextDimensions(I.text),ie=P.call(this,I.y),he=R.call(this,ie)-ne.h,J=this.ctx.transform.applyToPoint(new a(I.x,ie)),ue=this.ctx.transform.decompose(),ae=new c;ae=(ae=(ae=ae.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var X,pe,xe,De=this.ctx.transform.applyToRectangle(new o(I.x,ie,ne.w,ne.h)),Ee=ae.applyToRectangle(new o(I.x,he,ne.w,ne.h)),de=y.call(this,Ee),Ge=[],Nt=0;Nt<de.length;Nt+=1)Ge.indexOf(de[Nt])===-1&&Ge.push(de[Nt]);if(E(Ge),this.autoPaging)for(var it=Ge[0],Ye=Ge[Ge.length-1],me=it;me<Ye+1;me++){this.pdf.setPage(me);var Se=me===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[2],He=Ue-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],Qe=qe-this.margin[3],xt=me===1?0:Te+(me-2)*He;if(this.ctx.clip_path.length!==0){var gt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(X,this.posX+this.margin[3],-1*xt+Se),k.call(this,"fill",!0),this.path=gt}var At=_([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-xt+Se+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*I.scale),xe=this.lineWidth,this.lineWidth=xe*I.scale);var Wt=this.autoPaging!=="text";if(Wt||At.y+At.h<=Ue){if(Wt||At.y>=Se&&At.x<=qe){var _t=Wt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||qe-At.x)[0],An=_([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-xt+Se+this.ctx.prevPageLastElemOffset)[0],_n=Wt&&(me>it||me<Ye)&&v.call(this);_n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,He,null).clip().discardPath()),this.pdf.text(_t,An.x,An.y,{angle:I.angle,align:G,renderingMode:I.renderingMode}),_n&&this.pdf.restoreGraphicsState()}}else At.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-At.y);I.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=xe)}else I.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*I.scale),xe=this.lineWidth,this.lineWidth=xe*I.scale),this.pdf.text(I.text,J.x+this.posX,J.y+this.posY,{angle:I.angle,align:G,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=xe)},q=function(I,G,ne,ie){ne=ne||0,ie=ie||0,this.pdf.internal.out(n(I+ne)+" "+r(G+ie)+" l")},z=function(I,G,ne){return this.pdf.lines(I,G,ne,null,null)},K=function(I,G,ne,ie,he,J,ue,ae){this.pdf.internal.out([e(i(ne+I)),e(s(ie+G)),e(i(he+I)),e(s(J+G)),e(i(ue+I)),e(s(ae+G)),"c"].join(" "))},Z=function(I,G,ne,ie){for(var he=2*Math.PI,J=Math.PI/2;G>ne;)G-=he;var ue=Math.abs(ne-G);ue<he&&ie&&(ue=he-ue);for(var ae=[],X=ie?-1:1,pe=G;ue>1e-5;){var xe=pe+X*Math.min(ue,J);ae.push(H.call(this,I,pe,xe)),ue-=Math.abs(xe-pe),pe=xe}return ae},H=function(I,G,ne){var ie=(ne-G)/2,he=I*Math.cos(ie),J=I*Math.sin(ie),ue=he,ae=-J,X=ue*ue+ae*ae,pe=X+ue*he+ae*J,xe=4/3*(Math.sqrt(2*X*pe)-pe)/(ue*J-ae*he),De=ue-xe*ae,Ee=ae+xe*ue,de=De,Ge=-Ee,Nt=ie+G,it=Math.cos(Nt),Ye=Math.sin(Nt);return{x1:I*Math.cos(G),y1:I*Math.sin(G),x2:De*it-Ee*Ye,y2:De*Ye+Ee*it,x3:de*it-Ge*Ye,y3:de*Ye+Ge*it,x4:I*Math.cos(ne),y4:I*Math.sin(ne)}},W=function(I){return 180*I/Math.PI},Y=function(I,G,ne,ie,he,J){var ue=I+.5*(ne-I),ae=G+.5*(ie-G),X=he+.5*(ne-he),pe=J+.5*(ie-J),xe=Math.min(I,he,ue,X),De=Math.max(I,he,ue,X),Ee=Math.min(G,J,ae,pe),de=Math.max(G,J,ae,pe);return new o(xe,Ee,De-xe,de-Ee)},ge=function(I,G,ne,ie,he,J,ue,ae){var X,pe,xe,De,Ee,de,Ge,Nt,it,Ye,me,Se,Te,Ue,He=ne-I,qe=ie-G,Qe=he-ne,xt=J-ie,gt=ue-he,At=ae-J;for(pe=0;pe<41;pe++)it=(Ge=(xe=I+(X=pe/40)*He)+X*((Ee=ne+X*Qe)-xe))+X*(Ee+X*(he+X*gt-Ee)-Ge),Ye=(Nt=(De=G+X*qe)+X*((de=ie+X*xt)-De))+X*(de+X*(J+X*At-de)-Nt),pe==0?(me=it,Se=Ye,Te=it,Ue=Ye):(me=Math.min(me,it),Se=Math.min(Se,Ye),Te=Math.max(Te,it),Ue=Math.max(Ue,Ye));return new o(Math.round(me),Math.round(Se),Math.round(Te-me),Math.round(Ue-Se))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,G,ne=(I=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:G}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(fn.API),(function(t){var e=function(a){var o,c,u,d,f,m,p,b,v,y;for(c=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(f=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(y=f%85))/85)-(v=f%85))/85)-(b=f%85))/85)-(p=f%85))/85)%85,c.push(m+33,p+33,b+33,v+33,y+33)):c.push(122);return(function(w,_){for(var E=_;E>0;E--)w.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,u,d,f,m=String,p="length",b=255,v="charCodeAt",y="slice",w="replace";for(a[y](-2),a=a[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],d=0,f=(a+=o="uuuuu"[y](a[p]%5||5))[p];f>d;d+=5)c=52200625*(a[v](d)-33)+614125*(a[v](d+1)-33)+7225*(a[v](d+2)-33)+85*(a[v](d+3)-33)+(a[v](d+4)-33),u.push(b&c>>24,b&c>>16,b&c>>8,b&c);return(function(_,E){for(var A=E;A>0;A--)_.pop()})(u,o[p]),m.fromCharCode.apply(m,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=iM(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var c=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(fn.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,u,d){var f=new XMLHttpRequest,m=0,p=function(b){var v=b.length,y=[],w=String.fromCharCode;for(m=0;m<v;m+=1)y.push(w(255&b.charCodeAt(m)));return y.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)})(i,s,a)}catch{}return o})(e,n,r)},t.loadImageFile=t.loadFile})(fn.API),(function(t){function e(){return(Fn.html2canvas?Promise.resolve(Fn.html2canvas):I5(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Fn.DOMPurify?Promise.resolve(Fn.DOMPurify):I5(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Gr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function o(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var b=d[p],v=b.src.find(function(y){return y.format==="truetype"});v&&u.addFont(v.url,b.ref.name,b.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||fn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),m=u.call(f,o,c);return a.convert(m,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,fn.getPageSize=function(o,c,u){if(Gr(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var b,v=0,y=0;if(p.hasOwnProperty(m))v=p[m][1]/f,y=p[m][0]/f;else try{v=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",y>v&&(b=y,y=v,v=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>y&&(b=y,y=v,v=b)}return{width:y,height:v,unit:c,k:f,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(J5):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}})(fn.API),fn.API.addJS=function(t){return Yq=t,this.internal.events.subscribe("postPutResources",function(){Q1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Q1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Gq=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Yq+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Q1!==void 0&&Gq!==void 0&&this.internal.out("/Names <</JavaScript "+Q1+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=n.internal.newObject();d.push(f);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(fn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,v={width:0,height:0,numcomponents:1},y=4;y<b;y+=2){if(y+=p,e.indexOf(f.charCodeAt(y+1))!==-1){m=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),v={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:m,numcomponents:f.charCodeAt(y+9)};break}p=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return v})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}})(fn.API),fn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=A3e(t,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,u=s.palette,d=s.depth;i=u&&c===1?(function(T){for(var M=T.width,B=T.height,O=T.data,F=T.palette,q=T.depth,z=!1,K=[],Z=[],H=void 0,W=!1,Y=0,ge=0;ge<F.length;ge++){var Q=J9(F[ge],4),I=Q[0],G=Q[1],ne=Q[2],ie=Q[3];K.push(I,G,ne),ie!=null&&(ie===0?(Y++,Z.length<1&&Z.push(ge)):ie<255&&(W=!0))}if(W||Y>1){z=!0,Z=void 0;var he=M*B;H=new Uint8Array(he);for(var J=new DataView(O.buffer),ue=0;ue<he;ue++){var ae=tT(J,ue,q),X=J9(F[ae],4)[3];H[ue]=X}}else Y===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:O,alphaBytes:H,needSMask:z,palette:K,mask:Z}})(s):c===2||c===4?(function(T){for(var M=T.data,B=T.width,O=T.height,F=T.channels,q=T.depth,z=F===2?"DeviceGray":"DeviceRGB",K=F-1,Z=B*O,H=K,W=Z*H,Y=1*Z,ge=Math.ceil(W*q/8),Q=Math.ceil(Y*q/8),I=new Uint8Array(ge),G=new Uint8Array(Q),ne=new DataView(M.buffer),ie=new DataView(I.buffer),he=new DataView(G.buffer),J=!1,ue=0;ue<Z;ue++){for(var ae=ue*F,X=0;X<H;X++)iU(ie,tT(ne,ae+X,q),ue*H+X,q);var pe=tT(ne,ae+H,q);pe<(1<<q)-1&&(J=!0),iU(he,pe,1*ue,q)}return{colorSpace:z,colorsPerPixel:K,sMaskBitsPerComponent:J?q:void 0,colorBytes:I,alphaBytes:G,needSMask:J}})(s):(function(T){var M=T.data,B=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(O){for(var F=O.length,q=new Uint8Array(2*F),z=new DataView(q.buffer,q.byteOffset,q.byteLength),K=0;K<F;K++)z.setUint16(2*K,O[K],!1);return q})(M):M,needSMask:!1}})(s);var f,m,p,b=i,v=b.colorSpace,y=b.colorsPerPixel,w=b.sMaskBitsPerComponent,_=b.colorBytes,E=b.alphaBytes,A=b.needSMask,k=b.palette,P=b.mask,R=null;return r!==fn.API.image_compression.NONE&&typeof iM=="function"?(R=(function(T){var M;switch(T){case fn.API.image_compression.FAST:M=11;break;case fn.API.image_compression.MEDIUM:M=13;break;case fn.API.image_compression.SLOW:M=14;break;default:M=12}return M})(r),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(R," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=Jq(_,Math.ceil(a*y*d/8),y,d,r),A&&(p=Jq(E,Math.ceil(a*w/8),1,w,r))):(f=void 0,m=void 0,t=_,A&&(p=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:m,transparency:P,palette:k,sMask:p,predictor:R,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:w,colorSpace:v}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new G3e(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},d=new nT(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A})(fn.API),Ic.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ic.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ri.log("bit decode error:"+n)}},Ic.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Ic.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,c=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ic.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ic.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},Ic.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},Ic.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ic.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Ic.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new Ic(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new nT(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(fn.API),aU.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new aU(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},u=new nT(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(fn.API),fn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var d=r[u],f=r[u+1],m=r[u+2],p=r[u+3];s[o++]=d,s[o++]=f,s[o++]=m,a[c++]=p}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mg=fn.API,J1=mg.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,p=t.length,b=0,v=o[0]||c,y=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(m=f&&Gr(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/d:0,y.push((o[r]||v)/c+m)),b=r;return y},Xq=mg.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return mg.processArabic&&(t=mg.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:J1.apply(this,arguments).reduce(function(s,a){return s+a},0)},Zq=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},Qq=function(t,e,n){n||(n={});var r,i,s,a,o,c,u,d=[],f=[d],m=n.textIndent||0,p=0,b=0,v=t.split(" "),y=J1.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var w=Array(c).join(" "),_=[];v.map(function(A){(A=A.split(/\s*\n/)).length>1?_=_.concat(A.map(function(k,P){return(P&&k.length?`
`:"")+k})):_.push(A[0])}),v=_,c=Xq.apply(this,[w,n])}for(s=0,a=v.length;s<a;s++){var E=0;if(r=v[s],c&&r[0]==`
`&&(r=r.substr(1),E=1),m+p+(b=(i=J1.apply(this,[r,n])).reduce(function(A,k){return A+k},0))>e||E){if(b>e){for(o=Zq.apply(this,[r,i,e-(m+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);b=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(A,k){return A+k},0)}else d=[r];f.push(d),m=b+c,p=y}else d.push(r),m+=p+b,p=y}return u=c?function(A,k){return(k?w:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(u)},mg.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(Qq.apply(this,[r[o],a,s]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var p,b,v,y,w=["{"];for(var _ in m){if(p=m[_],isNaN(parseInt(_,10))?b="'"+_+"'":(_=parseInt(_,10),b=(b=a(_).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof p=="number")p<0?(v=a(p).slice(3),y="-"):(v=a(p).slice(2),y=""),v=y+v.slice(0,-1)+i[v.slice(-1)];else{if(Gr(p)!=="object")throw new Error("Don't know what to do with value type "+Gr(p)+".");v=o(p)}w.push(b+v)}return w.push("}"),w.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,b,v,y,w={},_=1,E=w,A=[],k="",P="",R=m.length-1,T=1;T<R;T+=1)(y=m[T])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(A.push([E,v]),E={},v=void 0):y=="}"?((b=A.pop())[0][b[1]]=E,v=void 0,E=b[0]):y=="-"?_=-1:v===void 0?r.hasOwnProperty(y)?(k+=r[y],v=parseInt(k,16)*_,_=1,k=""):k+=y:r.hasOwnProperty(y)?(P+=r[y],E[v]=parseInt(P,16)*_,_=1,v=void 0,P=""):P+=y;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,b=f.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var v=d.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(fn.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Dw(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(fn),fn.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw ri.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ri.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Fn.canvg?Promise.resolve(Fn.canvg):I5(()=>import("./index.es-BfkkSOTM.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},fn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},fn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,d=0,f=0;function m(b,v){var y,w=!1;for(y=0;y<b.length;y+=1)b[y]===v&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(Gr(t)==="object"){for(i in t)if(s=t[i],m(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?v.push("/"+b+" /"+n[b].value):v.push("/"+b+" "+n[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(fn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(s){var a,o,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(o=Object.keys(s).sort(function(p,b){return p-b})).length;f<m;f++)a=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",b=0;b<m.length;b++)p+=String.fromCharCode(m[b]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var y=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+_g(o.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+_g(o.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+_g(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var b=u();d({data:m,addLength1:!0,objectId:b}),c("endobj");var v=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+_g(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+_g(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,p=f.activeFontKey,b=f.fonts,v=p,y="",w=0,_="",E=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:f};for(_=o,v=p,Array.isArray(o)&&(_=o[0]),w=0;w<_.length;w+=1)b[v].metadata.hasOwnProperty("cmap")&&(a=b[v].metadata.cmap.unicode.codeMap[_[w].charCodeAt(0)]),a||_[w].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?y+=_[w]:y+="";var A="";return parseInt(v.slice(1))<14||E==="WinAnsiEncoding"?A=m(y,v).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(A=n(y,b[v])),f.isHex=!0,{text:A,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},c,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])})(fn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(fn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,c,u,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,E=0;this.__bidiEngine__={};var A=function(O){var F=O.charCodeAt(),q=F>>8,z=v[q];return z!==void 0?f[256*z+(255&F)]:q===252||q===253?"AL":w.test(q)?"L":q===8?"R":"N"},k=function(O){for(var F,q=0;q<O.length;q++){if((F=A(O.charAt(q)))==="L")return!1;if(F==="R")return!0}return!1},P=function(O,F,q,z){var K,Z,H,W,Y=F[z];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(Y="AN");break;case"AL":_=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":z<1||z+1>=F.length||(K=q[z-1])!=="EN"&&K!=="AN"||(Z=F[z+1])!=="EN"&&Z!=="AN"?Y="N":_&&(Z="AN"),Y=Z===K?Z:"N";break;case"ES":Y=(K=z>0?q[z-1]:"B")==="EN"&&z+1<F.length&&F[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&q[z-1]==="EN"){Y="EN";break}if(_){Y="N";break}for(H=z+1,W=F.length;H<W&&F[H]==="ET";)H++;Y=H<W&&F[H]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(W=F.length,H=z+1;H<W&&F[H]==="NSM";)H++;if(H<W){var ge=O[z],Q=ge>=1425&&ge<=2303||ge===64286;if(K=F[H],Q&&(K==="R"||K==="AL")){Y="R";break}}}Y=z<1||(K=F[z-1])==="B"?"N":q[z-1];break;case"B":_=!1,i=!0,Y=E;break;case"S":s=!0,Y="N"}return Y},R=function(O,F,q){var z=O.split("");return q&&T(z,q,{hiLevel:E}),z.reverse(),F&&F.reverse(),z.join("")},T=function(O,F,q){var z,K,Z,H,W,Y=-1,ge=O.length,Q=0,I=[],G=E?p:m,ne=[];for(_=!1,i=!1,s=!1,K=0;K<ge;K++)ne[K]=A(O[K]);for(Z=0;Z<ge;Z++){if(W=Q,I[Z]=P(O,ne,I,Z),z=240&(Q=G[W][b[I[Z]]]),Q&=15,F[Z]=H=G[Q][5],z>0)if(z===16){for(K=Y;K<Z;K++)F[K]=1;Y=-1}else Y=-1;if(G[Q][6])Y===-1&&(Y=Z);else if(Y>-1){for(K=Y;K<Z;K++)F[K]=H;Y=-1}ne[Z]==="B"&&(F[Z]=0),q.hiLevel|=H}s&&(function(ie,he,J){for(var ue=0;ue<J;ue++)if(ie[ue]==="S"){he[ue]=E;for(var ae=ue-1;ae>=0&&ie[ae]==="WS";ae--)he[ae]=E}})(ne,F,ge)},M=function(O,F,q,z,K){if(!(K.hiLevel<O)){if(O===1&&E===1&&!i)return F.reverse(),void(q&&q.reverse());for(var Z,H,W,Y,ge=F.length,Q=0;Q<ge;){if(z[Q]>=O){for(W=Q+1;W<ge&&z[W]>=O;)W++;for(Y=Q,H=W-1;Y<H;Y++,H--)Z=F[Y],F[Y]=F[H],F[H]=Z,q&&(Z=q[Y],q[Y]=q[H],q[H]=Z);Q=W}Q++}}},B=function(O,F,q){var z=O.split(""),K={hiLevel:E};return q||(q=[]),T(z,q,K),(function(Z,H,W){if(W.hiLevel!==0&&d)for(var Y,ge=0;ge<Z.length;ge++)H[ge]===1&&(Y=y.indexOf(Z[ge]))>=0&&(Z[ge]=y[Y+1])})(z,q,K),M(2,z,F,q,K),M(1,z,F,q,K),z.join("")};return this.__bidiEngine__.doBidiReorder=function(O,F,q){if((function(K,Z){if(Z)for(var H=0;H<K.length;H++)Z[H]=H;o===void 0&&(o=k(K)),u===void 0&&(u=k(K))})(O,F),a||!c||u)if(a&&c&&o^u)E=o?1:0,O=R(O,F,q);else if(!a&&c&&u)E=o?1:0,O=B(O,F,q),O=R(O,F);else if(!a||o||c||u){if(a&&!c&&o^u)O=R(O,F),o?(E=0,O=B(O,F,q)):(E=1,O=B(O,F,q),O=R(O,F));else if(a&&o&&!c&&u)E=1,O=B(O,F,q),O=R(O,F);else if(!a&&!c&&o^u){var z=d;o?(E=1,O=B(O,F,q),E=0,d=!1,O=B(O,F,q),d=z):(E=0,O=B(O,F,q),O=R(O,F),E=1,d=!1,O=B(O,F,q),d=z,O=R(O,F))}}else E=0,O=B(O,F,q);else E=o?1:0,O=B(O,F,q);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,c=O.isOutputVisual,o=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(fn),fn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Mh(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new cLe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Y3e(this.contents),this.head=new Z3e(this),this.name=new nLe(this),this.cmap=new yne(this),this.toUnicode={},this.hhea=new Q3e(this),this.maxp=new rLe(this),this.hmtx=new iLe(this),this.post=new eLe(this),this.os2=new J3e(this),this.loca=new lLe(this),this.glyf=new sLe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var au,Mh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),Y3e=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,c,u,d,f,m,p,b,v;for(v in p=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),a=Math.floor(f/c),d=16*p-f,(i=new Mh).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(d),s=16*p,u=i.pos+s,o=null,b=[],n)for(m=n[v],i.writeString(v),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),b=b.concat(m),v==="head"&&(o=u),u+=m.length;u%4;)b.push(0),u++;return i.write(b),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=bne.call(n);n.length%4;)n.push(0);for(s=new Mh(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),X3e={}.hasOwnProperty,rd=function(t,e){for(var n in e)X3e.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};au=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Z3e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Mh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),oU=(function(){function t(e,n){var r,i,s,a,o,c,u,d,f,m,p,b,v,y,w,_,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=(function(){var A,k;for(k=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)k.push(e.readUInt16());return k})(),e.pos+=2,v=(function(){var A,k;for(k=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)k.push(e.readUInt16());return k})(),u=(function(){var A,k;for(k=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)k.push(e.readUInt16());return k})(),d=(function(){var A,k;for(k=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)k.push(e.readUInt16());return k})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var A,k;for(k=[],c=A=0;0<=i?A<i:A>i;c=0<=i?++A:--A)k.push(e.readUInt16());return k})(),c=w=0,E=s.length;w<E;c=++w)for(y=s[c],r=_=b=v[c];b<=y?_<=y:_>=y;r=b<=y?++_:--_)d[c]===0?a=r+u[c]:(a=o[d[c]/2+(r-b)-(m-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,i,s,a,o,c,u,d,f,m,p,b,v,y,w,_,E,A,k,P,R,T,M,B,O,F,q,z,K,Z,H,W,Y,ge,Q,I,G,ne,ie,he,J,ue,ae,X,pe,xe;switch(z=new Mh,a=Object.keys(e).sort(function(De,Ee){return De-Ee}),n){case"macroman":for(v=0,y=(function(){var De=[];for(b=0;b<256;++b)De.push(0);return De})(),_={0:0},s={},K=0,Y=a.length;K<Y;K++)_[ae=e[i=a[K]]]==null&&(_[ae]=++v),s[i]={old:e[i],new:_[e[i]]},y[i]=_[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(y),{charMap:s,subtable:z.data,maxGlyphID:v+1};case"unicode":for(F=[],f=[],E=0,_={},r={},w=u=null,Z=0,ge=a.length;Z<ge;Z++)_[k=e[i=a[Z]]]==null&&(_[k]=++E),r[i]={old:k,new:_[k]},o=_[k]-i,w!=null&&o===u||(w&&f.push(w),F.push(i),u=o),w=i;for(w&&f.push(w),f.push(65535),F.push(65535),B=2*(M=F.length),T=2*Math.pow(Math.log(M)/Math.LN2,2),m=Math.log(T/2)/Math.LN2,R=2*M-T,c=[],P=[],p=[],b=H=0,Q=F.length;H<Q;b=++H){if(O=F[b],d=f[b],O===65535){c.push(0),P.push(0);break}if(O-(q=r[O].new)>=32768)for(c.push(0),P.push(2*(p.length+M-b)),i=W=O;O<=d?W<=d:W>=d;i=O<=d?++W:--W)p.push(r[i].new);else c.push(q-O),P.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*M+2*p.length),z.writeUInt16(0),z.writeUInt16(B),z.writeUInt16(T),z.writeUInt16(m),z.writeUInt16(R),J=0,I=f.length;J<I;J++)i=f[J],z.writeUInt16(i);for(z.writeUInt16(0),ue=0,G=F.length;ue<G;ue++)i=F[ue],z.writeUInt16(i);for(X=0,ne=c.length;X<ne;X++)o=c[X],z.writeUInt16(o);for(pe=0,ie=P.length;pe<ie;pe++)A=P[pe],z.writeUInt16(A);for(xe=0,he=p.length;xe<he;xe++)v=p[xe],z.writeUInt16(v);return{charMap:r,subtable:z.data,maxGlyphID:E+1}}},t})(),yne=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new oU(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=oU.encode(e,n),(i=new Mh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),Q3e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),J3e=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),eLe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t})(),tLe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nLe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,c,u,d,f,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=d=0,f=r.length;d<f;s=++d)i=r[s],e.pos=i.offset,u=e.readString(i.length),a=new tLe(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),rLe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),iLe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],m.push(s.advance);return m}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),bne=[].slice,sLe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,c,u,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new Mh(n.read(i))).readShort(),u=o.readShort(),f=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new oLe(o,u,f,c,d):new aLe(o,a,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,c;for(a=[],s=[],o=0,c=n.length;o<c;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t})(),aLe=(function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),oLe=(function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Mh(bne.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),lLe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return rd(t,au),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t})(),cLe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,c,u,d,f,m,p,b,v,y,w;for(i in r=yne.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},w=r.charMap)p[(c=w[i]).old]=c.new;for(b in m=r.maxGlyphID,a)b in p||(p[b]=m++);return d=(function(_){var E,A;for(E in A={},_)A[_[E]]=E;return A})(p),f=Object.keys(d).sort(function(_,E){return _-E}),v=(function(){var _,E,A;for(A=[],_=0,E=f.length;_<E;_++)o=f[_],A.push(d[o]);return A})(),s=this.font.glyf.encode(a,v,p),u=this.font.loca.encode(s.offsets,v),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t})();fn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+(function(){var o,c,u;for(u=[],o=0,c=n.length;o<c;o++)r=n[o],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e})();function uLe(){const t=tR(),[,e]=Ko(),{user:n}=Nm(),{data:r,isLoading:i}=Sn({queryKey:["/api/manuals",t.id]}),{data:s=[]}=Sn({queryKey:["/api/manuals",t.id,"attachments"],enabled:!!t.id}),a=n?.roleName||n?.role,o=["Administrador","Gestor","ADMIN","GESTOR"].includes(String(a)),[c,u]=S.useState(!1),{toast:d}=li(),f=async()=>{if(!(!r||!window.confirm(`Eliminar el manual "${r.titulo}"? Esta accin no se puede deshacer.`)))try{await tn("DELETE",`/api/manuals/${encodeURIComponent(r.id)}`),rn.setQueryData(["/api/manuals"],v=>Array.isArray(v)?v.filter(y=>y.id!==r.id):v),await rn.invalidateQueries({queryKey:["/api/manuals"],exact:!0}),d({title:"Manual eliminado"}),e("/manuales")}catch(v){d({title:"No se pudo eliminar",description:v?.message??"",variant:"destructive"})}},m=b=>b<1024?b+" B":b<1024*1024?(b/1024).toFixed(1)+" KB":(b/(1024*1024)).toFixed(1)+" MB",p=()=>{if(!r)return;const b=new fn;b.setFontSize(20),b.text(r.titulo,20,20),b.setFontSize(12);const v=r.contenidoHtml.replace(/<[^>]*>/g,""),y=b.splitTextToSize(v,170);b.text(y,20,40),b.save(`${r.titulo}.pdf`)};return i?l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsx(Vn,{className:"h-9 w-48"}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx(Vn,{className:"h-8 w-3/4"})}),l.jsx(ft,{children:l.jsx(Vn,{className:"h-64 w-full"})})]})]}):r?l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>e("/manuales"),"data-testid":"button-back",children:l.jsx(bN,{className:"h-4 w-4"})}),l.jsx("div",{className:"flex-1",children:l.jsx("h1",{className:"text-3xl font-display font-bold",children:r.titulo})}),l.jsxs(_e,{variant:"outline",onClick:p,"data-testid":"button-export-pdf",children:[l.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),o&&l.jsxs(l.Fragment,{children:[l.jsxs(_e,{variant:"outline",onClick:()=>u(b=>!b),"data-testid":"button-expand",children:[c?l.jsx($le,{className:"h-4 w-4 mr-2"}):l.jsx(Ble,{className:"h-4 w-4 mr-2"}),c?"Reducir":"Expandir"]}),l.jsxs(_e,{variant:"destructive",onClick:f,"data-testid":"button-delete",children:[l.jsx(ka,{className:"h-4 w-4 mr-2"}),"Eliminar"]}),l.jsxs(_e,{onClick:()=>e(`/manuales/${r.id}/editar`),"data-testid":"button-edit",children:[l.jsx(Bu,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),l.jsxs("div",{className:c?"grid gap-6 grid-cols-1":"grid gap-6 xl:grid-cols-[minmax(0,1fr)_320px]",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs(dt,{children:[l.jsxs(Dt,{className:"px-6 pt-6 pb-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx($t,{className:"text-2xl",children:r.titulo}),r.categoria&&l.jsx("p",{className:"text-muted-foreground",children:r.categoria})]}),r.publicado?l.jsx(bt,{variant:"outline",className:"text-chart-3 bg-chart-3/10",children:"Publicado"}):l.jsx(bt,{variant:"outline",className:"text-muted-foreground bg-muted",children:"Borrador"})]}),r.etiquetas&&r.etiquetas.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.etiquetas.map(b=>l.jsx(bt,{variant:"secondary",children:b},b))})]}),l.jsxs(ft,{className:"p-0",children:[l.jsx("div",{className:"prose lg:prose-base max-w-none px-6 pb-6 md:px-8 md:pb-8 [&_.editor-table]:border-collapse [&_.editor-table]:w-full [&_.editor-table]:my-4 [&_.editor-table_th]:border-2 [&_.editor-table_th]:border-black [&_.editor-table_th]:p-2 [&_.editor-table_th]:bg-muted [&_.editor-table_th]:font-semibold [&_.editor-table_th]:text-left [&_.editor-table_td]:border-2 [&_.editor-table_td]:border-black [&_.editor-table_td]:p-2",dangerouslySetInnerHTML:{__html:r.contenidoHtml}}),l.jsxs("div",{className:"px-6 md:px-8 mt-4 pt-4 border-t text-sm text-muted-foreground",children:["Creado el ",new Date(r.fechaCreacion).toLocaleDateString(),r.fechaActualizacion!==r.fechaCreacion&&l.jsxs(l.Fragment,{children:["  Actualizado el ",new Date(r.fechaActualizacion).toLocaleDateString()]})]})]})]}),s.length>0&&l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{className:"text-lg flex items-center gap-2",children:[l.jsx(tv,{className:"h-4 w-4"}),"Adjuntos (",s.length,")"]})}),l.jsx(ft,{children:l.jsx("div",{className:"space-y-2",children:s.map(b=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate cursor-pointer",onClick:()=>window.open(b.filePath,"_blank"),"data-testid":`attachment-${b.id}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tv,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:b.originalName}),l.jsx("p",{className:"text-xs text-muted-foreground",children:m(b.fileSize)})]})]}),l.jsx(Yc,{className:"h-4 w-4 text-muted-foreground"})]},b.id))})})]})]}),l.jsx("div",{className:"lg:sticky lg:top-8 lg:h-fit",children:l.jsx(bIe,{htmlContent:r.contenidoHtml})})]})]}):l.jsx("div",{className:"p-8",children:l.jsx(dt,{children:l.jsxs(ft,{className:"flex flex-col items-center justify-center py-16",children:[l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Manual no encontrado"}),l.jsx(_e,{onClick:()=>e("/manuales"),children:"Volver a Manuales"})]})})})}function Na(t){this.content=t}Na.prototype={constructor:Na,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Na(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Na(n)},addToStart:function(t,e){return new Na([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Na(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Na(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Na.from(t),t.size?new Na(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Na.from(t),t.size?new Na(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Na.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Na.from=function(t){if(t instanceof Na)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Na(e)};function xne(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=xne(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function wne(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),o=e.child(--s),c=a.nodeSize;if(a==o){n-=c,r-=c;continue}if(!a.sameMarkup(o))return{a:n,b:r};if(a.isText&&a.text!=o.text){let u=0,d=Math.min(a.text.length,o.text.length);for(;u<d&&a.text[a.text.length-u-1]==o.text[o.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||o.content.size){let u=wne(a.content,o.content,n-1,r-1);if(u)return u}n-=c,r-=c}}class ct{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,o=0;o<n;a++){let c=this.content[a],u=o+c.nodeSize;if(u>e&&r(c,i+o,s||null,a)!==!1&&c.content.size){let d=o+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,i+d)}o=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(o,c)=>{let u=o.isText?o.text.slice(Math.max(e,c)-c,n-c):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&u||o.isTextblock)&&r&&(a?a=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ct(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let o=this.content[s],c=a+o.nodeSize;c>e&&((a<e||c>n)&&(o.isText?o=o.cut(Math.max(0,e-a),Math.min(o.text.length,n-a)):o=o.cut(Math.max(0,e-a-1),Math.min(o.content.size,n-a-1))),r.push(o),i+=o.nodeSize),a=c}return new ct(r,i)}cutByIndex(e,n){return e==n?ct.empty:e==0&&n==this.content.length?this:new ct(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ct(i,s)}addToStart(e){return new ct([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ct(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return xne(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return wne(this,e,n,r)}findIndex(e){if(e==0)return ew(0,e);if(e==this.size)return ew(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?ew(n+1,s):ew(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ct.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ct(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ct.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ct(n||e,r)}static from(e){if(!e)return ct.empty;if(e instanceof ct)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ct([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ct.empty=new ct([],0);const rT={index:0,offset:0};function ew(t,e){return rT.index=t,rT.offset=e,rT}function _S(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!_S(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!_S(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let si=class fM{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&_S(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return fM.none;if(e instanceof fM)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};si.none=[];class ES extends Error{}class It{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Nne(this.content,e+this.openStart,n);return r&&new It(r,this.openStart,this.openEnd)}removeBetween(e,n){return new It(Sne(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return It.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new It(ct.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new It(e,r,i)}}It.empty=new It(ct.empty,0,0);function Sne(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:o}=t.findIndex(n);if(i==e||s.isText){if(o!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(Sne(s.content,e-i-1,n-i-1)))}function Nne(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let o=Nne(a.content,e-s-1,n,a);return o&&t.replaceChild(i,a.copy(o))}function dLe(t,e,n){if(n.openStart>t.depth)throw new ES("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ES("Inconsistent open depths");return _ne(t,e,n,0)}function _ne(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=_ne(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,o=a.content;return Kp(a,o.cut(0,t.parentOffset).append(n.content).append(o.cut(e.parentOffset)))}else{let{start:a,end:o}=fLe(n,t);return Kp(s,Cne(t,a,o,e,r))}else return Kp(s,CS(t,e,r))}function Ene(t,e){if(!e.type.compatibleContent(t.type))throw new ES("Cannot join "+e.type.name+" onto "+t.type.name)}function hM(t,e,n){let r=t.node(n);return Ene(r,e.node(n)),r}function Wp(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Cb(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Wp(t.nodeAfter,r),s++));for(let o=s;o<a;o++)Wp(i.child(o),r);e&&e.depth==n&&e.textOffset&&Wp(e.nodeBefore,r)}function Kp(t,e){return t.type.checkContent(e),t.copy(e)}function Cne(t,e,n,r,i){let s=t.depth>i&&hM(t,e,i+1),a=r.depth>i&&hM(n,r,i+1),o=[];return Cb(null,t,i,o),s&&a&&e.index(i)==n.index(i)?(Ene(s,a),Wp(Kp(s,Cne(t,e,n,r,i+1)),o)):(s&&Wp(Kp(s,CS(t,e,i+1)),o),Cb(e,n,i,o),a&&Wp(Kp(a,CS(n,r,i+1)),o)),Cb(r,null,i,o),new ct(o)}function CS(t,e,n){let r=[];if(Cb(null,t,n,r),t.depth>n){let i=hM(t,e,n+1);Wp(Kp(i,CS(t,e,n+1)),r)}return Cb(e,null,n,r),new ct(r)}function fLe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ct.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class I0{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return si.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let o=r;r=i,i=o}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new AS(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:o,offset:c}=a.content.findIndex(s),u=s-c;if(r.push(a,o,i+c),!u||(a=a.child(o),a.isText))break;s=u-1,i+=c+1}return new I0(n,r,s)}static resolveCached(e,n){let r=lU.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else lU.set(e,r=new hLe);let i=r.elts[r.i]=I0.resolve(e,n);return r.i=(r.i+1)%pLe,i}}class hLe{constructor(){this.elts=[],this.i=0}}const pLe=12,lU=new WeakMap;class AS{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const mLe=Object.create(null);let Nh=class pM{constructor(e,n,r,i=si.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ct.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&_S(this.attrs,n||e.defaultAttrs||mLe)&&si.sameSet(this.marks,r||si.none)}copy(e=null){return e==this.content?this:new pM(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new pM(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return It.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),o=i.start(a),u=i.node(a).content.cut(i.pos-o,s.pos-o);return new It(u,i.depth-a,s.depth-a)}replace(e,n,r){return dLe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return I0.resolveCached(this,e)}resolveNoCache(e){return I0.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Ane(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ct.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),o=a&&a.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=si.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!si.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ct.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Nh.prototype.text=void 0;class kS extends Nh{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ane(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new kS(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new kS(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Ane(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class mm{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new gLe(e,n);if(r.next==null)return mm.empty;let i=kne(r);r.next&&r.err("Unexpected trailing text");let s=NLe(SLe(i));return _Le(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,o){let c=a.matchFragment(e,r);if(c&&(!n||c.validEnd))return ct.from(o.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:f}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let m=s(f,o.concat(d));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:c}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!i.type||c.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}mm.empty=new mm(!0);class gLe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function kne(t){let e=[];do e.push(vLe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function vLe(t){let e=[];do e.push(yLe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function yLe(t){let e=wLe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=bLe(t,e);else break;return e}function cU(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function bLe(t,e){let n=cU(t),r=n;return t.eat(",")&&(t.next!="}"?r=cU(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function xLe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function wLe(t){if(t.eat("(")){let e=kne(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=xLe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function SLe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,o,c){let u={term:c,to:o};return e[a].push(u),u}function i(a,o){a.forEach(c=>c.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((c,u)=>c.concat(s(u,o)),[]);if(a.type=="seq")for(let c=0;;c++){let u=s(a.exprs[c],o);if(c==a.exprs.length-1)return u;i(u,o=n())}else if(a.type=="star"){let c=n();return r(o,c),i(s(a.expr,c),c),[r(c)]}else if(a.type=="plus"){let c=n();return i(s(a.expr,o),c),i(s(a.expr,c),c),[r(c)]}else{if(a.type=="opt")return[r(o)].concat(s(a.expr,o));if(a.type=="range"){let c=o;for(let u=0;u<a.min;u++){let d=n();i(s(a.expr,c),d),c=d}if(a.max==-1)i(s(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let d=n();r(c,d),i(s(a.expr,c),d),c=d}return[r(c)]}else{if(a.type=="name")return[r(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function jne(t,e){return e-t}function uU(t,e){let n=[];return r(e),n.sort(jne);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:o,to:c}=s[a];!o&&n.indexOf(c)==-1&&r(c)}}}function NLe(t){let e=Object.create(null);return n(uU(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:o,to:c})=>{if(!o)return;let u;for(let d=0;d<i.length;d++)i[d][0]==o&&(u=i[d][1]);uU(t,c).forEach(d=>{u||i.push([o,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let s=e[r.join(",")]=new mm(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(jne);s.next.push({type:i[a][0],next:e[o.join(",")]||n(o)})}return s}}function _Le(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:c,next:u}=i.next[o];a.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Tne(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function One(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Pne(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function Mne(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new CLe(t,r,e[r]);return n}let dU=class Rne{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Mne(e,r.attrs),this.defaultAttrs=Tne(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==mm.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:One(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Nh(this,this.computeAttrs(e),ct.from(n),si.setFrom(r))}createChecked(e=null,n,r){return n=ct.from(n),this.checkContent(n),new Nh(this,this.computeAttrs(e),n,si.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ct.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ct.empty,!0);return s?new Nh(this,e,n.append(s),si.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Pne(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:si.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new Rne(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ELe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class CLe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ELe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class V_{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Mne(e,i.attrs),this.excluded=null;let s=Tne(this.attrs);this.instance=s?new si(this,s):null}create(e=null){return!e&&this.instance?this.instance:new si(this,One(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new V_(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Pne(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Ine{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Na.from(e.nodes),n.marks=Na.from(e.marks||{}),this.nodes=dU.compile(this.spec.nodes,this),this.marks=V_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=mm.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?fU(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:fU(this,a.split(" "))}this.nodeFromJSON=i=>Nh.fromJSON(this,i),this.markFromJSON=i=>si.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof dU){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new kS(r,r.defaultAttrs,e,si.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function fU(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let o in t.marks){let c=t.marks[o];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function ALe(t){return t.tag!=null}function kLe(t){return t.style!=null}let Ab=class mM{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(ALe(i))this.tags.push(i);else if(kLe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new pU(this,n,!1);return r.addAll(e,si.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new pU(this,n,!0);return r.addAll(e,si.none,n.from,n.to),It.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(OLe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=n))){if(a.getAttrs){let c=a.getAttrs(n);if(c===!1)continue;a.attrs=c||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let o=n[a];if((o.priority==null?50:o.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=mU(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=mU(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new mM(e,mM.schemaRules(e)))}};const Dne={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},jLe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Lne={ol:!0,ul:!0},D0=1,gM=2,kb=4;function hU(t,e,n){return e!=null?(e?D0:0)|(e==="full"?gM:0):t&&t.whitespace=="pre"?D0|gM:n&~kb}class tw{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=si.none,this.match=s||(a&kb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ct.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&D0)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ct.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ct.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Dne.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class pU{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=hU(null,n.preserveWhitespace,0)|(r?kb:0);i?s=new tw(i.type,i.attrs,si.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new tw(null,null,si.none,!0,null,a):s=new tw(e.schema.topNodeType,null,si.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&gM?"full":this.localPreserveWS||(i.options&D0)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],o=e.previousSibling;(!a||o&&o.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),o;Lne.hasOwnProperty(a)&&this.parser.normalizeLists&&TLe(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));e:if(c?c.ignore:jLe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(Dne.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(s),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let o=void 0;;){let c=this.parser.matchStyle(s,a,this,o);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)o=c;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(a,n.attrs||null,r,n.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(o)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,o=i==null?null:e.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,o=0;a>=0;a--){let c=this.nodes[a],u=c.findWrapping(e);if(u&&(!i||i.length>u.length+o)&&(i=u,s=c,!u.length))break;if(c.solid){if(r)break;o+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=si.none;for(let o of i.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):gU(o.type,e.type))&&(a=o.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let o=hU(e,s,a.options);a.options&kb&&a.content.length==0&&(o|=kb);let c=si.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):gU(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new tw(e,n,c,i,null,o)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=D0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(o,c)=>{for(;o>=0;o--){let u=n[o];if(u==""){if(o==n.length-1||o==0)continue;for(;c>=s;c--)if(a(o-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function TLe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Lne.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function OLe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mU(t){let e={};for(let n in t)e[n]=t[n];return e}function gU(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=o=>{s.push(o);for(let c=0;c<o.edgeCount;c++){let{type:u,next:d}=o.edge(c);if(u==e||s.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class Om{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=iT(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let o=0,c=0;for(;o<s.length&&c<a.marks.length;){let u=a.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(s[o][0])||u.type.spec.spanning===!1)break;o++,c++}for(;o<s.length;)i=s.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],d=this.serializeMark(u,a.isInline,n);d&&(s.push([u,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=zw(iT(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&zw(iT(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return zw(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Om(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=vU(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return vU(e.marks)}}function vU(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function iT(t){return t.document||window.document}const yU=new WeakMap;function PLe(t){let e=yU.get(t);return e===void 0&&yU.set(t,e=MLe(t)),e}function MLe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function zw(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=PLe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,c=n?t.createElementNS(n,i):t.createElement(i),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let m=f.indexOf(" ");m>0?c.setAttributeNS(f.slice(0,m),f.slice(m+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let m=e[f];if(m===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:b}=zw(t,m,n,r);if(c.appendChild(p),b){if(o)throw new RangeError("Multiple content holes");o=b}}}return{dom:c,contentDOM:o}}const Fne=65535,Bne=Math.pow(2,16);function RLe(t,e){return t+e*Bne}function bU(t){return t&Fne}function ILe(t){return(t-(t&Fne))/Bne}const $ne=1,zne=2,qw=4,qne=8;class vM{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&qne)>0}get deletedBefore(){return(this.delInfo&($ne|qw))>0}get deletedAfter(){return(this.delInfo&(zne|qw))>0}get deletedAcross(){return(this.delInfo&qw)>0}}class bl{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&bl.empty)return bl.empty}recover(e){let n=0,r=bU(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+ILe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?i:0);if(c>e)break;let u=this.ranges[o+s],d=this.ranges[o+a],f=c+u;if(e<=f){let m=u?e==c?-1:e==f?1:n:n,p=c+i+(m<0?0:d);if(r)return p;let b=e==(n<0?c:f)?null:RLe(o/3,e-c),v=e==c?zne:e==f?$ne:qw;return(n<0?e!=c:e!=f)&&(v|=qne),new vM(p,v,b)}i+=d-u}return r?e+i:new vM(e+i,0,null)}touches(e,n){let r=0,i=bU(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?r:0);if(c>e)break;let u=this.ranges[o+s],d=c+u;if(e<=d&&o==i*3)return!0;r+=this.ranges[o+a]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),c=a+(this.inverted?0:s),u=this.ranges[i+n],d=this.ranges[i+r];e(o,o+u,c,c+d),s+=d-u}}invert(){return new bl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?bl.empty:new bl(e<0?[0,-e,0]:[0,0,e])}}bl.empty=new bl([]);class L0{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new L0(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new L0;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(e,n);if(o.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(o.recover);continue}}i|=o.delInfo,e=o.pos}return r?e:new vM(e,i,null)}}const sT=Object.create(null);class Qa{getMap(){return bl.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=sT[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in sT)throw new RangeError("Duplicate use of step JSON ID "+e);return sT[e]=n,n.prototype.jsonID=e,n}}class Ps{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ps(e,null)}static fail(e){return new Ps(null,e)}static fromReplace(e,n,r,i){try{return Ps.ok(e.replace(n,r,i))}catch(s){if(s instanceof ES)return Ps.fail(s.message);throw s}}}function FI(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(FI(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ct.fromArray(r)}class hh extends Qa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new It(FI(n.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Ps.fromReplace(e,this.from,this.to,s)}invert(){return new Vc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new hh(n.pos,r.pos,this.mark)}merge(e){return e instanceof hh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new hh(n.from,n.to,e.markFromJSON(n.mark))}}Qa.jsonID("addMark",hh);class Vc extends Qa{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new It(FI(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ps.fromReplace(e,this.from,this.to,r)}invert(){return new hh(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vc(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vc(n.from,n.to,e.markFromJSON(n.mark))}}Qa.jsonID("removeMark",Vc);class ph extends Qa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ps.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ps.fromReplace(e,this.pos,this.pos+1,new It(ct.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ph(this.pos,n.marks[i]);return new ph(this.pos,this.mark)}}return new gm(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ph(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ph(n.pos,e.markFromJSON(n.mark))}}Qa.jsonID("addNodeMark",ph);class gm extends Qa{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ps.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ps.fromReplace(e,this.pos,this.pos+1,new It(ct.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ph(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gm(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new gm(n.pos,e.markFromJSON(n.mark))}}Qa.jsonID("removeNodeMark",gm);class ca extends Qa{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&yM(e,this.from,this.to)?Ps.fail("Structure replace would overwrite content"):Ps.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new bl([this.from,this.to-this.from,this.slice.size])}invert(e){return new ca(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ca(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ca)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?It.empty:new It(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ca(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?It.empty:new It(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ca(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ca(n.from,n.to,It.fromJSON(e,n.slice),!!n.structure)}}Qa.jsonID("replace",ca);class fa extends Qa{constructor(e,n,r,i,s,a,o=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(e){if(this.structure&&(yM(e,this.from,this.gapFrom)||yM(e,this.gapTo,this.to)))return Ps.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ps.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ps.fromReplace(e,this.from,this.to,r):Ps.fail("Content does not fit in gap")}getMap(){return new bl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new fa(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new fa(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new fa(n.from,n.to,n.gapFrom,n.gapTo,It.fromJSON(e,n.slice),n.insert,!!n.structure)}}Qa.jsonID("replaceAround",fa);function yM(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function DLe(t,e,n,r){let i=[],s=[],a,o;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let m=Math.max(u,e),p=Math.min(u+c.nodeSize,n),b=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(b)||(a&&a.to==m&&a.mark.eq(f[v])?a.to=p:i.push(a=new Vc(m,p,f[v])));o&&o.to==m?o.to=p:s.push(o=new hh(m,p,r))}}),i.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function LLe(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,o)=>{if(!a.isInline)return;s++;let c=null;if(r instanceof V_){let u=a.marks,d;for(;d=r.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(c=[r]):c=a.marks;if(c&&c.length){let u=Math.min(o+a.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],m;for(let p=0;p<i.length;p++){let b=i[p];b.step==s-1&&f.eq(i[p].style)&&(m=b)}m?(m.to=u,m.step=s):i.push({style:f,from:Math.max(o,e),to:u,step:s})}}}),i.forEach(a=>t.step(new Vc(a.from,a.to,a.style)))}function BI(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],o=e+1;for(let c=0;c<s.childCount;c++){let u=s.child(c),d=o+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new ca(o,d,It.empty));else{r=f;for(let m=0;m<u.marks.length;m++)n.allowsMarkType(u.marks[m].type)||t.step(new Vc(o,d,u.marks[m]));if(i&&u.isText&&n.whitespace!="pre"){let m,p=/\r?\n|\r/g,b;for(;m=p.exec(u.text);)b||(b=new It(ct.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new ca(o+m.index,o+m.index+m[0].length,b))}}o=d}if(!r.validEnd){let c=r.fillBefore(ct.empty,!0);t.replace(o,o,new It(c,0,0))}for(let c=a.length-1;c>=0;c--)t.step(a[c])}function FLe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function oy(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!FLe(i,s,a))break}return null}function BLe(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),o=i.after(s+1),c=a,u=o,d=ct.empty,f=0;for(let b=s,v=!1;b>n;b--)v||r.index(b)>0?(v=!0,d=ct.from(r.node(b).copy(d)),f++):c--;let m=ct.empty,p=0;for(let b=s,v=!1;b>n;b--)v||i.after(b+1)<i.end(b)?(v=!0,m=ct.from(i.node(b).copy(m)),p++):u++;t.step(new fa(c,u,a,o,new It(d.append(m),f,p),d.size-f,!0))}function $I(t,e,n=null,r=t){let i=$Le(t,e),s=i&&zLe(r,e);return s?i.map(xU).concat({type:e,attrs:n}).concat(s.map(xU)):null}function xU(t){return{type:t,attrs:null}}function $Le(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function zLe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let c=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;c&&u<i;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:a}function qLe(t,e,n){let r=ct.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let o=n[a].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ct.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new fa(i,s,i,s,new It(r,0,0),n.length,!0))}function ULe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,o)=>{let c=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,c)&&HLe(t.doc,t.mapping.slice(s).map(o),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!b?u=!1:!p&&b&&(u=!0)}u===!1&&Hne(t,a,o,s),BI(t,t.mapping.slice(s).map(o,1),r,void 0,u===null);let d=t.mapping.slice(s),f=d.map(o,1),m=d.map(o+a.nodeSize,1);return t.step(new fa(f,m,f+1,m-1,new It(ct.from(r.create(c,null,a.marks)),0,0),1,!0)),u===!0&&Une(t,a,o,s),!1}})}function Une(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let c=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function Hne(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function HLe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function VLe(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new fa(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new It(ct.from(a),0,0),1,!0))}function Qd(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,d=n-2;u>s;u--,d--){let f=i.node(u),m=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(m,f.childCount),b=r&&r[d+1];b&&(p=p.replaceChild(0,b.type.create(b.attrs)));let v=r&&r[d]||f;if(!f.canReplace(m+1,f.childCount)||!v.type.validContent(p))return!1}let o=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(o,o,c?c.type:i.node(s+1).type)}function WLe(t,e,n=1,r){let i=t.doc.resolve(e),s=ct.empty,a=ct.empty;for(let o=i.depth,c=i.depth-n,u=n-1;o>c;o--,u--){s=ct.from(i.node(o).copy(s));let d=r&&r[u];a=ct.from(d?d.type.create(d.attrs,a):i.node(o).copy(a))}t.step(new ca(e,e,new It(s.append(a),n,n),!0))}function Vh(t,e){let n=t.resolve(e),r=n.index();return Vne(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function KLe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function Vne(t,e){return!!(t&&e&&!t.isLeaf&&KLe(t,e))}function W_(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,o=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),o++,a=r.node(i).maybeChild(o)):(s=r.node(i).maybeChild(o-1),a=r.node(i+1)),s&&!s.isTextblock&&Vne(s,a)&&r.node(i).canReplace(o,o+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function GLe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);d&&!f?r=!1:!d&&f&&(r=!0)}let o=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);Hne(t,d.node(),d.before(),o)}a.inlineContent&&BI(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let c=t.mapping.slice(o),u=c.map(e-n);if(t.step(new ca(u,c.map(e+n,-1),It.empty,!0)),r===!0){let d=t.doc.resolve(u);Une(t,d.node(),d.before(),t.steps.length)}return t}function YLe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Wne(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let o=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(o>0?1:0),u=r.node(a),d=!1;if(s==1)d=u.canReplace(c,c,i);else{let f=u.contentMatchAt(c).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return o==0?r.pos:o<0?r.before(a+1):r.after(a+1)}return null}function K_(t,e,n=e,r=It.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return Kne(i,s,r)?new ca(e,n,r):new XLe(i,s,r).fit()}function Kne(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class XLe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ct.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ct.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let c=new It(s,a,o);return e>-1?new fa(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new ca(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=aT(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:c,match:u}=this.frontier[o],d,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(ct.from(a),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:o,parent:s,inject:f};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:o,parent:s,wrap:d};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=aT(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new It(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=aT(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new It(cb(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new It(cb(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let a=this.unplaced,o=r?r.content:a.content,c=a.openStart-e,u=0,d=[],{match:f,type:m}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)d.push(i.child(v));f=f.matchFragment(i)}let p=o.size+e-(a.content.size-a.openEnd);for(;u<o.childCount;){let v=o.child(u),y=f.matchType(v.type);if(!y)break;u++,(u>1||c==0||v.content.size)&&(f=y,d.push(Gne(v.mark(m.allowedMarks(v.marks)),u==1?c:0,u==o.childCount?p:-1)))}let b=u==o.childCount;b||(p=-1),this.placed=ub(this.placed,n,ct.from(d)),this.frontier[n].match=f,b&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,y=o;v<p;v++){let w=y.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),y=w.content}this.unplaced=b?e==0?It.empty:new It(cb(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new It(cb(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!oT(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=oT(e,n,i,r,s);if(a){for(let o=n-1;o>=0;o--){let{match:c,type:u}=this.frontier[o],d=oT(e,o,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ub(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ub(this.placed,this.depth,ct.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ct.empty,!0);n.childCount&&(this.placed=ub(this.placed,this.frontier.length,n))}}function cb(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(cb(t.firstChild.content,e-1,n)))}function ub(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ub(t.lastChild.content,e-1,n)))}function aT(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Gne(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Gne(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ct.empty,!0)))),t.copy(r)}function oT(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let o=r.fillBefore(s.content,!0,a);return o&&!ZLe(n,s.content,a)?o:null}function ZLe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function QLe(t){return t.spec.defining||t.spec.definingForContent}function JLe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(Kne(i,s,r))return t.step(new ca(e,n,r));let a=Xne(i,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let m=i.depth,p=i.pos-1;m>0;m--,p--){let b=i.node(m).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(m)>-1?o=m:i.before(m)==p&&a.splice(1,0,-m)}let c=a.indexOf(o),u=[],d=r.openStart;for(let m=r.content,p=0;;p++){let b=m.firstChild;if(u.push(b),p==r.openStart)break;m=b.content}for(let m=d-1;m>=0;m--){let p=u[m],b=QLe(p.type);if(b&&!p.sameMarkup(i.node(Math.abs(o)-1)))d=m;else if(b||!p.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let p=(m+d+1)%(r.openStart+1),b=u[p];if(b)for(let v=0;v<a.length;v++){let y=a[(v+c)%a.length],w=!0;y<0&&(w=!1,y=-y);let _=i.node(y-1),E=i.index(y-1);if(_.canReplaceWith(E,E,b.type,b.marks))return t.replace(i.before(y),w?s.after(y):n,new It(Yne(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let m=a.length-1;m>=0&&(t.replace(e,n,r),!(t.steps.length>f));m--){let p=a[m];p<0||(e=i.before(p),n=s.after(p))}}function Yne(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Yne(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(ct.empty,!0))}return t}function e6e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=YLe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new It(ct.from(r),0,0))}function t6e(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=Xne(r,i);for(let a=0;a<s.length;a++){let o=s[a],c=a==s.length-1;if(c&&o==0||r.node(o).type.contentMatch.validEnd)return t.delete(r.start(o),i.end(o));if(o>0&&(c||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return t.delete(r.before(o),i.after(o))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function Xne(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Jg extends Qa{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ps.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ps.fromReplace(e,this.pos,this.pos+1,new It(ct.from(i),0,n.isLeaf?0:1))}getMap(){return bl.empty}invert(e){return new Jg(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Jg(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Jg(n.pos,n.attr,n.value)}}Qa.jsonID("attr",Jg);class F0 extends Qa{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ps.ok(r)}getMap(){return bl.empty}invert(e){return new F0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new F0(n.attr,n.value)}}Qa.jsonID("docAttr",F0);let Pv=class extends Error{};Pv=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Pv.prototype=Object.create(Error.prototype);Pv.prototype.constructor=Pv;Pv.prototype.name="TransformError";class zI{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new L0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Pv(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=It.empty){let i=K_(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new It(ct.from(r),0,0))}delete(e,n){return this.replace(e,n,It.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return JLe(this,e,n,r),this}replaceRangeWith(e,n,r){return e6e(this,e,n,r),this}deleteRange(e,n){return t6e(this,e,n),this}lift(e,n){return BLe(this,e,n),this}join(e,n=1){return GLe(this,e,n),this}wrap(e,n){return qLe(this,e,n),this}setBlockType(e,n=e,r,i=null){return ULe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return VLe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Jg(e,n,r)),this}setDocAttribute(e,n){return this.step(new F0(e,n)),this}addNodeMark(e,n){return this.step(new ph(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof si)n.isInSet(r.marks)&&this.step(new gm(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new gm(e,s)),i=s.removeFromSet(i);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(e,n=1,r){return WLe(this,e,n,r),this}addMark(e,n,r){return DLe(this,e,n,r),this}removeMark(e,n,r){return LLe(this,e,n,r),this}clearIncompatible(e,n,r){return BI(this,e,n,r),this}}const lT=Object.create(null);class Mn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Zne(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=It.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:c,$to:u}=a[o],d=e.mapping.slice(s);e.replaceRange(d.map(c.pos),d.map(u.pos),o?It.empty:n),o==0&&NU(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],c=e.mapping.slice(r),u=c.map(a.pos),d=c.map(o.pos);s?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),NU(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Nn(e):Eg(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?Eg(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Eg(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new _l(e.node(0))}static atStart(e){return Eg(e,e,0,0,1)||new _l(e)}static atEnd(e){return Eg(e,e,e.content.size,e.childCount,-1)||new _l(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=lT[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in lT)throw new RangeError("Duplicate use of selection JSON ID "+e);return lT[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Nn.between(this.$anchor,this.$head).getBookmark()}}Mn.prototype.visible=!0;class Zne{constructor(e,n){this.$from=e,this.$to=n}}let wU=!1;function SU(t){!wU&&!t.parent.inlineContent&&(wU=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Nn extends Mn{constructor(e,n=e){SU(e),SU(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Mn.near(r);let i=e.resolve(n.map(this.anchor));return new Nn(i.parent.inlineContent?i:r,r)}replace(e,n=It.empty){if(super.replace(e,n),n==It.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Nn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new G_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Nn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Mn.findFrom(n,r,!0)||Mn.findFrom(n,-r,!0);if(s)n=s.$head;else return Mn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Mn.findFrom(e,-r,!0)||Mn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Nn(e,n)}}Mn.jsonID("text",Nn);class G_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new G_(e.map(this.anchor),e.map(this.head))}resolve(e){return Nn.between(e.resolve(this.anchor),e.resolve(this.head))}}class bn extends Mn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Mn.near(s):new bn(s)}content(){return new It(ct.from(this.node),0,0)}eq(e){return e instanceof bn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qI(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new bn(e.resolve(n.anchor))}static create(e,n){return new bn(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}bn.prototype.visible=!1;Mn.jsonID("node",bn);class qI{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new G_(r,r):new qI(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&bn.isSelectable(r)?new bn(n):Mn.near(n)}}class _l extends Mn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=It.empty){if(n==It.empty){e.delete(0,e.doc.content.size);let r=Mn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new _l(e)}map(e){return new _l(e)}eq(e){return e instanceof _l}getBookmark(){return n6e}}Mn.jsonID("all",_l);const n6e={map(){return this},resolve(t){return new _l(t)}};function Eg(t,e,n,r,i,s=!1){if(e.inlineContent)return Nn.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let o=e.child(a);if(o.isAtom){if(!s&&bn.isSelectable(o))return bn.create(t,n-(i<0?o.nodeSize:0))}else{let c=Eg(t,o,n+i,i<0?o.childCount:0,i,s);if(c)return c}n+=o.nodeSize*i}return null}function NU(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ca||i instanceof fa))return;let s=t.mapping.maps[r],a;s.forEach((o,c,u,d)=>{a==null&&(a=d)}),t.setSelection(Mn.near(t.doc.resolve(a),n))}const _U=1,nw=2,EU=4;class r6e extends zI{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_U)&~nw,this.storedMarks=null,this}get selectionSet(){return(this.updated&_U)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=nw,this}ensureMarks(e){return si.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&nw)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~nw,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||si.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Mn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=EU,this}get scrolledIntoView(){return(this.updated&EU)>0}}function CU(t,e){return!e||!t?t:t.bind(e)}class db{constructor(e,n,r){this.name=e,this.init=CU(n.init,r),this.apply=CU(n.apply,r)}}const i6e=[new db("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new db("selection",{init(t,e){return t.selection||Mn.atStart(e.doc)},apply(t){return t.selection}}),new db("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new db("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class cT{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=i6e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new db(r.key,r.spec.state,r))})}}class Lg{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let c=i?i[a].n:0,u=i?i[a].state:this,d=c<n.length&&o.spec.appendTransaction.call(o,c?n.slice(c):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Lg(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new r6e(this)}static create(e){let n=new cT(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Lg(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new cT(this.schema,e.plugins),r=n.fields,i=new Lg(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new cT(e.schema,e.plugins),s=new Lg(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Nh.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Mn.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let o in r){let c=r[o],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){s[a.name]=u.fromJSON.call(c,e,n[o],s);return}}s[a.name]=a.init(e,s)}}),s}}function Qne(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Qne(i,e,{})),n[r]=i}return n}class Ci{constructor(e){this.spec=e,this.props={},e.props&&Qne(e.props,this,this.props),this.key=e.key?e.key.key:Jne("plugin")}getState(e){return e[this.key]}}const uT=Object.create(null);function Jne(t){return t in uT?t+"$"+ ++uT[t]:(uT[t]=0,t+"$")}class ds{constructor(e="key"){this.key=Jne(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const UI=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ere(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const tre=(t,e,n)=>{let r=ere(t,n);if(!r)return!1;let i=HI(r);if(!i){let a=r.blockRange(),o=a&&oy(a);return o==null?!1:(e&&e(t.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(ure(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Mv(s,"end")||bn.isSelectable(s)))for(let a=r.depth;;a--){let o=K_(t.doc,r.before(a),r.after(a),It.empty);if(o&&o.slice.size<o.to-o.from){if(e){let c=t.tr.step(o);c.setSelection(Mv(s,"end")?Mn.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):bn.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},s6e=(t,e,n)=>{let r=ere(t,n);if(!r)return!1;let i=HI(r);return i?nre(t,i,e):!1},a6e=(t,e,n)=>{let r=ire(t,n);if(!r)return!1;let i=VI(r);return i?nre(t,i,e):!1};function nre(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=e.nodeAfter,o=a,c=e.pos+1;for(;!o.isTextblock;c++){if(o.type.spec.isolating)return!1;let d=o.firstChild;if(!d)return!1;o=d}let u=K_(t.doc,s,c,It.empty);if(!u||u.from!=s||u instanceof ca&&u.slice.size>=c-s)return!1;if(n){let d=t.tr.step(u);d.setSelection(Nn.create(d.doc,s)),n(d.scrollIntoView())}return!0}function Mv(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const rre=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=HI(r)}let a=s&&s.nodeBefore;return!a||!bn.isSelectable(a)?!1:(e&&e(t.tr.setSelection(bn.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function HI(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ire(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const sre=(t,e,n)=>{let r=ire(t,n);if(!r)return!1;let i=VI(r);if(!i)return!1;let s=i.nodeAfter;if(ure(t,i,e,1))return!0;if(r.parent.content.size==0&&(Mv(s,"start")||bn.isSelectable(s))){let a=K_(t.doc,r.before(),r.after(),It.empty);if(a&&a.slice.size<a.to-a.from){if(e){let o=t.tr.step(a);o.setSelection(Mv(s,"start")?Mn.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):bn.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},are=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=VI(r)}let a=s&&s.nodeAfter;return!a||!bn.isSelectable(a)?!1:(e&&e(t.tr.setSelection(bn.create(t.doc,s.pos)).scrollIntoView()),!0)};function VI(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const o6e=(t,e)=>{let n=t.selection,r=n instanceof bn,i;if(r){if(n.node.isTextblock||!Vh(t.doc,n.from))return!1;i=n.from}else if(i=W_(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(bn.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},l6e=(t,e)=>{let n=t.selection,r;if(n instanceof bn){if(n.node.isTextblock||!Vh(t.doc,n.to))return!1;r=n.to}else if(r=W_(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},c6e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&oy(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},ore=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function WI(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const u6e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=WI(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let o=n.after(),c=t.tr.replaceWith(o,o,a.createAndFill());c.setSelection(Mn.near(c.doc.resolve(o),1)),e(c.scrollIntoView())}return!0},lre=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof _l||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=WI(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=t.tr.insert(a,s.createAndFill());o.setSelection(Nn.create(o.doc,a+1)),e(o.scrollIntoView())}return!0},cre=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Qd(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&oy(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function d6e(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof bn&&e.selection.node.isBlock)return!r.parentOffset||!Qd(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,o,c=!1,u=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){c=r.end(p)==r.pos+(r.depth-p),u=r.start(p)==r.pos-(r.depth-p),o=WI(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(c&&o?{type:o}:null),a=p;break}else{if(p==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof Nn||e.selection instanceof _l)&&d.deleteSelection();let f=d.mapping.map(r.pos),m=Qd(d.doc,f,s.length,s);if(m||(s[0]=o?{type:o}:null,m=Qd(d.doc,f,s.length,s)),!m)return!1;if(d.split(f,s.length,s),!c&&u&&r.node(a).type!=o){let p=d.mapping.map(r.before(a)),b=d.doc.resolve(p);o&&r.node(a-1).canReplaceWith(b.index(),b.index()+1,o)&&d.setNodeMarkup(d.mapping.map(r.before(a)),o)}return n&&n(d.scrollIntoView()),!0}}const f6e=d6e(),h6e=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(bn.create(t.doc,i))),!0)};function p6e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Vh(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function ure(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,o,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&p6e(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,b=ct.empty;for(let w=a.length-1;w>=0;w--)b=ct.from(a[w].create(null,b));b=ct.from(i.copy(b));let v=t.tr.step(new fa(e.pos-1,p,e.pos,p,new It(b,1,0),a.length,!0)),y=v.doc.resolve(p+2*a.length);y.nodeAfter&&y.nodeAfter.type==i.type&&Vh(v.doc,y.pos)&&v.join(y.pos),n(v.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&c?null:Mn.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),m=f&&oy(f);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(f,m).scrollIntoView()),!0;if(u&&Mv(s,"start",!0)&&Mv(i,"end")){let p=i,b=[];for(;b.push(p),!p.isTextblock;)p=p.lastChild;let v=s,y=1;for(;!v.isTextblock;v=v.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,v.content)){if(n){let w=ct.empty;for(let E=b.length-1;E>=0;E--)w=ct.from(b[E].copy(w));let _=t.tr.step(new fa(e.pos-b.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new It(w,b.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function dre(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Nn.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const m6e=dre(-1),g6e=dre(1);function v6e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),o=a&&$I(a,t,e);return o?(r&&r(n.tr.wrap(a,o).scrollIntoView()),!0):!1}}function AU(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:o}}=n.selection.ranges[s];n.doc.nodesBetween(a,o,(c,u)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let d=n.doc.resolve(u),f=d.index();i=d.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:c}}=n.selection.ranges[a];s.setBlockType(o,c,t,e)}r(s.scrollIntoView())}return!0}}function KI(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}KI(UI,tre,rre);KI(UI,sre,are);KI(ore,lre,cre,f6e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function y6e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let o=r?n.tr:null;return b6e(o,a,t,e)?(r&&r(o.scrollIntoView()),!0):!1}}function b6e(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=a.resolve(e.start-2);s=new AS(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new AS(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let o=$I(s,n,r,e);return o?(t&&x6e(t,e,o,i,n),!0):!1}function x6e(t,e,n,r,i){let s=ct.empty;for(let d=n.length-1;d>=0;d--)s=ct.from(n[d].type.create(n[d].attrs,s));t.step(new fa(e.start-(r?2:0),e.end,e.start,e.end,new It(s,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let o=n.length-a,c=e.start+n.length-(r?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,m=!0;d<f;d++,m=!1)!m&&Qd(t.doc,c,o)&&(t.split(c,o),c+=2*o),c+=u.child(d).nodeSize;return t}function w6e(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?S6e(e,n,t,s):N6e(e,n,s):!0:!1}}function S6e(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new fa(s-1,a,s,a,new It(ct.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new AS(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const o=oy(r);if(o==null)return!1;i.lift(r,o);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return Vh(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function N6e(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,b=n.endIndex-1,v=n.startIndex;b>v;b--)p-=i.child(b).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,c=n.endIndex==i.childCount,u=s.node(-1),d=s.index(-1);if(!u.canReplace(d+(o?0:1),d+1,a.content.append(c?ct.empty:ct.from(i))))return!1;let f=s.pos,m=f+a.nodeSize;return r.step(new fa(f-(o?1:0),m+(c?1:0),f+1,m-1,new It((o?ct.empty:ct.from(i.copy(ct.empty))).append(c?ct.empty:ct.from(i.copy(ct.empty))),o?0:1,c?0:1),o?0:1)),e(r.scrollIntoView()),!0}function _6e(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let o=s.parent,c=o.child(a-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==o.type,d=ct.from(u?t.create():null),f=new It(ct.from(t.create(null,ct.from(o.type.create(null,d)))),u?3:1,0),m=s.start,p=s.end;n(e.tr.step(new fa(m-(u?3:1),p,m,p,f,1,!0)).scrollIntoView())}return!0}}const _a=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Rv=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let bM=null;const qd=function(t,e,n){let r=bM||(bM=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},E6e=function(){bM=null},vm=function(t,e,n,r){return n&&(kU(t,e,n,r,-1)||kU(t,e,n,r,1))},C6e=/^(img|br|input|textarea|hr)$/i;function kU(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ec(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Ox(t)||C6e.test(t.nodeName)||t.contentEditable=="false")return!1;e=_a(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?ec(t):0}else return!1}}function ec(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function A6e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ec(t)}else if(t.parentNode&&!Ox(t))e=_a(t),t=t.parentNode;else return null}}function k6e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ox(t))e=_a(t)+1,t=t.parentNode;else return null}}function j6e(t,e,n){for(let r=e==0,i=e==ec(t);r||i;){if(t==n)return!0;let s=_a(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==ec(t)}}function Ox(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Y_=function(t){return t.focusNode&&vm(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function jp(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function T6e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function O6e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ec(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ec(r.startContainer),r.startOffset)}}}const Qu=typeof navigator<"u"?navigator:null,jU=typeof document<"u"?document:null,Wh=Qu&&Qu.userAgent||"",xM=/Edge\/(\d+)/.exec(Wh),fre=/MSIE \d/.exec(Wh),wM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wh),Wo=!!(fre||wM||xM),_h=fre?document.documentMode:wM?+wM[1]:xM?+xM[1]:0,ic=!Wo&&/gecko\/(\d+)/i.test(Wh);ic&&+(/Firefox\/(\d+)/.exec(Wh)||[0,0])[1];const SM=!Wo&&/Chrome\/(\d+)/.exec(Wh),Ya=!!SM,hre=SM?+SM[1]:0,go=!Wo&&!!Qu&&/Apple Computer/.test(Qu.vendor),Iv=go&&(/Mobile\/\w+/.test(Wh)||!!Qu&&Qu.maxTouchPoints>2),Ql=Iv||(Qu?/Mac/.test(Qu.platform):!1),P6e=Qu?/Win/.test(Qu.platform):!1,Gd=/Android \d/.test(Wh),Px=!!jU&&"webkitFontSmoothing"in jU.documentElement.style,M6e=Px?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function R6e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Dd(t,e){return typeof t=="number"?t:t[e]}function I6e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function TU(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Rv(a);continue}let o=a,c=o==s.body,u=c?R6e(s):I6e(o),d=0,f=0;if(e.top<u.top+Dd(r,"top")?f=-(u.top-e.top+Dd(i,"top")):e.bottom>u.bottom-Dd(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Dd(i,"top")-u.top:e.bottom-u.bottom+Dd(i,"bottom")),e.left<u.left+Dd(r,"left")?d=-(u.left-e.left+Dd(i,"left")):e.right>u.right-Dd(r,"right")&&(d=e.right-u.right+Dd(i,"right")),d||f)if(c)s.defaultView.scrollBy(d,f);else{let p=o.scrollLeft,b=o.scrollTop;f&&(o.scrollTop+=f),d&&(o.scrollLeft+=d);let v=o.scrollLeft-p,y=o.scrollTop-b;e={left:e.left-v,top:e.top-y,right:e.right-v,bottom:e.bottom-y}}let m=c?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(m))break;a=m=="absolute"?a.offsetParent:Rv(a)}}function D6e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let o=t.root.elementFromPoint(s,a);if(!o||o==t.dom||!t.dom.contains(o))continue;let c=o.getBoundingClientRect();if(c.top>=n-20){r=o,i=c.top;break}}return{refDOM:r,refTop:i,stack:pre(t.dom)}}function pre(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Rv(r));return e}function L6e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;mre(n,r==0?0:r-e)}function mre(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let gg=null;function F6e(t){if(t.setActive)return t.setActive();if(gg)return t.focus(gg);let e=pre(t);t.focus(gg==null?{get preventScroll(){return gg={preventScroll:!0},!0}}:void 0),gg||(gg=!1,mre(e,0))}function gre(t,e){let n,r=2e8,i,s=0,a=e.top,o=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=qd(d).getClientRects();else continue;for(let p=0;p<m.length;p++){let b=m[p];if(b.top<=a&&b.bottom>=o){a=Math.max(b.bottom,a),o=Math.min(b.top,o);let v=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(v<r){n=d,r=v,i=v&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,d.nodeType==1&&v&&(s=f+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=d,u={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=f+1)}}return!n&&c&&(n=c,i=u,r=0),n&&n.nodeType==3?B6e(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:gre(n,i)}function B6e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Qf(r,1);if(s.top!=s.bottom&&GI(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function GI(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function $6e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function z6e(t,e,n){let{node:r,offset:i}=gre(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function q6e(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let o=t.docView.nearestDesc(s,!0),c;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((c=o.dom.getBoundingClientRect()).width||c.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&c.left>r.left||c.top>r.top?i=o.posBefore:(!a&&c.right<r.left||c.bottom<r.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function vre(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let c=0;c<o.length;c++){let u=o[c];if(GI(e,u))return vre(a,e,u)}}if((s=(s+1)%r)==i)break}return t}function U6e(t,e){let n=t.dom.ownerDocument,r,i=0,s=O6e(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=t.dom.getBoundingClientRect();if(!GI(e,u)||(a=vre(t.dom,e,u),!a))return null}if(go)for(let u=a;r&&u;u=Rv(u))u.draggable&&(r=void 0);if(a=$6e(a,e),r){if(ic&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Px&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=q6e(t,r,i,e))}o==null&&(o=z6e(t,a,e));let c=t.docView.nearestDesc(a,!0);return{pos:o,inside:c?c.posAtStart-c.border:-1}}function OU(t){return t.top<t.bottom||t.left<t.right}function Qf(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(OU(r))return r}return Array.prototype.find.call(n,OU)||t.getBoundingClientRect()}const H6e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function yre(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=Px||ic;if(r.nodeType==3)if(a&&(H6e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=Qf(qd(r,i,i),n);if(ic&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Qf(qd(r,i-1,i-1),-1);if(u.top==c.top){let d=Qf(qd(r,i,i+1),-1);if(d.top!=c.top)return Qy(d,d.left<u.left)}}return c}else{let c=i,u=i,d=n<0?1:-1;return n<0&&!i?(u++,d=-1):n>=0&&i==r.nodeValue.length?(c--,d=1):n<0?c--:u++,Qy(Qf(qd(r,c,u),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==ec(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return dT(c.getBoundingClientRect(),!1)}if(s==null&&i<ec(r)){let c=r.childNodes[i];if(c.nodeType==1)return dT(c.getBoundingClientRect(),!0)}return dT(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==ec(r))){let c=r.childNodes[i-1],u=c.nodeType==3?qd(c,ec(c)-(a?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Qy(Qf(u,1),!1)}if(s==null&&i<ec(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?qd(c,0,a?0:1):c.nodeType==1?c:null:null;if(u)return Qy(Qf(u,-1),!0)}return Qy(Qf(r.nodeType==3?qd(r):r,-n),n>=0)}function Qy(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function dT(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function bre(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function V6e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return bre(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=yre(t,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let c;if(o.nodeType==1)c=o.getClientRects();else if(o.nodeType==3)c=qd(o,0,o.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const W6e=/[\u0590-\u08ac]/;function K6e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,o=t.domSelection();return o?!W6e.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?s:a:bre(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),m=o.caretBidiLevel;o.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:v}=t.domSelectionRange(),y=b&&!p.contains(b.nodeType==1?b:b.parentNode)||c==b&&u==v;try{o.collapse(d,f),c&&(c!=d||u!=f)&&o.extend&&o.extend(c,u)}catch{}return m!=null&&(o.caretBidiLevel=m),y}):r.pos==r.start()||r.pos==r.end()}let PU=null,MU=null,RU=!1;function G6e(t,e,n){return PU==e&&MU==n?RU:(PU=e,MU=n,RU=n=="up"||n=="down"?V6e(t,e,n):K6e(t,e,n))}const sc=0,IU=1,Fp=2,Ju=3;class Mx{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=sc,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>_a(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(o>e||a instanceof wre){i=e-s;break}s=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof xre&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?_a(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?_a(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,o=0;;o++){let c=this.children[o],u=a+c.size;if(i==-1&&e<=u){let d=a+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=a;for(let f=o;f>0;f--){let m=this.children[f-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=_a(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(u>n||o==this.children.length-1)){n=u;for(let d=o+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=_a(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let p=0,b=0;p<this.children.length;p++){let v=this.children[p],y=b+v.size;if(s>b&&a<y)return v.setSelection(e-b-v.border,n-b-v.border,r,i);b=y}let o=this.domFromPos(e,e?-1:1),c=n==e?o:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((ic||go)&&e==n){let{node:p,offset:b}=o;if(p.nodeType==3){if(f=!!(b&&p.nodeValue[b-1]==`
`),f&&b==p.nodeValue.length)for(let v=p,y;v;v=v.parentNode){if(y=v.nextSibling){y.nodeName=="BR"&&(o=c={node:y.parentNode,offset:_a(y)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=p.childNodes[b-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(ic&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&go)&&vm(o.node,o.offset,d.anchorNode,d.anchorOffset)&&vm(c.node,c.offset,d.focusNode,d.focusOffset))return;let m=!1;if((u.extend||e==n)&&!(f&&ic)){u.collapse(o.node,o.offset);try{e!=n&&u.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>n){let b=o;o=c,c=b}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(o.node,o.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let o=r+s.border,c=a-s.border;if(e>=o&&n<=c){this.dirty=e==r||n==a?Fp:IU,e==o&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ju:s.markDirty(e-o,n-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Fp:Ju}r=a}this.dirty=Fp}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Fp:IU;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class xre extends Mx{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==sc&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Y6e extends Mx{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ym extends Mx{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Om.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ym(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ju||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ju&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=sc){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=sc}}slice(e,n,r){let i=ym.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=_M(s,n,a,r)),e>0&&(s=_M(s,0,e,r));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Eh extends Mx{constructor(e,n,r,i,s,a,o,c,u){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(e,n,r,i,s,a){let o=s.nodeViews[n.type.name],c,u=o&&o(n,s,()=>{if(!c)return a;if(c.parent)return c.parent.posBeforeChild(c)},r,i),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Om.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=_re(d,r,n),u?c=new X6e(e,n,r,i,d,f||null,m,u,s,a+1):n.isText?new X_(e,n,r,i,d,m,s):new Eh(e,n,r,i,d,f||null,m,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ct.empty)}return e}matchesNode(e,n,r){return this.dirty==sc&&e.eq(this.node)&&jS(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,c=new Q6e(this,a&&a.node,e);tFe(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?si.none:this.node.child(d).marks,r,e),c.placeWidget(u,e,i)},(u,d,f,m)=>{c.syncToMarks(u.marks,r,e);let p;c.findNodeMatch(u,d,f,m)||o&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(u,d,f,p,e)||c.updateNextNode(u,d,f,e,m,i)||c.addNode(u,d,f,e,i),i+=u.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Fp)&&(a&&this.protectLocalComposition(e,a),Sre(this.contentDOM,this.children,e),Iv&&nFe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Nn)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=rFe(this.node.content,a,r-n,i-n);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new Y6e(this,s,n,i);e.input.compositionNodes.push(a),this.children=_M(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==Ju||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=sc}updateOuterDeco(e){if(jS(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Nre(this.dom,this.nodeDOM,NM(this.outerDeco,this.node,n),NM(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function DU(t,e,n,r,i){_re(r,e,t);let s=new Eh(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class X_ extends Eh{constructor(e,n,r,i,s,a,o){super(e,n,r,i,s,null,a,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ju||this.dirty!=sc&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=sc||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=sc,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new X_(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ju)}get domAtom(){return!1}isText(e){return this.node.text==e}}class wre extends Mx{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==sc&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class X6e extends Eh{constructor(e,n,r,i,s,a,o,c,u,d){super(e,n,r,i,s,a,o,u,d),this.spec=c}update(e,n,r,i){if(this.dirty==Ju)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Sre(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],o=a.dom;if(o.parentNode==t){for(;o!=r;)r=LU(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(o,r);if(a instanceof ym){let c=r?r.previousSibling:t.lastChild;Sre(a.contentDOM,a.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=LU(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const jb=function(t){t&&(this.nodeName=t)};jb.prototype=Object.create(null);const Bp=[new jb];function NM(t,e,n){if(t.length==0)return Bp;let r=n?Bp[0]:new jb,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new jb(a.nodeName));for(let o in a){let c=a[o];c!=null&&(n&&i.length==1&&i.push(r=new jb(e.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+c:o=="style"?r.style=(r.style?r.style+";":"")+c:o!="nodeName"&&(r[o]=c))}}}return i}function Nre(t,e,n,r){if(n==Bp&&r==Bp)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],o=n[s];if(s){let c;o&&o.nodeName==a.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(i),o=Bp[0]),i=c}Z6e(i,o||Bp[0],a)}return i}function Z6e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function _re(t,e,n){return Nre(t,t,Bp,NM(e,n,t.nodeType!=1))}function jS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function LU(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Q6e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=J6e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=sc,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){o=c;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let c=ym.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,c=Math.min(this.top.children.length,o+5);o<c;o++){let u=this.top.children[o];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==Ju&&a.dom==a.contentDOM&&(a.dirty=Fp),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let c=this.top.children[o];if(c instanceof Eh){let u=this.preMatch.matched.get(c);if(u!=null&&u!=s)return!1;let d=c.dom,f,m=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Ju&&jS(n,c.outerDeco));if(!m&&c.update(e,n,r,i))return this.destroyBetween(this.index,o),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(f=this.recreateWrapper(c,e,n,r,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Fp,f.updateChildren(i,a+1),f.dirty=sc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!jS(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let o=Eh.create(this.top,n,r,i,s,a);if(o.contentDOM){o.children=e.children,e.children=[];for(let c of o.children)c.parent=o}return e.destroy(),o}addNode(e,n,r,i,s){let a=Eh.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new xre(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ym;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof X_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((go||Ya)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new wre(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function J6e(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(r){let u=n.children[r-1];if(u instanceof ym)n=u,r=u.children.length;else{o=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=o.node;if(c){if(c!=t.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function eFe(t,e){return t.type.side-e.type.side}function tFe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);r(d,i,e.forChild(s,d),u),s+=d.nodeSize}return}let a=0,o=[],c=null;for(let u=0;;){let d,f;for(;a<i.length&&i[a].to==s;){let y=i[a++];y.widget&&(d?(f||(f=[d])).push(y):d=y)}if(d)if(f){f.sort(eFe);for(let y=0;y<f.length;y++)n(f[y],u,!!c)}else n(d,u,!!c);let m,p;if(c)p=-1,m=c,c=null;else if(u<t.childCount)p=u,m=t.child(u++);else break;for(let y=0;y<o.length;y++)o[y].to<=s&&o.splice(y--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let b=s+m.nodeSize;if(m.isText){let y=b;a<i.length&&i[a].from<y&&(y=i[a].from);for(let w=0;w<o.length;w++)o[w].to<y&&(y=o[w].to);y<b&&(c=m.cut(y-s),m=m.cut(0,y-s),b=y,p=-1)}else for(;a<i.length&&i[a].to<b;)a++;let v=m.isInline&&!m.isLeaf?o.filter(y=>!y.inline):o.slice();r(m,v,e.forChild(s,m),p),s=b}}function nFe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function rFe(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let c=a.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=n){if(s>=r&&c.slice(r-e.length-o,r-o)==e)return r-e.length;let u=o<r?c.lastIndexOf(e,r-o-1):-1;if(u>=0&&u+e.length+o>=n)return o+u;if(n==r&&c.length>=r+e.length-o&&c.slice(r-o,r-o+e.length)==e)return r}}return-1}function _M(t,e,n,r,i){let s=[];for(let a=0,o=0;a<t.length;a++){let c=t[a],u=o,d=o+=c.size;u>=n||d<=e?s.push(c):(u<e&&s.push(c.slice(0,e-u,r)),i&&(s.push(i),i=void 0),d>n&&s.push(c.slice(n-u,c.size,r)))}return s}function YI(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let o=r.resolve(a),c,u;if(Y_(n)){for(c=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&bn.isSelectable(f)&&i.parent&&!(f.isInline&&j6e(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;u=new bn(a==m?o:r.resolve(m))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,m=a;for(let p=0;p<n.rangeCount;p++){let b=n.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(b.startContainer,b.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(f<0)return null;[c,a]=m==t.state.selection.anchor?[m,f]:[f,m],o=r.resolve(a)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<o.pos&&!s?1:-1;u=XI(t,d,o,f)}return u}function Ere(t){return t.editable?t.hasFocus():Are(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Jd(t,e=!1){let n=t.state.selection;if(Cre(t,n),!!Ere(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ya){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&vm(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)sFe(t);else{let{anchor:r,head:i}=n,s,a;FU&&!(n instanceof Nn)&&(n.$from.parent.inlineContent||(s=BU(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=BU(t,n.to))),t.docView.setSelection(r,i,t,e),FU&&(s&&$U(s),a&&$U(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&iFe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const FU=go||Ya&&hre<63;function BU(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(go&&i&&i.contentEditable=="false")return fT(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return fT(i);if(s)return fT(s)}}function fT(t){return t.contentEditable="true",go&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function $U(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function iFe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Ere(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function sFe(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,_a(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Wo&&_h<=11&&(n.disabled=!0,n.disabled=!1)}function Cre(t,e){if(e instanceof bn){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(zU(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else zU(t)}function zU(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function XI(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Nn.between(e,n,r)}function qU(t){return t.editable&&!t.hasFocus()?!1:Are(t)}function Are(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function aFe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return vm(e.node,e.offset,n.anchorNode,n.anchorOffset)}function EM(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Mn.findFrom(s,e)}function rh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function UU(t,e,n){let r=t.state.selection;if(r instanceof Nn)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return rh(t,new Nn(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=EM(t.state,e);return i&&i instanceof bn?rh(t,i):!1}else if(!(Ql&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(o))&&!a.contentDOM?bn.isSelectable(s)?rh(t,new bn(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Px?rh(t,new Nn(t.state.doc.resolve(e<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof bn&&r.node.isInline)return rh(t,new Nn(e>0?r.$to:r.$from));{let i=EM(t.state,e);return i?rh(t,i):!1}}}function TS(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Tb(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function vg(t,e){return e<0?oFe(t):lFe(t)}function oFe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(ic&&n.nodeType==1&&r<TS(n)&&Tb(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(Tb(o,-1))i=n,s=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(kre(n))break;{let o=n.previousSibling;for(;o&&Tb(o,-1);)i=n.parentNode,s=_a(o),o=o.previousSibling;if(o)n=o,r=TS(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?CM(t,n,r):i&&CM(t,i,s)}function lFe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=TS(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let o=n.childNodes[r];if(Tb(o,1))s=n,a=++r;else break}else{if(kre(n))break;{let o=n.nextSibling;for(;o&&Tb(o,1);)s=o.parentNode,a=_a(o)+1,o=o.nextSibling;if(o)n=o,r=0,i=TS(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&CM(t,s,a)}function kre(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function cFe(t,e){for(;t&&e==t.childNodes.length&&!Ox(t);)e=_a(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function uFe(t,e){for(;t&&!e&&!Ox(t);)e=_a(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function CM(t,e,n){if(e.nodeType!=3){let s,a;(a=cFe(e,n))?(e=a,n=0):(s=uFe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Y_(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Jd(t)},50)}function HU(t,e){let n=t.state.doc.resolve(e);if(!(Ya||P6e)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function VU(t,e,n){let r=t.state.selection;if(r instanceof Nn&&!r.empty||n.indexOf("s")>-1||Ql&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=EM(t.state,e);if(a&&a instanceof bn)return rh(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,o=r instanceof _l?Mn.near(a,e):Mn.findFrom(a,e);return o?rh(t,o):!1}return!1}function WU(t,e){if(!(t.state.selection instanceof Nn))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function KU(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function dFe(t){if(!go||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;KU(t,r,"true"),setTimeout(()=>KU(t,r,"false"),20)}return!1}function fFe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function hFe(t,e){let n=e.keyCode,r=fFe(e);if(n==8||Ql&&n==72&&r=="c")return WU(t,-1)||vg(t,-1);if(n==46&&!e.shiftKey||Ql&&n==68&&r=="c")return WU(t,1)||vg(t,1);if(n==13||n==27)return!0;if(n==37||Ql&&n==66&&r=="c"){let i=n==37?HU(t,t.state.selection.from)=="ltr"?-1:1:-1;return UU(t,i,r)||vg(t,i)}else if(n==39||Ql&&n==70&&r=="c"){let i=n==39?HU(t,t.state.selection.from)=="ltr"?1:-1:1;return UU(t,i,r)||vg(t,i)}else{if(n==38||Ql&&n==80&&r=="c")return VU(t,-1,r)||vg(t,-1);if(n==40||Ql&&n==78&&r=="c")return dFe(t)||VU(t,1,r)||vg(t,1);if(r==(Ql?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function ZI(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=t.someProp("clipboardSerializer")||Om.fromSchema(t.state.schema),o=Rre(),c=o.createElement("div");c.appendChild(a.serializeFragment(r,{document:o}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=Mre[u.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let b=o.createElement(d[p]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function jre(t,e,n,r,i){let s=i.parent.type.spec.code,a,o;if(!n&&!e)return null;let c=!!e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",m=>{e=m(e,s||r,t)}),s)return o=new It(ct.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{o=m(o,t,!0)}),o;let f=t.someProp("clipboardTextParser",m=>m(e,i,r,t));if(f)o=f;else{let m=i.marks(),{schema:p}=t.state,b=Om.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let y=a.appendChild(document.createElement("p"));v&&y.appendChild(b.serializeNode(p.text(v,m)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),a=vFe(n),Px&&yFe(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let m=a.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;a=m}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||Ab.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!pFe.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)o=bFe(GU(o,+d[1],+d[2]),d[4]);else if(o=It.maxOpen(mFe(o.content,i),!0),o.openStart||o.openEnd){let f=0,m=0;for(let p=o.content.firstChild;f<o.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=o.content.lastChild;m<o.openEnd&&!p.type.spec.isolating;m++,p=p.lastChild);o=GU(o,f,m)}return t.someProp("transformPasted",f=>{o=f(o,t,c)}),o}const pFe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mFe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(o=>{if(!a)return;let c=i.findWrapping(o.type),u;if(!c)return a=null;if(u=a.length&&s.length&&Ore(c,s,o,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=Pre(a[a.length-1],s.length));let d=Tre(o,c);a.push(d),i=i.matchType(d.type),s=c}}),a)return ct.from(a)}return t}function Tre(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ct.from(t));return t}function Ore(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Ore(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ct.from(Tre(n,t,i+1))))}}function Pre(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Pre(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ct.empty,!0);return t.copy(n.append(r))}function AM(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(s=0),i<r-1&&(o=AM(o,e,n,r,i+1,s)),i>=n&&(o=e<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(ct.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function GU(t,e,n){return e<t.openStart&&(t=new It(AM(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new It(AM(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Mre={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let YU=null;function Rre(){return YU||(YU=document.implementation.createHTMLDocument("title"))}let hT=null;function gFe(t){let e=window.trustedTypes;return e?(hT||(hT=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),hT.createHTML(t)):t}function vFe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Rre().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Mre[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=gFe(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function yFe(t){let e=t.querySelectorAll(Ya?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function bFe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let o=r.length-2;o>=0;o-=2){let c=n.nodes[r[o]];if(!c||c.hasRequiredAttrs())break;i=ct.from(c.create(r[o+1],i)),s++,a++}return new It(i,s,a)}const vo={},yo={},xFe={touchstart:!0,touchmove:!0};class wFe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function SFe(t){for(let e in vo){let n=vo[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{_Fe(t,r)&&!QI(t,r)&&(t.editable||!(r.type in yo))&&n(t,r)},xFe[e]?{passive:!0}:void 0)}go&&t.dom.addEventListener("input",()=>null),kM(t)}function mh(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function NFe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function kM(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>QI(t,r))})}function QI(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function _Fe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function EFe(t,e){!QI(t,e)&&vo[e.type]&&(t.editable||!(e.type in yo))&&vo[e.type](t,e)}yo.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Dre(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Gd&&Ya&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Iv&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,jp(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||hFe(t,n)?n.preventDefault():mh(t,"key")};yo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};yo.keypress=(t,e)=>{let n=e;if(Dre(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ql&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Nn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Z_(t){return{left:t.clientX,top:t.clientY}}function CFe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function JI(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,o=>a>s.depth?o(t,n,s.nodeAfter,s.before(a),i,!0):o(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function ev(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function AFe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&bn.isSelectable(r)?(ev(t,new bn(n)),!0):!1}function kFe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof bn&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(bn.isSelectable(o)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(ev(t,bn.create(t.state.doc,i)),!0):!1}function jFe(t,e,n,r,i){return JI(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?kFe(t,n):AFe(t,n))}function TFe(t,e,n,r){return JI(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function OFe(t,e,n,r){return JI(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||PFe(t,n,r)}function PFe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ev(t,Nn.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)ev(t,Nn.create(r,o+1,o+1+a.content.size));else if(bn.isSelectable(a))ev(t,bn.create(r,o));else continue;return!0}}function eD(t){return OS(t)}const Ire=Ql?"metaKey":"ctrlKey";vo.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=eD(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&CFe(n,t.input.lastClick)&&!n[Ire]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(Z_(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MFe(t,a,n,!!r)):(s=="doubleClick"?TFe:OFe)(t,a.pos,a.inside,n)?n.preventDefault():mh(t,"pointer"))};class MFe{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Ire],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,a=d.depth?d.before():0}const o=i?null:r.target,c=o?e.docView.nearestDesc(o,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof bn&&u.from<=a&&u.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ic&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),mh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Jd(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Z_(e))),this.updateAllowDefault(e),this.allowDefault||!n?mh(this.view,"pointer"):jFe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||go&&this.mightDrag&&!this.mightDrag.node.isAtom||Ya&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ev(this.view,Mn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):mh(this.view,"pointer")}move(e){this.updateAllowDefault(e),mh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}vo.touchstart=t=>{t.input.lastTouch=Date.now(),eD(t),mh(t,"pointer")};vo.touchmove=t=>{t.input.lastTouch=Date.now(),mh(t,"pointer")};vo.contextmenu=t=>eD(t);function Dre(t,e){return t.composing?!0:go&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const RFe=Gd?5e3:-1;yo.compositionstart=yo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Nn&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),OS(t,!0),t.markCursor=null;else if(OS(t,!e.selection.empty),ic&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}Lre(t,RFe)};yo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Lre(t,20))};function Lre(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>OS(t),e))}function Fre(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=DFe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function IFe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=A6e(e.focusNode,e.focusOffset),r=k6e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function DFe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function OS(t,e=!1){if(!(Gd&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Fre(t),e||t.docView&&t.docView.dirty){let n=YI(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function LFe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const B0=Wo&&_h<15||Iv&&M6e<604;vo.copy=yo.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=B0?null:n.clipboardData,a=r.content(),{dom:o,text:c}=ZI(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",c)):LFe(t,o),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function FFe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function BFe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?$0(t,r.value,null,i,e):$0(t,r.textContent,r.innerHTML,i,e)},50)}function $0(t,e,n,r,i){let s=jre(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,s||It.empty)))return!0;if(!s)return!1;let a=FFe(s),o=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Bre(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}yo.paste=(t,e)=>{let n=e;if(t.composing&&!Gd)return;let r=B0?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&$0(t,Bre(r),r.getData("text/html"),i,n)?n.preventDefault():BFe(t,n)};class $re{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const $Fe=Ql?"altKey":"ctrlKey";function zre(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[$Fe]}vo.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Z_(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof bn?i.to-1:i.to))){if(r&&r.mightDrag)a=bn.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(a=bn.create(t.state.doc,f.posBefore))}}let o=(a||t.state.selection).content(),{dom:c,text:u,slice:d}=ZI(t,o);(!n.dataTransfer.files.length||!Ya||hre>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(B0?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",B0||n.dataTransfer.setData("text/plain",u),t.dragging=new $re(d,zre(t,n),a)};vo.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};yo.dragover=yo.dragenter=(t,e)=>e.preventDefault();yo.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Z_(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",b=>{a=b(a,t,!1)}):a=jre(t,Bre(n.dataTransfer),B0?null:n.dataTransfer.getData("text/html"),!1,s);let o=!!(r&&zre(t,n));if(t.someProp("handleDrop",b=>b(t,n,a||It.empty,o))){n.preventDefault();return}if(!a)return;n.preventDefault();let c=a?Wne(t.state.doc,s.pos,a):s.pos;c==null&&(c=s.pos);let u=t.state.tr;if(o){let{node:b}=r;b?b.replace(u):u.deleteSelection()}let d=u.mapping.map(c),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,m=u.doc;if(f?u.replaceRangeWith(d,d,a.content.firstChild):u.replaceRange(d,d,a),u.doc.eq(m))return;let p=u.doc.resolve(d);if(f&&bn.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new bn(p));else{let b=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((v,y,w,_)=>b=_),u.setSelection(XI(t,p,u.doc.resolve(b)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};vo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Jd(t)},20))};vo.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};vo.beforeinput=(t,e)=>{if(Ya&&Gd&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,jp(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in yo)vo[t]=yo[t];function z0(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class PS{constructor(e,n){this.toDOM=e,this.spec=n||Gp,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Gs(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof PS&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&z0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ch{constructor(e,n){this.attrs=e,this.spec=n||Gp}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Gs(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ch&&z0(this.attrs,e.attrs)&&z0(this.spec,e.spec)}static is(e){return e.type instanceof Ch}destroy(){}}class tD{constructor(e,n){this.attrs=e,this.spec=n||Gp}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Gs(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof tD&&z0(this.attrs,e.attrs)&&z0(this.spec,e.spec)}destroy(){}}class Gs{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Gs(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Gs(e,e,new PS(n,r))}static inline(e,n,r,i){return new Gs(e,n,new Ch(r,i))}static node(e,n,r,i){return new Gs(e,n,new tD(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ch}get widget(){return this.type instanceof PS}}const Cg=[],Gp={};class ii{constructor(e,n){this.local=e.length?e:Cg,this.children=n.length?n:Cg}static create(e,n){return n.length?MS(n,e,0,Gp):Va}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=n&&o.to>=e&&(!s||s(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let o=this.children[a]+1;this.children[a+2].findInner(e-o,n-o,r,i+o,s)}}map(e,n,r){return this==Va||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Gp)}mapInner(e,n,r,i,s){let a;for(let o=0;o<this.local.length;o++){let c=this.local[o].map(e,r,i);c&&c.type.valid(n,c)?(a||(a=[])).push(c):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?zFe(this.children,a||[],e,n,r,i,s):a?new ii(a.sort(Yp),Cg):Va}add(e,n){return n.length?this==Va?ii.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((o,c)=>{let u=c+r,d;if(d=Ure(n,o,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(o,d,u+1):i.splice(s,0,c,c+o.nodeSize,MS(d,o,u+1,Gp)),s+=3}});let a=qre(s?Hre(n):n,-r);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||a.splice(o--,1);return new ii(a.length?this.local.concat(a).sort(Yp):this.local,i||this.children)}remove(e){return e.length==0||this==Va?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,o=r[s]+n,c=r[s+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>o&&f.to<c&&(e[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(a,o+1);u!=Va?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let o=0;o<i.length;o++)i[o].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ii(i,r):Va}forChild(e,n){if(this==Va)return this;if(n.isLeaf)return ii.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}let s=e+1,a=s+n.content.size;for(let o=0;o<this.local.length;o++){let c=this.local[o];if(c.from<a&&c.to>s&&c.type instanceof Ch){let u=Math.max(s,c.from)-s,d=Math.min(a,c.to)-s;u<d&&(i||(i=[])).push(c.copy(u,d))}}if(i){let o=new ii(i.sort(Yp),Cg);return r?new oh([o,r]):o}return r||Va}eq(e){if(this==e)return!0;if(!(e instanceof ii)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return nD(this.localsInner(e))}localsInner(e){if(this==Va)return Cg;if(e.inlineContent||!this.local.some(Ch.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ch||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ii.empty=new ii([],[]);ii.removeOverlap=nD;const Va=ii.empty;class oh{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Gp));return oh.from(r)}forChild(e,n){if(n.isLeaf)return ii.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Va&&(s instanceof oh?r=r.concat(s.members):r.push(s))}return oh.from(r)}eq(e){if(!(e instanceof oh)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?nD(r?n:n.sort(Yp)):Cg}static from(e){switch(e.length){case 0:return Va;case 1:return e[0];default:return new oh(e.every(n=>n instanceof ii)?e:e.reduce((n,r)=>n.concat(r instanceof ii?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function zFe(t,e,n,r,i,s,a){let o=t.slice();for(let u=0,d=s;u<n.maps.length;u++){let f=0;n.maps[u].forEach((m,p,b,v)=>{let y=v-b-(p-m);for(let w=0;w<o.length;w+=3){let _=o[w+1];if(_<0||m>_+d-f)continue;let E=o[w]+d-f;p>=E?o[w+1]=m<=E?-2:-1:m>=d&&y&&(o[w]+=y,o[w+1]+=y)}f+=y}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<o.length;u+=3)if(o[u+1]<0){if(o[u+1]==-2){c=!0,o[u+1]=-1;continue}let d=n.map(t[u]+s),f=d-i;if(f<0||f>=r.content.size){c=!0;continue}let m=n.map(t[u+1]+s,-1),p=m-i,{index:b,offset:v}=r.content.findIndex(f),y=r.maybeChild(b);if(y&&v==f&&v+y.nodeSize==p){let w=o[u+2].mapInner(n,y,d+1,t[u]+s+1,a);w!=Va?(o[u]=f,o[u+1]=p,o[u+2]=w):(o[u+1]=-2,c=!0)}else c=!0}if(c){let u=qFe(o,t,e,n,i,s,a),d=MS(u,r,0,a);e=d.local;for(let f=0;f<o.length;f+=3)o[f+1]<0&&(o.splice(f,3),f-=3);for(let f=0,m=0;f<d.children.length;f+=3){let p=d.children[f];for(;m<o.length&&o[m]<p;)m+=3;o.splice(m,0,d.children[f],d.children[f+1],d.children[f+2])}}return new ii(e.sort(Yp),o)}function qre(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Gs(i.from+e,i.to+e,i.type))}return n}function qFe(t,e,n,r,i,s,a){function o(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(r,i,u);f?n.push(f):a.onRemove&&a.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)o(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&o(t[c+2],e[c]+s+1);return n}function Ure(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function Hre(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function MS(t,e,n,r){let i=[],s=!1;e.forEach((o,c)=>{let u=Ure(t,o,c+n);if(u){s=!0;let d=MS(u,o,n+c+1,r);d!=Va&&i.push(c,c+o.nodeSize,d)}});let a=qre(s?Hre(t):t,-n).sort(Yp);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(r.onRemove&&r.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new ii(a,i):Va}function Yp(t,e){return t.from-e.from||t.to-e.to}function nD(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),XU(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),XU(e,i,r.copy(s.from,r.to)));break}}}return e}function XU(t,e,n){for(;e<t.length&&Yp(n,t[e])>0;)e++;t.splice(e,0,n)}function pT(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Va&&e.push(r)}),t.cursorWrapper&&e.push(ii.create(t.state.doc,[t.cursorWrapper.deco])),oh.from(e)}const UFe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},HFe=Wo&&_h<=11;class VFe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class WFe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new VFe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Wo&&_h<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),HFe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,UFe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qU(this.view)){if(this.suppressingSelectionUpdates)return Jd(this.view);if(Wo&&_h<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&vm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Rv(s))n.add(s);for(let s=e.anchorNode;s;s=Rv(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&qU(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,o=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(s=s<0?f.from:Math.min(f.from,s),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(o=!0))}if(ic&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,m]=d;f.parentNode&&f.parentNode.parentNode==m.parentNode?m.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let m of d){let p=m.parentNode;p&&p.nodeName=="LI"&&(!f||YFe(e,f)!=p)&&m.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Y_(r)&&(u=YI(e))&&u.eq(Mn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Jd(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),KFe(e)),this.handleDOMChange(s,a,o,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Jd(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Wo&&_h<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:m}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let a=i&&i.parentNode==e.target?_a(i)+1:0,o=r.localPosFromDOM(e.target,a,-1),c=s&&s.parentNode==e.target?_a(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,c,1);return{from:o,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let ZU=new WeakMap,QU=!1;function KFe(t){if(!ZU.has(t)&&(ZU.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ic,QU)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),QU=!0}}function JU(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return vm(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function GFe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return JU(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?JU(t,n):null}function YFe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function XFe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:o}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],Y_(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Ya&&t.input.lastKeyCode===8)for(let y=s;y>i;y--){let w=r.childNodes[y-1],_=w.pmViewDesc;if(w.nodeName=="BR"&&!_){s=y;break}if(!_||_.size)break}let f=t.state.doc,m=t.someProp("domParser")||Ab.fromSchema(t.state.schema),p=f.resolve(a),b=null,v=m.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:ZFe,context:p});if(u&&u[0].pos!=null){let y=u[0].pos,w=u[1]&&u[1].pos;w==null&&(w=y),b={anchor:y+a,head:w+a}}return{doc:v,sel:b,from:a,to:o}}function ZFe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(go&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||go&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const QFe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function JFe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let R=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,T=YI(t,R);if(T&&!t.state.selection.eq(T)){if(Ya&&Gd&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,jp(13,"Enter"))))return;let M=t.state.tr.setSelection(T);R=="pointer"?M.setMeta("pointer",!0):R=="key"&&M.scrollIntoView(),s&&M.setMeta("composition",s),t.dispatch(M)}return}let a=t.state.doc.resolve(e),o=a.sharedDepth(n);e=a.before(o+1),n=t.state.doc.resolve(n).after(o+1);let c=t.state.selection,u=XFe(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),m,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,p="end"):(m=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let b=n8e(f.content,u.doc.content,u.from,m,p);if(b&&t.input.domChangeCount++,(Iv&&t.input.lastIOSEnter>Date.now()-225||Gd)&&i.some(R=>R.nodeType==1&&!QFe.test(R.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",R=>R(t,jp(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&c instanceof Nn&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let R=eH(t,t.state.doc,u.sel);if(R&&!R.eq(t.state.selection)){let T=t.state.tr.setSelection(R);s&&T.setMeta("composition",s),t.dispatch(T)}}return}t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof Nn&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Wo&&_h<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)==" "&&(b.start--,b.endA--,b.endB--);let v=u.doc.resolveNoCache(b.start-u.from),y=u.doc.resolveNoCache(b.endB-u.from),w=d.resolve(b.start),_=v.sameParent(y)&&v.parent.inlineContent&&w.end()>=b.endA;if((Iv&&t.input.lastIOSEnter>Date.now()-225&&(!_||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!_&&v.pos<u.doc.content.size&&(!v.sameParent(y)||!v.parent.inlineContent)&&v.pos<y.pos&&!/\S/.test(u.doc.textBetween(v.pos,y.pos,"","")))&&t.someProp("handleKeyDown",R=>R(t,jp(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&t8e(d,b.start,b.endA,v,y)&&t.someProp("handleKeyDown",R=>R(t,jp(8,"Backspace")))){Gd&&Ya&&t.domObserver.suppressSelectionUpdates();return}Ya&&b.endB==b.start&&(t.input.lastChromeDelete=Date.now()),Gd&&!_&&v.start()!=y.start()&&y.parentOffset==0&&v.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,y=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(R){return R(t,jp(13,"Enter"))})},20));let E=b.start,A=b.endA,k=R=>{let T=R||t.state.tr.replace(E,A,u.doc.slice(b.start-u.from,b.endB-u.from));if(u.sel){let M=eH(t,T.doc,u.sel);M&&!(Ya&&t.composing&&M.empty&&(b.start!=b.endB||t.input.lastChromeDelete<Date.now()-100)&&(M.head==E||M.head==T.mapping.map(A)-1)||Wo&&M.empty&&M.head==E)&&T.setSelection(M)}return s&&T.setMeta("composition",s),T.scrollIntoView()},P;if(_)if(v.pos==y.pos){Wo&&_h<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Jd(t),20));let R=k(t.state.tr.delete(E,A)),T=d.resolve(b.start).marksAcross(d.resolve(b.endA));T&&R.ensureMarks(T),t.dispatch(R)}else if(b.endA==b.endB&&(P=e8e(v.parent.content.cut(v.parentOffset,y.parentOffset),w.parent.content.cut(w.parentOffset,b.endA-w.start())))){let R=k(t.state.tr);P.type=="add"?R.addMark(E,A,P.mark):R.removeMark(E,A,P.mark),t.dispatch(R)}else if(v.parent.child(v.index()).isText&&v.index()==y.index()-(y.textOffset?0:1)){let R=v.parent.textBetween(v.parentOffset,y.parentOffset),T=()=>k(t.state.tr.insertText(R,E,A));t.someProp("handleTextInput",M=>M(t,E,A,R,T))||t.dispatch(T())}else t.dispatch(k());else t.dispatch(k())}function eH(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:XI(t,e.resolve(n.anchor),e.resolve(n.head))}function e8e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,o,c;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",c=d=>d.mark(o.addToSet(d.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",c=d=>d.mark(o.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(ct.from(u).eq(t))return{mark:o,type:a}}function t8e(t,e,n,r,i){if(n-e<=i.pos-r.pos||mT(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let o=s.nodeAfter;return o!=null&&n==e+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(mT(s,!0,!0));return!a.parent.isTextblock||a.pos>n||mT(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function mT(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function n8e(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:o}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(a,o));r-=a+c-s}if(a<s&&t.size<e.size){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<e.size&&tH(e.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-a),a=s}else if(o<s){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<t.size&&tH(t.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function tH(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Vre{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new wFe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(aH),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=iH(this),rH(this),this.nodeViews=sH(this),this.docView=DU(this.state.doc,nH(this),pT(this),this.dom,this),this.domObserver=new WFe(this,(r,i,s,a)=>JFe(this,r,i,s,a)),this.domObserver.start(),SFe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&kM(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(aH),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(Fre(this),a=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=sH(this);i8e(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&kM(this),this.editable=iH(this),rH(this);let c=pT(this),u=nH(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(i.selection))&&(a=!0);let m=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&D6e(this);if(a){this.domObserver.stop();let p=f&&(Wo||Ya)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&r8e(i.selection,e.selection);if(f){let b=Ya?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=IFe(this)),(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=DU(e.doc,u,c,this.dom,this)),b&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&aFe(this))?Jd(this,p):(Cre(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&L6e(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof bn){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&TU(this,n.getBoundingClientRect(),e)}else TU(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new $re(e.slice,e.move,i<0?void 0:bn.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[e];if(o!=null&&(i=n?n(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[e];if(o!=null&&(i=n?n(o):o))return i}}hasFocus(){if(Wo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&F6e(this.dom),Jd(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return U6e(this,e)}coordsAtPos(e,n=1){return yre(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return G6e(this,n||this.state,e)}pasteHTML(e,n){return $0(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return $0(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return ZI(this,e)}destroy(){this.docView&&(NFe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],pT(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,E6e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return EFe(this,e)}domSelectionRange(){let e=this.domSelection();return e?go&&this.root.nodeType===11&&T6e(this.dom.ownerDocument)==this.dom&&GFe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Vre.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function nH(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Gs.node(0,t.state.doc.content.size,e)]}function rH(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Gs.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function iH(t){return!t.someProp("editable",e=>e(t.state)===!1)}function r8e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function sH(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function i8e(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function aH(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Rh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},RS={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},s8e=typeof navigator<"u"&&/Mac/.test(navigator.platform),a8e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ea=0;Ea<10;Ea++)Rh[48+Ea]=Rh[96+Ea]=String(Ea);for(var Ea=1;Ea<=24;Ea++)Rh[Ea+111]="F"+Ea;for(var Ea=65;Ea<=90;Ea++)Rh[Ea]=String.fromCharCode(Ea+32),RS[Ea]=String.fromCharCode(Ea);for(var gT in Rh)RS.hasOwnProperty(gT)||(RS[gT]=Rh[gT]);function o8e(t){var e=s8e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||a8e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?RS:Rh)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const l8e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),c8e=typeof navigator<"u"&&/Win/.test(navigator.platform);function u8e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<e.length-1;o++){let c=e[o];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))l8e?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function d8e(t){let e=Object.create(null);for(let n in t)e[u8e(n)]=t[n];return e}function vT(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function f8e(t){return new Ci({props:{handleKeyDown:rD(t)}})}function rD(t){let e=d8e(t);return function(n,r){let i=o8e(r),s,a=e[vT(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=e[vT(i,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(c8e&&r.ctrlKey&&r.altKey)&&(s=Rh[r.keyCode])&&s!=i){let o=e[vT(s,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}var h8e=Object.defineProperty,iD=(t,e)=>{for(var n in e)h8e(t,n,{get:e[n],enumerable:!0})};function Q_(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var J_=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,o])=>[a,(...u)=>{const d=o(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],o=!!t,c=t||i.tr,u=()=>(!o&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,m])=>[f,(...b)=>{const v=this.buildProps(c,e),y=m(...b)(v);return a.push(y),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([o,c])=>[o,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:Q_({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([o,c])=>[o,(...u)=>c(...u)(a)]))}};return a}},Wre={};iD(Wre,{blur:()=>p8e,clearContent:()=>m8e,clearNodes:()=>g8e,command:()=>v8e,createParagraphNear:()=>y8e,cut:()=>b8e,deleteCurrentNode:()=>x8e,deleteNode:()=>w8e,deleteRange:()=>S8e,deleteSelection:()=>N8e,enter:()=>_8e,exitCode:()=>E8e,extendMarkRange:()=>C8e,first:()=>A8e,focus:()=>j8e,forEach:()=>T8e,insertContent:()=>O8e,insertContentAt:()=>R8e,joinBackward:()=>L8e,joinDown:()=>D8e,joinForward:()=>F8e,joinItemBackward:()=>B8e,joinItemForward:()=>$8e,joinTextblockBackward:()=>z8e,joinTextblockForward:()=>q8e,joinUp:()=>I8e,keyboardShortcut:()=>H8e,lift:()=>V8e,liftEmptyBlock:()=>W8e,liftListItem:()=>K8e,newlineInCode:()=>G8e,resetAttributes:()=>Y8e,scrollIntoView:()=>X8e,selectAll:()=>Z8e,selectNodeBackward:()=>Q8e,selectNodeForward:()=>J8e,selectParentNode:()=>eBe,selectTextblockEnd:()=>tBe,selectTextblockStart:()=>nBe,setContent:()=>rBe,setMark:()=>xBe,setMeta:()=>wBe,setNode:()=>SBe,setNodeSelection:()=>NBe,setTextSelection:()=>_Be,sinkListItem:()=>EBe,splitBlock:()=>CBe,splitListItem:()=>ABe,toggleList:()=>kBe,toggleMark:()=>jBe,toggleNode:()=>TBe,toggleWrap:()=>OBe,undoInputRule:()=>PBe,unsetAllMarks:()=>MBe,unsetMark:()=>RBe,updateAttributes:()=>IBe,wrapIn:()=>DBe,wrapInList:()=>LBe});var p8e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),m8e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),g8e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(o,c)=>{if(o.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),m=u.resolve(d.map(c+o.nodeSize)),p=f.blockRange(m);if(!p)return;const b=oy(p);if(o.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,v)}(b||b===0)&&e.lift(p,b)})}),!0},v8e=t=>e=>t(e),y8e=()=>({state:t,dispatch:e})=>lre(t,e),b8e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Nn(r.doc.resolve(Math.max(a-1,0)))),!0},x8e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const o=i.before(s),c=i.after(s);t.delete(o,c).scrollIntoView()}return!0}return!1};function Is(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var w8e=t=>({tr:e,state:n,dispatch:r})=>{const i=Is(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const c=s.before(a),u=s.after(a);e.delete(c,u).scrollIntoView()}return!0}return!1},S8e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},N8e=()=>({state:t,dispatch:e})=>UI(t,e),_8e=()=>({commands:t})=>t.keyboardShortcut("Enter"),E8e=()=>({state:t,dispatch:e})=>u6e(t,e);function sD(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function IS(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:sD(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Kre(t,e,n={}){return t.find(r=>r.type===e&&IS(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function oH(t,e,n={}){return!!Kre(t,e,n)}function aD(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!Kre([...i.node.marks],e,n)))return;let a=i.index,o=t.start()+i.offset,c=a+1,u=o+i.node.nodeSize;for(;a>0&&oH([...t.parent.child(a-1).marks],e,n);)a-=1,o-=t.parent.child(a).nodeSize;for(;c<t.parent.childCount&&oH([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:o,to:u}}function hf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var C8e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=hf(t,r.schema),{doc:a,selection:o}=n,{$from:c,from:u,to:d}=o;if(i){const f=aD(c,s,e);if(f&&f.from<=u&&f.to>=d){const m=Nn.create(a,f.from,f.to);n.setSelection(m)}}return!0},A8e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Gre(t){return t instanceof Nn}function $p(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Yre(t,e=null){if(!e)return null;const n=Mn.atStart(t),r=Mn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Nn.create(t,$p(0,i,s),$p(t.content.size,i,s)):Nn.create(t,$p(e,i,s),$p(e,i,s))}function k8e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function oD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var j8e=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(oD()||k8e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Gre(n.state.selection))return a(),!0;const o=Yre(i.doc,t)||n.state.selection,c=n.state.selection.eq(o);return s&&(c||i.setSelection(o),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},T8e=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),O8e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Xre=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Xre(r)}return t};function rw(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Xre(n)}function q0(t,e,n){if(t instanceof Nh||t instanceof ct)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ct.fromArray(t.map(o=>e.nodeFromJSON(o)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),q0("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,o="";const c=new Ine({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,o=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Ab.fromSchema(c).parseSlice(rw(t),n.parseOptions):Ab.fromSchema(c).parse(rw(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=Ab.fromSchema(e);return n.slice?s.parseSlice(rw(t),n.parseOptions).content:s.parse(rw(t),n.parseOptions)}return q0("",e,n)}function P8e(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ca||i instanceof fa))return;const s=t.mapping.maps[r];let a=0;s.forEach((o,c,u,d)=>{a===0&&(a=d)}),t.setSelection(Mn.near(t.doc.resolve(a),n))}var M8e=t=>!("type"in t),R8e=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let o;const c=y=>{s.emit("contentError",{editor:s,error:y,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{q0(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(y){c(y)}try{o=q0(e,s.schema,{parseOptions:u,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(y){return c(y),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,p=!0;if((M8e(o)?o:[o]).forEach(y=>{y.check(),m=m?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),d===f&&p){const{parent:y}=r.doc.resolve(d);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(d-=1,f+=1)}let v;if(m){if(Array.isArray(e))v=e.map(y=>y.text||"").join("");else if(e instanceof ct){let y="";e.forEach(w=>{w.text&&(y+=w.text)}),v=y}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,f)}else{v=o;const y=r.doc.resolve(d),w=y.node(),_=y.parentOffset===0,E=w.isText||w.isTextblock,A=w.content.size>0;_&&E&&A&&(d=Math.max(0,d-1)),r.replaceWith(d,f,v)}n.updateSelection&&P8e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},I8e=()=>({state:t,dispatch:e})=>o6e(t,e),D8e=()=>({state:t,dispatch:e})=>l6e(t,e),L8e=()=>({state:t,dispatch:e})=>tre(t,e),F8e=()=>({state:t,dispatch:e})=>sre(t,e),B8e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=W_(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},$8e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=W_(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},z8e=()=>({state:t,dispatch:e})=>s6e(t,e),q8e=()=>({state:t,dispatch:e})=>a6e(t,e);function Zre(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function U8e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<e.length-1;o+=1){const c=e[o];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))oD()||Zre()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var H8e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=U8e(t).split(/-(?!$)/),a=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,o))});return c?.steps.forEach(u=>{const d=u.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Ih(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Is(e,t.schema):null,o=[];t.doc.nodesBetween(r,i,(f,m)=>{if(f.isText)return;const p=Math.max(r,m),b=Math.min(i,m+f.nodeSize);o.push({node:f,from:p,to:b})});const c=i-r,u=o.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>IS(f.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((f,m)=>f+m.to-m.from,0)>=c}var V8e=(t,e={})=>({state:n,dispatch:r})=>{const i=Is(t,n.schema);return Ih(n,i,e)?c6e(n,r):!1},W8e=()=>({state:t,dispatch:e})=>cre(t,e),K8e=t=>({state:e,dispatch:n})=>{const r=Is(t,e.schema);return w6e(r)(e,n)},G8e=()=>({state:t,dispatch:e})=>ore(t,e);function eE(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function lH(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var Y8e=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=eE(typeof t=="string"?t:t.name,r.schema);return o?(o==="node"&&(s=Is(t,r.schema)),o==="mark"&&(a=hf(t,r.schema)),i&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&n.setNodeMarkup(d,void 0,lH(u.attrs,e)),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&n.addMark(d,d+u.nodeSize,a.create(lH(f.attrs,e)))})})}),!0):!1},X8e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Z8e=()=>({tr:t,dispatch:e})=>{if(e){const n=new _l(t.doc);t.setSelection(n)}return!0},Q8e=()=>({state:t,dispatch:e})=>rre(t,e),J8e=()=>({state:t,dispatch:e})=>are(t,e),eBe=()=>({state:t,dispatch:e})=>h6e(t,e),tBe=()=>({state:t,dispatch:e})=>g6e(t,e),nBe=()=>({state:t,dispatch:e})=>m6e(t,e);function jM(t,e,n={},r={}){return q0(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var rBe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{const{doc:c}=s;if(r.preserveWhitespace!=="full"){const u=jM(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Qre(t,e){const n=hf(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,c=>{a.push(...c.marks)});const o=a.find(c=>c.type.name===n.name);return o?{...o.attrs}:{}}function Jre(t,e){const n=new zI(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function iBe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function TM(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function sBe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function eie(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function tE(t){return e=>eie(e.$from,t)}function gn(t,e,n){return t.config[e]===void 0&&t.parent?gn(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?gn(t.parent,e,n):null}):t.config[e]}function lD(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=gn(e,"addExtensions",n);return r?[e,...lD(r())]:e}).flat(10)}function cD(t,e){const n=Om.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function tie(t){return typeof t=="function"}function Br(t,e=void 0,...n){return tie(t)?e?t.bind(e)(...n):t(...n):t}function aBe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function U0(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function nie(t){const e=[],{nodeExtensions:n,markExtensions:r}=U0(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:i},c=gn(a,"addGlobalAttributes",o);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([m,p])=>{e.push({type:f,name:m,attribute:{...s,...p}})})})})}),i.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},c=gn(a,"addAttributes",o);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const m={...s,...f};typeof m?.default=="function"&&(m.default=m.default()),m?.isRequired&&m?.default===void 0&&delete m.default,e.push({type:a.name,name:d,attribute:m})})}),e}function oi(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],u=o.filter(d=>!c.includes(d));r[i]=[...c,...u].join(" ")}else if(i==="style"){const o=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,m]=d.split(":").map(p=>p.trim());u.set(f,m)}),o.forEach(d=>{const[f,m]=d.split(":").map(p=>p.trim());u.set(f,m)}),r[i]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[i]=s}),r},{})}function DS(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>oi(n,r),{})}function oBe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function cH(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(n):oBe(n.getAttribute(a.name));return o==null?s:{...s,[a.name]:o}},{});return{...r,...i}}}}function uH(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&aBe(n)?!1:n!=null))}function lBe(t,e){var n;const r=nie(t),{nodeExtensions:i,markExtensions:s}=U0(t),a=(n=i.find(u=>gn(u,"topNode")))==null?void 0:n.name,o=Object.fromEntries(i.map(u=>{const d=r.filter(w=>w.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((w,_)=>{const E=gn(_,"extendNodeSchema",f);return{...w,...E?E(u):{}}},{}),p=uH({...m,content:Br(gn(u,"content",f)),marks:Br(gn(u,"marks",f)),group:Br(gn(u,"group",f)),inline:Br(gn(u,"inline",f)),atom:Br(gn(u,"atom",f)),selectable:Br(gn(u,"selectable",f)),draggable:Br(gn(u,"draggable",f)),code:Br(gn(u,"code",f)),whitespace:Br(gn(u,"whitespace",f)),linebreakReplacement:Br(gn(u,"linebreakReplacement",f)),defining:Br(gn(u,"defining",f)),isolating:Br(gn(u,"isolating",f)),attrs:Object.fromEntries(d.map(w=>{var _,E;return[w.name,{default:(_=w?.attribute)==null?void 0:_.default,validate:(E=w?.attribute)==null?void 0:E.validate}]}))}),b=Br(gn(u,"parseHTML",f));b&&(p.parseDOM=b.map(w=>cH(w,d)));const v=gn(u,"renderHTML",f);v&&(p.toDOM=w=>v({node:w,HTMLAttributes:DS(w,d)}));const y=gn(u,"renderText",f);return y&&(p.toText=y),[u.name,p]})),c=Object.fromEntries(s.map(u=>{const d=r.filter(y=>y.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},m=t.reduce((y,w)=>{const _=gn(w,"extendMarkSchema",f);return{...y,..._?_(u):{}}},{}),p=uH({...m,inclusive:Br(gn(u,"inclusive",f)),excludes:Br(gn(u,"excludes",f)),group:Br(gn(u,"group",f)),spanning:Br(gn(u,"spanning",f)),code:Br(gn(u,"code",f)),attrs:Object.fromEntries(d.map(y=>{var w,_;return[y.name,{default:(w=y?.attribute)==null?void 0:w.default,validate:(_=y?.attribute)==null?void 0:_.validate}]}))}),b=Br(gn(u,"parseHTML",f));b&&(p.parseDOM=b.map(y=>cH(y,d)));const v=gn(u,"renderHTML",f);return v&&(p.toDOM=y=>v({mark:y,HTMLAttributes:DS(y,d)})),[u.name,p]}));return new Ine({topNode:a,nodes:o,marks:c})}function cBe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function uD(t){return t.sort((n,r)=>{const i=gn(n,"priority")||100,s=gn(r,"priority")||100;return i>s?-1:i<s?1:0})}function rie(t){const e=uD(lD(t)),n=cBe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function iie(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let o="";return t.nodesBetween(r,i,(c,u,d,f)=>{var m;c.isBlock&&u>r&&(o+=s);const p=a?.[c.type.name];if(p)return d&&(o+=p({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(o+=(m=c?.text)==null?void 0:m.slice(Math.max(r,u)-u,i-u))}),o}function uBe(t,e){const n={from:0,to:t.content.size};return iie(t,n,e)}function sie(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function dBe(t,e){const n=Is(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,o=>{s.push(o)});const a=s.reverse().find(o=>o.type.name===n.name);return a?{...a.attrs}:{}}function aie(t,e){const n=eE(typeof e=="string"?e:e.name,t.schema);return n==="node"?dBe(t,e):n==="mark"?Qre(t,e):{}}function fBe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function hBe(t){const e=fBe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function oie(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((o,c)=>{a.push({from:o,to:c})});else{const{from:o,to:c}=n[s];if(o===void 0||c===void 0)return;a.push({from:o,to:c})}a.forEach(({from:o,to:c})=>{const u=e.slice(s).map(o,-1),d=e.slice(s).map(c),f=e.invert().map(u,-1),m=e.invert().map(d);r.push({oldRange:{from:f,to:m},newRange:{from:u,to:d}})})}),hBe(r)}function dD(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=aD(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var pBe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const o=i.node(s);o?.type.name===e?a=o:s-=1}return[a,s]};function yT(t,e){return e.nodes[t]||e.marks[t]||null}function Uw(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var mBe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,o)=>{var c,u;const d=((u=(c=i.type.spec).toText)==null?void 0:u.call(c,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function OM(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?hf(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>IS(f.attrs,n,{strict:!1}));let a=0;const o=[];if(i.forEach(({$from:f,$to:m})=>{const p=f.pos,b=m.pos;t.doc.nodesBetween(p,b,(v,y)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(p,y),_=Math.min(b,y+v.nodeSize),E=_-w;a+=E,o.push(...v.marks.map(A=>({mark:A,from:w,to:_})))})}),a===0)return!1;const c=o.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>IS(f.mark.attrs,n,{strict:!1})).reduce((f,m)=>f+m.to-m.from,0),u=o.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,m)=>f+m.to-m.from,0);return(c>0?c+u:c)>=a}function gBe(t,e,n={}){if(!e)return Ih(t,null,n)||OM(t,null,n);const r=eE(e,t.schema);return r==="node"?Ih(t,e,n):r==="mark"?OM(t,e,n):!1}var vBe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=tE(o=>o.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},yBe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function dH(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function fH(t,e){const{nodeExtensions:n}=U0(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Br(gn(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function nE(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(nE(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function lie(t){return t instanceof bn}function bBe(t,e,n){var r;const{selection:i}=e;let s=null;if(Gre(i)&&(s=i.$cursor),s){const o=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(o)||!o.some(u=>u.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:o,$to:c})=>{let u=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(o.pos,c.pos,(d,f,m)=>{if(u)return!1;if(d.isInline){const p=!m||m.type.allowsMarkType(n),b=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));u=p&&b}return!u}),u})}var xBe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:o}=s,c=hf(t,r.schema);if(i)if(a){const u=Qre(r,c);n.addStoredMark(c.create({...u,...e}))}else o.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(m,p)=>{const b=Math.max(p,d),v=Math.min(p+m.nodeSize,f);m.marks.find(w=>w.type===c)?m.marks.forEach(w=>{c===w.type&&n.addMark(b,v,c.create({...w.attrs,...e}))}):n.addMark(b,v,c.create(e))})});return bBe(r,n,c)},wBe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),SBe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Is(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>AU(s,{...a,...e})(n)?!0:o.clearNodes()).command(({state:o})=>AU(s,{...a,...e})(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},NBe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=$p(t,0,r.content.size),s=bn.create(r,i);e.setSelection(s)}return!0},_Be=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Nn.atStart(r).from,o=Nn.atEnd(r).to,c=$p(i,a,o),u=$p(s,a,o),d=Nn.create(r,c,u);e.setSelection(d)}return!0},EBe=t=>({state:e,dispatch:n})=>{const r=Is(t,e.schema);return _6e(r)(e,n)};function hH(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var CBe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:o,$to:c}=s,u=i.extensionManager.attributes,d=Uw(u,o.node().type.name,o.node().attrs);if(s instanceof bn&&s.node.isBlock)return!o.parentOffset||!Qd(a,o.pos)?!1:(r&&(t&&hH(n,i.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,m=o.depth===0?void 0:iBe(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=f&&m?[{type:m,attrs:d}]:void 0,b=Qd(e.doc,e.mapping.map(o.pos),1,p);if(!p&&!b&&Qd(e.doc,e.mapping.map(o.pos),1,m?[{type:m}]:void 0)&&(b=!0,p=m?[{type:m,attrs:d}]:void 0),r){if(b&&(s instanceof Nn&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,p),m&&!f&&!o.parentOffset&&o.parent.type!==m)){const v=e.mapping.map(o.before()),y=e.doc.resolve(v);o.node(-1).canReplaceWith(y.index(),y.index()+1,m)&&e.setNodeMarkup(e.mapping.map(o.before()),m)}t&&hH(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},ABe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const o=Is(t,r.schema),{$from:c,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==o)return!1;const m=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==o||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let w=ct.empty;const _=c.index(-1)?1:c.index(-2)?2:3;for(let T=c.depth-_;T>=c.depth-3;T-=1)w=ct.from(c.node(T).copy(w));const E=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,A={...Uw(m,c.node().type.name,c.node().attrs),...e},k=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(A))||void 0;w=w.append(ct.from(o.createAndFill(null,k)||void 0));const P=c.before(c.depth-(_-1));n.replace(P,c.after(-E),new It(w,4-_,0));let R=-1;n.doc.nodesBetween(P,n.doc.content.size,(T,M)=>{if(R>-1)return!1;T.isTextblock&&T.content.size===0&&(R=M+1)}),R>-1&&n.setSelection(Nn.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const p=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,b={...Uw(m,f.type.name,f.attrs),...e},v={...Uw(m,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const y=p?[{type:o,attrs:b},{type:p,attrs:v}]:[{type:o,attrs:b}];if(!Qd(n.doc,c.pos,2))return!1;if(i){const{selection:w,storedMarks:_}=r,{splittableMarks:E}=s.extensionManager,A=_||w.$to.parentOffset&&w.$from.marks();if(n.split(c.pos,2,y).scrollIntoView(),!A||!i)return!0;const k=A.filter(P=>E.includes(P.type.name));n.ensureMarks(k)}return!0},bT=(t,e)=>{const n=tE(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Vh(t.doc,n.pos)&&t.join(n.pos),!0},xT=(t,e)=>{const n=tE(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Vh(t.doc,r)&&t.join(r),!0},kBe=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:o,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:m}=i.extensionManager,p=Is(t,a.schema),b=Is(e,a.schema),{selection:v,storedMarks:y}=a,{$from:w,$to:_}=v,E=w.blockRange(_),A=y||v.$to.parentOffset&&v.$from.marks();if(!E)return!1;const k=tE(P=>fH(P.type.name,f))(v);if(E.depth>=1&&k&&E.depth-k.depth<=1){if(k.node.type===p)return u.liftListItem(b);if(fH(k.node.type.name,f)&&p.validContent(k.node.content)&&o)return c().command(()=>(s.setNodeMarkup(k.pos,p),!0)).command(()=>bT(s,p)).command(()=>xT(s,p)).run()}return!n||!A||!o?c().command(()=>d().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>bT(s,p)).command(()=>xT(s,p)).run():c().command(()=>{const P=d().wrapInList(p,r),R=A.filter(T=>m.includes(T.type.name));return s.ensureMarks(R),P?!0:u.clearNodes()}).wrapInList(p,r).command(()=>bT(s,p)).command(()=>xT(s,p)).run()},jBe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=hf(t,r.schema);return OM(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},TBe=(t,e,n={})=>({state:r,commands:i})=>{const s=Is(t,r.schema),a=Is(e,r.schema),o=Ih(r,s,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),o?i.setNode(a,c):i.setNode(s,{...c,...n})},OBe=(t,e={})=>({state:n,commands:r})=>{const i=Is(t,n.schema);return Ih(n,i,e)?r.lift(i):r.wrapIn(i,e)},PBe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,o=s.transform;for(let c=o.steps.length-1;c>=0;c-=1)a.step(o.steps[c].invert(o.docs[c]));if(s.text){const c=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else a.delete(s.from,s.to)}return!0}}return!1},MBe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},RBe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:o}=n,c=hf(t,r.schema),{$from:u,empty:d,ranges:f}=o;if(!i)return!0;if(d&&a){let{from:m,to:p}=o;const b=(s=u.marks().find(y=>y.type===c))==null?void 0:s.attrs,v=aD(u,c,b);v&&(m=v.from,p=v.to),n.removeMark(m,p,c)}else f.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,c)});return n.removeStoredMark(c),!0},IBe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=eE(typeof t=="string"?t:t.name,r.schema);return o?(o==="node"&&(s=Is(t,r.schema)),o==="mark"&&(a=hf(t,r.schema)),i&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,m,p,b;n.selection.empty?r.doc.nodesBetween(u,d,(v,y)=>{s&&s===v.type&&(p=Math.max(y,u),b=Math.min(y+v.nodeSize,d),f=y,m=v)}):r.doc.nodesBetween(u,d,(v,y)=>{y<u&&s&&s===v.type&&(p=Math.max(y,u),b=Math.min(y+v.nodeSize,d),f=y,m=v),y>=u&&y<=d&&(s&&s===v.type&&n.setNodeMarkup(y,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(w=>{if(a===w.type){const _=Math.max(y,u),E=Math.min(y+v.nodeSize,d);n.addMark(_,E,a.create({...w.attrs,...e}))}}))}),m&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...m.attrs,...e}),a&&m.marks.length&&m.marks.forEach(v=>{a===v.type&&n.addMark(p,b,a.create({...v.attrs,...e}))}))}),!0):!1},DBe=(t,e={})=>({state:n,dispatch:r})=>{const i=Is(t,n.schema);return v6e(i,e)(n,r)},LBe=(t,e={})=>({state:n,dispatch:r})=>{const i=Is(t,n.schema);return y6e(i,e)(n,r)},FBe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},rE=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},BBe=(t,e)=>{if(sD(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function iw(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:o}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let d=!1;const f=mBe(u)+s;return a.forEach(m=>{if(d)return;const p=BBe(f,m.find);if(!p)return;const b=c.state.tr,v=Q_({state:c.state,transaction:b}),y={from:r-(p[0].length-s.length),to:i},{commands:w,chain:_,can:E}=new J_({editor:n,state:v});m.handler({state:v,range:y,match:p,commands:w,chain:_,can:E})===null||!b.steps.length||(m.undoable&&b.setMeta(o,{transform:b,from:r,to:i,text:s}),c.dispatch(b),d=!0)}),d}function $Be(t){const{editor:e,rules:n}=t,r=new Ci({state:{init(){return null},apply(i,s,a){const o=i.getMeta(r);if(o)return o;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=cD(ct.from(d),a.schema);const{from:f}=c,m=f+d.length;iw({editor:e,from:f,to:m,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return iw({editor:e,from:s,to:a,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&iw({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?iw({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function zBe(t){return Object.prototype.toString.call(t).slice(8,-1)}function sw(t){return zBe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function cie(t,e){const n={...t};return sw(t)&&sw(e)&&Object.keys(e).forEach(r=>{sw(e[r])&&sw(t[r])?n[r]=cie(t[r],e[r]):n[r]=e[r]}),n}var fD=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Br(gn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Br(gn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>cie(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},pf=class uie extends fD{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new uie(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(u=>u?.type.name===n.name))return!1;const c=a.find(u=>u?.type.name===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function qBe(t){return typeof t=="number"}var UBe=class{constructor(t){this.find=t.find,this.handler=t.handler}},HBe=(t,e,n)=>{if(sD(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function VBe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:o}=t,{commands:c,chain:u,can:d}=new J_({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(p,b)=>{var v,y,w,_,E;if((y=(v=p.type)==null?void 0:v.spec)!=null&&y.code||!(p.isText||p.isTextblock||p.isInline))return;const A=(E=(_=(w=p.content)==null?void 0:w.size)!=null?_:p.nodeSize)!=null?E:0,k=Math.max(r,b),P=Math.min(i,b+A);if(k>=P)return;const R=p.isText?p.text||"":p.textBetween(k-b,P-b,void 0,"");HBe(R,s.find,a).forEach(M=>{if(M.index===void 0)return;const B=k+M.index+1,O=B+M[0].length,F={from:n.tr.mapping.map(B),to:n.tr.mapping.map(O)},q=s.handler({state:n,range:F,match:M,commands:c,chain:u,can:d,pasteEvent:a,dropEvent:o});f.push(q)})}),f.every(p=>p!==null)}var aw=null,WBe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function KBe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const c=({state:d,from:f,to:m,rule:p,pasteEvt:b})=>{const v=d.tr,y=Q_({state:d,transaction:v});if(!(!VBe({editor:e,state:y,from:Math.max(f-1,0),to:m.b-1,rule:p,pasteEvent:b,dropEvent:o})||!v.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(d=>new Ci({view(f){const m=b=>{var v;r=(v=f.dom.parentElement)!=null&&v.contains(b.target)?f.dom.parentElement:null,r&&(aw=e)},p=()=>{aw&&(aw=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,m)=>{if(s=r===f.dom.parentElement,o=m,!s){const p=aw;p?.isEditable&&setTimeout(()=>{const b=p.state.selection;b&&p.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(f,m)=>{var p;const b=(p=m.clipboardData)==null?void 0:p.getData("text/html");return a=m,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(f,m,p)=>{const b=f[0],v=b.getMeta("uiEvent")==="paste"&&!i,y=b.getMeta("uiEvent")==="drop"&&!s,w=b.getMeta("applyPasteRules"),_=!!w;if(!v&&!y&&!_)return;if(_){let{text:k}=w;typeof k=="string"?k=k:k=cD(ct.from(k),p.schema);const{from:P}=w,R=P+k.length,T=WBe(k);return c({rule:d,state:p,from:P,to:{b:R},pasteEvt:T})}const E=m.doc.content.findDiffStart(p.doc.content),A=m.doc.content.findDiffEnd(p.doc.content);if(!(!qBe(E)||!A||E===A.b))return c({rule:d,state:p,from:E,to:A,pasteEvt:a})}}))}var iE=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=rie(t),this.schema=lBe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:yT(e.name,this.schema)},r=gn(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return uD([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:yT(r.name,this.schema)},s=[],a=gn(r,"addKeyboardShortcuts",i);let o={};if(r.type==="mark"&&gn(r,"exitable",i)&&(o.ArrowRight=()=>pf.handleExit({editor:t,mark:r})),a){const m=Object.fromEntries(Object.entries(a()).map(([p,b])=>[p,()=>b({editor:t})]));o={...o,...m}}const c=f8e(o);s.push(c);const u=gn(r,"addInputRules",i);if(dH(r,t.options.enableInputRules)&&u){const m=u();if(m&&m.length){const p=$Be({editor:t,rules:m}),b=Array.isArray(p)?p:[p];s.push(...b)}}const d=gn(r,"addPasteRules",i);if(dH(r,t.options.enablePasteRules)&&d){const m=d();if(m&&m.length){const p=KBe({editor:t,rules:m});s.push(...p)}}const f=gn(r,"addProseMirrorPlugins",i);if(f){const m=f();s.push(...m)}return s})}get attributes(){return nie(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=U0(this.extensions);return Object.fromEntries(e.filter(n=>!!gn(n,"addNodeView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Is(n.name,this.schema)},s=gn(n,"addNodeView",i);if(!s)return[];const a=(o,c,u,d,f)=>{const m=DS(o,r);return s()({node:o,view:c,getPos:u,decorations:d,innerDecorations:f,editor:t,extension:n,HTMLAttributes:m})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=U0(this.extensions);return Object.fromEntries(e.filter(n=>!!gn(n,"addMarkView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:hf(n.name,this.schema)},s=gn(n,"addMarkView",i);if(!s)return[];const a=(o,c,u)=>{const d=DS(o,r);return s()({mark:o,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{a$e(o,t,f)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:yT(e.name,this.schema)};e.type==="mark"&&((n=Br(gn(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=gn(e,"onBeforeCreate",r),s=gn(e,"onCreate",r),a=gn(e,"onUpdate",r),o=gn(e,"onSelectionUpdate",r),c=gn(e,"onTransaction",r),u=gn(e,"onFocus",r),d=gn(e,"onBlur",r),f=gn(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};iE.resolve=rie;iE.sort=uD;iE.flatten=lD;var GBe={};iD(GBe,{ClipboardTextSerializer:()=>fie,Commands:()=>hie,Delete:()=>pie,Drop:()=>mie,Editable:()=>gie,FocusEvents:()=>yie,Keymap:()=>bie,Paste:()=>xie,Tabindex:()=>wie,focusEventsPluginKey:()=>vie});var Jr=class die extends fD{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new die(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},fie=Jr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ci({key:new ds("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(d=>d.$from.pos)),o=Math.max(...s.map(d=>d.$to.pos)),c=sie(n);return iie(r,{from:a,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),hie=Jr.create({name:"commands",addCommands(){return{...Wre}}}),pie=Jr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,o,c,u;if((u=(c=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:c.call(o,t))!=null?u:t.getMeta("y-sync$"))return;const d=Jre(t.before,[t,...e]);oie(d).forEach(p=>{d.mapping.mapResult(p.oldRange.from).deletedAfter&&d.mapping.mapResult(p.oldRange.to).deletedBefore&&d.before.nodesBetween(p.oldRange.from,p.oldRange.to,(b,v)=>{const y=v+b.nodeSize-2,w=p.oldRange.from<=v&&y<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:v,to:y,newFrom:d.mapping.map(v),newTo:d.mapping.map(y),deletedRange:p.oldRange,newRange:p.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:d})})});const m=d.mapping;d.steps.forEach((p,b)=>{var v,y;if(p instanceof Vc){const w=m.slice(b).map(p.from,-1),_=m.slice(b).map(p.to),E=m.invert().map(w,-1),A=m.invert().map(_),k=(v=d.doc.nodeAt(w-1))==null?void 0:v.marks.some(R=>R.eq(p.mark)),P=(y=d.doc.nodeAt(_))==null?void 0:y.marks.some(R=>R.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:E,to:A},newRange:{from:w,to:_},partial:!!(P||k),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),mie=Jr.create({name:"drop",addProseMirrorPlugins(){return[new Ci({key:new ds("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),gie=Jr.create({name:"editable",addProseMirrorPlugins(){return[new Ci({key:new ds("editable"),props:{editable:()=>this.editor.options.editable}})]}}),vie=new ds("focusEvents"),yie=Jr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ci({key:vie,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),bie=Jr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:c,doc:u}=o,{empty:d,$anchor:f}=c,{pos:m,parent:p}=f,b=f.parent.isTextblock&&m>0?o.doc.resolve(m-1):f,v=b.parent.type.spec.isolating,y=f.pos-f.parentOffset,w=v&&b.parent.childCount===1?y===f.pos:Mn.atStart(u).from===m;return!d||!p.type.isTextblock||p.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return oD()||Zre()?s:i},addProseMirrorPlugins(){return[new Ci({key:new ds("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:o}=e.selection,c=Mn.atStart(e.doc).from,u=Mn.atEnd(e.doc).to;if(s||!(a===c&&o===u)||!nE(n.doc))return;const m=n.tr,p=Q_({state:n,transaction:m}),{commands:b}=new J_({editor:this.editor,state:p});if(b.clearNodes(),!!m.steps.length)return m}})]}}),xie=Jr.create({name:"paste",addProseMirrorPlugins(){return[new Ci({key:new ds("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),wie=Jr.create({name:"tabindex",addProseMirrorPlugins(){return[new Ci({key:new ds("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),YBe=class Ag{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ag(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ag(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ag(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!i&&o.depth<=this.depth)return;const c=new Ag(o,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new Ag(o,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let o=0;o<a.length;o+=1){const c=a[o];if(s[c]!==n[c])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(c=>n[c]===a.node.attrs[c])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},XBe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function ZBe(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var QBe=class extends FBe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=Yre(e,this.options.autofocus);this.editorState=Lg.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=ZBe(XBe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=tie(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[gie,fie.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),hie,yie,bie,wie,mie,xie,pie].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new iE(r,this)}createCommandManager(){this.commandManager=new J_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=jM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=jM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new Vre(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),o=a?.getMeta("focus"),c=a?.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),c&&this.emit("blur",{editor:this,event:c.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return aie(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return gBe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cD(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return uBe(this.state.doc,{blockSeparator:e,textSerializers:{...sie(this.schema),...n}})}get isEmpty(){return nE(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new YBe(e,this)}get $doc(){return this.$pos(0)}};function bm(t){return new rE({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Br(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],o=r[0];if(a){const c=o.search(/\S/),u=n.from+o.indexOf(a),d=u+a.length;if(dD(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(v=>v===t.type&&v!==p.mark.type)).filter(p=>p.to>u).length)return null;d<n.to&&s.delete(d,n.to),u>n.from&&s.delete(n.from+c,u);const m=n.from+c+a.length;s.addMark(n.from+c,m,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function Sie(t){return new rE({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Br(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let o=n.to;const c=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>o?d=o:o=d+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,a+r[0].length-1),s.replaceWith(d,o,c)}else if(r[0]){const u=t.type.isInline?a:a-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()},undoable:t.undoable})}function PM(t){return new rE({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Br(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Dv(t){return new rE({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Br(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),c=a.doc.resolve(n.from).blockRange(),u=c&&$I(c,t.type,s);if(!u)return null;if(a.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:m}=e,{splittableMarks:p}=t.editor.extensionManager,b=m||f.$to.parentOffset&&f.$from.marks();if(b){const v=b.filter(y=>p.includes(y.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Vh(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&a.join(n.from-1)},undoable:t.undoable})}function JBe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof bn){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var e$e={};iD(e$e,{createAtomBlockMarkdownSpec:()=>t$e,createBlockMarkdownSpec:()=>n$e,createInlineMarkdownSpec:()=>s$e,parseAttributes:()=>hD,parseIndentedBlocks:()=>MM,renderNestedMarkdownContent:()=>mD,serializeAttributes:()=>pD});function hD(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const u=i.map(d=>d.trim().slice(1));e.class=u.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,u,d])=>{var f;const m=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),p=n[m];p&&(e[u]=p.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function pD(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function t$e(t){const{nodeName:e,name:n,parseAttributes:r=hD,serializeAttributes:i=pD,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:o}=t,c=n||e,u=d=>{if(!o)return d;const f={};return o.forEach(m=>{m in d&&(f[m]=d[m])}),f};return{parseMarkdown:(d,f)=>{const m={...s,...d.attributes};return f.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const m=new RegExp(`^:::${c}(?:\\s|$)`,"m"),p=(f=d.match(m))==null?void 0:f.index;return p!==void 0?p:-1},tokenize(d,f,m){const p=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=d.match(p);if(!b)return;const v=b[1]||"",y=r(v);if(!a.find(_=>!(_ in y)))return{type:e,raw:b[0],attributes:y}}},renderMarkdown:d=>{const f=u(d.attrs||{}),m=i(f),p=m?` {${m}}`:"";return`:::${c}${p} :::`}}}function n$e(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=hD,serializeAttributes:s=pD,defaultAttributes:a={},content:o="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const m={};return c.forEach(p=>{p in f&&(m[p]=f[p])}),m};return{parseMarkdown:(f,m)=>{let p;if(r){const v=r(f);p=typeof v=="string"?[{type:"text",text:v}]:v}else o==="block"?p=m.parseChildren(f.tokens||[]):p=m.parseInline(f.tokens||[]);const b={...a,...f.attributes};return m.createNode(e,b,p)},markdownTokenizer:{name:e,level:"block",start(f){var m;const p=new RegExp(`^:::${u}`,"m"),b=(m=f.match(p))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(f,m,p){var b;const v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=f.match(v);if(!y)return;const[w,_=""]=y,E=i(_);let A=1;const k=w.length;let P="";const R=/^:::([\w-]*)(\s.*)?/gm,T=f.slice(k);for(R.lastIndex=0;;){const M=R.exec(T);if(M===null)break;const B=M.index,O=M[1];if(!((b=M[2])!=null&&b.endsWith(":::"))){if(O)A+=1;else if(A-=1,A===0){const F=T.slice(0,B);P=F.trim();const q=f.slice(0,k+B+M[0].length);let z=[];if(P)if(o==="block")for(z=p.blockTokens(F),z.forEach(K=>{K.text&&(!K.tokens||K.tokens.length===0)&&(K.tokens=p.inlineTokens(K.text))});z.length>0;){const K=z[z.length-1];if(K.type==="paragraph"&&(!K.text||K.text.trim()===""))z.pop();else break}else z=p.inlineTokens(P);return{type:e,raw:q,attributes:E,content:P,tokens:z}}}}}},renderMarkdown:(f,m)=>{const p=d(f.attrs||{}),b=s(p),v=b?` {${b}}`:"",y=m.renderChildren(f.content||[],`

`);return`:::${u}${v}

${y}

:::`}}}function r$e(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function i$e(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function s$e(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=r$e,serializeAttributes:s=i$e,defaultAttributes:a={},selfClosing:o=!1,allowedAttributes:c}=t,u=n||e,d=m=>{if(!c)return m;const p={};return c.forEach(b=>{b in m&&(p[b]=m[b])}),p},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,p)=>{const b={...a,...m.attributes};if(o)return p.createNode(e,b);const v=r?r(m):m.content||"";return v?p.createNode(e,b,[p.createTextNode(v)]):p.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(m){const p=o?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),b=m.match(p),v=b?.index;return v!==void 0?v:-1},tokenize(m,p,b){const v=o?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),y=m.match(v);if(!y)return;let w="",_="";if(o){const[,A]=y;_=A}else{const[,A,k]=y;_=A,w=k||""}const E=i(_.trim());return{type:e,raw:y[0],content:w.trim(),attributes:E}}},renderMarkdown:m=>{let p="";r?p=r(m):m.content&&m.content.length>0&&(p=m.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const b=d(m.attrs||{}),v=s(b),y=v?` ${v}`:"";return o?`[${u}${y}]`:`[${u}${y}]${p}[/${u}]`}}}function MM(t,e,n){var r,i,s,a;const o=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<o.length;){const m=o[d],p=m.match(e.itemPattern);if(!p){if(c.length>0)break;if(m.trim()===""){d+=1;continue}else return}const b=e.extractItemData(p),{indentLevel:v,mainContent:y}=b;u=`${u}${m}
`;const w=[y];for(d+=1;d<o.length;){const k=o[d];if(k.trim()===""){const R=o.slice(d+1).findIndex(B=>B.trim()!=="");if(R===-1)break;if((((i=(r=o[d+1+R].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>v){w.push(k),u=`${u}${k}
`,d+=1;continue}else break}if((((a=(s=k.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>v)w.push(k),u=`${u}${k}
`,d+=1;else break}let _;const E=w.slice(1);if(E.length>0){const k=E.map(P=>P.slice(v+f)).join(`
`);k.trim()&&(e.customNestedParser?_=e.customNestedParser(k):_=n.blockTokens(k))}const A=e.createToken(b,_);c.push(A)}if(c.length!==0)return{items:c,raw:u.trim()}}function mD(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,o=e.renderChildren([s]),c=[`${i}${o}`];return a&&a.length>0&&a.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(m=>m?e.indent(m):"").join(`
`);c.push(f)}}),c.join(`
`)}function a$e(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((o,c)=>{const u=s.mapping.map(c),d=s.mapping.map(c)+o.nodeSize;let f=null;if(o.marks.forEach(p=>{if(p!==a)return!1;f=p}),!f)return;let m=!1;if(Object.keys(n).forEach(p=>{n[p]!==f.attrs[p]&&(m=!0)}),m){const p=t.type.create({...t.attrs,...n});s.removeMark(u,d,t.type),s.addMark(u,d,p)}}),s.docChanged&&e.view.dispatch(s)}var ma=class Nie extends fD{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Nie(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Dh(t){return new UBe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Br(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,o=r[r.length-1],c=r[0];let u=n.to;if(o){const d=c.search(/\S/),f=n.from+c.indexOf(o),m=f+o.length;if(dD(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(y=>y===t.type&&y!==b.mark.type)).filter(b=>b.to>f).length)return null;m<n.to&&a.delete(m,n.to),f>n.from&&a.delete(n.from+d,f),u=n.from+d+o.length,a.addMark(n.from+d,u,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var wT,pH;function o$e(){return pH||(pH=1,wT=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),wT}var l$e=o$e();const c$e=Pr(l$e);var ST={exports:{}},NT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mH;function u$e(){if(mH)return NT;mH=1;var t=K0(),e=lV();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return NT.useSyncExternalStoreWithSelector=function(u,d,f,m,p){var b=s(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=o(function(){function w(P){if(!_){if(_=!0,E=P,P=m(P),p!==void 0&&v.hasValue){var R=v.value;if(p(R,P))return A=R}return A=P}if(R=A,r(E,P))return R;var T=m(P);return p!==void 0&&p(R,T)?(E=P,R):(E=P,A=T)}var _=!1,E,A,k=f===void 0?null:f;return[function(){return w(d())},k===null?void 0:function(){return w(k())}]},[d,f,m,p]);var y=i(u,b[0],b[1]);return a(function(){v.hasValue=!0,v.value=y},[y]),c(y),y},NT}var gH;function d$e(){return gH||(gH=1,ST.exports=u$e()),ST.exports}var f$e=d$e(),h$e=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},p$e=({contentComponent:t})=>{const e=pN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return l.jsx(l.Fragment,{children:Object.values(e)})};function m$e(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:TV.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var g$e=class extends Ce.Component{constructor(t){var e;super(t),this.editorContentRef=Ce.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=m$e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:h$e(e,this.editorContentRef),...n}),t?.contentComponent&&l.jsx(p$e,{contentComponent:t.contentComponent})]})}},v$e=S.forwardRef((t,e)=>{const n=Ce.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ce.createElement(g$e,{key:n,innerRef:e,...t})}),_ie=Ce.memo(v$e),y$e=typeof window<"u"?S.useLayoutEffect:S.useEffect,b$e=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function x$e(t){var e;const[n]=S.useState(()=>new b$e(t.editor)),r=f$e.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:c$e);return y$e(()=>n.watch(t.editor),[t.editor,n]),S.useDebugValue(r),r}var w$e=!1,RM=typeof window>"u",S$e=RM||!!(typeof window<"u"&&window.next),N$e=class Eie{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?RM||S$e?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new QBe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Eie.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Cie(t={},e=[]){const n=S.useRef(t);n.current=t;const[r]=S.useState(()=>new N$e(n)),i=pN.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return S.useDebugValue(i),S.useEffect(r.onRender(e)),x$e({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var _$e=S.createContext({editor:null});_$e.Consumer;var E$e=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),C$e=()=>S.useContext(E$e);Ce.forwardRef((t,e)=>{const{onDragStart:n}=C$e(),r=t.as||"div";return l.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ce.createContext({markViewContentRef:()=>{}});var LS=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},A$e=/^\s*>\s$/,k$e=ma.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return LS("blockquote",{...oi(this.options.HTMLAttributes,t),children:LS("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(i=>{const a=e.renderChildren(i).split(`
`).map(o=>`> ${o}`).join(`
`);n.push(a)}),n.flatMap(i=>[i,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Dv({find:A$e,type:this.type})]}}),j$e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,T$e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,O$e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,P$e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,M$e=pf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return LS("strong",{...oi(this.options.HTMLAttributes,t),children:LS("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[bm({find:j$e,type:this.type}),bm({find:O$e,type:this.type})]},addPasteRules(){return[Dh({find:T$e,type:this.type}),Dh({find:P$e,type:this.type})]}}),R$e=/(^|[^`])`([^`]+)`(?!`)$/,I$e=/(^|[^`])`([^`]+)`(?!`)/g,D$e=pf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",oi(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[bm({find:R$e,type:this.type})]},addPasteRules(){return[Dh({find:I$e,type:this.type})]}}),_T=4,L$e=/^```([a-z]+)?[\s\n]$/,F$e=/^~~~([a-z]+)?[\s\n]$/,Aie=ma.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:_T,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",oi(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:_T,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const o=" ".repeat(n);return a?t.commands.insertContent(o):t.commands.command(({tr:c})=>{const{from:u,to:d}=i,p=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(b=>o+b).join(`
`);return c.replaceWith(u,d,r.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:_T,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:o})=>{var c;const{pos:u}=s,d=s.start(),f=s.end(),p=r.doc.textBetween(d,f,`
`,`
`).split(`
`);let b=0,v=0;const y=u-d;for(let P=0;P<p.length;P+=1){if(v+p[P].length>=y){b=P;break}v+=p[P].length+1}const _=((c=p[b].match(/^ */))==null?void 0:c[0])||"",E=Math.min(_.length,n);if(E===0)return!0;let A=d;for(let P=0;P<b;P+=1)A+=p[P].length+1;return o.delete(A,A+E),u-A<=E&&o.setSelection(Nn.create(o.doc,A)),!0}):t.commands.command(({tr:o})=>{const{from:c,to:u}=i,m=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>{var b;const v=((b=p.match(/^ */))==null?void 0:b[0])||"",y=Math.min(v.length,n);return p.slice(y)}).join(`
`);return o.replaceWith(c,u,r.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?t.commands.command(({tr:u})=>(u.setSelection(Mn.near(r.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[PM({find:L$e,type:this.type,getAttributes:t=>({language:t[1]})}),PM({find:F$e,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ci({key:new ds("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:o}=t.state,c=o.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},c)),a.selection.$from.parent.type!==this.type&&a.setSelection(Nn.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),B$e=Aie,$$e=ma.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),z$e=ma.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",oi(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:(t,e)=>e.indent(`
`),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&a){const f=c.filter(m=>o.includes(m.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),q$e=ma.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,oi(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>PM({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),U$e=ma.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",oi(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!JBe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return lie(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:o})=>{if(o){const{$to:c}=a.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?a.setSelection(Nn.create(a.doc,c.pos+1)):c.nodeAfter.isBlock?a.setSelection(bn.create(a.doc,c.pos)):a.setSelection(Nn.create(a.doc,c.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(a.insert(u,f),a.setSelection(Nn.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Sie({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),H$e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,V$e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,W$e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,K$e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,G$e=pf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",oi(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[bm({find:H$e,type:this.type}),bm({find:W$e,type:this.type})]},addPasteRules(){return[Dh({find:V$e,type:this.type}),Dh({find:K$e,type:this.type})]}});const Y$e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",X$e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",IM="numeric",DM="ascii",LM="alpha",Ob="asciinumeric",fb="alphanumeric",FM="domain",kie="emoji",Z$e="scheme",Q$e="slashscheme",ET="whitespace";function J$e(t,e){return t in e||(e[t]=[]),e[t]}function zp(t,e,n){e[IM]&&(e[Ob]=!0,e[fb]=!0),e[DM]&&(e[Ob]=!0,e[LM]=!0),e[Ob]&&(e[fb]=!0),e[LM]&&(e[fb]=!0),e[fb]&&(e[FM]=!0),e[kie]&&(e[FM]=!0);for(const r in e){const i=J$e(r,n);i.indexOf(t)<0&&i.push(t)}}function e7e(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Lo(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Lo.groups={};Lo.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Lo.groups;let i;return e&&e.j?i=e:(i=new Lo(e),n&&r&&zp(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Lo.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,o=i.go(t);if(o?(a=new Lo,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new Lo,s){if(r)if(a.t&&typeof a.t=="string"){const c=Object.assign(e7e(a.t,r),n);zp(s,c,r)}else n&&zp(s,n,r);a.t=s}return i.j[t]=a,a}};const tr=(t,e,n,r,i)=>t.ta(e,n,r,i),ts=(t,e,n,r,i)=>t.tr(e,n,r,i),vH=(t,e,n,r,i)=>t.ts(e,n,r,i),wt=(t,e,n,r,i)=>t.tt(e,n,r,i),$d="WORD",BM="UWORD",jie="ASCIINUMERICAL",Tie="ALPHANUMERICAL",H0="LOCALHOST",$M="TLD",zM="UTLD",Hw="SCHEME",kg="SLASH_SCHEME",gD="NUM",qM="WS",vD="NL",Pb="OPENBRACE",Mb="CLOSEBRACE",FS="OPENBRACKET",BS="CLOSEBRACKET",$S="OPENPAREN",zS="CLOSEPAREN",qS="OPENANGLEBRACKET",US="CLOSEANGLEBRACKET",HS="FULLWIDTHLEFTPAREN",VS="FULLWIDTHRIGHTPAREN",WS="LEFTCORNERBRACKET",KS="RIGHTCORNERBRACKET",GS="LEFTWHITECORNERBRACKET",YS="RIGHTWHITECORNERBRACKET",XS="FULLWIDTHLESSTHAN",ZS="FULLWIDTHGREATERTHAN",QS="AMPERSAND",JS="APOSTROPHE",eN="ASTERISK",ih="AT",tN="BACKSLASH",nN="BACKTICK",rN="CARET",lh="COLON",yD="COMMA",iN="DOLLAR",Au="DOT",sN="EQUALS",bD="EXCLAMATION",Yl="HYPHEN",Rb="PERCENT",aN="PIPE",oN="PLUS",lN="POUND",Ib="QUERY",xD="QUOTE",Oie="FULLWIDTHMIDDLEDOT",wD="SEMI",ku="SLASH",Db="TILDE",cN="UNDERSCORE",Pie="EMOJI",uN="SYM";var Mie=Object.freeze({__proto__:null,ALPHANUMERICAL:Tie,AMPERSAND:QS,APOSTROPHE:JS,ASCIINUMERICAL:jie,ASTERISK:eN,AT:ih,BACKSLASH:tN,BACKTICK:nN,CARET:rN,CLOSEANGLEBRACKET:US,CLOSEBRACE:Mb,CLOSEBRACKET:BS,CLOSEPAREN:zS,COLON:lh,COMMA:yD,DOLLAR:iN,DOT:Au,EMOJI:Pie,EQUALS:sN,EXCLAMATION:bD,FULLWIDTHGREATERTHAN:ZS,FULLWIDTHLEFTPAREN:HS,FULLWIDTHLESSTHAN:XS,FULLWIDTHMIDDLEDOT:Oie,FULLWIDTHRIGHTPAREN:VS,HYPHEN:Yl,LEFTCORNERBRACKET:WS,LEFTWHITECORNERBRACKET:GS,LOCALHOST:H0,NL:vD,NUM:gD,OPENANGLEBRACKET:qS,OPENBRACE:Pb,OPENBRACKET:FS,OPENPAREN:$S,PERCENT:Rb,PIPE:aN,PLUS:oN,POUND:lN,QUERY:Ib,QUOTE:xD,RIGHTCORNERBRACKET:KS,RIGHTWHITECORNERBRACKET:YS,SCHEME:Hw,SEMI:wD,SLASH:ku,SLASH_SCHEME:kg,SYM:uN,TILDE:Db,TLD:$M,UNDERSCORE:cN,UTLD:zM,UWORD:BM,WORD:$d,WS:qM});const Ld=/[a-z]/,Jy=new RegExp("\\p{L}","u"),CT=new RegExp("\\p{Emoji}","u"),Fd=/\d/,AT=/\s/,yH="\r",kT=`
`,t7e="",n7e="",jT="";let ow=null,lw=null;function r7e(t=[]){const e={};Lo.groups=e;const n=new Lo;ow==null&&(ow=bH(Y$e)),lw==null&&(lw=bH(X$e)),wt(n,"'",JS),wt(n,"{",Pb),wt(n,"}",Mb),wt(n,"[",FS),wt(n,"]",BS),wt(n,"(",$S),wt(n,")",zS),wt(n,"<",qS),wt(n,">",US),wt(n,"",HS),wt(n,"",VS),wt(n,"",WS),wt(n,"",KS),wt(n,"",GS),wt(n,"",YS),wt(n,"",XS),wt(n,"",ZS),wt(n,"&",QS),wt(n,"*",eN),wt(n,"@",ih),wt(n,"`",nN),wt(n,"^",rN),wt(n,":",lh),wt(n,",",yD),wt(n,"$",iN),wt(n,".",Au),wt(n,"=",sN),wt(n,"!",bD),wt(n,"-",Yl),wt(n,"%",Rb),wt(n,"|",aN),wt(n,"+",oN),wt(n,"#",lN),wt(n,"?",Ib),wt(n,'"',xD),wt(n,"/",ku),wt(n,";",wD),wt(n,"~",Db),wt(n,"_",cN),wt(n,"\\",tN),wt(n,"",Oie);const r=ts(n,Fd,gD,{[IM]:!0});ts(r,Fd,r);const i=ts(r,Ld,jie,{[Ob]:!0}),s=ts(r,Jy,Tie,{[fb]:!0}),a=ts(n,Ld,$d,{[DM]:!0});ts(a,Fd,i),ts(a,Ld,a),ts(i,Fd,i),ts(i,Ld,i);const o=ts(n,Jy,BM,{[LM]:!0});ts(o,Ld),ts(o,Fd,s),ts(o,Jy,o),ts(s,Fd,s),ts(s,Ld),ts(s,Jy,s);const c=wt(n,kT,vD,{[ET]:!0}),u=wt(n,yH,qM,{[ET]:!0}),d=ts(n,AT,qM,{[ET]:!0});wt(n,jT,d),wt(u,kT,c),wt(u,jT,d),ts(u,AT,d),wt(d,yH),wt(d,kT),ts(d,AT,d),wt(d,jT,d);const f=ts(n,CT,Pie,{[kie]:!0});wt(f,"#"),ts(f,CT,f),wt(f,t7e,f);const m=wt(f,n7e);wt(m,"#"),ts(m,CT,f);const p=[[Ld,a],[Fd,i]],b=[[Ld,null],[Jy,o],[Fd,s]];for(let v=0;v<ow.length;v++)Xf(n,ow[v],$M,$d,p);for(let v=0;v<lw.length;v++)Xf(n,lw[v],zM,BM,b);zp($M,{tld:!0,ascii:!0},e),zp(zM,{utld:!0,alpha:!0},e),Xf(n,"file",Hw,$d,p),Xf(n,"mailto",Hw,$d,p),Xf(n,"http",kg,$d,p),Xf(n,"https",kg,$d,p),Xf(n,"ftp",kg,$d,p),Xf(n,"ftps",kg,$d,p),zp(Hw,{scheme:!0,ascii:!0},e),zp(kg,{slashscheme:!0,ascii:!0},e),t=t.sort((v,y)=>v[0]>y[0]?1:-1);for(let v=0;v<t.length;v++){const y=t[v][0],_=t[v][1]?{[Z$e]:!0}:{[Q$e]:!0};y.indexOf("-")>=0?_[FM]=!0:Ld.test(y)?Fd.test(y)?_[Ob]=!0:_[DM]=!0:_[IM]=!0,vH(n,y,y,_)}return vH(n,"localhost",H0,{ascii:!0}),n.jd=new Lo(uN),{start:n,tokens:Object.assign({groups:e},Mie)}}function Rie(t,e){const n=i7e(e.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let o=t,c=null,u=0,d=null,f=-1,m=-1;for(;a<r&&(c=o.go(n[a]));)o=c,o.accepts()?(f=0,m=0,d=o):f>=0&&(f+=n[a].length,m++),u+=n[a].length,s+=n[a].length,a++;s-=f,a-=m,u-=f,i.push({t:d.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function i7e(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Xf(t,e,n,r,i){let s;const a=e.length;for(let o=0;o<a-1;o++){const c=e[o];t.j[c]?s=t.j[c]:(s=new Lo(r),s.jr=i.slice(),t.j[c]=s),t=s}return s=new Lo(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function bH(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const V0={defaultProtocol:"http",events:null,format:xH,formatHref:xH,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function SD(t,e=null){let n=Object.assign({},V0);t&&(n=Object.assign(n,t instanceof SD?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}SD.prototype={o:V0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:V0[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function xH(t){return t}function Iie(t,e){this.t="token",this.v=t,this.tk=e}Iie.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=V0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},o=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return a.href=r,o&&(a.class=o),c&&(a.target=c),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:i,attributes:a,content:s,eventListeners:f}}};function sE(t,e){class n extends Iie{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const wH=sE("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),SH=sE("text"),s7e=sE("nl"),cw=sE("url",{isLink:!0,toHref(t=V0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==H0&&t[1].t===lh}}),Gl=t=>new Lo(t);function a7e({groups:t}){const e=t.domain.concat([QS,eN,ih,tN,nN,rN,iN,sN,Yl,gD,Rb,aN,oN,lN,ku,uN,Db,cN]),n=[JS,lh,yD,Au,bD,Rb,Ib,xD,wD,qS,US,Pb,Mb,BS,FS,$S,zS,HS,VS,WS,KS,GS,YS,XS,ZS],r=[QS,JS,eN,tN,nN,rN,iN,sN,Yl,Pb,Mb,Rb,aN,oN,lN,Ib,ku,uN,Db,cN],i=Gl(),s=wt(i,Db);tr(s,r,s),tr(s,t.domain,s);const a=Gl(),o=Gl(),c=Gl();tr(i,t.domain,a),tr(i,t.scheme,o),tr(i,t.slashscheme,c),tr(a,r,s),tr(a,t.domain,a);const u=wt(a,ih);wt(s,ih,u),wt(o,ih,u),wt(c,ih,u);const d=wt(s,Au);tr(d,r,s),tr(d,t.domain,s);const f=Gl();tr(u,t.domain,f),tr(f,t.domain,f);const m=wt(f,Au);tr(m,t.domain,f);const p=Gl(wH);tr(m,t.tld,p),tr(m,t.utld,p),wt(u,H0,p);const b=wt(f,Yl);wt(b,Yl,b),tr(b,t.domain,f),tr(p,t.domain,f),wt(p,Au,m),wt(p,Yl,b);const v=wt(p,lh);tr(v,t.numeric,wH);const y=wt(a,Yl),w=wt(a,Au);wt(y,Yl,y),tr(y,t.domain,a),tr(w,r,s),tr(w,t.domain,a);const _=Gl(cw);tr(w,t.tld,_),tr(w,t.utld,_),tr(_,t.domain,a),tr(_,r,s),wt(_,Au,w),wt(_,Yl,y),wt(_,ih,u);const E=wt(_,lh),A=Gl(cw);tr(E,t.numeric,A);const k=Gl(cw),P=Gl();tr(k,e,k),tr(k,n,P),tr(P,e,k),tr(P,n,P),wt(_,ku,k),wt(A,ku,k);const R=wt(o,lh),T=wt(c,lh),M=wt(T,ku),B=wt(M,ku);tr(o,t.domain,a),wt(o,Au,w),wt(o,Yl,y),tr(c,t.domain,a),wt(c,Au,w),wt(c,Yl,y),tr(R,t.domain,k),wt(R,ku,k),wt(R,Ib,k),tr(B,t.domain,k),tr(B,e,k),wt(B,ku,k);const O=[[Pb,Mb],[FS,BS],[$S,zS],[qS,US],[HS,VS],[WS,KS],[GS,YS],[XS,ZS]];for(let F=0;F<O.length;F++){const[q,z]=O[F],K=wt(k,q);wt(P,q,K),wt(K,z,k);const Z=Gl(cw);tr(K,e,Z);const H=Gl();tr(K,n),tr(Z,e,Z),tr(Z,n,H),tr(H,e,Z),tr(H,n,H),wt(Z,z,k),wt(H,z,k)}return wt(i,H0,_),wt(i,vD,s7e),{start:i,tokens:Mie}}function o7e(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let o=t,c=null,u=null,d=0,f=null,m=-1;for(;i<r&&!(c=o.go(n[i].t));)a.push(n[i++]);for(;i<r&&(u=c||o.go(n[i].t));)c=null,o=u,o.accepts()?(m=0,f=o):m>=0&&m++,i++,d++;if(m<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(TT(SH,e,a)),a=[]),i-=m,d-=m;const p=f.t,b=n.slice(i-d,i);s.push(TT(p,e,b))}}return a.length>0&&s.push(TT(SH,e,a)),s}function TT(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const l7e=typeof console<"u"&&console&&console.warn||(()=>{}),c7e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ni={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function u7e(){return Lo.groups={},Ni.scanner=null,Ni.parser=null,Ni.tokenQueue=[],Ni.pluginQueue=[],Ni.customSchemes=[],Ni.initialized=!1,Ni}function NH(t,e=!1){if(Ni.initialized&&l7e(`linkifyjs: already initialized - will not register custom scheme "${t}" ${c7e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ni.customSchemes.push([t,e])}function d7e(){Ni.scanner=r7e(Ni.customSchemes);for(let t=0;t<Ni.tokenQueue.length;t++)Ni.tokenQueue[t][1]({scanner:Ni.scanner});Ni.parser=a7e(Ni.scanner.tokens);for(let t=0;t<Ni.pluginQueue.length;t++)Ni.pluginQueue[t][1]({scanner:Ni.scanner,parser:Ni.parser});return Ni.initialized=!0,Ni}function ND(t){return Ni.initialized||d7e(),o7e(Ni.parser.start,t,Rie(Ni.scanner.start,t))}ND.scan=Rie;function Die(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new SD(n),i=ND(t),s=[];for(let a=0;a<i.length;a++){const o=i[a];o.isLink&&(!e||o.t===e)&&r.check(o)&&s.push(o.toFormattedObject(r))}return s}var _D="[\0- -\u2029]",f7e=new RegExp(_D),h7e=new RegExp(`${_D}$`),p7e=new RegExp(_D,"g");function m7e(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function g7e(t){return new Ci({key:new ds("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,o=Jre(n.doc,[...e]);if(oie(o).forEach(({newRange:u})=>{const d=sBe(r.doc,u,p=>p.isTextblock);let f,m;if(d.length>1)f=d[0],m=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const p=r.doc.textBetween(u.from,u.to," "," ");if(!h7e.test(p))return;f=d[0],m=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&m){const p=m.split(f7e).filter(Boolean);if(p.length<=0)return!1;const b=p[p.length-1],v=f.pos+m.lastIndexOf(b);if(!b)return!1;const y=ND(b).map(w=>w.toObject(t.defaultProtocol));if(!m7e(y))return!1;y.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{dD(w.from,w.to,r.doc).some(_=>_.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function v7e(t){return new Ci({key:new ds("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;a=f.find(m=>m.nodeName==="A")}if(!a)return!1;const o=aie(e.state,t.type.name),c=(i=a?.href)!=null?i:o.href,u=(s=a?.target)!=null?s:o.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&c?(window.open(c,u),!0):!1}}})}function y7e(t){return new Ci({key:new ds("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:o}=a;if(o)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const u=Die(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||i!==void 0&&!i(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function wp(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(p7e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var ED=pf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){NH(t);return}NH(t.scheme,t.optionalSlashes)})},onDestroy(){u7e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!wp(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!wp(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!wp(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",oi(this.options.HTMLAttributes,t),0]:["a",oi(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!wp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!wp(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Dh({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=Die(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!wp(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(g7e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!wp(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(v7e({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(y7e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),b7e=ED,x7e=Object.defineProperty,w7e=(t,e)=>{for(var n in e)x7e(t,n,{get:e[n],enumerable:!0})},S7e="listItem",_H="textStyle",EH=/^\s*([-+*])\s$/,Lie=ma.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",oi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(S7e,this.editor.getAttributes(_H)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Dv({find:EH,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Dv({find:EH,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(_H),editor:this.editor})),[t]}}),Fie=ma.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",oi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),o=e.parseChildren(a);n.push(...o)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>mD(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),N7e={};w7e(N7e,{findListItemPos:()=>Rx,getNextListDepth:()=>CD,handleBackspace:()=>UM,handleDelete:()=>HM,hasListBefore:()=>Bie,hasListItemAfter:()=>_7e,hasListItemBefore:()=>$ie,listItemHasSubList:()=>zie,nextListIsDeeper:()=>qie,nextListIsHigher:()=>Uie});var Rx=(t,e)=>{const{$from:n}=e.selection,r=Is(t,e.schema);let i=null,s=n.depth,a=n.pos,o=null;for(;s>0&&o===null;)i=n.node(s),i.type===r?o=s:(s-=1,a-=1);return o===null?null:{$pos:e.doc.resolve(a),depth:o}},CD=(t,e)=>{const n=Rx(t,e);if(!n)return!1;const[,r]=pBe(e,t,n.$pos.pos+4);return r},Bie=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},$ie=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},zie=(t,e,n)=>{if(!n)return!1;const r=Is(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},UM=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Ih(t.state,e)&&Bie(t.state,e,n)){const{$anchor:o}=t.state.selection,c=t.state.doc.resolve(o.before()-1),u=[];c.node().descendants((m,p)=>{m.type.name===e&&u.push({node:m,pos:p})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:o.start()-1,to:o.end()+1},f.end()).joinForward().run()}if(!Ih(t.state,e)||!yBe(t.state))return!1;const r=Rx(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=zie(e,t.state,s);return $ie(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},qie=(t,e)=>{const n=CD(t,e),r=Rx(t,e);return!r||!n?!1:n>r.depth},Uie=(t,e)=>{const n=CD(t,e),r=Rx(t,e);return!r||!n?!1:n<r.depth},HM=(t,e)=>{if(!Ih(t.state,e)||!vBe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:qie(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Uie(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},_7e=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},Hie=Jr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&HM(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&HM(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&UM(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&UM(t,n,r)&&(e=!0)}),e}}}}),CH=/^(\s*)(\d+)\.\s+(.*)$/,E7e=/^\s/;function C7e(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(CH);if(!s)break;const[,a,o,c]=s,u=a.length;let d=c,f=n+1;const m=[i];for(;f<t.length;){const p=t[f];if(p.match(CH))break;if(p.trim()==="")m.push(p),d+=`
`,f+=1;else if(p.match(E7e))m.push(p),d+=`
${p.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(o,10),content:d.trim(),raw:m.join(`
`)}),r=f,n=f}return[e,r]}function Vie(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const o=a.content.split(`
`),c=((r=o[0])==null?void 0:r.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=o.slice(1).join(`
`).trim();if(d){const p=n.blockTokens(d);u.push(...p)}let f=s+1;const m=[];for(;f<t.length&&t[f].indent>e;)m.push(t[f]),f+=1;if(m.length>0){const p=Math.min(...m.map(v=>v.indent)),b=Vie(m,p,n);u.push({type:"list",ordered:!0,start:m[0].number,items:b,raw:m.map(v=>v.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:u}),s=f}else s+=1}return i}function A7e(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var k7e="listItem",AH="textStyle",kH=/^(\d+)\.\s$/,Wie=ma.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",oi(this.options.HTMLAttributes,n),0]:["ol",oi(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?A7e(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=C7e(i);if(s.length===0)return;const o=Vie(s,0,n);return o.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:o,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(k7e,this.editor.getAttributes(AH)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Dv({find:kH,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Dv({find:kH,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(AH)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),j7e=/^\s*(\[([( |x])?\])\s$/,T7e=ma.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",oi(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return mD(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,m;o.ariaLabel=((m=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:m.call(f,d,o.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const p=n();if(typeof p!="number")return!1;const b=m.doc.nodeAt(p);return m.setNodeMarkup(p,void 0,{...b?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=t.attrs.checked,o.checked=t.attrs.checked,s.append(o,a),i.append(s,c),Object.entries(e).forEach(([d,f])=>{i.setAttribute(d,f)}),{dom:i,contentDOM:c,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[Dv({find:j7e,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),O7e=ma.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",oi(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=MM(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,c)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:c}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=MM(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Jr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Lie.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Fie.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Hie.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Wie.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(T7e.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(O7e.configure(this.options.taskList)),t}});var P7e=ma.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",oi(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),M7e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,R7e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,I7e=pf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",oi(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[bm({find:M7e,type:this.type})]},addPasteRules(){return[Dh({find:R7e,type:this.type})]}}),D7e=ma.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Kie=pf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",oi(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),L7e=Kie;function F7e(t={}){return new Ci({view(e){return new B7e(e,t)}})}class B7e{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(n){let f=e.nodeBefore,m=e.nodeAfter;if(f||m){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let b=p.getBoundingClientRect(),v=f?b.bottom:b.top;f&&m&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*o;r={left:b.left,right:b.right,top:v-y,bottom:v+y}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*a;r={left:f.left-m,right:f.left+m,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),m=f.width/c.offsetWidth,p=f.height/c.offsetHeight;u=f.left-c.scrollLeft*m,d=f.top-c.scrollTop*p}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/o+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=Wne(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ss extends Mn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ss.valid(r)?new ss(r):Mn.near(r)}content(){return It.empty}eq(e){return e instanceof ss&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ss(e.resolve(n.pos))}getBookmark(){return new AD(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!$7e(e)||!z7e(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ss.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let o=e.node(a);if(n>0?e.indexAfter(a)<o.childCount:e.index(a)>0){s=o.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let c=e.doc.resolve(i);if(ss.valid(c))return c}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!bn.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let o=e.doc.resolve(i);if(ss.valid(o))return o}return null}}}ss.prototype.visible=!1;ss.findFrom=ss.findGapCursorFrom;Mn.jsonID("gapcursor",ss);class AD{constructor(e){this.pos=e}map(e){return new AD(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ss.valid(n)?new ss(n):Mn.near(n)}}function Gie(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function $7e(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||Gie(i.type))return!0;if(i.inlineContent)return!1}}return!0}function z7e(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||Gie(i.type))return!0;if(i.inlineContent)return!1}}return!0}function q7e(){return new Ci({props:{decorations:W7e,createSelectionBetween(t,e,n){return e.pos==n.pos&&ss.valid(n)?new ss(n):null},handleClick:H7e,handleKeyDown:U7e,handleDOMEvents:{beforeinput:V7e}}})}const U7e=rD({ArrowLeft:uw("horiz",-1),ArrowRight:uw("horiz",1),ArrowUp:uw("vert",-1),ArrowDown:uw("vert",1)});function uw(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,o=e>0?a.$to:a.$from,c=a.empty;if(a instanceof Nn){if(!s.endOfTextblock(n)||o.depth==0)return!1;c=!1,o=r.doc.resolve(e>0?o.after():o.before())}let u=ss.findGapCursorFrom(o,e,c);return u?(i&&i(r.tr.setSelection(new ss(u))),!0):!1}}function H7e(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ss.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&bn.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ss(r))),!0)}function V7e(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ss))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ct.empty;for(let a=r.length-1;a>=0;a--)i=ct.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new It(i,0,0));return s.setSelection(Nn.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function W7e(t){if(!(t.selection instanceof ss))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ii.create(t.doc,[Gs.widget(t.selection.head,e,{key:"gapcursor"})])}var dN=200,ha=function(){};ha.prototype.append=function(e){return e.length?(e=ha.from(e),!this.length&&e||e.length<dN&&this.leafAppend(e)||this.length<dN&&e.leafPrepend(this)||this.appendInner(e)):this};ha.prototype.prepend=function(e){return e.length?ha.from(e).append(this):this};ha.prototype.appendInner=function(e){return new K7e(this,e)};ha.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ha.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ha.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ha.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ha.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};ha.from=function(e){return e instanceof ha?e:e&&e.length?new Yie(e):ha.empty};var Yie=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var c=s;c<a;c++)if(i(this.values[c],o+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var c=s-1;c>=a;c--)if(i(this.values[c],o+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=dN)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=dN)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(ha);ha.empty=new Yie([]);var K7e=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(ha);const G7e=500;class qc{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,o,c,u=[],d=[];return this.items.forEach((f,m)=>{if(!f.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,d.push(f);return}if(i){d.push(new ju(f.map));let p=f.step.map(i.slice(s)),b;p&&a.maybeStep(p).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],u.push(new ju(b,void 0,void 0,u.length+d.length))),s--,b&&i.appendMap(b,s)}else a.maybeStep(f.step);if(f.selection)return o=i?f.selection.map(i.slice(s)):f.selection,c=new qc(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:a,selection:o}}addTransform(e,n,r,i){let s=[],a=this.eventCount,o=this.items,c=!i&&o.length?o.get(o.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),m=new ju(e.mapping.maps[d],f,n),p;(p=c&&c.merge(m))&&(m=p,d?s.pop():o=o.slice(0,o.length-1)),s.push(m),n&&(a++,n=void 0),i||(c=m)}let u=a-r.depth;return u>X7e&&(o=Y7e(o,u),a-=u),new qc(o.append(s),a)}remapping(e,n){let r=new L0;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new qc(this.items.append(e.map(n=>new ju(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,o=this.eventCount;this.items.forEach(m=>{m.selection&&o--},i);let c=n;this.items.forEach(m=>{let p=s.getMirror(--c);if(p==null)return;a=Math.min(a,p);let b=s.maps[p];if(m.step){let v=e.steps[p].invert(e.docs[p]),y=m.selection&&m.selection.map(s.slice(c+1,p));y&&o++,r.push(new ju(b,v,y))}else r.push(new ju(b))},i);let u=[];for(let m=n;m<a;m++)u.push(new ju(s.maps[m]));let d=this.items.slice(0,i).append(u).append(r),f=new qc(d,o);return f.emptyItemCount()>G7e&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=e)i.push(a),a.selection&&s++;else if(a.step){let c=a.step.map(n.slice(r)),u=c&&c.getMap();if(r--,u&&n.appendMap(u,r),c){let d=a.selection&&a.selection.map(n.slice(r));d&&s++;let f=new ju(u.invert(),c,d),m,p=i.length-1;(m=i.length&&i[p].merge(f))?i[p]=m:i.push(f)}}else a.map&&r--},this.items.length,0),new qc(ha.from(i.reverse()),s)}}qc.empty=new qc(ha.empty,0);function Y7e(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ju{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ju(n.getMap().invert(),n,this.selection)}}}class sh{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const X7e=20;function Z7e(t,e,n,r){let i=n.getMeta(Xp),s;if(i)return i.historyState;n.getMeta(eze)&&(t=new sh(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Xp))return a.getMeta(Xp).redo?new sh(t.done.addTransform(n,void 0,r,Vw(e)),t.undone,jH(n.mapping.maps),t.prevTime,t.prevComposition):new sh(t.done,t.undone.addTransform(n,void 0,r,Vw(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),c=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Q7e(n,t.prevRanges)),u=a?OT(t.prevRanges,n.mapping):jH(n.mapping.maps);return new sh(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,Vw(e)),qc.empty,u,n.time,o??t.prevComposition)}else return(s=n.getMeta("rebased"))?new sh(t.done.rebased(n,s),t.undone.rebased(n,s),OT(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new sh(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),OT(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Q7e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function jH(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function OT(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function J7e(t,e,n){let r=Vw(e),i=Xp.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new sh(n?o:s.remaining,n?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(Xp,{redo:n,historyState:c})}let PT=!1,TH=null;function Vw(t){let e=t.plugins;if(TH!=e){PT=!1,TH=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){PT=!0;break}}return PT}const Xp=new ds("history"),eze=new ds("closeHistory");function tze(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ci({key:Xp,state:{init(){return new sh(qc.empty,qc.empty,null,0,-1)},apply(e,n,r){return Z7e(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Zie:r=="historyRedo"?Qie:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Xie(t,e){return(n,r)=>{let i=Xp.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=J7e(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Zie=Xie(!1,!0),Qie=Xie(!0,!0);Jr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ci({key:new ds("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,o=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(o,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,c=s-r,u=o-c,d=o;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>r)}})]}});var nze=Jr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[F7e(this.options)]}});Jr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ci({key:new ds("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return ii.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(i>=u&&i<=u+c.nodeSize-1))return!1;a+=1});let o=0;return t.descendants((c,u)=>{if(c.isText||!(i>=u&&i<=u+c.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(Gs.node(u,u+c.nodeSize,{class:this.options.className}))}),ii.create(t,s)}}})]}});var rze=Jr.create({name:"gapCursor",addProseMirrorPlugins(){return[q7e()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Br(gn(t,"allowGapCursor",n)))!=null?e:null}}}),ize=Jr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ci({key:new ds("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,o)=>{const c=r>=o&&r<=o+a.nodeSize,u=!a.isLeaf&&nE(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const f=Gs.node(o,o+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:c}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),ii.create(t,i)}}})]}});Jr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ci({key:new ds("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||lie(n.selection)||t.view.dragging?null:ii.create(n.doc,[Gs.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function OH({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var sze=Jr.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new ds(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Ci({key:e,appendTransaction:(i,s,a)=>{const{doc:o,tr:c,schema:u}=a,d=e.getState(a),f=o.content.size,m=u.nodes[n];if(d)return c.insert(f,m.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!OH({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged)return s;const a=i.doc.lastChild;return!OH({node:a,types:r})}}})]}}),aze=Jr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Zie(t,e),redo:()=>({state:t,dispatch:e})=>Qie(t,e)}},addProseMirrorPlugins(){return[tze(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),oze=Jr.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(M$e.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(k$e.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Lie.configure(this.options.bulletList)),this.options.code!==!1&&i.push(D$e.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Aie.configure(this.options.codeBlock)),this.options.document!==!1&&i.push($$e.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(nze.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(rze.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(z$e.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(q$e.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(aze.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(U$e.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(G$e.configure(this.options.italic)),this.options.listItem!==!1&&i.push(Fie.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(Hie.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(ED.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(Wie.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(P7e.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(I7e.configure(this.options.strike)),this.options.text!==!1&&i.push(D7e.configure(this.options.text)),this.options.underline!==!1&&i.push(Kie.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(sze.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Jie=oze,lze=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,ese=ma.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",oi(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,a;const o=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",c=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",u=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"";return u?`![${c}](${o} "${u}")`:`![${c}](${o})`},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Sie({find:lze,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),cze=ese,tse=Jr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),uze=tse,dze=20,nse=(t,e=0)=>{const n=[];return!t.children.length||e>dze||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...nse(r,e+1))}),n},fze=t=>{if(!t.children.length)return;const e=nse(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},kD=pf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&fze(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",oi(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),hze=Jr.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),o=s.slice(1).join(":").trim();if(a==="background-color")return o.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),jD=Jr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),o=s.slice(1).join(":").trim();if(a==="color")return o.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),pze=Jr.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),mze=Jr.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),gze=Jr.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Jr.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(hze.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(jD.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(pze.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(mze.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(gze.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(kD.configure(this.options.textStyle)),t}});var vze=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,yze=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,bze=pf.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",oi(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const s=i[2].trim(),a=n.inlineTokens(s);return{type:"highlight",raw:i[0],text:s,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[bm({find:vze,type:this.type})]},addPasteRules(){return[Dh({find:yze,type:this.type})]}}),MT,PH;function xze(){if(PH)return MT;PH=1;function t(we){return we instanceof Map?we.clear=we.delete=we.set=function(){throw new Error("map is read-only")}:we instanceof Set&&(we.add=we.clear=we.delete=function(){throw new Error("set is read-only")}),Object.freeze(we),Object.getOwnPropertyNames(we).forEach(We=>{const lt=we[We],Tt=typeof lt;(Tt==="object"||Tt==="function")&&!Object.isFrozen(lt)&&t(lt)}),we}class e{constructor(We){We.data===void 0&&(We.data={}),this.data=We.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(we){return we.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(we,...We){const lt=Object.create(null);for(const Tt in we)lt[Tt]=we[Tt];return We.forEach(function(Tt){for(const Tn in Tt)lt[Tn]=Tt[Tn]}),lt}const i="</span>",s=we=>!!we.scope,a=(we,{prefix:We})=>{if(we.startsWith("language:"))return we.replace("language:","language-");if(we.includes(".")){const lt=we.split(".");return[`${We}${lt.shift()}`,...lt.map((Tt,Tn)=>`${Tt}${"_".repeat(Tn+1)}`)].join(" ")}return`${We}${we}`};class o{constructor(We,lt){this.buffer="",this.classPrefix=lt.classPrefix,We.walk(this)}addText(We){this.buffer+=n(We)}openNode(We){if(!s(We))return;const lt=a(We.scope,{prefix:this.classPrefix});this.span(lt)}closeNode(We){s(We)&&(this.buffer+=i)}value(){return this.buffer}span(We){this.buffer+=`<span class="${We}">`}}const c=(we={})=>{const We={children:[]};return Object.assign(We,we),We};class u{constructor(){this.rootNode=c(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(We){this.top.children.push(We)}openNode(We){const lt=c({scope:We});this.add(lt),this.stack.push(lt)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(We){return this.constructor._walk(We,this.rootNode)}static _walk(We,lt){return typeof lt=="string"?We.addText(lt):lt.children&&(We.openNode(lt),lt.children.forEach(Tt=>this._walk(We,Tt)),We.closeNode(lt)),We}static _collapse(We){typeof We!="string"&&We.children&&(We.children.every(lt=>typeof lt=="string")?We.children=[We.children.join("")]:We.children.forEach(lt=>{u._collapse(lt)}))}}class d extends u{constructor(We){super(),this.options=We}addText(We){We!==""&&this.add(We)}startScope(We){this.openNode(We)}endScope(){this.closeNode()}__addSublanguage(We,lt){const Tt=We.root;lt&&(Tt.scope=`language:${lt}`),this.add(Tt)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function f(we){return we?typeof we=="string"?we:we.source:null}function m(we){return v("(?=",we,")")}function p(we){return v("(?:",we,")*")}function b(we){return v("(?:",we,")?")}function v(...we){return we.map(lt=>f(lt)).join("")}function y(we){const We=we[we.length-1];return typeof We=="object"&&We.constructor===Object?(we.splice(we.length-1,1),We):{}}function w(...we){return"("+(y(we).capture?"":"?:")+we.map(Tt=>f(Tt)).join("|")+")"}function _(we){return new RegExp(we.toString()+"|").exec("").length-1}function E(we,We){const lt=we&&we.exec(We);return lt&&lt.index===0}const A=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function k(we,{joinWith:We}){let lt=0;return we.map(Tt=>{lt+=1;const Tn=lt;let le=f(Tt),Le="";for(;le.length>0;){const ot=A.exec(le);if(!ot){Le+=le;break}Le+=le.substring(0,ot.index),le=le.substring(ot.index+ot[0].length),ot[0][0]==="\\"&&ot[1]?Le+="\\"+String(Number(ot[1])+Tn):(Le+=ot[0],ot[0]==="("&&lt++)}return Le}).map(Tt=>`(${Tt})`).join(We)}const P=/\b\B/,R="[a-zA-Z]\\w*",T="[a-zA-Z_]\\w*",M="\\b\\d+(\\.\\d+)?",B="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",O="\\b(0b[01]+)",F="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",q=(we={})=>{const We=/^#![ ]*\//;return we.binary&&(we.begin=v(We,/.*\b/,we.binary,/\b.*/)),r({scope:"meta",begin:We,end:/$/,relevance:0,"on:begin":(lt,Tt)=>{lt.index!==0&&Tt.ignoreMatch()}},we)},z={begin:"\\\\[\\s\\S]",relevance:0},K={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[z]},Z={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[z]},H={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},W=function(we,We,lt={}){const Tt=r({scope:"comment",begin:we,end:We,contains:[]},lt);Tt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Tn=w("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Tt.contains.push({begin:v(/[ ]+/,"(",Tn,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Tt},Y=W("//","$"),ge=W("/\\*","\\*/"),Q=W("#","$"),I={scope:"number",begin:M,relevance:0},G={scope:"number",begin:B,relevance:0},ne={scope:"number",begin:O,relevance:0},ie={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[z,{begin:/\[/,end:/\]/,relevance:0,contains:[z]}]},he={scope:"title",begin:R,relevance:0},J={scope:"title",begin:T,relevance:0},ue={begin:"\\.\\s*"+T,relevance:0};var X=Object.freeze({__proto__:null,APOS_STRING_MODE:K,BACKSLASH_ESCAPE:z,BINARY_NUMBER_MODE:ne,BINARY_NUMBER_RE:O,COMMENT:W,C_BLOCK_COMMENT_MODE:ge,C_LINE_COMMENT_MODE:Y,C_NUMBER_MODE:G,C_NUMBER_RE:B,END_SAME_AS_BEGIN:function(we){return Object.assign(we,{"on:begin":(We,lt)=>{lt.data._beginMatch=We[1]},"on:end":(We,lt)=>{lt.data._beginMatch!==We[1]&&lt.ignoreMatch()}})},HASH_COMMENT_MODE:Q,IDENT_RE:R,MATCH_NOTHING_RE:P,METHOD_GUARD:ue,NUMBER_MODE:I,NUMBER_RE:M,PHRASAL_WORDS_MODE:H,QUOTE_STRING_MODE:Z,REGEXP_MODE:ie,RE_STARTERS_RE:F,SHEBANG:q,TITLE_MODE:he,UNDERSCORE_IDENT_RE:T,UNDERSCORE_TITLE_MODE:J});function pe(we,We){we.input[we.index-1]==="."&&We.ignoreMatch()}function xe(we,We){we.className!==void 0&&(we.scope=we.className,delete we.className)}function De(we,We){We&&we.beginKeywords&&(we.begin="\\b("+we.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",we.__beforeBegin=pe,we.keywords=we.keywords||we.beginKeywords,delete we.beginKeywords,we.relevance===void 0&&(we.relevance=0))}function Ee(we,We){Array.isArray(we.illegal)&&(we.illegal=w(...we.illegal))}function de(we,We){if(we.match){if(we.begin||we.end)throw new Error("begin & end are not supported with match");we.begin=we.match,delete we.match}}function Ge(we,We){we.relevance===void 0&&(we.relevance=1)}const Nt=(we,We)=>{if(!we.beforeMatch)return;if(we.starts)throw new Error("beforeMatch cannot be used with starts");const lt=Object.assign({},we);Object.keys(we).forEach(Tt=>{delete we[Tt]}),we.keywords=lt.keywords,we.begin=v(lt.beforeMatch,m(lt.begin)),we.starts={relevance:0,contains:[Object.assign(lt,{endsParent:!0})]},we.relevance=0,delete lt.beforeMatch},it=["of","and","for","in","not","or","if","then","parent","list","value"],Ye="keyword";function me(we,We,lt=Ye){const Tt=Object.create(null);return typeof we=="string"?Tn(lt,we.split(" ")):Array.isArray(we)?Tn(lt,we):Object.keys(we).forEach(function(le){Object.assign(Tt,me(we[le],We,le))}),Tt;function Tn(le,Le){We&&(Le=Le.map(ot=>ot.toLowerCase())),Le.forEach(function(ot){const Rt=ot.split("|");Tt[Rt[0]]=[le,Se(Rt[0],Rt[1])]})}}function Se(we,We){return We?Number(We):Te(we)?0:1}function Te(we){return it.includes(we.toLowerCase())}const Ue={},He=we=>{console.error(we)},qe=(we,...We)=>{console.log(`WARN: ${we}`,...We)},Qe=(we,We)=>{Ue[`${we}/${We}`]||(console.log(`Deprecated as of ${we}. ${We}`),Ue[`${we}/${We}`]=!0)},xt=new Error;function gt(we,We,{key:lt}){let Tt=0;const Tn=we[lt],le={},Le={};for(let ot=1;ot<=We.length;ot++)Le[ot+Tt]=Tn[ot],le[ot+Tt]=!0,Tt+=_(We[ot-1]);we[lt]=Le,we[lt]._emit=le,we[lt]._multi=!0}function At(we){if(Array.isArray(we.begin)){if(we.skip||we.excludeBegin||we.returnBegin)throw He("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),xt;if(typeof we.beginScope!="object"||we.beginScope===null)throw He("beginScope must be object"),xt;gt(we,we.begin,{key:"beginScope"}),we.begin=k(we.begin,{joinWith:""})}}function Wt(we){if(Array.isArray(we.end)){if(we.skip||we.excludeEnd||we.returnEnd)throw He("skip, excludeEnd, returnEnd not compatible with endScope: {}"),xt;if(typeof we.endScope!="object"||we.endScope===null)throw He("endScope must be object"),xt;gt(we,we.end,{key:"endScope"}),we.end=k(we.end,{joinWith:""})}}function _t(we){we.scope&&typeof we.scope=="object"&&we.scope!==null&&(we.beginScope=we.scope,delete we.scope)}function An(we){_t(we),typeof we.beginScope=="string"&&(we.beginScope={_wrap:we.beginScope}),typeof we.endScope=="string"&&(we.endScope={_wrap:we.endScope}),At(we),Wt(we)}function _n(we){function We(Le,ot){return new RegExp(f(Le),"m"+(we.case_insensitive?"i":"")+(we.unicodeRegex?"u":"")+(ot?"g":""))}class lt{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ot,Rt){Rt.position=this.position++,this.matchIndexes[this.matchAt]=Rt,this.regexes.push([Rt,ot]),this.matchAt+=_(ot)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ot=this.regexes.map(Rt=>Rt[1]);this.matcherRe=We(k(ot,{joinWith:"|"}),!0),this.lastIndex=0}exec(ot){this.matcherRe.lastIndex=this.lastIndex;const Rt=this.matcherRe.exec(ot);if(!Rt)return null;const qn=Rt.findIndex((dr,nr)=>nr>0&&dr!==void 0),mn=this.matchIndexes[qn];return Rt.splice(0,qn),Object.assign(Rt,mn)}}class Tt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ot){if(this.multiRegexes[ot])return this.multiRegexes[ot];const Rt=new lt;return this.rules.slice(ot).forEach(([qn,mn])=>Rt.addRule(qn,mn)),Rt.compile(),this.multiRegexes[ot]=Rt,Rt}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ot,Rt){this.rules.push([ot,Rt]),Rt.type==="begin"&&this.count++}exec(ot){const Rt=this.getMatcher(this.regexIndex);Rt.lastIndex=this.lastIndex;let qn=Rt.exec(ot);if(this.resumingScanAtSamePosition()&&!(qn&&qn.index===this.lastIndex)){const mn=this.getMatcher(0);mn.lastIndex=this.lastIndex+1,qn=mn.exec(ot)}return qn&&(this.regexIndex+=qn.position+1,this.regexIndex===this.count&&this.considerAll()),qn}}function Tn(Le){const ot=new Tt;return Le.contains.forEach(Rt=>ot.addRule(Rt.begin,{rule:Rt,type:"begin"})),Le.terminatorEnd&&ot.addRule(Le.terminatorEnd,{type:"end"}),Le.illegal&&ot.addRule(Le.illegal,{type:"illegal"}),ot}function le(Le,ot){const Rt=Le;if(Le.isCompiled)return Rt;[xe,de,An,Nt].forEach(mn=>mn(Le,ot)),we.compilerExtensions.forEach(mn=>mn(Le,ot)),Le.__beforeBegin=null,[De,Ee,Ge].forEach(mn=>mn(Le,ot)),Le.isCompiled=!0;let qn=null;return typeof Le.keywords=="object"&&Le.keywords.$pattern&&(Le.keywords=Object.assign({},Le.keywords),qn=Le.keywords.$pattern,delete Le.keywords.$pattern),qn=qn||/\w+/,Le.keywords&&(Le.keywords=me(Le.keywords,we.case_insensitive)),Rt.keywordPatternRe=We(qn,!0),ot&&(Le.begin||(Le.begin=/\B|\b/),Rt.beginRe=We(Rt.begin),!Le.end&&!Le.endsWithParent&&(Le.end=/\B|\b/),Le.end&&(Rt.endRe=We(Rt.end)),Rt.terminatorEnd=f(Rt.end)||"",Le.endsWithParent&&ot.terminatorEnd&&(Rt.terminatorEnd+=(Le.end?"|":"")+ot.terminatorEnd)),Le.illegal&&(Rt.illegalRe=We(Le.illegal)),Le.contains||(Le.contains=[]),Le.contains=[].concat(...Le.contains.map(function(mn){return vn(mn==="self"?Le:mn)})),Le.contains.forEach(function(mn){le(mn,Rt)}),Le.starts&&le(Le.starts,ot),Rt.matcher=Tn(Rt),Rt}if(we.compilerExtensions||(we.compilerExtensions=[]),we.contains&&we.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return we.classNameAliases=r(we.classNameAliases||{}),le(we)}function Ft(we){return we?we.endsWithParent||Ft(we.starts):!1}function vn(we){return we.variants&&!we.cachedVariants&&(we.cachedVariants=we.variants.map(function(We){return r(we,{variants:null},We)})),we.cachedVariants?we.cachedVariants:Ft(we)?r(we,{starts:we.starts?r(we.starts):null}):Object.isFrozen(we)?r(we):we}var Jn="11.11.1";class sn extends Error{constructor(We,lt){super(We),this.name="HTMLInjectionError",this.html=lt}}const kn=n,xn=r,_r=Symbol("nomatch"),Er=7,pn=function(we){const We=Object.create(null),lt=Object.create(null),Tt=[];let Tn=!0;const le="Could not find the language '{}', did you forget to load/include a language module?",Le={disableAutodetect:!0,name:"Plain text",contains:[]};let ot={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function Rt(yt){return ot.noHighlightRe.test(yt)}function qn(yt){let nn=yt.className+" ";nn+=yt.parentNode?yt.parentNode.className:"";const Un=ot.languageDetectRe.exec(nn);if(Un){const Qn=Zs(Un[1]);return Qn||(qe(le.replace("{}",Un[1])),qe("Falling back to no-highlight mode for this block.",yt)),Qn?Un[1]:"no-highlight"}return nn.split(/\s+/).find(Qn=>Rt(Qn)||Zs(Qn))}function mn(yt,nn,Un){let Qn="",ui="";typeof nn=="object"?(Qn=yt,Un=nn.ignoreIllegals,ui=nn.language):(Qe("10.7.0","highlight(lang, code, ...args) has been deprecated."),Qe("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ui=yt,Qn=nn),Un===void 0&&(Un=!0);const Mr={code:Qn,language:ui};xs("before:highlight",Mr);const wo=Mr.result?Mr.result:dr(Mr.language,Mr.code,Un);return wo.code=Mr.code,xs("after:highlight",wo),wo}function dr(yt,nn,Un,Qn){const ui=Object.create(null);function Mr(kt,Bt){return kt.keywords[Bt]}function wo(){if(!yn.keywords){bi.addText(mr);return}let kt=0;yn.keywordPatternRe.lastIndex=0;let Bt=yn.keywordPatternRe.exec(mr),wn="";for(;Bt;){wn+=mr.substring(kt,Bt.index);const Ot=Fi.case_insensitive?Bt[0].toLowerCase():Bt[0],di=Mr(yn,Ot);if(di){const[Gi,Kh]=di;if(bi.addText(wn),wn="",ui[Ot]=(ui[Ot]||0)+1,ui[Ot]<=Er&&(gc+=Kh),Gi.startsWith("_"))wn+=Bt[0];else{const yf=Fi.classNameAliases[Gi]||Gi;Ss(Bt[0],yf)}}else wn+=Bt[0];kt=yn.keywordPatternRe.lastIndex,Bt=yn.keywordPatternRe.exec(mr)}wn+=mr.substring(kt),bi.addText(wn)}function ei(){if(mr==="")return;let kt=null;if(typeof yn.subLanguage=="string"){if(!We[yn.subLanguage]){bi.addText(mr);return}kt=dr(yn.subLanguage,mr,!0,mc[yn.subLanguage]),mc[yn.subLanguage]=kt._top}else kt=$r(mr,yn.subLanguage.length?yn.subLanguage:null);yn.relevance>0&&(gc+=kt.relevance),bi.__addSublanguage(kt._emitter,kt.language)}function ws(){yn.subLanguage!=null?ei():wo(),mr=""}function Ss(kt,Bt){kt!==""&&(bi.startScope(Bt),bi.addText(kt),bi.endScope())}function ga(kt,Bt){let wn=1;const Ot=Bt.length-1;for(;wn<=Ot;){if(!kt._emit[wn]){wn++;continue}const di=Fi.classNameAliases[kt[wn]]||kt[wn],Gi=Bt[wn];di?Ss(Gi,di):(mr=Gi,wo(),mr=""),wn++}}function ja(kt,Bt){return kt.scope&&typeof kt.scope=="string"&&bi.openNode(Fi.classNameAliases[kt.scope]||kt.scope),kt.beginScope&&(kt.beginScope._wrap?(Ss(mr,Fi.classNameAliases[kt.beginScope._wrap]||kt.beginScope._wrap),mr=""):kt.beginScope._multi&&(ga(kt.beginScope,Bt),mr="")),yn=Object.create(kt,{parent:{value:yn}}),yn}function Ls(kt,Bt,wn){let Ot=E(kt.endRe,wn);if(Ot){if(kt["on:end"]){const di=new e(kt);kt["on:end"](Bt,di),di.isMatchIgnored&&(Ot=!1)}if(Ot){for(;kt.endsParent&&kt.parent;)kt=kt.parent;return kt}}if(kt.endsWithParent)return Ls(kt.parent,Bt,wn)}function hc(kt){return yn.matcher.regexIndex===0?(mr+=kt[0],1):(va=!0,0)}function yi(kt){const Bt=kt[0],wn=kt.rule,Ot=new e(wn),di=[wn.__beforeBegin,wn["on:begin"]];for(const Gi of di)if(Gi&&(Gi(kt,Ot),Ot.isMatchIgnored))return hc(Bt);return wn.skip?mr+=Bt:(wn.excludeBegin&&(mr+=Bt),ws(),!wn.returnBegin&&!wn.excludeBegin&&(mr=Bt)),ja(wn,kt),wn.returnBegin?0:Bt.length}function pc(kt){const Bt=kt[0],wn=nn.substring(kt.index),Ot=Ls(yn,kt,wn);if(!Ot)return _r;const di=yn;yn.endScope&&yn.endScope._wrap?(ws(),Ss(Bt,yn.endScope._wrap)):yn.endScope&&yn.endScope._multi?(ws(),ga(yn.endScope,kt)):di.skip?mr+=Bt:(di.returnEnd||di.excludeEnd||(mr+=Bt),ws(),di.excludeEnd&&(mr=Bt));do yn.scope&&bi.closeNode(),!yn.skip&&!yn.subLanguage&&(gc+=yn.relevance),yn=yn.parent;while(yn!==Ot.parent);return Ot.starts&&ja(Ot.starts,kt),di.returnEnd?0:Bt.length}function vf(){const kt=[];for(let Bt=yn;Bt!==Fi;Bt=Bt.parent)Bt.scope&&kt.unshift(Bt.scope);kt.forEach(Bt=>bi.openNode(Bt))}let Tl={};function Ol(kt,Bt){const wn=Bt&&Bt[0];if(mr+=kt,wn==null)return ws(),0;if(Tl.type==="begin"&&Bt.type==="end"&&Tl.index===Bt.index&&wn===""){if(mr+=nn.slice(Bt.index,Bt.index+1),!Tn){const Ot=new Error(`0 width match regex (${yt})`);throw Ot.languageName=yt,Ot.badRule=Tl.rule,Ot}return 1}if(Tl=Bt,Bt.type==="begin")return yi(Bt);if(Bt.type==="illegal"&&!Un){const Ot=new Error('Illegal lexeme "'+wn+'" for mode "'+(yn.scope||"<unnamed>")+'"');throw Ot.mode=yn,Ot}else if(Bt.type==="end"){const Ot=pc(Bt);if(Ot!==_r)return Ot}if(Bt.type==="illegal"&&wn==="")return mr+=`
`,1;if(to>1e5&&to>Bt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return mr+=wn,wn.length}const Fi=Zs(yt);if(!Fi)throw He(le.replace("{}",yt)),new Error('Unknown language: "'+yt+'"');const cu=_n(Fi);let ir="",yn=Qn||cu;const mc={},bi=new ot.__emitter(ot);vf();let mr="",gc=0,Ta=0,to=0,va=!1;try{if(Fi.__emitTokens)Fi.__emitTokens(nn,bi);else{for(yn.matcher.considerAll();;){to++,va?va=!1:yn.matcher.considerAll(),yn.matcher.lastIndex=Ta;const kt=yn.matcher.exec(nn);if(!kt)break;const Bt=nn.substring(Ta,kt.index),wn=Ol(Bt,kt);Ta=kt.index+wn}Ol(nn.substring(Ta))}return bi.finalize(),ir=bi.toHTML(),{language:yt,value:ir,relevance:gc,illegal:!1,_emitter:bi,_top:yn}}catch(kt){if(kt.message&&kt.message.includes("Illegal"))return{language:yt,value:kn(nn),illegal:!0,relevance:0,_illegalBy:{message:kt.message,index:Ta,context:nn.slice(Ta-100,Ta+100),mode:kt.mode,resultSoFar:ir},_emitter:bi};if(Tn)return{language:yt,value:kn(nn),illegal:!1,relevance:0,errorRaised:kt,_emitter:bi,_top:yn};throw kt}}function nr(yt){const nn={value:kn(yt),illegal:!1,relevance:0,_top:Le,_emitter:new ot.__emitter(ot)};return nn._emitter.addText(yt),nn}function $r(yt,nn){nn=nn||ot.languages||Object.keys(We);const Un=nr(yt),Qn=nn.filter(Zs).filter(mf).map(ws=>dr(ws,yt,!1));Qn.unshift(Un);const ui=Qn.sort((ws,Ss)=>{if(ws.relevance!==Ss.relevance)return Ss.relevance-ws.relevance;if(ws.language&&Ss.language){if(Zs(ws.language).supersetOf===Ss.language)return 1;if(Zs(Ss.language).supersetOf===ws.language)return-1}return 0}),[Mr,wo]=ui,ei=Mr;return ei.secondBest=wo,ei}function ci(yt,nn,Un){const Qn=nn&&lt[nn]||Un;yt.classList.add("hljs"),yt.classList.add(`language-${Qn}`)}function Li(yt){let nn=null;const Un=qn(yt);if(Rt(Un))return;if(xs("before:highlightElement",{el:yt,language:Un}),yt.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",yt);return}if(yt.children.length>0&&(ot.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(yt)),ot.throwUnescapedHTML))throw new sn("One of your code blocks includes unescaped HTML.",yt.innerHTML);nn=yt;const Qn=nn.textContent,ui=Un?mn(Qn,{language:Un,ignoreIllegals:!0}):$r(Qn);yt.innerHTML=ui.value,yt.dataset.highlighted="yes",ci(yt,Un,ui.language),yt.result={language:ui.language,re:ui.relevance,relevance:ui.relevance},ui.secondBest&&(yt.secondBest={language:ui.secondBest.language,relevance:ui.secondBest.relevance}),xs("after:highlightElement",{el:yt,result:ui,text:Qn})}function Ja(yt){ot=xn(ot,yt)}const Ai=()=>{xo(),Qe("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Ds(){xo(),Qe("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Xs=!1;function xo(){function yt(){xo()}if(document.readyState==="loading"){Xs||window.addEventListener("DOMContentLoaded",yt,!1),Xs=!0;return}document.querySelectorAll(ot.cssSelector).forEach(Li)}function eo(yt,nn){let Un=null;try{Un=nn(we)}catch(Qn){if(He("Language definition for '{}' could not be registered.".replace("{}",yt)),Tn)He(Qn);else throw Qn;Un=Le}Un.name||(Un.name=yt),We[yt]=Un,Un.rawDefinition=nn.bind(null,we),Un.aliases&&fc(Un.aliases,{languageName:yt})}function kl(yt){delete We[yt];for(const nn of Object.keys(lt))lt[nn]===yt&&delete lt[nn]}function dc(){return Object.keys(We)}function Zs(yt){return yt=(yt||"").toLowerCase(),We[yt]||We[lt[yt]]}function fc(yt,{languageName:nn}){typeof yt=="string"&&(yt=[yt]),yt.forEach(Un=>{lt[Un.toLowerCase()]=nn})}function mf(yt){const nn=Zs(yt);return nn&&!nn.disableAutodetect}function zr(yt){yt["before:highlightBlock"]&&!yt["before:highlightElement"]&&(yt["before:highlightElement"]=nn=>{yt["before:highlightBlock"](Object.assign({block:nn.el},nn))}),yt["after:highlightBlock"]&&!yt["after:highlightElement"]&&(yt["after:highlightElement"]=nn=>{yt["after:highlightBlock"](Object.assign({block:nn.el},nn))})}function gf(yt){zr(yt),Tt.push(yt)}function lu(yt){const nn=Tt.indexOf(yt);nn!==-1&&Tt.splice(nn,1)}function xs(yt,nn){const Un=yt;Tt.forEach(function(Qn){Qn[Un]&&Qn[Un](nn)})}function jl(yt){return Qe("10.7.0","highlightBlock will be removed entirely in v12.0"),Qe("10.7.0","Please use highlightElement now."),Li(yt)}Object.assign(we,{highlight:mn,highlightAuto:$r,highlightAll:xo,highlightElement:Li,highlightBlock:jl,configure:Ja,initHighlighting:Ai,initHighlightingOnLoad:Ds,registerLanguage:eo,unregisterLanguage:kl,listLanguages:dc,getLanguage:Zs,registerAliases:fc,autoDetection:mf,inherit:xn,addPlugin:gf,removePlugin:lu}),we.debugMode=function(){Tn=!1},we.safeMode=function(){Tn=!0},we.versionString=Jn,we.regex={concat:v,lookahead:m,either:w,optional:b,anyNumberOfTimes:p};for(const yt in X)typeof X[yt]=="object"&&t(X[yt]);return Object.assign(we,X),we},zt=pn({});return zt.newInstance=()=>pn({}),MT=zt,zt.HighlightJS=zt,zt.default=zt,MT}var wze=xze();const rse=Pr(wze);function ise(t,e=[]){return t.flatMap(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?ise(n.children,r):{text:n.value,classes:r}})}function MH(t){return t.value||t.children||[]}function Sze(t){return!!rse.getLanguage(t)}function RH({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return TM(t,s=>s.type.name===e).forEach(s=>{var a;let o=s.pos+1;const c=s.node.attrs.language||r,u=n.listLanguages(),d=c&&(u.includes(c)||Sze(c)||(a=n.registered)!=null&&a.call(n,c))?MH(n.highlight(c,s.node.textContent)):MH(n.highlightAuto(s.node.textContent));ise(d).forEach(f=>{const m=o+f.text.length;if(f.classes.length){const p=Gs.inline(o,m,{class:f.classes.join(" ")});i.push(p)}o=m})}),ii.create(t,i)}function Nze(t){return typeof t=="function"}function _ze({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>Nze(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Ci({key:new ds("lowlight"),state:{init:(i,{doc:s})=>RH({doc:s,name:t,lowlight:e,defaultLanguage:n}),apply:(i,s,a,o)=>{const c=a.selection.$head.parent.type.name,u=o.selection.$head.parent.type.name,d=TM(a.doc,m=>m.type.name===t),f=TM(o.doc,m=>m.type.name===t);return i.docChanged&&([c,u].includes(t)||f.length!==d.length||i.steps.some(m=>m.from!==void 0&&m.to!==void 0&&d.some(p=>p.pos>=m.from&&p.pos+p.node.nodeSize<=m.to)))?RH({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var Eze=B$e.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],_ze({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function Cze(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",b=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],w=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],A={type:v,keyword:b,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},k={className:"function.dispatch",relevance:0,keywords:{_hint:w},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},P=[k,f,o,n,t.C_BLOCK_COMMENT_MODE,d,u],R={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:A,contains:P.concat([{begin:/\(/,end:/\)/,keywords:A,contains:P.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:A,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:A,relevance:0},{begin:p,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:A,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(R,T,k,P,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:A,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:A},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Aze(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=Cze(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function kze(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(o);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},m=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=t.SHEBANG({binary:`(${m.join("|")})`,relevance:10}),b={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},v=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],y=["true","false"],w={match:/(\/[a-z._-]+)+/},_=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],E=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],A=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],k=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:v,literal:y,built_in:[..._,...E,"set","shopt",...A,...k]},contains:[p,t.SHEBANG(),b,f,s,a,w,o,c,u,d,n]}}function jze(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",y={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},w=[f,o,n,t.C_BLOCK_COMMENT_MODE,d,u],_={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:w.concat([{begin:/\(/,end:/\)/,keywords:y,contains:w.concat(["self"]),relevance:0}]),relevance:0},E={begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:y,relevance:0},{begin:p,returnBegin:!0,contains:[t.inherit(m,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C",aliases:["h"],keywords:y,disableAutodetect:!0,illegal:"</",contains:[].concat(_,E,w,[f,{begin:t.IDENT_RE+"::",keywords:y},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:f,strings:u,keywords:y}}}function Tze(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},m={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},p=e.optional(i)+t.IDENT_RE+"\\s*\\(",b=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],v=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],w=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],A={type:v,keyword:b,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},k={className:"function.dispatch",relevance:0,keywords:{_hint:w},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},P=[k,f,o,n,t.C_BLOCK_COMMENT_MODE,d,u],R={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:A,contains:P.concat([{begin:/\(/,end:/\)/,keywords:A,contains:P.concat(["self"]),relevance:0}]),relevance:0},T={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:A,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:A,relevance:0},{begin:p,returnBegin:!0,contains:[m],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:A,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,t.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:A,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(R,T,k,P,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:A,contains:["self",o]},{begin:t.IDENT_RE+"::",keywords:A},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Oze(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:e,literal:r},o=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=t.inherit(d,{illegal:/\n/}),m={className:"subst",begin:/\{/,end:/\}/,keywords:a},p=t.inherit(m,{illegal:/\n/}),b={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,p]},v={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]},y=t.inherit(v,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});m.contains=[v,b,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,c,t.C_BLOCK_COMMENT_MODE],p.contains=[y,b,f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,c,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const w={variants:[u,v,b,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},_={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},E=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",A={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},w,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,_,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,_,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+E+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,_],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[w,c,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},A]}}const Pze=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Mze=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Rze=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Ize=[...Mze,...Rze],Dze=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Lze=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Fze=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Bze=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function $ze(t){const e=t.regex,n=Pze(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Lze.join("|")+")"},{begin:":(:)?("+Fze.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Bze.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Dze.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Ize.join("|")+")\\b"}]}}function zze(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function qze(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function Uze(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Hze(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,f=e.either(c,u,d),m=e.concat(f,"(\\s*\\.\\s*",f,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:m,className:"attr",starts:{end:/$/,contains:[r,o,s,i,a,n]}}]}}var jg="[0-9](_*[0-9])*",dw=`\\.(${jg})`,fw="[0-9a-fA-F](_*[0-9a-fA-F])*",IH={className:"number",variants:[{begin:`(\\b(${jg})((${dw})|\\.)?|(${dw}))[eE][+-]?(${jg})[fFdD]?\\b`},{begin:`\\b(${jg})((${dw})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${dw})[fFdD]?\\b`},{begin:`\\b(${jg})[fFdD]\\b`},{begin:`\\b0[xX]((${fw})\\.?|(${fw})?\\.(${fw}))[pP][+-]?(${jg})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${fw})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function sse(t,e,n){return n===-1?"":t.replace(e,r=>sse(t,e,n-1))}function Vze(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+sse("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,IH,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},IH,u]}}const DH="[A-Za-z$_][0-9A-Za-z$_]*",Wze=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Kze=["true","false","null","undefined","NaN","Infinity"],ase=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ose=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],lse=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Gze=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Yze=[].concat(lse,ase,ose);function Xze(t){const e=t.regex,n=(W,{after:Y})=>{const ge="</"+W[0].slice(1);return W.input.indexOf(ge,Y)!==-1},r=DH,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Y)=>{const ge=W[0].length+W.index,Q=W.input[ge];if(Q==="<"||Q===","){Y.ignoreMatch();return}Q===">"&&(n(W,{after:ge})||Y.ignoreMatch());let I;const G=W.input.substring(ge);if(I=G.match(/^\s*=/)){Y.ignoreMatch();return}if((I=G.match(/^\s+extends\s+/))&&I.index===0){Y.ignoreMatch();return}}},o={$pattern:DH,keyword:Wze,literal:Kze,built_in:Yze,"variable.language":Gze},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,m]},_={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},E=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,b,v,y,{match:/\$\d+/},f];m.contains=E.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(E)});const A=[].concat(_,m.contains),k=A.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(A)}]),P={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k},R={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ase,...ose]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(W){return e.concat("(?!",W.join("|"),")")}const q={match:e.concat(/\b/,F([...lse,"super","import"].map(W=>`${W}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},K={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},Z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",H={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(Z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:k,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,b,v,y,_,{match:/\$\d+/},f,T,{scope:"attr",match:r+e.lookahead(":"),relevance:0},H,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[_,t.REGEXP_MODE,{className:"function",begin:Z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},q,O,R,K,{match:/\$[(.]/}]}}function Zze(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Tg="[0-9](_*[0-9])*",hw=`\\.(${Tg})`,pw="[0-9a-fA-F](_*[0-9a-fA-F])*",Qze={className:"number",variants:[{begin:`(\\b(${Tg})((${hw})|\\.)?|(${hw}))[eE][+-]?(${Tg})[fFdD]?\\b`},{begin:`\\b(${Tg})((${hw})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${hw})[fFdD]?\\b`},{begin:`\\b(${Tg})[fFdD]\\b`},{begin:`\\b0[xX]((${pw})\\.?|(${pw})?\\.(${pw}))[pP][+-]?(${Tg})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${pw})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Jze(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(a,{className:"string"}),"self"]}]},u=Qze,d=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),f={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},m=f;return m.variants[1].contains=[f],f.variants[1].contains=[m],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,d,n,r,o,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[f,t.C_LINE_COMMENT_MODE,d],relevance:0},t.C_LINE_COMMENT_MODE,d,o,c,a,t.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,c]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const e9e=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),t9e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],n9e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],r9e=[...t9e,...n9e],i9e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),cse=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),use=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),s9e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),a9e=cse.concat(use).sort().reverse();function o9e(t){const e=e9e(t),n=a9e,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],o=[],c=function(E){return{className:"string",begin:"~?"+E+".*?"+E}},u=function(E,A,k){return{className:E,begin:A,relevance:k}},d={$pattern:/[a-z-]+/,keyword:r,attribute:i9e.join(" ")},f={begin:"\\(",end:"\\)",contains:o,keywords:d,relevance:0};o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,c("'"),c('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,f,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const m=o.concat({begin:/\{/,end:/\}/,contains:a}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},b={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+s9e.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},v={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:o,relevance:0}},y={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:m}},w={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,p,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+r9e.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+cse.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+use.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:m},{begin:"!important"},e.FUNCTION_DISPATCH]},_={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[w]};return a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,v,y,_,b,w,p,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function l9e(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function c9e(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,a]}}function u9e(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=t.inherit(u,{contains:[]}),m=t.inherit(d,{contains:[]});u.contains.push(m),d.contains.push(f);let p=[n,c];return[u,d,f,m].forEach(w=>{w.contains=w.contains.concat(p)}),p=p.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,r,c,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function d9e(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function f9e(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[t.BACKSLASH_ESCAPE,s,c],f=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],m=(v,y,w="\\1")=>{const _=w==="\\1"?w:e.concat(w,y);return e.concat(e.concat("(?:",v,")"),y,/(?:\\.|[^\\\/])*?/,_,/(?:\\.|[^\\\/])*?/,w,r)},p=(v,y,w)=>e.concat(e.concat("(?:",v,")"),y,/(?:\\.|[^\\\/])*?/,w,r),b=[c,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:m("s|tr|y",e.either(...f,{capture:!0}))},{begin:m("s|tr|y","\\(","\\)")},{begin:m("s|tr|y","\\[","\\]")},{begin:m("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",e.either(...f,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,o,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=b,a.contains=b,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:b}}function h9e(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=t.inherit(t.APOS_STRING_MODE,{illegal:null}),d=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(c)}),f={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(z,K)=>{K.data._beginMatch=z[1]||z[2]},"on:end":(z,K)=>{K.data._beginMatch!==z[1]&&K.ignoreMatch()}},m=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,b={scope:"string",variants:[d,u,f,m]},v={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},y=["false","null","true"],w=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],_=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],A={keyword:w,literal:(z=>{const K=[];return z.forEach(Z=>{K.push(Z),Z.toLowerCase()===Z?K.push(Z.toUpperCase()):K.push(Z.toLowerCase())}),K})(y),built_in:_},k=z=>z.map(K=>K.replace(/\|\d+$/,"")),P={variants:[{match:[/new/,e.concat(p,"+"),e.concat("(?!",k(_).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},R=e.concat(r,"\\b(?!\\()"),T={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),R],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),R],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},M={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},B={relevance:0,begin:/\(/,end:/\)/,keywords:A,contains:[M,a,T,t.C_BLOCK_COMMENT_MODE,b,v,P]},O={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",k(w).join("\\b|"),"|",k(_).join("\\b|"),"\\b)"),r,e.concat(p,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[B]};B.contains.push(O);const F=[M,T,t.C_BLOCK_COMMENT_MODE,b,v,P],q={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:y,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:y,keyword:["new","array"]},contains:["self",...F]},...F,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:A,contains:[q,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},a,O,T,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},P,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:A,contains:["self",q,a,T,t.C_BLOCK_COMMENT_MODE,b,v]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},b,v]}}function p9e(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function m9e(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function g9e(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},d={begin:/\{\{/,relevance:0},f={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,d,u]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},m="[0-9](_?[0-9])*",p=`(\\b(${m}))?\\.(${m})|\\b(${m})\\.`,b=`\\b|${r.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${m})|(${p}))[eE][+-]?(${m})[jJ]?(?=${b})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${b})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${b})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${b})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${b})`},{begin:`\\b(${m})[jJ](?=${b})`}]},y={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},w={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",c,v,f,t.HASH_COMMENT_MODE]}]};return u.contains=[f,v,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[c,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,y,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[w]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,w,f]}]}}function v9e(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function y9e(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function b9e(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[t.COMMENT("#","$",{contains:[o]}),t.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},f={className:"string",contains:[t.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,d]})]}]},m="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",b={className:"number",relevance:0,variants:[{begin:`\\b(${m})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},v={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},P=[f,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[v]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[f,{begin:n}],relevance:0},b,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=P,v.contains=P;const B=[{begin:/^\s*=>/,starts:{end:"$",contains:P}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:P}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(B).concat(u).concat(P)}}function x9e(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:d,keyword:o,literal:c,built_in:u},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},s]}}const w9e=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),S9e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],N9e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],_9e=[...S9e,...N9e],E9e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),C9e=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),A9e=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),k9e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function j9e(t){const e=w9e(t),n=A9e,r=C9e,i="@[a-z-]+",s="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+_9e.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+k9e.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,o,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:E9e.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function T9e(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function O9e(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],m=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,b=[...u,...c].filter(k=>!d.includes(k)),v={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},y={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},w={match:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function _(k){return e.concat(/\b/,e.either(...k.map(P=>P.replace(/\s+/,"\\s+"))),/\b/)}const E={scope:"keyword",match:_(m),relevance:0};function A(k,{exceptions:P,when:R}={}){const T=R;return P=P||[],k.map(M=>M.match(/\|\d+$/)||P.includes(M)?M:T(M)?`${M}|0`:M)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:A(b,{when:k=>k.length<3}),literal:s,type:o,built_in:f},contains:[{scope:"type",match:_(a)},E,w,v,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,y]}}function dse(t){return t?typeof t=="string"?t:t.source:null}function eb(t){return Zr("(?=",t,")")}function Zr(...t){return t.map(n=>dse(n)).join("")}function P9e(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function uo(...t){return"("+(P9e(t).capture?"":"?:")+t.map(r=>dse(r)).join("|")+")"}const TD=t=>Zr(/\b/,t,/\w$/.test(t)?/\b/:/\B/),M9e=["Protocol","Type"].map(TD),LH=["init","self"].map(TD),R9e=["Any","Self"],RT=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],FH=["false","nil","true"],I9e=["assignment","associativity","higherThan","left","lowerThan","none","right"],D9e=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],BH=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],fse=uo(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),hse=uo(fse,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),IT=Zr(fse,hse,"*"),pse=uo(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),fN=uo(pse,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Cu=Zr(pse,fN,"*"),mw=Zr(/[A-Z]/,fN,"*"),L9e=["attached","autoclosure",Zr(/convention\(/,uo("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Zr(/objc\(/,Cu,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],F9e=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function B9e(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,uo(...M9e,...LH)],className:{2:"keyword"}},s={match:Zr(/\./,uo(...RT)),relevance:0},a=RT.filter(Ge=>typeof Ge=="string").concat(["_|0"]),o=RT.filter(Ge=>typeof Ge!="string").concat(R9e).map(TD),c={variants:[{className:"keyword",match:uo(...o,...LH)}]},u={$pattern:uo(/\b\w+/,/#\w+/),keyword:a.concat(D9e),literal:FH},d=[i,s,c],f={match:Zr(/\./,uo(...BH)),relevance:0},m={className:"built_in",match:Zr(/\b/,uo(...BH),/(?=\()/)},p=[f,m],b={match:/->/,relevance:0},v={className:"operator",relevance:0,variants:[{match:IT},{match:`\\.(\\.|${hse})+`}]},y=[b,v],w="([0-9]_*)+",_="([0-9a-fA-F]_*)+",E={className:"number",relevance:0,variants:[{match:`\\b(${w})(\\.(${w}))?([eE][+-]?(${w}))?\\b`},{match:`\\b0x(${_})(\\.(${_}))?([pP][+-]?(${w}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},A=(Ge="")=>({className:"subst",variants:[{match:Zr(/\\/,Ge,/[0\\tnr"']/)},{match:Zr(/\\/,Ge,/u\{[0-9a-fA-F]{1,8}\}/)}]}),k=(Ge="")=>({className:"subst",match:Zr(/\\/,Ge,/[\t ]*(?:[\r\n]|\r\n)/)}),P=(Ge="")=>({className:"subst",label:"interpol",begin:Zr(/\\/,Ge,/\(/),end:/\)/}),R=(Ge="")=>({begin:Zr(Ge,/"""/),end:Zr(/"""/,Ge),contains:[A(Ge),k(Ge),P(Ge)]}),T=(Ge="")=>({begin:Zr(Ge,/"/),end:Zr(/"/,Ge),contains:[A(Ge),P(Ge)]}),M={className:"string",variants:[R(),R("#"),R("##"),R("###"),T(),T("#"),T("##"),T("###")]},B=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],O={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:B},F=Ge=>{const Nt=Zr(Ge,/\//),it=Zr(/\//,Ge);return{begin:Nt,end:it,contains:[...B,{scope:"comment",begin:`#(?!.*${it})`,end:/$/}]}},q={scope:"regexp",variants:[F("###"),F("##"),F("#"),O]},z={match:Zr(/`/,Cu,/`/)},K={className:"variable",match:/\$\d+/},Z={className:"variable",match:`\\$${fN}+`},H=[z,K,Z],W={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:F9e,contains:[...y,E,M]}]}},Y={scope:"keyword",match:Zr(/@/,uo(...L9e),eb(uo(/\(/,/\s+/)))},ge={scope:"meta",match:Zr(/@/,Cu)},Q=[W,Y,ge],I={match:eb(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Zr(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,fN,"+")},{className:"type",match:mw,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Zr(/\s+&\s+/,eb(mw)),relevance:0}]},G={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...Q,b,I]};I.contains.push(G);const ne={match:Zr(Cu,/\s*:/),keywords:"_|0",relevance:0},ie={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",ne,...r,q,...d,...p,...y,E,M,...H,...Q,I]},he={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,I]},J={begin:uo(eb(Zr(Cu,/\s*:/)),eb(Zr(Cu,/\s+/,Cu,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Cu}]},ue={begin:/\(/,end:/\)/,keywords:u,contains:[J,...r,...d,...y,E,M,...Q,I,ie],endsParent:!0,illegal:/["']/},ae={match:[/(func|macro)/,/\s+/,uo(z.match,Cu,IT)],className:{1:"keyword",3:"title.function"},contains:[he,ue,e],illegal:[/\[/,/%/]},X={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[he,ue,e],illegal:/\[|%/},pe={match:[/operator/,/\s+/,IT],className:{1:"keyword",3:"title"}},xe={begin:[/precedencegroup/,/\s+/,mw],className:{1:"keyword",3:"title"},contains:[I],keywords:[...I9e,...FH],end:/}/},De={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Ee={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},de={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Cu,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[he,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:mw},...d],relevance:0}]};for(const Ge of M.variants){const Nt=Ge.contains.find(Ye=>Ye.label==="interpol");Nt.keywords=u;const it=[...d,...p,...y,E,M,...H];Nt.contains=[...it,{begin:/\(/,end:/\)/,contains:["self",...it]}]}return{name:"Swift",keywords:u,contains:[...r,ae,X,De,Ee,de,pe,xe,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},q,...d,...p,...y,E,M,...H,...Q,I,ie]}}const hN="[A-Za-z$_][0-9A-Za-z$_]*",mse=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],gse=["true","false","null","undefined","NaN","Infinity"],vse=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],yse=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],bse=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],xse=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],wse=[].concat(bse,vse,yse);function $9e(t){const e=t.regex,n=(W,{after:Y})=>{const ge="</"+W[0].slice(1);return W.input.indexOf(ge,Y)!==-1},r=hN,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(W,Y)=>{const ge=W[0].length+W.index,Q=W.input[ge];if(Q==="<"||Q===","){Y.ignoreMatch();return}Q===">"&&(n(W,{after:ge})||Y.ignoreMatch());let I;const G=W.input.substring(ge);if(I=G.match(/^\s*=/)){Y.ignoreMatch();return}if((I=G.match(/^\s+extends\s+/))&&I.index===0){Y.ignoreMatch();return}}},o={$pattern:hN,keyword:mse,literal:gse,built_in:wse,"variable.language":xse},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},b={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"css"}},v={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,m],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,m]},_={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},E=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,b,v,y,{match:/\$\d+/},f];m.contains=E.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(E)});const A=[].concat(_,m.contains),k=A.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(A)}]),P={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k},R={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},T={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...vse,...yse]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function F(W){return e.concat("(?!",W.join("|"),")")}const q={match:e.concat(/\b/,F([...bse,"super","import"].map(W=>`${W}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},z={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},K={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},Z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",H={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(Z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:k,CLASS_REFERENCE:T},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,p,b,v,y,_,{match:/\$\d+/},f,T,{scope:"attr",match:r+e.lookahead(":"),relevance:0},H,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[_,t.REGEXP_MODE,{className:"function",begin:Z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:k}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},z,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},q,O,R,K,{match:/\$[(.]/}]}}function z9e(t){const e=t.regex,n=$9e(t),r=hN,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:hN,keyword:mse.concat(c),literal:gse,built_in:wse.concat(i),"variable.language":xse},d={className:"meta",begin:"@"+r},f=(v,y,w)=>{const _=v.contains.findIndex(E=>E.label===y);if(_===-1)throw new Error("can not find mode to replace");v.contains.splice(_,1,w)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const m=n.contains.find(v=>v.scope==="attr"),p=Object.assign({},m,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,m,p]),n.contains=n.contains.concat([d,s,a,p]),f(n,"shebang",t.SHEBANG()),f(n,"use_strict",o);const b=n.contains.find(v=>v.label==="func.def");return b.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function q9e(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(a,o),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},f=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),m=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,f,m,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[m]}]}}function U9e(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,t.QUOTE_STRING_MODE,c,u,o]}}function H9e(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=t.inherit(s,{begin:/\(/,end:/\)/}),o=t.inherit(t.APOS_STRING_MODE,{className:"string"}),c=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,c,o]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function V9e(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},o=t.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),m={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},b={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},v={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},y=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},m,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},b,v,s,a],w=[...y];return w.pop(),w.push(o),p.contains=w,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:y}}const W9e={arduino:Aze,bash:kze,c:jze,cpp:Tze,csharp:Oze,css:$ze,diff:zze,go:qze,graphql:Uze,ini:Hze,java:Vze,javascript:Xze,json:Zze,kotlin:Jze,less:o9e,lua:l9e,makefile:c9e,markdown:u9e,objectivec:d9e,perl:f9e,php:h9e,"php-template":p9e,plaintext:m9e,python:g9e,"python-repl":v9e,r:y9e,ruby:b9e,rust:x9e,scss:j9e,shell:T9e,sql:O9e,swift:B9e,typescript:z9e,vbnet:q9e,wasm:U9e,xml:H9e,yaml:V9e},$H={},K9e="hljs-";function G9e(t){const e=rse.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:a,registered:o};function n(c,u,d){const f=d||$H,m=typeof f.prefix=="string"?f.prefix:K9e;if(!e.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");e.configure({__emitter:Y9e,classPrefix:m});const p=e.highlight(u,{ignoreIllegals:!0,language:c});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const b=p._emitter.root,v=b.data;return v.language=p.language,v.relevance=p.relevance,b}function r(c,u){const f=(u||$H).subset||i();let m=-1,p=0,b;for(;++m<f.length;){const v=f[m];if(!e.getLanguage(v))continue;const y=n(v,c,u);y.data&&y.data.relevance!==void 0&&y.data.relevance>p&&(p=y.data.relevance,b=y)}return b||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return e.listLanguages()}function s(c,u){if(typeof c=="string")e.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&e.registerLanguage(d,c[d])}}function a(c,u){if(typeof c=="string")e.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const f=c[d];e.registerAliases(typeof f=="string"?f:[...f],{languageName:d})}}}function o(c){return!!e.getLanguage(c)}}class Y9e{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(a,o){return o?a+"_".repeat(o):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}var VM,WM;if(typeof WeakMap<"u"){let t=new WeakMap;VM=e=>t.get(e),WM=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;VM=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},WM=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var as=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,a=i+1;for(let o=1;s<this.width&&this.map[e+o]==n;o++)s++;for(let o=1;a<this.height&&this.map[e+this.width*o]==n;o++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:a,right:o,top:c,bottom:u}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(i,c),right:Math.max(r,o),bottom:Math.max(s,u)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==t.left&&i&&this.map[s-1]==a||r==t.top&&r&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const o=(t+1)*this.width;for(;a<o&&this.map[a]<i;)a++;return a==o?s-1:this.map[a]}i=s}}static get(t){return VM(t)||WM(t,X9e(t))}};function X9e(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=Z9e(t),n=t.childCount,r=[];let i=0,s=null;const a=[];for(let u=0,d=e*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=t.child(u);d++;for(let b=0;;b++){for(;i<r.length&&r[i]!=0;)i++;if(b==f.childCount)break;const v=f.child(b),{colspan:y,rowspan:w,colwidth:_}=v.attrs;for(let E=0;E<w;E++){if(E+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:d,n:w-E});break}const A=i+E*e;for(let k=0;k<y;k++){r[A+k]==0?r[A+k]=d:(s||(s=[])).push({type:"collision",row:u,pos:d,n:y-k});const P=_&&_[k];if(P){const R=(A+k)%e*2,T=a[R];T==null||T!=P&&a[R+1]==1?(a[R]=P,a[R+1]=1):T==P&&a[R+1]++}}}i+=y,d+=v.nodeSize}const m=(u+1)*e;let p=0;for(;i<m;)r[i++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:u,n:p}),d++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const o=new as(e,n,r,s);let c=!1;for(let u=0;!c&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(c=!0);return c&&Q9e(o,a,t),o}function Z9e(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let a=0;a<r;a++){const o=t.child(a);for(let c=0;c<o.childCount;c++){const u=o.child(c);a+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const o=i.child(a);s+=o.attrs.colspan,o.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function Q9e(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let o=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const d=(i+u)%t.width,f=e[d*2];f!=null&&(!c.colwidth||c.colwidth[u]!=f)&&((o||(o=J9e(c)))[u]=f)}o&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:o})}}function J9e(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Za(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var ch=new ds("selectingCells");function ly(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function eqe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function ou(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function aE(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=ly(e.$head)||tqe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function tqe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function KM(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function nqe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function OD(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function Sse(t,e,n){const r=t.node(-1),i=as.get(r),s=t.start(-1),a=i.nextCell(t.pos-s,e,n);return a==null?null:t.node(0).resolve(s+a)}function xm(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Nse(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function rqe(t,e,n){const r=Za(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var gi=class zd extends Mn{constructor(e,n=e){const r=e.node(-1),i=as.get(r),s=e.start(-1),a=i.rectBetween(e.pos-s,n.pos-s),o=e.node(0),c=i.cellsInRect(a).filter(d=>d!=n.pos-s);c.unshift(n.pos-s);const u=c.map(d=>{const f=r.nodeAt(d);if(!f)throw RangeError(`No cell with offset ${d} found`);const m=s+d+1;return new Zne(o.resolve(m),o.resolve(m+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(KM(r)&&KM(i)&&OD(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?zd.rowSelection(r,i):s&&this.isColSelection()?zd.colSelection(r,i):new zd(r,i)}return Nn.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=as.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let c=i.top;c<i.bottom;c++){const u=[];for(let d=c*n.width+i.left,f=i.left;f<i.right;f++,d++){const m=n.map[d];if(s[m])continue;s[m]=!0;const p=n.findCell(m);let b=e.nodeAt(m);if(!b)throw RangeError(`No cell with offset ${m} found`);const v=i.left-p.left,y=p.right-i.right;if(v>0||y>0){let w=b.attrs;if(v>0&&(w=xm(w,0,v)),y>0&&(w=xm(w,w.colspan-y,y)),p.left<i.left){if(b=b.type.createAndFill(w),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else b=b.type.create(w,b.content)}if(p.top<i.top||p.bottom>i.bottom){const w={...b.attrs,rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)};p.top<i.top?b=b.type.createAndFill(w):b=b.type.create(w,b.content)}u.push(b)}a.push(e.child(c).copy(ct.from(u)))}const o=this.isColSelection()&&this.isRowSelection()?e:a;return new It(ct.from(o),1,1)}replace(e,n=It.empty){const r=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:o,$to:c}=i[a],u=e.mapping.slice(r);e.replace(u.map(o.pos),u.map(c.pos),a?It.empty:n)}const s=Mn.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new It(ct.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=as.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)e(n.nodeAt(s[a]),i+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=as.get(r),s=e.start(-1),a=i.findCell(e.pos-s),o=i.findCell(n.pos-s),c=e.node(0);return a.top<=o.top?(a.top>0&&(e=c.resolve(s+i.map[a.left])),o.bottom<i.height&&(n=c.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))):(o.top>0&&(n=c.resolve(s+i.map[o.left])),a.bottom<i.height&&(e=c.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new zd(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=as.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,o)==n.width}eq(e){return e instanceof zd&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=as.get(r),s=e.start(-1),a=i.findCell(e.pos-s),o=i.findCell(n.pos-s),c=e.node(0);return a.left<=o.left?(a.left>0&&(e=c.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(n=c.resolve(s+i.map[i.width*(o.top+1)-1]))):(o.left>0&&(n=c.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(e=c.resolve(s+i.map[i.width*(a.top+1)-1]))),new zd(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new zd(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new zd(e.resolve(n),e.resolve(r))}getBookmark(){return new iqe(this.$anchorCell.pos,this.$headCell.pos)}};gi.prototype.visible=!1;Mn.jsonID("cell",gi);var iqe=class _se{constructor(e,n){this.anchor=e,this.head=n}map(e){return new _se(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&OD(n,r)?new gi(n,r):Mn.near(r,1)}};function sqe(t){if(!(t.selection instanceof gi))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Gs.node(r,r+n.nodeSize,{class:"selectedCell"}))}),ii.create(t.doc,e)}function aqe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function oqe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function lqe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,a;if(r instanceof bn&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=gi.create(i,r.from);else if(a=="row"){const o=i.resolve(r.from+1);s=gi.rowSelection(o,o)}else if(!n){const o=as.get(r.node),c=r.from+1,u=c+o.map[o.width*o.height-1];s=gi.create(i,c+1,u)}}else r instanceof Nn&&aqe(r)?s=Nn.create(i,r.from):r instanceof Nn&&oqe(r)&&(s=Nn.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var cqe=new ds("fix-tables");function Ese(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let a=0,o=0;a<s;a++){const c=e.child(a);for(let u=o,d=Math.min(i,a+3);u<d;u++)if(t.child(u)==c){o=u+1,n+=c.nodeSize;continue e}r(c,n),o<i&&t.child(o).sameMarkup(c)?Ese(t.child(o),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function Cse(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=uqe(t,i,s,n))};return e?e.doc!=t.doc&&Ese(e.doc,t.doc,0,r):t.doc.descendants(r),n}function uqe(t,e,n,r){const i=as.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let c=0;c<i.height;c++)s.push(0);for(let c=0;c<i.problems.length;c++){const u=i.problems[c];if(u.type=="collision"){const d=e.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let m=0;m<f.rowspan;m++)s[u.row+m]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,xm(f,f.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=e.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+e.nodeSize)}}let a,o;for(let c=0;c<s.length;c++)s[c]&&(a==null&&(a=c),o=c);for(let c=0,u=n+1;c<i.height;c++){const d=e.child(c),f=u+d.nodeSize,m=s[c];if(m>0){let p="cell";d.firstChild&&(p=d.firstChild.type.spec.tableRole);const b=[];for(let y=0;y<m;y++){const w=Za(t.schema)[p].createAndFill();w&&b.push(w)}const v=(c==0||a==c-1)&&o==c?u+1:f-1;r.insert(r.mapping.map(v),b)}u=f}return r.setMeta(cqe,{fixTables:!0})}function id(t){const e=t.selection,n=aE(t),r=n.node(-1),i=n.start(-1),s=as.get(r);return{...e instanceof gi?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function Ase(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;rqe(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const o=a*e.width+i;if(i>0&&i<e.width&&e.map[o-1]==e.map[o]){const c=e.map[o],u=r.nodeAt(c);t.setNodeMarkup(t.mapping.map(n+c),null,Nse(u.attrs,i-e.colCount(c))),a+=u.attrs.rowspan-1}else{const c=s==null?Za(r.type.schema).cell:r.nodeAt(e.map[o+s]).type,u=e.positionAt(a,i,r);t.insert(t.mapping.map(n+u),c.createAndFill())}}return t}function dqe(t,e){if(!ou(t))return!1;if(e){const n=id(t);e(Ase(t.tr,n,n.left))}return!0}function fqe(t,e){if(!ou(t))return!1;if(e){const n=id(t);e(Ase(t.tr,n,n.right))}return!0}function hqe(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const o=a*e.width+i,c=e.map[o],u=n.nodeAt(c),d=u.attrs;if(i>0&&e.map[o-1]==c||i<e.width-1&&e.map[o+1]==c)t.setNodeMarkup(t.mapping.slice(s).map(r+c),null,xm(d,i-e.colCount(c)));else{const f=t.mapping.slice(s).map(r+c);t.delete(f,f+u.nodeSize)}a+=d.rowspan}}function pqe(t,e){if(!ou(t))return!1;if(e){const n=id(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;hqe(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=as.get(s)}e(r)}return!0}function mqe(t,e,n){var r;const i=Za(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function kse(t,{map:e,tableStart:n,table:r},i){var s;let a=n;for(let u=0;u<i;u++)a+=r.child(u).nodeSize;const o=[];let c=i>0?-1:0;mqe(e,r,i+c)&&(c=i==0||i==e.height?null:0);for(let u=0,d=e.width*i;u<e.width;u++,d++)if(i>0&&i<e.height&&e.map[d]==e.map[d-e.width]){const f=e.map[d],m=r.nodeAt(f).attrs;t.setNodeMarkup(n+f,null,{...m,rowspan:m.rowspan+1}),u+=m.colspan-1}else{const f=c==null?Za(r.type.schema).cell:(s=r.nodeAt(e.map[d+c*e.width]))==null?void 0:s.type,m=f?.createAndFill();m&&o.push(m)}return t.insert(a,Za(r.type.schema).row.create(null,o)),t}function gqe(t,e){if(!ou(t))return!1;if(e){const n=id(t);e(kse(t.tr,n,n.top))}return!0}function vqe(t,e){if(!ou(t))return!1;if(e){const n=id(t);e(kse(t.tr,n,n.bottom))}return!0}function yqe(t,{map:e,table:n,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=n.child(u).nodeSize;const a=s+n.child(i).nodeSize,o=t.mapping.maps.length;t.delete(s+r,a+r);const c=new Set;for(let u=0,d=i*e.width;u<e.width;u++,d++){const f=e.map[d];if(!c.has(f)){if(c.add(f),i>0&&f==e.map[d-e.width]){const m=n.nodeAt(f).attrs;t.setNodeMarkup(t.mapping.slice(o).map(f+r),null,{...m,rowspan:m.rowspan-1}),u+=m.colspan-1}else if(i<e.height&&f==e.map[d+e.width]){const m=n.nodeAt(f),p=m.attrs,b=m.type.create({...p,rowspan:m.attrs.rowspan-1},m.content),v=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(o).map(r+v),b),u+=p.colspan-1}}}}function bqe(t,e){if(!ou(t))return!1;if(e){const n=id(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;yqe(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=as.get(n.table)}e(r)}return!0}function zH(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function xqe({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,a=(r.bottom-1)*t+r.left,o=i+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[o]==n[o+1])return!0;s+=t,o+=t}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[a]==n[a+t])return!0;i++,a++}return!1}function qH(t,e){const n=t.selection;if(!(n instanceof gi)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=id(t),{map:i}=r;if(xqe(i,r))return!1;if(e){const s=t.tr,a={};let o=ct.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const m=i.map[d*i.width+f],p=r.table.nodeAt(m);if(!(a[m]||!p))if(a[m]=!0,c==null)c=m,u=p;else{zH(p)||(o=o.append(p.content));const b=s.mapping.map(m+r.tableStart);s.delete(b,b+p.nodeSize)}}if(c==null||u==null)return!0;if(s.setNodeMarkup(c+r.tableStart,null,{...Nse(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),o.size){const d=c+1+u.content.size,f=zH(u)?c+1:d;s.replaceWith(f+r.tableStart,d+r.tableStart,o)}s.setSelection(new gi(s.doc.resolve(c+r.tableStart))),e(s)}return!0}function UH(t,e){const n=Za(t.schema);return wqe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function wqe(t){return(e,n)=>{var r;const i=e.selection;let s,a;if(i instanceof gi){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(s=eqe(i.$from),!s)return!1;a=(r=ly(i.$from))==null?void 0:r.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let o=s.attrs;const c=[],u=o.colwidth;o.rowspan>1&&(o={...o,rowspan:1}),o.colspan>1&&(o={...o,colspan:1});const d=id(e),f=e.tr;for(let p=0;p<d.right-d.left;p++)c.push(u?{...o,colwidth:u&&u[p]?[u[p]]:null}:o);let m;for(let p=d.top;p<d.bottom;p++){let b=d.map.positionAt(p,d.left,d.table);p==d.top&&(b+=s.nodeSize);for(let v=d.left,y=0;v<d.right;v++,y++)v==d.left&&p==d.top||f.insert(m=f.mapping.map(b+d.tableStart,1),t({node:s,row:p,col:v}).createAndFill(c[y]))}f.setNodeMarkup(a,t({node:s,row:d.top,col:d.left}),c[0]),i instanceof gi&&f.setSelection(new gi(f.doc.resolve(i.$anchorCell.pos),m?f.doc.resolve(m):void 0)),n(f)}return!0}}function Sqe(t,e){return function(n,r){if(!ou(n))return!1;const i=aE(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof gi?n.selection.forEachCell((a,o)=>{a.attrs[t]!==e&&s.setNodeMarkup(o,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function Nqe(t){return function(e,n){if(!ou(e))return!1;if(n){const r=Za(e.schema),i=id(e),s=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),o=a.map(c=>i.table.nodeAt(c));for(let c=0;c<a.length;c++)o[c].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[c],r.cell,o[c].attrs);if(s.steps.length==0)for(let c=0;c<a.length;c++)s.setNodeMarkup(i.tableStart+a[c],r.header_cell,o[c].attrs);n(s)}return!0}}function HH(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function W0(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Nqe(t):function(n,r){if(!ou(n))return!1;if(r){const i=Za(n.schema),s=id(n),a=n.tr,o=HH("row",s,i),c=HH("column",s,i),d=(t==="column"?o:t==="row"?c:!1)?1:0,f=t=="column"?{left:0,top:d,right:1,bottom:s.map.height}:t=="row"?{left:d,top:0,right:s.map.width,bottom:1}:s,m=t=="column"?c?i.cell:i.header_cell:t=="row"?o?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(p=>{const b=p+s.tableStart,v=a.doc.nodeAt(b);v&&a.setNodeMarkup(b,m,v.attrs)}),r(a)}return!0}}W0("row",{useDeprecatedLogic:!0});W0("column",{useDeprecatedLogic:!0});var _qe=W0("cell",{useDeprecatedLogic:!0});function Eqe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function VH(t){return function(e,n){if(!ou(e))return!1;const r=Eqe(aE(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(Nn.between(i,nqe(i))).scrollIntoView())}return!0}}function Cqe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function gw(t,e){const n=t.selection;if(!(n instanceof gi))return!1;if(e){const r=t.tr,i=Za(t.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new It(i,0,0))}),r.docChanged&&e(r)}return!0}function Aqe(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,a=i.type.schema,o=[];if(s=="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=GM(Za(a).row,new It(u,d,f)).content),o.push(u)}else if(s=="cell"||s=="header_cell")o.push(n||r?GM(Za(a).row,new It(e,n,r)).content:e);else return null;return kqe(a,o)}function kqe(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:o,colspan:c}=s.child(a).attrs;for(let u=i;u<i+o;u++)n[u]=(n[u]||0)+c}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(ct.empty),n[i]<r){const s=Za(t).cell.createAndFill(),a=[];for(let o=n[i];o<r;o++)a.push(s);e[i]=e[i].append(ct.from(a))}return{height:e.length,width:r,rows:e}}function GM(t,e){const n=t.createAndFill();return new zI(n).replace(0,n.content.size,e).doc}function jqe({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],a=[];for(let o=0;o<n.length;o++){const c=n[o],u=[];for(let d=s[o]||0,f=0;d<r;f++){let m=c.child(f%c.childCount);d+m.attrs.colspan>r&&(m=m.type.createChecked(xm(m.attrs,m.attrs.colspan,d+m.attrs.colspan-r),m.content)),u.push(m),d+=m.attrs.colspan;for(let p=1;p<m.attrs.rowspan;p++)s[o+p]=(s[o+p]||0)+m.attrs.colspan}a.push(ct.from(u))}n=a,t=r}if(e!=i){const s=[];for(let a=0,o=0;a<i;a++,o++){const c=[],u=n[o%e];for(let d=0;d<u.childCount;d++){let f=u.child(d);a+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),c.push(f)}s.push(ct.from(c))}n=s,e=i}return{width:t,height:e,rows:n}}function Tqe(t,e,n,r,i,s,a){const o=t.doc.type.schema,c=Za(o);let u,d;if(i>e.width)for(let f=0,m=0;f<e.height;f++){const p=n.child(f);m+=p.nodeSize;const b=[];let v;p.lastChild==null||p.lastChild.type==c.cell?v=u||(u=c.cell.createAndFill()):v=d||(d=c.header_cell.createAndFill());for(let y=e.width;y<i;y++)b.push(v);t.insert(t.mapping.slice(a).map(m-1+r),b)}if(s>e.height){const f=[];for(let b=0,v=(e.height-1)*e.width;b<Math.max(e.width,i);b++){const y=b>=e.width?!1:n.nodeAt(e.map[v+b]).type==c.header_cell;f.push(y?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const m=c.row.create(null,ct.from(f)),p=[];for(let b=e.height;b<s;b++)p.push(m);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),p)}return!!(u||d)}function WH(t,e,n,r,i,s,a,o){if(a==0||a==e.height)return!1;let c=!1;for(let u=i;u<s;u++){const d=a*e.width+u,f=e.map[d];if(e.map[d-e.width]==f){c=!0;const m=n.nodeAt(f),{top:p,left:b}=e.findCell(f);t.setNodeMarkup(t.mapping.slice(o).map(f+r),null,{...m.attrs,rowspan:a-p}),t.insert(t.mapping.slice(o).map(e.positionAt(a,b,n)),m.type.createAndFill({...m.attrs,rowspan:p+m.attrs.rowspan-a})),u+=m.attrs.colspan-1}}return c}function KH(t,e,n,r,i,s,a,o){if(a==0||a==e.width)return!1;let c=!1;for(let u=i;u<s;u++){const d=u*e.width+a,f=e.map[d];if(e.map[d-1]==f){c=!0;const m=n.nodeAt(f),p=e.colCount(f),b=t.mapping.slice(o).map(f+r);t.setNodeMarkup(b,null,xm(m.attrs,a-p,m.attrs.colspan-(a-p))),t.insert(b+m.nodeSize,m.type.createAndFill(xm(m.attrs,0,a-p))),u+=m.attrs.rowspan-1}}return c}function GH(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let a=as.get(s);const{top:o,left:c}=r,u=c+i.width,d=o+i.height,f=t.tr;let m=0;function p(){if(s=n?f.doc.nodeAt(n-1):f.doc,!s)throw new Error("No table found");a=as.get(s),m=f.mapping.maps.length}Tqe(f,a,s,n,u,d,m)&&p(),WH(f,a,s,n,c,u,o,m)&&p(),WH(f,a,s,n,c,u,d,m)&&p(),KH(f,a,s,n,o,d,c,m)&&p(),KH(f,a,s,n,o,d,u,m)&&p();for(let b=o;b<d;b++){const v=a.positionAt(b,c,s),y=a.positionAt(b,u,s);f.replace(f.mapping.slice(m).map(v+n),f.mapping.slice(m).map(y+n),new It(i.rows[b-o],0,0))}p(),f.setSelection(new gi(f.doc.resolve(n+a.positionAt(o,c,s)),f.doc.resolve(n+a.positionAt(d-1,u-1,s)))),e(f)}var Oqe=rD({ArrowLeft:vw("horiz",-1),ArrowRight:vw("horiz",1),ArrowUp:vw("vert",-1),ArrowDown:vw("vert",1),"Shift-ArrowLeft":yw("horiz",-1),"Shift-ArrowRight":yw("horiz",1),"Shift-ArrowUp":yw("vert",-1),"Shift-ArrowDown":yw("vert",1),Backspace:gw,"Mod-Backspace":gw,Delete:gw,"Mod-Delete":gw});function Ww(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function vw(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof gi)return Ww(n,r,Mn.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=jse(i,t,e);if(a==null)return!1;if(t=="horiz")return Ww(n,r,Mn.near(n.doc.resolve(s.head+e),e));{const o=n.doc.resolve(a),c=Sse(o,t,e);let u;return c?u=Mn.near(c,1):e<0?u=Mn.near(n.doc.resolve(o.before(-1)),-1):u=Mn.near(n.doc.resolve(o.after(-1)),1),Ww(n,r,u)}}}function yw(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof gi)a=s;else{const c=jse(i,t,e);if(c==null)return!1;a=new gi(n.doc.resolve(c))}const o=Sse(a.$headCell,t,e);return o?Ww(n,r,new gi(a.$anchorCell,o)):!1}}function Pqe(t,e){const n=t.state.doc,r=ly(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new gi(r))),!0):!1}function Mqe(t,e,n){if(!ou(t.state))return!1;let r=Aqe(n);const i=t.state.selection;if(i instanceof gi){r||(r={width:1,height:1,rows:[ct.from(GM(Za(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),o=as.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=jqe(r,o.right-o.left,o.bottom-o.top),GH(t.state,t.dispatch,a,o,r),!0}else if(r){const s=aE(t.state),a=s.start(-1);return GH(t.state,t.dispatch,a,as.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function Rqe(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=YH(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof gi)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=ly(t.state.selection.$anchor))!=null&&((n=DT(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(c,u){let d=DT(t,u);const f=ch.getState(t.state)==null;if(!d||!OD(c,d))if(f)d=c;else return;const m=new gi(c,d);if(f||!t.state.selection.eq(m)){const p=t.state.tr.setSelection(m);f&&p.setMeta(ch,c.pos),t.dispatch(p)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",o),ch.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(ch,-1))}function o(c){const u=c,d=ch.getState(t.state);let f;if(d!=null)f=t.state.doc.resolve(d);else if(YH(t,u.target)!=r&&(f=DT(t,e),!f))return a();f&&s(f,u)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",o)}function jse(t,e,n){if(!(t.state.selection instanceof Nn))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const o=r.before(i),c=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?o:null}}return null}function YH(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function DT(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?ly(t.state.doc.resolve(n.pos)):null}var Iqe=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),YM(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,YM(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function YM(t,e,n,r,i,s){var a;let o=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d){for(let f=0,m=0;f<d.childCount;f++){const{colspan:p,colwidth:b}=d.child(f).attrs;for(let v=0;v<p;v++,m++){const y=i==m?s:b&&b[v],w=y?y+"px":"";if(o+=y||r,y||(c=!1),u)u.style.width!=w&&(u.style.width=w),u=u.nextSibling;else{const _=document.createElement("col");_.style.width=w,e.appendChild(_)}}}for(;u;){const f=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=f}c?(n.style.width=o+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=o+"px")}}var xl=new ds("tableColumnResizing");function Dqe({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Iqe,lastColumnResizable:i=!0}={}){const s=new Ci({key:xl,state:{init(a,o){var c,u;const d=(u=(c=s.spec)==null?void 0:c.props)==null?void 0:u.nodeViews,f=Za(o.schema).table.name;return r&&d&&(d[f]=(m,p)=>new r(m,n,p)),new Lqe(-1,!1)},apply(a,o){return o.apply(a)}},props:{attributes:a=>{const o=xl.getState(a);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,o)=>{Fqe(a,o,t,i)},mouseleave:a=>{Bqe(a)},mousedown:(a,o)=>{$qe(a,o,e,n)}},decorations:a=>{const o=xl.getState(a);if(o&&o.activeHandle>-1)return Vqe(a,o.activeHandle)},nodeViews:{}}});return s}var Lqe=class Kw{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(xl);if(r&&r.setHandle!=null)return new Kw(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Kw(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return KM(e.doc.resolve(i))||(i=-1),new Kw(i,n.dragging)}return n}};function Fqe(t,e,n,r){if(!t.editable)return;const i=xl.getState(t.state);if(i&&!i.dragging){const s=qqe(e.target);let a=-1;if(s){const{left:o,right:c}=s.getBoundingClientRect();e.clientX-o<=n?a=XH(t,e,"left",n):c-e.clientX<=n&&(a=XH(t,e,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const o=t.state.doc.resolve(a),c=o.node(-1),u=as.get(c),d=o.start(-1);if(u.colCount(o.pos-d)+o.nodeAfter.attrs.colspan-1==u.width-1)return}Tse(t,a)}}}function Bqe(t){if(!t.editable)return;const e=xl.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&Tse(t,-1)}function $qe(t,e,n,r){var i;if(!t.editable)return!1;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,a=xl.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const o=t.state.doc.nodeAt(a.activeHandle),c=zqe(t,a.activeHandle,o.attrs);t.dispatch(t.state.tr.setMeta(xl,{setDragging:{startX:e.clientX,startWidth:c}}));function u(f){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",d);const m=xl.getState(t.state);m?.dragging&&(Uqe(t,m.activeHandle,ZH(m.dragging,f,n)),t.dispatch(t.state.tr.setMeta(xl,{setDragging:null})))}function d(f){if(!f.which)return u(f);const m=xl.getState(t.state);if(m&&m.dragging){const p=ZH(m.dragging,f,n);QH(t,m.activeHandle,p,r)}}return QH(t,a.activeHandle,c,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",d),e.preventDefault(),!0}function zqe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let o=s.node.childNodes[s.offset].offsetWidth,c=n;if(r)for(let u=0;u<n;u++)r[u]&&(o-=r[u],c--);return o/c}function qqe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function XH(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:a}=s,o=ly(t.state.doc.resolve(a));if(!o)return-1;if(n=="right")return o.pos;const c=as.get(o.node(-1)),u=o.start(-1),d=c.map.indexOf(o.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function ZH(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Tse(t,e){t.dispatch(t.state.tr.setMeta(xl,{setHandle:e}))}function Uqe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=as.get(i),a=r.start(-1),o=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=t.state.tr;for(let u=0;u<s.height;u++){const d=u*s.width+o;if(u&&s.map[d]==s.map[d-s.width])continue;const f=s.map[d],m=i.nodeAt(f).attrs,p=m.colspan==1?0:o-s.colCount(f);if(m.colwidth&&m.colwidth[p]==n)continue;const b=m.colwidth?m.colwidth.slice():Hqe(m.colspan);b[p]=n,c.setNodeMarkup(a+f,null,{...m,colwidth:b})}c.docChanged&&t.dispatch(c)}function QH(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),a=i.start(-1),o=as.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let c=t.domAtPos(i.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&YM(s,c.firstChild,c,r,o,n)}function Hqe(t){return Array(t).fill(0)}function Vqe(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return ii.empty;const a=as.get(s),o=i.start(-1),c=a.colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<a.height;u++){const d=c+u*a.width;if((c==a.width-1||a.map[d]!=a.map[d+1])&&(u==0||a.map[d]!=a.map[d-a.width])){const f=a.map[d],m=o+f+s.nodeAt(f).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=xl.getState(t))!=null&&n.dragging&&r.push(Gs.node(o+f,o+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),r.push(Gs.widget(m,p))}}return ii.create(t.doc,r)}function Wqe({allowTableNodeSelection:t=!1}={}){return new Ci({key:ch,state:{init(){return null},apply(e,n){const r=e.getMeta(ch);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:sqe,handleDOMEvents:{mousedown:Rqe},createSelectionBetween(e){return ch.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Pqe,handleKeyDown:Oqe,handlePaste:Mqe},appendTransaction(e,n,r){return lqe(r,Cse(r,n),t)}})}var PD=ma.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),i=r?r.split(",").map(s=>parseInt(s,10)):null;if(!i){const s=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(a&&a>-1&&s&&s[a]){const o=s[a].getAttribute("width");return o?[parseInt(o,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",oi(this.options.HTMLAttributes,t),0]}}),MD=ma.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",oi(this.options.HTMLAttributes,t),0]}}),RD=ma.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",oi(this.options.HTMLAttributes,t),0]}});function XM(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function JH(t,e,n,r,i,s){var a;let o=0,c=!0,u=e.firstChild;const d=t.firstChild;if(d!==null)for(let f=0,m=0;f<d.childCount;f+=1){const{colspan:p,colwidth:b}=d.child(f).attrs;for(let v=0;v<p;v+=1,m+=1){const y=i===m?s:b&&b[v],w=y?`${y}px`:"";if(o+=y||r,y||(c=!1),u){if(u.style.width!==w){const[_,E]=XM(r,y);u.style.setProperty(_,E)}u=u.nextSibling}else{const _=document.createElement("col"),[E,A]=XM(r,y);_.style.setProperty(E,A),e.appendChild(_)}}}for(;u;){const f=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=f}c?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}var Kqe=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),JH(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,JH(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function Gqe(t,e,n,r){let i=0,s=!0;const a=[],o=t.firstChild;if(!o)return{};for(let f=0,m=0;f<o.childCount;f+=1){const{colspan:p,colwidth:b}=o.child(f).attrs;for(let v=0;v<p;v+=1,m+=1){const y=n===m?r:b&&b[v];i+=y||e,y||(s=!1);const[w,_]=XM(e,y);a.push(["col",{style:`${w}: ${_}`}])}}const c=s?`${i}px`:"",u=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:u}}function eV(t,e){return t.createAndFill()}function Yqe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function Xqe(t,e,n,r,i){const s=Yqe(t),a=[],o=[];for(let u=0;u<n;u+=1){const d=eV(s.cell);if(d&&o.push(d),r){const f=eV(s.header_cell);f&&a.push(f)}}const c=[];for(let u=0;u<e;u+=1)c.push(s.row.createChecked(null,r&&u===0?a:o));return s.table.createChecked(null,c)}function Zqe(t){return t instanceof gi}var bw=({editor:t})=>{const{selection:e}=t.state;if(!Zqe(e))return!1;let n=0;const r=eie(e.ranges[0].$from,s=>s.type.name==="table");return r?.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Qqe="";function Jqe(t){return(t||"").replace(/\s+/g," ").trim()}function eUe(t,e,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:Qqe;if(!t||!t.content||t.content.length===0)return"";const s=[];t.content.forEach(b=>{const v=[];b.content&&b.content.forEach(y=>{let w="";y.content&&Array.isArray(y.content)&&y.content.length>1?w=y.content.map(k=>e.renderChildren(k)).join(i):w=y.content?e.renderChildren(y.content):"";const _=Jqe(w),E=y.type==="tableHeader";v.push({text:_,isHeader:E})}),s.push(v)});const a=s.reduce((b,v)=>Math.max(b,v.length),0);if(a===0)return"";const o=new Array(a).fill(0);s.forEach(b=>{var v;for(let y=0;y<a;y+=1){const _=(((v=b[y])==null?void 0:v.text)||"").length;_>o[y]&&(o[y]=_),o[y]<3&&(o[y]=3)}});const c=(b,v)=>b+" ".repeat(Math.max(0,v-b.length)),u=s[0],d=u.some(b=>b.isHeader);let f=`
`;const m=new Array(a).fill(0).map((b,v)=>d&&u[v]&&u[v].text||"");return f+=`| ${m.map((b,v)=>c(b,o[v])).join(" | ")} |
`,f+=`| ${o.map(b=>"-".repeat(Math.max(3,b))).join(" | ")} |
`,(d?s.slice(1):s).forEach(b=>{f+=`| ${new Array(a).fill(0).map((v,y)=>c(b[y]&&b[y].text||"",o[y])).join(" | ")} |
`}),f}var tUe=eUe,ID=ma.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Kqe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=Gqe(t,this.options.cellMinWidth);return["table",oi(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(i=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const i=[];r.forEach(s=>{i.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},i))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>tUe(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const a=Xqe(s.schema,t,e,n);if(i){const o=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Nn.near(r.doc.resolve(o)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>dqe(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>fqe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>pqe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>gqe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>vqe(t,e),deleteRow:()=>({state:t,dispatch:e})=>bqe(t,e),deleteTable:()=>({state:t,dispatch:e})=>Cqe(t,e),mergeCells:()=>({state:t,dispatch:e})=>qH(t,e),splitCell:()=>({state:t,dispatch:e})=>UH(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>W0("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>W0("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>_qe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>qH(t,e)?!0:UH(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>Sqe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>VH(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>VH(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&Cse(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=gi.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:bw,"Mod-Backspace":bw,Delete:bw,"Mod-Delete":bw}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Dqe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Wqe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Br(gn(t,"tableRole",e))}}});Jr.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(ID.configure(this.options.table)),this.options.tableCell!==!1&&t.push(PD.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(MD.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(RD.configure(this.options.tableRow)),t}});var nUe=RD,rUe=PD,iUe=MD;function sUe({initialData:t,onSave:e,onCancel:n}){const[r,i]=S.useState(t?.length||3),[s,a]=S.useState(t?.[0]?.length||3),[o,c]=S.useState(t||Array(3).fill(null).map(()=>Array(3).fill("")));S.useEffect(()=>{t&&(c(t),i(t.length),a(t[0]?.length||3))},[t]);const u=(v,y,w)=>{const _=[...o];_[v][y]=w,c(_)},d=()=>{const v=[...o,Array(s).fill("")];c(v),i(r+1)},f=()=>{if(r>1){const v=o.slice(0,-1);c(v),i(r-1)}},m=()=>{const v=o.map(y=>[...y,""]);c(v),a(s+1)},p=()=>{if(s>1){const v=o.map(y=>y.slice(0,-1));c(v),a(s-1)}},b=()=>{e(o)};return l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[l.jsxs("div",{className:"flex gap-1 items-center",children:[l.jsx(Re,{className:"text-sm",children:"Filas:"}),l.jsx(_e,{size:"icon",variant:"outline",onClick:f,disabled:r<=1,className:"h-8 w-8","data-testid":"button-remove-row",children:l.jsx(wL,{className:"h-4 w-4"})}),l.jsx(Ke,{type:"number",value:r,readOnly:!0,className:"w-16 h-8 text-center"}),l.jsx(_e,{size:"icon",variant:"outline",onClick:d,className:"h-8 w-8","data-testid":"button-add-row",children:l.jsx(da,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex gap-1 items-center",children:[l.jsx(Re,{className:"text-sm",children:"Columnas:"}),l.jsx(_e,{size:"icon",variant:"outline",onClick:p,disabled:s<=1,className:"h-8 w-8","data-testid":"button-remove-column",children:l.jsx(wL,{className:"h-4 w-4"})}),l.jsx(Ke,{type:"number",value:s,readOnly:!0,className:"w-16 h-8 text-center"}),l.jsx(_e,{size:"icon",variant:"outline",onClick:m,className:"h-8 w-8","data-testid":"button-add-column",children:l.jsx(da,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"border rounded-md overflow-auto max-h-[400px]","data-testid":"excel-table-grid",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsx("tbody",{children:o.map((v,y)=>l.jsx("tr",{children:v.map((w,_)=>l.jsx("td",{className:"border p-0",children:l.jsx(Ke,{value:w,onChange:E=>u(y,_,E.target.value),className:"border-0 rounded-none focus-visible:ring-0 focus-visible:ring-offset-0","data-testid":`cell-${y}-${_}`,placeholder:y===0?`Columna ${_+1}`:""})},_))},y))})})}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(_e,{variant:"outline",onClick:n,"data-testid":"button-cancel-table",children:"Cancelar"}),l.jsx(_e,{onClick:b,"data-testid":"button-save-table",children:"Insertar Tabla"})]})]})}const aUe=G9e(W9e);function Ose({content:t,onChange:e,manualId:n}){const{toast:r}=li(),[i,s]=S.useState(!1),[a,o]=S.useState(!1),[c,u]=S.useState(!1),[d,f]=S.useState(void 0),[m,p]=S.useState(null),[b,v]=S.useState(null),[y,w]=S.useState(""),[_,E]=S.useState(""),[A,k]=S.useState(!1),[P,R]=S.useState(!1),T=Cie({extensions:[Jie.configure({codeBlock:!1}),ese.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"editor-image"}}),ED.configure({openOnClick:!1}),tse.configure({types:["heading","paragraph"]}),kD,jD,bze.configure({multicolor:!0}),Eze.configure({lowlight:aUe}),ID.configure({resizable:!1,HTMLAttributes:{class:"editor-table"}}),RD,MD,PD],content:t,onUpdate:({editor:z})=>{e(z.getHTML())},editorProps:{handleDrop:(z,K,Z,H)=>{if(!H&&K.dataTransfer&&K.dataTransfer.files&&K.dataTransfer.files[0]){const W=K.dataTransfer.files[0];if(W.type.startsWith("image/"))return K.preventDefault(),M(W),!0}return!1},handlePaste:(z,K)=>{const Z=K.clipboardData?.items;if(Z){const H=Array.from(Z);for(const W of H)if(W.type.startsWith("image/")){K.preventDefault();const Y=W.getAsFile();return Y&&M(Y),!0}}return!1}}});if(!T)return null;S.useEffect(()=>{try{const z=T.getHTML();(!z||z==="<p></p>"||z===`<p></p>
`)&&t&&typeof t=="string"&&T.commands.setContent(t)}catch{}},[T,t,n]);const M=async z=>{if(!n){r({title:"Error",description:"Debes guardar el manual primero",variant:"destructive"});return}const K=new FormData;K.append("image",z);try{const Z=await fetch("/api/manuals/upload-image",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:K});if(!Z.ok)throw new Error("Error al subir imagen");const H=await Z.json();T.chain().focus().setImage({src:H.url}).run(),r({title:"Imagen insertada correctamente"})}catch{r({title:"Error al subir imagen",variant:"destructive"})}},B=async()=>{let z=b;if(!z){const K=document.getElementById("image-file");K?.files&&K.files[0]&&(z=K.files[0],v(z))}if(!z){r({title:"Error",description:"Selecciona una imagen primero",variant:"destructive"});return}await M(z),s(!1),v(null)},O=()=>{y&&(_?T.chain().focus().insertContent(`<a href="${y}">${_}</a>`).run():T.chain().focus().setLink({href:y}).run(),o(!1),w(""),E(""))},F=["#000000","#374151","#6B7280","#9CA3AF","#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899"],q=z=>{const K=document.createElement("div");K.innerHTML=z;const Z=K.querySelector("table");if(!Z)return[];const H=[];return Z.querySelectorAll("tr").forEach(W=>{const Y=[];W.querySelectorAll("th, td").forEach(ge=>{Y.push(ge.textContent||"")}),Y.length>0&&H.push(Y)}),H};return l.jsxs("div",{className:"border rounded-lg",children:[l.jsxs("div",{className:"border-b p-2 flex flex-wrap gap-1 items-center bg-muted/30",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>T.chain().focus().undo().run(),disabled:!T.can().undo(),"data-testid":"button-undo",children:l.jsx(jW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>T.chain().focus().redo().run(),disabled:!T.can().redo(),"data-testid":"button-redo",children:l.jsx(CW,{className:"h-4 w-4"})}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(_e,{variant:T.isActive("bold")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleBold().run(),"data-testid":"button-bold",children:l.jsx(cW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive("italic")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleItalic().run(),"data-testid":"button-italic",children:l.jsx(wW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive("strike")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleStrike().run(),"data-testid":"button-strike",children:l.jsx(AW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive("code")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleCode().run(),"data-testid":"button-code",children:l.jsx(kle,{className:"h-4 w-4"})}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(_e,{variant:T.isActive("heading",{level:1})?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleHeading({level:1}).run(),"data-testid":"button-h1",children:l.jsx(vW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive("heading",{level:2})?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleHeading({level:2}).run(),"data-testid":"button-h2",children:l.jsx(yW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive("heading",{level:3})?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleHeading({level:3}).run(),"data-testid":"button-h3",children:l.jsx(bW,{className:"h-4 w-4"})}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(_e,{variant:T.isActive("bulletList")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleBulletList().run(),"data-testid":"button-bullet-list",children:l.jsx(fR,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive("orderedList")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleOrderedList().run(),"data-testid":"button-ordered-list",children:l.jsx(SW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive("blockquote")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleBlockquote().run(),"data-testid":"button-blockquote",children:l.jsx(EW,{className:"h-4 w-4"})}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(_e,{variant:T.isActive({textAlign:"left"})?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().setTextAlign("left").run(),"data-testid":"button-align-left",children:l.jsx(oW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive({textAlign:"center"})?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().setTextAlign("center").run(),"data-testid":"button-align-center",children:l.jsx(sW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive({textAlign:"right"})?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().setTextAlign("right").run(),"data-testid":"button-align-right",children:l.jsx(lW,{className:"h-4 w-4"})}),l.jsx(_e,{variant:T.isActive({textAlign:"justify"})?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().setTextAlign("justify").run(),"data-testid":"button-align-justify",children:l.jsx(aW,{className:"h-4 w-4"})}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsxs("div",{className:"relative",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>k(!A),"data-testid":"button-text-color",children:l.jsx("div",{className:"h-4 w-4 border-2 border-current",style:{backgroundColor:T.getAttributes("textStyle").color||"#000"}})}),A&&l.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:F.map(z=>l.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:z},onClick:()=>{T.chain().focus().setColor(z).run(),k(!1)}},z))})]}),l.jsxs("div",{className:"relative",children:[l.jsx(_e,{variant:T.isActive("highlight")?"default":"ghost",size:"icon",onClick:()=>R(!P),"data-testid":"button-highlight",children:l.jsx(Ole,{className:"h-4 w-4"})}),P&&l.jsx("div",{className:"absolute top-full mt-1 p-2 bg-background border rounded-lg shadow-lg z-10 grid grid-cols-5 gap-1",children:F.slice(4).map(z=>l.jsx("button",{className:"h-6 w-6 rounded border hover-elevate",style:{backgroundColor:z},onClick:()=>{T.chain().focus().toggleHighlight({color:z}).run(),R(!1)}},z))})]}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(_e,{variant:T.isActive("codeBlock")?"default":"ghost",size:"icon",onClick:()=>T.chain().focus().toggleCodeBlock().run(),"data-testid":"button-code-block",children:l.jsx(pW,{className:"h-4 w-4"})}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>{const K=T.getHTML().match(/<table[\s\S]*?<\/table>/);if(K){const Z=q(K[0]);f(Z),p(K[0])}else f(void 0),p(null);u(!0)},"data-testid":"button-insert-table",title:"Insertar/Editar tabla",children:l.jsx(kW,{className:"h-4 w-4"})}),l.jsx(Wa,{orientation:"vertical",className:"h-6 mx-1"}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>s(!0),"data-testid":"button-insert-image",title:"Insertar imagen",children:l.jsx(dR,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>o(!0),"data-testid":"button-insert-link",title:"Insertar enlace",children:l.jsx(Ile,{className:"h-4 w-4"})})]}),l.jsx("style",{children:`
        .ProseMirror {
          outline: none;
          padding: 1rem;
          min-height: 400px;
        }

        /* Estilos de tabla profesionales tipo Word */
        .ProseMirror .editor-table {
          border-collapse: collapse;
          table-layout: fixed;
          width: 100%;
          margin: 1rem 0;
          overflow: hidden;
        }

        .ProseMirror .editor-table td,
        .ProseMirror .editor-table th {
          min-width: 1em;
          border: 2px solid #000000;
          padding: 0.5rem;
          vertical-align: top;
          box-sizing: border-box;
          position: relative;
          background-color: hsl(var(--background));
        }

        .ProseMirror .editor-table th {
          font-weight: 600;
          text-align: left;
          background-color: hsl(var(--muted));
          border: 2px solid #000000;
        }

        .ProseMirror .editor-table .selectedCell {
          background-color: hsl(var(--accent) / 0.3);
        }

        /* Handle de redimensionamiento de columna */
        .ProseMirror .editor-table .column-resize-handle {
          position: absolute;
          right: -2px;
          top: 0;
          bottom: 0;
          width: 4px;
          background-color: hsl(var(--primary));
          cursor: col-resize;
          z-index: 20;
        }

        /* Estilos de imagen mejorados */
        .ProseMirror .editor-image {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 1rem 0;
          border-radius: 0.375rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .ProseMirror .editor-image:hover {
          box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .ProseMirror .editor-image.ProseMirror-selectednode {
          outline: 2px solid hsl(var(--primary));
          outline-offset: 2px;
        }

        /* Indicador de arrastre */
        .ProseMirror.dragging {
          background-color: hsl(var(--accent) / 0.1);
        }

        /* Estilos de prose mejorados */
        .ProseMirror p {
          margin: 0.5rem 0;
        }

        .ProseMirror h1, .ProseMirror h2, .ProseMirror h3 {
          margin-top: 1.5rem;
          margin-bottom: 0.5rem;
        }

        .ProseMirror ul, .ProseMirror ol {
          padding-left: 1.5rem;
        }

        .ProseMirror blockquote {
          border-left: 3px solid hsl(var(--border));
          padding-left: 1rem;
          margin-left: 0;
          font-style: italic;
        }

        .ProseMirror code {
          background-color: hsl(var(--muted));
          padding: 0.125rem 0.25rem;
          border-radius: 0.25rem;
          font-size: 0.875em;
        }

        .ProseMirror pre {
          background-color: hsl(var(--muted));
          border-radius: 0.5rem;
          padding: 1rem;
          overflow-x: auto;
        }

        .ProseMirror pre code {
          background-color: transparent;
          padding: 0;
        }
      `}),l.jsx(_ie,{editor:T,className:"focus:outline-none"}),l.jsx(ls,{open:i,onOpenChange:s,children:l.jsxs(Wi,{children:[l.jsxs(cs,{children:[l.jsx(us,{children:"Insertar Imagen"}),l.jsx(Ca,{children:"Sube una imagen desde tu ordenador o arrastra y suelta directamente en el editor"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"image-file",children:"Seleccionar imagen"}),l.jsx(Ke,{id:"image-file",type:"file",accept:"image/*",onChange:z=>v(z.target.files?.[0]||null),"data-testid":"input-image-file"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:" Tambin puedes arrastrar imgenes directamente al editor o pegarlas con Ctrl+V"})]}),l.jsxs(Fo,{children:[l.jsx(_e,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),l.jsx(_e,{onClick:B,"data-testid":"button-upload-image",children:"Insertar"})]})]})}),l.jsx(ls,{open:a,onOpenChange:o,children:l.jsxs(Wi,{children:[l.jsxs(cs,{children:[l.jsx(us,{children:"Insertar Enlace"}),l.jsx(Ca,{children:"Aade un enlace al documento"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"link-url",children:"URL"}),l.jsx(Ke,{id:"link-url",type:"url",placeholder:"https://example.com",value:y,onChange:z=>w(z.target.value),"data-testid":"input-link-url"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"link-text",children:"Texto (opcional)"}),l.jsx(Ke,{id:"link-text",type:"text",placeholder:"Texto del enlace",value:_,onChange:z=>E(z.target.value),"data-testid":"input-link-text"})]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),l.jsx(_e,{onClick:O,"data-testid":"button-insert-link-confirm",children:"Insertar"})]})]})}),l.jsx(ls,{open:c,onOpenChange:u,children:l.jsxs(Wi,{className:"max-w-4xl",children:[l.jsxs(cs,{children:[l.jsx(us,{children:m?"Editar Tabla":"Insertar Tabla"}),l.jsxs(Ca,{children:[m?"Modifica la tabla existente.":"Crea una nueva tabla."," La primera fila ser el encabezado con fondo gris."]})]}),l.jsx(sUe,{initialData:d,onSave:z=>{if(z.length!==0){if(m){const K=oUe(z),H=T.getHTML().replace(m,K);T.commands.setContent(H)}else{const K=z.length,Z=z[0]?.length||2;T.chain().focus().insertTable({rows:K,cols:Z,withHeaderRow:!0}).run(),z.forEach((H,W)=>{H.forEach((Y,ge)=>{T.commands.goToNextCell(),Y&&T.commands.insertContent(Y)})})}u(!1),f(void 0),p(null)}},onCancel:()=>{u(!1),f(void 0),p(null)}})]})})]})}function oUe(t){if(t.length===0)return"";let e='<table class="editor-table">';return t.forEach((n,r)=>{e+="<tr>",n.forEach(i=>{r===0?e+=`<th>${i||""}</th>`:e+=`<td>${i||""}</td>`}),e+="</tr>"}),e+="</table>",e}const lUe=[{id:"procedimiento-basico",nombre:"Procedimiento Bsico",descripcion:"Plantilla para documentar un procedimiento paso a paso",categoria:"General",etiquetas:["procedimiento"],contenidoHtml:`
      <h1>Ttulo del Procedimiento</h1>
      <p><strong>Objetivo:</strong> Describir el objetivo del procedimiento</p>
      <p><strong>Alcance:</strong> Definir el alcance y limitaciones</p>
      
      <h2>Requisitos Previos</h2>
      <ul>
        <li>Requisito 1</li>
        <li>Requisito 2</li>
        <li>Requisito 3</li>
      </ul>

      <h2>Procedimiento</h2>
      <ol>
        <li><strong>Paso 1:</strong> Descripcin detallada del primer paso</li>
        <li><strong>Paso 2:</strong> Descripcin detallada del segundo paso</li>
        <li><strong>Paso 3:</strong> Descripcin detallada del tercer paso</li>
      </ol>

      <h2>Resultados Esperados</h2>
      <p>Describir los resultados que se deben obtener al completar el procedimiento</p>

      <h2>Solucin de Problemas</h2>
      <table>
        <thead>
          <tr>
            <th>Problema</th>
            <th>Causa</th>
            <th>Solucin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Problema 1</td>
            <td>Causa probable</td>
            <td>Solucin recomendada</td>
          </tr>
        </tbody>
      </table>
    `},{id:"modelo-fiscal",nombre:"Gua Modelo Fiscal",descripcion:"Plantilla para documentar la presentacin de modelos fiscales",categoria:"Fiscal",etiquetas:["fiscal","impuestos"],contenidoHtml:`
      <h1>Modelo [Nmero] - [Nombre del Modelo]</h1>
      
      <h2>Informacin General</h2>
      <p><strong>Descripcin:</strong> Breve descripcin del modelo fiscal</p>
      <p><strong>Periodicidad:</strong> Trimestral / Mensual / Anual</p>
      <p><strong>Plazo de presentacin:</strong> Especificar fechas lmite</p>

      <h2>Quin debe presentarlo?</h2>
      <ul>
        <li>Tipo de contribuyente 1</li>
        <li>Tipo de contribuyente 2</li>
      </ul>

      <h2>Documentacin Necesaria</h2>
      <ol>
        <li>Documento 1</li>
        <li>Documento 2</li>
        <li>Documento 3</li>
      </ol>

      <h2>Procedimiento de Clculo</h2>
      <h3>Paso 1: Clculo de Base Imponible</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 2: Aplicacin de Tipos</h3>
      <p>Explicacin detallada</p>

      <h3>Paso 3: Deducciones</h3>
      <p>Explicacin detallada</p>

      <h2>Presentacin Telemtica</h2>
      <ol>
        <li>Acceder a la sede electrnica</li>
        <li>Seleccionar el modelo correspondiente</li>
        <li>Completar los datos requeridos</li>
        <li>Revisar y confirmar</li>
      </ol>

      <h2>Notas Importantes</h2>
      <blockquote>
        <p> Consideraciones especiales y advertencias</p>
      </blockquote>
    `},{id:"normativa-laboral",nombre:"Normativa Laboral",descripcion:"Plantilla para documentar normativa y procedimientos laborales",categoria:"Laboral",etiquetas:["laboral","normativa"],contenidoHtml:`
      <h1>Normativa Laboral - [Ttulo]</h1>
      
      <h2>Marco Legal</h2>
      <p><strong>Normativa aplicable:</strong></p>
      <ul>
        <li>Ley / Real Decreto 1</li>
        <li>Ley / Real Decreto 2</li>
      </ul>

      <h2>mbito de Aplicacin</h2>
      <p>Definir a quin aplica esta normativa</p>

      <h2>Obligaciones del Empresario</h2>
      <ol>
        <li>Obligacin 1: Descripcin</li>
        <li>Obligacin 2: Descripcin</li>
        <li>Obligacin 3: Descripcin</li>
      </ol>

      <h2>Derechos del Trabajador</h2>
      <ol>
        <li>Derecho 1: Descripcin</li>
        <li>Derecho 2: Descripcin</li>
        <li>Derecho 3: Descripcin</li>
      </ol>

      <h2>Procedimiento</h2>
      <h3>Paso 1: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h3>Paso 2: [Nombre del paso]</h3>
      <p>Descripcin detallada</p>

      <h2>Sanciones</h2>
      <table>
        <thead>
          <tr>
            <th>Infraccin</th>
            <th>Tipo</th>
            <th>Sancin</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Infraccin leve</td>
            <td>Leve</td>
            <td>Multa de X a Y </td>
          </tr>
          <tr>
            <td>Infraccin grave</td>
            <td>Grave</td>
            <td>Multa de X a Y </td>
          </tr>
        </tbody>
      </table>
    `},{id:"guia-rapida",nombre:"Gua Rpida",descripcion:"Plantilla para crear guas rpidas de referencia",categoria:"General",etiquetas:["gua","referencia"],contenidoHtml:`
      <h1>Gua Rpida - [Ttulo]</h1>
      
      <h2>Resumen</h2>
      <p>Breve descripcin de lo que cubre esta gua</p>

      <h2>Acciones Frecuentes</h2>
      <h3>Accin 1: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h3>Accin 2: [Nombre]</h3>
      <ol>
        <li>Paso 1</li>
        <li>Paso 2</li>
        <li>Paso 3</li>
      </ol>

      <h2>Shortcuts / Atajos</h2>
      <table>
        <thead>
          <tr>
            <th>Accin</th>
            <th>Mtodo Rpido</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Accin 1</td>
            <td>Descripcin del atajo</td>
          </tr>
          <tr>
            <td>Accin 2</td>
            <td>Descripcin del atajo</td>
          </tr>
        </tbody>
      </table>

      <h2>Preguntas Frecuentes</h2>
      <h3>Pregunta 1?</h3>
      <p>Respuesta 1</p>

      <h3>Pregunta 2?</h3>
      <p>Respuesta 2</p>

      <h2>Enlaces tiles</h2>
      <ul>
        <li><a href="#">Recurso 1</a></li>
        <li><a href="#">Recurso 2</a></li>
      </ul>
    `},{id:"politica-empresa",nombre:"Poltica de Empresa",descripcion:"Plantilla para documentar polticas internas",categoria:"Organizacin",etiquetas:["poltica","normativa"],contenidoHtml:`
      <h1>Poltica de [Ttulo]</h1>
      
      <h2>Propsito</h2>
      <p>Descripcin del propsito de esta poltica</p>

      <h2>Alcance</h2>
      <p>Define a quin aplica esta poltica</p>

      <h2>Definiciones</h2>
      <ul>
        <li><strong>Trmino 1:</strong> Definicin</li>
        <li><strong>Trmino 2:</strong> Definicin</li>
      </ul>

      <h2>Poltica</h2>
      <h3>Principios Generales</h3>
      <ol>
        <li>Principio 1</li>
        <li>Principio 2</li>
        <li>Principio 3</li>
      </ol>

      <h3>Normas Especficas</h3>
      <ol>
        <li>Norma 1: Descripcin detallada</li>
        <li>Norma 2: Descripcin detallada</li>
      </ol>

      <h2>Responsabilidades</h2>
      <table>
        <thead>
          <tr>
            <th>Rol</th>
            <th>Responsabilidad</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Direccin</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
          <tr>
            <td>Empleados</td>
            <td>Descripcin de responsabilidades</td>
          </tr>
        </tbody>
      </table>

      <h2>Incumplimiento</h2>
      <p>Consecuencias del incumplimiento de esta poltica</p>

      <h2>Revisin</h2>
      <p>Esta poltica ser revisada [periodicidad]</p>
    `}];function tV(){const t=tR(),[e,n]=Ko(),{toast:r}=li(),i=e==="/manuales/nuevo"||t.id==="nuevo",[s,a]=S.useState({titulo:"",categoria:"",etiquetas:[],publicado:!1,contenidoHtml:""}),[o,c]=S.useState(""),[u,d]=S.useState(null),[f,m]=S.useState(!1),{data:p}=Sn({queryKey:["/api/manuals",t.id],enabled:!i}),{data:b=[]}=Sn({queryKey:["/api/manuals",t.id,"attachments"],enabled:!i}),{data:v=[]}=Sn({queryKey:["/api/manuals",t.id,"versions"],enabled:!i});S.useEffect(()=>{p&&!i&&a({titulo:p.titulo,categoria:p.categoria||"",etiquetas:p.etiquetas||[],publicado:p.publicado,contenidoHtml:p.contenidoHtml})},[p,i]);const y=hn({mutationFn:async B=>i?await tn("POST","/api/manuals",B):await tn("PATCH",`/api/manuals/${t.id}`,B),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/manuals"]}),r({title:i?"Manual creado exitosamente":"Manual actualizado exitosamente"}),n("/manuales")}}),w=hn({mutationFn:async B=>{const O=new FormData;O.append("file",B);const F=await fetch(`/api/manuals/${t.id}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:O});if(!F.ok)throw new Error("Error al subir adjunto");return F.json()},onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto subido correctamente"}),d(null)}}),_=hn({mutationFn:async B=>{await tn("DELETE",`/api/manuals/${t.id}/attachments/${B}`)},onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/manuals",t.id,"attachments"]}),r({title:"Adjunto eliminado"})}}),E=hn({mutationFn:async B=>await tn("POST",`/api/manuals/${t.id}/versions/restore/${B}`),onSuccess:B=>{rn.invalidateQueries({queryKey:["/api/manuals"]}),a({titulo:B.titulo,categoria:B.categoria||"",etiquetas:B.etiquetas||[],publicado:B.publicado,contenidoHtml:B.contenidoHtml}),r({title:"Versin restaurada correctamente"})}}),A=(B=!1)=>{if(!s.titulo){r({title:"Error",description:"El ttulo es requerido",variant:"destructive"});return}y.mutate({...s,createVersion:B})},k=()=>{o&&!s.etiquetas.includes(o)&&(a({...s,etiquetas:[...s.etiquetas,o]}),c(""))},P=B=>{a({...s,etiquetas:s.etiquetas.filter(O=>O!==B)})},R=()=>{u&&w.mutate(u)},T=B=>B<1024?B+" B":B<1024*1024?(B/1024).toFixed(1)+" KB":(B/(1024*1024)).toFixed(1)+" MB",M=B=>{a({...s,titulo:s.titulo||B.nombre,categoria:B.categoria,etiquetas:Array.from(new Set([...s.etiquetas,...B.etiquetas])),contenidoHtml:B.contenidoHtml}),m(!1),r({title:"Plantilla aplicada correctamente"})};return l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>n("/manuales"),"data-testid":"button-back",children:l.jsx(bN,{className:"h-4 w-4"})}),l.jsx("div",{className:"flex-1",children:l.jsx("h1",{className:"text-3xl font-display font-bold",children:i?"Nuevo Manual":"Editar Manual"})}),i&&l.jsxs(ls,{open:f,onOpenChange:m,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{variant:"outline","data-testid":"button-use-template",children:[l.jsx(pW,{className:"h-4 w-4 mr-2"}),"Usar Plantilla"]})}),l.jsxs(Wi,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(cs,{children:[l.jsx(us,{children:"Seleccionar Plantilla"}),l.jsx(Ca,{children:"Elige una plantilla predefinida para comenzar tu manual"})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:lUe.map(B=>l.jsx(dt,{className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>M(B),"data-testid":`template-${B.id}`,children:l.jsxs(ft,{className:"p-4",children:[l.jsx("h3",{className:"font-semibold mb-2",children:B.nombre}),l.jsx(lf,{className:"text-sm mb-3",children:B.descripcion}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(bt,{variant:"outline",children:B.categoria}),B.etiquetas.slice(0,2).map(O=>l.jsx(bt,{variant:"secondary",children:O},O))]})]})},B.id))})]})]}),l.jsx(_e,{variant:"outline",onClick:()=>A(!0),disabled:i,"data-testid":"button-save-version",children:"Guardar Versin"}),l.jsxs(_e,{onClick:()=>A(!1),"data-testid":"button-save",children:[l.jsx(J0,{className:"h-4 w-4 mr-2"}),"Guardar"]})]}),l.jsxs(Al,{defaultValue:"editor",className:"space-y-4",children:[l.jsxs(Xo,{children:[l.jsxs(Pn,{value:"editor","data-testid":"tab-editor",children:[l.jsx(Di,{className:"h-4 w-4 mr-2"}),"Editor"]}),!i&&l.jsxs(l.Fragment,{children:[l.jsxs(Pn,{value:"attachments","data-testid":"tab-attachments",children:[l.jsx(tv,{className:"h-4 w-4 mr-2"}),"Adjuntos (",b.length,")"]}),l.jsxs(Pn,{value:"versions","data-testid":"tab-versions",children:[l.jsx(Fb,{className:"h-4 w-4 mr-2"}),"Versiones (",v.length,")"]})]})]}),l.jsx(cr,{value:"editor",className:"space-y-6",children:l.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[l.jsx(dt,{className:"md:col-span-2",children:l.jsxs(ft,{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"titulo",children:"Ttulo *"}),l.jsx(Ke,{id:"titulo",value:s.titulo,onChange:B=>a({...s,titulo:B.target.value}),placeholder:"Ttulo del manual...","data-testid":"input-titulo"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Editor de Contenido"}),l.jsx(Ose,{content:s.contenidoHtml,onChange:B=>a({...s,contenidoHtml:B}),manualId:t.id})]})]})}),l.jsx(dt,{children:l.jsxs(ft,{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"categoria",children:"Categora"}),l.jsx(Ke,{id:"categoria",value:s.categoria,onChange:B=>a({...s,categoria:B.target.value}),placeholder:"ej: Fiscal, Laboral","data-testid":"input-categoria"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"etiquetas",children:"Etiquetas"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ke,{id:"etiquetas",value:o,onChange:B=>c(B.target.value),onKeyPress:B=>B.key==="Enter"&&(B.preventDefault(),k()),placeholder:"Aadir etiqueta","data-testid":"input-tag"}),l.jsx(_e,{type:"button",onClick:k,"data-testid":"button-add-tag",children:"+"})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.etiquetas.map(B=>l.jsxs(bt,{variant:"secondary",className:"cursor-pointer hover-elevate",onClick:()=>P(B),"data-testid":`badge-tag-${B}`,children:[B," "]},B))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Re,{htmlFor:"publicado",children:"Publicado"}),l.jsx(Qc,{id:"publicado",checked:s.publicado,onCheckedChange:B=>a({...s,publicado:B}),"data-testid":"switch-publicado"})]})]})})]})}),l.jsx(cr,{value:"attachments",className:"space-y-4",children:l.jsx(dt,{children:l.jsxs(ft,{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-end gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Re,{htmlFor:"attachment-file",children:"Subir Adjunto"}),l.jsx(Ke,{id:"attachment-file",type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.txt",onChange:B=>d(B.target.files?.[0]||null),"data-testid":"input-attachment-file"})]}),l.jsxs(_e,{onClick:R,disabled:!u||w.isPending,"data-testid":"button-upload-attachment",children:[l.jsx(gR,{className:"h-4 w-4 mr-2"}),"Subir"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Re,{children:["Adjuntos (",b.length,")"]}),l.jsxs("div",{className:"space-y-2",children:[b.map(B=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover-elevate","data-testid":`attachment-${B.id}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tv,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:B.originalName}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[T(B.fileSize),"  ",new Date(B.uploadedAt).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>window.open(B.filePath,"_blank"),"data-testid":`button-download-${B.id}`,children:l.jsx(Yc,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>_.mutate(B.id),"data-testid":`button-delete-${B.id}`,children:l.jsx(ka,{className:"h-4 w-4 text-destructive"})})]})]},B.id)),b.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No hay adjuntos todava"})]})]})]})})}),l.jsx(cr,{value:"versions",className:"space-y-4",children:l.jsx(dt,{children:l.jsxs(ft,{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsxs(Re,{children:["Historial de Versiones (",v.length,")"]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Restaura una versin anterior del manual"})]}),l.jsxs("div",{className:"space-y-2",children:[v.map((B,O)=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate","data-testid":`version-${B.id}`,children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium",children:["Versin ",B.versionNumber," - ",B.titulo]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(B.createdAt).toLocaleString()})]}),l.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>E.mutate(B.id),disabled:O===0,"data-testid":`button-restore-${B.id}`,children:[l.jsx(Fb,{className:"h-4 w-4 mr-2"}),O===0?"Versin Actual":"Restaurar"]})]},B.id)),v.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No hay versiones guardadas. Usa "Guardar Versin" para crear una.'})]})]})})})]})]})}function cUe(){const[t,e]=S.useState([]),{socket:n}=RK();S.useEffect(()=>{if(!n)return;const s=a=>{e(o=>[...o,a])};return n.on("system:log",s),()=>{n.off("system:log",s)}},[n]);const r=s=>{switch(s){case"success":return l.jsx(nc,{className:"h-4 w-4 text-green-500"});case"error":return l.jsx(Gc,{className:"h-4 w-4 text-red-500"});case"warning":return l.jsx(JT,{className:"h-4 w-4 text-yellow-500"});default:return l.jsx(bL,{className:"h-4 w-4 text-blue-500"})}},i=s=>{switch(s){case"success":return"default";case"error":return"destructive";case"warning":return"secondary";default:return"outline"}};return t.length===0?null:l.jsxs(dt,{className:"mt-4",children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2",children:[l.jsx(bL,{className:"h-5 w-5"}),"Logs del Sistema"]})}),l.jsx(ft,{children:l.jsx(q_,{className:"h-[300px] w-full rounded-md border p-4",children:l.jsx("div",{className:"space-y-2",children:t.map((s,a)=>l.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-md hover-elevate","data-testid":`log-item-${a}`,children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:r(s.level)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(bt,{variant:i(s.level),className:"text-xs",children:s.type.toUpperCase()}),l.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.timestamp).toLocaleTimeString("es-ES")})]}),l.jsx("p",{className:"text-sm","data-testid":`log-message-${a}`,children:s.message}),s.details&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`log-details-${a}`,children:s.details}),s.progress!==void 0&&l.jsx("div",{className:"mt-2 w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${s.progress}%`},"data-testid":`log-progress-${a}`})})]})]},a))})})})]})}function nV(){const{toast:t}=li(),[e]=Ko(),[n,r]=S.useState(!1),[i,s]=S.useState(null),[a,o]=S.useState({username:"",email:"",password:"",roleId:""}),[c,u]=S.useState(!1),[d,f]=S.useState(null),[m,p]=S.useState({name:"",description:""}),[b,v]=S.useState([]),[y,w]=S.useState(!1),[_,E]=S.useState(null),[A,k]=S.useState({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),[P,R]=S.useState(!1),{data:T,isLoading:M}=Sn({queryKey:["/api/users"]}),{data:B,isLoading:O}=Sn({queryKey:["/api/activity-logs"]}),{data:F}=Sn({queryKey:["/api/admin/system-settings"]}),{data:q,isLoading:z}=Sn({queryKey:["/api/roles"]}),{data:K}=Sn({queryKey:["/api/permissions"]}),{data:Z,isLoading:H}=Sn({queryKey:["/api/admin/smtp-accounts"]}),{data:W}=Sn({queryKey:["/api/system/config"]}),[Y,ge]=S.useState({backup_db_pattern:"",backup_files_pattern:""});S.useEffect(()=>{if(W){const le=W.find(ot=>ot.key==="backup_db_pattern"),Le=W.find(ot=>ot.key==="backup_files_pattern");ge({backup_db_pattern:le?.value||"",backup_files_pattern:Le?.value||""})}},[W]);const[Q,I]=S.useState(!1),[G,ne]=S.useState(null),{data:ie}=Sn({queryKey:["/api/system/version"]}),{data:he,isLoading:J}=Sn({queryKey:["/api/system/backups"]}),ue=hn({mutationFn:async le=>await tn("POST","/api/users",le),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario creado exitosamente"}),r(!1),At()}}),ae=hn({mutationFn:async({id:le,data:Le})=>await tn("PATCH",`/api/users/${le}`,Le),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario actualizado exitosamente"}),r(!1),At()}}),X=hn({mutationFn:async le=>await tn("DELETE",`/api/users/${le}`,{}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Usuario eliminado exitosamente"})},onError:le=>{t({title:"Error al eliminar usuario",description:le.message,variant:"destructive"})}}),pe=hn({mutationFn:async le=>await tn("PATCH",`/api/users/${le}/toggle-active`,{}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/users"]}),t({title:"Estado del usuario actualizado"})},onError:le=>{t({title:"Error al cambiar estado",description:le.message,variant:"destructive"})}}),xe=hn({mutationFn:async le=>await tn("PATCH","/api/admin/system-settings",{registrationEnabled:le}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/admin/system-settings"]}),t({title:"Configuracin actualizada exitosamente"})},onError:le=>{t({title:"Error al actualizar configuracin",description:le.message,variant:"destructive"})}}),De=hn({mutationFn:async le=>{const Le=await tn("POST","/api/roles",le);return b.length>0&&await tn("POST",`/api/roles/${Le.id}/permissions`,{permissionIds:b}),Le},onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol creado exitosamente"}),u(!1),An()}}),Ee=hn({mutationFn:async({id:le,data:Le})=>{const ot=await tn("PATCH",`/api/roles/${le}`,Le);return await tn("POST",`/api/roles/${le}/permissions`,{permissionIds:b}),ot},onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol actualizado exitosamente"}),u(!1),An()}}),de=hn({mutationFn:async le=>await tn("DELETE",`/api/roles/${le}`,{}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/roles"]}),t({title:"Rol eliminado exitosamente"})},onError:le=>{t({title:"Error al eliminar rol",description:le.message,variant:"destructive"})}}),Ge=hn({mutationFn:async le=>await tn("POST","/api/admin/smtp-accounts",le),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP creada exitosamente"}),w(!1),_n()}}),Nt=hn({mutationFn:async({id:le,data:Le})=>await tn("PATCH",`/api/admin/smtp-accounts/${le}`,Le),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP actualizada exitosamente"}),w(!1),_n()}}),it=hn({mutationFn:async le=>await tn("DELETE",`/api/admin/smtp-accounts/${le}`,{}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/admin/smtp-accounts"]}),t({title:"Cuenta SMTP eliminada exitosamente"})}}),Ye=hn({mutationFn:async le=>await tn("POST","/api/admin/smtp-accounts/test",le),onSuccess:()=>{t({title:"Conexin SMTP exitosa",description:"La configuracin es vlida"})},onError:le=>{t({title:"Error de conexin SMTP",description:le.message,variant:"destructive"})}}),me=hn({mutationFn:async({key:le,value:Le})=>await tn("PUT",`/api/system/config/${le}`,{value:Le}),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/system/config"]}),t({title:"Patrn de backup actualizado exitosamente"})},onError:le=>{t({title:"Error al actualizar patrn",description:le.message,variant:"destructive"})}}),[Se,Te]=S.useState({repoUrl:"",branch:"main"}),{data:Ue}=Sn({queryKey:["/api/admin/github-config"]});S.useEffect(()=>{Ue&&Te({repoUrl:Ue.repoUrl||"",branch:Ue.branch||"main"})},[Ue]);const He=hn({mutationFn:async le=>await tn("PUT","/api/admin/github-config",le),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/admin/github-config"]}),rn.invalidateQueries({queryKey:["/api/system/version"]}),t({title:"Configuracin de GitHub guardada exitosamente"})},onError:le=>{t({title:"Error al guardar configuracin",description:le.message,variant:"destructive"})}}),qe=hn({mutationFn:async()=>(I(!0),await tn("GET","/api/system/version")),onSuccess:le=>{I(!1),rn.invalidateQueries({queryKey:["/api/system/version"]}),le.updateAvailable?(ne({version:le.latestVersion,changelog:le.changelog}),t({title:"Actualizacin disponible",description:`Versin ${le.latestVersion} disponible`})):t({title:"Sistema actualizado",description:"Ya tienes la ltima versin instalada"})},onError:le=>{I(!1),t({title:"Error al comprobar actualizaciones",description:le.message,variant:"destructive"})}}),Qe=hn({mutationFn:async()=>await tn("POST","/api/system/update",{}),onSuccess:()=>{t({title:"Actualizacin iniciada",description:"El sistema se actualizar y reiniciar automticamente"}),ne(null),rn.invalidateQueries({queryKey:["/api/system/version"]})},onError:le=>{t({title:"Error al actualizar",description:le.message,variant:"destructive"})}}),xt=hn({mutationFn:async le=>await tn("POST",`/api/system/restore/${le}`,{}),onSuccess:()=>{t({title:"Restauracin iniciada",description:"El sistema se restaurar y reiniciar automticamente"}),rn.invalidateQueries({queryKey:["/api/system/backups"]})},onError:le=>{t({title:"Error al restaurar",description:le.message,variant:"destructive"})}}),gt=le=>{if(!le)return"";const Le=new Date;function ot($r){const ci=new Date($r.getTime());ci.setHours(0,0,0,0),ci.setDate(ci.getDate()+4-(ci.getDay()||7));const Li=new Date(ci.getFullYear(),0,1);return Math.ceil(((ci.getTime()-Li.getTime())/864e5+1)/7)}function Rt($r){const Li=new Date($r.getFullYear(),$r.getMonth(),1).getDay(),Ai=1+(Li===0?1:Li===1?0:8-Li),Ds=$r.getDate();return Ds<Ai?0:Math.floor((Ds-Ai)/7)+1}const qn=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],mn=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],dr={"{fecha}":Le.toISOString().split("T")[0].replace(/-/g,""),"{hora}":Le.toTimeString().split(" ")[0].replace(/:/g,""),"{version}":"1.0.0","{timestamp}":Date.now().toString(),"{YEAR_4}":Le.getFullYear().toString(),"{YEAR_2}":Le.getFullYear().toString().slice(-2),"{MONTH_NUMBER}":(Le.getMonth()+1).toString().padStart(2,"0"),"{MONTH_NAME}":qn[Le.getMonth()],"{MONTH_DAY_NUMBER}":Le.getDate().toString().padStart(2,"0"),"{WEEK_DAY_NUMBER}":(Le.getDay()||7).toString(),"{WEEK_DAY_NAME}":mn[Le.getDay()],"{HOURS}":Le.getHours().toString().padStart(2,"0"),"{MINUTES}":Le.getMinutes().toString().padStart(2,"0"),"{SECONDS}":Le.getSeconds().toString().padStart(2,"0"),"{WEEK_NUMBER}":ot(Le).toString(),"{WEEK_NUMBER_IN_THE_MONTH}":Rt(Le).toString()};let nr=le;return Object.entries(dr).forEach(([$r,ci])=>{nr=nr.replaceAll($r,ci)}),nr},At=()=>{o({username:"",email:"",password:"",roleId:q?.[0]?.id||""}),s(null)},Wt=le=>{s(le),o({username:le.username,email:le.email,password:"",roleId:le.roleId||""}),r(!0)},_t=le=>{if(le.preventDefault(),i){const Le={username:a.username,email:a.email,roleId:a.roleId};a.password&&(Le.password=a.password),ae.mutate({id:i.id,data:Le})}else ue.mutate(a)},An=()=>{p({name:"",description:""}),v([]),f(null)},_n=()=>{k({nombre:"",host:"",port:"587",user:"",password:"",isPredeterminada:!1,activa:!0}),E(null)},Ft=le=>{E(le),k({nombre:le.nombre,host:le.host,port:le.port.toString(),user:le.user,password:"",isPredeterminada:le.isPredeterminada,activa:le.activa}),w(!0)},vn=le=>{if(le.preventDefault(),_){const Le={...A};Le.password||delete Le.password,Nt.mutate({id:_.id,data:Le})}else Ge.mutate(A)},Jn=()=>{R(!0),Ye.mutate({host:A.host,port:A.port,user:A.user,password:A.password},{onSettled:()=>R(!1)})},sn=le=>{f(le),p({name:le.name,description:le.description||""});const Le=le.permissions?.map(ot=>ot.permission.id)||[];v(Le),u(!0)},kn=le=>{le.preventDefault(),d?Ee.mutate({id:d.id,data:m}):De.mutate(m)},xn=le=>{v(Le=>Le.includes(le)?Le.filter(ot=>ot!==le):[...Le,le])},_r=le=>{if(!le)return l.jsx(bt,{variant:"outline",children:"Sin rol"});const Le=q?.find(Rt=>Rt.id===le);if(!Le)return l.jsx(bt,{variant:"outline",children:"Sin rol"});const ot=Le.isSystem?"text-primary bg-primary/10":"text-chart-2 bg-chart-2/10";return l.jsx(bt,{variant:"outline",className:ot,children:Le.name})},Er=le=>{const Le={clientes:"text-chart-1 bg-chart-1/10",impuestos:"text-chart-2 bg-chart-2/10",tareas:"text-chart-3 bg-chart-3/10",manuales:"text-chart-4 bg-chart-4/10",usuarios:"text-chart-5 bg-chart-5/10"};return l.jsx(bt,{variant:"outline",className:Le[le]||"text-muted-foreground bg-muted",children:le})},pn=le=>le?le.startsWith("/admin/sessions")?"sessions":le.startsWith("/admin/smtp-accounts")?"smtp-accounts":le.startsWith("/admin/storage-config")?"storage":"users":"users",[zt,we]=S.useState(()=>pn(e));S.useEffect(()=>{we(pn(e))},[e]);const[We,lt]=S.useState(!1),{data:Tt,isLoading:Tn}=Sn({queryKey:["/api/admin/sessions",We?"all":"active"],queryFn:async()=>{const Le=await fetch(We?"/api/admin/sessions/all":"/api/admin/sessions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Le.ok)throw new Error("Error al cargar sesiones");return Le.json()},enabled:zt==="sessions",refetchInterval:5e3});return M||O?l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsx(Vn,{className:"h-9 w-48"}),l.jsx("div",{className:"space-y-4",children:[...Array(5)].map((le,Le)=>l.jsx(Vn,{className:"h-16"},Le))})]}):l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Administracin"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestin de usuarios y configuracin del sistema"})]}),l.jsxs(Al,{value:zt,onValueChange:le=>we(le),className:"space-y-6",children:[l.jsxs(Xo,{className:"h-auto grid grid-cols-2 md:grid-cols-4 gap-1 p-1",children:[l.jsxs(Pn,{value:"users","data-testid":"tab-users",children:[l.jsx(pb,{className:"h-4 w-4 mr-2"}),"Usuarios"]}),l.jsxs(Pn,{value:"roles","data-testid":"tab-roles",children:[l.jsx(Op,{className:"h-4 w-4 mr-2"}),"Roles y Permisos"]}),l.jsxs(Pn,{value:"logs","data-testid":"tab-logs",children:[l.jsx(rC,{className:"h-4 w-4 mr-2"}),"Logs de Actividad"]}),l.jsxs(Pn,{value:"settings","data-testid":"tab-settings",children:[l.jsx(wN,{className:"h-4 w-4 mr-2"}),"Configuracin"]}),l.jsxs(Pn,{value:"smtp-accounts","data-testid":"tab-smtp-accounts",children:[l.jsx(Qw,{className:"h-4 w-4 mr-2"}),"Cuentas SMTP"]}),l.jsx(Pn,{value:"sessions","data-testid":"tab-sessions",children:l.jsxs(wl,{href:"/admin/sessions",className:"flex items-center",children:[l.jsx(pb,{className:"h-4 w-4 mr-2"}),"Usuarios conectados"]})}),l.jsxs(Pn,{value:"system-updates","data-testid":"tab-system-updates",children:[l.jsx(Jw,{className:"h-4 w-4 mr-2"}),"Actualizaciones"]}),l.jsxs(Pn,{value:"storage","data-testid":"tab-storage",children:[l.jsx(XT,{className:"h-4 w-4 mr-2"}),"Almacenamiento"]})]}),l.jsxs(cr,{value:"users",className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Usuarios"}),l.jsxs(ls,{open:n,onOpenChange:r,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{onClick:At,"data-testid":"button-add-user",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),l.jsxs(Wi,{children:[l.jsxs(cs,{children:[l.jsx(us,{children:i?"Editar Usuario":"Nuevo Usuario"}),l.jsx(Ca,{children:i?"Actualiza los datos del usuario":"Crea un nuevo usuario del sistema"})]}),l.jsxs("form",{onSubmit:_t,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"username",children:"Usuario *"}),l.jsx(Ke,{id:"username",value:a.username,onChange:le=>o({...a,username:le.target.value}),required:!0,"data-testid":"input-username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"email",children:"Email *"}),l.jsx(Ke,{id:"email",type:"email",value:a.email,onChange:le=>o({...a,email:le.target.value}),required:!0,"data-testid":"input-email"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"password",children:i?"Nueva Contrasea (dejar en blanco para no cambiar)":"Contrasea *"}),l.jsx(Ke,{id:"password",type:"password",value:a.password,onChange:le=>o({...a,password:le.target.value}),required:!i,"data-testid":"input-password"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"role",children:"Rol *"}),l.jsxs(Wn,{value:a.roleId,onValueChange:le=>o({...a,roleId:le}),children:[l.jsx(Bn,{"data-testid":"select-role",children:l.jsx(Kn,{placeholder:"Selecciona un rol"})}),l.jsx($n,{children:q?.map(le=>l.jsx(tt,{value:le.id,children:le.name},le.id))})]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{r(!1),At()},children:"Cancelar"}),l.jsx(_e,{type:"submit","data-testid":"button-submit-user",children:i?"Actualizar":"Crear"})]})]})]})]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{children:["Usuarios del Sistema (",T?.length||0,")"]})}),l.jsx(ft,{children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Usuario"}),l.jsx(Pt,{children:"Email"}),l.jsx(Pt,{children:"Rol"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"Fecha de Creacin"}),l.jsx(Pt,{className:"text-right",children:"Acciones"})]})}),l.jsx(zo,{children:!T||T.length===0?l.jsx(or,{children:l.jsx(St,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No hay usuarios registrados"})}):T.map(le=>l.jsxs(or,{"data-testid":`row-user-${le.id}`,children:[l.jsx(St,{className:"font-medium",children:le.username}),l.jsx(St,{children:le.email}),l.jsx(St,{children:_r(le.roleId)}),l.jsx(St,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bt,{variant:le.isActive?"default":"secondary","data-testid":`badge-status-${le.id}`,children:le.isActive?"Activo":"Inactivo"}),l.jsx(Qc,{checked:le.isActive,onCheckedChange:()=>pe.mutate(le.id),disabled:pe.isPending,"data-testid":`switch-active-${le.id}`})]})}),l.jsx(St,{children:new Date(le.createdAt).toLocaleDateString()}),l.jsx(St,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>Wt(le),"data-testid":`button-edit-${le.id}`,children:l.jsx(Bu,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>X.mutate(le.id),"data-testid":`button-delete-${le.id}`,children:l.jsx(ka,{className:"h-4 w-4"})})]})})]},le.id))})]})})]})]}),l.jsxs(cr,{value:"roles",className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Roles y Permisos"}),l.jsxs(ls,{open:c,onOpenChange:u,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{onClick:An,"data-testid":"button-add-role",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nuevo Rol"]})}),l.jsxs(Wi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(cs,{children:[l.jsx(us,{children:d?"Editar Rol":"Nuevo Rol"}),l.jsx(Ca,{children:d?"Actualiza el rol y sus permisos":"Crea un nuevo rol personalizado con permisos especficos"})]}),l.jsxs("form",{onSubmit:kn,className:"space-y-6",children:[l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"role-name",children:"Nombre del Rol *"}),l.jsx(Ke,{id:"role-name",value:m.name,onChange:le=>p({...m,name:le.target.value}),required:!0,disabled:d?.isSystem,placeholder:"Ej: Contable Senior","data-testid":"input-role-name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"role-description",children:"Descripcin"}),l.jsx(Ke,{id:"role-description",value:m.description,onChange:le=>p({...m,description:le.target.value}),placeholder:"Descripcin del rol...","data-testid":"input-role-description"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Re,{className:"text-base font-semibold",children:"Permisos"}),l.jsx("div",{className:"border rounded-lg p-4 space-y-4 max-h-96 overflow-y-auto",children:Object.entries(K?.reduce((le,Le)=>(le[Le.resource]||(le[Le.resource]=[]),le[Le.resource].push(Le),le),{})||{}).map(([le,Le])=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium capitalize text-sm",children:le}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 pl-4",children:Le.map(ot=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:ot.id,checked:b.includes(ot.id),onCheckedChange:()=>xn(ot.id),"data-testid":`checkbox-permission-${ot.resource}-${ot.action}`}),l.jsx(Re,{htmlFor:ot.id,className:"text-sm font-normal cursor-pointer",children:ot.action})]},ot.id))})]},le))}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.length," permiso(s) seleccionado(s)"]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{type:"button",variant:"outline",onClick:()=>{u(!1),An()},children:"Cancelar"}),l.jsx(_e,{type:"submit","data-testid":"button-submit-role",children:d?"Actualizar":"Crear"})]})]})]})]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{children:["Roles del Sistema (",q?.length||0,")"]})}),l.jsx(ft,{children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Nombre del Rol"}),l.jsx(Pt,{children:"Descripcin"}),l.jsx(Pt,{children:"Usuarios"}),l.jsx(Pt,{children:"Permisos"}),l.jsx(Pt,{className:"text-right",children:"Acciones"})]})}),l.jsx(zo,{children:!q||q.length===0?l.jsx(or,{children:l.jsx(St,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No hay roles configurados"})}):q.map(le=>l.jsxs(or,{"data-testid":`row-role-${le.id}`,children:[l.jsx(St,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[le.name,le.isSystem&&l.jsxs(bt,{variant:"outline",className:"text-xs",children:[l.jsx(NW,{className:"h-3 w-3 mr-1"}),"Sistema"]})]})}),l.jsx(St,{className:"text-muted-foreground",children:le.description||"-"}),l.jsx(St,{children:l.jsxs(bt,{variant:"outline",children:[le._count?.users||0," usuarios"]})}),l.jsx(St,{children:l.jsxs(bt,{variant:"outline",children:[le.permissions?.length||0," permisos"]})}),l.jsx(St,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>sn(le),"data-testid":`button-edit-role-${le.id}`,children:l.jsx(Bu,{className:"h-4 w-4"})}),!le.isSystem&&l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>de.mutate(le.id),"data-testid":`button-delete-role-${le.id}`,children:l.jsx(ka,{className:"h-4 w-4"})})]})})]},le.id))})]})})]})]}),l.jsxs(cr,{value:"logs",className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Registro de Actividad"}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Actividad Reciente"})}),l.jsx(ft,{className:"p-0",children:!B||B.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-12",children:"No hay actividad registrada"}):l.jsx("div",{className:"divide-y",children:B.slice(0,50).map(le=>l.jsx("div",{className:"p-4 hover-elevate","data-testid":`row-log-${le.id}`,children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx("p",{className:"font-medium",children:le.user?.username||"Usuario desconocido"}),Er(le.modulo)]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:le.accion}),le.detalles&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:le.detalles})]}),l.jsx("time",{className:"text-sm text-muted-foreground",children:new Date(le.fecha).toLocaleString()})]})},le.id))})})]})]}),l.jsxs(cr,{value:"settings",className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin del Sistema"}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Control de Acceso"})}),l.jsx(ft,{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Re,{htmlFor:"registration-enabled",children:"Permitir registro de nuevos usuarios"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cuando est deshabilitado, solo los administradores pueden crear usuarios"})]}),l.jsx(Qc,{id:"registration-enabled",checked:F?.registrationEnabled??!0,onCheckedChange:le=>xe.mutate(le),"data-testid":"switch-registration"})]})})]}),l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Configuracin de Backups"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Personaliza los patrones de nombres para los archivos de respaldo"})]}),l.jsxs(ft,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"backup-db-pattern",children:"Patrn para Backup de Base de Datos"}),l.jsx(Ke,{id:"backup-db-pattern",value:Y.backup_db_pattern,onChange:le=>ge({...Y,backup_db_pattern:le.target.value}),placeholder:"backup_db_{fecha}_{hora}","data-testid":"input-backup-db-pattern"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",l.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[gt(Y.backup_db_pattern),".sql"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"backup-files-pattern",children:"Patrn para Backup de Archivos"}),l.jsx(Ke,{id:"backup-files-pattern",value:Y.backup_files_pattern,onChange:le=>ge({...Y,backup_files_pattern:le.target.value}),placeholder:"backup_files_{fecha}_{hora}","data-testid":"input-backup-files-pattern"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vista previa: ",l.jsxs("code",{className:"bg-muted px-1 py-0.5 rounded",children:[gt(Y.backup_files_pattern),".zip"]})]})]})]}),l.jsxs("div",{className:"bg-muted/50 p-4 rounded-md space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Variables disponibles:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{fecha}"})," - Fecha actual (YYYYMMDD)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{hora}"})," - Hora actual (HHMMSS)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{version}"})," - Versin del sistema"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{timestamp}"})," - Timestamp Unix"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_4}"})," - Ao 4 dgitos (2025)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{YEAR_2}"})," - Ao 2 dgitos (25)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NUMBER}"})," - Mes numrico (01-12)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_NAME}"})," - Nombre del mes (Enero-Diciembre)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MONTH_DAY_NUMBER}"})," - Da del mes (01-31)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NUMBER}"})," - Da semana numrico (1-7)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_DAY_NAME}"})," - Da de la semana (Lunes-Domingo)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{HOURS}"})," - Hora en formato 24h (00-23)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{MINUTES}"})," - Minutos (00-59)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{SECONDS}"})," - Segundos (00-59)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER}"})," - Semana ISO-8601 del ao (1-53)"]}),l.jsxs("div",{children:[l.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:"{WEEK_NUMBER_IN_THE_MONTH}"})," - Semana del mes (0-5)"]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{onClick:()=>{me.mutate({key:"backup_db_pattern",value:Y.backup_db_pattern})},disabled:!Y.backup_db_pattern,"data-testid":"button-save-db-pattern",children:"Guardar Patrn BD"}),l.jsx(_e,{onClick:()=>{me.mutate({key:"backup_files_pattern",value:Y.backup_files_pattern})},disabled:!Y.backup_files_pattern,"data-testid":"button-save-files-pattern",variant:"outline",children:"Guardar Patrn Archivos"})]})]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Personalizacin"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"company-name",children:"Nombre de la Empresa"}),l.jsx(Ke,{id:"company-name",defaultValue:"Asesora La Llave","data-testid":"input-company-name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"logo",children:"Logo de la Empresa"}),l.jsx(Ke,{id:"logo",type:"file",accept:"image/*","data-testid":"input-logo"})]}),l.jsx(_e,{"data-testid":"button-save-branding",children:"Guardar Cambios"})]})]})]}),l.jsxs(cr,{value:"smtp-accounts",className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Cuentas SMTP"}),l.jsxs(ls,{open:y,onOpenChange:w,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{onClick:()=>_n(),"data-testid":"button-add-smtp-account",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nueva Cuenta SMTP"]})}),l.jsxs(Wi,{className:"sm:max-w-[600px]",children:[l.jsxs(cs,{children:[l.jsxs(us,{children:[_?"Editar":"Nueva"," Cuenta SMTP"]}),l.jsx(Ca,{children:"Configure una cuenta SMTP para el envo de notificaciones"})]}),l.jsxs("form",{onSubmit:vn,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx(Re,{htmlFor:"smtp-nombre",children:"Nombre de la Cuenta *"}),l.jsx(Ke,{id:"smtp-nombre",value:A.nombre,onChange:le=>k({...A,nombre:le.target.value}),placeholder:"Ej: Gmail Principal",required:!0,"data-testid":"input-smtp-nombre"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"smtp-form-host",children:"Servidor SMTP *"}),l.jsx(Ke,{id:"smtp-form-host",value:A.host,onChange:le=>k({...A,host:le.target.value}),placeholder:"smtp.gmail.com",required:!0,"data-testid":"input-smtp-form-host"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"smtp-form-port",children:"Puerto *"}),l.jsx(Ke,{id:"smtp-form-port",type:"number",value:A.port,onChange:le=>k({...A,port:le.target.value}),placeholder:"587",required:!0,"data-testid":"input-smtp-form-port"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"smtp-form-user",children:"Usuario *"}),l.jsx(Ke,{id:"smtp-form-user",value:A.user,onChange:le=>k({...A,user:le.target.value}),placeholder:"usuario@gmail.com",required:!0,"data-testid":"input-smtp-form-user"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"smtp-form-password",children:"Contrasea *"}),l.jsx(Ke,{id:"smtp-form-password",type:"password",value:A.password,onChange:le=>k({...A,password:le.target.value}),placeholder:_?"(dejar vaco para mantener)":"",required:!_,"data-testid":"input-smtp-form-password"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"smtp-predeterminada",checked:A.isPredeterminada,onCheckedChange:le=>k({...A,isPredeterminada:!!le}),"data-testid":"checkbox-smtp-predeterminada"}),l.jsx(Re,{htmlFor:"smtp-predeterminada",className:"text-sm",children:"Cuenta Predeterminada"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"smtp-activa",checked:A.activa,onCheckedChange:le=>k({...A,activa:!!le}),"data-testid":"checkbox-smtp-activa"}),l.jsx(Re,{htmlFor:"smtp-activa",className:"text-sm",children:"Activa"})]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{type:"button",variant:"outline",onClick:Jn,disabled:!A.host||!A.port||!A.user||!A.password||P,"data-testid":"button-test-smtp",children:P?"Probando...":"Probar Conexin"}),l.jsxs(_e,{type:"submit","data-testid":"button-submit-smtp",children:[_?"Actualizar":"Crear"," Cuenta"]})]})]})]})]})]}),l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Cuentas SMTP Configuradas"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona mltiples cuentas SMTP para el envo de notificaciones"})]}),l.jsx(ft,{children:H?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Vn,{className:"h-12 w-full"}),l.jsx(Vn,{className:"h-12 w-full"})]}):Z&&Z.length>0?l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Nombre"}),l.jsx(Pt,{children:"Servidor"}),l.jsx(Pt,{children:"Puerto"}),l.jsx(Pt,{children:"Usuario"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"Acciones"})]})}),l.jsx(zo,{children:Z.map(le=>l.jsxs(or,{children:[l.jsxs(St,{className:"font-medium",children:[le.nombre,le.isPredeterminada&&l.jsx(bt,{variant:"secondary",className:"ml-2",children:"Predeterminada"})]}),l.jsx(St,{children:le.host}),l.jsx(St,{children:le.port}),l.jsx(St,{children:le.user}),l.jsx(St,{children:l.jsx(bt,{variant:le.activa?"default":"secondary",children:le.activa?"Activa":"Inactiva"})}),l.jsx(St,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>Ft(le),"data-testid":`button-edit-smtp-${le.id}`,children:l.jsx(Bu,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>it.mutate(le.id),"data-testid":`button-delete-smtp-${le.id}`,children:l.jsx(ka,{className:"h-4 w-4"})})]})})]},le.id))})]}):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay cuentas SMTP configuradas. Crea una para empezar."})})]})]}),l.jsxs(cr,{value:"sessions",className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Gestin de Sesiones"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitoreo avanzado de sesiones de usuario"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{variant:We?"default":"outline",size:"sm",onClick:()=>lt(!We),children:We?"Solo Activas":"Ver Todas"}),l.jsxs(_e,{variant:"outline",size:"sm",onClick:async()=>{try{const le=await tn("POST","/api/admin/sessions/cleanup");rn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Limpieza completada",description:`${le.totalCleaned} sesiones procesadas (${le.deletedCount} eliminadas, ${le.markedInactiveCount} marcadas como inactivas)`})}catch(le){t({title:"Error",description:le.message||String(le),variant:"destructive"})}},children:[l.jsx(QT,{className:"h-4 w-4 mr-2"}),"Limpiar Sesiones"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(dt,{children:l.jsx(ft,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sesiones Activas"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:Tt?.items?.filter(le=>le.status==="active").length||0})]}),l.jsx(rC,{className:"h-8 w-8 text-green-600"})]})})}),l.jsx(dt,{children:l.jsx(ft,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sesiones Inactivas"}),l.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Tt?.items?.filter(le=>le.status==="idle").length||0})]}),l.jsx(rC,{className:"h-8 w-8 text-yellow-600"})]})})}),l.jsx(dt,{children:l.jsx(ft,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Sospechosas"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:Tt?.items?.filter(le=>le.suspicious).length||0})]}),l.jsx(Op,{className:"h-8 w-8 text-red-600"})]})})}),l.jsx(dt,{children:l.jsx(ft,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sesiones"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Tt?.total||0})]}),l.jsx(pb,{className:"h-8 w-8 text-blue-600"})]})})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{children:[We?"Todas las Sesiones":"Sesiones Activas"," (",Tt?.total??0,")",We&&l.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:"(Incluye sesiones cerradas)"})]})}),l.jsx(ft,{children:Tn?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Vn,{className:"h-12 w-full"}),l.jsx(Vn,{className:"h-12 w-full"})]}):!Tt||!Tt.items||Tt.items.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay sesiones"}):l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Usuario"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"IP / Ubicacin"}),l.jsx(Pt,{children:"Dispositivo"}),l.jsx(Pt,{children:"ltima Actividad"}),l.jsx(Pt,{children:"Duracin"}),l.jsx(Pt,{className:"text-right",children:"Acciones"})]})}),l.jsx(zo,{children:Tt.items.map(le=>l.jsxs(or,{className:le.suspicious?"bg-red-50 dark:bg-red-950/20":"",children:[l.jsx(St,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:le.user?.username||""}),l.jsx("p",{className:"text-sm text-muted-foreground",children:le.user?.role?.name||""})]}),le.suspicious&&l.jsx(Op,{className:"h-4 w-4 text-red-500"})]})}),l.jsx(St,{children:l.jsx(bt,{variant:le.status==="active"?"default":le.status==="idle"?"secondary":"outline",className:le.status==="active"?"bg-green-100 text-green-800":le.status==="idle"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:le.status==="active"?"Activo":le.status==="idle"?"Inactivo":"Cerrado"})}),l.jsx(St,{children:l.jsxs("div",{children:[l.jsx("p",{className:"font-mono text-sm",children:le.ip}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[le.location?.city,", ",le.location?.country,le.location?.isVpn&&l.jsx("span",{className:"text-red-500 ml-1",children:"(VPN)"})]})]})}),l.jsx(St,{children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm",children:le.deviceInfo?.type||"Unknown"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:le.deviceInfo?.platform||"Unknown"})]})}),l.jsx(St,{children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm",children:le.lastSeenAt?new Date(le.lastSeenAt).toLocaleString():"-"}),le.minutesSinceLastSeen!==void 0&&l.jsx("p",{className:"text-xs text-muted-foreground",children:le.minutesSinceLastSeen<60?`Hace ${le.minutesSinceLastSeen} min`:`Hace ${Math.floor(le.minutesSinceLastSeen/60)}h ${le.minutesSinceLastSeen%60}min`})]})}),l.jsx(St,{children:l.jsxs("p",{className:"text-sm",children:[le.createdAt?Math.floor((Date.now()-new Date(le.createdAt).getTime())/(1e3*60*60)):0,"h"]})}),l.jsx(St,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-1",children:[l.jsx(_e,{variant:"destructive",size:"sm",onClick:async()=>{try{await tn("POST",`/api/admin/sessions/${le.id}/terminate`),rn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:"Sesin terminada",description:`La sesin de ${le.user?.username} ha sido terminada y el usuario ser redirigido al login`})}catch(Le){t({title:"Error",description:Le.message||String(Le),variant:"destructive"})}},children:l.jsx(vh,{className:"h-4 w-4"})}),l.jsx(_e,{variant:le.suspicious?"destructive":"outline",size:"sm",onClick:async()=>{try{const Le=le.suspicious?"unflag":"flag";await tn("POST",`/api/admin/sessions/${le.id}/${Le}`),rn.invalidateQueries({queryKey:["/api/admin/sessions"]}),t({title:le.suspicious?"Marcado como seguro":"Marcado como sospechoso",description:le.suspicious?"La sesin ya no est marcada como sospechosa":"La sesin ha sido marcada como sospechosa"})}catch(Le){t({title:"Error",description:Le.message||String(Le),variant:"destructive"})}},children:l.jsx(Op,{className:"h-4 w-4"})})]})})]},le.id))})]})})]})]}),l.jsxs(cr,{value:"system-updates",className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Actualizaciones del Sistema"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gestiona las actualizaciones automticas del sistema"})]}),l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Configuracin de Repositorio GitHub"}),l.jsx(lf,{children:"Configura el repositorio de GitHub para comprobar y descargar actualizaciones automticas"})]}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"github-repo",children:"Repositorio (owner/repo)"}),l.jsx(Ke,{id:"github-repo",placeholder:"ejemplo: usuario/repositorio",value:Se.repoUrl,onChange:le=>Te({...Se,repoUrl:le.target.value}),"data-testid":"input-github-repo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Formato: owner/repo o URL completa de GitHub"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"github-branch",children:"Rama"}),l.jsx(Ke,{id:"github-branch",placeholder:"main",value:Se.branch,onChange:le=>Te({...Se,branch:le.target.value}),"data-testid":"input-github-branch"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Rama a usar para actualizaciones (por defecto: main)"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(_e,{onClick:()=>He.mutate(Se),disabled:He.isPending||!Se.repoUrl,"data-testid":"button-save-github-config",children:[l.jsx(J0,{className:"h-4 w-4 mr-2"}),He.isPending?"Guardando...":"Guardar Configuracin"]})})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Versin Actual"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Versin instalada"}),l.jsx("p",{className:"text-2xl font-bold","data-testid":"text-current-version",children:ie?.currentVersion||"Cargando..."})]}),l.jsxs(_e,{onClick:()=>qe.mutate(),disabled:Q||qe.isPending,className:"w-full","data-testid":"button-check-updates",children:[l.jsx(Jw,{className:`h-4 w-4 mr-2 ${Q?"animate-spin":""}`}),Q?"Comprobando...":"Comprobar Actualizaciones"]})]})]}),ie?.updateAvailable&&l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Actualizacin Disponible"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva versin"}),l.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-latest-version",children:ie.latestVersion})]}),ie.changelog&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:"Novedades:"}),l.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-changelog",children:ie.changelog})]}),l.jsxs(ls,{children:[l.jsx(gl,{asChild:!0,children:l.jsx(_e,{variant:"default",className:"w-full","data-testid":"button-update-now",children:"Actualizar Ahora"})}),l.jsxs(Wi,{children:[l.jsxs(cs,{children:[l.jsx(us,{children:"Confirmar Actualizacin"}),l.jsxs(Ca,{children:["Esta accin actualizar el sistema a la versin ",ie.latestVersion,". Se crear un backup automtico antes de la actualizacin. El sistema se reiniciar automticamente cuando termine."]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{variant:"outline",onClick:le=>{le.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":"button-cancel-update",children:"Cancelar"}),l.jsx(_e,{onClick:()=>{Qe.mutate(),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:Qe.isPending,"data-testid":"button-confirm-update",children:Qe.isPending?"Actualizando...":"Confirmar Actualizacin"})]})]})]})]})]}),!ie?.updateAvailable&&ie?.currentVersion&&l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Sistema Actualizado"})}),l.jsx(ft,{children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tu sistema est ejecutando la ltima versin disponible."})})]})]}),l.jsx(cUe,{}),l.jsxs(dt,{className:"mt-6",children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Backups del Sistema"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Historial de backups automticos y manuales"})]}),l.jsx(ft,{children:J?l.jsx("div",{className:"space-y-2",children:[...Array(3)].map((le,Le)=>l.jsx(Vn,{className:"h-12"},Le))}):he&&he.length>0?l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Fecha"}),l.jsx(Pt,{children:"Versin"}),l.jsx(Pt,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(gW,{className:"h-3 w-3"}),l.jsx("span",{children:"BD"})]})}),l.jsx(Pt,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ZT,{className:"h-3 w-3"}),l.jsx("span",{children:"Archivos"})]})}),l.jsx(Pt,{className:"text-right",children:"Acciones"})]})}),l.jsx(zo,{children:he.map(le=>l.jsxs(or,{"data-testid":`row-backup-${le.id}`,children:[l.jsx(St,{children:new Date(le.createdAt).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),l.jsx(St,{children:l.jsxs(bt,{variant:"outline","data-testid":`badge-version-${le.id}`,children:["v",le.version]})}),l.jsx(St,{"data-testid":`text-db-size-${le.id}`,children:le.dbSize}),l.jsx(St,{"data-testid":`text-files-size-${le.id}`,children:le.filesSize}),l.jsx(St,{className:"text-right",children:l.jsxs(ls,{children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{variant:"outline",size:"sm","data-testid":`button-restore-${le.id}`,children:[l.jsx(QT,{className:"h-4 w-4 mr-2"}),"Restaurar"]})}),l.jsxs(Wi,{children:[l.jsxs(cs,{children:[l.jsx(us,{children:"Confirmar Restauracin"}),l.jsxs(Ca,{children:["Esta accin restaurar el sistema al estado del backup creado el"," ",new Date(le.createdAt).toLocaleString("es-ES"),".",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Advertencia:"})," Esta operacin sobrescribir todos los datos actuales y el sistema se reiniciar automticamente."]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{variant:"outline",onClick:Le=>{Le.currentTarget.closest('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},"data-testid":`button-cancel-restore-${le.id}`,children:"Cancelar"}),l.jsx(_e,{variant:"destructive",onClick:()=>{xt.mutate(le.id),document.querySelector('[role="dialog"]')?.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))},disabled:xt.isPending,"data-testid":`button-confirm-restore-${le.id}`,children:xt.isPending?"Restaurando...":"Confirmar Restauracin"})]})]})]})})]},le.id))})]}):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay backups disponibles. Se crean automticamente durante las actualizaciones."})})]})]}),l.jsx(cr,{value:"storage",className:"space-y-4",children:l.jsx(uUe,{})})]})]})}function uUe(){const{toast:t}=li(),[e,n]=S.useState("LOCAL"),[r,i]=S.useState(!1),[s,a]=S.useState(!1),[o,c]=S.useState({host:"",port:"21",username:"",password:"",basePath:"/uploads"}),[u,d]=S.useState({host:"",shareName:"",username:"",password:"",domain:"",basePath:"/uploads"}),{data:f,isLoading:m}=Sn({queryKey:["/api/admin/storage-config"]});S.useEffect(()=>{f&&(n(f.type),i(f.active),f.type==="FTP"&&f.config?c({host:f.config.host||"",port:(f.config.port||21).toString(),username:f.config.username||"",password:"",basePath:f.config.basePath||"/uploads"}):f.type==="SMB"&&f.config&&d({host:f.config.host||"",shareName:f.config.shareName||"",username:f.config.username||"",password:"",domain:f.config.domain||"",basePath:f.config.basePath||"/uploads"}))},[f]);const p=hn({mutationFn:async y=>tn("POST","/api/admin/storage-config",y),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/admin/storage-config"]}),t({title:"Configuracin guardada",description:"La configuracin de almacenamiento se ha actualizado correctamente"})},onError:y=>{t({title:"Error",description:y.message||"No se pudo guardar la configuracin",variant:"destructive"})}}),b=async()=>{a(!0);try{const w=await tn("POST","/api/admin/storage-config/test",{type:e,config:e==="FTP"?o:e==="SMB"?u:null});t({title:"Conexin exitosa",description:w.message||"La conexin se estableci correctamente"})}catch(y){t({title:"Error de conexin",description:y.message||"No se pudo conectar al servidor",variant:"destructive"})}finally{a(!1)}},v=()=>{const y=e==="LOCAL"?null:e==="FTP"?{...o,port:parseInt(o.port)}:u;p.mutate({type:e,active:r,config:y})};return m?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Vn,{className:"h-8 w-64"}),l.jsx(Vn,{className:"h-32"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Configuracin de Almacenamiento"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configura dnde se almacenan los archivos del sistema"})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Proveedor de Almacenamiento"}),f&&l.jsx(bt,{variant:f.active?"default":"secondary",children:f.active?"Activo":"Inactivo"})]})}),l.jsxs(ft,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Tipo de Almacenamiento"}),l.jsxs(Wn,{value:e,onValueChange:y=>n(y),children:[l.jsx(Bn,{"data-testid":"select-storage-type",children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"LOCAL",children:"Local (Servidor)"}),l.jsx(tt,{value:"FTP",children:"FTP"}),l.jsx(tt,{value:"SMB",children:"SMB/CIFS (NAS)"})]})]})]}),e==="LOCAL"&&l.jsx("div",{className:"rounded-lg border p-4 bg-muted/50",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gW,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"font-medium",children:"Almacenamiento Local"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Los archivos se guardan en el servidor en: ",l.jsx("code",{className:"px-1 py-0.5 bg-background rounded text-xs",children:"/uploads"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No requiere configuracin adicional."})]})]})}),e==="FTP"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"ftp-host",children:"Servidor FTP *"}),l.jsx(Ke,{id:"ftp-host",value:o.host,onChange:y=>c({...o,host:y.target.value}),placeholder:"ftp.ejemplo.com","data-testid":"input-ftp-host"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"ftp-port",children:"Puerto *"}),l.jsx(Ke,{id:"ftp-port",type:"number",value:o.port,onChange:y=>c({...o,port:y.target.value}),placeholder:"21","data-testid":"input-ftp-port"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"ftp-username",children:"Usuario *"}),l.jsx(Ke,{id:"ftp-username",value:o.username,onChange:y=>c({...o,username:y.target.value}),"data-testid":"input-ftp-username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"ftp-password",children:"Contrasea *"}),l.jsx(Ke,{id:"ftp-password",type:"password",value:o.password,onChange:y=>c({...o,password:y.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-ftp-password"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"ftp-basePath",children:"Ruta Base"}),l.jsx(Ke,{id:"ftp-basePath",value:o.basePath,onChange:y=>c({...o,basePath:y.target.value}),placeholder:"/uploads","data-testid":"input-ftp-basepath"})]})]}),e==="SMB"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"smb-host",children:"Servidor SMB *"}),l.jsx(Ke,{id:"smb-host",value:u.host,onChange:y=>d({...u,host:y.target.value}),placeholder:"192.168.1.100","data-testid":"input-smb-host"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"smb-share",children:"Nombre del Recurso Compartido *"}),l.jsx(Ke,{id:"smb-share",value:u.shareName,onChange:y=>d({...u,shareName:y.target.value}),placeholder:"archivos","data-testid":"input-smb-share"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"smb-username",children:"Usuario *"}),l.jsx(Ke,{id:"smb-username",value:u.username,onChange:y=>d({...u,username:y.target.value}),"data-testid":"input-smb-username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"smb-password",children:"Contrasea *"}),l.jsx(Ke,{id:"smb-password",type:"password",value:u.password,onChange:y=>d({...u,password:y.target.value}),placeholder:"Dejar vaco para mantener actual","data-testid":"input-smb-password"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"smb-domain",children:"Dominio (opcional)"}),l.jsx(Ke,{id:"smb-domain",value:u.domain,onChange:y=>d({...u,domain:y.target.value}),placeholder:"WORKGROUP","data-testid":"input-smb-domain"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"smb-basePath",children:"Ruta Base"}),l.jsx(Ke,{id:"smb-basePath",value:u.basePath,onChange:y=>d({...u,basePath:y.target.value}),placeholder:"/uploads","data-testid":"input-smb-basepath"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Re,{htmlFor:"storage-active",className:"font-medium",children:"Activar Configuracin"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Esta configuracin est activa y se usa para nuevos archivos":"Activa esta configuracin para empezar a usarla"})]}),l.jsx(Qc,{id:"storage-active",checked:r,onCheckedChange:i,"data-testid":"switch-storage-active"})]}),l.jsxs("div",{className:"flex gap-2",children:[e!=="LOCAL"&&l.jsx(_e,{variant:"outline",onClick:b,disabled:s,"data-testid":"button-test-connection",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Lle,{className:"h-4 w-4 mr-2 animate-spin"}),"Probando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(nc,{className:"h-4 w-4 mr-2"}),"Probar Conexin"]})}),l.jsx(_e,{onClick:v,disabled:p.isPending,"data-testid":"button-save-storage-config",children:p.isPending?"Guardando...":"Guardar Configuracin"})]})]})]}),f&&f.type!==e&&l.jsxs(dt,{className:"border-orange-200 dark:border-orange-900",children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400",children:[l.jsx(ZT,{className:"h-5 w-5"}),"Migracin de Archivos"]})}),l.jsxs(ft,{children:[l.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Al cambiar el tipo de almacenamiento, los archivos existentes permanecern en ",f.type,". Puedes migrarlos al nuevo almacenamiento desde la seccin de mantenimiento."]}),l.jsxs(_e,{variant:"outline",disabled:!0,children:[l.jsx(ZT,{className:"h-4 w-4 mr-2"}),"Migrar Archivos (Prximamente)"]})]})]})]})}const dUe={clients:"Clientes",tasks:"Tareas",client_tax:"Impuestos",manuals:"Manuales",users:"Usuarios"},fUe={CREATE:"default",UPDATE:"secondary",DELETE:"destructive"},hUe={CREATE:"Creacin",UPDATE:"Actualizacin",DELETE:"Eliminacin"};function pUe(){const[t,e]=S.useState("all"),{data:n=[],isLoading:r}=Sn({queryKey:["/api/audit",t],queryFn:async()=>{const s=new URLSearchParams;t!=="all"&&s.append("table",t);const a=await fetch(`/api/audit?${s.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw new Error("Error al cargar auditora");return a.json()}}),i=({anterior:s,nuevo:a})=>{if(!s&&!a)return null;const o=s?JSON.parse(s):{},c=a?JSON.parse(a):{};return l.jsx("div",{className:"mt-2 space-y-1",children:Object.keys({...o,...c}).map(u=>{if(["id","fechaActualizacion","fechaCreacion","created_at","updated_at"].includes(u))return null;const d=o[u],f=c[u];return d===f?null:l.jsxs("div",{className:"text-sm",children:[l.jsxs("span",{className:"font-medium text-muted-foreground",children:[u,":"]})," ",d!==void 0&&l.jsx("span",{className:"line-through text-destructive",children:String(d)}),d!==void 0&&f!==void 0&&"  ",f!==void 0&&l.jsx("span",{className:"text-primary",children:String(f)})]},u)})})};return l.jsxs("div",{className:"container mx-auto py-6 px-4",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Auditora del Sistema"}),l.jsx("p",{className:"text-muted-foreground",children:"Registro completo de cambios y modificaciones"})]}),l.jsx("div",{className:"mb-6 flex gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mW,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs(Wn,{value:t,onValueChange:e,children:[l.jsx(Bn,{className:"w-[200px]","data-testid":"select-filter-table",children:l.jsx(Kn,{placeholder:"Filtrar por mdulo"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"all",children:"Todos los mdulos"}),l.jsx(tt,{value:"clients",children:"Clientes"}),l.jsx(tt,{value:"tasks",children:"Tareas"}),l.jsx(tt,{value:"client_tax",children:"Impuestos"}),l.jsx(tt,{value:"manuals",children:"Manuales"}),l.jsx(tt,{value:"users",children:"Usuarios"})]})]})]})}),r?l.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),l.jsx(ft,{children:l.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})})]},s))}):n.length===0?l.jsx(dt,{children:l.jsxs(ft,{className:"py-10 text-center",children:[l.jsx(Di,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"No se encontraron registros de auditora"})]})}):l.jsx("div",{className:"space-y-4",children:n.map(s=>l.jsxs(dt,{"data-testid":`audit-entry-${s.id}`,children:[l.jsx(Dt,{children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{children:[l.jsxs($t,{className:"text-lg flex items-center gap-2",children:[l.jsx(bt,{variant:fUe[s.accion],children:hUe[s.accion]}),l.jsx("span",{children:dUe[s.tabla]||s.tabla})]}),l.jsx(lf,{className:"mt-2",children:s.cambios||"Sin descripcin de cambios"})]})})}),l.jsx(ft,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ex,{className:"h-4 w-4"}),l.jsx("span",{children:s.usuario?.username||"Usuario desconocido"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(qo,{className:"h-4 w-4"}),l.jsx("span",{children:mo(new Date(s.fecha),"d 'de' MMMM 'de' yyyy, HH:mm",{locale:Ou})})]})]}),(s.valorAnterior||s.valorNuevo)&&l.jsx(i,{anterior:s.valorAnterior,nuevo:s.valorNuevo})]})})]},s.id))})]})}const rV=[{key:"{nombre_cliente}",description:"Nombre del cliente"},{key:"{email_cliente}",description:"Email del cliente"},{key:"{fecha_vencimiento}",description:"Fecha de vencimiento"}];function mUe(){const[t,e]=S.useState("plantillas"),{toast:n}=li(),[r,i]=S.useState(!1),[s,a]=S.useState(null),[o,c]=S.useState({nombre:"",asunto:"",contenidoHTML:""}),[u,d]=S.useState(""),[f,m]=S.useState("all"),[p,b]=S.useState(""),[v,y]=S.useState(!1),{data:w,isLoading:_}=Sn({queryKey:["/api/notification-templates"]}),{data:E}=Sn({queryKey:["/api/admin/smtp-accounts"]}),{data:A,isLoading:k}=Sn({queryKey:["/api/notifications/history"],enabled:t==="historial"}),{data:P,isLoading:R}=Sn({queryKey:["/api/notifications/scheduled"],enabled:t==="programadas"}),T=hn({mutationFn:async H=>await tn("POST","/api/notification-templates",H),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),F(),n({title:"Plantilla creada",description:"La plantilla se ha creado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo crear la plantilla.",variant:"destructive"})}}),M=hn({mutationFn:async({id:H,data:W})=>await tn("PATCH",`/api/notification-templates/${H}`,W),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/notification-templates"]}),i(!1),F(),n({title:"Plantilla actualizada",description:"La plantilla se ha actualizado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo actualizar la plantilla.",variant:"destructive"})}}),B=hn({mutationFn:async H=>await tn("DELETE",`/api/notification-templates/${H}`),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/notification-templates"]}),n({title:"Plantilla eliminada",description:"La plantilla se ha eliminado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo eliminar la plantilla.",variant:"destructive"})}}),O=hn({mutationFn:async H=>v?await tn("POST","/api/notifications/schedule",H):await tn("POST","/api/notifications/send",H),onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/notifications/history"]}),rn.invalidateQueries({queryKey:["/api/notifications/scheduled"]}),d(""),m("all"),b(""),y(!1),n({title:v?"Notificacin programada":"Notificacin enviada",description:v?"La notificacin se ha programado correctamente.":"La notificacin se ha enviado correctamente."})},onError:()=>{n({title:"Error",description:"No se pudo enviar la notificacin.",variant:"destructive"})}}),F=()=>{c({nombre:"",asunto:"",contenidoHTML:""}),a(null)},q=()=>{if(!u)return;const H=w?.find(W=>String(W.id)===u);H&&O.mutate({plantillaId:u,smtpAccountId:p||null,destinatarios:f,asunto:H.asunto,contenido:H.contenidoHTML})},z=H=>{a(H),c({nombre:H.nombre,asunto:H.asunto,contenidoHTML:H.contenidoHTML}),i(!0)},K=H=>{H.preventDefault(),s?M.mutate({id:s.id,data:o}):T.mutate(o)},Z=H=>{const W=o.contenidoHTML+" "+H+" ";c({...o,contenidoHTML:W})};return l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-3xl font-display font-bold",children:"Sistema de Notificaciones"})}),l.jsxs(Al,{value:t,onValueChange:e,className:"space-y-4",children:[l.jsxs(Xo,{children:[l.jsxs(Pn,{value:"plantillas","data-testid":"tab-plantillas",children:[l.jsx(Di,{className:"h-4 w-4 mr-2"}),"Plantillas"]}),l.jsxs(Pn,{value:"enviar","data-testid":"tab-enviar",children:[l.jsx(e2,{className:"h-4 w-4 mr-2"}),"Enviar Notificacin"]}),l.jsxs(Pn,{value:"historial","data-testid":"tab-historial",children:[l.jsx(Fb,{className:"h-4 w-4 mr-2"}),"Historial"]}),l.jsxs(Pn,{value:"programadas","data-testid":"tab-programadas",children:[l.jsx(qo,{className:"h-4 w-4 mr-2"}),"Programadas"]})]}),l.jsxs(cr,{value:"plantillas",className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-display font-semibold",children:"Plantillas de Notificacin"}),l.jsxs(ls,{open:r,onOpenChange:i,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{onClick:()=>F(),"data-testid":"button-add-template",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),l.jsxs(Wi,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(cs,{children:[l.jsxs(us,{children:[s?"Editar":"Nueva"," Plantilla"]}),l.jsx(Ca,{children:"Crea plantillas de notificacin reutilizables con variables dinmicas"})]}),l.jsxs("form",{onSubmit:K,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"template-nombre",children:"Nombre de la Plantilla *"}),l.jsx(Ke,{id:"template-nombre",value:o.nombre,onChange:H=>c({...o,nombre:H.target.value}),placeholder:"Ej: Recordatorio de vencimiento",required:!0,"data-testid":"input-template-nombre"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"template-asunto",children:"Asunto del Email *"}),l.jsx(Ke,{id:"template-asunto",value:o.asunto,onChange:H=>c({...o,asunto:H.target.value}),placeholder:"Ej: Recordatorio: Vencimiento prximo",required:!0,"data-testid":"input-template-asunto"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Variables Disponibles"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:rV.map(H=>l.jsxs(_e,{type:"button",variant:"outline",size:"sm",onClick:()=>Z(H.key),"data-testid":`button-variable-${H.key}`,children:[l.jsx(fW,{className:"h-3 w-3 mr-1"}),H.key]},H.key))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Haz clic en una variable para insertarla en el contenido"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"template-contenido",children:"Contenido HTML *"}),l.jsx(Ose,{content:o.contenidoHTML,onChange:H=>c({...o,contenidoHTML:H})})]}),l.jsx(Fo,{children:l.jsxs(_e,{type:"submit","data-testid":"button-submit-template",children:[s?"Actualizar":"Crear"," Plantilla"]})})]})]})]})]}),l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Plantillas Creadas"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus plantillas de notificacin reutilizables"})]}),l.jsx(ft,{children:_?l.jsxs("div",{className:"space-y-2",children:[l.jsx(Vn,{className:"h-12 w-full"}),l.jsx(Vn,{className:"h-12 w-full"})]}):w&&w.length>0?l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Nombre"}),l.jsx(Pt,{children:"Asunto"}),l.jsx(Pt,{children:"Tipo"}),l.jsx(Pt,{children:"Variables Usadas"}),l.jsx(Pt,{children:"Acciones"})]})}),l.jsx(zo,{children:w.map(H=>{const W=rV.filter(Y=>H.contenidoHTML.includes(Y.key));return l.jsxs(or,{children:[l.jsx(St,{className:"font-medium","data-testid":`text-template-nombre-${H.id}`,children:H.nombre}),l.jsx(St,{"data-testid":`text-template-asunto-${H.id}`,children:H.asunto}),l.jsx(St,{"data-testid":`text-template-tipo-${H.id}`,children:l.jsx(bt,{variant:H.tipo==="RECORDATORIO"?"default":H.tipo==="URGENTE"?"destructive":"secondary",className:"text-xs",children:H.tipo})}),l.jsx(St,{"data-testid":`text-template-variables-${H.id}`,children:l.jsx("div",{className:"flex flex-wrap gap-1",children:W.length>0?W.map(Y=>l.jsx(bt,{variant:"secondary",className:"text-xs","data-testid":`badge-variable-${Y.key.replace(/[{}]/g,"")}-${H.id}`,children:Y.key},Y.key)):l.jsx("span",{className:"text-sm text-muted-foreground",children:"Sin variables"})})}),l.jsx(St,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>z(H),"data-testid":`button-edit-template-${H.id}`,children:l.jsx(Bu,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>B.mutate(H.id),"data-testid":`button-delete-template-${H.id}`,children:l.jsx(ka,{className:"h-4 w-4"})})]})})]},H.id)})})]}):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No hay plantillas creadas. Crea una para empezar."})})]})]}),l.jsx(cr,{value:"enviar",className:"space-y-4",children:l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Enviar Notificacin"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enva notificaciones inmediatas o programadas a tus clientes."})]}),l.jsx(ft,{className:"space-y-6",children:l.jsxs("div",{className:"grid gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"template-select","data-testid":"label-template-select",children:"Plantilla"}),l.jsxs("select",{id:"template-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-template",value:u,onChange:H=>d(H.target.value),children:[l.jsx("option",{value:"",children:"Selecciona una plantilla"}),w?.map(H=>l.jsx("option",{value:H.id,"data-testid":`option-template-${H.id}`,children:H.nombre},H.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{"data-testid":"label-recipients",children:"Destinatarios"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",id:"all-clients",name:"recipients",value:"all",checked:f==="all",onChange:H=>m(H.target.value),"data-testid":"radio-recipients-all"}),l.jsx(Re,{htmlFor:"all-clients",className:"font-normal cursor-pointer",children:"Todos los clientes activos"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",id:"autonomos",name:"recipients",value:"AUTONOMO",checked:f==="AUTONOMO",onChange:H=>m(H.target.value),"data-testid":"radio-recipients-autonomo"}),l.jsx(Re,{htmlFor:"autonomos",className:"font-normal cursor-pointer",children:"Solo autnomos"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",id:"empresas",name:"recipients",value:"EMPRESA",checked:f==="EMPRESA",onChange:H=>m(H.target.value),"data-testid":"radio-recipients-empresa"}),l.jsx(Re,{htmlFor:"empresas",className:"font-normal cursor-pointer",children:"Solo empresas"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"smtp-select","data-testid":"label-smtp-select",children:"Cuenta SMTP"}),l.jsxs("select",{id:"smtp-select",className:"w-full rounded-md border border-input bg-background px-3 py-2","data-testid":"select-smtp",value:p,onChange:H=>b(H.target.value),children:[l.jsx("option",{value:"",children:"Usar cuenta predeterminada"}),E?.map(H=>l.jsxs("option",{value:H.id,"data-testid":`option-smtp-${H.id}`,children:[H.nombre," ",H.isPredeterminada?"(Predeterminada)":""]},H.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{"data-testid":"label-preview",children:"Vista Previa"}),l.jsx("div",{className:"border rounded-md p-4 bg-muted/50 min-h-[200px]","data-testid":"div-preview",children:u?l.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:l.jsx("div",{dangerouslySetInnerHTML:{__html:w?.find(H=>String(H.id)===u)?.contenidoHTML?.replace(/{nombre_cliente}/g,'<strong class="text-primary">Cliente Ejemplo</strong>')?.replace(/{email_cliente}/g,'<strong class="text-primary">ejemplo@email.com</strong>')?.replace(/{fecha_vencimiento}/g,'<strong class="text-primary">31/12/2025</strong>')||'<p class="text-sm text-muted-foreground">No se encontr la plantilla</p>'}})}):l.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona una plantilla para ver la vista previa"})})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"schedule-send","data-testid":"checkbox-schedule",checked:v,onChange:H=>y(H.target.checked)}),l.jsx(Re,{htmlFor:"schedule-send",className:"font-normal cursor-pointer",children:"Programar envo"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(_e,{variant:"default","data-testid":"button-send-notification",disabled:!u||O.isPending,onClick:q,children:[l.jsx(Qw,{className:"h-4 w-4 mr-2"}),O.isPending?"Enviando...":v?"Programar Envo":"Enviar Ahora"]}),l.jsx(_e,{variant:"outline","data-testid":"button-cancel-send",onClick:()=>{d(""),m("all"),b(""),y(!1)},children:"Cancelar"})]})]})]})})]})}),l.jsx(cr,{value:"historial",className:"space-y-4",children:l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Historial de Notificaciones"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Consulta todas las notificaciones enviadas y su estado."})]}),l.jsxs(ft,{children:[l.jsxs("div",{className:"flex gap-3 mb-6",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Ke,{placeholder:"Buscar por destinatario...","data-testid":"input-search-history"})}),l.jsxs("select",{className:"rounded-md border border-input bg-background px-3 py-2","data-testid":"select-status-filter",children:[l.jsx("option",{value:"",children:"Todos los estados"}),l.jsx("option",{value:"ENVIADO",children:"Enviado"}),l.jsx("option",{value:"ERROR",children:"Error"}),l.jsx("option",{value:"PENDIENTE",children:"Pendiente"})]})]}),l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Fecha"}),l.jsx(Pt,{children:"Plantilla"}),l.jsx(Pt,{children:"Destinatario"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"Cuenta SMTP"})]})}),l.jsx(zo,{children:k?l.jsx(or,{children:l.jsx(St,{colSpan:5,className:"text-center py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):A?.length>0?A.map(H=>l.jsxs(or,{"data-testid":`row-history-${H.id}`,children:[l.jsx(St,{"data-testid":`text-history-date-${H.id}`,children:new Date(H.fechaEnvio).toLocaleDateString("es-ES")}),l.jsx(St,{"data-testid":`text-history-template-${H.id}`,children:H.template?.nombre||"N/A"}),l.jsx(St,{"data-testid":`text-history-recipients-${H.id}`,children:H.destinatarios==="all"?"Todos":H.destinatarios}),l.jsx(St,{"data-testid":`text-history-status-${H.id}`,children:l.jsx(bt,{variant:H.estado==="ENVIADO"?"default":"destructive",children:H.estado})}),l.jsx(St,{"data-testid":`text-history-smtp-${H.id}`,children:H.smtpAccount?.nombre||"Predeterminada"})]},H.id)):l.jsx(or,{children:l.jsx(St,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-history",children:"No hay notificaciones en el historial"})})})]})]})]})}),l.jsx(cr,{value:"programadas",className:"space-y-4",children:l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Notificaciones Programadas"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona y consulta las notificaciones que estn programadas para envo futuro."})]}),l.jsx(ft,{children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Fecha Programada"}),l.jsx(Pt,{children:"Plantilla"}),l.jsx(Pt,{children:"Destinatarios"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"Acciones"})]})}),l.jsx(zo,{children:R?l.jsx(or,{children:l.jsx(St,{colSpan:5,className:"text-center py-8",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):P?.length>0?P.map(H=>l.jsxs(or,{"data-testid":`row-scheduled-${H.id}`,children:[l.jsx(St,{"data-testid":`text-scheduled-date-${H.id}`,children:new Date(H.fechaProgramada).toLocaleDateString("es-ES")}),l.jsx(St,{"data-testid":`text-scheduled-template-${H.id}`,children:H.template?.nombre||"N/A"}),l.jsx(St,{"data-testid":`text-scheduled-recipients-${H.id}`,children:H.destinatariosSeleccionados==="all"?"Todos":H.destinatariosSeleccionados}),l.jsx(St,{"data-testid":`text-scheduled-status-${H.id}`,children:l.jsx(bt,{variant:"secondary",children:H.estado})}),l.jsx(St,{"data-testid":`div-scheduled-actions-${H.id}`,children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{size:"sm",variant:"outline","data-testid":`button-edit-scheduled-${H.id}`,children:l.jsx(Bu,{className:"h-3 w-3"})}),l.jsx(_e,{size:"sm",variant:"outline","data-testid":`button-cancel-scheduled-${H.id}`,children:l.jsx(ka,{className:"h-3 w-3"})})]})})]},H.id)):l.jsx(or,{children:l.jsx(St,{colSpan:5,className:"text-center py-8 text-muted-foreground","data-testid":"text-empty-scheduled",children:"No hay notificaciones programadas"})})})]})})]})})]})]})}const gUe=[{type:"PYME",icon:ble,title:"PYME",description:"Presupuesto para empresas (Contabilidad, nminas, facturacin)",color:"bg-blue-50 hover:bg-blue-100 border-blue-200",iconColor:"text-blue-600"},{type:"AUTONOMO",icon:Di,title:"Autnomo",description:"Presupuesto para trabajadores autnomos (Facturas, tributacin)",color:"bg-green-50 hover:bg-green-100 border-green-200",iconColor:"text-green-600"},{type:"RENTA",icon:Gle,title:"Renta",description:"Declaracin de la Renta (IRPF, inmuebles, ganancias)",color:"bg-amber-50 hover:bg-amber-100 border-amber-200",iconColor:"text-amber-600"},{type:"HERENCIAS",icon:xW,title:"Herencias",description:"Gestin de herencias (Herederos, fincas, vehculos, plusvalas)",color:"bg-purple-50 hover:bg-purple-100 border-purple-200",iconColor:"text-purple-600"}];function vUe({onSelectType:t}){return l.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Nuevo Presupuesto"}),l.jsx("p",{className:"text-muted-foreground",children:"Selecciona el tipo de presupuesto que deseas crear"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:gUe.map(e=>{const n=e.icon;return l.jsxs(dt,{className:`cursor-pointer transition-all ${e.color} border-2 hover:shadow-lg`,onClick:()=>t(e.type),children:[l.jsx(Dt,{children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 rounded-lg bg-white shadow-sm",children:l.jsx(n,{className:`h-8 w-8 ${e.iconColor}`})}),l.jsx("div",{children:l.jsx($t,{className:"text-xl",children:e.title})})]})}),l.jsx(ft,{children:l.jsx(lf,{className:"text-base",children:e.description})})]},e.type)})})]})}function yUe({onSubmit:t,onCancel:e}){const[n,r]=S.useState("LA_LLAVE"),[i,s]=S.useState(""),[a,o]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(""),[b,v]=S.useState(0),[y,w]=S.useState(0),[_,E]=S.useState(0),[A,k]=S.useState(!1),[P,R]=S.useState(!1),[T,M]=S.useState(!1),[B,O]=S.useState(!1),[F,q]=S.useState("TRIMESTRAL"),[z,K]=S.useState(!1),Z=H=>{H.preventDefault(),t({asientosMes:b,nominasMes:y,facturacion:_,irpfAlquileres:A,ivaIntracomunitario:P,notificaciones:T,estadisticasINE:B,periodo:F,emprendedor:z},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return l.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[l.jsxs(dt,{className:"border-2 border-primary/20 bg-primary/5",children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2",children:[l.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),l.jsx(ft,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),l.jsxs(Wn,{value:n,onValueChange:H=>r(H),children:[l.jsx(Bn,{id:"companyBrand",children:l.jsx(Kn,{placeholder:"Selecciona empresa"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"LA_LLAVE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),l.jsx(tt,{value:"GESTORIA_ONLINE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Gestora Online"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Datos del Cliente"})}),l.jsx(ft,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientName",children:"Nombre / Razn Social *"}),l.jsx(Ke,{id:"clientName",required:!0,value:i,onChange:H=>s(H.target.value),placeholder:"Empresa SL"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientNif",children:"NIF / CIF *"}),l.jsx(Ke,{id:"clientNif",required:!0,value:a,onChange:H=>o(H.target.value),placeholder:"B12345678"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientPhone",children:"Telfono"}),l.jsx(Ke,{id:"clientPhone",value:d,onChange:H=>f(H.target.value),placeholder:"600123456"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientEmail",children:"Email"}),l.jsx(Ke,{id:"clientEmail",type:"email",value:c,onChange:H=>u(H.target.value),placeholder:"cliente@ejemplo.com"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientAddress",children:"Direccin Completa"}),l.jsx(Ke,{id:"clientAddress",value:m,onChange:H=>p(H.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Caractersticas de la PYME"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"asientosMes",children:"Nivel Contable (Asientos/mes) *"}),l.jsxs(Wn,{value:b.toString(),onValueChange:H=>v(Number(H)),required:!0,children:[l.jsx(Bn,{id:"asientosMes",children:l.jsx(Kn,{placeholder:"Selecciona nivel"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"0",children:"0 asientos (120 /mes)"}),l.jsx(tt,{value:"1",children:"1-25 asientos (150 /mes)"}),l.jsx(tt,{value:"2",children:"26-50 asientos (200 /mes)"}),l.jsx(tt,{value:"3",children:"51-100 asientos (250 /mes)"}),l.jsx(tt,{value:"4",children:"101-150 asientos (300 /mes)"}),l.jsx(tt,{value:"5",children:"151-200 asientos (350 /mes)"}),l.jsx(tt,{value:"6",children:"201-250 asientos (400 /mes)"}),l.jsx(tt,{value:"7",children:"251-350 asientos (475 /mes)"}),l.jsx(tt,{value:"8",children:">350 asientos (525 /mes)"})]})]})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"nominasMes",children:"Nminas al mes"}),l.jsx(Ke,{id:"nominasMes",type:"number",min:"0",value:y,onChange:H=>w(Number(H.target.value)),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"facturacion",children:"Facturacin anual ()"}),l.jsx(Ke,{id:"facturacion",type:"number",min:"0",step:"1000",value:_,onChange:H=>E(Number(H.target.value)),placeholder:"100000"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"periodo",children:"Periodo de Liquidacin"}),l.jsxs(Wn,{value:F,onValueChange:H=>q(H),children:[l.jsx(Bn,{id:"periodo",children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"TRIMESTRAL",children:"Trimestral"}),l.jsx(tt,{value:"MENSUAL",children:"Mensual"})]})]})]})]}),l.jsx(Wa,{className:"my-4"}),l.jsxs("div",{children:[l.jsx(Re,{className:"text-base font-semibold mb-3 block",children:"Servicios Adicionales"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"irpfAlquileres",checked:A,onCheckedChange:H=>k(!!H)}),l.jsx("label",{htmlFor:"irpfAlquileres",className:"text-sm cursor-pointer",children:"IRPF Alquileres (+10 )"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"ivaIntracomunitario",checked:P,onCheckedChange:H=>R(!!H)}),l.jsx("label",{htmlFor:"ivaIntracomunitario",className:"text-sm cursor-pointer",children:"IVA Intracomunitario (+10 )"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"notificaciones",checked:T,onCheckedChange:H=>M(!!H)}),l.jsx("label",{htmlFor:"notificaciones",className:"text-sm cursor-pointer",children:"Notificaciones AEAT (+5 )"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"estadisticasINE",checked:B,onCheckedChange:H=>O(!!H)}),l.jsx("label",{htmlFor:"estadisticasINE",className:"text-sm cursor-pointer",children:"Estadsticas INE (+5 )"})]})]})]}),l.jsx(Wa,{className:"my-4"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"emprendedor",checked:z,onCheckedChange:H=>K(!!H)}),l.jsx("label",{htmlFor:"emprendedor",className:"text-sm font-medium cursor-pointer",children:"Emprendedor (Descuento 20%)"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsxs(_e,{type:"button",variant:"outline",onClick:e,children:[l.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),l.jsxs(_e,{type:"submit",children:[l.jsx(xN,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function bUe({onSubmit:t,onCancel:e}){const[n,r]=S.useState("LA_LLAVE"),[i,s]=S.useState(""),[a,o]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(""),[b,v]=S.useState(25),[y,w]=S.useState(0),[_,E]=S.useState(0),[A,k]=S.useState(!1),[P,R]=S.useState(!1),[T,M]=S.useState(!1),[B,O]=S.useState(!1),[F,q]=S.useState("TRIMESTRAL"),[z,K]=S.useState("NORMAL"),[Z,H]=S.useState(!1),W=Y=>{Y.preventDefault(),t({facturasMes:b,nominasMes:y,facturacion:_,irpfAlquileres:A,ivaIntracomunitario:P,notificaciones:T,estadisticasINE:B,periodo:F,sistemaTributacion:z,emprendedor:Z},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return l.jsxs("form",{onSubmit:W,className:"space-y-6",children:[l.jsxs(dt,{className:"border-2 border-primary/20 bg-primary/5",children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2",children:[l.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),l.jsx(ft,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),l.jsxs(Wn,{value:n,onValueChange:Y=>r(Y),children:[l.jsx(Bn,{id:"companyBrand",children:l.jsx(Kn,{placeholder:"Selecciona empresa"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"LA_LLAVE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),l.jsx(tt,{value:"GESTORIA_ONLINE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Gestora Online"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Datos del Cliente"})}),l.jsx(ft,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientName",children:"Nombre Completo *"}),l.jsx(Ke,{id:"clientName",required:!0,value:i,onChange:Y=>s(Y.target.value),placeholder:"Juan Prez"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientNif",children:"NIF / DNI *"}),l.jsx(Ke,{id:"clientNif",required:!0,value:a,onChange:Y=>o(Y.target.value),placeholder:"12345678A"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientPhone",children:"Telfono"}),l.jsx(Ke,{id:"clientPhone",value:d,onChange:Y=>f(Y.target.value),placeholder:"600123456"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientEmail",children:"Email"}),l.jsx(Ke,{id:"clientEmail",type:"email",value:c,onChange:Y=>u(Y.target.value),placeholder:"cliente@ejemplo.com"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientAddress",children:"Direccin Completa"}),l.jsx(Ke,{id:"clientAddress",value:m,onChange:Y=>p(Y.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Caractersticas del Autnomo"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"facturasMes",children:"Facturas al mes *"}),l.jsxs(Wn,{value:b.toString(),onValueChange:Y=>v(Number(Y)),required:!0,children:[l.jsx(Bn,{id:"facturasMes",children:l.jsx(Kn,{placeholder:"Selecciona rango"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"25",children:"Hasta 25 facturas (45 /mes)"}),l.jsx(tt,{value:"50",children:"26-50 facturas (70 /mes)"}),l.jsx(tt,{value:"100",children:"51-100 facturas (90 /mes)"}),l.jsx(tt,{value:"150",children:"101-150 facturas (105 /mes)"}),l.jsx(tt,{value:"200",children:">150 facturas (125 /mes)"})]})]})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"nominasMes",children:"Nminas al mes"}),l.jsx(Ke,{id:"nominasMes",type:"number",min:"0",value:y,onChange:Y=>w(Number(Y.target.value)),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"facturacion",children:"Facturacin anual ()"}),l.jsx(Ke,{id:"facturacion",type:"number",min:"0",step:"1000",value:_,onChange:Y=>E(Number(Y.target.value)),placeholder:"50000"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"periodo",children:"Periodo de Liquidacin"}),l.jsxs(Wn,{value:F,onValueChange:Y=>q(Y),children:[l.jsx(Bn,{id:"periodo",children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"TRIMESTRAL",children:"Trimestral"}),l.jsx(tt,{value:"MENSUAL",children:"Mensual"})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"sistemaTributacion",children:"Sistema de Tributacin"}),l.jsxs(Wn,{value:z,onValueChange:Y=>K(Y),children:[l.jsx(Bn,{id:"sistemaTributacion",children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"NORMAL",children:"Normal"}),l.jsx(tt,{value:"ESN",children:"Estimacin Simplificada (ESN) +10%"}),l.jsx(tt,{value:"MODULOS",children:"Mdulos -10%"})]})]})]})]}),l.jsx(Wa,{className:"my-4"}),l.jsxs("div",{children:[l.jsx(Re,{className:"text-base font-semibold mb-3 block",children:"Servicios Adicionales"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"irpfAlquileres",checked:A,onCheckedChange:Y=>k(!!Y)}),l.jsx("label",{htmlFor:"irpfAlquileres",className:"text-sm cursor-pointer",children:"IRPF Alquileres (+10 )"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"ivaIntracomunitario",checked:P,onCheckedChange:Y=>R(!!Y)}),l.jsx("label",{htmlFor:"ivaIntracomunitario",className:"text-sm cursor-pointer",children:"IVA Intracomunitario (+10 )"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"notificaciones",checked:T,onCheckedChange:Y=>M(!!Y)}),l.jsx("label",{htmlFor:"notificaciones",className:"text-sm cursor-pointer",children:"Notificaciones AEAT (+5 )"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"estadisticasINE",checked:B,onCheckedChange:Y=>O(!!Y)}),l.jsx("label",{htmlFor:"estadisticasINE",className:"text-sm cursor-pointer",children:"Estadsticas INE (+5 )"})]})]})]}),l.jsx(Wa,{className:"my-4"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"emprendedor",checked:Z,onCheckedChange:Y=>H(!!Y)}),l.jsx("label",{htmlFor:"emprendedor",className:"text-sm font-medium cursor-pointer",children:"Emprendedor (Descuento 20%)"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsxs(_e,{type:"button",variant:"outline",onClick:e,children:[l.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),l.jsxs(_e,{type:"submit",children:[l.jsx(xN,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function xUe({onSubmit:t,onCancel:e}){const[n,r]=S.useState("LA_LLAVE"),[i,s]=S.useState(""),[a,o]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(""),[b,v]=S.useState("OTROS"),[y,w]=S.useState(!1),[_,E]=S.useState(0),[A,k]=S.useState(0),[P,R]=S.useState(0),[T,M]=S.useState(0),B=O=>{O.preventDefault(),t({unidadFamiliar:b,autonomo:y,inmueblesAlquilados:_,ventaInmuebles:A,ventaFinancieros:P,otrasGanancias:T},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return l.jsxs("form",{onSubmit:B,className:"space-y-6",children:[l.jsxs(dt,{className:"border-2 border-primary/20 bg-primary/5",children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2",children:[l.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),l.jsx(ft,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),l.jsxs(Wn,{value:n,onValueChange:O=>r(O),children:[l.jsx(Bn,{id:"companyBrand",children:l.jsx(Kn,{placeholder:"Selecciona empresa"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"LA_LLAVE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),l.jsx(tt,{value:"GESTORIA_ONLINE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Gestora Online"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Datos del Cliente"})}),l.jsx(ft,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientName",children:"Nombre Completo *"}),l.jsx(Ke,{id:"clientName",required:!0,value:i,onChange:O=>s(O.target.value),placeholder:"Juan Prez"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientNif",children:"NIF / DNI *"}),l.jsx(Ke,{id:"clientNif",required:!0,value:a,onChange:O=>o(O.target.value),placeholder:"12345678A"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientPhone",children:"Telfono"}),l.jsx(Ke,{id:"clientPhone",value:d,onChange:O=>f(O.target.value),placeholder:"600123456"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientEmail",children:"Email"}),l.jsx(Ke,{id:"clientEmail",type:"email",value:c,onChange:O=>u(O.target.value),placeholder:"cliente@ejemplo.com"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientAddress",children:"Direccin Completa"}),l.jsx(Ke,{id:"clientAddress",value:m,onChange:O=>p(O.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Declaracin de la Renta (IRPF)"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"unidadFamiliar",children:"Unidad Familiar *"}),l.jsxs(Wn,{value:b,onValueChange:O=>v(O),required:!0,children:[l.jsx(Bn,{id:"unidadFamiliar",children:l.jsx(Kn,{placeholder:"Selecciona tipo"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"OTROS",children:"Individual u otros (40 )"}),l.jsx(tt,{value:"MATRIMONIO",children:"Matrimonio (50 )"}),l.jsx(tt,{value:"MATRIMONIO_HIJOS",children:"Matrimonio con hijos (50 )"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"autonomo",checked:y,onCheckedChange:O=>w(!!O)}),l.jsx("label",{htmlFor:"autonomo",className:"text-sm cursor-pointer",children:"Actividad Econmica (Autnomo) +20 "})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx(Re,{className:"text-base font-semibold mb-3 block",children:"Ganancias Patrimoniales (cantidad de operaciones)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"inmueblesAlquilados",children:"Inmuebles alquilados"}),l.jsx(Ke,{id:"inmueblesAlquilados",type:"number",min:"0",value:_,onChange:O=>E(Number(O.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"15  por inmueble"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"ventaInmuebles",children:"Venta de inmuebles"}),l.jsx(Ke,{id:"ventaInmuebles",type:"number",min:"0",value:A,onChange:O=>k(Number(O.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por venta"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"ventaFinancieros",children:"Venta de acciones/productos financieros"}),l.jsx(Ke,{id:"ventaFinancieros",type:"number",min:"0",value:P,onChange:O=>R(Number(O.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por operacin"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"otrasGanancias",children:"Otras ganancias patrimoniales"}),l.jsx(Ke,{id:"otrasGanancias",type:"number",min:"0",value:T,onChange:O=>M(Number(O.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por operacin"})]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsxs(_e,{type:"button",variant:"outline",onClick:e,children:[l.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),l.jsxs(_e,{type:"submit",children:[l.jsx(xN,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}const wUe=Sm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Pse=S.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:pt(wUe({variant:e}),t),...n}));Pse.displayName="Alert";const SUe=S.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:pt("mb-1 font-medium leading-none tracking-tight",t),...e}));SUe.displayName="AlertTitle";const Mse=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:pt("text-sm [&_p]:leading-relaxed",t),...e}));Mse.displayName="AlertDescription";function NUe({onSubmit:t,onCancel:e}){const[n,r]=S.useState("LA_LLAVE"),[i,s]=S.useState(""),[a,o]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(""),[b,v]=S.useState(2e4),[y,w]=S.useState(1),[_,E]=S.useState(0),[A,k]=S.useState(0),[P,R]=S.useState(0),[T,M]=S.useState(0),[B,O]=S.useState(!1),[F,q]=S.useState(!1),[z,K]=S.useState(!1),[Z,H]=S.useState(!1),W=Y=>{if(Y.preventDefault(),b<2e4){alert("El caudal hereditario mnimo es de 20.000");return}if(!(_>0||A>0||P>0||T>0)){alert("Debe haber al menos un inmueble, producto financiero o vehculo");return}t({caudalHereditario:b,herederos:y,fincasComunidad:_,fincasOtras:A,productosFinancieros:P,vehiculos:T,sinTestamento:B,sinAcuerdo:F,escriturar:z,aplicarDescuento15:Z},{clientName:i,clientNif:a,clientEmail:c,clientPhone:d,clientAddress:m,companyBrand:n})};return l.jsxs("form",{onSubmit:W,className:"space-y-6",children:[l.jsxs(dt,{className:"border-2 border-primary/20 bg-primary/5",children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2",children:[l.jsx("span",{children:""})," Empresa Emisora del Presupuesto"]})}),l.jsx(ft,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{htmlFor:"companyBrand",children:"Selecciona la empresa que emitir este presupuesto *"}),l.jsxs(Wn,{value:n,onValueChange:Y=>r(Y),children:[l.jsx(Bn,{id:"companyBrand",children:l.jsx(Kn,{placeholder:"Selecciona empresa"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"LA_LLAVE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Asesora La Llave"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"C/ Legans, 17 - Getafe"})]})}),l.jsx(tt,{value:"GESTORIA_ONLINE",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-semibold",children:"Gestora Online"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Servicios digitales"})]})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta opcin determina qu logo y datos aparecern en el PDF del presupuesto."})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Datos del Cliente"})}),l.jsx(ft,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientName",children:"Nombre Completo *"}),l.jsx(Ke,{id:"clientName",required:!0,value:i,onChange:Y=>s(Y.target.value),placeholder:"Juan Prez"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientNif",children:"NIF / DNI *"}),l.jsx(Ke,{id:"clientNif",required:!0,value:a,onChange:Y=>o(Y.target.value),placeholder:"12345678A"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientPhone",children:"Telfono"}),l.jsx(Ke,{id:"clientPhone",value:d,onChange:Y=>f(Y.target.value),placeholder:"600123456"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientEmail",children:"Email"}),l.jsx(Ke,{id:"clientEmail",type:"email",value:c,onChange:Y=>u(Y.target.value),placeholder:"cliente@ejemplo.com"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientAddress",children:"Direccin Completa"}),l.jsx(Ke,{id:"clientAddress",value:m,onChange:Y=>p(Y.target.value),placeholder:"Calle Ejemplo 123, 28001 Madrid"})]})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Gestin de Herencia"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs(Pse,{children:[l.jsx(Gc,{className:"h-4 w-4"}),l.jsx(Mse,{children:"Caudal hereditario mnimo: 20.000 . Debe haber al menos un inmueble, producto financiero o vehculo."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"caudalHereditario",children:"Caudal Hereditario () *"}),l.jsx(Ke,{id:"caudalHereditario",type:"number",min:"20000",step:"1000",required:!0,value:b,onChange:Y=>v(Number(Y.target.value)),placeholder:"20000"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recargo 0.1% del caudal"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"herederos",children:"Nmero de herederos"}),l.jsx(Ke,{id:"herederos",type:"number",min:"1",value:y,onChange:Y=>w(Number(Y.target.value)),placeholder:"1"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"25  por heredero"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"fincasComunidad",children:"Fincas en la Comunidad Autnoma"}),l.jsx(Ke,{id:"fincasComunidad",type:"number",min:"0",value:_,onChange:Y=>E(Number(Y.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"25  + 50  plusvala + 50  registro"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"fincasOtras",children:"Fincas en otras CCAA"}),l.jsx(Ke,{id:"fincasOtras",type:"number",min:"0",value:A,onChange:Y=>k(Number(Y.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"40  + 50  plusvala + 50  registro"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"productosFinancieros",children:"Productos financieros"}),l.jsx(Ke,{id:"productosFinancieros",type:"number",min:"0",value:P,onChange:Y=>R(Number(Y.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"20  por producto"})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"vehiculos",children:"Vehculos"}),l.jsx(Ke,{id:"vehiculos",type:"number",min:"0",value:T,onChange:Y=>M(Number(Y.target.value)),placeholder:"0"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"30  por vehculo"})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx(Re,{className:"text-base font-semibold mb-3 block",children:"Recargos"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"sinTestamento",checked:B,onCheckedChange:Y=>O(!!Y)}),l.jsx("label",{htmlFor:"sinTestamento",className:"text-sm cursor-pointer",children:"Sin testamento (+30% sobre base)"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"sinAcuerdo",checked:F,onCheckedChange:Y=>q(!!Y)}),l.jsx("label",{htmlFor:"sinAcuerdo",className:"text-sm cursor-pointer",children:"Sin acuerdo entre herederos (+60% sobre base)"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"escriturar",checked:z,onCheckedChange:Y=>K(!!Y)}),l.jsx("label",{htmlFor:"escriturar",className:"text-sm cursor-pointer",children:"Escrituracin de herencia (+30% sobre base)"})]})]})]}),l.jsx("div",{className:"border-t pt-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"aplicarDescuento15",checked:Z,onCheckedChange:Y=>H(!!Y)}),l.jsx("label",{htmlFor:"aplicarDescuento15",className:"text-sm font-medium cursor-pointer",children:"Aplicar descuento comercial (15%)"})]})})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3",children:[l.jsxs(_e,{type:"button",variant:"outline",onClick:e,children:[l.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),l.jsxs(_e,{type:"submit",children:[l.jsx(xN,{className:"h-4 w-4 mr-2"}),"Calcular y Crear Presupuesto"]})]})]})}function _Ue(){const{toast:t}=li(),[,e]=Ko(),[n,r]=S.useState("type-selector"),[i,s]=S.useState(null),[a,o]=S.useState(!1),c=f=>{s(f),r("form")},u=()=>{n==="form"?(r("type-selector"),s(null)):e("/documentacion/presupuestos")},d=async(f,m)=>{if(i){o(!0);try{const p={type:i,inputs:f,...m},b=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(p)});if(!b.ok){const y=await b.json();throw new Error(y.error||"Error al crear presupuesto")}const v=await b.json();t({title:"Presupuesto creado",description:`Cdigo: ${v.code}`}),e("/documentacion/presupuestos")}catch(p){t({title:"Error",description:p.message,variant:"destructive"})}finally{o(!1)}}};return n==="type-selector"?l.jsx(vUe,{onSelectType:c}):l.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[l.jsx("div",{className:"mb-6",children:l.jsx("button",{onClick:u,className:"text-sm text-muted-foreground hover:text-foreground",children:" Volver a seleccin de tipo"})}),i==="PYME"&&l.jsx(yUe,{onSubmit:d,onCancel:u}),i==="AUTONOMO"&&l.jsx(bUe,{onSubmit:d,onCancel:u}),i==="RENTA"&&l.jsx(xUe,{onSubmit:d,onCancel:u}),i==="HERENCIAS"&&l.jsx(NUe,{onSubmit:d,onCancel:u})]})}function iV(){const[t,e]=mN("/documentacion/presupuestos/:id"),{toast:n}=li(),[r,i]=S.useState(!1),s=e?.id,a=()=>{if(!s)return;const p=localStorage.getItem("token")||document.cookie.split("; ").find(b=>b.startsWith("token="))?.split("=")[1];if(!p){n({variant:"destructive",title:"Error",description:"No se encontr el token de autenticacin"});return}window.open(`/api/budgets/${s}/pdf?token=${encodeURIComponent(p)}`,"_blank")},{data:o,isLoading:c,error:u}=Sn({queryKey:["/api/budgets",s],queryFn:async()=>{if(!s)throw new Error("ID no proporcionado");const p=await fetch(`/api/budgets/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!p.ok)throw new Error("No se pudo cargar el presupuesto");return p.json()},enabled:!!s,staleTime:3e4}),d=hn({mutationFn:async()=>{if(!s)throw new Error("ID no proporcionado");return tn("POST",`/api/budgets/${s}/send`,{})},onSuccess:()=>{n({title:"Enviado",description:"El presupuesto se ha enviado por email"}),rn.invalidateQueries({queryKey:["/api/budgets",s]})},onError:p=>{n({title:"Error",description:p?.message||"No se pudo enviar",variant:"destructive"})}});if(!t||!s)return l.jsx("div",{className:"p-8",children:l.jsx(dt,{children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx(Gc,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Presupuesto no encontrado"}),l.jsx(wl,{href:"/documentacion/presupuestos",children:l.jsx(_e,{className:"mt-4",variant:"outline",children:"Volver a la lista"})})]})})});const f=p=>{const b=p.toUpperCase();return b==="ACCEPTED"?l.jsxs(bt,{className:"bg-emerald-100 text-emerald-700",children:[l.jsx(nc,{className:"h-3 w-3 mr-1"}),"Aceptado"]}):b==="SENT"?l.jsxs(bt,{className:"bg-blue-100 text-blue-700",children:[l.jsx(e2,{className:"h-3 w-3 mr-1"}),"Enviado"]}):b==="ARCHIVED"?l.jsx(bt,{variant:"secondary",children:"Archivado"}):l.jsxs(bt,{className:"bg-amber-100 text-amber-700",children:[l.jsx(qo,{className:"h-3 w-3 mr-1"}),"Borrador"]})},m=(p,b)=>{if(!p||b==="ACCEPTED"||b==="ARCHIVED")return null;const v=new Date,y=new Date(p),w=Math.ceil((y.getTime()-v.getTime())/(1e3*60*60*24));return w<0?{text:"Vencido",variant:"destructive"}:w<=3?{text:`Vence en ${w} das`,variant:"destructive"}:w<=7?{text:`Vence en ${w} das`,variant:"default"}:{text:`Vlido hasta ${y.toLocaleDateString()}`,variant:"outline"}};return l.jsx("div",{className:"p-8 space-y-6",children:c?l.jsxs("div",{className:"space-y-6",children:[l.jsx(Vn,{className:"h-32 w-full"}),l.jsx(Vn,{className:"h-64 w-full"}),l.jsx(Vn,{className:"h-48 w-full"})]}):u||!o?l.jsx(dt,{children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx(Gc,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),l.jsx("p",{className:"text-lg font-semibold mb-2",children:"Error al cargar"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No se pudo obtener la informacin del presupuesto"}),l.jsx(wl,{href:"/documentacion/presupuestos",children:l.jsx(_e,{variant:"outline",children:"Volver a la lista"})})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(wl,{href:"/documentacion/presupuestos",children:l.jsxs(_e,{variant:"ghost",size:"sm",children:[l.jsx(bN,{className:"h-4 w-4 mr-2"}),"Volver"]})})}),l.jsxs("h1",{className:"text-3xl font-display font-bold",children:["Presupuesto ",o.code]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Serie ",o.series,"  N ",o.number,"/",o.year]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[f(o.status),m(o.expiresAt,o.status)&&l.jsxs(bt,{variant:m(o.expiresAt,o.status).variant,children:[l.jsx(qo,{className:"h-3 w-3 mr-1"}),m(o.expiresAt,o.status).text]})]})]}),l.jsx(dt,{children:l.jsx(ft,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(_e,{onClick:()=>d.mutate(),disabled:d.isPending||o.status==="ACCEPTED",children:[l.jsx(e2,{className:"h-4 w-4 mr-2"}),d.isPending?"Enviando...":"Enviar por Email"]}),l.jsxs(_e,{variant:"outline",onClick:a,children:[l.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Descargar PDF"]}),l.jsx(wl,{href:`/documentacion/presupuestos/${o.id}/editar`,children:l.jsxs(_e,{variant:"outline",children:[l.jsx(Bu,{className:"h-4 w-4 mr-2"}),"Editar"]})})]})})}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Informacin del Cliente"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ex,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Nombre / Razn Social"}),l.jsx("p",{className:"font-semibold",children:o.clientName})]})]}),o.clientEmail&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Qw,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),l.jsx("p",{className:"font-semibold",children:o.clientEmail})]})]}),o.clientPhone&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Wle,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Telfono"}),l.jsx("p",{className:"font-semibold",children:o.clientPhone})]})]}),o.activity&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xle,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actividad"}),l.jsx("p",{className:"font-semibold",children:o.activity})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de emisin"}),l.jsx("p",{className:"font-semibold",children:new Date(o.date).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vigencia"}),l.jsxs("p",{className:"font-semibold",children:[o.validDays," das"]})]}),o.expiresAt&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vence el"}),l.jsx("p",{className:"font-semibold",children:new Date(o.expiresAt).toLocaleDateString()})]})]}),o.acceptedAt&&l.jsxs("div",{className:"pt-4 border-t",children:[l.jsxs(bt,{className:"bg-emerald-100 text-emerald-700 mb-2",children:[l.jsx(nc,{className:"h-3 w-3 mr-1"}),"Aceptado el ",new Date(o.acceptedAt).toLocaleString()]}),o.acceptedByIp&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["IP: ",o.acceptedByIp,"  ",o.acceptedByAgent||"N/A"]})]})]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Lneas del Presupuesto"})}),l.jsx(ft,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm font-medium text-muted-foreground pb-2 border-b",children:[l.jsx("div",{className:"col-span-5",children:"Concepto"}),l.jsx("div",{className:"col-span-2 text-center",children:"Cantidad"}),l.jsx("div",{className:"col-span-2 text-right",children:"Precio Unit."}),l.jsx("div",{className:"col-span-1 text-center",children:"IVA %"}),l.jsx("div",{className:"col-span-2 text-right",children:"Subtotal"})]}),o.items.map(p=>l.jsxs("div",{className:"grid grid-cols-12 gap-2 text-sm py-2 border-b",children:[l.jsx("div",{className:"col-span-5",children:p.concept}),l.jsx("div",{className:"col-span-2 text-center",children:p.quantity}),l.jsxs("div",{className:"col-span-2 text-right",children:[Number(p.price).toFixed(2)," "]}),l.jsxs("div",{className:"col-span-1 text-center",children:[p.vatPct,"%"]}),l.jsxs("div",{className:"col-span-2 text-right font-semibold",children:[Number(p.subtotal).toFixed(2)," "]})]},p.id))]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Totales"})}),l.jsxs(ft,{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal (Base Imponible):"}),l.jsxs("span",{className:"font-semibold",children:[Number(o.subtotal).toFixed(2)," "]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"IVA Total:"}),l.jsxs("span",{className:"font-semibold",children:[Number(o.vatTotal).toFixed(2)," "]})]}),l.jsx(Wa,{}),l.jsxs("div",{className:"flex justify-between text-xl",children:[l.jsx("span",{className:"font-bold",children:"TOTAL:"}),l.jsxs("span",{className:"font-bold text-primary",children:[Number(o.total).toFixed(2)," "]})]})]})]}),o.emails&&o.emails.length>0&&l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Historial de Envos"})}),l.jsx(ft,{children:l.jsx("div",{className:"space-y-2",children:o.emails.map(p=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Qw,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:p.subject}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.recipientEmail,"  ",new Date(p.sentAt).toLocaleString()]})]})]}),l.jsx(bt,{variant:p.status==="SENT"?"default":"destructive",children:p.status})]},p.id))})})]}),o.notes&&l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Notas Internas"})}),l.jsx(ft,{children:l.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:o.notes})})]})]})})}function EUe(){const[t,e]=mN("/documentacion/presupuestos/:id/editar"),[,n]=Ko(),{toast:r}=li(),i=e?.id,[s,a]=S.useState(""),[o,c]=S.useState(""),[u,d]=S.useState(""),[f,m]=S.useState(""),[p,b]=S.useState(""),[v,y]=S.useState(30),[w,_]=S.useState(""),[E,A]=S.useState(""),[k,P]=S.useState([]),[R,T]=S.useState(!1),[M,B]=S.useState(""),{data:O,isLoading:F}=Sn({queryKey:["/api/budgets",i],queryFn:async()=>{if(!i)throw new Error("ID no proporcionado");const I=await fetch(`/api/budgets/${i}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(!I.ok)throw new Error("No se pudo cargar el presupuesto");return I.json()},enabled:!!i});S.useEffect(()=>{if(O){a(O.clientName||""),c(O.clientNif||""),d(O.clientEmail||""),m(O.clientPhone||""),b(O.clientAddress||""),y(O.validityDays||30),_(O.paymentTerms||""),A(O.notes||"");const I=(O.items||[]).map(G=>({...G,quantity:Number(G.quantity),unitPrice:Number(G.unitPrice),vatPct:Number(G.vatPct),subtotal:Number(G.subtotal),total:Number(G.total)}));P(I),O.customTotal&&Number(O.customTotal)>0&&(T(!0),B(Number(O.customTotal).toString()))}},[O]);const q=hn({mutationFn:async I=>{const G=await fetch(`/api/budgets/${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include",body:JSON.stringify(I)});if(!G.ok)throw new Error("Error al actualizar el presupuesto");return G.json()},onSuccess:()=>{rn.invalidateQueries({queryKey:["/api/budgets"]}),r({title:"Presupuesto actualizado",description:"Los cambios se han guardado correctamente"}),n(`/documentacion/presupuestos/${i}`)},onError:I=>{r({variant:"destructive",title:"Error",description:I.message||"No se pudo actualizar el presupuesto"})}}),z=()=>{let I=0,G=0;k.forEach(ie=>{const he=ie.quantity*ie.unitPrice,J=he*(ie.vatPct/100);I+=he,G+=J});const ne={clientName:s,clientNif:o||null,clientEmail:u||null,clientPhone:f||null,clientAddress:p||null,validityDays:v,paymentTerms:w||null,notes:E||null,items:k.map((ie,he)=>({concept:ie.concept,category:ie.category||null,position:he+1,quantity:ie.quantity,unitPrice:ie.unitPrice,vatPct:ie.vatPct,isManuallyEdited:ie.isManuallyEdited||!0})),subtotal:I,vatTotal:G,total:I+G};R&&M?ne.customTotal=parseFloat(M):ne.customTotal=null,q.mutate(ne)},K=(I,G,ne)=>{const ie=[...k];if(ie[I]={...ie[I],[G]:ne},G==="quantity"||G==="unitPrice"||G==="vatPct"){const he=G==="quantity"?parseFloat(ne)||0:ie[I].quantity,J=G==="unitPrice"?parseFloat(ne)||0:ie[I].unitPrice,ue=G==="vatPct"?parseFloat(ne)||0:ie[I].vatPct,ae=he*J,X=ae*(1+ue/100);ie[I].subtotal=ae,ie[I].total=X,ie[I].isManuallyEdited=!0}P(ie)},Z=()=>{P([...k,{concept:"",position:k.length+1,quantity:1,unitPrice:0,vatPct:21,subtotal:0,total:0,isManuallyEdited:!0}])},H=I=>{P(k.filter((G,ne)=>ne!==I))};if(F)return l.jsx("div",{className:"p-8",children:"Cargando..."});if(!O)return l.jsx("div",{className:"p-8",children:"Presupuesto no encontrado"});const W=k.reduce((I,G)=>I+G.quantity*G.unitPrice,0),Y=k.reduce((I,G)=>I+G.quantity*G.unitPrice*G.vatPct/100,0),ge=W+Y,Q=R&&M?parseFloat(M):ge;return l.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx(wl,{href:`/documentacion/presupuestos/${i}`,children:l.jsxs(_e,{variant:"ghost",size:"sm",children:[l.jsx(bN,{className:"h-4 w-4 mr-2"}),"Volver"]})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Editar Presupuesto"}),l.jsx("p",{className:"text-muted-foreground",children:O.code})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Informacin del Cliente"})}),l.jsx(ft,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientName",children:"Nombre / Razn Social *"}),l.jsx(Ke,{id:"clientName",value:s,onChange:I=>a(I.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientNif",children:"NIF/CIF"}),l.jsx(Ke,{id:"clientNif",value:o,onChange:I=>c(I.target.value)})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientEmail",children:"Email"}),l.jsx(Ke,{id:"clientEmail",type:"email",value:u,onChange:I=>d(I.target.value)})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"clientPhone",children:"Telfono"}),l.jsx(Ke,{id:"clientPhone",value:f,onChange:I=>m(I.target.value)})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{htmlFor:"clientAddress",children:"Direccin"}),l.jsx(Ke,{id:"clientAddress",value:p,onChange:I=>b(I.target.value)})]})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx($t,{children:"Conceptos"}),l.jsxs(_e,{onClick:Z,size:"sm",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Aadir Concepto"]})]})}),l.jsx(ft,{children:l.jsx("div",{className:"space-y-4",children:k.map((I,G)=>l.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-6 gap-3",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Re,{children:"Concepto"}),l.jsx(Ke,{value:I.concept,onChange:ne=>K(G,"concept",ne.target.value)})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Cantidad"}),l.jsx(Ke,{type:"number",step:"0.01",value:I.quantity,onChange:ne=>K(G,"quantity",ne.target.value)})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Precio Unit. ()"}),l.jsx(Ke,{type:"number",step:"0.01",value:I.unitPrice,onChange:ne=>K(G,"unitPrice",ne.target.value)})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"IVA (%)"}),l.jsx(Ke,{type:"number",step:"1",value:I.vatPct,onChange:ne=>K(G,"vatPct",ne.target.value)})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Total ()"}),l.jsx(Ke,{value:I.total.toFixed(2),disabled:!0,className:"bg-muted"})]})]}),l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>H(G),className:"ml-2",children:l.jsx(ka,{className:"h-4 w-4 text-destructive"})})]})},G))})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Totales"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{children:"Subtotal"}),l.jsx(Ke,{value:`${W.toFixed(2)} `,disabled:!0,className:"bg-muted"})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"IVA"}),l.jsx(Ke,{value:`${Y.toFixed(2)} `,disabled:!0,className:"bg-muted"})]}),l.jsxs("div",{children:[l.jsx(Re,{children:"Total Calculado"}),l.jsx(Ke,{value:`${ge.toFixed(2)} `,disabled:!0,className:"bg-muted"})]})]}),l.jsx(Wa,{}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ki,{id:"useCustomTotal",checked:R,onCheckedChange:I=>T(I)}),l.jsx(Re,{htmlFor:"useCustomTotal",className:"cursor-pointer",children:"Usar total personalizado (edicin manual)"})]}),R&&l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"customTotal",children:"Total Personalizado ()"}),l.jsx(Ke,{id:"customTotal",type:"number",step:"0.01",value:M,onChange:I=>B(I.target.value),placeholder:"Ej: 1250.00"})]}),l.jsx("div",{className:"bg-primary/10 p-4 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-semibold",children:"Total Final:"}),l.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Q.toFixed(2)," "]})]})})]})]})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Condiciones"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"validityDays",children:"Validez (das)"}),l.jsx(Ke,{id:"validityDays",type:"number",value:v,onChange:I=>y(parseInt(I.target.value)||30)})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"paymentTerms",children:"Forma de Pago"}),l.jsx(Ke,{id:"paymentTerms",value:w,onChange:I=>_(I.target.value),placeholder:"Ej: Transferencia bancaria"})]})]}),l.jsxs("div",{children:[l.jsx(Re,{htmlFor:"notes",children:"Notas / Observaciones"}),l.jsx(af,{id:"notes",value:E,onChange:I=>A(I.target.value),rows:4,placeholder:"Informacin adicional..."})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(wl,{href:`/documentacion/presupuestos/${i}`,children:l.jsx(_e,{variant:"outline",children:"Cancelar"})}),l.jsxs(_e,{onClick:z,disabled:q.isPending,children:[l.jsx(J0,{className:"h-4 w-4 mr-2"}),q.isPending?"Guardando...":"Guardar Cambios"]})]})]})]})}function CUe(){const[t,e]=mN("/public/budgets/:code/accept"),n=e?.code,i=new URLSearchParams(window.location.search).get("t"),[s,a]=S.useState(!1),[o,c]=S.useState(!1),{data:u,isLoading:d,error:f}=Sn({queryKey:["/public/budgets",n,i],queryFn:async()=>{if(!n||!i)throw new Error("Cdigo o token no proporcionado");const y=await fetch(`/public/budgets/${n}/accept?t=${i}`);if(!y.ok){const w=await y.json().catch(()=>({error:"Error al cargar"}));throw new Error(w.error||"No se pudo cargar el presupuesto")}return y.json()},enabled:!!n&&!!i,retry:!1}),m=hn({mutationFn:async()=>{if(!n||!i)throw new Error("Cdigo o token no proporcionado");const y=await fetch(`/public/budgets/${n}/accept?t=${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accepted:!0})});if(!y.ok){const w=await y.json().catch(()=>({error:"Error al aceptar"}));throw new Error(w.error||"No se pudo aceptar el presupuesto")}return y.json()},onSuccess:()=>{a(!0)}}),p=()=>{if(!o){alert("Por favor, acepta los trminos y condiciones");return}m.mutate()},b=u?.expiresAt&&new Date(u.expiresAt)<new Date,v=u?.acceptedAt!==null;return!t||!n||!i?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:l.jsx(dt,{className:"max-w-md w-full",children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx(vh,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Enlace invlido"}),l.jsx("p",{className:"text-muted-foreground",children:"El enlace que has utilizado no es vlido o ha expirado."})]})})}):d?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx(Vn,{className:"h-32 w-full"}),l.jsx(Vn,{className:"h-96 w-full"}),l.jsx(Vn,{className:"h-48 w-full"})]})}):f||!u?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:l.jsx(dt,{className:"max-w-md w-full",children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx(Gc,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),l.jsx("p",{className:"text-muted-foreground",children:f?.message||"No se pudo cargar el presupuesto"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"El enlace puede haber expirado o ser invlido."})]})})}):s||v?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 to-emerald-100 flex items-center justify-center p-4",children:l.jsx(dt,{className:"max-w-md w-full",children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-20 h-20 rounded-full bg-emerald-100",children:l.jsx(nc,{className:"h-12 w-12 text-emerald-600"})}),l.jsx("h1",{className:"text-3xl font-bold mb-3 text-emerald-900",children:"Presupuesto Aceptado!"}),l.jsxs("p",{className:"text-lg text-emerald-700 mb-6",children:["Hemos recibido tu aceptacin del presupuesto ",l.jsx("strong",{children:u.code})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Total aceptado:"}),l.jsxs("p",{className:"text-3xl font-bold text-primary",children:[Number(u.total).toFixed(2)," "]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibirs un email de confirmacin en breve con los prximos pasos."}),v&&u.acceptedAt&&l.jsx("div",{className:"mt-6 p-3 bg-emerald-50 rounded-lg",children:l.jsxs("p",{className:"text-xs text-emerald-700",children:["Aceptado el ",new Date(u.acceptedAt).toLocaleString()]})})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsx(dt,{children:l.jsxs(Dt,{className:"text-center pb-8",children:[l.jsx("div",{className:"mb-4 inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mx-auto",children:l.jsx(Di,{className:"h-8 w-8 text-primary"})}),l.jsxs($t,{className:"text-3xl font-bold mb-2",children:["Presupuesto ",u.code]}),l.jsx("p",{className:"text-muted-foreground",children:"Revisa los detalles y acepta el presupuesto si ests conforme"}),l.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[l.jsxs(bt,{className:"bg-blue-100 text-blue-700",children:["Serie ",u.series]}),b?l.jsxs(bt,{variant:"destructive",children:[l.jsx(vh,{className:"h-3 w-3 mr-1"}),"Vencido"]}):l.jsxs(bt,{variant:"outline",children:[l.jsx(Op,{className:"h-3 w-3 mr-1"}),"Vlido ",u.validDays," das"]})]})]})}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Informacin General"})}),l.jsx(ft,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cliente"}),l.jsx("p",{className:"font-semibold",children:u.clientName})]}),u.clientEmail&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),l.jsx("p",{className:"font-semibold",children:u.clientEmail})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de emisin"}),l.jsx("p",{className:"font-semibold",children:new Date(u.date).toLocaleDateString()})]}),u.expiresAt&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Vlido hasta"}),l.jsxs("p",{className:`font-semibold ${b?"text-destructive":""}`,children:[new Date(u.expiresAt).toLocaleDateString(),b&&" (Vencido)"]})]})]})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Detalle de Servicios"})}),l.jsx(ft,{children:l.jsx("div",{className:"space-y-3",children:u.items.map((y,w)=>l.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 bg-slate-50 rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-semibold",children:y.concept}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.quantity,"  ",Number(y.price).toFixed(2),"  (IVA ",y.vatPct,"%)"]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"font-bold text-lg",children:[Number(y.subtotal).toFixed(2)," "]})})]},w))})})]}),l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsx($t,{children:"Resumen"})}),l.jsxs(ft,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal (Base Imponible)"}),l.jsxs("span",{className:"font-semibold",children:[Number(u.subtotal).toFixed(2)," "]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"IVA Total"}),l.jsxs("span",{className:"font-semibold",children:[Number(u.vatTotal).toFixed(2)," "]})]}),l.jsx(Wa,{}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xl font-bold",children:"TOTAL"}),l.jsxs("span",{className:"text-3xl font-bold text-primary",children:[Number(u.total).toFixed(2)," "]})]})]})]}),l.jsx(dt,{children:l.jsx(ft,{className:"p-4",children:l.jsxs(_e,{variant:"outline",className:"w-full",onClick:()=>window.open(`/public/budgets/${u.id}/pdf`,"_blank"),children:[l.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Descargar Presupuesto en PDF"]})})}),!b&&l.jsxs(dt,{className:"border-2 border-primary",children:[l.jsx(Dt,{children:l.jsxs($t,{className:"flex items-center gap-2",children:[l.jsx(nc,{className:"h-5 w-5 text-primary"}),"Aceptar Presupuesto"]})}),l.jsxs(ft,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[l.jsx(Ki,{id:"terms",checked:o,onCheckedChange:y=>c(y===!0)}),l.jsxs("label",{htmlFor:"terms",className:"text-sm cursor-pointer",children:[l.jsx("span",{className:"font-medium",children:"Acepto los trminos y condiciones"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"He revisado el presupuesto y acepto los servicios, precios y condiciones detalladas. Al aceptar, estoy confirmando mi conformidad con este presupuesto."})]})]}),l.jsx(_e,{size:"lg",className:"w-full",onClick:p,disabled:!o||m.isPending,children:m.isPending?l.jsx(l.Fragment,{children:"Procesando..."}):l.jsxs(l.Fragment,{children:[l.jsx(nc,{className:"h-5 w-5 mr-2"}),"Confirmar Aceptacin del Presupuesto"]})}),m.error&&l.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:l.jsx("p",{className:"text-sm text-destructive font-medium",children:m.error.message})}),l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[l.jsx(Op,{className:"h-3 w-3 inline mr-1"}),"Conexin segura  Tu aceptacin quedar registrada con fecha y hora"]})]})]}),b&&l.jsx(dt,{className:"border-2 border-destructive",children:l.jsxs(ft,{className:"p-8 text-center",children:[l.jsx(vh,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Presupuesto Vencido"}),l.jsxs("p",{className:"text-muted-foreground",children:["Este presupuesto venci el ",new Date(u.expiresAt).toLocaleDateString(),". Por favor, contacta con nosotros para renovarlo."]})]})}),l.jsx(dt,{className:"bg-slate-100",children:l.jsxs(ft,{className:"p-6 text-center text-sm text-muted-foreground",children:[l.jsx("p",{children:" 2025 Asesora La Llave  Todos los derechos reservados"}),l.jsxs("p",{className:"mt-2",children:["Tienes dudas? Contacta con nosotros en ",l.jsx("a",{href:"mailto:info@asesorialallave.es",className:"text-primary underline",children:"info@asesorialallave.es"})]})]})})]})})}function AUe(){const{toast:t}=li(),[e,n]=S.useState(""),[r,i]=S.useState("all"),[s,a]=S.useState("all"),[o,c]=S.useState("all"),{data:u,isLoading:d,error:f}=Sn({queryKey:["/api/budgets",e,r,s,o],queryFn:async()=>{const w=new URLSearchParams;e&&w.set("q",e.trim()),r!=="all"&&w.set("status",r),s!=="all"&&w.set("series",s),o!=="all"&&w.set("type",o);const _=`/api/budgets${w.toString()?`?${w.toString()}`:""}`;console.log(" Fetching budgets from:",_);const E=await fetch(_,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},credentials:"include"});if(console.log(" Response status:",E.status),!E.ok){const k=await E.json().catch(()=>({error:"Error desconocido"}));throw console.error(" Error response:",k),new Error(k.error||"No se pudieron cargar los presupuestos")}const A=await E.json();return console.log(" Budgets loaded:",A.items?.length||0),A},staleTime:3e4}),m=u?.items||[],p=w=>{const _={PYME:"bg-blue-100 text-blue-700",AUTONOMO:"bg-green-100 text-green-700",RENTA:"bg-amber-100 text-amber-700",HERENCIAS:"bg-purple-100 text-purple-700"},E={PYME:"PYME",AUTONOMO:"Autnomo",RENTA:"Renta",HERENCIAS:"Herencias"};return l.jsx(bt,{className:_[w],children:E[w]})},b=w=>{const _=w.toUpperCase();return _==="ACCEPTED"?l.jsxs(bt,{className:"bg-emerald-100 text-emerald-700",children:[l.jsx(nc,{className:"h-3 w-3 mr-1"}),"Aceptado"]}):_==="SENT"?l.jsxs(bt,{className:"bg-blue-100 text-blue-700",children:[l.jsx(Gc,{className:"h-3 w-3 mr-1"}),"Enviado"]}):_==="ARCHIVED"?l.jsxs(bt,{className:"bg-gray-100 text-gray-700",children:[l.jsx(vh,{className:"h-3 w-3 mr-1"}),"Archivado"]}):l.jsxs(bt,{className:"bg-amber-100 text-amber-700",children:[l.jsx(qo,{className:"h-3 w-3 mr-1"}),"Borrador"]})},v=(w,_)=>{if(!w||_==="ACCEPTED"||_==="ARCHIVED")return null;const E=new Date,A=new Date(w),k=Math.ceil((A.getTime()-E.getTime())/(1e3*60*60*24));return k<0?l.jsxs(bt,{variant:"destructive",className:"text-xs",children:[l.jsx(vh,{className:"h-3 w-3 mr-1"}),"Vencido"]}):k<=3?l.jsxs(bt,{variant:"destructive",className:"text-xs",children:[l.jsx(qo,{className:"h-3 w-3 mr-1"}),"Vence en ",k,"d"]}):k<=7?l.jsxs(bt,{className:"bg-amber-100 text-amber-700 text-xs",children:[l.jsx(qo,{className:"h-3 w-3 mr-1"}),"Vence en ",k,"d"]}):l.jsxs(bt,{variant:"outline",className:"text-xs",children:[l.jsx(qo,{className:"h-3 w-3 mr-1"}),"Vence en ",k,"d"]})},y=w=>{const _=new URLSearchParams;e&&_.set("q",e.trim()),r!=="all"&&_.set("status",r),s!=="all"&&_.set("series",s);const E=`/api/budgets/export.${w}${_.toString()?`?${_.toString()}`:""}`;window.open(E,"_blank"),t({title:"Exportando",description:`Se descargar el archivo ${w.toUpperCase()}`})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(dt,{children:[l.jsx(Dt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($t,{className:"text-xl",children:"Filtros y bsqueda"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>y("csv"),children:[l.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]}),l.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>y("xlsx"),children:[l.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Exportar XLSX"]}),l.jsx(wl,{href:"/documentacion/presupuestos/nuevo",children:l.jsxs(_e,{size:"sm",children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nuevo Presupuesto"]})})]})]})}),l.jsx(ft,{children:l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[l.jsx($v,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ke,{placeholder:"Buscar por cdigo, cliente o email...",value:e,onChange:w=>n(w.target.value),className:"pl-10"})]}),l.jsxs(Wn,{value:r,onValueChange:i,children:[l.jsx(Bn,{className:"w-48",children:l.jsx(Kn,{placeholder:"Estado"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"all",children:"Todos los estados"}),l.jsx(tt,{value:"DRAFT",children:"Borrador"}),l.jsx(tt,{value:"SENT",children:"Enviado"}),l.jsx(tt,{value:"ACCEPTED",children:"Aceptado"}),l.jsx(tt,{value:"ARCHIVED",children:"Archivado"})]})]}),l.jsxs(Wn,{value:s,onValueChange:a,children:[l.jsx(Bn,{className:"w-40",children:l.jsx(Kn,{placeholder:"Serie"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"all",children:"Todas las series"}),l.jsx(tt,{value:"AL",children:"AL (Asesora La Llave)"}),l.jsx(tt,{value:"GO",children:"GO (Gestora Ortega)"})]})]}),l.jsxs(Wn,{value:o,onValueChange:c,children:[l.jsx(Bn,{className:"w-44",children:l.jsx(Kn,{placeholder:"Tipo"})}),l.jsxs($n,{children:[l.jsx(tt,{value:"all",children:"Todos los tipos"}),l.jsx(tt,{value:"PYME",children:"PYME"}),l.jsx(tt,{value:"AUTONOMO",children:"Autnomo"}),l.jsx(tt,{value:"RENTA",children:"Renta"}),l.jsx(tt,{value:"HERENCIAS",children:"Herencias"})]})]}),(e||r!=="all"||s!=="all"||o!=="all")&&l.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>{n(""),i("all"),a("all"),c("all")},children:"Limpiar filtros"})]})})]}),d?l.jsxs("div",{className:"space-y-3",children:[l.jsx(Vn,{className:"h-20 w-full"}),l.jsx(Vn,{className:"h-20 w-full"}),l.jsx(Vn,{className:"h-20 w-full"})]}):f?l.jsx(dt,{children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx(vh,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),l.jsx("p",{className:"text-lg font-semibold mb-2",children:"Error al cargar los presupuestos"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:f instanceof Error?f.message:"Error desconocido"}),l.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Revisa la consola del navegador (F12) para ms detalles"}),l.jsx(_e,{onClick:()=>window.location.reload(),children:"Recargar pgina"})]})}):m.length===0?l.jsx(dt,{children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx(Di,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-lg font-semibold mb-2",children:"No hay presupuestos"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Crea tu primer presupuesto para comenzar"}),l.jsx(wl,{href:"/documentacion/presupuestos/nuevo",children:l.jsxs(_e,{children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Crear Presupuesto"]})})]})}):l.jsx("div",{className:"space-y-3",children:m.map(w=>l.jsx(dt,{className:"hover:shadow-md transition-shadow",children:l.jsx(ft,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[l.jsx("h3",{className:"text-lg font-semibold truncate",children:w.clientName}),p(w.type),b(w.status),v(w.expiresAt,w.status),w.acceptedAt&&l.jsxs(bt,{className:"bg-emerald-100 text-emerald-700 text-xs",children:[l.jsx(nc,{className:"h-3 w-3 mr-1"}),"Aceptado ",new Date(w.acceptedAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Cdigo:"})," ",w.code]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Serie:"})," ",w.series]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(w.date).toLocaleDateString()]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Email:"})," ",w.clientEmail||""]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[Number(w.total).toFixed(2)," "]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Base: ",Number(w.subtotal).toFixed(2),"  + IVA: ",Number(w.vatTotal).toFixed(2)," "]})]}),l.jsx(wl,{href:`/documentacion/presupuestos/${w.id}`,children:l.jsxs(_e,{size:"sm",variant:"outline",children:[l.jsx(Di,{className:"h-4 w-4 mr-2"}),"Ver Detalles"]})})]})]})})},w.id))})]})}function sV(t,e,n){const r=localStorage.getItem("token");return fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},credentials:"include",body:n?JSON.stringify(n):void 0}).then(async i=>{if(!i.ok){const s=await i.json().catch(()=>({error:"Error desconocido"}));throw new Error(s.error||`Error ${i.status}`)}return i.json()})}function kUe({parameter:t,onUpdate:e}){const[n,r]=S.useState(t.value),[i,s]=S.useState(!1),a=()=>{n!==t.value&&e(t.id,n),s(!1)},o=()=>t.minRange!==null&&t.minRange!==void 0?t.maxRange===null||t.maxRange===999999?`Desde ${t.minRange}`:`${t.minRange} - ${t.maxRange}`:null;return l.jsx(dt,{className:"hover:shadow-md transition-shadow",children:l.jsx(ft,{className:"p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-sm",children:t.label}),o()&&l.jsx(bt,{variant:"outline",className:"mt-1 text-xs",children:o()}),t.description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.description})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Re,{htmlFor:t.id,className:"text-xs text-muted-foreground",children:"Precio"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(hW,{className:"h-4 w-4 text-muted-foreground"}),l.jsx(Ke,{id:t.id,type:"number",step:"0.01",min:"0",value:n,onChange:c=>{r(parseFloat(c.target.value)||0),s(!0)},className:"h-9"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})]}),i&&l.jsxs(_e,{size:"sm",onClick:a,className:"mt-6",children:[l.jsx(J0,{className:"h-3 w-3 mr-1"}),"Guardar"]})]})]})})})}function xw({type:t,parameters:e,onUpdate:n}){const r=e.reduce((s,a)=>{const o=a.category||"General";return s[o]||(s[o]=[]),s[o].push(a),s},{}),i=s=>s.includes("BASE")||s.includes("CONTABILIDAD")?l.jsx(wN,{className:"h-5 w-5"}):s.includes("TRAMO")||s.includes("NOMINA")?l.jsx(mR,{className:"h-5 w-5"}):l.jsx(hW,{className:"h-5 w-5"});return l.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([s,a])=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i(s),l.jsx("h3",{className:"text-lg font-semibold",children:s.replace(/_/g," ")}),l.jsx(bt,{variant:"secondary",children:a.length})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(o=>l.jsx(kUe,{parameter:o,onUpdate:n},o.id))})]},s))})}function jUe(){const{toast:t}=li(),e=Fv(),[n,r]=S.useState("PYME"),{data:i,isLoading:s,error:a}=Sn({queryKey:["/api/budget-parameters"],queryFn:()=>sV("GET","/api/budget-parameters"),staleTime:1e3*60*5}),o=hn({mutationFn:({id:d,value:f})=>sV("PUT",`/api/budget-parameters/${d}`,{value:f}),onSuccess:()=>{t({title:"Actualizado",description:"Parmetro actualizado correctamente"}),e.invalidateQueries({queryKey:["/api/budget-parameters"]})},onError:d=>{t({title:"Error",description:d.message||"No se pudo actualizar el parmetro",variant:"destructive"})}}),c=(d,f)=>{o.mutate({id:d,value:f})},u=()=>{e.invalidateQueries({queryKey:["/api/budget-parameters"]}),t({title:"Recargando",description:"Actualizando parmetros..."})};return a?l.jsx("div",{className:"p-8",children:l.jsx(dt,{children:l.jsxs(ft,{className:"p-12 text-center",children:[l.jsx("p",{className:"text-destructive",children:"Error al cargar parmetros"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:a.message}),l.jsxs(_e,{onClick:u,className:"mt-4",variant:"outline",children:[l.jsx(Jw,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-end",children:l.jsxs(_e,{onClick:u,variant:"outline",size:"sm",children:[l.jsx(Jw,{className:"h-4 w-4 mr-2"}),"Actualizar"]})}),s?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Vn,{className:"h-12 w-full"}),l.jsx(Vn,{className:"h-64 w-full"}),l.jsx(Vn,{className:"h-64 w-full"})]}):l.jsxs(Al,{value:n,onValueChange:d=>r(d),children:[l.jsxs(Xo,{className:"grid w-full grid-cols-4",children:[l.jsxs(Pn,{value:"PYME",children:["PYME",i?.PYME&&l.jsx(bt,{variant:"secondary",className:"ml-2",children:i.PYME.length})]}),l.jsxs(Pn,{value:"AUTONOMO",children:["Autnomo",i?.AUTONOMO&&l.jsx(bt,{variant:"secondary",className:"ml-2",children:i.AUTONOMO.length})]}),l.jsxs(Pn,{value:"RENTA",children:["Renta",i?.RENTA&&l.jsx(bt,{variant:"secondary",className:"ml-2",children:i.RENTA.length})]}),l.jsxs(Pn,{value:"HERENCIAS",children:["Herencias",i?.HERENCIAS&&l.jsx(bt,{variant:"secondary",className:"ml-2",children:i.HERENCIAS.length})]})]}),l.jsx(cr,{value:"PYME",className:"mt-6",children:i?.PYME&&l.jsx(xw,{type:"PYME",parameters:i.PYME,onUpdate:c})}),l.jsx(cr,{value:"AUTONOMO",className:"mt-6",children:i?.AUTONOMO&&l.jsx(xw,{type:"AUTONOMO",parameters:i.AUTONOMO,onUpdate:c})}),l.jsx(cr,{value:"RENTA",className:"mt-6",children:i?.RENTA&&l.jsx(xw,{type:"RENTA",parameters:i.RENTA,onUpdate:c})}),l.jsx(cr,{value:"HERENCIAS",className:"mt-6",children:i?.HERENCIAS&&l.jsx(xw,{type:"HERENCIAS",parameters:i.HERENCIAS,onUpdate:c})})]})]})}var TUe=ize;const aV={common:[{label:"Nombre de contacto",variable:"{{nombre_contacto}}",description:"Nombre del cliente"},{label:"Email",variable:"{{email}}",description:"Correo electrnico"},{label:"Telfono",variable:"{{telefono}}",description:"Telfono de contacto"},{label:"Cdigo presupuesto",variable:"{{codigo}}",description:"Ej: AL-2025-0001"},{label:"Fecha",variable:"{{fecha}}",description:"Fecha de emisin"},{label:"Subtotal",variable:"{{subtotal}}",description:"Subtotal sin IVA"},{label:"IVA",variable:"{{iva}}",description:"Total de IVA"},{label:"Total",variable:"{{total}}",description:"Total con IVA"},{label:"Observaciones",variable:"{{observaciones}}",description:"Notas del presupuesto"}],PYME:[{label:"Nombre sociedad",variable:"{{nombre_sociedad}}",description:"Razn social"},{label:"Actividad",variable:"{{actividad}}",description:"Actividad de la empresa"},{label:"Periodo declaraciones",variable:"{{periodo_declaraciones}}",description:"Trimestral/Mensual"},{label:"Facturacin anual",variable:"{{facturacion_anual}}",description:"Facturacin estimada"},{label:"Nmero asientos",variable:"{{num_asientos}}",description:"Rango de asientos"},{label:"Nminas/mes",variable:"{{nominas_mes}}",description:"Nmero de nminas"}],AUTONOMO:[{label:"Actividad",variable:"{{actividad}}",description:"Actividad del autnomo"},{label:"Sistema tributacin",variable:"{{sistema_tributacion}}",description:"Directo/Mdulos"},{label:"Facturacin anual",variable:"{{facturacion_anual}}",description:"Facturacin estimada"},{label:"Nmero facturas/ao",variable:"{{num_facturas}}",description:"Rango de facturas"},{label:"Nminas/mes",variable:"{{nominas_mes}}",description:"Nmero de nminas"}],RENTA:[{label:"Tipo declaracin",variable:"{{tipo_declaracion}}",description:"Tipo de renta"},{label:"Ingresos",variable:"{{ingresos}}",description:"Ingresos anuales"},{label:"Retenciones",variable:"{{retenciones}}",description:"Retenciones IRPF"}],HERENCIAS:[{label:"Ttulo sucesorio",variable:"{{titulo_sucesorio}}",description:"Con/sin testamento"},{label:"Nmero herederos",variable:"{{num_herederos}}",description:"Cantidad de herederos"},{label:"Herederos menores",variable:"{{herederos_menores}}",description:"S/No"},{label:"Fincas Madrid",variable:"{{fincas_madrid}}",description:"Nmero de fincas"},{label:"Fincas otras",variable:"{{fincas_otras}}",description:"Fincas fuera de Madrid"},{label:"Caudal hereditario",variable:"{{caudal}}",description:"Valor del caudal"},{label:"Tipo proceso",variable:"{{tipo_proceso}}",description:"Amistoso/Judicial"}]},OUe=({editor:t,onInsertVariable:e,budgetType:n})=>{const[r,i]=S.useState(""),[s,a]=S.useState(""),[o,c]=S.useState("#000000");if(!t)return null;const u=()=>{r&&(t.chain().focus().setLink({href:r}).run(),i(""))},d=()=>{s&&(t.chain().focus().setImage({src:s}).run(),a(""))},f=()=>{t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},m=[...aV.common,...aV[n]||[]];return l.jsx("div",{className:"border-b bg-slate-50 p-2 sticky top-0 z-10",children:l.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[l.jsx(_e,{size:"sm",variant:t.isActive("bold")?"default":"ghost",onClick:()=>t.chain().focus().toggleBold().run(),title:"Negrita",children:l.jsx(cW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive("italic")?"default":"ghost",onClick:()=>t.chain().focus().toggleItalic().run(),title:"Cursiva",children:l.jsx(wW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive("underline")?"default":"ghost",onClick:()=>t.chain().focus().toggleUnderline().run(),title:"Subrayado",children:l.jsx(Jle,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive("strike")?"default":"ghost",onClick:()=>t.chain().focus().toggleStrike().run(),title:"Tachado",children:l.jsx(AW,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[l.jsx(_e,{size:"sm",variant:t.isActive("heading",{level:1})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),title:"Ttulo 1",children:l.jsx(vW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive("heading",{level:2})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),title:"Ttulo 2",children:l.jsx(yW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive("heading",{level:3})?"default":"ghost",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),title:"Ttulo 3",children:l.jsx(bW,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[l.jsx(_e,{size:"sm",variant:t.isActive("bulletList")?"default":"ghost",onClick:()=>t.chain().focus().toggleBulletList().run(),title:"Lista",children:l.jsx(fR,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive("orderedList")?"default":"ghost",onClick:()=>t.chain().focus().toggleOrderedList().run(),title:"Lista numerada",children:l.jsx(SW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive("blockquote")?"default":"ghost",onClick:()=>t.chain().focus().toggleBlockquote().run(),title:"Cita",children:l.jsx(EW,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[l.jsx(_e,{size:"sm",variant:t.isActive({textAlign:"left"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("left").run(),title:"Alinear izquierda",children:l.jsx(oW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive({textAlign:"center"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("center").run(),title:"Centrar",children:l.jsx(sW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive({textAlign:"right"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("right").run(),title:"Alinear derecha",children:l.jsx(lW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:t.isActive({textAlign:"justify"})?"default":"ghost",onClick:()=>t.chain().focus().setTextAlign("justify").run(),title:"Justificar",children:l.jsx(aW,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex gap-1 border-r pr-2",children:l.jsxs(Rg,{children:[l.jsx(Ig,{asChild:!0,children:l.jsx(_e,{size:"sm",variant:"ghost",title:"Color de texto",children:l.jsx(hR,{className:"h-4 w-4"})})}),l.jsx(Lp,{className:"w-64",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Color de texto"}),l.jsx(Ke,{type:"color",value:o,onChange:p=>{c(p.target.value),t.chain().focus().setColor(p.target.value).run()}}),l.jsx("div",{className:"grid grid-cols-6 gap-1",children:["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#000080","#808080"].map(p=>l.jsx("button",{className:"w-8 h-8 rounded border",style:{backgroundColor:p},onClick:()=>{c(p),t.chain().focus().setColor(p).run()}},p))})]})})]})}),l.jsxs("div",{className:"flex gap-1 border-r pr-2",children:[l.jsxs(Rg,{children:[l.jsx(Ig,{asChild:!0,children:l.jsx(_e,{size:"sm",variant:"ghost",title:"Insertar enlace",children:l.jsx(Dle,{className:"h-4 w-4"})})}),l.jsx(Lp,{className:"w-80",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"URL del enlace"}),l.jsx(Ke,{placeholder:"https://ejemplo.com",value:r,onChange:p=>i(p.target.value),onKeyDown:p=>p.key==="Enter"&&u()}),l.jsx(_e,{onClick:u,className:"w-full",children:"Insertar"})]})})]}),l.jsxs(Rg,{children:[l.jsx(Ig,{asChild:!0,children:l.jsx(_e,{size:"sm",variant:"ghost",title:"Insertar imagen",children:l.jsx(dR,{className:"h-4 w-4"})})}),l.jsx(Lp,{className:"w-80",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"URL de la imagen"}),l.jsx(Ke,{placeholder:"https://ejemplo.com/logo.png",value:s,onChange:p=>a(p.target.value),onKeyDown:p=>p.key==="Enter"&&d()}),l.jsx(_e,{onClick:d,className:"w-full",children:"Insertar"})]})})]}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:f,title:"Insertar tabla",children:l.jsx(kW,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex gap-1 border-r pr-2",children:l.jsxs(Rg,{children:[l.jsx(Ig,{asChild:!0,children:l.jsxs(_e,{size:"sm",variant:"ghost",title:"Insertar variable",children:[l.jsx(ece,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-1 text-xs",children:"Variables"})]})}),l.jsx(Lp,{className:"w-80",children:l.jsx(q_,{className:"h-96",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Variables disponibles"}),m.map(p=>l.jsxs("button",{className:"w-full text-left p-2 hover:bg-slate-100 rounded text-sm",onClick:()=>e(p.variable),children:[l.jsx("div",{className:"font-mono text-xs text-blue-600",children:p.variable}),l.jsx("div",{className:"text-xs text-slate-600",children:p.description})]},p.variable))]})})})]})}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),title:"Deshacer",children:l.jsx(jW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),title:"Rehacer",children:l.jsx(CW,{className:"h-4 w-4"})})]})]})})};function PUe({initialContent:t="",budgetType:e,onChange:n,onPreview:r}){const i=Cie({extensions:[Jie,L7e,uze.configure({types:["heading","paragraph"]}),cze,b7e.configure({openOnClick:!1}),ID.configure({resizable:!0}),nUe,iUe,rUe,kD,jD,TUe.configure({placeholder:'Escribe aqu tu plantilla... Usa el men superior para dar formato y el botn "Variables" para insertar campos dinmicos.'})],content:t,onUpdate:({editor:a})=>{n?.(a.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[600px] p-4"}}}),s=a=>{i?.chain().focus().insertContent(a).run()};return l.jsxs("div",{className:"border rounded-lg bg-white",children:[l.jsx(OUe,{editor:i,onInsertVariable:s,budgetType:e}),l.jsx(_ie,{editor:i,className:"min-h-[600px]"}),r&&l.jsx("div",{className:"border-t p-2 bg-slate-50 flex justify-end",children:l.jsxs(_e,{onClick:r,variant:"outline",size:"sm",children:[l.jsx(Q0,{className:"h-4 w-4 mr-2"}),"Vista previa PDF"]})})]})}const MUe={PYME:l.jsx(GT,{className:"h-4 w-4"}),AUTONOMO:l.jsx(ex,{className:"h-4 w-4"}),RENTA:l.jsx(xW,{className:"h-4 w-4"}),HERENCIAS:l.jsx(Yle,{className:"h-4 w-4"})},RUe={PYME:"Empresas",AUTONOMO:"Autnomos",RENTA:"Renta",HERENCIAS:"Herencias"};function IUe(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),[i,s]=S.useState(""),[a,o]=S.useState(""),[c,u]=S.useState("PYME"),[d,f]=S.useState("LA_LLAVE"),[m,p]=S.useState(""),[b,v]=S.useState(null),{toast:y}=li(),w=Fv(),_=(K,Z)=>({...{codigo:"PREV-2025-001",fecha:new Date().toLocaleDateString("es-ES"),nombre_contacto:"Juan Prez Garca",email:"juan.perez@ejemplo.com",telefono:"666 777 888",subtotal:"150,00 ",iva:"31,50 ",total:"181,50 ",empresa:Z==="LA_LLAVE"?"Asesora La Llave":"Gestora Online",descripcion:"Este es un presupuesto de ejemplo para visualizar el diseo de la plantilla."},...{PYME:{nombre_sociedad:"Tecnologas Avanzadas SL",actividad:"Desarrollo de software",periodo_declaraciones:"Trimestral",num_asientos:"50",nominas_mes:"5"},AUTONOMO:{sistema_tributacion:"Estimacin Directa",facturacion_anual:"45.000,00 ",num_facturas:"120"},RENTA:{tipo_declaracion:"Individual",ingresos:"35.000,00 ",retenciones:"5.250,00 "},HERENCIAS:{titulo_sucesorio:"Testamento",num_herederos:"3",fincas_madrid:"S",caudal:"180.000,00 ",tipo_proceso:"Normal"}}[K]}),E=S.useMemo(()=>{if(!m)return'<p class="text-muted-foreground text-center py-12">El contenido aparecer aqu...</p>';const K=_(c,d);let Z=m;return Object.entries(K).forEach(([H,W])=>{const Y=new RegExp(`{{\\s*${H}\\s*}}`,"gi");Z=Z.replace(Y,String(W))}),Z=Z.replace(/{{([^}]+)}}/g,'<span style="background-color: #fef3c7; color: #92400e; padding: 2px 6px; border-radius: 3px; font-size: 0.875em;">[$1]</span>'),Z},[m,c,d]),{data:A,isLoading:k}=Sn({queryKey:["/api/budget-templates"]}),P=hn({mutationFn:async K=>{const Z=await fetch("/api/budget-templates",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(K)});if(!Z.ok)throw new Error("Error al crear plantilla");return Z.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/budget-templates"]}),y({title:" Plantilla creada correctamente"}),O()},onError:()=>{y({title:" Error al crear plantilla",variant:"destructive"})}}),R=hn({mutationFn:async({id:K,data:Z})=>{const H=await fetch(`/api/budget-templates/${K}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Z)});if(!H.ok)throw new Error("Error al actualizar plantilla");return H.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/budget-templates"]}),y({title:" Plantilla actualizada correctamente"}),O()},onError:()=>{y({title:" Error al actualizar plantilla",variant:"destructive"})}}),T=hn({mutationFn:async K=>{const Z=await fetch(`/api/budget-templates/${K}`,{method:"DELETE",credentials:"include"});if(!Z.ok)throw new Error("Error al eliminar plantilla");return Z.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/budget-templates"]}),y({title:" Plantilla eliminada correctamente"})},onError:()=>{y({title:" Error al eliminar plantilla",variant:"destructive"})}}),M=hn({mutationFn:async({id:K,type:Z,brand:H})=>{const W=await fetch(`/api/budget-templates/${K}/set-default`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:Z,companyBrand:H})});if(!W.ok)throw new Error("Error al establecer plantilla predeterminada");return W.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/budget-templates"]}),y({title:" Plantilla establecida como predeterminada"})}}),B=K=>{K?(r(K),s(K.name),o(K.description||""),u(K.type),f(K.companyBrand),p(K.htmlContent)):(r(null),s(""),o(""),u("PYME"),f("LA_LLAVE"),p("")),e(!0)},O=()=>{e(!1),r(null),s(""),o(""),p("")},F=()=>{if(!i.trim()){y({title:"El nombre es obligatorio",variant:"destructive"});return}if(!m.trim()){y({title:"El contenido no puede estar vaco",variant:"destructive"});return}const K={name:i,description:a||null,type:c,companyBrand:d,htmlContent:m};n?R.mutate({id:n.id,data:K}):P.mutate(K)},q=K=>{const Z={name:`${K.name} (Copia)`,description:K.description,type:K.type,companyBrand:K.companyBrand,htmlContent:K.htmlContent,isDefault:!1};P.mutate(Z)},z=K=>{confirm("Ests seguro de eliminar esta plantilla?")&&T.mutate(K)};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-end items-center",children:l.jsxs(_e,{onClick:()=>B(),children:[l.jsx(da,{className:"h-4 w-4 mr-2"}),"Nueva Plantilla"]})}),k?l.jsx(dt,{children:l.jsx(ft,{className:"p-12 text-center",children:l.jsx("p",{children:"Cargando plantillas..."})})}):l.jsxs(dt,{children:[l.jsxs(Dt,{children:[l.jsx($t,{children:"Plantillas disponibles"}),l.jsxs(lf,{children:[A?.length||0," plantillas configuradas"]})]}),l.jsx(ft,{children:l.jsxs(Bo,{children:[l.jsx($o,{children:l.jsxs(or,{children:[l.jsx(Pt,{children:"Nombre"}),l.jsx(Pt,{children:"Tipo"}),l.jsx(Pt,{children:"Empresa"}),l.jsx(Pt,{children:"Estado"}),l.jsx(Pt,{children:"Actualizada"}),l.jsx(Pt,{className:"text-right",children:"Acciones"})]})}),l.jsxs(zo,{children:[A?.map(K=>l.jsxs(or,{children:[l.jsx(St,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[MUe[K.type],K.name]})}),l.jsx(St,{children:l.jsx(bt,{variant:"outline",children:RUe[K.type]})}),l.jsx(St,{children:l.jsx(bt,{variant:K.companyBrand==="LA_LLAVE"?"default":"secondary",children:K.companyBrand==="LA_LLAVE"?"Asesora La Llave":"Gestora Online"})}),l.jsx(St,{children:l.jsxs("div",{className:"flex gap-1",children:[K.isDefault&&l.jsxs(bt,{variant:"default",children:[l.jsx(SL,{className:"h-3 w-3 mr-1"}),"Predeterminada"]}),K.isActive?l.jsx(bt,{variant:"outline",className:"text-green-600",children:"Activa"}):l.jsx(bt,{variant:"outline",className:"text-gray-400",children:"Inactiva"})]})}),l.jsx(St,{className:"text-sm text-muted-foreground",children:new Date(K.updatedAt).toLocaleDateString("es-ES")}),l.jsx(St,{className:"text-right",children:l.jsxs("div",{className:"flex gap-1 justify-end",children:[!K.isDefault&&l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>M.mutate({id:K.id,type:K.type,brand:K.companyBrand}),title:"Establecer como predeterminada",children:l.jsx(SL,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>v(K),title:"Vista previa",children:l.jsx(Q0,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>B(K),title:"Editar",children:l.jsx(Bu,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>q(K),title:"Duplicar",children:l.jsx(fW,{className:"h-4 w-4"})}),l.jsx(_e,{size:"sm",variant:"ghost",onClick:()=>z(K.id),title:"Eliminar",disabled:K.isDefault,children:l.jsx(ka,{className:"h-4 w-4"})})]})})]},K.id)),(!A||A.length===0)&&l.jsx(or,{children:l.jsxs(St,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:[l.jsx(Di,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No hay plantillas configuradas"}),l.jsx("p",{className:"text-sm",children:"Crea tu primera plantilla para comenzar"})]})})]})]})})]}),l.jsx(ls,{open:t,onOpenChange:e,children:l.jsxs(Wi,{className:"max-w-[95vw] max-h-[95vh] overflow-hidden",children:[l.jsxs(cs,{children:[l.jsx(us,{children:n?"Editar Plantilla":"Nueva Plantilla"}),l.jsx(Ca,{children:"Personaliza el diseo del PDF. Los cambios se previsualizan en tiempo real."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6 h-[75vh]",children:[l.jsxs("div",{className:"space-y-4 overflow-y-auto pr-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Nombre de la plantilla *"}),l.jsx(Ke,{placeholder:"Ej: Presupuesto PYME Estndar",value:i,onChange:K=>s(K.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Tipo de presupuesto *"}),l.jsxs(Wn,{value:c,onValueChange:K=>u(K),children:[l.jsx(Bn,{children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"PYME",children:"Empresas (PYME)"}),l.jsx(tt,{value:"AUTONOMO",children:"Autnomos"}),l.jsx(tt,{value:"RENTA",children:"Declaracin de Renta"}),l.jsx(tt,{value:"HERENCIAS",children:"Herencias"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Empresa *"}),l.jsxs(Wn,{value:d,onValueChange:K=>f(K),children:[l.jsx(Bn,{children:l.jsx(Kn,{})}),l.jsxs($n,{children:[l.jsx(tt,{value:"LA_LLAVE",children:"Asesora La Llave"}),l.jsx(tt,{value:"GESTORIA_ONLINE",children:"Gestora Online"})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Descripcin (opcional)"}),l.jsx(af,{placeholder:"Breve descripcin de la plantilla...",value:a,onChange:K=>o(K.target.value),rows:2})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Re,{children:"Contenido de la plantilla *"}),l.jsx(PUe,{initialContent:m,budgetType:c,onChange:p})]})]}),l.jsxs("div",{className:"border-l pl-6 overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-background pb-3 mb-3 border-b z-10",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold",children:"Vista Previa en Tiempo Real"}),l.jsx(bt,{variant:"secondary",className:"text-xs",children:d==="LA_LLAVE"?"Asesora La Llave":"Gestora Online"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Datos de ejemplo  Las variables se reemplazan automticamente"})]}),l.jsx("div",{className:"prose prose-sm max-w-none p-6 bg-white border rounded shadow-sm",dangerouslySetInnerHTML:{__html:E}})]})]}),l.jsxs(Fo,{children:[l.jsx(_e,{variant:"outline",onClick:O,children:"Cancelar"}),l.jsxs(_e,{onClick:F,disabled:P.isPending||R.isPending,children:[n?"Actualizar":"Crear"," Plantilla"]})]})]})}),l.jsx(ls,{open:!!b,onOpenChange:()=>v(null),children:l.jsxs(Wi,{className:"max-w-4xl max-h-[90vh] overflow-auto",children:[l.jsxs(cs,{children:[l.jsx(us,{children:b?.name}),l.jsx(Ca,{children:"Vista previa de la plantilla"})]}),l.jsx("div",{className:"prose max-w-none p-6 bg-white border rounded",dangerouslySetInnerHTML:{__html:b?.htmlContent||""}})]})})]})}function LT(){const[t,e]=Ko(),{user:n}=Nm(),r=n?.roleName==="Administrador",i=()=>t.includes("/parametros")?"parametros":t.includes("/plantillas")?"plantillas":"presupuestos",s=a=>{a==="presupuestos"?e("/documentacion/presupuestos"):a==="parametros"?e("/documentacion/presupuestos/parametros"):a==="plantillas"&&e("/documentacion/presupuestos/plantillas")};return l.jsxs("div",{className:"container mx-auto p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Documentacin"}),l.jsx("p",{className:"text-muted-foreground",children:"Gestin de presupuestos y documentos"})]}),l.jsxs(Al,{value:i(),onValueChange:s,className:"w-full",children:[l.jsxs(Xo,{className:"grid w-full grid-cols-3",children:[l.jsxs(Pn,{value:"presupuestos",className:"flex items-center gap-2",children:[l.jsx(Di,{className:"h-4 w-4"}),"Presupuestos"]}),r&&l.jsxs(l.Fragment,{children:[l.jsxs(Pn,{value:"parametros",className:"flex items-center gap-2",children:[l.jsx(wN,{className:"h-4 w-4"}),"Parmetros"]}),l.jsxs(Pn,{value:"plantillas",className:"flex items-center gap-2",children:[l.jsx(hR,{className:"h-4 w-4"}),"Plantillas"]})]})]}),l.jsx(cr,{value:"presupuestos",className:"mt-6",children:l.jsx(AUe,{})}),r&&l.jsxs(l.Fragment,{children:[l.jsx(cr,{value:"parametros",className:"mt-6",children:l.jsx(jUe,{})}),l.jsx(cr,{value:"plantillas",className:"mt-6",children:l.jsx(IUe,{})})]})]})]})}function DUe(){const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,s]=S.useState("all"),[a,o]=S.useState("");S.useEffect(()=>{c()},[i]);const c=async()=>{try{r(!0);const b=i!=="all"?`?type=${i}`:"",y=await(await fetch(`/api/documents${b}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();e(y)}catch(b){console.error("Error fetching documents:",b)}finally{r(!1)}},u=t.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())),d=b=>{const v={draft:{label:"Borrador",color:"bg-gray-100"},pending_signature:{label:"Pendiente Firma",color:"bg-yellow-100"},signed:{label:"Firmado",color:"bg-green-100"},archived:{label:"Archivado",color:"bg-gray-200"}},y=v[b]||v.draft;return l.jsx(bt,{className:y.color,children:y.label})},f=b=>({payment_receipt:"Recibo de Pago",data_protection:"Proteccin de Datos",banking_domiciliation:"Domiciliacin Bancaria",other:"Otro"})[b]||b,m=async b=>{if(confirm("Ests seguro de que deseas eliminar este documento?"))try{if(!(await fetch(`/api/documents/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Error al eliminar");e(y=>y.filter(w=>w.id!==b)),alert("Documento eliminado correctamente")}catch(v){console.error("Error:",v),alert("Error al eliminar el documento")}},p=async b=>{try{const v=await fetch(`/api/documents/${b}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!v.ok)throw new Error("Error al descargar");const y=await v.blob(),w=window.URL.createObjectURL(y),_=document.createElement("a");_.href=w,_.download=`documento-${b}.pdf`,document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(w),document.body.removeChild(_)}catch(v){console.error("Error:",v),alert("Error al descargar el documento")}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Ke,{placeholder:"Buscar documento...",value:a,onChange:b=>o(b.target.value)}),l.jsxs("select",{value:i,onChange:b=>s(b.target.value),className:"px-3 py-2 border rounded-md",children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"payment_receipt",children:"Recibos de Pago"}),l.jsx("option",{value:"data_protection",children:"Proteccin de Datos"}),l.jsx("option",{value:"banking_domiciliation",children:"Domiciliacin Bancaria"}),l.jsx("option",{value:"other",children:"Otros"})]})]}),n?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando documentos..."}):u.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Di,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No hay documentos"})]}):l.jsx("div",{className:"grid gap-4",children:u.map(b=>l.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(Di,{className:"w-5 h-5 text-blue-500 mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:b.name}),l.jsx("p",{className:"text-sm text-gray-500",children:f(b.type)}),l.jsx("p",{className:"text-xs text-gray-400",children:new Date(b.created_at).toLocaleDateString("es-ES")})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[d(b.status),b.signature_status==="signed_by_client"&&l.jsx(Zw,{className:"w-5 h-5 text-green-500"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[l.jsxs(_e,{size:"sm",variant:"outline",children:[l.jsx(Q0,{className:"w-4 h-4 mr-1"}),"Ver"]}),l.jsxs(_e,{size:"sm",variant:"outline",onClick:()=>p(b.id),children:[l.jsx(Yc,{className:"w-4 h-4 mr-1"}),"Descargar"]}),l.jsxs(_e,{size:"sm",variant:"outline",children:[l.jsx(_W,{className:"w-4 h-4 mr-1"}),"Editar"]}),l.jsxs(_e,{size:"sm",variant:"destructive",onClick:()=>m(b.id),children:[l.jsx(ka,{className:"w-4 h-4 mr-1"}),"Eliminar"]})]})]},b.id))})]})}function LUe(){const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,s]=S.useState(""),[a,o]=S.useState("other"),c=m=>{const p=m.target.files;p&&Array.from(p).forEach(b=>{e(v=>[...v,{id:`${b.name}-${Date.now()}`,name:b.name,size:b.size,type:b.type}])})},u=m=>{e(p=>p.filter(b=>b.id!==m))},d=async()=>{if(!i||t.length===0){alert("Por favor completa todos los campos");return}r(!0);try{const m=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:i,type:a,description:`Documento cargado: ${t.map(b=>b.name).join(", ")}`})});if(!m.ok)throw new Error("Error al crear documento");const p=await m.json();for(const b of t){const v=new FormData,y=document.querySelector('input[type="file"]');if(y?.files&&(v.append("file",y.files[0]),!(await fetch(`/api/documents/${p.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:v})).ok))throw new Error("Error al subir archivo")}alert("Documento cargado exitosamente"),s(""),e([]),o("other")}catch(m){console.error("Error:",m),alert("Error al cargar el documento")}finally{r(!1)}},f=m=>{if(m===0)return"0 Bytes";const p=1024,b=["Bytes","KB","MB"],v=Math.floor(Math.log(m)/Math.log(p));return Math.round(m/Math.pow(p,v)*100)/100+" "+b[v]};return l.jsx("div",{className:"space-y-6 max-w-2xl",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Documento"}),l.jsx(Ke,{placeholder:"Ej: Recibo de Pago - Octubre 2025",value:i,onChange:m=>s(m.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tipo de Documento"}),l.jsxs("select",{value:a,onChange:m=>o(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"payment_receipt",children:"Recibo de Pago"}),l.jsx("option",{value:"data_protection",children:"Proteccin de Datos"}),l.jsx("option",{value:"banking_domiciliation",children:"Domiciliacin Bancaria"}),l.jsx("option",{value:"other",children:"Otro"})]})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition",children:[l.jsx(gR,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Arrastra archivos aqu o haz clic para seleccionar"}),l.jsx("input",{type:"file",multiple:!0,onChange:c,className:"hidden",id:"file-input"}),l.jsx(_e,{onClick:()=>document.getElementById("file-input")?.click(),variant:"outline",children:"Seleccionar Archivos"})]}),t.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"font-semibold text-sm",children:["Archivos Seleccionados (",t.length,")"]}),l.jsx("div",{className:"space-y-2",children:t.map(m=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx(uR,{className:"w-4 h-4 text-blue-500"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:m.name}),l.jsx("p",{className:"text-xs text-gray-500",children:f(m.size)})]})]}),l.jsx("button",{onClick:()=>u(m.id),className:"text-gray-400 hover:text-red-500",children:l.jsx(Vu,{className:"w-4 h-4"})})]},m.id))})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(_e,{onClick:d,disabled:!i||t.length===0||n,className:"flex-1",children:n?"Cargando...":"Cargar Documento"}),l.jsx(_e,{onClick:()=>{s(""),e([]),o("other")},variant:"outline",className:"flex-1",children:"Limpiar"})]})]})})}function FUe(){const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,s]=S.useState({clientName:"",amount:"",concept:"",date:new Date().toISOString().split("T")[0],reference:""}),a=d=>{const{name:f,value:m}=d.target;s(p=>({...p,[f]:m}))},o=async()=>{if(!i.clientName||!i.amount||!i.concept){alert("Por favor completa todos los campos requeridos");return}try{const d=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"payment_receipt",name:`Recibo de Pago - ${i.clientName} - ${i.date}`,description:`Recibo por concepto: ${i.concept}`,client_id:null})});if(!d.ok)throw new Error("Error al crear recibo");const f=await d.json();e(m=>[...m,{id:f.id,clientName:i.clientName,amount:parseFloat(i.amount),concept:i.concept,date:i.date,reference:i.reference,status:"generated"}]),s({clientName:"",amount:"",concept:"",date:new Date().toISOString().split("T")[0],reference:""}),r(!1)}catch(d){console.error("Error:",d),alert("Error al generar el recibo")}},c=async d=>{try{const f=await fetch(`/api/documents/${d.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!f.ok)throw new Error("Error al descargar");const m=await f.blob(),p=window.URL.createObjectURL(m),b=document.createElement("a");b.href=p,b.download=`recibo-${d.reference||d.clientName}.pdf`,document.body.appendChild(b),b.click(),window.URL.revokeObjectURL(p),document.body.removeChild(b)}catch(f){console.error("Error:",f)}},u=d=>{console.log("Viewing receipt:",d)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Recibos de Pago"}),l.jsxs(ls,{open:n,onOpenChange:r,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Nuevo Recibo"]})}),l.jsxs(Wi,{children:[l.jsx(cs,{children:l.jsx(us,{children:"Generar Recibo de Pago"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),l.jsx(Ke,{name:"clientName",placeholder:"Ej: Juan Garca",value:i.clientName,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Importe () *"}),l.jsx(Ke,{name:"amount",type:"number",step:"0.01",placeholder:"Ej: 1500.00",value:i.amount,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concepto *"}),l.jsx("textarea",{name:"concept",placeholder:"Ej: Asesoramiento fiscal trimestral Q3 2025",value:i.concept,onChange:a,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Fecha"}),l.jsx(Ke,{name:"date",type:"date",value:i.date,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Referencia / Nmero de Recibo"}),l.jsx(Ke,{name:"reference",placeholder:"Ej: RCP-2025-001",value:i.reference,onChange:a})]}),l.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[l.jsx(_e,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),l.jsx(_e,{onClick:o,children:"Generar Recibo"})]})]})]})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Di,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No hay recibos generados"})]}):l.jsx("div",{className:"grid gap-4",children:t.map(d=>l.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:d.clientName}),l.jsx("p",{className:"text-sm text-gray-600",children:d.concept}),l.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Importe: ",l.jsxs("strong",{className:"text-gray-900",children:[d.amount.toFixed(2),""]})]}),l.jsxs("span",{children:["Fecha: ",l.jsx("strong",{className:"text-gray-900",children:new Date(d.date).toLocaleDateString("es-ES")})]}),d.reference&&l.jsxs("span",{children:["Ref: ",l.jsx("strong",{className:"text-gray-900",children:d.reference})]})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:d.status==="draft"?"Borrador":d.status==="generated"?"Generado":"Enviado"})})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs(_e,{size:"sm",variant:"outline",onClick:()=>u(d),children:[l.jsx(Q0,{className:"w-4 h-4 mr-1"}),"Ver"]}),l.jsxs(_e,{size:"sm",variant:"outline",onClick:()=>c(d),children:[l.jsx(Yc,{className:"w-4 h-4 mr-1"}),"Descargar"]})]})]},d.id))})]})}function BUe(){const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,s]=S.useState({clientName:"",email:"",dataTypes:["personal","fiscal","bancaria"]}),a=f=>{const{name:m,value:p}=f.target;s(b=>({...b,[m]:p}))},o=f=>{s(m=>({...m,dataTypes:m.dataTypes.includes(f)?m.dataTypes.filter(p=>p!==f):[...m.dataTypes,f]}))},c=async()=>{if(!i.clientName||!i.email||i.dataTypes.length===0){alert("Por favor completa todos los campos requeridos");return}try{const f=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"data_protection",name:`Documento Proteccin Datos - ${i.clientName}`,description:`Consentimiento RGPD para: ${i.dataTypes.join(", ")}`})});if(!f.ok)throw new Error("Error al crear documento");const m=await f.json();e(p=>[...p,{id:m.id,clientName:i.clientName,email:i.email,consentDate:new Date().toISOString().split("T")[0],dataTypes:i.dataTypes,status:"pending"}]),s({clientName:"",email:"",dataTypes:["personal","fiscal","bancaria"]}),r(!1)}catch(f){console.error("Error:",f),alert("Error al generar el documento")}},u=async f=>{try{if(!(await fetch(`/api/documents/${f}/sign`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({signatureType:"digital"})})).ok)throw new Error("Error al firmar documento");e(p=>p.map(b=>b.id===f?{...b,status:"signed",signedDate:new Date().toISOString().split("T")[0]}:b)),alert("Documento firmado exitosamente")}catch(m){console.error("Error:",m),alert("Error al firmar el documento")}},d=async(f,m)=>{try{const p=await fetch(`/api/documents/${f}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!p.ok)throw new Error("Error al descargar");const b=await p.blob(),v=window.URL.createObjectURL(b),y=document.createElement("a");y.href=v,y.download=`proteccion-datos-${m}.pdf`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(v),document.body.removeChild(y)}catch(p){console.error("Error:",p)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Documentos Proteccin de Datos (RGPD)"}),l.jsxs(ls,{open:n,onOpenChange:r,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Nuevo Documento"]})}),l.jsxs(Wi,{className:"max-w-md",children:[l.jsx(cs,{children:l.jsx(us,{children:"Generar Documento RGPD"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),l.jsx(Ke,{name:"clientName",placeholder:"Ej: Juan Garca Lpez",value:i.clientName,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email del Cliente *"}),l.jsx(Ke,{name:"email",type:"email",placeholder:"Ej: juan@example.com",value:i.email,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tipos de Datos *"}),l.jsx("div",{className:"space-y-2",children:[{id:"personal",label:"Datos Personales"},{id:"fiscal",label:"Datos Fiscales"},{id:"bancaria",label:"Datos Bancarios"},{id:"empleados",label:"Datos de Empleados"}].map(f=>l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:i.dataTypes.includes(f.id),onChange:()=>o(f.id),className:"w-4 h-4 text-blue-600 rounded"}),l.jsx("span",{className:"text-sm",children:f.label})]},f.id))})]}),l.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[l.jsx(_e,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),l.jsx(_e,{onClick:c,children:"Generar Documento"})]})]})]})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Di,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No hay documentos de proteccin de datos"})]}):l.jsx("div",{className:"grid gap-4",children:t.map(f=>l.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:f.clientName}),l.jsx("p",{className:"text-sm text-gray-600",children:f.email}),l.jsx("div",{className:"flex gap-2 mt-2",children:f.dataTypes.map(m=>l.jsx("span",{className:"inline-block px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:m==="personal"?"Personales":m==="fiscal"?"Fiscales":m==="bancaria"?"Bancarios":"Empleados"},m))})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[f.status==="signed"?l.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[l.jsx(Zw,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-semibold",children:"Firmado"})]}):l.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[l.jsx(Gc,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-semibold",children:"Pendiente"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:new Date(f.consentDate).toLocaleDateString("es-ES")})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[f.status==="pending"&&l.jsxs(_e,{size:"sm",onClick:()=>u(f.id),className:"bg-green-600 hover:bg-green-700",children:[l.jsx(Zw,{className:"w-4 h-4 mr-1"}),"Firmar"]}),l.jsx(_e,{size:"sm",variant:"outline",onClick:()=>d(f.id,f.clientName),children:"Descargar"})]})]},f.id))})]})}function $Ue(){const[t,e]=S.useState([]),[n,r]=S.useState(!1),[i,s]=S.useState({clientName:"",email:"",bankAccount:"",monthlyAmount:"",concept:"Honorarios profesionales de asesoramiento"}),a=v=>{const{name:y,value:w}=v.target;s(_=>({..._,[y]:w}))},o=async()=>{if(!i.clientName||!i.email||!i.bankAccount||!i.monthlyAmount){alert("Por favor completa todos los campos requeridos");return}if(!/^[A-Z]{2}[0-9]{2}[A-Z0-9]+$/.test(i.bankAccount.replace(/\s/g,""))){alert("Por favor ingresa un IBAN vlido");return}try{const v=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"banking_domiciliation",name:`Domiciliacin Bancaria - ${i.clientName}`,description:`Autorizacin de domiciliacin de ${i.monthlyAmount} mensuales`})});if(!v.ok)throw new Error("Error al crear documento");const y=await v.json();e(w=>[...w,{id:y.id,clientName:i.clientName,email:i.email,bankAccount:i.bankAccount,monthlyAmount:parseFloat(i.monthlyAmount),concept:i.concept,status:"pending"}]),s({clientName:"",email:"",bankAccount:"",monthlyAmount:"",concept:"Honorarios profesionales de asesoramiento"}),r(!1)}catch(v){console.error("Error:",v),alert("Error al generar el documento")}},c=async v=>{try{if(!(await fetch(`/api/documents/${v}/sign`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({signatureType:"digital"})})).ok)throw new Error("Error al firmar documento");e(w=>w.map(_=>_.id===v?{..._,status:"signed",signedDate:new Date().toISOString().split("T")[0]}:_)),alert("Documento de domiciliacin firmado exitosamente")}catch(y){console.error("Error:",y),alert("Error al firmar el documento")}},u=async v=>{try{if(!(await fetch(`/api/documents/${v}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"active"})})).ok)throw new Error("Error al activar domiciliacin");e(w=>w.map(_=>_.id===v?{..._,status:"active",startDate:new Date().toISOString().split("T")[0]}:_)),alert("Domiciliacin activada correctamente")}catch(y){console.error("Error:",y),alert("Error al activar domiciliacin")}},d=async v=>{if(confirm("Ests seguro de que deseas cancelar esta domiciliacin?"))try{if(!(await fetch(`/api/documents/${v}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"cancelled"})})).ok)throw new Error("Error al cancelar domiciliacin");e(w=>w.map(_=>_.id===v?{..._,status:"cancelled"}:_)),alert("Domiciliacin cancelada correctamente")}catch(y){console.error("Error:",y),alert("Error al cancelar domiciliacin")}},f=async(v,y)=>{try{const w=await fetch(`/api/documents/${v}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!w.ok)throw new Error("Error al descargar");const _=await w.blob(),E=window.URL.createObjectURL(_),A=document.createElement("a");A.href=E,A.download=`domiciliacion-${y}.pdf`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(E),document.body.removeChild(A)}catch(w){console.error("Error:",w)}},m=v=>{switch(v){case"pending":return"bg-yellow-50 border-yellow-200";case"signed":return"bg-blue-50 border-blue-200";case"active":return"bg-green-50 border-green-200";case"cancelled":return"bg-red-50 border-red-200";default:return"bg-gray-50"}},p=v=>{switch(v){case"pending":return{label:"Pendiente Firma",color:"text-yellow-600"};case"signed":return{label:"Firmado (Pendiente Activar)",color:"text-blue-600"};case"active":return{label:"Activo",color:"text-green-600"};case"cancelled":return{label:"Cancelado",color:"text-red-600"};default:return{label:v,color:"text-gray-600"}}},b=v=>{const y=v.replace(/\s/g,"");return`${y.substring(0,4)}...${y.substring(y.length-4)}`};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Domiciliacin Bancaria de Honorarios"}),l.jsxs(ls,{open:n,onOpenChange:r,children:[l.jsx(gl,{asChild:!0,children:l.jsxs(_e,{children:[l.jsx(da,{className:"w-4 h-4 mr-2"}),"Nueva Domiciliacin"]})}),l.jsxs(Wi,{className:"max-w-md",children:[l.jsx(cs,{children:l.jsx(us,{children:"Nueva Domiciliacin Bancaria"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Cliente *"}),l.jsx(Ke,{name:"clientName",placeholder:"Ej: Juan Garca Lpez",value:i.clientName,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Email del Cliente *"}),l.jsx(Ke,{name:"email",type:"email",placeholder:"Ej: juan@example.com",value:i.email,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"IBAN *"}),l.jsx(Ke,{name:"bankAccount",placeholder:"Ej: ES91 1234 5678 9123 4567 8901",value:i.bankAccount,onChange:a}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: ES + 20 dgitos"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Importe Mensual () *"}),l.jsx(Ke,{name:"monthlyAmount",type:"number",step:"0.01",placeholder:"Ej: 500.00",value:i.monthlyAmount,onChange:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Concepto"}),l.jsx("textarea",{name:"concept",placeholder:"Concepto de los honorarios",value:i.concept,onChange:a,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[l.jsx(_e,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),l.jsx(_e,{onClick:o,children:"Generar Documento"})]})]})]})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Di,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No hay domiciliaciones bancarias registradas"})]}):l.jsx("div",{className:"grid gap-4",children:t.map(v=>l.jsxs("div",{className:`p-4 border rounded-lg hover:shadow-md transition ${m(v.status)}`,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:v.clientName}),l.jsx("p",{className:"text-sm text-gray-600",children:v.email}),l.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[l.jsxs("p",{children:["IBAN: ",l.jsx("strong",{children:b(v.bankAccount)})]}),l.jsxs("p",{children:["Importe: ",l.jsxs("strong",{children:[v.monthlyAmount.toFixed(2)," mensuales"]})]}),l.jsxs("p",{children:["Concepto: ",l.jsx("strong",{children:v.concept})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("span",{className:`text-sm font-semibold ${p(v.status).color}`,children:p(v.status).label}),v.startDate&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Desde: ",new Date(v.startDate).toLocaleDateString("es-ES")]})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap",children:[v.status==="pending"&&l.jsxs(_e,{size:"sm",onClick:()=>c(v.id),className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(Zw,{className:"w-4 h-4 mr-1"}),"Firmar"]}),v.status==="signed"&&l.jsx(_e,{size:"sm",onClick:()=>u(v.id),className:"bg-green-600 hover:bg-green-700",children:"Activar Domiciliacin"}),v.status==="active"&&l.jsx(_e,{size:"sm",variant:"destructive",onClick:()=>d(v.id),children:"Cancelar"}),l.jsx(_e,{size:"sm",variant:"outline",onClick:()=>f(v.id,v.clientName),children:"Descargar"})]})]},v.id))})]})}function zUe(){return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:" Documentos"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Gestiona recibos de pago, documentacin de proteccin de datos, domiciliaciones bancarias y otros documentos"})]})}),l.jsxs(Al,{defaultValue:"documents",className:"w-full",children:[l.jsxs(Xo,{className:"grid w-full grid-cols-5",children:[l.jsx(Pn,{value:"documents",children:"Todos"}),l.jsx(Pn,{value:"receipts",children:" Recibos"}),l.jsx(Pn,{value:"protection",children:" Proteccin"}),l.jsx(Pn,{value:"banking",children:" Domiciliacin"}),l.jsx(Pn,{value:"upload",children:" Subir"})]}),l.jsx(cr,{value:"documents",className:"mt-6",children:l.jsx(DUe,{})}),l.jsx(cr,{value:"receipts",className:"mt-6",children:l.jsx(FUe,{})}),l.jsx(cr,{value:"protection",className:"mt-6",children:l.jsx(BUe,{})}),l.jsx(cr,{value:"banking",className:"mt-6",children:l.jsx($Ue,{})}),l.jsx(cr,{value:"upload",className:"mt-6",children:l.jsx(LUe,{})})]})]})}function qUe(){const{connected:t,onlineUsers:e}=RK();return l.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:t?l.jsxs(l.Fragment,{children:[l.jsx(rce,{className:"h-4 w-4 text-green-500"}),l.jsxs("span",{className:"hidden sm:inline",children:["Conectado (",e,")"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(nce,{className:"h-4 w-4 text-red-500"}),l.jsx("span",{className:"hidden sm:inline",children:"Desconectado"})]})})}function UUe(){return l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function HUe(){const{user:t,isLoading:e}=Nm();if(e)return l.jsx(UUe,{});const[n]=mN("/public/budgets/:code/accept");if(n)return l.jsx(CUe,{});if(!t)return l.jsxs(eL,{children:[l.jsx(ni,{path:"/",component:i6}),l.jsx(ni,{path:"/:rest*",children:l.jsx(v1,{to:"/"})})]});const r={"--sidebar-width":"20rem","--sidebar-width-icon":"4rem"};return l.jsx(Fhe,{style:r,children:l.jsxs("div",{className:"flex h-screen w-full",children:[l.jsx(ipe,{}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[l.jsx($he,{"data-testid":"button-sidebar-toggle"}),l.jsx("div",{className:"flex-1 max-w-xl mx-4",children:l.jsx(Mpe,{})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Rpe,{}),l.jsx(qUe,{}),l.jsx(spe,{})]})]}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsxs(eL,{children:[l.jsx(ni,{path:"/",component:Dke}),l.jsx(ni,{path:"/auth",component:i6}),l.jsx(ni,{path:"/clientes",component:uTe}),l.jsx(ni,{path:"/tareas",component:W4e}),l.jsx(ni,{path:"/manuales",component:K4e}),l.jsx(ni,{path:"/manuales/nuevo",component:tV}),l.jsx(ni,{path:"/manuales/:id/editar",component:tV}),l.jsx(ni,{path:"/manuales/:id",component:uLe}),l.jsx(ni,{path:"/impuestos",children:l.jsx(v1,{to:"/impuestos/control"})}),l.jsx(ni,{path:"/impuestos/control",component:G4e}),l.jsx(ni,{path:"/impuestos/calendario",component:Z4e}),l.jsx(ni,{path:"/impuestos/reportes",component:sIe}),l.jsx(ni,{path:"/notificaciones",component:mUe}),l.jsx(ni,{path:"/documentacion/presupuestos",component:LT}),l.jsx(ni,{path:"/documentacion/presupuestos/parametros",component:LT}),l.jsx(ni,{path:"/documentacion/presupuestos/plantillas",component:LT}),l.jsx(ni,{path:"/documentacion/documentos",component:zUe}),l.jsx(ni,{path:"/documentacion/presupuestos/nuevo",component:_Ue}),l.jsx(ni,{path:"/documentacion/presupuestos/:id/editar",component:EUe}),l.jsx(ni,{path:"/documentacion/presupuestos/:id/ver",component:iV}),l.jsx(ni,{path:"/documentacion/presupuestos/:id",component:iV}),l.jsx(ni,{path:"/admin",component:()=>t?.roleName==="Administrador"?l.jsx(nV,{}):l.jsx(v1,{to:"/"})}),l.jsx(ni,{path:"/admin/:rest*",children:t?.roleName==="Administrador"?l.jsx(nV,{}):l.jsx(v1,{to:"/"})}),l.jsx(ni,{path:"/auditoria",component:pUe}),l.jsx(ni,{component:Dpe})]})})]})]})})}function VUe(){return S.useEffect(()=>{document.cookie.split("; ").find(e=>e.startsWith("sidebar_state="))||(document.cookie="sidebar_state=true; path=/; max-age=604800")},[]),l.jsx(loe,{client:rn,children:l.jsxs(mK,{children:[l.jsx(Cde,{defaultTheme:"light",children:l.jsx(kde,{children:l.jsx(Sfe,{children:l.jsx(HUe,{})})})}),l.jsx(Bce,{})]})})}xae.createRoot(document.getElementById("root")).render(l.jsx(VUe,{}));export{Gr as _,m1 as c,Pr as g};
